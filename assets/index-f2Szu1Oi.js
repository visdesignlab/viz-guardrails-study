var nue=Object.defineProperty;var rue=(e,t,n)=>t in e?nue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Gs=(e,t,n)=>(rue(e,typeof t!="symbol"?t+"":t,n),n);function iue(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var io=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function sue(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var O7={exports:{}},sS={},P7={exports:{}},Xt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h_=Symbol.for("react.element"),oue=Symbol.for("react.portal"),aue=Symbol.for("react.fragment"),uue=Symbol.for("react.strict_mode"),lue=Symbol.for("react.profiler"),cue=Symbol.for("react.provider"),fue=Symbol.for("react.context"),due=Symbol.for("react.forward_ref"),hue=Symbol.for("react.suspense"),pue=Symbol.for("react.memo"),mue=Symbol.for("react.lazy"),aL=Symbol.iterator;function gue(e){return e===null||typeof e!="object"?null:(e=aL&&e[aL]||e["@@iterator"],typeof e=="function"?e:null)}var R7={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N7=Object.assign,k7={};function Cm(e,t,n){this.props=e,this.context=t,this.refs=k7,this.updater=n||R7}Cm.prototype.isReactComponent={};Cm.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Cm.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function D7(){}D7.prototype=Cm.prototype;function WR(e,t,n){this.props=e,this.context=t,this.refs=k7,this.updater=n||R7}var qR=WR.prototype=new D7;qR.constructor=WR;N7(qR,Cm.prototype);qR.isPureReactComponent=!0;var uL=Array.isArray,$7=Object.prototype.hasOwnProperty,YR={current:null},L7={key:!0,ref:!0,__self:!0,__source:!0};function M7(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)$7.call(t,r)&&!L7.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+2];i.children=u}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:h_,type:e,key:s,ref:o,props:i,_owner:YR.current}}function yue(e,t){return{$$typeof:h_,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function GR(e){return typeof e=="object"&&e!==null&&e.$$typeof===h_}function _ue(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var lL=/\/+/g;function zx(e,t){return typeof e=="object"&&e!==null&&e.key!=null?_ue(""+e.key):t.toString(36)}function L1(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case h_:case oue:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+zx(o,0):r,uL(i)?(n="",e!=null&&(n=e.replace(lL,"$&/")+"/"),L1(i,t,n,"",function(l){return l})):i!=null&&(GR(i)&&(i=yue(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(lL,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",uL(e))for(var a=0;a<e.length;a++){s=e[a];var u=r+zx(s,a);o+=L1(s,t,n,u,i)}else if(u=gue(e),typeof u=="function")for(e=u.call(e),a=0;!(s=e.next()).done;)s=s.value,u=r+zx(s,a++),o+=L1(s,t,n,u,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function bv(e,t,n){if(e==null)return e;var r=[],i=0;return L1(e,r,"","",function(s){return t.call(n,s,i++)}),r}function vue(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ds={current:null},M1={transition:null},bue={ReactCurrentDispatcher:ds,ReactCurrentBatchConfig:M1,ReactCurrentOwner:YR};Xt.Children={map:bv,forEach:function(e,t,n){bv(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return bv(e,function(){t++}),t},toArray:function(e){return bv(e,function(t){return t})||[]},only:function(e){if(!GR(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Xt.Component=Cm;Xt.Fragment=aue;Xt.Profiler=lue;Xt.PureComponent=WR;Xt.StrictMode=uue;Xt.Suspense=hue;Xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bue;Xt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=N7({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=YR.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)$7.call(t,u)&&!L7.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var l=0;l<u;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:h_,type:e.type,key:i,ref:s,props:r,_owner:o}};Xt.createContext=function(e){return e={$$typeof:fue,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:cue,_context:e},e.Consumer=e};Xt.createElement=M7;Xt.createFactory=function(e){var t=M7.bind(null,e);return t.type=e,t};Xt.createRef=function(){return{current:null}};Xt.forwardRef=function(e){return{$$typeof:due,render:e}};Xt.isValidElement=GR;Xt.lazy=function(e){return{$$typeof:mue,_payload:{_status:-1,_result:e},_init:vue}};Xt.memo=function(e,t){return{$$typeof:pue,type:e,compare:t===void 0?null:t}};Xt.startTransition=function(e){var t=M1.transition;M1.transition={};try{e()}finally{M1.transition=t}};Xt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Xt.useCallback=function(e,t){return ds.current.useCallback(e,t)};Xt.useContext=function(e){return ds.current.useContext(e)};Xt.useDebugValue=function(){};Xt.useDeferredValue=function(e){return ds.current.useDeferredValue(e)};Xt.useEffect=function(e,t){return ds.current.useEffect(e,t)};Xt.useId=function(){return ds.current.useId()};Xt.useImperativeHandle=function(e,t,n){return ds.current.useImperativeHandle(e,t,n)};Xt.useInsertionEffect=function(e,t){return ds.current.useInsertionEffect(e,t)};Xt.useLayoutEffect=function(e,t){return ds.current.useLayoutEffect(e,t)};Xt.useMemo=function(e,t){return ds.current.useMemo(e,t)};Xt.useReducer=function(e,t,n){return ds.current.useReducer(e,t,n)};Xt.useRef=function(e){return ds.current.useRef(e)};Xt.useState=function(e){return ds.current.useState(e)};Xt.useSyncExternalStore=function(e,t,n){return ds.current.useSyncExternalStore(e,t,n)};Xt.useTransition=function(){return ds.current.useTransition()};Xt.version="18.2.0";P7.exports=Xt;var w=P7.exports;const k=Pa(w),Id=iue({__proto__:null,default:k},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eue=w,wue=Symbol.for("react.element"),Tue=Symbol.for("react.fragment"),Sue=Object.prototype.hasOwnProperty,Iue=Eue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xue={key:!0,ref:!0,__self:!0,__source:!0};function F7(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Sue.call(t,r)&&!xue.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:wue,type:e,key:s,ref:o,props:i,_owner:Iue.current}}sS.Fragment=Tue;sS.jsx=F7;sS.jsxs=F7;O7.exports=sS;var $=O7.exports,TO={},B7={exports:{}},vo={},j7={exports:{}},U7={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(te,oe){var J=te.length;te.push(oe);e:for(;0<J;){var x=J-1>>>1,C=te[x];if(0<i(C,oe))te[x]=oe,te[J]=C,J=x;else break e}}function n(te){return te.length===0?null:te[0]}function r(te){if(te.length===0)return null;var oe=te[0],J=te.pop();if(J!==oe){te[0]=J;e:for(var x=0,C=te.length,B=C>>>1;x<B;){var P=2*(x+1)-1,O=te[P],Y=P+1,fe=te[Y];if(0>i(O,J))Y<C&&0>i(fe,O)?(te[x]=fe,te[Y]=J,x=Y):(te[x]=O,te[P]=J,x=P);else if(Y<C&&0>i(fe,J))te[x]=fe,te[Y]=J,x=Y;else break e}}return oe}function i(te,oe){var J=te.sortIndex-oe.sortIndex;return J!==0?J:te.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var u=[],l=[],c=1,f=null,d=3,h=!1,p=!1,m=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(te){for(var oe=n(l);oe!==null;){if(oe.callback===null)r(l);else if(oe.startTime<=te)r(l),oe.sortIndex=oe.expirationTime,t(u,oe);else break;oe=n(l)}}function T(te){if(m=!1,b(te),!p)if(n(u)!==null)p=!0,ie(I);else{var oe=n(l);oe!==null&&_e(T,oe.startTime-te)}}function I(te,oe){p=!1,m&&(m=!1,g(A),A=-1),h=!0;var J=d;try{for(b(oe),f=n(u);f!==null&&(!(f.expirationTime>oe)||te&&!z());){var x=f.callback;if(typeof x=="function"){f.callback=null,d=f.priorityLevel;var C=x(f.expirationTime<=oe);oe=e.unstable_now(),typeof C=="function"?f.callback=C:f===n(u)&&r(u),b(oe)}else r(u);f=n(u)}if(f!==null)var B=!0;else{var P=n(l);P!==null&&_e(T,P.startTime-oe),B=!1}return B}finally{f=null,d=J,h=!1}}var E=!1,S=null,A=-1,L=5,W=-1;function z(){return!(e.unstable_now()-W<L)}function U(){if(S!==null){var te=e.unstable_now();W=te;var oe=!0;try{oe=S(!0,te)}finally{oe?Z():(E=!1,S=null)}}else E=!1}var Z;if(typeof _=="function")Z=function(){_(U)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,ue=H.port2;H.port1.onmessage=U,Z=function(){ue.postMessage(null)}}else Z=function(){y(U,0)};function ie(te){S=te,E||(E=!0,Z())}function _e(te,oe){A=y(function(){te(e.unstable_now())},oe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(te){te.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,ie(I))},e.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<te?Math.floor(1e3/te):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(te){switch(d){case 1:case 2:case 3:var oe=3;break;default:oe=d}var J=d;d=oe;try{return te()}finally{d=J}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(te,oe){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var J=d;d=te;try{return oe()}finally{d=J}},e.unstable_scheduleCallback=function(te,oe,J){var x=e.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?x+J:x):J=x,te){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=J+C,te={id:c++,callback:oe,priorityLevel:te,startTime:J,expirationTime:C,sortIndex:-1},J>x?(te.sortIndex=J,t(l,te),n(u)===null&&te===n(l)&&(m?(g(A),A=-1):m=!0,_e(T,J-x))):(te.sortIndex=C,t(u,te),p||h||(p=!0,ie(I))),te},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(te){var oe=d;return function(){var J=d;d=oe;try{return te.apply(this,arguments)}finally{d=J}}}})(U7);j7.exports=U7;var Cue=j7.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V7=w,ho=Cue;function Re(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var z7=new Set,ey={};function Gd(e,t){Bp(e,t),Bp(e+"Capture",t)}function Bp(e,t){for(ey[e]=t,e=0;e<t.length;e++)z7.add(t[e])}var _l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),SO=Object.prototype.hasOwnProperty,Aue=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cL={},fL={};function Oue(e){return SO.call(fL,e)?!0:SO.call(cL,e)?!1:Aue.test(e)?fL[e]=!0:(cL[e]=!0,!1)}function Pue(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Rue(e,t,n,r){if(t===null||typeof t>"u"||Pue(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function hs(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var $i={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){$i[e]=new hs(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];$i[t]=new hs(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){$i[e]=new hs(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){$i[e]=new hs(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){$i[e]=new hs(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){$i[e]=new hs(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){$i[e]=new hs(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){$i[e]=new hs(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){$i[e]=new hs(e,5,!1,e.toLowerCase(),null,!1,!1)});var KR=/[\-:]([a-z])/g;function QR(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(KR,QR);$i[t]=new hs(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(KR,QR);$i[t]=new hs(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(KR,QR);$i[t]=new hs(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){$i[e]=new hs(e,1,!1,e.toLowerCase(),null,!1,!1)});$i.xlinkHref=new hs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){$i[e]=new hs(e,1,!1,e.toLowerCase(),null,!0,!0)});function XR(e,t,n,r){var i=$i.hasOwnProperty(t)?$i[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Rue(t,n,i,r)&&(n=null),r||i===null?Oue(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Bl=V7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ev=Symbol.for("react.element"),Fh=Symbol.for("react.portal"),Bh=Symbol.for("react.fragment"),JR=Symbol.for("react.strict_mode"),IO=Symbol.for("react.profiler"),H7=Symbol.for("react.provider"),W7=Symbol.for("react.context"),ZR=Symbol.for("react.forward_ref"),xO=Symbol.for("react.suspense"),CO=Symbol.for("react.suspense_list"),eN=Symbol.for("react.memo"),oc=Symbol.for("react.lazy"),q7=Symbol.for("react.offscreen"),dL=Symbol.iterator;function m0(e){return e===null||typeof e!="object"?null:(e=dL&&e[dL]||e["@@iterator"],typeof e=="function"?e:null)}var yr=Object.assign,Hx;function Q0(e){if(Hx===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Hx=t&&t[1]||""}return`
`+Hx+e}var Wx=!1;function qx(e,t){if(!e||Wx)return"";Wx=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=a);break}}}finally{Wx=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Q0(e):""}function Nue(e){switch(e.tag){case 5:return Q0(e.type);case 16:return Q0("Lazy");case 13:return Q0("Suspense");case 19:return Q0("SuspenseList");case 0:case 2:case 15:return e=qx(e.type,!1),e;case 11:return e=qx(e.type.render,!1),e;case 1:return e=qx(e.type,!0),e;default:return""}}function AO(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Bh:return"Fragment";case Fh:return"Portal";case IO:return"Profiler";case JR:return"StrictMode";case xO:return"Suspense";case CO:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case W7:return(e.displayName||"Context")+".Consumer";case H7:return(e._context.displayName||"Context")+".Provider";case ZR:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case eN:return t=e.displayName||null,t!==null?t:AO(e.type)||"Memo";case oc:t=e._payload,e=e._init;try{return AO(e(t))}catch{}}return null}function kue(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return AO(t);case 8:return t===JR?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Kc(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Y7(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Due(e){var t=Y7(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function wv(e){e._valueTracker||(e._valueTracker=Due(e))}function G7(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Y7(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Cb(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function OO(e,t){var n=t.checked;return yr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function hL(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Kc(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function K7(e,t){t=t.checked,t!=null&&XR(e,"checked",t,!1)}function PO(e,t){K7(e,t);var n=Kc(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?RO(e,t.type,n):t.hasOwnProperty("defaultValue")&&RO(e,t.type,Kc(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function pL(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function RO(e,t,n){(t!=="number"||Cb(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var X0=Array.isArray;function lp(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Kc(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function NO(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Re(91));return yr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function mL(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Re(92));if(X0(n)){if(1<n.length)throw Error(Re(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Kc(n)}}function Q7(e,t){var n=Kc(t.value),r=Kc(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function gL(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function X7(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kO(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?X7(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Tv,J7=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Tv=Tv||document.createElement("div"),Tv.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Tv.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ty(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var gg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$ue=["Webkit","ms","Moz","O"];Object.keys(gg).forEach(function(e){$ue.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),gg[t]=gg[e]})});function Z7(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||gg.hasOwnProperty(e)&&gg[e]?(""+t).trim():t+"px"}function ez(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Z7(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Lue=yr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function DO(e,t){if(t){if(Lue[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Re(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Re(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Re(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Re(62))}}function $O(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var LO=null;function tN(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var MO=null,cp=null,fp=null;function yL(e){if(e=g_(e)){if(typeof MO!="function")throw Error(Re(280));var t=e.stateNode;t&&(t=cS(t),MO(e.stateNode,e.type,t))}}function tz(e){cp?fp?fp.push(e):fp=[e]:cp=e}function nz(){if(cp){var e=cp,t=fp;if(fp=cp=null,yL(e),t)for(e=0;e<t.length;e++)yL(t[e])}}function rz(e,t){return e(t)}function iz(){}var Yx=!1;function sz(e,t,n){if(Yx)return e(t,n);Yx=!0;try{return rz(e,t,n)}finally{Yx=!1,(cp!==null||fp!==null)&&(iz(),nz())}}function ny(e,t){var n=e.stateNode;if(n===null)return null;var r=cS(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Re(231,t,typeof n));return n}var FO=!1;if(_l)try{var g0={};Object.defineProperty(g0,"passive",{get:function(){FO=!0}}),window.addEventListener("test",g0,g0),window.removeEventListener("test",g0,g0)}catch{FO=!1}function Mue(e,t,n,r,i,s,o,a,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var yg=!1,Ab=null,Ob=!1,BO=null,Fue={onError:function(e){yg=!0,Ab=e}};function Bue(e,t,n,r,i,s,o,a,u){yg=!1,Ab=null,Mue.apply(Fue,arguments)}function jue(e,t,n,r,i,s,o,a,u){if(Bue.apply(this,arguments),yg){if(yg){var l=Ab;yg=!1,Ab=null}else throw Error(Re(198));Ob||(Ob=!0,BO=l)}}function Kd(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function oz(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _L(e){if(Kd(e)!==e)throw Error(Re(188))}function Uue(e){var t=e.alternate;if(!t){if(t=Kd(e),t===null)throw Error(Re(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return _L(i),e;if(s===r)return _L(i),t;s=s.sibling}throw Error(Re(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Re(189))}}if(n.alternate!==r)throw Error(Re(190))}if(n.tag!==3)throw Error(Re(188));return n.stateNode.current===n?e:t}function az(e){return e=Uue(e),e!==null?uz(e):null}function uz(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=uz(e);if(t!==null)return t;e=e.sibling}return null}var lz=ho.unstable_scheduleCallback,vL=ho.unstable_cancelCallback,Vue=ho.unstable_shouldYield,zue=ho.unstable_requestPaint,kr=ho.unstable_now,Hue=ho.unstable_getCurrentPriorityLevel,nN=ho.unstable_ImmediatePriority,cz=ho.unstable_UserBlockingPriority,Pb=ho.unstable_NormalPriority,Wue=ho.unstable_LowPriority,fz=ho.unstable_IdlePriority,oS=null,cu=null;function que(e){if(cu&&typeof cu.onCommitFiberRoot=="function")try{cu.onCommitFiberRoot(oS,e,void 0,(e.current.flags&128)===128)}catch{}}var ba=Math.clz32?Math.clz32:Kue,Yue=Math.log,Gue=Math.LN2;function Kue(e){return e>>>=0,e===0?32:31-(Yue(e)/Gue|0)|0}var Sv=64,Iv=4194304;function J0(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Rb(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=J0(a):(s&=o,s!==0&&(r=J0(s)))}else o=n&~i,o!==0?r=J0(o):s!==0&&(r=J0(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ba(t),i=1<<n,r|=e[n],t&=~i;return r}function Que(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xue(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ba(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=Que(a,t)):u<=t&&(e.expiredLanes|=a),s&=~a}}function jO(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function dz(){var e=Sv;return Sv<<=1,!(Sv&4194240)&&(Sv=64),e}function Gx(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function p_(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ba(t),e[t]=n}function Jue(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ba(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function rN(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ba(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Rn=0;function hz(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var pz,iN,mz,gz,yz,UO=!1,xv=[],Cc=null,Ac=null,Oc=null,ry=new Map,iy=new Map,dc=[],Zue="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bL(e,t){switch(e){case"focusin":case"focusout":Cc=null;break;case"dragenter":case"dragleave":Ac=null;break;case"mouseover":case"mouseout":Oc=null;break;case"pointerover":case"pointerout":ry.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":iy.delete(t.pointerId)}}function y0(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=g_(t),t!==null&&iN(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function ele(e,t,n,r,i){switch(t){case"focusin":return Cc=y0(Cc,e,t,n,r,i),!0;case"dragenter":return Ac=y0(Ac,e,t,n,r,i),!0;case"mouseover":return Oc=y0(Oc,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return ry.set(s,y0(ry.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,iy.set(s,y0(iy.get(s)||null,e,t,n,r,i)),!0}return!1}function _z(e){var t=Qf(e.target);if(t!==null){var n=Kd(t);if(n!==null){if(t=n.tag,t===13){if(t=oz(n),t!==null){e.blockedOn=t,yz(e.priority,function(){mz(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function F1(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=VO(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);LO=r,n.target.dispatchEvent(r),LO=null}else return t=g_(n),t!==null&&iN(t),e.blockedOn=n,!1;t.shift()}return!0}function EL(e,t,n){F1(e)&&n.delete(t)}function tle(){UO=!1,Cc!==null&&F1(Cc)&&(Cc=null),Ac!==null&&F1(Ac)&&(Ac=null),Oc!==null&&F1(Oc)&&(Oc=null),ry.forEach(EL),iy.forEach(EL)}function _0(e,t){e.blockedOn===t&&(e.blockedOn=null,UO||(UO=!0,ho.unstable_scheduleCallback(ho.unstable_NormalPriority,tle)))}function sy(e){function t(i){return _0(i,e)}if(0<xv.length){_0(xv[0],e);for(var n=1;n<xv.length;n++){var r=xv[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Cc!==null&&_0(Cc,e),Ac!==null&&_0(Ac,e),Oc!==null&&_0(Oc,e),ry.forEach(t),iy.forEach(t),n=0;n<dc.length;n++)r=dc[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<dc.length&&(n=dc[0],n.blockedOn===null);)_z(n),n.blockedOn===null&&dc.shift()}var dp=Bl.ReactCurrentBatchConfig,Nb=!0;function nle(e,t,n,r){var i=Rn,s=dp.transition;dp.transition=null;try{Rn=1,sN(e,t,n,r)}finally{Rn=i,dp.transition=s}}function rle(e,t,n,r){var i=Rn,s=dp.transition;dp.transition=null;try{Rn=4,sN(e,t,n,r)}finally{Rn=i,dp.transition=s}}function sN(e,t,n,r){if(Nb){var i=VO(e,t,n,r);if(i===null)iC(e,t,r,kb,n),bL(e,r);else if(ele(i,e,t,n,r))r.stopPropagation();else if(bL(e,r),t&4&&-1<Zue.indexOf(e)){for(;i!==null;){var s=g_(i);if(s!==null&&pz(s),s=VO(e,t,n,r),s===null&&iC(e,t,r,kb,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else iC(e,t,r,null,n)}}var kb=null;function VO(e,t,n,r){if(kb=null,e=tN(r),e=Qf(e),e!==null)if(t=Kd(e),t===null)e=null;else if(n=t.tag,n===13){if(e=oz(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return kb=e,null}function vz(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hue()){case nN:return 1;case cz:return 4;case Pb:case Wue:return 16;case fz:return 536870912;default:return 16}default:return 16}}var Ec=null,oN=null,B1=null;function bz(){if(B1)return B1;var e,t=oN,n=t.length,r,i="value"in Ec?Ec.value:Ec.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return B1=i.slice(e,1<r?1-r:void 0)}function j1(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Cv(){return!0}function wL(){return!1}function bo(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Cv:wL,this.isPropagationStopped=wL,this}return yr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Cv)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Cv)},persist:function(){},isPersistent:Cv}),t}var Am={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},aN=bo(Am),m_=yr({},Am,{view:0,detail:0}),ile=bo(m_),Kx,Qx,v0,aS=yr({},m_,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uN,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==v0&&(v0&&e.type==="mousemove"?(Kx=e.screenX-v0.screenX,Qx=e.screenY-v0.screenY):Qx=Kx=0,v0=e),Kx)},movementY:function(e){return"movementY"in e?e.movementY:Qx}}),TL=bo(aS),sle=yr({},aS,{dataTransfer:0}),ole=bo(sle),ale=yr({},m_,{relatedTarget:0}),Xx=bo(ale),ule=yr({},Am,{animationName:0,elapsedTime:0,pseudoElement:0}),lle=bo(ule),cle=yr({},Am,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fle=bo(cle),dle=yr({},Am,{data:0}),SL=bo(dle),hle={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ple={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mle={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gle(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=mle[e])?!!t[e]:!1}function uN(){return gle}var yle=yr({},m_,{key:function(e){if(e.key){var t=hle[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=j1(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ple[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uN,charCode:function(e){return e.type==="keypress"?j1(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?j1(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_le=bo(yle),vle=yr({},aS,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),IL=bo(vle),ble=yr({},m_,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uN}),Ele=bo(ble),wle=yr({},Am,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tle=bo(wle),Sle=yr({},aS,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ile=bo(Sle),xle=[9,13,27,32],lN=_l&&"CompositionEvent"in window,_g=null;_l&&"documentMode"in document&&(_g=document.documentMode);var Cle=_l&&"TextEvent"in window&&!_g,Ez=_l&&(!lN||_g&&8<_g&&11>=_g),xL=" ",CL=!1;function wz(e,t){switch(e){case"keyup":return xle.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tz(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var jh=!1;function Ale(e,t){switch(e){case"compositionend":return Tz(t);case"keypress":return t.which!==32?null:(CL=!0,xL);case"textInput":return e=t.data,e===xL&&CL?null:e;default:return null}}function Ole(e,t){if(jh)return e==="compositionend"||!lN&&wz(e,t)?(e=bz(),B1=oN=Ec=null,jh=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ez&&t.locale!=="ko"?null:t.data;default:return null}}var Ple={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function AL(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ple[e.type]:t==="textarea"}function Sz(e,t,n,r){tz(r),t=Db(t,"onChange"),0<t.length&&(n=new aN("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var vg=null,oy=null;function Rle(e){$z(e,0)}function uS(e){var t=zh(e);if(G7(t))return e}function Nle(e,t){if(e==="change")return t}var Iz=!1;if(_l){var Jx;if(_l){var Zx="oninput"in document;if(!Zx){var OL=document.createElement("div");OL.setAttribute("oninput","return;"),Zx=typeof OL.oninput=="function"}Jx=Zx}else Jx=!1;Iz=Jx&&(!document.documentMode||9<document.documentMode)}function PL(){vg&&(vg.detachEvent("onpropertychange",xz),oy=vg=null)}function xz(e){if(e.propertyName==="value"&&uS(oy)){var t=[];Sz(t,oy,e,tN(e)),sz(Rle,t)}}function kle(e,t,n){e==="focusin"?(PL(),vg=t,oy=n,vg.attachEvent("onpropertychange",xz)):e==="focusout"&&PL()}function Dle(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return uS(oy)}function $le(e,t){if(e==="click")return uS(t)}function Lle(e,t){if(e==="input"||e==="change")return uS(t)}function Mle(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ia=typeof Object.is=="function"?Object.is:Mle;function ay(e,t){if(Ia(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!SO.call(t,i)||!Ia(e[i],t[i]))return!1}return!0}function RL(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function NL(e,t){var n=RL(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=RL(n)}}function Cz(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Cz(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Az(){for(var e=window,t=Cb();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Cb(e.document)}return t}function cN(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Fle(e){var t=Az(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Cz(n.ownerDocument.documentElement,n)){if(r!==null&&cN(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=NL(n,s);var o=NL(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ble=_l&&"documentMode"in document&&11>=document.documentMode,Uh=null,zO=null,bg=null,HO=!1;function kL(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;HO||Uh==null||Uh!==Cb(r)||(r=Uh,"selectionStart"in r&&cN(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),bg&&ay(bg,r)||(bg=r,r=Db(zO,"onSelect"),0<r.length&&(t=new aN("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Uh)))}function Av(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Vh={animationend:Av("Animation","AnimationEnd"),animationiteration:Av("Animation","AnimationIteration"),animationstart:Av("Animation","AnimationStart"),transitionend:Av("Transition","TransitionEnd")},eC={},Oz={};_l&&(Oz=document.createElement("div").style,"AnimationEvent"in window||(delete Vh.animationend.animation,delete Vh.animationiteration.animation,delete Vh.animationstart.animation),"TransitionEvent"in window||delete Vh.transitionend.transition);function lS(e){if(eC[e])return eC[e];if(!Vh[e])return e;var t=Vh[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Oz)return eC[e]=t[n];return e}var Pz=lS("animationend"),Rz=lS("animationiteration"),Nz=lS("animationstart"),kz=lS("transitionend"),Dz=new Map,DL="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gf(e,t){Dz.set(e,t),Gd(t,[e])}for(var tC=0;tC<DL.length;tC++){var nC=DL[tC],jle=nC.toLowerCase(),Ule=nC[0].toUpperCase()+nC.slice(1);gf(jle,"on"+Ule)}gf(Pz,"onAnimationEnd");gf(Rz,"onAnimationIteration");gf(Nz,"onAnimationStart");gf("dblclick","onDoubleClick");gf("focusin","onFocus");gf("focusout","onBlur");gf(kz,"onTransitionEnd");Bp("onMouseEnter",["mouseout","mouseover"]);Bp("onMouseLeave",["mouseout","mouseover"]);Bp("onPointerEnter",["pointerout","pointerover"]);Bp("onPointerLeave",["pointerout","pointerover"]);Gd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Gd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Gd("onBeforeInput",["compositionend","keypress","textInput","paste"]);Gd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Gd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Gd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Z0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vle=new Set("cancel close invalid load scroll toggle".split(" ").concat(Z0));function $L(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,jue(r,t,void 0,e),e.currentTarget=null}function $z(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,l=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;$L(i,a,l),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,l=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;$L(i,a,l),s=u}}}if(Ob)throw e=BO,Ob=!1,BO=null,e}function Kn(e,t){var n=t[KO];n===void 0&&(n=t[KO]=new Set);var r=e+"__bubble";n.has(r)||(Lz(t,e,2,!1),n.add(r))}function rC(e,t,n){var r=0;t&&(r|=4),Lz(n,e,r,t)}var Ov="_reactListening"+Math.random().toString(36).slice(2);function uy(e){if(!e[Ov]){e[Ov]=!0,z7.forEach(function(n){n!=="selectionchange"&&(Vle.has(n)||rC(n,!1,e),rC(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ov]||(t[Ov]=!0,rC("selectionchange",!1,t))}}function Lz(e,t,n,r){switch(vz(t)){case 1:var i=nle;break;case 4:i=rle;break;default:i=sN}n=i.bind(null,t,n,e),i=void 0,!FO||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function iC(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Qf(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}sz(function(){var l=s,c=tN(n),f=[];e:{var d=Dz.get(e);if(d!==void 0){var h=aN,p=e;switch(e){case"keypress":if(j1(n)===0)break e;case"keydown":case"keyup":h=_le;break;case"focusin":p="focus",h=Xx;break;case"focusout":p="blur",h=Xx;break;case"beforeblur":case"afterblur":h=Xx;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=TL;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=ole;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=Ele;break;case Pz:case Rz:case Nz:h=lle;break;case kz:h=Tle;break;case"scroll":h=ile;break;case"wheel":h=Ile;break;case"copy":case"cut":case"paste":h=fle;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=IL}var m=(t&4)!==0,y=!m&&e==="scroll",g=m?d!==null?d+"Capture":null:d;m=[];for(var _=l,b;_!==null;){b=_;var T=b.stateNode;if(b.tag===5&&T!==null&&(b=T,g!==null&&(T=ny(_,g),T!=null&&m.push(ly(_,T,b)))),y)break;_=_.return}0<m.length&&(d=new h(d,p,null,n,c),f.push({event:d,listeners:m}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",d&&n!==LO&&(p=n.relatedTarget||n.fromElement)&&(Qf(p)||p[vl]))break e;if((h||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=l,p=p?Qf(p):null,p!==null&&(y=Kd(p),p!==y||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=l),h!==p)){if(m=TL,T="onMouseLeave",g="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(m=IL,T="onPointerLeave",g="onPointerEnter",_="pointer"),y=h==null?d:zh(h),b=p==null?d:zh(p),d=new m(T,_+"leave",h,n,c),d.target=y,d.relatedTarget=b,T=null,Qf(c)===l&&(m=new m(g,_+"enter",p,n,c),m.target=b,m.relatedTarget=y,T=m),y=T,h&&p)t:{for(m=h,g=p,_=0,b=m;b;b=gh(b))_++;for(b=0,T=g;T;T=gh(T))b++;for(;0<_-b;)m=gh(m),_--;for(;0<b-_;)g=gh(g),b--;for(;_--;){if(m===g||g!==null&&m===g.alternate)break t;m=gh(m),g=gh(g)}m=null}else m=null;h!==null&&LL(f,d,h,m,!1),p!==null&&y!==null&&LL(f,y,p,m,!0)}}e:{if(d=l?zh(l):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var I=Nle;else if(AL(d))if(Iz)I=Lle;else{I=Dle;var E=kle}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(I=$le);if(I&&(I=I(e,l))){Sz(f,I,n,c);break e}E&&E(e,d,l),e==="focusout"&&(E=d._wrapperState)&&E.controlled&&d.type==="number"&&RO(d,"number",d.value)}switch(E=l?zh(l):window,e){case"focusin":(AL(E)||E.contentEditable==="true")&&(Uh=E,zO=l,bg=null);break;case"focusout":bg=zO=Uh=null;break;case"mousedown":HO=!0;break;case"contextmenu":case"mouseup":case"dragend":HO=!1,kL(f,n,c);break;case"selectionchange":if(Ble)break;case"keydown":case"keyup":kL(f,n,c)}var S;if(lN)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else jh?wz(e,n)&&(A="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(Ez&&n.locale!=="ko"&&(jh||A!=="onCompositionStart"?A==="onCompositionEnd"&&jh&&(S=bz()):(Ec=c,oN="value"in Ec?Ec.value:Ec.textContent,jh=!0)),E=Db(l,A),0<E.length&&(A=new SL(A,e,null,n,c),f.push({event:A,listeners:E}),S?A.data=S:(S=Tz(n),S!==null&&(A.data=S)))),(S=Cle?Ale(e,n):Ole(e,n))&&(l=Db(l,"onBeforeInput"),0<l.length&&(c=new SL("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:l}),c.data=S))}$z(f,t)})}function ly(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Db(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ny(e,n),s!=null&&r.unshift(ly(e,s,i)),s=ny(e,t),s!=null&&r.push(ly(e,s,i))),e=e.return}return r}function gh(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function LL(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,l=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&l!==null&&(a=l,i?(u=ny(n,s),u!=null&&o.unshift(ly(n,u,a))):i||(u=ny(n,s),u!=null&&o.push(ly(n,u,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var zle=/\r\n?/g,Hle=/\u0000|\uFFFD/g;function ML(e){return(typeof e=="string"?e:""+e).replace(zle,`
`).replace(Hle,"")}function Pv(e,t,n){if(t=ML(t),ML(e)!==t&&n)throw Error(Re(425))}function $b(){}var WO=null,qO=null;function YO(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var GO=typeof setTimeout=="function"?setTimeout:void 0,Wle=typeof clearTimeout=="function"?clearTimeout:void 0,FL=typeof Promise=="function"?Promise:void 0,qle=typeof queueMicrotask=="function"?queueMicrotask:typeof FL<"u"?function(e){return FL.resolve(null).then(e).catch(Yle)}:GO;function Yle(e){setTimeout(function(){throw e})}function sC(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),sy(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);sy(t)}function Pc(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function BL(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Om=Math.random().toString(36).slice(2),Ga="__reactFiber$"+Om,cy="__reactProps$"+Om,vl="__reactContainer$"+Om,KO="__reactEvents$"+Om,Gle="__reactListeners$"+Om,Kle="__reactHandles$"+Om;function Qf(e){var t=e[Ga];if(t)return t;for(var n=e.parentNode;n;){if(t=n[vl]||n[Ga]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=BL(e);e!==null;){if(n=e[Ga])return n;e=BL(e)}return t}e=n,n=e.parentNode}return null}function g_(e){return e=e[Ga]||e[vl],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function zh(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Re(33))}function cS(e){return e[cy]||null}var QO=[],Hh=-1;function yf(e){return{current:e}}function Zn(e){0>Hh||(e.current=QO[Hh],QO[Hh]=null,Hh--)}function qn(e,t){Hh++,QO[Hh]=e.current,e.current=t}var Qc={},Qi=yf(Qc),Ls=yf(!1),xd=Qc;function jp(e,t){var n=e.type.contextTypes;if(!n)return Qc;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ms(e){return e=e.childContextTypes,e!=null}function Lb(){Zn(Ls),Zn(Qi)}function jL(e,t,n){if(Qi.current!==Qc)throw Error(Re(168));qn(Qi,t),qn(Ls,n)}function Mz(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Re(108,kue(e)||"Unknown",i));return yr({},n,r)}function Mb(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Qc,xd=Qi.current,qn(Qi,e),qn(Ls,Ls.current),!0}function UL(e,t,n){var r=e.stateNode;if(!r)throw Error(Re(169));n?(e=Mz(e,t,xd),r.__reactInternalMemoizedMergedChildContext=e,Zn(Ls),Zn(Qi),qn(Qi,e)):Zn(Ls),qn(Ls,n)}var Wu=null,fS=!1,oC=!1;function Fz(e){Wu===null?Wu=[e]:Wu.push(e)}function Qle(e){fS=!0,Fz(e)}function _f(){if(!oC&&Wu!==null){oC=!0;var e=0,t=Rn;try{var n=Wu;for(Rn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Wu=null,fS=!1}catch(i){throw Wu!==null&&(Wu=Wu.slice(e+1)),lz(nN,_f),i}finally{Rn=t,oC=!1}}return null}var Wh=[],qh=0,Fb=null,Bb=0,Po=[],Ro=0,Cd=null,Ju=1,Zu="";function Df(e,t){Wh[qh++]=Bb,Wh[qh++]=Fb,Fb=e,Bb=t}function Bz(e,t,n){Po[Ro++]=Ju,Po[Ro++]=Zu,Po[Ro++]=Cd,Cd=e;var r=Ju;e=Zu;var i=32-ba(r)-1;r&=~(1<<i),n+=1;var s=32-ba(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ju=1<<32-ba(t)+i|n<<i|r,Zu=s+e}else Ju=1<<s|n<<i|r,Zu=e}function fN(e){e.return!==null&&(Df(e,1),Bz(e,1,0))}function dN(e){for(;e===Fb;)Fb=Wh[--qh],Wh[qh]=null,Bb=Wh[--qh],Wh[qh]=null;for(;e===Cd;)Cd=Po[--Ro],Po[Ro]=null,Zu=Po[--Ro],Po[Ro]=null,Ju=Po[--Ro],Po[Ro]=null}var uo=null,so=null,ar=!1,da=null;function jz(e,t){var n=Bo(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function VL(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,uo=e,so=Pc(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,uo=e,so=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Cd!==null?{id:Ju,overflow:Zu}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Bo(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,uo=e,so=null,!0):!1;default:return!1}}function XO(e){return(e.mode&1)!==0&&(e.flags&128)===0}function JO(e){if(ar){var t=so;if(t){var n=t;if(!VL(e,t)){if(XO(e))throw Error(Re(418));t=Pc(n.nextSibling);var r=uo;t&&VL(e,t)?jz(r,n):(e.flags=e.flags&-4097|2,ar=!1,uo=e)}}else{if(XO(e))throw Error(Re(418));e.flags=e.flags&-4097|2,ar=!1,uo=e}}}function zL(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;uo=e}function Rv(e){if(e!==uo)return!1;if(!ar)return zL(e),ar=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!YO(e.type,e.memoizedProps)),t&&(t=so)){if(XO(e))throw Uz(),Error(Re(418));for(;t;)jz(e,t),t=Pc(t.nextSibling)}if(zL(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Re(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){so=Pc(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}so=null}}else so=uo?Pc(e.stateNode.nextSibling):null;return!0}function Uz(){for(var e=so;e;)e=Pc(e.nextSibling)}function Up(){so=uo=null,ar=!1}function hN(e){da===null?da=[e]:da.push(e)}var Xle=Bl.ReactCurrentBatchConfig;function la(e,t){if(e&&e.defaultProps){t=yr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var jb=yf(null),Ub=null,Yh=null,pN=null;function mN(){pN=Yh=Ub=null}function gN(e){var t=jb.current;Zn(jb),e._currentValue=t}function ZO(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function hp(e,t){Ub=e,pN=Yh=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ns=!0),e.firstContext=null)}function zo(e){var t=e._currentValue;if(pN!==e)if(e={context:e,memoizedValue:t,next:null},Yh===null){if(Ub===null)throw Error(Re(308));Yh=e,Ub.dependencies={lanes:0,firstContext:e}}else Yh=Yh.next=e;return t}var Xf=null;function yN(e){Xf===null?Xf=[e]:Xf.push(e)}function Vz(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,yN(t)):(n.next=i.next,i.next=n),t.interleaved=n,bl(e,r)}function bl(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ac=!1;function _N(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zz(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ul(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Rc(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,hn&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,bl(e,n)}return i=r.interleaved,i===null?(t.next=t,yN(r)):(t.next=i.next,i.next=t),r.interleaved=t,bl(e,n)}function U1(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,rN(e,n)}}function HL(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Vb(e,t,n,r){var i=e.updateQueue;ac=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,l=u.next;u.next=null,o===null?s=l:o.next=l,o=u;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=l:a.next=l,c.lastBaseUpdate=u))}if(s!==null){var f=i.baseState;o=0,c=l=u=null,a=s;do{var d=a.lane,h=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(d=t,h=n,m.tag){case 1:if(p=m.payload,typeof p=="function"){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,d=typeof p=="function"?p.call(h,f,d):p,d==null)break e;f=yr({},f,d);break e;case 2:ac=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else h={eventTime:h,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(l=c=h,u=f):c=c.next=h,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(u=f),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Od|=o,e.lanes=o,e.memoizedState=f}}function WL(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Re(191,i));i.call(r)}}}var Hz=new V7.Component().refs;function eP(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:yr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var dS={isMounted:function(e){return(e=e._reactInternals)?Kd(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ls(),i=kc(e),s=ul(r,i);s.payload=t,n!=null&&(s.callback=n),t=Rc(e,s,i),t!==null&&(Ea(t,e,i,r),U1(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ls(),i=kc(e),s=ul(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Rc(e,s,i),t!==null&&(Ea(t,e,i,r),U1(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ls(),r=kc(e),i=ul(n,r);i.tag=2,t!=null&&(i.callback=t),t=Rc(e,i,r),t!==null&&(Ea(t,e,r,n),U1(t,e,r))}};function qL(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!ay(n,r)||!ay(i,s):!0}function Wz(e,t,n){var r=!1,i=Qc,s=t.contextType;return typeof s=="object"&&s!==null?s=zo(s):(i=Ms(t)?xd:Qi.current,r=t.contextTypes,s=(r=r!=null)?jp(e,i):Qc),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=dS,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function YL(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&dS.enqueueReplaceState(t,t.state,null)}function tP(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Hz,_N(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=zo(s):(s=Ms(t)?xd:Qi.current,i.context=jp(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(eP(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&dS.enqueueReplaceState(i,i.state,null),Vb(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function b0(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Re(309));var r=n.stateNode}if(!r)throw Error(Re(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;a===Hz&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(Re(284));if(!n._owner)throw Error(Re(290,e))}return e}function Nv(e,t){throw e=Object.prototype.toString.call(t),Error(Re(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function GL(e){var t=e._init;return t(e._payload)}function qz(e){function t(g,_){if(e){var b=g.deletions;b===null?(g.deletions=[_],g.flags|=16):b.push(_)}}function n(g,_){if(!e)return null;for(;_!==null;)t(g,_),_=_.sibling;return null}function r(g,_){for(g=new Map;_!==null;)_.key!==null?g.set(_.key,_):g.set(_.index,_),_=_.sibling;return g}function i(g,_){return g=Dc(g,_),g.index=0,g.sibling=null,g}function s(g,_,b){return g.index=b,e?(b=g.alternate,b!==null?(b=b.index,b<_?(g.flags|=2,_):b):(g.flags|=2,_)):(g.flags|=1048576,_)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,_,b,T){return _===null||_.tag!==6?(_=hC(b,g.mode,T),_.return=g,_):(_=i(_,b),_.return=g,_)}function u(g,_,b,T){var I=b.type;return I===Bh?c(g,_,b.props.children,T,b.key):_!==null&&(_.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===oc&&GL(I)===_.type)?(T=i(_,b.props),T.ref=b0(g,_,b),T.return=g,T):(T=Y1(b.type,b.key,b.props,null,g.mode,T),T.ref=b0(g,_,b),T.return=g,T)}function l(g,_,b,T){return _===null||_.tag!==4||_.stateNode.containerInfo!==b.containerInfo||_.stateNode.implementation!==b.implementation?(_=pC(b,g.mode,T),_.return=g,_):(_=i(_,b.children||[]),_.return=g,_)}function c(g,_,b,T,I){return _===null||_.tag!==7?(_=md(b,g.mode,T,I),_.return=g,_):(_=i(_,b),_.return=g,_)}function f(g,_,b){if(typeof _=="string"&&_!==""||typeof _=="number")return _=hC(""+_,g.mode,b),_.return=g,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ev:return b=Y1(_.type,_.key,_.props,null,g.mode,b),b.ref=b0(g,null,_),b.return=g,b;case Fh:return _=pC(_,g.mode,b),_.return=g,_;case oc:var T=_._init;return f(g,T(_._payload),b)}if(X0(_)||m0(_))return _=md(_,g.mode,b,null),_.return=g,_;Nv(g,_)}return null}function d(g,_,b,T){var I=_!==null?_.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return I!==null?null:a(g,_,""+b,T);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ev:return b.key===I?u(g,_,b,T):null;case Fh:return b.key===I?l(g,_,b,T):null;case oc:return I=b._init,d(g,_,I(b._payload),T)}if(X0(b)||m0(b))return I!==null?null:c(g,_,b,T,null);Nv(g,b)}return null}function h(g,_,b,T,I){if(typeof T=="string"&&T!==""||typeof T=="number")return g=g.get(b)||null,a(_,g,""+T,I);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Ev:return g=g.get(T.key===null?b:T.key)||null,u(_,g,T,I);case Fh:return g=g.get(T.key===null?b:T.key)||null,l(_,g,T,I);case oc:var E=T._init;return h(g,_,b,E(T._payload),I)}if(X0(T)||m0(T))return g=g.get(b)||null,c(_,g,T,I,null);Nv(_,T)}return null}function p(g,_,b,T){for(var I=null,E=null,S=_,A=_=0,L=null;S!==null&&A<b.length;A++){S.index>A?(L=S,S=null):L=S.sibling;var W=d(g,S,b[A],T);if(W===null){S===null&&(S=L);break}e&&S&&W.alternate===null&&t(g,S),_=s(W,_,A),E===null?I=W:E.sibling=W,E=W,S=L}if(A===b.length)return n(g,S),ar&&Df(g,A),I;if(S===null){for(;A<b.length;A++)S=f(g,b[A],T),S!==null&&(_=s(S,_,A),E===null?I=S:E.sibling=S,E=S);return ar&&Df(g,A),I}for(S=r(g,S);A<b.length;A++)L=h(S,g,A,b[A],T),L!==null&&(e&&L.alternate!==null&&S.delete(L.key===null?A:L.key),_=s(L,_,A),E===null?I=L:E.sibling=L,E=L);return e&&S.forEach(function(z){return t(g,z)}),ar&&Df(g,A),I}function m(g,_,b,T){var I=m0(b);if(typeof I!="function")throw Error(Re(150));if(b=I.call(b),b==null)throw Error(Re(151));for(var E=I=null,S=_,A=_=0,L=null,W=b.next();S!==null&&!W.done;A++,W=b.next()){S.index>A?(L=S,S=null):L=S.sibling;var z=d(g,S,W.value,T);if(z===null){S===null&&(S=L);break}e&&S&&z.alternate===null&&t(g,S),_=s(z,_,A),E===null?I=z:E.sibling=z,E=z,S=L}if(W.done)return n(g,S),ar&&Df(g,A),I;if(S===null){for(;!W.done;A++,W=b.next())W=f(g,W.value,T),W!==null&&(_=s(W,_,A),E===null?I=W:E.sibling=W,E=W);return ar&&Df(g,A),I}for(S=r(g,S);!W.done;A++,W=b.next())W=h(S,g,A,W.value,T),W!==null&&(e&&W.alternate!==null&&S.delete(W.key===null?A:W.key),_=s(W,_,A),E===null?I=W:E.sibling=W,E=W);return e&&S.forEach(function(U){return t(g,U)}),ar&&Df(g,A),I}function y(g,_,b,T){if(typeof b=="object"&&b!==null&&b.type===Bh&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Ev:e:{for(var I=b.key,E=_;E!==null;){if(E.key===I){if(I=b.type,I===Bh){if(E.tag===7){n(g,E.sibling),_=i(E,b.props.children),_.return=g,g=_;break e}}else if(E.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===oc&&GL(I)===E.type){n(g,E.sibling),_=i(E,b.props),_.ref=b0(g,E,b),_.return=g,g=_;break e}n(g,E);break}else t(g,E);E=E.sibling}b.type===Bh?(_=md(b.props.children,g.mode,T,b.key),_.return=g,g=_):(T=Y1(b.type,b.key,b.props,null,g.mode,T),T.ref=b0(g,_,b),T.return=g,g=T)}return o(g);case Fh:e:{for(E=b.key;_!==null;){if(_.key===E)if(_.tag===4&&_.stateNode.containerInfo===b.containerInfo&&_.stateNode.implementation===b.implementation){n(g,_.sibling),_=i(_,b.children||[]),_.return=g,g=_;break e}else{n(g,_);break}else t(g,_);_=_.sibling}_=pC(b,g.mode,T),_.return=g,g=_}return o(g);case oc:return E=b._init,y(g,_,E(b._payload),T)}if(X0(b))return p(g,_,b,T);if(m0(b))return m(g,_,b,T);Nv(g,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,_!==null&&_.tag===6?(n(g,_.sibling),_=i(_,b),_.return=g,g=_):(n(g,_),_=hC(b,g.mode,T),_.return=g,g=_),o(g)):n(g,_)}return y}var Vp=qz(!0),Yz=qz(!1),y_={},fu=yf(y_),fy=yf(y_),dy=yf(y_);function Jf(e){if(e===y_)throw Error(Re(174));return e}function vN(e,t){switch(qn(dy,t),qn(fy,e),qn(fu,y_),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:kO(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=kO(t,e)}Zn(fu),qn(fu,t)}function zp(){Zn(fu),Zn(fy),Zn(dy)}function Gz(e){Jf(dy.current);var t=Jf(fu.current),n=kO(t,e.type);t!==n&&(qn(fy,e),qn(fu,n))}function bN(e){fy.current===e&&(Zn(fu),Zn(fy))}var mr=yf(0);function zb(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var aC=[];function EN(){for(var e=0;e<aC.length;e++)aC[e]._workInProgressVersionPrimary=null;aC.length=0}var V1=Bl.ReactCurrentDispatcher,uC=Bl.ReactCurrentBatchConfig,Ad=0,gr=null,Yr=null,li=null,Hb=!1,Eg=!1,hy=0,Jle=0;function Fi(){throw Error(Re(321))}function wN(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ia(e[n],t[n]))return!1;return!0}function TN(e,t,n,r,i,s){if(Ad=s,gr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,V1.current=e===null||e.memoizedState===null?nce:rce,e=n(r,i),Eg){s=0;do{if(Eg=!1,hy=0,25<=s)throw Error(Re(301));s+=1,li=Yr=null,t.updateQueue=null,V1.current=ice,e=n(r,i)}while(Eg)}if(V1.current=Wb,t=Yr!==null&&Yr.next!==null,Ad=0,li=Yr=gr=null,Hb=!1,t)throw Error(Re(300));return e}function SN(){var e=hy!==0;return hy=0,e}function Ba(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return li===null?gr.memoizedState=li=e:li=li.next=e,li}function Ho(){if(Yr===null){var e=gr.alternate;e=e!==null?e.memoizedState:null}else e=Yr.next;var t=li===null?gr.memoizedState:li.next;if(t!==null)li=t,Yr=e;else{if(e===null)throw Error(Re(310));Yr=e,e={memoizedState:Yr.memoizedState,baseState:Yr.baseState,baseQueue:Yr.baseQueue,queue:Yr.queue,next:null},li===null?gr.memoizedState=li=e:li=li.next=e}return li}function py(e,t){return typeof t=="function"?t(e):t}function lC(e){var t=Ho(),n=t.queue;if(n===null)throw Error(Re(311));n.lastRenderedReducer=e;var r=Yr,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,l=s;do{var c=l.lane;if((Ad&c)===c)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var f={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(a=u=f,o=r):u=u.next=f,gr.lanes|=c,Od|=c}l=l.next}while(l!==null&&l!==s);u===null?o=r:u.next=a,Ia(r,t.memoizedState)||(Ns=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,gr.lanes|=s,Od|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function cC(e){var t=Ho(),n=t.queue;if(n===null)throw Error(Re(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Ia(s,t.memoizedState)||(Ns=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Kz(){}function Qz(e,t){var n=gr,r=Ho(),i=t(),s=!Ia(r.memoizedState,i);if(s&&(r.memoizedState=i,Ns=!0),r=r.queue,IN(Zz.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||li!==null&&li.memoizedState.tag&1){if(n.flags|=2048,my(9,Jz.bind(null,n,r,i,t),void 0,null),di===null)throw Error(Re(349));Ad&30||Xz(n,t,i)}return i}function Xz(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=gr.updateQueue,t===null?(t={lastEffect:null,stores:null},gr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Jz(e,t,n,r){t.value=n,t.getSnapshot=r,eH(t)&&tH(e)}function Zz(e,t,n){return n(function(){eH(t)&&tH(e)})}function eH(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ia(e,n)}catch{return!0}}function tH(e){var t=bl(e,1);t!==null&&Ea(t,e,1,-1)}function KL(e){var t=Ba();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:py,lastRenderedState:e},t.queue=e,e=e.dispatch=tce.bind(null,gr,e),[t.memoizedState,e]}function my(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=gr.updateQueue,t===null?(t={lastEffect:null,stores:null},gr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function nH(){return Ho().memoizedState}function z1(e,t,n,r){var i=Ba();gr.flags|=e,i.memoizedState=my(1|t,n,void 0,r===void 0?null:r)}function hS(e,t,n,r){var i=Ho();r=r===void 0?null:r;var s=void 0;if(Yr!==null){var o=Yr.memoizedState;if(s=o.destroy,r!==null&&wN(r,o.deps)){i.memoizedState=my(t,n,s,r);return}}gr.flags|=e,i.memoizedState=my(1|t,n,s,r)}function QL(e,t){return z1(8390656,8,e,t)}function IN(e,t){return hS(2048,8,e,t)}function rH(e,t){return hS(4,2,e,t)}function iH(e,t){return hS(4,4,e,t)}function sH(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function oH(e,t,n){return n=n!=null?n.concat([e]):null,hS(4,4,sH.bind(null,t,e),n)}function xN(){}function aH(e,t){var n=Ho();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&wN(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function uH(e,t){var n=Ho();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&wN(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function lH(e,t,n){return Ad&21?(Ia(n,t)||(n=dz(),gr.lanes|=n,Od|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ns=!0),e.memoizedState=n)}function Zle(e,t){var n=Rn;Rn=n!==0&&4>n?n:4,e(!0);var r=uC.transition;uC.transition={};try{e(!1),t()}finally{Rn=n,uC.transition=r}}function cH(){return Ho().memoizedState}function ece(e,t,n){var r=kc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},fH(e))dH(t,n);else if(n=Vz(e,t,n,r),n!==null){var i=ls();Ea(n,e,r,i),hH(n,t,r)}}function tce(e,t,n){var r=kc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(fH(e))dH(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Ia(a,o)){var u=t.interleaved;u===null?(i.next=i,yN(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}n=Vz(e,t,i,r),n!==null&&(i=ls(),Ea(n,e,r,i),hH(n,t,r))}}function fH(e){var t=e.alternate;return e===gr||t!==null&&t===gr}function dH(e,t){Eg=Hb=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function hH(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,rN(e,n)}}var Wb={readContext:zo,useCallback:Fi,useContext:Fi,useEffect:Fi,useImperativeHandle:Fi,useInsertionEffect:Fi,useLayoutEffect:Fi,useMemo:Fi,useReducer:Fi,useRef:Fi,useState:Fi,useDebugValue:Fi,useDeferredValue:Fi,useTransition:Fi,useMutableSource:Fi,useSyncExternalStore:Fi,useId:Fi,unstable_isNewReconciler:!1},nce={readContext:zo,useCallback:function(e,t){return Ba().memoizedState=[e,t===void 0?null:t],e},useContext:zo,useEffect:QL,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,z1(4194308,4,sH.bind(null,t,e),n)},useLayoutEffect:function(e,t){return z1(4194308,4,e,t)},useInsertionEffect:function(e,t){return z1(4,2,e,t)},useMemo:function(e,t){var n=Ba();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ba();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ece.bind(null,gr,e),[r.memoizedState,e]},useRef:function(e){var t=Ba();return e={current:e},t.memoizedState=e},useState:KL,useDebugValue:xN,useDeferredValue:function(e){return Ba().memoizedState=e},useTransition:function(){var e=KL(!1),t=e[0];return e=Zle.bind(null,e[1]),Ba().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=gr,i=Ba();if(ar){if(n===void 0)throw Error(Re(407));n=n()}else{if(n=t(),di===null)throw Error(Re(349));Ad&30||Xz(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,QL(Zz.bind(null,r,s,e),[e]),r.flags|=2048,my(9,Jz.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Ba(),t=di.identifierPrefix;if(ar){var n=Zu,r=Ju;n=(r&~(1<<32-ba(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=hy++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Jle++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},rce={readContext:zo,useCallback:aH,useContext:zo,useEffect:IN,useImperativeHandle:oH,useInsertionEffect:rH,useLayoutEffect:iH,useMemo:uH,useReducer:lC,useRef:nH,useState:function(){return lC(py)},useDebugValue:xN,useDeferredValue:function(e){var t=Ho();return lH(t,Yr.memoizedState,e)},useTransition:function(){var e=lC(py)[0],t=Ho().memoizedState;return[e,t]},useMutableSource:Kz,useSyncExternalStore:Qz,useId:cH,unstable_isNewReconciler:!1},ice={readContext:zo,useCallback:aH,useContext:zo,useEffect:IN,useImperativeHandle:oH,useInsertionEffect:rH,useLayoutEffect:iH,useMemo:uH,useReducer:cC,useRef:nH,useState:function(){return cC(py)},useDebugValue:xN,useDeferredValue:function(e){var t=Ho();return Yr===null?t.memoizedState=e:lH(t,Yr.memoizedState,e)},useTransition:function(){var e=cC(py)[0],t=Ho().memoizedState;return[e,t]},useMutableSource:Kz,useSyncExternalStore:Qz,useId:cH,unstable_isNewReconciler:!1};function Hp(e,t){try{var n="",r=t;do n+=Nue(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function fC(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function nP(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var sce=typeof WeakMap=="function"?WeakMap:Map;function pH(e,t,n){n=ul(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Yb||(Yb=!0,dP=r),nP(e,t)},n}function mH(e,t,n){n=ul(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){nP(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){nP(e,t),typeof r!="function"&&(Nc===null?Nc=new Set([this]):Nc.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function XL(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new sce;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=vce.bind(null,e,t,n),t.then(e,e))}function JL(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ZL(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ul(-1,1),t.tag=2,Rc(n,t,1))),n.lanes|=1),e)}var oce=Bl.ReactCurrentOwner,Ns=!1;function os(e,t,n,r){t.child=e===null?Yz(t,null,n,r):Vp(t,e.child,n,r)}function eM(e,t,n,r,i){n=n.render;var s=t.ref;return hp(t,i),r=TN(e,t,n,r,s,i),n=SN(),e!==null&&!Ns?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,El(e,t,i)):(ar&&n&&fN(t),t.flags|=1,os(e,t,r,i),t.child)}function tM(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!DN(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,gH(e,t,s,r,i)):(e=Y1(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ay,n(o,r)&&e.ref===t.ref)return El(e,t,i)}return t.flags|=1,e=Dc(s,r),e.ref=t.ref,e.return=t,t.child=e}function gH(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(ay(s,r)&&e.ref===t.ref)if(Ns=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Ns=!0);else return t.lanes=e.lanes,El(e,t,i)}return rP(e,t,n,r,i)}function yH(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},qn(Kh,Zs),Zs|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,qn(Kh,Zs),Zs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,qn(Kh,Zs),Zs|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,qn(Kh,Zs),Zs|=r;return os(e,t,i,n),t.child}function _H(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function rP(e,t,n,r,i){var s=Ms(n)?xd:Qi.current;return s=jp(t,s),hp(t,i),n=TN(e,t,n,r,s,i),r=SN(),e!==null&&!Ns?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,El(e,t,i)):(ar&&r&&fN(t),t.flags|=1,os(e,t,n,i),t.child)}function nM(e,t,n,r,i){if(Ms(n)){var s=!0;Mb(t)}else s=!1;if(hp(t,i),t.stateNode===null)H1(e,t),Wz(t,n,r),tP(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var u=o.context,l=n.contextType;typeof l=="object"&&l!==null?l=zo(l):(l=Ms(n)?xd:Qi.current,l=jp(t,l));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==l)&&YL(t,o,r,l),ac=!1;var d=t.memoizedState;o.state=d,Vb(t,r,o,i),u=t.memoizedState,a!==r||d!==u||Ls.current||ac?(typeof c=="function"&&(eP(t,n,c,r),u=t.memoizedState),(a=ac||qL(t,n,a,r,d,u,l))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,zz(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:la(t.type,a),o.props=l,f=t.pendingProps,d=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=zo(u):(u=Ms(n)?xd:Qi.current,u=jp(t,u));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||d!==u)&&YL(t,o,r,u),ac=!1,d=t.memoizedState,o.state=d,Vb(t,r,o,i);var p=t.memoizedState;a!==f||d!==p||Ls.current||ac?(typeof h=="function"&&(eP(t,n,h,r),p=t.memoizedState),(l=ac||qL(t,n,l,r,d,p,u)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=l):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return iP(e,t,n,r,s,i)}function iP(e,t,n,r,i,s){_H(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&UL(t,n,!1),El(e,t,s);r=t.stateNode,oce.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Vp(t,e.child,null,s),t.child=Vp(t,null,a,s)):os(e,t,a,s),t.memoizedState=r.state,i&&UL(t,n,!0),t.child}function vH(e){var t=e.stateNode;t.pendingContext?jL(e,t.pendingContext,t.pendingContext!==t.context):t.context&&jL(e,t.context,!1),vN(e,t.containerInfo)}function rM(e,t,n,r,i){return Up(),hN(i),t.flags|=256,os(e,t,n,r),t.child}var sP={dehydrated:null,treeContext:null,retryLane:0};function oP(e){return{baseLanes:e,cachePool:null,transitions:null}}function bH(e,t,n){var r=t.pendingProps,i=mr.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),qn(mr,i&1),e===null)return JO(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=gS(o,r,0,null),e=md(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=oP(n),t.memoizedState=sP,e):CN(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return ace(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Dc(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Dc(a,s):(s=md(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?oP(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=sP,r}return s=e.child,e=s.sibling,r=Dc(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function CN(e,t){return t=gS({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function kv(e,t,n,r){return r!==null&&hN(r),Vp(t,e.child,null,n),e=CN(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ace(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=fC(Error(Re(422))),kv(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=gS({mode:"visible",children:r.children},i,0,null),s=md(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Vp(t,e.child,null,o),t.child.memoizedState=oP(o),t.memoizedState=sP,s);if(!(t.mode&1))return kv(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Re(419)),r=fC(s,r,void 0),kv(e,t,o,r)}if(a=(o&e.childLanes)!==0,Ns||a){if(r=di,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,bl(e,i),Ea(r,e,i,-1))}return kN(),r=fC(Error(Re(421))),kv(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=bce.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,so=Pc(i.nextSibling),uo=t,ar=!0,da=null,e!==null&&(Po[Ro++]=Ju,Po[Ro++]=Zu,Po[Ro++]=Cd,Ju=e.id,Zu=e.overflow,Cd=t),t=CN(t,r.children),t.flags|=4096,t)}function iM(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ZO(e.return,t,n)}function dC(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function EH(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(os(e,t,r.children,n),r=mr.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&iM(e,n,t);else if(e.tag===19)iM(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(qn(mr,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&zb(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),dC(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&zb(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}dC(t,!0,n,null,s);break;case"together":dC(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function H1(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function El(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Od|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Re(153));if(t.child!==null){for(e=t.child,n=Dc(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Dc(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function uce(e,t,n){switch(t.tag){case 3:vH(t),Up();break;case 5:Gz(t);break;case 1:Ms(t.type)&&Mb(t);break;case 4:vN(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;qn(jb,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(qn(mr,mr.current&1),t.flags|=128,null):n&t.child.childLanes?bH(e,t,n):(qn(mr,mr.current&1),e=El(e,t,n),e!==null?e.sibling:null);qn(mr,mr.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return EH(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),qn(mr,mr.current),r)break;return null;case 22:case 23:return t.lanes=0,yH(e,t,n)}return El(e,t,n)}var wH,aP,TH,SH;wH=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};aP=function(){};TH=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Jf(fu.current);var s=null;switch(n){case"input":i=OO(e,i),r=OO(e,r),s=[];break;case"select":i=yr({},i,{value:void 0}),r=yr({},r,{value:void 0}),s=[];break;case"textarea":i=NO(e,i),r=NO(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=$b)}DO(n,r);var o;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(ey.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in r){var u=r[l];if(a=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&u!==a&&(u!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(l,n)),n=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(ey.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&Kn("scroll",e),s||a===u||(s=[])):(s=s||[]).push(l,u))}n&&(s=s||[]).push("style",n);var l=s;(t.updateQueue=l)&&(t.flags|=4)}};SH=function(e,t,n,r){n!==r&&(t.flags|=4)};function E0(e,t){if(!ar)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Bi(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function lce(e,t,n){var r=t.pendingProps;switch(dN(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bi(t),null;case 1:return Ms(t.type)&&Lb(),Bi(t),null;case 3:return r=t.stateNode,zp(),Zn(Ls),Zn(Qi),EN(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Rv(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,da!==null&&(mP(da),da=null))),aP(e,t),Bi(t),null;case 5:bN(t);var i=Jf(dy.current);if(n=t.type,e!==null&&t.stateNode!=null)TH(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Re(166));return Bi(t),null}if(e=Jf(fu.current),Rv(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Ga]=t,r[cy]=s,e=(t.mode&1)!==0,n){case"dialog":Kn("cancel",r),Kn("close",r);break;case"iframe":case"object":case"embed":Kn("load",r);break;case"video":case"audio":for(i=0;i<Z0.length;i++)Kn(Z0[i],r);break;case"source":Kn("error",r);break;case"img":case"image":case"link":Kn("error",r),Kn("load",r);break;case"details":Kn("toggle",r);break;case"input":hL(r,s),Kn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Kn("invalid",r);break;case"textarea":mL(r,s),Kn("invalid",r)}DO(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Pv(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Pv(r.textContent,a,e),i=["children",""+a]):ey.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Kn("scroll",r)}switch(n){case"input":wv(r),pL(r,s,!0);break;case"textarea":wv(r),gL(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=$b)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=X7(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Ga]=t,e[cy]=r,wH(e,t,!1,!1),t.stateNode=e;e:{switch(o=$O(n,r),n){case"dialog":Kn("cancel",e),Kn("close",e),i=r;break;case"iframe":case"object":case"embed":Kn("load",e),i=r;break;case"video":case"audio":for(i=0;i<Z0.length;i++)Kn(Z0[i],e);i=r;break;case"source":Kn("error",e),i=r;break;case"img":case"image":case"link":Kn("error",e),Kn("load",e),i=r;break;case"details":Kn("toggle",e),i=r;break;case"input":hL(e,r),i=OO(e,r),Kn("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=yr({},r,{value:void 0}),Kn("invalid",e);break;case"textarea":mL(e,r),i=NO(e,r),Kn("invalid",e);break;default:i=r}DO(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?ez(e,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&J7(e,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&ty(e,u):typeof u=="number"&&ty(e,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ey.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Kn("scroll",e):u!=null&&XR(e,s,u,o))}switch(n){case"input":wv(e),pL(e,r,!1);break;case"textarea":wv(e),gL(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Kc(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?lp(e,!!r.multiple,s,!1):r.defaultValue!=null&&lp(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=$b)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Bi(t),null;case 6:if(e&&t.stateNode!=null)SH(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Re(166));if(n=Jf(dy.current),Jf(fu.current),Rv(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ga]=t,(s=r.nodeValue!==n)&&(e=uo,e!==null))switch(e.tag){case 3:Pv(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Pv(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ga]=t,t.stateNode=r}return Bi(t),null;case 13:if(Zn(mr),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ar&&so!==null&&t.mode&1&&!(t.flags&128))Uz(),Up(),t.flags|=98560,s=!1;else if(s=Rv(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(Re(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Re(317));s[Ga]=t}else Up(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Bi(t),s=!1}else da!==null&&(mP(da),da=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||mr.current&1?Xr===0&&(Xr=3):kN())),t.updateQueue!==null&&(t.flags|=4),Bi(t),null);case 4:return zp(),aP(e,t),e===null&&uy(t.stateNode.containerInfo),Bi(t),null;case 10:return gN(t.type._context),Bi(t),null;case 17:return Ms(t.type)&&Lb(),Bi(t),null;case 19:if(Zn(mr),s=t.memoizedState,s===null)return Bi(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)E0(s,!1);else{if(Xr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=zb(e),o!==null){for(t.flags|=128,E0(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return qn(mr,mr.current&1|2),t.child}e=e.sibling}s.tail!==null&&kr()>Wp&&(t.flags|=128,r=!0,E0(s,!1),t.lanes=4194304)}else{if(!r)if(e=zb(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),E0(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ar)return Bi(t),null}else 2*kr()-s.renderingStartTime>Wp&&n!==1073741824&&(t.flags|=128,r=!0,E0(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=kr(),t.sibling=null,n=mr.current,qn(mr,r?n&1|2:n&1),t):(Bi(t),null);case 22:case 23:return NN(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Zs&1073741824&&(Bi(t),t.subtreeFlags&6&&(t.flags|=8192)):Bi(t),null;case 24:return null;case 25:return null}throw Error(Re(156,t.tag))}function cce(e,t){switch(dN(t),t.tag){case 1:return Ms(t.type)&&Lb(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return zp(),Zn(Ls),Zn(Qi),EN(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return bN(t),null;case 13:if(Zn(mr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Re(340));Up()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Zn(mr),null;case 4:return zp(),null;case 10:return gN(t.type._context),null;case 22:case 23:return NN(),null;case 24:return null;default:return null}}var Dv=!1,Wi=!1,fce=typeof WeakSet=="function"?WeakSet:Set,ze=null;function Gh(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Tr(e,t,r)}else n.current=null}function uP(e,t,n){try{n()}catch(r){Tr(e,t,r)}}var sM=!1;function dce(e,t){if(WO=Nb,e=Az(),cN(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,l=0,c=0,f=e,d=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===e)break t;if(d===n&&++l===i&&(a=o),d===s&&++c===r&&(u=o),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(qO={focusedElem:e,selectionRange:n},Nb=!1,ze=t;ze!==null;)if(t=ze,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ze=e;else for(;ze!==null;){t=ze;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,y=p.memoizedState,g=t.stateNode,_=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:la(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Re(163))}}catch(T){Tr(t,t.return,T)}if(e=t.sibling,e!==null){e.return=t.return,ze=e;break}ze=t.return}return p=sM,sM=!1,p}function wg(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&uP(t,n,s)}i=i.next}while(i!==r)}}function pS(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function lP(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function IH(e){var t=e.alternate;t!==null&&(e.alternate=null,IH(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ga],delete t[cy],delete t[KO],delete t[Gle],delete t[Kle])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function xH(e){return e.tag===5||e.tag===3||e.tag===4}function oM(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||xH(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cP(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=$b));else if(r!==4&&(e=e.child,e!==null))for(cP(e,t,n),e=e.sibling;e!==null;)cP(e,t,n),e=e.sibling}function fP(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(fP(e,t,n),e=e.sibling;e!==null;)fP(e,t,n),e=e.sibling}var Ti=null,ca=!1;function Ql(e,t,n){for(n=n.child;n!==null;)CH(e,t,n),n=n.sibling}function CH(e,t,n){if(cu&&typeof cu.onCommitFiberUnmount=="function")try{cu.onCommitFiberUnmount(oS,n)}catch{}switch(n.tag){case 5:Wi||Gh(n,t);case 6:var r=Ti,i=ca;Ti=null,Ql(e,t,n),Ti=r,ca=i,Ti!==null&&(ca?(e=Ti,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ti.removeChild(n.stateNode));break;case 18:Ti!==null&&(ca?(e=Ti,n=n.stateNode,e.nodeType===8?sC(e.parentNode,n):e.nodeType===1&&sC(e,n),sy(e)):sC(Ti,n.stateNode));break;case 4:r=Ti,i=ca,Ti=n.stateNode.containerInfo,ca=!0,Ql(e,t,n),Ti=r,ca=i;break;case 0:case 11:case 14:case 15:if(!Wi&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&uP(n,t,o),i=i.next}while(i!==r)}Ql(e,t,n);break;case 1:if(!Wi&&(Gh(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Tr(n,t,a)}Ql(e,t,n);break;case 21:Ql(e,t,n);break;case 22:n.mode&1?(Wi=(r=Wi)||n.memoizedState!==null,Ql(e,t,n),Wi=r):Ql(e,t,n);break;default:Ql(e,t,n)}}function aM(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new fce),t.forEach(function(r){var i=Ece.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ra(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ti=a.stateNode,ca=!1;break e;case 3:Ti=a.stateNode.containerInfo,ca=!0;break e;case 4:Ti=a.stateNode.containerInfo,ca=!0;break e}a=a.return}if(Ti===null)throw Error(Re(160));CH(s,o,i),Ti=null,ca=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(l){Tr(i,t,l)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)AH(t,e),t=t.sibling}function AH(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ra(t,e),Da(e),r&4){try{wg(3,e,e.return),pS(3,e)}catch(m){Tr(e,e.return,m)}try{wg(5,e,e.return)}catch(m){Tr(e,e.return,m)}}break;case 1:ra(t,e),Da(e),r&512&&n!==null&&Gh(n,n.return);break;case 5:if(ra(t,e),Da(e),r&512&&n!==null&&Gh(n,n.return),e.flags&32){var i=e.stateNode;try{ty(i,"")}catch(m){Tr(e,e.return,m)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&K7(i,s),$O(a,o);var l=$O(a,s);for(o=0;o<u.length;o+=2){var c=u[o],f=u[o+1];c==="style"?ez(i,f):c==="dangerouslySetInnerHTML"?J7(i,f):c==="children"?ty(i,f):XR(i,c,f,l)}switch(a){case"input":PO(i,s);break;case"textarea":Q7(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?lp(i,!!s.multiple,h,!1):d!==!!s.multiple&&(s.defaultValue!=null?lp(i,!!s.multiple,s.defaultValue,!0):lp(i,!!s.multiple,s.multiple?[]:"",!1))}i[cy]=s}catch(m){Tr(e,e.return,m)}}break;case 6:if(ra(t,e),Da(e),r&4){if(e.stateNode===null)throw Error(Re(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(m){Tr(e,e.return,m)}}break;case 3:if(ra(t,e),Da(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{sy(t.containerInfo)}catch(m){Tr(e,e.return,m)}break;case 4:ra(t,e),Da(e);break;case 13:ra(t,e),Da(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(PN=kr())),r&4&&aM(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Wi=(l=Wi)||c,ra(t,e),Wi=l):ra(t,e),Da(e),r&8192){if(l=e.memoizedState!==null,(e.stateNode.isHidden=l)&&!c&&e.mode&1)for(ze=e,c=e.child;c!==null;){for(f=ze=c;ze!==null;){switch(d=ze,h=d.child,d.tag){case 0:case 11:case 14:case 15:wg(4,d,d.return);break;case 1:Gh(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(m){Tr(r,n,m)}}break;case 5:Gh(d,d.return);break;case 22:if(d.memoizedState!==null){lM(f);continue}}h!==null?(h.return=d,ze=h):lM(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,l?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=Z7("display",o))}catch(m){Tr(e,e.return,m)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(m){Tr(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ra(t,e),Da(e),r&4&&aM(e);break;case 21:break;default:ra(t,e),Da(e)}}function Da(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(xH(n)){var r=n;break e}n=n.return}throw Error(Re(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ty(i,""),r.flags&=-33);var s=oM(e);fP(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=oM(e);cP(e,a,o);break;default:throw Error(Re(161))}}catch(u){Tr(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function hce(e,t,n){ze=e,OH(e)}function OH(e,t,n){for(var r=(e.mode&1)!==0;ze!==null;){var i=ze,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Dv;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||Wi;a=Dv;var l=Wi;if(Dv=o,(Wi=u)&&!l)for(ze=i;ze!==null;)o=ze,u=o.child,o.tag===22&&o.memoizedState!==null?cM(i):u!==null?(u.return=o,ze=u):cM(i);for(;s!==null;)ze=s,OH(s),s=s.sibling;ze=i,Dv=a,Wi=l}uM(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ze=s):uM(e)}}function uM(e){for(;ze!==null;){var t=ze;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Wi||pS(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Wi)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:la(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&WL(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}WL(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var l=t.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&sy(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Re(163))}Wi||t.flags&512&&lP(t)}catch(d){Tr(t,t.return,d)}}if(t===e){ze=null;break}if(n=t.sibling,n!==null){n.return=t.return,ze=n;break}ze=t.return}}function lM(e){for(;ze!==null;){var t=ze;if(t===e){ze=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ze=n;break}ze=t.return}}function cM(e){for(;ze!==null;){var t=ze;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{pS(4,t)}catch(u){Tr(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(u){Tr(t,i,u)}}var s=t.return;try{lP(t)}catch(u){Tr(t,s,u)}break;case 5:var o=t.return;try{lP(t)}catch(u){Tr(t,o,u)}}}catch(u){Tr(t,t.return,u)}if(t===e){ze=null;break}var a=t.sibling;if(a!==null){a.return=t.return,ze=a;break}ze=t.return}}var pce=Math.ceil,qb=Bl.ReactCurrentDispatcher,AN=Bl.ReactCurrentOwner,Uo=Bl.ReactCurrentBatchConfig,hn=0,di=null,Vr=null,Ri=0,Zs=0,Kh=yf(0),Xr=0,gy=null,Od=0,mS=0,ON=0,Tg=null,Cs=null,PN=0,Wp=1/0,Vu=null,Yb=!1,dP=null,Nc=null,$v=!1,wc=null,Gb=0,Sg=0,hP=null,W1=-1,q1=0;function ls(){return hn&6?kr():W1!==-1?W1:W1=kr()}function kc(e){return e.mode&1?hn&2&&Ri!==0?Ri&-Ri:Xle.transition!==null?(q1===0&&(q1=dz()),q1):(e=Rn,e!==0||(e=window.event,e=e===void 0?16:vz(e.type)),e):1}function Ea(e,t,n,r){if(50<Sg)throw Sg=0,hP=null,Error(Re(185));p_(e,n,r),(!(hn&2)||e!==di)&&(e===di&&(!(hn&2)&&(mS|=n),Xr===4&&hc(e,Ri)),Fs(e,r),n===1&&hn===0&&!(t.mode&1)&&(Wp=kr()+500,fS&&_f()))}function Fs(e,t){var n=e.callbackNode;Xue(e,t);var r=Rb(e,e===di?Ri:0);if(r===0)n!==null&&vL(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&vL(n),t===1)e.tag===0?Qle(fM.bind(null,e)):Fz(fM.bind(null,e)),qle(function(){!(hn&6)&&_f()}),n=null;else{switch(hz(r)){case 1:n=nN;break;case 4:n=cz;break;case 16:n=Pb;break;case 536870912:n=fz;break;default:n=Pb}n=MH(n,PH.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function PH(e,t){if(W1=-1,q1=0,hn&6)throw Error(Re(327));var n=e.callbackNode;if(pp()&&e.callbackNode!==n)return null;var r=Rb(e,e===di?Ri:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Kb(e,r);else{t=r;var i=hn;hn|=2;var s=NH();(di!==e||Ri!==t)&&(Vu=null,Wp=kr()+500,pd(e,t));do try{yce();break}catch(a){RH(e,a)}while(!0);mN(),qb.current=s,hn=i,Vr!==null?t=0:(di=null,Ri=0,t=Xr)}if(t!==0){if(t===2&&(i=jO(e),i!==0&&(r=i,t=pP(e,i))),t===1)throw n=gy,pd(e,0),hc(e,r),Fs(e,kr()),n;if(t===6)hc(e,r);else{if(i=e.current.alternate,!(r&30)&&!mce(i)&&(t=Kb(e,r),t===2&&(s=jO(e),s!==0&&(r=s,t=pP(e,s))),t===1))throw n=gy,pd(e,0),hc(e,r),Fs(e,kr()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Re(345));case 2:$f(e,Cs,Vu);break;case 3:if(hc(e,r),(r&130023424)===r&&(t=PN+500-kr(),10<t)){if(Rb(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){ls(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=GO($f.bind(null,e,Cs,Vu),t);break}$f(e,Cs,Vu);break;case 4:if(hc(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-ba(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=kr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*pce(r/1960))-r,10<r){e.timeoutHandle=GO($f.bind(null,e,Cs,Vu),r);break}$f(e,Cs,Vu);break;case 5:$f(e,Cs,Vu);break;default:throw Error(Re(329))}}}return Fs(e,kr()),e.callbackNode===n?PH.bind(null,e):null}function pP(e,t){var n=Tg;return e.current.memoizedState.isDehydrated&&(pd(e,t).flags|=256),e=Kb(e,t),e!==2&&(t=Cs,Cs=n,t!==null&&mP(t)),e}function mP(e){Cs===null?Cs=e:Cs.push.apply(Cs,e)}function mce(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ia(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function hc(e,t){for(t&=~ON,t&=~mS,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ba(t),r=1<<n;e[n]=-1,t&=~r}}function fM(e){if(hn&6)throw Error(Re(327));pp();var t=Rb(e,0);if(!(t&1))return Fs(e,kr()),null;var n=Kb(e,t);if(e.tag!==0&&n===2){var r=jO(e);r!==0&&(t=r,n=pP(e,r))}if(n===1)throw n=gy,pd(e,0),hc(e,t),Fs(e,kr()),n;if(n===6)throw Error(Re(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,$f(e,Cs,Vu),Fs(e,kr()),null}function RN(e,t){var n=hn;hn|=1;try{return e(t)}finally{hn=n,hn===0&&(Wp=kr()+500,fS&&_f())}}function Pd(e){wc!==null&&wc.tag===0&&!(hn&6)&&pp();var t=hn;hn|=1;var n=Uo.transition,r=Rn;try{if(Uo.transition=null,Rn=1,e)return e()}finally{Rn=r,Uo.transition=n,hn=t,!(hn&6)&&_f()}}function NN(){Zs=Kh.current,Zn(Kh)}function pd(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Wle(n)),Vr!==null)for(n=Vr.return;n!==null;){var r=n;switch(dN(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Lb();break;case 3:zp(),Zn(Ls),Zn(Qi),EN();break;case 5:bN(r);break;case 4:zp();break;case 13:Zn(mr);break;case 19:Zn(mr);break;case 10:gN(r.type._context);break;case 22:case 23:NN()}n=n.return}if(di=e,Vr=e=Dc(e.current,null),Ri=Zs=t,Xr=0,gy=null,ON=mS=Od=0,Cs=Tg=null,Xf!==null){for(t=0;t<Xf.length;t++)if(n=Xf[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Xf=null}return e}function RH(e,t){do{var n=Vr;try{if(mN(),V1.current=Wb,Hb){for(var r=gr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Hb=!1}if(Ad=0,li=Yr=gr=null,Eg=!1,hy=0,AN.current=null,n===null||n.return===null){Xr=1,gy=t,Vr=null;break}e:{var s=e,o=n.return,a=n,u=t;if(t=Ri,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=JL(o);if(h!==null){h.flags&=-257,ZL(h,o,a,s,t),h.mode&1&&XL(s,l,t),t=h,u=l;var p=t.updateQueue;if(p===null){var m=new Set;m.add(u),t.updateQueue=m}else p.add(u);break e}else{if(!(t&1)){XL(s,l,t),kN();break e}u=Error(Re(426))}}else if(ar&&a.mode&1){var y=JL(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),ZL(y,o,a,s,t),hN(Hp(u,a));break e}}s=u=Hp(u,a),Xr!==4&&(Xr=2),Tg===null?Tg=[s]:Tg.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var g=pH(s,u,t);HL(s,g);break e;case 1:a=u;var _=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Nc===null||!Nc.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t;var T=mH(s,a,t);HL(s,T);break e}}s=s.return}while(s!==null)}DH(n)}catch(I){t=I,Vr===n&&n!==null&&(Vr=n=n.return);continue}break}while(!0)}function NH(){var e=qb.current;return qb.current=Wb,e===null?Wb:e}function kN(){(Xr===0||Xr===3||Xr===2)&&(Xr=4),di===null||!(Od&268435455)&&!(mS&268435455)||hc(di,Ri)}function Kb(e,t){var n=hn;hn|=2;var r=NH();(di!==e||Ri!==t)&&(Vu=null,pd(e,t));do try{gce();break}catch(i){RH(e,i)}while(!0);if(mN(),hn=n,qb.current=r,Vr!==null)throw Error(Re(261));return di=null,Ri=0,Xr}function gce(){for(;Vr!==null;)kH(Vr)}function yce(){for(;Vr!==null&&!Vue();)kH(Vr)}function kH(e){var t=LH(e.alternate,e,Zs);e.memoizedProps=e.pendingProps,t===null?DH(e):Vr=t,AN.current=null}function DH(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=cce(n,t),n!==null){n.flags&=32767,Vr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Xr=6,Vr=null;return}}else if(n=lce(n,t,Zs),n!==null){Vr=n;return}if(t=t.sibling,t!==null){Vr=t;return}Vr=t=e}while(t!==null);Xr===0&&(Xr=5)}function $f(e,t,n){var r=Rn,i=Uo.transition;try{Uo.transition=null,Rn=1,_ce(e,t,n,r)}finally{Uo.transition=i,Rn=r}return null}function _ce(e,t,n,r){do pp();while(wc!==null);if(hn&6)throw Error(Re(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Re(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(Jue(e,s),e===di&&(Vr=di=null,Ri=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||$v||($v=!0,MH(Pb,function(){return pp(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Uo.transition,Uo.transition=null;var o=Rn;Rn=1;var a=hn;hn|=4,AN.current=null,dce(e,n),AH(n,e),Fle(qO),Nb=!!WO,qO=WO=null,e.current=n,hce(n),zue(),hn=a,Rn=o,Uo.transition=s}else e.current=n;if($v&&($v=!1,wc=e,Gb=i),s=e.pendingLanes,s===0&&(Nc=null),que(n.stateNode),Fs(e,kr()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Yb)throw Yb=!1,e=dP,dP=null,e;return Gb&1&&e.tag!==0&&pp(),s=e.pendingLanes,s&1?e===hP?Sg++:(Sg=0,hP=e):Sg=0,_f(),null}function pp(){if(wc!==null){var e=hz(Gb),t=Uo.transition,n=Rn;try{if(Uo.transition=null,Rn=16>e?16:e,wc===null)var r=!1;else{if(e=wc,wc=null,Gb=0,hn&6)throw Error(Re(331));var i=hn;for(hn|=4,ze=e.current;ze!==null;){var s=ze,o=s.child;if(ze.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var l=a[u];for(ze=l;ze!==null;){var c=ze;switch(c.tag){case 0:case 11:case 15:wg(8,c,s)}var f=c.child;if(f!==null)f.return=c,ze=f;else for(;ze!==null;){c=ze;var d=c.sibling,h=c.return;if(IH(c),c===l){ze=null;break}if(d!==null){d.return=h,ze=d;break}ze=h}}}var p=s.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(m!==null)}}ze=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ze=o;else e:for(;ze!==null;){if(s=ze,s.flags&2048)switch(s.tag){case 0:case 11:case 15:wg(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,ze=g;break e}ze=s.return}}var _=e.current;for(ze=_;ze!==null;){o=ze;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,ze=b;else e:for(o=_;ze!==null;){if(a=ze,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:pS(9,a)}}catch(I){Tr(a,a.return,I)}if(a===o){ze=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,ze=T;break e}ze=a.return}}if(hn=i,_f(),cu&&typeof cu.onPostCommitFiberRoot=="function")try{cu.onPostCommitFiberRoot(oS,e)}catch{}r=!0}return r}finally{Rn=n,Uo.transition=t}}return!1}function dM(e,t,n){t=Hp(n,t),t=pH(e,t,1),e=Rc(e,t,1),t=ls(),e!==null&&(p_(e,1,t),Fs(e,t))}function Tr(e,t,n){if(e.tag===3)dM(e,e,n);else for(;t!==null;){if(t.tag===3){dM(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Nc===null||!Nc.has(r))){e=Hp(n,e),e=mH(t,e,1),t=Rc(t,e,1),e=ls(),t!==null&&(p_(t,1,e),Fs(t,e));break}}t=t.return}}function vce(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ls(),e.pingedLanes|=e.suspendedLanes&n,di===e&&(Ri&n)===n&&(Xr===4||Xr===3&&(Ri&130023424)===Ri&&500>kr()-PN?pd(e,0):ON|=n),Fs(e,t)}function $H(e,t){t===0&&(e.mode&1?(t=Iv,Iv<<=1,!(Iv&130023424)&&(Iv=4194304)):t=1);var n=ls();e=bl(e,t),e!==null&&(p_(e,t,n),Fs(e,n))}function bce(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),$H(e,n)}function Ece(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Re(314))}r!==null&&r.delete(t),$H(e,n)}var LH;LH=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ls.current)Ns=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ns=!1,uce(e,t,n);Ns=!!(e.flags&131072)}else Ns=!1,ar&&t.flags&1048576&&Bz(t,Bb,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;H1(e,t),e=t.pendingProps;var i=jp(t,Qi.current);hp(t,n),i=TN(null,t,r,e,i,n);var s=SN();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ms(r)?(s=!0,Mb(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,_N(t),i.updater=dS,t.stateNode=i,i._reactInternals=t,tP(t,r,e,n),t=iP(null,t,r,!0,s,n)):(t.tag=0,ar&&s&&fN(t),os(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(H1(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Tce(r),e=la(r,e),i){case 0:t=rP(null,t,r,e,n);break e;case 1:t=nM(null,t,r,e,n);break e;case 11:t=eM(null,t,r,e,n);break e;case 14:t=tM(null,t,r,la(r.type,e),n);break e}throw Error(Re(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:la(r,i),rP(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:la(r,i),nM(e,t,r,i,n);case 3:e:{if(vH(t),e===null)throw Error(Re(387));r=t.pendingProps,s=t.memoizedState,i=s.element,zz(e,t),Vb(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Hp(Error(Re(423)),t),t=rM(e,t,r,n,i);break e}else if(r!==i){i=Hp(Error(Re(424)),t),t=rM(e,t,r,n,i);break e}else for(so=Pc(t.stateNode.containerInfo.firstChild),uo=t,ar=!0,da=null,n=Yz(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Up(),r===i){t=El(e,t,n);break e}os(e,t,r,n)}t=t.child}return t;case 5:return Gz(t),e===null&&JO(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,YO(r,i)?o=null:s!==null&&YO(r,s)&&(t.flags|=32),_H(e,t),os(e,t,o,n),t.child;case 6:return e===null&&JO(t),null;case 13:return bH(e,t,n);case 4:return vN(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Vp(t,null,r,n):os(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:la(r,i),eM(e,t,r,i,n);case 7:return os(e,t,t.pendingProps,n),t.child;case 8:return os(e,t,t.pendingProps.children,n),t.child;case 12:return os(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,qn(jb,r._currentValue),r._currentValue=o,s!==null)if(Ia(s.value,o)){if(s.children===i.children&&!Ls.current){t=El(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=ul(-1,n&-n),u.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?u.next=u:(u.next=c.next,c.next=u),l.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),ZO(s.return,n,t),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Re(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ZO(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}os(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,hp(t,n),i=zo(i),r=r(i),t.flags|=1,os(e,t,r,n),t.child;case 14:return r=t.type,i=la(r,t.pendingProps),i=la(r.type,i),tM(e,t,r,i,n);case 15:return gH(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:la(r,i),H1(e,t),t.tag=1,Ms(r)?(e=!0,Mb(t)):e=!1,hp(t,n),Wz(t,r,i),tP(t,r,i,n),iP(null,t,r,!0,e,n);case 19:return EH(e,t,n);case 22:return yH(e,t,n)}throw Error(Re(156,t.tag))};function MH(e,t){return lz(e,t)}function wce(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bo(e,t,n,r){return new wce(e,t,n,r)}function DN(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Tce(e){if(typeof e=="function")return DN(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ZR)return 11;if(e===eN)return 14}return 2}function Dc(e,t){var n=e.alternate;return n===null?(n=Bo(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Y1(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")DN(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Bh:return md(n.children,i,s,t);case JR:o=8,i|=8;break;case IO:return e=Bo(12,n,t,i|2),e.elementType=IO,e.lanes=s,e;case xO:return e=Bo(13,n,t,i),e.elementType=xO,e.lanes=s,e;case CO:return e=Bo(19,n,t,i),e.elementType=CO,e.lanes=s,e;case q7:return gS(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case H7:o=10;break e;case W7:o=9;break e;case ZR:o=11;break e;case eN:o=14;break e;case oc:o=16,r=null;break e}throw Error(Re(130,e==null?e:typeof e,""))}return t=Bo(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function md(e,t,n,r){return e=Bo(7,e,r,t),e.lanes=n,e}function gS(e,t,n,r){return e=Bo(22,e,r,t),e.elementType=q7,e.lanes=n,e.stateNode={isHidden:!1},e}function hC(e,t,n){return e=Bo(6,e,null,t),e.lanes=n,e}function pC(e,t,n){return t=Bo(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Sce(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gx(0),this.expirationTimes=Gx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gx(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function $N(e,t,n,r,i,s,o,a,u){return e=new Sce(e,t,n,a,u),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Bo(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},_N(s),e}function Ice(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fh,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function FH(e){if(!e)return Qc;e=e._reactInternals;e:{if(Kd(e)!==e||e.tag!==1)throw Error(Re(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ms(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Re(171))}if(e.tag===1){var n=e.type;if(Ms(n))return Mz(e,n,t)}return t}function BH(e,t,n,r,i,s,o,a,u){return e=$N(n,r,!0,e,i,s,o,a,u),e.context=FH(null),n=e.current,r=ls(),i=kc(n),s=ul(r,i),s.callback=t??null,Rc(n,s,i),e.current.lanes=i,p_(e,i,r),Fs(e,r),e}function yS(e,t,n,r){var i=t.current,s=ls(),o=kc(i);return n=FH(n),t.context===null?t.context=n:t.pendingContext=n,t=ul(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Rc(i,t,o),e!==null&&(Ea(e,i,o,s),U1(e,i,o)),o}function Qb(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function hM(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function LN(e,t){hM(e,t),(e=e.alternate)&&hM(e,t)}function xce(){return null}var jH=typeof reportError=="function"?reportError:function(e){console.error(e)};function MN(e){this._internalRoot=e}_S.prototype.render=MN.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Re(409));yS(e,t,null,null)};_S.prototype.unmount=MN.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Pd(function(){yS(null,e,null,null)}),t[vl]=null}};function _S(e){this._internalRoot=e}_S.prototype.unstable_scheduleHydration=function(e){if(e){var t=gz();e={blockedOn:null,target:e,priority:t};for(var n=0;n<dc.length&&t!==0&&t<dc[n].priority;n++);dc.splice(n,0,e),n===0&&_z(e)}};function FN(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function vS(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function pM(){}function Cce(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var l=Qb(o);s.call(l)}}var o=BH(t,r,e,0,null,!1,!1,"",pM);return e._reactRootContainer=o,e[vl]=o.current,uy(e.nodeType===8?e.parentNode:e),Pd(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var l=Qb(u);a.call(l)}}var u=$N(e,0,!1,null,null,!1,!1,"",pM);return e._reactRootContainer=u,e[vl]=u.current,uy(e.nodeType===8?e.parentNode:e),Pd(function(){yS(t,u,n,r)}),u}function bS(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=Qb(o);a.call(u)}}yS(t,o,e,i)}else o=Cce(n,t,e,i,r);return Qb(o)}pz=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=J0(t.pendingLanes);n!==0&&(rN(t,n|1),Fs(t,kr()),!(hn&6)&&(Wp=kr()+500,_f()))}break;case 13:Pd(function(){var r=bl(e,1);if(r!==null){var i=ls();Ea(r,e,1,i)}}),LN(e,1)}};iN=function(e){if(e.tag===13){var t=bl(e,134217728);if(t!==null){var n=ls();Ea(t,e,134217728,n)}LN(e,134217728)}};mz=function(e){if(e.tag===13){var t=kc(e),n=bl(e,t);if(n!==null){var r=ls();Ea(n,e,t,r)}LN(e,t)}};gz=function(){return Rn};yz=function(e,t){var n=Rn;try{return Rn=e,t()}finally{Rn=n}};MO=function(e,t,n){switch(t){case"input":if(PO(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=cS(r);if(!i)throw Error(Re(90));G7(r),PO(r,i)}}}break;case"textarea":Q7(e,n);break;case"select":t=n.value,t!=null&&lp(e,!!n.multiple,t,!1)}};rz=RN;iz=Pd;var Ace={usingClientEntryPoint:!1,Events:[g_,zh,cS,tz,nz,RN]},w0={findFiberByHostInstance:Qf,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Oce={bundleType:w0.bundleType,version:w0.version,rendererPackageName:w0.rendererPackageName,rendererConfig:w0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bl.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=az(e),e===null?null:e.stateNode},findFiberByHostInstance:w0.findFiberByHostInstance||xce,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lv.isDisabled&&Lv.supportsFiber)try{oS=Lv.inject(Oce),cu=Lv}catch{}}vo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ace;vo.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!FN(t))throw Error(Re(200));return Ice(e,t,null,n)};vo.createRoot=function(e,t){if(!FN(e))throw Error(Re(299));var n=!1,r="",i=jH;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=$N(e,1,!1,null,null,n,!1,r,i),e[vl]=t.current,uy(e.nodeType===8?e.parentNode:e),new MN(t)};vo.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Re(188)):(e=Object.keys(e).join(","),Error(Re(268,e)));return e=az(t),e=e===null?null:e.stateNode,e};vo.flushSync=function(e){return Pd(e)};vo.hydrate=function(e,t,n){if(!vS(t))throw Error(Re(200));return bS(null,e,t,!0,n)};vo.hydrateRoot=function(e,t,n){if(!FN(e))throw Error(Re(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=jH;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=BH(t,null,e,1,n??null,i,!1,s,o),e[vl]=t.current,uy(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new _S(t)};vo.render=function(e,t,n){if(!vS(t))throw Error(Re(200));return bS(null,e,t,!1,n)};vo.unmountComponentAtNode=function(e){if(!vS(e))throw Error(Re(40));return e._reactRootContainer?(Pd(function(){bS(null,null,e,!1,function(){e._reactRootContainer=null,e[vl]=null})}),!0):!1};vo.unstable_batchedUpdates=RN;vo.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!vS(n))throw Error(Re(200));if(e==null||e._reactInternals===void 0)throw Error(Re(38));return bS(e,t,n,!1,r)};vo.version="18.2.0-next-9e3b772b8-20220608";function UH(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(UH)}catch(e){console.error(e)}}UH(),B7.exports=vo;var __=B7.exports,mM=__;TO.createRoot=mM.createRoot,TO.hydrateRoot=mM.hydrateRoot;const VH=w.createContext({storageEngine:void 0,setStorageEngine:()=>{}}),vf=()=>w.useContext(VH);function Pce({children:e}){const[t,n]=k.useState(void 0),r=k.useMemo(()=>({storageEngine:t,setStorageEngine:n}),[t]);return $.jsx(VH.Provider,{value:r,children:e})}/**
 * @remix-run/router v1.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yy(){return yy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yy.apply(this,arguments)}var Tc;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Tc||(Tc={}));const gM="popstate";function Rce(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return gP("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:zH(i)}return kce(t,n,null,e)}function zr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function BN(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Nce(){return Math.random().toString(36).substr(2,8)}function yM(e,t){return{usr:e.state,key:e.key,idx:t}}function gP(e,t,n,r){return n===void 0&&(n=null),yy({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Pm(t):t,{state:n,key:t&&t.key||r||Nce()})}function zH(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Pm(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function kce(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Tc.Pop,u=null,l=c();l==null&&(l=0,o.replaceState(yy({},o.state,{idx:l}),""));function c(){return(o.state||{idx:null}).idx}function f(){a=Tc.Pop;let y=c(),g=y==null?null:y-l;l=y,u&&u({action:a,location:m.location,delta:g})}function d(y,g){a=Tc.Push;let _=gP(m.location,y,g);n&&n(_,y),l=c()+1;let b=yM(_,l),T=m.createHref(_);try{o.pushState(b,"",T)}catch{i.location.assign(T)}s&&u&&u({action:a,location:m.location,delta:1})}function h(y,g){a=Tc.Replace;let _=gP(m.location,y,g);n&&n(_,y),l=c();let b=yM(_,l),T=m.createHref(_);o.replaceState(b,"",T),s&&u&&u({action:a,location:m.location,delta:0})}function p(y){let g=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof y=="string"?y:zH(y);return zr(g,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,g)}let m={get action(){return a},get location(){return e(i,o)},listen(y){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(gM,f),u=y,()=>{i.removeEventListener(gM,f),u=null}},createHref(y){return t(i,y)},createURL:p,encodeLocation(y){let g=p(y);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:d,replace:h,go(y){return o.go(y)}};return m}var _M;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(_M||(_M={}));function Dce(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?Pm(t):t,i=qH(r.pathname||"/",n);if(i==null)return null;let s=HH(e);$ce(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=Hce(s[a],Yce(i));return o}function HH(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(zr(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let l=$c([r,u.relativePath]),c=n.concat(u);s.children&&s.children.length>0&&(zr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),HH(s.children,t,c,l)),!(s.path==null&&!s.index)&&t.push({path:l,score:Vce(l,s.index),routesMeta:c})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let u of WH(s.path))i(s,o,u)}),t}function WH(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=WH(r.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>e.startsWith("/")&&u===""?"/":u)}function $ce(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:zce(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Lce=/^:\w+$/,Mce=3,Fce=2,Bce=1,jce=10,Uce=-2,vM=e=>e==="*";function Vce(e,t){let n=e.split("/"),r=n.length;return n.some(vM)&&(r+=Uce),t&&(r+=Fce),n.filter(i=>!vM(i)).reduce((i,s)=>i+(Lce.test(s)?Mce:s===""?Bce:jce),r)}function zce(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function Hce(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],u=o===n.length-1,l=i==="/"?t:t.slice(i.length)||"/",c=Wce({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},l);if(!c)return null;Object.assign(r,c.params);let f=a.route;s.push({params:r,pathname:$c([i,c.pathname]),pathnameBase:Xce($c([i,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(i=$c([i,c.pathnameBase]))}return s}function Wce(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=qce(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((l,c,f)=>{if(c==="*"){let d=a[f]||"";o=s.slice(0,s.length-d.length).replace(/(.)\/+$/,"$1")}return l[c]=Gce(a[f]||"",c),l},{}),pathname:s,pathnameBase:o,pattern:e}}function qce(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),BN(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return e.endsWith("*")?(r.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function Yce(e){try{return decodeURI(e)}catch(t){return BN(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Gce(e,t){try{return decodeURIComponent(e)}catch(n){return BN(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function qH(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Kce(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Pm(e):e;return{pathname:n?n.startsWith("/")?n:Qce(n,t):t,search:Jce(r),hash:Zce(i)}}function Qce(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function mC(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function YH(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function GH(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Pm(e):(i=yy({},e),zr(!i.pathname||!i.pathname.includes("?"),mC("?","pathname","search",i)),zr(!i.pathname||!i.pathname.includes("#"),mC("#","pathname","hash",i)),zr(!i.search||!i.search.includes("#"),mC("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let f=t.length-1;if(o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}a=f>=0?t[f]:"/"}let u=Kce(i,a),l=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(l||c)&&(u.pathname+="/"),u}const $c=e=>e.join("/").replace(/\/\/+/g,"/"),Xce=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Jce=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Zce=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function efe(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const KH=["post","put","patch","delete"];new Set(KH);const tfe=["get",...KH];new Set(tfe);/**
 * React Router v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nfe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const rfe=typeof Object.is=="function"?Object.is:nfe,{useState:ife,useEffect:sfe,useLayoutEffect:ofe,useDebugValue:afe}=Id;function ufe(e,t,n){const r=t(),[{inst:i},s]=ife({inst:{value:r,getSnapshot:t}});return ofe(()=>{i.value=r,i.getSnapshot=t,gC(i)&&s({inst:i})},[e,r,t]),sfe(()=>(gC(i)&&s({inst:i}),e(()=>{gC(i)&&s({inst:i})})),[e]),afe(r),r}function gC(e){const t=e.getSnapshot,n=e.value;try{const r=t();return!rfe(n,r)}catch{return!0}}function lfe(e,t,n){return t()}const cfe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ffe=!cfe,dfe=ffe?lfe:ufe;"useSyncExternalStore"in Id&&(e=>e.useSyncExternalStore)(Id);const QH=w.createContext(null),jN=w.createContext(null),ES=w.createContext(null),wS=w.createContext(null),bf=w.createContext({outlet:null,matches:[]}),XH=w.createContext(null);function yP(){return yP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yP.apply(this,arguments)}function hfe(e,t){let{relative:n}=t===void 0?{}:t;Rm()||zr(!1);let{basename:r,navigator:i}=w.useContext(ES),{hash:s,pathname:o,search:a}=gfe(e,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:$c([r,o])),i.createHref({pathname:u,search:a,hash:s})}function Rm(){return w.useContext(wS)!=null}function Nm(){return Rm()||zr(!1),w.useContext(wS).location}function Qd(){Rm()||zr(!1);let{basename:e,navigator:t}=w.useContext(ES),{matches:n}=w.useContext(bf),{pathname:r}=Nm(),i=JSON.stringify(YH(n).map(a=>a.pathnameBase)),s=w.useRef(!1);return w.useEffect(()=>{s.current=!0}),w.useCallback(function(a,u){if(u===void 0&&(u={}),!s.current)return;if(typeof a=="number"){t.go(a);return}let l=GH(a,JSON.parse(i),r,u.relative==="path");e!=="/"&&(l.pathname=l.pathname==="/"?e:$c([e,l.pathname])),(u.replace?t.replace:t.push)(l,u.state,u)},[e,t,i,r])}const pfe=w.createContext(null);function mfe(e){let t=w.useContext(bf).outlet;return t&&w.createElement(pfe.Provider,{value:e},t)}function UN(){let{matches:e}=w.useContext(bf),t=e[e.length-1];return t?t.params:{}}function gfe(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=w.useContext(bf),{pathname:i}=Nm(),s=JSON.stringify(YH(r).map(o=>o.pathnameBase));return w.useMemo(()=>GH(e,JSON.parse(s),i,n==="path"),[e,s,i,n])}function JH(e,t){Rm()||zr(!1);let{navigator:n}=w.useContext(ES),r=w.useContext(jN),{matches:i}=w.useContext(bf),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let u=Nm(),l;if(t){var c;let m=typeof t=="string"?Pm(t):t;a==="/"||(c=m.pathname)!=null&&c.startsWith(a)||zr(!1),l=m}else l=u;let f=l.pathname||"/",d=a==="/"?f:f.slice(a.length)||"/",h=Dce(e,{pathname:d}),p=bfe(h&&h.map(m=>Object.assign({},m,{params:Object.assign({},o,m.params),pathname:$c([a,n.encodeLocation?n.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?a:$c([a,n.encodeLocation?n.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),i,r||void 0);return t&&p?w.createElement(wS.Provider,{value:{location:yP({pathname:"/",search:"",hash:"",state:null,key:"default"},l),navigationType:Tc.Pop}},p):p}function yfe(){let e=Sfe(),t=efe(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),n?w.createElement("pre",{style:i},n):null,s)}class _fe extends w.Component{constructor(t){super(t),this.state={location:t.location,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location?{error:t.error,location:t.location}:{error:t.error||n.error,location:n.location}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?w.createElement(bf.Provider,{value:this.props.routeContext},w.createElement(XH.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function vfe(e){let{routeContext:t,match:n,children:r}=e,i=w.useContext(QH);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(bf.Provider,{value:t},r)}function bfe(e,t,n){if(t===void 0&&(t=[]),e==null)if(n!=null&&n.errors)e=n.matches;else return null;let r=e,i=n==null?void 0:n.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));s>=0||zr(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,a)=>{let u=o.route.id?i==null?void 0:i[o.route.id]:null,l=null;n&&(o.route.ErrorBoundary?l=w.createElement(o.route.ErrorBoundary,null):o.route.errorElement?l=o.route.errorElement:l=w.createElement(yfe,null));let c=t.concat(r.slice(0,a+1)),f=()=>{let d=s;return u?d=l:o.route.Component?d=w.createElement(o.route.Component,null):o.route.element&&(d=o.route.element),w.createElement(vfe,{match:o,routeContext:{outlet:s,matches:c},children:d})};return n&&(o.route.ErrorBoundary||o.route.errorElement||a===0)?w.createElement(_fe,{location:n.location,component:l,error:u,children:f(),routeContext:{outlet:null,matches:c}}):f()},null)}var bM;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"})(bM||(bM={}));var Xb;(function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"})(Xb||(Xb={}));function Efe(e){let t=w.useContext(jN);return t||zr(!1),t}function wfe(e){let t=w.useContext(bf);return t||zr(!1),t}function Tfe(e){let t=wfe(),n=t.matches[t.matches.length-1];return n.route.id||zr(!1),n.route.id}function Sfe(){var e;let t=w.useContext(XH),n=Efe(Xb.UseRouteError),r=Tfe(Xb.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function Ife(e){let{to:t,replace:n,state:r,relative:i}=e;Rm()||zr(!1);let s=w.useContext(jN),o=Qd();return w.useEffect(()=>{s&&s.navigation.state!=="idle"||o(t,{replace:n,state:r,relative:i})}),null}function xfe(e){return mfe(e.context)}function _P(e){zr(!1)}function Cfe(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Tc.Pop,navigator:s,static:o=!1}=e;Rm()&&zr(!1);let a=t.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=Pm(r));let{pathname:l="/",search:c="",hash:f="",state:d=null,key:h="default"}=r,p=w.useMemo(()=>{let m=qH(l,a);return m==null?null:{location:{pathname:m,search:c,hash:f,state:d,key:h},navigationType:i}},[a,l,c,f,d,h,i]);return p==null?null:w.createElement(ES.Provider,{value:u},w.createElement(wS.Provider,{children:n,value:p}))}function Afe(e){let{children:t,location:n}=e,r=w.useContext(QH),i=r&&!t?r.router.routes:vP(t);return JH(i,n)}var EM;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(EM||(EM={}));new Promise(()=>{});function vP(e,t){t===void 0&&(t=[]);let n=[];return w.Children.forEach(e,(r,i)=>{if(!w.isValidElement(r))return;let s=[...t,i];if(r.type===w.Fragment){n.push.apply(n,vP(r.props.children,s));return}r.type!==_P&&zr(!1),!r.props.index||!r.props.children||zr(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=vP(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bP(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function Ofe(e,t){let n=bP(e);if(t)for(let r of t.keys())n.has(r)||t.getAll(r).forEach(i=>{n.append(r,i)});return n}function Pfe(e){let{basename:t,children:n,window:r}=e,i=w.useRef();i.current==null&&(i.current=Rce({window:r,v5Compat:!0}));let s=i.current,[o,a]=w.useState({action:s.action,location:s.location});return w.useLayoutEffect(()=>s.listen(a),[s]),w.createElement(Cfe,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:s})}var wM;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(wM||(wM={}));var TM;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(TM||(TM={}));function VN(e){let t=w.useRef(bP(e)),n=w.useRef(!1),r=Nm(),i=w.useMemo(()=>Ofe(r.search,n.current?null:t.current),[r.search]),s=Qd(),o=w.useCallback((a,u)=>{const l=bP(typeof a=="function"?a(i):a);n.current=!0,s("?"+l,u)},[s,i]);return[i,o]}function Jb(e,t){let n=e;for(;(n=n.parentElement)&&!n.matches(t););return n}function Rfe(e,t,n){for(let r=e-1;r>=0;r-=1)if(!t[r].disabled)return r;if(n){for(let r=t.length-1;r>-1;r-=1)if(!t[r].disabled)return r}return e}function Nfe(e,t,n){for(let r=e+1;r<t.length;r+=1)if(!t[r].disabled)return r;if(n){for(let r=0;r<t.length;r+=1)if(!t[r].disabled)return r}return e}function kfe(e,t,n){return Jb(e,n)===Jb(t,n)}function Dfe({parentSelector:e,siblingSelector:t,onKeyDown:n,loop:r=!0,activateOnFocus:i=!1,dir:s="rtl",orientation:o}){return a=>{var u;n==null||n(a);const l=Array.from(((u=Jb(a.currentTarget,e))==null?void 0:u.querySelectorAll(t))||[]).filter(m=>kfe(a.currentTarget,m,e)),c=l.findIndex(m=>a.currentTarget===m),f=Nfe(c,l,r),d=Rfe(c,l,r),h=s==="rtl"?d:f,p=s==="rtl"?f:d;switch(a.key){case"ArrowRight":{o==="horizontal"&&(a.stopPropagation(),a.preventDefault(),l[h].focus(),i&&l[h].click());break}case"ArrowLeft":{o==="horizontal"&&(a.stopPropagation(),a.preventDefault(),l[p].focus(),i&&l[p].click());break}case"ArrowUp":{o==="vertical"&&(a.stopPropagation(),a.preventDefault(),l[d].focus(),i&&l[d].click());break}case"ArrowDown":{o==="vertical"&&(a.stopPropagation(),a.preventDefault(),l[f].focus(),i&&l[f].click());break}case"Home":{a.stopPropagation(),a.preventDefault(),!l[0].disabled&&l[0].focus();break}case"End":{a.stopPropagation(),a.preventDefault();const m=l.length-1;!l[m].disabled&&l[m].focus();break}}}}function $fe(e,t,n){var r;return n?Array.from(((r=Jb(n,t))==null?void 0:r.querySelectorAll(e))||[]).findIndex(i=>i===n):null}function ZH(e){const t=w.createContext(null);return[({children:i,value:s})=>k.createElement(t.Provider,{value:s},i),()=>{const i=w.useContext(t);if(i===null)throw new Error(e);return i}]}function Rd(e){return Array.isArray(e)?e:[e]}const Lfe=()=>{};function Mfe(e,t={active:!0}){return typeof e!="function"||!t.active?t.onKeyDown||Lfe:n=>{var r;n.key==="Escape"&&(e(n),(r=t.onTrigger)==null||r.call(t))}}function el(e,t){return n=>{e==null||e(n),t==null||t(n)}}function Ffe(){const[e,t]=w.useState(-1);return[e,{setHovered:t,resetHovered:()=>t(-1)}]}function eW({data:e}){const t=[],n=[],r=e.reduce((i,s,o)=>(s.group?i[s.group]?i[s.group].push(o):i[s.group]=[o]:n.push(o),i),{});return Object.keys(r).forEach(i=>{t.push(...r[i].map(s=>e[s]))}),t.push(...n.map(i=>e[i])),t}function v_(e){return Array.isArray(e)||e===null?!1:typeof e=="object"?e.type!==k.Fragment:!1}function tW(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=tW(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function nW(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=tW(t))&&(r&&(r+=" "),r+=n);return r}const Bfe={dark:["#C1C2C5","#A6A7AB","#909296","#5c5f66","#373A40","#2C2E33","#25262b","#1A1B1E","#141517","#101113"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]};function jfe(e){return()=>({fontFamily:e.fontFamily||"sans-serif"})}var Ufe=Object.defineProperty,SM=Object.getOwnPropertySymbols,Vfe=Object.prototype.hasOwnProperty,zfe=Object.prototype.propertyIsEnumerable,IM=(e,t,n)=>t in e?Ufe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xM=(e,t)=>{for(var n in t||(t={}))Vfe.call(t,n)&&IM(e,n,t[n]);if(SM)for(var n of SM(t))zfe.call(t,n)&&IM(e,n,t[n]);return e};function Hfe(e){return t=>({WebkitTapHighlightColor:"transparent",[t||"&:focus"]:xM({},e.focusRing==="always"||e.focusRing==="auto"?e.focusRingStyles.styles(e):e.focusRingStyles.resetStyles(e)),[t?t.replace(":focus",":focus:not(:focus-visible)"):"&:focus:not(:focus-visible)"]:xM({},e.focusRing==="auto"||e.focusRing==="never"?e.focusRingStyles.resetStyles(e):null)})}function b_(e){return t=>typeof e.primaryShade=="number"?e.primaryShade:e.primaryShade[t||e.colorScheme]}function zN(e){const t=b_(e);return(n,r,i=!0,s=!0)=>{if(typeof n=="string"&&n.includes(".")){const[a,u]=n.split("."),l=parseInt(u,10);if(a in e.colors&&l>=0&&l<10)return e.colors[a][typeof r=="number"&&!s?r:l]}const o=typeof r=="number"?r:t();return n in e.colors?e.colors[n][o]:i?e.colors[e.primaryColor][o]:n}}function rW(e){let t="";for(let n=1;n<e.length-1;n+=1)t+=`${e[n]} ${n/(e.length-1)*100}%, `;return`${e[0]} 0%, ${t}${e[e.length-1]} 100%`}function Wfe(e,...t){return`linear-gradient(${e}deg, ${rW(t)})`}function qfe(...e){return`radial-gradient(circle, ${rW(e)})`}function iW(e){const t=zN(e),n=b_(e);return r=>{const i={from:(r==null?void 0:r.from)||e.defaultGradient.from,to:(r==null?void 0:r.to)||e.defaultGradient.to,deg:(r==null?void 0:r.deg)||e.defaultGradient.deg};return`linear-gradient(${i.deg}deg, ${t(i.from,n(),!1)} 0%, ${t(i.to,n(),!1)} 100%)`}}function HN(e){if(typeof e.size=="number")return e.size;const t=e.sizes[e.size];return t!==void 0?t:e.size||e.sizes.md}function Yfe(e){return t=>`@media (min-width: ${HN({size:t,sizes:e.breakpoints})}px)`}function Gfe(e){return t=>`@media (max-width: ${HN({size:t,sizes:e.breakpoints})-1}px)`}function Kfe(e){return/^#?([0-9A-F]{3}){1,2}$/i.test(e)}function Qfe(e){let t=e.replace("#","");if(t.length===3){const o=t.split("");t=[o[0],o[0],o[1],o[1],o[2],o[2]].join("")}const n=parseInt(t,16),r=n>>16&255,i=n>>8&255,s=n&255;return{r,g:i,b:s,a:1}}function Xfe(e){const[t,n,r,i]=e.replace(/[^0-9,.]/g,"").split(",").map(Number);return{r:t,g:n,b:r,a:i||1}}function WN(e){return Kfe(e)?Qfe(e):e.startsWith("rgb")?Xfe(e):{r:0,g:0,b:0,a:1}}function Ah(e,t){if(typeof e!="string"||t>1||t<0)return"rgba(0, 0, 0, 1)";const{r:n,g:r,b:i}=WN(e);return`rgba(${n}, ${r}, ${i}, ${t})`}function Jfe(e=0){return{position:"absolute",top:e,right:e,left:e,bottom:e}}function Zfe(e,t){const{r:n,g:r,b:i,a:s}=WN(e),o=1-t,a=u=>Math.round(u*o);return`rgba(${a(n)}, ${a(r)}, ${a(i)}, ${s})`}function ede(e,t){const{r:n,g:r,b:i,a:s}=WN(e),o=a=>Math.round(a+(255-a)*t);return`rgba(${o(n)}, ${o(r)}, ${o(i)}, ${s})`}function tde(e){return t=>{if(typeof t=="number")return t;const n=typeof e.defaultRadius=="number"?e.defaultRadius:e.radius[e.defaultRadius]||e.defaultRadius;return e.radius[t]||t||n}}function nde(e,t){if(typeof e=="string"&&e.includes(".")){const[n,r]=e.split("."),i=parseInt(r,10);if(n in t.colors&&i>=0&&i<10)return{isSplittedColor:!0,key:n,shade:i}}return{isSplittedColor:!1}}function rde(e){const t=zN(e),n=b_(e),r=iW(e);return({variant:i,color:s,gradient:o,primaryFallback:a})=>{const u=nde(s,e);switch(i){case"light":return{border:"transparent",background:Ah(t(s,e.colorScheme==="dark"?8:0,a,!1),e.colorScheme==="dark"?.2:1),color:s==="dark"?e.colorScheme==="dark"?e.colors.dark[0]:e.colors.dark[9]:t(s,e.colorScheme==="dark"?2:n("light")),hover:Ah(t(s,e.colorScheme==="dark"?7:1,a,!1),e.colorScheme==="dark"?.25:.65)};case"subtle":return{border:"transparent",background:"transparent",color:s==="dark"?e.colorScheme==="dark"?e.colors.dark[0]:e.colors.dark[9]:t(s,e.colorScheme==="dark"?2:n("light")),hover:Ah(t(s,e.colorScheme==="dark"?8:0,a,!1),e.colorScheme==="dark"?.2:1)};case"outline":return{border:t(s,e.colorScheme==="dark"?5:n("light")),background:"transparent",color:t(s,e.colorScheme==="dark"?5:n("light")),hover:e.colorScheme==="dark"?Ah(t(s,5,a,!1),.05):Ah(t(s,0,a,!1),.35)};case"default":return{border:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4],background:e.colorScheme==="dark"?e.colors.dark[6]:e.white,color:e.colorScheme==="dark"?e.white:e.black,hover:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[0]};case"white":return{border:"transparent",background:e.white,color:t(s,n()),hover:null};case"transparent":return{border:"transparent",color:s==="dark"?e.colorScheme==="dark"?e.colors.dark[0]:e.colors.dark[9]:t(s,e.colorScheme==="dark"?2:n("light")),background:"transparent",hover:null};case"gradient":return{background:r(o),color:e.white,border:"transparent",hover:null};default:{const l=n(),c=u.isSplittedColor?u.shade:l,f=u.isSplittedColor?u.key:s;return{border:"transparent",background:t(f,c,a),color:e.white,hover:t(f,c===9?8:c+1)}}}}}function ide(e){return t=>{const n=b_(e)(t);return e.colors[e.primaryColor][n]}}function sde(e){return{"@media (hover: hover)":{"&:hover":e},"@media (hover: none)":{"&:active":e}}}const si={fontStyles:jfe,themeColor:zN,focusStyles:Hfe,linearGradient:Wfe,radialGradient:qfe,smallerThan:Gfe,largerThan:Yfe,rgba:Ah,size:HN,cover:Jfe,darken:Zfe,lighten:ede,radius:tde,variant:rde,primaryShade:b_,hover:sde,gradient:iW,primaryColor:ide};var ode=Object.defineProperty,ade=Object.defineProperties,ude=Object.getOwnPropertyDescriptors,CM=Object.getOwnPropertySymbols,lde=Object.prototype.hasOwnProperty,cde=Object.prototype.propertyIsEnumerable,AM=(e,t,n)=>t in e?ode(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fde=(e,t)=>{for(var n in t||(t={}))lde.call(t,n)&&AM(e,n,t[n]);if(CM)for(var n of CM(t))cde.call(t,n)&&AM(e,n,t[n]);return e},dde=(e,t)=>ade(e,ude(t));function hde(e){return dde(fde({},e),{fn:{fontStyles:si.fontStyles(e),themeColor:si.themeColor(e),focusStyles:si.focusStyles(e),largerThan:si.largerThan(e),smallerThan:si.smallerThan(e),radialGradient:si.radialGradient,linearGradient:si.linearGradient,gradient:si.gradient(e),rgba:si.rgba,size:si.size,cover:si.cover,lighten:si.lighten,darken:si.darken,primaryShade:si.primaryShade(e),radius:si.radius(e),variant:si.variant(e),hover:si.hover,primaryColor:si.primaryColor(e)}})}const pde=["xs","sm","md","lg","xl"],mde={dir:"ltr",primaryShade:{light:6,dark:8},focusRing:"auto",loader:"oval",dateFormat:"MMMM D, YYYY",colorScheme:"light",white:"#fff",black:"#000",defaultRadius:"sm",transitionTimingFunction:"ease",colors:Bfe,lineHeight:1.55,fontFamily:"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",primaryColor:"blue",respectReducedMotion:!0,cursorType:"default",defaultGradient:{from:"indigo",to:"cyan",deg:45},shadows:{xs:"0 1px 3px rgba(0, 0, 0, 0.05), 0 1px 2px rgba(0, 0, 0, 0.1)",sm:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 10px 15px -5px, rgba(0, 0, 0, 0.04) 0px 7px 7px -5px",md:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 20px 25px -5px, rgba(0, 0, 0, 0.04) 0px 10px 10px -5px",lg:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 28px 23px -7px, rgba(0, 0, 0, 0.04) 0px 12px 12px -7px",xl:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 36px 28px -7px, rgba(0, 0, 0, 0.04) 0px 17px 17px -7px"},fontSizes:{xs:12,sm:14,md:16,lg:18,xl:20},radius:{xs:2,sm:4,md:8,lg:16,xl:32},spacing:{xs:10,sm:12,md:16,lg:20,xl:24},breakpoints:{xs:576,sm:768,md:992,lg:1200,xl:1400},headings:{fontFamily:"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",fontWeight:700,sizes:{h1:{fontSize:34,lineHeight:1.3,fontWeight:void 0},h2:{fontSize:26,lineHeight:1.35,fontWeight:void 0},h3:{fontSize:22,lineHeight:1.4,fontWeight:void 0},h4:{fontSize:18,lineHeight:1.45,fontWeight:void 0},h5:{fontSize:16,lineHeight:1.5,fontWeight:void 0},h6:{fontSize:14,lineHeight:1.5,fontWeight:void 0}}},other:{},components:{},activeStyles:{transform:"translateY(1px)"},datesLocale:"en",globalStyles:void 0,focusRingStyles:{styles:e=>({outlineOffset:2,outline:`2px solid ${e.colors[e.primaryColor][e.colorScheme==="dark"?7:5]}`}),resetStyles:()=>({outline:"none"}),inputStyles:e=>({outline:"none",borderColor:e.colors[e.primaryColor][typeof e.primaryShade=="object"?e.primaryShade[e.colorScheme]:e.primaryShade]})}},sW=hde(mde);function gde(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function yde(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var _de=function(){function e(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(yde(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=gde(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},e}(),Vi="-ms-",Zb="-moz-",Tn="-webkit-",oW="comm",qN="rule",YN="decl",vde="@import",aW="@keyframes",bde=Math.abs,TS=String.fromCharCode,Ede=Object.assign;function wde(e,t){return Ci(e,0)^45?(((t<<2^Ci(e,0))<<2^Ci(e,1))<<2^Ci(e,2))<<2^Ci(e,3):0}function uW(e){return e.trim()}function Tde(e,t){return(e=t.exec(e))?e[0]:e}function Cn(e,t,n){return e.replace(t,n)}function EP(e,t){return e.indexOf(t)}function Ci(e,t){return e.charCodeAt(t)|0}function _y(e,t,n){return e.slice(t,n)}function qa(e){return e.length}function GN(e){return e.length}function Mv(e,t){return t.push(e),e}function Sde(e,t){return e.map(t).join("")}var SS=1,qp=1,lW=0,js=0,jr=0,km="";function IS(e,t,n,r,i,s,o){return{value:e,root:t,parent:n,type:r,props:i,children:s,line:SS,column:qp,length:o,return:""}}function T0(e,t){return Ede(IS("",null,null,"",null,null,0),e,{length:-e.length},t)}function Ide(){return jr}function xde(){return jr=js>0?Ci(km,--js):0,qp--,jr===10&&(qp=1,SS--),jr}function lo(){return jr=js<lW?Ci(km,js++):0,qp++,jr===10&&(qp=1,SS++),jr}function du(){return Ci(km,js)}function G1(){return js}function E_(e,t){return _y(km,e,t)}function vy(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function cW(e){return SS=qp=1,lW=qa(km=e),js=0,[]}function fW(e){return km="",e}function K1(e){return uW(E_(js-1,wP(e===91?e+2:e===40?e+1:e)))}function Cde(e){for(;(jr=du())&&jr<33;)lo();return vy(e)>2||vy(jr)>3?"":" "}function Ade(e,t){for(;--t&&lo()&&!(jr<48||jr>102||jr>57&&jr<65||jr>70&&jr<97););return E_(e,G1()+(t<6&&du()==32&&lo()==32))}function wP(e){for(;lo();)switch(jr){case e:return js;case 34:case 39:e!==34&&e!==39&&wP(jr);break;case 40:e===41&&wP(e);break;case 92:lo();break}return js}function Ode(e,t){for(;lo()&&e+jr!==57;)if(e+jr===84&&du()===47)break;return"/*"+E_(t,js-1)+"*"+TS(e===47?e:lo())}function Pde(e){for(;!vy(du());)lo();return E_(e,js)}function Rde(e){return fW(Q1("",null,null,null,[""],e=cW(e),0,[0],e))}function Q1(e,t,n,r,i,s,o,a,u){for(var l=0,c=0,f=o,d=0,h=0,p=0,m=1,y=1,g=1,_=0,b="",T=i,I=s,E=r,S=b;y;)switch(p=_,_=lo()){case 40:if(p!=108&&Ci(S,f-1)==58){EP(S+=Cn(K1(_),"&","&\f"),"&\f")!=-1&&(g=-1);break}case 34:case 39:case 91:S+=K1(_);break;case 9:case 10:case 13:case 32:S+=Cde(p);break;case 92:S+=Ade(G1()-1,7);continue;case 47:switch(du()){case 42:case 47:Mv(Nde(Ode(lo(),G1()),t,n),u);break;default:S+="/"}break;case 123*m:a[l++]=qa(S)*g;case 125*m:case 59:case 0:switch(_){case 0:case 125:y=0;case 59+c:h>0&&qa(S)-f&&Mv(h>32?PM(S+";",r,n,f-1):PM(Cn(S," ","")+";",r,n,f-2),u);break;case 59:S+=";";default:if(Mv(E=OM(S,t,n,l,c,i,a,b,T=[],I=[],f),s),_===123)if(c===0)Q1(S,t,E,E,T,s,f,a,I);else switch(d===99&&Ci(S,3)===110?100:d){case 100:case 109:case 115:Q1(e,E,E,r&&Mv(OM(e,E,E,0,0,i,a,b,i,T=[],f),I),i,I,f,a,r?T:I);break;default:Q1(S,E,E,E,[""],I,0,a,I)}}l=c=h=0,m=g=1,b=S="",f=o;break;case 58:f=1+qa(S),h=p;default:if(m<1){if(_==123)--m;else if(_==125&&m++==0&&xde()==125)continue}switch(S+=TS(_),_*m){case 38:g=c>0?1:(S+="\f",-1);break;case 44:a[l++]=(qa(S)-1)*g,g=1;break;case 64:du()===45&&(S+=K1(lo())),d=du(),c=f=qa(b=S+=Pde(G1())),_++;break;case 45:p===45&&qa(S)==2&&(m=0)}}return s}function OM(e,t,n,r,i,s,o,a,u,l,c){for(var f=i-1,d=i===0?s:[""],h=GN(d),p=0,m=0,y=0;p<r;++p)for(var g=0,_=_y(e,f+1,f=bde(m=o[p])),b=e;g<h;++g)(b=uW(m>0?d[g]+" "+_:Cn(_,/&\f/g,d[g])))&&(u[y++]=b);return IS(e,t,n,i===0?qN:a,u,l,c)}function Nde(e,t,n){return IS(e,t,n,oW,TS(Ide()),_y(e,2,-2),0)}function PM(e,t,n,r){return IS(e,t,n,YN,_y(e,0,r),_y(e,r+1,-1),r)}function mp(e,t){for(var n="",r=GN(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function kde(e,t,n,r){switch(e.type){case vde:case YN:return e.return=e.return||e.value;case oW:return"";case aW:return e.return=e.value+"{"+mp(e.children,r)+"}";case qN:e.value=e.props.join(",")}return qa(n=mp(e.children,r))?e.return=e.value+"{"+n+"}":""}function Dde(e){var t=GN(e);return function(n,r,i,s){for(var o="",a=0;a<t;a++)o+=e[a](n,r,i,s)||"";return o}}function $de(e){return function(t){t.root||(t=t.return)&&e(t)}}function Lde(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var Mde=function(t,n,r){for(var i=0,s=0;i=s,s=du(),i===38&&s===12&&(n[r]=1),!vy(s);)lo();return E_(t,js)},Fde=function(t,n){var r=-1,i=44;do switch(vy(i)){case 0:i===38&&du()===12&&(n[r]=1),t[r]+=Mde(js-1,n,r);break;case 2:t[r]+=K1(i);break;case 4:if(i===44){t[++r]=du()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=TS(i)}while(i=lo());return t},Bde=function(t,n){return fW(Fde(cW(t),n))},RM=new WeakMap,jde=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!RM.get(r))&&!i){RM.set(t,!0);for(var s=[],o=Bde(n,s),a=r.props,u=0,l=0;u<o.length;u++)for(var c=0;c<a.length;c++,l++)t.props[l]=s[u]?o[u].replace(/&\f/g,a[c]):a[c]+" "+o[u]}}},Ude=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function dW(e,t){switch(wde(e,t)){case 5103:return Tn+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Tn+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Tn+e+Zb+e+Vi+e+e;case 6828:case 4268:return Tn+e+Vi+e+e;case 6165:return Tn+e+Vi+"flex-"+e+e;case 5187:return Tn+e+Cn(e,/(\w+).+(:[^]+)/,Tn+"box-$1$2"+Vi+"flex-$1$2")+e;case 5443:return Tn+e+Vi+"flex-item-"+Cn(e,/flex-|-self/,"")+e;case 4675:return Tn+e+Vi+"flex-line-pack"+Cn(e,/align-content|flex-|-self/,"")+e;case 5548:return Tn+e+Vi+Cn(e,"shrink","negative")+e;case 5292:return Tn+e+Vi+Cn(e,"basis","preferred-size")+e;case 6060:return Tn+"box-"+Cn(e,"-grow","")+Tn+e+Vi+Cn(e,"grow","positive")+e;case 4554:return Tn+Cn(e,/([^-])(transform)/g,"$1"+Tn+"$2")+e;case 6187:return Cn(Cn(Cn(e,/(zoom-|grab)/,Tn+"$1"),/(image-set)/,Tn+"$1"),e,"")+e;case 5495:case 3959:return Cn(e,/(image-set\([^]*)/,Tn+"$1$`$1");case 4968:return Cn(Cn(e,/(.+:)(flex-)?(.*)/,Tn+"box-pack:$3"+Vi+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Tn+e+e;case 4095:case 3583:case 4068:case 2532:return Cn(e,/(.+)-inline(.+)/,Tn+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(qa(e)-1-t>6)switch(Ci(e,t+1)){case 109:if(Ci(e,t+4)!==45)break;case 102:return Cn(e,/(.+:)(.+)-([^]+)/,"$1"+Tn+"$2-$3$1"+Zb+(Ci(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~EP(e,"stretch")?dW(Cn(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Ci(e,t+1)!==115)break;case 6444:switch(Ci(e,qa(e)-3-(~EP(e,"!important")&&10))){case 107:return Cn(e,":",":"+Tn)+e;case 101:return Cn(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Tn+(Ci(e,14)===45?"inline-":"")+"box$3$1"+Tn+"$2$3$1"+Vi+"$2box$3")+e}break;case 5936:switch(Ci(e,t+11)){case 114:return Tn+e+Vi+Cn(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Tn+e+Vi+Cn(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Tn+e+Vi+Cn(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Tn+e+Vi+e+e}return e}var Vde=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case YN:t.return=dW(t.value,t.length);break;case aW:return mp([T0(t,{value:Cn(t.value,"@","@"+Tn)})],i);case qN:if(t.length)return Sde(t.props,function(s){switch(Tde(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return mp([T0(t,{props:[Cn(s,/:(read-\w+)/,":"+Zb+"$1")]})],i);case"::placeholder":return mp([T0(t,{props:[Cn(s,/:(plac\w+)/,":"+Tn+"input-$1")]}),T0(t,{props:[Cn(s,/:(plac\w+)/,":"+Zb+"$1")]}),T0(t,{props:[Cn(s,/:(plac\w+)/,Vi+"input-$1")]})],i)}return""})}},zde=[Vde],Hde=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(m){var y=m.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var i=t.stylisPlugins||zde,s={},o,a=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(m){for(var y=m.getAttribute("data-emotion").split(" "),g=1;g<y.length;g++)s[y[g]]=!0;a.push(m)});var u,l=[jde,Ude];{var c,f=[kde,$de(function(m){c.insert(m)})],d=Dde(l.concat(i,f)),h=function(y){return mp(Rde(y),d)};u=function(y,g,_,b){c=_,h(y?y+"{"+g.styles+"}":g.styles),b&&(p.inserted[g.name]=!0)}}var p={key:n,sheet:new _de({key:n,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:s,registered:{},insert:u};return p.sheet.hydrate(a),p};const hW=Hde;function cr(){return cr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cr.apply(this,arguments)}var pW={exports:{}},kn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pi=typeof Symbol=="function"&&Symbol.for,KN=pi?Symbol.for("react.element"):60103,QN=pi?Symbol.for("react.portal"):60106,xS=pi?Symbol.for("react.fragment"):60107,CS=pi?Symbol.for("react.strict_mode"):60108,AS=pi?Symbol.for("react.profiler"):60114,OS=pi?Symbol.for("react.provider"):60109,PS=pi?Symbol.for("react.context"):60110,XN=pi?Symbol.for("react.async_mode"):60111,RS=pi?Symbol.for("react.concurrent_mode"):60111,NS=pi?Symbol.for("react.forward_ref"):60112,kS=pi?Symbol.for("react.suspense"):60113,Wde=pi?Symbol.for("react.suspense_list"):60120,DS=pi?Symbol.for("react.memo"):60115,$S=pi?Symbol.for("react.lazy"):60116,qde=pi?Symbol.for("react.block"):60121,Yde=pi?Symbol.for("react.fundamental"):60117,Gde=pi?Symbol.for("react.responder"):60118,Kde=pi?Symbol.for("react.scope"):60119;function Eo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case KN:switch(e=e.type,e){case XN:case RS:case xS:case AS:case CS:case kS:return e;default:switch(e=e&&e.$$typeof,e){case PS:case NS:case $S:case DS:case OS:return e;default:return t}}case QN:return t}}}function mW(e){return Eo(e)===RS}kn.AsyncMode=XN;kn.ConcurrentMode=RS;kn.ContextConsumer=PS;kn.ContextProvider=OS;kn.Element=KN;kn.ForwardRef=NS;kn.Fragment=xS;kn.Lazy=$S;kn.Memo=DS;kn.Portal=QN;kn.Profiler=AS;kn.StrictMode=CS;kn.Suspense=kS;kn.isAsyncMode=function(e){return mW(e)||Eo(e)===XN};kn.isConcurrentMode=mW;kn.isContextConsumer=function(e){return Eo(e)===PS};kn.isContextProvider=function(e){return Eo(e)===OS};kn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===KN};kn.isForwardRef=function(e){return Eo(e)===NS};kn.isFragment=function(e){return Eo(e)===xS};kn.isLazy=function(e){return Eo(e)===$S};kn.isMemo=function(e){return Eo(e)===DS};kn.isPortal=function(e){return Eo(e)===QN};kn.isProfiler=function(e){return Eo(e)===AS};kn.isStrictMode=function(e){return Eo(e)===CS};kn.isSuspense=function(e){return Eo(e)===kS};kn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===xS||e===RS||e===AS||e===CS||e===kS||e===Wde||typeof e=="object"&&e!==null&&(e.$$typeof===$S||e.$$typeof===DS||e.$$typeof===OS||e.$$typeof===PS||e.$$typeof===NS||e.$$typeof===Yde||e.$$typeof===Gde||e.$$typeof===Kde||e.$$typeof===qde)};kn.typeOf=Eo;pW.exports=kn;var Qde=pW.exports,gW=Qde,Xde={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Jde={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},yW={};yW[gW.ForwardRef]=Xde;yW[gW.Memo]=Jde;var Zde=!0;function ehe(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):r+=i+" "}),r}var the=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||Zde===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},_W=function(t,n,r){the(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var s=n;do t.insert(n===s?"."+i:"",s,t.sheet,!0),s=s.next;while(s!==void 0)}};function nhe(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var rhe={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},ihe=/[A-Z]|^ms/g,she=/_EMO_([^_]+?)_([^]*?)_EMO_/g,vW=function(t){return t.charCodeAt(1)===45},NM=function(t){return t!=null&&typeof t!="boolean"},yC=Lde(function(e){return vW(e)?e:e.replace(ihe,"-$&").toLowerCase()}),kM=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(she,function(r,i,s){return Ya={name:i,styles:s,next:Ya},i})}return rhe[t]!==1&&!vW(t)&&typeof n=="number"&&n!==0?n+"px":n};function by(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Ya={name:n.name,styles:n.styles,next:Ya},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Ya={name:r.name,styles:r.styles,next:Ya},r=r.next;var i=n.styles+";";return i}return ohe(e,t,n)}case"function":{if(e!==void 0){var s=Ya,o=n(e);return Ya=s,by(e,t,o)}break}}if(t==null)return n;var a=t[n];return a!==void 0?a:n}function ohe(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=by(e,t,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")t!=null&&t[o]!==void 0?r+=s+"{"+t[o]+"}":NM(o)&&(r+=yC(s)+":"+kM(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(t==null||t[o[0]]===void 0))for(var a=0;a<o.length;a++)NM(o[a])&&(r+=yC(s)+":"+kM(s,o[a])+";");else{var u=by(e,t,o);switch(s){case"animation":case"animationName":{r+=yC(s)+":"+u+";";break}default:r+=s+"{"+u+"}"}}}return r}var DM=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Ya,JN=function(t,n,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,s="";Ya=void 0;var o=t[0];o==null||o.raw===void 0?(i=!1,s+=by(r,n,o)):s+=o[0];for(var a=1;a<t.length;a++)s+=by(r,n,t[a]),i&&(s+=o[a]);DM.lastIndex=0;for(var u="",l;(l=DM.exec(s))!==null;)u+="-"+l[1];var c=nhe(s)+u;return{name:c,styles:s,next:Ya}},ahe=Id.useInsertionEffect?Id.useInsertionEffect:!1,$M=ahe||w.useLayoutEffect,bW=w.createContext(typeof HTMLElement<"u"?hW({key:"css"}):null);bW.Provider;var uhe=function(t){return w.forwardRef(function(n,r){var i=w.useContext(bW);return t(n,i,r)})},lhe=w.createContext({}),che=uhe(function(e,t){var n=e.styles,r=JN([n],void 0,w.useContext(lhe)),i=w.useRef();return $M(function(){var s=t.key+"-global",o=new t.sheet.constructor({key:s,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),a=!1,u=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return t.sheet.tags.length&&(o.before=t.sheet.tags[0]),u!==null&&(a=!0,u.setAttribute("data-emotion",s),o.hydrate([u])),i.current=[o,a],function(){o.flush()}},[t]),$M(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&_W(t,r.next,!0),o.tags.length){var u=o.tags[o.tags.length-1].nextElementSibling;o.before=u,o.flush()}t.insert("",r,o,!1)},[t,r.name]),null});function EW(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return JN(t)}var fhe=function(){var t=EW.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function wW(e){return Object.keys(e).reduce((t,n)=>(e[n]!==void 0&&(t[n]=e[n]),t),{})}var dhe=Object.defineProperty,LM=Object.getOwnPropertySymbols,hhe=Object.prototype.hasOwnProperty,phe=Object.prototype.propertyIsEnumerable,MM=(e,t,n)=>t in e?dhe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_C=(e,t)=>{for(var n in t||(t={}))hhe.call(t,n)&&MM(e,n,t[n]);if(LM)for(var n of LM(t))phe.call(t,n)&&MM(e,n,t[n]);return e};const TW=w.createContext({theme:sW});function ts(){var e;return((e=w.useContext(TW))==null?void 0:e.theme)||sW}function mhe(e){const t=ts(),n=r=>{var i,s;return{styles:((i=t.components[r])==null?void 0:i.styles)||{},classNames:((s=t.components[r])==null?void 0:s.classNames)||{}}};return Array.isArray(e)?e.map(n):[n(e)]}function SW(){var e;return(e=w.useContext(TW))==null?void 0:e.emotionCache}function ht(e,t,n){var r;const s=(r=ts().components[e])==null?void 0:r.defaultProps;return _C(_C(_C({},t),s),wW(n))}const IW=w.createContext({classNames:{},styles:{},unstyled:!1});function xW({children:e,classNames:t,unstyled:n,styles:r,staticSelector:i}){return k.createElement(IW.Provider,{value:{classNames:t,styles:r,unstyled:n,staticSelector:i}},e)}function w_(){return w.useContext(IW)}const ghe={app:100,modal:200,popover:300,overlay:400,max:9999};function wo(e){return ghe[e]}function yhe(e,t){const n=w.useRef();return(!n.current||t.length!==n.current.prevDeps.length||n.current.prevDeps.map((r,i)=>r===t[i]).indexOf(!1)>=0)&&(n.current={v:e(),prevDeps:[...t]}),n.current.v}const _he=hW({key:"mantine",prepend:!0});function vhe(){return SW()||_he}var bhe=Object.defineProperty,FM=Object.getOwnPropertySymbols,Ehe=Object.prototype.hasOwnProperty,whe=Object.prototype.propertyIsEnumerable,BM=(e,t,n)=>t in e?bhe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,The=(e,t)=>{for(var n in t||(t={}))Ehe.call(t,n)&&BM(e,n,t[n]);if(FM)for(var n of FM(t))whe.call(t,n)&&BM(e,n,t[n]);return e};const vC="ref";function She(e){let t;if(e.length!==1)return{args:e,ref:t};const[n]=e;if(!(n instanceof Object))return{args:e,ref:t};if(!(vC in n))return{args:e,ref:t};t=n[vC];const r=The({},n);return delete r[vC],{args:[r],ref:t}}const{cssFactory:Ihe}=(()=>{function e(n,r,i){const s=[],o=ehe(n,s,i);return s.length<2?i:o+r(s)}function t(n){const{cache:r}=n,i=(...o)=>{const{ref:a,args:u}=She(o),l=JN(u,r.registered);return _W(r,l,!1),`${r.key}-${l.name}${a===void 0?"":` ${a}`}`};return{css:i,cx:(...o)=>e(r.registered,i,nW(o))}}return{cssFactory:t}})();function CW(){const e=vhe();return yhe(()=>Ihe({cache:e}),[e])}function xhe({cx:e,classes:t,context:n,classNames:r,name:i,cache:s}){const o=n.reduce((a,u)=>(Object.keys(u.classNames).forEach(l=>{typeof a[l]!="string"?a[l]=`${u.classNames[l]}`:a[l]=`${a[l]} ${u.classNames[l]}`}),a),{});return Object.keys(t).reduce((a,u)=>(a[u]=e(t[u],o[u],r!=null&&r[u],Array.isArray(i)?i.filter(Boolean).map(l=>`${(s==null?void 0:s.key)||"mantine"}-${l}-${u}`).join(" "):i?`${(s==null?void 0:s.key)||"mantine"}-${i}-${u}`:null),a),{})}var Che=Object.defineProperty,jM=Object.getOwnPropertySymbols,Ahe=Object.prototype.hasOwnProperty,Ohe=Object.prototype.propertyIsEnumerable,UM=(e,t,n)=>t in e?Che(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bC=(e,t)=>{for(var n in t||(t={}))Ahe.call(t,n)&&UM(e,n,t[n]);if(jM)for(var n of jM(t))Ohe.call(t,n)&&UM(e,n,t[n]);return e};function Phe(e){return`__mantine-ref-${e||""}`}function VM(e,t,n){const r=i=>typeof i=="function"?i(t,n||{}):i||{};return Array.isArray(e)?e.map(i=>r(i.styles)).reduce((i,s)=>(Object.keys(s).forEach(o=>{i[o]?i[o]=bC(bC({},i[o]),s[o]):i[o]=bC({},s[o])}),i),{}):r(e)}function at(e){const t=typeof e=="function"?e:()=>e;function n(r,i){const s=ts(),o=mhe(i==null?void 0:i.name),a=SW(),{css:u,cx:l}=CW(),c=t(s,r,Phe),f=VM(i==null?void 0:i.styles,s,r),d=VM(o,s,r),h=Object.fromEntries(Object.keys(c).map(p=>{const m=l({[u(c[p])]:!(i!=null&&i.unstyled)},u(d[p]),u(f[p]));return[p,m]}));return{classes:xhe({cx:l,classes:h,context:o,classNames:i==null?void 0:i.classNames,name:i==null?void 0:i.name,cache:a}),cx:l,theme:s}}return n}function AW({styles:e}){const t=ts();return k.createElement(che,{styles:EW(typeof e=="function"?e(t):e)})}var Rhe=Object.defineProperty,Nhe=Object.defineProperties,khe=Object.getOwnPropertyDescriptors,zM=Object.getOwnPropertySymbols,Dhe=Object.prototype.hasOwnProperty,$he=Object.prototype.propertyIsEnumerable,HM=(e,t,n)=>t in e?Rhe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,S0=(e,t)=>{for(var n in t||(t={}))Dhe.call(t,n)&&HM(e,n,t[n]);if(zM)for(var n of zM(t))$he.call(t,n)&&HM(e,n,t[n]);return e},I0=(e,t)=>Nhe(e,khe(t));const x0={in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(.9) translateY(10px)"},transitionProperty:"transform, opacity"},Fv={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:I0(S0({},x0),{common:{transformOrigin:"center center"}}),"pop-bottom-left":I0(S0({},x0),{common:{transformOrigin:"bottom left"}}),"pop-bottom-right":I0(S0({},x0),{common:{transformOrigin:"bottom right"}}),"pop-top-left":I0(S0({},x0),{common:{transformOrigin:"top left"}}),"pop-top-right":I0(S0({},x0),{common:{transformOrigin:"top right"}})},WM=["mousedown","touchstart"];function Lhe(e,t,n){const r=w.useRef();return w.useEffect(()=>{const i=s=>{const{target:o}=s??{};if(Array.isArray(n)){const a=(o==null?void 0:o.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(o);n.every(l=>!!l&&!l.contains(o))&&!a&&e()}else r.current&&!r.current.contains(o)&&e()};return(t||WM).forEach(s=>document.addEventListener(s,i)),()=>{(t||WM).forEach(s=>document.removeEventListener(s,i))}},[r,e,n]),r}function Mhe(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch{return e.addListener(t),()=>e.removeListener(t)}}function Fhe(e,t){return typeof t=="boolean"?t:typeof window<"u"&&"matchMedia"in window?window.matchMedia(e).matches:!1}function Bhe(e,t,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[r,i]=w.useState(n?!1:Fhe(e,t)),s=w.useRef();return w.useEffect(()=>{if("matchMedia"in window)return s.current=window.matchMedia(e),i(s.current.matches),Mhe(s.current,o=>i(o.matches))},[e]),r}function Lc(e,t,n){return Math.min(Math.max(e,t),n)}const ZN=typeof document<"u"?w.useLayoutEffect:w.useEffect;function co(e,t){const n=w.useRef(!1);w.useEffect(()=>()=>{n.current=!1},[]),w.useEffect(()=>{if(n.current)return e();n.current=!0},t)}function OW({opened:e,shouldReturnFocus:t=!0}){const n=w.useRef(),r=()=>{var i;n.current&&"focus"in n.current&&typeof n.current.focus=="function"&&((i=n.current)==null||i.focus({preventScroll:!0}))};return co(()=>{let i=-1;const s=o=>{o.key==="Tab"&&window.clearTimeout(i)};return document.addEventListener("keydown",s),e?n.current=document.activeElement:t&&(i=window.setTimeout(r,10)),()=>{window.clearTimeout(i),document.removeEventListener("keydown",s)}},[e,t]),r}const jhe=/input|select|textarea|button|object/,PW="a, input, select, textarea, button, object, [tabindex]";function Uhe(e){return e.style.display==="none"}function Vhe(e){if(e.getAttribute("aria-hidden")||e.getAttribute("hidden")||e.getAttribute("type")==="hidden")return!1;let n=e;for(;n&&n!==document.body;){if(Uhe(n))return!1;n=n.parentNode}return!0}function RW(e){let t=e.getAttribute("tabindex");return t===null&&(t=void 0),parseInt(t,10)}function TP(e){const t=e.nodeName.toLowerCase(),n=!Number.isNaN(RW(e));return(jhe.test(t)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||n)&&Vhe(e)}function NW(e){const t=RW(e);return(Number.isNaN(t)||t>=0)&&TP(e)}function zhe(e){return Array.from(e.querySelectorAll(PW)).filter(NW)}function Hhe(e,t){const n=zhe(e);if(!n.length){t.preventDefault();return}if(!(n[t.shiftKey?0:n.length-1]===document.activeElement||e===document.activeElement))return;t.preventDefault();const s=n[t.shiftKey?n.length-1:0];s&&s.focus()}function Whe(e,t="body > :not(script)"){const n=Array.from(document.querySelectorAll(t)).map(r=>{if(r.contains(e))return;const i=r.getAttribute("aria-hidden");return(i===null||i==="false")&&r.setAttribute("aria-hidden","true"),{node:r,ariaHidden:i}});return()=>{n.forEach(r=>{r&&(r.ariaHidden===null?r.node.removeAttribute("aria-hidden"):r.node.setAttribute("aria-hidden",r.ariaHidden))})}}function kW(e=!0){const t=w.useRef(),n=w.useRef(null),r=w.useCallback(i=>{if(e&&i!==null&&(n.current=Whe(i),t.current!==i))if(i){const s=()=>{let o=i.querySelector("[data-autofocus]");if(!o){const a=Array.from(i.querySelectorAll(PW));o=a.find(NW)||a.find(TP)||null,!o&&TP(i)&&(o=i)}o&&o.focus({preventScroll:!0})};setTimeout(()=>{i.ownerDocument&&s()}),t.current=i}else t.current=null},[e]);return w.useEffect(()=>{if(!e)return;const i=s=>{s.key==="Tab"&&t.current&&Hhe(t.current,s)};return document.addEventListener("keydown",i),()=>{document.removeEventListener("keydown",i),n.current&&n.current()}},[e]),r}const qhe=()=>`mantine-${Math.random().toString(36).slice(2,11)}`,Yhe=k.useId||(()=>{});function Ghe(){const[e,t]=w.useState("");return ZN(()=>{t(qhe())},[]),e}function Khe(){const e=Yhe();return e?`mantine-${e.replace(/:/g,"")}`:""}function Du(e){return typeof e=="string"?e:Khe()||Ghe()}function SP(e,t,n){w.useEffect(()=>(window.addEventListener(e,t,n),()=>window.removeEventListener(e,t,n)),[e,t])}function DW(e,t){typeof e=="function"?e(t):typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function Qhe(...e){return t=>{e.forEach(n=>DW(n,t))}}function Yo(...e){return w.useCallback(Qhe(...e),e)}function $W(e,t,n="ltr"){const r=w.useRef(),i=w.useRef(!1),s=w.useRef(!1),o=w.useRef(0),[a,u]=w.useState(!1);return w.useEffect(()=>{i.current=!0},[]),w.useEffect(()=>{const l=({x:_,y:b})=>{cancelAnimationFrame(o.current),o.current=requestAnimationFrame(()=>{if(i.current&&r.current){r.current.style.userSelect="none";const T=r.current.getBoundingClientRect();if(T.width&&T.height){const I=Lc((_-T.left)/T.width,0,1);e({x:n==="ltr"?I:1-I,y:Lc((b-T.top)/T.height,0,1)})}}})},c=()=>{document.addEventListener("mousemove",m),document.addEventListener("mouseup",h),document.addEventListener("touchmove",g),document.addEventListener("touchend",h)},f=()=>{document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",h),document.removeEventListener("touchmove",g),document.removeEventListener("touchend",h)},d=()=>{!s.current&&i.current&&(s.current=!0,typeof(t==null?void 0:t.onScrubStart)=="function"&&t.onScrubStart(),u(!0),c())},h=()=>{s.current&&i.current&&(s.current=!1,u(!1),f(),setTimeout(()=>{typeof(t==null?void 0:t.onScrubEnd)=="function"&&t.onScrubEnd()},0))},p=_=>{d(),m(_)},m=_=>l({x:_.clientX,y:_.clientY}),y=_=>{_.cancelable&&_.preventDefault(),d(),g(_)},g=_=>{_.cancelable&&_.preventDefault(),l({x:_.changedTouches[0].clientX,y:_.changedTouches[0].clientY})};return r.current.addEventListener("mousedown",p),r.current.addEventListener("touchstart",y,{passive:!1}),()=>{r.current&&(r.current.removeEventListener("mousedown",p),r.current.removeEventListener("touchstart",y))}},[n,e]),{ref:r,active:a}}function xa({value:e,defaultValue:t,finalValue:n,onChange:r=()=>{}}){const[i,s]=w.useState(t!==void 0?t:n),o=a=>{s(a),r==null||r(a)};return e!==void 0?[e,r,!0]:[i,o,!1]}function ek(e,t){return Bhe("(prefers-reduced-motion: reduce)",e,t)}const Xhe=e=>e<.5?2*e*e:-1+(4-2*e)*e,Jhe=({axis:e,target:t,parent:n,alignment:r,offset:i,isList:s})=>{if(!t||!n&&typeof document>"u")return 0;const o=!!n,u=(n||document.body).getBoundingClientRect(),l=t.getBoundingClientRect(),c=f=>l[f]-u[f];if(e==="y"){const f=c("top");if(f===0)return 0;if(r==="start"){const h=f-i;return h<=l.height*(s?0:1)||!s?h:0}const d=o?u.height:window.innerHeight;if(r==="end"){const h=f+i-d+l.height;return h>=-l.height*(s?0:1)||!s?h:0}return r==="center"?f-d/2+l.height/2:0}if(e==="x"){const f=c("left");if(f===0)return 0;if(r==="start"){const h=f-i;return h<=l.width||!s?h:0}const d=o?u.width:window.innerWidth;if(r==="end"){const h=f+i-d+l.width;return h>=-l.width||!s?h:0}return r==="center"?f-d/2+l.width/2:0}return 0},Zhe=({axis:e,parent:t})=>{if(!t&&typeof document>"u")return 0;const n=e==="y"?"scrollTop":"scrollLeft";if(t)return t[n];const{body:r,documentElement:i}=document;return r[n]+i[n]},epe=({axis:e,parent:t,distance:n})=>{if(!t&&typeof document>"u")return;const r=e==="y"?"scrollTop":"scrollLeft";if(t)t[r]=n;else{const{body:i,documentElement:s}=document;i[r]=n,s[r]=n}};function LW({duration:e=1250,axis:t="y",onScrollFinish:n,easing:r=Xhe,offset:i=0,cancelable:s=!0,isList:o=!1}={}){const a=w.useRef(0),u=w.useRef(0),l=w.useRef(!1),c=w.useRef(null),f=w.useRef(null),d=ek(),h=()=>{a.current&&cancelAnimationFrame(a.current)},p=w.useCallback(({alignment:y="start"}={})=>{var g;l.current=!1,a.current&&h();const _=(g=Zhe({parent:c.current,axis:t}))!=null?g:0,b=Jhe({parent:c.current,target:f.current,axis:t,alignment:y,offset:i,isList:o})-(c.current?0:_);function T(){u.current===0&&(u.current=performance.now());const E=performance.now()-u.current,S=d||e===0?1:E/e,A=_+b*r(S);epe({parent:c.current,axis:t,distance:A}),!l.current&&S<1?a.current=requestAnimationFrame(T):(typeof n=="function"&&n(),u.current=0,a.current=0,h())}T()},[t,e,r,o,i,n,d]),m=()=>{s&&(l.current=!0)};return SP("wheel",m,{passive:!0}),SP("touchmove",m,{passive:!0}),w.useEffect(()=>h,[]),{scrollableRef:c,targetRef:f,scrollIntoView:p,cancel:h}}const tpe={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};function tk(){const e=w.useRef(0),t=w.useRef(null),[n,r]=w.useState(tpe),i=w.useMemo(()=>typeof window<"u"?new ResizeObserver(s=>{const o=s[0];o&&(cancelAnimationFrame(e.current),e.current=requestAnimationFrame(()=>{t.current&&r(o.contentRect)}))}):null,[]);return w.useEffect(()=>(t.current&&i.observe(t.current),()=>{i.disconnect(),e.current&&cancelAnimationFrame(e.current)}),[t.current]),[t,n]}function npe(){if(typeof window>"u"||typeof document>"u")return 0;const e=parseInt(window.getComputedStyle(document.body).paddingRight,10),t=window.innerWidth-document.documentElement.clientWidth;return e+t}const rpe=({disableBodyPadding:e})=>{const t=e?null:npe();return`body {
        --removed-scroll-width: ${t}px;
        touch-action: none;
        overflow: hidden !important;
        position: relative !important;
        ${t?"padding-right: var(--removed-scroll-width) !important;":""}
        `};function ipe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function spe(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}function ope(){const e=document.createElement("style");return e.type="text/css",e.setAttribute("mantine-scroll-lock",""),e}function ape(e,t={disableBodyPadding:!1}){const[n,r]=w.useState(e||!1),i=w.useRef(0),{disableBodyPadding:s}=t,o=w.useRef(null),a=()=>{i.current=window.scrollY;const l=rpe({disableBodyPadding:s}),c=ope();ipe(c,l),spe(c),o.current=c},u=()=>{o!=null&&o.current&&(o.current.parentNode.removeChild(o.current),o.current=null)};return w.useEffect(()=>(n?a():u(),u),[n]),w.useEffect(()=>{e!==void 0&&r(e)},[e]),w.useEffect(()=>{e===void 0&&typeof window<"u"&&window.document.body.style.overflow==="hidden"&&r(!0)},[r]),[n,r]}function upe(){const{userAgent:e}=window.navigator,t=/(Macintosh)|(MacIntel)|(MacPPC)|(Mac68K)/i,n=/(Win32)|(Win64)|(Windows)|(WinCE)/i,r=/(iPhone)|(iPad)|(iPod)/i;return t.test(e)?"macos":r.test(e)?"ios":n.test(e)?"windows":/Android/i.test(e)?"android":/Linux/i.test(e)?"linux":"undetermined"}function lpe(){return typeof window<"u"?upe():"undetermined"}function cpe(e){return t=>{if(!t)e(t);else if(typeof t=="function")e(t);else if(typeof t=="object"&&"nativeEvent"in t){const{currentTarget:n}=t;n.type==="checkbox"?e(n.checked):e(n.value)}else e(t)}}function fpe(e){const[t,n]=w.useState(e);return[t,cpe(n)]}function dpe(e,t){const[n,r]=w.useState(e),i=()=>{var a;n||(r(!0),(a=t==null?void 0:t.onOpen)==null||a.call(t))},s=()=>{var a;n&&(r(!1),(a=t==null?void 0:t.onClose)==null||a.call(t))};return[n,{open:i,close:s,toggle:()=>{n?s():i()}}]}function hpe(){return`mantine-${Math.random().toString(36).slice(2,11)}`}var qM=Object.getOwnPropertySymbols,ppe=Object.prototype.hasOwnProperty,mpe=Object.prototype.propertyIsEnumerable,gpe=(e,t)=>{var n={};for(var r in e)ppe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&qM)for(var r of qM(e))t.indexOf(r)<0&&mpe.call(e,r)&&(n[r]=e[r]);return n};function Xd(e){const t=e,{m:n,mx:r,my:i,mt:s,mb:o,ml:a,mr:u,p:l,px:c,py:f,pt:d,pb:h,pl:p,pr:m,bg:y,c:g,opacity:_,ff:b,fz:T,fw:I,lts:E,ta:S,lh:A,fs:L,tt:W,td:z,w:U,miw:Z,maw:H,h:ue,mih:ie,mah:_e,bgsz:te,bgp:oe,bgr:J,bga:x,pos:C,top:B,left:P,bottom:O,right:Y,inset:fe,display:le}=t,me=gpe(t,["m","mx","my","mt","mb","ml","mr","p","px","py","pt","pb","pl","pr","bg","c","opacity","ff","fz","fw","lts","ta","lh","fs","tt","td","w","miw","maw","h","mih","mah","bgsz","bgp","bgr","bga","pos","top","left","bottom","right","inset","display"]);return{systemStyles:wW({m:n,mx:r,my:i,mt:s,mb:o,ml:a,mr:u,p:l,px:c,py:f,pt:d,pb:h,pl:p,pr:m,bg:y,c:g,opacity:_,ff:b,fz:T,fw:I,lts:E,ta:S,lh:A,fs:L,tt:W,td:z,w:U,miw:Z,maw:H,h:ue,mih:ie,mah:_e,bgsz:te,bgp:oe,bgr:J,bga:x,pos:C,top:B,left:P,bottom:O,right:Y,inset:fe,display:le}),rest:me}}function ype(e,t){const n=Object.keys(e).filter(r=>r!=="base").sort((r,i)=>t.fn.size({size:r,sizes:t.breakpoints})-t.fn.size({size:i,sizes:t.breakpoints}));return"base"in e?["base",...n]:n}function _pe({value:e,theme:t,getValue:n,property:r}){if(e==null)return;if(typeof e=="object")return ype(e,t).reduce((o,a)=>{if(a==="base"&&e.base!==void 0){const l=n(e.base,t);return Array.isArray(r)?(r.forEach(c=>{o[c]=l}),o):(o[r]=l,o)}const u=n(e[a],t);return Array.isArray(r)?(o[t.fn.largerThan(a)]={},r.forEach(l=>{o[t.fn.largerThan(a)][l]=u}),o):(o[t.fn.largerThan(a)]={[r]:u},o)},{});const i=n(e,t);return Array.isArray(r)?r.reduce((s,o)=>(s[o]=i,s),{}):{[r]:i}}function vpe(e,t){return e==="dimmed"?t.colorScheme==="dark"?t.colors.dark[2]:t.colors.gray[6]:t.fn.variant({variant:"filled",color:e,primaryFallback:!1}).background}function bpe(e){return e}function Epe(e,t){return t.fn.size({size:e,sizes:t.fontSizes})}const wpe=["-xs","-sm","-md","-lg","-xl"];function Tpe(e,t){return wpe.includes(e)?t.fn.size({size:e.replace("-",""),sizes:t.spacing})*-1:t.fn.size({size:e,sizes:t.spacing})}const Spe={color:vpe,default:bpe,fontSize:Epe,spacing:Tpe},Ipe={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},mx:{type:"spacing",property:["marginRight","marginLeft"]},my:{type:"spacing",property:["marginTop","marginBottom"]},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},px:{type:"spacing",property:["paddingRight","paddingLeft"]},py:{type:"spacing",property:["paddingTop","paddingBottom"]},bg:{type:"color",property:"background"},c:{type:"color",property:"color"},opacity:{type:"default",property:"opacity"},ff:{type:"default",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"default",property:"fontWeight"},lts:{type:"default",property:"letterSpacing"},ta:{type:"default",property:"textAlign"},lh:{type:"default",property:"lineHeight"},fs:{type:"default",property:"fontStyle"},tt:{type:"default",property:"textTransform"},td:{type:"default",property:"textDecoration"},w:{type:"default",property:"width"},miw:{type:"default",property:"minWidth"},maw:{type:"default",property:"maxWidth"},h:{type:"default",property:"height"},mih:{type:"default",property:"minHeight"},mah:{type:"default",property:"maxHeight"},bgsz:{type:"default",property:"background-size"},bgp:{type:"default",property:"background-position"},bgr:{type:"default",property:"background-repeat"},bga:{type:"default",property:"background-attachment"},pos:{type:"default",property:"position"},top:{type:"default",property:"top"},left:{type:"default",property:"left"},bottom:{type:"default",property:"bottom"},right:{type:"default",property:"right"},inset:{type:"default",property:"inset"},display:{type:"default",property:"display"}};var xpe=Object.defineProperty,YM=Object.getOwnPropertySymbols,Cpe=Object.prototype.hasOwnProperty,Ape=Object.prototype.propertyIsEnumerable,GM=(e,t,n)=>t in e?xpe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,KM=(e,t)=>{for(var n in t||(t={}))Cpe.call(t,n)&&GM(e,n,t[n]);if(YM)for(var n of YM(t))Ape.call(t,n)&&GM(e,n,t[n]);return e};function IP(e,t,n=Ipe){return Object.keys(n).reduce((i,s)=>(s in e&&e[s]!==void 0&&i.push(_pe({value:e[s],getValue:Spe[n[s].type],property:n[s].property,theme:t})),i),[]).reduce((i,s)=>(Object.keys(s).forEach(o=>{typeof s[o]=="object"&&s[o]!==null&&o in i?i[o]=KM(KM({},i[o]),s[o]):i[o]=s[o]}),i),{})}function QM(e,t){return typeof e=="function"?e(t):e}function Ope(e,t,n){const r=ts(),{css:i,cx:s}=CW();return Array.isArray(e)?s(n,i(IP(t,r)),e.map(o=>i(QM(o,r)))):s(n,i(QM(e,r)),i(IP(t,r)))}var Ppe=Object.defineProperty,eE=Object.getOwnPropertySymbols,MW=Object.prototype.hasOwnProperty,FW=Object.prototype.propertyIsEnumerable,XM=(e,t,n)=>t in e?Ppe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Rpe=(e,t)=>{for(var n in t||(t={}))MW.call(t,n)&&XM(e,n,t[n]);if(eE)for(var n of eE(t))FW.call(t,n)&&XM(e,n,t[n]);return e},Npe=(e,t)=>{var n={};for(var r in e)MW.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&eE)for(var r of eE(e))t.indexOf(r)<0&&FW.call(e,r)&&(n[r]=e[r]);return n};const BW=w.forwardRef((e,t)=>{var n=e,{className:r,component:i,style:s,sx:o}=n,a=Npe(n,["className","component","style","sx"]);const{systemStyles:u,rest:l}=Xd(a),c=i||"div";return k.createElement(c,Rpe({ref:t,className:Ope(o,u,r),style:s},l))});BW.displayName="@mantine/core/Box";const lt=BW;var kpe=Object.defineProperty,Dpe=Object.defineProperties,$pe=Object.getOwnPropertyDescriptors,JM=Object.getOwnPropertySymbols,Lpe=Object.prototype.hasOwnProperty,Mpe=Object.prototype.propertyIsEnumerable,ZM=(e,t,n)=>t in e?kpe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,e4=(e,t)=>{for(var n in t||(t={}))Lpe.call(t,n)&&ZM(e,n,t[n]);if(JM)for(var n of JM(t))Mpe.call(t,n)&&ZM(e,n,t[n]);return e},Fpe=(e,t)=>Dpe(e,$pe(t)),Bpe=at(e=>({root:Fpe(e4(e4({},e.fn.focusStyles()),e.fn.fontStyles()),{cursor:"pointer",border:0,padding:0,appearance:"none",fontSize:e.fontSizes.md,backgroundColor:"transparent",textAlign:"left",color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,textDecoration:"none",boxSizing:"border-box"})}));const jpe=Bpe;var Upe=Object.defineProperty,tE=Object.getOwnPropertySymbols,jW=Object.prototype.hasOwnProperty,UW=Object.prototype.propertyIsEnumerable,t4=(e,t,n)=>t in e?Upe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Vpe=(e,t)=>{for(var n in t||(t={}))jW.call(t,n)&&t4(e,n,t[n]);if(tE)for(var n of tE(t))UW.call(t,n)&&t4(e,n,t[n]);return e},zpe=(e,t)=>{var n={};for(var r in e)jW.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&tE)for(var r of tE(e))t.indexOf(r)<0&&UW.call(e,r)&&(n[r]=e[r]);return n};const VW=w.forwardRef((e,t)=>{const n=ht("UnstyledButton",{},e),{className:r,component:i="button",unstyled:s}=n,o=zpe(n,["className","component","unstyled"]),{classes:a,cx:u}=jpe(null,{name:"UnstyledButton",unstyled:s});return k.createElement(lt,Vpe({component:i,ref:t,className:u(a.root,r),type:i==="button"?"button":void 0},o))});VW.displayName="@mantine/core/UnstyledButton";const nk=VW;var Hpe=Object.defineProperty,Wpe=Object.defineProperties,qpe=Object.getOwnPropertyDescriptors,n4=Object.getOwnPropertySymbols,Ype=Object.prototype.hasOwnProperty,Gpe=Object.prototype.propertyIsEnumerable,r4=(e,t,n)=>t in e?Hpe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zW=(e,t)=>{for(var n in t||(t={}))Ype.call(t,n)&&r4(e,n,t[n]);if(n4)for(var n of n4(t))Gpe.call(t,n)&&r4(e,n,t[n]);return e},Kpe=(e,t)=>Wpe(e,qpe(t));const eg={xs:18,sm:22,md:28,lg:34,xl:44};function Qpe({variant:e,theme:t,color:n,gradient:r}){const i=t.fn.variant({color:n,variant:e,gradient:r});return e==="gradient"?{border:0,backgroundImage:i.background,color:i.color,"&:hover":t.fn.hover({backgroundSize:"200%"})}:zW({border:`1px solid ${i.border}`,backgroundColor:i.background,color:i.color},t.fn.hover({backgroundColor:i.hover}))}var Xpe=at((e,{color:t,size:n,radius:r,variant:i,gradient:s})=>({root:Kpe(zW({},Qpe({variant:i,theme:e,color:t,gradient:s})),{position:"relative",height:e.fn.size({size:n,sizes:eg}),minHeight:e.fn.size({size:n,sizes:eg}),width:e.fn.size({size:n,sizes:eg}),minWidth:e.fn.size({size:n,sizes:eg}),borderRadius:e.fn.radius(r),padding:0,lineHeight:1,display:"flex",alignItems:"center",justifyContent:"center","&:active":e.activeStyles,"&:disabled, &[data-disabled]":{color:e.colors.gray[e.colorScheme==="dark"?6:4],cursor:"not-allowed",backgroundColor:i==="transparent"?void 0:e.fn.themeColor("gray",e.colorScheme==="dark"?8:1),borderColor:i==="transparent"?void 0:e.fn.themeColor("gray",e.colorScheme==="dark"?8:1),backgroundImage:"none",pointerEvents:"none","&:active":{transform:"none"}},"&[data-loading]":{pointerEvents:"none","&::before":{content:'""',position:"absolute",top:-1,left:-1,right:-1,bottom:-1,backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.colors.dark[7],.5):"rgba(255, 255, 255, .5)",borderRadius:e.fn.radius(r),cursor:"not-allowed"}}})}));const Jpe=Xpe;var Zpe=Object.defineProperty,nE=Object.getOwnPropertySymbols,HW=Object.prototype.hasOwnProperty,WW=Object.prototype.propertyIsEnumerable,i4=(e,t,n)=>t in e?Zpe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,eme=(e,t)=>{for(var n in t||(t={}))HW.call(t,n)&&i4(e,n,t[n]);if(nE)for(var n of nE(t))WW.call(t,n)&&i4(e,n,t[n]);return e},tme=(e,t)=>{var n={};for(var r in e)HW.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&nE)for(var r of nE(e))t.indexOf(r)<0&&WW.call(e,r)&&(n[r]=e[r]);return n};function nme(e){var t=e,{size:n,color:r}=t,i=tme(t,["size","color"]);return k.createElement("svg",eme({viewBox:"0 0 135 140",xmlns:"http://www.w3.org/2000/svg",fill:r,width:`${n}px`},i),k.createElement("rect",{y:"10",width:"15",height:"120",rx:"6"},k.createElement("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),k.createElement("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),k.createElement("rect",{x:"30",y:"10",width:"15",height:"120",rx:"6"},k.createElement("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),k.createElement("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),k.createElement("rect",{x:"60",width:"15",height:"140",rx:"6"},k.createElement("animate",{attributeName:"height",begin:"0s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),k.createElement("animate",{attributeName:"y",begin:"0s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),k.createElement("rect",{x:"90",y:"10",width:"15",height:"120",rx:"6"},k.createElement("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),k.createElement("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),k.createElement("rect",{x:"120",y:"10",width:"15",height:"120",rx:"6"},k.createElement("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),k.createElement("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})))}var rme=Object.defineProperty,rE=Object.getOwnPropertySymbols,qW=Object.prototype.hasOwnProperty,YW=Object.prototype.propertyIsEnumerable,s4=(e,t,n)=>t in e?rme(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ime=(e,t)=>{for(var n in t||(t={}))qW.call(t,n)&&s4(e,n,t[n]);if(rE)for(var n of rE(t))YW.call(t,n)&&s4(e,n,t[n]);return e},sme=(e,t)=>{var n={};for(var r in e)qW.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&rE)for(var r of rE(e))t.indexOf(r)<0&&YW.call(e,r)&&(n[r]=e[r]);return n};function ome(e){var t=e,{size:n,color:r}=t,i=sme(t,["size","color"]);return k.createElement("svg",ime({width:`${n}px`,height:`${n}px`,viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",stroke:r},i),k.createElement("g",{fill:"none",fillRule:"evenodd"},k.createElement("g",{transform:"translate(2.5 2.5)",strokeWidth:"5"},k.createElement("circle",{strokeOpacity:".5",cx:"16",cy:"16",r:"16"}),k.createElement("path",{d:"M32 16c0-9.94-8.06-16-16-16"},k.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 16 16",to:"360 16 16",dur:"1s",repeatCount:"indefinite"})))))}var ame=Object.defineProperty,iE=Object.getOwnPropertySymbols,GW=Object.prototype.hasOwnProperty,KW=Object.prototype.propertyIsEnumerable,o4=(e,t,n)=>t in e?ame(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ume=(e,t)=>{for(var n in t||(t={}))GW.call(t,n)&&o4(e,n,t[n]);if(iE)for(var n of iE(t))KW.call(t,n)&&o4(e,n,t[n]);return e},lme=(e,t)=>{var n={};for(var r in e)GW.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&iE)for(var r of iE(e))t.indexOf(r)<0&&KW.call(e,r)&&(n[r]=e[r]);return n};function cme(e){var t=e,{size:n,color:r}=t,i=lme(t,["size","color"]);return k.createElement("svg",ume({width:`${n}px`,height:`${n/4}px`,viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",fill:r},i),k.createElement("circle",{cx:"15",cy:"15",r:"15"},k.createElement("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),k.createElement("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})),k.createElement("circle",{cx:"60",cy:"15",r:"9",fillOpacity:"0.3"},k.createElement("animate",{attributeName:"r",from:"9",to:"9",begin:"0s",dur:"0.8s",values:"9;15;9",calcMode:"linear",repeatCount:"indefinite"}),k.createElement("animate",{attributeName:"fill-opacity",from:"0.5",to:"0.5",begin:"0s",dur:"0.8s",values:".5;1;.5",calcMode:"linear",repeatCount:"indefinite"})),k.createElement("circle",{cx:"105",cy:"15",r:"15"},k.createElement("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),k.createElement("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})))}var fme=Object.defineProperty,sE=Object.getOwnPropertySymbols,QW=Object.prototype.hasOwnProperty,XW=Object.prototype.propertyIsEnumerable,a4=(e,t,n)=>t in e?fme(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,dme=(e,t)=>{for(var n in t||(t={}))QW.call(t,n)&&a4(e,n,t[n]);if(sE)for(var n of sE(t))XW.call(t,n)&&a4(e,n,t[n]);return e},hme=(e,t)=>{var n={};for(var r in e)QW.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&sE)for(var r of sE(e))t.indexOf(r)<0&&XW.call(e,r)&&(n[r]=e[r]);return n};const EC={bars:nme,oval:ome,dots:cme},pme={xs:18,sm:22,md:36,lg:44,xl:58},mme={size:"md"};function Dm(e){const t=ht("Loader",mme,e),{size:n,color:r,variant:i}=t,s=hme(t,["size","color","variant"]),o=ts(),a=i in EC?i:o.loader;return k.createElement(lt,dme({role:"presentation",component:EC[a]||EC.bars,size:o.fn.size({size:n,sizes:pme}),color:o.fn.variant({variant:"filled",primaryFallback:!1,color:r||o.primaryColor}).background},s))}Dm.displayName="@mantine/core/Loader";var gme=Object.defineProperty,oE=Object.getOwnPropertySymbols,JW=Object.prototype.hasOwnProperty,ZW=Object.prototype.propertyIsEnumerable,u4=(e,t,n)=>t in e?gme(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,l4=(e,t)=>{for(var n in t||(t={}))JW.call(t,n)&&u4(e,n,t[n]);if(oE)for(var n of oE(t))ZW.call(t,n)&&u4(e,n,t[n]);return e},yme=(e,t)=>{var n={};for(var r in e)JW.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&oE)for(var r of oE(e))t.indexOf(r)<0&&ZW.call(e,r)&&(n[r]=e[r]);return n};const _me={color:"gray",size:"md",variant:"subtle",loading:!1},eq=w.forwardRef((e,t)=>{const n=ht("ActionIcon",_me,e),{className:r,color:i,children:s,radius:o,size:a,variant:u,gradient:l,disabled:c,loaderProps:f,loading:d,unstyled:h}=n,p=yme(n,["className","color","children","radius","size","variant","gradient","disabled","loaderProps","loading","unstyled"]),{classes:m,cx:y,theme:g}=Jpe({size:a,radius:o,color:i,variant:u,gradient:l},{name:"ActionIcon",unstyled:h}),_=g.fn.variant({color:i,variant:u}),b=k.createElement(Dm,l4({color:_.color,size:g.fn.size({size:a,sizes:eg})-12},f));return k.createElement(nk,l4({className:y(m.root,r),ref:t,disabled:c,"data-disabled":c||void 0,"data-loading":d||void 0,unstyled:h},p),d?b:s)});eq.displayName="@mantine/core/ActionIcon";const rk=eq;function tq(e){const{children:t,target:n,className:r}=ht("Portal",{},e),i=ts(),[s,o]=w.useState(!1),a=w.useRef();return ZN(()=>(o(!0),a.current=n?typeof n=="string"?document.querySelector(n):n:document.createElement("div"),n||document.body.appendChild(a.current),()=>{!n&&document.body.removeChild(a.current)}),[n]),s?__.createPortal(k.createElement("div",{className:r,dir:i.dir},t),a.current):null}tq.displayName="@mantine/core/Portal";var vme=Object.defineProperty,aE=Object.getOwnPropertySymbols,nq=Object.prototype.hasOwnProperty,rq=Object.prototype.propertyIsEnumerable,c4=(e,t,n)=>t in e?vme(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bme=(e,t)=>{for(var n in t||(t={}))nq.call(t,n)&&c4(e,n,t[n]);if(aE)for(var n of aE(t))rq.call(t,n)&&c4(e,n,t[n]);return e},Eme=(e,t)=>{var n={};for(var r in e)nq.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&aE)for(var r of aE(e))t.indexOf(r)<0&&rq.call(e,r)&&(n[r]=e[r]);return n};function T_(e){var t=e,{withinPortal:n=!0,children:r}=t,i=Eme(t,["withinPortal","children"]);return n?k.createElement(tq,bme({},i),r):k.createElement(k.Fragment,null,r)}T_.displayName="@mantine/core/OptionalPortal";var wme=Object.defineProperty,Tme=Object.defineProperties,Sme=Object.getOwnPropertyDescriptors,f4=Object.getOwnPropertySymbols,Ime=Object.prototype.hasOwnProperty,xme=Object.prototype.propertyIsEnumerable,d4=(e,t,n)=>t in e?wme(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wC=(e,t)=>{for(var n in t||(t={}))Ime.call(t,n)&&d4(e,n,t[n]);if(f4)for(var n of f4(t))xme.call(t,n)&&d4(e,n,t[n]);return e},h4=(e,t)=>Tme(e,Sme(t));function Cme({variant:e,color:t,theme:n}){if(e==="filled")return{backgroundColor:n.fn.variant({variant:"filled",color:t}).background,color:n.white};if(e==="outline"){const i=n.fn.variant({variant:"outline",color:t});return{color:i.color,borderColor:i.border,backgroundColor:n.colorScheme==="dark"?n.colors.dark[6]:n.white}}const r=n.fn.variant({variant:"light",color:t});return{backgroundColor:r.background,color:r.color}}var Ame=at((e,{color:t,radius:n,variant:r})=>({root:wC(h4(wC({},e.fn.fontStyles()),{position:"relative",overflow:"hidden",padding:`${e.spacing.sm}px ${e.spacing.md}px`,borderRadius:e.fn.radius(n),border:"1px solid transparent"}),Cme({variant:r,color:t,theme:e})),wrapper:{display:"flex"},body:{flex:1},title:{boxSizing:"border-box",margin:0,marginBottom:7,display:"flex",alignItems:"center",justifyContent:"space-between",lineHeight:e.lineHeight,fontSize:e.fontSizes.sm,fontWeight:700,"&[data-with-close-button]":{paddingRight:e.spacing.md}},label:{display:"block",overflow:"hidden",textOverflow:"ellipsis"},icon:{lineHeight:1,width:20,height:20,display:"flex",alignItems:"center",justifyContent:"flex-start",marginRight:e.spacing.md,marginTop:1},message:h4(wC({},e.fn.fontStyles()),{lineHeight:e.lineHeight,textOverflow:"ellipsis",overflow:"hidden",fontSize:e.fontSizes.sm,color:r==="filled"?e.white:e.colorScheme==="dark"?r==="light"?e.white:e.colors.dark[0]:e.black}),closeButton:{position:"absolute",top:e.spacing.sm,right:e.spacing.sm,color:"inherit"}}));const Ome=Ame;var Pme=Object.defineProperty,p4=Object.getOwnPropertySymbols,Rme=Object.prototype.hasOwnProperty,Nme=Object.prototype.propertyIsEnumerable,m4=(e,t,n)=>t in e?Pme(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kme=(e,t)=>{for(var n in t||(t={}))Rme.call(t,n)&&m4(e,n,t[n]);if(p4)for(var n of p4(t))Nme.call(t,n)&&m4(e,n,t[n]);return e};function iq(e){return k.createElement("svg",kme({viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),k.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}iq.displayName="@mantine/core/CloseIcon";var Dme=Object.defineProperty,uE=Object.getOwnPropertySymbols,sq=Object.prototype.hasOwnProperty,oq=Object.prototype.propertyIsEnumerable,g4=(e,t,n)=>t in e?Dme(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$me=(e,t)=>{for(var n in t||(t={}))sq.call(t,n)&&g4(e,n,t[n]);if(uE)for(var n of uE(t))oq.call(t,n)&&g4(e,n,t[n]);return e},Lme=(e,t)=>{var n={};for(var r in e)sq.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&uE)for(var r of uE(e))t.indexOf(r)<0&&oq.call(e,r)&&(n[r]=e[r]);return n};const Mme={xs:12,sm:14,md:16,lg:20,xl:24},Fme={size:"md"},aq=w.forwardRef((e,t)=>{const n=ht("CloseButton",Fme,e),{iconSize:r,size:i="md"}=n,s=Lme(n,["iconSize","size"]),o=ts(),a=r||o.fn.size({size:i,sizes:Mme});return k.createElement(rk,$me({size:i,ref:t},s),k.createElement(iq,{width:a,height:a}))});aq.displayName="@mantine/core/CloseButton";const LS=aq;var Bme=Object.defineProperty,lE=Object.getOwnPropertySymbols,uq=Object.prototype.hasOwnProperty,lq=Object.prototype.propertyIsEnumerable,y4=(e,t,n)=>t in e?Bme(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jme=(e,t)=>{for(var n in t||(t={}))uq.call(t,n)&&y4(e,n,t[n]);if(lE)for(var n of lE(t))lq.call(t,n)&&y4(e,n,t[n]);return e},Ume=(e,t)=>{var n={};for(var r in e)uq.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&lE)for(var r of lE(e))t.indexOf(r)<0&&lq.call(e,r)&&(n[r]=e[r]);return n};const Vme={variant:"light"},cq=w.forwardRef((e,t)=>{const n=ht("Alert",Vme,e),{id:r,className:i,title:s,variant:o,children:a,color:u,classNames:l,icon:c,styles:f,onClose:d,radius:h,withCloseButton:p,closeButtonLabel:m,unstyled:y}=n,g=Ume(n,["id","className","title","variant","children","color","classNames","icon","styles","onClose","radius","withCloseButton","closeButtonLabel","unstyled"]),{classes:_,cx:b}=Ome({color:u,radius:h,variant:o},{classNames:l,styles:f,unstyled:y,name:"Alert"}),T=Du(r),I=s&&`${T}-title`,E=`${T}-body`;return k.createElement(lt,jme({id:T,role:"alert","aria-labelledby":I,"aria-describedby":E,className:b(_.root,_[o],i),ref:t},g),k.createElement("div",{className:_.wrapper},c&&k.createElement("div",{className:_.icon},c),k.createElement("div",{className:_.body},s&&k.createElement("div",{className:_.title,"data-with-close-button":p||void 0},k.createElement("span",{id:I,className:_.label},s)),p&&k.createElement(LS,{className:_.closeButton,onClick:d,variant:"transparent",size:16,iconSize:16,"aria-label":m}),k.createElement("div",{id:E,className:_.message},a))))});cq.displayName="@mantine/core/Alert";var zme=Object.defineProperty,Hme=Object.defineProperties,Wme=Object.getOwnPropertyDescriptors,_4=Object.getOwnPropertySymbols,qme=Object.prototype.hasOwnProperty,Yme=Object.prototype.propertyIsEnumerable,v4=(e,t,n)=>t in e?zme(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Bv=(e,t)=>{for(var n in t||(t={}))qme.call(t,n)&&v4(e,n,t[n]);if(_4)for(var n of _4(t))Yme.call(t,n)&&v4(e,n,t[n]);return e},Gme=(e,t)=>Hme(e,Wme(t));function Kme({underline:e,strikethrough:t}){const n=[];return e&&n.push("underline"),t&&n.push("line-through"),n.length>0?n.join(" "):"none"}function Qme({theme:e,color:t,variant:n}){return t==="dimmed"?e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6]:typeof t=="string"&&(t in e.colors||t.split(".")[0]in e.colors)?e.fn.variant({variant:"filled",color:t}).background:n==="link"?e.colors[e.primaryColor][e.colorScheme==="dark"?4:7]:t||"inherit"}function Xme(e){return typeof e=="number"?{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:e,WebkitBoxOrient:"vertical"}:null}var Jme=at((e,{color:t,variant:n,size:r,lineClamp:i,inline:s,inherit:o,underline:a,gradient:u,weight:l,transform:c,align:f,strikethrough:d,italic:h})=>{const p=e.fn.variant({variant:"gradient",gradient:u});return{root:Bv(Gme(Bv(Bv(Bv({},e.fn.fontStyles()),e.fn.focusStyles()),Xme(i)),{color:Qme({color:t,theme:e,variant:n}),fontFamily:o?"inherit":e.fontFamily,fontSize:o||r===void 0?"inherit":e.fn.size({size:r,sizes:e.fontSizes}),lineHeight:o?"inherit":s?1:e.lineHeight,textDecoration:Kme({underline:a,strikethrough:d}),WebkitTapHighlightColor:"transparent",fontWeight:o?"inherit":l,textTransform:c,textAlign:f,fontStyle:h?"italic":void 0}),e.fn.hover(n==="link"&&a===void 0?{textDecoration:"underline"}:void 0)),gradient:{backgroundImage:p.background,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"}}});const Zme=Jme;var e0e=Object.defineProperty,cE=Object.getOwnPropertySymbols,fq=Object.prototype.hasOwnProperty,dq=Object.prototype.propertyIsEnumerable,b4=(e,t,n)=>t in e?e0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,t0e=(e,t)=>{for(var n in t||(t={}))fq.call(t,n)&&b4(e,n,t[n]);if(cE)for(var n of cE(t))dq.call(t,n)&&b4(e,n,t[n]);return e},n0e=(e,t)=>{var n={};for(var r in e)fq.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&cE)for(var r of cE(e))t.indexOf(r)<0&&dq.call(e,r)&&(n[r]=e[r]);return n};const r0e={variant:"text"},hq=w.forwardRef((e,t)=>{const n=ht("Text",r0e,e),{className:r,size:i,weight:s,transform:o,color:a,align:u,variant:l,lineClamp:c,gradient:f,inline:d,inherit:h,underline:p,strikethrough:m,italic:y,classNames:g,styles:_,unstyled:b,span:T}=n,I=n0e(n,["className","size","weight","transform","color","align","variant","lineClamp","gradient","inline","inherit","underline","strikethrough","italic","classNames","styles","unstyled","span"]),{classes:E,cx:S}=Zme({variant:l,color:a,size:i,lineClamp:c,inline:d,inherit:h,underline:p,strikethrough:m,italic:y,weight:s,transform:o,align:u,gradient:f},{unstyled:b,name:"Text"});return k.createElement(lt,t0e({ref:t,className:S(E.root,{[E.gradient]:l==="gradient"},r),component:T?"span":"div"},I))});hq.displayName="@mantine/core/Text";const Ct=hq;var i0e=at(()=>({root:{backgroundColor:"transparent",cursor:"pointer",padding:0,border:0}}));const s0e=i0e;var o0e=Object.defineProperty,fE=Object.getOwnPropertySymbols,pq=Object.prototype.hasOwnProperty,mq=Object.prototype.propertyIsEnumerable,E4=(e,t,n)=>t in e?o0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,w4=(e,t)=>{for(var n in t||(t={}))pq.call(t,n)&&E4(e,n,t[n]);if(fE)for(var n of fE(t))mq.call(t,n)&&E4(e,n,t[n]);return e},a0e=(e,t)=>{var n={};for(var r in e)pq.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&fE)for(var r of fE(e))t.indexOf(r)<0&&mq.call(e,r)&&(n[r]=e[r]);return n};const u0e={},gq=w.forwardRef((e,t)=>{const n=ht("Anchor",u0e,e),{component:r,className:i,unstyled:s}=n,o=a0e(n,["component","className","unstyled"]),{classes:a,cx:u}=s0e(null,{name:"Anchor",unstyled:s}),l=r==="button"?{type:"button"}:null;return k.createElement(Ct,w4(w4({component:r||"a",variant:"link",ref:t,className:u(a.root,i)},l),o))});gq.displayName="@mantine/core/Anchor";const yq=gq,_q=w.createContext({}),l0e=_q.Provider;function vq(){return w.useContext(_q)}function MS(e,t){if(!e)return[];const n=Object.keys(e).filter(r=>r!=="base").map(r=>[t.fn.size({size:r,sizes:t.breakpoints}),e[r]]);return n.sort((r,i)=>r[0]-i[0]),n}var c0e=Object.defineProperty,f0e=Object.defineProperties,d0e=Object.getOwnPropertyDescriptors,T4=Object.getOwnPropertySymbols,h0e=Object.prototype.hasOwnProperty,p0e=Object.prototype.propertyIsEnumerable,S4=(e,t,n)=>t in e?c0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jv=(e,t)=>{for(var n in t||(t={}))h0e.call(t,n)&&S4(e,n,t[n]);if(T4)for(var n of T4(t))p0e.call(t,n)&&S4(e,n,t[n]);return e},I4=(e,t)=>f0e(e,d0e(t)),m0e=at((e,{height:t,width:n,fixed:r,position:i,hiddenBreakpoint:s,zIndex:o,section:a,withBorder:u})=>{const l=typeof n=="object"&&n!==null?MS(n,e).reduce((f,[d,h])=>(f[`@media (min-width: ${d}px)`]={width:h,minWidth:h},f),{}):null,c=u?{[a==="navbar"?"borderRight":"borderLeft"]:`1px solid ${e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[2]}`}:{};return{root:I4(jv(jv(I4(jv(jv({},e.fn.fontStyles()),i),{top:(i==null?void 0:i.top)||"var(--mantine-header-height)",bottom:0,zIndex:o,height:t||"calc(100vh - var(--mantine-header-height, 0px) - var(--mantine-footer-height, 0px))",width:(n==null?void 0:n.base)||"100%",position:r?"fixed":"static",boxSizing:"border-box",display:"flex",flexDirection:"column",backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white}),c),l),{"&[data-hidden]":{[`@media (max-width: ${e.fn.size({size:s,sizes:e.breakpoints})-1}px)`]:{display:"none"}}})}});const g0e=m0e;var y0e=Object.defineProperty,dE=Object.getOwnPropertySymbols,bq=Object.prototype.hasOwnProperty,Eq=Object.prototype.propertyIsEnumerable,x4=(e,t,n)=>t in e?y0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,C4=(e,t)=>{for(var n in t||(t={}))bq.call(t,n)&&x4(e,n,t[n]);if(dE)for(var n of dE(t))Eq.call(t,n)&&x4(e,n,t[n]);return e},_0e=(e,t)=>{var n={};for(var r in e)bq.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&dE)for(var r of dE(e))t.indexOf(r)<0&&Eq.call(e,r)&&(n[r]=e[r]);return n};const ik=w.forwardRef((e,t)=>{var n=e,{width:r,height:i,fixed:s=!1,position:o,zIndex:a=wo("app"),hiddenBreakpoint:u="md",hidden:l=!1,withBorder:c=!0,className:f,classNames:d,styles:h,children:p,section:m,__staticSelector:y,unstyled:g}=n,_=_0e(n,["width","height","fixed","position","zIndex","hiddenBreakpoint","hidden","withBorder","className","classNames","styles","children","section","__staticSelector","unstyled"]);const b=vq(),{classes:T,cx:I,theme:E}=g0e({width:r,height:i,fixed:b.fixed||s,position:o,hiddenBreakpoint:u,zIndex:b.zIndex||a,section:m,withBorder:c},{classNames:d,styles:h,name:y,unstyled:g}),S=MS(r,E).reduce((A,[L,W])=>(A[`@media (min-width: ${L}px)`]={[`--mantine-${m}-width`]:`${W}px`},A),{});return k.createElement(lt,C4({component:m==="navbar"?"nav":"aside",ref:t,"data-hidden":l||void 0,className:I(T.root,f)},_),p,k.createElement(AW,{styles:()=>({":root":C4({[`--mantine-${m}-width`]:r!=null&&r.base?`${r.base}px`:"0px"},S)})}))});ik.displayName="@mantine/core/HorizontalSection";var v0e=Object.defineProperty,hE=Object.getOwnPropertySymbols,wq=Object.prototype.hasOwnProperty,Tq=Object.prototype.propertyIsEnumerable,A4=(e,t,n)=>t in e?v0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,b0e=(e,t)=>{for(var n in t||(t={}))wq.call(t,n)&&A4(e,n,t[n]);if(hE)for(var n of hE(t))Tq.call(t,n)&&A4(e,n,t[n]);return e},E0e=(e,t)=>{var n={};for(var r in e)wq.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&hE)for(var r of hE(e))t.indexOf(r)<0&&Tq.call(e,r)&&(n[r]=e[r]);return n};const Sq=w.forwardRef((e,t)=>{var n=e,{children:r,grow:i=!1,sx:s}=n,o=E0e(n,["children","grow","sx"]);return k.createElement(lt,b0e({ref:t,sx:[{flex:i?1:0,boxSizing:"border-box"},...Rd(s)]},o),r)});Sq.displayName="@mantine/core/Section";const Iq=Sq;var w0e=Object.defineProperty,O4=Object.getOwnPropertySymbols,T0e=Object.prototype.hasOwnProperty,S0e=Object.prototype.propertyIsEnumerable,P4=(e,t,n)=>t in e?w0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,I0e=(e,t)=>{for(var n in t||(t={}))T0e.call(t,n)&&P4(e,n,t[n]);if(O4)for(var n of O4(t))S0e.call(t,n)&&P4(e,n,t[n]);return e};const x0e={fixed:!1,position:{top:0,left:0},zIndex:wo("app"),hiddenBreakpoint:"md",hidden:!1},Ig=w.forwardRef((e,t)=>{const n=ht("Navbar",x0e,e);return k.createElement(ik,I0e({section:"navbar",__staticSelector:"Navbar",ref:t},n))});Ig.Section=Iq;Ig.displayName="@mantine/core/Navbar";var C0e=Object.defineProperty,A0e=Object.defineProperties,O0e=Object.getOwnPropertyDescriptors,R4=Object.getOwnPropertySymbols,P0e=Object.prototype.hasOwnProperty,R0e=Object.prototype.propertyIsEnumerable,N4=(e,t,n)=>t in e?C0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,TC=(e,t)=>{for(var n in t||(t={}))P0e.call(t,n)&&N4(e,n,t[n]);if(R4)for(var n of R4(t))R0e.call(t,n)&&N4(e,n,t[n]);return e},k4=(e,t)=>A0e(e,O0e(t)),N0e=at((e,{height:t,fixed:n,position:r,zIndex:i,borderPosition:s})=>{const o=typeof t=="object"&&t!==null?MS(t,e).reduce((a,[u,l])=>(a[`@media (min-width: ${u}px)`]={height:l,minHeight:l},a),{}):null;return{root:k4(TC(k4(TC(TC({},e.fn.fontStyles()),r),{zIndex:i,height:typeof t=="object"?(t==null?void 0:t.base)||"100%":t,maxHeight:typeof t=="object"?(t==null?void 0:t.base)||"100%":t,position:n?"fixed":"static",boxSizing:"border-box",backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white}),o),{borderBottom:s==="bottom"?`1px solid ${e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[2]}`:void 0,borderTop:s==="top"?`1px solid ${e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[2]}`:void 0})}});const k0e=N0e;var D0e=Object.defineProperty,pE=Object.getOwnPropertySymbols,xq=Object.prototype.hasOwnProperty,Cq=Object.prototype.propertyIsEnumerable,D4=(e,t,n)=>t in e?D0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$4=(e,t)=>{for(var n in t||(t={}))xq.call(t,n)&&D4(e,n,t[n]);if(pE)for(var n of pE(t))Cq.call(t,n)&&D4(e,n,t[n]);return e},$0e=(e,t)=>{var n={};for(var r in e)xq.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&pE)for(var r of pE(e))t.indexOf(r)<0&&Cq.call(e,r)&&(n[r]=e[r]);return n};const Aq=w.forwardRef((e,t)=>{var n=e,{children:r,className:i,classNames:s,styles:o,height:a,fixed:u=!1,withBorder:l=!0,position:c,zIndex:f=wo("app"),section:d,unstyled:h,__staticSelector:p}=n,m=$0e(n,["children","className","classNames","styles","height","fixed","withBorder","position","zIndex","section","unstyled","__staticSelector"]);const y=vq(),{classes:g,cx:_,theme:b}=k0e({height:a,fixed:y.fixed||u,position:c,zIndex:y.zIndex||f,borderPosition:l?d==="header"?"bottom":"top":"none"},{name:p,classNames:s,styles:o,unstyled:h}),T=typeof a=="object"&&a!==null?MS(a,b).reduce((I,[E,S])=>(I[`@media (min-width: ${E}px)`]={[`--mantine-${d}-height`]:`${S}px`},I),{}):null;return k.createElement(lt,$4({component:d==="header"?"header":"footer",className:_(g.root,i),ref:t},m),r,k.createElement(AW,{styles:()=>({":root":$4({[`--mantine-${d}-height`]:typeof a=="object"?`${a==null?void 0:a.base}px`||"100%":`${a}px`},T)})}))});Aq.displayName="@mantine/core/VerticalSection";var L0e=Object.defineProperty,M0e=Object.defineProperties,F0e=Object.getOwnPropertyDescriptors,L4=Object.getOwnPropertySymbols,B0e=Object.prototype.hasOwnProperty,j0e=Object.prototype.propertyIsEnumerable,M4=(e,t,n)=>t in e?L0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,U0e=(e,t)=>{for(var n in t||(t={}))B0e.call(t,n)&&M4(e,n,t[n]);if(L4)for(var n of L4(t))j0e.call(t,n)&&M4(e,n,t[n]);return e},V0e=(e,t)=>M0e(e,F0e(t));const z0e={fixed:!1,position:{top:0,left:0,right:0},zIndex:wo("app")},Oq=w.forwardRef((e,t)=>{const n=ht("Header",z0e,e);return k.createElement(Aq,V0e(U0e({section:"header",__staticSelector:"Header"},n),{ref:t}))});Oq.displayName="@mantine/core/Header";var H0e=Object.defineProperty,F4=Object.getOwnPropertySymbols,W0e=Object.prototype.hasOwnProperty,q0e=Object.prototype.propertyIsEnumerable,B4=(e,t,n)=>t in e?H0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Y0e=(e,t)=>{for(var n in t||(t={}))W0e.call(t,n)&&B4(e,n,t[n]);if(F4)for(var n of F4(t))q0e.call(t,n)&&B4(e,n,t[n]);return e};const G0e={fixed:!1,position:{top:0,right:0},zIndex:wo("app"),hiddenBreakpoint:"md",hidden:!1},Qh=w.forwardRef((e,t)=>{const n=ht("Aside",G0e,e);return k.createElement(ik,Y0e({section:"aside",__staticSelector:"Aside",ref:t},n))});Qh.Section=Iq;Qh.displayName="@mantine/core/Aside";var K0e=Object.defineProperty,j4=Object.getOwnPropertySymbols,Q0e=Object.prototype.hasOwnProperty,X0e=Object.prototype.propertyIsEnumerable,U4=(e,t,n)=>t in e?K0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,J0e=(e,t)=>{for(var n in t||(t={}))Q0e.call(t,n)&&U4(e,n,t[n]);if(j4)for(var n of j4(t))X0e.call(t,n)&&U4(e,n,t[n]);return e};function Z0e(e,t){const n=t.fn.size({size:e.padding,sizes:t.spacing}),r=e.navbarOffsetBreakpoint?t.fn.size({size:e.navbarOffsetBreakpoint,sizes:t.breakpoints}):null,i=e.asideOffsetBreakpoint?t.fn.size({size:e.asideOffsetBreakpoint,sizes:t.breakpoints}):null;return e.fixed?{minHeight:"100vh",paddingTop:`calc(var(--mantine-header-height, 0px) + ${n}px)`,paddingBottom:`calc(var(--mantine-footer-height, 0px) + ${n}px)`,paddingLeft:`calc(var(--mantine-navbar-width, 0px) + ${n}px)`,paddingRight:`calc(var(--mantine-aside-width, 0px) + ${n}px)`,[`@media (max-width: ${r-1}px)`]:{paddingLeft:n},[`@media (max-width: ${i-1}px)`]:{paddingRight:n}}:{padding:n}}var ege=at((e,t)=>({root:{boxSizing:"border-box"},body:{display:"flex",boxSizing:"border-box"},main:J0e({flex:1,width:"100vw",boxSizing:"border-box"},Z0e(t,e))}));const tge=ege;var nge=Object.defineProperty,mE=Object.getOwnPropertySymbols,Pq=Object.prototype.hasOwnProperty,Rq=Object.prototype.propertyIsEnumerable,V4=(e,t,n)=>t in e?nge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rge=(e,t)=>{for(var n in t||(t={}))Pq.call(t,n)&&V4(e,n,t[n]);if(mE)for(var n of mE(t))Rq.call(t,n)&&V4(e,n,t[n]);return e},ige=(e,t)=>{var n={};for(var r in e)Pq.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&mE)for(var r of mE(e))t.indexOf(r)<0&&Rq.call(e,r)&&(n[r]=e[r]);return n};const sge={fixed:!0,zIndex:wo("app"),padding:"md"},Nq=w.forwardRef((e,t)=>{const n=ht("AppShell",sge,e),{children:r,navbar:i,header:s,footer:o,aside:a,fixed:u,zIndex:l,padding:c,navbarOffsetBreakpoint:f,asideOffsetBreakpoint:d,className:h,styles:p,classNames:m,unstyled:y,hidden:g}=n,_=ige(n,["children","navbar","header","footer","aside","fixed","zIndex","padding","navbarOffsetBreakpoint","asideOffsetBreakpoint","className","styles","classNames","unstyled","hidden"]),{classes:b,cx:T}=tge({padding:c,fixed:u,navbarOffsetBreakpoint:f,asideOffsetBreakpoint:d},{styles:p,classNames:m,unstyled:y,name:"AppShell"});return g?k.createElement(k.Fragment,null,r):k.createElement(l0e,{value:{fixed:u,zIndex:l}},k.createElement(lt,rge({className:T(b.root,h),ref:t},_),s,k.createElement("div",{className:b.body},i,k.createElement("main",{className:b.main},r),a),o))});Nq.displayName="@mantine/core/AppShell";const Uv={xs:1,sm:2,md:3,lg:4,xl:5};function Vv(e,t){const n=e.fn.variant({variant:"outline",color:t}).border;return typeof t=="string"&&(t in e.colors||t.split(".")[0]in e.colors)?n:t===void 0?e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]:t}var oge=at((e,{size:t,variant:n,color:r})=>({root:{},withLabel:{borderTop:"0 !important"},left:{"&::before":{display:"none"}},right:{"&::after":{display:"none"}},label:{display:"flex",alignItems:"center","&::before":{content:'""',flex:1,height:1,borderTop:`${e.fn.size({size:t,sizes:Uv})}px ${n} ${Vv(e,r)}`,marginRight:e.spacing.xs},"&::after":{content:'""',flex:1,borderTop:`${e.fn.size({size:t,sizes:Uv})}px ${n} ${Vv(e,r)}`,marginLeft:e.spacing.xs}},labelDefaultStyles:{color:r==="dark"?e.colors.dark[1]:e.fn.themeColor(r,e.colorScheme==="dark"?5:e.fn.primaryShade(),!1)},horizontal:{border:0,borderTopWidth:e.fn.size({size:t,sizes:Uv}),borderTopColor:Vv(e,r),borderTopStyle:n,margin:0},vertical:{border:0,alignSelf:"stretch",height:"auto",borderLeftWidth:e.fn.size({size:t,sizes:Uv}),borderLeftColor:Vv(e,r),borderLeftStyle:n}}));const age=oge;var uge=Object.defineProperty,lge=Object.defineProperties,cge=Object.getOwnPropertyDescriptors,gE=Object.getOwnPropertySymbols,kq=Object.prototype.hasOwnProperty,Dq=Object.prototype.propertyIsEnumerable,z4=(e,t,n)=>t in e?uge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,H4=(e,t)=>{for(var n in t||(t={}))kq.call(t,n)&&z4(e,n,t[n]);if(gE)for(var n of gE(t))Dq.call(t,n)&&z4(e,n,t[n]);return e},fge=(e,t)=>lge(e,cge(t)),dge=(e,t)=>{var n={};for(var r in e)kq.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&gE)for(var r of gE(e))t.indexOf(r)<0&&Dq.call(e,r)&&(n[r]=e[r]);return n};const hge={orientation:"horizontal",size:"xs",labelPosition:"left",variant:"solid"},gd=w.forwardRef((e,t)=>{const n=ht("Divider",hge,e),{className:r,color:i,orientation:s,size:o,label:a,labelPosition:u,labelProps:l,variant:c,styles:f,classNames:d,unstyled:h}=n,p=dge(n,["className","color","orientation","size","label","labelPosition","labelProps","variant","styles","classNames","unstyled"]),{classes:m,cx:y}=age({color:i,size:o,variant:c},{classNames:d,styles:f,unstyled:h,name:"Divider"}),g=s==="vertical",_=s==="horizontal",b=!!a&&_,T=!(l!=null&&l.color);return k.createElement(lt,H4({ref:t,className:y(m.root,{[m.vertical]:g,[m.horizontal]:_,[m.withLabel]:b},r),role:"separator"},p),b&&k.createElement(Ct,fge(H4({},l),{size:(l==null?void 0:l.size)||"xs",sx:{marginTop:2},className:y(m.label,m[u],{[m.labelDefaultStyles]:T})}),a))});gd.displayName="@mantine/core/Divider";var pge=Object.defineProperty,mge=Object.defineProperties,gge=Object.getOwnPropertyDescriptors,W4=Object.getOwnPropertySymbols,yge=Object.prototype.hasOwnProperty,_ge=Object.prototype.propertyIsEnumerable,q4=(e,t,n)=>t in e?pge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Y4=(e,t)=>{for(var n in t||(t={}))yge.call(t,n)&&q4(e,n,t[n]);if(W4)for(var n of W4(t))_ge.call(t,n)&&q4(e,n,t[n]);return e},vge=(e,t)=>mge(e,gge(t)),bge=at((e,{size:t})=>({item:vge(Y4({},e.fn.fontStyles()),{boxSizing:"border-box",textAlign:"left",width:"100%",padding:`${e.fn.size({size:t,sizes:e.spacing})/1.5}px ${e.fn.size({size:t,sizes:e.spacing})}px`,cursor:"pointer",fontSize:e.fn.size({size:t,sizes:e.fontSizes}),color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,borderRadius:e.radius.sm,"&[data-hovered]":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[1]},"&[data-selected]":Y4({backgroundColor:e.fn.variant({variant:"filled"}).background,color:e.fn.variant({variant:"filled"}).color},e.fn.hover({backgroundColor:e.fn.variant({variant:"filled"}).hover})),"&[data-disabled]":{cursor:"default",color:e.colors.dark[2]}}),nothingFound:{boxSizing:"border-box",color:e.colors.gray[6],paddingTop:e.fn.size({size:t,sizes:e.spacing})/2,paddingBottom:e.fn.size({size:t,sizes:e.spacing})/2,textAlign:"center"},separator:{boxSizing:"border-box",textAlign:"left",width:"100%",padding:`${e.fn.size({size:t,sizes:e.spacing})/1.5}px ${e.fn.size({size:t,sizes:e.spacing})}px`},separatorLabel:{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]}}));const Ege=bge;var wge=Object.defineProperty,G4=Object.getOwnPropertySymbols,Tge=Object.prototype.hasOwnProperty,Sge=Object.prototype.propertyIsEnumerable,K4=(e,t,n)=>t in e?wge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ige=(e,t)=>{for(var n in t||(t={}))Tge.call(t,n)&&K4(e,n,t[n]);if(G4)for(var n of G4(t))Sge.call(t,n)&&K4(e,n,t[n]);return e};function sk({data:e,hovered:t,classNames:n,styles:r,isItemSelected:i,uuid:s,__staticSelector:o,onItemHover:a,onItemSelect:u,itemsRefs:l,itemComponent:c,size:f,nothingFound:d,creatable:h,createLabel:p,unstyled:m}){const{classes:y}=Ege({size:f},{classNames:n,styles:r,unstyled:m,name:o}),g=[],_=[];let b=null;const T=(E,S)=>{const A=typeof i=="function"?i(E.value):!1;return k.createElement(c,Ige({key:E.value,className:y.item,"data-disabled":E.disabled||void 0,"data-hovered":!E.disabled&&t===S||void 0,"data-selected":!E.disabled&&A||void 0,onMouseEnter:()=>a(S),id:`${s}-${S}`,role:"option",tabIndex:-1,"aria-selected":t===S,ref:L=>{l&&l.current&&(l.current[E.value]=L)},onMouseDown:E.disabled?null:L=>{L.preventDefault(),u(E)},disabled:E.disabled},E))};let I=null;if(e.forEach((E,S)=>{E.creatable?b=S:E.group?(I!==E.group&&(I=E.group,_.push(k.createElement("div",{className:y.separator,key:`__mantine-divider-${S}`},k.createElement(gd,{classNames:{label:y.separatorLabel},label:E.group})))),_.push(T(E,S))):g.push(T(E,S))}),h){const E=e[b];g.push(k.createElement("div",{key:hpe(),className:y.item,"data-hovered":t===b||void 0,onMouseEnter:()=>a(b),onMouseDown:S=>{S.preventDefault(),u(E)},tabIndex:-1,ref:S=>{l&&l.current&&(l.current[E.value]=S)}},p))}return _.length>0&&g.length>0&&g.unshift(k.createElement("div",{className:y.separator,key:"empty-group-separator"},k.createElement(gd,null))),_.length>0||g.length>0?k.createElement(k.Fragment,null,_,g):k.createElement(Ct,{size:f,unstyled:m,className:y.nothingFound},d)}sk.displayName="@mantine/core/SelectItems";var xge=Object.defineProperty,yE=Object.getOwnPropertySymbols,$q=Object.prototype.hasOwnProperty,Lq=Object.prototype.propertyIsEnumerable,Q4=(e,t,n)=>t in e?xge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Cge=(e,t)=>{for(var n in t||(t={}))$q.call(t,n)&&Q4(e,n,t[n]);if(yE)for(var n of yE(t))Lq.call(t,n)&&Q4(e,n,t[n]);return e},Age=(e,t)=>{var n={};for(var r in e)$q.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&yE)for(var r of yE(e))t.indexOf(r)<0&&Lq.call(e,r)&&(n[r]=e[r]);return n};const ok=w.forwardRef((e,t)=>{var n=e,{label:r,value:i}=n,s=Age(n,["label","value"]);return k.createElement("div",Cge({ref:t},s),r||i)});ok.displayName="@mantine/core/DefaultItem";function Oge(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Mq(...e){return t=>e.forEach(n=>Oge(n,t))}function Jd(...e){return w.useCallback(Mq(...e),e)}const Fq=w.forwardRef((e,t)=>{const{children:n,...r}=e,i=w.Children.toArray(n),s=i.find(Rge);if(s){const o=s.props.children,a=i.map(u=>u===s?w.Children.count(o)>1?w.Children.only(null):w.isValidElement(o)?o.props.children:null:u);return w.createElement(xP,cr({},r,{ref:t}),w.isValidElement(o)?w.cloneElement(o,void 0,a):null)}return w.createElement(xP,cr({},r,{ref:t}),n)});Fq.displayName="Slot";const xP=w.forwardRef((e,t)=>{const{children:n,...r}=e;return w.isValidElement(n)?w.cloneElement(n,{...Nge(r,n.props),ref:Mq(t,n.ref)}):w.Children.count(n)>1?w.Children.only(null):null});xP.displayName="SlotClone";const Pge=({children:e})=>w.createElement(w.Fragment,null,e);function Rge(e){return w.isValidElement(e)&&e.type===Pge}function Nge(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?n[r]=(...a)=>{s==null||s(...a),i==null||i(...a)}:r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}const kge=["a","button","div","h2","h3","img","li","nav","ol","p","span","svg","ul"],S_=kge.reduce((e,t)=>{const n=w.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?Fq:t;return w.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),w.createElement(a,cr({},o,{ref:i}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),CP=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{};function Dge(e,t){return w.useReducer((n,r)=>{const i=t[n][r];return i??n},e)}const I_=e=>{const{present:t,children:n}=e,r=$ge(t),i=typeof n=="function"?n({present:r.isPresent}):w.Children.only(n),s=Jd(r.ref,i.ref);return typeof n=="function"||r.isPresent?w.cloneElement(i,{ref:s}):null};I_.displayName="Presence";function $ge(e){const[t,n]=w.useState(),r=w.useRef({}),i=w.useRef(e),s=w.useRef("none"),o=e?"mounted":"unmounted",[a,u]=Dge(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const l=zv(r.current);s.current=a==="mounted"?l:"none"},[a]),CP(()=>{const l=r.current,c=i.current;if(c!==e){const d=s.current,h=zv(l);e?u("MOUNT"):h==="none"||(l==null?void 0:l.display)==="none"?u("UNMOUNT"):u(c&&d!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,u]),CP(()=>{if(t){const l=f=>{const h=zv(r.current).includes(f.animationName);f.target===t&&h&&__.flushSync(()=>u("ANIMATION_END"))},c=f=>{f.target===t&&(s.current=zv(r.current))};return t.addEventListener("animationstart",c),t.addEventListener("animationcancel",l),t.addEventListener("animationend",l),()=>{t.removeEventListener("animationstart",c),t.removeEventListener("animationcancel",l),t.removeEventListener("animationend",l)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:w.useCallback(l=>{l&&(r.current=getComputedStyle(l)),n(l)},[])}}function zv(e){return(e==null?void 0:e.animationName)||"none"}function Lge(e,t=[]){let n=[];function r(s,o){const a=w.createContext(o),u=n.length;n=[...n,o];function l(f){const{scope:d,children:h,...p}=f,m=(d==null?void 0:d[e][u])||a,y=w.useMemo(()=>p,Object.values(p));return w.createElement(m.Provider,{value:y},h)}function c(f,d){const h=(d==null?void 0:d[e][u])||a,p=w.useContext(h);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return l.displayName=s+"Provider",[l,c]}const i=()=>{const s=n.map(o=>w.createContext(o));return function(a){const u=(a==null?void 0:a[e])||s;return w.useMemo(()=>({[`__scope${e}`]:{...a,[e]:u}}),[a,u])}};return i.scopeName=e,[r,Mge(i,...t)]}function Mge(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:u,scopeName:l})=>{const f=u(s)[`__scope${l}`];return{...a,...f}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function Vf(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),w.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}const Fge=w.createContext(void 0);function Bge(e){const t=w.useContext(Fge);return e||t||"ltr"}function jge(e,[t,n]){return Math.min(n,Math.max(t,e))}function yd(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function Uge(e,t){return w.useReducer((n,r)=>{const i=t[n][r];return i??n},e)}const Bq="ScrollArea",[jq,ynt]=Lge(Bq),[Vge,Go]=jq(Bq),zge=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:s=600,...o}=e,[a,u]=w.useState(null),[l,c]=w.useState(null),[f,d]=w.useState(null),[h,p]=w.useState(null),[m,y]=w.useState(null),[g,_]=w.useState(0),[b,T]=w.useState(0),[I,E]=w.useState(!1),[S,A]=w.useState(!1),L=Jd(t,z=>u(z)),W=Bge(i);return w.createElement(Vge,{scope:n,type:r,dir:W,scrollHideDelay:s,scrollArea:a,viewport:l,onViewportChange:c,content:f,onContentChange:d,scrollbarX:h,onScrollbarXChange:p,scrollbarXEnabled:I,onScrollbarXEnabledChange:E,scrollbarY:m,onScrollbarYChange:y,scrollbarYEnabled:S,onScrollbarYEnabledChange:A,onCornerWidthChange:_,onCornerHeightChange:T},w.createElement(S_.div,cr({dir:W},o,{ref:L,style:{position:"relative","--radix-scroll-area-corner-width":g+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})))}),Hge="ScrollAreaViewport",Wge=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,...i}=e,s=Go(Hge,n),o=w.useRef(null),a=Jd(t,o,s.onViewportChange);return w.createElement(w.Fragment,null,w.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"}}),w.createElement(S_.div,cr({"data-radix-scroll-area-viewport":""},i,{ref:a,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...e.style}}),w.createElement("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"}},r)))}),jl="ScrollAreaScrollbar",qge=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Go(jl,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=i,a=e.orientation==="horizontal";return w.useEffect(()=>(a?s(!0):o(!0),()=>{a?s(!1):o(!1)}),[a,s,o]),i.type==="hover"?w.createElement(Yge,cr({},r,{ref:t,forceMount:n})):i.type==="scroll"?w.createElement(Gge,cr({},r,{ref:t,forceMount:n})):i.type==="auto"?w.createElement(Uq,cr({},r,{ref:t,forceMount:n})):i.type==="always"?w.createElement(ak,cr({},r,{ref:t})):null}),Yge=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Go(jl,e.__scopeScrollArea),[s,o]=w.useState(!1);return w.useEffect(()=>{const a=i.scrollArea;let u=0;if(a){const l=()=>{window.clearTimeout(u),o(!0)},c=()=>{u=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",l),a.addEventListener("pointerleave",c),()=>{window.clearTimeout(u),a.removeEventListener("pointerenter",l),a.removeEventListener("pointerleave",c)}}},[i.scrollArea,i.scrollHideDelay]),w.createElement(I_,{present:n||s},w.createElement(Uq,cr({"data-state":s?"visible":"hidden"},r,{ref:t})))}),Gge=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Go(jl,e.__scopeScrollArea),s=e.orientation==="horizontal",o=BS(()=>u("SCROLL_END"),100),[a,u]=Uge("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return w.useEffect(()=>{if(a==="idle"){const l=window.setTimeout(()=>u("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(l)}},[a,i.scrollHideDelay,u]),w.useEffect(()=>{const l=i.viewport,c=s?"scrollLeft":"scrollTop";if(l){let f=l[c];const d=()=>{const h=l[c];f!==h&&(u("SCROLL"),o()),f=h};return l.addEventListener("scroll",d),()=>l.removeEventListener("scroll",d)}},[i.viewport,s,u,o]),w.createElement(I_,{present:n||a!=="hidden"},w.createElement(ak,cr({"data-state":a==="hidden"?"hidden":"visible"},r,{ref:t,onPointerEnter:yd(e.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:yd(e.onPointerLeave,()=>u("POINTER_LEAVE"))})))}),Uq=w.forwardRef((e,t)=>{const n=Go(jl,e.__scopeScrollArea),{forceMount:r,...i}=e,[s,o]=w.useState(!1),a=e.orientation==="horizontal",u=BS(()=>{if(n.viewport){const l=n.viewport.offsetWidth<n.viewport.scrollWidth,c=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?l:c)}},10);return Yp(n.viewport,u),Yp(n.content,u),w.createElement(I_,{present:r||s},w.createElement(ak,cr({"data-state":s?"visible":"hidden"},i,{ref:t})))}),ak=w.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,i=Go(jl,e.__scopeScrollArea),s=w.useRef(null),o=w.useRef(0),[a,u]=w.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),l=Wq(a.viewport,a.content),c={...r,sizes:a,onSizesChange:u,hasThumb:l>0&&l<1,onThumbChange:d=>s.current=d,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:d=>o.current=d};function f(d,h){return nye(d,o.current,a,h)}return n==="horizontal"?w.createElement(Kge,cr({},c,{ref:t,onThumbPositionChange:()=>{if(i.viewport&&s.current){const d=i.viewport.scrollLeft,h=X4(d,a,i.dir);s.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:d=>{i.viewport&&(i.viewport.scrollLeft=d)},onDragScroll:d=>{i.viewport&&(i.viewport.scrollLeft=f(d,i.dir))}})):n==="vertical"?w.createElement(Qge,cr({},c,{ref:t,onThumbPositionChange:()=>{if(i.viewport&&s.current){const d=i.viewport.scrollTop,h=X4(d,a);s.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:d=>{i.viewport&&(i.viewport.scrollTop=d)},onDragScroll:d=>{i.viewport&&(i.viewport.scrollTop=f(d))}})):null}),Kge=w.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,s=Go(jl,e.__scopeScrollArea),[o,a]=w.useState(),u=w.useRef(null),l=Jd(t,u,s.onScrollbarXChange);return w.useEffect(()=>{u.current&&a(getComputedStyle(u.current))},[u]),w.createElement(zq,cr({"data-orientation":"horizontal"},i,{ref:l,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":FS(n)+"px",...e.style},onThumbPointerDown:c=>e.onThumbPointerDown(c.x),onDragScroll:c=>e.onDragScroll(c.x),onWheelScroll:(c,f)=>{if(s.viewport){const d=s.viewport.scrollLeft+c.deltaX;e.onWheelScroll(d),Yq(d,f)&&c.preventDefault()}},onResize:()=>{u.current&&s.viewport&&o&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:_E(o.paddingLeft),paddingEnd:_E(o.paddingRight)}})}}))}),Qge=w.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,s=Go(jl,e.__scopeScrollArea),[o,a]=w.useState(),u=w.useRef(null),l=Jd(t,u,s.onScrollbarYChange);return w.useEffect(()=>{u.current&&a(getComputedStyle(u.current))},[u]),w.createElement(zq,cr({"data-orientation":"vertical"},i,{ref:l,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":FS(n)+"px",...e.style},onThumbPointerDown:c=>e.onThumbPointerDown(c.y),onDragScroll:c=>e.onDragScroll(c.y),onWheelScroll:(c,f)=>{if(s.viewport){const d=s.viewport.scrollTop+c.deltaY;e.onWheelScroll(d),Yq(d,f)&&c.preventDefault()}},onResize:()=>{u.current&&s.viewport&&o&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:_E(o.paddingTop),paddingEnd:_E(o.paddingBottom)}})}}))}),[Xge,Vq]=jq(jl),zq=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:u,onDragScroll:l,onWheelScroll:c,onResize:f,...d}=e,h=Go(jl,n),[p,m]=w.useState(null),y=Jd(t,L=>m(L)),g=w.useRef(null),_=w.useRef(""),b=h.viewport,T=r.content-r.viewport,I=Vf(c),E=Vf(u),S=BS(f,10);function A(L){if(g.current){const W=L.clientX-g.current.left,z=L.clientY-g.current.top;l({x:W,y:z})}}return w.useEffect(()=>{const L=W=>{const z=W.target;(p==null?void 0:p.contains(z))&&I(W,T)};return document.addEventListener("wheel",L,{passive:!1}),()=>document.removeEventListener("wheel",L,{passive:!1})},[b,p,T,I]),w.useEffect(E,[r,E]),Yp(p,S),Yp(h.content,S),w.createElement(Xge,{scope:n,scrollbar:p,hasThumb:i,onThumbChange:Vf(s),onThumbPointerUp:Vf(o),onThumbPositionChange:E,onThumbPointerDown:Vf(a)},w.createElement(S_.div,cr({},d,{ref:y,style:{position:"absolute",...d.style},onPointerDown:yd(e.onPointerDown,L=>{L.button===0&&(L.target.setPointerCapture(L.pointerId),g.current=p.getBoundingClientRect(),_.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",A(L))}),onPointerMove:yd(e.onPointerMove,A),onPointerUp:yd(e.onPointerUp,L=>{L.target.releasePointerCapture(L.pointerId),document.body.style.webkitUserSelect=_.current,g.current=null})})))}),AP="ScrollAreaThumb",Jge=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Vq(AP,e.__scopeScrollArea);return w.createElement(I_,{present:n||i.hasThumb},w.createElement(Zge,cr({ref:t},r)))}),Zge=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...i}=e,s=Go(AP,n),o=Vq(AP,n),{onThumbPositionChange:a}=o,u=Jd(t,f=>o.onThumbChange(f)),l=w.useRef(),c=BS(()=>{l.current&&(l.current(),l.current=void 0)},100);return w.useEffect(()=>{const f=s.viewport;if(f){const d=()=>{if(c(),!l.current){const h=rye(f,a);l.current=h,a()}};return a(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[s.viewport,c,a]),w.createElement(S_.div,cr({"data-state":o.hasThumb?"visible":"hidden"},i,{ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:yd(e.onPointerDownCapture,f=>{const h=f.target.getBoundingClientRect(),p=f.clientX-h.left,m=f.clientY-h.top;o.onThumbPointerDown({x:p,y:m})}),onPointerUp:yd(e.onPointerUp,o.onThumbPointerUp)}))}),Hq="ScrollAreaCorner",eye=w.forwardRef((e,t)=>{const n=Go(Hq,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?w.createElement(tye,cr({},e,{ref:t})):null}),tye=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,i=Go(Hq,n),[s,o]=w.useState(0),[a,u]=w.useState(0),l=!!(s&&a);return Yp(i.scrollbarX,()=>{var c;const f=((c=i.scrollbarX)===null||c===void 0?void 0:c.offsetHeight)||0;i.onCornerHeightChange(f),u(f)}),Yp(i.scrollbarY,()=>{var c;const f=((c=i.scrollbarY)===null||c===void 0?void 0:c.offsetWidth)||0;i.onCornerWidthChange(f),o(f)}),l?w.createElement(S_.div,cr({},r,{ref:t,style:{width:s,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}})):null});function _E(e){return e?parseInt(e,10):0}function Wq(e,t){const n=e/t;return isNaN(n)?0:n}function FS(e){const t=Wq(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function nye(e,t,n,r="ltr"){const i=FS(n),s=i/2,o=t||s,a=i-o,u=n.scrollbar.paddingStart+o,l=n.scrollbar.size-n.scrollbar.paddingEnd-a,c=n.content-n.viewport,f=r==="ltr"?[0,c]:[c*-1,0];return qq([u,l],f)(e)}function X4(e,t,n="ltr"){const r=FS(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-i,o=t.content-t.viewport,a=s-r,u=n==="ltr"?[0,o]:[o*-1,0],l=jge(e,u);return qq([0,o],[0,a])(l)}function qq(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function Yq(e,t){return e>0&&e<t}const rye=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function i(){const s={left:e.scrollLeft,top:e.scrollTop},o=n.left!==s.left,a=n.top!==s.top;(o||a)&&t(),n=s,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function BS(e,t){const n=Vf(e),r=w.useRef(0);return w.useEffect(()=>()=>window.clearTimeout(r.current),[]),w.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Yp(e,t){const n=Vf(t);CP(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}const iye=zge,sye=Wge,J4=qge,Z4=Jge,oye=eye;var aye=at((e,{scrollbarSize:t,offsetScrollbars:n,scrollbarHovered:r,hidden:i},s)=>({root:{overflow:"hidden"},viewport:{width:"100%",height:"100%",paddingRight:n?t:void 0,paddingBottom:n?t:void 0},scrollbar:{display:i?"none":"flex",userSelect:"none",touchAction:"none",boxSizing:"border-box",padding:t/5,transition:"background-color 150ms ease, opacity 150ms ease","&:hover":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[8]:e.colors.gray[0],[`& .${s("thumb")}`]:{backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.white,.5):e.fn.rgba(e.black,.5)}},'&[data-orientation="vertical"]':{width:t},'&[data-orientation="horizontal"]':{flexDirection:"column",height:t},'&[data-state="hidden"]':{display:"none",opacity:0}},thumb:{ref:s("thumb"),flex:1,backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.white,.4):e.fn.rgba(e.black,.4),borderRadius:t,position:"relative",transition:"background-color 150ms ease",display:i?"none":void 0,"&::before":{content:'""',position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"100%",height:"100%"}},corner:{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[0],transition:"opacity 150ms ease",opacity:r?1:0,display:i?"none":void 0}}));const uye=aye;var lye=Object.defineProperty,cye=Object.defineProperties,fye=Object.getOwnPropertyDescriptors,vE=Object.getOwnPropertySymbols,Gq=Object.prototype.hasOwnProperty,Kq=Object.prototype.propertyIsEnumerable,e5=(e,t,n)=>t in e?lye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Qq=(e,t)=>{for(var n in t||(t={}))Gq.call(t,n)&&e5(e,n,t[n]);if(vE)for(var n of vE(t))Kq.call(t,n)&&e5(e,n,t[n]);return e},dye=(e,t)=>cye(e,fye(t)),Xq=(e,t)=>{var n={};for(var r in e)Gq.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&vE)for(var r of vE(e))t.indexOf(r)<0&&Kq.call(e,r)&&(n[r]=e[r]);return n};const Jq={scrollbarSize:12,scrollHideDelay:1e3,type:"hover",offsetScrollbars:!1},jS=w.forwardRef((e,t)=>{const n=ht("ScrollArea",Jq,e),{children:r,className:i,classNames:s,styles:o,scrollbarSize:a,scrollHideDelay:u,type:l,dir:c,offsetScrollbars:f,viewportRef:d,onScrollPositionChange:h,unstyled:p}=n,m=Xq(n,["children","className","classNames","styles","scrollbarSize","scrollHideDelay","type","dir","offsetScrollbars","viewportRef","onScrollPositionChange","unstyled"]),[y,g]=w.useState(!1),_=ts(),{classes:b,cx:T}=uye({scrollbarSize:a,offsetScrollbars:f,scrollbarHovered:y,hidden:l==="never"},{name:"ScrollArea",classNames:s,styles:o,unstyled:p});return k.createElement(iye,{type:l==="never"?"always":l,scrollHideDelay:u,dir:c||_.dir,ref:t,asChild:!0},k.createElement(lt,Qq({className:T(b.root,i)},m),k.createElement(sye,{className:b.viewport,ref:d,onScroll:typeof h=="function"?({currentTarget:I})=>h({x:I.scrollLeft,y:I.scrollTop}):void 0},r),k.createElement(J4,{orientation:"horizontal",className:b.scrollbar,forceMount:!0,onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1)},k.createElement(Z4,{className:b.thumb})),k.createElement(J4,{orientation:"vertical",className:b.scrollbar,forceMount:!0,onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1)},k.createElement(Z4,{className:b.thumb})),k.createElement(oye,{className:b.corner})))}),Zq=w.forwardRef((e,t)=>{const n=ht("ScrollAreaAutosize",Jq,e),{maxHeight:r,children:i,classNames:s,styles:o,scrollbarSize:a,scrollHideDelay:u,type:l,dir:c,offsetScrollbars:f,viewportRef:d,onScrollPositionChange:h,unstyled:p,sx:m}=n,y=Xq(n,["maxHeight","children","classNames","styles","scrollbarSize","scrollHideDelay","type","dir","offsetScrollbars","viewportRef","onScrollPositionChange","unstyled","sx"]);return k.createElement(lt,dye(Qq({},y),{ref:t,sx:[{display:"flex",maxHeight:r},...Rd(m)]}),k.createElement(lt,{sx:{display:"flex",flexDirection:"column",flex:1}},k.createElement(jS,{classNames:s,styles:o,scrollHideDelay:u,scrollbarSize:a,type:l,dir:c,offsetScrollbars:f,viewportRef:d,onScrollPositionChange:h,unstyled:p},i)))});Zq.displayName="@mantine/core/ScrollAreaAutosize";jS.displayName="@mantine/core/ScrollArea";jS.Autosize=Zq;const tg=jS;var hye=Object.defineProperty,pye=Object.defineProperties,mye=Object.getOwnPropertyDescriptors,bE=Object.getOwnPropertySymbols,eY=Object.prototype.hasOwnProperty,tY=Object.prototype.propertyIsEnumerable,t5=(e,t,n)=>t in e?hye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,n5=(e,t)=>{for(var n in t||(t={}))eY.call(t,n)&&t5(e,n,t[n]);if(bE)for(var n of bE(t))tY.call(t,n)&&t5(e,n,t[n]);return e},gye=(e,t)=>pye(e,mye(t)),yye=(e,t)=>{var n={};for(var r in e)eY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&bE)for(var r of bE(e))t.indexOf(r)<0&&tY.call(e,r)&&(n[r]=e[r]);return n};const US=w.forwardRef((e,t)=>{var n=e,{style:r}=n,i=yye(n,["style"]);return k.createElement(tg,gye(n5({},i),{style:n5({width:"100%"},r),viewportRef:t}),i.children)});US.displayName="@mantine/core/SelectScrollArea";var _ye=at(()=>({dropdown:{},itemsWrapper:{padding:4,display:"flex",width:"100%",boxSizing:"border-box"}}));const vye=_ye;function wl(e){return e.split("-")[0]}function x_(e){return e.split("-")[1]}function Zd(e){return["top","bottom"].includes(wl(e))?"x":"y"}function uk(e){return e==="y"?"height":"width"}function r5(e,t,n){let{reference:r,floating:i}=e;const s=r.x+r.width/2-i.width/2,o=r.y+r.height/2-i.height/2,a=Zd(t),u=uk(a),l=r[u]/2-i[u]/2,c=a==="x";let f;switch(wl(t)){case"top":f={x:s,y:r.y-i.height};break;case"bottom":f={x:s,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:o};break;case"left":f={x:r.x-i.width,y:o};break;default:f={x:r.x,y:r.y}}switch(x_(t)){case"start":f[a]-=l*(n&&c?-1:1);break;case"end":f[a]+=l*(n&&c?-1:1)}return f}const bye=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(t));let l=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:c,y:f}=r5(l,r,u),d=r,h={},p=0;for(let m=0;m<a.length;m++){const{name:y,fn:g}=a[m],{x:_,y:b,data:T,reset:I}=await g({x:c,y:f,initialPlacement:r,placement:d,strategy:i,middlewareData:h,rects:l,platform:o,elements:{reference:e,floating:t}});c=_??c,f=b??f,h={...h,[y]:{...h[y],...T}},I&&p<=50&&(p++,typeof I=="object"&&(I.placement&&(d=I.placement),I.rects&&(l=I.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):I.rects),{x:c,y:f}=r5(l,d,u)),m=-1)}return{x:c,y:f,placement:d,strategy:i,middlewareData:h}};function lk(e){return typeof e!="number"?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(e):{top:e,right:e,bottom:e,left:e}}function Ey(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function ck(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:u}=e,{boundary:l="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:d=!1,padding:h=0}=t,p=lk(h),m=a[d?f==="floating"?"reference":"floating":f],y=Ey(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(m)))==null||n?m:m.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:l,rootBoundary:c,strategy:u})),g=Ey(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({rect:f==="floating"?{...o.floating,x:r,y:i}:o.reference,offsetParent:await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),strategy:u}):o[f]);return{top:y.top-g.top+p.top,bottom:g.bottom-y.bottom+p.bottom,left:y.left-g.left+p.left,right:g.right-y.right+p.right}}const nY=Math.min,uc=Math.max;function OP(e,t,n){return uc(e,nY(t,n))}const i5=e=>({name:"arrow",options:e,async fn(t){const{element:n,padding:r=0}=e??{},{x:i,y:s,placement:o,rects:a,platform:u}=t;if(n==null)return{};const l=lk(r),c={x:i,y:s},f=Zd(o),d=x_(o),h=uk(f),p=await u.getDimensions(n),m=f==="y"?"top":"left",y=f==="y"?"bottom":"right",g=a.reference[h]+a.reference[f]-c[f]-a.floating[h],_=c[f]-a.reference[f],b=await(u.getOffsetParent==null?void 0:u.getOffsetParent(n));let T=b?f==="y"?b.clientHeight||0:b.clientWidth||0:0;T===0&&(T=a.floating[h]);const I=g/2-_/2,E=l[m],S=T-p[h]-l[y],A=T/2-p[h]/2+I,L=OP(E,A,S),W=(d==="start"?l[m]:l[y])>0&&A!==L&&a.reference[h]<=a.floating[h];return{[f]:c[f]-(W?A<E?E-A:S-A:0),data:{[f]:L,centerOffset:A-L}}}}),Eye={left:"right",right:"left",bottom:"top",top:"bottom"};function EE(e){return e.replace(/left|right|bottom|top/g,t=>Eye[t])}function wye(e,t,n){n===void 0&&(n=!1);const r=x_(e),i=Zd(e),s=uk(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=EE(o)),{main:o,cross:EE(o)}}const Tye={start:"end",end:"start"};function s5(e){return e.replace(/start|end/g,t=>Tye[t])}const Sye=["top","right","bottom","left"];Sye.reduce((e,t)=>e.concat(t,t+"-start",t+"-end"),[]);const rY=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n;const{placement:r,middlewareData:i,rects:s,initialPlacement:o,platform:a,elements:u}=t,{mainAxis:l=!0,crossAxis:c=!0,fallbackPlacements:f,fallbackStrategy:d="bestFit",flipAlignment:h=!0,...p}=e,m=wl(r),y=f||(m===o||!h?[EE(o)]:function(A){const L=EE(A);return[s5(A),L,s5(L)]}(o)),g=[o,...y],_=await ck(t,p),b=[];let T=((n=i.flip)==null?void 0:n.overflows)||[];if(l&&b.push(_[m]),c){const{main:A,cross:L}=wye(r,s,await(a.isRTL==null?void 0:a.isRTL(u.floating)));b.push(_[A],_[L])}if(T=[...T,{placement:r,overflows:b}],!b.every(A=>A<=0)){var I,E;const A=((I=(E=i.flip)==null?void 0:E.index)!=null?I:0)+1,L=g[A];if(L)return{data:{index:A,overflows:T},reset:{placement:L}};let W="bottom";switch(d){case"bestFit":{var S;const z=(S=T.map(U=>[U,U.overflows.filter(Z=>Z>0).reduce((Z,H)=>Z+H,0)]).sort((U,Z)=>U[1]-Z[1])[0])==null?void 0:S[0].placement;z&&(W=z);break}case"initialPlacement":W=o}if(r!==W)return{reset:{placement:W}}}return{}}}},iY=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:r}=t,i=await async function(s,o){const{placement:a,platform:u,elements:l}=s,c=await(u.isRTL==null?void 0:u.isRTL(l.floating)),f=wl(a),d=x_(a),h=Zd(a)==="x",p=["left","top"].includes(f)?-1:1,m=c&&h?-1:1,y=typeof o=="function"?o(s):o;let{mainAxis:g,crossAxis:_,alignmentAxis:b}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...y};return d&&typeof b=="number"&&(_=d==="end"?-1*b:b),h?{x:_*m,y:g*p}:{x:g*p,y:_*m}}(t,e);return{x:n+i.x,y:r+i.y,data:i}}}};function sY(e){return e==="x"?"y":"x"}const fk=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x:g,y:_}=y;return{x:g,y:_}}},...u}=e,l={x:n,y:r},c=await ck(t,u),f=Zd(wl(i)),d=sY(f);let h=l[f],p=l[d];if(s){const y=f==="y"?"bottom":"right";h=OP(h+c[f==="y"?"top":"left"],h,h-c[y])}if(o){const y=d==="y"?"bottom":"right";p=OP(p+c[d==="y"?"top":"left"],p,p-c[y])}const m=a.fn({...t,[f]:h,[d]:p});return{...m,data:{x:m.x-n,y:m.y-r}}}}},Iye=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=t,{offset:a=0,mainAxis:u=!0,crossAxis:l=!0}=e,c={x:n,y:r},f=Zd(i),d=sY(f);let h=c[f],p=c[d];const m=typeof a=="function"?a(t):a,y=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(u){const I=f==="y"?"height":"width",E=s.reference[f]-s.floating[I]+y.mainAxis,S=s.reference[f]+s.reference[I]-y.mainAxis;h<E?h=E:h>S&&(h=S)}if(l){var g,_,b,T;const I=f==="y"?"width":"height",E=["top","left"].includes(wl(i)),S=s.reference[d]-s.floating[I]+(E&&(g=(_=o.offset)==null?void 0:_[d])!=null?g:0)+(E?0:y.crossAxis),A=s.reference[d]+s.reference[I]+(E?0:(b=(T=o.offset)==null?void 0:T[d])!=null?b:0)-(E?y.crossAxis:0);p<S?p=S:p>A&&(p=A)}return{[f]:h,[d]:p}}}},xye=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:i,elements:s}=t,{apply:o=()=>{},...a}=e,u=await ck(t,a),l=wl(n),c=x_(n);let f,d;l==="top"||l==="bottom"?(f=l,d=c===(await(i.isRTL==null?void 0:i.isRTL(s.floating))?"start":"end")?"left":"right"):(d=l,f=c==="end"?"top":"bottom");const h=uc(u.left,0),p=uc(u.right,0),m=uc(u.top,0),y=uc(u.bottom,0),g={availableHeight:r.floating.height-(["left","right"].includes(n)?2*(m!==0||y!==0?m+y:uc(u.top,u.bottom)):u[f]),availableWidth:r.floating.width-(["top","bottom"].includes(n)?2*(h!==0||p!==0?h+p:uc(u.left,u.right)):u[d])};await o({...t,...g});const _=await i.getDimensions(s.floating);return r.floating.width!==_.width||r.floating.height!==_.height?{reset:{rects:!0}}:{}}}},oY=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){var n;const{placement:r,elements:i,rects:s,platform:o,strategy:a}=t,{padding:u=2,x:l,y:c}=e,f=Ey(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({rect:s.reference,offsetParent:await(o.getOffsetParent==null?void 0:o.getOffsetParent(i.floating)),strategy:a}):s.reference),d=(n=await(o.getClientRects==null?void 0:o.getClientRects(i.reference)))!=null?n:[],h=lk(u),p=await o.getElementRects({reference:{getBoundingClientRect:function(){var m;if(d.length===2&&d[0].left>d[1].right&&l!=null&&c!=null)return(m=d.find(y=>l>y.left-h.left&&l<y.right+h.right&&c>y.top-h.top&&c<y.bottom+h.bottom))!=null?m:f;if(d.length>=2){if(Zd(r)==="x"){const E=d[0],S=d[d.length-1],A=wl(r)==="top",L=E.top,W=S.bottom,z=A?E.left:S.left,U=A?E.right:S.right;return{top:L,bottom:W,left:z,right:U,width:U-z,height:W-L,x:z,y:L}}const y=wl(r)==="left",g=uc(...d.map(E=>E.right)),_=nY(...d.map(E=>E.left)),b=d.filter(E=>y?E.left===_:E.right===g),T=b[0].top,I=b[b.length-1].bottom;return{top:T,bottom:I,left:_,right:g,width:g-_,height:I-T,x:_,y:T}}return f}},floating:i.floating,strategy:a});return s.reference.x!==p.reference.x||s.reference.y!==p.reference.y||s.reference.width!==p.reference.width||s.reference.height!==p.reference.height?{reset:{rects:p}}:{}}}};function aY(e){return e&&e.document&&e.location&&e.alert&&e.setInterval}function Ul(e){if(e==null)return window;if(!aY(e)){const t=e.ownerDocument;return t&&t.defaultView||window}return e}function Xc(e){return Ul(e).getComputedStyle(e)}function Jc(e){return aY(e)?"":e?(e.nodeName||"").toLowerCase():""}function uY(){const e=navigator.userAgentData;return e!=null&&e.brands?e.brands.map(t=>t.brand+"/"+t.version).join(" "):navigator.userAgent}function Tl(e){return e instanceof Ul(e).HTMLElement}function ll(e){return e instanceof Ul(e).Element}function o5(e){return typeof ShadowRoot>"u"?!1:e instanceof Ul(e).ShadowRoot||e instanceof ShadowRoot}function VS(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Xc(e);return/auto|scroll|overlay|hidden/.test(t+r+n)&&!["inline","contents"].includes(i)}function Cye(e){return["table","td","th"].includes(Jc(e))}function PP(e){const t=/firefox/i.test(uY()),n=Xc(e),r=n.backdropFilter||n.WebkitBackdropFilter;return n.transform!=="none"||n.perspective!=="none"||!!r&&r!=="none"||t&&n.willChange==="filter"||t&&!!n.filter&&n.filter!=="none"||["transform","perspective"].some(i=>n.willChange.includes(i))||["paint","layout","strict","content"].some(i=>{const s=n.contain;return s!=null&&s.includes(i)})}function lY(){return!/^((?!chrome|android).)*safari/i.test(uY())}function dk(e){return["html","body","#document"].includes(Jc(e))}const a5=Math.min,xg=Math.max,wE=Math.round;function cl(e,t,n){var r,i,s,o;t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect();let u=1,l=1;t&&Tl(e)&&(u=e.offsetWidth>0&&wE(a.width)/e.offsetWidth||1,l=e.offsetHeight>0&&wE(a.height)/e.offsetHeight||1);const c=ll(e)?Ul(e):window,f=!lY()&&n,d=(a.left+(f&&(r=(i=c.visualViewport)==null?void 0:i.offsetLeft)!=null?r:0))/u,h=(a.top+(f&&(s=(o=c.visualViewport)==null?void 0:o.offsetTop)!=null?s:0))/l,p=a.width/u,m=a.height/l;return{width:p,height:m,top:h,right:d+p,bottom:h+m,left:d,x:d,y:h}}function Mc(e){return(t=e,(t instanceof Ul(t).Node?e.ownerDocument:e.document)||window.document).documentElement;var t}function zS(e){return ll(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function cY(e){return cl(Mc(e)).left+zS(e).scrollLeft}function Aye(e,t,n){const r=Tl(t),i=Mc(t),s=cl(e,r&&function(u){const l=cl(u);return wE(l.width)!==u.offsetWidth||wE(l.height)!==u.offsetHeight}(t),n==="fixed");let o={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if(r||!r&&n!=="fixed")if((Jc(t)!=="body"||VS(i))&&(o=zS(t)),Tl(t)){const u=cl(t,!0);a.x=u.x+t.clientLeft,a.y=u.y+t.clientTop}else i&&(a.x=cY(i));return{x:s.left+o.scrollLeft-a.x,y:s.top+o.scrollTop-a.y,width:s.width,height:s.height}}function TE(e){if(Jc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||(o5(e)?e.host:null)||Mc(e);return o5(t)?t.host:t}function u5(e){return Tl(e)&&Xc(e).position!=="fixed"?e.offsetParent:null}function l5(e){const t=Ul(e);let n=u5(e);for(;n&&Cye(n)&&Xc(n).position==="static";)n=u5(n);return n&&(Jc(n)==="html"||Jc(n)==="body"&&Xc(n).position==="static"&&!PP(n))?t:n||function(r){let i=TE(r);for(;Tl(i)&&!dk(i);){if(PP(i))return i;i=TE(i)}return null}(e)||t}function c5(e){if(Tl(e))return{width:e.offsetWidth,height:e.offsetHeight};const t=cl(e);return{width:t.width,height:t.height}}function fY(e){const t=TE(e);return dk(t)?e.ownerDocument.body:Tl(t)&&VS(t)?t:fY(t)}function fl(e,t){var n;t===void 0&&(t=[]);const r=fY(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),s=Ul(r),o=i?[s].concat(s.visualViewport||[],VS(r)?r:[]):r,a=t.concat(o);return i?a:a.concat(fl(o))}function f5(e,t,n){return t==="viewport"?Ey(function(r,i){const s=Ul(r),o=Mc(r),a=s.visualViewport;let u=o.clientWidth,l=o.clientHeight,c=0,f=0;if(a){u=a.width,l=a.height;const d=lY();(d||!d&&i==="fixed")&&(c=a.offsetLeft,f=a.offsetTop)}return{width:u,height:l,x:c,y:f}}(e,n)):ll(t)?function(r,i){const s=cl(r,!1,i==="fixed"),o=s.top+r.clientTop,a=s.left+r.clientLeft;return{top:o,left:a,x:a,y:o,right:a+r.clientWidth,bottom:o+r.clientHeight,width:r.clientWidth,height:r.clientHeight}}(t,n):Ey(function(r){var i;const s=Mc(r),o=zS(r),a=(i=r.ownerDocument)==null?void 0:i.body,u=xg(s.scrollWidth,s.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),l=xg(s.scrollHeight,s.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0);let c=-o.scrollLeft+cY(r);const f=-o.scrollTop;return Xc(a||s).direction==="rtl"&&(c+=xg(s.clientWidth,a?a.clientWidth:0)-u),{width:u,height:l,x:c,y:f}}(Mc(e)))}const Oye={getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const s=n==="clippingAncestors"?function(l){let c=fl(l).filter(h=>ll(h)&&Jc(h)!=="body"),f=l,d=null;for(;ll(f)&&!dk(f);){const h=Xc(f);h.position==="static"&&d&&["absolute","fixed"].includes(d.position)&&!PP(f)?c=c.filter(p=>p!==f):d=h,f=TE(f)}return c}(t):[].concat(n),o=[...s,r],a=o[0],u=o.reduce((l,c)=>{const f=f5(t,c,i);return l.top=xg(f.top,l.top),l.right=a5(f.right,l.right),l.bottom=a5(f.bottom,l.bottom),l.left=xg(f.left,l.left),l},f5(t,a,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{rect:t,offsetParent:n,strategy:r}=e;const i=Tl(n),s=Mc(n);if(n===s)return t;let o={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if((i||!i&&r!=="fixed")&&((Jc(n)!=="body"||VS(s))&&(o=zS(n)),Tl(n))){const u=cl(n,!0);a.x=u.x+n.clientLeft,a.y=u.y+n.clientTop}return{...t,x:t.x-o.scrollLeft+a.x,y:t.y-o.scrollTop+a.y}},isElement:ll,getDimensions:c5,getOffsetParent:l5,getDocumentElement:Mc,getElementRects:e=>{let{reference:t,floating:n,strategy:r}=e;return{reference:Aye(t,l5(n),r),floating:{...c5(n),x:0,y:0}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>Xc(e).direction==="rtl"};function Pye(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=!0,animationFrame:a=!1}=r,u=i&&!a,l=u||s?[...ll(e)?fl(e):e.contextElement?fl(e.contextElement):[],...fl(t)]:[];l.forEach(h=>{u&&h.addEventListener("scroll",n,{passive:!0}),s&&h.addEventListener("resize",n)});let c,f=null;if(o){let h=!0;f=new ResizeObserver(()=>{h||n(),h=!1}),ll(e)&&!a&&f.observe(e),ll(e)||!e.contextElement||a||f.observe(e.contextElement),f.observe(t)}let d=a?cl(e):null;return a&&function h(){const p=cl(e);!d||p.x===d.x&&p.y===d.y&&p.width===d.width&&p.height===d.height||n(),d=p,c=requestAnimationFrame(h)}(),n(),()=>{var h;l.forEach(p=>{u&&p.removeEventListener("scroll",n),s&&p.removeEventListener("resize",n)}),(h=f)==null||h.disconnect(),f=null,a&&cancelAnimationFrame(c)}}const Rye=(e,t,n)=>bye(e,t,{platform:Oye,...n});var RP=typeof document<"u"?w.useLayoutEffect:w.useEffect;function SE(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!SE(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&e.$$typeof)&&!SE(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function Nye(e){const t=w.useRef(e);return RP(()=>{t.current=e}),t}function kye(e){let{middleware:t=[],placement:n="bottom",strategy:r="absolute",whileElementsMounted:i}=e===void 0?{}:e;const[s,o]=w.useState({x:null,y:null,strategy:r,placement:n,middlewareData:{}}),[a,u]=w.useState(t);SE(a,t)||u(t);const l=w.useRef(null),c=w.useRef(null),f=w.useRef(null),d=w.useRef(s),h=Nye(i),p=w.useCallback(()=>{!l.current||!c.current||Rye(l.current,c.current,{middleware:a,placement:n,strategy:r}).then(T=>{m.current&&!SE(d.current,T)&&(d.current=T,__.flushSync(()=>{o(T)}))})},[a,n,r]);RP(()=>{m.current&&p()},[p]);const m=w.useRef(!1);RP(()=>(m.current=!0,()=>{m.current=!1}),[]);const y=w.useCallback(()=>{if(typeof f.current=="function"&&(f.current(),f.current=null),l.current&&c.current)if(h.current){const T=h.current(l.current,c.current,p);f.current=T}else p()},[p,h]),g=w.useCallback(T=>{l.current=T,y()},[y]),_=w.useCallback(T=>{c.current=T,y()},[y]),b=w.useMemo(()=>({reference:l,floating:c}),[]);return w.useMemo(()=>({...s,update:p,refs:b,reference:g,floating:_}),[s,p,b,g,_])}const dY=e=>{const{element:t,padding:n}=e;function r(i){return Object.prototype.hasOwnProperty.call(i,"current")}return{name:"arrow",options:e,fn(i){return r(t)?t.current!=null?i5({element:t.current,padding:n}).fn(i):{}:t?i5({element:t,padding:n}).fn(i):{}}}};var Gp=typeof document<"u"?w.useLayoutEffect:w.useEffect;function Dye(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(i=>i(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){e.set(t,(e.get(t)||[]).filter(r=>r!==n))}}}let SC=!1,$ye=0;const d5=()=>"floating-ui-"+$ye++;function Lye(){const[e,t]=w.useState(()=>SC?d5():void 0);return Gp(()=>{e==null&&t(d5())},[]),w.useEffect(()=>{SC||(SC=!0)},[]),e}const h5=Id.useId,p5=h5??Lye,Mye=w.createContext(null),Fye=w.createContext(null),hY=()=>{var e,t;return(e=(t=w.useContext(Mye))==null?void 0:t.id)!=null?e:null},hk=()=>w.useContext(Fye);function pc(e){var t;return(t=e==null?void 0:e.ownerDocument)!=null?t:document}function pY(e){var t;return(t=pc(e).defaultView)!=null?t:window}function Zf(e){return e?e instanceof pY(e).Element:!1}function Bye(e){return e?e instanceof pY(e).HTMLElement:!1}const m5=Id.useInsertionEffect;function jye(e){const t=w.useRef(()=>{});return m5?m5(()=>{t.current=e}):t.current=e,w.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function pk(e){let{open:t=!1,onOpenChange:n,whileElementsMounted:r,placement:i,middleware:s,strategy:o,nodeId:a}=e===void 0?{}:e;const[u,l]=w.useState(null),c=hk(),f=w.useRef(null),d=w.useRef({}),h=w.useState(()=>Dye())[0],p=kye({placement:i,middleware:s,strategy:o,whileElementsMounted:r}),m=jye(n),y=w.useMemo(()=>({...p.refs,domReference:f}),[p.refs]),g=w.useMemo(()=>({...p,refs:y,dataRef:d,nodeId:a,events:h,open:t,onOpenChange:m,_:{domReference:u}}),[p,a,h,t,m,y,u]);Gp(()=>{const T=c==null?void 0:c.nodesRef.current.find(I=>I.id===a);T&&(T.context=g)});const{reference:_}=p,b=w.useCallback(T=>{(Zf(T)||T===null)&&(g.refs.domReference.current=T,l(T)),_(T)},[_,g.refs]);return w.useMemo(()=>({...p,context:g,refs:y,reference:b}),[p,y,g,b])}function IC(e,t,n){const r=new Map;return{...n==="floating"&&{tabIndex:-1},...e,...t.map(i=>i?i[n]:null).concat(e).reduce((i,s)=>(s&&Object.entries(s).forEach(o=>{let[a,u]=o;if(a.indexOf("on")===0){if(r.has(a)||r.set(a,[]),typeof u=="function"){var l;(l=r.get(a))==null||l.push(u),i[a]=function(){for(var c,f=arguments.length,d=new Array(f),h=0;h<f;h++)d[h]=arguments[h];(c=r.get(a))==null||c.forEach(p=>p(...d))}}}else i[a]=u}),i),{})}}const Uye=function(e){e===void 0&&(e=[]);const t=e,n=w.useCallback(s=>IC(s,e,"reference"),t),r=w.useCallback(s=>IC(s,e,"floating"),t),i=w.useCallback(s=>IC(s,e,"item"),t);return w.useMemo(()=>({getReferenceProps:n,getFloatingProps:r,getItemProps:i}),[n,r,i])};function xC(e,t){var n;let r=(n=e.filter(o=>{var a;return o.parentId===t&&((a=o.context)==null?void 0:a.open)}))!=null?n:[],i=r;for(;i.length;){var s;i=(s=e.filter(o=>{var a;return(a=i)==null?void 0:a.some(u=>{var l;return o.parentId===u.id&&((l=o.context)==null?void 0:l.open)})}))!=null?s:[],r=r.concat(i)}return r}function Vye(e){return"composedPath"in e?e.composedPath()[0]:e.target}function g5(e){const t=w.useRef(e);return Gp(()=>{t.current=e}),t}function zye(e){const t=w.useRef();return Gp(()=>{t.current=e},[e]),t.current}function X1(e,t,n){return n&&n!=="mouse"?0:typeof e=="number"?e:e==null?void 0:e[t]}const Hye=function(e,t){let{enabled:n=!0,delay:r=0,handleClose:i=null,mouseOnly:s=!1,restMs:o=0,move:a=!0}=t===void 0?{}:t;const{open:u,onOpenChange:l,dataRef:c,events:f,refs:d,_:h}=e,p=hk(),m=hY(),y=g5(i),g=g5(r),_=zye(u),b=w.useRef(),T=w.useRef(),I=w.useRef(),E=w.useRef(),S=w.useRef(!0),A=w.useRef(!1),L=w.useCallback(()=>{var Z;const H=(Z=c.current.openEvent)==null?void 0:Z.type;return(H==null?void 0:H.includes("mouse"))&&H!=="mousedown"},[c]);w.useEffect(()=>{if(!n)return;function Z(){clearTimeout(T.current),clearTimeout(E.current),S.current=!0}return f.on("dismiss",Z),()=>{f.off("dismiss",Z)}},[n,f,d]),w.useEffect(()=>{if(!n||!y.current)return;function Z(){L()&&l(!1)}const H=pc(d.floating.current).documentElement;return H.addEventListener("mouseleave",Z),()=>{H.removeEventListener("mouseleave",Z)}},[d,l,n,y,c,L]);const W=w.useCallback(function(Z){Z===void 0&&(Z=!0);const H=X1(g.current,"close",b.current);H&&!I.current?(clearTimeout(T.current),T.current=setTimeout(()=>l(!1),H)):Z&&(clearTimeout(T.current),l(!1))},[g,l]),z=w.useCallback(()=>{I.current&&(pc(d.floating.current).removeEventListener("pointermove",I.current),I.current=void 0)},[d]),U=w.useCallback(()=>{pc(d.floating.current).body.style.pointerEvents="",A.current=!1},[d]);return w.useEffect(()=>{if(!n)return;function Z(){return c.current.openEvent?["click","mousedown"].includes(c.current.openEvent.type):!1}function H(oe){if(clearTimeout(T.current),S.current=!1,s&&b.current!=="mouse"||o>0&&X1(g.current,"open")===0)return;c.current.openEvent=oe;const J=X1(g.current,"open",b.current);J?T.current=setTimeout(()=>{l(!0)},J):l(!0)}function ue(oe){if(Z())return;const J=pc(d.floating.current);if(clearTimeout(E.current),y.current){clearTimeout(T.current),I.current&&J.removeEventListener("pointermove",I.current),I.current=y.current({...e,tree:p,x:oe.clientX,y:oe.clientY,onClose(){U(),z(),W()}}),J.addEventListener("pointermove",I.current);return}W()}function ie(oe){Z()||y.current==null||y.current({...e,tree:p,x:oe.clientX,y:oe.clientY,leave:!0,onClose(){U(),z(),W()}})(oe)}const _e=d.floating.current,te=d.domReference.current;if(Zf(te))return u&&te.addEventListener("mouseleave",ie),_e==null||_e.addEventListener("mouseleave",ie),a&&te.addEventListener("mousemove",H,{once:!0}),te.addEventListener("mouseenter",H),te.addEventListener("mouseleave",ue),()=>{u&&te.removeEventListener("mouseleave",ie),_e==null||_e.removeEventListener("mouseleave",ie),a&&te.removeEventListener("mousemove",H),te.removeEventListener("mouseenter",H),te.removeEventListener("mouseleave",ue)}},[h.domReference,n,e,s,o,a,W,z,U,l,u,p,d,g,y,c]),Gp(()=>{if(n&&u&&y.current&&y.current.__options.blockPointerEvents&&L()){pc(d.floating.current).body.style.pointerEvents="none",A.current=!0;const ue=d.domReference.current,ie=d.floating.current;if(Zf(ue)&&ie){var Z,H;const _e=p==null||(Z=p.nodesRef.current.find(te=>te.id===m))==null||(H=Z.context)==null?void 0:H.refs.floating.current;return _e&&(_e.style.pointerEvents=""),ue.style.pointerEvents="auto",ie.style.pointerEvents="auto",()=>{ue.style.pointerEvents="",ie.style.pointerEvents=""}}}},[n,u,m,d,p,y,c,L]),Gp(()=>{_&&!u&&(b.current=void 0,z(),U())}),w.useEffect(()=>()=>{z(),clearTimeout(T.current),clearTimeout(E.current),A.current&&U()},[n,z,U]),w.useMemo(()=>{if(!n)return{};function Z(H){b.current=H.pointerType}return{reference:{onPointerDown:Z,onPointerEnter:Z,onMouseMove(){u||o===0||(clearTimeout(E.current),E.current=setTimeout(()=>{S.current||l(!0)},o))}},floating:{onMouseEnter(){clearTimeout(T.current)},onMouseLeave(){W(!1)}}}},[n,o,u,l,W])},mY=w.createContext({delay:1e3,initialDelay:1e3,currentId:null,setCurrentId:()=>{},setState:()=>{}}),gY=()=>w.useContext(mY),Wye=e=>{let{children:t,delay:n}=e;const[r,i]=w.useState({delay:n,initialDelay:n,currentId:null}),s=w.useCallback(o=>{i(a=>({...a,currentId:o}))},[]);return w.createElement(mY.Provider,{value:w.useMemo(()=>({...r,setState:i,setCurrentId:s}),[r,i,s])},t)},qye=(e,t)=>{let{open:n,onOpenChange:r}=e,{id:i}=t;const{currentId:s,initialDelay:o,setState:a}=gY();w.useEffect(()=>{s&&(a(u=>({...u,delay:{open:1,close:X1(o,"close")}})),s!==i&&r(!1))},[i,r,a,s,o]),w.useEffect(()=>{!n&&s===i&&(r(!1),a(u=>({...u,delay:o,currentId:null})))},[n,a,s,i,r,o])},Yye=function(e,t){let{open:n}=e,{enabled:r=!0,role:i="dialog"}=t===void 0?{}:t;const s=p5(),o=p5();return w.useMemo(()=>{const a={id:s,role:i};return r?i==="tooltip"?{reference:{"aria-describedby":n?s:void 0},floating:a}:{reference:{"aria-expanded":n?"true":"false","aria-haspopup":i==="alertdialog"?"dialog":i,"aria-controls":n?s:void 0,...i==="listbox"&&{role:"combobox"},...i==="menu"&&{id:o}},floating:{...a,...i==="menu"&&{"aria-labelledby":o}}}:{}},[r,i,n,s,o])};function CC(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}const Gye={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},Kye={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Qye=function(e,t){let{open:n,onOpenChange:r,refs:i,events:s,nodeId:o}=e,{enabled:a=!0,escapeKey:u=!0,outsidePress:l=!0,outsidePressEvent:c="pointerdown",referencePress:f=!1,referencePressEvent:d="pointerdown",ancestorScroll:h=!1,bubbles:p=!0}=t===void 0?{}:t;const m=hk(),y=hY()!=null,g=w.useRef(!1);return w.useEffect(()=>{if(!n||!a)return;function _(S){if(S.key==="Escape"){if(!p&&m&&xC(m.nodesRef.current,o).length>0)return;s.emit("dismiss",{preventScroll:!1}),r(!1)}}function b(S){const A=g.current;if(g.current=!1,A)return;const L=Vye(S);if(Zf(L)&&i.floating.current){var W;const U=(W=i.floating.current.ownerDocument.defaultView)!=null?W:window,Z=L.scrollWidth>L.clientWidth,H=L.scrollHeight>L.clientHeight;let ue=H&&S.offsetX>L.clientWidth;if(H&&U.getComputedStyle(L).direction==="rtl"&&(ue=S.offsetX<=L.offsetWidth-L.clientWidth),ue||Z&&S.offsetY>L.clientHeight)return}const z=m&&xC(m.nodesRef.current,o).some(U=>{var Z;return CC(S,(Z=U.context)==null?void 0:Z.refs.floating.current)});CC(S,i.floating.current)||CC(S,i.domReference.current)||z||!p&&m&&xC(m.nodesRef.current,o).length>0||(s.emit("dismiss",y?{preventScroll:!0}:!1),r(!1))}function T(){r(!1)}const I=pc(i.floating.current);u&&I.addEventListener("keydown",_),l&&I.addEventListener(c,b);let E=[];return h&&(Zf(i.domReference.current)&&(E=fl(i.domReference.current)),Zf(i.floating.current)&&(E=E.concat(fl(i.floating.current))),!Zf(i.reference.current)&&i.reference.current&&i.reference.current.contextElement&&(E=E.concat(fl(i.reference.current.contextElement)))),E=E.filter(S=>{var A;return S!==((A=I.defaultView)==null?void 0:A.visualViewport)}),E.forEach(S=>{S.addEventListener("scroll",T,{passive:!0})}),()=>{u&&I.removeEventListener("keydown",_),l&&I.removeEventListener(c,b),E.forEach(S=>{S.removeEventListener("scroll",T)})}},[u,l,c,s,m,o,n,r,h,a,p,i,y]),w.useEffect(()=>{g.current=!1},[l,c]),w.useMemo(()=>a?{reference:{[Gye[d]]:()=>{f&&(s.emit("dismiss"),r(!1))}},floating:{[Kye[c]]:()=>{g.current=!0}}}:{},[a,s,f,c,d,r])},Xye=function(e,t){let{open:n,onOpenChange:r,dataRef:i,refs:s,events:o}=e,{enabled:a=!0,keyboardOnly:u=!0}=t===void 0?{}:t;const l=w.useRef(""),c=w.useRef(!1),f=w.useRef();return w.useEffect(()=>{var d;if(!a)return;const p=(d=pc(s.floating.current).defaultView)!=null?d:window;function m(){!n&&Bye(s.domReference.current)&&s.domReference.current.blur()}return p.addEventListener("blur",m),()=>{p.removeEventListener("blur",m)}},[s,n,a]),w.useEffect(()=>{if(!a)return;function d(){c.current=!0}return o.on("dismiss",d),()=>{o.off("dismiss",d)}},[o,a]),w.useEffect(()=>()=>{clearTimeout(f.current)},[]),w.useMemo(()=>a?{reference:{onPointerDown(d){let{pointerType:h}=d;l.current=h,c.current=!!(h&&u)},onPointerLeave(){c.current=!1},onFocus(d){var h,p,m;c.current||d.type==="focus"&&((h=i.current.openEvent)==null?void 0:h.type)==="mousedown"&&(p=s.domReference.current)!=null&&p.contains((m=i.current.openEvent)==null?void 0:m.target)||(i.current.openEvent=d.nativeEvent,r(!0))},onBlur(d){const h=d.relatedTarget;f.current=setTimeout(()=>{var p,m;(p=s.floating.current)!=null&&p.contains(h)||(m=s.domReference.current)!=null&&m.contains(h)||(c.current=!1,r(!1))})}}}:{},[a,u,s,i,r])};function yY({opened:e,floating:t,positionDependencies:n}){const[r,i]=w.useState(0);w.useEffect(()=>{if(t.refs.reference.current&&t.refs.floating.current)return Pye(t.refs.reference.current,t.refs.floating.current,t.update)},[t.refs.reference,t.refs.floating,e,r]),co(()=>{t.update()},n),co(()=>{i(s=>s+1)},[e])}function Jye(e){const t=[iY(e.offset)];return e.middlewares.shift&&t.push(fk({limiter:Iye()})),e.middlewares.flip&&t.push(rY()),e.middlewares.inline&&t.push(oY()),t.push(dY({element:e.arrowRef})),t}function Zye(e){const[t,n]=xa({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),r=()=>{var o;(o=e.onClose)==null||o.call(e),n(!1)},i=()=>{var o,a;t?((o=e.onClose)==null||o.call(e),n(!1)):((a=e.onOpen)==null||a.call(e),n(!0))},s=pk({placement:e.position,middleware:[...Jye(e),...e.width==="target"?[xye({apply({rects:o}){var a,u;Object.assign((u=(a=s.refs.floating.current)==null?void 0:a.style)!=null?u:{},{width:`${o.reference.width}px`})}})]:[]]});return yY({opened:e.opened,positionDependencies:e.positionDependencies,floating:s}),co(()=>{var o;(o=e.onPositionChange)==null||o.call(e,s.placement)},[s.placement]),{floating:s,controlled:typeof e.opened=="boolean",opened:t,onClose:r,onToggle:i}}const _Y={context:"Popover component was not found in the tree",children:"Popover.Target component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported"},[e_e,vY]=ZH(_Y.context);var t_e=Object.defineProperty,n_e=Object.defineProperties,r_e=Object.getOwnPropertyDescriptors,IE=Object.getOwnPropertySymbols,bY=Object.prototype.hasOwnProperty,EY=Object.prototype.propertyIsEnumerable,y5=(e,t,n)=>t in e?t_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Hv=(e,t)=>{for(var n in t||(t={}))bY.call(t,n)&&y5(e,n,t[n]);if(IE)for(var n of IE(t))EY.call(t,n)&&y5(e,n,t[n]);return e},i_e=(e,t)=>n_e(e,r_e(t)),s_e=(e,t)=>{var n={};for(var r in e)bY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&IE)for(var r of IE(e))t.indexOf(r)<0&&EY.call(e,r)&&(n[r]=e[r]);return n};const wY=w.forwardRef((e,t)=>{var n=e,{children:r,refProp:i="ref",popupType:s="dialog"}=n,o=s_e(n,["children","refProp","popupType"]);if(!v_(r))throw new Error(_Y.children);const a=o,u=vY(),l=Yo(u.reference,r.ref,t),c=u.withRoles?{"aria-haspopup":s,"aria-expanded":u.opened,"aria-controls":u.getDropdownId(),id:u.getTargetId()}:{};return w.cloneElement(r,Hv(i_e(Hv(Hv(Hv({},a),c),u.targetProps),{className:nW(u.targetProps.className,a.className,r.props.className),[i]:l}),u.controlled?null:{onClick:u.onToggle}))});wY.displayName="@mantine/core/PopoverTarget";var o_e=at((e,{radius:t,shadow:n})=>({dropdown:{position:"absolute",backgroundColor:e.white,background:e.colorScheme==="dark"?e.colors.dark[6]:e.white,border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]}`,padding:`${e.spacing.sm}px ${e.spacing.md}px`,boxShadow:e.shadows[n]||n||"none",borderRadius:e.fn.radius(t),"&:focus":{outline:0}},arrow:{backgroundColor:"inherit",border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]}`,zIndex:1}}));const a_e=o_e;var u_e=Object.defineProperty,_5=Object.getOwnPropertySymbols,l_e=Object.prototype.hasOwnProperty,c_e=Object.prototype.propertyIsEnumerable,v5=(e,t,n)=>t in e?u_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yh=(e,t)=>{for(var n in t||(t={}))l_e.call(t,n)&&v5(e,n,t[n]);if(_5)for(var n of _5(t))c_e.call(t,n)&&v5(e,n,t[n]);return e};const b5={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function TY({transition:e,state:t,duration:n,timingFunction:r}){const i={transitionDuration:`${n}ms`,transitionTimingFunction:r};return typeof e=="string"?e in Fv?yh(yh(yh({transitionProperty:Fv[e].transitionProperty},i),Fv[e].common),Fv[e][b5[t]]):null:yh(yh(yh({transitionProperty:e.transitionProperty},i),e.common),e[b5[t]])}function SY({duration:e,exitDuration:t,timingFunction:n,mounted:r,onEnter:i,onExit:s,onEntered:o,onExited:a}){const u=ts(),l=ek(),c=u.respectReducedMotion?l:!1,[f,d]=w.useState(r?"entered":"exited");let h=c?0:e;const p=w.useRef(-1),m=y=>{const g=y?i:s,_=y?o:a;if(d(y?"pre-entering":"pre-exiting"),window.clearTimeout(p.current),h=c?0:y?e:t,h===0)typeof g=="function"&&g(),typeof _=="function"&&_(),d(y?"entered":"exited");else{const b=window.setTimeout(()=>{typeof g=="function"&&g(),d(y?"entering":"exiting")},10);p.current=window.setTimeout(()=>{window.clearTimeout(b),typeof _=="function"&&_(),d(y?"entered":"exited")},h)}};return co(()=>{m(r)},[r]),w.useEffect(()=>()=>window.clearTimeout(p.current),[]),{transitionDuration:h,transitionStatus:f,transitionTimingFunction:n||u.transitionTimingFunction}}function HS({transition:e,duration:t=250,exitDuration:n=t,mounted:r,children:i,timingFunction:s,onExit:o,onEntered:a,onEnter:u,onExited:l}){const{transitionDuration:c,transitionStatus:f,transitionTimingFunction:d}=SY({mounted:r,exitDuration:n,duration:t,timingFunction:s,onExit:o,onEntered:a,onEnter:u,onExited:l});return c===0?r?k.createElement(k.Fragment,null,i({})):null:f==="exited"?null:k.createElement(k.Fragment,null,i(TY({transition:e,duration:c,state:f,timingFunction:d})))}HS.displayName="@mantine/core/Transition";function IY({children:e,active:t=!0,refProp:n="ref"}){const r=kW(t),i=Yo(r,e==null?void 0:e.ref);return v_(e)?w.cloneElement(e,{[n]:i}):e}IY.displayName="@mantine/core/FocusTrap";var f_e=Object.defineProperty,d_e=Object.defineProperties,h_e=Object.getOwnPropertyDescriptors,E5=Object.getOwnPropertySymbols,p_e=Object.prototype.hasOwnProperty,m_e=Object.prototype.propertyIsEnumerable,w5=(e,t,n)=>t in e?f_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Xl=(e,t)=>{for(var n in t||(t={}))p_e.call(t,n)&&w5(e,n,t[n]);if(E5)for(var n of E5(t))m_e.call(t,n)&&w5(e,n,t[n]);return e},Wv=(e,t)=>d_e(e,h_e(t));function T5(e,t,n){return e==="center"?{top:t}:e==="end"?{bottom:n}:e==="start"?{top:n}:{}}function S5(e,t,n,r){return e==="center"?{[r==="ltr"?"left":"right"]:t}:e==="end"?{[r==="ltr"?"right":"left"]:n}:e==="start"?{[r==="ltr"?"left":"right"]:n}:{}}const g_e={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function y_e({position:e,withBorder:t,arrowSize:n,arrowOffset:r,arrowRadius:i,arrowX:s,arrowY:o,dir:a}){const[u,l="center"]=e.split("-"),c={width:n,height:n,transform:"rotate(45deg)",position:"absolute",[g_e[u]]:i},f=t?-n/2-1:-n/2;return u==="left"?Wv(Xl(Xl({},c),T5(l,o,r)),{right:f,borderLeft:0,borderBottom:0}):u==="right"?Wv(Xl(Xl({},c),T5(l,o,r)),{left:f,borderRight:0,borderTop:0}):u==="top"?Wv(Xl(Xl({},c),S5(l,s,r,a)),{bottom:f,borderTop:0,[a==="ltr"?"borderLeft":"borderRight"]:0}):u==="bottom"?Wv(Xl(Xl({},c),S5(l,s,r,a)),{top:f,borderBottom:0,[a==="ltr"?"borderRight":"borderLeft"]:0}):{}}var __e=Object.defineProperty,v_e=Object.defineProperties,b_e=Object.getOwnPropertyDescriptors,xE=Object.getOwnPropertySymbols,xY=Object.prototype.hasOwnProperty,CY=Object.prototype.propertyIsEnumerable,I5=(e,t,n)=>t in e?__e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,E_e=(e,t)=>{for(var n in t||(t={}))xY.call(t,n)&&I5(e,n,t[n]);if(xE)for(var n of xE(t))CY.call(t,n)&&I5(e,n,t[n]);return e},w_e=(e,t)=>v_e(e,b_e(t)),T_e=(e,t)=>{var n={};for(var r in e)xY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&xE)for(var r of xE(e))t.indexOf(r)<0&&CY.call(e,r)&&(n[r]=e[r]);return n};const mk=w.forwardRef((e,t)=>{var n=e,{withBorder:r,position:i,arrowSize:s,arrowOffset:o,arrowRadius:a,visible:u,arrowX:l,arrowY:c}=n,f=T_e(n,["withBorder","position","arrowSize","arrowOffset","arrowRadius","visible","arrowX","arrowY"]);const d=ts();return u?k.createElement("div",w_e(E_e({},f),{ref:t,style:y_e({withBorder:r,position:i,arrowSize:s,arrowOffset:o,arrowRadius:a,dir:d.dir,arrowX:l,arrowY:c})})):null});mk.displayName="@mantine/core/FloatingArrow";var S_e=Object.defineProperty,I_e=Object.defineProperties,x_e=Object.getOwnPropertyDescriptors,CE=Object.getOwnPropertySymbols,AY=Object.prototype.hasOwnProperty,OY=Object.prototype.propertyIsEnumerable,x5=(e,t,n)=>t in e?S_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qv=(e,t)=>{for(var n in t||(t={}))AY.call(t,n)&&x5(e,n,t[n]);if(CE)for(var n of CE(t))OY.call(t,n)&&x5(e,n,t[n]);return e},C5=(e,t)=>I_e(e,x_e(t)),C_e=(e,t)=>{var n={};for(var r in e)AY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&CE)for(var r of CE(e))t.indexOf(r)<0&&OY.call(e,r)&&(n[r]=e[r]);return n};function PY(e){var t=e,{style:n,className:r,children:i,onKeyDownCapture:s}=t,o=C_e(t,["style","className","children","onKeyDownCapture"]);const{classNames:a,styles:u,unstyled:l,staticSelector:c}=w_(),f=vY(),{classes:d,cx:h}=a_e({radius:f.radius,shadow:f.shadow},{name:c,classNames:a,styles:u,unstyled:l}),p=OW({opened:f.opened,shouldReturnFocus:f.returnFocus}),m=f.withRoles?{"aria-labelledby":f.getTargetId(),id:f.getDropdownId(),role:"dialog"}:{};return f.disabled?null:k.createElement(T_,{withinPortal:f.withinPortal},k.createElement(HS,{mounted:f.opened,transition:f.transition,duration:f.transitionDuration,exitDuration:typeof f.exitTransitionDuration=="number"?f.exitTransitionDuration:f.transitionDuration},y=>{var g,_;return k.createElement(IY,{active:f.trapFocus},k.createElement(lt,qv(C5(qv({},m),{tabIndex:-1,ref:f.floating,style:C5(qv(qv({},n),y),{zIndex:f.zIndex,top:(g=f.y)!=null?g:0,left:(_=f.x)!=null?_:0,width:f.width==="target"?void 0:f.width}),className:h(d.dropdown,r),onKeyDownCapture:Mfe(f.onClose,{active:f.closeOnEscape,onTrigger:p,onKeyDown:s}),"data-position":f.placement}),o),i,k.createElement(mk,{ref:f.arrowRef,arrowX:f.arrowX,arrowY:f.arrowY,visible:f.withArrow,withBorder:!0,position:f.placement,arrowSize:f.arrowSize,arrowRadius:f.arrowRadius,arrowOffset:f.arrowOffset,className:d.arrow})))}))}PY.displayName="@mantine/core/PopoverDropdown";function RY(e,t){if(e==="rtl"&&(t.includes("right")||t.includes("left"))){const[n,r]=t.split("-"),i=n==="right"?"left":"right";return r===void 0?i:`${i}-${r}`}return t}var A5=Object.getOwnPropertySymbols,A_e=Object.prototype.hasOwnProperty,O_e=Object.prototype.propertyIsEnumerable,P_e=(e,t)=>{var n={};for(var r in e)A_e.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&A5)for(var r of A5(e))t.indexOf(r)<0&&O_e.call(e,r)&&(n[r]=e[r]);return n};const R_e={position:"bottom",offset:8,positionDependencies:[],transition:"fade",transitionDuration:150,middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,closeOnClickOutside:!0,withinPortal:!1,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:wo("popover"),__staticSelector:"Popover",width:"max-content"};function Vl(e){var t,n,r,i,s,o;const a=w.useRef(null),u=ht("Popover",R_e,e),{children:l,position:c,offset:f,onPositionChange:d,positionDependencies:h,opened:p,transition:m,transitionDuration:y,width:g,middlewares:_,withArrow:b,arrowSize:T,arrowOffset:I,arrowRadius:E,unstyled:S,classNames:A,styles:L,closeOnClickOutside:W,withinPortal:z,closeOnEscape:U,clickOutsideEvents:Z,trapFocus:H,onClose:ue,onOpen:ie,onChange:_e,zIndex:te,radius:oe,shadow:J,id:x,defaultOpened:C,exitTransitionDuration:B,__staticSelector:P,withRoles:O,disabled:Y,returnFocus:fe}=u,le=P_e(u,["children","position","offset","onPositionChange","positionDependencies","opened","transition","transitionDuration","width","middlewares","withArrow","arrowSize","arrowOffset","arrowRadius","unstyled","classNames","styles","closeOnClickOutside","withinPortal","closeOnEscape","clickOutsideEvents","trapFocus","onClose","onOpen","onChange","zIndex","radius","shadow","id","defaultOpened","exitTransitionDuration","__staticSelector","withRoles","disabled","returnFocus"]),[me,ge]=w.useState(null),[Se,de]=w.useState(null),st=Du(x),Ke=ts(),qe=Zye({middlewares:_,width:g,position:RY(Ke.dir,c),offset:f+(b?T/2:0),arrowRef:a,onPositionChange:d,positionDependencies:h,opened:p,defaultOpened:C,onChange:_e,onOpen:ie,onClose:ue});Lhe(()=>W&&qe.onClose(),Z,[me,Se]);const $e=w.useCallback(ut=>{ge(ut),qe.floating.reference(ut)},[qe.floating.reference]),ot=w.useCallback(ut=>{de(ut),qe.floating.floating(ut)},[qe.floating.floating]);return k.createElement(xW,{classNames:A,styles:L,unstyled:S,staticSelector:P},k.createElement(e_e,{value:{returnFocus:fe,disabled:Y,controlled:qe.controlled,reference:$e,floating:ot,x:qe.floating.x,y:qe.floating.y,arrowX:(r=(n=(t=qe.floating)==null?void 0:t.middlewareData)==null?void 0:n.arrow)==null?void 0:r.x,arrowY:(o=(s=(i=qe.floating)==null?void 0:i.middlewareData)==null?void 0:s.arrow)==null?void 0:o.y,opened:qe.opened,arrowRef:a,transition:m,transitionDuration:y,exitTransitionDuration:B,width:g,withArrow:b,arrowSize:T,arrowOffset:I,arrowRadius:E,placement:qe.floating.placement,trapFocus:H,withinPortal:z,zIndex:te,radius:oe,shadow:J,closeOnEscape:U,onClose:qe.onClose,onToggle:qe.onToggle,getTargetId:()=>`${st}-target`,getDropdownId:()=>`${st}-dropdown`,withRoles:O,targetProps:le}},l))}Vl.Target=wY;Vl.Dropdown=PY;Vl.displayName="@mantine/core/Popover";var N_e=Object.defineProperty,AE=Object.getOwnPropertySymbols,NY=Object.prototype.hasOwnProperty,kY=Object.prototype.propertyIsEnumerable,O5=(e,t,n)=>t in e?N_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,k_e=(e,t)=>{for(var n in t||(t={}))NY.call(t,n)&&O5(e,n,t[n]);if(AE)for(var n of AE(t))kY.call(t,n)&&O5(e,n,t[n]);return e},D_e=(e,t)=>{var n={};for(var r in e)NY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&AE)for(var r of AE(e))t.indexOf(r)<0&&kY.call(e,r)&&(n[r]=e[r]);return n};function $_e(e){var t=e,{children:n,component:r="div",maxHeight:i=220,direction:s="column",id:o,innerRef:a,__staticSelector:u,styles:l,classNames:c,unstyled:f}=t,d=D_e(t,["children","component","maxHeight","direction","id","innerRef","__staticSelector","styles","classNames","unstyled"]);const{classes:h}=vye(null,{name:u,styles:l,classNames:c,unstyled:f});return k.createElement(Vl.Dropdown,k_e({p:0,onMouseDown:p=>p.preventDefault()},d),k.createElement("div",{style:{maxHeight:i,display:"flex"}},k.createElement(lt,{component:r||"div",id:`${o}-items`,"aria-labelledby":`${o}-label`,role:"listbox",onMouseDown:p=>p.preventDefault(),style:{flex:1,overflowY:r!==US?"auto":void 0},"data-combobox-popover":!0,ref:a},k.createElement("div",{className:h.itemsWrapper,style:{flexDirection:s}},n))))}function Fc({opened:e,transition:t="fade",transitionDuration:n=0,shadow:r,withinPortal:i,children:s,__staticSelector:o,onDirectionChange:a,switchDirectionOnFlip:u,zIndex:l,dropdownPosition:c,positionDependencies:f=[],classNames:d,styles:h,unstyled:p,readOnly:m}){return k.createElement(Vl,{unstyled:p,classNames:d,styles:h,width:"target",withRoles:!1,opened:e,middlewares:{flip:c==="flip",shift:!1},position:c==="flip"?"bottom":c,positionDependencies:f,zIndex:l,__staticSelector:o,withinPortal:i,transition:t,transitionDuration:n,shadow:r,disabled:m,onPositionChange:y=>u&&(a==null?void 0:a(y==="top"?"column-reverse":"column"))},s)}Fc.Target=Vl.Target;Fc.Dropdown=$_e;var L_e=Object.defineProperty,M_e=Object.defineProperties,F_e=Object.getOwnPropertyDescriptors,OE=Object.getOwnPropertySymbols,DY=Object.prototype.hasOwnProperty,$Y=Object.prototype.propertyIsEnumerable,P5=(e,t,n)=>t in e?L_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,AC=(e,t)=>{for(var n in t||(t={}))DY.call(t,n)&&P5(e,n,t[n]);if(OE)for(var n of OE(t))$Y.call(t,n)&&P5(e,n,t[n]);return e},B_e=(e,t)=>M_e(e,F_e(t)),j_e=(e,t)=>{var n={};for(var r in e)DY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&OE)for(var r of OE(e))t.indexOf(r)<0&&$Y.call(e,r)&&(n[r]=e[r]);return n};function LY(e,t,n){const r=ht(e,t,n),{label:i,description:s,error:o,required:a,classNames:u,styles:l,className:c,unstyled:f,__staticSelector:d,sx:h,errorProps:p,labelProps:m,descriptionProps:y,wrapperProps:g,id:_,size:b,style:T,inputContainer:I,inputWrapperOrder:E,withAsterisk:S}=r,A=j_e(r,["label","description","error","required","classNames","styles","className","unstyled","__staticSelector","sx","errorProps","labelProps","descriptionProps","wrapperProps","id","size","style","inputContainer","inputWrapperOrder","withAsterisk"]),L=Du(_),{systemStyles:W,rest:z}=Xd(A);return B_e(AC({},z),{classNames:u,styles:l,unstyled:f,wrapperProps:AC(AC({label:i,description:s,error:o,required:a,classNames:u,className:c,__staticSelector:d,sx:h,errorProps:p,labelProps:m,descriptionProps:y,unstyled:f,styles:l,id:L,size:b,style:T,inputContainer:I,inputWrapperOrder:E,withAsterisk:S},g),W),inputProps:{required:a,classNames:u,styles:l,unstyled:f,id:L,size:b,__staticSelector:d,invalid:!!o}})}var U_e=at((e,{size:t})=>({label:{display:"inline-block",fontSize:e.fn.size({size:t,sizes:e.fontSizes}),fontWeight:500,color:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[9],wordBreak:"break-word",cursor:"default",WebkitTapHighlightColor:"transparent"},required:{color:e.fn.variant({variant:"filled",color:"red"}).background}}));const V_e=U_e;var z_e=Object.defineProperty,PE=Object.getOwnPropertySymbols,MY=Object.prototype.hasOwnProperty,FY=Object.prototype.propertyIsEnumerable,R5=(e,t,n)=>t in e?z_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,H_e=(e,t)=>{for(var n in t||(t={}))MY.call(t,n)&&R5(e,n,t[n]);if(PE)for(var n of PE(t))FY.call(t,n)&&R5(e,n,t[n]);return e},W_e=(e,t)=>{var n={};for(var r in e)MY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&PE)for(var r of PE(e))t.indexOf(r)<0&&FY.call(e,r)&&(n[r]=e[r]);return n};const gk=w.forwardRef((e,t)=>{var n=e,{labelElement:r="label",children:i,required:s,size:o="sm",classNames:a,styles:u,unstyled:l,className:c,htmlFor:f,__staticSelector:d}=n,h=W_e(n,["labelElement","children","required","size","classNames","styles","unstyled","className","htmlFor","__staticSelector"]);const{classes:p,cx:m}=V_e({size:o},{name:["InputWrapper",d],classNames:a,styles:u,unstyled:l});return k.createElement(lt,H_e({component:r,ref:t,className:m(p.label,c),htmlFor:r==="label"?f:void 0},h),i,s&&k.createElement("span",{className:p.required,"aria-hidden":!0}," *"))});gk.displayName="@mantine/core/InputLabel";var q_e=at((e,{size:t})=>({error:{wordBreak:"break-word",color:e.fn.variant({variant:"filled",color:"red"}).background,fontSize:e.fn.size({size:t,sizes:e.fontSizes})-2,lineHeight:1.2,display:"block"}}));const Y_e=q_e;var G_e=Object.defineProperty,RE=Object.getOwnPropertySymbols,BY=Object.prototype.hasOwnProperty,jY=Object.prototype.propertyIsEnumerable,N5=(e,t,n)=>t in e?G_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,K_e=(e,t)=>{for(var n in t||(t={}))BY.call(t,n)&&N5(e,n,t[n]);if(RE)for(var n of RE(t))jY.call(t,n)&&N5(e,n,t[n]);return e},Q_e=(e,t)=>{var n={};for(var r in e)BY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&RE)for(var r of RE(e))t.indexOf(r)<0&&jY.call(e,r)&&(n[r]=e[r]);return n};const yk=w.forwardRef((e,t)=>{var n=e,{children:r,className:i,classNames:s,styles:o,unstyled:a,size:u="sm",__staticSelector:l}=n,c=Q_e(n,["children","className","classNames","styles","unstyled","size","__staticSelector"]);const{classes:f,cx:d}=Y_e({size:u},{name:["InputWrapper",l],classNames:s,styles:o,unstyled:a});return k.createElement(Ct,K_e({className:d(f.error,i),ref:t,role:"alert"},c),r)});yk.displayName="@mantine/core/InputError";var X_e=at((e,{size:t})=>({description:{wordBreak:"break-word",color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],fontSize:e.fn.size({size:t,sizes:e.fontSizes})-2,lineHeight:1.2,display:"block"}}));const J_e=X_e;var Z_e=Object.defineProperty,NE=Object.getOwnPropertySymbols,UY=Object.prototype.hasOwnProperty,VY=Object.prototype.propertyIsEnumerable,k5=(e,t,n)=>t in e?Z_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,eve=(e,t)=>{for(var n in t||(t={}))UY.call(t,n)&&k5(e,n,t[n]);if(NE)for(var n of NE(t))VY.call(t,n)&&k5(e,n,t[n]);return e},tve=(e,t)=>{var n={};for(var r in e)UY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&NE)for(var r of NE(e))t.indexOf(r)<0&&VY.call(e,r)&&(n[r]=e[r]);return n};const _k=w.forwardRef((e,t)=>{var n=e,{children:r,className:i,classNames:s,styles:o,unstyled:a,size:u="sm",__staticSelector:l}=n,c=tve(n,["children","className","classNames","styles","unstyled","size","__staticSelector"]);const{classes:f,cx:d}=J_e({size:u},{name:["InputWrapper",l],classNames:s,styles:o,unstyled:a});return k.createElement(Ct,eve({color:"dimmed",className:d(f.description,i),ref:t,unstyled:a},c),r)});_k.displayName="@mantine/core/InputDescription";const zY=w.createContext({offsetBottom:!1,offsetTop:!1}),nve=zY.Provider,rve=()=>w.useContext(zY);function ive(e,{hasDescription:t,hasError:n}){const r=e.findIndex(u=>u==="input"),i=e[r-1],s=e[r+1];return{offsetBottom:t&&s==="description"||n&&s==="error",offsetTop:t&&i==="description"||n&&i==="error"}}var sve=Object.defineProperty,ove=Object.defineProperties,ave=Object.getOwnPropertyDescriptors,D5=Object.getOwnPropertySymbols,uve=Object.prototype.hasOwnProperty,lve=Object.prototype.propertyIsEnumerable,$5=(e,t,n)=>t in e?sve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cve=(e,t)=>{for(var n in t||(t={}))uve.call(t,n)&&$5(e,n,t[n]);if(D5)for(var n of D5(t))lve.call(t,n)&&$5(e,n,t[n]);return e},fve=(e,t)=>ove(e,ave(t)),dve=at(e=>({root:fve(cve({},e.fn.fontStyles()),{lineHeight:e.lineHeight})}));const hve=dve;var pve=Object.defineProperty,mve=Object.defineProperties,gve=Object.getOwnPropertyDescriptors,kE=Object.getOwnPropertySymbols,HY=Object.prototype.hasOwnProperty,WY=Object.prototype.propertyIsEnumerable,L5=(e,t,n)=>t in e?pve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Nf=(e,t)=>{for(var n in t||(t={}))HY.call(t,n)&&L5(e,n,t[n]);if(kE)for(var n of kE(t))WY.call(t,n)&&L5(e,n,t[n]);return e},M5=(e,t)=>mve(e,gve(t)),yve=(e,t)=>{var n={};for(var r in e)HY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&kE)for(var r of kE(e))t.indexOf(r)<0&&WY.call(e,r)&&(n[r]=e[r]);return n};const _ve={labelElement:"label",size:"sm",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},qY=w.forwardRef((e,t)=>{const n=ht("InputWrapper",_ve,e),{className:r,label:i,children:s,required:o,id:a,error:u,description:l,labelElement:c,labelProps:f,descriptionProps:d,errorProps:h,classNames:p,styles:m,size:y,inputContainer:g,__staticSelector:_,unstyled:b,inputWrapperOrder:T,withAsterisk:I}=n,E=yve(n,["className","label","children","required","id","error","description","labelElement","labelProps","descriptionProps","errorProps","classNames","styles","size","inputContainer","__staticSelector","unstyled","inputWrapperOrder","withAsterisk"]),{classes:S,cx:A}=hve(null,{classNames:p,styles:m,name:["InputWrapper",_],unstyled:b}),L={classNames:p,styles:m,unstyled:b,size:y,__staticSelector:_},W=typeof I=="boolean"?I:o,z=i&&k.createElement(gk,Nf(Nf({key:"label",labelElement:c,id:a?`${a}-label`:void 0,htmlFor:a,required:W},L),f),i),U=l&&k.createElement(_k,M5(Nf(Nf({key:"description"},d),L),{size:(d==null?void 0:d.size)||L.size}),l),Z=k.createElement(w.Fragment,{key:"input"},g(s)),H=typeof u!="boolean"&&u&&k.createElement(yk,M5(Nf(Nf({},h),L),{size:(h==null?void 0:h.size)||L.size,key:"error"}),u),ue=T.map(ie=>{switch(ie){case"label":return z;case"input":return Z;case"description":return U;case"error":return H;default:return null}});return k.createElement(nve,{value:ive(T,{hasDescription:!!U,hasError:!!H})},k.createElement(lt,Nf({className:A(S.root,r),ref:t},E),ue))});qY.displayName="@mantine/core/InputWrapper";var vve=Object.defineProperty,bve=Object.defineProperties,Eve=Object.getOwnPropertyDescriptors,F5=Object.getOwnPropertySymbols,wve=Object.prototype.hasOwnProperty,Tve=Object.prototype.propertyIsEnumerable,B5=(e,t,n)=>t in e?vve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,OC=(e,t)=>{for(var n in t||(t={}))wve.call(t,n)&&B5(e,n,t[n]);if(F5)for(var n of F5(t))Tve.call(t,n)&&B5(e,n,t[n]);return e},j5=(e,t)=>bve(e,Eve(t));const Ss={xs:30,sm:36,md:42,lg:50,xl:60};function Sve({theme:e,variant:t}){return t==="default"?{border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white,transition:"border-color 100ms ease","&:focus, &:focus-within":e.focusRingStyles.inputStyles(e)}:t==="filled"?{border:"1px solid transparent",backgroundColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[1],"&:focus, &:focus-within":e.focusRingStyles.inputStyles(e)}:{borderWidth:0,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,backgroundColor:"transparent",minHeight:28,outline:0,"&:focus, &:focus-within":{outline:"none",borderColor:"transparent"},"&:disabled":{backgroundColor:"transparent","&:focus, &:focus-within":{outline:"none",borderColor:"transparent"}}}}var Ive=at((e,{size:t,multiline:n,radius:r,variant:i,invalid:s,rightSectionWidth:o,withRightSection:a,iconWidth:u,offsetBottom:l,offsetTop:c,pointer:f})=>{const d=e.fn.variant({variant:"filled",color:"red"}).background,h=i==="default"||i==="filled"?{minHeight:e.fn.size({size:t,sizes:Ss}),paddingLeft:e.fn.size({size:t,sizes:Ss})/3,paddingRight:a?o:e.fn.size({size:t,sizes:Ss})/3,borderRadius:e.fn.radius(r)}:null;return{wrapper:{position:"relative",marginTop:c?`calc(${e.spacing.xs}px / 2)`:void 0,marginBottom:l?`calc(${e.spacing.xs}px / 2)`:void 0},input:OC(j5(OC(j5(OC({},e.fn.fontStyles()),{height:n?i==="unstyled"?void 0:"auto":e.fn.size({size:t,sizes:Ss}),WebkitTapHighlightColor:"transparent",lineHeight:n?e.lineHeight:`${e.fn.size({size:t,sizes:Ss})-2}px`,appearance:"none",resize:"none",boxSizing:"border-box",fontSize:e.fn.size({size:t,sizes:e.fontSizes}),width:"100%",color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,display:"block",textAlign:"left",cursor:f?"pointer":void 0}),h),{"&:disabled":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[1],color:e.colors.dark[2],opacity:.6,cursor:"not-allowed","&::placeholder":{color:e.colors.dark[2]}},"&::placeholder":{opacity:1,userSelect:"none",color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]},"&::-webkit-inner-spin-button, &::-webkit-outer-spin-button, &::-webkit-search-decoration, &::-webkit-search-cancel-button, &::-webkit-search-results-button, &::-webkit-search-results-decoration":{appearance:"none"},"&[type=number]":{MozAppearance:"textfield"}}),Sve({theme:e,variant:i})),withIcon:{paddingLeft:typeof u=="number"?u:e.fn.size({size:t,sizes:Ss})},invalid:{color:d,borderColor:d,"&::placeholder":{opacity:1,color:d}},disabled:{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[1],color:e.colors.dark[2],opacity:.6,cursor:"not-allowed","&::placeholder":{color:e.colors.dark[2]}},icon:{pointerEvents:"none",position:"absolute",zIndex:1,left:0,top:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",width:typeof u=="number"?u:e.fn.size({size:t,sizes:Ss}),color:s?e.colors.red[e.colorScheme==="dark"?6:7]:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[5]},rightSection:{position:"absolute",top:0,bottom:0,right:0,display:"flex",alignItems:"center",justifyContent:"center",width:o}}});const xve=Ive;var Cve=Object.defineProperty,Ave=Object.defineProperties,Ove=Object.getOwnPropertyDescriptors,DE=Object.getOwnPropertySymbols,YY=Object.prototype.hasOwnProperty,GY=Object.prototype.propertyIsEnumerable,U5=(e,t,n)=>t in e?Cve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Yv=(e,t)=>{for(var n in t||(t={}))YY.call(t,n)&&U5(e,n,t[n]);if(DE)for(var n of DE(t))GY.call(t,n)&&U5(e,n,t[n]);return e},V5=(e,t)=>Ave(e,Ove(t)),Pve=(e,t)=>{var n={};for(var r in e)YY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&DE)for(var r of DE(e))t.indexOf(r)<0&&GY.call(e,r)&&(n[r]=e[r]);return n};const Rve={rightSectionWidth:36,size:"sm",variant:"default"},$m=w.forwardRef((e,t)=>{const n=ht("Input",Rve,e),{className:r,invalid:i,required:s,disabled:o,variant:a,icon:u,style:l,rightSectionWidth:c,iconWidth:f,rightSection:d,rightSectionProps:h,radius:p,size:m,wrapperProps:y,classNames:g,styles:_,__staticSelector:b,multiline:T,sx:I,unstyled:E,pointer:S}=n,A=Pve(n,["className","invalid","required","disabled","variant","icon","style","rightSectionWidth","iconWidth","rightSection","rightSectionProps","radius","size","wrapperProps","classNames","styles","__staticSelector","multiline","sx","unstyled","pointer"]),{offsetBottom:L,offsetTop:W}=rve(),{classes:z,cx:U}=xve({radius:p,size:m,multiline:T,variant:a,invalid:i,rightSectionWidth:c,iconWidth:f,withRightSection:!!d,offsetBottom:L,offsetTop:W,pointer:S},{classNames:g,styles:_,name:["Input",b],unstyled:E}),{systemStyles:Z,rest:H}=Xd(A);return k.createElement(lt,Yv(Yv({className:U(z.wrapper,r),sx:I,style:l},Z),y),u&&k.createElement("div",{className:z.icon},u),k.createElement(lt,V5(Yv({component:"input"},H),{ref:t,required:s,"aria-invalid":i,disabled:o,className:U(z[`${a}Variant`],z.input,{[z.withIcon]:u,[z.invalid]:i,[z.disabled]:o})})),d&&k.createElement("div",V5(Yv({},h),{className:z.rightSection}),d))});$m.displayName="@mantine/core/Input";$m.Wrapper=qY;$m.Label=gk;$m.Description=_k;$m.Error=yk;const Bs=$m;var Nve=Object.defineProperty,kve=Object.defineProperties,Dve=Object.getOwnPropertyDescriptors,z5=Object.getOwnPropertySymbols,$ve=Object.prototype.hasOwnProperty,Lve=Object.prototype.propertyIsEnumerable,H5=(e,t,n)=>t in e?Nve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,PC=(e,t)=>{for(var n in t||(t={}))$ve.call(t,n)&&H5(e,n,t[n]);if(z5)for(var n of z5(t))Lve.call(t,n)&&H5(e,n,t[n]);return e},Mve=(e,t)=>kve(e,Dve(t));const RC={xs:{fontSize:9,height:16},sm:{fontSize:10,height:18},md:{fontSize:11,height:20},lg:{fontSize:13,height:26},xl:{fontSize:16,height:32}},Fve={xs:4,sm:4,md:6,lg:8,xl:10};function Bve({theme:e,variant:t,color:n,size:r,gradient:i}){if(t==="dot"){const o=e.fn.size({size:r,sizes:Fve});return{backgroundColor:"transparent",color:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[7],border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[3]}`,paddingLeft:e.fn.size({size:r,sizes:e.spacing})/1.5-o/2,"&::before":{content:'""',display:"block",width:o,height:o,borderRadius:o,backgroundColor:e.fn.themeColor(n,e.colorScheme==="dark"?4:e.fn.primaryShade("light"),!0),marginRight:o}}}const s=e.fn.variant({color:n,variant:t,gradient:i});return{background:s.background,color:s.color,border:`${t==="gradient"?0:1}px solid ${s.border}`}}var jve=at((e,{color:t,size:n,radius:r,gradient:i,fullWidth:s,variant:o})=>{const{fontSize:a,height:u}=n in RC?RC[n]:RC.md;return{leftSection:{marginRight:`calc(${e.spacing.xs}px / 2)`},rightSection:{marginLeft:`calc(${e.spacing.xs}px / 2)`},inner:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},root:PC(Mve(PC(PC({},e.fn.focusStyles()),e.fn.fontStyles()),{fontSize:a,height:u,WebkitTapHighlightColor:"transparent",lineHeight:`${u-2}px`,textDecoration:"none",padding:`0 ${e.fn.size({size:n,sizes:e.spacing})/1.5}px`,boxSizing:"border-box",display:s?"flex":"inline-flex",alignItems:"center",justifyContent:"center",width:s?"100%":"auto",textTransform:"uppercase",borderRadius:e.fn.radius(r),fontWeight:700,letterSpacing:.25,cursor:"inherit",textOverflow:"ellipsis",overflow:"hidden"}),Bve({theme:e,variant:o,color:t,size:n,gradient:i}))}});const Uve=jve;var Vve=Object.defineProperty,$E=Object.getOwnPropertySymbols,KY=Object.prototype.hasOwnProperty,QY=Object.prototype.propertyIsEnumerable,W5=(e,t,n)=>t in e?Vve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zve=(e,t)=>{for(var n in t||(t={}))KY.call(t,n)&&W5(e,n,t[n]);if($E)for(var n of $E(t))QY.call(t,n)&&W5(e,n,t[n]);return e},Hve=(e,t)=>{var n={};for(var r in e)KY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&$E)for(var r of $E(e))t.indexOf(r)<0&&QY.call(e,r)&&(n[r]=e[r]);return n};const Wve={variant:"light",size:"md",radius:"xl"},XY=w.forwardRef((e,t)=>{const n=ht("Badge",Wve,e),{className:r,color:i,variant:s,fullWidth:o,children:a,size:u,leftSection:l,rightSection:c,radius:f,gradient:d,classNames:h,styles:p,unstyled:m}=n,y=Hve(n,["className","color","variant","fullWidth","children","size","leftSection","rightSection","radius","gradient","classNames","styles","unstyled"]),{classes:g,cx:_}=Uve({size:u,fullWidth:o,color:i,radius:f,variant:s,gradient:d},{classNames:h,styles:p,name:"Badge",unstyled:m});return k.createElement(lt,zve({className:_(g.root,r),ref:t},y),l&&k.createElement("span",{className:g.leftSection},l),k.createElement("span",{className:g.inner},a),c&&k.createElement("span",{className:g.rightSection},c))});XY.displayName="@mantine/core/Badge";const qve=XY;var Yve=at((e,{orientation:t,buttonBorderWidth:n})=>({root:{display:"flex",flexDirection:t==="vertical"?"column":"row","& [data-button]":{"&:first-of-type":{borderBottomRightRadius:0,[t==="vertical"?"borderBottomLeftRadius":"borderTopRightRadius"]:0,[t==="vertical"?"borderBottomWidth":"borderRightWidth"]:n/2},"&:last-of-type":{borderTopLeftRadius:0,[t==="vertical"?"borderTopRightRadius":"borderBottomLeftRadius"]:0,[t==="vertical"?"borderTopWidth":"borderLeftWidth"]:n/2},"&:not(:first-of-type):not(:last-of-type)":{borderRadius:0,[t==="vertical"?"borderTopWidth":"borderLeftWidth"]:n/2,[t==="vertical"?"borderBottomWidth":"borderRightWidth"]:n/2},"& + [data-button]":{[t==="vertical"?"marginTop":"marginLeft"]:-n,"@media (min-resolution: 192dpi)":{[t==="vertical"?"marginTop":"marginLeft"]:0}}}}}));const Gve=Yve;var Kve=Object.defineProperty,LE=Object.getOwnPropertySymbols,JY=Object.prototype.hasOwnProperty,ZY=Object.prototype.propertyIsEnumerable,q5=(e,t,n)=>t in e?Kve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Qve=(e,t)=>{for(var n in t||(t={}))JY.call(t,n)&&q5(e,n,t[n]);if(LE)for(var n of LE(t))ZY.call(t,n)&&q5(e,n,t[n]);return e},Xve=(e,t)=>{var n={};for(var r in e)JY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&LE)for(var r of LE(e))t.indexOf(r)<0&&ZY.call(e,r)&&(n[r]=e[r]);return n};const Jve={orientation:"horizontal",buttonBorderWidth:1},eG=w.forwardRef((e,t)=>{const n=ht("ButtonGroup",Jve,e),{className:r,orientation:i,buttonBorderWidth:s,unstyled:o}=n,a=Xve(n,["className","orientation","buttonBorderWidth","unstyled"]),{classes:u,cx:l}=Gve({orientation:i,buttonBorderWidth:s},{name:"ButtonGroup",unstyled:o});return k.createElement(lt,Qve({className:l(u.root,r),ref:t},a))});eG.displayName="@mantine/core/ButtonGroup";var Zve=Object.defineProperty,e1e=Object.defineProperties,t1e=Object.getOwnPropertyDescriptors,Y5=Object.getOwnPropertySymbols,n1e=Object.prototype.hasOwnProperty,r1e=Object.prototype.propertyIsEnumerable,G5=(e,t,n)=>t in e?Zve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zf=(e,t)=>{for(var n in t||(t={}))n1e.call(t,n)&&G5(e,n,t[n]);if(Y5)for(var n of Y5(t))r1e.call(t,n)&&G5(e,n,t[n]);return e},NP=(e,t)=>e1e(e,t1e(t));const kP={xs:{height:Ss.xs,paddingLeft:14,paddingRight:14},sm:{height:Ss.sm,paddingLeft:18,paddingRight:18},md:{height:Ss.md,paddingLeft:22,paddingRight:22},lg:{height:Ss.lg,paddingLeft:26,paddingRight:26},xl:{height:Ss.xl,paddingLeft:32,paddingRight:32},"compact-xs":{height:22,paddingLeft:7,paddingRight:7},"compact-sm":{height:26,paddingLeft:8,paddingRight:8},"compact-md":{height:30,paddingLeft:10,paddingRight:10},"compact-lg":{height:34,paddingLeft:12,paddingRight:12},"compact-xl":{height:40,paddingLeft:14,paddingRight:14}};function i1e({compact:e,size:t,withLeftIcon:n,withRightIcon:r}){if(e)return kP[`compact-${t}`];const i=kP[t];return NP(zf({},i),{paddingLeft:n?i.paddingLeft/1.5:i.paddingLeft,paddingRight:r?i.paddingRight/1.5:i.paddingRight})}const s1e=e=>({display:e?"block":"inline-block",width:e?"100%":"auto"});function o1e({variant:e,theme:t,color:n,gradient:r}){const i=t.fn.variant({color:n,variant:e,gradient:r});return e==="gradient"?{border:0,backgroundImage:i.background,color:i.color,"&:hover":t.fn.hover({backgroundSize:"200%"})}:zf({border:`1px solid ${i.border}`,backgroundColor:i.background,color:i.color},t.fn.hover({backgroundColor:i.hover}))}var a1e=at((e,{color:t,size:n,radius:r,fullWidth:i,compact:s,gradient:o,variant:a,withLeftIcon:u,withRightIcon:l})=>({root:NP(zf(NP(zf(zf(zf(zf({},i1e({compact:s,size:n,withLeftIcon:u,withRightIcon:l})),e.fn.fontStyles()),e.fn.focusStyles()),s1e(i)),{borderRadius:e.fn.radius(r),fontWeight:600,position:"relative",lineHeight:1,fontSize:e.fn.size({size:n,sizes:e.fontSizes}),userSelect:"none",cursor:"pointer"}),o1e({variant:a,theme:e,color:t,gradient:o})),{"&:active":e.activeStyles,"&:disabled, &[data-disabled]":{borderColor:"transparent",backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],color:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[5],cursor:"not-allowed",backgroundImage:"none",pointerEvents:"none","&:active":{transform:"none"}},"&[data-loading]":{pointerEvents:"none","&::before":{content:'""',position:"absolute",top:-1,left:-1,right:-1,bottom:-1,backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.colors.dark[7],.5):"rgba(255, 255, 255, .5)",borderRadius:e.fn.radius(r),cursor:"not-allowed"}}}),icon:{display:"flex",alignItems:"center"},leftIcon:{marginRight:10},rightIcon:{marginLeft:10},centerLoader:{position:"absolute",left:"50%",transform:"translateX(-50%)",opacity:.5},inner:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",overflow:"visible"},label:{whiteSpace:"nowrap",height:"100%",overflow:"hidden",display:"flex",alignItems:"center"}}));const u1e=a1e;var l1e=Object.defineProperty,ME=Object.getOwnPropertySymbols,tG=Object.prototype.hasOwnProperty,nG=Object.prototype.propertyIsEnumerable,K5=(e,t,n)=>t in e?l1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Q5=(e,t)=>{for(var n in t||(t={}))tG.call(t,n)&&K5(e,n,t[n]);if(ME)for(var n of ME(t))nG.call(t,n)&&K5(e,n,t[n]);return e},c1e=(e,t)=>{var n={};for(var r in e)tG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ME)for(var r of ME(e))t.indexOf(r)<0&&nG.call(e,r)&&(n[r]=e[r]);return n};const f1e={size:"sm",type:"button",variant:"filled",loaderPosition:"left"},vk=w.forwardRef((e,t)=>{const n=ht("Button",f1e,e),{className:r,size:i,color:s,type:o,disabled:a,children:u,leftIcon:l,rightIcon:c,fullWidth:f,variant:d,radius:h,uppercase:p,compact:m,loading:y,loaderPosition:g,loaderProps:_,gradient:b,classNames:T,styles:I,unstyled:E}=n,S=c1e(n,["className","size","color","type","disabled","children","leftIcon","rightIcon","fullWidth","variant","radius","uppercase","compact","loading","loaderPosition","loaderProps","gradient","classNames","styles","unstyled"]),{classes:A,cx:L,theme:W}=u1e({radius:h,color:s,size:i,fullWidth:f,compact:m,gradient:b,variant:d,withLeftIcon:!!l,withRightIcon:!!c},{name:"Button",unstyled:E,classNames:T,styles:I}),z=W.fn.variant({color:s,variant:d}),U=k.createElement(Dm,Q5({color:z.color,size:W.fn.size({size:i,sizes:kP}).height/2},_));return k.createElement(nk,Q5({className:L(A.root,r),type:o,disabled:a,"data-button":!0,"data-disabled":a||void 0,"data-loading":y||void 0,ref:t,unstyled:E},S),k.createElement("div",{className:A.inner},(l||y&&g==="left")&&k.createElement("span",{className:L(A.icon,A.leftIcon)},y&&g==="left"?U:l),y&&g==="center"&&k.createElement("span",{className:A.centerLoader},U),k.createElement("span",{className:A.label,style:{textTransform:p?"uppercase":void 0}},u),(c||y&&g==="right")&&k.createElement("span",{className:L(A.icon,A.rightIcon)},y&&g==="right"?U:c)))});vk.displayName="@mantine/core/Button";vk.Group=eG;const dl=vk;var d1e=at((e,{radius:t,shadow:n,withBorder:r})=>({root:{outline:0,WebkitTapHighlightColor:"transparent",display:"block",textDecoration:"none",color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white,boxSizing:"border-box",borderRadius:e.fn.radius(t),boxShadow:e.shadows[n]||n||"none",border:r?`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3]}`:void 0}}));const h1e=d1e;var p1e=Object.defineProperty,FE=Object.getOwnPropertySymbols,rG=Object.prototype.hasOwnProperty,iG=Object.prototype.propertyIsEnumerable,X5=(e,t,n)=>t in e?p1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m1e=(e,t)=>{for(var n in t||(t={}))rG.call(t,n)&&X5(e,n,t[n]);if(FE)for(var n of FE(t))iG.call(t,n)&&X5(e,n,t[n]);return e},g1e=(e,t)=>{var n={};for(var r in e)rG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&FE)for(var r of FE(e))t.indexOf(r)<0&&iG.call(e,r)&&(n[r]=e[r]);return n};const y1e={},sG=w.forwardRef((e,t)=>{const n=ht("Paper",y1e,e),{className:r,children:i,radius:s,withBorder:o,shadow:a,unstyled:u}=n,l=g1e(n,["className","children","radius","withBorder","shadow","unstyled"]),{classes:c,cx:f}=h1e({radius:s,shadow:a,withBorder:o},{name:"Paper",unstyled:u});return k.createElement(lt,m1e({className:f(c.root,r),ref:t},l),i)});sG.displayName="@mantine/core/Paper";const _d=sG,oG=w.createContext({padding:0}),_1e=oG.Provider,v1e=()=>w.useContext(oG).padding;var b1e=at((e,{padding:t,withBorder:n,inheritPadding:r})=>{const i=e.fn.size({size:t,sizes:e.spacing}),s=-1*i,o=e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3];return{cardSection:{display:"block",marginLeft:s,marginRight:s,paddingLeft:r?i:void 0,paddingRight:r?i:void 0,borderTop:n&&`1px solid ${o}`,borderBottom:n&&`1px solid ${o}`,"& + &":{borderTop:0},"&[data-first]":{marginTop:s,borderTop:0,borderBottom:n&&`1px solid ${o}`},"&[data-last]":{marginBottom:s,borderBottom:0}}}});const E1e=b1e;var w1e=Object.defineProperty,BE=Object.getOwnPropertySymbols,aG=Object.prototype.hasOwnProperty,uG=Object.prototype.propertyIsEnumerable,J5=(e,t,n)=>t in e?w1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,T1e=(e,t)=>{for(var n in t||(t={}))aG.call(t,n)&&J5(e,n,t[n]);if(BE)for(var n of BE(t))uG.call(t,n)&&J5(e,n,t[n]);return e},S1e=(e,t)=>{var n={};for(var r in e)aG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&BE)for(var r of BE(e))t.indexOf(r)<0&&uG.call(e,r)&&(n[r]=e[r]);return n};const lG=w.forwardRef((e,t)=>{var n=e,{className:r,withBorder:i=!1,inheritPadding:s=!1,unstyled:o}=n,a=S1e(n,["className","withBorder","inheritPadding","unstyled"]);const{classes:u,cx:l}=E1e({padding:v1e(),withBorder:i,inheritPadding:s},{name:"Card",unstyled:o});return k.createElement(lt,T1e({className:l(u.cardSection,r),ref:t},a))});lG.displayName="@mantine/core/CardSection";const cG=lG;var I1e=at(e=>({root:{position:"relative",overflow:"hidden",backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white}}));const x1e=I1e;var C1e=Object.defineProperty,jE=Object.getOwnPropertySymbols,fG=Object.prototype.hasOwnProperty,dG=Object.prototype.propertyIsEnumerable,Z5=(e,t,n)=>t in e?C1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,A1e=(e,t)=>{for(var n in t||(t={}))fG.call(t,n)&&Z5(e,n,t[n]);if(jE)for(var n of jE(t))dG.call(t,n)&&Z5(e,n,t[n]);return e},O1e=(e,t)=>{var n={};for(var r in e)fG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&jE)for(var r of jE(e))t.indexOf(r)<0&&dG.call(e,r)&&(n[r]=e[r]);return n};const P1e={p:"md"},bk=w.forwardRef((e,t)=>{const n=ht("Card",P1e,e),{className:r,p:i,radius:s,children:o,unstyled:a}=n,u=O1e(n,["className","p","radius","children","unstyled"]),{classes:l,cx:c}=x1e(null,{name:"Card",unstyled:a}),f=w.Children.toArray(o),d=f.map((h,p)=>typeof h=="object"&&h&&"type"in h&&h.type===cG?w.cloneElement(h,{padding:i,"data-first":p===0||void 0,"data-last":p===f.length-1||void 0}):h);return k.createElement(_1e,{value:{padding:i}},k.createElement(_d,A1e({className:c(l.root,r),radius:s,p:i,ref:t},u),d))});bk.Section=cG;bk.displayName="@mantine/core/Card";const R1e=bk;var N1e=Object.defineProperty,UE=Object.getOwnPropertySymbols,hG=Object.prototype.hasOwnProperty,pG=Object.prototype.propertyIsEnumerable,eF=(e,t,n)=>t in e?N1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,k1e=(e,t)=>{for(var n in t||(t={}))hG.call(t,n)&&eF(e,n,t[n]);if(UE)for(var n of UE(t))pG.call(t,n)&&eF(e,n,t[n]);return e},D1e=(e,t)=>{var n={};for(var r in e)hG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&UE)for(var r of UE(e))t.indexOf(r)<0&&pG.call(e,r)&&(n[r]=e[r]);return n};const mG=w.forwardRef((e,t)=>{const n=ht("Center",{},e),{inline:r,sx:i}=n,s=D1e(n,["inline","sx"]);return k.createElement(lt,k1e({ref:t,sx:[{display:r?"inline-flex":"flex",alignItems:"center",justifyContent:"center"},...Rd(i)]},s))});mG.displayName="@mantine/core/Center";const Nd=mG,gG=w.createContext(null),$1e=gG.Provider,L1e=()=>w.useContext(gG);function M1e(e){return w.Children.toArray(e).filter(Boolean)}const F1e={left:"flex-start",center:"center",right:"flex-end",apart:"space-between"};var B1e=at((e,{spacing:t,position:n,noWrap:r,grow:i,align:s,count:o})=>({root:{boxSizing:"border-box",display:"flex",flexDirection:"row",alignItems:s||"center",flexWrap:r?"nowrap":"wrap",justifyContent:F1e[n],gap:e.fn.size({size:t,sizes:e.spacing}),"& > *":{boxSizing:"border-box",maxWidth:i?`calc(${100/o}% - ${e.fn.size({size:t,sizes:e.spacing})-e.fn.size({size:t,sizes:e.spacing})/o}px)`:void 0,flexGrow:i?1:0}}}));const j1e=B1e;var U1e=Object.defineProperty,VE=Object.getOwnPropertySymbols,yG=Object.prototype.hasOwnProperty,_G=Object.prototype.propertyIsEnumerable,tF=(e,t,n)=>t in e?U1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,V1e=(e,t)=>{for(var n in t||(t={}))yG.call(t,n)&&tF(e,n,t[n]);if(VE)for(var n of VE(t))_G.call(t,n)&&tF(e,n,t[n]);return e},z1e=(e,t)=>{var n={};for(var r in e)yG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&VE)for(var r of VE(e))t.indexOf(r)<0&&_G.call(e,r)&&(n[r]=e[r]);return n};const H1e={position:"left",spacing:"md"},Tu=w.forwardRef((e,t)=>{const n=ht("Group",H1e,e),{className:r,position:i,align:s,children:o,noWrap:a,grow:u,spacing:l,unstyled:c}=n,f=z1e(n,["className","position","align","children","noWrap","grow","spacing","unstyled"]),d=M1e(o),{classes:h,cx:p}=j1e({align:s,grow:u,noWrap:a,spacing:l,position:i,count:d.length},{unstyled:c,name:"Group"});return k.createElement(lt,V1e({className:p(h.root,r),ref:t},f),d)});Tu.displayName="@mantine/core/Group";var W1e=at((e,{spacing:t,align:n,justify:r})=>({root:{display:"flex",flexDirection:"column",alignItems:n,justifyContent:r,gap:e.fn.size({size:t,sizes:e.spacing})}}));const q1e=W1e;var Y1e=Object.defineProperty,zE=Object.getOwnPropertySymbols,vG=Object.prototype.hasOwnProperty,bG=Object.prototype.propertyIsEnumerable,nF=(e,t,n)=>t in e?Y1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,G1e=(e,t)=>{for(var n in t||(t={}))vG.call(t,n)&&nF(e,n,t[n]);if(zE)for(var n of zE(t))bG.call(t,n)&&nF(e,n,t[n]);return e},K1e=(e,t)=>{var n={};for(var r in e)vG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&zE)for(var r of zE(e))t.indexOf(r)<0&&bG.call(e,r)&&(n[r]=e[r]);return n};const Q1e={spacing:"md",align:"stretch",justify:"top"},Bc=w.forwardRef((e,t)=>{const n=ht("Stack",Q1e,e),{spacing:r,className:i,align:s,justify:o,unstyled:a}=n,u=K1e(n,["spacing","className","align","justify","unstyled"]),{classes:l,cx:c}=q1e({spacing:r,align:s,justify:o},{name:"Stack",unstyled:a});return k.createElement(lt,G1e({className:c(l.root,i),ref:t},u))});Bc.displayName="@mantine/core/Stack";function EG({spacing:e,offset:t,orientation:n,children:r,role:i,unstyled:s}){return n==="horizontal"?k.createElement(Tu,{pt:t,spacing:e,role:i,unstyled:s},r):k.createElement(Bc,{pt:t,spacing:e,role:i,unstyled:s},r)}var X1e=Object.defineProperty,HE=Object.getOwnPropertySymbols,wG=Object.prototype.hasOwnProperty,TG=Object.prototype.propertyIsEnumerable,rF=(e,t,n)=>t in e?X1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,iF=(e,t)=>{for(var n in t||(t={}))wG.call(t,n)&&rF(e,n,t[n]);if(HE)for(var n of HE(t))TG.call(t,n)&&rF(e,n,t[n]);return e},J1e=(e,t)=>{var n={};for(var r in e)wG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&HE)for(var r of HE(e))t.indexOf(r)<0&&TG.call(e,r)&&(n[r]=e[r]);return n};const Z1e={orientation:"horizontal",spacing:"lg",size:"sm",offset:"xs"},SG=w.forwardRef((e,t)=>{const n=ht("CheckboxGroup",Z1e,e),{children:r,value:i,defaultValue:s,onChange:o,orientation:a,spacing:u,size:l,wrapperProps:c,offset:f}=n,d=J1e(n,["children","value","defaultValue","onChange","orientation","spacing","size","wrapperProps","offset"]),[h,p]=xa({value:i,defaultValue:s,finalValue:[],onChange:o}),m=y=>{const g=y.currentTarget.value;p(h.includes(g)?h.filter(_=>_!==g):[...h,g])};return k.createElement($1e,{value:{value:h,onChange:m,size:l}},k.createElement(Bs.Wrapper,iF(iF({labelElement:"div",size:l,__staticSelector:"CheckboxGroup",ref:t},c),d),k.createElement(EG,{spacing:u,orientation:a,offset:f},r)))});SG.displayName="@mantine/core/CheckboxGroup";var ebe=Object.defineProperty,WE=Object.getOwnPropertySymbols,IG=Object.prototype.hasOwnProperty,xG=Object.prototype.propertyIsEnumerable,sF=(e,t,n)=>t in e?ebe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,DP=(e,t)=>{for(var n in t||(t={}))IG.call(t,n)&&sF(e,n,t[n]);if(WE)for(var n of WE(t))xG.call(t,n)&&sF(e,n,t[n]);return e},tbe=(e,t)=>{var n={};for(var r in e)IG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&WE)for(var r of WE(e))t.indexOf(r)<0&&xG.call(e,r)&&(n[r]=e[r]);return n};function nbe(e){return k.createElement("svg",DP({viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),k.createElement("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function rbe(e){var t=e,{indeterminate:n}=t,r=tbe(t,["indeterminate"]);return n?k.createElement("svg",DP({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 6"},r),k.createElement("rect",{width:"32",height:"6",fill:"currentColor",rx:"3"})):k.createElement(nbe,DP({},r))}var ibe=Object.defineProperty,sbe=Object.defineProperties,obe=Object.getOwnPropertyDescriptors,oF=Object.getOwnPropertySymbols,abe=Object.prototype.hasOwnProperty,ube=Object.prototype.propertyIsEnumerable,aF=(e,t,n)=>t in e?ibe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lbe=(e,t)=>{for(var n in t||(t={}))abe.call(t,n)&&aF(e,n,t[n]);if(oF)for(var n of oF(t))ube.call(t,n)&&aF(e,n,t[n]);return e},cbe=(e,t)=>sbe(e,obe(t));const fbe={xs:16,sm:20,md:24,lg:30,xl:36},dbe={xs:8,sm:10,md:14,lg:16,xl:20};var hbe=at((e,{size:t,radius:n,color:r,transitionDuration:i,labelPosition:s,error:o,indeterminate:a},u)=>{const l=e.fn.size({size:t,sizes:fbe}),c=e.fn.variant({variant:"filled",color:r}),f=e.fn.variant({variant:"filled",color:"red"}).background;return{icon:{ref:u("icon"),color:a?"inherit":e.white,transform:a?"none":"translateY(5px) scale(0.5)",opacity:a?1:0,transitionProperty:"opacity, transform",transitionTimingFunction:"ease",transitionDuration:`${i}ms`,pointerEvents:"none",width:e.fn.size({size:t,sizes:dbe}),position:"absolute",zIndex:1,top:0,bottom:0,left:0,right:0,margin:"auto","@media (prefers-reduced-motion)":{transitionDuration:e.respectReducedMotion?"0ms":void 0}},inner:{position:"relative",width:l,height:l,order:s==="left"?2:1},input:cbe(lbe({},e.fn.focusStyles()),{appearance:"none",backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white,border:`1px solid ${o?f:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,width:l,height:l,borderRadius:e.fn.radius(n),padding:0,display:"block",margin:0,transition:`border-color ${i}ms ease, background-color ${i}ms ease`,cursor:e.cursorType,"&:checked":{backgroundColor:c.background,borderColor:c.background,[`& + .${u("icon")}`]:{opacity:1,color:e.white,transform:"translateY(0) scale(1)"}},"&:disabled":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],borderColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[3],cursor:"not-allowed",[`& + .${u("icon")}`]:{color:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[5]}}})}});const pbe=hbe;var mbe=Object.defineProperty,gbe=Object.defineProperties,ybe=Object.getOwnPropertyDescriptors,uF=Object.getOwnPropertySymbols,_be=Object.prototype.hasOwnProperty,vbe=Object.prototype.propertyIsEnumerable,lF=(e,t,n)=>t in e?mbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bbe=(e,t)=>{for(var n in t||(t={}))_be.call(t,n)&&lF(e,n,t[n]);if(uF)for(var n of uF(t))vbe.call(t,n)&&lF(e,n,t[n]);return e},Ebe=(e,t)=>gbe(e,ybe(t));const wbe={xs:16,sm:20,md:24,lg:30,xl:36};var Tbe=at((e,{labelPosition:t,size:n})=>({root:{},body:{display:"inline-flex"},labelWrapper:Ebe(bbe({},e.fn.fontStyles()),{display:"inline-flex",flexDirection:"column",WebkitTapHighlightColor:"transparent",fontSize:e.fn.size({size:n,sizes:e.fontSizes}),lineHeight:`${e.fn.size({size:n,sizes:wbe})}px`,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,cursor:e.cursorType,order:t==="left"?1:2}),description:{marginTop:`calc(${e.spacing.xs}px / 2)`,[t==="left"?"paddingRight":"paddingLeft"]:e.spacing.sm},error:{marginTop:`calc(${e.spacing.xs}px / 2)`,[t==="left"?"paddingRight":"paddingLeft"]:e.spacing.sm},label:{cursor:e.cursorType,[t==="left"?"paddingRight":"paddingLeft"]:e.spacing.sm,"&[data-disabled]":{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]}}}));const Sbe=Tbe;var Ibe=Object.defineProperty,qE=Object.getOwnPropertySymbols,CG=Object.prototype.hasOwnProperty,AG=Object.prototype.propertyIsEnumerable,cF=(e,t,n)=>t in e?Ibe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xbe=(e,t)=>{for(var n in t||(t={}))CG.call(t,n)&&cF(e,n,t[n]);if(qE)for(var n of qE(t))AG.call(t,n)&&cF(e,n,t[n]);return e},Cbe=(e,t)=>{var n={};for(var r in e)CG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&qE)for(var r of qE(e))t.indexOf(r)<0&&AG.call(e,r)&&(n[r]=e[r]);return n};function Ek(e){var t=e,{__staticSelector:n,className:r,classNames:i,styles:s,unstyled:o,children:a,label:u,description:l,id:c,disabled:f,error:d,size:h,labelPosition:p}=t,m=Cbe(t,["__staticSelector","className","classNames","styles","unstyled","children","label","description","id","disabled","error","size","labelPosition"]);const{classes:y,cx:g}=Sbe({size:h,labelPosition:p},{name:n,styles:s,classNames:i,unstyled:o});return k.createElement(lt,xbe({className:g(y.root,r)},m),k.createElement("div",{className:g(y.body)},a,k.createElement("div",{className:y.labelWrapper},u&&k.createElement("label",{className:y.label,"data-disabled":f||void 0,htmlFor:c},u),l&&k.createElement(Bs.Description,{className:y.description},l),d&&d!=="boolean"&&k.createElement(Bs.Error,{className:y.error},d))))}Ek.displayName="@mantine/core/InlineInput";var Abe=Object.defineProperty,YE=Object.getOwnPropertySymbols,OG=Object.prototype.hasOwnProperty,PG=Object.prototype.propertyIsEnumerable,fF=(e,t,n)=>t in e?Abe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Gv=(e,t)=>{for(var n in t||(t={}))OG.call(t,n)&&fF(e,n,t[n]);if(YE)for(var n of YE(t))PG.call(t,n)&&fF(e,n,t[n]);return e},Obe=(e,t)=>{var n={};for(var r in e)OG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&YE)for(var r of YE(e))t.indexOf(r)<0&&PG.call(e,r)&&(n[r]=e[r]);return n};const Pbe={size:"sm",transitionDuration:100,icon:rbe,labelPosition:"right"},Kp=w.forwardRef((e,t)=>{const n=ht("Checkbox",Pbe,e),{className:r,style:i,sx:s,checked:o,disabled:a,color:u,label:l,indeterminate:c,id:f,size:d,radius:h,wrapperProps:p,children:m,classNames:y,styles:g,transitionDuration:_,icon:b,unstyled:T,labelPosition:I,description:E,error:S}=n,A=Obe(n,["className","style","sx","checked","disabled","color","label","indeterminate","id","size","radius","wrapperProps","children","classNames","styles","transitionDuration","icon","unstyled","labelPosition","description","error"]),L=L1e(),W=Du(f),{systemStyles:z,rest:U}=Xd(A),{classes:Z}=pbe({size:(L==null?void 0:L.size)||d,radius:h,color:u,transitionDuration:_,labelPosition:I,error:!!S,indeterminate:c},{name:"Checkbox",classNames:y,styles:g,unstyled:T}),H=L?{checked:L.value.includes(U.value),onChange:L.onChange}:{};return k.createElement(Ek,Gv(Gv({className:r,sx:s,style:i,id:W,size:(L==null?void 0:L.size)||d,labelPosition:I,label:l,description:E,error:S,disabled:a,__staticSelector:"Checkbox",classNames:y,styles:g,unstyled:T,"data-checked":H.checked||void 0},z),p),k.createElement("div",{className:Z.inner},k.createElement("input",Gv(Gv({id:W,ref:t,type:"checkbox",className:Z.input,checked:o,disabled:a},U),H)),k.createElement(b,{indeterminate:c,className:Z.icon})))});Kp.displayName="@mantine/core/Checkbox";Kp.Group=SG;var Rbe=at((e,{fluid:t,size:n,sizes:r})=>({root:{paddingLeft:e.spacing.md,paddingRight:e.spacing.md,maxWidth:t?"100%":e.fn.size({size:n,sizes:r}),marginLeft:"auto",marginRight:"auto"}}));const Nbe=Rbe;var kbe=Object.defineProperty,GE=Object.getOwnPropertySymbols,RG=Object.prototype.hasOwnProperty,NG=Object.prototype.propertyIsEnumerable,dF=(e,t,n)=>t in e?kbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Dbe=(e,t)=>{for(var n in t||(t={}))RG.call(t,n)&&dF(e,n,t[n]);if(GE)for(var n of GE(t))NG.call(t,n)&&dF(e,n,t[n]);return e},$be=(e,t)=>{var n={};for(var r in e)RG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&GE)for(var r of GE(e))t.indexOf(r)<0&&NG.call(e,r)&&(n[r]=e[r]);return n};const Lbe={sizes:{xs:540,sm:720,md:960,lg:1140,xl:1320}},kG=w.forwardRef((e,t)=>{const n=ht("Container",Lbe,e),{className:r,fluid:i,size:s,unstyled:o,sizes:a}=n,u=$be(n,["className","fluid","size","unstyled","sizes"]),{classes:l,cx:c}=Nbe({fluid:i,size:s,sizes:a},{unstyled:o,name:"Container"});return k.createElement(lt,Dbe({className:c(l.root,r),ref:t},u))});kG.displayName="@mantine/core/Container";function DG({transitions:e,duration:t=250,exitDuration:n=t,mounted:r,children:i,timingFunction:s,onExit:o,onEntered:a,onEnter:u,onExited:l}){const{transitionDuration:c,transitionStatus:f,transitionTimingFunction:d}=SY({mounted:r,duration:t,exitDuration:n,timingFunction:s,onExit:o,onEntered:a,onEnter:u,onExited:l});if(c===0)return r?k.createElement(k.Fragment,null,i({})):null;if(f==="exited")return null;const h=Object.keys(e).reduce((p,m)=>(p[m]=TY({duration:e[m].duration,transition:e[m].transition,timingFunction:e[m].timingFunction||d,state:f}),p),{});return k.createElement(k.Fragment,null,i(h))}DG.displayName="@mantine/core/GroupedTransition";var Mbe=at((e,{zIndex:t})=>({root:{position:"absolute",top:0,bottom:0,left:0,right:0,zIndex:t}}));const Fbe=Mbe;var Bbe=Object.defineProperty,jbe=Object.defineProperties,Ube=Object.getOwnPropertyDescriptors,KE=Object.getOwnPropertySymbols,$G=Object.prototype.hasOwnProperty,LG=Object.prototype.propertyIsEnumerable,hF=(e,t,n)=>t in e?Bbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,NC=(e,t)=>{for(var n in t||(t={}))$G.call(t,n)&&hF(e,n,t[n]);if(KE)for(var n of KE(t))LG.call(t,n)&&hF(e,n,t[n]);return e},Vbe=(e,t)=>jbe(e,Ube(t)),zbe=(e,t)=>{var n={};for(var r in e)$G.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&KE)for(var r of KE(e))t.indexOf(r)<0&&LG.call(e,r)&&(n[r]=e[r]);return n};const Hbe={opacity:.6,color:"#fff",zIndex:wo("modal"),radius:0,blur:0},MG=w.forwardRef((e,t)=>{const n=ht("Overlay",Hbe,e),{opacity:r,blur:i,color:s,gradient:o,zIndex:a,radius:u,sx:l,unstyled:c,className:f}=n,d=zbe(n,["opacity","blur","color","gradient","zIndex","radius","sx","unstyled","className"]),{classes:h,cx:p}=Fbe({zIndex:a},{name:"Overlay",unstyled:c}),m=o?{backgroundImage:o}:{backgroundColor:s},y=g=>k.createElement(lt,NC({ref:t,className:p(h.root,f),sx:[_=>Vbe(NC({},m),{opacity:r,borderRadius:_.fn.size({size:u,sizes:_.radius})}),...Rd(l)]},g));return i?k.createElement(lt,NC({className:p(h.root,f),sx:[{backdropFilter:`blur(${i}px)`},...Rd(l)]},d),y()):y(d)});MG.displayName="@mantine/core/Overlay";const Wbe=MG,qbe={gap:{type:"spacing",property:"gap"},rowGap:{type:"spacing",property:"rowGap"},columnGap:{type:"spacing",property:"columnGap"},align:{type:"default",property:"alignItems"},justify:{type:"default",property:"justifyContent"},wrap:{type:"default",property:"flexWrap"},direction:{type:"default",property:"flexDirection"}};var Ybe=Object.defineProperty,Gbe=Object.defineProperties,Kbe=Object.getOwnPropertyDescriptors,QE=Object.getOwnPropertySymbols,FG=Object.prototype.hasOwnProperty,BG=Object.prototype.propertyIsEnumerable,pF=(e,t,n)=>t in e?Ybe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Qbe=(e,t)=>{for(var n in t||(t={}))FG.call(t,n)&&pF(e,n,t[n]);if(QE)for(var n of QE(t))BG.call(t,n)&&pF(e,n,t[n]);return e},Xbe=(e,t)=>Gbe(e,Kbe(t)),Jbe=(e,t)=>{var n={};for(var r in e)FG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&QE)for(var r of QE(e))t.indexOf(r)<0&&BG.call(e,r)&&(n[r]=e[r]);return n};const Zbe={},kd=w.forwardRef((e,t)=>{const n=ht("Flex",Zbe,e),{gap:r,rowGap:i,columnGap:s,align:o,justify:a,wrap:u,direction:l,sx:c}=n,f=Jbe(n,["gap","rowGap","columnGap","align","justify","wrap","direction","sx"]);return k.createElement(lt,Xbe(Qbe({},f),{sx:[{display:"flex"},d=>IP({gap:r,rowGap:i,columnGap:s,align:o,justify:a,wrap:u,direction:l},d,qbe),...Rd(c)],ref:t}))});kd.displayName="@mantine/core/Flex";const jG=w.createContext(null),eEe=jG.Provider,tEe=()=>w.useContext(jG);var nEe=Object.defineProperty,mF=Object.getOwnPropertySymbols,rEe=Object.prototype.hasOwnProperty,iEe=Object.prototype.propertyIsEnumerable,gF=(e,t,n)=>t in e?nEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sEe=(e,t)=>{for(var n in t||(t={}))rEe.call(t,n)&&gF(e,n,t[n]);if(mF)for(var n of mF(t))iEe.call(t,n)&&gF(e,n,t[n]);return e};const wk=(e,t)=>e==="content"?"auto":e==="auto"?"0px":e?`${100/(t/e)}%`:void 0,UG=(e,t,n)=>n||e==="auto"||e==="content"?"unset":wk(e,t),VG=(e,t)=>{if(e)return e==="auto"||t?1:0},zG=(e,t)=>e===0?0:e?`${100/(t/e)}%`:void 0;function oEe({sizes:e,offsets:t,orders:n,theme:r,columns:i,grow:s}){return pde.reduce((o,a)=>(o[`@media (min-width: ${r.breakpoints[a]}px)`]={order:n[a],flexBasis:wk(e[a],i),flexShrink:0,width:e[a]==="content"?"auto":void 0,maxWidth:UG(e[a],i,s),marginLeft:zG(t[a],i),flexGrow:VG(e[a],s)},o),{})}var aEe=at((e,{gutter:t,grow:n,offset:r,offsetXs:i,offsetSm:s,offsetMd:o,offsetLg:a,offsetXl:u,columns:l,span:c,xs:f,sm:d,md:h,lg:p,xl:m,order:y,orderXs:g,orderSm:_,orderMd:b,orderLg:T,orderXl:I})=>({root:sEe({boxSizing:"border-box",flexGrow:VG(c,n),order:y,padding:e.fn.size({size:t,sizes:e.spacing})/2,marginLeft:zG(r,l),flexBasis:wk(c,l),flexShrink:0,width:c==="content"?"auto":void 0,maxWidth:UG(c,l,n)},oEe({sizes:{xs:f,sm:d,md:h,lg:p,xl:m},offsets:{xs:i,sm:s,md:o,lg:a,xl:u},orders:{xs:g,sm:_,md:b,lg:T,xl:I},theme:e,columns:l,grow:n}))}));const uEe=aEe;var lEe=Object.defineProperty,XE=Object.getOwnPropertySymbols,HG=Object.prototype.hasOwnProperty,WG=Object.prototype.propertyIsEnumerable,yF=(e,t,n)=>t in e?lEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cEe=(e,t)=>{for(var n in t||(t={}))HG.call(t,n)&&yF(e,n,t[n]);if(XE)for(var n of XE(t))WG.call(t,n)&&yF(e,n,t[n]);return e},fEe=(e,t)=>{var n={};for(var r in e)HG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&XE)for(var r of XE(e))t.indexOf(r)<0&&WG.call(e,r)&&(n[r]=e[r]);return n};const dEe={};function hEe(e){return e==="auto"||e==="content"?!0:typeof e=="number"&&e>0&&e%1===0}const qG=w.forwardRef((e,t)=>{const n=ht("Grid.Col",dEe,e),{children:r,span:i,offset:s,offsetXs:o,offsetSm:a,offsetMd:u,offsetLg:l,offsetXl:c,xs:f,sm:d,md:h,lg:p,xl:m,order:y,orderXs:g,orderSm:_,orderMd:b,orderLg:T,orderXl:I,className:E,id:S,unstyled:A}=n,L=fEe(n,["children","span","offset","offsetXs","offsetSm","offsetMd","offsetLg","offsetXl","xs","sm","md","lg","xl","order","orderXs","orderSm","orderMd","orderLg","orderXl","className","id","unstyled"]),W=tEe();if(!W)throw new Error("[@mantine/core] Grid.Col was used outside of Grid context");const z=i||W.columns,{classes:U,cx:Z}=uEe({gutter:W.gutter,offset:s,offsetXs:o,offsetSm:a,offsetMd:u,offsetLg:l,offsetXl:c,xs:f,sm:d,md:h,lg:p,xl:m,order:y,orderXs:g,orderSm:_,orderMd:b,orderLg:T,orderXl:I,grow:W.grow,columns:W.columns,span:z},{unstyled:A,name:"Col"});return!hEe(z)||z>W.columns?null:k.createElement(lt,cEe({className:Z(U.root,E),ref:t},L),r)});qG.displayName="@mantine/core/Col";var pEe=at((e,{justify:t,align:n,gutter:r})=>({root:{margin:-e.fn.size({size:r,sizes:e.spacing})/2,display:"flex",flexWrap:"wrap",justifyContent:t,alignItems:n}}));const mEe=pEe;var gEe=Object.defineProperty,JE=Object.getOwnPropertySymbols,YG=Object.prototype.hasOwnProperty,GG=Object.prototype.propertyIsEnumerable,_F=(e,t,n)=>t in e?gEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yEe=(e,t)=>{for(var n in t||(t={}))YG.call(t,n)&&_F(e,n,t[n]);if(JE)for(var n of JE(t))GG.call(t,n)&&_F(e,n,t[n]);return e},_Ee=(e,t)=>{var n={};for(var r in e)YG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&JE)for(var r of JE(e))t.indexOf(r)<0&&GG.call(e,r)&&(n[r]=e[r]);return n};const vEe={gutter:"md",justify:"flex-start",align:"stretch",columns:12},tl=w.forwardRef((e,t)=>{const n=ht("Grid",vEe,e),{gutter:r,children:i,grow:s,justify:o,align:a,columns:u,className:l,id:c,unstyled:f}=n,d=_Ee(n,["gutter","children","grow","justify","align","columns","className","id","unstyled"]),{classes:h,cx:p}=mEe({gutter:r,justify:o,align:a},{unstyled:f,name:"Grid"});return k.createElement(eEe,{value:{gutter:r,grow:s,columns:u}},k.createElement(lt,yEe({className:p(h.root,l),ref:t},d),i))});tl.Col=qG;tl.displayName="@mantine/core/Grid";function bEe({open:e,close:t,openDelay:n,closeDelay:r}){const i=w.useRef(-1),s=w.useRef(-1),o=()=>{window.clearTimeout(i.current),window.clearTimeout(s.current)},a=()=>{o(),n===0?e():i.current=window.setTimeout(e,n)},u=()=>{o(),r===0?t():s.current=window.setTimeout(t,r)};return w.useEffect(()=>o,[]),{openDropdown:a,closeDropdown:u}}var EEe=Object.defineProperty,vF=Object.getOwnPropertySymbols,wEe=Object.prototype.hasOwnProperty,TEe=Object.prototype.propertyIsEnumerable,bF=(e,t,n)=>t in e?EEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,SEe=(e,t)=>{for(var n in t||(t={}))wEe.call(t,n)&&bF(e,n,t[n]);if(vF)for(var n of vF(t))TEe.call(t,n)&&bF(e,n,t[n]);return e};function IEe(e){return k.createElement("svg",SEe({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),k.createElement("path",{d:"M2.5 1H12.5C13.3284 1 14 1.67157 14 2.5V12.5C14 13.3284 13.3284 14 12.5 14H2.5C1.67157 14 1 13.3284 1 12.5V2.5C1 1.67157 1.67157 1 2.5 1ZM2.5 2C2.22386 2 2 2.22386 2 2.5V8.3636L3.6818 6.6818C3.76809 6.59551 3.88572 6.54797 4.00774 6.55007C4.12975 6.55216 4.24568 6.60372 4.32895 6.69293L7.87355 10.4901L10.6818 7.6818C10.8575 7.50607 11.1425 7.50607 11.3182 7.6818L13 9.3636V2.5C13 2.22386 12.7761 2 12.5 2H2.5ZM2 12.5V9.6364L3.98887 7.64753L7.5311 11.4421L8.94113 13H2.5C2.22386 13 2 12.7761 2 12.5ZM12.5 13H10.155L8.48336 11.153L11 8.6364L13 10.6364V12.5C13 12.7761 12.7761 13 12.5 13ZM6.64922 5.5C6.64922 5.03013 7.03013 4.64922 7.5 4.64922C7.96987 4.64922 8.35078 5.03013 8.35078 5.5C8.35078 5.96987 7.96987 6.35078 7.5 6.35078C7.03013 6.35078 6.64922 5.96987 6.64922 5.5ZM7.5 3.74922C6.53307 3.74922 5.74922 4.53307 5.74922 5.5C5.74922 6.46693 6.53307 7.25078 7.5 7.25078C8.46693 7.25078 9.25078 6.46693 9.25078 5.5C9.25078 4.53307 8.46693 3.74922 7.5 3.74922Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}var xEe=Object.defineProperty,CEe=Object.defineProperties,AEe=Object.getOwnPropertyDescriptors,EF=Object.getOwnPropertySymbols,OEe=Object.prototype.hasOwnProperty,PEe=Object.prototype.propertyIsEnumerable,wF=(e,t,n)=>t in e?xEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,TF=(e,t)=>{for(var n in t||(t={}))OEe.call(t,n)&&wF(e,n,t[n]);if(EF)for(var n of EF(t))PEe.call(t,n)&&wF(e,n,t[n]);return e},SF=(e,t)=>CEe(e,AEe(t)),REe=at((e,{radius:t})=>({root:{},imageWrapper:{position:"relative"},figure:{margin:0},image:SF(TF({},e.fn.fontStyles()),{display:"block",width:"100%",height:"100%",border:0,borderRadius:e.fn.size({size:t,sizes:e.radius})}),caption:{color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[7],marginTop:e.spacing.xs},placeholder:SF(TF({},e.fn.cover()),{display:"flex",alignItems:"center",justifyContent:"center",color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],backgroundColor:e.colorScheme==="dark"?e.colors.dark[8]:e.colors.gray[0],borderRadius:e.fn.size({size:t,sizes:e.radius})})}));const NEe=REe;var kEe=Object.defineProperty,ZE=Object.getOwnPropertySymbols,KG=Object.prototype.hasOwnProperty,QG=Object.prototype.propertyIsEnumerable,IF=(e,t,n)=>t in e?kEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kC=(e,t)=>{for(var n in t||(t={}))KG.call(t,n)&&IF(e,n,t[n]);if(ZE)for(var n of ZE(t))QG.call(t,n)&&IF(e,n,t[n]);return e},DEe=(e,t)=>{var n={};for(var r in e)KG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ZE)for(var r of ZE(e))t.indexOf(r)<0&&QG.call(e,r)&&(n[r]=e[r]);return n};const $Ee={fit:"cover",width:"100%",height:"auto",radius:0},C_=w.forwardRef((e,t)=>{const n=ht("Image",$Ee,e),{className:r,alt:i,src:s,fit:o,width:a,height:u,radius:l,imageProps:c,withPlaceholder:f,placeholder:d,imageRef:h,classNames:p,styles:m,caption:y,unstyled:g,style:_}=n,b=DEe(n,["className","alt","src","fit","width","height","radius","imageProps","withPlaceholder","placeholder","imageRef","classNames","styles","caption","unstyled","style"]),{classes:T,cx:I}=NEe({radius:l},{classNames:p,styles:m,unstyled:g,name:"Image"}),[E,S]=w.useState(!s),A=f&&E;return co(()=>{S(!1)},[s]),k.createElement(lt,kC({className:I(T.root,r),ref:t,style:kC({width:a},_)},b),k.createElement("figure",{className:T.figure},k.createElement("div",{className:T.imageWrapper},k.createElement("img",kC({className:T.image,src:s,alt:i,style:{objectFit:o,width:a,height:u},ref:h,onError:L=>{S(!0),typeof(c==null?void 0:c.onError)=="function"&&c.onError(L)}},c)),A&&k.createElement("div",{className:T.placeholder,title:i},d||k.createElement("div",null,k.createElement(IEe,{style:{width:40,height:40}})))),!!y&&k.createElement(Ct,{component:"figcaption",size:"sm",align:"center",className:T.caption},y)))});C_.displayName="@mantine/core/Image";function LEe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var MEe=w.useLayoutEffect,FEe=function(t){var n=w.useRef(t);return MEe(function(){n.current=t}),n},xF=function(t,n){if(typeof t=="function"){t(n);return}t.current=n},BEe=function(t,n){var r=w.useRef();return w.useCallback(function(i){t.current=i,r.current&&xF(r.current,null),r.current=n,n&&xF(n,i)},[n])},CF={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},AF=function(t){Object.keys(CF).forEach(function(n){t.style.setProperty(n,CF[n],"important")})},Ks=null,jEe=function(t,n){var r=t.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function UEe(e,t,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),Ks||(Ks=document.createElement("textarea"),Ks.setAttribute("tabindex","-1"),Ks.setAttribute("aria-hidden","true"),AF(Ks)),Ks.parentNode===null&&document.body.appendChild(Ks);var i=e.paddingSize,s=e.borderSize,o=e.sizingStyle,a=o.boxSizing;Object.keys(o).forEach(function(d){var h=d;Ks.style[h]=o[h]}),AF(Ks),Ks.value=t;var u=jEe(Ks,e);Ks.value="x";var l=Ks.scrollHeight-i,c=l*n;a==="border-box"&&(c=c+i+s),u=Math.max(c,u);var f=l*r;return a==="border-box"&&(f=f+i+s),u=Math.min(f,u),[u,l]}var OF=function(){},VEe=function(t,n){return t.reduce(function(r,i){return r[i]=n[i],r},{})},zEe=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],HEe=!!document.documentElement.currentStyle,WEe=function(t){var n=window.getComputedStyle(t);if(n===null)return null;var r=VEe(zEe,n),i=r.boxSizing;if(i==="")return null;HEe&&i==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var s=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),o=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:s,borderSize:o}},qEe=function(t){var n=FEe(t);w.useLayoutEffect(function(){var r=function(s){n.current(s)};return window.addEventListener("resize",r),function(){window.removeEventListener("resize",r)}},[])},YEe=function(t,n){var r=t.cacheMeasurements,i=t.maxRows,s=t.minRows,o=t.onChange,a=o===void 0?OF:o,u=t.onHeightChange,l=u===void 0?OF:u,c=LEe(t,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]),f=c.value!==void 0,d=w.useRef(null),h=BEe(d,n),p=w.useRef(0),m=w.useRef(),y=function(){var b=d.current,T=r&&m.current?m.current:WEe(b);if(T){m.current=T;var I=UEe(T,b.value||b.placeholder||"x",s,i),E=I[0],S=I[1];p.current!==E&&(p.current=E,b.style.setProperty("height",E+"px","important"),l(E,{rowHeight:S}))}},g=function(b){f||y(),a(b)};return w.useLayoutEffect(y),qEe(y),w.createElement("textarea",cr({},c,{onChange:g,ref:h}))},GEe=w.forwardRef(YEe);const KEe=GEe;var QEe=at(e=>({input:{paddingTop:e.spacing.xs,paddingBottom:e.spacing.xs}}));const XEe=QEe;var JEe=Object.defineProperty,ZEe=Object.defineProperties,ewe=Object.getOwnPropertyDescriptors,ew=Object.getOwnPropertySymbols,XG=Object.prototype.hasOwnProperty,JG=Object.prototype.propertyIsEnumerable,PF=(e,t,n)=>t in e?JEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_h=(e,t)=>{for(var n in t||(t={}))XG.call(t,n)&&PF(e,n,t[n]);if(ew)for(var n of ew(t))JG.call(t,n)&&PF(e,n,t[n]);return e},DC=(e,t)=>ZEe(e,ewe(t)),twe=(e,t)=>{var n={};for(var r in e)XG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ew)for(var r of ew(e))t.indexOf(r)<0&&JG.call(e,r)&&(n[r]=e[r]);return n};const nwe={autosize:!1,size:"sm",__staticSelector:"Textarea"},ZG=w.forwardRef((e,t)=>{const n=ht("Textarea",nwe,e),{autosize:r,maxRows:i,minRows:s,label:o,error:a,description:u,id:l,className:c,required:f,style:d,wrapperProps:h,classNames:p,styles:m,size:y,__staticSelector:g,sx:_,errorProps:b,descriptionProps:T,labelProps:I,inputWrapperOrder:E,inputContainer:S,unstyled:A,withAsterisk:L}=n,W=twe(n,["autosize","maxRows","minRows","label","error","description","id","className","required","style","wrapperProps","classNames","styles","size","__staticSelector","sx","errorProps","descriptionProps","labelProps","inputWrapperOrder","inputContainer","unstyled","withAsterisk"]),z=Du(l),{classes:U,cx:Z}=XEe(),{systemStyles:H,rest:ue}=Xd(W),ie=_h({required:f,ref:t,invalid:!!a,id:z,classNames:DC(_h({},p),{input:Z(U.input,p==null?void 0:p.input)}),styles:m,__staticSelector:g,size:y,multiline:!0,unstyled:A},ue);return k.createElement(Bs.Wrapper,_h(_h({label:o,error:a,id:z,description:u,required:f,style:d,className:c,classNames:p,styles:m,size:y,__staticSelector:g,sx:_,errorProps:b,labelProps:I,descriptionProps:T,inputContainer:S,inputWrapperOrder:E,unstyled:A,withAsterisk:L},H),h),r?k.createElement(Bs,DC(_h({},ie),{component:KEe,maxRows:i,minRows:s})):k.createElement(Bs,DC(_h({},ie),{component:"textarea",rows:s})))});ZG.displayName="@mantine/core/Textarea";const eK=w.createContext(null);function rwe(){return w.useContext(eK)||{}}var iwe=at((e,{spacing:t,center:n},r)=>({itemWrapper:{ref:r("itemWrapper"),display:"inline-flex",flexDirection:"column",whiteSpace:"normal"},item:{whiteSpace:"nowrap",lineHeight:n?1:e.lineHeight,"&:not(:first-of-type)":{marginTop:e.fn.size({size:t,sizes:e.spacing})}},withIcon:{listStyle:"none",[`& .${r("itemWrapper")}`]:{display:"inline-flex",alignItems:n?"center":"flex-start",flexDirection:"row"}},itemIcon:{display:"inline-block",verticalAlign:"middle",marginRight:e.spacing.sm}}));const swe=iwe;var owe=Object.defineProperty,tw=Object.getOwnPropertySymbols,tK=Object.prototype.hasOwnProperty,nK=Object.prototype.propertyIsEnumerable,RF=(e,t,n)=>t in e?owe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,awe=(e,t)=>{for(var n in t||(t={}))tK.call(t,n)&&RF(e,n,t[n]);if(tw)for(var n of tw(t))nK.call(t,n)&&RF(e,n,t[n]);return e},uwe=(e,t)=>{var n={};for(var r in e)tK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&tw)for(var r of tw(e))t.indexOf(r)<0&&nK.call(e,r)&&(n[r]=e[r]);return n};function rK(e){var t=e,{className:n,children:r,icon:i}=t,s=uwe(t,["className","children","icon"]);const{icon:o,spacing:a,center:u,listStyleType:l,size:c,withPadding:f}=rwe(),{classNames:d,styles:h,unstyled:p}=w_(),m=i||o,{classes:y,cx:g}=swe({withPadding:f,size:c,listStyleType:l,center:u,spacing:a},{classNames:d,styles:h,unstyled:p,name:"List"});return k.createElement(lt,awe({component:"li",className:g(y.item,{[y.withIcon]:m},n)},s),k.createElement("div",{className:y.itemWrapper},m&&k.createElement("span",{className:y.itemIcon},m),k.createElement("span",null,r)))}rK.displayName="@mantine/core/ListItem";var lwe=Object.defineProperty,cwe=Object.defineProperties,fwe=Object.getOwnPropertyDescriptors,NF=Object.getOwnPropertySymbols,dwe=Object.prototype.hasOwnProperty,hwe=Object.prototype.propertyIsEnumerable,kF=(e,t,n)=>t in e?lwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pwe=(e,t)=>{for(var n in t||(t={}))dwe.call(t,n)&&kF(e,n,t[n]);if(NF)for(var n of NF(t))hwe.call(t,n)&&kF(e,n,t[n]);return e},mwe=(e,t)=>cwe(e,fwe(t)),gwe=at((e,{withPadding:t,size:n,listStyleType:r})=>({root:mwe(pwe({},e.fn.fontStyles()),{listStyleType:r,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,fontSize:e.fn.size({size:n,sizes:e.fontSizes}),lineHeight:e.lineHeight,margin:0,paddingLeft:t?e.spacing.xl:0,listStylePosition:"inside"})}));const ywe=gwe;var _we=Object.defineProperty,nw=Object.getOwnPropertySymbols,iK=Object.prototype.hasOwnProperty,sK=Object.prototype.propertyIsEnumerable,DF=(e,t,n)=>t in e?_we(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vwe=(e,t)=>{for(var n in t||(t={}))iK.call(t,n)&&DF(e,n,t[n]);if(nw)for(var n of nw(t))sK.call(t,n)&&DF(e,n,t[n]);return e},bwe=(e,t)=>{var n={};for(var r in e)iK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&nw)for(var r of nw(e))t.indexOf(r)<0&&sK.call(e,r)&&(n[r]=e[r]);return n};const Ewe={type:"unordered",size:"md",spacing:0},Qp=w.forwardRef((e,t)=>{const n=ht("List",Ewe,e),{children:r,type:i,size:s,listStyleType:o,withPadding:a,center:u,spacing:l,icon:c,className:f,styles:d,classNames:h,unstyled:p}=n,m=bwe(n,["children","type","size","listStyleType","withPadding","center","spacing","icon","className","styles","classNames","unstyled"]),{classes:y,cx:g}=ywe({withPadding:a,size:s,listStyleType:o,center:u,spacing:l},{classNames:h,styles:d,name:"List",unstyled:p});return k.createElement(xW,{classNames:h,styles:d,unstyled:p},k.createElement(eK.Provider,{value:{spacing:l,center:u,icon:c,listStyleType:o,size:s,withPadding:a}},k.createElement(lt,vwe({component:i==="unordered"?"ul":"ol",className:g(y.root,f),ref:t},m),r)))});Qp.Item=rK;Qp.displayName="@mantine/core/List";var wwe=at(e=>({divider:{margin:`calc(${e.spacing.xs}px / 2) -5px`,borderTop:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]}`}}));const Twe=wwe;var Swe=Object.defineProperty,rw=Object.getOwnPropertySymbols,oK=Object.prototype.hasOwnProperty,aK=Object.prototype.propertyIsEnumerable,$F=(e,t,n)=>t in e?Swe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Iwe=(e,t)=>{for(var n in t||(t={}))oK.call(t,n)&&$F(e,n,t[n]);if(rw)for(var n of rw(t))aK.call(t,n)&&$F(e,n,t[n]);return e},xwe=(e,t)=>{var n={};for(var r in e)oK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&rw)for(var r of rw(e))t.indexOf(r)<0&&aK.call(e,r)&&(n[r]=e[r]);return n};function uK(e){var t=e,{children:n,className:r}=t,i=xwe(t,["children","className"]);const{classNames:s,styles:o,unstyled:a}=w_(),{classes:u,cx:l}=Twe(null,{name:"Menu",classNames:s,styles:o,unstyled:a});return k.createElement(lt,Iwe({className:l(u.divider,r)},i))}uK.displayName="@mantine/core/MenuDivider";const lK={context:"Menu component was not found in the tree",children:"Menu.Target component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported"},[Cwe,Tk]=ZH(lK.context);var Awe=Object.defineProperty,iw=Object.getOwnPropertySymbols,cK=Object.prototype.hasOwnProperty,fK=Object.prototype.propertyIsEnumerable,LF=(e,t,n)=>t in e?Awe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Owe=(e,t)=>{for(var n in t||(t={}))cK.call(t,n)&&LF(e,n,t[n]);if(iw)for(var n of iw(t))fK.call(t,n)&&LF(e,n,t[n]);return e},Pwe=(e,t)=>{var n={};for(var r in e)cK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&iw)for(var r of iw(e))t.indexOf(r)<0&&fK.call(e,r)&&(n[r]=e[r]);return n};function dK(e){var t=e,{children:n,onMouseEnter:r,onMouseLeave:i}=t,s=Pwe(t,["children","onMouseEnter","onMouseLeave"]);const o=w.useRef(),a=Tk(),u=f=>{(f.key==="ArrowUp"||f.key==="ArrowDown")&&(f.preventDefault(),o.current.querySelectorAll("[data-menu-item]")[0].focus())},l=el(r,()=>a.trigger==="hover"&&a.openDropdown()),c=el(i,()=>a.trigger==="hover"&&a.closeDropdown());return k.createElement(Vl.Dropdown,Owe({onMouseEnter:l,onMouseLeave:c,role:"menu","aria-orientation":"vertical"},s),k.createElement("div",{tabIndex:-1,"data-menu-dropdown":!0,"data-autofocus":!0,onKeyDown:u,ref:o,style:{outline:0}},n))}dK.displayName="@mantine/core/MenuDropdown";var Rwe=Object.defineProperty,Nwe=Object.defineProperties,kwe=Object.getOwnPropertyDescriptors,MF=Object.getOwnPropertySymbols,Dwe=Object.prototype.hasOwnProperty,$we=Object.prototype.propertyIsEnumerable,FF=(e,t,n)=>t in e?Rwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Lwe=(e,t)=>{for(var n in t||(t={}))Dwe.call(t,n)&&FF(e,n,t[n]);if(MF)for(var n of MF(t))$we.call(t,n)&&FF(e,n,t[n]);return e},Mwe=(e,t)=>Nwe(e,kwe(t)),Fwe=at((e,{color:t,radius:n})=>({item:Mwe(Lwe({},e.fn.fontStyles()),{WebkitTapHighlightColor:"transparent",fontSize:e.fontSizes.sm,border:0,backgroundColor:"transparent",outline:0,width:"100%",textAlign:"left",textDecoration:"none",boxSizing:"border-box",padding:`${e.spacing.xs}px ${e.spacing.sm}px`,cursor:"pointer",borderRadius:e.fn.radius(n),color:t?e.fn.variant({variant:"filled",primaryFallback:!1,color:t}).background:e.colorScheme==="dark"?e.colors.dark[0]:e.black,display:"flex",alignItems:"center","&:disabled":{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5],pointerEvents:"none",userSelect:"none"},"&[data-hovered]":{backgroundColor:t?e.fn.variant({variant:"light",color:t}).background:e.colorScheme==="dark"?e.fn.rgba(e.colors.dark[3],.35):e.colors.gray[0]}}),itemLabel:{flex:1},itemIcon:{display:"flex",justifyContent:"center",alignItems:"center",marginRight:e.spacing.xs},itemRightSection:{}}));const Bwe=Fwe;var jwe=Object.defineProperty,Uwe=Object.defineProperties,Vwe=Object.getOwnPropertyDescriptors,sw=Object.getOwnPropertySymbols,hK=Object.prototype.hasOwnProperty,pK=Object.prototype.propertyIsEnumerable,BF=(e,t,n)=>t in e?jwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zwe=(e,t)=>{for(var n in t||(t={}))hK.call(t,n)&&BF(e,n,t[n]);if(sw)for(var n of sw(t))pK.call(t,n)&&BF(e,n,t[n]);return e},Hwe=(e,t)=>Uwe(e,Vwe(t)),Wwe=(e,t)=>{var n={};for(var r in e)hK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&sw)for(var r of sw(e))t.indexOf(r)<0&&pK.call(e,r)&&(n[r]=e[r]);return n};const mK=w.forwardRef((e,t)=>{var n=e,{children:r,className:i,color:s,closeMenuOnClick:o,icon:a,rightSection:u}=n,l=Wwe(n,["children","className","color","closeMenuOnClick","icon","rightSection"]);const c=Tk(),{classNames:f,styles:d,unstyled:h}=w_(),{classes:p,cx:m,theme:y}=Bwe({radius:c.radius,color:s},{name:"Menu",classNames:f,styles:d,unstyled:h}),g=w.useRef(),_=c.getItemIndex(g.current),b=l,T=el(b.onMouseLeave,()=>c.setHovered(-1)),I=el(b.onMouseEnter,()=>c.setHovered(c.getItemIndex(g.current))),E=el(b.onClick,()=>{typeof o=="boolean"?o&&c.closeDropdownImmediately():c.closeOnItemClick&&c.closeDropdownImmediately()}),S=el(b.onFocus,()=>c.setHovered(c.getItemIndex(g.current)));return k.createElement(lt,Hwe(zwe({component:"button",type:"button"},l),{tabIndex:-1,onFocus:S,className:m(p.item,i),ref:Yo(g,t),role:"menuitem","data-menu-item":!0,"data-hovered":c.hovered===_?!0:void 0,onMouseEnter:I,onMouseLeave:T,onClick:E,onKeyDown:Dfe({siblingSelector:"[data-menu-item]",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:c.loop,dir:y.dir,orientation:"vertical",onKeyDown:b.onKeydown})}),a&&k.createElement("div",{className:p.itemIcon},a),r&&k.createElement("div",{className:p.itemLabel},r),u&&k.createElement("div",{className:p.itemRightSection},u))});mK.displayName="@mantine/core/MenuItem";const qwe=mK;var Ywe=at(e=>({label:{color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],fontWeight:500,fontSize:e.fontSizes.xs,padding:`calc(${e.spacing.xs}px / 2) ${e.spacing.sm}px`,cursor:"default"}}));const Gwe=Ywe;var Kwe=Object.defineProperty,ow=Object.getOwnPropertySymbols,gK=Object.prototype.hasOwnProperty,yK=Object.prototype.propertyIsEnumerable,jF=(e,t,n)=>t in e?Kwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Qwe=(e,t)=>{for(var n in t||(t={}))gK.call(t,n)&&jF(e,n,t[n]);if(ow)for(var n of ow(t))yK.call(t,n)&&jF(e,n,t[n]);return e},Xwe=(e,t)=>{var n={};for(var r in e)gK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ow)for(var r of ow(e))t.indexOf(r)<0&&yK.call(e,r)&&(n[r]=e[r]);return n};function _K(e){var t=e,{children:n,className:r}=t,i=Xwe(t,["children","className"]);const{classNames:s,styles:o,unstyled:a}=w_(),{classes:u,cx:l}=Gwe(null,{name:"Menu",classNames:s,styles:o,unstyled:a});return k.createElement(Ct,Qwe({className:l(u.label,r)},i),n)}_K.displayName="@mantine/core/MenuLabel";var Jwe=Object.defineProperty,aw=Object.getOwnPropertySymbols,vK=Object.prototype.hasOwnProperty,bK=Object.prototype.propertyIsEnumerable,UF=(e,t,n)=>t in e?Jwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Zwe=(e,t)=>{for(var n in t||(t={}))vK.call(t,n)&&UF(e,n,t[n]);if(aw)for(var n of aw(t))bK.call(t,n)&&UF(e,n,t[n]);return e},eTe=(e,t)=>{var n={};for(var r in e)vK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&aw)for(var r of aw(e))t.indexOf(r)<0&&bK.call(e,r)&&(n[r]=e[r]);return n};const EK=w.forwardRef((e,t)=>{var n=e,{children:r,refProp:i="ref"}=n,s=eTe(n,["children","refProp"]);if(!v_(r))throw new Error(lK.children);const o=Tk(),a=el(r.props.onClick,()=>o.trigger==="click"&&o.toggleDropdown()),u=el(r.props.onMouseEnter,()=>o.trigger==="hover"&&o.openDropdown()),l=el(r.props.onMouseLeave,()=>o.trigger==="hover"&&o.closeDropdown());return k.createElement(Vl.Target,Zwe({refProp:i,popupType:"menu",ref:t},s),w.cloneElement(r,{onClick:a,onMouseEnter:u,onMouseLeave:l,"data-expanded":o.opened?!0:void 0}))});EK.displayName="@mantine/core/MenuTarget";var tTe=at({dropdown:{padding:4}});const nTe=tTe;var rTe=Object.defineProperty,iTe=Object.defineProperties,sTe=Object.getOwnPropertyDescriptors,uw=Object.getOwnPropertySymbols,wK=Object.prototype.hasOwnProperty,TK=Object.prototype.propertyIsEnumerable,VF=(e,t,n)=>t in e?rTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zF=(e,t)=>{for(var n in t||(t={}))wK.call(t,n)&&VF(e,n,t[n]);if(uw)for(var n of uw(t))TK.call(t,n)&&VF(e,n,t[n]);return e},HF=(e,t)=>iTe(e,sTe(t)),oTe=(e,t)=>{var n={};for(var r in e)wK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&uw)for(var r of uw(e))t.indexOf(r)<0&&TK.call(e,r)&&(n[r]=e[r]);return n};const aTe={closeOnItemClick:!0,loop:!0,trigger:"click",openDelay:0,closeDelay:100};function No(e){const t=ht("Menu",aTe,e),{children:n,onOpen:r,onClose:i,opened:s,defaultOpened:o,onChange:a,closeOnItemClick:u,loop:l,closeOnEscape:c,trigger:f,openDelay:d,closeDelay:h,classNames:p,styles:m,unstyled:y,radius:g}=t,_=oTe(t,["children","onOpen","onClose","opened","defaultOpened","onChange","closeOnItemClick","loop","closeOnEscape","trigger","openDelay","closeDelay","classNames","styles","unstyled","radius"]),{classes:b,cx:T}=nTe(),[I,{setHovered:E,resetHovered:S}]=Ffe(),[A,L]=xa({value:s,defaultValue:o,finalValue:!1,onChange:a}),W=()=>{L(!1),A&&(i==null||i())},z=()=>{L(!0),!A&&(r==null||r())},U=()=>A?W():z(),{openDropdown:Z,closeDropdown:H}=bEe({open:z,close:W,closeDelay:h,openDelay:d}),ue=ie=>$fe("[data-menu-item]","[data-menu-dropdown]",ie);return co(()=>{S()},[A]),k.createElement(Cwe,{value:{opened:A,toggleDropdown:U,getItemIndex:ue,hovered:I,setHovered:E,closeOnItemClick:u,closeDropdown:f==="click"?W:H,openDropdown:f==="click"?z:Z,closeDropdownImmediately:W,loop:l,trigger:f,radius:g}},k.createElement(Vl,HF(zF({},_),{radius:g,opened:A,onChange:L,defaultOpened:o,trapFocus:f==="click",closeOnEscape:c&&f==="click",__staticSelector:"Menu",classNames:HF(zF({},p),{dropdown:T(b.dropdown,p==null?void 0:p.dropdown)}),styles:m,unstyled:y,onClose:W,onOpen:z}),n))}No.displayName="@mantine/core/Menu";No.Item=qwe;No.Label=_K;No.Dropdown=dK;No.Target=EK;No.Divider=uK;var uTe=Object.defineProperty,WF=Object.getOwnPropertySymbols,lTe=Object.prototype.hasOwnProperty,cTe=Object.prototype.propertyIsEnumerable,qF=(e,t,n)=>t in e?uTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fTe=(e,t)=>{for(var n in t||(t={}))lTe.call(t,n)&&qF(e,n,t[n]);if(WF)for(var n of WF(t))cTe.call(t,n)&&qF(e,n,t[n]);return e};const dTe={xs:320,sm:380,md:440,lg:620,xl:780};function hTe(e){return e?{position:"absolute",top:0,left:0,right:0,bottom:0,maxHeight:"100vh",overflowY:"auto"}:{}}var pTe=at((e,{overflow:t,size:n,centered:r,zIndex:i,fullScreen:s})=>({close:{},overlay:{display:s?"none":void 0},root:{position:"fixed",zIndex:i,top:0,left:0,right:0,bottom:0},inner:{position:"absolute",top:0,left:0,right:0,bottom:0,overflowY:"auto",padding:s?0:`${e.spacing.xl*2}px ${e.spacing.md}px`,display:"flex",justifyContent:"center",alignItems:r?"center":"flex-start"},title:{marginRight:e.spacing.md,textOverflow:"ellipsis",display:"block",wordBreak:"break-word"},modal:fTe({position:"relative",width:s?"100vw":e.fn.size({sizes:dTe,size:n}),borderRadius:s?0:void 0,outline:0,backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white,marginTop:r?"auto":void 0,marginBottom:r?"auto":void 0,zIndex:1},hTe(s)),header:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:e.spacing.md,marginRight:-9},body:{maxHeight:t==="inside"?"calc(100vh - 185px)":null,overflowY:t==="inside"?"auto":null,wordBreak:"break-word"}}));const mTe=pTe;var gTe=Object.defineProperty,lw=Object.getOwnPropertySymbols,SK=Object.prototype.hasOwnProperty,IK=Object.prototype.propertyIsEnumerable,YF=(e,t,n)=>t in e?gTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yTe=(e,t)=>{for(var n in t||(t={}))SK.call(t,n)&&YF(e,n,t[n]);if(lw)for(var n of lw(t))IK.call(t,n)&&YF(e,n,t[n]);return e},_Te=(e,t)=>{var n={};for(var r in e)SK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&lw)for(var r of lw(e))t.indexOf(r)<0&&IK.call(e,r)&&(n[r]=e[r]);return n};const vTe={size:"md",transitionDuration:250,overflow:"outside",padding:"lg",shadow:"lg",closeOnClickOutside:!0,closeOnEscape:!0,trapFocus:!0,withCloseButton:!0,withinPortal:!0,lockScroll:!0,withFocusReturn:!0,overlayBlur:0,zIndex:wo("modal"),exitTransitionDuration:0};function WS(e){const t=ht("Modal",vTe,e),{className:n,opened:r,title:i,onClose:s,children:o,withCloseButton:a,overlayOpacity:u,size:l,transitionDuration:c,exitTransitionDuration:f,closeButtonLabel:d,overlayColor:h,overflow:p,transition:m,padding:y,shadow:g,radius:_,id:b,classNames:T,styles:I,closeOnClickOutside:E,trapFocus:S,closeOnEscape:A,centered:L,target:W,withinPortal:z,zIndex:U,overlayBlur:Z,transitionTimingFunction:H,fullScreen:ue,unstyled:ie,lockScroll:_e,withFocusReturn:te}=t,oe=_Te(t,["className","opened","title","onClose","children","withCloseButton","overlayOpacity","size","transitionDuration","exitTransitionDuration","closeButtonLabel","overlayColor","overflow","transition","padding","shadow","radius","id","classNames","styles","closeOnClickOutside","trapFocus","closeOnEscape","centered","target","withinPortal","zIndex","overlayBlur","transitionTimingFunction","fullScreen","unstyled","lockScroll","withFocusReturn"]),J=Du(b),x=`${J}-title`,C=`${J}-body`,{classes:B,cx:P,theme:O}=mTe({size:l,overflow:p,centered:L,zIndex:U,fullScreen:ue},{unstyled:ie,classNames:T,styles:I,name:"Modal"}),Y=kW(S&&r),fe=w.useRef(null),le=Yo(Y,fe),me=typeof u=="number"?u:O.colorScheme==="dark"?.85:.75;ape(_e&&r);const ge=st=>{!S&&st.key==="Escape"&&A&&s()};w.useEffect(()=>{if(!S)return window.addEventListener("keydown",ge),()=>window.removeEventListener("keydown",ge)},[S]),OW({opened:r,shouldReturnFocus:S&&te});const Se=w.useRef(null);SP("mousedown",st=>{Se.current=st.target});const de=()=>{Se.current===fe.current&&E&&s()};return k.createElement(T_,{withinPortal:z,target:W},k.createElement(DG,{mounted:r,duration:c,exitDuration:f,timingFunction:H,transitions:{modal:{duration:c,transition:m||(ue?"fade":"pop")},overlay:{duration:c/2,transition:"fade",timingFunction:"ease"}}},st=>k.createElement(k.Fragment,null,k.createElement(lt,yTe({id:J,className:P(B.root,n)},oe),k.createElement("div",{style:st.overlay},k.createElement(Wbe,{className:B.overlay,sx:{position:"fixed"},zIndex:0,blur:Z,color:h||(O.colorScheme==="dark"?O.colors.dark[9]:O.black),opacity:me,unstyled:ie})),k.createElement("div",{role:"presentation",className:B.inner,onClick:de,onKeyDown:Ke=>{var qe;((qe=Ke.target)==null?void 0:qe.getAttribute("data-mantine-stop-propagation"))!=="true"&&Ke.key==="Escape"&&A&&s()},ref:le},k.createElement(_d,{className:B.modal,shadow:g,p:y,radius:_,role:"dialog","aria-labelledby":x,"aria-describedby":C,"aria-modal":!0,tabIndex:-1,style:st.modal,unstyled:ie,onClick:Ke=>Ke.stopPropagation()},(i||a)&&k.createElement("div",{className:B.header},k.createElement(Ct,{id:x,className:B.title},i),a&&k.createElement(LS,{iconSize:16,onClick:s,"aria-label":d,className:B.close})),k.createElement("div",{id:C,className:B.body},o)))))))}WS.displayName="@mantine/core/Modal";const bTe={xs:16,sm:22,md:26,lg:30,xl:36},ETe={xs:10,sm:12,md:14,lg:16,xl:18};var wTe=at((e,{size:t,disabled:n,radius:r,readOnly:i,variant:s})=>({defaultValue:{display:"flex",alignItems:"center",backgroundColor:n?e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[3]:e.colorScheme==="dark"?e.colors.dark[7]:s==="filled"?e.white:e.colors.gray[1],color:n?e.colorScheme==="dark"?e.colors.dark[1]:e.colors.gray[7]:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[7],height:e.fn.size({size:t,sizes:bTe}),paddingLeft:e.fn.size({size:t,sizes:e.spacing}),paddingRight:n||i?e.fn.size({size:t,sizes:e.spacing}):0,fontWeight:500,fontSize:e.fn.size({size:t,sizes:ETe}),borderRadius:e.fn.size({size:r,sizes:e.radius}),cursor:n?"not-allowed":"default",userSelect:"none",maxWidth:"calc(100% - 20px)"},defaultValueRemove:{color:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[7],marginLeft:e.fn.size({size:t,sizes:e.spacing})/6},defaultValueLabel:{display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}));const TTe=wTe;var STe=Object.defineProperty,cw=Object.getOwnPropertySymbols,xK=Object.prototype.hasOwnProperty,CK=Object.prototype.propertyIsEnumerable,GF=(e,t,n)=>t in e?STe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ITe=(e,t)=>{for(var n in t||(t={}))xK.call(t,n)&&GF(e,n,t[n]);if(cw)for(var n of cw(t))CK.call(t,n)&&GF(e,n,t[n]);return e},xTe=(e,t)=>{var n={};for(var r in e)xK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&cw)for(var r of cw(e))t.indexOf(r)<0&&CK.call(e,r)&&(n[r]=e[r]);return n};const KF={xs:16,sm:22,md:24,lg:26,xl:30};function AK(e){var t=e,{label:n,classNames:r,styles:i,className:s,onRemove:o,disabled:a,readOnly:u,size:l,radius:c="sm",variant:f}=t,d=xTe(t,["label","classNames","styles","className","onRemove","disabled","readOnly","size","radius","variant"]);const{classes:h,cx:p}=TTe({size:l,disabled:a,readOnly:u,radius:c,variant:f},{classNames:r,styles:i,name:"MultiSelect"});return k.createElement("div",ITe({className:p(h.defaultValue,s)},d),k.createElement("span",{className:h.defaultValueLabel},n),!a&&!u&&k.createElement(LS,{"aria-hidden":!0,onMouseDown:o,size:KF[l],radius:2,color:"blue",variant:"transparent",iconSize:KF[l]/2,className:h.defaultValueRemove,tabIndex:-1}))}AK.displayName="@mantine/core/MultiSelect/DefaultValue";function CTe({data:e,searchable:t,limit:n,searchValue:r,filter:i,value:s}){if(!t&&s.length===0)return e;if(!t){const a=[];for(let u=0;u<e.length;u+=1)s.some(l=>l===e[u].value&&!e[u].disabled)||a.push(e[u]);return a}const o=[];for(let a=0;a<e.length&&(i(r,s.some(u=>u===e[a].value&&!e[a].disabled),e[a])&&o.push(e[a]),!(o.length>=n));a+=1);return o}var ATe=Object.defineProperty,fw=Object.getOwnPropertySymbols,OK=Object.prototype.hasOwnProperty,PK=Object.prototype.propertyIsEnumerable,QF=(e,t,n)=>t in e?ATe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,XF=(e,t)=>{for(var n in t||(t={}))OK.call(t,n)&&QF(e,n,t[n]);if(fw)for(var n of fw(t))PK.call(t,n)&&QF(e,n,t[n]);return e},OTe=(e,t)=>{var n={};for(var r in e)OK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&fw)for(var r of fw(e))t.indexOf(r)<0&&PK.call(e,r)&&(n[r]=e[r]);return n};const PTe={xs:14,sm:18,md:20,lg:24,xl:28};function RTe(e){var t=e,{size:n,error:r,style:i}=t,s=OTe(t,["size","error","style"]);const o=ts(),a=o.fn.size({size:n,sizes:PTe});return k.createElement("svg",XF({width:a,height:a,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:XF({color:r?o.colors.red[6]:o.colors.gray[6]},i),"data-chevron":!0},s),k.createElement("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function RK({shouldClear:e,clearButtonLabel:t,onClear:n,size:r,error:i,clearButtonTabIndex:s}){return e?k.createElement(LS,{variant:"transparent","aria-label":t,onClick:n,size:r,tabIndex:s,onMouseDown:o=>o.preventDefault()}):k.createElement(RTe,{error:i,size:r})}RK.displayName="@mantine/core/SelectRightSection";var NTe=Object.defineProperty,kTe=Object.defineProperties,DTe=Object.getOwnPropertyDescriptors,dw=Object.getOwnPropertySymbols,NK=Object.prototype.hasOwnProperty,kK=Object.prototype.propertyIsEnumerable,JF=(e,t,n)=>t in e?NTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$C=(e,t)=>{for(var n in t||(t={}))NK.call(t,n)&&JF(e,n,t[n]);if(dw)for(var n of dw(t))kK.call(t,n)&&JF(e,n,t[n]);return e},ZF=(e,t)=>kTe(e,DTe(t)),$Te=(e,t)=>{var n={};for(var r in e)NK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&dw)for(var r of dw(e))t.indexOf(r)<0&&kK.call(e,r)&&(n[r]=e[r]);return n};const LTe={xs:24,sm:30,md:34,lg:44,xl:54};function DK(e){var t=e,{styles:n,rightSection:r,rightSectionWidth:i,theme:s}=t,o=$Te(t,["styles","rightSection","rightSectionWidth","theme"]);if(r)return{rightSection:r,rightSectionWidth:i,styles:n};const a=typeof n=="function"?n(s):n;return{rightSectionWidth:s.fn.size({size:o.size,sizes:LTe}),rightSection:!o.readOnly&&!(o.disabled&&o.shouldClear)&&k.createElement(RK,$C({},o)),styles:ZF($C({},a),{rightSection:ZF($C({},a==null?void 0:a.rightSection),{pointerEvents:o.shouldClear?void 0:"none"})})}}var MTe=Object.defineProperty,FTe=Object.defineProperties,BTe=Object.getOwnPropertyDescriptors,e8=Object.getOwnPropertySymbols,jTe=Object.prototype.hasOwnProperty,UTe=Object.prototype.propertyIsEnumerable,t8=(e,t,n)=>t in e?MTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,VTe=(e,t)=>{for(var n in t||(t={}))jTe.call(t,n)&&t8(e,n,t[n]);if(e8)for(var n of e8(t))UTe.call(t,n)&&t8(e,n,t[n]);return e},zTe=(e,t)=>FTe(e,BTe(t)),HTe=at((e,{size:t,invalid:n})=>({wrapper:{position:"relative"},values:{minHeight:e.fn.size({size:t,sizes:Ss})-2,display:"flex",alignItems:"center",flexWrap:"wrap",marginLeft:`calc(${-e.spacing.xs}px / 2)`,boxSizing:"border-box"},value:{margin:`calc(${e.spacing.xs}px / 2 - 2px) calc(${e.spacing.xs}px / 2)`},searchInput:zTe(VTe({},e.fn.fontStyles()),{flex:1,minWidth:60,backgroundColor:"transparent",border:0,outline:0,fontSize:e.fn.size({size:t,sizes:e.fontSizes}),padding:0,marginLeft:`calc(${e.spacing.xs}px / 2)`,appearance:"none",color:"inherit",lineHeight:`${e.fn.size({size:t,sizes:Ss})-2}px`,"&::placeholder":{opacity:1,color:n?e.colors.red[e.colorScheme==="dark"?6:7]:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]},"&:disabled":{cursor:"not-allowed"}}),searchInputEmpty:{width:"100%"},searchInputInputHidden:{width:0,height:0,margin:0,overflow:"hidden"},searchInputPointer:{cursor:"pointer","&:disabled":{cursor:"not-allowed"}},input:{cursor:"pointer","&:disabled":{cursor:"not-allowed"}}}));const WTe=HTe;var qTe=Object.defineProperty,YTe=Object.defineProperties,GTe=Object.getOwnPropertyDescriptors,hw=Object.getOwnPropertySymbols,$K=Object.prototype.hasOwnProperty,LK=Object.prototype.propertyIsEnumerable,n8=(e,t,n)=>t in e?qTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vh=(e,t)=>{for(var n in t||(t={}))$K.call(t,n)&&n8(e,n,t[n]);if(hw)for(var n of hw(t))LK.call(t,n)&&n8(e,n,t[n]);return e},r8=(e,t)=>YTe(e,GTe(t)),KTe=(e,t)=>{var n={};for(var r in e)$K.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&hw)for(var r of hw(e))t.indexOf(r)<0&&LK.call(e,r)&&(n[r]=e[r]);return n};function QTe(e,t,n){return t?!1:n.label.toLowerCase().trim().includes(e.toLowerCase().trim())}function XTe(e,t){return!!e&&!t.some(n=>n.value.toLowerCase()===e.toLowerCase())}function i8(e,t){if(!Array.isArray(e))return;if(t.length===0)return[];const n=typeof t[0]=="object"?t.map(r=>r.value):t;return e.filter(r=>n.includes(r))}const JTe={size:"sm",valueComponent:AK,itemComponent:ok,transition:"pop-top-left",transitionDuration:0,maxDropdownHeight:220,shadow:"sm",searchable:!1,filter:QTe,limit:1/0,clearSearchOnChange:!0,clearable:!1,clearSearchOnBlur:!1,disabled:!1,initiallyOpened:!1,creatable:!1,shouldCreate:XTe,switchDirectionOnFlip:!1,zIndex:wo("popover"),selectOnBlur:!1,clearButtonTabIndex:0,positionDependencies:[]},MK=w.forwardRef((e,t)=>{const n=ht("MultiSelect",JTe,e),{className:r,style:i,required:s,label:o,description:a,size:u,error:l,classNames:c,styles:f,wrapperProps:d,value:h,defaultValue:p,data:m,onChange:y,valueComponent:g,itemComponent:_,id:b,transition:T,transitionDuration:I,transitionTimingFunction:E,maxDropdownHeight:S,shadow:A,nothingFound:L,onFocus:W,onBlur:z,searchable:U,placeholder:Z,filter:H,limit:ue,clearSearchOnChange:ie,clearable:_e,clearSearchOnBlur:te,clearButtonLabel:oe,variant:J,onSearchChange:x,searchValue:C,disabled:B,initiallyOpened:P,radius:O,icon:Y,rightSection:fe,rightSectionWidth:le,creatable:me,getCreateLabel:ge,shouldCreate:Se,onCreate:de,sx:st,dropdownComponent:Ke,onDropdownClose:qe,onDropdownOpen:$e,maxSelectedValues:ot,withinPortal:ut,switchDirectionOnFlip:On,zIndex:Ue,selectOnBlur:Be,name:bt,dropdownPosition:je,errorProps:gt,labelProps:Gt,descriptionProps:an,clearButtonTabIndex:Gn,form:ce,positionDependencies:we,onKeyDown:Le,unstyled:rt,inputContainer:De,inputWrapperOrder:it,readOnly:Me,withAsterisk:Ze}=n,bn=KTe(n,["className","style","required","label","description","size","error","classNames","styles","wrapperProps","value","defaultValue","data","onChange","valueComponent","itemComponent","id","transition","transitionDuration","transitionTimingFunction","maxDropdownHeight","shadow","nothingFound","onFocus","onBlur","searchable","placeholder","filter","limit","clearSearchOnChange","clearable","clearSearchOnBlur","clearButtonLabel","variant","onSearchChange","searchValue","disabled","initiallyOpened","radius","icon","rightSection","rightSectionWidth","creatable","getCreateLabel","shouldCreate","onCreate","sx","dropdownComponent","onDropdownClose","onDropdownOpen","maxSelectedValues","withinPortal","switchDirectionOnFlip","zIndex","selectOnBlur","name","dropdownPosition","errorProps","labelProps","descriptionProps","clearButtonTabIndex","form","positionDependencies","onKeyDown","unstyled","inputContainer","inputWrapperOrder","readOnly","withAsterisk"]),{classes:Wt,cx:St,theme:Bn}=WTe({size:u,invalid:!!l},{classNames:c,styles:f,unstyled:rt,name:"MultiSelect"}),{systemStyles:En,rest:na}=Xd(bn),fr=w.useRef(),Mi=w.useRef(),vr=w.useRef({}),$r=Du(b),[dr,jn]=w.useState(P),[Zt,ri]=w.useState(-1),[br,Lr]=w.useState("column"),[yi,ms]=xa({value:C,defaultValue:"",finalValue:void 0,onChange:x}),[K,j]=w.useState(!1),{scrollIntoView:X,targetRef:pe,scrollableRef:he}=LW({duration:0,offset:5,cancelable:!1,isList:!0}),He=me&&typeof ge=="function";let Te=null;const Ve=m.map(Ye=>typeof Ye=="string"?{label:Ye,value:Ye}:Ye),ct=eW({data:Ve}),[Je,mt]=xa({value:i8(h,m),defaultValue:i8(p,m),finalValue:[],onChange:y}),Lt=w.useRef(!!ot&&ot<Je.length),$n=Ye=>{if(!Me){const zt=Je.filter(Hn=>Hn!==Ye);mt(zt),ot&&zt.length<ot&&(Lt.current=!1)}},pt=Ye=>{ms(Ye.currentTarget.value),!B&&!Lt.current&&U&&jn(!0)},xn=Ye=>{typeof W=="function"&&W(Ye),!B&&!Lt.current&&U&&jn(!0)},Et=CTe({data:ct,searchable:U,searchValue:yi,limit:ue,filter:H,value:Je}),mn=(Ye,zt,Hn)=>{let ii=Ye;for(;Hn(ii);)if(ii=zt(ii),!Et[ii].disabled)return ii;return Ye};co(()=>{ri(-1)},[yi]),co(()=>{!B&&Je.length>m.length&&jn(!1),ot&&Je.length<ot&&(Lt.current=!1),ot&&Je.length>=ot&&(Lt.current=!0,jn(!1))},[Je]);const tr=Ye=>{if(!Me)if(ie&&ms(""),Je.includes(Ye.value))$n(Ye.value);else{if(Ye.creatable&&typeof de=="function"){const zt=de(Ye.value);typeof zt<"u"&&zt!==null&&mt(typeof zt=="string"?[...Je,zt]:[...Je,zt.value])}else mt([...Je,Ye.value]);Je.length===ot-1&&(Lt.current=!0,jn(!1)),Zt===Et.length-1&&ri(Et.length-2),Et.length===1&&jn(!1)}},Wr=Ye=>{typeof z=="function"&&z(Ye),Be&&Et[Zt]&&dr&&tr(Et[Zt]),te&&ms(""),jn(!1)},Pr=Ye=>{if(K||(Le==null||Le(Ye),Me)||Ye.key!=="Backspace"&&ot&&Lt.current)return;const zt=br==="column",Hn=()=>{ri(gs=>{var R;const G=mn(gs,M=>M+1,M=>M<Et.length-1);return dr&&(pe.current=vr.current[(R=Et[G])==null?void 0:R.value],X({alignment:zt?"end":"start"})),G})},ii=()=>{ri(gs=>{var R;const G=mn(gs,M=>M-1,M=>M>0);return dr&&(pe.current=vr.current[(R=Et[G])==null?void 0:R.value],X({alignment:zt?"start":"end"})),G})};switch(Ye.key){case"ArrowUp":{Ye.preventDefault(),jn(!0),zt?ii():Hn();break}case"ArrowDown":{Ye.preventDefault(),jn(!0),zt?Hn():ii();break}case"Enter":{Ye.preventDefault(),Et[Zt]&&dr?tr(Et[Zt]):jn(!0);break}case" ":{U||(Ye.preventDefault(),Et[Zt]&&dr?tr(Et[Zt]):jn(!0));break}case"Backspace":{Je.length>0&&yi.length===0&&(mt(Je.slice(0,-1)),jn(!0),ot&&(Lt.current=!1));break}case"Home":{if(!U){Ye.preventDefault(),dr||jn(!0);const gs=Et.findIndex(R=>!R.disabled);ri(gs),X({alignment:zt?"end":"start"})}break}case"End":{if(!U){Ye.preventDefault(),dr||jn(!0);const gs=Et.map(R=>!!R.disabled).lastIndexOf(!1);ri(gs),X({alignment:zt?"end":"start"})}break}case"Escape":jn(!1)}},is=Je.map(Ye=>{let zt=ct.find(Hn=>Hn.value===Ye&&!Hn.disabled);return!zt&&He&&(zt={value:Ye,label:Ye}),zt}).filter(Ye=>!!Ye).map(Ye=>k.createElement(g,r8(vh({},Ye),{variant:J,disabled:B,className:Wt.value,readOnly:Me,onRemove:zt=>{zt.preventDefault(),zt.stopPropagation(),$n(Ye.value)},key:Ye.value,size:u,styles:f,classNames:c,radius:O}))),_i=()=>{var Ye;ms(""),mt([]),(Ye=fr.current)==null||Ye.focus(),ot&&(Lt.current=!1)};He&&Se(yi,ct)&&(Te=ge(yi),Et.push({label:yi,value:yi,creatable:!0}));const hr=!Me&&(Et.length>0?dr:dr&&!!L);return co(()=>{const Ye=hr?$e:qe;typeof Ye=="function"&&Ye()},[hr]),k.createElement(Bs.Wrapper,vh(vh({required:s,id:$r,label:o,error:l,description:a,size:u,className:r,style:i,classNames:c,styles:f,__staticSelector:"MultiSelect",sx:st,errorProps:gt,descriptionProps:an,labelProps:Gt,inputContainer:De,inputWrapperOrder:it,unstyled:rt,withAsterisk:Ze},En),d),k.createElement(Fc,{opened:hr,transition:T,transitionDuration:I,shadow:"sm",withinPortal:ut,__staticSelector:"MultiSelect",onDirectionChange:Lr,switchDirectionOnFlip:On,zIndex:Ue,dropdownPosition:je,positionDependencies:we,classNames:c,styles:f,unstyled:rt},k.createElement(Fc.Target,null,k.createElement("div",{className:Wt.wrapper,role:"combobox","aria-haspopup":"listbox","aria-owns":dr&&hr?`${$r}-items`:null,"aria-controls":$r,"aria-expanded":dr,onMouseLeave:()=>ri(-1),tabIndex:-1,ref:Mi},k.createElement("input",{type:"hidden",name:bt,value:Je.join(","),form:ce,disabled:B}),k.createElement(Bs,vh({__staticSelector:"MultiSelect",style:{overflow:"hidden"},component:"div",multiline:!0,size:u,variant:J,disabled:B,invalid:!!l,required:s,radius:O,icon:Y,unstyled:rt,onMouseDown:Ye=>{var zt;Ye.preventDefault(),!B&&!Lt.current&&jn(!dr),(zt=fr.current)==null||zt.focus()},classNames:r8(vh({},c),{input:St({[Wt.input]:!U},c==null?void 0:c.input)})},DK({theme:Bn,rightSection:fe,rightSectionWidth:le,styles:f,size:u,shouldClear:_e&&Je.length>0,clearButtonLabel:oe,onClear:_i,error:l,disabled:B,clearButtonTabIndex:Gn,readOnly:Me})),k.createElement("div",{className:Wt.values},is,k.createElement("input",vh({ref:Yo(t,fr),type:"search",id:$r,className:St(Wt.searchInput,{[Wt.searchInputPointer]:!U,[Wt.searchInputInputHidden]:!dr&&Je.length>0||!U&&Je.length>0,[Wt.searchInputEmpty]:Je.length===0}),onKeyDown:Pr,value:yi,onChange:pt,onFocus:xn,onBlur:Wr,readOnly:!U||Lt.current||Me,placeholder:Je.length===0?Z:void 0,disabled:B,"data-mantine-stop-propagation":dr,autoComplete:"off",onCompositionStart:()=>j(!0),onCompositionEnd:()=>j(!1)},na)))))),k.createElement(Fc.Dropdown,{component:Ke||US,maxHeight:S,direction:br,id:$r,innerRef:he,__staticSelector:"MultiSelect",classNames:c,styles:f},k.createElement(sk,{data:Et,hovered:Zt,classNames:c,styles:f,uuid:$r,__staticSelector:"MultiSelect",onItemHover:ri,onItemSelect:tr,itemsRefs:vr,itemComponent:_,size:u,nothingFound:L,creatable:me&&!!Te,createLabel:Te,unstyled:rt}))))});MK.displayName="@mantine/core/MultiSelect";const ZTe=(e,t,n)=>Number.isInteger(e)&&e>=0&&t===0?"numeric":!Number.isInteger(e)&&e>=0&&t!==0?"decimal":Number.isInteger(e)&&e<0&&t===0||!Number.isInteger(e)&&e<0&&t!==0?n==="ios"?"text":"decimal":"numeric";function s8({direction:e,size:t}){return k.createElement("svg",{style:{transform:e==="up"?"rotate(180deg)":void 0},width:t,height:t,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},k.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}const FK={xs:20,sm:24,md:30,lg:34,xl:36};var eSe=at((e,{radius:t,size:n})=>({rightSection:{display:"flex",flexDirection:"column",height:"calc(100% - 2px)",margin:1,marginRight:1,overflow:"hidden",borderTopRightRadius:e.fn.radius(t),borderBottomRightRadius:e.fn.radius(t)},control:{margin:0,position:"relative",flex:"0 0 50%",display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",width:e.fn.size({size:n,sizes:FK}),padding:0,WebkitTapHighlightColor:"transparent",borderBottom:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,borderLeft:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,borderTop:0,borderRight:0,backgroundColor:"transparent",marginRight:1,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,"&:not(:disabled):hover":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[0]},"&:disabled":{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4]}},controlUp:{},controlDown:{borderBottom:0}}));const tSe=eSe;var nSe=Object.defineProperty,rSe=Object.defineProperties,iSe=Object.getOwnPropertyDescriptors,pw=Object.getOwnPropertySymbols,BK=Object.prototype.hasOwnProperty,jK=Object.prototype.propertyIsEnumerable,o8=(e,t,n)=>t in e?nSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,LC=(e,t)=>{for(var n in t||(t={}))BK.call(t,n)&&o8(e,n,t[n]);if(pw)for(var n of pw(t))jK.call(t,n)&&o8(e,n,t[n]);return e},sSe=(e,t)=>rSe(e,iSe(t)),oSe=(e,t)=>{var n={};for(var r in e)BK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&pw)for(var r of pw(e))t.indexOf(r)<0&&jK.call(e,r)&&(n[r]=e[r]);return n};const aSe={type:"text",size:"sm",__staticSelector:"TextInput"},Sk=w.forwardRef((e,t)=>{const n=LY("TextInput",aSe,e),{inputProps:r,wrapperProps:i}=n,s=oSe(n,["inputProps","wrapperProps"]);return k.createElement(Bs.Wrapper,LC({},i),k.createElement(Bs,sSe(LC(LC({},r),s),{ref:t})))});Sk.displayName="@mantine/core/TextInput";var uSe=Object.defineProperty,lSe=Object.defineProperties,cSe=Object.getOwnPropertyDescriptors,mw=Object.getOwnPropertySymbols,UK=Object.prototype.hasOwnProperty,VK=Object.prototype.propertyIsEnumerable,a8=(e,t,n)=>t in e?uSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fSe=(e,t)=>{for(var n in t||(t={}))UK.call(t,n)&&a8(e,n,t[n]);if(mw)for(var n of mw(t))VK.call(t,n)&&a8(e,n,t[n]);return e},dSe=(e,t)=>lSe(e,cSe(t)),hSe=(e,t)=>{var n={};for(var r in e)UK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&mw)for(var r of mw(e))t.indexOf(r)<0&&VK.call(e,r)&&(n[r]=e[r]);return n};const pSe=e=>e||"",mSe=e=>{if(e==="-")return e;let t=e;t[0]==="."&&(t=`0${e}`);const n=parseFloat(t);if(!Number.isNaN(n))return e},u8={xs:10,sm:14,md:16,lg:18,xl:20},gSe={step:1,hideControls:!1,size:"sm",precision:0,noClampOnBlur:!1,removeTrailingZeros:!1,formatter:pSe,parser:mSe,type:"text"},zK=w.forwardRef((e,t)=>{const n=ht("NumberInput",gSe,e),{disabled:r,value:i,onChange:s,decimalSeparator:o,min:a,max:u,startValue:l,step:c,stepHoldInterval:f,stepHoldDelay:d,onBlur:h,onFocus:p,onKeyDown:m,onKeyUp:y,hideControls:g,radius:_,variant:b,precision:T,removeTrailingZeros:I,defaultValue:E,noClampOnBlur:S,handlersRef:A,classNames:L,styles:W,size:z,rightSection:U,rightSectionWidth:Z,formatter:H,parser:ue,inputMode:ie,unstyled:_e,type:te}=n,oe=hSe(n,["disabled","value","onChange","decimalSeparator","min","max","startValue","step","stepHoldInterval","stepHoldDelay","onBlur","onFocus","onKeyDown","onKeyUp","hideControls","radius","variant","precision","removeTrailingZeros","defaultValue","noClampOnBlur","handlersRef","classNames","styles","size","rightSection","rightSectionWidth","formatter","parser","inputMode","unstyled","type"]),{classes:J,cx:x,theme:C}=tSe({radius:_,size:z},{classNames:L,styles:W,unstyled:_e,name:"NumberInput"}),B=De=>{if(De===void 0)return;let it=De.toFixed(T);return I&&T>0&&(it=it.replace(new RegExp(`[0]{0,${T}}$`),""),(it.endsWith(".")||it.endsWith(o))&&(it=it.slice(0,-1))),it},[P,O]=w.useState(!1),[Y,fe]=w.useState(typeof i=="number"?i:typeof E=="number"?E:void 0),le=typeof i=="number"?i:Y,[me,ge]=w.useState(typeof le=="number"?B(le):""),Se=w.useRef(),de=De=>{De!==Y&&!Number.isNaN(De)&&(typeof s=="function"&&s(De),fe(De))},st=(De="")=>{let it=typeof De=="number"?String(De):De;return o&&(it=it.replace(/\./g,o)),H(it)},Ke=De=>{let it=De;return o&&(it=it.replace(new RegExp(`\\${o}`,"g"),".")),ue(it)},qe=typeof a=="number"?a:-1/0,$e=typeof u=="number"?u:1/0,ot=w.useRef();ot.current=()=>{var De,it,Me;if(Y===void 0)de((De=l??a)!=null?De:0),ge((Me=(it=B(l))!=null?it:B(a))!=null?Me:"0");else{const Ze=B(Lc(Y+c,qe,$e));de(parseFloat(Ze)),ge(Ze)}};const ut=w.useRef();ut.current=()=>{var De,it,Me;if(Y===void 0)de((De=l??a)!=null?De:0),ge((Me=(it=B(l))!=null?it:B(a))!=null?Me:"0");else{const Ze=B(Lc(Y-c,qe,$e));de(parseFloat(Ze)),ge(Ze)}},DW(A,{increment:ot.current,decrement:ut.current}),w.useEffect(()=>{typeof i=="number"&&!P&&(fe(i),ge(B(i))),E===void 0&&i===void 0&&!P&&(fe(i),ge(""))},[i]);const On=d!==void 0&&f!==void 0,Ue=w.useRef(null),Be=w.useRef(0),bt=()=>{Ue.current&&window.clearTimeout(Ue.current),Ue.current=null,Be.current=0},je=De=>{De?ot.current():ut.current(),Be.current+=1},gt=De=>{if(je(De),On){const it=typeof f=="number"?f:f(Be.current);Ue.current=window.setTimeout(()=>gt(De),it)}},Gt=(De,it)=>{De.preventDefault(),Se.current.focus(),je(it),On&&(Ue.current=window.setTimeout(()=>gt(it),d))};w.useEffect(()=>(bt(),bt),[]);const an=k.createElement("div",{className:J.rightSection},k.createElement("button",{type:"button",tabIndex:-1,"aria-hidden":!0,disabled:le>=u,className:x(J.control,J.controlUp),onPointerDown:De=>{Gt(De,!0)},onPointerUp:bt,onPointerLeave:bt},k.createElement(s8,{size:C.fn.size({size:z,sizes:u8}),direction:"up"})),k.createElement("button",{type:"button",tabIndex:-1,"aria-hidden":!0,disabled:le<=a,className:x(J.control,J.controlDown),onPointerDown:De=>{Gt(De,!1)},onPointerUp:bt,onPointerLeave:bt},k.createElement(s8,{size:C.fn.size({size:z,sizes:u8}),direction:"down"}))),Gn=De=>{if(De.nativeEvent.isComposing)return;const Me=De.target.value,Ze=Ke(Me);ge(Ze),Me===""||Me==="-"?de(void 0):Me.trim()!==""&&!Number.isNaN(Ze)&&de(parseFloat(Ze))},ce=De=>{var it;if(De.target.value==="")ge(""),de(void 0);else{let Me=De.target.value;(Me[0]===`${o}`||Me[0]===".")&&(Me=`0${Me}`);const Ze=Ke(Me),bn=Lc(parseFloat(Ze),qe,$e);Number.isNaN(bn)?ge((it=B(le))!=null?it:""):S||(ge(B(bn)),de(parseFloat(B(bn))))}O(!1),typeof h=="function"&&h(De)},we=De=>{O(!0),typeof p=="function"&&p(De)},Le=De=>{if(typeof m=="function"&&m(De),De.repeat&&On&&(De.key==="ArrowUp"||De.key==="ArrowDown")){De.preventDefault();return}De.key==="ArrowUp"?Gt(De,!0):De.key==="ArrowDown"&&Gt(De,!1)},rt=De=>{typeof y=="function"&&y(De),(De.key==="ArrowUp"||De.key==="ArrowDown")&&bt()};return k.createElement(Sk,dSe(fSe({},oe),{type:te,variant:b,value:st(me),disabled:r,ref:Yo(Se,t),onChange:Gn,onBlur:ce,onFocus:we,onKeyDown:Le,onKeyUp:rt,rightSection:U||(r||g||b==="unstyled"?null:an),rightSectionWidth:Z||C.fn.size({size:z,sizes:FK})+1,radius:_,max:u,min:a,step:c,size:z,styles:W,classNames:L,inputMode:ie||ZTe(c,T,lpe()),__staticSelector:"NumberInput",unstyled:_e}))});zK.displayName="@mantine/core/NumberInput";const l8={xs:3,sm:5,md:8,lg:12,xl:16},ySe=fhe({from:{backgroundPosition:"0 0"},to:{backgroundPosition:"40px 0"}});var _Se=at((e,{color:t,radius:n,size:r,striped:i,animate:s})=>({root:{position:"relative",height:e.fn.size({size:r,sizes:l8}),backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],borderRadius:e.fn.size({size:n,sizes:e.radius}),overflow:"hidden"},bar:{position:"absolute",top:0,bottom:0,left:0,height:"100%",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:e.fn.variant({variant:"filled",primaryFallback:!1,color:t||e.primaryColor}).background,transition:"width 100ms linear",animation:s?`${ySe} 1000ms linear infinite`:"none",backgroundSize:"20px 20px",backgroundImage:i?"linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent)":"none","&:last-of-type":{borderTopRightRadius:e.fn.size({size:n,sizes:e.radius}),borderBottomRightRadius:e.fn.size({size:n,sizes:e.radius})},"&:first-of-type":{borderTopLeftRadius:e.fn.size({size:n,sizes:e.radius}),borderBottomLeftRadius:e.fn.size({size:n,sizes:e.radius})},"@media (prefers-reduced-motion)":{transitionDuration:e.respectReducedMotion?"0ms":void 0}},label:{color:e.white,fontSize:e.fn.size({size:r,sizes:l8})*.65,fontWeight:700,userSelect:"none",overflow:"hidden",whiteSpace:"nowrap"}}));const vSe=_Se,HK=w.createContext(!1),bSe=HK.Provider,ESe=()=>w.useContext(HK);function WK({children:e,openDelay:t=0,closeDelay:n=0}){return k.createElement(bSe,{value:!0},k.createElement(Wye,{delay:{open:t,close:n}},e))}WK.displayName="@mantine/core/TooltipGroup";var wSe=Object.defineProperty,TSe=Object.defineProperties,SSe=Object.getOwnPropertyDescriptors,c8=Object.getOwnPropertySymbols,ISe=Object.prototype.hasOwnProperty,xSe=Object.prototype.propertyIsEnumerable,f8=(e,t,n)=>t in e?wSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,d8=(e,t)=>{for(var n in t||(t={}))ISe.call(t,n)&&f8(e,n,t[n]);if(c8)for(var n of c8(t))xSe.call(t,n)&&f8(e,n,t[n]);return e},CSe=(e,t)=>TSe(e,SSe(t));function ASe(e,t){if(!t)return{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[9],color:e.white};const n=e.fn.variant({variant:"filled",color:t,primaryFallback:!1});return{backgroundColor:n.background,color:n.color}}var OSe=at((e,{color:t,radius:n,width:r,multiline:i})=>({tooltip:CSe(d8(d8({},e.fn.fontStyles()),ASe(e,t)),{lineHeight:e.lineHeight,fontSize:e.fontSizes.sm,borderRadius:e.fn.radius(n),padding:`calc(${e.spacing.xs}px / 2) ${e.spacing.xs}px`,position:"absolute",whiteSpace:i?"unset":"nowrap",pointerEvents:"none",width:r}),arrow:{backgroundColor:"inherit",border:0,zIndex:1}}));const qK=OSe,YK={children:"Tooltip component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported"};function PSe({offset:e,position:t}){const[n,r]=w.useState(!1),i=w.useRef(),{x:s,y:o,reference:a,floating:u,refs:l,update:c,placement:f}=pk({placement:t,middleware:[fk({crossAxis:!0,padding:5,rootBoundary:"document"})]}),d=f.includes("right")?e:t.includes("left")?e*-1:0,h=f.includes("bottom")?e:t.includes("top")?e*-1:0,p=w.useCallback(({clientX:m,clientY:y})=>{a({getBoundingClientRect(){return{width:0,height:0,x:m,y,left:m+d,top:y+h,right:m,bottom:y}}})},[a]);return w.useEffect(()=>{if(l.floating.current){const m=i.current;m.addEventListener("mousemove",p);const y=fl(l.floating.current);return y.forEach(g=>{g.addEventListener("scroll",c)}),()=>{m.removeEventListener("mousemove",p),y.forEach(g=>{g.removeEventListener("scroll",c)})}}},[a,l.floating,c,p,n]),{handleMouseMove:p,x:s,y:o,opened:n,setOpened:r,boundaryRef:i,floating:u}}var RSe=Object.defineProperty,NSe=Object.defineProperties,kSe=Object.getOwnPropertyDescriptors,gw=Object.getOwnPropertySymbols,GK=Object.prototype.hasOwnProperty,KK=Object.prototype.propertyIsEnumerable,h8=(e,t,n)=>t in e?RSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,MC=(e,t)=>{for(var n in t||(t={}))GK.call(t,n)&&h8(e,n,t[n]);if(gw)for(var n of gw(t))KK.call(t,n)&&h8(e,n,t[n]);return e},FC=(e,t)=>NSe(e,kSe(t)),DSe=(e,t)=>{var n={};for(var r in e)GK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&gw)for(var r of gw(e))t.indexOf(r)<0&&KK.call(e,r)&&(n[r]=e[r]);return n};const $Se={refProp:"ref",withinPortal:!0,offset:10,position:"right",zIndex:wo("popover")};function QK(e){var t;const n=ht("TooltipFloating",$Se,e),{children:r,refProp:i,withinPortal:s,style:o,className:a,classNames:u,styles:l,unstyled:c,radius:f,color:d,label:h,offset:p,position:m,multiline:y,width:g,zIndex:_,disabled:b}=n,T=DSe(n,["children","refProp","withinPortal","style","className","classNames","styles","unstyled","radius","color","label","offset","position","multiline","width","zIndex","disabled"]),{handleMouseMove:I,x:E,y:S,opened:A,boundaryRef:L,floating:W,setOpened:z}=PSe({offset:p,position:m}),{classes:U,cx:Z}=qK({radius:f,color:d,multiline:y,width:g},{name:"Tooltip",classNames:u,styles:l,unstyled:c});if(!v_(r))throw new Error(YK.children);const H=Yo(L,r.ref),ue=_e=>{var te,oe;(oe=(te=r.props).onMouseEnter)==null||oe.call(te,_e),I(_e),z(!0)},ie=_e=>{var te,oe;(oe=(te=r.props).onMouseLeave)==null||oe.call(te,_e),z(!1)};return b?k.createElement(k.Fragment,null,r):k.createElement(k.Fragment,null,k.createElement(T_,{withinPortal:s},k.createElement(lt,FC(MC({},T),{ref:W,className:Z(U.tooltip,a),style:FC(MC({},o),{zIndex:_,display:A?"block":"none",top:S??"",left:(t=Math.round(E))!=null?t:""})}),h)),w.cloneElement(r,FC(MC({},r.props),{[i]:H,onMouseEnter:ue,onMouseLeave:ie})))}QK.displayName="@mantine/core/TooltipFloating";function LSe(e){const[t,n]=w.useState(!1),i=typeof e.opened=="boolean"?e.opened:t,s=ESe(),o=Du(),{delay:a,currentId:u,setCurrentId:l}=gY(),c=w.useCallback(A=>{n(A),A&&l(o)},[l,o]),{x:f,y:d,reference:h,floating:p,context:m,refs:y,update:g,placement:_,middlewareData:{arrow:{x:b,y:T}={}}}=pk({placement:e.position,open:i,onOpenChange:c,middleware:[iY(e.offset),fk({padding:8}),rY(),dY({element:e.arrowRef}),...e.inline?[oY()]:[]]}),{getReferenceProps:I,getFloatingProps:E}=Uye([Hye(m,{enabled:e.events.hover,delay:s?a:{open:e.openDelay,close:e.closeDelay},mouseOnly:!e.events.touch}),Xye(m,{enabled:e.events.focus,keyboardOnly:!0}),Yye(m,{role:"tooltip"}),Qye(m,{enabled:typeof e.opened===void 0}),qye(m,{id:o})]);return yY({opened:i,positionDependencies:e.positionDependencies,floating:{refs:y,update:g}}),co(()=>{var A;(A=e.onPositionChange)==null||A.call(e,_)},[_]),{x:f,y:d,arrowX:b,arrowY:T,reference:h,floating:p,getFloatingProps:E,getReferenceProps:I,isGroupPhase:i&&u&&u!==o,opened:i,placement:_}}var MSe=Object.defineProperty,FSe=Object.defineProperties,BSe=Object.getOwnPropertyDescriptors,yw=Object.getOwnPropertySymbols,XK=Object.prototype.hasOwnProperty,JK=Object.prototype.propertyIsEnumerable,p8=(e,t,n)=>t in e?MSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,C0=(e,t)=>{for(var n in t||(t={}))XK.call(t,n)&&p8(e,n,t[n]);if(yw)for(var n of yw(t))JK.call(t,n)&&p8(e,n,t[n]);return e},jSe=(e,t)=>FSe(e,BSe(t)),USe=(e,t)=>{var n={};for(var r in e)XK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&yw)for(var r of yw(e))t.indexOf(r)<0&&JK.call(e,r)&&(n[r]=e[r]);return n};const VSe={position:"top",refProp:"ref",withinPortal:!1,inline:!1,arrowSize:4,arrowOffset:5,arrowRadius:0,offset:5,transition:"fade",transitionDuration:100,width:"auto",events:{hover:!0,focus:!1,touch:!1},zIndex:wo("popover"),positionDependencies:[]},qS=w.forwardRef((e,t)=>{const n=w.useRef(null),r=ht("Tooltip",VSe,e),{children:i,position:s,refProp:o,label:a,openDelay:u,closeDelay:l,onPositionChange:c,opened:f,withinPortal:d,radius:h,color:p,classNames:m,styles:y,unstyled:g,style:_,className:b,withArrow:T,arrowSize:I,arrowOffset:E,arrowRadius:S,offset:A,transition:L,transitionDuration:W,multiline:z,width:U,events:Z,zIndex:H,disabled:ue,positionDependencies:ie,onClick:_e,onMouseEnter:te,onMouseLeave:oe,inline:J}=r,x=USe(r,["children","position","refProp","label","openDelay","closeDelay","onPositionChange","opened","withinPortal","radius","color","classNames","styles","unstyled","style","className","withArrow","arrowSize","arrowOffset","arrowRadius","offset","transition","transitionDuration","multiline","width","events","zIndex","disabled","positionDependencies","onClick","onMouseEnter","onMouseLeave","inline"]),{classes:C,cx:B,theme:P}=qK({radius:h,color:p,width:U,multiline:z},{name:"Tooltip",classNames:m,styles:y,unstyled:g}),O=LSe({position:RY(P.dir,s),closeDelay:l,openDelay:u,onPositionChange:c,opened:f,events:Z,arrowRef:n,offset:A+(T?I/2:0),positionDependencies:[...ie,i],inline:J});if(!v_(i))throw new Error(YK.children);const Y=Yo(O.reference,i.ref,t);return k.createElement(k.Fragment,null,k.createElement(T_,{withinPortal:d},k.createElement(HS,{mounted:!ue&&O.opened,transition:L,duration:O.isGroupPhase?10:W},fe=>{var le,me;return k.createElement(lt,C0(C0({},x),O.getFloatingProps({ref:O.floating,className:C.tooltip,style:jSe(C0(C0({},_),fe),{zIndex:H,top:(le=O.y)!=null?le:0,left:(me=O.x)!=null?me:0})})),a,k.createElement(mk,{ref:n,arrowX:O.arrowX,arrowY:O.arrowY,visible:T,withBorder:!1,position:O.placement,arrowSize:I,arrowOffset:E,arrowRadius:S,className:C.arrow}))})),w.cloneElement(i,O.getReferenceProps(C0({onClick:_e,onMouseEnter:te,onMouseLeave:oe,onMouseMove:e.onMouseMove,onPointerDown:e.onPointerDown,onPointerEnter:e.onPointerEnter,[o]:Y,className:B(b,i.props.className)},i.props))))});qS.Group=WK;qS.Floating=QK;qS.displayName="@mantine/core/Tooltip";const ZK=qS;var zSe=Object.defineProperty,HSe=Object.defineProperties,WSe=Object.getOwnPropertyDescriptors,_w=Object.getOwnPropertySymbols,eQ=Object.prototype.hasOwnProperty,tQ=Object.prototype.propertyIsEnumerable,m8=(e,t,n)=>t in e?zSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$P=(e,t)=>{for(var n in t||(t={}))eQ.call(t,n)&&m8(e,n,t[n]);if(_w)for(var n of _w(t))tQ.call(t,n)&&m8(e,n,t[n]);return e},nQ=(e,t)=>HSe(e,WSe(t)),g8=(e,t)=>{var n={};for(var r in e)eQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&_w)for(var r of _w(e))t.indexOf(r)<0&&tQ.call(e,r)&&(n[r]=e[r]);return n};function qSe(e){return e.reduce((t,n)=>(t.sections.push(nQ($P({},n),{accumulated:t.accumulated})),t.accumulated+=n.value,t),{accumulated:0,sections:[]}).sections}const YSe={size:"md",radius:"sm",striped:!1,animate:!1,label:""},rQ=w.forwardRef((e,t)=>{const n=ht("Progress",YSe,e),{className:r,value:i,color:s,size:o,radius:a,striped:u,animate:l,label:c,"aria-label":f,classNames:d,styles:h,sections:p,unstyled:m}=n,y=g8(n,["className","value","color","size","radius","striped","animate","label","aria-label","classNames","styles","sections","unstyled"]),{classes:g,cx:_,theme:b}=vSe({color:s,size:o,radius:a,striped:u||l,animate:l},{classNames:d,styles:h,unstyled:m,name:"Progress"}),T=Array.isArray(p)?qSe(p).map((I,E)=>{var S=I,{tooltip:A,accumulated:L,value:W,label:z,color:U}=S,Z=g8(S,["tooltip","accumulated","value","label","color"]);return k.createElement(ZK.Floating,{label:A,disabled:!A,key:E},k.createElement(lt,nQ($P({},Z),{className:_(g.bar,Z.className),sx:{width:`${W}%`,left:`${L}%`,backgroundColor:b.fn.variant({variant:"filled",primaryFallback:!1,color:U||b.primaryColor}).background}}),z&&k.createElement(Ct,{className:g.label},z)))}):null;return k.createElement(lt,$P({className:_(g.root,r),ref:t},y),T||k.createElement("div",{role:"progressbar","aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":i,"aria-label":f,className:g.bar,style:{width:`${i}%`}},c?k.createElement(Ct,{className:g.label},c):""))});rQ.displayName="@mantine/core/Progress";var GSe=Object.defineProperty,y8=Object.getOwnPropertySymbols,KSe=Object.prototype.hasOwnProperty,QSe=Object.prototype.propertyIsEnumerable,_8=(e,t,n)=>t in e?GSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,XSe=(e,t)=>{for(var n in t||(t={}))KSe.call(t,n)&&_8(e,n,t[n]);if(y8)for(var n of y8(t))QSe.call(t,n)&&_8(e,n,t[n]);return e};function JSe(e){return k.createElement("svg",XSe({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 5 5"},e),k.createElement("path",{fill:"currentColor",d:"M0 2.5a2.5 2.5 0 115 0 2.5 2.5 0 01-5 0z"}))}const iQ=w.createContext(null),ZSe=iQ.Provider,eIe=()=>w.useContext(iQ);var tIe=Object.defineProperty,vw=Object.getOwnPropertySymbols,sQ=Object.prototype.hasOwnProperty,oQ=Object.prototype.propertyIsEnumerable,v8=(e,t,n)=>t in e?tIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,b8=(e,t)=>{for(var n in t||(t={}))sQ.call(t,n)&&v8(e,n,t[n]);if(vw)for(var n of vw(t))oQ.call(t,n)&&v8(e,n,t[n]);return e},nIe=(e,t)=>{var n={};for(var r in e)sQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&vw)for(var r of vw(e))t.indexOf(r)<0&&oQ.call(e,r)&&(n[r]=e[r]);return n};const rIe={orientation:"horizontal",spacing:"lg",offset:"xs",size:"sm"},aQ=w.forwardRef((e,t)=>{const n=ht("RadioGroup",rIe,e),{children:r,value:i,defaultValue:s,onChange:o,orientation:a,spacing:u,size:l,wrapperProps:c,unstyled:f,offset:d,name:h}=n,p=nIe(n,["children","value","defaultValue","onChange","orientation","spacing","size","wrapperProps","unstyled","offset","name"]),[m,y]=xa({value:i,defaultValue:s,finalValue:"",onChange:o}),g=_=>y(_.currentTarget.value);return k.createElement(ZSe,{value:{value:m,onChange:g,size:l,name:h}},k.createElement(Bs.Wrapper,b8(b8({labelElement:"div",size:l,__staticSelector:"RadioGroup",ref:t,unstyled:f},c),p),k.createElement(EG,{spacing:u,orientation:a,unstyled:f,role:"radiogroup",offset:d},r)))});aQ.displayName="@mantine/core/RadioGroup";var iIe=Object.defineProperty,sIe=Object.defineProperties,oIe=Object.getOwnPropertyDescriptors,E8=Object.getOwnPropertySymbols,aIe=Object.prototype.hasOwnProperty,uIe=Object.prototype.propertyIsEnumerable,w8=(e,t,n)=>t in e?iIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lIe=(e,t)=>{for(var n in t||(t={}))aIe.call(t,n)&&w8(e,n,t[n]);if(E8)for(var n of E8(t))uIe.call(t,n)&&w8(e,n,t[n]);return e},cIe=(e,t)=>sIe(e,oIe(t));const BC={xs:16,sm:20,md:24,lg:30,xl:36},Kv={xs:6,sm:8,md:10,lg:14,xl:16};var fIe=at((e,{size:t,color:n,transitionDuration:r,labelPosition:i,error:s},o)=>{const a=e.fn.variant({variant:"filled",color:n}),u=e.fn.variant({variant:"filled",color:"red"}).background;return{inner:{order:i==="left"?2:1,position:"relative",alignSelf:"flex-start"},icon:{ref:o("icon"),color:e.white,opacity:0,transform:"scale(0.75) translateY(2px)",transition:`opacity ${r}ms ${e.transitionTimingFunction}`,pointerEvents:"none",width:e.fn.size({sizes:Kv,size:t}),height:e.fn.size({sizes:Kv,size:t}),position:"absolute",top:`calc(50% - ${e.fn.size({sizes:Kv,size:t})/2}px)`,left:`calc(50% - ${e.fn.size({sizes:Kv,size:t})/2}px)`},radio:cIe(lIe({},e.fn.focusStyles()),{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white,border:`1px solid ${s?u:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,position:"relative",appearance:"none",width:e.fn.size({sizes:BC,size:t}),height:e.fn.size({sizes:BC,size:t}),borderRadius:e.fn.size({sizes:BC,size:t}),margin:0,display:"flex",alignItems:"center",justifyContent:"center",transitionProperty:"background-color, border-color",transitionTimingFunction:e.transitionTimingFunction,transitionDuration:`${r}ms`,cursor:e.cursorType,"&:checked":{background:a.background,borderColor:a.background,[`& + .${o("icon")}`]:{opacity:1,transform:"scale(1)"}},"&:disabled":{borderColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[4],backgroundColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[1],[`& + .${o("icon")}`]:{color:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[4]}}})}});const dIe=fIe;var hIe=Object.defineProperty,bw=Object.getOwnPropertySymbols,uQ=Object.prototype.hasOwnProperty,lQ=Object.prototype.propertyIsEnumerable,T8=(e,t,n)=>t in e?hIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Qv=(e,t)=>{for(var n in t||(t={}))uQ.call(t,n)&&T8(e,n,t[n]);if(bw)for(var n of bw(t))lQ.call(t,n)&&T8(e,n,t[n]);return e},pIe=(e,t)=>{var n={};for(var r in e)uQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&bw)for(var r of bw(e))t.indexOf(r)<0&&lQ.call(e,r)&&(n[r]=e[r]);return n};const mIe={icon:JSe,transitionDuration:100,size:"sm",labelPosition:"right"},Ew=w.forwardRef((e,t)=>{var n,r;const i=ht("Radio",mIe,e),{className:s,style:o,id:a,label:u,size:l,title:c,disabled:f,color:d,classNames:h,styles:p,sx:m,icon:y,transitionDuration:g,wrapperProps:_,unstyled:b,labelPosition:T,description:I,error:E}=i,S=pIe(i,["className","style","id","label","size","title","disabled","color","classNames","styles","sx","icon","transitionDuration","wrapperProps","unstyled","labelPosition","description","error"]),A=eIe(),L=(n=A==null?void 0:A.size)!=null?n:l,W=e.size?l:L,{classes:z}=dIe({color:d,size:W,transitionDuration:g,labelPosition:T,error:!!E},{classNames:h,styles:p,unstyled:b,name:"Radio"}),{systemStyles:U,rest:Z}=Xd(S),H=Du(a),ue=A?{checked:A.value===Z.value,name:(r=Z.name)!=null?r:A.name,onChange:A.onChange}:{};return k.createElement(Ek,Qv(Qv({className:s,sx:m,style:o,id:H,size:W,labelPosition:T,label:u,description:I,error:E,disabled:f,__staticSelector:"Radio",classNames:h,styles:p,unstyled:b,"data-checked":ue.checked||void 0},U),_),k.createElement("div",{className:z.inner},k.createElement("input",Qv(Qv({ref:t,className:z.radio,type:"radio",id:H,disabled:f},Z),ue)),k.createElement(y,{className:z.icon,"aria-hidden":!0})))});Ew.displayName="@mantine/core/Radio";Ew.Group=aQ;var gIe=Object.defineProperty,yIe=Object.defineProperties,_Ie=Object.getOwnPropertyDescriptors,S8=Object.getOwnPropertySymbols,vIe=Object.prototype.hasOwnProperty,bIe=Object.prototype.propertyIsEnumerable,I8=(e,t,n)=>t in e?gIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Xv=(e,t)=>{for(var n in t||(t={}))vIe.call(t,n)&&I8(e,n,t[n]);if(S8)for(var n of S8(t))bIe.call(t,n)&&I8(e,n,t[n]);return e},EIe=(e,t)=>yIe(e,_Ie(t));const J1=4,x8={xs:"3px 6px",sm:"5px 10px",md:"7px 14px",lg:"9px 16px",xl:"12px 20px"};var wIe=at((e,{fullWidth:t,color:n,radius:r,shouldAnimate:i,transitionDuration:s,transitionTimingFunction:o,size:a,orientation:u},l)=>{const c=u==="vertical",f=e.fn.variant({variant:"filled",color:n});return{label:EIe(Xv(Xv({ref:l("label")},e.fn.focusStyles()),e.fn.fontStyles()),{WebkitTapHighlightColor:"transparent",borderRadius:e.fn.radius(r),fontWeight:500,fontSize:a in e.fontSizes?e.fontSizes[a]:e.fontSizes.sm,cursor:"pointer",display:"block",textAlign:"center",padding:x8[a in x8?a:"sm"],whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",userSelect:"none",color:e.colorScheme==="dark"?e.colors.dark[1]:e.colors.gray[7],transition:`color ${i?0:s}ms ${o||e.transitionTimingFunction}`,"&:hover":{color:e.colorScheme==="dark"?e.colors.dark[0]:e.black}}),control:{ref:l("control"),position:"relative",boxSizing:"border-box",flex:1,zIndex:2,transition:`border-left-color ${i?0:s}ms ${o||e.transitionTimingFunction}`,"&:not(:first-of-type)":{borderStyle:"solid",borderWidth:c?"1px 0 0 0":"0 0 0 1px",borderColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3]}},input:{height:0,width:0,position:"absolute",overflow:"hidden",whiteSpace:"nowrap",opacity:0,"&:focus":{outline:"none",[`& + .${l("label")}`]:Xv({},e.focusRing==="always"||e.focusRing==="auto"?e.focusRingStyles.styles(e):e.focusRingStyles.resetStyles(e)),"&:focus:not(:focus-visible)":{[`& + .${l("label")}`]:Xv({},e.focusRing==="auto"||e.focusRing==="never"?e.focusRingStyles.resetStyles(e):null)}}},root:{position:"relative",display:t||c?"flex":"inline-flex",width:c&&!t?"max-content":"auto",flexDirection:c?"column":"row",backgroundColor:e.colorScheme==="dark"?e.colors.dark[8]:e.colors.gray[1],borderRadius:e.fn.radius(r),overflow:"hidden",padding:J1},controlActive:{borderLeftColor:"transparent !important",borderTopColor:"transparent !important",[`& + .${l("control")}`]:{borderLeftColor:"transparent !important",borderTopColor:"transparent !important"},borderRadius:e.fn.radius(r),boxShadow:i?n||e.colorScheme==="dark"?"none":e.shadows.xs:void 0,backgroundColor:i?n?f.background:e.colorScheme==="dark"?e.colors.dark[5]:e.white:void 0},labelActive:{"&, &:hover":{color:n||e.colorScheme==="dark"?e.white:e.black}},disabled:{"&, &:hover":{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5],cursor:"not-allowed"}},active:{boxSizing:"border-box",borderRadius:e.fn.radius(r),position:"absolute",zIndex:1,boxShadow:n||e.colorScheme==="dark"?"none":e.shadows.xs,transition:`transform ${i?0:s}ms ${e.transitionTimingFunction}, width ${i?0:s/2}ms ${o||e.transitionTimingFunction}`,backgroundColor:n?f.background:e.colorScheme==="dark"?e.colors.dark[5]:e.white}}});const TIe=wIe;var SIe=Object.defineProperty,ww=Object.getOwnPropertySymbols,cQ=Object.prototype.hasOwnProperty,fQ=Object.prototype.propertyIsEnumerable,C8=(e,t,n)=>t in e?SIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,IIe=(e,t)=>{for(var n in t||(t={}))cQ.call(t,n)&&C8(e,n,t[n]);if(ww)for(var n of ww(t))fQ.call(t,n)&&C8(e,n,t[n]);return e},xIe=(e,t)=>{var n={};for(var r in e)cQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ww)for(var r of ww(e))t.indexOf(r)<0&&fQ.call(e,r)&&(n[r]=e[r]);return n};const CIe={disabled:!1,size:"sm",transitionDuration:200},dQ=w.forwardRef((e,t)=>{var n,r,i,s;const o=ht("SegmentedControl",CIe,e),{className:a,disabled:u,data:l,name:c,value:f,onChange:d,color:h,fullWidth:p,radius:m,size:y,transitionDuration:g,transitionTimingFunction:_,classNames:b,styles:T,defaultValue:I,orientation:E,unstyled:S}=o,A=xIe(o,["className","disabled","data","name","value","onChange","color","fullWidth","radius","size","transitionDuration","transitionTimingFunction","classNames","styles","defaultValue","orientation","unstyled"]),L=ts(),W=ek(),z=L.respectReducedMotion?W:!1,U=l.map(le=>typeof le=="string"?{label:le,value:le}:le),Z=w.useRef(),[H,ue]=w.useState(!1),[ie,_e]=xa({value:f,defaultValue:I,finalValue:Array.isArray(U)&&(s=(i=(n=U.find(le=>!le.disabled))==null?void 0:n.value)!=null?i:(r=U[0])==null?void 0:r.value)!=null?s:null,onChange:d}),{classes:te,cx:oe}=TIe({size:y,fullWidth:p,color:h,radius:m,shouldAnimate:z||!H,transitionDuration:g,transitionTimingFunction:_,orientation:E},{classNames:b,styles:T,unstyled:S,name:"SegmentedControl"}),[J,x]=w.useState({width:0,height:0,translate:[0,0]}),C=Du(c),B=w.useRef({}),[P,O]=tk();ZN(()=>{Z.current?ue(!0):(Z.current=!0,ue(!1))}),w.useEffect(()=>{if(ie in B.current&&P.current){const le=B.current[ie],me=le.getBoundingClientRect(),ge=le.offsetWidth/me.width,Se=me.width*ge||0,de=me.height*ge||0,st=O.width-le.parentElement.offsetLeft+J1-Se,Ke=le.parentElement.offsetLeft-J1;x({width:Se,height:de,translate:[L.dir==="rtl"?st:Ke,le.parentElement.offsetTop-J1]})}},[ie,O]);const Y=U.map(le=>k.createElement("div",{className:oe(te.control,{[te.controlActive]:ie===le.value}),key:le.value},k.createElement("input",{className:te.input,disabled:u||le.disabled,type:"radio",name:C,value:le.value,id:`${C}-${le.value}`,checked:ie===le.value,onChange:()=>_e(le.value)}),k.createElement("label",{className:oe(te.label,{[te.labelActive]:ie===le.value,[te.disabled]:u||le.disabled}),htmlFor:`${C}-${le.value}`,ref:me=>{B.current[le.value]=me}},le.label))),fe=Yo(P,t);return U.length===0?null:k.createElement(lt,IIe({className:oe(te.root,a),ref:fe},A),typeof ie=="string"&&H&&k.createElement(lt,{component:"span",className:te.active,sx:{width:J.width,height:J.height,transform:`translate(${J.translate[0]}px, ${J.translate[1]}px )`}}),Y)});dQ.displayName="@mantine/core/SegmentedControl";function AIe({data:e,searchable:t,limit:n,searchValue:r,filter:i,value:s,filterDataOnExactSearchMatch:o}){if(!t)return e;const a=s!=null&&e.find(l=>l.value===s)||null;if(a&&!o&&(a==null?void 0:a.label)===r)return e;const u=[];for(let l=0;l<e.length&&(i(r,e[l])&&u.push(e[l]),!(u.length>=n));l+=1);return u}var OIe=at(()=>({input:{"&:not(:disabled)":{cursor:"pointer","&::selection":{backgroundColor:"transparent"}}}}));const PIe=OIe;var RIe=Object.defineProperty,NIe=Object.defineProperties,kIe=Object.getOwnPropertyDescriptors,Tw=Object.getOwnPropertySymbols,hQ=Object.prototype.hasOwnProperty,pQ=Object.prototype.propertyIsEnumerable,A8=(e,t,n)=>t in e?RIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,A0=(e,t)=>{for(var n in t||(t={}))hQ.call(t,n)&&A8(e,n,t[n]);if(Tw)for(var n of Tw(t))pQ.call(t,n)&&A8(e,n,t[n]);return e},jC=(e,t)=>NIe(e,kIe(t)),DIe=(e,t)=>{var n={};for(var r in e)hQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Tw)for(var r of Tw(e))t.indexOf(r)<0&&pQ.call(e,r)&&(n[r]=e[r]);return n};function $Ie(e,t){return t.label.toLowerCase().trim().includes(e.toLowerCase().trim())}function LIe(e,t){return!!e&&!t.some(n=>n.label.toLowerCase()===e.toLowerCase())}const MIe={required:!1,size:"sm",shadow:"sm",itemComponent:ok,transition:"fade",transitionDuration:0,initiallyOpened:!1,filter:$Ie,maxDropdownHeight:220,searchable:!1,clearable:!1,limit:1/0,disabled:!1,creatable:!1,shouldCreate:LIe,selectOnBlur:!1,switchDirectionOnFlip:!1,filterDataOnExactSearchMatch:!1,zIndex:wo("popover"),clearButtonTabIndex:0,positionDependencies:[],dropdownPosition:"flip"},mQ=w.forwardRef((e,t)=>{const n=LY("Select",MIe,e),{inputProps:r,wrapperProps:i,shadow:s,data:o,value:a,defaultValue:u,onChange:l,itemComponent:c,onKeyDown:f,onBlur:d,onFocus:h,transition:p,transitionDuration:m,initiallyOpened:y,transitionTimingFunction:g,unstyled:_,classNames:b,styles:T,filter:I,maxDropdownHeight:E,searchable:S,clearable:A,nothingFound:L,clearButtonLabel:W,limit:z,disabled:U,onSearchChange:Z,searchValue:H,rightSection:ue,rightSectionWidth:ie,creatable:_e,getCreateLabel:te,shouldCreate:oe,selectOnBlur:J,onCreate:x,dropdownComponent:C,onDropdownClose:B,onDropdownOpen:P,withinPortal:O,switchDirectionOnFlip:Y,zIndex:fe,name:le,dropdownPosition:me,allowDeselect:ge,placeholder:Se,filterDataOnExactSearchMatch:de,clearButtonTabIndex:st,form:Ke,positionDependencies:qe,readOnly:$e}=n,ot=DIe(n,["inputProps","wrapperProps","shadow","data","value","defaultValue","onChange","itemComponent","onKeyDown","onBlur","onFocus","transition","transitionDuration","initiallyOpened","transitionTimingFunction","unstyled","classNames","styles","filter","maxDropdownHeight","searchable","clearable","nothingFound","clearButtonLabel","limit","disabled","onSearchChange","searchValue","rightSection","rightSectionWidth","creatable","getCreateLabel","shouldCreate","selectOnBlur","onCreate","dropdownComponent","onDropdownClose","onDropdownOpen","withinPortal","switchDirectionOnFlip","zIndex","name","dropdownPosition","allowDeselect","placeholder","filterDataOnExactSearchMatch","clearButtonTabIndex","form","positionDependencies","readOnly"]),{classes:ut,cx:On,theme:Ue}=PIe(),[Be,bt]=w.useState(y),[je,gt]=w.useState(-1),Gt=w.useRef(),an=w.useRef({}),[Gn,ce]=w.useState("column"),we=Gn==="column",{scrollIntoView:Le,targetRef:rt,scrollableRef:De}=LW({duration:0,offset:5,cancelable:!1,isList:!0}),it=ge===void 0?A:ge,Me=Te=>{if(Be!==Te){bt(Te);const Ve=Te?P:B;typeof Ve=="function"&&Ve()}},Ze=_e&&typeof te=="function";let bn=null;const Wt=o.map(Te=>typeof Te=="string"?{label:Te,value:Te}:Te),St=eW({data:Wt}),[Bn,En,na]=xa({value:a,defaultValue:u,finalValue:null,onChange:l}),fr=St.find(Te=>Te.value===Bn),[Mi,vr]=xa({value:H,defaultValue:(fr==null?void 0:fr.label)||"",finalValue:void 0,onChange:Z}),$r=Te=>{vr(Te),S&&typeof Z=="function"&&Z(Te)},dr=()=>{var Te;$e||(En(null),na||$r(""),(Te=Gt.current)==null||Te.focus())};w.useEffect(()=>{const Te=St.find(Ve=>Ve.value===Bn);Te?$r(Te.label):(!Ze||!Bn)&&$r("")},[Bn]),w.useEffect(()=>{fr&&(!S||!Be)&&$r(fr.label)},[fr==null?void 0:fr.label]);const jn=Te=>{if(!$e)if(it&&(fr==null?void 0:fr.value)===Te.value)En(null),Me(!1);else{if(Te.creatable&&typeof x=="function"){const Ve=x(Te.value);typeof Ve<"u"&&Ve!==null&&En(typeof Ve=="string"?Ve:Ve.value)}else En(Te.value);na||$r(Te.label),gt(-1),Me(!1),Gt.current.focus()}},Zt=AIe({data:St,searchable:S,limit:z,searchValue:Mi,filter:I,filterDataOnExactSearchMatch:de,value:Bn});Ze&&oe(Mi,Zt)&&(bn=te(Mi),Zt.push({label:Mi,value:Mi,creatable:!0}));const ri=(Te,Ve,ct)=>{let Je=Te;for(;ct(Je);)if(Je=Ve(Je),!Zt[Je].disabled)return Je;return Te};co(()=>{gt(-1)},[Mi]);const br=Bn?Zt.findIndex(Te=>Te.value===Bn):0,Lr=!$e&&(Zt.length>0?Be:Be&&!!L),yi=()=>{gt(Te=>{var Ve;const ct=ri(Te,Je=>Je-1,Je=>Je>0);return rt.current=an.current[(Ve=Zt[ct])==null?void 0:Ve.value],Lr&&Le({alignment:we?"start":"end"}),ct})},ms=()=>{gt(Te=>{var Ve;const ct=ri(Te,Je=>Je+1,Je=>Je<Zt.length-1);return rt.current=an.current[(Ve=Zt[ct])==null?void 0:Ve.value],Lr&&Le({alignment:we?"end":"start"}),ct})},K=()=>window.setTimeout(()=>{var Te;rt.current=an.current[(Te=Zt[br])==null?void 0:Te.value],Le({alignment:we?"end":"start"})},0);co(()=>{Lr&&K()},[Lr]);const j=Te=>{switch(typeof f=="function"&&f(Te),Te.key){case"ArrowUp":{Te.preventDefault(),Be?we?yi():ms():(gt(br),Me(!0),K());break}case"ArrowDown":{Te.preventDefault(),Be?we?ms():yi():(gt(br),Me(!0),K());break}case"Home":{if(!S){Te.preventDefault(),Be||Me(!0);const Ve=Zt.findIndex(ct=>!ct.disabled);gt(Ve),Lr&&Le({alignment:we?"end":"start"})}break}case"End":{if(!S){Te.preventDefault(),Be||Me(!0);const Ve=Zt.map(ct=>!!ct.disabled).lastIndexOf(!1);gt(Ve),Lr&&Le({alignment:we?"end":"start"})}break}case"Escape":{Te.preventDefault(),Me(!1),gt(-1);break}case" ":{S||(Te.preventDefault(),Zt[je]&&Be?jn(Zt[je]):(Me(!0),gt(br),K()));break}case"Enter":S||Te.preventDefault(),Zt[je]&&Be&&(Te.preventDefault(),jn(Zt[je]))}},X=Te=>{typeof d=="function"&&d(Te);const Ve=St.find(ct=>ct.value===Bn);J&&Zt[je]&&Be&&jn(Zt[je]),$r((Ve==null?void 0:Ve.label)||""),Me(!1)},pe=Te=>{typeof h=="function"&&h(Te),S&&Me(!0)},he=Te=>{$e||($r(Te.currentTarget.value),A&&Te.currentTarget.value===""&&En(null),gt(-1),Me(!0))},He=()=>{$e||(Me(!Be),Bn&&!Be&&gt(br))};return k.createElement(Bs.Wrapper,jC(A0({},i),{__staticSelector:"Select"}),k.createElement(Fc,{opened:Lr,transition:p,transitionDuration:m,shadow:"sm",withinPortal:O,__staticSelector:"Select",onDirectionChange:ce,switchDirectionOnFlip:Y,zIndex:fe,dropdownPosition:me,positionDependencies:qe,classNames:b,styles:T,unstyled:_},k.createElement(Fc.Target,null,k.createElement("div",{role:"combobox","aria-haspopup":"listbox","aria-owns":Lr?`${r.id}-items`:null,"aria-controls":r.id,"aria-expanded":Lr,onMouseLeave:()=>gt(-1),tabIndex:-1},k.createElement("input",{type:"hidden",name:le,value:Bn||"",form:Ke,disabled:U}),k.createElement(Bs,A0(jC(A0(A0({autoComplete:"off",type:"search"},r),ot),{ref:Yo(t,Gt),onKeyDown:j,__staticSelector:"Select",value:Mi,placeholder:Se,onChange:he,"aria-autocomplete":"list","aria-controls":Lr?`${r.id}-items`:null,"aria-activedescendant":je>=0?`${r.id}-${je}`:null,onMouseDown:He,onBlur:X,onFocus:pe,readOnly:!S||$e,disabled:U,"data-mantine-stop-propagation":Lr,name:null,classNames:jC(A0({},b),{input:On({[ut.input]:!S},b==null?void 0:b.input)})}),DK({theme:Ue,rightSection:ue,rightSectionWidth:ie,styles:T,size:r.size,shouldClear:A&&!!fr,clearButtonLabel:W,onClear:dr,error:i.error,clearButtonTabIndex:st,disabled:U,readOnly:$e}))))),k.createElement(Fc.Dropdown,{component:C||US,maxHeight:E,direction:Gn,id:r.id,innerRef:De,__staticSelector:"Select",classNames:b,styles:T},k.createElement(sk,{data:Zt,hovered:je,classNames:b,styles:T,isItemSelected:Te=>Te===Bn,uuid:r.id,__staticSelector:"Select",onItemHover:gt,onItemSelect:jn,itemsRefs:an,itemComponent:c,size:r.size,nothingFound:L,creatable:Ze&&!!bn,createLabel:bn,"aria-label":i.label,unstyled:_}))))});mQ.displayName="@mantine/core/Select";function Sw({value:e,min:t,max:n}){const r=(e-t)/(n-t)*100;return Math.min(Math.max(r,0),100)}function LP({value:e,containerWidth:t,min:n,max:r,step:i,precision:s}){const a=(t?Math.min(Math.max(e,0),t)/t:e)*(r-n),u=(a!==0?Math.round(a/i)*i:0)+n,l=Math.max(u,n);return s!==void 0?Number(l.toFixed(s)):l}var FIe=Object.defineProperty,BIe=Object.defineProperties,jIe=Object.getOwnPropertyDescriptors,O8=Object.getOwnPropertySymbols,UIe=Object.prototype.hasOwnProperty,VIe=Object.prototype.propertyIsEnumerable,P8=(e,t,n)=>t in e?FIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zIe=(e,t)=>{for(var n in t||(t={}))UIe.call(t,n)&&P8(e,n,t[n]);if(O8)for(var n of O8(t))VIe.call(t,n)&&P8(e,n,t[n]);return e},HIe=(e,t)=>BIe(e,jIe(t));const Ps={xs:4,sm:6,md:8,lg:10,xl:12};var WIe=at((e,{size:t,disabled:n})=>({root:HIe(zIe({},e.fn.fontStyles()),{WebkitTapHighlightColor:"transparent",outline:0,height:e.fn.size({sizes:Ps,size:t})*2,display:"flex",alignItems:"center",cursor:n?"not-allowed":"pointer",touchAction:"none"})}));const qIe=WIe;var YIe=Object.defineProperty,GIe=Object.defineProperties,KIe=Object.getOwnPropertyDescriptors,R8=Object.getOwnPropertySymbols,QIe=Object.prototype.hasOwnProperty,XIe=Object.prototype.propertyIsEnumerable,N8=(e,t,n)=>t in e?YIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,JIe=(e,t)=>{for(var n in t||(t={}))QIe.call(t,n)&&N8(e,n,t[n]);if(R8)for(var n of R8(t))XIe.call(t,n)&&N8(e,n,t[n]);return e},ZIe=(e,t)=>GIe(e,KIe(t)),exe=at((e,{color:t,size:n,disabled:r,thumbSize:i})=>({label:{position:"absolute",top:-36,backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[9],fontSize:e.fontSizes.xs,color:e.white,padding:`calc(${e.spacing.xs}px / 2)`,borderRadius:e.radius.sm,whiteSpace:"nowrap",pointerEvents:"none",userSelect:"none",touchAction:"none"},thumb:ZIe(JIe({},e.fn.focusStyles()),{boxSizing:"border-box",position:"absolute",display:r?"none":"flex",height:i||e.fn.size({sizes:Ps,size:n})*2,width:i||e.fn.size({sizes:Ps,size:n})*2,backgroundColor:e.colorScheme==="dark"?e.fn.themeColor(t,e.fn.primaryShade()):e.white,border:`4px solid ${e.colorScheme==="dark"?e.white:e.fn.themeColor(t,e.fn.primaryShade())}`,color:e.colorScheme==="dark"?e.white:e.fn.themeColor(t,e.fn.primaryShade()),transform:"translate(-50%, -50%)",top:"50%",cursor:"pointer",borderRadius:1e3,alignItems:"center",justifyContent:"center",transitionDuration:"100ms",transitionProperty:"box-shadow, transform",transitionTimingFunction:e.transitionTimingFunction,zIndex:3,userSelect:"none",touchAction:"none"}),dragging:{transform:"translate(-50%, -50%) scale(1.05)",boxShadow:e.shadows.sm}}));const txe=exe,Iw=w.forwardRef(({max:e,min:t,value:n,position:r,label:i,dragging:s,onMouseDown:o,color:a,classNames:u,styles:l,size:c,labelTransition:f,labelTransitionDuration:d,labelTransitionTimingFunction:h,labelAlwaysOn:p,thumbLabel:m,onFocus:y,onBlur:g,showLabelOnHover:_,children:b=null,disabled:T,unstyled:I,thumbSize:E},S)=>{const{classes:A,cx:L,theme:W}=txe({color:a,size:c,disabled:T,thumbSize:E},{classNames:u,styles:l,unstyled:I,name:"Slider"}),[z,U]=w.useState(!1),Z=p||s||z||_;return k.createElement(lt,{tabIndex:0,role:"slider","aria-label":m,"aria-valuemax":e,"aria-valuemin":t,"aria-valuenow":n,ref:S,className:L(A.thumb,{[A.dragging]:s}),onFocus:()=>{U(!0),typeof y=="function"&&y()},onBlur:()=>{U(!1),typeof g=="function"&&g()},onTouchStart:o,onMouseDown:o,onClick:H=>H.stopPropagation(),style:{[W.dir==="rtl"?"right":"left"]:`${r}%`}},b,k.createElement(HS,{mounted:i!=null&&Z,duration:d,transition:f,timingFunction:h||W.transitionTimingFunction},H=>k.createElement("div",{style:H,className:A.label},i)))});Iw.displayName="@mantine/core/SliderThumb";function nxe({mark:e,offset:t,value:n,inverted:r=!1}){return r?typeof t=="number"&&e.value<=t||e.value>=n:typeof t=="number"?e.value>=t&&e.value<=n:e.value<=n}var rxe=at((e,{size:t,color:n,disabled:r})=>({markWrapper:{position:"absolute",top:0,zIndex:2},mark:{boxSizing:"border-box",border:`${e.fn.size({size:t,sizes:Ps})>=8?"2px":"1px"} solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]}`,height:e.fn.size({sizes:Ps,size:t}),width:e.fn.size({sizes:Ps,size:t}),borderRadius:1e3,transform:`translateX(-${e.fn.size({sizes:Ps,size:t})/2}px)`,backgroundColor:e.white},markFilled:{borderColor:r?e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4]:e.fn.variant({variant:"filled",color:n}).background},markLabel:{transform:"translate(-50%, 0)",fontSize:e.fontSizes.sm,color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],marginTop:`calc(${e.spacing.xs}px / 2)`,whiteSpace:"nowrap"}}));const ixe=rxe;function gQ({marks:e,color:t,size:n,min:r,max:i,value:s,classNames:o,styles:a,offset:u,onChange:l,disabled:c,unstyled:f,inverted:d}){const{classes:h,cx:p}=ixe({size:n,color:t,disabled:c},{classNames:o,styles:a,unstyled:f,name:"Slider"}),m=e.map((y,g)=>k.createElement(lt,{className:h.markWrapper,sx:{left:`${Sw({value:y.value,min:r,max:i})}%`},key:g},k.createElement("div",{className:p(h.mark,{[h.markFilled]:nxe({mark:y,value:s,offset:u,inverted:d})})}),y.label&&k.createElement("div",{className:h.markLabel,onMouseDown:_=>{_.stopPropagation(),l(y.value)},onTouchStart:_=>{_.stopPropagation(),l(y.value)}},y.label)));return k.createElement("div",null,m)}gQ.displayName="@mantine/core/SliderMarks";var sxe=at((e,{radius:t,size:n,color:r,disabled:i,inverted:s})=>({track:{position:"relative",height:e.fn.size({sizes:Ps,size:n}),width:"100%",marginRight:e.fn.size({size:n,sizes:Ps}),marginLeft:e.fn.size({size:n,sizes:Ps}),"&::before":{content:'""',position:"absolute",top:0,bottom:0,borderRadius:e.fn.size({size:t,sizes:e.radius}),right:-e.fn.size({size:n,sizes:Ps}),left:-e.fn.size({size:n,sizes:Ps}),backgroundColor:s?i?e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4]:e.fn.variant({variant:"filled",color:r}).background:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],zIndex:0}},bar:{position:"absolute",zIndex:1,top:0,bottom:0,backgroundColor:s?e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]:i?e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4]:e.fn.variant({variant:"filled",color:r}).background,borderRadius:e.fn.size({size:t,sizes:e.radius})}}));const oxe=sxe;var axe=Object.defineProperty,uxe=Object.defineProperties,lxe=Object.getOwnPropertyDescriptors,xw=Object.getOwnPropertySymbols,yQ=Object.prototype.hasOwnProperty,_Q=Object.prototype.propertyIsEnumerable,k8=(e,t,n)=>t in e?axe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cxe=(e,t)=>{for(var n in t||(t={}))yQ.call(t,n)&&k8(e,n,t[n]);if(xw)for(var n of xw(t))_Q.call(t,n)&&k8(e,n,t[n]);return e},fxe=(e,t)=>uxe(e,lxe(t)),dxe=(e,t)=>{var n={};for(var r in e)yQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&xw)for(var r of xw(e))t.indexOf(r)<0&&_Q.call(e,r)&&(n[r]=e[r]);return n};function Ik(e){var t=e,{filled:n,size:r,color:i,classNames:s,styles:o,radius:a,children:u,offset:l,onMouseLeave:c,onMouseEnter:f,disabled:d,marksOffset:h,unstyled:p,inverted:m}=t,y=dxe(t,["filled","size","color","classNames","styles","radius","children","offset","onMouseLeave","onMouseEnter","disabled","marksOffset","unstyled","inverted"]);const{classes:g}=oxe({color:i,size:r,radius:a,disabled:d,inverted:m},{classNames:s,styles:o,unstyled:p,name:"Slider"});return k.createElement("div",{className:g.track,onMouseLeave:c,onMouseEnter:f},k.createElement(lt,{className:g.bar,sx:_=>({left:`calc(${l}% - ${_.fn.size({size:r,sizes:Ps})}px)`,width:`calc(${n}% + ${_.fn.size({size:r,sizes:Ps})}px)`})}),u,k.createElement(gQ,fxe(cxe({},y),{size:r,color:i,offset:h,classNames:s,styles:o,disabled:d,unstyled:p,inverted:m})))}Ik.displayName="@mantine/core/SliderTrack";var hxe=Object.defineProperty,pxe=Object.defineProperties,mxe=Object.getOwnPropertyDescriptors,Cw=Object.getOwnPropertySymbols,vQ=Object.prototype.hasOwnProperty,bQ=Object.prototype.propertyIsEnumerable,D8=(e,t,n)=>t in e?hxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gxe=(e,t)=>{for(var n in t||(t={}))vQ.call(t,n)&&D8(e,n,t[n]);if(Cw)for(var n of Cw(t))bQ.call(t,n)&&D8(e,n,t[n]);return e},yxe=(e,t)=>pxe(e,mxe(t)),_xe=(e,t)=>{var n={};for(var r in e)vQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Cw)for(var r of Cw(e))t.indexOf(r)<0&&bQ.call(e,r)&&(n[r]=e[r]);return n};const xk=w.forwardRef((e,t)=>{var n=e,{className:r,size:i,classNames:s,styles:o,disabled:a,unstyled:u}=n,l=_xe(n,["className","size","classNames","styles","disabled","unstyled"]);const{classes:c,cx:f}=qIe({size:i,disabled:a},{classNames:s,styles:o,unstyled:u,name:"Slider"});return k.createElement(lt,yxe(gxe({},l),{tabIndex:-1,className:f(c.root,r),ref:t}))});xk.displayName="@mantine/core/SliderRoot";var vxe=Object.defineProperty,bxe=Object.defineProperties,Exe=Object.getOwnPropertyDescriptors,Aw=Object.getOwnPropertySymbols,EQ=Object.prototype.hasOwnProperty,wQ=Object.prototype.propertyIsEnumerable,$8=(e,t,n)=>t in e?vxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wxe=(e,t)=>{for(var n in t||(t={}))EQ.call(t,n)&&$8(e,n,t[n]);if(Aw)for(var n of Aw(t))wQ.call(t,n)&&$8(e,n,t[n]);return e},Txe=(e,t)=>bxe(e,Exe(t)),Sxe=(e,t)=>{var n={};for(var r in e)EQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Aw)for(var r of Aw(e))t.indexOf(r)<0&&wQ.call(e,r)&&(n[r]=e[r]);return n};const Ixe={size:"md",radius:"xl",min:0,max:100,step:1,marks:[],label:e=>e,labelTransition:"skew-down",labelTransitionDuration:0,labelAlwaysOn:!1,thumbLabel:"",showLabelOnHover:!0,disabled:!1,scale:e=>e},TQ=w.forwardRef((e,t)=>{const n=ht("Slider",Ixe,e),{classNames:r,styles:i,color:s,value:o,onChange:a,onChangeEnd:u,size:l,radius:c,min:f,max:d,step:h,precision:p,defaultValue:m,name:y,marks:g,label:_,labelTransition:b,labelTransitionDuration:T,labelTransitionTimingFunction:I,labelAlwaysOn:E,thumbLabel:S,showLabelOnHover:A,thumbChildren:L,disabled:W,unstyled:z,thumbSize:U,scale:Z,inverted:H}=n,ue=Sxe(n,["classNames","styles","color","value","onChange","onChangeEnd","size","radius","min","max","step","precision","defaultValue","name","marks","label","labelTransition","labelTransitionDuration","labelTransitionTimingFunction","labelAlwaysOn","thumbLabel","showLabelOnHover","thumbChildren","disabled","unstyled","thumbSize","scale","inverted"]),ie=ts(),[_e,te]=w.useState(!1),[oe,J]=xa({value:typeof o=="number"?Lc(o,f,d):o,defaultValue:typeof m=="number"?Lc(m,f,d):m,finalValue:Lc(0,f,d),onChange:a}),x=w.useRef(oe),C=w.useRef(),B=Sw({value:oe,min:f,max:d}),P=Z(oe),O=typeof _=="function"?_(P):_,Y=w.useCallback(({x:Se})=>{if(!W){const de=LP({value:Se,min:f,max:d,step:h,precision:p});J(de),x.current=de}},[W,f,d,h,p]),{ref:fe,active:le}=$W(Y,{onScrubEnd:()=>u==null?void 0:u(x.current)},ie.dir),me=Se=>{Se.stopPropagation()},ge=Se=>{if(!W)switch(Se.key){case"ArrowUp":{Se.preventDefault(),C.current.focus();const de=Math.min(Math.max(oe+h,f),d);u==null||u(de),J(de);break}case"ArrowRight":{Se.preventDefault(),C.current.focus();const de=Math.min(Math.max(ie.dir==="rtl"?oe-h:oe+h,f),d);u==null||u(de),J(de);break}case"ArrowDown":{Se.preventDefault(),C.current.focus();const de=Math.min(Math.max(oe-h,f),d);u==null||u(de),J(de);break}case"ArrowLeft":{Se.preventDefault(),C.current.focus();const de=Math.min(Math.max(ie.dir==="rtl"?oe+h:oe-h,f),d);u==null||u(de),J(de);break}case"Home":{Se.preventDefault(),C.current.focus(),u==null||u(f),J(f);break}case"End":{Se.preventDefault(),C.current.focus(),u==null||u(d),J(d);break}}};return k.createElement(xk,Txe(wxe({},ue),{size:l,ref:Yo(fe,t),onKeyDownCapture:ge,onMouseDownCapture:()=>{var Se;return(Se=fe.current)==null?void 0:Se.focus()},classNames:r,styles:i,disabled:W,unstyled:z}),k.createElement(Ik,{inverted:H,offset:0,filled:B,marks:g,size:l,radius:c,color:s,min:f,max:d,value:P,onChange:J,onMouseEnter:A?()=>te(!0):void 0,onMouseLeave:A?()=>te(!1):void 0,classNames:r,styles:i,disabled:W,unstyled:z},k.createElement(Iw,{max:d,min:f,value:P,position:B,dragging:le,color:s,size:l,label:O,ref:C,onMouseDown:me,labelTransition:b,labelTransitionDuration:T,labelTransitionTimingFunction:I,labelAlwaysOn:E,classNames:r,styles:i,thumbLabel:S,showLabelOnHover:A&&_e,disabled:W,unstyled:z,thumbSize:U},L)),k.createElement("input",{type:"hidden",name:y,value:P}))});TQ.displayName="@mantine/core/Slider";function xxe(e){return"TouchEvent"in window&&e instanceof window.TouchEvent?e.touches[0].clientX:e.clientX}var Cxe=Object.defineProperty,Axe=Object.defineProperties,Oxe=Object.getOwnPropertyDescriptors,Ow=Object.getOwnPropertySymbols,SQ=Object.prototype.hasOwnProperty,IQ=Object.prototype.propertyIsEnumerable,L8=(e,t,n)=>t in e?Cxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,UC=(e,t)=>{for(var n in t||(t={}))SQ.call(t,n)&&L8(e,n,t[n]);if(Ow)for(var n of Ow(t))IQ.call(t,n)&&L8(e,n,t[n]);return e},VC=(e,t)=>Axe(e,Oxe(t)),Pxe=(e,t)=>{var n={};for(var r in e)SQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Ow)for(var r of Ow(e))t.indexOf(r)<0&&IQ.call(e,r)&&(n[r]=e[r]);return n};const Rxe={size:"md",radius:"xl",min:0,max:100,minRange:10,step:1,marks:[],label:e=>e,labelTransition:"skew-down",labelTransitionDuration:0,labelAlwaysOn:!1,thumbFromLabel:"",thumbToLabel:"",showLabelOnHover:!0,disabled:!1,scale:e=>e},xQ=w.forwardRef((e,t)=>{const n=ht("RangeSlider",Rxe,e),{classNames:r,styles:i,color:s,value:o,onChange:a,onChangeEnd:u,size:l,radius:c,min:f,max:d,minRange:h,step:p,precision:m,defaultValue:y,name:g,marks:_,label:b,labelTransition:T,labelTransitionDuration:I,labelTransitionTimingFunction:E,labelAlwaysOn:S,thumbFromLabel:A,thumbToLabel:L,showLabelOnHover:W,thumbChildren:z,disabled:U,unstyled:Z,thumbSize:H,scale:ue,inverted:ie}=n,_e=Pxe(n,["classNames","styles","color","value","onChange","onChangeEnd","size","radius","min","max","minRange","step","precision","defaultValue","name","marks","label","labelTransition","labelTransitionDuration","labelTransitionTimingFunction","labelAlwaysOn","thumbFromLabel","thumbToLabel","showLabelOnHover","thumbChildren","disabled","unstyled","thumbSize","scale","inverted"]),te=ts(),[oe,J]=w.useState(-1),[x,C]=w.useState(!1),[B,P]=xa({value:o,defaultValue:y,finalValue:[f,d],onChange:a}),O=w.useRef(B),Y=w.useRef([]),fe=w.useRef(void 0),le=[Sw({value:B[0],min:f,max:d}),Sw({value:B[1],min:f,max:d})],me=Ue=>{P(Ue),O.current=Ue};w.useEffect(()=>{Array.isArray(o)&&(O.current=o)},Array.isArray(o)?[o[0],o[1]]:[null,null]);const ge=(Ue,Be,bt)=>{const je=[...O.current];je[Be]=Ue,Be===0&&(Ue>je[1]-(h-1e-9)&&(je[1]=Math.min(Ue+h,d)),Ue>(d-(h-1e-9)||f)&&(je[Be]=O.current[Be])),Be===1&&(Ue<je[0]+h&&(je[0]=Math.max(Ue-h,f)),Ue<je[0]+h&&(je[Be]=O.current[Be])),me(je),bt&&(u==null||u(O.current))},Se=Ue=>{if(!U){const Be=LP({value:Ue,min:f,max:d,step:p,precision:m});ge(Be,fe.current,!1)}},{ref:de,active:st}=$W(({x:Ue})=>Se(Ue),{onScrubEnd:()=>u==null?void 0:u(O.current)},te.dir);function Ke(Ue,Be){Ue.stopPropagation(),fe.current=Be}const qe=Ue=>{de.current.focus();const Be=de.current.getBoundingClientRect(),bt=xxe(Ue.nativeEvent),je=LP({value:bt-Be.left,max:d,min:f,step:p,containerWidth:Be.width}),gt=Math.abs(B[0]-je)>Math.abs(B[1]-je)?1:0,Gt=te.dir==="ltr"?gt:gt===1?0:1;fe.current=Gt},$e=()=>oe!==1&&oe!==0?(J(0),0):oe,ot=Ue=>{if(!U)switch(Ue.key){case"ArrowUp":{Ue.preventDefault();const Be=$e();Y.current[Be].focus(),ge(Math.min(Math.max(O.current[Be]+p,f),d),Be,!0);break}case"ArrowRight":{Ue.preventDefault();const Be=$e();Y.current[Be].focus(),ge(Math.min(Math.max(te.dir==="rtl"?O.current[Be]-p:O.current[Be]+p,f),d),Be,!0);break}case"ArrowDown":{Ue.preventDefault();const Be=$e();Y.current[Be].focus(),ge(Math.min(Math.max(O.current[Be]-p,f),d),Be,!0);break}case"ArrowLeft":{Ue.preventDefault();const Be=$e();Y.current[Be].focus(),ge(Math.min(Math.max(te.dir==="rtl"?O.current[Be]+p:O.current[Be]-p,f),d),Be,!0);break}}},ut={max:d,min:f,color:s,size:l,labelTransition:T,labelTransitionDuration:I,labelTransitionTimingFunction:E,labelAlwaysOn:S,onBlur:()=>J(-1),classNames:r,styles:i},On=Array.isArray(z);return k.createElement(xk,VC(UC({},_e),{size:l,ref:Yo(de,t),onTouchStartCapture:qe,onTouchEndCapture:()=>{fe.current=-1},onMouseDownCapture:qe,onMouseUpCapture:()=>{fe.current=-1},onKeyDownCapture:ot,styles:i,classNames:r,disabled:U,unstyled:Z}),k.createElement(Ik,{offset:le[0],marksOffset:B[0],filled:le[1]-le[0],marks:_,inverted:ie,size:l,radius:c,color:s,min:f,max:d,value:B[1],styles:i,classNames:r,onMouseEnter:W?()=>C(!0):void 0,onMouseLeave:W?()=>C(!1):void 0,onChange:Ue=>{const Be=Math.abs(B[0]-Ue)>Math.abs(B[1]-Ue)?1:0,bt=[...B];bt[Be]=Ue,me(bt)},disabled:U,unstyled:Z},k.createElement(Iw,VC(UC({},ut),{value:ue(B[0]),position:le[0],dragging:st,label:typeof b=="function"?b(ue(B[0])):b,ref:Ue=>{Y.current[0]=Ue},thumbLabel:A,onMouseDown:Ue=>Ke(Ue,0),onFocus:()=>J(0),showLabelOnHover:W&&x,disabled:U,unstyled:Z,thumbSize:H}),On?z[0]:z),k.createElement(Iw,VC(UC({},ut),{thumbLabel:L,value:ue(B[1]),position:le[1],dragging:st,label:typeof b=="function"?b(ue(B[1])):b,ref:Ue=>{Y.current[1]=Ue},onMouseDown:Ue=>Ke(Ue,1),onFocus:()=>J(1),showLabelOnHover:W&&x,disabled:U,unstyled:Z,thumbSize:H}),On?z[1]:z)),k.createElement("input",{type:"hidden",name:`${g}_from`,value:B[0]}),k.createElement("input",{type:"hidden",name:`${g}_to`,value:B[1]}))});xQ.displayName="@mantine/core/RangeSlider";var Nxe=Object.defineProperty,Pw=Object.getOwnPropertySymbols,CQ=Object.prototype.hasOwnProperty,AQ=Object.prototype.propertyIsEnumerable,M8=(e,t,n)=>t in e?Nxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kxe=(e,t)=>{for(var n in t||(t={}))CQ.call(t,n)&&M8(e,n,t[n]);if(Pw)for(var n of Pw(t))AQ.call(t,n)&&M8(e,n,t[n]);return e},Dxe=(e,t)=>{var n={};for(var r in e)CQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Pw)for(var r of Pw(e))t.indexOf(r)<0&&AQ.call(e,r)&&(n[r]=e[r]);return n};const $xe={w:0,h:0},Xp=w.forwardRef((e,t)=>{const n=ht("Space",$xe,e),{w:r,h:i,sx:s}=n,o=Dxe(n,["w","h","sx"]);return k.createElement(lt,kxe({ref:t,sx:[a=>{const u=a.fn.size({size:r,sizes:a.spacing}),l=a.fn.size({size:i,sizes:a.spacing});return{width:u,height:l,minWidth:u,minHeight:l}},...Rd(s)]},o))});Xp.displayName="@mantine/core/Space";var Lxe=Object.defineProperty,Mxe=Object.defineProperties,Fxe=Object.getOwnPropertyDescriptors,F8=Object.getOwnPropertySymbols,Bxe=Object.prototype.hasOwnProperty,jxe=Object.prototype.propertyIsEnumerable,B8=(e,t,n)=>t in e?Lxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Uxe=(e,t)=>{for(var n in t||(t={}))Bxe.call(t,n)&&B8(e,n,t[n]);if(F8)for(var n of F8(t))jxe.call(t,n)&&B8(e,n,t[n]);return e},Vxe=(e,t)=>Mxe(e,Fxe(t));function zxe(e,t,n){return typeof e<"u"?e in n.headings.sizes?n.headings.sizes[e].fontSize:e:n.headings.sizes[t].fontSize}function Hxe(e,t,n){return typeof e<"u"&&e in n.headings.sizes?n.headings.sizes[e].lineHeight:n.headings.sizes[t].lineHeight}var Wxe=at((e,{element:t,weight:n,size:r,inline:i})=>({root:Vxe(Uxe({},e.fn.fontStyles()),{fontFamily:e.headings.fontFamily,fontWeight:n||e.headings.sizes[t].fontWeight||e.headings.fontWeight,fontSize:zxe(r,t,e),lineHeight:i?1:Hxe(r,t,e),margin:0})}));const qxe=Wxe;var Yxe=Object.defineProperty,Rw=Object.getOwnPropertySymbols,OQ=Object.prototype.hasOwnProperty,PQ=Object.prototype.propertyIsEnumerable,j8=(e,t,n)=>t in e?Yxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Gxe=(e,t)=>{for(var n in t||(t={}))OQ.call(t,n)&&j8(e,n,t[n]);if(Rw)for(var n of Rw(t))PQ.call(t,n)&&j8(e,n,t[n]);return e},Kxe=(e,t)=>{var n={};for(var r in e)OQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Rw)for(var r of Rw(e))t.indexOf(r)<0&&PQ.call(e,r)&&(n[r]=e[r]);return n};const Qxe={order:1},lc=w.forwardRef((e,t)=>{const n=ht("Title",Qxe,e),{className:r,order:i,children:s,unstyled:o,size:a,weight:u,inline:l}=n,c=Kxe(n,["className","order","children","unstyled","size","weight","inline"]),{classes:f,cx:d}=qxe({element:`h${i}`,weight:u,size:a,inline:l},{name:"Title",unstyled:o});return[1,2,3,4,5,6].includes(i)?k.createElement(Ct,Gxe({component:`h${i}`,ref:t,className:d(f.root,r)},c),s):null});lc.displayName="@mantine/core/Title";function MP(e){const t=e.split("/")||[];return t[t.length-1].replace(/\.[^\.]+$/,"").replace(".","_").replace(" ","_").replace("/","_")}const $u="/viz-guardrails-study/",Xxe="https://github.com/revisit-studies/study/tree/main/public/";function Jxe({globalConfig:e,studyConfigs:t}){const{configsList:n}=e,r=Qd();return $.jsxs(kG,{size:"xs",px:"xs",style:{marginTop:100,marginBottom:100},children:[$.jsx(C_,{maw:150,mx:"auto",mb:"xl",radius:"md",src:`${$u}assets/revisitLogoSquare.svg`,alt:"reVISit"}),$.jsx(Ct,{children:"Select an experiment to launch:"}),n.map(i=>{const s=t[i];if(!s)return null;const o=MP(i);return $.jsx(nk,{onClick:()=>{r(`/${o}`)},my:"sm",style:{width:"100%"},children:$.jsxs(R1e,{shadow:"sm",radius:"md",withBorder:!0,children:[$.jsx(Ct,{fw:"bold",children:s.studyMetadata.title}),$.jsxs(Ct,{c:"dimmed",children:["Authors:",s.studyMetadata.authors]}),$.jsx(Ct,{c:"dimmed",children:s.studyMetadata.description}),$.jsx(Ct,{c:"dimmed",ta:"right",style:{paddingRight:5},children:$.jsxs(yq,{target:"_blank",onClick:a=>a.stopPropagation(),href:`${Xxe}${o}`,children:["View source:"," ",o]})})]})},i)})]})}var RQ={exports:{}},NQ={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jp=w;function Zxe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var eCe=typeof Object.is=="function"?Object.is:Zxe,tCe=Jp.useState,nCe=Jp.useEffect,rCe=Jp.useLayoutEffect,iCe=Jp.useDebugValue;function sCe(e,t){var n=t(),r=tCe({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return rCe(function(){i.value=n,i.getSnapshot=t,zC(i)&&s({inst:i})},[e,n,t]),nCe(function(){return zC(i)&&s({inst:i}),e(function(){zC(i)&&s({inst:i})})},[e]),iCe(n),n}function zC(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!eCe(e,n)}catch{return!0}}function oCe(e,t){return t()}var aCe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?oCe:sCe;NQ.useSyncExternalStore=Jp.useSyncExternalStore!==void 0?Jp.useSyncExternalStore:aCe;RQ.exports=NQ;var uCe=RQ.exports,kQ={exports:{}},DQ={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YS=w,lCe=uCe;function cCe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var fCe=typeof Object.is=="function"?Object.is:cCe,dCe=lCe.useSyncExternalStore,hCe=YS.useRef,pCe=YS.useEffect,mCe=YS.useMemo,gCe=YS.useDebugValue;DQ.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var s=hCe(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=mCe(function(){function u(h){if(!l){if(l=!0,c=h,h=r(h),i!==void 0&&o.hasValue){var p=o.value;if(i(p,h))return f=p}return f=h}if(p=f,fCe(c,h))return p;var m=r(h);return i!==void 0&&i(p,m)?p:(c=h,f=m)}var l=!1,c,f,d=n===void 0?null:n;return[function(){return u(t())},d===null?void 0:function(){return u(d())}]},[t,n,r,i]);var a=dCe(e,s[0],s[1]);return pCe(function(){o.hasValue=!0,o.value=a},[a]),gCe(a),a};kQ.exports=DQ;var yCe=kQ.exports;function _Ce(e){e()}let $Q=_Ce;const vCe=e=>$Q=e,bCe=()=>$Q,Zc=w.createContext(null);function LQ(){return w.useContext(Zc)}const ECe=()=>{throw new Error("uSES not initialized!")};let MQ=ECe;const wCe=e=>{MQ=e},TCe=(e,t)=>e===t;function SCe(e=Zc){const t=e===Zc?LQ:()=>w.useContext(e);return function(r,i=TCe){const{store:s,subscription:o,getServerState:a}=t(),u=MQ(o.addNestedSub,s.getState,a||s.getState,r,i);return w.useDebugValue(u),u}}const ICe=SCe();var Fn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ck=Symbol.for("react.element"),Ak=Symbol.for("react.portal"),GS=Symbol.for("react.fragment"),KS=Symbol.for("react.strict_mode"),QS=Symbol.for("react.profiler"),XS=Symbol.for("react.provider"),JS=Symbol.for("react.context"),xCe=Symbol.for("react.server_context"),ZS=Symbol.for("react.forward_ref"),eI=Symbol.for("react.suspense"),tI=Symbol.for("react.suspense_list"),nI=Symbol.for("react.memo"),rI=Symbol.for("react.lazy"),CCe=Symbol.for("react.offscreen"),FQ;FQ=Symbol.for("react.module.reference");function Ko(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Ck:switch(e=e.type,e){case GS:case QS:case KS:case eI:case tI:return e;default:switch(e=e&&e.$$typeof,e){case xCe:case JS:case ZS:case rI:case nI:case XS:return e;default:return t}}case Ak:return t}}}Fn.ContextConsumer=JS;Fn.ContextProvider=XS;Fn.Element=Ck;Fn.ForwardRef=ZS;Fn.Fragment=GS;Fn.Lazy=rI;Fn.Memo=nI;Fn.Portal=Ak;Fn.Profiler=QS;Fn.StrictMode=KS;Fn.Suspense=eI;Fn.SuspenseList=tI;Fn.isAsyncMode=function(){return!1};Fn.isConcurrentMode=function(){return!1};Fn.isContextConsumer=function(e){return Ko(e)===JS};Fn.isContextProvider=function(e){return Ko(e)===XS};Fn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ck};Fn.isForwardRef=function(e){return Ko(e)===ZS};Fn.isFragment=function(e){return Ko(e)===GS};Fn.isLazy=function(e){return Ko(e)===rI};Fn.isMemo=function(e){return Ko(e)===nI};Fn.isPortal=function(e){return Ko(e)===Ak};Fn.isProfiler=function(e){return Ko(e)===QS};Fn.isStrictMode=function(e){return Ko(e)===KS};Fn.isSuspense=function(e){return Ko(e)===eI};Fn.isSuspenseList=function(e){return Ko(e)===tI};Fn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===GS||e===QS||e===KS||e===eI||e===tI||e===CCe||typeof e=="object"&&e!==null&&(e.$$typeof===rI||e.$$typeof===nI||e.$$typeof===XS||e.$$typeof===JS||e.$$typeof===ZS||e.$$typeof===FQ||e.getModuleId!==void 0)};Fn.typeOf=Ko;function ACe(){const e=bCe();let t=null,n=null;return{clear(){t=null,n=null},notify(){e(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=t;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,s=n={callback:r,next:null,prev:n};return s.prev?s.prev.next=s:t=s,function(){!i||t===null||(i=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}const U8={notify(){},get:()=>[]};function OCe(e,t){let n,r=U8;function i(f){return u(),r.subscribe(f)}function s(){r.notify()}function o(){c.onStateChange&&c.onStateChange()}function a(){return!!n}function u(){n||(n=t?t.addNestedSub(o):e.subscribe(o),r=ACe())}function l(){n&&(n(),n=void 0,r.clear(),r=U8)}const c={addNestedSub:i,notifyNestedSubs:s,handleChangeWrapper:o,isSubscribed:a,trySubscribe:u,tryUnsubscribe:l,getListeners:()=>r};return c}const PCe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",RCe=PCe?w.useLayoutEffect:w.useEffect;function NCe({store:e,context:t,children:n,serverState:r}){const i=w.useMemo(()=>{const a=OCe(e);return{store:e,subscription:a,getServerState:r?()=>r:void 0}},[e,r]),s=w.useMemo(()=>e.getState(),[e]);RCe(()=>{const{subscription:a}=i;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),s!==e.getState()&&a.notifyNestedSubs(),()=>{a.tryUnsubscribe(),a.onStateChange=void 0}},[i,s]);const o=t||Zc;return k.createElement(o.Provider,{value:i},n)}function BQ(e=Zc){const t=e===Zc?LQ:()=>w.useContext(e);return function(){const{store:r}=t();return r}}const kCe=BQ();function DCe(e=Zc){const t=e===Zc?kCe:BQ(e);return function(){return t().dispatch}}const jQ=DCe();wCe(yCe.useSyncExternalStoreWithSelector);vCe(__.unstable_batchedUpdates);const $Ce={},LCe=Object.freeze(Object.defineProperty({__proto__:null,default:$Ce},Symbol.toStringTag,{value:"Module"})),MCe=sue(LCe);var FCe=MCe;function BCe(e,t){var n,r="",i=0,s=!0,o=0,a;function u(){return a=e.charAt(o),o++,a}for(u(),a==="-"&&(r="-",u());a>="0"&&a<="9";)s&&(a=="0"?i++:s=!1),r+=a,u();if(s&&i--,a===".")for(r+=".";u()&&a>="0"&&a<="9";)r+=a;if(a==="e"||a==="E")for(r+=a,u(),(a==="-"||a==="+")&&(r+=a,u());a>="0"&&a<="9";)r+=a,u();for(;a&&a<=" ";)u();if(t&&(a===","||a==="}"||a==="]"||a==="#"||a==="/"&&(e[o]==="/"||e[o]==="*"))&&(a=0),n=+r,!(a||i||!isFinite(n)))return n}function jCe(e,t){return Object.defineProperty&&Object.defineProperty(e,"__COMMENTS__",{enumerable:!1,writable:!0}),e.__COMMENTS__=t||{}}function UCe(e){Object.defineProperty(e,"__COMMENTS__",{value:void 0})}function VCe(e){return e.__COMMENTS__}function zCe(e){if(!e)return"";var t=e.split(`
`),n,r,i,s;for(i=0;i<t.length;i++)for(n=t[i],s=n.length,r=0;r<s;r++){var o=n[r];if(o==="#")break;if(o==="/"&&(n[r+1]==="/"||n[r+1]==="*")){n[r+1]==="*"&&(i=t.length);break}else if(o>" "){t[i]="# "+n;break}}return t.join(`
`)}var iI={EOL:FCe.EOL||`
`,tryParseNumber:BCe,createComment:jCe,removeComment:UCe,getComment:VCe,forceComment:zCe},HCe="3.2.1";function WCe(e,t){if(Object.prototype.toString.apply(e)!=="[object Array]"){if(e)throw new Error("dsf option must contain an array!");return V8}else if(e.length===0)return V8;var n=[];function r(i){return{}.toString.call(i)==="[object Function]"}return e.forEach(function(i){if(!i.name||!r(i.parse)||!r(i.stringify))throw new Error("extension does not match the DSF interface");n.push(function(){try{if(t=="parse")return i.parse.apply(null,arguments);if(t=="stringify"){var s=i.stringify.apply(null,arguments);if(s!==void 0&&(typeof s!="string"||s.length===0||s[0]==='"'||[].some.call(s,function(o){return YCe(o)})))throw new Error("value may not be empty, start with a quote or contain a punctuator character except colon: "+s);return s}else throw new Error("Invalid type")}catch(o){throw new Error("DSF-"+i.name+" failed; "+o.message)}})}),qCe.bind(null,n)}function qCe(e,t){if(e)for(var n=0;n<e.length;n++){var r=e[n](t);if(r!==void 0)return r}}function V8(){}function YCe(e){return e==="{"||e==="}"||e==="["||e==="]"||e===","}function UQ(){return{name:"math",parse:function(e){switch(e){case"+inf":case"inf":case"+Inf":case"Inf":return 1/0;case"-inf":case"-Inf":return-1/0;case"nan":case"NaN":return NaN}},stringify:function(e){if(typeof e=="number"){if(1/e===-1/0)return"-0";if(e===1/0)return"Inf";if(e===-1/0)return"-Inf";if(isNaN(e))return"NaN"}}}}UQ.description="support for Inf/inf, -Inf/-inf, Nan/naN and -0";function VQ(e){var t=e&&e.out;return{name:"hex",parse:function(n){if(/^0x[0-9A-Fa-f]+$/.test(n))return parseInt(n,16)},stringify:function(n){if(t&&Number.isInteger(n))return"0x"+n.toString(16)}}}VQ.description="parse hexadecimal numbers prefixed with 0x";function zQ(){return{name:"date",parse:function(e){if(/^\d{4}-\d{2}-\d{2}$/.test(e)||/^\d{4}-\d{2}-\d{2}T\d{2}\:\d{2}\:\d{2}(?:.\d+)(?:Z|[+-]\d{2}:\d{2})$/.test(e)){var t=Date.parse(e);if(!isNaN(t))return new Date(t)}},stringify:function(e){if(Object.prototype.toString.call(e)==="[object Date]"){var t=e.toISOString();return t.indexOf("T00:00:00.000Z",t.length-14)!==-1?t.substr(0,10):t}}}}zQ.description="support ISO dates";var Ok={loadDsf:WCe,std:{math:UQ,hex:VQ,date:zQ}},GCe=function(e,t){var n=iI,r=Ok,i,s,o,a={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},u,l;function c(){s=0,o=" "}function f(H){return H==="{"||H==="}"||H==="["||H==="]"||H===","||H===":"}function d(H){var ue,ie=0,_e=1;for(ue=s-1;ue>0&&i[ue]!==`
`;ue--,ie++);for(;ue>0;ue--)i[ue]===`
`&&_e++;throw new Error(H+" at line "+_e+","+ie+" >>>"+i.substr(s-ie,20)+" ...")}function h(){return o=i.charAt(s),s++,o}function p(H){return i.charAt(s+H)}function m(H){for(var ue="",ie=o;h();){if(o===ie)return h(),H&&ie==="'"&&o==="'"&&ue.length===0?(h(),y()):ue;if(o==="\\")if(h(),o==="u"){for(var _e=0,te=0;te<4;te++){h();var oe=o.charCodeAt(0),J;o>="0"&&o<="9"?J=oe-48:o>="a"&&o<="f"?J=oe-97+10:o>="A"&&o<="F"?J=oe-65+10:d("Bad \\u char "+o),_e=_e*16+J}ue+=String.fromCharCode(_e)}else if(typeof a[o]=="string")ue+=a[o];else break;else o===`
`||o==="\r"?d("Bad string containing newline"):ue+=o}d("Bad string")}function y(){for(var H="",ue=0,ie=0;;){var _e=p(-ie-5);if(!_e||_e===`
`)break;ie++}function te(){for(var oe=ie;o&&o<=" "&&o!==`
`&&oe-- >0;)h()}for(;o&&o<=" "&&o!==`
`;)h();for(o===`
`&&(h(),te());;){if(!o)d("Bad multiline string");else if(o==="'"){if(ue++,h(),ue===3)return H.slice(-1)===`
`&&(H=H.slice(0,-1)),H;continue}else for(;ue>0;)H+="'",ue--;o===`
`?(H+=`
`,h(),te()):(o!=="\r"&&(H+=o),h())}}function g(){if(o==='"'||o==="'")return m(!1);for(var H="",ue=s,ie=-1;;){if(o===":")return H?ie>=0&&ie!==H.length&&(s=ue+ie,d("Found whitespace in your key name (use quotes to include)")):d("Found ':' but no key name (for an empty key name use quotes)"),H;o<=" "?o?ie<0&&(ie=H.length):d("Found EOF while looking for a key name (check your syntax)"):f(o)?d("Found '"+o+"' where a key name was expected (check your syntax or use quotes if the key name includes {}[],: or whitespace)"):H+=o,h()}}function _(){for(;o;){for(;o&&o<=" ";)h();if(o==="#"||o==="/"&&p(0)==="/")for(;o&&o!==`
`;)h();else if(o==="/"&&p(0)==="*"){for(h(),h();o&&!(o==="*"&&p(0)==="/");)h();o&&(h(),h())}else break}}function b(){var H=o;for(f(o)&&d("Found a punctuator character '"+o+"' when expecting a quoteless string (check your syntax)");;){h();var ue=o==="\r"||o===`
`||o==="";if(ue||o===","||o==="}"||o==="]"||o==="#"||o==="/"&&(p(0)==="/"||p(0)==="*")){var ie=H[0];switch(ie){case"f":if(H.trim()==="false")return!1;break;case"n":if(H.trim()==="null")return null;break;case"t":if(H.trim()==="true")return!0;break;default:if(ie==="-"||ie>="0"&&ie<="9"){var _e=n.tryParseNumber(H);if(_e!==void 0)return _e}}if(ue){H=H.trim();var te=l(H);return te!==void 0?te:H}}H+=o}}function T(H,ue){var ie;for(H--,ie=s-2;ie>H&&i[ie]<=" "&&i[ie]!==`
`;ie--);i[ie]===`
`&&ie--,i[ie]==="\r"&&ie--;var _e=i.substr(H,ie-H+1);for(ie=0;ie<_e.length;ie++)if(_e[ie]>" "){var te=_e.indexOf(`
`);if(te>=0){var oe=[_e.substr(0,te),_e.substr(te+1)];return ue&&oe[0].trim().length===0&&oe.shift(),oe}else return[_e]}return[]}function I(H){function ue(_e,te){var oe,J,x,C;switch(typeof _e){case"string":_e.indexOf(te)>=0&&(C=_e);break;case"object":if(Object.prototype.toString.apply(_e)==="[object Array]")for(oe=0,x=_e.length;oe<x;oe++)C=ue(_e[oe],te)||C;else for(J in _e)Object.prototype.hasOwnProperty.call(_e,J)&&(C=ue(_e[J],te)||C)}return C}function ie(_e){var te=ue(H,_e);return te?"found '"+_e+`' in a string value, your mistake could be with:
  > `+te+`
  (unquoted strings contain everything up to the next line!)`:""}return ie("}")||ie("]")}function E(){var H=[],ue,ie,_e;try{if(u&&(ue=n.createComment(H,{a:[]})),h(),ie=s,_(),ue&&(_e=T(ie,!0).join(`
`)),o==="]")return h(),ue&&(ue.e=[_e]),H;for(;o;){if(H.push(A()),ie=s,_(),o===","&&(h(),ie=s,_()),ue){var te=T(ie);ue.a.push([_e||"",te[0]||""]),_e=te[1]}if(o==="]")return h(),ue&&(ue.a[ue.a.length-1][1]+=_e||""),H;_()}d("End of input while parsing an array (missing ']')")}catch(oe){throw oe.hint=oe.hint||I(H),oe}}function S(H){var ue="",ie={},_e,te,oe;try{if(u&&(_e=n.createComment(ie,{c:{},o:[]})),H?te=1:(h(),te=s),_(),_e&&(oe=T(te,!0).join(`
`)),o==="}"&&!H)return _e&&(_e.e=[oe]),h(),ie;for(;o;){if(ue=g(),_(),o!==":"&&d("Expected ':' instead of '"+o+"'"),h(),ie[ue]=A(),te=s,_(),o===","&&(h(),te=s,_()),_e){var J=T(te);_e.c[ue]=[oe||"",J[0]||""],oe=J[1],_e.o.push(ue)}if(o==="}"&&!H)return h(),_e&&(_e.c[ue][1]+=oe||""),ie;_()}if(H)return ie;d("End of input while parsing an object (missing '}')")}catch(x){throw x.hint=x.hint||I(ie),x}}function A(){switch(_(),o){case"{":return S();case"[":return E();case"'":case'"':return m(!0);default:return b()}}function L(H,ue){var ie=s;if(_(),o&&d("Syntax error, found trailing characters"),u){var _e=ue.join(`
`),te=T(ie).join(`
`);if(te||_e){var oe=n.createComment(H,n.getComment(H));oe.r=[_e,te]}}return H}function W(){_();var H=u?T(1):null;switch(o){case"{":return L(S(),H);case"[":return L(E(),H);default:return L(A(),H)}}function z(){_();var H=u?T(1):null;switch(o){case"{":return L(S(),H);case"[":return L(E(),H)}try{return L(S(!0),H)}catch(ue){c();try{return L(A(),H)}catch{throw ue}}}if(typeof e!="string")throw new Error("source is not a string");var U=null,Z=!0;return t&&typeof t=="object"&&(u=t.keepWsc,U=t.dsf,Z=t.legacyRoot!==!1),l=r.loadDsf(U,"parse"),i=e,c(),Z?z():W()},KCe=function(e,t){var n=iI,r=Ok,i={obj:["{","}"],arr:["[","]"],key:["",""],qkey:['"','"'],col:[":",""],com:[",",""],str:["",""],qstr:['"','"'],mstr:["'''","'''"],num:["",""],lit:["",""],dsf:["",""],esc:["\\",""],uni:["\\u",""],rem:["",""]},s=n.EOL,o="  ",a=!1,u=!1,l=!1,c=!1,f=0,d=1,h="",p=null,m=!1,y=i;if(t&&typeof t=="object"){t.quotes=t.quotes==="always"?"strings":t.quotes,(t.eol===`
`||t.eol===`\r
`)&&(s=t.eol),a=t.keepWsc,f=t.condense||0,u=t.bracesSameLine,l=t.quotes==="all"||t.quotes==="keys",c=t.quotes==="all"||t.quotes==="strings"||t.separator===!0,c||t.multiline=="off"?d=0:d=t.multiline=="no-tabs"?2:1,h=t.separator===!0?y.com[0]:"",p=t.dsf,m=t.sortProps,typeof t.space=="number"?o=new Array(t.space+1).join(" "):typeof t.space=="string"&&(o=t.space),t.colors===!0&&(y={obj:["\x1B[37m{\x1B[0m","\x1B[37m}\x1B[0m"],arr:["\x1B[37m[\x1B[0m","\x1B[37m]\x1B[0m"],key:["\x1B[33m","\x1B[0m"],qkey:['\x1B[33m"','"\x1B[0m'],col:["\x1B[37m:\x1B[0m",""],com:["\x1B[37m,\x1B[0m",""],str:["\x1B[37;1m","\x1B[0m"],qstr:['\x1B[37;1m"','"\x1B[0m'],mstr:["\x1B[37;1m'''","'''\x1B[0m"],num:["\x1B[36;1m","\x1B[0m"],lit:["\x1B[36m","\x1B[0m"],dsf:["\x1B[37m","\x1B[0m"],esc:["\x1B[31m\\","\x1B[0m"],uni:["\x1B[31m\\u","\x1B[0m"],rem:["\x1B[35m","\x1B[0m"]});var g,_=Object.keys(i);for(g=_.length-1;g>=0;g--){var b=_[g];y[b].push(i[b][0].length,i[b][1].length)}}var T,I="---\u2028--\uFEFF-",E=new RegExp('[\\\\\\"\0-'+I+"]","g"),S=new RegExp(`^\\s|^"|^'|^#|^\\/\\*|^\\/\\/|^\\{|^\\}|^\\[|^\\]|^:|^,|\\s$|[\0-`+I+"]","g"),A=new RegExp("'''|^[\\s]+$|[\0-"+(d===2?"	":"\b")+"\v\f-"+I+"]","g"),L=new RegExp("^(true|false|null)\\s*((,|\\]|\\}|#|//|/\\*).*)?$"),W={"\b":"b","	":"t","\n":"n","\f":"f","\r":"r",'"':'"',"\\":"\\"},z=/[,\{\[\}\]\s:#"']|\/\/|\/\*/,U="",Z=0;function H(C,B){return Z+=C[0].length+C[1].length-C[2]-C[3],C[0]+B+C[1]}function ue(C){return C.replace(E,function(B){var P=W[B];return typeof P=="string"?H(y.esc,P):H(y.uni,("0000"+B.charCodeAt(0).toString(16)).slice(-4))})}function ie(C,B,P,O){return C?(S.lastIndex=0,L.lastIndex=0,c||P||S.test(C)||n.tryParseNumber(C,!0)!==void 0||L.test(C)?(E.lastIndex=0,A.lastIndex=0,E.test(C)?!A.test(C)&&!O&&d?_e(C,B):H(y.qstr,ue(C)):H(y.qstr,C)):H(y.str,C)):H(y.qstr,"")}function _e(C,B){var P,O=C.replace(/\r/g,"").split(`
`);if(B+=o,O.length===1)return H(y.mstr,O[0]);var Y=s+B+y.mstr[0];for(P=0;P<O.length;P++)Y+=s,O[P]&&(Y+=B+O[P]);return Y+s+B+y.mstr[1]}function te(C){return C?l||z.test(C)?(E.lastIndex=0,H(y.qkey,E.test(C)?ue(C):C)):H(y.key,C):'""'}function oe(C,B,P,O){function Y(Ze){return Ze&&Ze[Ze[0]==="\r"?1:0]===`
`}function fe(Ze){return Ze&&!Y(Ze)}function le(Ze,bn,Wt){if(!Ze)return"";Ze=n.forceComment(Ze);var St,Bn=Ze.length;for(St=0;St<Bn&&Ze[St]<=" ";St++);return Wt&&St>0&&(Ze=Ze.substr(St)),St<Bn?bn+H(y.rem,Ze):Ze}var me=T(C);if(me!==void 0)return H(y.dsf,me);switch(typeof C){case"string":return ie(C,U,B,O);case"number":return isFinite(C)?H(y.num,String(C)):H(y.lit,"null");case"boolean":return H(y.lit,String(C));case"object":if(!C)return H(y.lit,"null");var ge;a&&(ge=n.getComment(C));var Se=Object.prototype.toString.apply(C)==="[object Array]",de=U;U+=o;var st=s+de,Ke=s+U,qe=P||u?"":st,$e=[],ot,ut=f?[]:null,On=c,Ue=d,Be=h?"":y.com[0],bt=0,je,gt,Gt,an,Gn,ce,we,Le,rt;if(Se){for(je=0,gt=C.length;je<gt;je++){if(ot=je<gt-1,ge?(ce=ge.a[je]||[],we=fe(ce[1]),$e.push(le(ce[0],`
`)+Ke),ut&&(ce[0]||ce[1]||we)&&(ut=null)):$e.push(Ke),Z=0,an=C[je],$e.push(oe(an,ge?we:!1,!0)+(ot?h:"")),ut){switch(typeof an){case"string":Z=0,c=!0,d=0,ut.push(oe(an,!1,!0)+(ot?y.com[0]:"")),c=On,d=Ue;break;case"object":if(an){ut=null;break}default:ut.push($e[$e.length-1]+(ot?Be:""));break}ot&&(Z+=y.com[0].length-y.com[2]),bt+=Z}ge&&ce[1]&&$e.push(le(ce[1],we?" ":`
`,we))}gt===0?ge&&ge.e&&$e.push(le(ge.e[0],`
`)+st):$e.push(st),$e.length===0?Le=H(y.arr,""):(Le=qe+H(y.arr,$e.join("")),ut&&(rt=ut.join(" "),rt.length-bt<=f&&(Le=H(y.arr,rt))))}else{var De=ge?ge.o.slice():[],it=[];for(Gt in C)Object.prototype.hasOwnProperty.call(C,Gt)&&De.indexOf(Gt)<0&&it.push(Gt);m&&it.sort();var Me=De.concat(it);for(je=0,gt=Me.length;je<gt;je++)if(ot=je<gt-1,Gt=Me[je],ge?(ce=ge.c[Gt]||[],we=fe(ce[1]),$e.push(le(ce[0],`
`)+Ke),ut&&(ce[0]||ce[1]||we)&&(ut=null)):$e.push(Ke),Z=0,an=C[Gt],Gn=oe(an,ge&&we),$e.push(te(Gt)+y.col[0]+(Y(Gn)?"":" ")+Gn+(ot?h:"")),ge&&ce[1]&&$e.push(le(ce[1],we?" ":`
`,we)),ut){switch(typeof an){case"string":Z=0,c=!0,d=0,Gn=oe(an,!1),c=On,d=Ue,ut.push(te(Gt)+y.col[0]+" "+Gn+(ot?y.com[0]:""));break;case"object":if(an){ut=null;break}default:ut.push($e[$e.length-1]+(ot?Be:""));break}Z+=y.col[0].length-y.col[2],ot&&(Z+=y.com[0].length-y.com[2]),bt+=Z}gt===0?ge&&ge.e&&$e.push(le(ge.e[0],`
`)+st):$e.push(st),$e.length===0?Le=H(y.obj,""):(Le=qe+H(y.obj,$e.join("")),ut&&(rt=ut.join(" "),rt.length-bt<=f&&(Le=H(y.obj,rt))))}return U=de,Le}}T=r.loadDsf(p,"stringify");var J="",x=a?x=(n.getComment(e)||{}).r:null;return x&&x[0]&&(J=x[0]+`
`),J+=oe(e,null,!0,!0),x&&(J+=x[1]||""),J},gp=iI;function Cg(e,t,n){var r;return e&&(r={b:e}),t&&((r=r||{}).a=t),n&&((r=r||{}).x=n),r}function FP(e,t){if(!(e===null||typeof e!="object")){var n=gp.getComment(e);n&&gp.removeComment(e);var r,i,s,o;if(Object.prototype.toString.apply(e)==="[object Array]"){for(o={a:{}},r=0,i=e.length;r<i;r++)z8(o.a,r,n.a[r],FP(e[r]))&&(s=!0);!s&&n.e&&(o.e=Cg(n.e[0],n.e[1]),s=!0)}else{o={s:{}};var a,u=Object.keys(e);for(n&&n.o?(a=[],n.o.concat(u).forEach(function(c){Object.prototype.hasOwnProperty.call(e,c)&&a.indexOf(c)<0&&a.push(c)})):a=u,o.o=a,r=0,i=a.length;r<i;r++){var l=a[r];z8(o.s,l,n.c[l],FP(e[l]))&&(s=!0)}!s&&n.e&&(o.e=Cg(n.e[0],n.e[1]),s=!0)}return t&&n&&n.r&&(o.r=Cg(n.r[0],n.r[1])),s?o:void 0}}function QCe(){var e="";return[].forEach.call(arguments,function(t){t&&t.trim()!==""&&(e&&(e+="; "),e+=t.trim())}),e}function XCe(e,t){var n=[];if(BP(e,t,n,[]),n.length>0){var r=Nw(t,null,1);r+=`
# Orphaned comments:
`,n.forEach(function(i){r+=("# "+i.path.join("/")+": "+QCe(i.b,i.a,i.e)).replace(`
`,"\\n ")+`
`}),Nw(t,r,1)}}function z8(e,t,n,r){var i=Cg(n?n[0]:void 0,n?n[1]:void 0,r);return i&&(e[t]=i),i}function Ag(e,t){var n=Cg(t.b,t.a);return n.path=e,n}function Og(e,t,n){if(e){var r,i;if(e.a)for(r=0,i=e.a.length;r<i;r++){var s=n.slice().concat([r]),o=e.a[r];o&&(t.push(Ag(s,o)),Og(o.x,t,s))}else e.o&&e.o.forEach(function(a){var u=n.slice().concat([a]),l=e.s[a];l&&(t.push(Ag(u,l)),Og(l.x,t,u))});e.e&&t.push(Ag(n,e.e))}}function BP(e,t,n,r){if(e){if(t===null||typeof t!="object"){Og(e,n,r);return}var i,s=gp.createComment(t);if(r.length===0&&e.r&&(s.r=[e.r.b,e.r.a]),Object.prototype.toString.apply(t)==="[object Array]"){s.a=[];var o=e.a||{};for(var a in o)if(o.hasOwnProperty(a)){i=parseInt(a);var u=e.a[a];if(u){var l=r.slice().concat([i]);i<t.length?(s.a[i]=[u.b,u.a],BP(u.x,t[i],n,l)):(n.push(Ag(l,u)),Og(u.x,n,l))}}i===0&&e.e&&(s.e=[e.e.b,e.e.a])}else s.c={},s.o=[],(e.o||[]).forEach(function(c){var f=r.slice().concat([c]),d=e.s[c];Object.prototype.hasOwnProperty.call(t,c)?(s.o.push(c),d&&(s.c[c]=[d.b,d.a],BP(d.x,t[c],n,f))):d&&(n.push(Ag(f,d)),Og(d.x,n,f))}),e.e&&(s.e=[e.e.b,e.e.a])}}function Nw(e,t,n){var r=gp.createComment(e,gp.getComment(e));return r.r||(r.r=["",""]),(t||t==="")&&(r.r[n]=gp.forceComment(t)),r.r[n]||""}var JCe={extract:function(e){return FP(e,!0)},merge:XCe,header:function(e,t){return Nw(e,t,0)},footer:function(e,t){return Nw(e,t,1)}};/*!
 * Hjson v3.2.1
 * https://hjson.github.io
 *
 * Copyright 2014-2017 Christian Zangl, MIT license
 * Details and documentation:
 * https://github.com/hjson/hjson-js
 *
 * This code is based on the the JSON version by Douglas Crockford:
 * https://github.com/douglascrockford/JSON-js (json_parse.js, json2.js)
 */var H8=iI,ZCe=HCe,W8=GCe,q8=KCe,eAe=JCe,tAe=Ok,Pk={parse:W8,stringify:q8,endOfLine:function(){return H8.EOL},setEndOfLine:function(e){(e===`
`||e===`\r
`)&&(H8.EOL=e)},version:ZCe,rt:{parse:function(e,t){return(t=t||{}).keepWsc=!0,W8(e,t)},stringify:function(e,t){return(t=t||{}).keepWsc=!0,q8(e,t)}},comments:eAe,dsf:tAe.std},jP={exports:{}},HQ={},wa={},Zp={},A_={},Yt={},wy={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends t{constructor(_){if(super(),!e.IDENTIFIER.test(_))throw new Error("CodeGen: name must be a valid identifier");this.str=_}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=n;class r extends t{constructor(_){super(),this._items=typeof _=="string"?[_]:_}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const _=this._items[0];return _===""||_==='""'}get str(){var _;return(_=this._str)!==null&&_!==void 0?_:this._str=this._items.reduce((b,T)=>`${b}${T}`,"")}get names(){var _;return(_=this._names)!==null&&_!==void 0?_:this._names=this._items.reduce((b,T)=>(T instanceof n&&(b[T.str]=(b[T.str]||0)+1),b),{})}}e._Code=r,e.nil=new r("");function i(g,..._){const b=[g[0]];let T=0;for(;T<_.length;)a(b,_[T]),b.push(g[++T]);return new r(b)}e._=i;const s=new r("+");function o(g,..._){const b=[h(g[0])];let T=0;for(;T<_.length;)b.push(s),a(b,_[T]),b.push(s,h(g[++T]));return u(b),new r(b)}e.str=o;function a(g,_){_ instanceof r?g.push(..._._items):_ instanceof n?g.push(_):g.push(f(_))}e.addCodeArg=a;function u(g){let _=1;for(;_<g.length-1;){if(g[_]===s){const b=l(g[_-1],g[_+1]);if(b!==void 0){g.splice(_-1,3,b);continue}g[_++]="+"}_++}}function l(g,_){if(_==='""')return g;if(g==='""')return _;if(typeof g=="string")return _ instanceof n||g[g.length-1]!=='"'?void 0:typeof _!="string"?`${g.slice(0,-1)}${_}"`:_[0]==='"'?g.slice(0,-1)+_.slice(1):void 0;if(typeof _=="string"&&_[0]==='"'&&!(g instanceof n))return`"${g}${_.slice(1)}`}function c(g,_){return _.emptyStr()?g:g.emptyStr()?_:o`${g}${_}`}e.strConcat=c;function f(g){return typeof g=="number"||typeof g=="boolean"||g===null?g:h(Array.isArray(g)?g.join(","):g)}function d(g){return new r(h(g))}e.stringify=d;function h(g){return JSON.stringify(g).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=h;function p(g){return typeof g=="string"&&e.IDENTIFIER.test(g)?new r(`.${g}`):i`[${g}]`}e.getProperty=p;function m(g){if(typeof g=="string"&&e.IDENTIFIER.test(g))return new r(`${g}`);throw new Error(`CodeGen: invalid export name: ${g}, use explicit $id name mapping`)}e.getEsmExportName=m;function y(g){return new r(g.toString())}e.regexpCode=y})(wy);var UP={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=wy;class n extends Error{constructor(l){super(`CodeGen: "code" for ${l} not defined`),this.value=l.value}}var r;(function(u){u[u.Started=0]="Started",u[u.Completed=1]="Completed"})(r=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class i{constructor({prefixes:l,parent:c}={}){this._names={},this._prefixes=l,this._parent=c}toName(l){return l instanceof t.Name?l:this.name(l)}name(l){return new t.Name(this._newName(l))}_newName(l){const c=this._names[l]||this._nameGroup(l);return`${l}${c.index++}`}_nameGroup(l){var c,f;if(!((f=(c=this._parent)===null||c===void 0?void 0:c._prefixes)===null||f===void 0)&&f.has(l)||this._prefixes&&!this._prefixes.has(l))throw new Error(`CodeGen: prefix "${l}" is not allowed in this scope`);return this._names[l]={prefix:l,index:0}}}e.Scope=i;class s extends t.Name{constructor(l,c){super(c),this.prefix=l}setValue(l,{property:c,itemIndex:f}){this.value=l,this.scopePath=(0,t._)`.${new t.Name(c)}[${f}]`}}e.ValueScopeName=s;const o=(0,t._)`\n`;class a extends i{constructor(l){super(l),this._values={},this._scope=l.scope,this.opts={...l,_n:l.lines?o:t.nil}}get(){return this._scope}name(l){return new s(l,this._newName(l))}value(l,c){var f;if(c.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const d=this.toName(l),{prefix:h}=d,p=(f=c.key)!==null&&f!==void 0?f:c.ref;let m=this._values[h];if(m){const _=m.get(p);if(_)return _}else m=this._values[h]=new Map;m.set(p,d);const y=this._scope[h]||(this._scope[h]=[]),g=y.length;return y[g]=c.ref,d.setValue(c,{property:h,itemIndex:g}),d}getValue(l,c){const f=this._values[l];if(f)return f.get(c)}scopeRefs(l,c=this._values){return this._reduceValues(c,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,t._)`${l}${f.scopePath}`})}scopeCode(l=this._values,c,f){return this._reduceValues(l,d=>{if(d.value===void 0)throw new Error(`CodeGen: name "${d}" has no value`);return d.value.code},c,f)}_reduceValues(l,c,f={},d){let h=t.nil;for(const p in l){const m=l[p];if(!m)continue;const y=f[p]=f[p]||new Map;m.forEach(g=>{if(y.has(g))return;y.set(g,r.Started);let _=c(g);if(_){const b=this.opts.es5?e.varKinds.var:e.varKinds.const;h=(0,t._)`${h}${b} ${g} = ${_};${this.opts._n}`}else if(_=d==null?void 0:d(g))h=(0,t._)`${h}${_}${this.opts._n}`;else throw new n(g);y.set(g,r.Completed)})}return h}}e.ValueScope=a})(UP);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=wy,n=UP;var r=wy;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return r.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return r.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return r.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}});var i=UP;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class s{optimizeNodes(){return this}optimizeNames(P,O){return this}}class o extends s{constructor(P,O,Y){super(),this.varKind=P,this.name=O,this.rhs=Y}render({es5:P,_n:O}){const Y=P?n.varKinds.var:this.varKind,fe=this.rhs===void 0?"":` = ${this.rhs}`;return`${Y} ${this.name}${fe};`+O}optimizeNames(P,O){if(P[this.name.str])return this.rhs&&(this.rhs=H(this.rhs,P,O)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class a extends s{constructor(P,O,Y){super(),this.lhs=P,this.rhs=O,this.sideEffects=Y}render({_n:P}){return`${this.lhs} = ${this.rhs};`+P}optimizeNames(P,O){if(!(this.lhs instanceof t.Name&&!P[this.lhs.str]&&!this.sideEffects))return this.rhs=H(this.rhs,P,O),this}get names(){const P=this.lhs instanceof t.Name?{}:{...this.lhs.names};return Z(P,this.rhs)}}class u extends a{constructor(P,O,Y,fe){super(P,Y,fe),this.op=O}render({_n:P}){return`${this.lhs} ${this.op}= ${this.rhs};`+P}}class l extends s{constructor(P){super(),this.label=P,this.names={}}render({_n:P}){return`${this.label}:`+P}}class c extends s{constructor(P){super(),this.label=P,this.names={}}render({_n:P}){return`break${this.label?` ${this.label}`:""};`+P}}class f extends s{constructor(P){super(),this.error=P}render({_n:P}){return`throw ${this.error};`+P}get names(){return this.error.names}}class d extends s{constructor(P){super(),this.code=P}render({_n:P}){return`${this.code};`+P}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(P,O){return this.code=H(this.code,P,O),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class h extends s{constructor(P=[]){super(),this.nodes=P}render(P){return this.nodes.reduce((O,Y)=>O+Y.render(P),"")}optimizeNodes(){const{nodes:P}=this;let O=P.length;for(;O--;){const Y=P[O].optimizeNodes();Array.isArray(Y)?P.splice(O,1,...Y):Y?P[O]=Y:P.splice(O,1)}return P.length>0?this:void 0}optimizeNames(P,O){const{nodes:Y}=this;let fe=Y.length;for(;fe--;){const le=Y[fe];le.optimizeNames(P,O)||(ue(P,le.names),Y.splice(fe,1))}return Y.length>0?this:void 0}get names(){return this.nodes.reduce((P,O)=>U(P,O.names),{})}}class p extends h{render(P){return"{"+P._n+super.render(P)+"}"+P._n}}class m extends h{}class y extends p{}y.kind="else";class g extends p{constructor(P,O){super(O),this.condition=P}render(P){let O=`if(${this.condition})`+super.render(P);return this.else&&(O+="else "+this.else.render(P)),O}optimizeNodes(){super.optimizeNodes();const P=this.condition;if(P===!0)return this.nodes;let O=this.else;if(O){const Y=O.optimizeNodes();O=this.else=Array.isArray(Y)?new y(Y):Y}if(O)return P===!1?O instanceof g?O:O.nodes:this.nodes.length?this:new g(ie(P),O instanceof g?[O]:O.nodes);if(!(P===!1||!this.nodes.length))return this}optimizeNames(P,O){var Y;if(this.else=(Y=this.else)===null||Y===void 0?void 0:Y.optimizeNames(P,O),!!(super.optimizeNames(P,O)||this.else))return this.condition=H(this.condition,P,O),this}get names(){const P=super.names;return Z(P,this.condition),this.else&&U(P,this.else.names),P}}g.kind="if";class _ extends p{}_.kind="for";class b extends _{constructor(P){super(),this.iteration=P}render(P){return`for(${this.iteration})`+super.render(P)}optimizeNames(P,O){if(super.optimizeNames(P,O))return this.iteration=H(this.iteration,P,O),this}get names(){return U(super.names,this.iteration.names)}}class T extends _{constructor(P,O,Y,fe){super(),this.varKind=P,this.name=O,this.from=Y,this.to=fe}render(P){const O=P.es5?n.varKinds.var:this.varKind,{name:Y,from:fe,to:le}=this;return`for(${O} ${Y}=${fe}; ${Y}<${le}; ${Y}++)`+super.render(P)}get names(){const P=Z(super.names,this.from);return Z(P,this.to)}}class I extends _{constructor(P,O,Y,fe){super(),this.loop=P,this.varKind=O,this.name=Y,this.iterable=fe}render(P){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(P)}optimizeNames(P,O){if(super.optimizeNames(P,O))return this.iterable=H(this.iterable,P,O),this}get names(){return U(super.names,this.iterable.names)}}class E extends p{constructor(P,O,Y){super(),this.name=P,this.args=O,this.async=Y}render(P){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(P)}}E.kind="func";class S extends h{render(P){return"return "+super.render(P)}}S.kind="return";class A extends p{render(P){let O="try"+super.render(P);return this.catch&&(O+=this.catch.render(P)),this.finally&&(O+=this.finally.render(P)),O}optimizeNodes(){var P,O;return super.optimizeNodes(),(P=this.catch)===null||P===void 0||P.optimizeNodes(),(O=this.finally)===null||O===void 0||O.optimizeNodes(),this}optimizeNames(P,O){var Y,fe;return super.optimizeNames(P,O),(Y=this.catch)===null||Y===void 0||Y.optimizeNames(P,O),(fe=this.finally)===null||fe===void 0||fe.optimizeNames(P,O),this}get names(){const P=super.names;return this.catch&&U(P,this.catch.names),this.finally&&U(P,this.finally.names),P}}class L extends p{constructor(P){super(),this.error=P}render(P){return`catch(${this.error})`+super.render(P)}}L.kind="catch";class W extends p{render(P){return"finally"+super.render(P)}}W.kind="finally";class z{constructor(P,O={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...O,_n:O.lines?`
`:""},this._extScope=P,this._scope=new n.Scope({parent:P}),this._nodes=[new m]}toString(){return this._root.render(this.opts)}name(P){return this._scope.name(P)}scopeName(P){return this._extScope.name(P)}scopeValue(P,O){const Y=this._extScope.value(P,O);return(this._values[Y.prefix]||(this._values[Y.prefix]=new Set)).add(Y),Y}getScopeValue(P,O){return this._extScope.getValue(P,O)}scopeRefs(P){return this._extScope.scopeRefs(P,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(P,O,Y,fe){const le=this._scope.toName(O);return Y!==void 0&&fe&&(this._constants[le.str]=Y),this._leafNode(new o(P,le,Y)),le}const(P,O,Y){return this._def(n.varKinds.const,P,O,Y)}let(P,O,Y){return this._def(n.varKinds.let,P,O,Y)}var(P,O,Y){return this._def(n.varKinds.var,P,O,Y)}assign(P,O,Y){return this._leafNode(new a(P,O,Y))}add(P,O){return this._leafNode(new u(P,e.operators.ADD,O))}code(P){return typeof P=="function"?P():P!==t.nil&&this._leafNode(new d(P)),this}object(...P){const O=["{"];for(const[Y,fe]of P)O.length>1&&O.push(","),O.push(Y),(Y!==fe||this.opts.es5)&&(O.push(":"),(0,t.addCodeArg)(O,fe));return O.push("}"),new t._Code(O)}if(P,O,Y){if(this._blockNode(new g(P)),O&&Y)this.code(O).else().code(Y).endIf();else if(O)this.code(O).endIf();else if(Y)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(P){return this._elseNode(new g(P))}else(){return this._elseNode(new y)}endIf(){return this._endBlockNode(g,y)}_for(P,O){return this._blockNode(P),O&&this.code(O).endFor(),this}for(P,O){return this._for(new b(P),O)}forRange(P,O,Y,fe,le=this.opts.es5?n.varKinds.var:n.varKinds.let){const me=this._scope.toName(P);return this._for(new T(le,me,O,Y),()=>fe(me))}forOf(P,O,Y,fe=n.varKinds.const){const le=this._scope.toName(P);if(this.opts.es5){const me=O instanceof t.Name?O:this.var("_arr",O);return this.forRange("_i",0,(0,t._)`${me}.length`,ge=>{this.var(le,(0,t._)`${me}[${ge}]`),Y(le)})}return this._for(new I("of",fe,le,O),()=>Y(le))}forIn(P,O,Y,fe=this.opts.es5?n.varKinds.var:n.varKinds.const){if(this.opts.ownProperties)return this.forOf(P,(0,t._)`Object.keys(${O})`,Y);const le=this._scope.toName(P);return this._for(new I("in",fe,le,O),()=>Y(le))}endFor(){return this._endBlockNode(_)}label(P){return this._leafNode(new l(P))}break(P){return this._leafNode(new c(P))}return(P){const O=new S;if(this._blockNode(O),this.code(P),O.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(S)}try(P,O,Y){if(!O&&!Y)throw new Error('CodeGen: "try" without "catch" and "finally"');const fe=new A;if(this._blockNode(fe),this.code(P),O){const le=this.name("e");this._currNode=fe.catch=new L(le),O(le)}return Y&&(this._currNode=fe.finally=new W,this.code(Y)),this._endBlockNode(L,W)}throw(P){return this._leafNode(new f(P))}block(P,O){return this._blockStarts.push(this._nodes.length),P&&this.code(P).endBlock(O),this}endBlock(P){const O=this._blockStarts.pop();if(O===void 0)throw new Error("CodeGen: not in self-balancing block");const Y=this._nodes.length-O;if(Y<0||P!==void 0&&Y!==P)throw new Error(`CodeGen: wrong number of nodes: ${Y} vs ${P} expected`);return this._nodes.length=O,this}func(P,O=t.nil,Y,fe){return this._blockNode(new E(P,O,Y)),fe&&this.code(fe).endFunc(),this}endFunc(){return this._endBlockNode(E)}optimize(P=1){for(;P-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(P){return this._currNode.nodes.push(P),this}_blockNode(P){this._currNode.nodes.push(P),this._nodes.push(P)}_endBlockNode(P,O){const Y=this._currNode;if(Y instanceof P||O&&Y instanceof O)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${O?`${P.kind}/${O.kind}`:P.kind}"`)}_elseNode(P){const O=this._currNode;if(!(O instanceof g))throw new Error('CodeGen: "else" without "if"');return this._currNode=O.else=P,this}get _root(){return this._nodes[0]}get _currNode(){const P=this._nodes;return P[P.length-1]}set _currNode(P){const O=this._nodes;O[O.length-1]=P}}e.CodeGen=z;function U(B,P){for(const O in P)B[O]=(B[O]||0)+(P[O]||0);return B}function Z(B,P){return P instanceof t._CodeOrName?U(B,P.names):B}function H(B,P,O){if(B instanceof t.Name)return Y(B);if(!fe(B))return B;return new t._Code(B._items.reduce((le,me)=>(me instanceof t.Name&&(me=Y(me)),me instanceof t._Code?le.push(...me._items):le.push(me),le),[]));function Y(le){const me=O[le.str];return me===void 0||P[le.str]!==1?le:(delete P[le.str],me)}function fe(le){return le instanceof t._Code&&le._items.some(me=>me instanceof t.Name&&P[me.str]===1&&O[me.str]!==void 0)}}function ue(B,P){for(const O in P)B[O]=(B[O]||0)-(P[O]||0)}function ie(B){return typeof B=="boolean"||typeof B=="number"||B===null?!B:(0,t._)`!${C(B)}`}e.not=ie;const _e=x(e.operators.AND);function te(...B){return B.reduce(_e)}e.and=te;const oe=x(e.operators.OR);function J(...B){return B.reduce(oe)}e.or=J;function x(B){return(P,O)=>P===t.nil?O:O===t.nil?P:(0,t._)`${C(P)} ${B} ${C(O)}`}function C(B){return B instanceof t.Name?B:(0,t._)`(${B})`}})(Yt);var pn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;const t=Yt,n=wy;function r(E){const S={};for(const A of E)S[A]=!0;return S}e.toHash=r;function i(E,S){return typeof S=="boolean"?S:Object.keys(S).length===0?!0:(s(E,S),!o(S,E.self.RULES.all))}e.alwaysValidSchema=i;function s(E,S=E.schema){const{opts:A,self:L}=E;if(!A.strictSchema||typeof S=="boolean")return;const W=L.RULES.keywords;for(const z in S)W[z]||I(E,`unknown keyword: "${z}"`)}e.checkUnknownRules=s;function o(E,S){if(typeof E=="boolean")return!E;for(const A in E)if(S[A])return!0;return!1}e.schemaHasRules=o;function a(E,S){if(typeof E=="boolean")return!E;for(const A in E)if(A!=="$ref"&&S.all[A])return!0;return!1}e.schemaHasRulesButRef=a;function u({topSchemaRef:E,schemaPath:S},A,L,W){if(!W){if(typeof A=="number"||typeof A=="boolean")return A;if(typeof A=="string")return(0,t._)`${A}`}return(0,t._)`${E}${S}${(0,t.getProperty)(L)}`}e.schemaRefOrVal=u;function l(E){return d(decodeURIComponent(E))}e.unescapeFragment=l;function c(E){return encodeURIComponent(f(E))}e.escapeFragment=c;function f(E){return typeof E=="number"?`${E}`:E.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=f;function d(E){return E.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=d;function h(E,S){if(Array.isArray(E))for(const A of E)S(A);else S(E)}e.eachItem=h;function p({mergeNames:E,mergeToName:S,mergeValues:A,resultToName:L}){return(W,z,U,Z)=>{const H=U===void 0?z:U instanceof t.Name?(z instanceof t.Name?E(W,z,U):S(W,z,U),U):z instanceof t.Name?(S(W,U,z),z):A(z,U);return Z===t.Name&&!(H instanceof t.Name)?L(W,H):H}}e.mergeEvaluated={props:p({mergeNames:(E,S,A)=>E.if((0,t._)`${A} !== true && ${S} !== undefined`,()=>{E.if((0,t._)`${S} === true`,()=>E.assign(A,!0),()=>E.assign(A,(0,t._)`${A} || {}`).code((0,t._)`Object.assign(${A}, ${S})`))}),mergeToName:(E,S,A)=>E.if((0,t._)`${A} !== true`,()=>{S===!0?E.assign(A,!0):(E.assign(A,(0,t._)`${A} || {}`),y(E,A,S))}),mergeValues:(E,S)=>E===!0?!0:{...E,...S},resultToName:m}),items:p({mergeNames:(E,S,A)=>E.if((0,t._)`${A} !== true && ${S} !== undefined`,()=>E.assign(A,(0,t._)`${S} === true ? true : ${A} > ${S} ? ${A} : ${S}`)),mergeToName:(E,S,A)=>E.if((0,t._)`${A} !== true`,()=>E.assign(A,S===!0?!0:(0,t._)`${A} > ${S} ? ${A} : ${S}`)),mergeValues:(E,S)=>E===!0?!0:Math.max(E,S),resultToName:(E,S)=>E.var("items",S)})};function m(E,S){if(S===!0)return E.var("props",!0);const A=E.var("props",(0,t._)`{}`);return S!==void 0&&y(E,A,S),A}e.evaluatedPropsToName=m;function y(E,S,A){Object.keys(A).forEach(L=>E.assign((0,t._)`${S}${(0,t.getProperty)(L)}`,!0))}e.setEvaluated=y;const g={};function _(E,S){return E.scopeValue("func",{ref:S,code:g[S.code]||(g[S.code]=new n._Code(S.code))})}e.useFunc=_;var b;(function(E){E[E.Num=0]="Num",E[E.Str=1]="Str"})(b=e.Type||(e.Type={}));function T(E,S,A){if(E instanceof t.Name){const L=S===b.Num;return A?L?(0,t._)`"[" + ${E} + "]"`:(0,t._)`"['" + ${E} + "']"`:L?(0,t._)`"/" + ${E}`:(0,t._)`"/" + ${E}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return A?(0,t.getProperty)(E).toString():"/"+f(E)}e.getErrorPath=T;function I(E,S,A=E.opts.strictSchema){if(A){if(S=`strict mode: ${S}`,A===!0)throw new Error(S);E.self.logger.warn(S)}}e.checkStrictMode=I})(pn);var Lu={};Object.defineProperty(Lu,"__esModule",{value:!0});const ji=Yt,nAe={data:new ji.Name("data"),valCxt:new ji.Name("valCxt"),instancePath:new ji.Name("instancePath"),parentData:new ji.Name("parentData"),parentDataProperty:new ji.Name("parentDataProperty"),rootData:new ji.Name("rootData"),dynamicAnchors:new ji.Name("dynamicAnchors"),vErrors:new ji.Name("vErrors"),errors:new ji.Name("errors"),this:new ji.Name("this"),self:new ji.Name("self"),scope:new ji.Name("scope"),json:new ji.Name("json"),jsonPos:new ji.Name("jsonPos"),jsonLen:new ji.Name("jsonLen"),jsonPart:new ji.Name("jsonPart")};Lu.default=nAe;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=Yt,n=pn,r=Lu;e.keywordError={message:({keyword:y})=>(0,t.str)`must pass "${y}" keyword validation`},e.keyword$DataError={message:({keyword:y,schemaType:g})=>g?(0,t.str)`"${y}" keyword must be ${g} ($data)`:(0,t.str)`"${y}" keyword is invalid ($data)`};function i(y,g=e.keywordError,_,b){const{it:T}=y,{gen:I,compositeRule:E,allErrors:S}=T,A=f(y,g,_);b??(E||S)?u(I,A):l(T,(0,t._)`[${A}]`)}e.reportError=i;function s(y,g=e.keywordError,_){const{it:b}=y,{gen:T,compositeRule:I,allErrors:E}=b,S=f(y,g,_);u(T,S),I||E||l(b,r.default.vErrors)}e.reportExtraError=s;function o(y,g){y.assign(r.default.errors,g),y.if((0,t._)`${r.default.vErrors} !== null`,()=>y.if(g,()=>y.assign((0,t._)`${r.default.vErrors}.length`,g),()=>y.assign(r.default.vErrors,null)))}e.resetErrorsCount=o;function a({gen:y,keyword:g,schemaValue:_,data:b,errsCount:T,it:I}){if(T===void 0)throw new Error("ajv implementation error");const E=y.name("err");y.forRange("i",T,r.default.errors,S=>{y.const(E,(0,t._)`${r.default.vErrors}[${S}]`),y.if((0,t._)`${E}.instancePath === undefined`,()=>y.assign((0,t._)`${E}.instancePath`,(0,t.strConcat)(r.default.instancePath,I.errorPath))),y.assign((0,t._)`${E}.schemaPath`,(0,t.str)`${I.errSchemaPath}/${g}`),I.opts.verbose&&(y.assign((0,t._)`${E}.schema`,_),y.assign((0,t._)`${E}.data`,b))})}e.extendErrors=a;function u(y,g){const _=y.const("err",g);y.if((0,t._)`${r.default.vErrors} === null`,()=>y.assign(r.default.vErrors,(0,t._)`[${_}]`),(0,t._)`${r.default.vErrors}.push(${_})`),y.code((0,t._)`${r.default.errors}++`)}function l(y,g){const{gen:_,validateName:b,schemaEnv:T}=y;T.$async?_.throw((0,t._)`new ${y.ValidationError}(${g})`):(_.assign((0,t._)`${b}.errors`,g),_.return(!1))}const c={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function f(y,g,_){const{createErrors:b}=y.it;return b===!1?(0,t._)`{}`:d(y,g,_)}function d(y,g,_={}){const{gen:b,it:T}=y,I=[h(T,_),p(y,_)];return m(y,g,I),b.object(...I)}function h({errorPath:y},{instancePath:g}){const _=g?(0,t.str)`${y}${(0,n.getErrorPath)(g,n.Type.Str)}`:y;return[r.default.instancePath,(0,t.strConcat)(r.default.instancePath,_)]}function p({keyword:y,it:{errSchemaPath:g}},{schemaPath:_,parentSchema:b}){let T=b?g:(0,t.str)`${g}/${y}`;return _&&(T=(0,t.str)`${T}${(0,n.getErrorPath)(_,n.Type.Str)}`),[c.schemaPath,T]}function m(y,{params:g,message:_},b){const{keyword:T,data:I,schemaValue:E,it:S}=y,{opts:A,propertyName:L,topSchemaRef:W,schemaPath:z}=S;b.push([c.keyword,T],[c.params,typeof g=="function"?g(y):g||(0,t._)`{}`]),A.messages&&b.push([c.message,typeof _=="function"?_(y):_]),A.verbose&&b.push([c.schema,E],[c.parentSchema,(0,t._)`${W}${z}`],[r.default.data,I]),L&&b.push([c.propertyName,L])}})(A_);Object.defineProperty(Zp,"__esModule",{value:!0});Zp.boolOrEmptySchema=Zp.topBoolOrEmptySchema=void 0;const rAe=A_,iAe=Yt,sAe=Lu,oAe={message:"boolean schema is false"};function aAe(e){const{gen:t,schema:n,validateName:r}=e;n===!1?WQ(e,!1):typeof n=="object"&&n.$async===!0?t.return(sAe.default.data):(t.assign((0,iAe._)`${r}.errors`,null),t.return(!0))}Zp.topBoolOrEmptySchema=aAe;function uAe(e,t){const{gen:n,schema:r}=e;r===!1?(n.var(t,!1),WQ(e)):n.var(t,!0)}Zp.boolOrEmptySchema=uAe;function WQ(e,t){const{gen:n,data:r}=e,i={gen:n,keyword:"false schema",data:r,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,rAe.reportError)(i,oAe,void 0,t)}var O_={},Dd={};Object.defineProperty(Dd,"__esModule",{value:!0});Dd.getRules=Dd.isJSONType=void 0;const lAe=["string","number","integer","boolean","null","object","array"],cAe=new Set(lAe);function fAe(e){return typeof e=="string"&&cAe.has(e)}Dd.isJSONType=fAe;function dAe(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}Dd.getRules=dAe;var hl={};Object.defineProperty(hl,"__esModule",{value:!0});hl.shouldUseRule=hl.shouldUseGroup=hl.schemaHasRulesForType=void 0;function hAe({schema:e,self:t},n){const r=t.RULES.types[n];return r&&r!==!0&&qQ(e,r)}hl.schemaHasRulesForType=hAe;function qQ(e,t){return t.rules.some(n=>YQ(e,n))}hl.shouldUseGroup=qQ;function YQ(e,t){var n;return e[t.keyword]!==void 0||((n=t.definition.implements)===null||n===void 0?void 0:n.some(r=>e[r]!==void 0))}hl.shouldUseRule=YQ;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;const t=Dd,n=hl,r=A_,i=Yt,s=pn;var o;(function(b){b[b.Correct=0]="Correct",b[b.Wrong=1]="Wrong"})(o=e.DataType||(e.DataType={}));function a(b){const T=u(b.type);if(T.includes("null")){if(b.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!T.length&&b.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');b.nullable===!0&&T.push("null")}return T}e.getSchemaTypes=a;function u(b){const T=Array.isArray(b)?b:b?[b]:[];if(T.every(t.isJSONType))return T;throw new Error("type must be JSONType or JSONType[]: "+T.join(","))}e.getJSONTypes=u;function l(b,T){const{gen:I,data:E,opts:S}=b,A=f(T,S.coerceTypes),L=T.length>0&&!(A.length===0&&T.length===1&&(0,n.schemaHasRulesForType)(b,T[0]));if(L){const W=m(T,E,S.strictNumbers,o.Wrong);I.if(W,()=>{A.length?d(b,T,A):g(b)})}return L}e.coerceAndCheckDataType=l;const c=new Set(["string","number","integer","boolean","null"]);function f(b,T){return T?b.filter(I=>c.has(I)||T==="array"&&I==="array"):[]}function d(b,T,I){const{gen:E,data:S,opts:A}=b,L=E.let("dataType",(0,i._)`typeof ${S}`),W=E.let("coerced",(0,i._)`undefined`);A.coerceTypes==="array"&&E.if((0,i._)`${L} == 'object' && Array.isArray(${S}) && ${S}.length == 1`,()=>E.assign(S,(0,i._)`${S}[0]`).assign(L,(0,i._)`typeof ${S}`).if(m(T,S,A.strictNumbers),()=>E.assign(W,S))),E.if((0,i._)`${W} !== undefined`);for(const U of I)(c.has(U)||U==="array"&&A.coerceTypes==="array")&&z(U);E.else(),g(b),E.endIf(),E.if((0,i._)`${W} !== undefined`,()=>{E.assign(S,W),h(b,W)});function z(U){switch(U){case"string":E.elseIf((0,i._)`${L} == "number" || ${L} == "boolean"`).assign(W,(0,i._)`"" + ${S}`).elseIf((0,i._)`${S} === null`).assign(W,(0,i._)`""`);return;case"number":E.elseIf((0,i._)`${L} == "boolean" || ${S} === null
              || (${L} == "string" && ${S} && ${S} == +${S})`).assign(W,(0,i._)`+${S}`);return;case"integer":E.elseIf((0,i._)`${L} === "boolean" || ${S} === null
              || (${L} === "string" && ${S} && ${S} == +${S} && !(${S} % 1))`).assign(W,(0,i._)`+${S}`);return;case"boolean":E.elseIf((0,i._)`${S} === "false" || ${S} === 0 || ${S} === null`).assign(W,!1).elseIf((0,i._)`${S} === "true" || ${S} === 1`).assign(W,!0);return;case"null":E.elseIf((0,i._)`${S} === "" || ${S} === 0 || ${S} === false`),E.assign(W,null);return;case"array":E.elseIf((0,i._)`${L} === "string" || ${L} === "number"
              || ${L} === "boolean" || ${S} === null`).assign(W,(0,i._)`[${S}]`)}}}function h({gen:b,parentData:T,parentDataProperty:I},E){b.if((0,i._)`${T} !== undefined`,()=>b.assign((0,i._)`${T}[${I}]`,E))}function p(b,T,I,E=o.Correct){const S=E===o.Correct?i.operators.EQ:i.operators.NEQ;let A;switch(b){case"null":return(0,i._)`${T} ${S} null`;case"array":A=(0,i._)`Array.isArray(${T})`;break;case"object":A=(0,i._)`${T} && typeof ${T} == "object" && !Array.isArray(${T})`;break;case"integer":A=L((0,i._)`!(${T} % 1) && !isNaN(${T})`);break;case"number":A=L();break;default:return(0,i._)`typeof ${T} ${S} ${b}`}return E===o.Correct?A:(0,i.not)(A);function L(W=i.nil){return(0,i.and)((0,i._)`typeof ${T} == "number"`,W,I?(0,i._)`isFinite(${T})`:i.nil)}}e.checkDataType=p;function m(b,T,I,E){if(b.length===1)return p(b[0],T,I,E);let S;const A=(0,s.toHash)(b);if(A.array&&A.object){const L=(0,i._)`typeof ${T} != "object"`;S=A.null?L:(0,i._)`!${T} || ${L}`,delete A.null,delete A.array,delete A.object}else S=i.nil;A.number&&delete A.integer;for(const L in A)S=(0,i.and)(S,p(L,T,I,E));return S}e.checkDataTypes=m;const y={message:({schema:b})=>`must be ${b}`,params:({schema:b,schemaValue:T})=>typeof b=="string"?(0,i._)`{type: ${b}}`:(0,i._)`{type: ${T}}`};function g(b){const T=_(b);(0,r.reportError)(T,y)}e.reportTypeError=g;function _(b){const{gen:T,data:I,schema:E}=b,S=(0,s.schemaRefOrVal)(b,E,"type");return{gen:T,keyword:"type",data:I,schema:E.type,schemaCode:S,schemaValue:S,parentSchema:E,params:{},it:b}}})(O_);var sI={};Object.defineProperty(sI,"__esModule",{value:!0});sI.assignDefaults=void 0;const bh=Yt,pAe=pn;function mAe(e,t){const{properties:n,items:r}=e.schema;if(t==="object"&&n)for(const i in n)Y8(e,i,n[i].default);else t==="array"&&Array.isArray(r)&&r.forEach((i,s)=>Y8(e,s,i.default))}sI.assignDefaults=mAe;function Y8(e,t,n){const{gen:r,compositeRule:i,data:s,opts:o}=e;if(n===void 0)return;const a=(0,bh._)`${s}${(0,bh.getProperty)(t)}`;if(i){(0,pAe.checkStrictMode)(e,`default is ignored for: ${a}`);return}let u=(0,bh._)`${a} === undefined`;o.useDefaults==="empty"&&(u=(0,bh._)`${u} || ${a} === null || ${a} === ""`),r.if(u,(0,bh._)`${a} = ${(0,bh.stringify)(n)}`)}var iu={},qt={};Object.defineProperty(qt,"__esModule",{value:!0});qt.validateUnion=qt.validateArray=qt.usePattern=qt.callValidateCode=qt.schemaProperties=qt.allSchemaProperties=qt.noPropertyInData=qt.propertyInData=qt.isOwnProperty=qt.hasPropFunc=qt.reportMissingProp=qt.checkMissingProp=qt.checkReportMissingProp=void 0;const Xn=Yt,Rk=pn,Jl=Lu,gAe=pn;function yAe(e,t){const{gen:n,data:r,it:i}=e;n.if(kk(n,r,t,i.opts.ownProperties),()=>{e.setParams({missingProperty:(0,Xn._)`${t}`},!0),e.error()})}qt.checkReportMissingProp=yAe;function _Ae({gen:e,data:t,it:{opts:n}},r,i){return(0,Xn.or)(...r.map(s=>(0,Xn.and)(kk(e,t,s,n.ownProperties),(0,Xn._)`${i} = ${s}`)))}qt.checkMissingProp=_Ae;function vAe(e,t){e.setParams({missingProperty:t},!0),e.error()}qt.reportMissingProp=vAe;function GQ(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,Xn._)`Object.prototype.hasOwnProperty`})}qt.hasPropFunc=GQ;function Nk(e,t,n){return(0,Xn._)`${GQ(e)}.call(${t}, ${n})`}qt.isOwnProperty=Nk;function bAe(e,t,n,r){const i=(0,Xn._)`${t}${(0,Xn.getProperty)(n)} !== undefined`;return r?(0,Xn._)`${i} && ${Nk(e,t,n)}`:i}qt.propertyInData=bAe;function kk(e,t,n,r){const i=(0,Xn._)`${t}${(0,Xn.getProperty)(n)} === undefined`;return r?(0,Xn.or)(i,(0,Xn.not)(Nk(e,t,n))):i}qt.noPropertyInData=kk;function KQ(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}qt.allSchemaProperties=KQ;function EAe(e,t){return KQ(t).filter(n=>!(0,Rk.alwaysValidSchema)(e,t[n]))}qt.schemaProperties=EAe;function wAe({schemaCode:e,data:t,it:{gen:n,topSchemaRef:r,schemaPath:i,errorPath:s},it:o},a,u,l){const c=l?(0,Xn._)`${e}, ${t}, ${r}${i}`:t,f=[[Jl.default.instancePath,(0,Xn.strConcat)(Jl.default.instancePath,s)],[Jl.default.parentData,o.parentData],[Jl.default.parentDataProperty,o.parentDataProperty],[Jl.default.rootData,Jl.default.rootData]];o.opts.dynamicRef&&f.push([Jl.default.dynamicAnchors,Jl.default.dynamicAnchors]);const d=(0,Xn._)`${c}, ${n.object(...f)}`;return u!==Xn.nil?(0,Xn._)`${a}.call(${u}, ${d})`:(0,Xn._)`${a}(${d})`}qt.callValidateCode=wAe;const TAe=(0,Xn._)`new RegExp`;function SAe({gen:e,it:{opts:t}},n){const r=t.unicodeRegExp?"u":"",{regExp:i}=t.code,s=i(n,r);return e.scopeValue("pattern",{key:s.toString(),ref:s,code:(0,Xn._)`${i.code==="new RegExp"?TAe:(0,gAe.useFunc)(e,i)}(${n}, ${r})`})}qt.usePattern=SAe;function IAe(e){const{gen:t,data:n,keyword:r,it:i}=e,s=t.name("valid");if(i.allErrors){const a=t.let("valid",!0);return o(()=>t.assign(a,!1)),a}return t.var(s,!0),o(()=>t.break()),s;function o(a){const u=t.const("len",(0,Xn._)`${n}.length`);t.forRange("i",0,u,l=>{e.subschema({keyword:r,dataProp:l,dataPropType:Rk.Type.Num},s),t.if((0,Xn.not)(s),a)})}}qt.validateArray=IAe;function xAe(e){const{gen:t,schema:n,keyword:r,it:i}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(n.some(u=>(0,Rk.alwaysValidSchema)(i,u))&&!i.opts.unevaluated)return;const o=t.let("valid",!1),a=t.name("_valid");t.block(()=>n.forEach((u,l)=>{const c=e.subschema({keyword:r,schemaProp:l,compositeRule:!0},a);t.assign(o,(0,Xn._)`${o} || ${a}`),e.mergeValidEvaluated(c,a)||t.if((0,Xn.not)(o))})),e.result(o,()=>e.reset(),()=>e.error(!0))}qt.validateUnion=xAe;Object.defineProperty(iu,"__esModule",{value:!0});iu.validateKeywordUsage=iu.validSchemaType=iu.funcKeywordCode=iu.macroKeywordCode=void 0;const as=Yt,Hf=Lu,CAe=qt,AAe=A_;function OAe(e,t){const{gen:n,keyword:r,schema:i,parentSchema:s,it:o}=e,a=t.macro.call(o.self,i,s,o),u=QQ(n,r,a);o.opts.validateSchema!==!1&&o.self.validateSchema(a,!0);const l=n.name("valid");e.subschema({schema:a,schemaPath:as.nil,errSchemaPath:`${o.errSchemaPath}/${r}`,topSchemaRef:u,compositeRule:!0},l),e.pass(l,()=>e.error(!0))}iu.macroKeywordCode=OAe;function PAe(e,t){var n;const{gen:r,keyword:i,schema:s,parentSchema:o,$data:a,it:u}=e;NAe(u,t);const l=!a&&t.compile?t.compile.call(u.self,s,o,u):t.validate,c=QQ(r,i,l),f=r.let("valid");e.block$data(f,d),e.ok((n=t.valid)!==null&&n!==void 0?n:f);function d(){if(t.errors===!1)m(),t.modifying&&G8(e),y(()=>e.error());else{const g=t.async?h():p();t.modifying&&G8(e),y(()=>RAe(e,g))}}function h(){const g=r.let("ruleErrs",null);return r.try(()=>m((0,as._)`await `),_=>r.assign(f,!1).if((0,as._)`${_} instanceof ${u.ValidationError}`,()=>r.assign(g,(0,as._)`${_}.errors`),()=>r.throw(_))),g}function p(){const g=(0,as._)`${c}.errors`;return r.assign(g,null),m(as.nil),g}function m(g=t.async?(0,as._)`await `:as.nil){const _=u.opts.passContext?Hf.default.this:Hf.default.self,b=!("compile"in t&&!a||t.schema===!1);r.assign(f,(0,as._)`${g}${(0,CAe.callValidateCode)(e,c,_,b)}`,t.modifying)}function y(g){var _;r.if((0,as.not)((_=t.valid)!==null&&_!==void 0?_:f),g)}}iu.funcKeywordCode=PAe;function G8(e){const{gen:t,data:n,it:r}=e;t.if(r.parentData,()=>t.assign(n,(0,as._)`${r.parentData}[${r.parentDataProperty}]`))}function RAe(e,t){const{gen:n}=e;n.if((0,as._)`Array.isArray(${t})`,()=>{n.assign(Hf.default.vErrors,(0,as._)`${Hf.default.vErrors} === null ? ${t} : ${Hf.default.vErrors}.concat(${t})`).assign(Hf.default.errors,(0,as._)`${Hf.default.vErrors}.length`),(0,AAe.extendErrors)(e)},()=>e.error())}function NAe({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function QQ(e,t,n){if(n===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof n=="function"?{ref:n}:{ref:n,code:(0,as.stringify)(n)})}function kAe(e,t,n=!1){return!t.length||t.some(r=>r==="array"?Array.isArray(e):r==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==r||n&&typeof e>"u")}iu.validSchemaType=kAe;function DAe({schema:e,opts:t,self:n,errSchemaPath:r},i,s){if(Array.isArray(i.keyword)?!i.keyword.includes(s):i.keyword!==s)throw new Error("ajv implementation error");const o=i.dependencies;if(o!=null&&o.some(a=>!Object.prototype.hasOwnProperty.call(e,a)))throw new Error(`parent schema must have dependencies of ${s}: ${o.join(",")}`);if(i.validateSchema&&!i.validateSchema(e[s])){const u=`keyword "${s}" value is invalid at path "${r}": `+n.errorsText(i.validateSchema.errors);if(t.validateSchema==="log")n.logger.error(u);else throw new Error(u)}}iu.validateKeywordUsage=DAe;var jc={};Object.defineProperty(jc,"__esModule",{value:!0});jc.extendSubschemaMode=jc.extendSubschemaData=jc.getSubschema=void 0;const Ka=Yt,XQ=pn;function $Ae(e,{keyword:t,schemaProp:n,schema:r,schemaPath:i,errSchemaPath:s,topSchemaRef:o}){if(t!==void 0&&r!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const a=e.schema[t];return n===void 0?{schema:a,schemaPath:(0,Ka._)`${e.schemaPath}${(0,Ka.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:a[n],schemaPath:(0,Ka._)`${e.schemaPath}${(0,Ka.getProperty)(t)}${(0,Ka.getProperty)(n)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,XQ.escapeFragment)(n)}`}}if(r!==void 0){if(i===void 0||s===void 0||o===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:r,schemaPath:i,topSchemaRef:o,errSchemaPath:s}}throw new Error('either "keyword" or "schema" must be passed')}jc.getSubschema=$Ae;function LAe(e,t,{dataProp:n,dataPropType:r,data:i,dataTypes:s,propertyName:o}){if(i!==void 0&&n!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:a}=t;if(n!==void 0){const{errorPath:l,dataPathArr:c,opts:f}=t,d=a.let("data",(0,Ka._)`${t.data}${(0,Ka.getProperty)(n)}`,!0);u(d),e.errorPath=(0,Ka.str)`${l}${(0,XQ.getErrorPath)(n,r,f.jsPropertySyntax)}`,e.parentDataProperty=(0,Ka._)`${n}`,e.dataPathArr=[...c,e.parentDataProperty]}if(i!==void 0){const l=i instanceof Ka.Name?i:a.let("data",i,!0);u(l),o!==void 0&&(e.propertyName=o)}s&&(e.dataTypes=s);function u(l){e.data=l,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,l]}}jc.extendSubschemaData=LAe;function MAe(e,{jtdDiscriminator:t,jtdMetadata:n,compositeRule:r,createErrors:i,allErrors:s}){r!==void 0&&(e.compositeRule=r),i!==void 0&&(e.createErrors=i),s!==void 0&&(e.allErrors=s),e.jtdDiscriminator=t,e.jtdMetadata=n}jc.extendSubschemaMode=MAe;var Ai={},Dk=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(s=Object.keys(t),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n};const K8=Pa(Dk);var JQ={exports:{}},Sc=JQ.exports=function(e,t,n){typeof t=="function"&&(n=t,t={}),n=t.cb||n;var r=typeof n=="function"?n:n.pre||function(){},i=n.post||function(){};Z1(t,r,i,e,"",e)};Sc.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Sc.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Sc.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Sc.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Z1(e,t,n,r,i,s,o,a,u,l){if(r&&typeof r=="object"&&!Array.isArray(r)){t(r,i,s,o,a,u,l);for(var c in r){var f=r[c];if(Array.isArray(f)){if(c in Sc.arrayKeywords)for(var d=0;d<f.length;d++)Z1(e,t,n,f[d],i+"/"+c+"/"+d,s,i,c,r,d)}else if(c in Sc.propsKeywords){if(f&&typeof f=="object")for(var h in f)Z1(e,t,n,f[h],i+"/"+c+"/"+FAe(h),s,i,c,r,h)}else(c in Sc.keywords||e.allKeys&&!(c in Sc.skipKeywords))&&Z1(e,t,n,f,i+"/"+c,s,i,c,r)}n(r,i,s,o,a,u,l)}}function FAe(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var BAe=JQ.exports;Object.defineProperty(Ai,"__esModule",{value:!0});Ai.getSchemaRefs=Ai.resolveUrl=Ai.normalizeId=Ai._getFullPath=Ai.getFullPath=Ai.inlineRef=void 0;const jAe=pn,UAe=Dk,VAe=BAe,zAe=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function HAe(e,t=!0){return typeof e=="boolean"?!0:t===!0?!VP(e):t?ZQ(e)<=t:!1}Ai.inlineRef=HAe;const WAe=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function VP(e){for(const t in e){if(WAe.has(t))return!0;const n=e[t];if(Array.isArray(n)&&n.some(VP)||typeof n=="object"&&VP(n))return!0}return!1}function ZQ(e){let t=0;for(const n in e){if(n==="$ref")return 1/0;if(t++,!zAe.has(n)&&(typeof e[n]=="object"&&(0,jAe.eachItem)(e[n],r=>t+=ZQ(r)),t===1/0))return 1/0}return t}function eX(e,t="",n){n!==!1&&(t=yp(t));const r=e.parse(t);return tX(e,r)}Ai.getFullPath=eX;function tX(e,t){return e.serialize(t).split("#")[0]+"#"}Ai._getFullPath=tX;const qAe=/#\/?$/;function yp(e){return e?e.replace(qAe,""):""}Ai.normalizeId=yp;function YAe(e,t,n){return n=yp(n),e.resolve(t,n)}Ai.resolveUrl=YAe;const GAe=/^[a-z_][-a-z0-9._]*$/i;function KAe(e,t){if(typeof e=="boolean")return{};const{schemaId:n,uriResolver:r}=this.opts,i=yp(e[n]||t),s={"":i},o=eX(r,i,!1),a={},u=new Set;return VAe(e,{allKeys:!0},(f,d,h,p)=>{if(p===void 0)return;const m=o+d;let y=s[p];typeof f[n]=="string"&&(y=g.call(this,f[n])),_.call(this,f.$anchor),_.call(this,f.$dynamicAnchor),s[d]=y;function g(b){const T=this.opts.uriResolver.resolve;if(b=yp(y?T(y,b):b),u.has(b))throw c(b);u.add(b);let I=this.refs[b];return typeof I=="string"&&(I=this.refs[I]),typeof I=="object"?l(f,I.schema,b):b!==yp(m)&&(b[0]==="#"?(l(f,a[b],b),a[b]=f):this.refs[b]=m),b}function _(b){if(typeof b=="string"){if(!GAe.test(b))throw new Error(`invalid anchor "${b}"`);g.call(this,`#${b}`)}}}),a;function l(f,d,h){if(d!==void 0&&!UAe(f,d))throw c(h)}function c(f){return new Error(`reference "${f}" resolves to more than one schema`)}}Ai.getSchemaRefs=KAe;Object.defineProperty(wa,"__esModule",{value:!0});wa.getData=wa.KeywordCxt=wa.validateFunctionCode=void 0;const nX=Zp,Q8=O_,$k=hl,kw=O_,QAe=sI,Pg=iu,HC=jc,et=Yt,yt=Lu,XAe=Ai,pl=pn,O0=A_;function JAe(e){if(sX(e)&&(oX(e),iX(e))){tOe(e);return}rX(e,()=>(0,nX.topBoolOrEmptySchema)(e))}wa.validateFunctionCode=JAe;function rX({gen:e,validateName:t,schema:n,schemaEnv:r,opts:i},s){i.code.es5?e.func(t,(0,et._)`${yt.default.data}, ${yt.default.valCxt}`,r.$async,()=>{e.code((0,et._)`"use strict"; ${X8(n,i)}`),eOe(e,i),e.code(s)}):e.func(t,(0,et._)`${yt.default.data}, ${ZAe(i)}`,r.$async,()=>e.code(X8(n,i)).code(s))}function ZAe(e){return(0,et._)`{${yt.default.instancePath}="", ${yt.default.parentData}, ${yt.default.parentDataProperty}, ${yt.default.rootData}=${yt.default.data}${e.dynamicRef?(0,et._)`, ${yt.default.dynamicAnchors}={}`:et.nil}}={}`}function eOe(e,t){e.if(yt.default.valCxt,()=>{e.var(yt.default.instancePath,(0,et._)`${yt.default.valCxt}.${yt.default.instancePath}`),e.var(yt.default.parentData,(0,et._)`${yt.default.valCxt}.${yt.default.parentData}`),e.var(yt.default.parentDataProperty,(0,et._)`${yt.default.valCxt}.${yt.default.parentDataProperty}`),e.var(yt.default.rootData,(0,et._)`${yt.default.valCxt}.${yt.default.rootData}`),t.dynamicRef&&e.var(yt.default.dynamicAnchors,(0,et._)`${yt.default.valCxt}.${yt.default.dynamicAnchors}`)},()=>{e.var(yt.default.instancePath,(0,et._)`""`),e.var(yt.default.parentData,(0,et._)`undefined`),e.var(yt.default.parentDataProperty,(0,et._)`undefined`),e.var(yt.default.rootData,yt.default.data),t.dynamicRef&&e.var(yt.default.dynamicAnchors,(0,et._)`{}`)})}function tOe(e){const{schema:t,opts:n,gen:r}=e;rX(e,()=>{n.$comment&&t.$comment&&uX(e),oOe(e),r.let(yt.default.vErrors,null),r.let(yt.default.errors,0),n.unevaluated&&nOe(e),aX(e),lOe(e)})}function nOe(e){const{gen:t,validateName:n}=e;e.evaluated=t.const("evaluated",(0,et._)`${n}.evaluated`),t.if((0,et._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,et._)`${e.evaluated}.props`,(0,et._)`undefined`)),t.if((0,et._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,et._)`${e.evaluated}.items`,(0,et._)`undefined`))}function X8(e,t){const n=typeof e=="object"&&e[t.schemaId];return n&&(t.code.source||t.code.process)?(0,et._)`/*# sourceURL=${n} */`:et.nil}function rOe(e,t){if(sX(e)&&(oX(e),iX(e))){iOe(e,t);return}(0,nX.boolOrEmptySchema)(e,t)}function iX({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const n in e)if(t.RULES.all[n])return!0;return!1}function sX(e){return typeof e.schema!="boolean"}function iOe(e,t){const{schema:n,gen:r,opts:i}=e;i.$comment&&n.$comment&&uX(e),aOe(e),uOe(e);const s=r.const("_errs",yt.default.errors);aX(e,s),r.var(t,(0,et._)`${s} === ${yt.default.errors}`)}function oX(e){(0,pl.checkUnknownRules)(e),sOe(e)}function aX(e,t){if(e.opts.jtd)return J8(e,[],!1,t);const n=(0,Q8.getSchemaTypes)(e.schema),r=(0,Q8.coerceAndCheckDataType)(e,n);J8(e,n,!r,t)}function sOe(e){const{schema:t,errSchemaPath:n,opts:r,self:i}=e;t.$ref&&r.ignoreKeywordsWithRef&&(0,pl.schemaHasRulesButRef)(t,i.RULES)&&i.logger.warn(`$ref: keywords ignored in schema at path "${n}"`)}function oOe(e){const{schema:t,opts:n}=e;t.default!==void 0&&n.useDefaults&&n.strictSchema&&(0,pl.checkStrictMode)(e,"default is ignored in the schema root")}function aOe(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,XAe.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function uOe(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function uX({gen:e,schemaEnv:t,schema:n,errSchemaPath:r,opts:i}){const s=n.$comment;if(i.$comment===!0)e.code((0,et._)`${yt.default.self}.logger.log(${s})`);else if(typeof i.$comment=="function"){const o=(0,et.str)`${r}/$comment`,a=e.scopeValue("root",{ref:t.root});e.code((0,et._)`${yt.default.self}.opts.$comment(${s}, ${o}, ${a}.schema)`)}}function lOe(e){const{gen:t,schemaEnv:n,validateName:r,ValidationError:i,opts:s}=e;n.$async?t.if((0,et._)`${yt.default.errors} === 0`,()=>t.return(yt.default.data),()=>t.throw((0,et._)`new ${i}(${yt.default.vErrors})`)):(t.assign((0,et._)`${r}.errors`,yt.default.vErrors),s.unevaluated&&cOe(e),t.return((0,et._)`${yt.default.errors} === 0`))}function cOe({gen:e,evaluated:t,props:n,items:r}){n instanceof et.Name&&e.assign((0,et._)`${t}.props`,n),r instanceof et.Name&&e.assign((0,et._)`${t}.items`,r)}function J8(e,t,n,r){const{gen:i,schema:s,data:o,allErrors:a,opts:u,self:l}=e,{RULES:c}=l;if(s.$ref&&(u.ignoreKeywordsWithRef||!(0,pl.schemaHasRulesButRef)(s,c))){i.block(()=>fX(e,"$ref",c.all.$ref.definition));return}u.jtd||fOe(e,t),i.block(()=>{for(const d of c.rules)f(d);f(c.post)});function f(d){(0,$k.shouldUseGroup)(s,d)&&(d.type?(i.if((0,kw.checkDataType)(d.type,o,u.strictNumbers)),Z8(e,d),t.length===1&&t[0]===d.type&&n&&(i.else(),(0,kw.reportTypeError)(e)),i.endIf()):Z8(e,d),a||i.if((0,et._)`${yt.default.errors} === ${r||0}`))}}function Z8(e,t){const{gen:n,schema:r,opts:{useDefaults:i}}=e;i&&(0,QAe.assignDefaults)(e,t.type),n.block(()=>{for(const s of t.rules)(0,$k.shouldUseRule)(r,s)&&fX(e,s.keyword,s.definition,t.type)})}function fOe(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(dOe(e,t),e.opts.allowUnionTypes||hOe(e,t),pOe(e,e.dataTypes))}function dOe(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(n=>{lX(e.dataTypes,n)||Lk(e,`type "${n}" not allowed by context "${e.dataTypes.join(",")}"`)}),gOe(e,t)}}function hOe(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&Lk(e,"use allowUnionTypes to allow union type keyword")}function pOe(e,t){const n=e.self.RULES.all;for(const r in n){const i=n[r];if(typeof i=="object"&&(0,$k.shouldUseRule)(e.schema,i)){const{type:s}=i.definition;s.length&&!s.some(o=>mOe(t,o))&&Lk(e,`missing type "${s.join(",")}" for keyword "${r}"`)}}}function mOe(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function lX(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function gOe(e,t){const n=[];for(const r of e.dataTypes)lX(t,r)?n.push(r):t.includes("integer")&&r==="number"&&n.push("integer");e.dataTypes=n}function Lk(e,t){const n=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${n}" (strictTypes)`,(0,pl.checkStrictMode)(e,t,e.opts.strictTypes)}class cX{constructor(t,n,r){if((0,Pg.validateKeywordUsage)(t,n,r),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=r,this.data=t.data,this.schema=t.schema[r],this.$data=n.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,pl.schemaRefOrVal)(t,this.schema,r,this.$data),this.schemaType=n.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=n,this.$data)this.schemaCode=t.gen.const("vSchema",dX(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,Pg.validSchemaType)(this.schema,n.schemaType,n.allowUndefined))throw new Error(`${r} value must be ${JSON.stringify(n.schemaType)}`);("code"in n?n.trackErrors:n.errors!==!1)&&(this.errsCount=t.gen.const("_errs",yt.default.errors))}result(t,n,r){this.failResult((0,et.not)(t),n,r)}failResult(t,n,r){this.gen.if(t),r?r():this.error(),n?(this.gen.else(),n(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,n){this.failResult((0,et.not)(t),void 0,n)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:n}=this;this.fail((0,et._)`${n} !== undefined && (${(0,et.or)(this.invalid$data(),t)})`)}error(t,n,r){if(n){this.setParams(n),this._error(t,r),this.setParams({});return}this._error(t,r)}_error(t,n){(t?O0.reportExtraError:O0.reportError)(this,this.def.error,n)}$dataError(){(0,O0.reportError)(this,this.def.$dataError||O0.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,O0.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,n){n?Object.assign(this.params,t):this.params=t}block$data(t,n,r=et.nil){this.gen.block(()=>{this.check$data(t,r),n()})}check$data(t=et.nil,n=et.nil){if(!this.$data)return;const{gen:r,schemaCode:i,schemaType:s,def:o}=this;r.if((0,et.or)((0,et._)`${i} === undefined`,n)),t!==et.nil&&r.assign(t,!0),(s.length||o.validateSchema)&&(r.elseIf(this.invalid$data()),this.$dataError(),t!==et.nil&&r.assign(t,!1)),r.else()}invalid$data(){const{gen:t,schemaCode:n,schemaType:r,def:i,it:s}=this;return(0,et.or)(o(),a());function o(){if(r.length){if(!(n instanceof et.Name))throw new Error("ajv implementation error");const u=Array.isArray(r)?r:[r];return(0,et._)`${(0,kw.checkDataTypes)(u,n,s.opts.strictNumbers,kw.DataType.Wrong)}`}return et.nil}function a(){if(i.validateSchema){const u=t.scopeValue("validate$data",{ref:i.validateSchema});return(0,et._)`!${u}(${n})`}return et.nil}}subschema(t,n){const r=(0,HC.getSubschema)(this.it,t);(0,HC.extendSubschemaData)(r,this.it,t),(0,HC.extendSubschemaMode)(r,t);const i={...this.it,...r,items:void 0,props:void 0};return rOe(i,n),i}mergeEvaluated(t,n){const{it:r,gen:i}=this;r.opts.unevaluated&&(r.props!==!0&&t.props!==void 0&&(r.props=pl.mergeEvaluated.props(i,t.props,r.props,n)),r.items!==!0&&t.items!==void 0&&(r.items=pl.mergeEvaluated.items(i,t.items,r.items,n)))}mergeValidEvaluated(t,n){const{it:r,gen:i}=this;if(r.opts.unevaluated&&(r.props!==!0||r.items!==!0))return i.if(n,()=>this.mergeEvaluated(t,et.Name)),!0}}wa.KeywordCxt=cX;function fX(e,t,n,r){const i=new cX(e,n,t);"code"in n?n.code(i,r):i.$data&&n.validate?(0,Pg.funcKeywordCode)(i,n):"macro"in n?(0,Pg.macroKeywordCode)(i,n):(n.compile||n.validate)&&(0,Pg.funcKeywordCode)(i,n)}const yOe=/^\/(?:[^~]|~0|~1)*$/,_Oe=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function dX(e,{dataLevel:t,dataNames:n,dataPathArr:r}){let i,s;if(e==="")return yt.default.rootData;if(e[0]==="/"){if(!yOe.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);i=e,s=yt.default.rootData}else{const l=_Oe.exec(e);if(!l)throw new Error(`Invalid JSON-pointer: ${e}`);const c=+l[1];if(i=l[2],i==="#"){if(c>=t)throw new Error(u("property/index",c));return r[t-c]}if(c>t)throw new Error(u("data",c));if(s=n[t-c],!i)return s}let o=s;const a=i.split("/");for(const l of a)l&&(s=(0,et._)`${s}${(0,et.getProperty)((0,pl.unescapeJsonPointer)(l))}`,o=(0,et._)`${o} && ${s}`);return o;function u(l,c){return`Cannot access ${l} ${c} levels up, current level is ${t}`}}wa.getData=dX;var P_={};Object.defineProperty(P_,"__esModule",{value:!0});class vOe extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}P_.default=vOe;var R_={};Object.defineProperty(R_,"__esModule",{value:!0});const WC=Ai;class bOe extends Error{constructor(t,n,r,i){super(i||`can't resolve reference ${r} from id ${n}`),this.missingRef=(0,WC.resolveUrl)(t,n,r),this.missingSchema=(0,WC.normalizeId)((0,WC.getFullPath)(t,this.missingRef))}}R_.default=bOe;var Rs={};Object.defineProperty(Rs,"__esModule",{value:!0});Rs.resolveSchema=Rs.getCompilingSchema=Rs.resolveRef=Rs.compileSchema=Rs.SchemaEnv=void 0;const ia=Yt,EOe=P_,kf=Lu,pa=Ai,e9=pn,wOe=wa;class oI{constructor(t){var n;this.refs={},this.dynamicAnchors={};let r;typeof t.schema=="object"&&(r=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(n=t.baseId)!==null&&n!==void 0?n:(0,pa.normalizeId)(r==null?void 0:r[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=r==null?void 0:r.$async,this.refs={}}}Rs.SchemaEnv=oI;function Mk(e){const t=hX.call(this,e);if(t)return t;const n=(0,pa.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:r,lines:i}=this.opts.code,{ownProperties:s}=this.opts,o=new ia.CodeGen(this.scope,{es5:r,lines:i,ownProperties:s});let a;e.$async&&(a=o.scopeValue("Error",{ref:EOe.default,code:(0,ia._)`require("ajv/dist/runtime/validation_error").default`}));const u=o.scopeName("validate");e.validateName=u;const l={gen:o,allErrors:this.opts.allErrors,data:kf.default.data,parentData:kf.default.parentData,parentDataProperty:kf.default.parentDataProperty,dataNames:[kf.default.data],dataPathArr:[ia.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,ia.stringify)(e.schema)}:{ref:e.schema}),validateName:u,ValidationError:a,schema:e.schema,schemaEnv:e,rootId:n,baseId:e.baseId||n,schemaPath:ia.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,ia._)`""`,opts:this.opts,self:this};let c;try{this._compilations.add(e),(0,wOe.validateFunctionCode)(l),o.optimize(this.opts.code.optimize);const f=o.toString();c=`${o.scopeRefs(kf.default.scope)}return ${f}`,this.opts.code.process&&(c=this.opts.code.process(c,e));const h=new Function(`${kf.default.self}`,`${kf.default.scope}`,c)(this,this.scope.get());if(this.scope.value(u,{ref:h}),h.errors=null,h.schema=e.schema,h.schemaEnv=e,e.$async&&(h.$async=!0),this.opts.code.source===!0&&(h.source={validateName:u,validateCode:f,scopeValues:o._values}),this.opts.unevaluated){const{props:p,items:m}=l;h.evaluated={props:p instanceof ia.Name?void 0:p,items:m instanceof ia.Name?void 0:m,dynamicProps:p instanceof ia.Name,dynamicItems:m instanceof ia.Name},h.source&&(h.source.evaluated=(0,ia.stringify)(h.evaluated))}return e.validate=h,e}catch(f){throw delete e.validate,delete e.validateName,c&&this.logger.error("Error compiling schema, function code:",c),f}finally{this._compilations.delete(e)}}Rs.compileSchema=Mk;function TOe(e,t,n){var r;n=(0,pa.resolveUrl)(this.opts.uriResolver,t,n);const i=e.refs[n];if(i)return i;let s=xOe.call(this,e,n);if(s===void 0){const o=(r=e.localRefs)===null||r===void 0?void 0:r[n],{schemaId:a}=this.opts;o&&(s=new oI({schema:o,schemaId:a,root:e,baseId:t}))}if(s!==void 0)return e.refs[n]=SOe.call(this,s)}Rs.resolveRef=TOe;function SOe(e){return(0,pa.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:Mk.call(this,e)}function hX(e){for(const t of this._compilations)if(IOe(t,e))return t}Rs.getCompilingSchema=hX;function IOe(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function xOe(e,t){let n;for(;typeof(n=this.refs[t])=="string";)t=n;return n||this.schemas[t]||aI.call(this,e,t)}function aI(e,t){const n=this.opts.uriResolver.parse(t),r=(0,pa._getFullPath)(this.opts.uriResolver,n);let i=(0,pa.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&r===i)return qC.call(this,n,e);const s=(0,pa.normalizeId)(r),o=this.refs[s]||this.schemas[s];if(typeof o=="string"){const a=aI.call(this,e,o);return typeof(a==null?void 0:a.schema)!="object"?void 0:qC.call(this,n,a)}if(typeof(o==null?void 0:o.schema)=="object"){if(o.validate||Mk.call(this,o),s===(0,pa.normalizeId)(t)){const{schema:a}=o,{schemaId:u}=this.opts,l=a[u];return l&&(i=(0,pa.resolveUrl)(this.opts.uriResolver,i,l)),new oI({schema:a,schemaId:u,root:e,baseId:i})}return qC.call(this,n,o)}}Rs.resolveSchema=aI;const COe=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function qC(e,{baseId:t,schema:n,root:r}){var i;if(((i=e.fragment)===null||i===void 0?void 0:i[0])!=="/")return;for(const a of e.fragment.slice(1).split("/")){if(typeof n=="boolean")return;const u=n[(0,e9.unescapeFragment)(a)];if(u===void 0)return;n=u;const l=typeof n=="object"&&n[this.opts.schemaId];!COe.has(a)&&l&&(t=(0,pa.resolveUrl)(this.opts.uriResolver,t,l))}let s;if(typeof n!="boolean"&&n.$ref&&!(0,e9.schemaHasRulesButRef)(n,this.RULES)){const a=(0,pa.resolveUrl)(this.opts.uriResolver,t,n.$ref);s=aI.call(this,r,a)}const{schemaId:o}=this.opts;if(s=s||new oI({schema:n,schemaId:o,root:r,baseId:t}),s.schema!==s.root.schema)return s}const AOe="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",OOe="Meta-schema for $data reference (JSON AnySchema extension proposal)",POe="object",ROe=["$data"],NOe={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},kOe=!1,DOe={$id:AOe,description:OOe,type:POe,required:ROe,properties:NOe,additionalProperties:kOe};var Fk={},zP={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(n,r){r(t)})(io,function(n){function r(){for(var K=arguments.length,j=Array(K),X=0;X<K;X++)j[X]=arguments[X];if(j.length>1){j[0]=j[0].slice(0,-1);for(var pe=j.length-1,he=1;he<pe;++he)j[he]=j[he].slice(1,-1);return j[pe]=j[pe].slice(1),j.join("")}else return j[0]}function i(K){return"(?:"+K+")"}function s(K){return K===void 0?"undefined":K===null?"null":Object.prototype.toString.call(K).split(" ").pop().split("]").shift().toLowerCase()}function o(K){return K.toUpperCase()}function a(K){return K!=null?K instanceof Array?K:typeof K.length!="number"||K.split||K.setInterval||K.call?[K]:Array.prototype.slice.call(K):[]}function u(K,j){var X=K;if(j)for(var pe in j)X[pe]=j[pe];return X}function l(K){var j="[A-Za-z]",X="[0-9]",pe=r(X,"[A-Fa-f]"),he=i(i("%[EFef]"+pe+"%"+pe+pe+"%"+pe+pe)+"|"+i("%[89A-Fa-f]"+pe+"%"+pe+pe)+"|"+i("%"+pe+pe)),He="[\\:\\/\\?\\#\\[\\]\\@]",Te="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Ve=r(He,Te),ct=K?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Je=K?"[\\uE000-\\uF8FF]":"[]",mt=r(j,X,"[\\-\\.\\_\\~]",ct);i(j+r(j,X,"[\\+\\-\\.]")+"*"),i(i(he+"|"+r(mt,Te,"[\\:]"))+"*");var Lt=i(i("25[0-5]")+"|"+i("2[0-4]"+X)+"|"+i("1"+X+X)+"|"+i("0?[1-9]"+X)+"|0?0?"+X),$n=i(Lt+"\\."+Lt+"\\."+Lt+"\\."+Lt),pt=i(pe+"{1,4}"),xn=i(i(pt+"\\:"+pt)+"|"+$n),Et=i(i(pt+"\\:")+"{6}"+xn),mn=i("\\:\\:"+i(pt+"\\:")+"{5}"+xn),tr=i(i(pt)+"?\\:\\:"+i(pt+"\\:")+"{4}"+xn),Wr=i(i(i(pt+"\\:")+"{0,1}"+pt)+"?\\:\\:"+i(pt+"\\:")+"{3}"+xn),Pr=i(i(i(pt+"\\:")+"{0,2}"+pt)+"?\\:\\:"+i(pt+"\\:")+"{2}"+xn),is=i(i(i(pt+"\\:")+"{0,3}"+pt)+"?\\:\\:"+pt+"\\:"+xn),_i=i(i(i(pt+"\\:")+"{0,4}"+pt)+"?\\:\\:"+xn),hr=i(i(i(pt+"\\:")+"{0,5}"+pt)+"?\\:\\:"+pt),Ye=i(i(i(pt+"\\:")+"{0,6}"+pt)+"?\\:\\:"),zt=i([Et,mn,tr,Wr,Pr,is,_i,hr,Ye].join("|")),Hn=i(i(mt+"|"+he)+"+");i("[vV]"+pe+"+\\."+r(mt,Te,"[\\:]")+"+"),i(i(he+"|"+r(mt,Te))+"*");var ii=i(he+"|"+r(mt,Te,"[\\:\\@]"));return i(i(he+"|"+r(mt,Te,"[\\@]"))+"+"),i(i(ii+"|"+r("[\\/\\?]",Je))+"*"),{NOT_SCHEME:new RegExp(r("[^]",j,X,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(r("[^\\%\\:]",mt,Te),"g"),NOT_HOST:new RegExp(r("[^\\%\\[\\]\\:]",mt,Te),"g"),NOT_PATH:new RegExp(r("[^\\%\\/\\:\\@]",mt,Te),"g"),NOT_PATH_NOSCHEME:new RegExp(r("[^\\%\\/\\@]",mt,Te),"g"),NOT_QUERY:new RegExp(r("[^\\%]",mt,Te,"[\\:\\@\\/\\?]",Je),"g"),NOT_FRAGMENT:new RegExp(r("[^\\%]",mt,Te,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(r("[^]",mt,Te),"g"),UNRESERVED:new RegExp(mt,"g"),OTHER_CHARS:new RegExp(r("[^\\%]",mt,Ve),"g"),PCT_ENCODED:new RegExp(he,"g"),IPV4ADDRESS:new RegExp("^("+$n+")$"),IPV6ADDRESS:new RegExp("^\\[?("+zt+")"+i(i("\\%25|\\%(?!"+pe+"{2})")+"("+Hn+")")+"?\\]?$")}}var c=l(!1),f=l(!0),d=function(){function K(j,X){var pe=[],he=!0,He=!1,Te=void 0;try{for(var Ve=j[Symbol.iterator](),ct;!(he=(ct=Ve.next()).done)&&(pe.push(ct.value),!(X&&pe.length===X));he=!0);}catch(Je){He=!0,Te=Je}finally{try{!he&&Ve.return&&Ve.return()}finally{if(He)throw Te}}return pe}return function(j,X){if(Array.isArray(j))return j;if(Symbol.iterator in Object(j))return K(j,X);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(K){if(Array.isArray(K)){for(var j=0,X=Array(K.length);j<K.length;j++)X[j]=K[j];return X}else return Array.from(K)},p=2147483647,m=36,y=1,g=26,_=38,b=700,T=72,I=128,E="-",S=/^xn--/,A=/[^\0-\x7E]/,L=/[\x2E\u3002\uFF0E\uFF61]/g,W={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},z=m-y,U=Math.floor,Z=String.fromCharCode;function H(K){throw new RangeError(W[K])}function ue(K,j){for(var X=[],pe=K.length;pe--;)X[pe]=j(K[pe]);return X}function ie(K,j){var X=K.split("@"),pe="";X.length>1&&(pe=X[0]+"@",K=X[1]),K=K.replace(L,".");var he=K.split("."),He=ue(he,j).join(".");return pe+He}function _e(K){for(var j=[],X=0,pe=K.length;X<pe;){var he=K.charCodeAt(X++);if(he>=55296&&he<=56319&&X<pe){var He=K.charCodeAt(X++);(He&64512)==56320?j.push(((he&1023)<<10)+(He&1023)+65536):(j.push(he),X--)}else j.push(he)}return j}var te=function(j){return String.fromCodePoint.apply(String,h(j))},oe=function(j){return j-48<10?j-22:j-65<26?j-65:j-97<26?j-97:m},J=function(j,X){return j+22+75*(j<26)-((X!=0)<<5)},x=function(j,X,pe){var he=0;for(j=pe?U(j/b):j>>1,j+=U(j/X);j>z*g>>1;he+=m)j=U(j/z);return U(he+(z+1)*j/(j+_))},C=function(j){var X=[],pe=j.length,he=0,He=I,Te=T,Ve=j.lastIndexOf(E);Ve<0&&(Ve=0);for(var ct=0;ct<Ve;++ct)j.charCodeAt(ct)>=128&&H("not-basic"),X.push(j.charCodeAt(ct));for(var Je=Ve>0?Ve+1:0;Je<pe;){for(var mt=he,Lt=1,$n=m;;$n+=m){Je>=pe&&H("invalid-input");var pt=oe(j.charCodeAt(Je++));(pt>=m||pt>U((p-he)/Lt))&&H("overflow"),he+=pt*Lt;var xn=$n<=Te?y:$n>=Te+g?g:$n-Te;if(pt<xn)break;var Et=m-xn;Lt>U(p/Et)&&H("overflow"),Lt*=Et}var mn=X.length+1;Te=x(he-mt,mn,mt==0),U(he/mn)>p-He&&H("overflow"),He+=U(he/mn),he%=mn,X.splice(he++,0,He)}return String.fromCodePoint.apply(String,X)},B=function(j){var X=[];j=_e(j);var pe=j.length,he=I,He=0,Te=T,Ve=!0,ct=!1,Je=void 0;try{for(var mt=j[Symbol.iterator](),Lt;!(Ve=(Lt=mt.next()).done);Ve=!0){var $n=Lt.value;$n<128&&X.push(Z($n))}}catch(be){ct=!0,Je=be}finally{try{!Ve&&mt.return&&mt.return()}finally{if(ct)throw Je}}var pt=X.length,xn=pt;for(pt&&X.push(E);xn<pe;){var Et=p,mn=!0,tr=!1,Wr=void 0;try{for(var Pr=j[Symbol.iterator](),is;!(mn=(is=Pr.next()).done);mn=!0){var _i=is.value;_i>=he&&_i<Et&&(Et=_i)}}catch(be){tr=!0,Wr=be}finally{try{!mn&&Pr.return&&Pr.return()}finally{if(tr)throw Wr}}var hr=xn+1;Et-he>U((p-He)/hr)&&H("overflow"),He+=(Et-he)*hr,he=Et;var Ye=!0,zt=!1,Hn=void 0;try{for(var ii=j[Symbol.iterator](),gs;!(Ye=(gs=ii.next()).done);Ye=!0){var R=gs.value;if(R<he&&++He>p&&H("overflow"),R==he){for(var G=He,M=m;;M+=m){var ne=M<=Te?y:M>=Te+g?g:M-Te;if(G<ne)break;var se=G-ne,ee=m-ne;X.push(Z(J(ne+se%ee,0))),G=U(se/ee)}X.push(Z(J(G,0))),Te=x(He,hr,xn==pt),He=0,++xn}}}catch(be){zt=!0,Hn=be}finally{try{!Ye&&ii.return&&ii.return()}finally{if(zt)throw Hn}}++He,++he}return X.join("")},P=function(j){return ie(j,function(X){return S.test(X)?C(X.slice(4).toLowerCase()):X})},O=function(j){return ie(j,function(X){return A.test(X)?"xn--"+B(X):X})},Y={version:"2.1.0",ucs2:{decode:_e,encode:te},decode:C,encode:B,toASCII:O,toUnicode:P},fe={};function le(K){var j=K.charCodeAt(0),X=void 0;return j<16?X="%0"+j.toString(16).toUpperCase():j<128?X="%"+j.toString(16).toUpperCase():j<2048?X="%"+(j>>6|192).toString(16).toUpperCase()+"%"+(j&63|128).toString(16).toUpperCase():X="%"+(j>>12|224).toString(16).toUpperCase()+"%"+(j>>6&63|128).toString(16).toUpperCase()+"%"+(j&63|128).toString(16).toUpperCase(),X}function me(K){for(var j="",X=0,pe=K.length;X<pe;){var he=parseInt(K.substr(X+1,2),16);if(he<128)j+=String.fromCharCode(he),X+=3;else if(he>=194&&he<224){if(pe-X>=6){var He=parseInt(K.substr(X+4,2),16);j+=String.fromCharCode((he&31)<<6|He&63)}else j+=K.substr(X,6);X+=6}else if(he>=224){if(pe-X>=9){var Te=parseInt(K.substr(X+4,2),16),Ve=parseInt(K.substr(X+7,2),16);j+=String.fromCharCode((he&15)<<12|(Te&63)<<6|Ve&63)}else j+=K.substr(X,9);X+=9}else j+=K.substr(X,3),X+=3}return j}function ge(K,j){function X(pe){var he=me(pe);return he.match(j.UNRESERVED)?he:pe}return K.scheme&&(K.scheme=String(K.scheme).replace(j.PCT_ENCODED,X).toLowerCase().replace(j.NOT_SCHEME,"")),K.userinfo!==void 0&&(K.userinfo=String(K.userinfo).replace(j.PCT_ENCODED,X).replace(j.NOT_USERINFO,le).replace(j.PCT_ENCODED,o)),K.host!==void 0&&(K.host=String(K.host).replace(j.PCT_ENCODED,X).toLowerCase().replace(j.NOT_HOST,le).replace(j.PCT_ENCODED,o)),K.path!==void 0&&(K.path=String(K.path).replace(j.PCT_ENCODED,X).replace(K.scheme?j.NOT_PATH:j.NOT_PATH_NOSCHEME,le).replace(j.PCT_ENCODED,o)),K.query!==void 0&&(K.query=String(K.query).replace(j.PCT_ENCODED,X).replace(j.NOT_QUERY,le).replace(j.PCT_ENCODED,o)),K.fragment!==void 0&&(K.fragment=String(K.fragment).replace(j.PCT_ENCODED,X).replace(j.NOT_FRAGMENT,le).replace(j.PCT_ENCODED,o)),K}function Se(K){return K.replace(/^0*(.*)/,"$1")||"0"}function de(K,j){var X=K.match(j.IPV4ADDRESS)||[],pe=d(X,2),he=pe[1];return he?he.split(".").map(Se).join("."):K}function st(K,j){var X=K.match(j.IPV6ADDRESS)||[],pe=d(X,3),he=pe[1],He=pe[2];if(he){for(var Te=he.toLowerCase().split("::").reverse(),Ve=d(Te,2),ct=Ve[0],Je=Ve[1],mt=Je?Je.split(":").map(Se):[],Lt=ct.split(":").map(Se),$n=j.IPV4ADDRESS.test(Lt[Lt.length-1]),pt=$n?7:8,xn=Lt.length-pt,Et=Array(pt),mn=0;mn<pt;++mn)Et[mn]=mt[mn]||Lt[xn+mn]||"";$n&&(Et[pt-1]=de(Et[pt-1],j));var tr=Et.reduce(function(hr,Ye,zt){if(!Ye||Ye==="0"){var Hn=hr[hr.length-1];Hn&&Hn.index+Hn.length===zt?Hn.length++:hr.push({index:zt,length:1})}return hr},[]),Wr=tr.sort(function(hr,Ye){return Ye.length-hr.length})[0],Pr=void 0;if(Wr&&Wr.length>1){var is=Et.slice(0,Wr.index),_i=Et.slice(Wr.index+Wr.length);Pr=is.join(":")+"::"+_i.join(":")}else Pr=Et.join(":");return He&&(Pr+="%"+He),Pr}else return K}var Ke=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,qe="".match(/(){0}/)[1]===void 0;function $e(K){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},X={},pe=j.iri!==!1?f:c;j.reference==="suffix"&&(K=(j.scheme?j.scheme+":":"")+"//"+K);var he=K.match(Ke);if(he){qe?(X.scheme=he[1],X.userinfo=he[3],X.host=he[4],X.port=parseInt(he[5],10),X.path=he[6]||"",X.query=he[7],X.fragment=he[8],isNaN(X.port)&&(X.port=he[5])):(X.scheme=he[1]||void 0,X.userinfo=K.indexOf("@")!==-1?he[3]:void 0,X.host=K.indexOf("//")!==-1?he[4]:void 0,X.port=parseInt(he[5],10),X.path=he[6]||"",X.query=K.indexOf("?")!==-1?he[7]:void 0,X.fragment=K.indexOf("#")!==-1?he[8]:void 0,isNaN(X.port)&&(X.port=K.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?he[4]:void 0)),X.host&&(X.host=st(de(X.host,pe),pe)),X.scheme===void 0&&X.userinfo===void 0&&X.host===void 0&&X.port===void 0&&!X.path&&X.query===void 0?X.reference="same-document":X.scheme===void 0?X.reference="relative":X.fragment===void 0?X.reference="absolute":X.reference="uri",j.reference&&j.reference!=="suffix"&&j.reference!==X.reference&&(X.error=X.error||"URI is not a "+j.reference+" reference.");var He=fe[(j.scheme||X.scheme||"").toLowerCase()];if(!j.unicodeSupport&&(!He||!He.unicodeSupport)){if(X.host&&(j.domainHost||He&&He.domainHost))try{X.host=Y.toASCII(X.host.replace(pe.PCT_ENCODED,me).toLowerCase())}catch(Te){X.error=X.error||"Host's domain name can not be converted to ASCII via punycode: "+Te}ge(X,c)}else ge(X,pe);He&&He.parse&&He.parse(X,j)}else X.error=X.error||"URI can not be parsed.";return X}function ot(K,j){var X=j.iri!==!1?f:c,pe=[];return K.userinfo!==void 0&&(pe.push(K.userinfo),pe.push("@")),K.host!==void 0&&pe.push(st(de(String(K.host),X),X).replace(X.IPV6ADDRESS,function(he,He,Te){return"["+He+(Te?"%25"+Te:"")+"]"})),(typeof K.port=="number"||typeof K.port=="string")&&(pe.push(":"),pe.push(String(K.port))),pe.length?pe.join(""):void 0}var ut=/^\.\.?\//,On=/^\/\.(\/|$)/,Ue=/^\/\.\.(\/|$)/,Be=/^\/?(?:.|\n)*?(?=\/|$)/;function bt(K){for(var j=[];K.length;)if(K.match(ut))K=K.replace(ut,"");else if(K.match(On))K=K.replace(On,"/");else if(K.match(Ue))K=K.replace(Ue,"/"),j.pop();else if(K==="."||K==="..")K="";else{var X=K.match(Be);if(X){var pe=X[0];K=K.slice(pe.length),j.push(pe)}else throw new Error("Unexpected dot segment condition")}return j.join("")}function je(K){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},X=j.iri?f:c,pe=[],he=fe[(j.scheme||K.scheme||"").toLowerCase()];if(he&&he.serialize&&he.serialize(K,j),K.host&&!X.IPV6ADDRESS.test(K.host)){if(j.domainHost||he&&he.domainHost)try{K.host=j.iri?Y.toUnicode(K.host):Y.toASCII(K.host.replace(X.PCT_ENCODED,me).toLowerCase())}catch(Ve){K.error=K.error||"Host's domain name can not be converted to "+(j.iri?"Unicode":"ASCII")+" via punycode: "+Ve}}ge(K,X),j.reference!=="suffix"&&K.scheme&&(pe.push(K.scheme),pe.push(":"));var He=ot(K,j);if(He!==void 0&&(j.reference!=="suffix"&&pe.push("//"),pe.push(He),K.path&&K.path.charAt(0)!=="/"&&pe.push("/")),K.path!==void 0){var Te=K.path;!j.absolutePath&&(!he||!he.absolutePath)&&(Te=bt(Te)),He===void 0&&(Te=Te.replace(/^\/\//,"/%2F")),pe.push(Te)}return K.query!==void 0&&(pe.push("?"),pe.push(K.query)),K.fragment!==void 0&&(pe.push("#"),pe.push(K.fragment)),pe.join("")}function gt(K,j){var X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},pe=arguments[3],he={};return pe||(K=$e(je(K,X),X),j=$e(je(j,X),X)),X=X||{},!X.tolerant&&j.scheme?(he.scheme=j.scheme,he.userinfo=j.userinfo,he.host=j.host,he.port=j.port,he.path=bt(j.path||""),he.query=j.query):(j.userinfo!==void 0||j.host!==void 0||j.port!==void 0?(he.userinfo=j.userinfo,he.host=j.host,he.port=j.port,he.path=bt(j.path||""),he.query=j.query):(j.path?(j.path.charAt(0)==="/"?he.path=bt(j.path):((K.userinfo!==void 0||K.host!==void 0||K.port!==void 0)&&!K.path?he.path="/"+j.path:K.path?he.path=K.path.slice(0,K.path.lastIndexOf("/")+1)+j.path:he.path=j.path,he.path=bt(he.path)),he.query=j.query):(he.path=K.path,j.query!==void 0?he.query=j.query:he.query=K.query),he.userinfo=K.userinfo,he.host=K.host,he.port=K.port),he.scheme=K.scheme),he.fragment=j.fragment,he}function Gt(K,j,X){var pe=u({scheme:"null"},X);return je(gt($e(K,pe),$e(j,pe),pe,!0),pe)}function an(K,j){return typeof K=="string"?K=je($e(K,j),j):s(K)==="object"&&(K=$e(je(K,j),j)),K}function Gn(K,j,X){return typeof K=="string"?K=je($e(K,X),X):s(K)==="object"&&(K=je(K,X)),typeof j=="string"?j=je($e(j,X),X):s(j)==="object"&&(j=je(j,X)),K===j}function ce(K,j){return K&&K.toString().replace(!j||!j.iri?c.ESCAPE:f.ESCAPE,le)}function we(K,j){return K&&K.toString().replace(!j||!j.iri?c.PCT_ENCODED:f.PCT_ENCODED,me)}var Le={scheme:"http",domainHost:!0,parse:function(j,X){return j.host||(j.error=j.error||"HTTP URIs must have a host."),j},serialize:function(j,X){var pe=String(j.scheme).toLowerCase()==="https";return(j.port===(pe?443:80)||j.port==="")&&(j.port=void 0),j.path||(j.path="/"),j}},rt={scheme:"https",domainHost:Le.domainHost,parse:Le.parse,serialize:Le.serialize};function De(K){return typeof K.secure=="boolean"?K.secure:String(K.scheme).toLowerCase()==="wss"}var it={scheme:"ws",domainHost:!0,parse:function(j,X){var pe=j;return pe.secure=De(pe),pe.resourceName=(pe.path||"/")+(pe.query?"?"+pe.query:""),pe.path=void 0,pe.query=void 0,pe},serialize:function(j,X){if((j.port===(De(j)?443:80)||j.port==="")&&(j.port=void 0),typeof j.secure=="boolean"&&(j.scheme=j.secure?"wss":"ws",j.secure=void 0),j.resourceName){var pe=j.resourceName.split("?"),he=d(pe,2),He=he[0],Te=he[1];j.path=He&&He!=="/"?He:void 0,j.query=Te,j.resourceName=void 0}return j.fragment=void 0,j}},Me={scheme:"wss",domainHost:it.domainHost,parse:it.parse,serialize:it.serialize},Ze={},bn="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Wt="[0-9A-Fa-f]",St=i(i("%[EFef]"+Wt+"%"+Wt+Wt+"%"+Wt+Wt)+"|"+i("%[89A-Fa-f]"+Wt+"%"+Wt+Wt)+"|"+i("%"+Wt+Wt)),Bn="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",En="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",na=r(En,'[\\"\\\\]'),fr="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",Mi=new RegExp(bn,"g"),vr=new RegExp(St,"g"),$r=new RegExp(r("[^]",Bn,"[\\.]",'[\\"]',na),"g"),dr=new RegExp(r("[^]",bn,fr),"g"),jn=dr;function Zt(K){var j=me(K);return j.match(Mi)?j:K}var ri={scheme:"mailto",parse:function(j,X){var pe=j,he=pe.to=pe.path?pe.path.split(","):[];if(pe.path=void 0,pe.query){for(var He=!1,Te={},Ve=pe.query.split("&"),ct=0,Je=Ve.length;ct<Je;++ct){var mt=Ve[ct].split("=");switch(mt[0]){case"to":for(var Lt=mt[1].split(","),$n=0,pt=Lt.length;$n<pt;++$n)he.push(Lt[$n]);break;case"subject":pe.subject=we(mt[1],X);break;case"body":pe.body=we(mt[1],X);break;default:He=!0,Te[we(mt[0],X)]=we(mt[1],X);break}}He&&(pe.headers=Te)}pe.query=void 0;for(var xn=0,Et=he.length;xn<Et;++xn){var mn=he[xn].split("@");if(mn[0]=we(mn[0]),X.unicodeSupport)mn[1]=we(mn[1],X).toLowerCase();else try{mn[1]=Y.toASCII(we(mn[1],X).toLowerCase())}catch(tr){pe.error=pe.error||"Email address's domain name can not be converted to ASCII via punycode: "+tr}he[xn]=mn.join("@")}return pe},serialize:function(j,X){var pe=j,he=a(j.to);if(he){for(var He=0,Te=he.length;He<Te;++He){var Ve=String(he[He]),ct=Ve.lastIndexOf("@"),Je=Ve.slice(0,ct).replace(vr,Zt).replace(vr,o).replace($r,le),mt=Ve.slice(ct+1);try{mt=X.iri?Y.toUnicode(mt):Y.toASCII(we(mt,X).toLowerCase())}catch(xn){pe.error=pe.error||"Email address's domain name can not be converted to "+(X.iri?"Unicode":"ASCII")+" via punycode: "+xn}he[He]=Je+"@"+mt}pe.path=he.join(",")}var Lt=j.headers=j.headers||{};j.subject&&(Lt.subject=j.subject),j.body&&(Lt.body=j.body);var $n=[];for(var pt in Lt)Lt[pt]!==Ze[pt]&&$n.push(pt.replace(vr,Zt).replace(vr,o).replace(dr,le)+"="+Lt[pt].replace(vr,Zt).replace(vr,o).replace(jn,le));return $n.length&&(pe.query=$n.join("&")),pe}},br=/^([^\:]+)\:(.*)/,Lr={scheme:"urn",parse:function(j,X){var pe=j.path&&j.path.match(br),he=j;if(pe){var He=X.scheme||he.scheme||"urn",Te=pe[1].toLowerCase(),Ve=pe[2],ct=He+":"+(X.nid||Te),Je=fe[ct];he.nid=Te,he.nss=Ve,he.path=void 0,Je&&(he=Je.parse(he,X))}else he.error=he.error||"URN can not be parsed.";return he},serialize:function(j,X){var pe=X.scheme||j.scheme||"urn",he=j.nid,He=pe+":"+(X.nid||he),Te=fe[He];Te&&(j=Te.serialize(j,X));var Ve=j,ct=j.nss;return Ve.path=(he||X.nid)+":"+ct,Ve}},yi=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,ms={scheme:"urn:uuid",parse:function(j,X){var pe=j;return pe.uuid=pe.nss,pe.nss=void 0,!X.tolerant&&(!pe.uuid||!pe.uuid.match(yi))&&(pe.error=pe.error||"UUID is not valid."),pe},serialize:function(j,X){var pe=j;return pe.nss=(j.uuid||"").toLowerCase(),pe}};fe[Le.scheme]=Le,fe[rt.scheme]=rt,fe[it.scheme]=it,fe[Me.scheme]=Me,fe[ri.scheme]=ri,fe[Lr.scheme]=Lr,fe[ms.scheme]=ms,n.SCHEMES=fe,n.pctEncChar=le,n.pctDecChars=me,n.parse=$e,n.removeDotSegments=bt,n.serialize=je,n.resolveComponents=gt,n.resolve=Gt,n.normalize=an,n.equal=Gn,n.escapeComponent=ce,n.unescapeComponent=we,Object.defineProperty(n,"__esModule",{value:!0})})})(zP,zP.exports);var $Oe=zP.exports;Object.defineProperty(Fk,"__esModule",{value:!0});const pX=$Oe;pX.code='require("ajv/dist/runtime/uri").default';Fk.default=pX;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=wa;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var n=Yt;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return n.CodeGen}});const r=P_,i=R_,s=Dd,o=Rs,a=Yt,u=Ai,l=O_,c=pn,f=DOe,d=Fk,h=(J,x)=>new RegExp(J,x);h.code="new RegExp";const p=["removeAdditional","useDefaults","coerceTypes"],m=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),y={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},g={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},_=200;function b(J){var x,C,B,P,O,Y,fe,le,me,ge,Se,de,st,Ke,qe,$e,ot,ut,On,Ue,Be,bt,je,gt,Gt;const an=J.strict,Gn=(x=J.code)===null||x===void 0?void 0:x.optimize,ce=Gn===!0||Gn===void 0?1:Gn||0,we=(B=(C=J.code)===null||C===void 0?void 0:C.regExp)!==null&&B!==void 0?B:h,Le=(P=J.uriResolver)!==null&&P!==void 0?P:d.default;return{strictSchema:(Y=(O=J.strictSchema)!==null&&O!==void 0?O:an)!==null&&Y!==void 0?Y:!0,strictNumbers:(le=(fe=J.strictNumbers)!==null&&fe!==void 0?fe:an)!==null&&le!==void 0?le:!0,strictTypes:(ge=(me=J.strictTypes)!==null&&me!==void 0?me:an)!==null&&ge!==void 0?ge:"log",strictTuples:(de=(Se=J.strictTuples)!==null&&Se!==void 0?Se:an)!==null&&de!==void 0?de:"log",strictRequired:(Ke=(st=J.strictRequired)!==null&&st!==void 0?st:an)!==null&&Ke!==void 0?Ke:!1,code:J.code?{...J.code,optimize:ce,regExp:we}:{optimize:ce,regExp:we},loopRequired:(qe=J.loopRequired)!==null&&qe!==void 0?qe:_,loopEnum:($e=J.loopEnum)!==null&&$e!==void 0?$e:_,meta:(ot=J.meta)!==null&&ot!==void 0?ot:!0,messages:(ut=J.messages)!==null&&ut!==void 0?ut:!0,inlineRefs:(On=J.inlineRefs)!==null&&On!==void 0?On:!0,schemaId:(Ue=J.schemaId)!==null&&Ue!==void 0?Ue:"$id",addUsedSchema:(Be=J.addUsedSchema)!==null&&Be!==void 0?Be:!0,validateSchema:(bt=J.validateSchema)!==null&&bt!==void 0?bt:!0,validateFormats:(je=J.validateFormats)!==null&&je!==void 0?je:!0,unicodeRegExp:(gt=J.unicodeRegExp)!==null&&gt!==void 0?gt:!0,int32range:(Gt=J.int32range)!==null&&Gt!==void 0?Gt:!0,uriResolver:Le}}class T{constructor(x={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,x=this.opts={...x,...b(x)};const{es5:C,lines:B}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:m,es5:C,lines:B}),this.logger=U(x.logger);const P=x.validateFormats;x.validateFormats=!1,this.RULES=(0,s.getRules)(),I.call(this,y,x,"NOT SUPPORTED"),I.call(this,g,x,"DEPRECATED","warn"),this._metaOpts=W.call(this),x.formats&&A.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),x.keywords&&L.call(this,x.keywords),typeof x.meta=="object"&&this.addMetaSchema(x.meta),S.call(this),x.validateFormats=P}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:x,meta:C,schemaId:B}=this.opts;let P=f;B==="id"&&(P={...f},P.id=P.$id,delete P.$id),C&&x&&this.addMetaSchema(P,P[B],!1)}defaultMeta(){const{meta:x,schemaId:C}=this.opts;return this.opts.defaultMeta=typeof x=="object"?x[C]||x:void 0}validate(x,C){let B;if(typeof x=="string"){if(B=this.getSchema(x),!B)throw new Error(`no schema with key or ref "${x}"`)}else B=this.compile(x);const P=B(C);return"$async"in B||(this.errors=B.errors),P}compile(x,C){const B=this._addSchema(x,C);return B.validate||this._compileSchemaEnv(B)}compileAsync(x,C){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:B}=this.opts;return P.call(this,x,C);async function P(ge,Se){await O.call(this,ge.$schema);const de=this._addSchema(ge,Se);return de.validate||Y.call(this,de)}async function O(ge){ge&&!this.getSchema(ge)&&await P.call(this,{$ref:ge},!0)}async function Y(ge){try{return this._compileSchemaEnv(ge)}catch(Se){if(!(Se instanceof i.default))throw Se;return fe.call(this,Se),await le.call(this,Se.missingSchema),Y.call(this,ge)}}function fe({missingSchema:ge,missingRef:Se}){if(this.refs[ge])throw new Error(`AnySchema ${ge} is loaded but ${Se} cannot be resolved`)}async function le(ge){const Se=await me.call(this,ge);this.refs[ge]||await O.call(this,Se.$schema),this.refs[ge]||this.addSchema(Se,ge,C)}async function me(ge){const Se=this._loading[ge];if(Se)return Se;try{return await(this._loading[ge]=B(ge))}finally{delete this._loading[ge]}}}addSchema(x,C,B,P=this.opts.validateSchema){if(Array.isArray(x)){for(const Y of x)this.addSchema(Y,void 0,B,P);return this}let O;if(typeof x=="object"){const{schemaId:Y}=this.opts;if(O=x[Y],O!==void 0&&typeof O!="string")throw new Error(`schema ${Y} must be string`)}return C=(0,u.normalizeId)(C||O),this._checkUnique(C),this.schemas[C]=this._addSchema(x,B,C,P,!0),this}addMetaSchema(x,C,B=this.opts.validateSchema){return this.addSchema(x,C,!0,B),this}validateSchema(x,C){if(typeof x=="boolean")return!0;let B;if(B=x.$schema,B!==void 0&&typeof B!="string")throw new Error("$schema must be a string");if(B=B||this.opts.defaultMeta||this.defaultMeta(),!B)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const P=this.validate(B,x);if(!P&&C){const O="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(O);else throw new Error(O)}return P}getSchema(x){let C;for(;typeof(C=E.call(this,x))=="string";)x=C;if(C===void 0){const{schemaId:B}=this.opts,P=new o.SchemaEnv({schema:{},schemaId:B});if(C=o.resolveSchema.call(this,P,x),!C)return;this.refs[x]=C}return C.validate||this._compileSchemaEnv(C)}removeSchema(x){if(x instanceof RegExp)return this._removeAllSchemas(this.schemas,x),this._removeAllSchemas(this.refs,x),this;switch(typeof x){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const C=E.call(this,x);return typeof C=="object"&&this._cache.delete(C.schema),delete this.schemas[x],delete this.refs[x],this}case"object":{const C=x;this._cache.delete(C);let B=x[this.opts.schemaId];return B&&(B=(0,u.normalizeId)(B),delete this.schemas[B],delete this.refs[B]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(x){for(const C of x)this.addKeyword(C);return this}addKeyword(x,C){let B;if(typeof x=="string")B=x,typeof C=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),C.keyword=B);else if(typeof x=="object"&&C===void 0){if(C=x,B=C.keyword,Array.isArray(B)&&!B.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(H.call(this,B,C),!C)return(0,c.eachItem)(B,O=>ue.call(this,O)),this;_e.call(this,C);const P={...C,type:(0,l.getJSONTypes)(C.type),schemaType:(0,l.getJSONTypes)(C.schemaType)};return(0,c.eachItem)(B,P.type.length===0?O=>ue.call(this,O,P):O=>P.type.forEach(Y=>ue.call(this,O,P,Y))),this}getKeyword(x){const C=this.RULES.all[x];return typeof C=="object"?C.definition:!!C}removeKeyword(x){const{RULES:C}=this;delete C.keywords[x],delete C.all[x];for(const B of C.rules){const P=B.rules.findIndex(O=>O.keyword===x);P>=0&&B.rules.splice(P,1)}return this}addFormat(x,C){return typeof C=="string"&&(C=new RegExp(C)),this.formats[x]=C,this}errorsText(x=this.errors,{separator:C=", ",dataVar:B="data"}={}){return!x||x.length===0?"No errors":x.map(P=>`${B}${P.instancePath} ${P.message}`).reduce((P,O)=>P+C+O)}$dataMetaSchema(x,C){const B=this.RULES.all;x=JSON.parse(JSON.stringify(x));for(const P of C){const O=P.split("/").slice(1);let Y=x;for(const fe of O)Y=Y[fe];for(const fe in B){const le=B[fe];if(typeof le!="object")continue;const{$data:me}=le.definition,ge=Y[fe];me&&ge&&(Y[fe]=oe(ge))}}return x}_removeAllSchemas(x,C){for(const B in x){const P=x[B];(!C||C.test(B))&&(typeof P=="string"?delete x[B]:P&&!P.meta&&(this._cache.delete(P.schema),delete x[B]))}}_addSchema(x,C,B,P=this.opts.validateSchema,O=this.opts.addUsedSchema){let Y;const{schemaId:fe}=this.opts;if(typeof x=="object")Y=x[fe];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof x!="boolean")throw new Error("schema must be object or boolean")}let le=this._cache.get(x);if(le!==void 0)return le;B=(0,u.normalizeId)(Y||B);const me=u.getSchemaRefs.call(this,x,B);return le=new o.SchemaEnv({schema:x,schemaId:fe,meta:C,baseId:B,localRefs:me}),this._cache.set(le.schema,le),O&&!B.startsWith("#")&&(B&&this._checkUnique(B),this.refs[B]=le),P&&this.validateSchema(x,!0),le}_checkUnique(x){if(this.schemas[x]||this.refs[x])throw new Error(`schema with key or id "${x}" already exists`)}_compileSchemaEnv(x){if(x.meta?this._compileMetaSchema(x):o.compileSchema.call(this,x),!x.validate)throw new Error("ajv implementation error");return x.validate}_compileMetaSchema(x){const C=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,x)}finally{this.opts=C}}}e.default=T,T.ValidationError=r.default,T.MissingRefError=i.default;function I(J,x,C,B="error"){for(const P in J){const O=P;O in x&&this.logger[B](`${C}: option ${P}. ${J[O]}`)}}function E(J){return J=(0,u.normalizeId)(J),this.schemas[J]||this.refs[J]}function S(){const J=this.opts.schemas;if(J)if(Array.isArray(J))this.addSchema(J);else for(const x in J)this.addSchema(J[x],x)}function A(){for(const J in this.opts.formats){const x=this.opts.formats[J];x&&this.addFormat(J,x)}}function L(J){if(Array.isArray(J)){this.addVocabulary(J);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const x in J){const C=J[x];C.keyword||(C.keyword=x),this.addKeyword(C)}}function W(){const J={...this.opts};for(const x of p)delete J[x];return J}const z={log(){},warn(){},error(){}};function U(J){if(J===!1)return z;if(J===void 0)return console;if(J.log&&J.warn&&J.error)return J;throw new Error("logger must implement log, warn and error methods")}const Z=/^[a-z_$][a-z0-9_$:-]*$/i;function H(J,x){const{RULES:C}=this;if((0,c.eachItem)(J,B=>{if(C.keywords[B])throw new Error(`Keyword ${B} is already defined`);if(!Z.test(B))throw new Error(`Keyword ${B} has invalid name`)}),!!x&&x.$data&&!("code"in x||"validate"in x))throw new Error('$data keyword must have "code" or "validate" function')}function ue(J,x,C){var B;const P=x==null?void 0:x.post;if(C&&P)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:O}=this;let Y=P?O.post:O.rules.find(({type:le})=>le===C);if(Y||(Y={type:C,rules:[]},O.rules.push(Y)),O.keywords[J]=!0,!x)return;const fe={keyword:J,definition:{...x,type:(0,l.getJSONTypes)(x.type),schemaType:(0,l.getJSONTypes)(x.schemaType)}};x.before?ie.call(this,Y,fe,x.before):Y.rules.push(fe),O.all[J]=fe,(B=x.implements)===null||B===void 0||B.forEach(le=>this.addKeyword(le))}function ie(J,x,C){const B=J.rules.findIndex(P=>P.keyword===C);B>=0?J.rules.splice(B,0,x):(J.rules.push(x),this.logger.warn(`rule ${C} is not defined`))}function _e(J){let{metaSchema:x}=J;x!==void 0&&(J.$data&&this.opts.$data&&(x=oe(x)),J.validateSchema=this.compile(x,!0))}const te={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function oe(J){return{anyOf:[J,te]}}})(HQ);var Bk={},jk={},Uk={};Object.defineProperty(Uk,"__esModule",{value:!0});const LOe={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};Uk.default=LOe;var $d={};Object.defineProperty($d,"__esModule",{value:!0});$d.callRef=$d.getValidate=void 0;const MOe=R_,t9=qt,ws=Yt,Eh=Lu,n9=Rs,Jv=pn,FOe={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:n,it:r}=e,{baseId:i,schemaEnv:s,validateName:o,opts:a,self:u}=r,{root:l}=s;if((n==="#"||n==="#/")&&i===l.baseId)return f();const c=n9.resolveRef.call(u,l,i,n);if(c===void 0)throw new MOe.default(r.opts.uriResolver,i,n);if(c instanceof n9.SchemaEnv)return d(c);return h(c);function f(){if(s===l)return eb(e,o,s,s.$async);const p=t.scopeValue("root",{ref:l});return eb(e,(0,ws._)`${p}.validate`,l,l.$async)}function d(p){const m=mX(e,p);eb(e,m,p,p.$async)}function h(p){const m=t.scopeValue("schema",a.code.source===!0?{ref:p,code:(0,ws.stringify)(p)}:{ref:p}),y=t.name("valid"),g=e.subschema({schema:p,dataTypes:[],schemaPath:ws.nil,topSchemaRef:m,errSchemaPath:n},y);e.mergeEvaluated(g),e.ok(y)}}};function mX(e,t){const{gen:n}=e;return t.validate?n.scopeValue("validate",{ref:t.validate}):(0,ws._)`${n.scopeValue("wrapper",{ref:t})}.validate`}$d.getValidate=mX;function eb(e,t,n,r){const{gen:i,it:s}=e,{allErrors:o,schemaEnv:a,opts:u}=s,l=u.passContext?Eh.default.this:ws.nil;r?c():f();function c(){if(!a.$async)throw new Error("async schema referenced by sync schema");const p=i.let("valid");i.try(()=>{i.code((0,ws._)`await ${(0,t9.callValidateCode)(e,t,l)}`),h(t),o||i.assign(p,!0)},m=>{i.if((0,ws._)`!(${m} instanceof ${s.ValidationError})`,()=>i.throw(m)),d(m),o||i.assign(p,!1)}),e.ok(p)}function f(){e.result((0,t9.callValidateCode)(e,t,l),()=>h(t),()=>d(t))}function d(p){const m=(0,ws._)`${p}.errors`;i.assign(Eh.default.vErrors,(0,ws._)`${Eh.default.vErrors} === null ? ${m} : ${Eh.default.vErrors}.concat(${m})`),i.assign(Eh.default.errors,(0,ws._)`${Eh.default.vErrors}.length`)}function h(p){var m;if(!s.opts.unevaluated)return;const y=(m=n==null?void 0:n.validate)===null||m===void 0?void 0:m.evaluated;if(s.props!==!0)if(y&&!y.dynamicProps)y.props!==void 0&&(s.props=Jv.mergeEvaluated.props(i,y.props,s.props));else{const g=i.var("props",(0,ws._)`${p}.evaluated.props`);s.props=Jv.mergeEvaluated.props(i,g,s.props,ws.Name)}if(s.items!==!0)if(y&&!y.dynamicItems)y.items!==void 0&&(s.items=Jv.mergeEvaluated.items(i,y.items,s.items));else{const g=i.var("items",(0,ws._)`${p}.evaluated.items`);s.items=Jv.mergeEvaluated.items(i,g,s.items,ws.Name)}}}$d.callRef=eb;$d.default=FOe;Object.defineProperty(jk,"__esModule",{value:!0});const BOe=Uk,jOe=$d,UOe=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",BOe.default,jOe.default];jk.default=UOe;var Vk={},zk={};Object.defineProperty(zk,"__esModule",{value:!0});const Dw=Yt,Zl=Dw.operators,$w={maximum:{okStr:"<=",ok:Zl.LTE,fail:Zl.GT},minimum:{okStr:">=",ok:Zl.GTE,fail:Zl.LT},exclusiveMaximum:{okStr:"<",ok:Zl.LT,fail:Zl.GTE},exclusiveMinimum:{okStr:">",ok:Zl.GT,fail:Zl.LTE}},VOe={message:({keyword:e,schemaCode:t})=>(0,Dw.str)`must be ${$w[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,Dw._)`{comparison: ${$w[e].okStr}, limit: ${t}}`},zOe={keyword:Object.keys($w),type:"number",schemaType:"number",$data:!0,error:VOe,code(e){const{keyword:t,data:n,schemaCode:r}=e;e.fail$data((0,Dw._)`${n} ${$w[t].fail} ${r} || isNaN(${n})`)}};zk.default=zOe;var Hk={};Object.defineProperty(Hk,"__esModule",{value:!0});const Rg=Yt,HOe={message:({schemaCode:e})=>(0,Rg.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,Rg._)`{multipleOf: ${e}}`},WOe={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:HOe,code(e){const{gen:t,data:n,schemaCode:r,it:i}=e,s=i.opts.multipleOfPrecision,o=t.let("res"),a=s?(0,Rg._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${s}`:(0,Rg._)`${o} !== parseInt(${o})`;e.fail$data((0,Rg._)`(${r} === 0 || (${o} = ${n}/${r}, ${a}))`)}};Hk.default=WOe;var Wk={},qk={};Object.defineProperty(qk,"__esModule",{value:!0});function gX(e){const t=e.length;let n=0,r=0,i;for(;r<t;)n++,i=e.charCodeAt(r++),i>=55296&&i<=56319&&r<t&&(i=e.charCodeAt(r),(i&64512)===56320&&r++);return n}qk.default=gX;gX.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(Wk,"__esModule",{value:!0});const Wf=Yt,qOe=pn,YOe=qk,GOe={message({keyword:e,schemaCode:t}){const n=e==="maxLength"?"more":"fewer";return(0,Wf.str)`must NOT have ${n} than ${t} characters`},params:({schemaCode:e})=>(0,Wf._)`{limit: ${e}}`},KOe={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:GOe,code(e){const{keyword:t,data:n,schemaCode:r,it:i}=e,s=t==="maxLength"?Wf.operators.GT:Wf.operators.LT,o=i.opts.unicode===!1?(0,Wf._)`${n}.length`:(0,Wf._)`${(0,qOe.useFunc)(e.gen,YOe.default)}(${n})`;e.fail$data((0,Wf._)`${o} ${s} ${r}`)}};Wk.default=KOe;var Yk={};Object.defineProperty(Yk,"__esModule",{value:!0});const QOe=qt,Lw=Yt,XOe={message:({schemaCode:e})=>(0,Lw.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,Lw._)`{pattern: ${e}}`},JOe={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:XOe,code(e){const{data:t,$data:n,schema:r,schemaCode:i,it:s}=e,o=s.opts.unicodeRegExp?"u":"",a=n?(0,Lw._)`(new RegExp(${i}, ${o}))`:(0,QOe.usePattern)(e,r);e.fail$data((0,Lw._)`!${a}.test(${t})`)}};Yk.default=JOe;var Gk={};Object.defineProperty(Gk,"__esModule",{value:!0});const Ng=Yt,ZOe={message({keyword:e,schemaCode:t}){const n=e==="maxProperties"?"more":"fewer";return(0,Ng.str)`must NOT have ${n} than ${t} properties`},params:({schemaCode:e})=>(0,Ng._)`{limit: ${e}}`},ePe={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:ZOe,code(e){const{keyword:t,data:n,schemaCode:r}=e,i=t==="maxProperties"?Ng.operators.GT:Ng.operators.LT;e.fail$data((0,Ng._)`Object.keys(${n}).length ${i} ${r}`)}};Gk.default=ePe;var Kk={};Object.defineProperty(Kk,"__esModule",{value:!0});const P0=qt,kg=Yt,tPe=pn,nPe={message:({params:{missingProperty:e}})=>(0,kg.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,kg._)`{missingProperty: ${e}}`},rPe={keyword:"required",type:"object",schemaType:"array",$data:!0,error:nPe,code(e){const{gen:t,schema:n,schemaCode:r,data:i,$data:s,it:o}=e,{opts:a}=o;if(!s&&n.length===0)return;const u=n.length>=a.loopRequired;if(o.allErrors?l():c(),a.strictRequired){const h=e.parentSchema.properties,{definedProperties:p}=e.it;for(const m of n)if((h==null?void 0:h[m])===void 0&&!p.has(m)){const y=o.schemaEnv.baseId+o.errSchemaPath,g=`required property "${m}" is not defined at "${y}" (strictRequired)`;(0,tPe.checkStrictMode)(o,g,o.opts.strictRequired)}}function l(){if(u||s)e.block$data(kg.nil,f);else for(const h of n)(0,P0.checkReportMissingProp)(e,h)}function c(){const h=t.let("missing");if(u||s){const p=t.let("valid",!0);e.block$data(p,()=>d(h,p)),e.ok(p)}else t.if((0,P0.checkMissingProp)(e,n,h)),(0,P0.reportMissingProp)(e,h),t.else()}function f(){t.forOf("prop",r,h=>{e.setParams({missingProperty:h}),t.if((0,P0.noPropertyInData)(t,i,h,a.ownProperties),()=>e.error())})}function d(h,p){e.setParams({missingProperty:h}),t.forOf(h,r,()=>{t.assign(p,(0,P0.propertyInData)(t,i,h,a.ownProperties)),t.if((0,kg.not)(p),()=>{e.error(),t.break()})},kg.nil)}}};Kk.default=rPe;var Qk={};Object.defineProperty(Qk,"__esModule",{value:!0});const Dg=Yt,iPe={message({keyword:e,schemaCode:t}){const n=e==="maxItems"?"more":"fewer";return(0,Dg.str)`must NOT have ${n} than ${t} items`},params:({schemaCode:e})=>(0,Dg._)`{limit: ${e}}`},sPe={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:iPe,code(e){const{keyword:t,data:n,schemaCode:r}=e,i=t==="maxItems"?Dg.operators.GT:Dg.operators.LT;e.fail$data((0,Dg._)`${n}.length ${i} ${r}`)}};Qk.default=sPe;var Xk={},N_={};Object.defineProperty(N_,"__esModule",{value:!0});const yX=Dk;yX.code='require("ajv/dist/runtime/equal").default';N_.default=yX;Object.defineProperty(Xk,"__esModule",{value:!0});const YC=O_,wi=Yt,oPe=pn,aPe=N_,uPe={message:({params:{i:e,j:t}})=>(0,wi.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,wi._)`{i: ${e}, j: ${t}}`},lPe={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:uPe,code(e){const{gen:t,data:n,$data:r,schema:i,parentSchema:s,schemaCode:o,it:a}=e;if(!r&&!i)return;const u=t.let("valid"),l=s.items?(0,YC.getSchemaTypes)(s.items):[];e.block$data(u,c,(0,wi._)`${o} === false`),e.ok(u);function c(){const p=t.let("i",(0,wi._)`${n}.length`),m=t.let("j");e.setParams({i:p,j:m}),t.assign(u,!0),t.if((0,wi._)`${p} > 1`,()=>(f()?d:h)(p,m))}function f(){return l.length>0&&!l.some(p=>p==="object"||p==="array")}function d(p,m){const y=t.name("item"),g=(0,YC.checkDataTypes)(l,y,a.opts.strictNumbers,YC.DataType.Wrong),_=t.const("indices",(0,wi._)`{}`);t.for((0,wi._)`;${p}--;`,()=>{t.let(y,(0,wi._)`${n}[${p}]`),t.if(g,(0,wi._)`continue`),l.length>1&&t.if((0,wi._)`typeof ${y} == "string"`,(0,wi._)`${y} += "_"`),t.if((0,wi._)`typeof ${_}[${y}] == "number"`,()=>{t.assign(m,(0,wi._)`${_}[${y}]`),e.error(),t.assign(u,!1).break()}).code((0,wi._)`${_}[${y}] = ${p}`)})}function h(p,m){const y=(0,oPe.useFunc)(t,aPe.default),g=t.name("outer");t.label(g).for((0,wi._)`;${p}--;`,()=>t.for((0,wi._)`${m} = ${p}; ${m}--;`,()=>t.if((0,wi._)`${y}(${n}[${p}], ${n}[${m}])`,()=>{e.error(),t.assign(u,!1).break(g)})))}}};Xk.default=lPe;var Jk={};Object.defineProperty(Jk,"__esModule",{value:!0});const HP=Yt,cPe=pn,fPe=N_,dPe={message:"must be equal to constant",params:({schemaCode:e})=>(0,HP._)`{allowedValue: ${e}}`},hPe={keyword:"const",$data:!0,error:dPe,code(e){const{gen:t,data:n,$data:r,schemaCode:i,schema:s}=e;r||s&&typeof s=="object"?e.fail$data((0,HP._)`!${(0,cPe.useFunc)(t,fPe.default)}(${n}, ${i})`):e.fail((0,HP._)`${s} !== ${n}`)}};Jk.default=hPe;var Zk={};Object.defineProperty(Zk,"__esModule",{value:!0});const ng=Yt,pPe=pn,mPe=N_,gPe={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,ng._)`{allowedValues: ${e}}`},yPe={keyword:"enum",schemaType:"array",$data:!0,error:gPe,code(e){const{gen:t,data:n,$data:r,schema:i,schemaCode:s,it:o}=e;if(!r&&i.length===0)throw new Error("enum must have non-empty array");const a=i.length>=o.opts.loopEnum;let u;const l=()=>u??(u=(0,pPe.useFunc)(t,mPe.default));let c;if(a||r)c=t.let("valid"),e.block$data(c,f);else{if(!Array.isArray(i))throw new Error("ajv implementation error");const h=t.const("vSchema",s);c=(0,ng.or)(...i.map((p,m)=>d(h,m)))}e.pass(c);function f(){t.assign(c,!1),t.forOf("v",s,h=>t.if((0,ng._)`${l()}(${n}, ${h})`,()=>t.assign(c,!0).break()))}function d(h,p){const m=i[p];return typeof m=="object"&&m!==null?(0,ng._)`${l()}(${n}, ${h}[${p}])`:(0,ng._)`${n} === ${m}`}}};Zk.default=yPe;Object.defineProperty(Vk,"__esModule",{value:!0});const _Pe=zk,vPe=Hk,bPe=Wk,EPe=Yk,wPe=Gk,TPe=Kk,SPe=Qk,IPe=Xk,xPe=Jk,CPe=Zk,APe=[_Pe.default,vPe.default,bPe.default,EPe.default,wPe.default,TPe.default,SPe.default,IPe.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},xPe.default,CPe.default];Vk.default=APe;var eD={},Lm={};Object.defineProperty(Lm,"__esModule",{value:!0});Lm.validateAdditionalItems=void 0;const qf=Yt,WP=pn,OPe={message:({params:{len:e}})=>(0,qf.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,qf._)`{limit: ${e}}`},PPe={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:OPe,code(e){const{parentSchema:t,it:n}=e,{items:r}=t;if(!Array.isArray(r)){(0,WP.checkStrictMode)(n,'"additionalItems" is ignored when "items" is not an array of schemas');return}_X(e,r)}};function _X(e,t){const{gen:n,schema:r,data:i,keyword:s,it:o}=e;o.items=!0;const a=n.const("len",(0,qf._)`${i}.length`);if(r===!1)e.setParams({len:t.length}),e.pass((0,qf._)`${a} <= ${t.length}`);else if(typeof r=="object"&&!(0,WP.alwaysValidSchema)(o,r)){const l=n.var("valid",(0,qf._)`${a} <= ${t.length}`);n.if((0,qf.not)(l),()=>u(l)),e.ok(l)}function u(l){n.forRange("i",t.length,a,c=>{e.subschema({keyword:s,dataProp:c,dataPropType:WP.Type.Num},l),o.allErrors||n.if((0,qf.not)(l),()=>n.break())})}}Lm.validateAdditionalItems=_X;Lm.default=PPe;var tD={},Mm={};Object.defineProperty(Mm,"__esModule",{value:!0});Mm.validateTuple=void 0;const r9=Yt,tb=pn,RPe=qt,NPe={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:n}=e;if(Array.isArray(t))return vX(e,"additionalItems",t);n.items=!0,!(0,tb.alwaysValidSchema)(n,t)&&e.ok((0,RPe.validateArray)(e))}};function vX(e,t,n=e.schema){const{gen:r,parentSchema:i,data:s,keyword:o,it:a}=e;c(i),a.opts.unevaluated&&n.length&&a.items!==!0&&(a.items=tb.mergeEvaluated.items(r,n.length,a.items));const u=r.name("valid"),l=r.const("len",(0,r9._)`${s}.length`);n.forEach((f,d)=>{(0,tb.alwaysValidSchema)(a,f)||(r.if((0,r9._)`${l} > ${d}`,()=>e.subschema({keyword:o,schemaProp:d,dataProp:d},u)),e.ok(u))});function c(f){const{opts:d,errSchemaPath:h}=a,p=n.length,m=p===f.minItems&&(p===f.maxItems||f[t]===!1);if(d.strictTuples&&!m){const y=`"${o}" is ${p}-tuple, but minItems or maxItems/${t} are not specified or different at path "${h}"`;(0,tb.checkStrictMode)(a,y,d.strictTuples)}}}Mm.validateTuple=vX;Mm.default=NPe;Object.defineProperty(tD,"__esModule",{value:!0});const kPe=Mm,DPe={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,kPe.validateTuple)(e,"items")};tD.default=DPe;var nD={};Object.defineProperty(nD,"__esModule",{value:!0});const i9=Yt,$Pe=pn,LPe=qt,MPe=Lm,FPe={message:({params:{len:e}})=>(0,i9.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,i9._)`{limit: ${e}}`},BPe={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:FPe,code(e){const{schema:t,parentSchema:n,it:r}=e,{prefixItems:i}=n;r.items=!0,!(0,$Pe.alwaysValidSchema)(r,t)&&(i?(0,MPe.validateAdditionalItems)(e,i):e.ok((0,LPe.validateArray)(e)))}};nD.default=BPe;var rD={};Object.defineProperty(rD,"__esModule",{value:!0});const Oo=Yt,Zv=pn,jPe={message:({params:{min:e,max:t}})=>t===void 0?(0,Oo.str)`must contain at least ${e} valid item(s)`:(0,Oo.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,Oo._)`{minContains: ${e}}`:(0,Oo._)`{minContains: ${e}, maxContains: ${t}}`},UPe={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:jPe,code(e){const{gen:t,schema:n,parentSchema:r,data:i,it:s}=e;let o,a;const{minContains:u,maxContains:l}=r;s.opts.next?(o=u===void 0?1:u,a=l):o=1;const c=t.const("len",(0,Oo._)`${i}.length`);if(e.setParams({min:o,max:a}),a===void 0&&o===0){(0,Zv.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(a!==void 0&&o>a){(0,Zv.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,Zv.alwaysValidSchema)(s,n)){let m=(0,Oo._)`${c} >= ${o}`;a!==void 0&&(m=(0,Oo._)`${m} && ${c} <= ${a}`),e.pass(m);return}s.items=!0;const f=t.name("valid");a===void 0&&o===1?h(f,()=>t.if(f,()=>t.break())):o===0?(t.let(f,!0),a!==void 0&&t.if((0,Oo._)`${i}.length > 0`,d)):(t.let(f,!1),d()),e.result(f,()=>e.reset());function d(){const m=t.name("_valid"),y=t.let("count",0);h(m,()=>t.if(m,()=>p(y)))}function h(m,y){t.forRange("i",0,c,g=>{e.subschema({keyword:"contains",dataProp:g,dataPropType:Zv.Type.Num,compositeRule:!0},m),y()})}function p(m){t.code((0,Oo._)`${m}++`),a===void 0?t.if((0,Oo._)`${m} >= ${o}`,()=>t.assign(f,!0).break()):(t.if((0,Oo._)`${m} > ${a}`,()=>t.assign(f,!1).break()),o===1?t.assign(f,!0):t.if((0,Oo._)`${m} >= ${o}`,()=>t.assign(f,!0)))}}};rD.default=UPe;var bX={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=Yt,n=pn,r=qt;e.error={message:({params:{property:u,depsCount:l,deps:c}})=>{const f=l===1?"property":"properties";return(0,t.str)`must have ${f} ${c} when property ${u} is present`},params:({params:{property:u,depsCount:l,deps:c,missingProperty:f}})=>(0,t._)`{property: ${u},
    missingProperty: ${f},
    depsCount: ${l},
    deps: ${c}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(u){const[l,c]=s(u);o(u,l),a(u,c)}};function s({schema:u}){const l={},c={};for(const f in u){if(f==="__proto__")continue;const d=Array.isArray(u[f])?l:c;d[f]=u[f]}return[l,c]}function o(u,l=u.schema){const{gen:c,data:f,it:d}=u;if(Object.keys(l).length===0)return;const h=c.let("missing");for(const p in l){const m=l[p];if(m.length===0)continue;const y=(0,r.propertyInData)(c,f,p,d.opts.ownProperties);u.setParams({property:p,depsCount:m.length,deps:m.join(", ")}),d.allErrors?c.if(y,()=>{for(const g of m)(0,r.checkReportMissingProp)(u,g)}):(c.if((0,t._)`${y} && (${(0,r.checkMissingProp)(u,m,h)})`),(0,r.reportMissingProp)(u,h),c.else())}}e.validatePropertyDeps=o;function a(u,l=u.schema){const{gen:c,data:f,keyword:d,it:h}=u,p=c.name("valid");for(const m in l)(0,n.alwaysValidSchema)(h,l[m])||(c.if((0,r.propertyInData)(c,f,m,h.opts.ownProperties),()=>{const y=u.subschema({keyword:d,schemaProp:m},p);u.mergeValidEvaluated(y,p)},()=>c.var(p,!0)),u.ok(p))}e.validateSchemaDeps=a,e.default=i})(bX);var iD={};Object.defineProperty(iD,"__esModule",{value:!0});const EX=Yt,VPe=pn,zPe={message:"property name must be valid",params:({params:e})=>(0,EX._)`{propertyName: ${e.propertyName}}`},HPe={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:zPe,code(e){const{gen:t,schema:n,data:r,it:i}=e;if((0,VPe.alwaysValidSchema)(i,n))return;const s=t.name("valid");t.forIn("key",r,o=>{e.setParams({propertyName:o}),e.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},s),t.if((0,EX.not)(s),()=>{e.error(!0),i.allErrors||t.break()})}),e.ok(s)}};iD.default=HPe;var uI={};Object.defineProperty(uI,"__esModule",{value:!0});const e1=qt,oa=Yt,WPe=Lu,t1=pn,qPe={message:"must NOT have additional properties",params:({params:e})=>(0,oa._)`{additionalProperty: ${e.additionalProperty}}`},YPe={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:qPe,code(e){const{gen:t,schema:n,parentSchema:r,data:i,errsCount:s,it:o}=e;if(!s)throw new Error("ajv implementation error");const{allErrors:a,opts:u}=o;if(o.props=!0,u.removeAdditional!=="all"&&(0,t1.alwaysValidSchema)(o,n))return;const l=(0,e1.allSchemaProperties)(r.properties),c=(0,e1.allSchemaProperties)(r.patternProperties);f(),e.ok((0,oa._)`${s} === ${WPe.default.errors}`);function f(){t.forIn("key",i,y=>{!l.length&&!c.length?p(y):t.if(d(y),()=>p(y))})}function d(y){let g;if(l.length>8){const _=(0,t1.schemaRefOrVal)(o,r.properties,"properties");g=(0,e1.isOwnProperty)(t,_,y)}else l.length?g=(0,oa.or)(...l.map(_=>(0,oa._)`${y} === ${_}`)):g=oa.nil;return c.length&&(g=(0,oa.or)(g,...c.map(_=>(0,oa._)`${(0,e1.usePattern)(e,_)}.test(${y})`))),(0,oa.not)(g)}function h(y){t.code((0,oa._)`delete ${i}[${y}]`)}function p(y){if(u.removeAdditional==="all"||u.removeAdditional&&n===!1){h(y);return}if(n===!1){e.setParams({additionalProperty:y}),e.error(),a||t.break();return}if(typeof n=="object"&&!(0,t1.alwaysValidSchema)(o,n)){const g=t.name("valid");u.removeAdditional==="failing"?(m(y,g,!1),t.if((0,oa.not)(g),()=>{e.reset(),h(y)})):(m(y,g),a||t.if((0,oa.not)(g),()=>t.break()))}}function m(y,g,_){const b={keyword:"additionalProperties",dataProp:y,dataPropType:t1.Type.Str};_===!1&&Object.assign(b,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(b,g)}}};uI.default=YPe;var sD={};Object.defineProperty(sD,"__esModule",{value:!0});const GPe=wa,s9=qt,GC=pn,o9=uI,KPe={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,parentSchema:r,data:i,it:s}=e;s.opts.removeAdditional==="all"&&r.additionalProperties===void 0&&o9.default.code(new GPe.KeywordCxt(s,o9.default,"additionalProperties"));const o=(0,s9.allSchemaProperties)(n);for(const f of o)s.definedProperties.add(f);s.opts.unevaluated&&o.length&&s.props!==!0&&(s.props=GC.mergeEvaluated.props(t,(0,GC.toHash)(o),s.props));const a=o.filter(f=>!(0,GC.alwaysValidSchema)(s,n[f]));if(a.length===0)return;const u=t.name("valid");for(const f of a)l(f)?c(f):(t.if((0,s9.propertyInData)(t,i,f,s.opts.ownProperties)),c(f),s.allErrors||t.else().var(u,!0),t.endIf()),e.it.definedProperties.add(f),e.ok(u);function l(f){return s.opts.useDefaults&&!s.compositeRule&&n[f].default!==void 0}function c(f){e.subschema({keyword:"properties",schemaProp:f,dataProp:f},u)}}};sD.default=KPe;var oD={};Object.defineProperty(oD,"__esModule",{value:!0});const a9=qt,n1=Yt,u9=pn,l9=pn,QPe={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,data:r,parentSchema:i,it:s}=e,{opts:o}=s,a=(0,a9.allSchemaProperties)(n),u=a.filter(m=>(0,u9.alwaysValidSchema)(s,n[m]));if(a.length===0||u.length===a.length&&(!s.opts.unevaluated||s.props===!0))return;const l=o.strictSchema&&!o.allowMatchingProperties&&i.properties,c=t.name("valid");s.props!==!0&&!(s.props instanceof n1.Name)&&(s.props=(0,l9.evaluatedPropsToName)(t,s.props));const{props:f}=s;d();function d(){for(const m of a)l&&h(m),s.allErrors?p(m):(t.var(c,!0),p(m),t.if(c))}function h(m){for(const y in l)new RegExp(m).test(y)&&(0,u9.checkStrictMode)(s,`property ${y} matches pattern ${m} (use allowMatchingProperties)`)}function p(m){t.forIn("key",r,y=>{t.if((0,n1._)`${(0,a9.usePattern)(e,m)}.test(${y})`,()=>{const g=u.includes(m);g||e.subschema({keyword:"patternProperties",schemaProp:m,dataProp:y,dataPropType:l9.Type.Str},c),s.opts.unevaluated&&f!==!0?t.assign((0,n1._)`${f}[${y}]`,!0):!g&&!s.allErrors&&t.if((0,n1.not)(c),()=>t.break())})})}}};oD.default=QPe;var aD={};Object.defineProperty(aD,"__esModule",{value:!0});const XPe=pn,JPe={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:n,it:r}=e;if((0,XPe.alwaysValidSchema)(r,n)){e.fail();return}const i=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),e.failResult(i,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};aD.default=JPe;var uD={};Object.defineProperty(uD,"__esModule",{value:!0});const ZPe=qt,e2e={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:ZPe.validateUnion,error:{message:"must match a schema in anyOf"}};uD.default=e2e;var lD={};Object.defineProperty(lD,"__esModule",{value:!0});const nb=Yt,t2e=pn,n2e={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,nb._)`{passingSchemas: ${e.passing}}`},r2e={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:n2e,code(e){const{gen:t,schema:n,parentSchema:r,it:i}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(i.opts.discriminator&&r.discriminator)return;const s=n,o=t.let("valid",!1),a=t.let("passing",null),u=t.name("_valid");e.setParams({passing:a}),t.block(l),e.result(o,()=>e.reset(),()=>e.error(!0));function l(){s.forEach((c,f)=>{let d;(0,t2e.alwaysValidSchema)(i,c)?t.var(u,!0):d=e.subschema({keyword:"oneOf",schemaProp:f,compositeRule:!0},u),f>0&&t.if((0,nb._)`${u} && ${o}`).assign(o,!1).assign(a,(0,nb._)`[${a}, ${f}]`).else(),t.if(u,()=>{t.assign(o,!0),t.assign(a,f),d&&e.mergeEvaluated(d,nb.Name)})})}}};lD.default=r2e;var cD={};Object.defineProperty(cD,"__esModule",{value:!0});const i2e=pn,s2e={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:n,it:r}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");const i=t.name("valid");n.forEach((s,o)=>{if((0,i2e.alwaysValidSchema)(r,s))return;const a=e.subschema({keyword:"allOf",schemaProp:o},i);e.ok(i),e.mergeEvaluated(a)})}};cD.default=s2e;var fD={};Object.defineProperty(fD,"__esModule",{value:!0});const Mw=Yt,wX=pn,o2e={message:({params:e})=>(0,Mw.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,Mw._)`{failingKeyword: ${e.ifClause}}`},a2e={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:o2e,code(e){const{gen:t,parentSchema:n,it:r}=e;n.then===void 0&&n.else===void 0&&(0,wX.checkStrictMode)(r,'"if" without "then" and "else" is ignored');const i=c9(r,"then"),s=c9(r,"else");if(!i&&!s)return;const o=t.let("valid",!0),a=t.name("_valid");if(u(),e.reset(),i&&s){const c=t.let("ifClause");e.setParams({ifClause:c}),t.if(a,l("then",c),l("else",c))}else i?t.if(a,l("then")):t.if((0,Mw.not)(a),l("else"));e.pass(o,()=>e.error(!0));function u(){const c=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);e.mergeEvaluated(c)}function l(c,f){return()=>{const d=e.subschema({keyword:c},a);t.assign(o,a),e.mergeValidEvaluated(d,o),f?t.assign(f,(0,Mw._)`${c}`):e.setParams({ifClause:c})}}}};function c9(e,t){const n=e.schema[t];return n!==void 0&&!(0,wX.alwaysValidSchema)(e,n)}fD.default=a2e;var dD={};Object.defineProperty(dD,"__esModule",{value:!0});const u2e=pn,l2e={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:n}){t.if===void 0&&(0,u2e.checkStrictMode)(n,`"${e}" without "if" is ignored`)}};dD.default=l2e;Object.defineProperty(eD,"__esModule",{value:!0});const c2e=Lm,f2e=tD,d2e=Mm,h2e=nD,p2e=rD,m2e=bX,g2e=iD,y2e=uI,_2e=sD,v2e=oD,b2e=aD,E2e=uD,w2e=lD,T2e=cD,S2e=fD,I2e=dD;function x2e(e=!1){const t=[b2e.default,E2e.default,w2e.default,T2e.default,S2e.default,I2e.default,g2e.default,y2e.default,m2e.default,_2e.default,v2e.default];return e?t.push(f2e.default,h2e.default):t.push(c2e.default,d2e.default),t.push(p2e.default),t}eD.default=x2e;var hD={},pD={};Object.defineProperty(pD,"__esModule",{value:!0});const Nr=Yt,C2e={message:({schemaCode:e})=>(0,Nr.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,Nr._)`{format: ${e}}`},A2e={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:C2e,code(e,t){const{gen:n,data:r,$data:i,schema:s,schemaCode:o,it:a}=e,{opts:u,errSchemaPath:l,schemaEnv:c,self:f}=a;if(!u.validateFormats)return;i?d():h();function d(){const p=n.scopeValue("formats",{ref:f.formats,code:u.code.formats}),m=n.const("fDef",(0,Nr._)`${p}[${o}]`),y=n.let("fType"),g=n.let("format");n.if((0,Nr._)`typeof ${m} == "object" && !(${m} instanceof RegExp)`,()=>n.assign(y,(0,Nr._)`${m}.type || "string"`).assign(g,(0,Nr._)`${m}.validate`),()=>n.assign(y,(0,Nr._)`"string"`).assign(g,m)),e.fail$data((0,Nr.or)(_(),b()));function _(){return u.strictSchema===!1?Nr.nil:(0,Nr._)`${o} && !${g}`}function b(){const T=c.$async?(0,Nr._)`(${m}.async ? await ${g}(${r}) : ${g}(${r}))`:(0,Nr._)`${g}(${r})`,I=(0,Nr._)`(typeof ${g} == "function" ? ${T} : ${g}.test(${r}))`;return(0,Nr._)`${g} && ${g} !== true && ${y} === ${t} && !${I}`}}function h(){const p=f.formats[s];if(!p){_();return}if(p===!0)return;const[m,y,g]=b(p);m===t&&e.pass(T());function _(){if(u.strictSchema===!1){f.logger.warn(I());return}throw new Error(I());function I(){return`unknown format "${s}" ignored in schema at path "${l}"`}}function b(I){const E=I instanceof RegExp?(0,Nr.regexpCode)(I):u.code.formats?(0,Nr._)`${u.code.formats}${(0,Nr.getProperty)(s)}`:void 0,S=n.scopeValue("formats",{key:s,ref:I,code:E});return typeof I=="object"&&!(I instanceof RegExp)?[I.type||"string",I.validate,(0,Nr._)`${S}.validate`]:["string",I,S]}function T(){if(typeof p=="object"&&!(p instanceof RegExp)&&p.async){if(!c.$async)throw new Error("async format in sync schema");return(0,Nr._)`await ${g}(${r})`}return typeof y=="function"?(0,Nr._)`${g}(${r})`:(0,Nr._)`${g}.test(${r})`}}}};pD.default=A2e;Object.defineProperty(hD,"__esModule",{value:!0});const O2e=pD,P2e=[O2e.default];hD.default=P2e;var em={};Object.defineProperty(em,"__esModule",{value:!0});em.contentVocabulary=em.metadataVocabulary=void 0;em.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];em.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(Bk,"__esModule",{value:!0});const R2e=jk,N2e=Vk,k2e=eD,D2e=hD,f9=em,$2e=[R2e.default,N2e.default,(0,k2e.default)(),D2e.default,f9.metadataVocabulary,f9.contentVocabulary];Bk.default=$2e;var mD={},TX={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))})(TX);Object.defineProperty(mD,"__esModule",{value:!0});const Oh=Yt,qP=TX,d9=Rs,L2e=pn,M2e={message:({params:{discrError:e,tagName:t}})=>e===qP.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:n}})=>(0,Oh._)`{error: ${e}, tag: ${n}, tagValue: ${t}}`},F2e={keyword:"discriminator",type:"object",schemaType:"object",error:M2e,code(e){const{gen:t,data:n,schema:r,parentSchema:i,it:s}=e,{oneOf:o}=i;if(!s.opts.discriminator)throw new Error("discriminator: requires discriminator option");const a=r.propertyName;if(typeof a!="string")throw new Error("discriminator: requires propertyName");if(r.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");const u=t.let("valid",!1),l=t.const("tag",(0,Oh._)`${n}${(0,Oh.getProperty)(a)}`);t.if((0,Oh._)`typeof ${l} == "string"`,()=>c(),()=>e.error(!1,{discrError:qP.DiscrError.Tag,tag:l,tagName:a})),e.ok(u);function c(){const h=d();t.if(!1);for(const p in h)t.elseIf((0,Oh._)`${l} === ${p}`),t.assign(u,f(h[p]));t.else(),e.error(!1,{discrError:qP.DiscrError.Mapping,tag:l,tagName:a}),t.endIf()}function f(h){const p=t.name("valid"),m=e.subschema({keyword:"oneOf",schemaProp:h},p);return e.mergeEvaluated(m,Oh.Name),p}function d(){var h;const p={},m=g(i);let y=!0;for(let T=0;T<o.length;T++){let I=o[T];I!=null&&I.$ref&&!(0,L2e.schemaHasRulesButRef)(I,s.self.RULES)&&(I=d9.resolveRef.call(s.self,s.schemaEnv.root,s.baseId,I==null?void 0:I.$ref),I instanceof d9.SchemaEnv&&(I=I.schema));const E=(h=I==null?void 0:I.properties)===null||h===void 0?void 0:h[a];if(typeof E!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);y=y&&(m||g(I)),_(E,T)}if(!y)throw new Error(`discriminator: "${a}" must be required`);return p;function g({required:T}){return Array.isArray(T)&&T.includes(a)}function _(T,I){if(T.const)b(T.const,I);else if(T.enum)for(const E of T.enum)b(E,I);else throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`)}function b(T,I){if(typeof T!="string"||T in p)throw new Error(`discriminator: "${a}" values must be unique strings`);p[T]=I}}}};mD.default=F2e;const B2e="http://json-schema.org/draft-07/schema#",j2e="http://json-schema.org/draft-07/schema#",U2e="Core schema meta-schema",V2e={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},z2e=["object","boolean"],H2e={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},W2e={$schema:B2e,$id:j2e,title:U2e,definitions:V2e,type:z2e,properties:H2e,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const n=HQ,r=Bk,i=mD,s=W2e,o=["/properties"],a="http://json-schema.org/draft-07/schema";class u extends n.default{_addVocabularies(){super._addVocabularies(),r.default.forEach(p=>this.addVocabulary(p)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const p=this.opts.$data?this.$dataMetaSchema(s,o):s;this.addMetaSchema(p,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}e.exports=t=u,Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var l=wa;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return l.KeywordCxt}});var c=Yt;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return c._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return c.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return c.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return c.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return c.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return c.CodeGen}});var f=P_;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return f.default}});var d=R_;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return d.default}})})(jP,jP.exports);var q2e=jP.exports;const SX=Pa(q2e),Y2e="#/definitions/StudyConfig",G2e="http://json-schema.org/draft-07/schema#",K2e={Answer:{additionalProperties:!1,description:"The Answer interface is used to define the properties of an answer. Answers are used to define the correct answer for a task. These are generally used in training tasks.",properties:{acceptableHigh:{description:"The acceptable high value for the answer. This is used to define a range of acceptable answers.",type:"number"},acceptableLow:{description:"The acceptable low value for the answer. This is used to define a range of acceptable answers.",type:"number"},answer:{description:"The correct answer to the question."},id:{description:"The id of the answer. This is used to identify the answer in the data file.",type:"string"}},required:["id","answer"],type:"object"},CheckboxResponse:{additionalProperties:!1,description:"The CheckboxResponse interface is used to define the properties of a checkbox response. CheckboxResponses render as a checkbox input with user specified options.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},options:{description:"The options that are displayed as checkboxes.",items:{$ref:"#/definitions/Option"},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"checkbox",type:"string"}},required:["id","location","options","prompt","required","type"],type:"object"},DropdownResponse:{additionalProperties:!1,description:"The DropdownResponse interface is used to define the properties of a dropdown response. DropdownResponses render as a select input with user specified options.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},options:{description:"The options that are displayed in the dropdown.",items:{$ref:"#/definitions/Option"},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"dropdown",type:"string"}},required:["id","location","options","prompt","required","type"],type:"object"},IFrameResponse:{additionalProperties:!1,description:"The IFrameResponse interface is used to define the properties of an iframe response. IFrameResponses render as a list, that is connected to a WebsiteComponent. When data is sent from the WebsiteComponent, it is displayed in the list.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"iframe",type:"string"}},required:["id","location","prompt","required","type"],type:"object"},ImageComponent:{additionalProperties:!1,description:"The ImageComponent interface is used to define the properties of an image component. This component is used to render an image with optional styling.",properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},path:{description:"The path to the image. This should be a relative path from the public folder.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},style:{additionalProperties:{type:"string"},description:"The style of the image. This is an object with css properties as keys and css values as values.",type:"object"},type:{const:"image",type:"string"}},required:["path","response","type"],type:"object"},IndividualComponent:{anyOf:[{$ref:"#/definitions/MarkdownComponent"},{$ref:"#/definitions/ReactComponent"},{$ref:"#/definitions/ImageComponent"},{$ref:"#/definitions/WebsiteComponent"},{$ref:"#/definitions/QuestionnaireComponent"}]},InheritedComponent:{additionalProperties:!1,description:"An InheritedComponent is a component that inherits properties from a baseComponent. This is used to avoid repeating properties in components. This also means that components in the baseComponents object can be partially defined, while components in the components object can inherit from them and must be fully defined and include all properties (after potentially merging with a base component).",properties:{baseComponent:{type:"string"},correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{anyOf:[{additionalProperties:{},description:"The parameters that are passed to the react component. These can be used within your react component to render different things.",type:"object"},{additionalProperties:{},description:"The parameters that are passed to the website (iframe). These can be used within your website to render different things.",type:"object"}],description:"The parameters that are passed to the react component. These can be used within your react component to render different things."},path:{description:"The path to the markdown file. This should be a relative path from the public folder.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},style:{additionalProperties:{type:"string"},description:"The style of the image. This is an object with css properties as keys and css values as values.",type:"object"},type:{enum:["markdown","react-component","image","website","questionnaire"],type:"string"}},required:["baseComponent"],type:"object"},LikertResponse:{additionalProperties:!1,description:"The LikertResponse interface is used to define the properties of a likert response. LikertResponses render as radio buttons with a user specified number of options, which can be controlled through the preset. For example, preset: 5 will render 5 radio buttons, and preset: 7 will render 7 radio buttons. LikertResponses can also have a description, and left and right labels. The left and right labels are used to label the left and right ends of the likert scale with values such as 'Strongly Disagree' and 'Strongly Agree'.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},desc:{description:"The description of the likert scale.",type:"string"},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},leftLabel:{description:"The left label of the likert scale. E.g Strongly Disagree",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},preset:{description:"The number of options to render.",type:"number"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},rightLabel:{description:"The right label of the likert scale. E.g Strongly Agree",type:"string"},type:{const:"likert",type:"string"}},required:["id","location","preset","prompt","required","type"],type:"object"},LongTextResponse:{additionalProperties:!1,description:"The LongTextResponse interface is used to define the properties of a long text response. LongTextResponses render as a text area that accepts any text and can optionally have a placeholder.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"longText",type:"string"}},required:["id","location","prompt","required","type"],type:"object"},MarkdownComponent:{additionalProperties:!1,description:"The MarkdownComponent interface is used to define the properties of a markdown component. The components can be used to render many different things, such as consent forms, instructions, and debriefs. Additionally, you can use the markdown component to render images, videos, and other media, with supporting text.",properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},path:{description:"The path to the markdown file. This should be a relative path from the public folder.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},type:{const:"markdown",type:"string"}},required:["path","response","type"],type:"object"},NumericalResponse:{additionalProperties:!1,description:"The NumericalResponse interface is used to define the properties of a numerical response. NumericalResponses render as a text input that only accepts numbers, and can optionally have a min and max value, or a placeholder.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},max:{description:"The maximum value that is accepted in the input.",type:"number"},min:{description:"The minimum value that is accepted in the input.",type:"number"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"numerical",type:"string"}},required:["id","location","prompt","required","type"],type:"object"},Option:{additionalProperties:!1,description:"The Option interface is used to define the options for a dropdown, slider, radio, or checkbox response. The label is the text that is displayed to the user, and the value is the value that is stored in the data file. The Option interface is used in the Response interface.",properties:{label:{description:"The label displayed to participants.",type:"string"},value:{description:"The value stored in the participant's data.",type:["string","number"]}},required:["label","value"],type:"object"},OrderObject:{additionalProperties:!1,description:"The OrderObject interface is used to define the properties of an order object. This is used to define the order of components in a study. It supports random assignment of trials using a pure random assignment and a latin square.",properties:{components:{description:"The components that are included in the order.",items:{anyOf:[{type:"string"},{$ref:"#/definitions/OrderObject"}]},type:"array"},numSamples:{description:"The number of samples to use for the random assignments. This means you can randomize across 3 components while only showing a participant 2 at a time.",type:"number"},order:{description:"The type of order. This can be random (pure random), latinSquare (random with some guarantees), or fixed.",enum:["random","latinSquare","fixed"],type:"string"}},required:["order","components"],type:"object"},QuestionnaireComponent:{additionalProperties:!1,description:"The QuestionnaireComponent interface is used to define the properties of a questionnaire component. A QuestionnaireComponent is used to render questions with different response types. The response types are also defined with these documentation. The main use case of this component type is to ask participants questions, without using markdown, websites, images, etc.",properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},type:{const:"questionnaire",type:"string"}},required:["response","type"],type:"object"},RadioResponse:{additionalProperties:!1,description:"The RadioResponse interface is used to define the properties of a radio response. RadioResponses render as a radio input with user specified options, and optionally left and right labels.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},leftLabel:{type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},options:{items:{$ref:"#/definitions/Option"},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},rightLabel:{type:"string"},type:{const:"radio",type:"string"}},required:["id","location","options","prompt","required","type"],type:"object"},ReactComponent:{additionalProperties:!1,description:"The ReactComponent interface is used to define the properties of a react component. This component is used to render react code with certain parameters. These parameters can be used within your react code to render different things.",properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{additionalProperties:{},description:"The parameters that are passed to the react component. These can be used within your react component to render different things.",type:"object"},path:{description:"The path to the react component. This should be a relative path from the src/public folder.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},type:{const:"react-component",type:"string"}},required:["path","response","type"],type:"object"},Response:{anyOf:[{$ref:"#/definitions/NumericalResponse"},{$ref:"#/definitions/ShortTextResponse"},{$ref:"#/definitions/LongTextResponse"},{$ref:"#/definitions/LikertResponse"},{$ref:"#/definitions/DropdownResponse"},{$ref:"#/definitions/SliderResponse"},{$ref:"#/definitions/RadioResponse"},{$ref:"#/definitions/CheckboxResponse"},{$ref:"#/definitions/IFrameResponse"}]},ResponseBlockLocation:{enum:["sidebar","aboveStimulus","belowStimulus"],type:"string"},ShortTextResponse:{additionalProperties:!1,description:"The ShortTextResponse interface is used to define the properties of a short text response. ShortTextResponses render as a text input that accepts any text and can optionally have a placeholder.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"shortText",type:"string"}},required:["id","location","prompt","required","type"],type:"object"},SliderResponse:{additionalProperties:!1,description:"The SliderResponse interface is used to define the properties of a slider response. SliderResponses render as a slider input with user specified steps. For example, you could have steps of 0, 50, and 100.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},leftLabel:{description:"The left label of the likert scale. E.g Strongly Disagree",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},options:{description:"This define the steps in the slider and the extent of the slider.",items:{$ref:"#/definitions/Option"},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},rightLabel:{description:"The right label of the likert scale. E.g Strongly Agree",type:"string"},type:{const:"slider",type:"string"}},required:["id","location","options","prompt","required","type"],type:"object"},StudyConfig:{additionalProperties:!1,description:"The StudyConfig interface is used to define the properties of a study configuration. These are the hjson files that live in the public folder. In our repo, one example of this would be public/cleveland/config-cleveland.json.",properties:{$schema:{description:"A required json schema property. This should point to the github link for the version of the schema you would like. See examples for more information",type:"string"},baseComponents:{additionalProperties:{anyOf:[{$ref:"#/definitions/IndividualComponent"},{additionalProperties:!1,properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{anyOf:[{additionalProperties:{},description:"The parameters that are passed to the react component. These can be used within your react component to render different things.",type:"object"},{additionalProperties:{},description:"The parameters that are passed to the website (iframe). These can be used within your website to render different things.",type:"object"}],description:"The parameters that are passed to the react component. These can be used within your react component to render different things."},path:{description:"The path to the markdown file. This should be a relative path from the public folder.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},style:{additionalProperties:{type:"string"},description:"The style of the image. This is an object with css properties as keys and css values as values.",type:"object"},type:{enum:["markdown","react-component","image","website","questionnaire"],type:"string"}},type:"object"}]},description:"The components that are used in the study (baseComponents allow PartialComponents which allows for inheriting from them in components).",type:"object"},components:{additionalProperties:{anyOf:[{$ref:"#/definitions/IndividualComponent"},{$ref:"#/definitions/InheritedComponent"}]},description:"The components that are used in the study. They must be fully defined here with all properties. Some properties may be inherited from baseComponents.",type:"object"},sequence:{$ref:"#/definitions/OrderObject",description:"The order of the components in the study. This might include some randomness."},studyMetadata:{$ref:"#/definitions/StudyMetadata",description:"The metadata for the study. This is used to identify the study and version in the data file."},uiConfig:{$ref:"#/definitions/UIConfig",description:"The UI configuration for the study. This is used to configure the UI of the app."}},required:["$schema","studyMetadata","uiConfig","components","sequence"],type:"object"},StudyMetadata:{additionalProperties:!1,description:"The StudyMetadata is used to describe certain properties of a study. Some of this data is displayed on the landing page when running the app, such as the title and description. This data is also included in the data file that is downloaded at the end of the study, to help identify the study and version.",properties:{authors:{description:"The authors of your study.",items:{type:"string"},type:"array"},date:{description:"The date of your study, may be useful for the researcher.",type:"string"},description:{description:"The description of your study, shown on the landing page.",type:"string"},organizations:{description:"The organizations that are associated with your study.",items:{type:"string"},type:"array"},title:{description:"The title of your study, shown on the landing page.",type:"string"},version:{description:"The version of your study, shown on the landing page and attached to participant data. This might be useful for seeing which version of the study a participant saw.",type:"string"}},required:["title","version","authors","date","description","organizations"],type:"object"},UIConfig:{additionalProperties:!1,description:"The UIConfig is used to configure the UI of the app. This includes the logo, contact email, and whether to show a progress bar. The UIConfig is also used to configure the sidebar, which can be used to display the task instructions and capture responses.",properties:{autoDownloadStudy:{description:"Controls whether the study data is automatically downloaded at the end of the study.",type:"boolean"},autoDownloadTime:{description:"The time in milliseconds to wait before automatically downloading the study data.",type:"number"},contactEmail:{description:"The email address that used during the study if a participant clicks contact.",type:"string"},helpTextPath:{description:"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported.",type:"string"},logoPath:{description:"The path to the logo image. This is displayed on the landing page and the header.",type:"string"},sidebar:{description:"Controls whether the left sidebar is rendered at all. Required to be true if your response's location is set to sidebar for any question.",type:"boolean"},studyEndMsg:{description:"The message to display when the study ends.",type:"string"},urlParticipantIdParam:{description:"If the participant ID is passed in the URL, this is the name of the querystring parameter that is used to capture the participant ID (e.g. PROLIFIC_ID). This will allow a user to continue a study on different devices and browsers.",type:"string"},windowEventDebounceTime:{description:"Debounce time in milliseconds for automatically tracked window events. Defaults to 100. E.g 100 here means 1000ms / 100ms = 10 times a second, 200 here means 1000ms / 200ms = 5 times per second",type:"number"},withProgressBar:{description:"Controls whether the progress bar is rendered in the study.",type:"boolean"}},required:["contactEmail","logoPath","withProgressBar","sidebar"],type:"object"},WebsiteComponent:{additionalProperties:!1,description:"The WebsiteComponent interface is used to define the properties of a website component. A WebsiteComponent is used to render an iframe with a website inside of it. This can be used to display an external website or an html file that is located in the public folder.",properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{additionalProperties:{},description:"The parameters that are passed to the website (iframe). These can be used within your website to render different things.",type:"object"},path:{description:"The path to the website. This should be a relative path from the public folder or could be an external website.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},type:{const:"website",type:"string"}},required:["path","response","type"],type:"object"}},Q2e={$ref:Y2e,$schema:G2e,definitions:K2e},X2e="#/definitions/GlobalConfig",J2e="http://json-schema.org/draft-07/schema#",Z2e={GlobalConfig:{additionalProperties:!1,description:"The GlobalConfig is used to generate the list of available studies in the UI. This list is displayed on the landing page when running the app.",properties:{$schema:{description:"A required json schema property. This should point to the github link for the version of the schema you would like. See examples for more information",type:"string"},configs:{additionalProperties:{additionalProperties:!1,description:"The key is used to identify the study config file. This key is used in the configList property.",properties:{path:{description:"The path to the study config file. This should be a relative path from the public folder.",type:"string"}},required:["path"],type:"object"},description:"A required property that specifies the options for the configList property.",type:"object"},configsList:{description:"A required property that is used to generate the list of available studies in the UI. This list is displayed on the landing page when running the app.",items:{type:"string"},type:"array"}},required:["$schema","configs","configsList"],type:"object"}},eRe={$ref:X2e,$schema:J2e,definitions:Z2e},IX=new SX;IX.addSchema(eRe);const h9=IX.getSchema("#/definitions/GlobalConfig"),xX=new SX;xX.addSchema(Q2e);const p9=xX.getSchema("#/definitions/StudyConfig");function tRe(e){const t=[];return[e.configsList.every(r=>e.configs[r]===void 0?(t.push({message:`Config ${r} is not defined in configs object, but is present in configsList`}),!1):!0),t]}function lI(e){return e.baseComponent!==void 0}function nRe(e){const t=Pk.parse(e),n=h9(t),r=tRe(t);if(n&&r[0])return t;throw console.error("Global config parsing errors",[...h9.errors||[],...r[1]]),Error("There was an issue validating your file global.json")}function rRe(e){const t=[];return[Object.values(e.components).every(r=>{var i;return lI(r)?!!((i=e.baseComponents)!=null&&i[r.baseComponent]):!0}),t]}function CX(e,t){const n=Pk.parse(e),r=p9(n),i=rRe(n);if(r&&i[0])return n;throw console.error(`${t} parsing errors`,[...p9.errors||[],...i[1]]),Error(`There was an issue validating your file ${t}`)}function ma(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function ef(e){return!!e&&!!e[or]}function Sl(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===dRe}(e)||Array.isArray(e)||!!e[E9]||!!(!((t=e.constructor)===null||t===void 0)&&t[E9])||gD(e)||yD(e))}function Ld(e,t,n){n===void 0&&(n=!1),Fm(e)===0?(n?Object.keys:vp)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function Fm(e){var t=e[or];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:gD(e)?2:yD(e)?3:0}function _p(e,t){return Fm(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function iRe(e,t){return Fm(e)===2?e.get(t):e[t]}function AX(e,t,n){var r=Fm(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function OX(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function gD(e){return cRe&&e instanceof Map}function yD(e){return fRe&&e instanceof Set}function Lf(e){return e.o||e.t}function _D(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=RX(e);delete t[or];for(var n=vp(t),r=0;r<n.length;r++){var i=n[r],s=t[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function vD(e,t){return t===void 0&&(t=!1),bD(e)||ef(e)||!Sl(e)||(Fm(e)>1&&(e.set=e.add=e.clear=e.delete=sRe),Object.freeze(e),t&&Ld(e,function(n,r){return vD(r,!0)},!0)),e}function sRe(){ma(2)}function bD(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function hu(e){var t=QP[e];return t||ma(18,e),t}function oRe(e,t){QP[e]||(QP[e]=t)}function YP(){return Ty}function KC(e,t){t&&(hu("Patches"),e.u=[],e.s=[],e.v=t)}function Fw(e){GP(e),e.p.forEach(aRe),e.p=null}function GP(e){e===Ty&&(Ty=e.l)}function m9(e){return Ty={p:[],l:Ty,h:e,m:!0,_:0}}function aRe(e){var t=e[or];t.i===0||t.i===1?t.j():t.O=!0}function QC(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.g||hu("ES5").S(t,e,r),r?(n[or].P&&(Fw(t),ma(4)),Sl(e)&&(e=Bw(t,e),t.l||jw(t,e)),t.u&&hu("Patches").M(n[or].t,e,t.u,t.s)):e=Bw(t,n,[]),Fw(t),t.u&&t.v(t.u,t.s),e!==PX?e:void 0}function Bw(e,t,n){if(bD(t))return t;var r=t[or];if(!r)return Ld(t,function(a,u){return g9(e,r,t,a,u,n)},!0),t;if(r.A!==e)return t;if(!r.P)return jw(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=_D(r.k):r.o,s=i,o=!1;r.i===3&&(s=new Set(i),i.clear(),o=!0),Ld(s,function(a,u){return g9(e,r,i,a,u,n,o)}),jw(e,i,!1),n&&e.u&&hu("Patches").N(r,n,e.u,e.s)}return r.o}function g9(e,t,n,r,i,s,o){if(ef(i)){var a=Bw(e,i,s&&t&&t.i!==3&&!_p(t.R,r)?s.concat(r):void 0);if(AX(n,r,a),!ef(a))return;e.m=!1}else o&&n.add(i);if(Sl(i)&&!bD(i)){if(!e.h.D&&e._<1)return;Bw(e,i),t&&t.A.l||jw(e,i)}}function jw(e,t,n){n===void 0&&(n=!1),!e.l&&e.h.D&&e.m&&vD(t,n)}function XC(e,t){var n=e[or];return(n?Lf(n):e)[t]}function y9(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function mc(e){e.P||(e.P=!0,e.l&&mc(e.l))}function JC(e){e.o||(e.o=_D(e.t))}function KP(e,t,n){var r=gD(t)?hu("MapSet").F(t,n):yD(t)?hu("MapSet").T(t,n):e.g?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:YP(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},u=a,l=Sy;o&&(u=[a],l=rg);var c=Proxy.revocable(u,l),f=c.revoke,d=c.proxy;return a.k=d,a.j=f,d}(t,n):hu("ES5").J(t,n);return(n?n.A:YP()).p.push(r),r}function uRe(e){return ef(e)||ma(22,e),function t(n){if(!Sl(n))return n;var r,i=n[or],s=Fm(n);if(i){if(!i.P&&(i.i<4||!hu("ES5").K(i)))return i.t;i.I=!0,r=_9(n,s),i.I=!1}else r=_9(n,s);return Ld(r,function(o,a){i&&iRe(i.t,o)===a||AX(r,o,t(a))}),s===3?new Set(r):r}(e)}function _9(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return _D(e)}function lRe(){function e(s,o){var a=i[s];return a?a.enumerable=o:i[s]=a={configurable:!0,enumerable:o,get:function(){var u=this[or];return Sy.get(u,s)},set:function(u){var l=this[or];Sy.set(l,s,u)}},a}function t(s){for(var o=s.length-1;o>=0;o--){var a=s[o][or];if(!a.P)switch(a.i){case 5:r(a)&&mc(a);break;case 4:n(a)&&mc(a)}}}function n(s){for(var o=s.t,a=s.k,u=vp(a),l=u.length-1;l>=0;l--){var c=u[l];if(c!==or){var f=o[c];if(f===void 0&&!_p(o,c))return!0;var d=a[c],h=d&&d[or];if(h?h.t!==f:!OX(d,f))return!0}}var p=!!o[or];return u.length!==vp(o).length+(p?0:1)}function r(s){var o=s.k;if(o.length!==s.t.length)return!0;var a=Object.getOwnPropertyDescriptor(o,o.length-1);if(a&&!a.get)return!0;for(var u=0;u<o.length;u++)if(!o.hasOwnProperty(u))return!0;return!1}var i={};oRe("ES5",{J:function(s,o){var a=Array.isArray(s),u=function(c,f){if(c){for(var d=Array(f.length),h=0;h<f.length;h++)Object.defineProperty(d,""+h,e(h,!0));return d}var p=RX(f);delete p[or];for(var m=vp(p),y=0;y<m.length;y++){var g=m[y];p[g]=e(g,c||!!p[g].enumerable)}return Object.create(Object.getPrototypeOf(f),p)}(a,s),l={i:a?5:4,A:o?o.A:YP(),P:!1,I:!1,R:{},l:o,t:s,k:u,o:null,O:!1,C:!1};return Object.defineProperty(u,or,{value:l,writable:!0}),u},S:function(s,o,a){a?ef(o)&&o[or].A===s&&t(s.p):(s.u&&function u(l){if(l&&typeof l=="object"){var c=l[or];if(c){var f=c.t,d=c.k,h=c.R,p=c.i;if(p===4)Ld(d,function(b){b!==or&&(f[b]!==void 0||_p(f,b)?h[b]||u(d[b]):(h[b]=!0,mc(c)))}),Ld(f,function(b){d[b]!==void 0||_p(d,b)||(h[b]=!1,mc(c))});else if(p===5){if(r(c)&&(mc(c),h.length=!0),d.length<f.length)for(var m=d.length;m<f.length;m++)h[m]=!1;else for(var y=f.length;y<d.length;y++)h[y]=!0;for(var g=Math.min(d.length,f.length),_=0;_<g;_++)d.hasOwnProperty(_)||(h[_]=!0),h[_]===void 0&&u(d[_])}}}}(s.p[0]),t(s.p))},K:function(s){return s.i===4?n(s):r(s)}})}var v9,Ty,ED=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",cRe=typeof Map<"u",fRe=typeof Set<"u",b9=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",PX=ED?Symbol.for("immer-nothing"):((v9={})["immer-nothing"]=!0,v9),E9=ED?Symbol.for("immer-draftable"):"__$immer_draftable",or=ED?Symbol.for("immer-state"):"__$immer_state",dRe=""+Object.prototype.constructor,vp=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,RX=Object.getOwnPropertyDescriptors||function(e){var t={};return vp(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},QP={},Sy={get:function(e,t){if(t===or)return e;var n=Lf(e);if(!_p(n,t))return function(i,s,o){var a,u=y9(s,o);return u?"value"in u?u.value:(a=u.get)===null||a===void 0?void 0:a.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!Sl(r)?r:r===XC(e.t,t)?(JC(e),e.o[t]=KP(e.A.h,r,e)):r},has:function(e,t){return t in Lf(e)},ownKeys:function(e){return Reflect.ownKeys(Lf(e))},set:function(e,t,n){var r=y9(Lf(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=XC(Lf(e),t),s=i==null?void 0:i[or];if(s&&s.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(OX(n,i)&&(n!==void 0||_p(e.t,t)))return!0;JC(e),mc(e)}return e.o[t]===n&&(n!==void 0||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return XC(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,JC(e),mc(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Lf(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){ma(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){ma(12)}},rg={};Ld(Sy,function(e,t){rg[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),rg.deleteProperty=function(e,t){return rg.set.call(this,e,t,void 0)},rg.set=function(e,t,n){return Sy.set.call(this,e[0],t,n,e[0])};var hRe=function(){function e(n){var r=this;this.g=b9,this.D=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var u=r;return function(m){var y=this;m===void 0&&(m=a);for(var g=arguments.length,_=Array(g>1?g-1:0),b=1;b<g;b++)_[b-1]=arguments[b];return u.produce(m,function(T){var I;return(I=s).call.apply(I,[y,T].concat(_))})}}var l;if(typeof s!="function"&&ma(6),o!==void 0&&typeof o!="function"&&ma(7),Sl(i)){var c=m9(r),f=KP(r,i,void 0),d=!0;try{l=s(f),d=!1}finally{d?Fw(c):GP(c)}return typeof Promise<"u"&&l instanceof Promise?l.then(function(m){return KC(c,o),QC(m,c)},function(m){throw Fw(c),m}):(KC(c,o),QC(l,c))}if(!i||typeof i!="object"){if((l=s(i))===void 0&&(l=i),l===PX&&(l=void 0),r.D&&vD(l,!0),o){var h=[],p=[];hu("Patches").M(i,l,h,p),o(h,p)}return l}ma(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(l){for(var c=arguments.length,f=Array(c>1?c-1:0),d=1;d<c;d++)f[d-1]=arguments[d];return r.produceWithPatches(l,function(h){return i.apply(void 0,[h].concat(f))})};var o,a,u=r.produce(i,s,function(l,c){o=l,a=c});return typeof Promise<"u"&&u instanceof Promise?u.then(function(l){return[l,o,a]}):[u,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){Sl(n)||ma(8),ef(n)&&(n=uRe(n));var r=m9(this),i=KP(this,n,void 0);return i[or].C=!0,GP(r),i},t.finishDraft=function(n,r){var i=n&&n[or],s=i.A;return KC(s,r),QC(void 0,s)},t.setAutoFreeze=function(n){this.D=n},t.setUseProxies=function(n){n&&!b9&&ma(20),this.g=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=hu("Patches").$;return ef(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},e}(),po=new hRe,NX=po.produce;po.produceWithPatches.bind(po);po.setAutoFreeze.bind(po);po.setUseProxies.bind(po);po.applyPatches.bind(po);po.createDraft.bind(po);po.finishDraft.bind(po);function Iy(e){"@babel/helpers - typeof";return Iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Iy(e)}function pRe(e,t){if(Iy(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Iy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mRe(e){var t=pRe(e,"string");return Iy(t)=="symbol"?t:String(t)}function gRe(e,t,n){return t=mRe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function T9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?w9(Object(n),!0).forEach(function(r){gRe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zi(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var S9=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),ZC=function(){return Math.random().toString(36).substring(7).split("").join(".")},Uw={INIT:"@@redux/INIT"+ZC(),REPLACE:"@@redux/REPLACE"+ZC(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+ZC()}};function yRe(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function kX(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(zi(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(zi(1));return n(kX)(e,t)}if(typeof e!="function")throw new Error(zi(2));var i=e,s=t,o=[],a=o,u=!1;function l(){a===o&&(a=o.slice())}function c(){if(u)throw new Error(zi(3));return s}function f(m){if(typeof m!="function")throw new Error(zi(4));if(u)throw new Error(zi(5));var y=!0;return l(),a.push(m),function(){if(y){if(u)throw new Error(zi(6));y=!1,l();var _=a.indexOf(m);a.splice(_,1),o=null}}}function d(m){if(!yRe(m))throw new Error(zi(7));if(typeof m.type>"u")throw new Error(zi(8));if(u)throw new Error(zi(9));try{u=!0,s=i(s,m)}finally{u=!1}for(var y=o=a,g=0;g<y.length;g++){var _=y[g];_()}return m}function h(m){if(typeof m!="function")throw new Error(zi(10));i=m,d({type:Uw.REPLACE})}function p(){var m,y=f;return m={subscribe:function(_){if(typeof _!="object"||_===null)throw new Error(zi(11));function b(){_.next&&_.next(c())}b();var T=y(b);return{unsubscribe:T}}},m[S9]=function(){return this},m}return d({type:Uw.INIT}),r={dispatch:d,subscribe:f,getState:c,replaceReducer:h},r[S9]=p,r}function _Re(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:Uw.INIT});if(typeof r>"u")throw new Error(zi(12));if(typeof n(void 0,{type:Uw.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(zi(13))})}function vRe(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];typeof e[i]=="function"&&(n[i]=e[i])}var s=Object.keys(n),o;try{_Re(n)}catch(a){o=a}return function(u,l){if(u===void 0&&(u={}),o)throw o;for(var c=!1,f={},d=0;d<s.length;d++){var h=s[d],p=n[h],m=u[h],y=p(m,l);if(typeof y>"u")throw l&&l.type,new Error(zi(14));f[h]=y,c=c||y!==m}return c=c||s.length!==Object.keys(u).length,c?f:u}}function Vw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function bRe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(zi(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=t.map(function(u){return u(o)});return s=Vw.apply(void 0,a)(i.dispatch),T9(T9({},i),{},{dispatch:s})}}}function DX(e){var t=function(r){var i=r.dispatch,s=r.getState;return function(o){return function(a){return typeof a=="function"?a(i,s,e):o(a)}}};return t}var $X=DX();$X.withExtraArgument=DX;const I9=$X;var ERe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),k_=function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){n.label=l[1];break}if(l[0]===6&&n.label<s[1]){n.label=s[1],s=l;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(l);break}s[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(c){l=[6,c],i=0}finally{r=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},xy=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},wRe=Object.defineProperty,TRe=Object.defineProperties,SRe=Object.getOwnPropertyDescriptors,x9=Object.getOwnPropertySymbols,IRe=Object.prototype.hasOwnProperty,xRe=Object.prototype.propertyIsEnumerable,C9=function(e,t,n){return t in e?wRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Uc=function(e,t){for(var n in t||(t={}))IRe.call(t,n)&&C9(e,n,t[n]);if(x9)for(var r=0,i=x9(t);r<i.length;r++){var n=i[r];xRe.call(t,n)&&C9(e,n,t[n])}return e},eA=function(e,t){return TRe(e,SRe(t))},D_=function(e,t,n){return new Promise(function(r,i){var s=function(u){try{a(n.next(u))}catch(l){i(l)}},o=function(u){try{a(n.throw(u))}catch(l){i(l)}},a=function(u){return u.done?r(u.value):Promise.resolve(u.value).then(s,o)};a((n=n.apply(e,t)).next())})},CRe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Vw:Vw.apply(null,arguments)};function ARe(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var n=t;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return t===n}var ORe=function(e){ERe(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,xy([void 0],n[0].concat(this)))):new(t.bind.apply(t,xy([void 0],n.concat(this))))},t}(Array);function XP(e){return Sl(e)?NX(e,function(){}):e}function PRe(e){return typeof e=="boolean"}function RRe(){return function(t){return NRe(t)}}function NRe(e){e===void 0&&(e={});var t=e.thunk,n=t===void 0?!0:t;e.immutableCheck,e.serializableCheck;var r=new ORe;return n&&(PRe(n)?r.push(I9):r.push(I9.withExtraArgument(n.extraArgument))),r}var kRe=!0;function LX(e){var t=RRe(),n=e||{},r=n.reducer,i=r===void 0?void 0:r,s=n.middleware,o=s===void 0?t():s,a=n.devTools,u=a===void 0?!0:a,l=n.preloadedState,c=l===void 0?void 0:l,f=n.enhancers,d=f===void 0?void 0:f,h;if(typeof i=="function")h=i;else if(ARe(i))h=vRe(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var p=o;typeof p=="function"&&(p=p(t));var m=bRe.apply(void 0,p),y=Vw;u&&(y=CRe(Uc({trace:!kRe},typeof u=="object"&&u)));var g=[m];Array.isArray(d)?g=xy([m],d):typeof d=="function"&&(g=d(g));var _=y.apply(void 0,g);return kX(h,c,_)}function pu(e,t){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(t){var s=t.apply(void 0,r);if(!s)throw new Error("prepareAction did not return an object");return Uc(Uc({type:e,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:e,payload:r[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(r){return r.type===e},n}function MX(e){var t={},n=[],r,i={addCase:function(s,o){var a=typeof s=="string"?s:s.type;if(a in t)throw new Error("addCase cannot be called with two reducers for the same action type");return t[a]=o,i},addMatcher:function(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase:function(s){return r=s,i}};return e(i),[t,n,r]}function DRe(e){return typeof e=="function"}function $Re(e,t,n,r){n===void 0&&(n=[]);var i=typeof t=="function"?MX(t):[t,n,r],s=i[0],o=i[1],a=i[2],u;if(DRe(e))u=function(){return XP(e())};else{var l=XP(e);u=function(){return l}}function c(f,d){f===void 0&&(f=u());var h=xy([s[d.type]],o.filter(function(p){var m=p.matcher;return m(d)}).map(function(p){var m=p.reducer;return m}));return h.filter(function(p){return!!p}).length===0&&(h=[a]),h.reduce(function(p,m){if(m)if(ef(p)){var y=p,g=m(y,d);return g===void 0?p:g}else{if(Sl(p))return NX(p,function(_){return m(_,d)});var g=m(p,d);if(g===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}return p},f)}return c.getInitialState=u,c}function LRe(e,t){return e+"/"+t}function FX(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof e.initialState=="function"?e.initialState:XP(e.initialState),r=e.reducers||{},i=Object.keys(r),s={},o={},a={};i.forEach(function(c){var f=r[c],d=LRe(t,c),h,p;"reducer"in f?(h=f.reducer,p=f.prepare):h=f,s[c]=h,o[d]=h,a[c]=p?pu(d,p):pu(d)});function u(){var c=typeof e.extraReducers=="function"?MX(e.extraReducers):[e.extraReducers],f=c[0],d=f===void 0?{}:f,h=c[1],p=h===void 0?[]:h,m=c[2],y=m===void 0?void 0:m,g=Uc(Uc({},d),o);return $Re(n,function(_){for(var b in g)_.addCase(b,g[b]);for(var T=0,I=p;T<I.length;T++){var E=I[T];_.addMatcher(E.matcher,E.reducer)}y&&_.addDefaultCase(y)})}var l;return{name:t,reducer:function(c,f){return l||(l=u()),l(c,f)},actions:a,caseReducers:s,getInitialState:function(){return l||(l=u()),l.getInitialState()}}}var MRe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",BX=function(e){e===void 0&&(e=21);for(var t="",n=e;n--;)t+=MRe[Math.random()*64|0];return t},FRe=["name","message","stack","code"],tA=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),A9=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),BRe=function(e){if(typeof e=="object"&&e!==null){for(var t={},n=0,r=FRe;n<r.length;n++){var i=r[n];typeof e[i]=="string"&&(t[i]=e[i])}return t}return{message:String(e)}};(function(){function e(t,n,r){var i=pu(t+"/fulfilled",function(l,c,f,d){return{payload:l,meta:eA(Uc({},d||{}),{arg:f,requestId:c,requestStatus:"fulfilled"})}}),s=pu(t+"/pending",function(l,c,f){return{payload:void 0,meta:eA(Uc({},f||{}),{arg:c,requestId:l,requestStatus:"pending"})}}),o=pu(t+"/rejected",function(l,c,f,d,h){return{payload:d,error:(r&&r.serializeError||BRe)(l||"Rejected"),meta:eA(Uc({},h||{}),{arg:f,requestId:c,rejectedWithValue:!!d,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function l(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return l.prototype.abort=function(){},l}();function u(l){return function(c,f,d){var h=r!=null&&r.idGenerator?r.idGenerator(l):BX(),p=new a,m;function y(_){m=_,p.abort()}var g=function(){return D_(this,null,function(){var _,b,T,I,E,S,A;return k_(this,function(L){switch(L.label){case 0:return L.trys.push([0,4,,5]),I=(_=r==null?void 0:r.condition)==null?void 0:_.call(r,l,{getState:f,extra:d}),URe(I)?[4,I]:[3,2];case 1:I=L.sent(),L.label=2;case 2:if(I===!1||p.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return E=new Promise(function(W,z){return p.signal.addEventListener("abort",function(){return z({name:"AbortError",message:m||"Aborted"})})}),c(s(h,l,(b=r==null?void 0:r.getPendingMeta)==null?void 0:b.call(r,{requestId:h,arg:l},{getState:f,extra:d}))),[4,Promise.race([E,Promise.resolve(n(l,{dispatch:c,getState:f,extra:d,requestId:h,signal:p.signal,abort:y,rejectWithValue:function(W,z){return new tA(W,z)},fulfillWithValue:function(W,z){return new A9(W,z)}})).then(function(W){if(W instanceof tA)throw W;return W instanceof A9?i(W.payload,h,l,W.meta):i(W,h,l)})])];case 3:return T=L.sent(),[3,5];case 4:return S=L.sent(),T=S instanceof tA?o(null,h,l,S.payload,S.meta):o(S,h,l),[3,5];case 5:return A=r&&!r.dispatchConditionRejection&&o.match(T)&&T.meta.condition,A||c(T),[2,T]}})})}();return Object.assign(g,{abort:y,requestId:h,arg:l,unwrap:function(){return g.then(jRe)}})}}return Object.assign(u,{pending:s,rejected:o,fulfilled:i,typePrefix:t})}return e.withTypes=function(){return e},e})();function jRe(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function URe(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var VRe=function(e){return e&&typeof e.match=="function"},zRe=function(e,t){return VRe(e)?e.match(t):e(t)};function O9(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(n){return e.some(function(r){return zRe(r,n)})}}var wD=function(e,t){if(typeof e!="function")throw new TypeError(t+" is not a function")},JP=function(){},jX=function(e,t){return t===void 0&&(t=JP),e.catch(t),e},UX=function(e,t){return e.addEventListener("abort",t,{once:!0}),function(){return e.removeEventListener("abort",t)}},bp=function(e,t){var n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},HRe="task",VX="listener",zX="completed",TD="cancelled",WRe="task-"+TD,qRe="task-"+zX,HX=VX+"-"+TD,YRe=VX+"-"+zX,cI=function(){function e(t){this.code=t,this.name="TaskAbortError",this.message=HRe+" "+TD+" (reason: "+t+")"}return e}(),Ep=function(e){if(e.aborted)throw new cI(e.reason)};function WX(e,t){var n=JP;return new Promise(function(r,i){var s=function(){return i(new cI(e.reason))};if(e.aborted){s();return}n=UX(e,s),t.finally(function(){return n()}).then(r,i)}).finally(function(){n=JP})}var GRe=function(e,t){return D_(void 0,null,function(){var n,r;return k_(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,4,5]),[4,Promise.resolve()];case 1:return i.sent(),[4,e()];case 2:return n=i.sent(),[2,{status:"ok",value:n}];case 3:return r=i.sent(),[2,{status:r instanceof cI?"cancelled":"rejected",error:r}];case 4:return t==null||t(),[7];case 5:return[2]}})})},zw=function(e){return function(t){return jX(WX(e,t).then(function(n){return Ep(e),n}))}},qX=function(e){var t=zw(e);return function(n){return t(new Promise(function(r){return setTimeout(r,n)}))}},KRe=Object.assign,P9={},$_="listenerMiddleware",QRe=function(e){var t=function(n){return UX(e,function(){return bp(n,e.reason)})};return function(n){wD(n,"taskExecutor");var r=new AbortController;t(r);var i=GRe(function(){return D_(void 0,null,function(){var s;return k_(this,function(o){switch(o.label){case 0:return Ep(e),Ep(r.signal),[4,n({pause:zw(r.signal),delay:qX(r.signal),signal:r.signal})];case 1:return s=o.sent(),Ep(r.signal),[2,s]}})})},function(){return bp(r,qRe)});return{result:zw(e)(i),cancel:function(){bp(r,WRe)}}}},XRe=function(e,t){var n=function(r,i){return D_(void 0,null,function(){var s,o,a,u;return k_(this,function(l){switch(l.label){case 0:Ep(t),s=function(){},o=new Promise(function(c,f){var d=e({predicate:r,effect:function(h,p){p.unsubscribe(),c([h,p.getState(),p.getOriginalState()])}});s=function(){d(),f()}}),a=[o],i!=null&&a.push(new Promise(function(c){return setTimeout(c,i,null)})),l.label=1;case 1:return l.trys.push([1,,3,4]),[4,WX(t,Promise.race(a))];case 2:return u=l.sent(),Ep(t),[2,u];case 3:return s(),[7];case 4:return[2]}})})};return function(r,i){return jX(n(r,i))}},YX=function(e){var t=e.type,n=e.actionCreator,r=e.matcher,i=e.predicate,s=e.effect;if(t)i=pu(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error("Creating or removing a listener requires one of the known fields for matching an action");return wD(s,"options.listener"),{predicate:i,type:t,effect:s}},JRe=function(e){var t=YX(e),n=t.type,r=t.predicate,i=t.effect,s=BX(),o={id:s,effect:i,type:n,predicate:r,pending:new Set,unsubscribe:function(){throw new Error("Unsubscribe not initialized")}};return o},ZP=function(e){e.pending.forEach(function(t){bp(t,HX)})},ZRe=function(e){return function(){e.forEach(ZP),e.clear()}},R9=function(e,t,n){try{e(t,n)}catch(r){setTimeout(function(){throw r},0)}},eNe=pu($_+"/add"),tNe=pu($_+"/removeAll"),nNe=pu($_+"/remove"),rNe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,xy([$_+"/error"],e))};function iNe(e){var t=this;e===void 0&&(e={});var n=new Map,r=e.extra,i=e.onError,s=i===void 0?rNe:i;wD(s,"onError");var o=function(h){return h.unsubscribe=function(){return n.delete(h.id)},n.set(h.id,h),function(p){h.unsubscribe(),p!=null&&p.cancelActive&&ZP(h)}},a=function(h){for(var p=0,m=Array.from(n.values());p<m.length;p++){var y=m[p];if(h(y))return y}},u=function(h){var p=a(function(m){return m.effect===h.effect});return p||(p=JRe(h)),o(p)},l=function(h){var p=YX(h),m=p.type,y=p.effect,g=p.predicate,_=a(function(b){var T=typeof m=="string"?b.type===m:b.predicate===g;return T&&b.effect===y});return _&&(_.unsubscribe(),h.cancelActive&&ZP(_)),!!_},c=function(h,p,m,y){return D_(t,null,function(){var g,_,b;return k_(this,function(T){switch(T.label){case 0:g=new AbortController,_=XRe(u,g.signal),T.label=1;case 1:return T.trys.push([1,3,4,5]),h.pending.add(g),[4,Promise.resolve(h.effect(p,KRe({},m,{getOriginalState:y,condition:function(I,E){return _(I,E).then(Boolean)},take:_,delay:qX(g.signal),pause:zw(g.signal),extra:r,signal:g.signal,fork:QRe(g.signal),unsubscribe:h.unsubscribe,subscribe:function(){n.set(h.id,h)},cancelActiveListeners:function(){h.pending.forEach(function(I,E,S){I!==g&&(bp(I,HX),S.delete(I))})}})))];case 2:return T.sent(),[3,5];case 3:return b=T.sent(),b instanceof cI||R9(s,b,{raisedBy:"effect"}),[3,5];case 4:return bp(g,YRe),h.pending.delete(g),[7];case 5:return[2]}})})},f=ZRe(n),d=function(h){return function(p){return function(m){if(eNe.match(m))return u(m.payload);if(tNe.match(m)){f();return}if(nNe.match(m))return l(m.payload);var y=h.getState(),g=function(){if(y===P9)throw new Error($_+": getOriginalState can only be called synchronously");return y},_;try{if(_=p(m),n.size>0)for(var b=h.getState(),T=Array.from(n.values()),I=0,E=T;I<E.length;I++){var S=E[I],A=!1;try{A=S.predicate(m,b,y)}catch(L){A=!1,R9(s,L,{raisedBy:"predicate"})}A&&c(S,m,h,g)}}finally{y=P9}return _}}};return{middleware:d,startListening:u,stopListening:l,clearListeners:f}}var N9;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);lRe();async function sNe(e,t,n,r){const i={...n.map(c=>({[c]:{}}))},s=Object.assign({},...n.map(c=>({[c]:{aboveStimulus:{valid:!1,values:{}},belowStimulus:{valid:!1,values:{}},sidebar:{valid:!1,values:{}}}}))),o=Object.assign({},...n.map(c=>({[c]:{aboveStimulus:!0,belowStimulus:!0,sidebar:!0,values:{}}}))),a={studyId:e,answers:r||i,sequence:n,config:t,showAdmin:!1,showHelpText:!1,alertModal:{show:!1,message:""},trialValidation:r?o:s,iframeAnswers:[]},u=FX({name:"storeSlice",initialState:a,reducers:{setConfig(c,f){c.config=f.payload},toggleShowAdmin:c=>{c.showAdmin=!c.showAdmin},toggleShowHelpText:c=>{c.showHelpText=!c.showHelpText},setAlertModal:(c,f)=>{c.alertModal=f.payload},setIframeAnswers:(c,f)=>{c.iframeAnswers=f.payload},updateResponseBlockValidation:(c,{payload:f})=>{!f.currentStep||f.currentStep.length===0||(c.trialValidation[f.currentStep]||(c.trialValidation[f.currentStep]={aboveStimulus:{valid:!1,values:{}},belowStimulus:{valid:!1,values:{}},sidebar:{valid:!1,values:{}},provenanceGraph:void 0}),c.trialValidation[f.currentStep][f.location]={valid:f.status,values:f.values},f.provenanceGraph&&(c.trialValidation[f.currentStep].provenanceGraph=f.provenanceGraph))},saveTrialAnswer(c,{payload:f}){const{currentStep:d,answer:h,startTime:p,endTime:m,provenanceGraph:y,windowEvents:g}=f;c.answers[d]={answer:h,startTime:p,endTime:m,provenanceGraph:y,windowEvents:g}}}});return{store:LX({reducer:u.reducer,preloadedState:a}),actions:u.actions}}const GX=w.createContext(null);function zl(){return w.useContext(GX).actions}const Hl=jQ,Mu=ICe;function oNe(e){return Mu(t=>{if(e===void 0||e.length===0)return!0;const n=Object.values(t.trialValidation[e]).every(r=>typeof r=="object"&&"valid"in r?r.valid:!0);return n?Object.values(n).every(r=>r):!1})}var Hw={exports:{}};Hw.exports;(function(e,t){var n=200,r="__lodash_hash_undefined__",i=800,s=16,o=9007199254740991,a="[object Arguments]",u="[object Array]",l="[object AsyncFunction]",c="[object Boolean]",f="[object Date]",d="[object Error]",h="[object Function]",p="[object GeneratorFunction]",m="[object Map]",y="[object Number]",g="[object Null]",_="[object Object]",b="[object Proxy]",T="[object RegExp]",I="[object Set]",E="[object String]",S="[object Undefined]",A="[object WeakMap]",L="[object ArrayBuffer]",W="[object DataView]",z="[object Float32Array]",U="[object Float64Array]",Z="[object Int8Array]",H="[object Int16Array]",ue="[object Int32Array]",ie="[object Uint8Array]",_e="[object Uint8ClampedArray]",te="[object Uint16Array]",oe="[object Uint32Array]",J=/[\\^$.*+?()[\]{}|]/g,x=/^\[object .+?Constructor\]$/,C=/^(?:0|[1-9]\d*)$/,B={};B[z]=B[U]=B[Z]=B[H]=B[ue]=B[ie]=B[_e]=B[te]=B[oe]=!0,B[a]=B[u]=B[L]=B[c]=B[W]=B[f]=B[d]=B[h]=B[m]=B[y]=B[_]=B[T]=B[I]=B[E]=B[A]=!1;var P=typeof io=="object"&&io&&io.Object===Object&&io,O=typeof self=="object"&&self&&self.Object===Object&&self,Y=P||O||Function("return this")(),fe=t&&!t.nodeType&&t,le=fe&&!0&&e&&!e.nodeType&&e,me=le&&le.exports===fe,ge=me&&P.process,Se=function(){try{var V=le&&le.require&&le.require("util").types;return V||ge&&ge.binding&&ge.binding("util")}catch{}}(),de=Se&&Se.isTypedArray;function st(V,re,ye){switch(ye.length){case 0:return V.call(re);case 1:return V.call(re,ye[0]);case 2:return V.call(re,ye[0],ye[1]);case 3:return V.call(re,ye[0],ye[1],ye[2])}return V.apply(re,ye)}function Ke(V,re){for(var ye=-1,We=Array(V);++ye<V;)We[ye]=re(ye);return We}function qe(V){return function(re){return V(re)}}function $e(V,re){return V==null?void 0:V[re]}function ot(V,re){return function(ye){return V(re(ye))}}var ut=Array.prototype,On=Function.prototype,Ue=Object.prototype,Be=Y["__core-js_shared__"],bt=On.toString,je=Ue.hasOwnProperty,gt=function(){var V=/[^.]+$/.exec(Be&&Be.keys&&Be.keys.IE_PROTO||"");return V?"Symbol(src)_1."+V:""}(),Gt=Ue.toString,an=bt.call(Object),Gn=RegExp("^"+bt.call(je).replace(J,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ce=me?Y.Buffer:void 0,we=Y.Symbol,Le=Y.Uint8Array,rt=ce?ce.allocUnsafe:void 0,De=ot(Object.getPrototypeOf,Object),it=Object.create,Me=Ue.propertyIsEnumerable,Ze=ut.splice,bn=we?we.toStringTag:void 0,Wt=function(){try{var V=Pe(Object,"defineProperty");return V({},"",{}),V}catch{}}(),St=ce?ce.isBuffer:void 0,Bn=Math.max,En=Date.now,na=Pe(Y,"Map"),fr=Pe(Object,"create"),Mi=function(){function V(){}return function(re){if(!Rf(re))return{};if(it)return it(re);V.prototype=re;var ye=new V;return V.prototype=void 0,ye}}();function vr(V){var re=-1,ye=V==null?0:V.length;for(this.clear();++re<ye;){var We=V[re];this.set(We[0],We[1])}}function $r(){this.__data__=fr?fr(null):{},this.size=0}function dr(V){var re=this.has(V)&&delete this.__data__[V];return this.size-=re?1:0,re}function jn(V){var re=this.__data__;if(fr){var ye=re[V];return ye===r?void 0:ye}return je.call(re,V)?re[V]:void 0}function Zt(V){var re=this.__data__;return fr?re[V]!==void 0:je.call(re,V)}function ri(V,re){var ye=this.__data__;return this.size+=this.has(V)?0:1,ye[V]=fr&&re===void 0?r:re,this}vr.prototype.clear=$r,vr.prototype.delete=dr,vr.prototype.get=jn,vr.prototype.has=Zt,vr.prototype.set=ri;function br(V){var re=-1,ye=V==null?0:V.length;for(this.clear();++re<ye;){var We=V[re];this.set(We[0],We[1])}}function Lr(){this.__data__=[],this.size=0}function yi(V){var re=this.__data__,ye=tr(re,V);if(ye<0)return!1;var We=re.length-1;return ye==We?re.pop():Ze.call(re,ye,1),--this.size,!0}function ms(V){var re=this.__data__,ye=tr(re,V);return ye<0?void 0:re[ye][1]}function K(V){return tr(this.__data__,V)>-1}function j(V,re){var ye=this.__data__,We=tr(ye,V);return We<0?(++this.size,ye.push([V,re])):ye[We][1]=re,this}br.prototype.clear=Lr,br.prototype.delete=yi,br.prototype.get=ms,br.prototype.has=K,br.prototype.set=j;function X(V){var re=-1,ye=V==null?0:V.length;for(this.clear();++re<ye;){var We=V[re];this.set(We[0],We[1])}}function pe(){this.size=0,this.__data__={hash:new vr,map:new(na||br),string:new vr}}function he(V){var re=Oe(this,V).delete(V);return this.size-=re?1:0,re}function He(V){return Oe(this,V).get(V)}function Te(V){return Oe(this,V).has(V)}function Ve(V,re){var ye=Oe(this,V),We=ye.size;return ye.set(V,re),this.size+=ye.size==We?0:1,this}X.prototype.clear=pe,X.prototype.delete=he,X.prototype.get=He,X.prototype.has=Te,X.prototype.set=Ve;function ct(V){var re=this.__data__=new br(V);this.size=re.size}function Je(){this.__data__=new br,this.size=0}function mt(V){var re=this.__data__,ye=re.delete(V);return this.size=re.size,ye}function Lt(V){return this.__data__.get(V)}function $n(V){return this.__data__.has(V)}function pt(V,re){var ye=this.__data__;if(ye instanceof br){var We=ye.__data__;if(!na||We.length<n-1)return We.push([V,re]),this.size=++ye.size,this;ye=this.__data__=new X(We)}return ye.set(V,re),this.size=ye.size,this}ct.prototype.clear=Je,ct.prototype.delete=mt,ct.prototype.get=Lt,ct.prototype.has=$n,ct.prototype.set=pt;function xn(V,re){var ye=Fx(V),We=!ye&&mh(V),un=!ye&&!We&&tL(V),Un=!ye&&!We&&!un&&rL(V),rr=ye||We||un||Un,en=rr?Ke(V.length,String):[],ir=en.length;for(var So in V)(re||je.call(V,So))&&!(rr&&(So=="length"||un&&(So=="offset"||So=="parent")||Un&&(So=="buffer"||So=="byteLength"||So=="byteOffset")||Bt(So,ir)))&&en.push(So);return en}function Et(V,re,ye){(ye!==void 0&&!ph(V[re],ye)||ye===void 0&&!(re in V))&&Wr(V,re,ye)}function mn(V,re,ye){var We=V[re];(!(je.call(V,re)&&ph(We,ye))||ye===void 0&&!(re in V))&&Wr(V,re,ye)}function tr(V,re){for(var ye=V.length;ye--;)if(ph(V[ye][0],re))return ye;return-1}function Wr(V,re,ye){re=="__proto__"&&Wt?Wt(V,re,{configurable:!0,enumerable:!0,value:ye,writable:!0}):V[re]=ye}var Pr=Ie();function is(V){return V==null?V===void 0?S:g:bn&&bn in Object(V)?ke(V):Pf(V)}function _i(V){return h0(V)&&is(V)==a}function hr(V){if(!Rf(V)||Er(V))return!1;var re=jx(V)?Gn:x;return re.test(Mx(V))}function Ye(V){return h0(V)&&nL(V.length)&&!!B[is(V)]}function zt(V){if(!Rf(V))return ys(V);var re=nr(V),ye=[];for(var We in V)We=="constructor"&&(re||!je.call(V,We))||ye.push(We);return ye}function Hn(V,re,ye,We,un){V!==re&&Pr(re,function(Un,rr){if(un||(un=new ct),Rf(Un))ii(V,re,rr,ye,Hn,We,un);else{var en=We?We(f0(V,rr),Un,rr+"",V,re,un):void 0;en===void 0&&(en=Un),Et(V,rr,en)}},iL)}function ii(V,re,ye,We,un,Un,rr){var en=f0(V,ye),ir=f0(re,ye),So=rr.get(ir);if(So){Et(V,ye,So);return}var Ys=Un?Un(en,ir,ye+"",V,re,rr):void 0,p0=Ys===void 0;if(p0){var Ux=Fx(ir),Vx=!Ux&&tL(ir),oL=!Ux&&!Vx&&rL(ir);Ys=ir,Ux||Vx||oL?Fx(en)?Ys=en:Qae(en)?Ys=se(en):Vx?(p0=!1,Ys=G(ir,!0)):oL?(p0=!1,Ys=ne(ir,!0)):Ys=[]:Xae(ir)||mh(ir)?(Ys=en,mh(en)?Ys=Jae(en):(!Rf(en)||jx(en))&&(Ys=Qe(ir))):p0=!1}p0&&(rr.set(ir,Ys),un(Ys,ir,We,Un,rr),rr.delete(ir)),Et(V,ye,Ys)}function gs(V,re){return d0(c0(V,re,sL),V+"")}var R=Wt?function(V,re){return Wt(V,"toString",{configurable:!0,enumerable:!1,value:eue(re),writable:!0})}:sL;function G(V,re){if(re)return V.slice();var ye=V.length,We=rt?rt(ye):new V.constructor(ye);return V.copy(We),We}function M(V){var re=new V.constructor(V.byteLength);return new Le(re).set(new Le(V)),re}function ne(V,re){var ye=re?M(V.buffer):V.buffer;return new V.constructor(ye,V.byteOffset,V.length)}function se(V,re){var ye=-1,We=V.length;for(re||(re=Array(We));++ye<We;)re[ye]=V[ye];return re}function ee(V,re,ye,We){var un=!ye;ye||(ye={});for(var Un=-1,rr=re.length;++Un<rr;){var en=re[Un],ir=We?We(ye[en],V[en],en,ye,V):void 0;ir===void 0&&(ir=V[en]),un?Wr(ye,en,ir):mn(ye,en,ir)}return ye}function be(V){return gs(function(re,ye){var We=-1,un=ye.length,Un=un>1?ye[un-1]:void 0,rr=un>2?ye[2]:void 0;for(Un=V.length>3&&typeof Un=="function"?(un--,Un):void 0,rr&&gn(ye[0],ye[1],rr)&&(Un=un<3?void 0:Un,un=1),re=Object(re);++We<un;){var en=ye[We];en&&V(re,en,We,Un)}return re})}function Ie(V){return function(re,ye,We){for(var un=-1,Un=Object(re),rr=We(re),en=rr.length;en--;){var ir=rr[V?en:++un];if(ye(Un[ir],ir,Un)===!1)break}return re}}function Oe(V,re){var ye=V.__data__;return wn(re)?ye[typeof re=="string"?"string":"hash"]:ye.map}function Pe(V,re){var ye=$e(V,re);return hr(ye)?ye:void 0}function ke(V){var re=je.call(V,bn),ye=V[bn];try{V[bn]=void 0;var We=!0}catch{}var un=Gt.call(V);return We&&(re?V[bn]=ye:delete V[bn]),un}function Qe(V){return typeof V.constructor=="function"&&!nr(V)?Mi(De(V)):{}}function Bt(V,re){var ye=typeof V;return re=re??o,!!re&&(ye=="number"||ye!="symbol"&&C.test(V))&&V>-1&&V%1==0&&V<re}function gn(V,re,ye){if(!Rf(ye))return!1;var We=typeof re;return(We=="number"?Bx(ye)&&Bt(re,ye.length):We=="string"&&re in ye)?ph(ye[re],V):!1}function wn(V){var re=typeof V;return re=="string"||re=="number"||re=="symbol"||re=="boolean"?V!=="__proto__":V===null}function Er(V){return!!gt&&gt in V}function nr(V){var re=V&&V.constructor,ye=typeof re=="function"&&re.prototype||Ue;return V===ye}function ys(V){var re=[];if(V!=null)for(var ye in Object(V))re.push(ye);return re}function Pf(V){return Gt.call(V)}function c0(V,re,ye){return re=Bn(re===void 0?V.length-1:re,0),function(){for(var We=arguments,un=-1,Un=Bn(We.length-re,0),rr=Array(Un);++un<Un;)rr[un]=We[re+un];un=-1;for(var en=Array(re+1);++un<re;)en[un]=We[un];return en[re]=ye(rr),st(V,this,en)}}function f0(V,re){if(!(re==="constructor"&&typeof V[re]=="function")&&re!="__proto__")return V[re]}var d0=eL(R);function eL(V){var re=0,ye=0;return function(){var We=En(),un=s-(We-ye);if(ye=We,un>0){if(++re>=i)return arguments[0]}else re=0;return V.apply(void 0,arguments)}}function Mx(V){if(V!=null){try{return bt.call(V)}catch{}try{return V+""}catch{}}return""}function ph(V,re){return V===re||V!==V&&re!==re}var mh=_i(function(){return arguments}())?_i:function(V){return h0(V)&&je.call(V,"callee")&&!Me.call(V,"callee")},Fx=Array.isArray;function Bx(V){return V!=null&&nL(V.length)&&!jx(V)}function Qae(V){return h0(V)&&Bx(V)}var tL=St||tue;function jx(V){if(!Rf(V))return!1;var re=is(V);return re==h||re==p||re==l||re==b}function nL(V){return typeof V=="number"&&V>-1&&V%1==0&&V<=o}function Rf(V){var re=typeof V;return V!=null&&(re=="object"||re=="function")}function h0(V){return V!=null&&typeof V=="object"}function Xae(V){if(!h0(V)||is(V)!=_)return!1;var re=De(V);if(re===null)return!0;var ye=je.call(re,"constructor")&&re.constructor;return typeof ye=="function"&&ye instanceof ye&&bt.call(ye)==an}var rL=de?qe(de):Ye;function Jae(V){return ee(V,iL(V))}function iL(V){return Bx(V)?xn(V,!0):zt(V)}var Zae=be(function(V,re,ye){Hn(V,re,ye)});function eue(V){return function(){return V}}function sL(V){return V}function tue(){return!1}e.exports=Zae})(Hw,Hw.exports);var aNe=Hw.exports;const SD=Pa(aNe);function KX(){return Nm().pathname.split("/")[1]}function Ra(){return Nm().pathname.split("/")[2]}function ID(e){return structuredClone(e)}function xD(){const{answers:e}=Mu(n=>n),t=Ra();return e[t]}const QX=w.createContext(null);function uNe(){const e=w.useContext(QX);if(!e)throw new Error("useWindowEvents must be used within a WindowEventsProvider");return e}function lNe(){const e=Ra(),{sequence:t,trialValidation:n}=Mu(g=>g),r=xD(),i=Hl(),{saveTrialAnswer:s,setIframeAnswers:o}=zl(),{storageEngine:a}=vf(),l=!oNe(e),c=r==null?void 0:r.answer,f=Qd(),d=w.useMemo(()=>{const g=t.indexOf(e);return t[g+1]||"end"},[e,t]),h=`/${KX()}/${d}`,p=w.useMemo(()=>Date.now(),[]),m=uNe(),y=w.useCallback(()=>{const g=ID(n[e]),_=Object.values(g).reduce((E,S)=>Object.hasOwn(S,"values")?{...E,...S.values}:E,{}),{provenanceGraph:b}=g,T=Date.now(),I=m&&"current"in m&&m.current?m.current.splice(0,m.current.length):[];Object.keys(c||{}).length===0&&(i(s({currentStep:e,answer:_,startTime:p,endTime:T,provenanceGraph:b,windowEvents:I})),a&&a.saveAnswer(e,{answer:_,startTime:p,endTime:T,provenanceGraph:b,windowEvents:I}),i(o([]))),f(`${h}${window.location.search}`)},[o,a,i,c,n,f,p,e,s,h,m]);return{nextStep:d,isNextDisabled:l,goToNextStep:y}}function cNe({label:e="Next",disabled:t=!1,setCheckClicked:n=()=>{},onClick:r}){const{isNextDisabled:i,goToNextStep:s}=lNe(),o=w.useCallback(()=>{n(!1),r&&r(),s()},[s,r,n]);return $.jsx(dl,{type:"submit",disabled:t||i,onClick:o,children:e})}function e2(e){return e===null||typeof e!="object"?{}:Object.keys(e).reduce((t,n)=>{const r=e[n];return r!=null&&r!==!1&&(t[n]=r),t},{})}var fNe=Object.defineProperty,k9=Object.getOwnPropertySymbols,dNe=Object.prototype.hasOwnProperty,hNe=Object.prototype.propertyIsEnumerable,D9=(e,t,n)=>t in e?fNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pNe=(e,t)=>{for(var n in t||(t={}))dNe.call(t,n)&&D9(e,n,t[n]);if(k9)for(var n of k9(t))hNe.call(t,n)&&D9(e,n,t[n]);return e};function XX(e,t){if(t===null||typeof t!="object")return{};const n=pNe({},t);return Object.keys(t).forEach(r=>{r.includes(`${String(e)}.`)&&delete n[r]}),n}const mNe="__MANTINE_FORM_INDEX__";function $9(e,t){return t?typeof t=="boolean"?t:Array.isArray(t)?t.includes(e.replace(/[.][0-9]/g,`.${mNe}`)):!1:!1}function L9(e,t,n){typeof n.value=="object"&&(n.value=Xh(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function Xh(e){if(typeof e!="object")return e;var t=0,n,r,i,s=Object.prototype.toString.call(e);if(s==="[object Object]"?i=Object.create(e.__proto__||null):s==="[object Array]"?i=Array(e.length):s==="[object Set]"?(i=new Set,e.forEach(function(o){i.add(Xh(o))})):s==="[object Map]"?(i=new Map,e.forEach(function(o,a){i.set(Xh(a),Xh(o))})):s==="[object Date]"?i=new Date(+e):s==="[object RegExp]"?i=new RegExp(e.source,e.flags):s==="[object DataView]"?i=new e.constructor(Xh(e.buffer)):s==="[object ArrayBuffer]"?i=e.slice(0):s.slice(-6)==="Array]"&&(i=new e.constructor(e)),i){for(r=Object.getOwnPropertySymbols(e);t<r.length;t++)L9(i,r[t],Object.getOwnPropertyDescriptor(e,r[t]));for(t=0,r=Object.getOwnPropertyNames(e);t<r.length;t++)Object.hasOwnProperty.call(i,n=r[t])&&i[n]===e[n]||L9(i,n,Object.getOwnPropertyDescriptor(e,n))}return i||e}function JX(e){return typeof e!="string"?[]:e.split(".")}function fI(e,t,n){const r=JX(e);if(r.length===0)return n;const i=Xh(n);if(r.length===1)return i[r[0]]=t,i;let s=i[r[0]];for(let o=1;o<r.length-1;o+=1){if(s===void 0)return i;s=s[r[o]]}return s[r[r.length-1]]=t,i}function Yu(e,t){const n=JX(e);if(n.length===0||typeof t!="object"||t===null)return;let r=t[n[0]];for(let i=1;i<n.length&&r!==void 0;i+=1)r=r[n[i]];return r}function M9(e){const t=e2(e);return{hasErrors:Object.keys(t).length>0,errors:t}}function t2(e,t,n="",r={}){return typeof e!="object"||e===null?r:Object.keys(e).reduce((i,s)=>{const o=e[s],a=`${n===""?"":`${n}.`}${s}`,u=Yu(a,t);let l=!1;return typeof o=="function"&&(i[a]=o(u,t,a)),typeof o=="object"&&Array.isArray(u)&&(l=!0,u.forEach((c,f)=>t2(o,t,`${a}.${f}`,i))),typeof o=="object"&&typeof u=="object"&&u!==null&&(l||t2(o,t,a,i)),i},r)}function n2(e,t){return M9(typeof e=="function"?e(t):t2(e,t))}function r1(e,t,n){if(typeof e!="string")return{hasError:!1,error:null};const r=n2(t,n),i=Object.keys(r.errors).find(s=>e.split(".").every((o,a)=>o===s.split(".")[a]));return{hasError:!!i,error:i?r.errors[i]:null}}function gNe(e,{from:t,to:n},r){const i=Yu(e,r);if(!Array.isArray(i))return r;const s=[...i],o=i[t];return s.splice(t,1),s.splice(n,0,o),fI(e,s,r)}var yNe=Object.defineProperty,F9=Object.getOwnPropertySymbols,_Ne=Object.prototype.hasOwnProperty,vNe=Object.prototype.propertyIsEnumerable,B9=(e,t,n)=>t in e?yNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bNe=(e,t)=>{for(var n in t||(t={}))_Ne.call(t,n)&&B9(e,n,t[n]);if(F9)for(var n of F9(t))vNe.call(t,n)&&B9(e,n,t[n]);return e};function ENe(e,{from:t,to:n},r){const i=`${e}.${t}`,s=`${e}.${n}`,o=bNe({},r);return Object.keys(r).every(a=>{let u,l;if(a.startsWith(i)&&(u=a,l=a.replace(i,s)),a.startsWith(s)&&(u=a.replace(s,i),l=a),u&&l){const c=o[u],f=o[l];return f===void 0?delete o[u]:o[u]=f,c===void 0?delete o[l]:o[l]=c,!1}return!0}),o}function wNe(e,t,n){const r=Yu(e,n);return Array.isArray(r)?fI(e,r.filter((i,s)=>s!==t),n):n}var TNe=Object.defineProperty,j9=Object.getOwnPropertySymbols,SNe=Object.prototype.hasOwnProperty,INe=Object.prototype.propertyIsEnumerable,U9=(e,t,n)=>t in e?TNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xNe=(e,t)=>{for(var n in t||(t={}))SNe.call(t,n)&&U9(e,n,t[n]);if(j9)for(var n of j9(t))INe.call(t,n)&&U9(e,n,t[n]);return e};function V9(e,t){const n=e.substring(t.length+1).split(".")[0];return parseInt(n,10)}function z9(e,t,n,r){if(t===void 0)return n;const i=`${String(e)}`;let s=n;r===-1&&(s=XX(`${i}.${t}`,s));const o=xNe({},s),a=new Set;return Object.entries(s).filter(([u])=>{if(!u.startsWith(`${i}.`))return!1;const l=V9(u,i);return Number.isNaN(l)?!1:l>=t}).forEach(([u,l])=>{const c=V9(u,i),f=u.replace(`${i}.${c}`,`${i}.${c+r}`);o[f]=l,a.add(f),a.has(u)||delete o[u]}),o}function CNe(e,t,n,r){const i=Yu(e,r);if(!Array.isArray(i))return r;const s=[...i];return s.splice(typeof n=="number"?n:s.length,0,t),fI(e,s,r)}function H9(e,t){const n=Object.keys(e);if(typeof t=="string"){const r=n.filter(i=>i.startsWith(`${t}.`));return e[t]||r.some(i=>e[i])||!1}return n.some(r=>e[r])}function ANe(e){return t=>{if(!t)e(t);else if(typeof t=="function")e(t);else if(typeof t=="object"&&"nativeEvent"in t){const{currentTarget:n}=t;n instanceof HTMLInputElement?n.type==="checkbox"?e(n.checked):e(n.value):(n instanceof HTMLTextAreaElement||n instanceof HTMLSelectElement)&&e(n.value)}else e(t)}}var ONe=Object.defineProperty,PNe=Object.defineProperties,RNe=Object.getOwnPropertyDescriptors,W9=Object.getOwnPropertySymbols,NNe=Object.prototype.hasOwnProperty,kNe=Object.prototype.propertyIsEnumerable,q9=(e,t,n)=>t in e?ONe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ec=(e,t)=>{for(var n in t||(t={}))NNe.call(t,n)&&q9(e,n,t[n]);if(W9)for(var n of W9(t))kNe.call(t,n)&&q9(e,n,t[n]);return e},nA=(e,t)=>PNe(e,RNe(t));function DNe({initialValues:e={},initialErrors:t={},initialDirty:n={},initialTouched:r={},clearInputErrorOnChange:i=!0,validateInputOnChange:s=!1,validateInputOnBlur:o=!1,transformValues:a=l=>l,validate:u}={}){const[l,c]=w.useState(r),[f,d]=w.useState(n),[h,p]=w.useState(e),[m,y]=w.useState(e2(t)),g=w.useRef(e),_=O=>{g.current=O},b=w.useCallback(()=>c({}),[]),T=O=>{const Y=O?ec(ec({},h),O):h;_(Y),d({})},I=w.useCallback(O=>y(Y=>e2(typeof O=="function"?O(Y):O)),[]),E=w.useCallback(()=>y({}),[]),S=w.useCallback(()=>{p(e),E(),_(e),d({}),b()},[]),A=w.useCallback((O,Y)=>I(fe=>nA(ec({},fe),{[O]:Y})),[]),L=w.useCallback(O=>I(Y=>{if(typeof O!="string")return Y;const fe=ec({},Y);return delete fe[O],fe}),[]),W=w.useCallback(O=>d(Y=>{if(typeof O!="string")return Y;const fe=XX(O,Y);return delete fe[O],fe}),[]),z=w.useCallback((O,Y)=>{const fe=$9(O,s);W(O),c(le=>nA(ec({},le),{[O]:!0})),p(le=>{const me=fI(O,Y,le);if(fe){const ge=r1(O,u,me);ge.hasError?A(O,ge.error):L(O)}return me}),!fe&&i&&A(O,null)},[]),U=w.useCallback(O=>{p(Y=>{const fe=typeof O=="function"?O(Y):O;return ec(ec({},Y),fe)}),i&&E()},[]),Z=w.useCallback((O,Y)=>{W(O),p(fe=>gNe(O,Y,fe)),y(fe=>ENe(O,Y,fe))},[]),H=w.useCallback((O,Y)=>{W(O),p(fe=>wNe(O,Y,fe)),y(fe=>z9(O,Y,fe,-1))},[]),ue=w.useCallback((O,Y,fe)=>{W(O),p(le=>CNe(O,Y,fe,le)),y(le=>z9(O,fe,le,1))},[]),ie=w.useCallback(()=>{const O=n2(u,h);return y(O.errors),O},[h,u]),_e=w.useCallback(O=>{const Y=r1(O,u,h);return Y.hasError?A(O,Y.error):L(O),Y},[h,u]),te=(O,{type:Y="input",withError:fe=!0,withFocus:le=!0}={})=>{const ge={onChange:ANe(Se=>z(O,Se))};return fe&&(ge.error=m[O]),Y==="checkbox"?ge.checked=Yu(O,h):ge.value=Yu(O,h),le&&(ge.onFocus=()=>c(Se=>nA(ec({},Se),{[O]:!0})),ge.onBlur=()=>{if($9(O,o)){const Se=r1(O,u,h);Se.hasError?A(O,Se.error):L(O)}}),ge},oe=(O,Y)=>fe=>{fe==null||fe.preventDefault();const le=ie();le.hasErrors?Y==null||Y(le.errors,h,fe):O==null||O(a(h),fe)},J=O=>a(O||h),x=w.useCallback(O=>{O.preventDefault(),S()},[]),C=O=>{if(O){const fe=Yu(O,f);if(typeof fe=="boolean")return fe;const le=Yu(O,h),me=Yu(O,g.current);return!K8(le,me)}return Object.keys(f).length>0?H9(f):!K8(h,g.current)},B=w.useCallback(O=>H9(l,O),[l]),P=w.useCallback(O=>O?!r1(O,u,h).hasError:!n2(u,h).hasErrors,[h,u]);return{values:h,errors:m,setValues:U,setErrors:I,setFieldValue:z,setFieldError:A,clearFieldError:L,clearErrors:E,reset:S,validate:ie,validateField:_e,reorderListItem:Z,removeListItem:H,insertListItem:ue,getInputProps:te,onSubmit:oe,onReset:x,isDirty:C,isTouched:B,setTouched:c,setDirty:d,resetTouched:b,resetDirty:T,isValid:P,getTransformedValues:J}}const $Ne=new URLSearchParams(window.location.search),LNe=(e,t)=>{let n={};return e.forEach(r=>{const i=t?t[r.id]:{};if(i)n={...n,[r.id]:i};else{const s=r.paramCapture?$Ne.get(r.paramCapture):"";n={...n,[r.id]:r.type==="iframe"?[]:s}}}),{...n}},MNe=e=>{let t={};return e.forEach(n=>{n.required&&(t={...t,[n.id]:r=>{if(Array.isArray(r)){if(n.requiredValue!=null&&!Array.isArray(n.requiredValue))return"Incorrect required value";if(n.requiredValue!=null&&Array.isArray(n.requiredValue)){if(n.requiredValue.length!==r.length)return"Incorrect input";const i=[...n.requiredValue].sort(),s=[...r].sort();return i.every((o,a)=>o===s[a])?null:"Incorrect input"}return r.length===0?"Empty input":null}return n.required&&n.requiredValue!=null&&r!=null?r.toString()!==n.requiredValue.toString()?"Incorrect input":null:n.required?r==null||r===""?"Empty input":null:r===null?"Empty input":null}})}),t};function FNe(e,t,n){const[r,i]=w.useState(null),s=DNe({initialValues:LNe(e,n),validate:MNe(e)});return w.useEffect(()=>{r!==t&&(i(t),s.reset())},[r,s,t]),s}function eh(e,t,n){var o;const{requiredValue:r,requiredLabel:i}=e;let s="";return t.checked&&Array.isArray(r)?s=r&&[...r].sort().toString()!==[...t.checked].sort().toString()?`Please ${n?"select":"enter"} ${i||r.toString()} to continue.`:null:s=t.value&&r&&r.toString()!==t.value.toString()?`Please ${n?"select":"enter"} ${i||(n?(o=n.find(a=>a.value===r))==null?void 0:o.label:r.toString())} to continue.`:null,s}const Y9=["http","https","mailto","tel"];function BNe(e){const t=(e||"").trim(),n=t.charAt(0);if(n==="#"||n==="/")return t;const r=t.indexOf(":");if(r===-1)return t;let i=-1;for(;++i<Y9.length;){const s=Y9[i];if(r===s.length&&t.slice(0,s.length).toLowerCase()===s)return t}return i=t.indexOf("?"),i!==-1&&r>i||(i=t.indexOf("#"),i!==-1&&r>i)?t:"javascript:void(0)"}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var jNe=function(t){return t!=null&&t.constructor!=null&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)};const CD=Pa(jNe);function wp(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?G9(e.position):"start"in e||"end"in e?G9(e):"line"in e||"column"in e?r2(e):""}function r2(e){return K9(e&&e.line)+":"+K9(e&&e.column)}function G9(e){return r2(e&&e.start)+"-"+r2(e&&e.end)}function K9(e){return e&&typeof e=="number"?e:1}let Qo=class extends Error{constructor(t,n,r){const i=[null,null];let s={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof n=="string"&&(r=n,n=void 0),typeof r=="string"){const o=r.indexOf(":");o===-1?i[1]=r:(i[0]=r.slice(0,o),i[1]=r.slice(o+1))}n&&("type"in n||"position"in n?n.position&&(s=n.position):"start"in n||"end"in n?s=n:("line"in n||"column"in n)&&(s.start=n)),this.name=wp(n)||"1:1",this.message=typeof t=="object"?t.message:t,this.stack="",typeof t=="object"&&t.stack&&(this.stack=t.stack),this.reason=this.message,this.fatal,this.line=s.start.line,this.column=s.start.column,this.position=s,this.source=i[0],this.ruleId=i[1],this.file,this.actual,this.expected,this.url,this.note}};Qo.prototype.file="";Qo.prototype.name="";Qo.prototype.reason="";Qo.prototype.message="";Qo.prototype.stack="";Qo.prototype.fatal=null;Qo.prototype.column=null;Qo.prototype.line=null;Qo.prototype.source=null;Qo.prototype.ruleId=null;Qo.prototype.position=null;const ja={basename:UNe,dirname:VNe,extname:zNe,join:HNe,sep:"/"};function UNe(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');L_(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.charCodeAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,a=t.length-1;for(;i--;)if(e.charCodeAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(e.charCodeAt(i)===t.charCodeAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function VNe(e){if(L_(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.charCodeAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.charCodeAt(0)===47?"/":".":t===1&&e.charCodeAt(0)===47?"//":e.slice(0,t)}function zNe(e){L_(e);let t=e.length,n=-1,r=0,i=-1,s=0,o;for(;t--;){const a=e.charCodeAt(t);if(a===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),a===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function HNe(...e){let t=-1,n;for(;++t<e.length;)L_(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":WNe(n)}function WNe(e){L_(e);const t=e.charCodeAt(0)===47;let n=qNe(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.charCodeAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function qNe(e,t){let n="",r=0,i=-1,s=0,o=-1,a,u;for(;++o<=e.length;){if(o<e.length)a=e.charCodeAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function L_(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const YNe={cwd:GNe};function GNe(){return"/"}function i2(e){return e!==null&&typeof e=="object"&&e.href&&e.origin}function KNe(e){if(typeof e=="string")e=new URL(e);else if(!i2(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return QNe(e)}function QNe(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.charCodeAt(n)===37&&t.charCodeAt(n+1)===50){const r=t.charCodeAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const rA=["history","path","basename","stem","extname","dirname"];let XNe=class{constructor(t){let n;t?typeof t=="string"||CD(t)?n={value:t}:i2(t)?n={path:t}:n=t:n={},this.data={},this.messages=[],this.history=[],this.cwd=YNe.cwd(),this.value,this.stored,this.result,this.map;let r=-1;for(;++r<rA.length;){const s=rA[r];s in n&&n[s]!==void 0&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)rA.includes(i)||(this[i]=n[i])}get path(){return this.history[this.history.length-1]}set path(t){i2(t)&&(t=KNe(t)),sA(t,"path"),this.path!==t&&this.history.push(t)}get dirname(){return typeof this.path=="string"?ja.dirname(this.path):void 0}set dirname(t){Q9(this.basename,"dirname"),this.path=ja.join(t||"",this.basename)}get basename(){return typeof this.path=="string"?ja.basename(this.path):void 0}set basename(t){sA(t,"basename"),iA(t,"basename"),this.path=ja.join(this.dirname||"",t)}get extname(){return typeof this.path=="string"?ja.extname(this.path):void 0}set extname(t){if(iA(t,"extname"),Q9(this.dirname,"extname"),t){if(t.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ja.join(this.dirname,this.stem+(t||""))}get stem(){return typeof this.path=="string"?ja.basename(this.path,this.extname):void 0}set stem(t){sA(t,"stem"),iA(t,"stem"),this.path=ja.join(this.dirname||"",t+(this.extname||""))}toString(t){return(this.value||"").toString(t)}message(t,n,r){const i=new Qo(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=null,i}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}};function iA(e,t){if(e&&e.includes(ja.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+ja.sep+"`")}function sA(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Q9(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function X9(e){if(e)throw e}var rb=Object.prototype.hasOwnProperty,ZX=Object.prototype.toString,J9=Object.defineProperty,Z9=Object.getOwnPropertyDescriptor,eB=function(t){return typeof Array.isArray=="function"?Array.isArray(t):ZX.call(t)==="[object Array]"},tB=function(t){if(!t||ZX.call(t)!=="[object Object]")return!1;var n=rb.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&rb.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||rb.call(t,i)},nB=function(t,n){J9&&n.name==="__proto__"?J9(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},rB=function(t,n){if(n==="__proto__")if(rb.call(t,n)){if(Z9)return Z9(t,n).value}else return;return t[n]},JNe=function e(){var t,n,r,i,s,o,a=arguments[0],u=1,l=arguments.length,c=!1;for(typeof a=="boolean"&&(c=a,a=arguments[1]||{},u=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});u<l;++u)if(t=arguments[u],t!=null)for(n in t)r=rB(a,n),i=rB(t,n),a!==i&&(c&&i&&(tB(i)||(s=eB(i)))?(s?(s=!1,o=r&&eB(r)?r:[]):o=r&&tB(r)?r:{},nB(a,{name:n,newValue:e(c,o,i)})):typeof i<"u"&&nB(a,{name:n,newValue:i}));return a};const iB=Pa(JNe);function s2(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function ZNe(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(u,...l){const c=e[++s];let f=-1;if(u){o(u);return}for(;++f<i.length;)(l[f]===null||l[f]===void 0)&&(l[f]=i[f]);i=l,c?eke(c,a)(...l):o(null,...l)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function eke(e,t){let n;return r;function r(...o){const a=e.length>o.length;let u;a&&o.push(i);try{u=e.apply(this,o)}catch(l){const c=l;if(a&&n)throw c;return i(c)}a||(u instanceof Promise?u.then(s,i):u instanceof Error?i(u):s(u))}function i(o,...a){n||(n=!0,t(o,...a))}function s(o){i(null,o)}}class Xo extends Error{constructor(t,n,r){const i=[null,null];let s={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof n=="string"&&(r=n,n=void 0),typeof r=="string"){const o=r.indexOf(":");o===-1?i[1]=r:(i[0]=r.slice(0,o),i[1]=r.slice(o+1))}n&&("type"in n||"position"in n?n.position&&(s=n.position):"start"in n||"end"in n?s=n:("line"in n||"column"in n)&&(s.start=n)),this.name=wp(n)||"1:1",this.message=typeof t=="object"?t.message:t,this.stack="",typeof t=="object"&&t.stack&&(this.stack=t.stack),this.reason=this.message,this.fatal,this.line=s.start.line,this.column=s.start.column,this.position=s,this.source=i[0],this.ruleId=i[1],this.file,this.actual,this.expected,this.url,this.note}}Xo.prototype.file="";Xo.prototype.name="";Xo.prototype.reason="";Xo.prototype.message="";Xo.prototype.stack="";Xo.prototype.fatal=null;Xo.prototype.column=null;Xo.prototype.line=null;Xo.prototype.source=null;Xo.prototype.ruleId=null;Xo.prototype.position=null;const Ua={basename:tke,dirname:nke,extname:rke,join:ike,sep:"/"};function tke(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');M_(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.charCodeAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,a=t.length-1;for(;i--;)if(e.charCodeAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(e.charCodeAt(i)===t.charCodeAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function nke(e){if(M_(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.charCodeAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.charCodeAt(0)===47?"/":".":t===1&&e.charCodeAt(0)===47?"//":e.slice(0,t)}function rke(e){M_(e);let t=e.length,n=-1,r=0,i=-1,s=0,o;for(;t--;){const a=e.charCodeAt(t);if(a===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),a===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function ike(...e){let t=-1,n;for(;++t<e.length;)M_(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":ske(n)}function ske(e){M_(e);const t=e.charCodeAt(0)===47;let n=oke(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.charCodeAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function oke(e,t){let n="",r=0,i=-1,s=0,o=-1,a,u;for(;++o<=e.length;){if(o<e.length)a=e.charCodeAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function M_(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const ake={cwd:uke};function uke(){return"/"}function o2(e){return e!==null&&typeof e=="object"&&e.href&&e.origin}function lke(e){if(typeof e=="string")e=new URL(e);else if(!o2(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return cke(e)}function cke(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.charCodeAt(n)===37&&t.charCodeAt(n+1)===50){const r=t.charCodeAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const oA=["history","path","basename","stem","extname","dirname"];class fke{constructor(t){let n;t?typeof t=="string"||CD(t)?n={value:t}:o2(t)?n={path:t}:n=t:n={},this.data={},this.messages=[],this.history=[],this.cwd=ake.cwd(),this.value,this.stored,this.result,this.map;let r=-1;for(;++r<oA.length;){const s=oA[r];s in n&&n[s]!==void 0&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)oA.includes(i)||(this[i]=n[i])}get path(){return this.history[this.history.length-1]}set path(t){o2(t)&&(t=lke(t)),uA(t,"path"),this.path!==t&&this.history.push(t)}get dirname(){return typeof this.path=="string"?Ua.dirname(this.path):void 0}set dirname(t){sB(this.basename,"dirname"),this.path=Ua.join(t||"",this.basename)}get basename(){return typeof this.path=="string"?Ua.basename(this.path):void 0}set basename(t){uA(t,"basename"),aA(t,"basename"),this.path=Ua.join(this.dirname||"",t)}get extname(){return typeof this.path=="string"?Ua.extname(this.path):void 0}set extname(t){if(aA(t,"extname"),sB(this.dirname,"extname"),t){if(t.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Ua.join(this.dirname,this.stem+(t||""))}get stem(){return typeof this.path=="string"?Ua.basename(this.path,this.extname):void 0}set stem(t){uA(t,"stem"),aA(t,"stem"),this.path=Ua.join(this.dirname||"",t+(this.extname||""))}toString(t){return(this.value||"").toString(t)}message(t,n,r){const i=new Xo(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=null,i}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}}function aA(e,t){if(e&&e.includes(Ua.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Ua.sep+"`")}function uA(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function sB(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}const dke=tJ().freeze(),eJ={}.hasOwnProperty;function tJ(){const e=ZNe(),t=[];let n={},r,i=-1;return s.data=o,s.Parser=void 0,s.Compiler=void 0,s.freeze=a,s.attachers=t,s.use=u,s.parse=l,s.stringify=c,s.run=f,s.runSync=d,s.process=h,s.processSync=p,s;function s(){const m=tJ();let y=-1;for(;++y<t.length;)m.use(...t[y]);return m.data(iB(!0,{},n)),m}function o(m,y){return typeof m=="string"?arguments.length===2?(fA("data",r),n[m]=y,s):eJ.call(n,m)&&n[m]||null:m?(fA("data",r),n=m,s):n}function a(){if(r)return s;for(;++i<t.length;){const[m,...y]=t[i];if(y[0]===!1)continue;y[0]===!0&&(y[0]=void 0);const g=m.call(s,...y);typeof g=="function"&&e.use(g)}return r=!0,i=Number.POSITIVE_INFINITY,s}function u(m,...y){let g;if(fA("use",r),m!=null)if(typeof m=="function")I(m,...y);else if(typeof m=="object")Array.isArray(m)?T(m):b(m);else throw new TypeError("Expected usable value, not `"+m+"`");return g&&(n.settings=Object.assign(n.settings||{},g)),s;function _(E){if(typeof E=="function")I(E);else if(typeof E=="object")if(Array.isArray(E)){const[S,...A]=E;I(S,...A)}else b(E);else throw new TypeError("Expected usable value, not `"+E+"`")}function b(E){T(E.plugins),E.settings&&(g=Object.assign(g||{},E.settings))}function T(E){let S=-1;if(E!=null)if(Array.isArray(E))for(;++S<E.length;){const A=E[S];_(A)}else throw new TypeError("Expected a list of plugins, not `"+E+"`")}function I(E,S){let A=-1,L;for(;++A<t.length;)if(t[A][0]===E){L=t[A];break}L?(s2(L[1])&&s2(S)&&(S=iB(!0,L[1],S)),L[1]=S):t.push([...arguments])}}function l(m){s.freeze();const y=R0(m),g=s.Parser;return lA("parse",g),oB(g,"parse")?new g(String(y),y).parse():g(String(y),y)}function c(m,y){s.freeze();const g=R0(y),_=s.Compiler;return cA("stringify",_),aB(m),oB(_,"compile")?new _(m,g).compile():_(m,g)}function f(m,y,g){if(aB(m),s.freeze(),!g&&typeof y=="function"&&(g=y,y=void 0),!g)return new Promise(_);_(null,g);function _(b,T){e.run(m,R0(y),I);function I(E,S,A){S=S||m,E?T(E):b?b(S):g(null,S,A)}}}function d(m,y){let g,_;return s.run(m,y,b),uB("runSync","run",_),g;function b(T,I){X9(T),g=I,_=!0}}function h(m,y){if(s.freeze(),lA("process",s.Parser),cA("process",s.Compiler),!y)return new Promise(g);g(null,y);function g(_,b){const T=R0(m);s.run(s.parse(T),T,(E,S,A)=>{if(E||!S||!A)I(E);else{const L=s.stringify(S,A);L==null||(mke(L)?A.value=L:A.result=L),I(E,A)}});function I(E,S){E||!S?b(E):_?_(S):y(null,S)}}}function p(m){let y;s.freeze(),lA("processSync",s.Parser),cA("processSync",s.Compiler);const g=R0(m);return s.process(g,_),uB("processSync","process",y),g;function _(b){y=!0,X9(b)}}}function oB(e,t){return typeof e=="function"&&e.prototype&&(hke(e.prototype)||t in e.prototype)}function hke(e){let t;for(t in e)if(eJ.call(e,t))return!0;return!1}function lA(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `Parser`")}function cA(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `Compiler`")}function fA(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function aB(e){if(!s2(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function uB(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function R0(e){return pke(e)?e:new fke(e)}function pke(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function mke(e){return typeof e=="string"||CD(e)}function gke(e,t){var{includeImageAlt:n=!0}=t||{};return nJ(e,n)}function nJ(e,t){return e&&typeof e=="object"&&(e.value||(t?e.alt:"")||"children"in e&&lB(e.children,t)||Array.isArray(e)&&lB(e,t))||""}function lB(e,t){for(var n=[],r=-1;++r<e.length;)n[r]=nJ(e[r],t);return n.join("")}function Su(e,t,n,r){const i=e.length;let s=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),[].splice.apply(e,o);else for(n&&[].splice.apply(e,[t,n]);s<r.length;)o=r.slice(s,s+1e4),o.unshift(t,0),[].splice.apply(e,o),s+=1e4,t+=1e4}function ko(e,t){return e.length>0?(Su(e,e.length,0,t),e):t}const cB={}.hasOwnProperty;function yke(e){const t={};let n=-1;for(;++n<e.length;)_ke(t,e[n]);return t}function _ke(e,t){let n;for(n in t){const i=(cB.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let o;for(o in s){cB.call(i,o)||(i[o]=[]);const a=s[o];vke(i[o],Array.isArray(a)?a:a?[a]:[])}}}function vke(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Su(e,0,0,r)}const bke=/[!-/:-@[-`{-~\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,Qa=Ef(/[A-Za-z]/),a2=Ef(/\d/),Eke=Ef(/[\dA-Fa-f]/),oo=Ef(/[\dA-Za-z]/),wke=Ef(/[!-/:-@[-`{-~]/),fB=Ef(/[#-'*+\--9=?A-Z^-~]/);function u2(e){return e!==null&&(e<32||e===127)}function Vo(e){return e!==null&&(e<0||e===32)}function wt(e){return e!==null&&e<-2}function Ur(e){return e===-2||e===-1||e===32}const Tke=Ef(/\s/),Ske=Ef(bke);function Ef(e){return t;function t(n){return n!==null&&e.test(String.fromCharCode(n))}}function Vn(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(u){return Ur(u)?(e.enter(n),a(u)):t(u)}function a(u){return Ur(u)&&s++<i?(e.consume(u),a):(e.exit(n),t(u))}}const Ike={tokenize:xke};function xke(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),Vn(e,t,"linePrefix")}function i(a){return e.enter("paragraph"),s(a)}function s(a){const u=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=u),n=u,o(a)}function o(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return wt(a)?(e.consume(a),e.exit("chunkText"),s):(e.consume(a),o)}}const Cke={tokenize:Ake},dB={tokenize:Oke};function Ake(e){const t=this,n=[];let r=0,i,s,o;return a;function a(b){if(r<n.length){const T=n[r];return t.containerState=T[1],e.attempt(T[0].continuation,u,l)(b)}return l(b)}function u(b){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&_();const T=t.events.length;let I=T,E;for(;I--;)if(t.events[I][0]==="exit"&&t.events[I][1].type==="chunkFlow"){E=t.events[I][1].end;break}g(r);let S=T;for(;S<t.events.length;)t.events[S][1].end=Object.assign({},E),S++;return Su(t.events,I+1,0,t.events.slice(T)),t.events.length=S,l(b)}return a(b)}function l(b){if(r===n.length){if(!i)return d(b);if(i.currentConstruct&&i.currentConstruct.concrete)return p(b);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(dB,c,f)(b)}function c(b){return i&&_(),g(r),d(b)}function f(b){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,p(b)}function d(b){return t.containerState={},e.attempt(dB,h,p)(b)}function h(b){return r++,n.push([t.currentConstruct,t.containerState]),d(b)}function p(b){if(b===null){i&&_(),g(0),e.consume(b);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:s,_tokenizer:i}),m(b)}function m(b){if(b===null){y(e.exit("chunkFlow"),!0),g(0),e.consume(b);return}return wt(b)?(e.consume(b),y(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(b),m)}function y(b,T){const I=t.sliceStream(b);if(T&&I.push(null),b.previous=s,s&&(s.next=b),s=b,i.defineSkip(b.start),i.write(I),t.parser.lazy[b.start.line]){let E=i.events.length;for(;E--;)if(i.events[E][1].start.offset<o&&(!i.events[E][1].end||i.events[E][1].end.offset>o))return;const S=t.events.length;let A=S,L,W;for(;A--;)if(t.events[A][0]==="exit"&&t.events[A][1].type==="chunkFlow"){if(L){W=t.events[A][1].end;break}L=!0}for(g(r),E=S;E<t.events.length;)t.events[E][1].end=Object.assign({},W),E++;Su(t.events,A+1,0,t.events.slice(S)),t.events.length=E}}function g(b){let T=n.length;for(;T-- >b;){const I=n[T];t.containerState=I[1],I[0].exit.call(t,e)}n.length=b}function _(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function Oke(e,t,n){return Vn(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function hB(e){if(e===null||Vo(e)||Tke(e))return 1;if(Ske(e))return 2}function AD(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const l2={name:"attention",tokenize:Rke,resolveAll:Pke};function Pke(e,t){let n=-1,r,i,s,o,a,u,l,c;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;u=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f=Object.assign({},e[r][1].end),d=Object.assign({},e[n][1].start);pB(f,-u),pB(d,u),o={type:u>1?"strongSequence":"emphasisSequence",start:f,end:Object.assign({},e[r][1].end)},a={type:u>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[n][1].start),end:d},s={type:u>1?"strongText":"emphasisText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[n][1].start)},i={type:u>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},a.end)},e[r][1].end=Object.assign({},o.start),e[n][1].start=Object.assign({},a.end),l=[],e[r][1].end.offset-e[r][1].start.offset&&(l=ko(l,[["enter",e[r][1],t],["exit",e[r][1],t]])),l=ko(l,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",s,t]]),l=ko(l,AD(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),l=ko(l,[["exit",s,t],["enter",a,t],["exit",a,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(c=2,l=ko(l,[["enter",e[n][1],t],["exit",e[n][1],t]])):c=0,Su(e,r-1,n-r+3,l),n=r+l.length-c-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function Rke(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=hB(r);let s;return o;function o(u){return e.enter("attentionSequence"),s=u,a(u)}function a(u){if(u===s)return e.consume(u),a;const l=e.exit("attentionSequence"),c=hB(u),f=!c||c===2&&i||n.includes(u),d=!i||i===2&&c||n.includes(r);return l._open=!!(s===42?f:f&&(i||!d)),l._close=!!(s===42?d:d&&(c||!f)),t(u)}}function pB(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Nke={name:"autolink",tokenize:kke};function kke(e,t,n){let r=1;return i;function i(p){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(p){return Qa(p)?(e.consume(p),o):fB(p)?l(p):n(p)}function o(p){return p===43||p===45||p===46||oo(p)?a(p):l(p)}function a(p){return p===58?(e.consume(p),u):(p===43||p===45||p===46||oo(p))&&r++<32?(e.consume(p),a):l(p)}function u(p){return p===62?(e.exit("autolinkProtocol"),h(p)):p===null||p===32||p===60||u2(p)?n(p):(e.consume(p),u)}function l(p){return p===64?(e.consume(p),r=0,c):fB(p)?(e.consume(p),l):n(p)}function c(p){return oo(p)?f(p):n(p)}function f(p){return p===46?(e.consume(p),r=0,c):p===62?(e.exit("autolinkProtocol").type="autolinkEmail",h(p)):d(p)}function d(p){return(p===45||oo(p))&&r++<63?(e.consume(p),p===45?d:f):n(p)}function h(p){return e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t}}const dI={tokenize:Dke,partial:!0};function Dke(e,t,n){return Vn(e,r,"linePrefix");function r(i){return i===null||wt(i)?t(i):n(i)}}const rJ={name:"blockQuote",tokenize:$ke,continuation:{tokenize:Lke},exit:Mke};function $ke(e,t,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),s}return n(o)}function s(o){return Ur(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function Lke(e,t,n){return Vn(e,e.attempt(rJ,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Mke(e){e.exit("blockQuote")}const iJ={name:"characterEscape",tokenize:Fke};function Fke(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return wke(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const mB=document.createElement("i");function OD(e){const t="&"+e+";";mB.innerHTML=t;const n=mB.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}const sJ={name:"characterReference",tokenize:Bke};function Bke(e,t,n){const r=this;let i=0,s,o;return a;function a(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),u}function u(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),l):(e.enter("characterReferenceValue"),s=31,o=oo,c(f))}function l(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,o=Eke,c):(e.enter("characterReferenceValue"),s=7,o=a2,c(f))}function c(f){let d;return f===59&&i?(d=e.exit("characterReferenceValue"),o===oo&&!OD(r.sliceSerialize(d))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)):o(f)&&i++<s?(e.consume(f),c):n(f)}}const gB={name:"codeFenced",tokenize:jke,concrete:!0};function jke(e,t,n){const r=this,i={tokenize:I,partial:!0},s={tokenize:T,partial:!0},o=this.events[this.events.length-1],a=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0;let u=0,l;return c;function c(E){return e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),l=E,f(E)}function f(E){return E===l?(e.consume(E),u++,f):(e.exit("codeFencedFenceSequence"),u<3?n(E):Vn(e,d,"whitespace")(E))}function d(E){return E===null||wt(E)?y(E):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(E))}function h(E){return E===null||Vo(E)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Vn(e,p,"whitespace")(E)):E===96&&E===l?n(E):(e.consume(E),h)}function p(E){return E===null||wt(E)?y(E):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),m(E))}function m(E){return E===null||wt(E)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),y(E)):E===96&&E===l?n(E):(e.consume(E),m)}function y(E){return e.exit("codeFencedFence"),r.interrupt?t(E):g(E)}function g(E){return E===null?b(E):wt(E)?e.attempt(s,e.attempt(i,b,a?Vn(e,g,"linePrefix",a+1):g),b)(E):(e.enter("codeFlowValue"),_(E))}function _(E){return E===null||wt(E)?(e.exit("codeFlowValue"),g(E)):(e.consume(E),_)}function b(E){return e.exit("codeFenced"),t(E)}function T(E,S,A){const L=this;return W;function W(U){return E.enter("lineEnding"),E.consume(U),E.exit("lineEnding"),z}function z(U){return L.parser.lazy[L.now().line]?A(U):S(U)}}function I(E,S,A){let L=0;return Vn(E,W,"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function W(Z){return E.enter("codeFencedFence"),E.enter("codeFencedFenceSequence"),z(Z)}function z(Z){return Z===l?(E.consume(Z),L++,z):L<u?A(Z):(E.exit("codeFencedFenceSequence"),Vn(E,U,"whitespace")(Z))}function U(Z){return Z===null||wt(Z)?(E.exit("codeFencedFence"),S(Z)):A(Z)}}}const dA={name:"codeIndented",tokenize:Vke},Uke={tokenize:zke,partial:!0};function Vke(e,t,n){const r=this;return i;function i(l){return e.enter("codeIndented"),Vn(e,s,"linePrefix",5)(l)}function s(l){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?o(l):n(l)}function o(l){return l===null?u(l):wt(l)?e.attempt(Uke,o,u)(l):(e.enter("codeFlowValue"),a(l))}function a(l){return l===null||wt(l)?(e.exit("codeFlowValue"),o(l)):(e.consume(l),a)}function u(l){return e.exit("codeIndented"),t(l)}}function zke(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):wt(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):Vn(e,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):wt(o)?i(o):n(o)}}const Hke={name:"codeText",tokenize:Yke,resolve:Wke,previous:qke};function Wke(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function qke(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Yke(e,t,n){let r=0,i,s;return o;function o(f){return e.enter("codeText"),e.enter("codeTextSequence"),a(f)}function a(f){return f===96?(e.consume(f),r++,a):(e.exit("codeTextSequence"),u(f))}function u(f){return f===null?n(f):f===96?(s=e.enter("codeTextSequence"),i=0,c(f)):f===32?(e.enter("space"),e.consume(f),e.exit("space"),u):wt(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),u):(e.enter("codeTextData"),l(f))}function l(f){return f===null||f===32||f===96||wt(f)?(e.exit("codeTextData"),u(f)):(e.consume(f),l)}function c(f){return f===96?(e.consume(f),i++,c):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(s.type="codeTextData",l(f))}}function oJ(e){const t={};let n=-1,r,i,s,o,a,u,l;for(;++n<e.length;){for(;n in t;)n=t[n];if(r=e[n],n&&r[1].type==="chunkFlow"&&e[n-1][1].type==="listItemPrefix"&&(u=r[1]._tokenizer.events,s=0,s<u.length&&u[s][1].type==="lineEndingBlank"&&(s+=2),s<u.length&&u[s][1].type==="content"))for(;++s<u.length&&u[s][1].type!=="content";)u[s][1].type==="chunkText"&&(u[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,Gke(e,n)),n=t[n],l=!0);else if(r[1]._container){for(s=n,i=void 0;s--&&(o=e[s],o[1].type==="lineEnding"||o[1].type==="lineEndingBlank");)o[0]==="enter"&&(i&&(e[i][1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);i&&(r[1].end=Object.assign({},e[i][1].start),a=e.slice(i,n),a.unshift(r),Su(e,i,n-i+1,a))}}return!l}function Gke(e,t){const n=e[t][1],r=e[t][2];let i=t-1;const s=[],o=n._tokenizer||r.parser[n.contentType](n.start),a=o.events,u=[],l={};let c,f,d=-1,h=n,p=0,m=0;const y=[m];for(;h;){for(;e[++i][1]!==h;);s.push(i),h._tokenizer||(c=r.sliceStream(h),h.next||c.push(null),f&&o.defineSkip(h.start),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(c),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=h,h=h.next}for(h=n;++d<a.length;)a[d][0]==="exit"&&a[d-1][0]==="enter"&&a[d][1].type===a[d-1][1].type&&a[d][1].start.line!==a[d][1].end.line&&(m=d+1,y.push(m),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(o.events=[],h?(h._tokenizer=void 0,h.previous=void 0):y.pop(),d=y.length;d--;){const g=a.slice(y[d],y[d+1]),_=s.pop();u.unshift([_,_+g.length-1]),Su(e,_,2,g)}for(d=-1;++d<u.length;)l[p+u[d][0]]=p+u[d][1],p+=u[d][1]-u[d][0]-1;return l}const Kke={tokenize:Jke,resolve:Xke},Qke={tokenize:Zke,partial:!0};function Xke(e){return oJ(e),e}function Jke(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):wt(a)?e.check(Qke,o,s)(a):(e.consume(a),i)}function s(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function o(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Zke(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),Vn(e,s,"linePrefix")}function s(o){if(o===null||wt(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function aJ(e,t,n,r,i,s,o,a,u){const l=u||Number.POSITIVE_INFINITY;let c=0;return f;function f(g){return g===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(g),e.exit(s),d):g===null||g===41||u2(g)?n(g):(e.enter(r),e.enter(o),e.enter(a),e.enter("chunkString",{contentType:"string"}),m(g))}function d(g){return g===62?(e.enter(s),e.consume(g),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),h(g))}function h(g){return g===62?(e.exit("chunkString"),e.exit(a),d(g)):g===null||g===60||wt(g)?n(g):(e.consume(g),g===92?p:h)}function p(g){return g===60||g===62||g===92?(e.consume(g),h):h(g)}function m(g){return g===40?++c>l?n(g):(e.consume(g),m):g===41?c--?(e.consume(g),m):(e.exit("chunkString"),e.exit(a),e.exit(o),e.exit(r),t(g)):g===null||Vo(g)?c?n(g):(e.exit("chunkString"),e.exit(a),e.exit(o),e.exit(r),t(g)):u2(g)?n(g):(e.consume(g),g===92?y:m)}function y(g){return g===40||g===41||g===92?(e.consume(g),m):m(g)}}function uJ(e,t,n,r,i,s){const o=this;let a=0,u;return l;function l(h){return e.enter(r),e.enter(i),e.consume(h),e.exit(i),e.enter(s),c}function c(h){return h===null||h===91||h===93&&!u||h===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs||a>999?n(h):h===93?(e.exit(s),e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):wt(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),f(h))}function f(h){return h===null||h===91||h===93||wt(h)||a++>999?(e.exit("chunkString"),c(h)):(e.consume(h),u=u||!Ur(h),h===92?d:f)}function d(h){return h===91||h===92||h===93?(e.consume(h),a++,f):f(h)}}function lJ(e,t,n,r,i,s){let o;return a;function a(d){return e.enter(r),e.enter(i),e.consume(d),e.exit(i),o=d===40?41:d,u}function u(d){return d===o?(e.enter(i),e.consume(d),e.exit(i),e.exit(r),t):(e.enter(s),l(d))}function l(d){return d===o?(e.exit(s),u(o)):d===null?n(d):wt(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),Vn(e,l,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(d))}function c(d){return d===o||d===null||wt(d)?(e.exit("chunkString"),l(d)):(e.consume(d),d===92?f:c)}function f(d){return d===o||d===92?(e.consume(d),c):c(d)}}function $g(e,t){let n;return r;function r(i){return wt(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Ur(i)?Vn(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}function Tp(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const eDe={name:"definition",tokenize:nDe},tDe={tokenize:rDe,partial:!0};function nDe(e,t,n){const r=this;let i;return s;function s(u){return e.enter("definition"),uJ.call(r,e,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(u)}function o(u){return i=Tp(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),u===58?(e.enter("definitionMarker"),e.consume(u),e.exit("definitionMarker"),$g(e,aJ(e,e.attempt(tDe,Vn(e,a,"whitespace"),Vn(e,a,"whitespace")),n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString"))):n(u)}function a(u){return u===null||wt(u)?(e.exit("definition"),r.parser.defined.includes(i)||r.parser.defined.push(i),t(u)):n(u)}}function rDe(e,t,n){return r;function r(o){return Vo(o)?$g(e,i)(o):n(o)}function i(o){return o===34||o===39||o===40?lJ(e,Vn(e,s,"whitespace"),n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o):n(o)}function s(o){return o===null||wt(o)?t(o):n(o)}}const iDe={name:"hardBreakEscape",tokenize:sDe};function sDe(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.enter("escapeMarker"),e.consume(s),i}function i(s){return wt(s)?(e.exit("escapeMarker"),e.exit("hardBreakEscape"),t(s)):n(s)}}const oDe={name:"headingAtx",tokenize:uDe,resolve:aDe};function aDe(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Su(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function uDe(e,t,n){const r=this;let i=0;return s;function s(c){return e.enter("atxHeading"),e.enter("atxHeadingSequence"),o(c)}function o(c){return c===35&&i++<6?(e.consume(c),o):c===null||Vo(c)?(e.exit("atxHeadingSequence"),r.interrupt?t(c):a(c)):n(c)}function a(c){return c===35?(e.enter("atxHeadingSequence"),u(c)):c===null||wt(c)?(e.exit("atxHeading"),t(c)):Ur(c)?Vn(e,a,"whitespace")(c):(e.enter("atxHeadingText"),l(c))}function u(c){return c===35?(e.consume(c),u):(e.exit("atxHeadingSequence"),a(c))}function l(c){return c===null||c===35||Vo(c)?(e.exit("atxHeadingText"),a(c)):(e.consume(c),l)}}const lDe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],yB=["pre","script","style","textarea"],cDe={name:"htmlFlow",tokenize:hDe,resolveTo:dDe,concrete:!0},fDe={tokenize:pDe,partial:!0};function dDe(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function hDe(e,t,n){const r=this;let i,s,o,a,u;return l;function l(C){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(C),c}function c(C){return C===33?(e.consume(C),f):C===47?(e.consume(C),p):C===63?(e.consume(C),i=3,r.interrupt?t:oe):Qa(C)?(e.consume(C),o=String.fromCharCode(C),s=!0,m):n(C)}function f(C){return C===45?(e.consume(C),i=2,d):C===91?(e.consume(C),i=5,o="CDATA[",a=0,h):Qa(C)?(e.consume(C),i=4,r.interrupt?t:oe):n(C)}function d(C){return C===45?(e.consume(C),r.interrupt?t:oe):n(C)}function h(C){return C===o.charCodeAt(a++)?(e.consume(C),a===o.length?r.interrupt?t:z:h):n(C)}function p(C){return Qa(C)?(e.consume(C),o=String.fromCharCode(C),m):n(C)}function m(C){return C===null||C===47||C===62||Vo(C)?C!==47&&s&&yB.includes(o.toLowerCase())?(i=1,r.interrupt?t(C):z(C)):lDe.includes(o.toLowerCase())?(i=6,C===47?(e.consume(C),y):r.interrupt?t(C):z(C)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(C):s?_(C):g(C)):C===45||oo(C)?(e.consume(C),o+=String.fromCharCode(C),m):n(C)}function y(C){return C===62?(e.consume(C),r.interrupt?t:z):n(C)}function g(C){return Ur(C)?(e.consume(C),g):L(C)}function _(C){return C===47?(e.consume(C),L):C===58||C===95||Qa(C)?(e.consume(C),b):Ur(C)?(e.consume(C),_):L(C)}function b(C){return C===45||C===46||C===58||C===95||oo(C)?(e.consume(C),b):T(C)}function T(C){return C===61?(e.consume(C),I):Ur(C)?(e.consume(C),T):_(C)}function I(C){return C===null||C===60||C===61||C===62||C===96?n(C):C===34||C===39?(e.consume(C),u=C,E):Ur(C)?(e.consume(C),I):(u=null,S(C))}function E(C){return C===null||wt(C)?n(C):C===u?(e.consume(C),A):(e.consume(C),E)}function S(C){return C===null||C===34||C===39||C===60||C===61||C===62||C===96||Vo(C)?T(C):(e.consume(C),S)}function A(C){return C===47||C===62||Ur(C)?_(C):n(C)}function L(C){return C===62?(e.consume(C),W):n(C)}function W(C){return Ur(C)?(e.consume(C),W):C===null||wt(C)?z(C):n(C)}function z(C){return C===45&&i===2?(e.consume(C),ue):C===60&&i===1?(e.consume(C),ie):C===62&&i===4?(e.consume(C),J):C===63&&i===3?(e.consume(C),oe):C===93&&i===5?(e.consume(C),te):wt(C)&&(i===6||i===7)?e.check(fDe,J,U)(C):C===null||wt(C)?U(C):(e.consume(C),z)}function U(C){return e.exit("htmlFlowData"),Z(C)}function Z(C){return C===null?x(C):wt(C)?e.attempt({tokenize:H,partial:!0},Z,x)(C):(e.enter("htmlFlowData"),z(C))}function H(C,B,P){return O;function O(fe){return C.enter("lineEnding"),C.consume(fe),C.exit("lineEnding"),Y}function Y(fe){return r.parser.lazy[r.now().line]?P(fe):B(fe)}}function ue(C){return C===45?(e.consume(C),oe):z(C)}function ie(C){return C===47?(e.consume(C),o="",_e):z(C)}function _e(C){return C===62&&yB.includes(o.toLowerCase())?(e.consume(C),J):Qa(C)&&o.length<8?(e.consume(C),o+=String.fromCharCode(C),_e):z(C)}function te(C){return C===93?(e.consume(C),oe):z(C)}function oe(C){return C===62?(e.consume(C),J):C===45&&i===2?(e.consume(C),oe):z(C)}function J(C){return C===null||wt(C)?(e.exit("htmlFlowData"),x(C)):(e.consume(C),J)}function x(C){return e.exit("htmlFlow"),t(C)}}function pDe(e,t,n){return r;function r(i){return e.exit("htmlFlowData"),e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),e.attempt(dI,t,n)}}const mDe={name:"htmlText",tokenize:gDe};function gDe(e,t,n){const r=this;let i,s,o,a;return u;function u(x){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(x),l}function l(x){return x===33?(e.consume(x),c):x===47?(e.consume(x),S):x===63?(e.consume(x),I):Qa(x)?(e.consume(x),W):n(x)}function c(x){return x===45?(e.consume(x),f):x===91?(e.consume(x),s="CDATA[",o=0,y):Qa(x)?(e.consume(x),T):n(x)}function f(x){return x===45?(e.consume(x),d):n(x)}function d(x){return x===null||x===62?n(x):x===45?(e.consume(x),h):p(x)}function h(x){return x===null||x===62?n(x):p(x)}function p(x){return x===null?n(x):x===45?(e.consume(x),m):wt(x)?(a=p,te(x)):(e.consume(x),p)}function m(x){return x===45?(e.consume(x),J):p(x)}function y(x){return x===s.charCodeAt(o++)?(e.consume(x),o===s.length?g:y):n(x)}function g(x){return x===null?n(x):x===93?(e.consume(x),_):wt(x)?(a=g,te(x)):(e.consume(x),g)}function _(x){return x===93?(e.consume(x),b):g(x)}function b(x){return x===62?J(x):x===93?(e.consume(x),b):g(x)}function T(x){return x===null||x===62?J(x):wt(x)?(a=T,te(x)):(e.consume(x),T)}function I(x){return x===null?n(x):x===63?(e.consume(x),E):wt(x)?(a=I,te(x)):(e.consume(x),I)}function E(x){return x===62?J(x):I(x)}function S(x){return Qa(x)?(e.consume(x),A):n(x)}function A(x){return x===45||oo(x)?(e.consume(x),A):L(x)}function L(x){return wt(x)?(a=L,te(x)):Ur(x)?(e.consume(x),L):J(x)}function W(x){return x===45||oo(x)?(e.consume(x),W):x===47||x===62||Vo(x)?z(x):n(x)}function z(x){return x===47?(e.consume(x),J):x===58||x===95||Qa(x)?(e.consume(x),U):wt(x)?(a=z,te(x)):Ur(x)?(e.consume(x),z):J(x)}function U(x){return x===45||x===46||x===58||x===95||oo(x)?(e.consume(x),U):Z(x)}function Z(x){return x===61?(e.consume(x),H):wt(x)?(a=Z,te(x)):Ur(x)?(e.consume(x),Z):z(x)}function H(x){return x===null||x===60||x===61||x===62||x===96?n(x):x===34||x===39?(e.consume(x),i=x,ue):wt(x)?(a=H,te(x)):Ur(x)?(e.consume(x),H):(e.consume(x),i=void 0,_e)}function ue(x){return x===i?(e.consume(x),ie):x===null?n(x):wt(x)?(a=ue,te(x)):(e.consume(x),ue)}function ie(x){return x===62||x===47||Vo(x)?z(x):n(x)}function _e(x){return x===null||x===34||x===39||x===60||x===61||x===96?n(x):x===62||Vo(x)?z(x):(e.consume(x),_e)}function te(x){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(x),e.exit("lineEnding"),Vn(e,oe,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function oe(x){return e.enter("htmlTextData"),a(x)}function J(x){return x===62?(e.consume(x),e.exit("htmlTextData"),e.exit("htmlText"),t):n(x)}}const PD={name:"labelEnd",tokenize:wDe,resolveTo:EDe,resolveAll:bDe},yDe={tokenize:TDe},_De={tokenize:SDe},vDe={tokenize:IDe};function bDe(e){let t=-1,n;for(;++t<e.length;)n=e[t][1],(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(e.splice(t+1,n.type==="labelImage"?4:2),n.type="data",t++);return e}function EDe(e,t){let n=e.length,r=0,i,s,o,a;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const u={type:e[s][1].type==="labelLink"?"link":"image",start:Object.assign({},e[s][1].start),end:Object.assign({},e[e.length-1][1].end)},l={type:"label",start:Object.assign({},e[s][1].start),end:Object.assign({},e[o][1].end)},c={type:"labelText",start:Object.assign({},e[s+r+2][1].end),end:Object.assign({},e[o-2][1].start)};return a=[["enter",u,t],["enter",l,t]],a=ko(a,e.slice(s+1,s+r+3)),a=ko(a,[["enter",c,t]]),a=ko(a,AD(t.parser.constructs.insideSpan.null,e.slice(s+r+4,o-3),t)),a=ko(a,[["exit",c,t],e[o-2],e[o-1],["exit",l,t]]),a=ko(a,e.slice(o+1)),a=ko(a,[["exit",u,t]]),Su(e,s,e.length,a),e}function wDe(e,t,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(c){return s?s._inactive?l(c):(o=r.parser.defined.includes(Tp(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(c),e.exit("labelMarker"),e.exit("labelEnd"),u):n(c)}function u(c){return c===40?e.attempt(yDe,t,o?t:l)(c):c===91?e.attempt(_De,t,o?e.attempt(vDe,t,l):l)(c):o?t(c):l(c)}function l(c){return s._balanced=!0,n(c)}}function TDe(e,t,n){return r;function r(u){return e.enter("resource"),e.enter("resourceMarker"),e.consume(u),e.exit("resourceMarker"),$g(e,i)}function i(u){return u===41?a(u):aJ(e,s,n,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(u)}function s(u){return Vo(u)?$g(e,o)(u):a(u)}function o(u){return u===34||u===39||u===40?lJ(e,$g(e,a),n,"resourceTitle","resourceTitleMarker","resourceTitleString")(u):a(u)}function a(u){return u===41?(e.enter("resourceMarker"),e.consume(u),e.exit("resourceMarker"),e.exit("resource"),t):n(u)}}function SDe(e,t,n){const r=this;return i;function i(o){return uJ.call(r,e,s,n,"reference","referenceMarker","referenceString")(o)}function s(o){return r.parser.defined.includes(Tp(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(o):n(o)}}function IDe(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const xDe={name:"labelStartImage",tokenize:CDe,resolveAll:PD.resolveAll};function CDe(e,t,n){const r=this;return i;function i(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),s}function s(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const ADe={name:"labelStartLink",tokenize:ODe,resolveAll:PD.resolveAll};function ODe(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const hA={name:"lineEnding",tokenize:PDe};function PDe(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Vn(e,t,"linePrefix")}}const ib={name:"thematicBreak",tokenize:RDe};function RDe(e,t,n){let r=0,i;return s;function s(u){return e.enter("thematicBreak"),i=u,o(u)}function o(u){return u===i?(e.enter("thematicBreakSequence"),a(u)):Ur(u)?Vn(e,o,"whitespace")(u):r<3||u!==null&&!wt(u)?n(u):(e.exit("thematicBreak"),t(u))}function a(u){return u===i?(e.consume(u),r++,a):(e.exit("thematicBreakSequence"),o(u))}}const bs={name:"list",tokenize:DDe,continuation:{tokenize:$De},exit:MDe},NDe={tokenize:FDe,partial:!0},kDe={tokenize:LDe,partial:!0};function DDe(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(h){const p=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:a2(h)){if(r.containerState.type||(r.containerState.type=p,e.enter(p,{_container:!0})),p==="listUnordered")return e.enter("listItemPrefix"),h===42||h===45?e.check(ib,n,l)(h):l(h);if(!r.interrupt||h===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),u(h)}return n(h)}function u(h){return a2(h)&&++o<10?(e.consume(h),u):(!r.interrupt||o<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(e.exit("listItemValue"),l(h)):n(h)}function l(h){return e.enter("listItemMarker"),e.consume(h),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,e.check(dI,r.interrupt?n:c,e.attempt(NDe,d,f))}function c(h){return r.containerState.initialBlankLine=!0,s++,d(h)}function f(h){return Ur(h)?(e.enter("listItemPrefixWhitespace"),e.consume(h),e.exit("listItemPrefixWhitespace"),d):n(h)}function d(h){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(h)}}function $De(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(dI,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Vn(e,t,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!Ur(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(kDe,t,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,Vn(e,e.attempt(bs,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function LDe(e,t,n){const r=this;return Vn(e,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(s):n(s)}}function MDe(e){e.exit(this.containerState.type)}function FDe(e,t,n){const r=this;return Vn(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!Ur(s)&&o&&o[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const _B={name:"setextUnderline",tokenize:jDe,resolveTo:BDe};function BDe(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",o,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end=Object.assign({},e[s][1].end)):e[r][1]=o,e.push(["exit",o,t]),e}function jDe(e,t,n){const r=this;let i=r.events.length,s,o;for(;i--;)if(r.events[i][1].type!=="lineEnding"&&r.events[i][1].type!=="linePrefix"&&r.events[i][1].type!=="content"){o=r.events[i][1].type==="paragraph";break}return a;function a(c){return!r.parser.lazy[r.now().line]&&(r.interrupt||o)?(e.enter("setextHeadingLine"),e.enter("setextHeadingLineSequence"),s=c,u(c)):n(c)}function u(c){return c===s?(e.consume(c),u):(e.exit("setextHeadingLineSequence"),Vn(e,l,"lineSuffix")(c))}function l(c){return c===null||wt(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const UDe={tokenize:VDe};function VDe(e){const t=this,n=e.attempt(dI,r,e.attempt(this.parser.constructs.flowInitial,i,Vn(e,e.attempt(this.parser.constructs.flow,i,e.attempt(Kke,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const zDe={resolveAll:fJ()},HDe=cJ("string"),WDe=cJ("text");function cJ(e){return{tokenize:t,resolveAll:fJ(e==="text"?qDe:void 0)};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,o,a);return o;function o(c){return l(c)?s(c):a(c)}function a(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),u}function u(c){return l(c)?(n.exit("data"),s(c)):(n.consume(c),u)}function l(c){if(c===null)return!0;const f=i[c];let d=-1;if(f)for(;++d<f.length;){const h=f[d];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}function fJ(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function qDe(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,o=-1,a=0,u;for(;s--;){const l=i[s];if(typeof l=="string"){for(o=l.length;l.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(l===-2)u=!0,a++;else if(l!==-1){s++;break}}if(a){const l={type:n===e.length||u||a<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-a,offset:r.end.offset-a,_index:r.start._index+s,_bufferIndex:s?o:r.start._bufferIndex+o},end:Object.assign({},r.end)};r.end=Object.assign({},l.start),r.start.offset===r.end.offset?Object.assign(r,l):(e.splice(n,0,["enter",l,t],["exit",l,t]),n+=2)}n++}return e}function YDe(e,t,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},s=[];let o=[],a=[];const u={consume:_,enter:b,exit:T,attempt:S(I),check:S(E),interrupt:S(E,{interrupt:!0})},l={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:h,sliceSerialize:d,now:p,defineSkip:m,write:f};let c=t.tokenize.call(l,u);return t.resolveAll&&s.push(t),l;function f(z){return o=ko(o,z),y(),o[o.length-1]!==null?[]:(A(t,0),l.events=AD(s,l.events,l),l.events)}function d(z,U){return KDe(h(z),U)}function h(z){return GDe(o,z)}function p(){return Object.assign({},r)}function m(z){i[z.line]=z.column,W()}function y(){let z;for(;r._index<o.length;){const U=o[r._index];if(typeof U=="string")for(z=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===z&&r._bufferIndex<U.length;)g(U.charCodeAt(r._bufferIndex));else g(U)}}function g(z){c=c(z)}function _(z){wt(z)?(r.line++,r.column=1,r.offset+=z===-3?2:1,W()):z!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),l.previous=z}function b(z,U){const Z=U||{};return Z.type=z,Z.start=p(),l.events.push(["enter",Z,l]),a.push(Z),Z}function T(z){const U=a.pop();return U.end=p(),l.events.push(["exit",U,l]),U}function I(z,U){A(z,U.from)}function E(z,U){U.restore()}function S(z,U){return Z;function Z(H,ue,ie){let _e,te,oe,J;return Array.isArray(H)?C(H):"tokenize"in H?C([H]):x(H);function x(Y){return fe;function fe(le){const me=le!==null&&Y[le],ge=le!==null&&Y.null,Se=[...Array.isArray(me)?me:me?[me]:[],...Array.isArray(ge)?ge:ge?[ge]:[]];return C(Se)(le)}}function C(Y){return _e=Y,te=0,Y.length===0?ie:B(Y[te])}function B(Y){return fe;function fe(le){return J=L(),oe=Y,Y.partial||(l.currentConstruct=Y),Y.name&&l.parser.constructs.disable.null.includes(Y.name)?O():Y.tokenize.call(U?Object.assign(Object.create(l),U):l,u,P,O)(le)}}function P(Y){return z(oe,J),ue}function O(Y){return J.restore(),++te<_e.length?B(_e[te]):ie}}}function A(z,U){z.resolveAll&&!s.includes(z)&&s.push(z),z.resolve&&Su(l.events,U,l.events.length-U,z.resolve(l.events.slice(U),l)),z.resolveTo&&(l.events=z.resolveTo(l.events,l))}function L(){const z=p(),U=l.previous,Z=l.currentConstruct,H=l.events.length,ue=Array.from(a);return{restore:ie,from:H};function ie(){r=z,l.previous=U,l.currentConstruct=Z,l.events.length=H,a=ue,W()}}function W(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function GDe(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let o;return n===i?o=[e[n].slice(r,s)]:(o=e.slice(n,i),r>-1&&(o[0]=o[0].slice(r)),s>0&&o.push(e[i].slice(0,s))),o}function KDe(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}const QDe={42:bs,43:bs,45:bs,48:bs,49:bs,50:bs,51:bs,52:bs,53:bs,54:bs,55:bs,56:bs,57:bs,62:rJ},XDe={91:eDe},JDe={[-2]:dA,[-1]:dA,32:dA},ZDe={35:oDe,42:ib,45:[_B,ib],60:cDe,61:_B,95:ib,96:gB,126:gB},e$e={38:sJ,92:iJ},t$e={[-5]:hA,[-4]:hA,[-3]:hA,33:xDe,38:sJ,42:l2,60:[Nke,mDe],91:ADe,92:[iDe,iJ],93:PD,95:l2,96:Hke},n$e={null:[l2,zDe]},r$e={null:[42,95]},i$e={null:[]},s$e=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:r$e,contentInitial:XDe,disable:i$e,document:QDe,flow:ZDe,flowInitial:JDe,insideSpan:n$e,string:e$e,text:t$e},Symbol.toStringTag,{value:"Module"}));function o$e(e={}){const t=yke([s$e].concat(e.extensions||[])),n={defined:[],lazy:{},constructs:t,content:r(Ike),document:r(Cke),flow:r(UDe),string:r(HDe),text:r(WDe)};return n;function r(i){return s;function s(o){return YDe(n,i,o)}}}const vB=/[\0\t\n\r]/g;function a$e(){let e=1,t="",n=!0,r;return i;function i(s,o,a){const u=[];let l,c,f,d,h;for(s=t+s.toString(o),f=0,t="",n&&(s.charCodeAt(0)===65279&&f++,n=void 0);f<s.length;){if(vB.lastIndex=f,l=vB.exec(s),d=l&&l.index!==void 0?l.index:s.length,h=s.charCodeAt(d),!l){t=s.slice(f);break}if(h===10&&f===d&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),f<d&&(u.push(s.slice(f,d)),e+=d-f),h){case 0:{u.push(65533),e++;break}case 9:{for(c=Math.ceil(e/4)*4,u.push(-2);e++<c;)u.push(-1);break}case 10:{u.push(-4),e=1;break}default:r=!0,e=1}f=d+1}return a&&(r&&u.push(-5),t&&u.push(t),u.push(null)),u}}function u$e(e){for(;!oJ(e););return e}function dJ(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCharCode(n)}const l$e=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function c$e(e){return e.replace(l$e,f$e)}function f$e(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return dJ(n.slice(s?2:1),s?16:10)}return OD(n)||e}const c2={}.hasOwnProperty,d$e=function(e,t,n){return typeof t!="string"&&(n=t,t=void 0),h$e(n)(u$e(o$e(n).document().write(a$e()(e,t,!0))))};function h$e(e={}){const t=hJ({transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:u(Be),autolinkProtocol:U,autolinkEmail:U,atxHeading:u(ot),blockQuote:u(de),characterEscape:U,characterReference:U,codeFenced:u(st),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:u(st,l),codeText:u(Ke,l),codeTextData:U,data:U,codeFlowValue:U,definition:u(qe),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:u($e),hardBreakEscape:u(ut),hardBreakTrailing:u(ut),htmlFlow:u(On,l),htmlFlowData:U,htmlText:u(On,l),htmlTextData:U,image:u(Ue),label:l,link:u(Be),listItem:u(je),listItemValue:m,listOrdered:u(bt,p),listUnordered:u(bt),paragraph:u(gt),reference:Y,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:u(ot),strong:u(Gt),thematicBreak:u(Gn)},exit:{atxHeading:f(),atxHeadingSequence:A,autolink:f(),autolinkEmail:Se,autolinkProtocol:ge,blockQuote:f(),characterEscapeValue:Z,characterReferenceMarkerHexadecimal:le,characterReferenceMarkerNumeric:le,characterReferenceValue:me,codeFenced:f(b),codeFencedFence:_,codeFencedFenceInfo:y,codeFencedFenceMeta:g,codeFlowValue:Z,codeIndented:f(T),codeText:f(te),codeTextData:Z,data:Z,definition:f(),definitionDestinationString:S,definitionLabelString:I,definitionTitleString:E,emphasis:f(),hardBreakEscape:f(ue),hardBreakTrailing:f(ue),htmlFlow:f(ie),htmlFlowData:Z,htmlText:f(_e),htmlTextData:Z,image:f(J),label:C,labelText:x,lineEnding:H,link:f(oe),listItem:f(),listOrdered:f(),listUnordered:f(),paragraph:f(),referenceString:fe,resourceDestinationString:B,resourceTitleString:P,resource:O,setextHeading:f(z),setextHeadingLineSequence:W,setextHeadingText:L,strong:f(),thematicBreak:f()}},e.mdastExtensions||[]),n={};return r;function r(ce){let we={type:"root",children:[]};const Le=[we],rt=[],De=[],it={stack:Le,tokenStack:rt,config:t,enter:c,exit:d,buffer:l,resume:h,setData:s,getData:o};let Me=-1;for(;++Me<ce.length;)if(ce[Me][1].type==="listOrdered"||ce[Me][1].type==="listUnordered")if(ce[Me][0]==="enter")De.push(Me);else{const Ze=De.pop();Me=i(ce,Ze,Me)}for(Me=-1;++Me<ce.length;){const Ze=t[ce[Me][0]];c2.call(Ze,ce[Me][1].type)&&Ze[ce[Me][1].type].call(Object.assign({sliceSerialize:ce[Me][2].sliceSerialize},it),ce[Me][1])}if(rt.length>0){const Ze=rt[rt.length-1];(Ze[1]||bB).call(it,void 0,Ze[0])}for(we.position={start:a(ce.length>0?ce[0][1].start:{line:1,column:1,offset:0}),end:a(ce.length>0?ce[ce.length-2][1].end:{line:1,column:1,offset:0})},Me=-1;++Me<t.transforms.length;)we=t.transforms[Me](we)||we;return we}function i(ce,we,Le){let rt=we-1,De=-1,it=!1,Me,Ze,bn,Wt;for(;++rt<=Le;){const St=ce[rt];if(St[1].type==="listUnordered"||St[1].type==="listOrdered"||St[1].type==="blockQuote"?(St[0]==="enter"?De++:De--,Wt=void 0):St[1].type==="lineEndingBlank"?St[0]==="enter"&&(Me&&!Wt&&!De&&!bn&&(bn=rt),Wt=void 0):St[1].type==="linePrefix"||St[1].type==="listItemValue"||St[1].type==="listItemMarker"||St[1].type==="listItemPrefix"||St[1].type==="listItemPrefixWhitespace"||(Wt=void 0),!De&&St[0]==="enter"&&St[1].type==="listItemPrefix"||De===-1&&St[0]==="exit"&&(St[1].type==="listUnordered"||St[1].type==="listOrdered")){if(Me){let Bn=rt;for(Ze=void 0;Bn--;){const En=ce[Bn];if(En[1].type==="lineEnding"||En[1].type==="lineEndingBlank"){if(En[0]==="exit")continue;Ze&&(ce[Ze][1].type="lineEndingBlank",it=!0),En[1].type="lineEnding",Ze=Bn}else if(!(En[1].type==="linePrefix"||En[1].type==="blockQuotePrefix"||En[1].type==="blockQuotePrefixWhitespace"||En[1].type==="blockQuoteMarker"||En[1].type==="listItemIndent"))break}bn&&(!Ze||bn<Ze)&&(Me._spread=!0),Me.end=Object.assign({},Ze?ce[Ze][1].start:St[1].end),ce.splice(Ze||rt,0,["exit",Me,St[2]]),rt++,Le++}St[1].type==="listItemPrefix"&&(Me={type:"listItem",_spread:!1,start:Object.assign({},St[1].start)},ce.splice(rt,0,["enter",Me,St[2]]),rt++,Le++,bn=void 0,Wt=!0)}}return ce[we][1]._spread=it,Le}function s(ce,we){n[ce]=we}function o(ce){return n[ce]}function a(ce){return{line:ce.line,column:ce.column,offset:ce.offset}}function u(ce,we){return Le;function Le(rt){c.call(this,ce(rt),rt),we&&we.call(this,rt)}}function l(){this.stack.push({type:"fragment",children:[]})}function c(ce,we,Le){return this.stack[this.stack.length-1].children.push(ce),this.stack.push(ce),this.tokenStack.push([we,Le]),ce.position={start:a(we.start)},ce}function f(ce){return we;function we(Le){ce&&ce.call(this,Le),d.call(this,Le)}}function d(ce,we){const Le=this.stack.pop(),rt=this.tokenStack.pop();if(rt)rt[0].type!==ce.type&&(we?we.call(this,ce,rt[0]):(rt[1]||bB).call(this,ce,rt[0]));else throw new Error("Cannot close `"+ce.type+"` ("+wp({start:ce.start,end:ce.end})+"): its not open");return Le.position.end=a(ce.end),Le}function h(){return gke(this.stack.pop())}function p(){s("expectingFirstListItemValue",!0)}function m(ce){if(o("expectingFirstListItemValue")){const we=this.stack[this.stack.length-2];we.start=Number.parseInt(this.sliceSerialize(ce),10),s("expectingFirstListItemValue")}}function y(){const ce=this.resume(),we=this.stack[this.stack.length-1];we.lang=ce}function g(){const ce=this.resume(),we=this.stack[this.stack.length-1];we.meta=ce}function _(){o("flowCodeInside")||(this.buffer(),s("flowCodeInside",!0))}function b(){const ce=this.resume(),we=this.stack[this.stack.length-1];we.value=ce.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),s("flowCodeInside")}function T(){const ce=this.resume(),we=this.stack[this.stack.length-1];we.value=ce.replace(/(\r?\n|\r)$/g,"")}function I(ce){const we=this.resume(),Le=this.stack[this.stack.length-1];Le.label=we,Le.identifier=Tp(this.sliceSerialize(ce)).toLowerCase()}function E(){const ce=this.resume(),we=this.stack[this.stack.length-1];we.title=ce}function S(){const ce=this.resume(),we=this.stack[this.stack.length-1];we.url=ce}function A(ce){const we=this.stack[this.stack.length-1];if(!we.depth){const Le=this.sliceSerialize(ce).length;we.depth=Le}}function L(){s("setextHeadingSlurpLineEnding",!0)}function W(ce){const we=this.stack[this.stack.length-1];we.depth=this.sliceSerialize(ce).charCodeAt(0)===61?1:2}function z(){s("setextHeadingSlurpLineEnding")}function U(ce){const we=this.stack[this.stack.length-1];let Le=we.children[we.children.length-1];(!Le||Le.type!=="text")&&(Le=an(),Le.position={start:a(ce.start)},we.children.push(Le)),this.stack.push(Le)}function Z(ce){const we=this.stack.pop();we.value+=this.sliceSerialize(ce),we.position.end=a(ce.end)}function H(ce){const we=this.stack[this.stack.length-1];if(o("atHardBreak")){const Le=we.children[we.children.length-1];Le.position.end=a(ce.end),s("atHardBreak");return}!o("setextHeadingSlurpLineEnding")&&t.canContainEols.includes(we.type)&&(U.call(this,ce),Z.call(this,ce))}function ue(){s("atHardBreak",!0)}function ie(){const ce=this.resume(),we=this.stack[this.stack.length-1];we.value=ce}function _e(){const ce=this.resume(),we=this.stack[this.stack.length-1];we.value=ce}function te(){const ce=this.resume(),we=this.stack[this.stack.length-1];we.value=ce}function oe(){const ce=this.stack[this.stack.length-1];o("inReference")?(ce.type+="Reference",ce.referenceType=o("referenceType")||"shortcut",delete ce.url,delete ce.title):(delete ce.identifier,delete ce.label),s("referenceType")}function J(){const ce=this.stack[this.stack.length-1];o("inReference")?(ce.type+="Reference",ce.referenceType=o("referenceType")||"shortcut",delete ce.url,delete ce.title):(delete ce.identifier,delete ce.label),s("referenceType")}function x(ce){const we=this.stack[this.stack.length-2],Le=this.sliceSerialize(ce);we.label=c$e(Le),we.identifier=Tp(Le).toLowerCase()}function C(){const ce=this.stack[this.stack.length-1],we=this.resume(),Le=this.stack[this.stack.length-1];s("inReference",!0),Le.type==="link"?Le.children=ce.children:Le.alt=we}function B(){const ce=this.resume(),we=this.stack[this.stack.length-1];we.url=ce}function P(){const ce=this.resume(),we=this.stack[this.stack.length-1];we.title=ce}function O(){s("inReference")}function Y(){s("referenceType","collapsed")}function fe(ce){const we=this.resume(),Le=this.stack[this.stack.length-1];Le.label=we,Le.identifier=Tp(this.sliceSerialize(ce)).toLowerCase(),s("referenceType","full")}function le(ce){s("characterReferenceType",ce.type)}function me(ce){const we=this.sliceSerialize(ce),Le=o("characterReferenceType");let rt;Le?(rt=dJ(we,Le==="characterReferenceMarkerNumeric"?10:16),s("characterReferenceType")):rt=OD(we);const De=this.stack.pop();De.value+=rt,De.position.end=a(ce.end)}function ge(ce){Z.call(this,ce);const we=this.stack[this.stack.length-1];we.url=this.sliceSerialize(ce)}function Se(ce){Z.call(this,ce);const we=this.stack[this.stack.length-1];we.url="mailto:"+this.sliceSerialize(ce)}function de(){return{type:"blockquote",children:[]}}function st(){return{type:"code",lang:null,meta:null,value:""}}function Ke(){return{type:"inlineCode",value:""}}function qe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function $e(){return{type:"emphasis",children:[]}}function ot(){return{type:"heading",depth:void 0,children:[]}}function ut(){return{type:"break"}}function On(){return{type:"html",value:""}}function Ue(){return{type:"image",title:null,url:"",alt:null}}function Be(){return{type:"link",title:null,url:"",children:[]}}function bt(ce){return{type:"list",ordered:ce.type==="listOrdered",start:null,spread:ce._spread,children:[]}}function je(ce){return{type:"listItem",spread:ce._spread,checked:null,children:[]}}function gt(){return{type:"paragraph",children:[]}}function Gt(){return{type:"strong",children:[]}}function an(){return{type:"text",value:""}}function Gn(){return{type:"thematicBreak"}}}function hJ(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?hJ(e,r):p$e(e,r)}return e}function p$e(e,t){let n;for(n in t)if(c2.call(t,n)){const r=n==="canContainEols"||n==="transforms",s=(c2.call(e,n)?e[n]:void 0)||(e[n]=r?[]:{}),o=t[n];o&&(r?e[n]=[...s,...o]:Object.assign(s,o))}}function bB(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+wp({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+wp({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+wp({start:t.start,end:t.end})+") is still open")}function m$e(e){Object.assign(this,{Parser:n=>{const r=this.data("settings");return d$e(n,Object.assign({},r,e,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}var Jr=function(e,t,n){var r={type:String(e)};return n==null&&(typeof t=="string"||Array.isArray(t))?n=t:Object.assign(r,t),Array.isArray(n)?r.children=n:n!=null&&(r.value=String(n)),r};const sb={}.hasOwnProperty;function g$e(e,t){const n=t.data||{};return"value"in t&&!(sb.call(n,"hName")||sb.call(n,"hProperties")||sb.call(n,"hChildren"))?e.augment(t,Jr("text",t.value)):e(t,"div",ns(e,t))}function pJ(e,t,n){const r=t&&t.type;let i;if(!r)throw new Error("Expected node, got `"+t+"`");return sb.call(e.handlers,r)?i=e.handlers[r]:e.passThrough&&e.passThrough.includes(r)?i=y$e:i=e.unknownHandler,(typeof i=="function"?i:g$e)(e,t,n)}function y$e(e,t){return"children"in t?{...t,children:ns(e,t)}:t}function ns(e,t){const n=[];if("children"in t){const r=t.children;let i=-1;for(;++i<r.length;){const s=pJ(e,r[i],t);if(s){if(i&&r[i-1].type==="break"&&(!Array.isArray(s)&&s.type==="text"&&(s.value=s.value.replace(/^\s+/,"")),!Array.isArray(s)&&s.type==="element")){const o=s.children[0];o&&o.type==="text"&&(o.value=o.value.replace(/^\s+/,""))}Array.isArray(s)?n.push(...s):n.push(s)}}}return n}const mJ=function(e){if(e==null)return E$e;if(typeof e=="string")return b$e(e);if(typeof e=="object")return Array.isArray(e)?_$e(e):v$e(e);if(typeof e=="function")return hI(e);throw new Error("Expected function, string, or object as test")};function _$e(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=mJ(e[n]);return hI(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].call(this,...i))return!0;return!1}}function v$e(e){return hI(t);function t(n){let r;for(r in e)if(n[r]!==e[r])return!1;return!0}}function b$e(e){return hI(t);function t(n){return n&&n.type===e}}function hI(e){return t;function t(...n){return!!e.call(this,...n)}}function E$e(){return!0}const w$e=!0,T$e="skip",EB=!1,S$e=function(e,t,n,r){typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null);const i=mJ(t),s=r?-1:1;o(e,null,[])();function o(a,u,l){const c=typeof a=="object"&&a!==null?a:{};let f;return typeof c.type=="string"&&(f=typeof c.tagName=="string"?c.tagName:typeof c.name=="string"?c.name:void 0,Object.defineProperty(d,"name",{value:"node ("+(c.type+(f?"<"+f+">":""))+")"})),d;function d(){let h=[],p,m,y;if((!t||i(a,u,l[l.length-1]||null))&&(h=I$e(n(a,l)),h[0]===EB))return h;if(a.children&&h[0]!==T$e)for(m=(r?a.children.length:-1)+s,y=l.concat(a);m>-1&&m<a.children.length;){if(p=o(a.children[m],m,y)(),p[0]===EB)return p;m=typeof p[1]=="number"?p[1]:m+s}return h}}};function I$e(e){return Array.isArray(e)?e:typeof e=="number"?[w$e,e]:[e]}const RD=function(e,t,n,r){typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null),S$e(e,t,i,r);function i(s,o){const a=o[o.length-1];return n(s,a?a.children.indexOf(s):null,a)}},gJ=_J("start"),yJ=_J("end");function _J(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};return{line:r.line||null,column:r.column||null,offset:r.offset>-1?r.offset:null}}}function x$e(e){return!e||!e.position||!e.position.start||!e.position.start.line||!e.position.start.column||!e.position.end||!e.position.end.line||!e.position.end.column}const wB={}.hasOwnProperty;function C$e(e){const t=Object.create(null);if(!e||!e.type)throw new Error("mdast-util-definitions expected node");return RD(e,"definition",r=>{const i=TB(r.identifier);i&&!wB.call(t,i)&&(t[i]=r)}),n;function n(r){const i=TB(r);return i&&wB.call(t,i)?t[i]:null}}function TB(e){return String(e||"").toUpperCase()}function Bm(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let o="";if(s===37&&oo(e.charCodeAt(n+1))&&oo(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=e.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o=""}else o=String.fromCharCode(s);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function nl(e,t){const n=[];let r=-1;for(t&&n.push(Jr("text",`
`));++r<e.length;)r&&n.push(Jr("text",`
`)),n.push(e[r]);return t&&e.length>0&&n.push(Jr("text",`
`)),n}function A$e(e){let t=-1;const n=[];for(;++t<e.footnoteOrder.length;){const r=e.footnoteById[e.footnoteOrder[t].toUpperCase()];if(!r)continue;const i=ns(e,r),s=String(r.identifier),o=Bm(s.toLowerCase());let a=0;const u=[];for(;++a<=e.footnoteCounts[s];){const f={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fnref-"+o+(a>1?"-"+a:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:e.footnoteBackLabel},children:[{type:"text",value:""}]};a>1&&f.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(a)}]}),u.length>0&&u.push({type:"text",value:" "}),u.push(f)}const l=i[i.length-1];if(l&&l.type==="element"&&l.tagName==="p"){const f=l.children[l.children.length-1];f&&f.type==="text"?f.value+=" ":l.children.push({type:"text",value:" "}),l.children.push(...u)}else i.push(...u);const c={type:"element",tagName:"li",properties:{id:e.clobberPrefix+"fn-"+o},children:nl(i,!0)};r.position&&(c.position=r.position),n.push(c)}return n.length===0?null:{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:e.footnoteLabelTagName,properties:{...JSON.parse(JSON.stringify(e.footnoteLabelProperties)),id:"footnote-label"},children:[Jr("text",e.footnoteLabel)]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:nl(n,!0)},{type:"text",value:`
`}]}}function O$e(e,t){return e(t,"blockquote",nl(ns(e,t),!0))}function P$e(e,t){return[e(t,"br"),Jr("text",`
`)]}function R$e(e,t){const n=t.value?t.value+`
`:"",r=t.lang&&t.lang.match(/^[^ \t]+(?=[ \t]|$)/),i={};r&&(i.className=["language-"+r]);const s=e(t,"code",i,[Jr("text",n)]);return t.meta&&(s.data={meta:t.meta}),e(t.position,"pre",[s])}function N$e(e,t){return e(t,"del",ns(e,t))}function k$e(e,t){return e(t,"em",ns(e,t))}function vJ(e,t){const n=String(t.identifier),r=Bm(n.toLowerCase()),i=e.footnoteOrder.indexOf(n);let s;i===-1?(e.footnoteOrder.push(n),e.footnoteCounts[n]=1,s=e.footnoteOrder.length):(e.footnoteCounts[n]++,s=i+1);const o=e.footnoteCounts[n];return e(t,"sup",[e(t.position,"a",{href:"#"+e.clobberPrefix+"fn-"+r,id:e.clobberPrefix+"fnref-"+r+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:"footnote-label"},[Jr("text",String(s))])])}function D$e(e,t){const n=e.footnoteById;let r=1;for(;r in n;)r++;const i=String(r);return n[i]={type:"footnoteDefinition",identifier:i,children:[{type:"paragraph",children:t.children}],position:t.position},vJ(e,{type:"footnoteReference",identifier:i,position:t.position})}function $$e(e,t){return e(t,"h"+t.depth,ns(e,t))}function L$e(e,t){return e.dangerous?e.augment(t,Jr("raw",t.value)):null}function bJ(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return Jr("text","!["+t.alt+r);const i=ns(e,t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift(Jr("text","["));const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push(Jr("text",r)),i}function M$e(e,t){const n=e.definition(t.identifier);if(!n)return bJ(e,t);const r={src:Bm(n.url||""),alt:t.alt};return n.title!==null&&n.title!==void 0&&(r.title=n.title),e(t,"img",r)}function F$e(e,t){const n={src:Bm(t.url),alt:t.alt};return t.title!==null&&t.title!==void 0&&(n.title=t.title),e(t,"img",n)}function B$e(e,t){return e(t,"code",[Jr("text",t.value.replace(/\r?\n|\r/g," "))])}function j$e(e,t){const n=e.definition(t.identifier);if(!n)return bJ(e,t);const r={href:Bm(n.url||"")};return n.title!==null&&n.title!==void 0&&(r.title=n.title),e(t,"a",r,ns(e,t))}function U$e(e,t){const n={href:Bm(t.url)};return t.title!==null&&t.title!==void 0&&(n.title=t.title),e(t,"a",n,ns(e,t))}function V$e(e,t,n){const r=ns(e,t),i=n?z$e(n):EJ(t),s={},o=[];if(typeof t.checked=="boolean"){let l;r[0]&&r[0].type==="element"&&r[0].tagName==="p"?l=r[0]:(l=e(null,"p",[]),r.unshift(l)),l.children.length>0&&l.children.unshift(Jr("text"," ")),l.children.unshift(e(null,"input",{type:"checkbox",checked:t.checked,disabled:!0})),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const l=r[a];(i||a!==0||l.type!=="element"||l.tagName!=="p")&&o.push(Jr("text",`
`)),l.type==="element"&&l.tagName==="p"&&!i?o.push(...l.children):o.push(l)}const u=r[r.length-1];return u&&(i||!("tagName"in u)||u.tagName!=="p")&&o.push(Jr("text",`
`)),e(t,"li",s,o)}function z$e(e){let t=e.spread;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=EJ(n[r]);return!!t}function EJ(e){const t=e.spread;return t??e.children.length>1}function H$e(e,t){const n={},r=t.ordered?"ol":"ul",i=ns(e,t);let s=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++s<i.length;){const o=i[s];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}return e(t,r,n,nl(i,!0))}function W$e(e,t){return e(t,"p",ns(e,t))}function q$e(e,t){return e.augment(t,Jr("root",nl(ns(e,t))))}function Y$e(e,t){return e(t,"strong",ns(e,t))}function G$e(e,t){const n=t.children;let r=-1;const i=t.align||[],s=[];for(;++r<n.length;){const o=n[r].children,a=r===0?"th":"td",u=[];let l=-1;const c=t.align?i.length:o.length;for(;++l<c;){const f=o[l];u.push(e(f,a,{align:i[l]},f?ns(e,f):[]))}s[r]=e(n[r],"tr",nl(u,!0))}return e(t,"table",nl([e(s[0].position,"thead",nl([s[0]],!0))].concat(s[1]?e({start:gJ(s[1]),end:yJ(s[s.length-1])},"tbody",nl(s.slice(1),!0)):[]),!0))}const SB=9,IB=32;function K$e(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(xB(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(xB(t.slice(i),i>0,!1)),s.join("")}function xB(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===SB||s===IB;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===SB||s===IB;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function Q$e(e,t){return e.augment(t,Jr("text",K$e(String(t.value))))}function X$e(e,t){return e(t,"hr")}const J$e={blockquote:O$e,break:P$e,code:R$e,delete:N$e,emphasis:k$e,footnoteReference:vJ,footnote:D$e,heading:$$e,html:L$e,imageReference:M$e,image:F$e,inlineCode:B$e,linkReference:j$e,link:U$e,listItem:V$e,list:H$e,paragraph:W$e,root:q$e,strong:Y$e,table:G$e,text:Q$e,thematicBreak:X$e,toml:i1,yaml:i1,definition:i1,footnoteDefinition:i1};function i1(){return null}const Z$e={}.hasOwnProperty;function e3e(e,t){const n=t||{},r=n.allowDangerousHtml||!1,i={};return o.dangerous=r,o.clobberPrefix=n.clobberPrefix===void 0||n.clobberPrefix===null?"user-content-":n.clobberPrefix,o.footnoteLabel=n.footnoteLabel||"Footnotes",o.footnoteLabelTagName=n.footnoteLabelTagName||"h2",o.footnoteLabelProperties=n.footnoteLabelProperties||{className:["sr-only"]},o.footnoteBackLabel=n.footnoteBackLabel||"Back to content",o.definition=C$e(e),o.footnoteById=i,o.footnoteOrder=[],o.footnoteCounts={},o.augment=s,o.handlers={...J$e,...n.handlers},o.unknownHandler=n.unknownHandler,o.passThrough=n.passThrough,RD(e,"footnoteDefinition",a=>{const u=String(a.identifier).toUpperCase();Z$e.call(i,u)||(i[u]=a)}),o;function s(a,u){if(a&&"data"in a&&a.data){const l=a.data;l.hName&&(u.type!=="element"&&(u={type:"element",tagName:"",properties:{},children:[]}),u.tagName=l.hName),u.type==="element"&&l.hProperties&&(u.properties={...u.properties,...l.hProperties}),"children"in u&&u.children&&l.hChildren&&(u.children=l.hChildren)}if(a){const l="type"in a?a:{position:a};x$e(l)||(u.position={start:gJ(l),end:yJ(l)})}return u}function o(a,u,l,c){return Array.isArray(l)&&(c=l,l={}),s(a,{type:"element",tagName:u,properties:l||{},children:c||[]})}}function wJ(e,t){const n=e3e(e,t),r=pJ(n,e,null),i=A$e(n);return i&&r.children.push(Jr("text",`
`),i),Array.isArray(r)?{type:"root",children:r}:r}const t3e=function(e,t){return e&&"run"in e?r3e(e,t):i3e(e||t)},n3e=t3e;function r3e(e,t){return(n,r,i)=>{e.run(wJ(n,t),r,s=>{i(s)})}}function i3e(e){return t=>wJ(t,e)}var TJ={exports:{}},s3e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",o3e=s3e,a3e=o3e;function SJ(){}function IJ(){}IJ.resetWarningCache=SJ;var u3e=function(){function e(r,i,s,o,a,u){if(u!==a3e){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:IJ,resetWarningCache:SJ};return n.PropTypes=n,n};TJ.exports=u3e();var l3e=TJ.exports;const dt=Pa(l3e);let F_=class{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}};F_.prototype.property={};F_.prototype.normal={};F_.prototype.space=null;function xJ(e,t){const n={},r={};let i=-1;for(;++i<e.length;)Object.assign(n,e[i].property),Object.assign(r,e[i].normal);return new F_(n,r,t)}function Cy(e){return e.toLowerCase()}class Jo{constructor(t,n){this.property=t,this.attribute=n}}Jo.prototype.space=null;Jo.prototype.boolean=!1;Jo.prototype.booleanish=!1;Jo.prototype.overloadedBoolean=!1;Jo.prototype.number=!1;Jo.prototype.commaSeparated=!1;Jo.prototype.spaceSeparated=!1;Jo.prototype.commaOrSpaceSeparated=!1;Jo.prototype.mustUseProperty=!1;Jo.prototype.defined=!1;let c3e=0;const Ut=th(),Fr=th(),CJ=th(),Ne=th(),Qn=th(),Sp=th(),Xs=th();function th(){return 2**++c3e}const f2=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ut,booleanish:Fr,commaOrSpaceSeparated:Xs,commaSeparated:Sp,number:Ne,overloadedBoolean:CJ,spaceSeparated:Qn},Symbol.toStringTag,{value:"Module"})),pA=Object.keys(f2);class ND extends Jo{constructor(t,n,r,i){let s=-1;if(super(t,n),CB(this,"space",i),typeof r=="number")for(;++s<pA.length;){const o=pA[s];CB(this,pA[s],(r&f2[o])===f2[o])}}}ND.prototype.defined=!0;function CB(e,t,n){n&&(e[t]=n)}const f3e={}.hasOwnProperty;function jm(e){const t={},n={};let r;for(r in e.properties)if(f3e.call(e.properties,r)){const i=e.properties[r],s=new ND(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[Cy(r)]=r,n[Cy(s.attribute)]=r}return new F_(t,n,e.space)}const AJ=jm({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),OJ=jm({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function PJ(e,t){return t in e?e[t]:t}function RJ(e,t){return PJ(e,t.toLowerCase())}const NJ=jm({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:RJ,properties:{xmlns:null,xmlnsXLink:null}}),kJ=jm({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Fr,ariaAutoComplete:null,ariaBusy:Fr,ariaChecked:Fr,ariaColCount:Ne,ariaColIndex:Ne,ariaColSpan:Ne,ariaControls:Qn,ariaCurrent:null,ariaDescribedBy:Qn,ariaDetails:null,ariaDisabled:Fr,ariaDropEffect:Qn,ariaErrorMessage:null,ariaExpanded:Fr,ariaFlowTo:Qn,ariaGrabbed:Fr,ariaHasPopup:null,ariaHidden:Fr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Qn,ariaLevel:Ne,ariaLive:null,ariaModal:Fr,ariaMultiLine:Fr,ariaMultiSelectable:Fr,ariaOrientation:null,ariaOwns:Qn,ariaPlaceholder:null,ariaPosInSet:Ne,ariaPressed:Fr,ariaReadOnly:Fr,ariaRelevant:null,ariaRequired:Fr,ariaRoleDescription:Qn,ariaRowCount:Ne,ariaRowIndex:Ne,ariaRowSpan:Ne,ariaSelected:Fr,ariaSetSize:Ne,ariaSort:null,ariaValueMax:Ne,ariaValueMin:Ne,ariaValueNow:Ne,ariaValueText:null,role:null}}),d3e=jm({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:RJ,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Sp,acceptCharset:Qn,accessKey:Qn,action:null,allow:null,allowFullScreen:Ut,allowPaymentRequest:Ut,allowUserMedia:Ut,alt:null,as:null,async:Ut,autoCapitalize:null,autoComplete:Qn,autoFocus:Ut,autoPlay:Ut,capture:Ut,charSet:null,checked:Ut,cite:null,className:Qn,cols:Ne,colSpan:null,content:null,contentEditable:Fr,controls:Ut,controlsList:Qn,coords:Ne|Sp,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ut,defer:Ut,dir:null,dirName:null,disabled:Ut,download:CJ,draggable:Fr,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ut,formTarget:null,headers:Qn,height:Ne,hidden:Ut,high:Ne,href:null,hrefLang:null,htmlFor:Qn,httpEquiv:Qn,id:null,imageSizes:null,imageSrcSet:null,inputMode:null,integrity:null,is:null,isMap:Ut,itemId:null,itemProp:Qn,itemRef:Qn,itemScope:Ut,itemType:Qn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ut,low:Ne,manifest:null,max:null,maxLength:Ne,media:null,method:null,min:null,minLength:Ne,multiple:Ut,muted:Ut,name:null,nonce:null,noModule:Ut,noValidate:Ut,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ut,optimum:Ne,pattern:null,ping:Qn,placeholder:null,playsInline:Ut,poster:null,preload:null,readOnly:Ut,referrerPolicy:null,rel:Qn,required:Ut,reversed:Ut,rows:Ne,rowSpan:Ne,sandbox:Qn,scope:null,scoped:Ut,seamless:Ut,selected:Ut,shape:null,size:Ne,sizes:null,slot:null,span:Ne,spellCheck:Fr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ne,step:null,style:null,tabIndex:Ne,target:null,title:null,translate:null,type:null,typeMustMatch:Ut,useMap:null,value:Fr,width:Ne,wrap:null,align:null,aLink:null,archive:Qn,axis:null,background:null,bgColor:null,border:Ne,borderColor:null,bottomMargin:Ne,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ut,declare:Ut,event:null,face:null,frame:null,frameBorder:null,hSpace:Ne,leftMargin:Ne,link:null,longDesc:null,lowSrc:null,marginHeight:Ne,marginWidth:Ne,noResize:Ut,noHref:Ut,noShade:Ut,noWrap:Ut,object:null,profile:null,prompt:null,rev:null,rightMargin:Ne,rules:null,scheme:null,scrolling:Fr,standby:null,summary:null,text:null,topMargin:Ne,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ne,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ut,disableRemotePlayback:Ut,prefix:null,property:null,results:Ne,security:null,unselectable:null}}),h3e=jm({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:PJ,properties:{about:Xs,accentHeight:Ne,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ne,amplitude:Ne,arabicForm:null,ascent:Ne,attributeName:null,attributeType:null,azimuth:Ne,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ne,by:null,calcMode:null,capHeight:Ne,className:Qn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ne,diffuseConstant:Ne,direction:null,display:null,dur:null,divisor:Ne,dominantBaseline:null,download:Ut,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ne,enableBackground:null,end:null,event:null,exponent:Ne,externalResourcesRequired:null,fill:null,fillOpacity:Ne,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Sp,g2:Sp,glyphName:Sp,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ne,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ne,horizOriginX:Ne,horizOriginY:Ne,id:null,ideographic:Ne,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ne,k:Ne,k1:Ne,k2:Ne,k3:Ne,k4:Ne,kernelMatrix:Xs,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ne,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ne,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ne,overlineThickness:Ne,paintOrder:null,panose1:null,path:null,pathLength:Ne,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Qn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ne,pointsAtY:Ne,pointsAtZ:Ne,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Xs,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Xs,rev:Xs,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Xs,requiredFeatures:Xs,requiredFonts:Xs,requiredFormats:Xs,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ne,specularExponent:Ne,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ne,strikethroughThickness:Ne,string:null,stroke:null,strokeDashArray:Xs,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ne,strokeOpacity:Ne,strokeWidth:null,style:null,surfaceScale:Ne,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Xs,tabIndex:Ne,tableValues:null,target:null,targetX:Ne,targetY:Ne,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Xs,to:null,transform:null,u1:null,u2:null,underlinePosition:Ne,underlineThickness:Ne,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ne,values:null,vAlphabetic:Ne,vMathematical:Ne,vectorEffect:null,vHanging:Ne,vIdeographic:Ne,version:null,vertAdvY:Ne,vertOriginX:Ne,vertOriginY:Ne,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ne,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),p3e=/^data[-\w.:]+$/i,AB=/-[a-z]/g,m3e=/[A-Z]/g;function pI(e,t){const n=Cy(t);let r=t,i=Jo;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&p3e.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(AB,y3e);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!AB.test(s)){let o=s.replace(m3e,g3e);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=ND}return new i(r,t)}function g3e(e){return"-"+e.toLowerCase()}function y3e(e){return e.charAt(1).toUpperCase()}const OB={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},B_=xJ([OJ,AJ,NJ,kJ,d3e],"html"),Um=xJ([OJ,AJ,NJ,kJ,h3e],"svg");function _3e(e){if(e.allowedElements&&e.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(e.allowedElements||e.disallowedElements||e.allowElement)return t=>{RD(t,"element",(n,r,i)=>{const s=i;let o;if(e.allowedElements?o=!e.allowedElements.includes(n.tagName):e.disallowedElements&&(o=e.disallowedElements.includes(n.tagName)),!o&&e.allowElement&&typeof r=="number"&&(o=!e.allowElement(n,r,s)),o&&typeof r=="number")return e.unwrapDisallowed&&n.children?s.children.splice(r,1,...n.children):s.children.splice(r,1),r})}}var DJ={exports:{}},Dn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kD=Symbol.for("react.element"),DD=Symbol.for("react.portal"),mI=Symbol.for("react.fragment"),gI=Symbol.for("react.strict_mode"),yI=Symbol.for("react.profiler"),_I=Symbol.for("react.provider"),vI=Symbol.for("react.context"),v3e=Symbol.for("react.server_context"),bI=Symbol.for("react.forward_ref"),EI=Symbol.for("react.suspense"),wI=Symbol.for("react.suspense_list"),TI=Symbol.for("react.memo"),SI=Symbol.for("react.lazy"),b3e=Symbol.for("react.offscreen"),$J;$J=Symbol.for("react.module.reference");function Zo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case kD:switch(e=e.type,e){case mI:case yI:case gI:case EI:case wI:return e;default:switch(e=e&&e.$$typeof,e){case v3e:case vI:case bI:case SI:case TI:case _I:return e;default:return t}}case DD:return t}}}Dn.ContextConsumer=vI;Dn.ContextProvider=_I;Dn.Element=kD;Dn.ForwardRef=bI;Dn.Fragment=mI;Dn.Lazy=SI;Dn.Memo=TI;Dn.Portal=DD;Dn.Profiler=yI;Dn.StrictMode=gI;Dn.Suspense=EI;Dn.SuspenseList=wI;Dn.isAsyncMode=function(){return!1};Dn.isConcurrentMode=function(){return!1};Dn.isContextConsumer=function(e){return Zo(e)===vI};Dn.isContextProvider=function(e){return Zo(e)===_I};Dn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===kD};Dn.isForwardRef=function(e){return Zo(e)===bI};Dn.isFragment=function(e){return Zo(e)===mI};Dn.isLazy=function(e){return Zo(e)===SI};Dn.isMemo=function(e){return Zo(e)===TI};Dn.isPortal=function(e){return Zo(e)===DD};Dn.isProfiler=function(e){return Zo(e)===yI};Dn.isStrictMode=function(e){return Zo(e)===gI};Dn.isSuspense=function(e){return Zo(e)===EI};Dn.isSuspenseList=function(e){return Zo(e)===wI};Dn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===mI||e===yI||e===gI||e===EI||e===wI||e===b3e||typeof e=="object"&&e!==null&&(e.$$typeof===SI||e.$$typeof===TI||e.$$typeof===_I||e.$$typeof===vI||e.$$typeof===bI||e.$$typeof===$J||e.getModuleId!==void 0)};Dn.typeOf=Zo;DJ.exports=Dn;var E3e=DJ.exports;const w3e=Pa(E3e);function T3e(e){const t=e&&typeof e=="object"&&e.type==="text"?e.value||"":e;return typeof t=="string"&&t.replace(/[ \t\n\f\r]/g,"")===""}function PB(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function LJ(e){return e.join(" ").trim()}function RB(e){const t=[],n=String(e||"");let r=n.indexOf(","),i=0,s=!1;for(;!s;){r===-1&&(r=n.length,s=!0);const o=n.slice(i,r).trim();(o||!s)&&t.push(o),i=r+1,r=n.indexOf(",",i)}return t}function MJ(e,t){const n=t||{};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}var $D={exports:{}},NB=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,S3e=/\n/g,I3e=/^\s*/,x3e=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,C3e=/^:\s*/,A3e=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,O3e=/^[;\s]*/,P3e=/^\s+|\s+$/g,R3e=`
`,kB="/",DB="*",Yf="",N3e="comment",k3e="declaration",D3e=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(p){var m=p.match(S3e);m&&(n+=m.length);var y=p.lastIndexOf(R3e);r=~y?p.length-y:r+p.length}function s(){var p={line:n,column:r};return function(m){return m.position=new o(p),l(),m}}function o(p){this.start=p,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function a(p){var m=new Error(t.source+":"+n+":"+r+": "+p);if(m.reason=p,m.filename=t.source,m.line=n,m.column=r,m.source=e,!t.silent)throw m}function u(p){var m=p.exec(e);if(m){var y=m[0];return i(y),e=e.slice(y.length),m}}function l(){u(I3e)}function c(p){var m;for(p=p||[];m=f();)m!==!1&&p.push(m);return p}function f(){var p=s();if(!(kB!=e.charAt(0)||DB!=e.charAt(1))){for(var m=2;Yf!=e.charAt(m)&&(DB!=e.charAt(m)||kB!=e.charAt(m+1));)++m;if(m+=2,Yf===e.charAt(m-1))return a("End of comment missing");var y=e.slice(2,m-2);return r+=2,i(y),e=e.slice(m),r+=2,p({type:N3e,comment:y})}}function d(){var p=s(),m=u(x3e);if(m){if(f(),!u(C3e))return a("property missing ':'");var y=u(A3e),g=p({type:k3e,property:$B(m[0].replace(NB,Yf)),value:y?$B(y[0].replace(NB,Yf)):Yf});return u(O3e),g}}function h(){var p=[];c(p);for(var m;m=d();)m!==!1&&(p.push(m),c(p));return p}return l(),h()};function $B(e){return e?e.replace(P3e,Yf):Yf}var $3e=D3e;function FJ(e,t){var n=null;if(!e||typeof e!="string")return n;for(var r,i=$3e(e),s=typeof t=="function",o,a,u=0,l=i.length;u<l;u++)r=i[u],o=r.property,a=r.value,s?t(o,a,r):a&&(n||(n={}),n[o]=a);return n}$D.exports=FJ;$D.exports.default=FJ;var L3e=$D.exports;const M3e=Pa(L3e),d2={}.hasOwnProperty,F3e=new Set(["table","thead","tbody","tfoot","tr"]);function BJ(e,t){const n=[];let r=-1,i;for(;++r<t.children.length;)i=t.children[r],i.type==="element"?n.push(B3e(e,i,r,t)):i.type==="text"?(t.type!=="element"||!F3e.has(t.tagName)||!T3e(i))&&n.push(i.value):i.type==="raw"&&!e.options.skipHtml&&n.push(i.value);return n}function B3e(e,t,n,r){const i=e.options,s=i.transformLinkUri===void 0?BNe:i.transformLinkUri,o=e.schema,a=t.tagName,u={};let l=o,c;if(o.space==="html"&&a==="svg"&&(l=Um,e.schema=l),t.properties)for(c in t.properties)d2.call(t.properties,c)&&U3e(u,c,t.properties[c],e);(a==="ol"||a==="ul")&&e.listDepth++;const f=BJ(e,t);(a==="ol"||a==="ul")&&e.listDepth--,e.schema=o;const d=t.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},h=i.components&&d2.call(i.components,a)?i.components[a]:a,p=typeof h=="string"||h===k.Fragment;if(!w3e.isValidElementType(h))throw new TypeError(`Component for name \`${a}\` not defined or is not renderable`);if(u.key=[a,d.start.line,d.start.column,n].join("-"),a==="a"&&i.linkTarget&&(u.target=typeof i.linkTarget=="function"?i.linkTarget(String(u.href||""),t.children,typeof u.title=="string"?u.title:null):i.linkTarget),a==="a"&&s&&(u.href=s(String(u.href||""),t.children,typeof u.title=="string"?u.title:null)),!p&&a==="code"&&r.type==="element"&&r.tagName!=="pre"&&(u.inline=!0),!p&&(a==="h1"||a==="h2"||a==="h3"||a==="h4"||a==="h5"||a==="h6")&&(u.level=Number.parseInt(a.charAt(1),10)),a==="img"&&i.transformImageUri&&(u.src=i.transformImageUri(String(u.src||""),String(u.alt||""),typeof u.title=="string"?u.title:null)),!p&&a==="li"&&r.type==="element"){const m=j3e(t);u.checked=m&&m.properties?!!m.properties.checked:null,u.index=mA(r,t),u.ordered=r.tagName==="ol"}return!p&&(a==="ol"||a==="ul")&&(u.ordered=a==="ol",u.depth=e.listDepth),(a==="td"||a==="th")&&(u.align&&(u.style||(u.style={}),u.style.textAlign=u.align,delete u.align),p||(u.isHeader=a==="th")),!p&&a==="tr"&&r.type==="element"&&(u.isHeader=r.tagName==="thead"),i.sourcePos&&(u["data-sourcepos"]=H3e(d)),!p&&i.rawSourcePos&&(u.sourcePosition=t.position),!p&&i.includeElementIndex&&(u.index=mA(r,t),u.siblingCount=mA(r)),p||(u.node=t),f.length>0?k.createElement(h,u,f):k.createElement(h,u)}function j3e(e){let t=-1;for(;++t<e.children.length;){const n=e.children[t];if(n.type==="element"&&n.tagName==="input")return n}return null}function mA(e,t){let n=-1,r=0;for(;++n<e.children.length&&e.children[n]!==t;)e.children[n].type==="element"&&r++;return r}function U3e(e,t,n,r){const i=pI(r.schema,t);let s=n;s==null||s!==s||(Array.isArray(s)&&(s=i.commaSeparated?MJ(s):LJ(s)),i.property==="style"&&typeof s=="string"&&(s=V3e(s)),i.space&&i.property?e[d2.call(OB,i.property)?OB[i.property]:i.property]=s:i.attribute&&(e[i.attribute]=s))}function V3e(e){const t={};try{M3e(e,n)}catch{}return t;function n(r,i){const s=r.slice(0,4)==="-ms-"?`ms-${r.slice(4)}`:r;t[s.replace(/-([a-z])/g,z3e)]=i}}function z3e(e,t){return t.toUpperCase()}function H3e(e){return[e.start.line,":",e.start.column,"-",e.end.line,":",e.end.column].map(String).join("")}const LB={}.hasOwnProperty,W3e="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",s1={plugins:{to:"remarkPlugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function jJ(e){for(const s in s1)if(LB.call(s1,s)&&LB.call(e,s)){const o=s1[s];console.warn(`[react-markdown] Warning: please ${o.to?`use \`${o.to}\` instead of`:"remove"} \`${s}\` (see <${W3e}#${o.id}> for more info)`),delete s1[s]}const t=dke().use(m$e).use(e.remarkPlugins||[]).use(n3e,{...e.remarkRehypeOptions,allowDangerousHtml:!0}).use(e.rehypePlugins||[]).use(_3e,e),n=new XNe;typeof e.children=="string"?n.value=e.children:e.children!==void 0&&e.children!==null&&console.warn(`[react-markdown] Warning: please pass a string as \`children\` (not: \`${e.children}\`)`);const r=t.runSync(t.parse(n),n);if(r.type!=="root")throw new TypeError("Expected a `root` node");let i=k.createElement(k.Fragment,{},BJ({options:e,schema:B_,listDepth:0},r));return e.className&&(i=k.createElement("div",{className:e.className},i)),i}jJ.propTypes={children:dt.string,className:dt.string,allowElement:dt.func,allowedElements:dt.arrayOf(dt.string),disallowedElements:dt.arrayOf(dt.string),unwrapDisallowed:dt.bool,remarkPlugins:dt.arrayOf(dt.oneOfType([dt.object,dt.func,dt.arrayOf(dt.oneOfType([dt.bool,dt.string,dt.object,dt.func,dt.arrayOf(dt.any)]))])),rehypePlugins:dt.arrayOf(dt.oneOfType([dt.object,dt.func,dt.arrayOf(dt.oneOfType([dt.bool,dt.string,dt.object,dt.func,dt.arrayOf(dt.any)]))])),sourcePos:dt.bool,rawSourcePos:dt.bool,skipHtml:dt.bool,includeElementIndex:dt.bool,transformLinkUri:dt.oneOfType([dt.func,dt.bool]),linkTarget:dt.oneOfType([dt.func,dt.string]),transformImageUri:dt.func,components:dt.object};const UJ=-1,II=0,Ww=1,qw=2,LD=3,MD=4,FD=5,BD=6,VJ=7,zJ=8,MB=typeof self=="object"?self:globalThis,q3e=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,o]=t[i];switch(s){case II:case UJ:return n(o,i);case Ww:{const a=n([],i);for(const u of o)a.push(r(u));return a}case qw:{const a=n({},i);for(const[u,l]of o)a[r(u)]=r(l);return a}case LD:return n(new Date(o),i);case MD:{const{source:a,flags:u}=o;return n(new RegExp(a,u),i)}case FD:{const a=n(new Map,i);for(const[u,l]of o)a.set(r(u),r(l));return a}case BD:{const a=n(new Set,i);for(const u of o)a.add(r(u));return a}case VJ:{const{name:a,message:u}=o;return n(new MB[a](u),i)}case zJ:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i)}return n(new MB[s](o),i)};return r},FB=e=>q3e(new Map,e)(0),wh="",{toString:Y3e}={},{keys:G3e}=Object,N0=e=>{const t=typeof e;if(t!=="object"||!e)return[II,t];const n=Y3e.call(e).slice(8,-1);switch(n){case"Array":return[Ww,wh];case"Object":return[qw,wh];case"Date":return[LD,wh];case"RegExp":return[MD,wh];case"Map":return[FD,wh];case"Set":return[BD,wh]}return n.includes("Array")?[Ww,n]:n.includes("Error")?[VJ,n]:[qw,n]},o1=([e,t])=>e===II&&(t==="function"||t==="symbol"),K3e=(e,t,n,r)=>{const i=(o,a)=>{const u=r.push(o)-1;return n.set(a,u),u},s=o=>{if(n.has(o))return n.get(o);let[a,u]=N0(o);switch(a){case II:{let c=o;switch(u){case"bigint":a=zJ,c=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+u);c=null;break;case"undefined":return i([UJ],o)}return i([a,c],o)}case Ww:{if(u)return i([u,[...o]],o);const c=[],f=i([a,c],o);for(const d of o)c.push(s(d));return f}case qw:{if(u)switch(u){case"BigInt":return i([u,o.toString()],o);case"Boolean":case"Number":case"String":return i([u,o.valueOf()],o)}if(t&&"toJSON"in o)return s(o.toJSON());const c=[],f=i([a,c],o);for(const d of G3e(o))(e||!o1(N0(o[d])))&&c.push([s(d),s(o[d])]);return f}case LD:return i([a,o.toISOString()],o);case MD:{const{source:c,flags:f}=o;return i([a,{source:c,flags:f}],o)}case FD:{const c=[],f=i([a,c],o);for(const[d,h]of o)(e||!(o1(N0(d))||o1(N0(h))))&&c.push([s(d),s(h)]);return f}case BD:{const c=[],f=i([a,c],o);for(const d of o)(e||!o1(N0(d)))&&c.push(s(d));return f}}const{message:l}=o;return i([a,{name:u,message:l}],o)};return s},BB=(e,{json:t,lossy:n}={})=>{const r=[];return K3e(!(t||n),!!t,new Map,r)(e),r},jB=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?FB(BB(e,t)):structuredClone(e):(e,t)=>FB(BB(e,t));const UB=/[#.]/g;function Q3e(e,t){const n=e||"",r={};let i=0,s,o;for(;i<n.length;){UB.lastIndex=i;const a=UB.exec(n),u=n.slice(i,a?a.index:n.length);u&&(s?s==="#"?r.id=u:Array.isArray(r.className)?r.className.push(u):r.className=[u]:o=u,i+=u.length),a&&(s=a[0],i++)}return{type:"element",tagName:o||t||"div",properties:r,children:[]}}const X3e=new Set(["button","menu","reset","submit"]),h2={}.hasOwnProperty;function HJ(e,t,n){const r=n&&t6e(n);function i(s,o,...a){let u=-1,l;if(s==null){l={type:"root",children:[]};const c=o;a.unshift(c)}else if(l=Q3e(s,t),l.tagName=l.tagName.toLowerCase(),r&&h2.call(r,l.tagName)&&(l.tagName=r[l.tagName]),J3e(o,l.tagName)){let c;for(c in o)h2.call(o,c)&&Z3e(e,l.properties,c,o[c])}else a.unshift(o);for(;++u<a.length;)p2(l.children,a[u]);return l.type==="element"&&l.tagName==="template"&&(l.content={type:"root",children:l.children},l.children=[]),l}return i}function J3e(e,t){return e==null||typeof e!="object"||Array.isArray(e)?!1:t==="input"||!e.type||typeof e.type!="string"?!0:"children"in e&&Array.isArray(e.children)?!1:t==="button"?X3e.has(e.type.toLowerCase()):!("value"in e)}function Z3e(e,t,n,r){const i=pI(e,n);let s=-1,o;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;o=r}else typeof r=="boolean"?o=r:typeof r=="string"?i.spaceSeparated?o=PB(r):i.commaSeparated?o=RB(r):i.commaOrSpaceSeparated?o=PB(RB(r).join(" ")):o=VB(i,i.property,r):Array.isArray(r)?o=r.concat():o=i.property==="style"?e6e(r):String(r);if(Array.isArray(o)){const a=[];for(;++s<o.length;){const u=VB(i,i.property,o[s]);a[s]=u}o=a}if(i.property==="className"&&Array.isArray(t.className)){const a=o;o=t.className.concat(a)}t[i.property]=o}}function p2(e,t){let n=-1;if(t!=null)if(typeof t=="string"||typeof t=="number")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(;++n<t.length;)p2(e,t[n]);else if(typeof t=="object"&&"type"in t)t.type==="root"?p2(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function VB(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||Cy(n)===Cy(t)))return!0}return n}function e6e(e){const t=[];let n;for(n in e)h2.call(e,n)&&t.push([n,e[n]].join(": "));return t.join("; ")}function t6e(e){const t={};let n=-1;for(;++n<e.length;)t[e[n].toLowerCase()]=e[n];return t}const n6e=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],r6e=HJ(B_,"div"),i6e=HJ(Um,"g",n6e),gA=/\r?\n|\r/g;function s6e(e){const t=String(e),n=[];for(gA.lastIndex=0;gA.test(t);)n.push(gA.lastIndex);return n.push(t.length+1),{toPoint:r,toOffset:i};function r(s){let o=-1;if(typeof s=="number"&&s>-1&&s<n[n.length-1]){for(;++o<n.length;)if(n[o]>s)return{line:o+1,column:s-(o>0?n[o-1]:0)+1,offset:s}}}function i(s){const o=s&&s.line,a=s&&s.column;if(typeof o=="number"&&typeof a=="number"&&!Number.isNaN(o)&&!Number.isNaN(a)&&o-1 in n){const u=(n[o-2]||0)+a-1||0;if(u>-1&&u<n[n.length-1])return u}}}const ed={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},WJ={}.hasOwnProperty,o6e=Object.prototype;function a6e(e,t){const n=t||{};return jD({file:n.file||void 0,location:!1,schema:n.space==="svg"?Um:B_,verbose:n.verbose||!1},e)}function jD(e,t){let n;switch(t.nodeName){case"#comment":{const r=t;return n={type:"comment",value:r.data},ob(e,r,n),n}case"#document":case"#document-fragment":{const r=t,i="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:qJ(e,t.childNodes),data:{quirksMode:i}},e.file&&e.location){const s=String(e.file),o=s6e(s),a=o.toPoint(0),u=o.toPoint(s.length);n.position={start:a,end:u}}return n}case"#documentType":{const r=t;return n={type:"doctype"},ob(e,r,n),n}case"#text":{const r=t;return n={type:"text",value:r.value},ob(e,r,n),n}default:return n=u6e(e,t),n}}function qJ(e,t){let n=-1;const r=[];for(;++n<t.length;){const i=jD(e,t[n]);r.push(i)}return r}function u6e(e,t){const n=e.schema;e.schema=t.namespaceURI===ed.svg?Um:B_;let r=-1;const i={};for(;++r<t.attrs.length;){const a=t.attrs[r],u=(a.prefix?a.prefix+":":"")+a.name;WJ.call(o6e,u)||(i[u]=a.value)}const o=(e.schema.space==="svg"?i6e:r6e)(t.tagName,i,qJ(e,t.childNodes));if(ob(e,t,o),o.tagName==="template"){const a=t,u=a.sourceCodeLocation,l=u&&u.startTag&&Jh(u.startTag),c=u&&u.endTag&&Jh(u.endTag),f=jD(e,a.content);l&&c&&e.file&&(f.position={start:l.end,end:c.start}),o.content=f}return e.schema=n,o}function ob(e,t,n){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const r=l6e(e,n,t.sourceCodeLocation);r&&(e.location=!0,n.position=r)}}function l6e(e,t,n){const r=Jh(n);if(t.type==="element"){const i=t.children[t.children.length-1];if(r&&!n.endTag&&i&&i.position&&i.position.end&&(r.end=Object.assign({},i.position.end)),e.verbose){const s={};let o;if(n.attrs)for(o in n.attrs)WJ.call(n.attrs,o)&&(s[pI(e.schema,o).property]=Jh(n.attrs[o]));n.startTag;const a=Jh(n.startTag),u=n.endTag?Jh(n.endTag):void 0,l={opening:a};u&&(l.closing=u),l.properties=s,t.data={position:l}}}return r}function Jh(e){const t=zB({line:e.startLine,column:e.startCol,offset:e.startOffset}),n=zB({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||n?{start:t,end:n}:void 0}function zB(e){return e.line&&e.column?e:void 0}const HB={}.hasOwnProperty;function YJ(e,t){const n=t||{};function r(i,...s){let o=r.invalid;const a=r.handlers;if(i&&HB.call(i,e)){const u=String(i[e]);o=HB.call(a,u)?a[u]:r.unknown}if(o)return o.call(this,i,...s)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const c6e={},f6e={}.hasOwnProperty,GJ=YJ("type",{handlers:{root:h6e,element:_6e,text:g6e,comment:y6e,doctype:m6e}});function d6e(e,t){const r=(t||c6e).space;return GJ(e,r==="svg"?Um:B_)}function h6e(e,t){const n={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=UD(e.children,n,t),Vm(e,n),n}function p6e(e,t){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=UD(e.children,n,t),Vm(e,n),n}function m6e(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return Vm(e,t),t}function g6e(e){const t={nodeName:"#text",value:e.value,parentNode:null};return Vm(e,t),t}function y6e(e){const t={nodeName:"#comment",data:e.value,parentNode:null};return Vm(e,t),t}function _6e(e,t){const n=t;let r=n;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&n.space==="html"&&(r=Um);const i=[];let s;if(e.properties){for(s in e.properties)if(s!=="children"&&f6e.call(e.properties,s)){const u=v6e(r,s,e.properties[s]);u&&i.push(u)}}const o=r.space,a={nodeName:e.tagName,tagName:e.tagName,attrs:i,namespaceURI:ed[o],childNodes:[],parentNode:null};return a.childNodes=UD(e.children,a,r),Vm(e,a),e.tagName==="template"&&e.content&&(a.content=p6e(e.content,r)),a}function v6e(e,t,n){const r=pI(e,t);if(n===!1||n===null||n===void 0||typeof n=="number"&&Number.isNaN(n)||!n&&r.boolean)return;Array.isArray(n)&&(n=r.commaSeparated?MJ(n):LJ(n));const i={name:r.attribute,value:n===!0?"":String(n)};if(r.space&&r.space!=="html"&&r.space!=="svg"){const s=i.name.indexOf(":");s<0?i.prefix="":(i.name=i.name.slice(s+1),i.prefix=r.attribute.slice(0,s)),i.namespace=ed[r.space]}return i}function UD(e,t,n){let r=-1;const i=[];if(e)for(;++r<e.length;){const s=GJ(e[r],n);s.parentNode=t,i.push(s)}return i}function Vm(e,t){const n=e.position;n&&n.start&&n.end&&(n.start.offset,n.end.offset,t.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const b6e=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],E6e=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),sr="";var D;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.NUMBER_SIGN=35]="NUMBER_SIGN",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_F=70]="LATIN_CAPITAL_F",e[e.LATIN_CAPITAL_X=88]="LATIN_CAPITAL_X",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_F=102]="LATIN_SMALL_F",e[e.LATIN_SMALL_X=120]="LATIN_SMALL_X",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z",e[e.REPLACEMENT_CHARACTER=65533]="REPLACEMENT_CHARACTER"})(D=D||(D={}));const _s={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function KJ(e){return e>=55296&&e<=57343}function w6e(e){return e>=56320&&e<=57343}function T6e(e,t){return(e-55296)*1024+9216+t}function QJ(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function XJ(e){return e>=64976&&e<=65007||E6e.has(e)}var ve;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(ve=ve||(ve={}));const S6e=65536;class I6e{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=S6e,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t){const{line:n,col:r,offset:i}=this;return{code:t,startLine:n,endLine:n,startCol:r,endCol:r,startOffset:i,endOffset:i}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(w6e(n))return this.pos++,this._addGap(),T6e(t,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,D.EOF;return this._err(ve.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,n){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,n){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(t,this.pos);for(let r=0;r<t.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==t.charCodeAt(r))return!1;return!0}peek(t){const n=this.pos+t;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,D.EOF;const r=this.html.charCodeAt(n);return r===D.CARRIAGE_RETURN?D.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,D.EOF;let t=this.html.charCodeAt(this.pos);return t===D.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,D.LINE_FEED):t===D.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,KJ(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===D.LINE_FEED||t===D.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){QJ(t)?this._err(ve.controlCharacterInInputStream):XJ(t)&&this._err(ve.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var Ht;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(Ht=Ht||(Ht={}));function JJ(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}const rc=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),x6e=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(e=>e.charCodeAt(0)));var yA;const C6e=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),A6e=(yA=String.fromCodePoint)!==null&&yA!==void 0?yA:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function O6e(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=C6e.get(e))!==null&&t!==void 0?t:e}var fi;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(fi||(fi={}));const P6e=32;var su;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(su||(su={}));function m2(e){return e>=fi.ZERO&&e<=fi.NINE}function R6e(e){return e>=fi.UPPER_A&&e<=fi.UPPER_F||e>=fi.LOWER_A&&e<=fi.LOWER_F}function N6e(e){return e>=fi.UPPER_A&&e<=fi.UPPER_Z||e>=fi.LOWER_A&&e<=fi.LOWER_Z||m2(e)}function k6e(e){return e===fi.EQUALS||N6e(e)}var oi;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(oi||(oi={}));var Gf;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(Gf||(Gf={}));class D6e{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=oi.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Gf.Strict}startEntity(t){this.decodeMode=t,this.state=oi.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case oi.EntityStart:return t.charCodeAt(n)===fi.NUM?(this.state=oi.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=oi.NamedEntity,this.stateNamedEntity(t,n));case oi.NumericStart:return this.stateNumericStart(t,n);case oi.NumericDecimal:return this.stateNumericDecimal(t,n);case oi.NumericHex:return this.stateNumericHex(t,n);case oi.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|P6e)===fi.LOWER_X?(this.state=oi.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=oi.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,r,i){if(n!==r){const s=r-n;this.result=this.result*Math.pow(i,s)+parseInt(t.substr(n,s),i),this.consumed+=s}}stateNumericHex(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(m2(i)||R6e(i))n+=1;else return this.addToNumericResult(t,r,n,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(t,r,n,16),-1}stateNumericDecimal(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(m2(i))n+=1;else return this.addToNumericResult(t,r,n,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(t,r,n,10),-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===fi.SEMI)this.consumed+=1;else if(this.decodeMode===Gf.Strict)return 0;return this.emitCodePoint(O6e(this.result),this.consumed),this.errors&&(t!==fi.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let i=r[this.treeIndex],s=(i&su.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const o=t.charCodeAt(n);if(this.treeIndex=eZ(r,i,this.treeIndex+Math.max(1,s),o),this.treeIndex<0)return this.result===0||this.decodeMode===Gf.Attribute&&(s===0||k6e(o))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],s=(i&su.VALUE_LENGTH)>>14,s!==0){if(o===fi.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==Gf.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,i=(r[n]&su.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,i,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:i}=this;return this.emitCodePoint(n===1?i[t]&~su.VALUE_LENGTH:i[t+1],r),n===3&&this.emitCodePoint(i[t+2],r),r}end(){var t;switch(this.state){case oi.NamedEntity:return this.result!==0&&(this.decodeMode!==Gf.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case oi.NumericDecimal:return this.emitNumericEntity(0,2);case oi.NumericHex:return this.emitNumericEntity(0,3);case oi.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case oi.EntityStart:return 0}}}function ZJ(e){let t="";const n=new D6e(e,r=>t+=A6e(r));return function(i,s){let o=0,a=0;for(;(a=i.indexOf("&",a))>=0;){t+=i.slice(o,a),n.startEntity(s);const l=n.write(i,a+1);if(l<0){o=a+n.end();break}o=a+l,a=l===0?o+1:o}const u=t+i.slice(o);return t="",u}}function eZ(e,t,n,r){const i=(t&su.BRANCH_LENGTH)>>7,s=t&su.JUMP_TABLE;if(i===0)return s!==0&&r===s?n:-1;if(s){const u=r-s;return u<0||u>=i?-1:e[n+u]-1}let o=n,a=o+i-1;for(;o<=a;){const u=o+a>>>1,l=e[u];if(l<r)o=u+1;else if(l>r)a=u-1;else return e[u+i]}return-1}ZJ(rc);ZJ(x6e);var Ee;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(Ee=Ee||(Ee={}));var Vc;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(Vc=Vc||(Vc={}));var eo;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(eo=eo||(eo={}));var ae;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(ae=ae||(ae={}));var v;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SECTION=94]="SECTION",e[e.SELECT=95]="SELECT",e[e.SOURCE=96]="SOURCE",e[e.SMALL=97]="SMALL",e[e.SPAN=98]="SPAN",e[e.STRIKE=99]="STRIKE",e[e.STRONG=100]="STRONG",e[e.STYLE=101]="STYLE",e[e.SUB=102]="SUB",e[e.SUMMARY=103]="SUMMARY",e[e.SUP=104]="SUP",e[e.TABLE=105]="TABLE",e[e.TBODY=106]="TBODY",e[e.TEMPLATE=107]="TEMPLATE",e[e.TEXTAREA=108]="TEXTAREA",e[e.TFOOT=109]="TFOOT",e[e.TD=110]="TD",e[e.TH=111]="TH",e[e.THEAD=112]="THEAD",e[e.TITLE=113]="TITLE",e[e.TR=114]="TR",e[e.TRACK=115]="TRACK",e[e.TT=116]="TT",e[e.U=117]="U",e[e.UL=118]="UL",e[e.SVG=119]="SVG",e[e.VAR=120]="VAR",e[e.WBR=121]="WBR",e[e.XMP=122]="XMP"})(v=v||(v={}));const $6e=new Map([[ae.A,v.A],[ae.ADDRESS,v.ADDRESS],[ae.ANNOTATION_XML,v.ANNOTATION_XML],[ae.APPLET,v.APPLET],[ae.AREA,v.AREA],[ae.ARTICLE,v.ARTICLE],[ae.ASIDE,v.ASIDE],[ae.B,v.B],[ae.BASE,v.BASE],[ae.BASEFONT,v.BASEFONT],[ae.BGSOUND,v.BGSOUND],[ae.BIG,v.BIG],[ae.BLOCKQUOTE,v.BLOCKQUOTE],[ae.BODY,v.BODY],[ae.BR,v.BR],[ae.BUTTON,v.BUTTON],[ae.CAPTION,v.CAPTION],[ae.CENTER,v.CENTER],[ae.CODE,v.CODE],[ae.COL,v.COL],[ae.COLGROUP,v.COLGROUP],[ae.DD,v.DD],[ae.DESC,v.DESC],[ae.DETAILS,v.DETAILS],[ae.DIALOG,v.DIALOG],[ae.DIR,v.DIR],[ae.DIV,v.DIV],[ae.DL,v.DL],[ae.DT,v.DT],[ae.EM,v.EM],[ae.EMBED,v.EMBED],[ae.FIELDSET,v.FIELDSET],[ae.FIGCAPTION,v.FIGCAPTION],[ae.FIGURE,v.FIGURE],[ae.FONT,v.FONT],[ae.FOOTER,v.FOOTER],[ae.FOREIGN_OBJECT,v.FOREIGN_OBJECT],[ae.FORM,v.FORM],[ae.FRAME,v.FRAME],[ae.FRAMESET,v.FRAMESET],[ae.H1,v.H1],[ae.H2,v.H2],[ae.H3,v.H3],[ae.H4,v.H4],[ae.H5,v.H5],[ae.H6,v.H6],[ae.HEAD,v.HEAD],[ae.HEADER,v.HEADER],[ae.HGROUP,v.HGROUP],[ae.HR,v.HR],[ae.HTML,v.HTML],[ae.I,v.I],[ae.IMG,v.IMG],[ae.IMAGE,v.IMAGE],[ae.INPUT,v.INPUT],[ae.IFRAME,v.IFRAME],[ae.KEYGEN,v.KEYGEN],[ae.LABEL,v.LABEL],[ae.LI,v.LI],[ae.LINK,v.LINK],[ae.LISTING,v.LISTING],[ae.MAIN,v.MAIN],[ae.MALIGNMARK,v.MALIGNMARK],[ae.MARQUEE,v.MARQUEE],[ae.MATH,v.MATH],[ae.MENU,v.MENU],[ae.META,v.META],[ae.MGLYPH,v.MGLYPH],[ae.MI,v.MI],[ae.MO,v.MO],[ae.MN,v.MN],[ae.MS,v.MS],[ae.MTEXT,v.MTEXT],[ae.NAV,v.NAV],[ae.NOBR,v.NOBR],[ae.NOFRAMES,v.NOFRAMES],[ae.NOEMBED,v.NOEMBED],[ae.NOSCRIPT,v.NOSCRIPT],[ae.OBJECT,v.OBJECT],[ae.OL,v.OL],[ae.OPTGROUP,v.OPTGROUP],[ae.OPTION,v.OPTION],[ae.P,v.P],[ae.PARAM,v.PARAM],[ae.PLAINTEXT,v.PLAINTEXT],[ae.PRE,v.PRE],[ae.RB,v.RB],[ae.RP,v.RP],[ae.RT,v.RT],[ae.RTC,v.RTC],[ae.RUBY,v.RUBY],[ae.S,v.S],[ae.SCRIPT,v.SCRIPT],[ae.SECTION,v.SECTION],[ae.SELECT,v.SELECT],[ae.SOURCE,v.SOURCE],[ae.SMALL,v.SMALL],[ae.SPAN,v.SPAN],[ae.STRIKE,v.STRIKE],[ae.STRONG,v.STRONG],[ae.STYLE,v.STYLE],[ae.SUB,v.SUB],[ae.SUMMARY,v.SUMMARY],[ae.SUP,v.SUP],[ae.TABLE,v.TABLE],[ae.TBODY,v.TBODY],[ae.TEMPLATE,v.TEMPLATE],[ae.TEXTAREA,v.TEXTAREA],[ae.TFOOT,v.TFOOT],[ae.TD,v.TD],[ae.TH,v.TH],[ae.THEAD,v.THEAD],[ae.TITLE,v.TITLE],[ae.TR,v.TR],[ae.TRACK,v.TRACK],[ae.TT,v.TT],[ae.U,v.U],[ae.UL,v.UL],[ae.SVG,v.SVG],[ae.VAR,v.VAR],[ae.WBR,v.WBR],[ae.XMP,v.XMP]]);function zm(e){var t;return(t=$6e.get(e))!==null&&t!==void 0?t:v.UNKNOWN}const Ae=v,L6e={[Ee.HTML]:new Set([Ae.ADDRESS,Ae.APPLET,Ae.AREA,Ae.ARTICLE,Ae.ASIDE,Ae.BASE,Ae.BASEFONT,Ae.BGSOUND,Ae.BLOCKQUOTE,Ae.BODY,Ae.BR,Ae.BUTTON,Ae.CAPTION,Ae.CENTER,Ae.COL,Ae.COLGROUP,Ae.DD,Ae.DETAILS,Ae.DIR,Ae.DIV,Ae.DL,Ae.DT,Ae.EMBED,Ae.FIELDSET,Ae.FIGCAPTION,Ae.FIGURE,Ae.FOOTER,Ae.FORM,Ae.FRAME,Ae.FRAMESET,Ae.H1,Ae.H2,Ae.H3,Ae.H4,Ae.H5,Ae.H6,Ae.HEAD,Ae.HEADER,Ae.HGROUP,Ae.HR,Ae.HTML,Ae.IFRAME,Ae.IMG,Ae.INPUT,Ae.LI,Ae.LINK,Ae.LISTING,Ae.MAIN,Ae.MARQUEE,Ae.MENU,Ae.META,Ae.NAV,Ae.NOEMBED,Ae.NOFRAMES,Ae.NOSCRIPT,Ae.OBJECT,Ae.OL,Ae.P,Ae.PARAM,Ae.PLAINTEXT,Ae.PRE,Ae.SCRIPT,Ae.SECTION,Ae.SELECT,Ae.SOURCE,Ae.STYLE,Ae.SUMMARY,Ae.TABLE,Ae.TBODY,Ae.TD,Ae.TEMPLATE,Ae.TEXTAREA,Ae.TFOOT,Ae.TH,Ae.THEAD,Ae.TITLE,Ae.TR,Ae.TRACK,Ae.UL,Ae.WBR,Ae.XMP]),[Ee.MATHML]:new Set([Ae.MI,Ae.MO,Ae.MN,Ae.MS,Ae.MTEXT,Ae.ANNOTATION_XML]),[Ee.SVG]:new Set([Ae.TITLE,Ae.FOREIGN_OBJECT,Ae.DESC]),[Ee.XLINK]:new Set,[Ee.XML]:new Set,[Ee.XMLNS]:new Set};function tZ(e){return e===Ae.H1||e===Ae.H2||e===Ae.H3||e===Ae.H4||e===Ae.H5||e===Ae.H6}ae.STYLE,ae.SCRIPT,ae.XMP,ae.IFRAME,ae.NOEMBED,ae.NOFRAMES,ae.PLAINTEXT;const M6e=new Map([[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);var F;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.NAMED_CHARACTER_REFERENCE=72]="NAMED_CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=73]="AMBIGUOUS_AMPERSAND",e[e.NUMERIC_CHARACTER_REFERENCE=74]="NUMERIC_CHARACTER_REFERENCE",e[e.HEXADEMICAL_CHARACTER_REFERENCE_START=75]="HEXADEMICAL_CHARACTER_REFERENCE_START",e[e.HEXADEMICAL_CHARACTER_REFERENCE=76]="HEXADEMICAL_CHARACTER_REFERENCE",e[e.DECIMAL_CHARACTER_REFERENCE=77]="DECIMAL_CHARACTER_REFERENCE",e[e.NUMERIC_CHARACTER_REFERENCE_END=78]="NUMERIC_CHARACTER_REFERENCE_END"})(F||(F={}));const Dr={DATA:F.DATA,RCDATA:F.RCDATA,RAWTEXT:F.RAWTEXT,SCRIPT_DATA:F.SCRIPT_DATA,PLAINTEXT:F.PLAINTEXT,CDATA_SECTION:F.CDATA_SECTION};function Lg(e){return e>=D.DIGIT_0&&e<=D.DIGIT_9}function ig(e){return e>=D.LATIN_CAPITAL_A&&e<=D.LATIN_CAPITAL_Z}function F6e(e){return e>=D.LATIN_SMALL_A&&e<=D.LATIN_SMALL_Z}function ic(e){return F6e(e)||ig(e)}function g2(e){return ic(e)||Lg(e)}function nZ(e){return e>=D.LATIN_CAPITAL_A&&e<=D.LATIN_CAPITAL_F}function rZ(e){return e>=D.LATIN_SMALL_A&&e<=D.LATIN_SMALL_F}function B6e(e){return Lg(e)||nZ(e)||rZ(e)}function a1(e){return e+32}function iZ(e){return e===D.SPACE||e===D.LINE_FEED||e===D.TABULATION||e===D.FORM_FEED}function j6e(e){return e===D.EQUALS_SIGN||g2(e)}function WB(e){return iZ(e)||e===D.SOLIDUS||e===D.GREATER_THAN_SIGN}class U6e{constructor(t,n){this.options=t,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=F.DATA,this.returnState=F.DATA,this.charRefCode=-1,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new I6e(n),this.currentLocation=this.getCurrentLocation(-1)}_err(t){var n,r;(r=(n=this.handler).onParseError)===null||r===void 0||r.call(n,this.preprocessor.getError(t))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t==null||t())}write(t,n,r){this.active=!0,this.preprocessor.write(t,n),this._runParsingLoop(),this.paused||r==null||r()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this._unconsume(this.consumedAfterSnapshot),this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_unconsume(t){this.consumedAfterSnapshot-=t,this.preprocessor.retreat(t)}_reconsumeInState(t,n){this.state=t,this._callState(n)}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let n=0;n<t;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,n){return this.preprocessor.startsWith(t,n)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:Ht.START_TAG,tagName:"",tagID:v.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:Ht.END_TAG,tagName:"",tagID:v.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:Ht.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:Ht.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,n){this.currentCharacterToken={type:t,chars:n,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,n;const r=this.currentToken;if(JJ(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const i=(t=(n=r.location).attrs)!==null&&t!==void 0?t:n.attrs=Object.create(null);i[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(ve.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=zm(t.tagName),t.type===Ht.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(ve.endTagWithAttributes),t.selfClosing&&this._err(ve.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case Ht.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case Ht.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case Ht.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:Ht.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type!==t)this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();else{this.currentCharacterToken.chars+=n;return}this._createCharacterToken(t,n)}_emitCodePoint(t){const n=iZ(t)?Ht.WHITESPACE_CHARACTER:t===D.NULL?Ht.NULL_CHARACTER:Ht.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(Ht.CHARACTER,t)}_matchNamedCharacterReference(t){let n=null,r=0,i=!1;for(let s=0,o=rc[0];s>=0&&(s=eZ(rc,o,s+1,t),!(s<0));t=this._consume()){r+=1,o=rc[s];const a=o&su.VALUE_LENGTH;if(a){const u=(a>>14)-1;if(t!==D.SEMICOLON&&this._isCharacterReferenceInAttribute()&&j6e(this.preprocessor.peek(1))?(n=[D.AMPERSAND],s+=u):(n=u===0?[rc[s]&~su.VALUE_LENGTH]:u===1?[rc[++s]]:[rc[++s],rc[++s]],r=0,i=t!==D.SEMICOLON),u===0){this._consume();break}}}return this._unconsume(r),i&&!this.preprocessor.endOfChunkHit&&this._err(ve.missingSemicolonAfterCharacterReference),this._unconsume(1),n}_isCharacterReferenceInAttribute(){return this.returnState===F.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===F.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===F.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case F.DATA:{this._stateData(t);break}case F.RCDATA:{this._stateRcdata(t);break}case F.RAWTEXT:{this._stateRawtext(t);break}case F.SCRIPT_DATA:{this._stateScriptData(t);break}case F.PLAINTEXT:{this._statePlaintext(t);break}case F.TAG_OPEN:{this._stateTagOpen(t);break}case F.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case F.TAG_NAME:{this._stateTagName(t);break}case F.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case F.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case F.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case F.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case F.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case F.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case F.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case F.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case F.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case F.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case F.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case F.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case F.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case F.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case F.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case F.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case F.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case F.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case F.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case F.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case F.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case F.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case F.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case F.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case F.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case F.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case F.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case F.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case F.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case F.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case F.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case F.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case F.BOGUS_COMMENT:{this._stateBogusComment(t);break}case F.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case F.COMMENT_START:{this._stateCommentStart(t);break}case F.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case F.COMMENT:{this._stateComment(t);break}case F.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case F.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case F.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case F.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case F.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case F.COMMENT_END:{this._stateCommentEnd(t);break}case F.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case F.DOCTYPE:{this._stateDoctype(t);break}case F.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case F.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case F.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case F.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case F.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case F.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case F.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case F.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case F.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case F.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case F.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case F.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case F.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case F.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case F.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case F.CDATA_SECTION:{this._stateCdataSection(t);break}case F.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case F.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case F.CHARACTER_REFERENCE:{this._stateCharacterReference(t);break}case F.NAMED_CHARACTER_REFERENCE:{this._stateNamedCharacterReference(t);break}case F.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}case F.NUMERIC_CHARACTER_REFERENCE:{this._stateNumericCharacterReference(t);break}case F.HEXADEMICAL_CHARACTER_REFERENCE_START:{this._stateHexademicalCharacterReferenceStart(t);break}case F.HEXADEMICAL_CHARACTER_REFERENCE:{this._stateHexademicalCharacterReference(t);break}case F.DECIMAL_CHARACTER_REFERENCE:{this._stateDecimalCharacterReference(t);break}case F.NUMERIC_CHARACTER_REFERENCE_END:{this._stateNumericCharacterReferenceEnd(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case D.LESS_THAN_SIGN:{this.state=F.TAG_OPEN;break}case D.AMPERSAND:{this.returnState=F.DATA,this.state=F.CHARACTER_REFERENCE;break}case D.NULL:{this._err(ve.unexpectedNullCharacter),this._emitCodePoint(t);break}case D.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case D.AMPERSAND:{this.returnState=F.RCDATA,this.state=F.CHARACTER_REFERENCE;break}case D.LESS_THAN_SIGN:{this.state=F.RCDATA_LESS_THAN_SIGN;break}case D.NULL:{this._err(ve.unexpectedNullCharacter),this._emitChars(sr);break}case D.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case D.LESS_THAN_SIGN:{this.state=F.RAWTEXT_LESS_THAN_SIGN;break}case D.NULL:{this._err(ve.unexpectedNullCharacter),this._emitChars(sr);break}case D.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case D.LESS_THAN_SIGN:{this.state=F.SCRIPT_DATA_LESS_THAN_SIGN;break}case D.NULL:{this._err(ve.unexpectedNullCharacter),this._emitChars(sr);break}case D.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case D.NULL:{this._err(ve.unexpectedNullCharacter),this._emitChars(sr);break}case D.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(ic(t))this._createStartTagToken(),this.state=F.TAG_NAME,this._stateTagName(t);else switch(t){case D.EXCLAMATION_MARK:{this.state=F.MARKUP_DECLARATION_OPEN;break}case D.SOLIDUS:{this.state=F.END_TAG_OPEN;break}case D.QUESTION_MARK:{this._err(ve.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=F.BOGUS_COMMENT,this._stateBogusComment(t);break}case D.EOF:{this._err(ve.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(ve.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=F.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(ic(t))this._createEndTagToken(),this.state=F.TAG_NAME,this._stateTagName(t);else switch(t){case D.GREATER_THAN_SIGN:{this._err(ve.missingEndTagName),this.state=F.DATA;break}case D.EOF:{this._err(ve.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(ve.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=F.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const n=this.currentToken;switch(t){case D.SPACE:case D.LINE_FEED:case D.TABULATION:case D.FORM_FEED:{this.state=F.BEFORE_ATTRIBUTE_NAME;break}case D.SOLIDUS:{this.state=F.SELF_CLOSING_START_TAG;break}case D.GREATER_THAN_SIGN:{this.state=F.DATA,this.emitCurrentTagToken();break}case D.NULL:{this._err(ve.unexpectedNullCharacter),n.tagName+=sr;break}case D.EOF:{this._err(ve.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(ig(t)?a1(t):t)}}_stateRcdataLessThanSign(t){t===D.SOLIDUS?this.state=F.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=F.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){ic(t)?(this.state=F.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=F.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case D.SPACE:case D.LINE_FEED:case D.TABULATION:case D.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=F.BEFORE_ATTRIBUTE_NAME,!1;case D.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=F.SELF_CLOSING_START_TAG,!1;case D.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=F.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=F.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===D.SOLIDUS?this.state=F.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=F.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){ic(t)?(this.state=F.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=F.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=F.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case D.SOLIDUS:{this.state=F.SCRIPT_DATA_END_TAG_OPEN;break}case D.EXCLAMATION_MARK:{this.state=F.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=F.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){ic(t)?(this.state=F.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=F.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=F.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===D.HYPHEN_MINUS?(this.state=F.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=F.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===D.HYPHEN_MINUS?(this.state=F.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=F.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case D.HYPHEN_MINUS:{this.state=F.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case D.LESS_THAN_SIGN:{this.state=F.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case D.NULL:{this._err(ve.unexpectedNullCharacter),this._emitChars(sr);break}case D.EOF:{this._err(ve.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case D.HYPHEN_MINUS:{this.state=F.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case D.LESS_THAN_SIGN:{this.state=F.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case D.NULL:{this._err(ve.unexpectedNullCharacter),this.state=F.SCRIPT_DATA_ESCAPED,this._emitChars(sr);break}case D.EOF:{this._err(ve.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=F.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case D.HYPHEN_MINUS:{this._emitChars("-");break}case D.LESS_THAN_SIGN:{this.state=F.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case D.GREATER_THAN_SIGN:{this.state=F.SCRIPT_DATA,this._emitChars(">");break}case D.NULL:{this._err(ve.unexpectedNullCharacter),this.state=F.SCRIPT_DATA_ESCAPED,this._emitChars(sr);break}case D.EOF:{this._err(ve.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=F.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===D.SOLIDUS?this.state=F.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:ic(t)?(this._emitChars("<"),this.state=F.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=F.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){ic(t)?(this.state=F.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=F.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=F.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(_s.SCRIPT,!1)&&WB(this.preprocessor.peek(_s.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<_s.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=F.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=F.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case D.HYPHEN_MINUS:{this.state=F.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case D.LESS_THAN_SIGN:{this.state=F.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case D.NULL:{this._err(ve.unexpectedNullCharacter),this._emitChars(sr);break}case D.EOF:{this._err(ve.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case D.HYPHEN_MINUS:{this.state=F.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case D.LESS_THAN_SIGN:{this.state=F.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case D.NULL:{this._err(ve.unexpectedNullCharacter),this.state=F.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(sr);break}case D.EOF:{this._err(ve.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=F.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case D.HYPHEN_MINUS:{this._emitChars("-");break}case D.LESS_THAN_SIGN:{this.state=F.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case D.GREATER_THAN_SIGN:{this.state=F.SCRIPT_DATA,this._emitChars(">");break}case D.NULL:{this._err(ve.unexpectedNullCharacter),this.state=F.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(sr);break}case D.EOF:{this._err(ve.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=F.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===D.SOLIDUS?(this.state=F.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=F.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(_s.SCRIPT,!1)&&WB(this.preprocessor.peek(_s.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<_s.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=F.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=F.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case D.SPACE:case D.LINE_FEED:case D.TABULATION:case D.FORM_FEED:break;case D.SOLIDUS:case D.GREATER_THAN_SIGN:case D.EOF:{this.state=F.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case D.EQUALS_SIGN:{this._err(ve.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=F.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=F.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case D.SPACE:case D.LINE_FEED:case D.TABULATION:case D.FORM_FEED:case D.SOLIDUS:case D.GREATER_THAN_SIGN:case D.EOF:{this._leaveAttrName(),this.state=F.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case D.EQUALS_SIGN:{this._leaveAttrName(),this.state=F.BEFORE_ATTRIBUTE_VALUE;break}case D.QUOTATION_MARK:case D.APOSTROPHE:case D.LESS_THAN_SIGN:{this._err(ve.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case D.NULL:{this._err(ve.unexpectedNullCharacter),this.currentAttr.name+=sr;break}default:this.currentAttr.name+=String.fromCodePoint(ig(t)?a1(t):t)}}_stateAfterAttributeName(t){switch(t){case D.SPACE:case D.LINE_FEED:case D.TABULATION:case D.FORM_FEED:break;case D.SOLIDUS:{this.state=F.SELF_CLOSING_START_TAG;break}case D.EQUALS_SIGN:{this.state=F.BEFORE_ATTRIBUTE_VALUE;break}case D.GREATER_THAN_SIGN:{this.state=F.DATA,this.emitCurrentTagToken();break}case D.EOF:{this._err(ve.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=F.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case D.SPACE:case D.LINE_FEED:case D.TABULATION:case D.FORM_FEED:break;case D.QUOTATION_MARK:{this.state=F.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case D.APOSTROPHE:{this.state=F.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case D.GREATER_THAN_SIGN:{this._err(ve.missingAttributeValue),this.state=F.DATA,this.emitCurrentTagToken();break}default:this.state=F.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case D.QUOTATION_MARK:{this.state=F.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case D.AMPERSAND:{this.returnState=F.ATTRIBUTE_VALUE_DOUBLE_QUOTED,this.state=F.CHARACTER_REFERENCE;break}case D.NULL:{this._err(ve.unexpectedNullCharacter),this.currentAttr.value+=sr;break}case D.EOF:{this._err(ve.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case D.APOSTROPHE:{this.state=F.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case D.AMPERSAND:{this.returnState=F.ATTRIBUTE_VALUE_SINGLE_QUOTED,this.state=F.CHARACTER_REFERENCE;break}case D.NULL:{this._err(ve.unexpectedNullCharacter),this.currentAttr.value+=sr;break}case D.EOF:{this._err(ve.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case D.SPACE:case D.LINE_FEED:case D.TABULATION:case D.FORM_FEED:{this._leaveAttrValue(),this.state=F.BEFORE_ATTRIBUTE_NAME;break}case D.AMPERSAND:{this.returnState=F.ATTRIBUTE_VALUE_UNQUOTED,this.state=F.CHARACTER_REFERENCE;break}case D.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=F.DATA,this.emitCurrentTagToken();break}case D.NULL:{this._err(ve.unexpectedNullCharacter),this.currentAttr.value+=sr;break}case D.QUOTATION_MARK:case D.APOSTROPHE:case D.LESS_THAN_SIGN:case D.EQUALS_SIGN:case D.GRAVE_ACCENT:{this._err(ve.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case D.EOF:{this._err(ve.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case D.SPACE:case D.LINE_FEED:case D.TABULATION:case D.FORM_FEED:{this._leaveAttrValue(),this.state=F.BEFORE_ATTRIBUTE_NAME;break}case D.SOLIDUS:{this._leaveAttrValue(),this.state=F.SELF_CLOSING_START_TAG;break}case D.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=F.DATA,this.emitCurrentTagToken();break}case D.EOF:{this._err(ve.eofInTag),this._emitEOFToken();break}default:this._err(ve.missingWhitespaceBetweenAttributes),this.state=F.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case D.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=F.DATA,this.emitCurrentTagToken();break}case D.EOF:{this._err(ve.eofInTag),this._emitEOFToken();break}default:this._err(ve.unexpectedSolidusInTag),this.state=F.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const n=this.currentToken;switch(t){case D.GREATER_THAN_SIGN:{this.state=F.DATA,this.emitCurrentComment(n);break}case D.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case D.NULL:{this._err(ve.unexpectedNullCharacter),n.data+=sr;break}default:n.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(_s.DASH_DASH,!0)?(this._createCommentToken(_s.DASH_DASH.length+1),this.state=F.COMMENT_START):this._consumeSequenceIfMatch(_s.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(_s.DOCTYPE.length+1),this.state=F.DOCTYPE):this._consumeSequenceIfMatch(_s.CDATA_START,!0)?this.inForeignNode?this.state=F.CDATA_SECTION:(this._err(ve.cdataInHtmlContent),this._createCommentToken(_s.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=F.BOGUS_COMMENT):this._ensureHibernation()||(this._err(ve.incorrectlyOpenedComment),this._createCommentToken(2),this.state=F.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case D.HYPHEN_MINUS:{this.state=F.COMMENT_START_DASH;break}case D.GREATER_THAN_SIGN:{this._err(ve.abruptClosingOfEmptyComment),this.state=F.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=F.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const n=this.currentToken;switch(t){case D.HYPHEN_MINUS:{this.state=F.COMMENT_END;break}case D.GREATER_THAN_SIGN:{this._err(ve.abruptClosingOfEmptyComment),this.state=F.DATA,this.emitCurrentComment(n);break}case D.EOF:{this._err(ve.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=F.COMMENT,this._stateComment(t)}}_stateComment(t){const n=this.currentToken;switch(t){case D.HYPHEN_MINUS:{this.state=F.COMMENT_END_DASH;break}case D.LESS_THAN_SIGN:{n.data+="<",this.state=F.COMMENT_LESS_THAN_SIGN;break}case D.NULL:{this._err(ve.unexpectedNullCharacter),n.data+=sr;break}case D.EOF:{this._err(ve.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const n=this.currentToken;switch(t){case D.EXCLAMATION_MARK:{n.data+="!",this.state=F.COMMENT_LESS_THAN_SIGN_BANG;break}case D.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=F.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===D.HYPHEN_MINUS?this.state=F.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=F.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===D.HYPHEN_MINUS?this.state=F.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=F.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==D.GREATER_THAN_SIGN&&t!==D.EOF&&this._err(ve.nestedComment),this.state=F.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const n=this.currentToken;switch(t){case D.HYPHEN_MINUS:{this.state=F.COMMENT_END;break}case D.EOF:{this._err(ve.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=F.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const n=this.currentToken;switch(t){case D.GREATER_THAN_SIGN:{this.state=F.DATA,this.emitCurrentComment(n);break}case D.EXCLAMATION_MARK:{this.state=F.COMMENT_END_BANG;break}case D.HYPHEN_MINUS:{n.data+="-";break}case D.EOF:{this._err(ve.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=F.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const n=this.currentToken;switch(t){case D.HYPHEN_MINUS:{n.data+="--!",this.state=F.COMMENT_END_DASH;break}case D.GREATER_THAN_SIGN:{this._err(ve.incorrectlyClosedComment),this.state=F.DATA,this.emitCurrentComment(n);break}case D.EOF:{this._err(ve.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=F.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case D.SPACE:case D.LINE_FEED:case D.TABULATION:case D.FORM_FEED:{this.state=F.BEFORE_DOCTYPE_NAME;break}case D.GREATER_THAN_SIGN:{this.state=F.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case D.EOF:{this._err(ve.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ve.missingWhitespaceBeforeDoctypeName),this.state=F.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(ig(t))this._createDoctypeToken(String.fromCharCode(a1(t))),this.state=F.DOCTYPE_NAME;else switch(t){case D.SPACE:case D.LINE_FEED:case D.TABULATION:case D.FORM_FEED:break;case D.NULL:{this._err(ve.unexpectedNullCharacter),this._createDoctypeToken(sr),this.state=F.DOCTYPE_NAME;break}case D.GREATER_THAN_SIGN:{this._err(ve.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=F.DATA;break}case D.EOF:{this._err(ve.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=F.DOCTYPE_NAME}}_stateDoctypeName(t){const n=this.currentToken;switch(t){case D.SPACE:case D.LINE_FEED:case D.TABULATION:case D.FORM_FEED:{this.state=F.AFTER_DOCTYPE_NAME;break}case D.GREATER_THAN_SIGN:{this.state=F.DATA,this.emitCurrentDoctype(n);break}case D.NULL:{this._err(ve.unexpectedNullCharacter),n.name+=sr;break}case D.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(ig(t)?a1(t):t)}}_stateAfterDoctypeName(t){const n=this.currentToken;switch(t){case D.SPACE:case D.LINE_FEED:case D.TABULATION:case D.FORM_FEED:break;case D.GREATER_THAN_SIGN:{this.state=F.DATA,this.emitCurrentDoctype(n);break}case D.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(_s.PUBLIC,!1)?this.state=F.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(_s.SYSTEM,!1)?this.state=F.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(ve.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=F.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const n=this.currentToken;switch(t){case D.SPACE:case D.LINE_FEED:case D.TABULATION:case D.FORM_FEED:{this.state=F.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case D.QUOTATION_MARK:{this._err(ve.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=F.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case D.APOSTROPHE:{this._err(ve.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=F.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case D.GREATER_THAN_SIGN:{this._err(ve.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=F.DATA,this.emitCurrentDoctype(n);break}case D.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ve.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=F.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case D.SPACE:case D.LINE_FEED:case D.TABULATION:case D.FORM_FEED:break;case D.QUOTATION_MARK:{n.publicId="",this.state=F.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case D.APOSTROPHE:{n.publicId="",this.state=F.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case D.GREATER_THAN_SIGN:{this._err(ve.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=F.DATA,this.emitCurrentDoctype(n);break}case D.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ve.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=F.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case D.QUOTATION_MARK:{this.state=F.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case D.NULL:{this._err(ve.unexpectedNullCharacter),n.publicId+=sr;break}case D.GREATER_THAN_SIGN:{this._err(ve.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=F.DATA;break}case D.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case D.APOSTROPHE:{this.state=F.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case D.NULL:{this._err(ve.unexpectedNullCharacter),n.publicId+=sr;break}case D.GREATER_THAN_SIGN:{this._err(ve.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=F.DATA;break}case D.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case D.SPACE:case D.LINE_FEED:case D.TABULATION:case D.FORM_FEED:{this.state=F.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case D.GREATER_THAN_SIGN:{this.state=F.DATA,this.emitCurrentDoctype(n);break}case D.QUOTATION_MARK:{this._err(ve.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=F.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case D.APOSTROPHE:{this._err(ve.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=F.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case D.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ve.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=F.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const n=this.currentToken;switch(t){case D.SPACE:case D.LINE_FEED:case D.TABULATION:case D.FORM_FEED:break;case D.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=F.DATA;break}case D.QUOTATION_MARK:{n.systemId="",this.state=F.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case D.APOSTROPHE:{n.systemId="",this.state=F.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case D.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ve.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=F.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const n=this.currentToken;switch(t){case D.SPACE:case D.LINE_FEED:case D.TABULATION:case D.FORM_FEED:{this.state=F.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case D.QUOTATION_MARK:{this._err(ve.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=F.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case D.APOSTROPHE:{this._err(ve.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=F.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case D.GREATER_THAN_SIGN:{this._err(ve.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=F.DATA,this.emitCurrentDoctype(n);break}case D.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ve.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=F.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case D.SPACE:case D.LINE_FEED:case D.TABULATION:case D.FORM_FEED:break;case D.QUOTATION_MARK:{n.systemId="",this.state=F.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case D.APOSTROPHE:{n.systemId="",this.state=F.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case D.GREATER_THAN_SIGN:{this._err(ve.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=F.DATA,this.emitCurrentDoctype(n);break}case D.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ve.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=F.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case D.QUOTATION_MARK:{this.state=F.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case D.NULL:{this._err(ve.unexpectedNullCharacter),n.systemId+=sr;break}case D.GREATER_THAN_SIGN:{this._err(ve.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=F.DATA;break}case D.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case D.APOSTROPHE:{this.state=F.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case D.NULL:{this._err(ve.unexpectedNullCharacter),n.systemId+=sr;break}case D.GREATER_THAN_SIGN:{this._err(ve.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=F.DATA;break}case D.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case D.SPACE:case D.LINE_FEED:case D.TABULATION:case D.FORM_FEED:break;case D.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=F.DATA;break}case D.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ve.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=F.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const n=this.currentToken;switch(t){case D.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=F.DATA;break}case D.NULL:{this._err(ve.unexpectedNullCharacter);break}case D.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case D.RIGHT_SQUARE_BRACKET:{this.state=F.CDATA_SECTION_BRACKET;break}case D.EOF:{this._err(ve.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===D.RIGHT_SQUARE_BRACKET?this.state=F.CDATA_SECTION_END:(this._emitChars("]"),this.state=F.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case D.GREATER_THAN_SIGN:{this.state=F.DATA;break}case D.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=F.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(t){t===D.NUMBER_SIGN?this.state=F.NUMERIC_CHARACTER_REFERENCE:g2(t)?(this.state=F.NAMED_CHARACTER_REFERENCE,this._stateNamedCharacterReference(t)):(this._flushCodePointConsumedAsCharacterReference(D.AMPERSAND),this._reconsumeInState(this.returnState,t))}_stateNamedCharacterReference(t){const n=this._matchNamedCharacterReference(t);if(!this._ensureHibernation())if(n){for(let r=0;r<n.length;r++)this._flushCodePointConsumedAsCharacterReference(n[r]);this.state=this.returnState}else this._flushCodePointConsumedAsCharacterReference(D.AMPERSAND),this.state=F.AMBIGUOUS_AMPERSAND}_stateAmbiguousAmpersand(t){g2(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===D.SEMICOLON&&this._err(ve.unknownNamedCharacterReference),this._reconsumeInState(this.returnState,t))}_stateNumericCharacterReference(t){this.charRefCode=0,t===D.LATIN_SMALL_X||t===D.LATIN_CAPITAL_X?this.state=F.HEXADEMICAL_CHARACTER_REFERENCE_START:Lg(t)?(this.state=F.DECIMAL_CHARACTER_REFERENCE,this._stateDecimalCharacterReference(t)):(this._err(ve.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(D.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(D.NUMBER_SIGN),this._reconsumeInState(this.returnState,t))}_stateHexademicalCharacterReferenceStart(t){B6e(t)?(this.state=F.HEXADEMICAL_CHARACTER_REFERENCE,this._stateHexademicalCharacterReference(t)):(this._err(ve.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(D.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(D.NUMBER_SIGN),this._unconsume(2),this.state=this.returnState)}_stateHexademicalCharacterReference(t){nZ(t)?this.charRefCode=this.charRefCode*16+t-55:rZ(t)?this.charRefCode=this.charRefCode*16+t-87:Lg(t)?this.charRefCode=this.charRefCode*16+t-48:t===D.SEMICOLON?this.state=F.NUMERIC_CHARACTER_REFERENCE_END:(this._err(ve.missingSemicolonAfterCharacterReference),this.state=F.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(t))}_stateDecimalCharacterReference(t){Lg(t)?this.charRefCode=this.charRefCode*10+t-48:t===D.SEMICOLON?this.state=F.NUMERIC_CHARACTER_REFERENCE_END:(this._err(ve.missingSemicolonAfterCharacterReference),this.state=F.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(t))}_stateNumericCharacterReferenceEnd(t){if(this.charRefCode===D.NULL)this._err(ve.nullCharacterReference),this.charRefCode=D.REPLACEMENT_CHARACTER;else if(this.charRefCode>1114111)this._err(ve.characterReferenceOutsideUnicodeRange),this.charRefCode=D.REPLACEMENT_CHARACTER;else if(KJ(this.charRefCode))this._err(ve.surrogateCharacterReference),this.charRefCode=D.REPLACEMENT_CHARACTER;else if(XJ(this.charRefCode))this._err(ve.noncharacterCharacterReference);else if(QJ(this.charRefCode)||this.charRefCode===D.CARRIAGE_RETURN){this._err(ve.controlCharacterReference);const n=M6e.get(this.charRefCode);n!==void 0&&(this.charRefCode=n)}this._flushCodePointConsumedAsCharacterReference(this.charRefCode),this._reconsumeInState(this.returnState,t)}}const sZ=new Set([v.DD,v.DT,v.LI,v.OPTGROUP,v.OPTION,v.P,v.RB,v.RP,v.RT,v.RTC]),qB=new Set([...sZ,v.CAPTION,v.COLGROUP,v.TBODY,v.TD,v.TFOOT,v.TH,v.THEAD,v.TR]),u1=new Map([[v.APPLET,Ee.HTML],[v.CAPTION,Ee.HTML],[v.HTML,Ee.HTML],[v.MARQUEE,Ee.HTML],[v.OBJECT,Ee.HTML],[v.TABLE,Ee.HTML],[v.TD,Ee.HTML],[v.TEMPLATE,Ee.HTML],[v.TH,Ee.HTML],[v.ANNOTATION_XML,Ee.MATHML],[v.MI,Ee.MATHML],[v.MN,Ee.MATHML],[v.MO,Ee.MATHML],[v.MS,Ee.MATHML],[v.MTEXT,Ee.MATHML],[v.DESC,Ee.SVG],[v.FOREIGN_OBJECT,Ee.SVG],[v.TITLE,Ee.SVG]]),V6e=[v.H1,v.H2,v.H3,v.H4,v.H5,v.H6],z6e=[v.TR,v.TEMPLATE,v.HTML],H6e=[v.TBODY,v.TFOOT,v.THEAD,v.TEMPLATE,v.HTML],W6e=[v.TABLE,v.TEMPLATE,v.HTML],q6e=[v.TD,v.TH];class Y6e{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=v.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===v.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===Ee.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,n){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,n,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,n){const r=this._indexOf(t);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(t,n,r){const i=this._indexOf(t)+1;this.items.splice(i,0,n),this.tagIDs.splice(i,0,r),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(t){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(t,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==Ee.HTML);this.shortenToLength(n<0?0:n)}shortenToLength(t){for(;this.stackTop>=t;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<t)}}popUntilElementPopped(t){const n=this._indexOf(t);this.shortenToLength(n<0?0:n)}popUntilPopped(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r<0?0:r)}popUntilNumberedHeaderPopped(){this.popUntilPopped(V6e,Ee.HTML)}popUntilTableCellPopped(){this.popUntilPopped(q6e,Ee.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,n){for(let r=this.stackTop;r>=0;r--)if(t.includes(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(W6e,Ee.HTML)}clearBackToTableBodyContext(){this.clearBackTo(H6e,Ee.HTML)}clearBackToTableRowContext(){this.clearBackTo(z6e,Ee.HTML)}remove(t){const n=this._indexOf(t);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===v.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const n=this._indexOf(t)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===v.HTML}hasInScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===t&&i===Ee.HTML)return!0;if(u1.get(r)===i)return!1}return!0}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t],r=this.treeAdapter.getNamespaceURI(this.items[t]);if(tZ(n)&&r===Ee.HTML)return!0;if(u1.get(n)===r)return!1}return!0}hasInListItemScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===t&&i===Ee.HTML)return!0;if((r===v.UL||r===v.OL)&&i===Ee.HTML||u1.get(r)===i)return!1}return!0}hasInButtonScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===t&&i===Ee.HTML)return!0;if(r===v.BUTTON&&i===Ee.HTML||u1.get(r)===i)return!1}return!0}hasInTableScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n];if(this.treeAdapter.getNamespaceURI(this.items[n])===Ee.HTML){if(r===t)return!0;if(r===v.TABLE||r===v.TEMPLATE||r===v.HTML)return!1}}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];if(this.treeAdapter.getNamespaceURI(this.items[t])===Ee.HTML){if(n===v.TBODY||n===v.THEAD||n===v.TFOOT)return!0;if(n===v.TABLE||n===v.HTML)return!1}}return!0}hasInSelectScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n];if(this.treeAdapter.getNamespaceURI(this.items[n])===Ee.HTML){if(r===t)return!0;if(r!==v.OPTION&&r!==v.OPTGROUP)return!1}}return!0}generateImpliedEndTags(){for(;sZ.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;qB.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==t&&qB.has(this.currentTagId);)this.pop()}}const _A=3;var ha;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(ha=ha||(ha={}));const YB={type:ha.Marker};class G6e{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,n){const r=[],i=n.length,s=this.treeAdapter.getTagName(t),o=this.treeAdapter.getNamespaceURI(t);for(let a=0;a<this.entries.length;a++){const u=this.entries[a];if(u.type===ha.Marker)break;const{element:l}=u;if(this.treeAdapter.getTagName(l)===s&&this.treeAdapter.getNamespaceURI(l)===o){const c=this.treeAdapter.getAttrList(l);c.length===i&&r.push({idx:a,attrs:c})}}return r}_ensureNoahArkCondition(t){if(this.entries.length<_A)return;const n=this.treeAdapter.getAttrList(t),r=this._getNoahArkConditionCandidates(t,n);if(r.length<_A)return;const i=new Map(n.map(o=>[o.name,o.value]));let s=0;for(let o=0;o<r.length;o++){const a=r[o];a.attrs.every(u=>i.get(u.name)===u.value)&&(s+=1,s>=_A&&this.entries.splice(a.idx,1))}}insertMarker(){this.entries.unshift(YB)}pushElement(t,n){this._ensureNoahArkCondition(t),this.entries.unshift({type:ha.Element,element:t,token:n})}insertElementAfterBookmark(t,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:ha.Element,element:t,token:n})}removeEntry(t){const n=this.entries.indexOf(t);n>=0&&this.entries.splice(n,1)}clearToLastMarker(){const t=this.entries.indexOf(YB);t>=0?this.entries.splice(0,t+1):this.entries.length=0}getElementEntryInScopeWithTagName(t){const n=this.entries.find(r=>r.type===ha.Marker||this.treeAdapter.getTagName(r.element)===t);return n&&n.type===ha.Element?n:null}getElementEntry(t){return this.entries.find(n=>n.type===ha.Element&&n.element===t)}}function GB(e){return{nodeName:"#text",value:e,parentNode:null}}const Ph={createDocument(){return{nodeName:"#document",mode:eo.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,n,r){const i=e.childNodes.find(s=>s.nodeName==="#documentType");if(i)i.name=t,i.publicId=n,i.systemId=r;else{const s={nodeName:"#documentType",name:t,publicId:n,systemId:r,parentNode:null};Ph.appendChild(e,s)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(Ph.isTextNode(n)){n.value+=t;return}}Ph.appendChild(e,GB(t))},insertTextBefore(e,t,n){const r=e.childNodes[e.childNodes.indexOf(n)-1];r&&Ph.isTextNode(r)?r.value+=t:Ph.insertBefore(e,GB(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map(r=>r.name));for(let r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},oZ="html",K6e="about:legacy-compat",Q6e="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",aZ=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],X6e=[...aZ,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],J6e=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),uZ=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],Z6e=[...uZ,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function KB(e,t){return t.some(n=>e.startsWith(n))}function eLe(e){return e.name===oZ&&e.publicId===null&&(e.systemId===null||e.systemId===K6e)}function tLe(e){if(e.name!==oZ)return eo.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===Q6e)return eo.QUIRKS;let{publicId:n}=e;if(n!==null){if(n=n.toLowerCase(),J6e.has(n))return eo.QUIRKS;let r=t===null?X6e:aZ;if(KB(n,r))return eo.QUIRKS;if(r=t===null?uZ:Z6e,KB(n,r))return eo.LIMITED_QUIRKS}return eo.NO_QUIRKS}const QB={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},nLe="definitionurl",rLe="definitionURL",iLe=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),sLe=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:Ee.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:Ee.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:Ee.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:Ee.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:Ee.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:Ee.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:Ee.XLINK}],["xml:base",{prefix:"xml",name:"base",namespace:Ee.XML}],["xml:lang",{prefix:"xml",name:"lang",namespace:Ee.XML}],["xml:space",{prefix:"xml",name:"space",namespace:Ee.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:Ee.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:Ee.XMLNS}]]),oLe=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),aLe=new Set([v.B,v.BIG,v.BLOCKQUOTE,v.BODY,v.BR,v.CENTER,v.CODE,v.DD,v.DIV,v.DL,v.DT,v.EM,v.EMBED,v.H1,v.H2,v.H3,v.H4,v.H5,v.H6,v.HEAD,v.HR,v.I,v.IMG,v.LI,v.LISTING,v.MENU,v.META,v.NOBR,v.OL,v.P,v.PRE,v.RUBY,v.S,v.SMALL,v.SPAN,v.STRONG,v.STRIKE,v.SUB,v.SUP,v.TABLE,v.TT,v.U,v.UL,v.VAR]);function uLe(e){const t=e.tagID;return t===v.FONT&&e.attrs.some(({name:r})=>r===Vc.COLOR||r===Vc.SIZE||r===Vc.FACE)||aLe.has(t)}function lZ(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===nLe){e.attrs[t].name=rLe;break}}function cZ(e){for(let t=0;t<e.attrs.length;t++){const n=iLe.get(e.attrs[t].name);n!=null&&(e.attrs[t].name=n)}}function VD(e){for(let t=0;t<e.attrs.length;t++){const n=sLe.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function lLe(e){const t=oLe.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=zm(e.tagName))}function cLe(e,t){return t===Ee.MATHML&&(e===v.MI||e===v.MO||e===v.MN||e===v.MS||e===v.MTEXT)}function fLe(e,t,n){if(t===Ee.MATHML&&e===v.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===Vc.ENCODING){const i=n[r].value.toLowerCase();return i===QB.TEXT_HTML||i===QB.APPLICATION_XML}}return t===Ee.SVG&&(e===v.FOREIGN_OBJECT||e===v.DESC||e===v.TITLE)}function dLe(e,t,n,r){return(!r||r===Ee.HTML)&&fLe(e,t,n)||(!r||r===Ee.MATHML)&&cLe(e,t)}const hLe="hidden",pLe=8,mLe=3;var q;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(q||(q={}));const gLe={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},fZ=new Set([v.TABLE,v.TBODY,v.TFOOT,v.THEAD,v.TR]),XB={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:Ph,onParseError:null};let JB=class{constructor(t,n,r=null,i=null){this.fragmentContext=r,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=q.INITIAL,this.originalInsertionMode=q.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...XB,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new U6e(this.options,this),this.activeFormattingElements=new G6e(this.treeAdapter),this.fragmentContextID=r?zm(this.treeAdapter.getTagName(r)):v.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new Y6e(this.document,this.treeAdapter,this)}static parse(t,n){const r=new this(n);return r.tokenizer.write(t,!0),r.document}static getFragmentParser(t,n){const r={...XB,...n};t??(t=r.treeAdapter.createElement(ae.TEMPLATE,Ee.HTML,[]));const i=r.treeAdapter.createElement("documentmock",Ee.HTML,[]),s=new this(r,i,t);return s.fragmentContextID===v.TEMPLATE&&s.tmplInsertionModeStack.unshift(q.IN_TEMPLATE),s._initTokenizerForFragmentParsing(),s._insertFakeRootElement(),s._resetInsertionMode(),s._findFormInFragmentContext(),s}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,n),n}_err(t,n,r){var i;if(!this.onParseError)return;const s=(i=t.location)!==null&&i!==void 0?i:gLe,o={code:n,startLine:s.startLine,startCol:s.startCol,startOffset:s.startOffset,endLine:r?s.startLine:s.endLine,endCol:r?s.startCol:s.endCol,endOffset:r?s.startOffset:s.endOffset};this.onParseError(o)}onItemPush(t,n,r){var i,s;(s=(i=this.treeAdapter).onItemPush)===null||s===void 0||s.call(i,t),r&&this.openElements.stackTop>0&&this._setContextModes(t,n)}onItemPop(t,n){var r,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(i=(r=this.treeAdapter).onItemPop)===null||i===void 0||i.call(r,t,this.openElements.current),n){let s,o;this.openElements.stackTop===0&&this.fragmentContext?(s=this.fragmentContext,o=this.fragmentContextID):{current:s,currentTagId:o}=this.openElements,this._setContextModes(s,o)}}_setContextModes(t,n){const r=t===this.document||this.treeAdapter.getNamespaceURI(t)===Ee.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&!this._isIntegrationPoint(n,t)}_switchToTextParsing(t,n){this._insertElement(t,Ee.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=q.TEXT}switchToPlaintextParsing(){this.insertionMode=q.TEXT,this.originalInsertionMode=q.IN_BODY,this.tokenizer.state=Dr.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===ae.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==Ee.HTML))switch(this.fragmentContextID){case v.TITLE:case v.TEXTAREA:{this.tokenizer.state=Dr.RCDATA;break}case v.STYLE:case v.XMP:case v.IFRAME:case v.NOEMBED:case v.NOFRAMES:case v.NOSCRIPT:{this.tokenizer.state=Dr.RAWTEXT;break}case v.SCRIPT:{this.tokenizer.state=Dr.SCRIPT_DATA;break}case v.PLAINTEXT:{this.tokenizer.state=Dr.PLAINTEXT;break}}}_setDocumentType(t){const n=t.name||"",r=t.publicId||"",i=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,i),t.location){const o=this.treeAdapter.getChildNodes(this.document).find(a=>this.treeAdapter.isDocumentTypeNode(a));o&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}}_attachElementToTree(t,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(t,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r,t)}}_appendElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location)}_insertElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID)}_insertFakeElement(t,n){const r=this.treeAdapter.createElement(t,Ee.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(t){const n=this.treeAdapter.createElement(t.tagName,Ee.HTML,t.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(ae.HTML,Ee.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,v.HTML)}_appendCommentNode(t,n){const r=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location)}_insertCharacters(t){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,t.chars,r):this.treeAdapter.insertText(n,t.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,t.chars)),!t.location)return;const i=this.treeAdapter.getChildNodes(n),s=r?i.lastIndexOf(r):i.length,o=i[s-1];if(this.treeAdapter.getNodeSourceCodeLocation(o)){const{endLine:u,endCol:l,endOffset:c}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(o,{endLine:u,endCol:l,endOffset:c})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}_adoptNodes(t,n){for(let r=this.treeAdapter.getFirstChild(t);r;r=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(t,n){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&n.location){const r=n.location,i=this.treeAdapter.getTagName(t),s=n.type===Ht.END_TAG&&i===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,s)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,t.tagID===v.SVG&&this.treeAdapter.getTagName(n)===ae.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===Ee.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===v.MGLYPH||t.tagID===v.MALIGNMARK)&&!this._isIntegrationPoint(r,n,Ee.HTML)}_processToken(t){switch(t.type){case Ht.CHARACTER:{this.onCharacter(t);break}case Ht.NULL_CHARACTER:{this.onNullCharacter(t);break}case Ht.COMMENT:{this.onComment(t);break}case Ht.DOCTYPE:{this.onDoctype(t);break}case Ht.START_TAG:{this._processStartTag(t);break}case Ht.END_TAG:{this.onEndTag(t);break}case Ht.EOF:{this.onEof(t);break}case Ht.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,n,r){const i=this.treeAdapter.getNamespaceURI(n),s=this.treeAdapter.getAttrList(n);return dLe(t,i,s,r)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const n=this.activeFormattingElements.entries.findIndex(i=>i.type===ha.Marker||this.openElements.contains(i.element)),r=n<0?t-1:n-1;for(let i=r;i>=0;i--){const s=this.activeFormattingElements.entries[i];this._insertElement(s.token,this.treeAdapter.getNamespaceURI(s.element)),s.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=q.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(v.P),this.openElements.popUntilTagNamePopped(v.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case v.TR:{this.insertionMode=q.IN_ROW;return}case v.TBODY:case v.THEAD:case v.TFOOT:{this.insertionMode=q.IN_TABLE_BODY;return}case v.CAPTION:{this.insertionMode=q.IN_CAPTION;return}case v.COLGROUP:{this.insertionMode=q.IN_COLUMN_GROUP;return}case v.TABLE:{this.insertionMode=q.IN_TABLE;return}case v.BODY:{this.insertionMode=q.IN_BODY;return}case v.FRAMESET:{this.insertionMode=q.IN_FRAMESET;return}case v.SELECT:{this._resetInsertionModeForSelect(t);return}case v.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case v.HTML:{this.insertionMode=this.headElement?q.AFTER_HEAD:q.BEFORE_HEAD;return}case v.TD:case v.TH:{if(t>0){this.insertionMode=q.IN_CELL;return}break}case v.HEAD:{if(t>0){this.insertionMode=q.IN_HEAD;return}break}}this.insertionMode=q.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let n=t-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===v.TEMPLATE)break;if(r===v.TABLE){this.insertionMode=q.IN_SELECT_IN_TABLE;return}}this.insertionMode=q.IN_SELECT}_isElementCausesFosterParenting(t){return fZ.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const n=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case v.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===Ee.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case v.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,t,n.beforeElement):this.treeAdapter.appendChild(n.parent,t)}_isSpecialElement(t,n){const r=this.treeAdapter.getNamespaceURI(t);return L6e[r].has(n)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){qMe(this,t);return}switch(this.insertionMode){case q.INITIAL:{k0(this,t);break}case q.BEFORE_HTML:{Mg(this,t);break}case q.BEFORE_HEAD:{Fg(this,t);break}case q.IN_HEAD:{Bg(this,t);break}case q.IN_HEAD_NO_SCRIPT:{jg(this,t);break}case q.AFTER_HEAD:{Ug(this,t);break}case q.IN_BODY:case q.IN_CAPTION:case q.IN_CELL:case q.IN_TEMPLATE:{hZ(this,t);break}case q.TEXT:case q.IN_SELECT:case q.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case q.IN_TABLE:case q.IN_TABLE_BODY:case q.IN_ROW:{vA(this,t);break}case q.IN_TABLE_TEXT:{vZ(this,t);break}case q.IN_COLUMN_GROUP:{Yw(this,t);break}case q.AFTER_BODY:{Gw(this,t);break}case q.AFTER_AFTER_BODY:{ab(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){WMe(this,t);return}switch(this.insertionMode){case q.INITIAL:{k0(this,t);break}case q.BEFORE_HTML:{Mg(this,t);break}case q.BEFORE_HEAD:{Fg(this,t);break}case q.IN_HEAD:{Bg(this,t);break}case q.IN_HEAD_NO_SCRIPT:{jg(this,t);break}case q.AFTER_HEAD:{Ug(this,t);break}case q.TEXT:{this._insertCharacters(t);break}case q.IN_TABLE:case q.IN_TABLE_BODY:case q.IN_ROW:{vA(this,t);break}case q.IN_COLUMN_GROUP:{Yw(this,t);break}case q.AFTER_BODY:{Gw(this,t);break}case q.AFTER_AFTER_BODY:{ab(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){y2(this,t);return}switch(this.insertionMode){case q.INITIAL:case q.BEFORE_HTML:case q.BEFORE_HEAD:case q.IN_HEAD:case q.IN_HEAD_NO_SCRIPT:case q.AFTER_HEAD:case q.IN_BODY:case q.IN_TABLE:case q.IN_CAPTION:case q.IN_COLUMN_GROUP:case q.IN_TABLE_BODY:case q.IN_ROW:case q.IN_CELL:case q.IN_SELECT:case q.IN_SELECT_IN_TABLE:case q.IN_TEMPLATE:case q.IN_FRAMESET:case q.AFTER_FRAMESET:{y2(this,t);break}case q.IN_TABLE_TEXT:{D0(this,t);break}case q.AFTER_BODY:{TLe(this,t);break}case q.AFTER_AFTER_BODY:case q.AFTER_AFTER_FRAMESET:{SLe(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case q.INITIAL:{ILe(this,t);break}case q.BEFORE_HEAD:case q.IN_HEAD:case q.IN_HEAD_NO_SCRIPT:case q.AFTER_HEAD:{this._err(t,ve.misplacedDoctype);break}case q.IN_TABLE_TEXT:{D0(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,ve.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?YMe(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case q.INITIAL:{k0(this,t);break}case q.BEFORE_HTML:{xLe(this,t);break}case q.BEFORE_HEAD:{ALe(this,t);break}case q.IN_HEAD:{Na(this,t);break}case q.IN_HEAD_NO_SCRIPT:{RLe(this,t);break}case q.AFTER_HEAD:{kLe(this,t);break}case q.IN_BODY:{rs(this,t);break}case q.IN_TABLE:{tm(this,t);break}case q.IN_TABLE_TEXT:{D0(this,t);break}case q.IN_CAPTION:{OMe(this,t);break}case q.IN_COLUMN_GROUP:{WD(this,t);break}case q.IN_TABLE_BODY:{AI(this,t);break}case q.IN_ROW:{OI(this,t);break}case q.IN_CELL:{NMe(this,t);break}case q.IN_SELECT:{wZ(this,t);break}case q.IN_SELECT_IN_TABLE:{DMe(this,t);break}case q.IN_TEMPLATE:{LMe(this,t);break}case q.AFTER_BODY:{FMe(this,t);break}case q.IN_FRAMESET:{BMe(this,t);break}case q.AFTER_FRAMESET:{UMe(this,t);break}case q.AFTER_AFTER_BODY:{zMe(this,t);break}case q.AFTER_AFTER_FRAMESET:{HMe(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?GMe(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case q.INITIAL:{k0(this,t);break}case q.BEFORE_HTML:{CLe(this,t);break}case q.BEFORE_HEAD:{OLe(this,t);break}case q.IN_HEAD:{PLe(this,t);break}case q.IN_HEAD_NO_SCRIPT:{NLe(this,t);break}case q.AFTER_HEAD:{DLe(this,t);break}case q.IN_BODY:{CI(this,t);break}case q.TEXT:{vMe(this,t);break}case q.IN_TABLE:{Ay(this,t);break}case q.IN_TABLE_TEXT:{D0(this,t);break}case q.IN_CAPTION:{PMe(this,t);break}case q.IN_COLUMN_GROUP:{RMe(this,t);break}case q.IN_TABLE_BODY:{_2(this,t);break}case q.IN_ROW:{EZ(this,t);break}case q.IN_CELL:{kMe(this,t);break}case q.IN_SELECT:{TZ(this,t);break}case q.IN_SELECT_IN_TABLE:{$Me(this,t);break}case q.IN_TEMPLATE:{MMe(this,t);break}case q.AFTER_BODY:{IZ(this,t);break}case q.IN_FRAMESET:{jMe(this,t);break}case q.AFTER_FRAMESET:{VMe(this,t);break}case q.AFTER_AFTER_BODY:{ab(this,t);break}}}onEof(t){switch(this.insertionMode){case q.INITIAL:{k0(this,t);break}case q.BEFORE_HTML:{Mg(this,t);break}case q.BEFORE_HEAD:{Fg(this,t);break}case q.IN_HEAD:{Bg(this,t);break}case q.IN_HEAD_NO_SCRIPT:{jg(this,t);break}case q.AFTER_HEAD:{Ug(this,t);break}case q.IN_BODY:case q.IN_TABLE:case q.IN_CAPTION:case q.IN_COLUMN_GROUP:case q.IN_TABLE_BODY:case q.IN_ROW:case q.IN_CELL:case q.IN_SELECT:case q.IN_SELECT_IN_TABLE:{yZ(this,t);break}case q.TEXT:{bMe(this,t);break}case q.IN_TABLE_TEXT:{D0(this,t);break}case q.IN_TEMPLATE:{SZ(this,t);break}case q.AFTER_BODY:case q.IN_FRAMESET:case q.AFTER_FRAMESET:case q.AFTER_AFTER_BODY:case q.AFTER_AFTER_FRAMESET:{HD(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===D.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case q.IN_HEAD:case q.IN_HEAD_NO_SCRIPT:case q.AFTER_HEAD:case q.TEXT:case q.IN_COLUMN_GROUP:case q.IN_SELECT:case q.IN_SELECT_IN_TABLE:case q.IN_FRAMESET:case q.AFTER_FRAMESET:{this._insertCharacters(t);break}case q.IN_BODY:case q.IN_CAPTION:case q.IN_CELL:case q.IN_TEMPLATE:case q.AFTER_BODY:case q.AFTER_AFTER_BODY:case q.AFTER_AFTER_FRAMESET:{dZ(this,t);break}case q.IN_TABLE:case q.IN_TABLE_BODY:case q.IN_ROW:{vA(this,t);break}case q.IN_TABLE_TEXT:{_Z(this,t);break}}}};function yLe(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):gZ(e,t),n}function _Le(e,t){let n=null,r=e.openElements.stackTop;for(;r>=0;r--){const i=e.openElements.items[r];if(i===t.element)break;e._isSpecialElement(i,e.openElements.tagIDs[r])&&(n=i)}return n||(e.openElements.shortenToLength(r<0?0:r),e.activeFormattingElements.removeEntry(t)),n}function vLe(e,t,n){let r=t,i=e.openElements.getCommonAncestor(t);for(let s=0,o=i;o!==n;s++,o=i){i=e.openElements.getCommonAncestor(o);const a=e.activeFormattingElements.getElementEntry(o),u=a&&s>=mLe;!a||u?(u&&e.activeFormattingElements.removeEntry(a),e.openElements.remove(o)):(o=bLe(e,a),r===t&&(e.activeFormattingElements.bookmark=a),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(o,r),r=o)}return r}function bLe(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function ELe(e,t,n){const r=e.treeAdapter.getTagName(t),i=zm(r);if(e._isElementCausesFosterParenting(i))e._fosterParentElement(n);else{const s=e.treeAdapter.getNamespaceURI(t);i===v.TEMPLATE&&s===Ee.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function wLe(e,t,n){const r=e.treeAdapter.getNamespaceURI(n.element),{token:i}=n,s=e.treeAdapter.createElement(i.tagName,r,i.attrs);e._adoptNodes(t,s),e.treeAdapter.appendChild(t,s),e.activeFormattingElements.insertElementAfterBookmark(s,i),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,s,i.tagID)}function zD(e,t){for(let n=0;n<pLe;n++){const r=yLe(e,t);if(!r)break;const i=_Le(e,r);if(!i)break;e.activeFormattingElements.bookmark=r;const s=vLe(e,i,r.element),o=e.openElements.getCommonAncestor(r.element);e.treeAdapter.detachNode(s),o&&ELe(e,o,s),wLe(e,i,r)}}function y2(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function TLe(e,t){e._appendCommentNode(t,e.openElements.items[0])}function SLe(e,t){e._appendCommentNode(t,e.document)}function HD(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const r=e.openElements.items[0],i=e.treeAdapter.getNodeSourceCodeLocation(r);if(i&&!i.endTag&&(e._setEndLocation(r,t),e.openElements.stackTop>=1)){const s=e.openElements.items[1],o=e.treeAdapter.getNodeSourceCodeLocation(s);o&&!o.endTag&&e._setEndLocation(s,t)}}}}function ILe(e,t){e._setDocumentType(t);const n=t.forceQuirks?eo.QUIRKS:tLe(t);eLe(t)||e._err(t,ve.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=q.BEFORE_HTML}function k0(e,t){e._err(t,ve.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,eo.QUIRKS),e.insertionMode=q.BEFORE_HTML,e._processToken(t)}function xLe(e,t){t.tagID===v.HTML?(e._insertElement(t,Ee.HTML),e.insertionMode=q.BEFORE_HEAD):Mg(e,t)}function CLe(e,t){const n=t.tagID;(n===v.HTML||n===v.HEAD||n===v.BODY||n===v.BR)&&Mg(e,t)}function Mg(e,t){e._insertFakeRootElement(),e.insertionMode=q.BEFORE_HEAD,e._processToken(t)}function ALe(e,t){switch(t.tagID){case v.HTML:{rs(e,t);break}case v.HEAD:{e._insertElement(t,Ee.HTML),e.headElement=e.openElements.current,e.insertionMode=q.IN_HEAD;break}default:Fg(e,t)}}function OLe(e,t){const n=t.tagID;n===v.HEAD||n===v.BODY||n===v.HTML||n===v.BR?Fg(e,t):e._err(t,ve.endTagWithoutMatchingOpenElement)}function Fg(e,t){e._insertFakeElement(ae.HEAD,v.HEAD),e.headElement=e.openElements.current,e.insertionMode=q.IN_HEAD,e._processToken(t)}function Na(e,t){switch(t.tagID){case v.HTML:{rs(e,t);break}case v.BASE:case v.BASEFONT:case v.BGSOUND:case v.LINK:case v.META:{e._appendElement(t,Ee.HTML),t.ackSelfClosing=!0;break}case v.TITLE:{e._switchToTextParsing(t,Dr.RCDATA);break}case v.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,Dr.RAWTEXT):(e._insertElement(t,Ee.HTML),e.insertionMode=q.IN_HEAD_NO_SCRIPT);break}case v.NOFRAMES:case v.STYLE:{e._switchToTextParsing(t,Dr.RAWTEXT);break}case v.SCRIPT:{e._switchToTextParsing(t,Dr.SCRIPT_DATA);break}case v.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=q.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(q.IN_TEMPLATE);break}case v.HEAD:{e._err(t,ve.misplacedStartTagForHeadElement);break}default:Bg(e,t)}}function PLe(e,t){switch(t.tagID){case v.HEAD:{e.openElements.pop(),e.insertionMode=q.AFTER_HEAD;break}case v.BODY:case v.BR:case v.HTML:{Bg(e,t);break}case v.TEMPLATE:{nh(e,t);break}default:e._err(t,ve.endTagWithoutMatchingOpenElement)}}function nh(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==v.TEMPLATE&&e._err(t,ve.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(v.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,ve.endTagWithoutMatchingOpenElement)}function Bg(e,t){e.openElements.pop(),e.insertionMode=q.AFTER_HEAD,e._processToken(t)}function RLe(e,t){switch(t.tagID){case v.HTML:{rs(e,t);break}case v.BASEFONT:case v.BGSOUND:case v.HEAD:case v.LINK:case v.META:case v.NOFRAMES:case v.STYLE:{Na(e,t);break}case v.NOSCRIPT:{e._err(t,ve.nestedNoscriptInHead);break}default:jg(e,t)}}function NLe(e,t){switch(t.tagID){case v.NOSCRIPT:{e.openElements.pop(),e.insertionMode=q.IN_HEAD;break}case v.BR:{jg(e,t);break}default:e._err(t,ve.endTagWithoutMatchingOpenElement)}}function jg(e,t){const n=t.type===Ht.EOF?ve.openElementsLeftAfterEof:ve.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=q.IN_HEAD,e._processToken(t)}function kLe(e,t){switch(t.tagID){case v.HTML:{rs(e,t);break}case v.BODY:{e._insertElement(t,Ee.HTML),e.framesetOk=!1,e.insertionMode=q.IN_BODY;break}case v.FRAMESET:{e._insertElement(t,Ee.HTML),e.insertionMode=q.IN_FRAMESET;break}case v.BASE:case v.BASEFONT:case v.BGSOUND:case v.LINK:case v.META:case v.NOFRAMES:case v.SCRIPT:case v.STYLE:case v.TEMPLATE:case v.TITLE:{e._err(t,ve.abandonedHeadElementChild),e.openElements.push(e.headElement,v.HEAD),Na(e,t),e.openElements.remove(e.headElement);break}case v.HEAD:{e._err(t,ve.misplacedStartTagForHeadElement);break}default:Ug(e,t)}}function DLe(e,t){switch(t.tagID){case v.BODY:case v.HTML:case v.BR:{Ug(e,t);break}case v.TEMPLATE:{nh(e,t);break}default:e._err(t,ve.endTagWithoutMatchingOpenElement)}}function Ug(e,t){e._insertFakeElement(ae.BODY,v.BODY),e.insertionMode=q.IN_BODY,xI(e,t)}function xI(e,t){switch(t.type){case Ht.CHARACTER:{hZ(e,t);break}case Ht.WHITESPACE_CHARACTER:{dZ(e,t);break}case Ht.COMMENT:{y2(e,t);break}case Ht.START_TAG:{rs(e,t);break}case Ht.END_TAG:{CI(e,t);break}case Ht.EOF:{yZ(e,t);break}}}function dZ(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function hZ(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function $Le(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function LLe(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}function MLe(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,Ee.HTML),e.insertionMode=q.IN_FRAMESET)}function FLe(e,t){e.openElements.hasInButtonScope(v.P)&&e._closePElement(),e._insertElement(t,Ee.HTML)}function BLe(e,t){e.openElements.hasInButtonScope(v.P)&&e._closePElement(),tZ(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,Ee.HTML)}function jLe(e,t){e.openElements.hasInButtonScope(v.P)&&e._closePElement(),e._insertElement(t,Ee.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function ULe(e,t){const n=e.openElements.tmplCount>0;(!e.formElement||n)&&(e.openElements.hasInButtonScope(v.P)&&e._closePElement(),e._insertElement(t,Ee.HTML),n||(e.formElement=e.openElements.current))}function VLe(e,t){e.framesetOk=!1;const n=t.tagID;for(let r=e.openElements.stackTop;r>=0;r--){const i=e.openElements.tagIDs[r];if(n===v.LI&&i===v.LI||(n===v.DD||n===v.DT)&&(i===v.DD||i===v.DT)){e.openElements.generateImpliedEndTagsWithExclusion(i),e.openElements.popUntilTagNamePopped(i);break}if(i!==v.ADDRESS&&i!==v.DIV&&i!==v.P&&e._isSpecialElement(e.openElements.items[r],i))break}e.openElements.hasInButtonScope(v.P)&&e._closePElement(),e._insertElement(t,Ee.HTML)}function zLe(e,t){e.openElements.hasInButtonScope(v.P)&&e._closePElement(),e._insertElement(t,Ee.HTML),e.tokenizer.state=Dr.PLAINTEXT}function HLe(e,t){e.openElements.hasInScope(v.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(v.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,Ee.HTML),e.framesetOk=!1}function WLe(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(ae.A);n&&(zD(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,Ee.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function qLe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Ee.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function YLe(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(v.NOBR)&&(zD(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,Ee.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function GLe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Ee.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function KLe(e,t){e.treeAdapter.getDocumentMode(e.document)!==eo.QUIRKS&&e.openElements.hasInButtonScope(v.P)&&e._closePElement(),e._insertElement(t,Ee.HTML),e.framesetOk=!1,e.insertionMode=q.IN_TABLE}function pZ(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,Ee.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function mZ(e){const t=JJ(e,Vc.TYPE);return t!=null&&t.toLowerCase()===hLe}function QLe(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,Ee.HTML),mZ(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function XLe(e,t){e._appendElement(t,Ee.HTML),t.ackSelfClosing=!0}function JLe(e,t){e.openElements.hasInButtonScope(v.P)&&e._closePElement(),e._appendElement(t,Ee.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function ZLe(e,t){t.tagName=ae.IMG,t.tagID=v.IMG,pZ(e,t)}function eMe(e,t){e._insertElement(t,Ee.HTML),e.skipNextNewLine=!0,e.tokenizer.state=Dr.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=q.TEXT}function tMe(e,t){e.openElements.hasInButtonScope(v.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,Dr.RAWTEXT)}function nMe(e,t){e.framesetOk=!1,e._switchToTextParsing(t,Dr.RAWTEXT)}function ZB(e,t){e._switchToTextParsing(t,Dr.RAWTEXT)}function rMe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Ee.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===q.IN_TABLE||e.insertionMode===q.IN_CAPTION||e.insertionMode===q.IN_TABLE_BODY||e.insertionMode===q.IN_ROW||e.insertionMode===q.IN_CELL?q.IN_SELECT_IN_TABLE:q.IN_SELECT}function iMe(e,t){e.openElements.currentTagId===v.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,Ee.HTML)}function sMe(e,t){e.openElements.hasInScope(v.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,Ee.HTML)}function oMe(e,t){e.openElements.hasInScope(v.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(v.RTC),e._insertElement(t,Ee.HTML)}function aMe(e,t){e._reconstructActiveFormattingElements(),lZ(t),VD(t),t.selfClosing?e._appendElement(t,Ee.MATHML):e._insertElement(t,Ee.MATHML),t.ackSelfClosing=!0}function uMe(e,t){e._reconstructActiveFormattingElements(),cZ(t),VD(t),t.selfClosing?e._appendElement(t,Ee.SVG):e._insertElement(t,Ee.SVG),t.ackSelfClosing=!0}function ej(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Ee.HTML)}function rs(e,t){switch(t.tagID){case v.I:case v.S:case v.B:case v.U:case v.EM:case v.TT:case v.BIG:case v.CODE:case v.FONT:case v.SMALL:case v.STRIKE:case v.STRONG:{qLe(e,t);break}case v.A:{WLe(e,t);break}case v.H1:case v.H2:case v.H3:case v.H4:case v.H5:case v.H6:{BLe(e,t);break}case v.P:case v.DL:case v.OL:case v.UL:case v.DIV:case v.DIR:case v.NAV:case v.MAIN:case v.MENU:case v.ASIDE:case v.CENTER:case v.FIGURE:case v.FOOTER:case v.HEADER:case v.HGROUP:case v.DIALOG:case v.DETAILS:case v.ADDRESS:case v.ARTICLE:case v.SECTION:case v.SUMMARY:case v.FIELDSET:case v.BLOCKQUOTE:case v.FIGCAPTION:{FLe(e,t);break}case v.LI:case v.DD:case v.DT:{VLe(e,t);break}case v.BR:case v.IMG:case v.WBR:case v.AREA:case v.EMBED:case v.KEYGEN:{pZ(e,t);break}case v.HR:{JLe(e,t);break}case v.RB:case v.RTC:{sMe(e,t);break}case v.RT:case v.RP:{oMe(e,t);break}case v.PRE:case v.LISTING:{jLe(e,t);break}case v.XMP:{tMe(e,t);break}case v.SVG:{uMe(e,t);break}case v.HTML:{$Le(e,t);break}case v.BASE:case v.LINK:case v.META:case v.STYLE:case v.TITLE:case v.SCRIPT:case v.BGSOUND:case v.BASEFONT:case v.TEMPLATE:{Na(e,t);break}case v.BODY:{LLe(e,t);break}case v.FORM:{ULe(e,t);break}case v.NOBR:{YLe(e,t);break}case v.MATH:{aMe(e,t);break}case v.TABLE:{KLe(e,t);break}case v.INPUT:{QLe(e,t);break}case v.PARAM:case v.TRACK:case v.SOURCE:{XLe(e,t);break}case v.IMAGE:{ZLe(e,t);break}case v.BUTTON:{HLe(e,t);break}case v.APPLET:case v.OBJECT:case v.MARQUEE:{GLe(e,t);break}case v.IFRAME:{nMe(e,t);break}case v.SELECT:{rMe(e,t);break}case v.OPTION:case v.OPTGROUP:{iMe(e,t);break}case v.NOEMBED:{ZB(e,t);break}case v.FRAMESET:{MLe(e,t);break}case v.TEXTAREA:{eMe(e,t);break}case v.NOSCRIPT:{e.options.scriptingEnabled?ZB(e,t):ej(e,t);break}case v.PLAINTEXT:{zLe(e,t);break}case v.COL:case v.TH:case v.TD:case v.TR:case v.HEAD:case v.FRAME:case v.TBODY:case v.TFOOT:case v.THEAD:case v.CAPTION:case v.COLGROUP:break;default:ej(e,t)}}function lMe(e,t){if(e.openElements.hasInScope(v.BODY)&&(e.insertionMode=q.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}function cMe(e,t){e.openElements.hasInScope(v.BODY)&&(e.insertionMode=q.AFTER_BODY,IZ(e,t))}function fMe(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function dMe(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(v.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(v.FORM):n&&e.openElements.remove(n))}function hMe(e){e.openElements.hasInButtonScope(v.P)||e._insertFakeElement(ae.P,v.P),e._closePElement()}function pMe(e){e.openElements.hasInListItemScope(v.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(v.LI),e.openElements.popUntilTagNamePopped(v.LI))}function mMe(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}function gMe(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function yMe(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function _Me(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(ae.BR,v.BR),e.openElements.pop(),e.framesetOk=!1}function gZ(e,t){const n=t.tagName,r=t.tagID;for(let i=e.openElements.stackTop;i>0;i--){const s=e.openElements.items[i],o=e.openElements.tagIDs[i];if(r===o&&(r!==v.UNKNOWN||e.treeAdapter.getTagName(s)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=i&&e.openElements.shortenToLength(i);break}if(e._isSpecialElement(s,o))break}}function CI(e,t){switch(t.tagID){case v.A:case v.B:case v.I:case v.S:case v.U:case v.EM:case v.TT:case v.BIG:case v.CODE:case v.FONT:case v.NOBR:case v.SMALL:case v.STRIKE:case v.STRONG:{zD(e,t);break}case v.P:{hMe(e);break}case v.DL:case v.UL:case v.OL:case v.DIR:case v.DIV:case v.NAV:case v.PRE:case v.MAIN:case v.MENU:case v.ASIDE:case v.BUTTON:case v.CENTER:case v.FIGURE:case v.FOOTER:case v.HEADER:case v.HGROUP:case v.DIALOG:case v.ADDRESS:case v.ARTICLE:case v.DETAILS:case v.SECTION:case v.SUMMARY:case v.LISTING:case v.FIELDSET:case v.BLOCKQUOTE:case v.FIGCAPTION:{fMe(e,t);break}case v.LI:{pMe(e);break}case v.DD:case v.DT:{mMe(e,t);break}case v.H1:case v.H2:case v.H3:case v.H4:case v.H5:case v.H6:{gMe(e);break}case v.BR:{_Me(e);break}case v.BODY:{lMe(e,t);break}case v.HTML:{cMe(e,t);break}case v.FORM:{dMe(e);break}case v.APPLET:case v.OBJECT:case v.MARQUEE:{yMe(e,t);break}case v.TEMPLATE:{nh(e,t);break}default:gZ(e,t)}}function yZ(e,t){e.tmplInsertionModeStack.length>0?SZ(e,t):HD(e,t)}function vMe(e,t){var n;t.tagID===v.SCRIPT&&((n=e.scriptHandler)===null||n===void 0||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function bMe(e,t){e._err(t,ve.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function vA(e,t){if(fZ.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=q.IN_TABLE_TEXT,t.type){case Ht.CHARACTER:{vZ(e,t);break}case Ht.WHITESPACE_CHARACTER:{_Z(e,t);break}}else j_(e,t)}function EMe(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,Ee.HTML),e.insertionMode=q.IN_CAPTION}function wMe(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,Ee.HTML),e.insertionMode=q.IN_COLUMN_GROUP}function TMe(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(ae.COLGROUP,v.COLGROUP),e.insertionMode=q.IN_COLUMN_GROUP,WD(e,t)}function SMe(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,Ee.HTML),e.insertionMode=q.IN_TABLE_BODY}function IMe(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(ae.TBODY,v.TBODY),e.insertionMode=q.IN_TABLE_BODY,AI(e,t)}function xMe(e,t){e.openElements.hasInTableScope(v.TABLE)&&(e.openElements.popUntilTagNamePopped(v.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function CMe(e,t){mZ(t)?e._appendElement(t,Ee.HTML):j_(e,t),t.ackSelfClosing=!0}function AMe(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,Ee.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function tm(e,t){switch(t.tagID){case v.TD:case v.TH:case v.TR:{IMe(e,t);break}case v.STYLE:case v.SCRIPT:case v.TEMPLATE:{Na(e,t);break}case v.COL:{TMe(e,t);break}case v.FORM:{AMe(e,t);break}case v.TABLE:{xMe(e,t);break}case v.TBODY:case v.TFOOT:case v.THEAD:{SMe(e,t);break}case v.INPUT:{CMe(e,t);break}case v.CAPTION:{EMe(e,t);break}case v.COLGROUP:{wMe(e,t);break}default:j_(e,t)}}function Ay(e,t){switch(t.tagID){case v.TABLE:{e.openElements.hasInTableScope(v.TABLE)&&(e.openElements.popUntilTagNamePopped(v.TABLE),e._resetInsertionMode());break}case v.TEMPLATE:{nh(e,t);break}case v.BODY:case v.CAPTION:case v.COL:case v.COLGROUP:case v.HTML:case v.TBODY:case v.TD:case v.TFOOT:case v.TH:case v.THEAD:case v.TR:break;default:j_(e,t)}}function j_(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,xI(e,t),e.fosterParentingEnabled=n}function _Z(e,t){e.pendingCharacterTokens.push(t)}function vZ(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function D0(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)j_(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const bZ=new Set([v.CAPTION,v.COL,v.COLGROUP,v.TBODY,v.TD,v.TFOOT,v.TH,v.THEAD,v.TR]);function OMe(e,t){const n=t.tagID;bZ.has(n)?e.openElements.hasInTableScope(v.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(v.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=q.IN_TABLE,tm(e,t)):rs(e,t)}function PMe(e,t){const n=t.tagID;switch(n){case v.CAPTION:case v.TABLE:{e.openElements.hasInTableScope(v.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(v.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=q.IN_TABLE,n===v.TABLE&&Ay(e,t));break}case v.BODY:case v.COL:case v.COLGROUP:case v.HTML:case v.TBODY:case v.TD:case v.TFOOT:case v.TH:case v.THEAD:case v.TR:break;default:CI(e,t)}}function WD(e,t){switch(t.tagID){case v.HTML:{rs(e,t);break}case v.COL:{e._appendElement(t,Ee.HTML),t.ackSelfClosing=!0;break}case v.TEMPLATE:{Na(e,t);break}default:Yw(e,t)}}function RMe(e,t){switch(t.tagID){case v.COLGROUP:{e.openElements.currentTagId===v.COLGROUP&&(e.openElements.pop(),e.insertionMode=q.IN_TABLE);break}case v.TEMPLATE:{nh(e,t);break}case v.COL:break;default:Yw(e,t)}}function Yw(e,t){e.openElements.currentTagId===v.COLGROUP&&(e.openElements.pop(),e.insertionMode=q.IN_TABLE,e._processToken(t))}function AI(e,t){switch(t.tagID){case v.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,Ee.HTML),e.insertionMode=q.IN_ROW;break}case v.TH:case v.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(ae.TR,v.TR),e.insertionMode=q.IN_ROW,OI(e,t);break}case v.CAPTION:case v.COL:case v.COLGROUP:case v.TBODY:case v.TFOOT:case v.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=q.IN_TABLE,tm(e,t));break}default:tm(e,t)}}function _2(e,t){const n=t.tagID;switch(t.tagID){case v.TBODY:case v.TFOOT:case v.THEAD:{e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=q.IN_TABLE);break}case v.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=q.IN_TABLE,Ay(e,t));break}case v.BODY:case v.CAPTION:case v.COL:case v.COLGROUP:case v.HTML:case v.TD:case v.TH:case v.TR:break;default:Ay(e,t)}}function OI(e,t){switch(t.tagID){case v.TH:case v.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,Ee.HTML),e.insertionMode=q.IN_CELL,e.activeFormattingElements.insertMarker();break}case v.CAPTION:case v.COL:case v.COLGROUP:case v.TBODY:case v.TFOOT:case v.THEAD:case v.TR:{e.openElements.hasInTableScope(v.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=q.IN_TABLE_BODY,AI(e,t));break}default:tm(e,t)}}function EZ(e,t){switch(t.tagID){case v.TR:{e.openElements.hasInTableScope(v.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=q.IN_TABLE_BODY);break}case v.TABLE:{e.openElements.hasInTableScope(v.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=q.IN_TABLE_BODY,_2(e,t));break}case v.TBODY:case v.TFOOT:case v.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(v.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=q.IN_TABLE_BODY,_2(e,t));break}case v.BODY:case v.CAPTION:case v.COL:case v.COLGROUP:case v.HTML:case v.TD:case v.TH:break;default:Ay(e,t)}}function NMe(e,t){const n=t.tagID;bZ.has(n)?(e.openElements.hasInTableScope(v.TD)||e.openElements.hasInTableScope(v.TH))&&(e._closeTableCell(),OI(e,t)):rs(e,t)}function kMe(e,t){const n=t.tagID;switch(n){case v.TD:case v.TH:{e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=q.IN_ROW);break}case v.TABLE:case v.TBODY:case v.TFOOT:case v.THEAD:case v.TR:{e.openElements.hasInTableScope(n)&&(e._closeTableCell(),EZ(e,t));break}case v.BODY:case v.CAPTION:case v.COL:case v.COLGROUP:case v.HTML:break;default:CI(e,t)}}function wZ(e,t){switch(t.tagID){case v.HTML:{rs(e,t);break}case v.OPTION:{e.openElements.currentTagId===v.OPTION&&e.openElements.pop(),e._insertElement(t,Ee.HTML);break}case v.OPTGROUP:{e.openElements.currentTagId===v.OPTION&&e.openElements.pop(),e.openElements.currentTagId===v.OPTGROUP&&e.openElements.pop(),e._insertElement(t,Ee.HTML);break}case v.INPUT:case v.KEYGEN:case v.TEXTAREA:case v.SELECT:{e.openElements.hasInSelectScope(v.SELECT)&&(e.openElements.popUntilTagNamePopped(v.SELECT),e._resetInsertionMode(),t.tagID!==v.SELECT&&e._processStartTag(t));break}case v.SCRIPT:case v.TEMPLATE:{Na(e,t);break}}}function TZ(e,t){switch(t.tagID){case v.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===v.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===v.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===v.OPTGROUP&&e.openElements.pop();break}case v.OPTION:{e.openElements.currentTagId===v.OPTION&&e.openElements.pop();break}case v.SELECT:{e.openElements.hasInSelectScope(v.SELECT)&&(e.openElements.popUntilTagNamePopped(v.SELECT),e._resetInsertionMode());break}case v.TEMPLATE:{nh(e,t);break}}}function DMe(e,t){const n=t.tagID;n===v.CAPTION||n===v.TABLE||n===v.TBODY||n===v.TFOOT||n===v.THEAD||n===v.TR||n===v.TD||n===v.TH?(e.openElements.popUntilTagNamePopped(v.SELECT),e._resetInsertionMode(),e._processStartTag(t)):wZ(e,t)}function $Me(e,t){const n=t.tagID;n===v.CAPTION||n===v.TABLE||n===v.TBODY||n===v.TFOOT||n===v.THEAD||n===v.TR||n===v.TD||n===v.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(v.SELECT),e._resetInsertionMode(),e.onEndTag(t)):TZ(e,t)}function LMe(e,t){switch(t.tagID){case v.BASE:case v.BASEFONT:case v.BGSOUND:case v.LINK:case v.META:case v.NOFRAMES:case v.SCRIPT:case v.STYLE:case v.TEMPLATE:case v.TITLE:{Na(e,t);break}case v.CAPTION:case v.COLGROUP:case v.TBODY:case v.TFOOT:case v.THEAD:{e.tmplInsertionModeStack[0]=q.IN_TABLE,e.insertionMode=q.IN_TABLE,tm(e,t);break}case v.COL:{e.tmplInsertionModeStack[0]=q.IN_COLUMN_GROUP,e.insertionMode=q.IN_COLUMN_GROUP,WD(e,t);break}case v.TR:{e.tmplInsertionModeStack[0]=q.IN_TABLE_BODY,e.insertionMode=q.IN_TABLE_BODY,AI(e,t);break}case v.TD:case v.TH:{e.tmplInsertionModeStack[0]=q.IN_ROW,e.insertionMode=q.IN_ROW,OI(e,t);break}default:e.tmplInsertionModeStack[0]=q.IN_BODY,e.insertionMode=q.IN_BODY,rs(e,t)}}function MMe(e,t){t.tagID===v.TEMPLATE&&nh(e,t)}function SZ(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(v.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):HD(e,t)}function FMe(e,t){t.tagID===v.HTML?rs(e,t):Gw(e,t)}function IZ(e,t){var n;if(t.tagID===v.HTML){if(e.fragmentContext||(e.insertionMode=q.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===v.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(!((n=e.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&e._setEndLocation(r,t)}}else Gw(e,t)}function Gw(e,t){e.insertionMode=q.IN_BODY,xI(e,t)}function BMe(e,t){switch(t.tagID){case v.HTML:{rs(e,t);break}case v.FRAMESET:{e._insertElement(t,Ee.HTML);break}case v.FRAME:{e._appendElement(t,Ee.HTML),t.ackSelfClosing=!0;break}case v.NOFRAMES:{Na(e,t);break}}}function jMe(e,t){t.tagID===v.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==v.FRAMESET&&(e.insertionMode=q.AFTER_FRAMESET))}function UMe(e,t){switch(t.tagID){case v.HTML:{rs(e,t);break}case v.NOFRAMES:{Na(e,t);break}}}function VMe(e,t){t.tagID===v.HTML&&(e.insertionMode=q.AFTER_AFTER_FRAMESET)}function zMe(e,t){t.tagID===v.HTML?rs(e,t):ab(e,t)}function ab(e,t){e.insertionMode=q.IN_BODY,xI(e,t)}function HMe(e,t){switch(t.tagID){case v.HTML:{rs(e,t);break}case v.NOFRAMES:{Na(e,t);break}}}function WMe(e,t){t.chars=sr,e._insertCharacters(t)}function qMe(e,t){e._insertCharacters(t),e.framesetOk=!1}function xZ(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==Ee.HTML&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function YMe(e,t){if(uLe(t))xZ(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===Ee.MATHML?lZ(t):r===Ee.SVG&&(lLe(t),cZ(t)),VD(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}function GMe(e,t){if(t.tagID===v.P||t.tagID===v.BR){xZ(e),e._endTagOutsideForeignContent(t);return}for(let n=e.openElements.stackTop;n>0;n--){const r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===Ee.HTML){e._endTagOutsideForeignContent(t);break}const i=e.treeAdapter.getTagName(r);if(i.toLowerCase()===t.tagName){t.tagName=i,e.openElements.shortenToLength(n);break}}}ae.AREA,ae.BASE,ae.BASEFONT,ae.BGSOUND,ae.BR,ae.COL,ae.EMBED,ae.FRAME,ae.HR,ae.IMG,ae.INPUT,ae.KEYGEN,ae.LINK,ae.META,ae.PARAM,ae.SOURCE,ae.TRACK,ae.WBR;const CZ=AZ("end"),rh=AZ("start");function AZ(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}const OZ=function(e){if(e==null)return JMe;if(typeof e=="function")return PI(e);if(typeof e=="object")return Array.isArray(e)?KMe(e):QMe(e);if(typeof e=="string")return XMe(e);throw new Error("Expected function, string, or object as test")};function KMe(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=OZ(e[n]);return PI(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function QMe(e){const t=e;return PI(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function XMe(e){return PI(t);function t(n){return n&&n.type===e}}function PI(e){return t;function t(n,r,i){return!!(ZMe(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function JMe(){return!0}function ZMe(e){return e!==null&&typeof e=="object"&&"type"in e}const PZ=[],e4e=!0,tj=!1,t4e="skip";function n4e(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=OZ(i),o=r?-1:1;a(e,void 0,[])();function a(u,l,c){const f=u&&typeof u=="object"?u:{};if(typeof f.type=="string"){const h=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(d,"name",{value:"node ("+(u.type+(h?"<"+h+">":""))+")"})}return d;function d(){let h=PZ,p,m,y;if((!t||s(u,l,c[c.length-1]||void 0))&&(h=r4e(n(u,c)),h[0]===tj))return h;if("children"in u&&u.children){const g=u;if(g.children&&h[0]!==t4e)for(m=(r?g.children.length:-1)+o,y=c.concat(g);m>-1&&m<g.children.length;){const _=g.children[m];if(p=a(_,m,y)(),p[0]===tj)return p;m=typeof p[1]=="number"?p[1]:m+o}}return h}}}function r4e(e){return Array.isArray(e)?e:typeof e=="number"?[e4e,e]:e==null?PZ:[e]}function i4e(e,t,n,r){let i,s,o;typeof t=="function"&&typeof n!="function"?(s=void 0,o=t,i=n):(s=t,o=n,i=r),n4e(e,s,a,i);function a(u,l){const c=l[l.length-1],f=c?c.children.indexOf(u):void 0;return o(u,f,c)}}const s4e=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),nj={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function RZ(e,t){const n=m4e(e),r=YJ("type",{handlers:{root:o4e,element:a4e,text:u4e,comment:kZ,doctype:l4e,raw:f4e},unknown:d4e}),i={parser:n?new JB(nj):JB.getFragmentParser(void 0,nj),handle(a){r(a,i)},stitches:!1,options:t||{}};r(e,i),Hm(i,rh());const s=n?i.parser.document:i.parser.getFragment(),o=a6e(s,{file:i.options.file});return i.stitches&&i4e(o,"comment",function(a,u,l){const c=a;if(c.value.stitch&&l&&u!==void 0){const f=l.children;return f[u]=c.value.stitch,u}}),o.type==="root"&&o.children.length===1&&o.children[0].type===e.type?o.children[0]:o}function NZ(e,t){let n=-1;if(e)for(;++n<e.length;)t.handle(e[n])}function o4e(e,t){NZ(e.children,t)}function a4e(e,t){h4e(e,t),NZ(e.children,t),p4e(e,t)}function u4e(e,t){const n={type:Ht.CHARACTER,chars:e.value,location:U_(e)};Hm(t,rh(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function l4e(e,t){const n={type:Ht.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:U_(e)};Hm(t,rh(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function c4e(e,t){t.stitches=!0;const n=g4e(e);if("children"in e&&"children"in n){const r=RZ({type:"root",children:e.children},t.options);n.children=r.children}kZ({type:"comment",value:{stitch:n}},t)}function kZ(e,t){const n=e.value,r={type:Ht.COMMENT,data:n,location:U_(e)};Hm(t,rh(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function f4e(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,DZ(t,rh(e)),t.parser.tokenizer.write(e.value,!1),t.parser.tokenizer._runParsingLoop(),t.parser.tokenizer.state===72||t.parser.tokenizer.state===78){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;const n=t.parser.tokenizer._consume();t.parser.tokenizer._callState(n)}}function d4e(e,t){const n=e;if(t.options.passThrough&&t.options.passThrough.includes(n.type))c4e(n,t);else{let r="";throw s4e.has(n.type)&&(r=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+r)}}function Hm(e,t){DZ(e,t);const n=e.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=e.parser.tokenizer.preprocessor.line,n.location.endCol=e.parser.tokenizer.preprocessor.col+1,n.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=Dr.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}function DZ(e,t){if(t&&t.offset!==void 0){const n={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=-t.column+1,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=n}}function h4e(e,t){if(t.parser.tokenizer.state===Dr.PLAINTEXT)return;Hm(t,rh(e));const n=t.parser.openElements.current;let r="namespaceURI"in n?n.namespaceURI:ed.html;r===ed.html&&e.tagName==="svg"&&(r=ed.svg);const i=d6e({...e,children:[]},{space:r===ed.svg?"svg":"html"}),s="attrs"in i?i.attrs:[],o={type:Ht.START_TAG,tagName:e.tagName,tagID:zm(e.tagName),selfClosing:!1,ackSelfClosing:!1,attrs:s,location:U_(e)};t.parser.currentToken=o,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=e.tagName}function p4e(e,t){if(!t.parser.tokenizer.inForeignNode&&b6e.includes(e.tagName)||t.parser.tokenizer.state===Dr.PLAINTEXT)return;Hm(t,CZ(e));const n={type:Ht.END_TAG,tagName:e.tagName,tagID:zm(e.tagName),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:U_(e)};t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken),n.tagName===t.parser.tokenizer.lastStartTagName&&(t.parser.tokenizer.state===Dr.RCDATA||t.parser.tokenizer.state===Dr.RAWTEXT||t.parser.tokenizer.state===Dr.SCRIPT_DATA)&&(t.parser.tokenizer.state=Dr.DATA)}function m4e(e){const t=e.type==="root"?e.children[0]:e;return!!(t&&(t.type==="doctype"||t.type==="element"&&t.tagName==="html"))}function U_(e){const t=rh(e)||{line:void 0,column:void 0,offset:void 0},n=CZ(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function g4e(e){return"children"in e?jB({...e,children:[]}):jB(e)}function y4e(e){return function(t,n){return RZ(t,{...e,file:n})}}function Us({text:e}){const t={img:({node:n,...r})=>$.jsx(C_,{...r}),p:({node:n,...r})=>$.jsx(Ct,{...r,pb:8}),h1:({node:n,...r})=>$.jsx(lc,{order:1,...r,pb:12}),h2:({node:n,...r})=>$.jsx(lc,{order:2,...r,pb:12}),h3:({node:n,...r})=>$.jsx(lc,{order:3,...r,pb:12}),h4:({node:n,...r})=>$.jsx(lc,{order:4,...r,pb:12}),h5:({node:n,...r})=>$.jsx(lc,{order:5,...r,pb:12}),h6:({node:n,...r})=>$.jsx(lc,{order:6,...r,pb:12}),a:({node:n,...r})=>$.jsx(yq,{...r}),ul:({node:n,...r})=>$.jsx(Qp,{withPadding:!0,...r,pb:8}),ol:({node:n,...r})=>$.jsx(Qp,{type:"ordered",withPadding:!0,...r,pb:8})};return $.jsx("div",{style:{display:"inherit"},children:$.jsx(jJ,{components:t,rehypePlugins:[y4e],children:e})})}function _4e({response:e,disabled:t,answer:n}){const{prompt:r,required:i,options:s}=e;return $.jsx(Kp.Group,{label:$.jsx(Us,{text:r}),withAsterisk:i,...n,error:eh(e,n,s),size:"md",children:$.jsx(Tu,{mt:"md",children:s.map(o=>$.jsx(Kp,{disabled:t,value:o.value,label:o.label},o.value))})})}function v4e({response:e,disabled:t,answer:n}){const{placeholder:r,prompt:i,required:s,options:o}=e;return $.jsx(mQ,{disabled:t,label:$.jsx(Us,{text:i}),placeholder:r,data:o,withAsterisk:s,radius:"md",size:"md",...n,error:eh(e,n,o)})}function b4e({response:e,answer:t}){const{prompt:n}=e;return $.jsxs($.Fragment,{children:[$.jsx(Ct,{fz:"md",fw:500,children:$.jsx(Us,{text:n})}),$.jsx(Qp,{children:Array.isArray(t.value)&&t.value.map(r=>$.jsx(Qp.Item,{children:r},r))})]})}function $Z({response:e,disabled:t,answer:n}){const{prompt:r,required:i,options:s,leftLabel:o,rightLabel:a}=e;return $.jsxs(Ew.Group,{name:`radioInput${e.id}`,label:$.jsx(Us,{text:r}),withAsterisk:i,size:"md",...n,error:eh(e,n,s),children:[o?$.jsx(Ct,{children:o}):null,$.jsx(Tu,{mt:"xs",children:s.map(u=>$.jsx(Ew,{disabled:t,value:u.value,label:u.label},u.label))}),$.jsx(Ct,{children:a})]},e.id)}function E4e({response:e,disabled:t,answer:n}){const{preset:r}=e,i=[];for(let o=1;o<=+r;o+=1)i.push({label:`${o}`,value:`${o}`});const s={...e,type:"radio",options:i};return $.jsx($Z,{disabled:t,response:s,answer:n})}function w4e({response:e,disabled:t,answer:n}){const{prompt:r,required:i,min:s,max:o,placeholder:a}=e;return $.jsx(zK,{disabled:t,placeholder:a,label:$.jsx(Us,{text:r}),withAsterisk:i,radius:"md",size:"md",min:s,max:o,...n,error:eh(e,n)})}function T4e({response:e,disabled:t,answer:n}){const{prompt:r,options:i,leftLabel:s,rightLabel:o,required:a}=e,u=eh(e,n);return $.jsx(Bs.Wrapper,{withAsterisk:a,label:$.jsx(Us,{text:r}),error:u,size:"md",children:$.jsxs(Tu,{children:[s?$.jsx(Nd,{children:$.jsx(Ct,{children:s})}):null,$.jsx(TQ,{disabled:t,label:null,sx:{marginTop:"15px",marginBottom:"15px",width:"400px"},marks:i,...n,defaultValue:50,min:0,max:100,showLabelOnHover:!1,styles:l=>({markFilled:{borderColor:"#E9ECEF",backgroundColor:"white"},bar:{backgroundColor:"#E9ECEF"},markLabel:{fontSize:l.fontSizes.sm,marginBottom:5,marginTop:0}})}),o?$.jsx(Nd,{children:$.jsx(Ct,{children:o})}):null]})})}function S4e({response:e,disabled:t,answer:n}){const{placeholder:r,prompt:i,required:s}=e;return $.jsx(Sk,{disabled:t,placeholder:r,label:$.jsx(Us,{text:i}),radius:"md",size:"md",withAsterisk:s,...n,value:n.value||"",error:eh(e,n)})}function I4e({response:e,disabled:t,answer:n}){const{placeholder:r,prompt:i,required:s}=e;return $.jsx(ZG,{disabled:t,placeholder:r,label:$.jsx(Us,{text:i}),radius:"md",size:"md",withAsterisk:s,...n,value:n.value||"",error:eh(e,n)})}function x4e({response:e,answer:t,storedAnswer:n}){const r=(n?{value:n}:t)||{value:void 0},i=!!n,[s]=VN(),o=w.useMemo(()=>{if(e.paramCapture){const a=s.get(e.paramCapture);return i||!!a}return i},[i,e.paramCapture,s]);return $.jsxs(lt,{sx:{margin:10,padding:5},children:[e.type==="numerical"&&$.jsx(w4e,{response:e,disabled:o,answer:r}),e.type==="shortText"&&$.jsx(S4e,{response:e,disabled:o,answer:r}),e.type==="longText"&&$.jsx(I4e,{response:e,disabled:o,answer:r}),e.type==="likert"&&$.jsx(E4e,{response:e,disabled:o,answer:r}),e.type==="dropdown"&&$.jsx(v4e,{response:e,disabled:o,answer:r}),e.type==="slider"&&$.jsx(T4e,{response:e,disabled:o,answer:r}),e.type==="radio"&&$.jsx($Z,{response:e,disabled:o,answer:r}),e.type==="checkbox"&&$.jsx(_4e,{response:e,disabled:o,answer:r}),e.type==="iframe"&&$.jsx(b4e,{response:e,answer:r})]})}function Kw({config:e,location:t,status:n,style:r}){var y,g;const i=Ra(),s=n==null?void 0:n.answer,o=e,a=((y=o==null?void 0:o.response)==null?void 0:y.filter(_=>_.location?_.location===t:t==="belowStimulus"))||[],u=Hl(),{updateResponseBlockValidation:l}=zl(),c=FNe(a,i,s||{}),[f,d]=w.useState(!1),{iframeAnswers:h}=Mu(_=>_),p=(((g=o==null?void 0:o.correctAnswer)==null?void 0:g.length)||0)>0,m=t===((o==null?void 0:o.nextButtonLocation)||"belowStimulus");return w.useEffect(()=>{const _=a.find(b=>b.type==="iframe");if(_){const b=_.id;c.setValues({...c.values,[b]:h})}},[h]),w.useEffect(()=>{u(l({location:t,currentStep:i,status:c.isValid(),values:ID(c.values)}))},[c.values,i,t]),$.jsxs("div",{style:r,children:[a.map(_=>{var b,T;return $.jsx(k.Fragment,{children:_.hidden?"":$.jsxs($.Fragment,{children:[$.jsx(x4e,{storedAnswer:s?s[_.id]:void 0,answer:{...c.getInputProps(_.id,{type:_.type==="checkbox"?"checkbox":"input"})},response:_}),p&&f&&$.jsx(Ct,{children:`The correct answer is: ${(T=(b=o.correctAnswer)==null?void 0:b.find(I=>I.id===_.id))==null?void 0:T.answer}`})]})},`${_.id}-${i}`)}),$.jsxs(Tu,{position:"right",spacing:"xs",mt:"xl",children:[p&&m&&$.jsx(dl,{onClick:()=>d(!0),disabled:!c.isValid(),children:"Check Answer"}),m&&$.jsx(cNe,{disabled:p&&!f,setCheckClicked:d,label:o.nextButtonText||"Next"})]})]})}const l1="@REVISIT_COMMS",C4e={minHeight:"500px",width:"100%",border:0,marginTop:"-50px"};function A4e({currentConfig:e}){const{setIframeAnswers:t}=zl(),n=Hl(),r=jQ(),i=w.useRef(null),s=w.useMemo(()=>crypto.randomUUID?crypto.randomUUID():`testID-${Date.now()}`,[]),o=Ra(),a=Qd(),u=w.useCallback((l,c)=>{var f,d;(d=(f=i.current)==null?void 0:f.contentWindow)==null||d.postMessage({error:!1,type:`${l1}/${l}`,iframeId:s,message:c},"*")},[i,s]);return w.useEffect(()=>{const l=c=>{const{data:f}=c;if(typeof f=="object"&&s===f.iframeId)switch(f.type){case`${l1}/WINDOW_READY`:e.parameters&&u("STUDY_DATA",e.parameters);break;case`${l1}/READY`:i.current&&(i.current.style.height=`${f.message.documentHeight}px`);break;case`${l1}/ANSWERS`:n(t(f.message.answer));break}};return window.addEventListener("message",l),()=>window.removeEventListener("message",l)},[n,o,r,s,a,e,u]),$.jsx("div",{children:$.jsx("iframe",{ref:i,src:`${$u}${e.path}?trialid=${o}&id=${s}`,style:C4e})})}const O4e={maxWidth:"100%"};function P4e({currentConfig:e}){const t={...O4e,...e.style};return $.jsx(C_,{mx:"auto",src:`${$u}${e.path}`,style:t})}const R4e=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),vi={Purple:"#6D3E91",DarkOrange:"#C05917",LightTeal:"#58AC8C",Blue:"#286BBB",Maroon:"#883039",Camel:"#BC8E5A",MidnightBlue:"#00295B",DustyCoral:"#C15065",DarkOliveGreen:"#18470F",DarkCopper:"#9A5129",Peach:"#E56E5A",Mauve:"#A2559C",Turquoise:"#38AABA",OliveGreen:"#578145",Cherry:"#970046",Teal:"#00847E",RustyOrange:"#B13507",Denim:"#4C6A9C",Fuchsia:"#CF0A66",TealishGreen:"#00875E",Copper:"#B16214",DarkMauve:"#8C4569",Lime:"#3B8E1D",Coral:"#D73C50"},Th={DarkOrangeDarker:"#BE5915",PeachDarker:"#C4523E",LightTealDarker:"#2C8465",TurquoiseDarker:"#008291",CamelDarker:"#996D39",LimeDarker:"#338711"},qD=[vi.DustyCoral,Th.LightTealDarker,Th.DarkOrangeDarker,vi.Purple,vi.DarkOliveGreen,vi.Blue,vi.Maroon,Th.CamelDarker,vi.MidnightBlue,vi.DarkCopper,Th.PeachDarker,vi.Mauve,Th.TurquoiseDarker,vi.OliveGreen,vi.Cherry,vi.Teal,vi.RustyOrange,vi.Denim,vi.TealishGreen,vi.Copper,vi.DarkMauve,Th.LimeDarker,vi.Coral],N4e=Object.freeze(Object.defineProperty({__proto__:null,OwidDistinctLinesPalette:qD},Symbol.toStringTag,{value:"Module"}));function Ip(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function k4e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function YD(e){let t,n,r;e.length!==2?(t=Ip,n=(a,u)=>Ip(e(a),u),r=(a,u)=>e(a)-u):(t=e===Ip||e===k4e?e:D4e,n=e,r=e);function i(a,u,l=0,c=a.length){if(l<c){if(t(u,u)!==0)return c;do{const f=l+c>>>1;n(a[f],u)<0?l=f+1:c=f}while(l<c)}return l}function s(a,u,l=0,c=a.length){if(l<c){if(t(u,u)!==0)return c;do{const f=l+c>>>1;n(a[f],u)<=0?l=f+1:c=f}while(l<c)}return l}function o(a,u,l=0,c=a.length){const f=i(a,u,l,c-1);return f>l&&r(a[f-1],u)>-r(a[f],u)?f-1:f}return{left:i,center:o,right:s}}function D4e(){return 0}function $4e(e){return e===null?NaN:+e}function*L4e(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const M4e=YD(Ip),F4e=M4e.right;YD($4e).center;const B4e=F4e;function xp(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let s of e)(s=t(s,++i,e))!=null&&(n===void 0?s>=s&&(n=r=s):(n>s&&(n=s),r<s&&(r=s)))}return[n,r]}class v2 extends Map{constructor(t,n=V4e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(rj(this,t))}has(t){return super.has(rj(this,t))}set(t,n){return super.set(j4e(this,t),n)}delete(t){return super.delete(U4e(this,t))}}function rj({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function j4e({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function U4e({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function V4e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function z4e(e){return e}function H4e(e,t,...n){return W4e(e,z4e,t,n)}function W4e(e,t,n,r){return function i(s,o){if(o>=r.length)return n(s);const a=new v2,u=r[o++];let l=-1;for(const c of s){const f=u(c,++l,s),d=a.get(f);d?d.push(c):a.set(f,[c])}for(const[c,f]of a)a.set(c,i(f,o));return t(a)}(e,0)}function q4e(e=Ip){if(e===Ip)return LZ;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function LZ(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Y4e=Math.sqrt(50),G4e=Math.sqrt(10),K4e=Math.sqrt(2);function Qw(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=Y4e?10:s>=G4e?5:s>=K4e?2:1;let a,u,l;return i<0?(l=Math.pow(10,-i)/o,a=Math.round(e*l),u=Math.round(t*l),a/l<e&&++a,u/l>t&&--u,l=-l):(l=Math.pow(10,i)*o,a=Math.round(e/l),u=Math.round(t/l),a*l<e&&++a,u*l>t&&--u),u<a&&.5<=n&&n<2?Qw(e,t,n*2):[a,u,l]}function Q4e(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,s,o]=r?Qw(t,e,n):Qw(e,t,n);if(!(s>=i))return[];const a=s-i+1,u=new Array(a);if(r)if(o<0)for(let l=0;l<a;++l)u[l]=(s-l)/-o;else for(let l=0;l<a;++l)u[l]=(s-l)*o;else if(o<0)for(let l=0;l<a;++l)u[l]=(i+l)/-o;else for(let l=0;l<a;++l)u[l]=(i+l)*o;return u}function b2(e,t,n){return t=+t,e=+e,n=+n,Qw(e,t,n)[2]}function E2(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?b2(t,e,n):b2(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Xw(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function Jw(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function MZ(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?LZ:q4e(i);r>n;){if(r-n>600){const u=r-n+1,l=t-n+1,c=Math.log(u),f=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*f*(u-f)/u)*(l-u/2<0?-1:1),h=Math.max(n,Math.floor(t-l*f/u+d)),p=Math.min(r,Math.floor(t+(u-l)*f/u+d));MZ(e,t,h,p,i)}const s=e[t];let o=n,a=r;for($0(e,n,t),i(e[r],s)>0&&$0(e,n,r);o<a;){for($0(e,o,a),++o,--a;i(e[o],s)<0;)++o;for(;i(e[a],s)>0;)--a}i(e[n],s)===0?$0(e,n,a):(++a,$0(e,a,r)),a<=t&&(n=a+1),t<=a&&(r=a-1)}return e}function $0(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function bA(e,t,n){if(e=Float64Array.from(L4e(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return Jw(e);if(t>=1)return Xw(e);var r,i=(r-1)*t,s=Math.floor(i),o=Xw(MZ(e,s).subarray(0,s+1)),a=Jw(e.subarray(s+1));return o+(a-o)*(i-s)}}function GD(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function FZ(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function V_(){}var Oy=.7,Zw=1/Oy,Cp="\\s*([+-]?\\d+)\\s*",Py="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",mu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",X4e=/^#([0-9a-f]{3,8})$/,J4e=new RegExp(`^rgb\\(${Cp},${Cp},${Cp}\\)$`),Z4e=new RegExp(`^rgb\\(${mu},${mu},${mu}\\)$`),e5e=new RegExp(`^rgba\\(${Cp},${Cp},${Cp},${Py}\\)$`),t5e=new RegExp(`^rgba\\(${mu},${mu},${mu},${Py}\\)$`),n5e=new RegExp(`^hsl\\(${Py},${mu},${mu}\\)$`),r5e=new RegExp(`^hsla\\(${Py},${mu},${mu},${Py}\\)$`),ij={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};GD(V_,Ry,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:sj,formatHex:sj,formatHex8:i5e,formatHsl:s5e,formatRgb:oj,toString:oj});function sj(){return this.rgb().formatHex()}function i5e(){return this.rgb().formatHex8()}function s5e(){return BZ(this).formatHsl()}function oj(){return this.rgb().formatRgb()}function Ry(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=X4e.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?aj(t):n===3?new ks(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?c1(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?c1(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=J4e.exec(e))?new ks(t[1],t[2],t[3],1):(t=Z4e.exec(e))?new ks(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=e5e.exec(e))?c1(t[1],t[2],t[3],t[4]):(t=t5e.exec(e))?c1(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=n5e.exec(e))?cj(t[1],t[2]/100,t[3]/100,1):(t=r5e.exec(e))?cj(t[1],t[2]/100,t[3]/100,t[4]):ij.hasOwnProperty(e)?aj(ij[e]):e==="transparent"?new ks(NaN,NaN,NaN,0):null}function aj(e){return new ks(e>>16&255,e>>8&255,e&255,1)}function c1(e,t,n,r){return r<=0&&(e=t=n=NaN),new ks(e,t,n,r)}function o5e(e){return e instanceof V_||(e=Ry(e)),e?(e=e.rgb(),new ks(e.r,e.g,e.b,e.opacity)):new ks}function w2(e,t,n,r){return arguments.length===1?o5e(e):new ks(e,t,n,r??1)}function ks(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}GD(ks,w2,FZ(V_,{brighter(e){return e=e==null?Zw:Math.pow(Zw,e),new ks(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Oy:Math.pow(Oy,e),new ks(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ks(vd(this.r),vd(this.g),vd(this.b),eT(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:uj,formatHex:uj,formatHex8:a5e,formatRgb:lj,toString:lj}));function uj(){return`#${td(this.r)}${td(this.g)}${td(this.b)}`}function a5e(){return`#${td(this.r)}${td(this.g)}${td(this.b)}${td((isNaN(this.opacity)?1:this.opacity)*255)}`}function lj(){const e=eT(this.opacity);return`${e===1?"rgb(":"rgba("}${vd(this.r)}, ${vd(this.g)}, ${vd(this.b)}${e===1?")":`, ${e})`}`}function eT(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function vd(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function td(e){return e=vd(e),(e<16?"0":"")+e.toString(16)}function cj(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ga(e,t,n,r)}function BZ(e){if(e instanceof ga)return new ga(e.h,e.s,e.l,e.opacity);if(e instanceof V_||(e=Ry(e)),!e)return new ga;if(e instanceof ga)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),o=NaN,a=s-i,u=(s+i)/2;return a?(t===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-t)/a+2:o=(t-n)/a+4,a/=u<.5?s+i:2-s-i,o*=60):a=u>0&&u<1?0:o,new ga(o,a,u,e.opacity)}function u5e(e,t,n,r){return arguments.length===1?BZ(e):new ga(e,t,n,r??1)}function ga(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}GD(ga,u5e,FZ(V_,{brighter(e){return e=e==null?Zw:Math.pow(Zw,e),new ga(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Oy:Math.pow(Oy,e),new ga(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new ks(EA(e>=240?e-240:e+120,i,r),EA(e,i,r),EA(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new ga(fj(this.h),f1(this.s),f1(this.l),eT(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=eT(this.opacity);return`${e===1?"hsl(":"hsla("}${fj(this.h)}, ${f1(this.s)*100}%, ${f1(this.l)*100}%${e===1?")":`, ${e})`}`}}));function fj(e){return e=(e||0)%360,e<0?e+360:e}function f1(e){return Math.max(0,Math.min(1,e||0))}function EA(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const KD=e=>()=>e;function l5e(e,t){return function(n){return e+n*t}}function c5e(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function f5e(e){return(e=+e)==1?jZ:function(t,n){return n-t?c5e(t,n,e):KD(isNaN(t)?n:t)}}function jZ(e,t){var n=t-e;return n?l5e(e,n):KD(isNaN(e)?t:e)}const dj=function e(t){var n=f5e(t);function r(i,s){var o=n((i=w2(i)).r,(s=w2(s)).r),a=n(i.g,s.g),u=n(i.b,s.b),l=jZ(i.opacity,s.opacity);return function(c){return i.r=o(c),i.g=a(c),i.b=u(c),i.opacity=l(c),i+""}}return r.gamma=e,r}(1);function d5e(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=e[i]*(1-s)+t[i]*s;return r}}function h5e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function p5e(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=QD(e[o],t[o]);for(;o<n;++o)s[o]=t[o];return function(a){for(o=0;o<r;++o)s[o]=i[o](a);return s}}function m5e(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function tT(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function g5e(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=QD(e[i],t[i]):r[i]=t[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var T2=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,wA=new RegExp(T2.source,"g");function y5e(e){return function(){return e}}function _5e(e){return function(t){return e(t)+""}}function v5e(e,t){var n=T2.lastIndex=wA.lastIndex=0,r,i,s,o=-1,a=[],u=[];for(e=e+"",t=t+"";(r=T2.exec(e))&&(i=wA.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,u.push({i:o,x:tT(r,i)})),n=wA.lastIndex;return n<t.length&&(s=t.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?u[0]?_5e(u[0].x):y5e(t):(t=u.length,function(l){for(var c=0,f;c<t;++c)a[(f=u[c]).i]=f.x(l);return a.join("")})}function QD(e,t){var n=typeof t,r;return t==null||n==="boolean"?KD(t):(n==="number"?tT:n==="string"?(r=Ry(t))?(t=r,dj):v5e:t instanceof Ry?dj:t instanceof Date?m5e:h5e(t)?d5e:Array.isArray(t)?p5e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?g5e:tT)(e,t)}function b5e(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}const S2=Math.PI,I2=2*S2,Mf=1e-6,E5e=I2-Mf;function UZ(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function w5e(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return UZ;const n=10**t;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class T5e{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?UZ:w5e(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,s,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(t,n,r,i,s){if(t=+t,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,u=r-t,l=i-n,c=o-t,f=a-n,d=c*c+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(d>Mf)if(!(Math.abs(f*u-l*c)>Mf)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-o,p=i-a,m=u*u+l*l,y=h*h+p*p,g=Math.sqrt(m),_=Math.sqrt(d),b=s*Math.tan((S2-Math.acos((m+d-y)/(2*g*_)))/2),T=b/_,I=b/g;Math.abs(T-1)>Mf&&this._append`L${t+T*c},${n+T*f}`,this._append`A${s},${s},0,0,${+(f*h>c*p)},${this._x1=t+I*u},${this._y1=n+I*l}`}}arc(t,n,r,i,s,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),u=r*Math.sin(i),l=t+a,c=n+u,f=1^o,d=o?i-s:s-i;this._x1===null?this._append`M${l},${c}`:(Math.abs(this._x1-l)>Mf||Math.abs(this._y1-c)>Mf)&&this._append`L${l},${c}`,r&&(d<0&&(d=d%I2+I2),d>E5e?this._append`A${r},${r},0,1,${f},${t-a},${n-u}A${r},${r},0,1,${f},${this._x1=l},${this._y1=c}`:d>Mf&&this._append`A${r},${r},0,${+(d>=S2)},${f},${this._x1=t+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}var hj={},TA={},SA=34,L0=10,IA=13;function VZ(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function S5e(e,t){var n=VZ(e);return function(r,i){return t(n(r),i,e)}}function pj(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function Es(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function I5e(e){return e<0?"-"+Es(-e,6):e>9999?"+"+Es(e,6):Es(e,4)}function x5e(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":I5e(e.getUTCFullYear())+"-"+Es(e.getUTCMonth()+1,2)+"-"+Es(e.getUTCDate(),2)+(i?"T"+Es(t,2)+":"+Es(n,2)+":"+Es(r,2)+"."+Es(i,3)+"Z":r?"T"+Es(t,2)+":"+Es(n,2)+":"+Es(r,2)+"Z":n||t?"T"+Es(t,2)+":"+Es(n,2)+"Z":"")}function C5e(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(f,d){var h,p,m=i(f,function(y,g){if(h)return h(y,g-1);p=y,h=d?S5e(y,d):VZ(y)});return m.columns=p||[],m}function i(f,d){var h=[],p=f.length,m=0,y=0,g,_=p<=0,b=!1;f.charCodeAt(p-1)===L0&&--p,f.charCodeAt(p-1)===IA&&--p;function T(){if(_)return TA;if(b)return b=!1,hj;var E,S=m,A;if(f.charCodeAt(S)===SA){for(;m++<p&&f.charCodeAt(m)!==SA||f.charCodeAt(++m)===SA;);return(E=m)>=p?_=!0:(A=f.charCodeAt(m++))===L0?b=!0:A===IA&&(b=!0,f.charCodeAt(m)===L0&&++m),f.slice(S+1,E-1).replace(/""/g,'"')}for(;m<p;){if((A=f.charCodeAt(E=m++))===L0)b=!0;else if(A===IA)b=!0,f.charCodeAt(m)===L0&&++m;else if(A!==n)continue;return f.slice(S,E)}return _=!0,f.slice(S,p)}for(;(g=T())!==TA;){for(var I=[];g!==hj&&g!==TA;)I.push(g),g=T();d&&(I=d(I,y++))==null||h.push(I)}return h}function s(f,d){return f.map(function(h){return d.map(function(p){return c(h[p])}).join(e)})}function o(f,d){return d==null&&(d=pj(f)),[d.map(c).join(e)].concat(s(f,d)).join(`
`)}function a(f,d){return d==null&&(d=pj(f)),s(f,d).join(`
`)}function u(f){return f.map(l).join(`
`)}function l(f){return f.map(c).join(e)}function c(f){return f==null?"":f instanceof Date?x5e(f):t.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:r,parseRows:i,format:o,formatBody:a,formatRows:u,formatRow:l,formatValue:c}}var A5e=C5e(","),O5e=A5e.parse;function P5e(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function R5e(e,t){return fetch(e,t).then(P5e)}function N5e(e){return function(t,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=void 0),R5e(t,n).then(function(i){return e(i,r)})}}var k5e=N5e(O5e);function D5e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function nT(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function nm(e){return e=nT(Math.abs(e)),e?e[1]:NaN}function $5e(e,t){return function(n,r){for(var i=n.length,s=[],o=0,a=e[0],u=0;i>0&&a>0&&(u+a+1>r&&(a=Math.max(1,r-u)),s.push(n.substring(i-=a,i+a)),!((u+=a+1)>r));)a=e[o=(o+1)%e.length];return s.reverse().join(t)}}function L5e(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var M5e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function rT(e){if(!(t=M5e.exec(e)))throw new Error("invalid format: "+e);var t;return new XD({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}rT.prototype=XD.prototype;function XD(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}XD.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function F5e(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var zZ;function B5e(e,t){var n=nT(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-(zZ=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+nT(e,Math.max(0,t+s-1))[0]}function mj(e,t){var n=nT(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const gj={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:D5e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>mj(e*100,t),r:mj,s:B5e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function yj(e){return e}var _j=Array.prototype.map,vj=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function j5e(e){var t=e.grouping===void 0||e.thousands===void 0?yj:$5e(_j.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?yj:L5e(_j.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function l(f){f=rT(f);var d=f.fill,h=f.align,p=f.sign,m=f.symbol,y=f.zero,g=f.width,_=f.comma,b=f.precision,T=f.trim,I=f.type;I==="n"?(_=!0,I="g"):gj[I]||(b===void 0&&(b=12),T=!0,I="g"),(y||d==="0"&&h==="=")&&(y=!0,d="0",h="=");var E=m==="$"?n:m==="#"&&/[boxX]/.test(I)?"0"+I.toLowerCase():"",S=m==="$"?r:/[%p]/.test(I)?o:"",A=gj[I],L=/[defgprs%]/.test(I);b=b===void 0?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function W(z){var U=E,Z=S,H,ue,ie;if(I==="c")Z=A(z)+Z,z="";else{z=+z;var _e=z<0||1/z<0;if(z=isNaN(z)?u:A(Math.abs(z),b),T&&(z=F5e(z)),_e&&+z==0&&p!=="+"&&(_e=!1),U=(_e?p==="("?p:a:p==="-"||p==="("?"":p)+U,Z=(I==="s"?vj[8+zZ/3]:"")+Z+(_e&&p==="("?")":""),L){for(H=-1,ue=z.length;++H<ue;)if(ie=z.charCodeAt(H),48>ie||ie>57){Z=(ie===46?i+z.slice(H+1):z.slice(H))+Z,z=z.slice(0,H);break}}}_&&!y&&(z=t(z,1/0));var te=U.length+z.length+Z.length,oe=te<g?new Array(g-te+1).join(d):"";switch(_&&y&&(z=t(oe+z,oe.length?g-Z.length:1/0),oe=""),h){case"<":z=U+z+Z+oe;break;case"=":z=U+oe+z+Z;break;case"^":z=oe.slice(0,te=oe.length>>1)+U+z+Z+oe.slice(te);break;default:z=oe+U+z+Z;break}return s(z)}return W.toString=function(){return f+""},W}function c(f,d){var h=l((f=rT(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(nm(d)/3)))*3,m=Math.pow(10,-p),y=vj[8+p/3];return function(g){return h(m*g)+y}}return{format:l,formatPrefix:c}}var d1,zc,HZ;U5e({thousands:",",grouping:[3],currency:["$",""]});function U5e(e){return d1=j5e(e),zc=d1.format,HZ=d1.formatPrefix,d1}function V5e(e){return Math.max(0,-nm(Math.abs(e)))}function z5e(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(nm(t)/3)))*3-nm(Math.abs(e)))}function H5e(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,nm(t)-nm(e))+1}function JD(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const bj=Symbol("implicit");function ZD(){var e=new v2,t=[],n=[],r=bj;function i(s){let o=e.get(s);if(o===void 0){if(r!==bj)return r;e.set(s,o=t.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new v2;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return ZD(t,n).unknown(r)},JD.apply(i,arguments),i}function W5e(e){return function(){return e}}function q5e(e){return+e}var Ej=[0,1];function Zh(e){return e}function x2(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:W5e(isNaN(t)?NaN:.5)}function Y5e(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function G5e(e,t,n){var r=e[0],i=e[1],s=t[0],o=t[1];return i<r?(r=x2(i,r),s=n(o,s)):(r=x2(r,i),s=n(s,o)),function(a){return s(r(a))}}function K5e(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),s=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=x2(e[o],e[o+1]),s[o]=n(t[o],t[o+1]);return function(a){var u=B4e(e,a,1,r)-1;return s[u](i[u](a))}}function WZ(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Q5e(){var e=Ej,t=Ej,n=QD,r,i,s,o=Zh,a,u,l;function c(){var d=Math.min(e.length,t.length);return o!==Zh&&(o=Y5e(e[0],e[d-1])),a=d>2?K5e:G5e,u=l=null,f}function f(d){return d==null||isNaN(d=+d)?s:(u||(u=a(e.map(r),t,n)))(r(o(d)))}return f.invert=function(d){return o(i((l||(l=a(t,e.map(r),tT)))(d)))},f.domain=function(d){return arguments.length?(e=Array.from(d,q5e),c()):e.slice()},f.range=function(d){return arguments.length?(t=Array.from(d),c()):t.slice()},f.rangeRound=function(d){return t=Array.from(d),n=b5e,c()},f.clamp=function(d){return arguments.length?(o=d?!0:Zh,c()):o!==Zh},f.interpolate=function(d){return arguments.length?(n=d,c()):n},f.unknown=function(d){return arguments.length?(s=d,f):s},function(d,h){return r=d,i=h,c()}}function qZ(){return Q5e()(Zh,Zh)}function X5e(e,t,n,r){var i=E2(e,t,n),s;switch(r=rT(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=z5e(i,o))&&(r.precision=s),HZ(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=H5e(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=V5e(i))&&(r.precision=s-(r.type==="%")*2);break}}return zc(r)}function J5e(e){var t=e.domain;return e.ticks=function(n){var r=t();return Q4e(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return X5e(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,s=r.length-1,o=r[i],a=r[s],u,l,c=10;for(a<o&&(l=o,o=a,a=l,l=i,i=s,s=l);c-- >0;){if(l=b2(o,a,n),l===u)return r[i]=o,r[s]=a,t(r);if(l>0)o=Math.floor(o/l)*l,a=Math.ceil(a/l)*l;else if(l<0)o=Math.ceil(o*l)/l,a=Math.floor(a*l)/l;else break;u=l}return e},e}function RI(){var e=qZ();return e.copy=function(){return WZ(e,RI())},JD.apply(e,arguments),J5e(e)}function Z5e(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],s=e[r],o;return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),e[n]=t.floor(i),e[r]=t.ceil(s),e}const xA=new Date,CA=new Date;function ni(e,t,n,r){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const o=i(s),a=i.ceil(s);return s-o<a-s?o:a},i.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,a)=>{const u=[];if(s=i.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return u;let l;do u.push(l=new Date(+s)),t(s,a),e(s);while(l<s&&s<o);return u},i.filter=s=>ni(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;t(o,-1),!s(o););else for(;--a>=0;)for(;t(o,1),!s(o););}),n&&(i.count=(s,o)=>(xA.setTime(+s),CA.setTime(+o),e(xA),e(CA),Math.floor(n(xA,CA))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?o=>r(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const iT=ni(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);iT.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ni(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):iT);iT.range;const rl=1e3,jo=rl*60,il=jo*60,Il=il*24,e$=Il*7,wj=Il*30,AA=Il*365,ep=ni(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*rl)},(e,t)=>(t-e)/rl,e=>e.getUTCSeconds());ep.range;const t$=ni(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*rl)},(e,t)=>{e.setTime(+e+t*jo)},(e,t)=>(t-e)/jo,e=>e.getMinutes());t$.range;const eFe=ni(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*jo)},(e,t)=>(t-e)/jo,e=>e.getUTCMinutes());eFe.range;const n$=ni(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*rl-e.getMinutes()*jo)},(e,t)=>{e.setTime(+e+t*il)},(e,t)=>(t-e)/il,e=>e.getHours());n$.range;const tFe=ni(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*il)},(e,t)=>(t-e)/il,e=>e.getUTCHours());tFe.range;const z_=ni(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*jo)/Il,e=>e.getDate()-1);z_.range;const r$=ni(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Il,e=>e.getUTCDate()-1);r$.range;const nFe=ni(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Il,e=>Math.floor(e/Il));nFe.range;function ih(e){return ni(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*jo)/e$)}const NI=ih(0),sT=ih(1),rFe=ih(2),iFe=ih(3),rm=ih(4),sFe=ih(5),oFe=ih(6);NI.range;sT.range;rFe.range;iFe.range;rm.range;sFe.range;oFe.range;function sh(e){return ni(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/e$)}const YZ=sh(0),oT=sh(1),aFe=sh(2),uFe=sh(3),im=sh(4),lFe=sh(5),cFe=sh(6);YZ.range;oT.range;aFe.range;uFe.range;im.range;lFe.range;cFe.range;const i$=ni(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());i$.range;const fFe=ni(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());fFe.range;const xl=ni(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());xl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ni(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});xl.range;const Md=ni(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Md.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ni(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Md.range;function dFe(e,t,n,r,i,s){const o=[[ep,1,rl],[ep,5,5*rl],[ep,15,15*rl],[ep,30,30*rl],[s,1,jo],[s,5,5*jo],[s,15,15*jo],[s,30,30*jo],[i,1,il],[i,3,3*il],[i,6,6*il],[i,12,12*il],[r,1,Il],[r,2,2*Il],[n,1,e$],[t,1,wj],[t,3,3*wj],[e,1,AA]];function a(l,c,f){const d=c<l;d&&([l,c]=[c,l]);const h=f&&typeof f.range=="function"?f:u(l,c,f),p=h?h.range(l,+c+1):[];return d?p.reverse():p}function u(l,c,f){const d=Math.abs(c-l)/f,h=YD(([,,y])=>y).right(o,d);if(h===o.length)return e.every(E2(l/AA,c/AA,f));if(h===0)return iT.every(Math.max(E2(l,c,f),1));const[p,m]=o[d/o[h-1][2]<o[h][2]/d?h-1:h];return p.every(m)}return[a,u]}const[hFe,pFe]=dFe(xl,i$,NI,z_,n$,t$);function OA(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function PA(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function M0(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function mFe(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,s=e.days,o=e.shortDays,a=e.months,u=e.shortMonths,l=F0(i),c=B0(i),f=F0(s),d=B0(s),h=F0(o),p=B0(o),m=F0(a),y=B0(a),g=F0(u),_=B0(u),b={a:_e,A:te,b:oe,B:J,c:null,d:Aj,e:Aj,f:FFe,g:GFe,G:QFe,H:$Fe,I:LFe,j:MFe,L:GZ,m:BFe,M:jFe,p:x,q:C,Q:Rj,s:Nj,S:UFe,u:VFe,U:zFe,V:HFe,w:WFe,W:qFe,x:null,X:null,y:YFe,Y:KFe,Z:XFe,"%":Pj},T={a:B,A:P,b:O,B:Y,c:null,d:Oj,e:Oj,f:t8e,g:f8e,G:h8e,H:JFe,I:ZFe,j:e8e,L:QZ,m:n8e,M:r8e,p:fe,q:le,Q:Rj,s:Nj,S:i8e,u:s8e,U:o8e,V:a8e,w:u8e,W:l8e,x:null,X:null,y:c8e,Y:d8e,Z:p8e,"%":Pj},I={a:W,A:z,b:U,B:Z,c:H,d:xj,e:xj,f:RFe,g:Ij,G:Sj,H:Cj,I:Cj,j:CFe,L:PFe,m:xFe,M:AFe,p:L,q:IFe,Q:kFe,s:DFe,S:OFe,u:bFe,U:EFe,V:wFe,w:vFe,W:TFe,x:ue,X:ie,y:Ij,Y:Sj,Z:SFe,"%":NFe};b.x=E(n,b),b.X=E(r,b),b.c=E(t,b),T.x=E(n,T),T.X=E(r,T),T.c=E(t,T);function E(me,ge){return function(Se){var de=[],st=-1,Ke=0,qe=me.length,$e,ot,ut;for(Se instanceof Date||(Se=new Date(+Se));++st<qe;)me.charCodeAt(st)===37&&(de.push(me.slice(Ke,st)),(ot=Tj[$e=me.charAt(++st)])!=null?$e=me.charAt(++st):ot=$e==="e"?" ":"0",(ut=ge[$e])&&($e=ut(Se,ot)),de.push($e),Ke=st+1);return de.push(me.slice(Ke,st)),de.join("")}}function S(me,ge){return function(Se){var de=M0(1900,void 0,1),st=A(de,me,Se+="",0),Ke,qe;if(st!=Se.length)return null;if("Q"in de)return new Date(de.Q);if("s"in de)return new Date(de.s*1e3+("L"in de?de.L:0));if(ge&&!("Z"in de)&&(de.Z=0),"p"in de&&(de.H=de.H%12+de.p*12),de.m===void 0&&(de.m="q"in de?de.q:0),"V"in de){if(de.V<1||de.V>53)return null;"w"in de||(de.w=1),"Z"in de?(Ke=PA(M0(de.y,0,1)),qe=Ke.getUTCDay(),Ke=qe>4||qe===0?oT.ceil(Ke):oT(Ke),Ke=r$.offset(Ke,(de.V-1)*7),de.y=Ke.getUTCFullYear(),de.m=Ke.getUTCMonth(),de.d=Ke.getUTCDate()+(de.w+6)%7):(Ke=OA(M0(de.y,0,1)),qe=Ke.getDay(),Ke=qe>4||qe===0?sT.ceil(Ke):sT(Ke),Ke=z_.offset(Ke,(de.V-1)*7),de.y=Ke.getFullYear(),de.m=Ke.getMonth(),de.d=Ke.getDate()+(de.w+6)%7)}else("W"in de||"U"in de)&&("w"in de||(de.w="u"in de?de.u%7:"W"in de?1:0),qe="Z"in de?PA(M0(de.y,0,1)).getUTCDay():OA(M0(de.y,0,1)).getDay(),de.m=0,de.d="W"in de?(de.w+6)%7+de.W*7-(qe+5)%7:de.w+de.U*7-(qe+6)%7);return"Z"in de?(de.H+=de.Z/100|0,de.M+=de.Z%100,PA(de)):OA(de)}}function A(me,ge,Se,de){for(var st=0,Ke=ge.length,qe=Se.length,$e,ot;st<Ke;){if(de>=qe)return-1;if($e=ge.charCodeAt(st++),$e===37){if($e=ge.charAt(st++),ot=I[$e in Tj?ge.charAt(st++):$e],!ot||(de=ot(me,Se,de))<0)return-1}else if($e!=Se.charCodeAt(de++))return-1}return de}function L(me,ge,Se){var de=l.exec(ge.slice(Se));return de?(me.p=c.get(de[0].toLowerCase()),Se+de[0].length):-1}function W(me,ge,Se){var de=h.exec(ge.slice(Se));return de?(me.w=p.get(de[0].toLowerCase()),Se+de[0].length):-1}function z(me,ge,Se){var de=f.exec(ge.slice(Se));return de?(me.w=d.get(de[0].toLowerCase()),Se+de[0].length):-1}function U(me,ge,Se){var de=g.exec(ge.slice(Se));return de?(me.m=_.get(de[0].toLowerCase()),Se+de[0].length):-1}function Z(me,ge,Se){var de=m.exec(ge.slice(Se));return de?(me.m=y.get(de[0].toLowerCase()),Se+de[0].length):-1}function H(me,ge,Se){return A(me,t,ge,Se)}function ue(me,ge,Se){return A(me,n,ge,Se)}function ie(me,ge,Se){return A(me,r,ge,Se)}function _e(me){return o[me.getDay()]}function te(me){return s[me.getDay()]}function oe(me){return u[me.getMonth()]}function J(me){return a[me.getMonth()]}function x(me){return i[+(me.getHours()>=12)]}function C(me){return 1+~~(me.getMonth()/3)}function B(me){return o[me.getUTCDay()]}function P(me){return s[me.getUTCDay()]}function O(me){return u[me.getUTCMonth()]}function Y(me){return a[me.getUTCMonth()]}function fe(me){return i[+(me.getUTCHours()>=12)]}function le(me){return 1+~~(me.getUTCMonth()/3)}return{format:function(me){var ge=E(me+="",b);return ge.toString=function(){return me},ge},parse:function(me){var ge=S(me+="",!1);return ge.toString=function(){return me},ge},utcFormat:function(me){var ge=E(me+="",T);return ge.toString=function(){return me},ge},utcParse:function(me){var ge=S(me+="",!0);return ge.toString=function(){return me},ge}}}var Tj={"-":"",_:" ",0:"0"},mi=/^\s*\d+/,gFe=/^%/,yFe=/[\\^$*+?|[\]().{}]/g;function vn(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(t)+i:i)}function _Fe(e){return e.replace(yFe,"\\$&")}function F0(e){return new RegExp("^(?:"+e.map(_Fe).join("|")+")","i")}function B0(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function vFe(e,t,n){var r=mi.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function bFe(e,t,n){var r=mi.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function EFe(e,t,n){var r=mi.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function wFe(e,t,n){var r=mi.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function TFe(e,t,n){var r=mi.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Sj(e,t,n){var r=mi.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Ij(e,t,n){var r=mi.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function SFe(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function IFe(e,t,n){var r=mi.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function xFe(e,t,n){var r=mi.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function xj(e,t,n){var r=mi.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function CFe(e,t,n){var r=mi.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Cj(e,t,n){var r=mi.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function AFe(e,t,n){var r=mi.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function OFe(e,t,n){var r=mi.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function PFe(e,t,n){var r=mi.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function RFe(e,t,n){var r=mi.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function NFe(e,t,n){var r=gFe.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function kFe(e,t,n){var r=mi.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function DFe(e,t,n){var r=mi.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Aj(e,t){return vn(e.getDate(),t,2)}function $Fe(e,t){return vn(e.getHours(),t,2)}function LFe(e,t){return vn(e.getHours()%12||12,t,2)}function MFe(e,t){return vn(1+z_.count(xl(e),e),t,3)}function GZ(e,t){return vn(e.getMilliseconds(),t,3)}function FFe(e,t){return GZ(e,t)+"000"}function BFe(e,t){return vn(e.getMonth()+1,t,2)}function jFe(e,t){return vn(e.getMinutes(),t,2)}function UFe(e,t){return vn(e.getSeconds(),t,2)}function VFe(e){var t=e.getDay();return t===0?7:t}function zFe(e,t){return vn(NI.count(xl(e)-1,e),t,2)}function KZ(e){var t=e.getDay();return t>=4||t===0?rm(e):rm.ceil(e)}function HFe(e,t){return e=KZ(e),vn(rm.count(xl(e),e)+(xl(e).getDay()===4),t,2)}function WFe(e){return e.getDay()}function qFe(e,t){return vn(sT.count(xl(e)-1,e),t,2)}function YFe(e,t){return vn(e.getFullYear()%100,t,2)}function GFe(e,t){return e=KZ(e),vn(e.getFullYear()%100,t,2)}function KFe(e,t){return vn(e.getFullYear()%1e4,t,4)}function QFe(e,t){var n=e.getDay();return e=n>=4||n===0?rm(e):rm.ceil(e),vn(e.getFullYear()%1e4,t,4)}function XFe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+vn(t/60|0,"0",2)+vn(t%60,"0",2)}function Oj(e,t){return vn(e.getUTCDate(),t,2)}function JFe(e,t){return vn(e.getUTCHours(),t,2)}function ZFe(e,t){return vn(e.getUTCHours()%12||12,t,2)}function e8e(e,t){return vn(1+r$.count(Md(e),e),t,3)}function QZ(e,t){return vn(e.getUTCMilliseconds(),t,3)}function t8e(e,t){return QZ(e,t)+"000"}function n8e(e,t){return vn(e.getUTCMonth()+1,t,2)}function r8e(e,t){return vn(e.getUTCMinutes(),t,2)}function i8e(e,t){return vn(e.getUTCSeconds(),t,2)}function s8e(e){var t=e.getUTCDay();return t===0?7:t}function o8e(e,t){return vn(YZ.count(Md(e)-1,e),t,2)}function XZ(e){var t=e.getUTCDay();return t>=4||t===0?im(e):im.ceil(e)}function a8e(e,t){return e=XZ(e),vn(im.count(Md(e),e)+(Md(e).getUTCDay()===4),t,2)}function u8e(e){return e.getUTCDay()}function l8e(e,t){return vn(oT.count(Md(e)-1,e),t,2)}function c8e(e,t){return vn(e.getUTCFullYear()%100,t,2)}function f8e(e,t){return e=XZ(e),vn(e.getUTCFullYear()%100,t,2)}function d8e(e,t){return vn(e.getUTCFullYear()%1e4,t,4)}function h8e(e,t){var n=e.getUTCDay();return e=n>=4||n===0?im(e):im.ceil(e),vn(e.getUTCFullYear()%1e4,t,4)}function p8e(){return"+0000"}function Pj(){return"%"}function Rj(e){return+e}function Nj(e){return Math.floor(+e/1e3)}var Sh,JZ,nd,s$;m8e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function m8e(e){return Sh=mFe(e),JZ=Sh.format,nd=Sh.parse,s$=Sh.utcFormat,Sh.utcParse,Sh}function g8e(e){return new Date(e)}function y8e(e){return e instanceof Date?+e:+new Date(+e)}function ZZ(e,t,n,r,i,s,o,a,u,l){var c=qZ(),f=c.invert,d=c.domain,h=l(".%L"),p=l(":%S"),m=l("%I:%M"),y=l("%I %p"),g=l("%a %d"),_=l("%b %d"),b=l("%B"),T=l("%Y");function I(E){return(u(E)<E?h:a(E)<E?p:o(E)<E?m:s(E)<E?y:r(E)<E?i(E)<E?g:_:n(E)<E?b:T)(E)}return c.invert=function(E){return new Date(f(E))},c.domain=function(E){return arguments.length?d(Array.from(E,y8e)):d().map(g8e)},c.ticks=function(E){var S=d();return e(S[0],S[S.length-1],E??10)},c.tickFormat=function(E,S){return S==null?I:l(S)},c.nice=function(E){var S=d();return(!E||typeof E.range!="function")&&(E=t(S[0],S[S.length-1],E??10)),E?d(Z5e(S,E)):c},c.copy=function(){return WZ(c,ZZ(e,t,n,r,i,s,o,a,u,l))},c}function Ny(){return JD.apply(ZZ(hFe,pFe,xl,i$,NI,z_,n$,t$,ep,JZ).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ai(e){return function(){return e}}function eee(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new T5e(t)}function tee(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function nee(e){this._context=e}nee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function ree(e){return new nee(e)}function iee(e){return e[0]}function see(e){return e[1]}function Vg(e,t){var n=ai(!0),r=null,i=ree,s=null,o=eee(a);e=typeof e=="function"?e:e===void 0?iee:ai(e),t=typeof t=="function"?t:t===void 0?see:ai(t);function a(u){var l,c=(u=tee(u)).length,f,d=!1,h;for(r==null&&(s=i(h=o())),l=0;l<=c;++l)!(l<c&&n(f=u[l],l,u))===d&&((d=!d)?s.lineStart():s.lineEnd()),d&&s.point(+e(f,l,u),+t(f,l,u));if(h)return s=null,h+""||null}return a.x=function(u){return arguments.length?(e=typeof u=="function"?u:ai(+u),a):e},a.y=function(u){return arguments.length?(t=typeof u=="function"?u:ai(+u),a):t},a.defined=function(u){return arguments.length?(n=typeof u=="function"?u:ai(!!u),a):n},a.curve=function(u){return arguments.length?(i=u,r!=null&&(s=i(r)),a):i},a.context=function(u){return arguments.length?(u==null?r=s=null:s=i(r=u),a):r},a}function oee(e,t,n){var r=null,i=ai(!0),s=null,o=ree,a=null,u=eee(l);e=typeof e=="function"?e:e===void 0?iee:ai(+e),t=typeof t=="function"?t:ai(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?see:ai(+n);function l(f){var d,h,p,m=(f=tee(f)).length,y,g=!1,_,b=new Array(m),T=new Array(m);for(s==null&&(a=o(_=u())),d=0;d<=m;++d){if(!(d<m&&i(y=f[d],d,f))===g)if(g=!g)h=d,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),p=d-1;p>=h;--p)a.point(b[p],T[p]);a.lineEnd(),a.areaEnd()}g&&(b[d]=+e(y,d,f),T[d]=+t(y,d,f),a.point(r?+r(y,d,f):b[d],n?+n(y,d,f):T[d]))}if(_)return a=null,_+""||null}function c(){return Vg().defined(i).curve(o).context(s)}return l.x=function(f){return arguments.length?(e=typeof f=="function"?f:ai(+f),r=null,l):e},l.x0=function(f){return arguments.length?(e=typeof f=="function"?f:ai(+f),l):e},l.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:ai(+f),l):r},l.y=function(f){return arguments.length?(t=typeof f=="function"?f:ai(+f),n=null,l):t},l.y0=function(f){return arguments.length?(t=typeof f=="function"?f:ai(+f),l):t},l.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:ai(+f),l):n},l.lineX0=l.lineY0=function(){return c().x(e).y(t)},l.lineY1=function(){return c().x(e).y(n)},l.lineX1=function(){return c().x(r).y(t)},l.defined=function(f){return arguments.length?(i=typeof f=="function"?f:ai(!!f),l):i},l.curve=function(f){return arguments.length?(o=f,s!=null&&(a=o(s)),l):o},l.context=function(f){return arguments.length?(f==null?s=a=null:a=o(s=f),l):s},l}function kj(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function aee(e){this._context=e}aee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:kj(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:kj(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function tp(e){return new aee(e)}function sg(e,t,n){this.k=e,this.x=t,this.y=n}sg.prototype={constructor:sg,scale:function(e){return e===1?this:new sg(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new sg(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};sg.prototype;function _8e(){const e=new Map;return{listen(t,n){return e.has(t)||e.set(t,[]),e.get(t).push(n),()=>{e.set(t,(e.get(t)||[]).filter(r=>r!==n))}},fire(t,n){const r=e.get(t);r&&r.forEach(i=>i(n))}}}let h1;const v8e=new Uint8Array(16);function b8e(){if(!h1&&(h1=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!h1))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return h1(v8e)}const bi=[];for(let e=0;e<256;++e)bi.push((e+256).toString(16).slice(1));function E8e(e,t=0){return(bi[e[t+0]]+bi[e[t+1]]+bi[e[t+2]]+bi[e[t+3]]+"-"+bi[e[t+4]]+bi[e[t+5]]+"-"+bi[e[t+6]]+bi[e[t+7]]+"-"+bi[e[t+8]]+bi[e[t+9]]+"-"+bi[e[t+10]]+bi[e[t+11]]+bi[e[t+12]]+bi[e[t+13]]+bi[e[t+14]]+bi[e[t+15]]).toLowerCase()}const w8e=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Dj={randomUUID:w8e};function $j(e,t,n){if(Dj.randomUUID&&!t&&!e)return Dj.randomUUID();e=e||{};const r=e.random||(e.rng||b8e)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=r[i];return t}return E8e(r)}let gu=class{static get(){let t=$j();for(;this.ids.has(t);)t=$j();return this.ids.set(t,!0),t}};gu.ids=new Map;function yu(e){return"parent"in e}function T8e(e){const{label:t=void 0,state:n,initialArtifact:r,initialMetadata:i}=e,s={annotation:[],bookmark:[]},o=Object.keys(i||{}).reduce((u,l)=>(u[l]=[],i&&i[l]&&u[l].push({type:l,id:gu.get(),val:i[l],createdOn:Date.now()}),u),s),a=r?[{id:gu.get(),createdOn:Date.now(),val:r}]:[];return{id:gu.get(),label:t||"Root",event:"Root",children:[],level:0,createdOn:Date.now(),meta:o,artifacts:a,state:{type:"checkpoint",val:n}}}function S8e({parent:e,state:t,label:n,sideEffects:r={do:[],undo:[]},initialMetadata:i,initialArtifact:s,event:o}){const a={annotation:[],bookmark:[]},u=Object.keys(i||{}).reduce((c,f)=>(c[f]=[],i&&i[f]&&c[f].push({type:f,id:gu.get(),val:i[f],createdOn:Date.now()}),c),a),l=s?[{id:gu.get(),createdOn:Date.now(),val:s}]:[];return{id:gu.get(),label:n,event:o,children:[],parent:e.id,createdOn:Date.now(),meta:u,artifacts:l,sideEffects:r,state:t,level:e.level+1}}function Ir(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if({}.NODE_ENV!=="production"){var i=k8e[e],s=i?typeof i=="function"?i.apply(null,n):i:"unknown error nr: "+e;throw Error("[Immer] "+s)}throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(o){return"'"+o+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Fd(e){return!!e&&!!e[mo]}function tf(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===D8e}(e)||Array.isArray(e)||!!e[zg]||!!(!((t=e.constructor)===null||t===void 0)&&t[zg])||kI(e)||DI(e))}function sm(e,t,n){n===void 0&&(n=!1),nf(e)===0?(n?Object.keys:f$)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function nf(e){var t=e[mo];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:kI(e)?2:DI(e)?3:0}function ky(e,t){return nf(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function ub(e,t){return nf(e)===2?e.get(t):e[t]}function uee(e,t,n){var r=nf(e);r===2?e.set(t,n):r===3?(e.delete(t),e.add(n)):e[t]=n}function I8e(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function kI(e){return R8e&&e instanceof Map}function DI(e){return N8e&&e instanceof Set}function Ff(e){return e.o||e.t}function o$(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=$8e(e);delete t[mo];for(var n=f$(t),r=0;r<n.length;r++){var i=n[r],s=t[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function a$(e,t){return t===void 0&&(t=!1),u$(e)||Fd(e)||!tf(e)||(nf(e)>1&&(e.set=e.add=e.clear=e.delete=x8e),Object.freeze(e),t&&sm(e,function(n,r){return a$(r,!0)},!0)),e}function x8e(){Ir(2)}function u$(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function _u(e){var t=P2[e];return t||Ir(18,e),t}function C8e(e,t){P2[e]||(P2[e]=t)}function Lj(){return{}.NODE_ENV==="production"||om||Ir(0),om}function RA(e,t){t&&(_u("Patches"),e.u=[],e.s=[],e.v=t)}function aT(e){C2(e),e.p.forEach(A8e),e.p=null}function C2(e){e===om&&(om=e.l)}function Mj(e){return om={p:[],l:om,h:e,m:!0,_:0}}function A8e(e){var t=e[mo];t.i===0||t.i===1?t.j():t.O=!0}function NA(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.g||_u("ES5").S(t,e,r),r?(n[mo].P&&(aT(t),Ir(4)),tf(e)&&(e=uT(t,e),t.l||lT(t,e)),t.u&&_u("Patches").M(n[mo].t,e,t.u,t.s)):e=uT(t,n,[]),aT(t),t.u&&t.v(t.u,t.s),e!==c$?e:void 0}function uT(e,t,n){if(u$(t))return t;var r=t[mo];if(!r)return sm(t,function(s,o){return Fj(e,r,t,s,o,n)},!0),t;if(r.A!==e)return t;if(!r.P)return lT(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=o$(r.k):r.o;sm(r.i===3?new Set(i):i,function(s,o){return Fj(e,r,i,s,o,n)}),lT(e,i,!1),n&&e.u&&_u("Patches").R(r,n,e.u,e.s)}return r.o}function Fj(e,t,n,r,i,s){if({}.NODE_ENV!=="production"&&i===n&&Ir(5),Fd(i)){var o=uT(e,i,s&&t&&t.i!==3&&!ky(t.D,r)?s.concat(r):void 0);if(uee(n,r,o),!Fd(o))return;e.m=!1}if(tf(i)&&!u$(i)){if(!e.h.F&&e._<1)return;uT(e,i),t&&t.A.l||lT(e,i)}}function lT(e,t,n){n===void 0&&(n=!1),e.h.F&&e.m&&a$(t,n)}function kA(e,t){var n=e[mo];return(n?Ff(n):e)[t]}function Bj(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function A2(e){e.P||(e.P=!0,e.l&&A2(e.l))}function DA(e){e.o||(e.o=o$(e.t))}function O2(e,t,n){var r=kI(t)?_u("MapSet").N(t,n):DI(t)?_u("MapSet").T(t,n):e.g?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:Lj(),P:!1,I:!1,D:{},l:s,t:i,k:null,o:null,j:null,C:!1},u=a,l=R2;o&&(u=[a],l=og);var c=Proxy.revocable(u,l),f=c.revoke,d=c.proxy;return a.k=d,a.j=f,d}(t,n):_u("ES5").J(t,n);return(n?n.A:Lj()).p.push(r),r}function O8e(e){return Fd(e)||Ir(22,e),function t(n){if(!tf(n))return n;var r,i=n[mo],s=nf(n);if(i){if(!i.P&&(i.i<4||!_u("ES5").K(i)))return i.t;i.I=!0,r=jj(n,s),i.I=!1}else r=jj(n,s);return sm(r,function(o,a){i&&ub(i.t,o)===a||uee(r,o,t(a))}),s===3?new Set(r):r}(e)}function jj(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return o$(e)}function P8e(){function e(r){if(!tf(r))return r;if(Array.isArray(r))return r.map(e);if(kI(r))return new Map(Array.from(r.entries()).map(function(o){return[o[0],e(o[1])]}));if(DI(r))return new Set(Array.from(r).map(e));var i=Object.create(Object.getPrototypeOf(r));for(var s in r)i[s]=e(r[s]);return ky(r,zg)&&(i[zg]=r[zg]),i}function t(r){return Fd(r)?e(r):r}var n="add";C8e("Patches",{$:function(r,i){return i.forEach(function(s){for(var o=s.path,a=s.op,u=r,l=0;l<o.length-1;l++){var c=nf(u),f=""+o[l];c!==0&&c!==1||f!=="__proto__"&&f!=="constructor"||Ir(24),typeof u=="function"&&f==="prototype"&&Ir(24),typeof(u=ub(u,f))!="object"&&Ir(15,o.join("/"))}var d=nf(u),h=e(s.value),p=o[o.length-1];switch(a){case"replace":switch(d){case 2:return u.set(p,h);case 3:Ir(16);default:return u[p]=h}case n:switch(d){case 1:return p==="-"?u.push(h):u.splice(p,0,h);case 2:return u.set(p,h);case 3:return u.add(h);default:return u[p]=h}case"remove":switch(d){case 1:return u.splice(p,1);case 2:return u.delete(p);case 3:return u.delete(s.value);default:return delete u[p]}default:Ir(17,a)}}),r},R:function(r,i,s,o){switch(r.i){case 0:case 4:case 2:return function(a,u,l,c){var f=a.t,d=a.o;sm(a.D,function(h,p){var m=ub(f,h),y=ub(d,h),g=p?ky(f,h)?"replace":n:"remove";if(m!==y||g!=="replace"){var _=u.concat(h);l.push(g==="remove"?{op:g,path:_}:{op:g,path:_,value:y}),c.push(g===n?{op:"remove",path:_}:g==="remove"?{op:n,path:_,value:t(m)}:{op:"replace",path:_,value:t(m)})}})}(r,i,s,o);case 5:case 1:return function(a,u,l,c){var f=a.t,d=a.D,h=a.o;if(h.length<f.length){var p=[h,f];f=p[0],h=p[1];var m=[c,l];l=m[0],c=m[1]}for(var y=0;y<f.length;y++)if(d[y]&&h[y]!==f[y]){var g=u.concat([y]);l.push({op:"replace",path:g,value:t(h[y])}),c.push({op:"replace",path:g,value:t(f[y])})}for(var _=f.length;_<h.length;_++){var b=u.concat([_]);l.push({op:n,path:b,value:t(h[_])})}f.length<h.length&&c.push({op:"replace",path:u.concat(["length"]),value:f.length})}(r,i,s,o);case 3:return function(a,u,l,c){var f=a.t,d=a.o,h=0;f.forEach(function(p){if(!d.has(p)){var m=u.concat([h]);l.push({op:"remove",path:m,value:p}),c.unshift({op:n,path:m,value:p})}h++}),h=0,d.forEach(function(p){if(!f.has(p)){var m=u.concat([h]);l.push({op:n,path:m,value:p}),c.unshift({op:"remove",path:m,value:p})}h++})}(r,i,s,o)}},M:function(r,i,s,o){s.push({op:"replace",path:[],value:i===c$?void 0:i}),o.push({op:"replace",path:[],value:r})}})}var Uj,om,l$=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",R8e=typeof Map<"u",N8e=typeof Set<"u",Vj=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",c$=l$?Symbol.for("immer-nothing"):((Uj={})["immer-nothing"]=!0,Uj),zg=l$?Symbol.for("immer-draftable"):"__$immer_draftable",mo=l$?Symbol.for("immer-state"):"__$immer_state",k8e={0:"Illegal state",1:"Immer drafts cannot have computed properties",2:"This object has been frozen and should not be mutated",3:function(e){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+e},4:"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.",5:"Immer forbids circular references",6:"The first or second argument to `produce` must be a function",7:"The third argument to `produce` must be a function or undefined",8:"First argument to `createDraft` must be a plain object, an array, or an immerable object",9:"First argument to `finishDraft` must be a draft returned by `createDraft`",10:"The given draft is already finalized",11:"Object.defineProperty() cannot be used on an Immer draft",12:"Object.setPrototypeOf() cannot be used on an Immer draft",13:"Immer only supports deleting array indices",14:"Immer only supports setting array indices and the 'length' property",15:function(e){return"Cannot apply patch, path doesn't resolve: "+e},16:'Sets cannot have "replace" patches.',17:function(e){return"Unsupported patch operation: "+e},18:function(e){return"The plugin for '"+e+"' has not been loaded into Immer. To enable the plugin, import and call `enable"+e+"()` when initializing your application."},20:"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available",21:function(e){return"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '"+e+"'"},22:function(e){return"'current' expects a draft, got: "+e},23:function(e){return"'original' expects a draft, got: "+e},24:"Patching reserved attributes like __proto__, prototype and constructor is not allowed"},D8e=""+Object.prototype.constructor,f$=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,$8e=Object.getOwnPropertyDescriptors||function(e){var t={};return f$(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},P2={},R2={get:function(e,t){if(t===mo)return e;var n=Ff(e);if(!ky(n,t))return function(i,s,o){var a,u=Bj(s,o);return u?"value"in u?u.value:(a=u.get)===null||a===void 0?void 0:a.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!tf(r)?r:r===kA(e.t,t)?(DA(e),e.o[t]=O2(e.A.h,r,e)):r},has:function(e,t){return t in Ff(e)},ownKeys:function(e){return Reflect.ownKeys(Ff(e))},set:function(e,t,n){var r=Bj(Ff(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=kA(Ff(e),t),s=i==null?void 0:i[mo];if(s&&s.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(I8e(n,i)&&(n!==void 0||ky(e.t,t)))return!0;DA(e),A2(e)}return e.o[t]===n&&typeof n!="number"&&(n!==void 0||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return kA(e.t,t)!==void 0||t in e.t?(e.D[t]=!1,DA(e),A2(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Ff(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){Ir(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Ir(12)}},og={};sm(R2,function(e,t){og[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),og.deleteProperty=function(e,t){return{}.NODE_ENV!=="production"&&isNaN(parseInt(t))&&Ir(13),og.set.call(this,e,t,void 0)},og.set=function(e,t,n){return{}.NODE_ENV!=="production"&&t!=="length"&&isNaN(parseInt(t))&&Ir(14),R2.set.call(this,e[0],t,n,e[0])};var L8e=function(){function e(n){var r=this;this.g=Vj,this.F=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var u=r;return function(m){var y=this;m===void 0&&(m=a);for(var g=arguments.length,_=Array(g>1?g-1:0),b=1;b<g;b++)_[b-1]=arguments[b];return u.produce(m,function(T){var I;return(I=s).call.apply(I,[y,T].concat(_))})}}var l;if(typeof s!="function"&&Ir(6),o!==void 0&&typeof o!="function"&&Ir(7),tf(i)){var c=Mj(r),f=O2(r,i,void 0),d=!0;try{l=s(f),d=!1}finally{d?aT(c):C2(c)}return typeof Promise<"u"&&l instanceof Promise?l.then(function(m){return RA(c,o),NA(m,c)},function(m){throw aT(c),m}):(RA(c,o),NA(l,c))}if(!i||typeof i!="object"){if((l=s(i))===void 0&&(l=i),l===c$&&(l=void 0),r.F&&a$(l,!0),o){var h=[],p=[];_u("Patches").M(i,l,h,p),o(h,p)}return l}Ir(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(l){for(var c=arguments.length,f=Array(c>1?c-1:0),d=1;d<c;d++)f[d-1]=arguments[d];return r.produceWithPatches(l,function(h){return i.apply(void 0,[h].concat(f))})};var o,a,u=r.produce(i,s,function(l,c){o=l,a=c});return typeof Promise<"u"&&u instanceof Promise?u.then(function(l){return[l,o,a]}):[u,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){tf(n)||Ir(8),Fd(n)&&(n=O8e(n));var r=Mj(this),i=O2(this,n,void 0);return i[mo].C=!0,C2(r),i},t.finishDraft=function(n,r){var i=n&&n[mo];({}).NODE_ENV!=="production"&&(i&&i.C||Ir(9),i.I&&Ir(10));var s=i.A;return RA(s,r),NA(void 0,s)},t.setAutoFreeze=function(n){this.F=n},t.setUseProxies=function(n){n&&!Vj&&Ir(20),this.g=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=_u("Patches").$;return Fd(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},e}(),go=new L8e,M8e=go.produce;go.produceWithPatches.bind(go);go.setAutoFreeze.bind(go);go.setUseProxies.bind(go);go.applyPatches.bind(go);go.createDraft.bind(go);go.finishDraft.bind(go);function F8e(e,t={}){const{artifact:n=void 0,metadata:r=void 0,rootLabel:i="Root"}=t,s=T8e({state:e,label:i,initialArtifact:n,initialMetadata:r}),o={nodes:{[s.id]:s},root:s.id,current:s.id};return FX({name:"provenance-graph",initialState:o,reducers:{addMetadata(a,u){const{id:l,meta:c}=u.payload,f=a.nodes[l].meta,d=Object.keys(c).reduce((h,p)=>(h[p]||(h[p]=[]),h[p].push({type:p,id:gu.get(),val:c[p],createdOn:Date.now()}),h),f);a.nodes[u.payload.id].meta=d},addArtifact(a,u){a.nodes[u.payload.id].artifacts.push({id:gu.get(),createdOn:Date.now(),val:u.payload.artifact})},changeCurrent(a,u){a.current=u.payload},addNode(a,{payload:u}){a.nodes[u.id]=u,a.nodes[u.parent].children.push(u.id),a.current=u.id},load(a,{payload:u}){return u}}})}function B8e(e){const t=new Map,{reducer:n,actions:r,getInitialState:i}=F8e(e),s=iNe();s.startListening({matcher:O9(r.changeCurrent,r.addNode),effect:(a,u)=>{u.cancelActiveListeners(),t.forEach(l=>{const c=O9(r.addNode)(a),{skipOnNew:f}=l.config;f&&c||l.func(c?"new":"traversal")})}});const o=LX({reducer:n,middleware:a=>a().prepend(s.middleware)});return{initialState:i(),get backend(){return o.getState()},get current(){return o.getState().nodes[o.getState().current]},get root(){return o.getState().nodes[o.getState().root]},currentChange(a,u){const l={id:gu.get(),func:a,config:u};return t.set(l.id,l),()=>t.delete(l.id)},update:o.dispatch,...r}}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var j8e=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),U8e=Object.prototype.hasOwnProperty;function N2(e,t){return U8e.call(e,t)}function k2(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var i in e)N2(e,i)&&r.push(i);return r}function Ds(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function D2(e){for(var t=0,n=e.length,r;t<n;){if(r=e.charCodeAt(t),r>=48&&r<=57){t++;continue}return!1}return!0}function Bf(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function lee(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function $2(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if($2(e[t]))return!0}else if(typeof e=="object"){for(var r=k2(e),i=r.length,s=0;s<i;s++)if($2(e[r[s]]))return!0}}return!1}function zj(e,t){var n=[e];for(var r in t){var i=typeof t[r]=="object"?JSON.stringify(t[r],null,2):t[r];typeof i<"u"&&n.push(r+": "+i)}return n.join(`
`)}var cee=function(e){j8e(t,e);function t(n,r,i,s,o){var a=this.constructor,u=e.call(this,zj(n,{name:r,index:i,operation:s,tree:o}))||this;return u.name=r,u.index=i,u.operation=s,u.tree=o,Object.setPrototypeOf(u,a.prototype),u.message=zj(n,{name:r,index:i,operation:s,tree:o}),u}return t}(Error),wr=cee,V8e=Ds,np={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=cT(n,this.path);r&&(r=Ds(r));var i=bd(n,{op:"remove",path:this.from}).removed;return bd(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=cT(n,this.from);return bd(n,{op:"add",path:this.path,value:Ds(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:Dy(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},z8e={add:function(e,t,n){return D2(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var r=e.splice(t,1);return{newDocument:n,removed:r[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:np.move,copy:np.copy,test:np.test,_get:np._get};function cT(e,t){if(t=="")return e;var n={op:"_get",path:t};return bd(e,n),n.value}function bd(e,t,n,r,i,s){if(n===void 0&&(n=!1),r===void 0&&(r=!0),i===void 0&&(i=!0),s===void 0&&(s=0),n&&(typeof n=="function"?n(t,0,e,t.path):fT(t,0)),t.path===""){var o={newDocument:e};if(t.op==="add")return o.newDocument=t.value,o;if(t.op==="replace")return o.newDocument=t.value,o.removed=e,o;if(t.op==="move"||t.op==="copy")return o.newDocument=cT(e,t.from),t.op==="move"&&(o.removed=e),o;if(t.op==="test"){if(o.test=Dy(e,t.value),o.test===!1)throw new wr("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o.newDocument=e,o}else{if(t.op==="remove")return o.removed=e,o.newDocument=null,o;if(t.op==="_get")return t.value=e,o;if(n)throw new wr("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",s,t,e);return o}}else{r||(e=Ds(e));var a=t.path||"",u=a.split("/"),l=e,c=1,f=u.length,d=void 0,h=void 0,p=void 0;for(typeof n=="function"?p=n:p=fT;;){if(h=u[c],h&&h.indexOf("~")!=-1&&(h=lee(h)),i&&(h=="__proto__"||h=="prototype"&&c>0&&u[c-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&d===void 0&&(l[h]===void 0?d=u.slice(0,c).join("/"):c==f-1&&(d=t.path),d!==void 0&&p(t,0,e,d)),c++,Array.isArray(l)){if(h==="-")h=l.length;else{if(n&&!D2(h))throw new wr("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",s,t,e);D2(h)&&(h=~~h)}if(c>=f){if(n&&t.op==="add"&&h>l.length)throw new wr("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",s,t,e);var o=z8e[t.op].call(t,l,h,e);if(o.test===!1)throw new wr("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o}}else if(c>=f){var o=np[t.op].call(t,l,h,e);if(o.test===!1)throw new wr("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o}if(l=l[h],n&&c<f&&(!l||typeof l!="object"))throw new wr("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",s,t,e)}}}function $I(e,t,n,r,i){if(r===void 0&&(r=!0),i===void 0&&(i=!0),n&&!Array.isArray(t))throw new wr("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=Ds(e));for(var s=new Array(t.length),o=0,a=t.length;o<a;o++)s[o]=bd(e,t[o],n,!0,i,o),e=s[o].newDocument;return s.newDocument=e,s}function H8e(e,t,n){var r=bd(e,t);if(r.test===!1)throw new wr("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function fT(e,t,n,r){if(typeof e!="object"||e===null||Array.isArray(e))throw new wr("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(np[e.op]){if(typeof e.path!="string")throw new wr("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new wr('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new wr("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new wr("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&$2(e.value))throw new wr("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var i=e.path.split("/").length,s=r.split("/").length;if(i!==s+1&&i!==s)throw new wr("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==r)throw new wr("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var o={op:"_get",path:e.from,value:void 0},a=fee([o],n);if(a&&a.name==="OPERATION_PATH_UNRESOLVABLE")throw new wr("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new wr("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function fee(e,t,n){try{if(!Array.isArray(e))throw new wr("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)$I(Ds(t),Ds(e),n||!0);else{n=n||fT;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(i){if(i instanceof wr)return i;throw i}}function Dy(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),r=Array.isArray(t),i,s,o;if(n&&r){if(s=e.length,s!=t.length)return!1;for(i=s;i--!==0;)if(!Dy(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var a=Object.keys(e);if(s=a.length,s!==Object.keys(t).length)return!1;for(i=s;i--!==0;)if(!t.hasOwnProperty(a[i]))return!1;for(i=s;i--!==0;)if(o=a[i],!Dy(e[o],t[o]))return!1;return!0}return e!==e&&t!==t}const W8e=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:wr,_areEquals:Dy,applyOperation:bd,applyPatch:$I,applyReducer:H8e,deepClone:V8e,getValueByPointer:cT,validate:fee,validator:fT},Symbol.toStringTag,{value:"Module"}));/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var d$=new WeakMap,q8e=function(){function e(t){this.observers=new Map,this.obj=t}return e}(),Y8e=function(){function e(t,n){this.callback=t,this.observer=n}return e}();function G8e(e){return d$.get(e)}function K8e(e,t){return e.observers.get(t)}function Q8e(e,t){e.observers.delete(t.callback)}function X8e(e,t){t.unobserve()}function J8e(e,t){var n=[],r,i=G8e(e);if(!i)i=new q8e(e),d$.set(e,i);else{var s=K8e(i,t);r=s&&s.observer}if(r)return r;if(r={},i.value=Ds(e),t){r.callback=t,r.next=null;var o=function(){L2(r)},a=function(){clearTimeout(r.next),r.next=setTimeout(o)};typeof window<"u"&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return r.patches=n,r.object=e,r.unobserve=function(){L2(r),clearTimeout(r.next),Q8e(i,r),typeof window<"u"&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},i.observers.set(t,new Y8e(t,r)),r}function L2(e,t){t===void 0&&(t=!1);var n=d$.get(e.object);h$(n.value,e.object,e.patches,"",t),e.patches.length&&$I(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function h$(e,t,n,r,i){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var s=k2(t),o=k2(e),a=!1,u=o.length-1;u>=0;u--){var l=o[u],c=e[l];if(N2(t,l)&&!(t[l]===void 0&&c!==void 0&&Array.isArray(t)===!1)){var f=t[l];typeof c=="object"&&c!=null&&typeof f=="object"&&f!=null&&Array.isArray(c)===Array.isArray(f)?h$(c,f,n,r+"/"+Bf(l),i):c!==f&&(i&&n.push({op:"test",path:r+"/"+Bf(l),value:Ds(c)}),n.push({op:"replace",path:r+"/"+Bf(l),value:Ds(f)}))}else Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+Bf(l),value:Ds(c)}),n.push({op:"remove",path:r+"/"+Bf(l)}),a=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}))}if(!(!a&&s.length==o.length))for(var u=0;u<s.length;u++){var l=s[u];!N2(e,l)&&t[l]!==void 0&&n.push({op:"add",path:r+"/"+Bf(l),value:Ds(t[l])})}}}function dee(e,t,n){n===void 0&&(n=!1);var r=[];return h$(e,t,r,"",n),r}const Z8e=Object.freeze(Object.defineProperty({__proto__:null,compare:dee,generate:L2,observe:J8e,unobserve:X8e},Symbol.toStringTag,{value:"Module"}));Object.assign({},W8e,Z8e,{JsonPatchError:cee,deepClone:Ds,escapePathComponent:Bf,unescapePathComponent:lee});var ag=(e=>(e.TRAVERSAL_START="Traversal_Start",e.TRAVERSAL_END="Traversal_End",e))(ag||{});function lb(e,t){const n=e.state;if(n.type==="checkpoint")return n.val;const{checkpointRef:r}=n,i=t[r],s=hee(i,e,t);s.shift();const o=s.map(u=>t[u]).map(u=>u.state.val).reduce((u,l)=>[...u,...l],[]),a=lb(i,t);return $I(a,Ds(o),!0,!1).newDocument}function e9e(e,t){const n=Object.keys(e).length;return new Set(t.map(r=>r.path.split("/")[0])).size<n/2?"patch":"checkpoint"}function t9e({registry:e,initialState:t}){let n=!1;const r=_8e(),i=B8e(t);function s(c){return i.backend.nodes[c]}r.listen(ag.TRAVERSAL_START,()=>{n=!0}),r.listen(ag.TRAVERSAL_END,()=>{n=!1});const o={add(c,f=i.current.id){i.update(i.addMetadata({id:f,meta:c}))},latestOfType(c,f=i.current.id){var d;return(d=i.backend.nodes[f].meta[c])==null?void 0:d.at(-1)},allOfType(c,f=i.current.id){return i.backend.nodes[f].meta[c]},latest(c=i.current.id){const f=i.backend.nodes[c].meta,d=Object.keys(f).reduce((h,p)=>{const m=f[p].at(-1);return m&&(h[p]=m),h},{});return Object.keys(d).length>0?d:void 0},all(c=i.current.id){return i.backend.nodes[c].meta},types(c=i.current.id){return Object.keys(i.backend.nodes[c].meta)}},a={add(c,f=i.current.id){i.update(i.addArtifact({id:f,artifact:c}))},latest(c=i.current.id){return i.backend.nodes[c].artifacts.at(-1)},all(c=i.current.id){return i.backend.nodes[c].artifacts}},u={add(c,f=i.current.id){o.add({annotation:c},f)},latest(c=i.current.id){var f;return(f=o.latestOfType("annotation",c))==null?void 0:f.val},all(c=i.current.id){var f;return(f=o.allOfType("annotation",c))==null?void 0:f.map(d=>d.val)}},l={add(c=i.current.id){o.add({bookmark:!0},c)},remove(c=i.current.id){o.add({bookmark:!1},c)},is(c=i.current.id){var f;return!!((f=o.latestOfType("bookmark",c))!=null&&f.val)},toggle(c=i.current.id){l.is(c)?l.remove(c):l.add(c)}};return{registry:e,get isTraversing(){return n},getState(c=i.current){return lb(c,i.backend.nodes)},graph:i,get current(){return i.current},get root(){return i.root},record({label:c,state:f,sideEffects:d,eventType:h,onlySideEffects:p=!1}){let m=null,y=null;const g=lb(this.current,this.graph.backend.nodes);if(p)y={type:"checkpoint",val:f};else{const _=dee(g,f);if(e9e(f,_)==="checkpoint")y={type:"checkpoint",val:f};else{const b=this.current.state.type==="checkpoint"?this.current.id:this.current.state.checkpointRef;y={type:"patch",val:_,checkpointRef:b}}}if(!y)throw new Error(`Could not calculate new state. Previous state is: ${JSON.stringify(this.current.state,null,2)}`);if(m=S8e({label:c,state:y,parent:this.current,sideEffects:d,event:h}),!m)throw new Error("State Node creation failed!");i.update(i.addNode(m))},async apply(c,f){const d=e.get(f.type),h=lb(this.current,this.graph.backend.nodes);if(d.config.hasSideEffects){const{do:p=f,undo:m}=d.func(f.payload);this.record({label:c,state:h,sideEffects:{do:[p],undo:[m]},eventType:d.config.eventType})}else{const p=d.func(h,f.payload);this.record({label:c,state:p,sideEffects:{do:[],undo:[]},eventType:d.config.eventType})}},async to(c){r.fire(ag.TRAVERSAL_START);const f=hee(i.current,i.backend.nodes[c],i.backend.nodes),d=[];for(let h=0;h<f.length-1;++h){const p=s(f[h]),m=s(f[h+1]);r9e(p,m)?yu(p)&&d.push(...p.sideEffects.undo):yu(m)&&d.push(...m.sideEffects.do)}for(const h of d){const p=e.get(h.type).func;await p(h.payload)}i.update(i.changeCurrent(c)),r.fire(ag.TRAVERSAL_END)},undo(){const{current:c}=i;return yu(c)?this.to(c.parent):Promise.resolve(console.warn("Already at root!"))},redo(c="latest"){const{current:f}=i;return f.children.length>0?this.to(f.children[c==="oldest"?0:f.children.length-1]):Promise.resolve(console.warn("Already at latest in this branch!"))},currentChange(c,f=!1){return i.currentChange(c,{skipOnNew:f})},done(){console.log("Setup later for URL sharing.")},tree(){return pee(i.root,i.backend.nodes)},on(c,f){r.listen(c,f)},export(){return JSON.stringify(i.backend)},exportObject(){return JSON.parse(JSON.stringify(i.backend))},import(c){const f=JSON.parse(c),d=f.current;f.current=f.root,i.update(i.load(f)),this.to(d)},importObject(c){const f=c.current;c.current=c.root,i.update(i.load(c)),this.to(f)},metadata:o,artifact:a,annotations:u,bookmarks:l}}function n9e(e,t,n){let[r,i]=[e,t];r.level>i.level&&([r,i]=[i,r]);let s=i.level-r.level;for(;yu(i)&&s!==0;)i=n[i.parent],s-=1;if(r.id===i.id)return r.id;for(;r.id!==i.id;)yu(r)&&(r=n[r.parent]),yu(i)&&(i=n[i.parent]);return r.id}function hee(e,t,n){const r=n9e(e,t,n),i=n[r],s=[],o=[];let[a,u]=[e,t];for(;a.id!==i.id;)s.push(a),yu(a)&&(a=n[a.parent]);for(s.push(a);u.id!==i.id;)o.push(u),yu(u)&&(u=n[u.parent]);const l=o.reverse();return[...s,...l].map(c=>c.id)}function r9e(e,t){if(yu(e)&&e.parent===t.id)return!0;if(yu(t)&&t.parent===e.id)return!1;throw new Error("Incorrect use of function. Nodes are not connected to each other.")}function pee(e,t){return{...e,children:e.children.map(n=>pee(t[n],t)),name:`${e.label}`}}P8e();function i9e(e){return e.length===2?M8e(e):e}class p${static create(){return new p$}constructor(){this.registry=new Map}has(t){return this.registry.has(t)}register(t,n,r){const i=n.length===2;if(n.length>2)throw new Error("Incorrect action function signature. Action function can only have two arguments at most!");if(this.has(t))throw new Error(`Already registered: ${t}`);const{label:s=t,eventType:o=t}=r||{};return this.registry.set(t,{func:i9e(n),config:{hasSideEffects:!i,label:typeof s=="string"?()=>s:s,eventType:o}}),pu(t)}get(t){const n=this.registry.get(t);if(!n)throw new Error(`Not registered: ${t}`);return n}}var s9e="Expected a function",Hj=NaN,o9e="[object Symbol]",a9e=/^\s+|\s+$/g,u9e=/^[-+]0x[0-9a-f]+$/i,l9e=/^0b[01]+$/i,c9e=/^0o[0-7]+$/i,f9e=parseInt,d9e=typeof io=="object"&&io&&io.Object===Object&&io,h9e=typeof self=="object"&&self&&self.Object===Object&&self,p9e=d9e||h9e||Function("return this")(),m9e=Object.prototype,g9e=m9e.toString,y9e=Math.max,_9e=Math.min,$A=function(){return p9e.Date.now()};function v9e(e,t,n){var r,i,s,o,a,u,l=0,c=!1,f=!1,d=!0;if(typeof e!="function")throw new TypeError(s9e);t=Wj(t)||0,M2(n)&&(c=!!n.leading,f="maxWait"in n,s=f?y9e(Wj(n.maxWait)||0,t):s,d="trailing"in n?!!n.trailing:d);function h(E){var S=r,A=i;return r=i=void 0,l=E,o=e.apply(A,S),o}function p(E){return l=E,a=setTimeout(g,t),c?h(E):o}function m(E){var S=E-u,A=E-l,L=t-S;return f?_9e(L,s-A):L}function y(E){var S=E-u,A=E-l;return u===void 0||S>=t||S<0||f&&A>=s}function g(){var E=$A();if(y(E))return _(E);a=setTimeout(g,m(E))}function _(E){return a=void 0,d&&r?h(E):(r=i=void 0,o)}function b(){a!==void 0&&clearTimeout(a),l=0,r=u=i=a=void 0}function T(){return a===void 0?o:_($A())}function I(){var E=$A(),S=y(E);if(r=arguments,i=this,u=E,S){if(a===void 0)return p(u);if(f)return a=setTimeout(g,t),h(u)}return a===void 0&&(a=setTimeout(g,t)),o}return I.cancel=b,I.flush=T,I}function M2(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function b9e(e){return!!e&&typeof e=="object"}function E9e(e){return typeof e=="symbol"||b9e(e)&&g9e.call(e)==o9e}function Wj(e){if(typeof e=="number")return e;if(E9e(e))return Hj;if(M2(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=M2(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(a9e,"");var n=l9e.test(e);return n||c9e.test(e)?f9e(e.slice(2),n?2:8):u9e.test(e)?Hj:+e}var w9e=v9e;const Ma=Pa(w9e);function mee({xScale:e,yRange:t,vertPosition:n,ticks:r,isDate:i=!1,showLines:s=!0}){const o=w.useMemo(()=>r.length>1?Math.abs(r[1].offset-r[0].offset):e.range()[0]-e.range()[1],[r,e]),a=w.useCallback(u=>(i?s$("%b%e, %Y"):zc(".2s"))(u),[i]);return $.jsxs($.Fragment,{children:[s?$.jsx("path",{transform:`translate(0, ${t[1]})`,d:["M",e.range()[0],0,"H",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}):null,r.map(({value:u,offset:l})=>$.jsxs("g",{transform:`translate(${l}, ${n})`,children:[$.jsx("line",{y2:"6",stroke:"currentColor"}),s?$.jsx("line",{y2:`${-(t[0]-t[1])}`,stroke:"lightgray"}):null,$.jsx("foreignObject",{x:0-o/2,y:10,width:o,height:20,children:$.jsx(Nd,{children:$.jsx(ZK,{withinPortal:!0,label:u,children:$.jsx(Ct,{px:2,size:10,style:{textAlign:"center",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},children:+u==0?0:a(i?new Date(u):u)})})})})]},u))]})}const T9e=Object.freeze(Object.defineProperty({__proto__:null,XAxis:mee},Symbol.toStringTag,{value:"Module"}));function gee({dataset:e,yScale:t,xRange:n,horizontalPosition:r}){const i=w.useMemo(()=>t.ticks(6).map(o=>({value:o,yOffset:t(o)})),[t]),s=w.useMemo(()=>e==="clean_stocks"?zc(",.0%"):t.domain()[1]<5?zc(",.2r"):zc(",.0f"),[e,t]);return $.jsx($.Fragment,{children:i.map(({value:o,yOffset:a})=>$.jsxs("g",{transform:`translate(${r}, ${a})`,children:[$.jsx("line",{x2:`${n[1]-n[0]}`,stroke:`${o===0?"black":"gainsboro"}`,strokeWidth:o===0?1:.4}),$.jsx("text",{style:{dominantBaseline:"middle",fontSize:"10px",textAnchor:"end",transform:"translateX(-6px)",fill:"black",font:"Roboto"},children:s(o)},o)]},o))})}const S9e=Object.freeze(Object.defineProperty({__proto__:null,YAxis:gee},Symbol.toStringTag,{value:"Module"})),Qs={top:30,left:40,right:100,bottom:50};function F2({parameters:e,data:t,items:n,selection:r,range:i,guardrail:s}){const[o,a]=w.useState(null),u=U=>r!=null&&r.includes(U)?!o||o.length===0?!0:o.includes(U):!1,l=w.useMemo(()=>{const U=n.filter(H=>r==null?void 0:r.includes(H.name)).map(H=>H.group);return n.filter(H=>U==null?void 0:U.includes(H.group)).filter(H=>!(r!=null&&r.includes(H.name))).map(H=>H.name)},[r,n]),c=w.useMemo(()=>{const U=n.map(ie=>ie.group),Z=t.filter(ie=>U==null?void 0:U.includes(ie[e.group_var]));return[...H4e(Z,ie=>({mean:bA(ie,.5,_e=>_e[e.y_var]),upperq:bA(ie,.75,_e=>_e[e.y_var]),lowerq:bA(ie,.25,_e=>_e[e.y_var])}),ie=>ie[e.x_var])].flatMap(([ie,_e])=>({date:ie,mean:_e.mean,upperq:_e.upperq,lowerq:_e.lowerq}))},[t,n,e]),[f,{height:d,width:h}]=tk(),p=w.useMemo(()=>h-Qs.left-Qs.right,[h]),m=w.useMemo(()=>d-Qs.top-Qs.bottom,[d]),{xMin:y,yMin:g,xMax:_,yMax:b}=w.useMemo(()=>{let U=[];switch(s){case"super_data":U=r==null?void 0:r.concat(l);break;default:U=r;break}const Z=t.map(B=>+B[e.x_var]).filter(B=>B!==null),[H,ue]=xp(Z),ie=t.filter(B=>U.includes(B[e.cat_var])).map(B=>+B[e.y_var]).filter(B=>B!==null),[_e,te]=e.dataset==="clean_stocks"?xp(ie):[0,xp(ie)[1]],[oe,J]=[Jw(c.map(B=>B.lowerq)),Xw(c.map(B=>B.upperq))],x=s==="super_summ"?Jw([_e,oe]):_e,C=s==="super_summ"?Xw([te,J]):te;return{xMin:H,xMax:ue,yMin:x,yMax:C}},[t,r,i,s]),T=w.useMemo(()=>i?Ny([Qs.left,p+Qs.left]).domain(i):Ny([Qs.left,p+Qs.left]).domain([new Date(e.start_date),new Date(e.end_date)]),[p,_,y,i]),I=w.useMemo(()=>RI([m+Qs.top,Qs.top]).domain([g,b]).nice(),[m,b,g]),E=w.useMemo(()=>{const U=Array.from(new Set(t.map(Z=>Z[e.cat_var])));return ZD(qD).domain(U)},[t]),S=w.useMemo(()=>{if(!T||!I)return;const U=Vg();return U.x(H=>T(nd("%Y-%m-%d")(H[e.x_var]))),U.y(H=>I(H[e.y_var])),U.curve(tp),r==null?void 0:r.map(H=>({country:H,path:U(t.filter(ue=>ue[e.cat_var]===H))}))},[t,T,I,r,_,s]),A=w.useMemo(()=>{if(s!=="super_data")return null;const U=Vg();return U.x(H=>T(nd("%Y-%m-%d")(H[e.x_var]))),U.y(H=>I(H[e.y_var])),U.curve(tp),l==null?void 0:l.map(H=>({country:H,path:U(t.filter(ue=>ue[e.cat_var]===H))}))},[t,T,I,r,_,s]),L=w.useMemo(()=>{if(s!=="super_summ")return null;const U=Vg();U.x(ie=>T(nd("%Y-%m-%d")(ie.date))),U.y(ie=>I(ie.mean)),U.curve(tp);const Z=U(c),H=oee();H.x(ie=>T(nd("%Y-%m-%d")(ie.date))),H.y0(ie=>I(ie.lowerq)),H.y1(ie=>I(ie.upperq)),H.curve(tp);const ue=H(c);return{meanLine:Z,confidenceBands:ue,data:c}},[t,T,I,r,_,s]),W=w.useMemo(()=>e.dataset==="clean_stocks"?"Market Index":"Average",[e]),z=w.useMemo(()=>{let Z=null;switch(s){case"super_data":Z=r==null?void 0:r.concat(A==null?void 0:A.map(ue=>ue.country));break;case"super_summ":Z=r==null?void 0:r.concat([W]);break;default:Z=r;break}const H=Z==null?void 0:Z.map(ue=>({country:ue,label_pos:ue===W?L==null?void 0:L.data.slice(-1).map(ie=>I(ie.mean))[0]:t.filter(ie=>ie[e.cat_var]===ue).slice(-1).map(ie=>I(ie[e.y_var]))[0]})).sort((ue,ie)=>ue.label_pos<ie.label_pos?1:-1);if(!H)return H;for(let ue=0;ue<(H==null?void 0:H.length);ue+=1){if(!H[ue-1])continue;const ie=H[ue-1].label_pos-H[ue].label_pos;ie>=10||(H[ue].label_pos=H[ue].label_pos-10+ie)}return H},[t,r,I,s]);return(r==null?void 0:r.length)===0?$.jsx(Nd,{ref:f,style:{width:"800px",height:"400px"},children:$.jsx(Ct,{fs:"italic",c:"dimmed",children:"Select an item to view the chart."})}):$.jsxs("svg",{id:"baseLineChart",ref:f,style:{height:"400px",width:"800px",fontFamily:'"Helvetica Neue", "Helvetica", "Arial", sans-serif'},children:[$.jsxs("g",{id:"axes",children:[$.jsx(mee,{isDate:!0,xScale:T,yRange:I.range(),vertPosition:m+Qs.top,showLines:!1,ticks:T.ticks(6).map(U=>({value:U.toString(),offset:T(U)}))}),$.jsx(gee,{dataset:e.dataset,yScale:I,horizontalPosition:Qs.left,xRange:T.range()})]}),$.jsx("svg",{style:{width:`${p}`},children:A==null?void 0:A.map(U=>$.jsx("g",{children:$.jsx("path",{id:`${U.country}`,fill:"none",stroke:u(U.country)?E(U.country):"gray",strokeDasharray:"4,1",strokeWidth:.5,d:U.path},`${U.country}_key`)},`${U.country}_g`))},"control_lines"),$.jsx("svg",{style:{width:`${p}`},children:L?$.jsxs("g",{children:[$.jsx("path",{id:"confidenceBands",fill:"lightgray",opacity:.25,stroke:"none",d:L.confidenceBands},"confidenceBands_key"),$.jsx("path",{id:"meanLine",fill:"none",stroke:"gray",strokeDasharray:"4,1",strokeWidth:.5,d:L.meanLine},"meanLine_key")]},"summary_g"):null},"control_bands"),$.jsxs("svg",{style:{width:`${p}`},children:[S==null?void 0:S.map(U=>$.jsx("g",{children:$.jsx("path",{id:`${U.country}`,fill:"none",stroke:u(U.country)?E(U.country):"gainsboro",strokeWidth:o!=null&&o.includes(U.country)?2:1.5,d:U.path},`${U.country}_key`)},`${U.country}_g`)),z==null?void 0:z.map(U=>$.jsx("foreignObject",{x:p+Qs.left+5,y:U.label_pos-7,width:100,height:20,children:$.jsx(Ct,{px:2,size:10,color:u(U.country)?E(U.country):"silver",onMouseOver:Z=>{const H=Z.target;r!=null&&r.includes(H.innerText)&&a([H.innerText])},onMouseOut:()=>a([]),children:U.country.includes("Policy")?U.country.split("(Policy")[0]:U.country})},`${U.country}_label`))]},"lines")]})}const I9e=Object.freeze(Object.defineProperty({__proto__:null,LineChart:F2,default:F2},Symbol.toStringTag,{value:"Module"})),Ih={top:0,left:0,right:0,bottom:0},qj=20,LA=60;function B2({parameters:e,data:t,items:n,selection:r,setSelection:i,trackSelection:s,range:o,guardrail:a}){const u=w.useMemo(()=>o?Ny([Ih.left,LA+Ih.left]).domain(o):Ny([Ih.left,LA+Ih.left]).domain([new Date(e.start_date),new Date(e.end_date)]),[e,o]),l=w.useMemo(()=>{const d=t.filter(m=>n==null?void 0:n.map(y=>y.name).includes(m[e.cat_var])).map(m=>+m[e.y_var]).filter(m=>m!==null),[h,p]=xp(d);return RI([qj+Ih.top,Ih.top]).domain([h,p]).nice()},[e,t,n]),c=w.useMemo(()=>{const d=Array.from(new Set(t.map(h=>h[e.cat_var])));return ZD(qD).domain(d)},[e,t]),f=w.useMemo(()=>{if(a!=="juxt_data")return null;const d=oee();d.x(m=>u(nd("%Y-%m-%d")(m[e.x_var]))),d.y0(()=>l(0)),d.y1(m=>l(m[e.y_var])),d.curve(tp);const h=Vg();return h.x(m=>u(nd("%Y-%m-%d")(m[e.x_var]))),h.y(m=>l(m[e.y_var])),h.curve(tp),n==null?void 0:n.map(m=>({country:m.name,path:h(t.filter(y=>y[e.cat_var]===m.name)),area:d(t.filter(y=>y[e.cat_var]===m.name))}))},[e,a,t,n,u,l]);return $.jsx(Kp.Group,{orientation:"vertical",onChange:d=>{i(d),s(d)},spacing:0,offset:"sm",children:n==null?void 0:n.map(d=>$.jsxs($.Fragment,{children:[d.name==="Eldoril North"?$.jsx(gd,{size:"xs",label:"Policy A",labelPosition:"left",color:"black"}):null,d.name==="Eldoril West"?$.jsx(gd,{size:"xs",label:"Policy B",labelPosition:"left",color:"black"}):null,d.name==="Silvoria North"?$.jsx(gd,{size:"xs",label:"Policy C",labelPosition:"left",color:"black"}):null,$.jsxs(tl,{grow:!0,gutter:8,columns:2,children:[$.jsx(tl.Col,{span:1,children:$.jsx(Kp,{value:d.name,label:d.name.includes("Policy")?d.name.split("(Policy")[0]:d.name,styles:a==="juxt_data"?{root:{display:"flex",alignItems:"flex-end",padding:"2px 0"}}:{},children:d.name},`${d.name}_checkbox`)},`${d.name}_grid1`),$.jsx(tl.Col,{span:a==="juxt_data"?"auto":3,children:$.jsxs("svg",{style:{width:`${LA}`,height:`${qj}`},children:[$.jsx("path",{id:`${d.name}_sparkarea`,fill:r!=null&&r.includes(d.name)?c(d.name):"gray",stroke:"none",opacity:.25,d:f==null?void 0:f.filter(h=>h.country===d.name)[0].area},`${d.name}_sparkarea`),$.jsx("path",{id:`${d.name}_spark`,fill:"none",stroke:r!=null&&r.includes(d.name)?c(d.name):"gray",strokeWidth:.75,d:f==null?void 0:f.filter(h=>h.country===d.name)[0].path},`${d.name}_spark`)]},`${d.name}_sparksvg`)},`${d.name}_grid2`)]},`${d.name}_grid`)]}))})}const x9e=Object.freeze(Object.defineProperty({__proto__:null,Sidebar:B2,default:B2},Symbol.toStringTag,{value:"Module"}));function j2({parameters:e,setRange:t,trackRange:n}){function r(s){return Ny([0,100]).domain([new Date(e.start_date),new Date(e.end_date)]).invert(s)}function i(s){const o=r(s);return s$("%b %e, %Y")(o)}return $.jsx(xQ,{defaultValue:[0,100],label:s=>i(s),labelAlwaysOn:!0,disabled:!e.allow_time_slider,onChange:([s,o])=>{t([r(s),r(o)]),n([r(s),r(o)])}})}const C9e=Object.freeze(Object.defineProperty({__proto__:null,RangeSelector:j2,default:j2},Symbol.toStringTag,{value:"Module"}));function U2({guardrail:e,setGuardrail:t}){return $.jsxs($.Fragment,{children:[$.jsx(Ct,{children:"Guardrail:"}),$.jsx(dQ,{value:e,onChange:t,data:[{value:"none",label:"none"},{value:"super_data",label:"super_data"},{value:"super_summ",label:"super_summ"},{value:"juxt_data",label:"juxt_data"},{value:"juxt_summ",label:"juxt_summ"}]})]})}const A9e=Object.freeze(Object.defineProperty({__proto__:null,Selector:U2,default:U2},Symbol.toStringTag,{value:"Module"})),yn=Array.isArray;function Vs(e){return e!=null?yn(e)?e:[e]:[]}function O9e(e=0,t=1/0){return`${Yj(e)} < row_number() && row_number() <= ${Yj(t)}`}function Yj(e){return e<0?`count() + ${e}`:e}class yee{constructor(t){t&&(this._params=t)}params(t){return arguments.length?(t&&(this._params={...this._params,...t}),this):this._params}reify(t){return this.__reify(this,t)}count(t){return this.__count(this,t)}derive(t,n){return this.__derive(this,t,n)}filter(t){return this.__filter(this,t)}slice(t,n){return this.filter(O9e(t,n)).reify()}groupby(...t){return this.__groupby(this,t.flat())}orderby(...t){return this.__orderby(this,t.flat())}relocate(t,n){return this.__relocate(this,Vs(t),n)}rename(...t){return this.__rename(this,t.flat())}rollup(t){return this.__rollup(this,t)}sample(t,n){return this.__sample(this,t,n)}select(...t){return this.__select(this,t.flat())}ungroup(){return this.__ungroup(this)}unorder(){return this.__unorder(this)}dedupe(...t){return this.__dedupe(this,t.flat())}impute(t,n){return this.__impute(this,t,n)}fold(t,n){return this.__fold(this,t,n)}pivot(t,n,r){return this.__pivot(this,t,n,r)}spread(t,n){return this.__spread(this,t,n)}unroll(t,n){return this.__unroll(this,t,n)}lookup(t,n,...r){return this.__lookup(this,t,n,r.flat())}join(t,n,r,i){return this.__join(this,t,n,r,i)}join_left(t,n,r,i){const s={...i,left:!0,right:!1};return this.__join(this,t,n,r,s)}join_right(t,n,r,i){const s={...i,left:!1,right:!0};return this.__join(this,t,n,r,s)}join_full(t,n,r,i){const s={...i,left:!0,right:!0};return this.__join(this,t,n,r,s)}cross(t,n,r){return this.__cross(this,t,n,r)}semijoin(t,n){return this.__semijoin(this,t,n)}antijoin(t,n){return this.__antijoin(this,t,n)}concat(...t){return this.__concat(this,t.flat())}union(...t){return this.__union(this,t.flat())}intersect(...t){return this.__intersect(this,t.flat())}except(...t){return this.__except(this,t.flat())}}function jt(e){throw Error(e)}function cs(e){return typeof e=="number"}function er(e){return typeof e=="function"}function LI(e,t){const n=Array(e);if(er(t))for(let r=0;r<e;++r)n[r]=t(r);else n.fill(t);return n}let P9e=class extends yee{constructor(t,n,r,i,s,o,a){super(a),this._names=Object.freeze(t),this._data=r,this._total=n,this._nrows=i?i.count():n,this._mask=n!==this._nrows&&i||null,this._group=s||null,this._order=o||null}create(t){jt("Not implemented")}get[Symbol.toStringTag](){if(!this._names)return"Object";const t=this.numRows()+" row"+(this.numRows()!==1?"s":"");return`Table: ${this.numCols()+" col"+(this.numCols()!==1?"s":"")} x ${t}`+(this.isFiltered()?` (${this.totalRows()} backing)`:"")+(this.isGrouped()?`, ${this._group.size} groups`:"")+(this.isOrdered()?", ordered":"")}isFiltered(){return!!this._mask}isGrouped(){return!!this._group}isOrdered(){return!!this._order}data(){return this._data}mask(){return this._mask}groups(){return this._group}comparator(){return this._order}totalRows(){return this._total}numRows(){return this._nrows}get size(){return this._nrows}numCols(){return this._names.length}columnNames(t){return t?this._names.filter(t):this._names.slice()}columnName(t){return this._names[t]}columnIndex(t){return this._names.indexOf(t)}columnArray(t,n){return this.array(t,n)}array(t,n){jt("Not implemented")}*values(t){const n=this.getter(t),r=this.numRows();for(let i=0;i<r;++i)yield n(i)}get(t,n=0){jt("Not implemented")}getter(t){jt("Not implemented")}objects(t){jt("Not implemented")}object(t){jt("Not implemented")}[Symbol.iterator](){jt("Not implemented")}print(t={}){cs(t)?t={limit:t}:t.limit==null&&(t.limit=10);const n=this.objects({...t,grouped:!1}),r=`${this[Symbol.toStringTag]}. Showing ${n.length} rows.`;return console.log(r),console.table(n),this}indices(t=!0){if(this._index)return this._index;const n=this.numRows(),r=new Uint32Array(n),i=this.isOrdered(),s=this.mask();let o=-1;if(s)for(let a=s.next(0);a>=0;a=s.next(a+1))r[++o]=a;else for(let a=0;a<n;++a)r[++o]=a;if(t&&i){const a=this._order,u=this._data;r.sort((l,c)=>a(l,c,u))}return(t||!i)&&(this._index=r),r}partitions(t=!0){if(this._partitions)return this._partitions;if(!this.isGrouped())return[this.indices(t)];const{keys:n,size:r}=this._group,i=LI(r,()=>[]),s=this._index,o=this.mask(),a=this.numRows();if(s&&this.isOrdered())for(let u=0,l;u<a;++u)l=s[u],i[n[l]].push(l);else if(o)for(let u=o.next(0);u>=0;u=o.next(u+1))i[n[u]].push(u);else for(let u=0;u<a;++u)i[n[u]].push(u);if(t&&!s&&this.isOrdered()){const u=this._order,l=this._data;for(let c=0;c<r;++c)i[c].sort((f,d)=>u(f,d,l))}return(t||!this.isOrdered())&&(this._partitions=i),i}scan(t,n,r=1/0,i=0){const s=this._mask,o=this._nrows,a=this._data;let u=i||0;if(u>o)return;const l=Math.min(o,u+r),c=()=>u=this._total;if(n&&this.isOrdered()||s&&this._index){const f=this.indices(),d=this._data;for(;u<l;++u)t(f[u],d,c)}else if(s){let f=l-u+1;for(u=s.nth(u);--f&&u>-1;u=s.next(u+1))t(u,a,c)}else for(;u<l;++u)t(u,a,c)}slice(t=0,n=1/0){if(this.isGrouped())return super.slice(t,n);const r=[],i=this.numRows();return t=Math.max(0,t+(t<0?i:0)),n=Math.min(i,Math.max(0,n+(n<0?i:0))),this.scan(s=>r.push(s),!0,n-t,t),this.reify(r)}reduce(t){return this.__reduce(this,t)}},R9e=class{constructor(t){this.data=t}get length(){return this.data.length}get(t){return this.data[t]}[Symbol.iterator](){return this.data[Symbol.iterator]()}},N9e=function(e){return e&&er(e.get)?e:new R9e(e)};function Cl(e){return e instanceof Date}function Xi(e){return e===Object(e)}function dT(e){return e instanceof RegExp}function Li(e){return typeof e=="string"}function k9e(e,t){const n=r=>jt(`Illegal argument type: ${r||typeof e}`);return e instanceof Map?Gj(e.entries(),t):Cl(e)?n("Date"):dT(e)?n("RegExp"):Li(e)?n():yn(e)?D9e(e,t):er(e[Symbol.iterator])?$9e(e,t):Xi(e)?Gj(Object.entries(e),t):n()}function Gj(e,t=["key","value"]){const n=[],r=[];for(const[s,o]of e)n.push(s),r.push(o);const i={};return t[0]&&(i[t[0]]=n),t[1]&&(i[t[1]]=r),i}function D9e(e,t){const n=e.length,r={},i=s=>r[s]=Array(n);if(n){t=t||Object.keys(e[0]);const s=t.map(i),o=s.length;for(let a=0;a<n;++a){const u=e[a];for(let l=0;l<o;++l)s[l][a]=u[t[l]]}}else t&&t.forEach(i);return r}function $9e(e,t){const n={},r=o=>n[o]=[];let i,s;for(const o of e){i||(t=t||Object.keys(o),i=t.map(r),s=i.length);for(let a=0;a<s;++a)i[a].push(o[t[a]])}return!i&&t&&t.forEach(r),n}const{hasOwnProperty:L9e}=Object.prototype;function Ca(e,t){return L9e.call(e,t)}function To(e){return e?new Kj({...e.data()},e.columnNames()):new Kj}class Kj{constructor(t,n){this.data=t||{},this.names=n||[]}add(t,n){return this.has(t)||this.names.push(t+""),this.data[t]=n}has(t){return Ca(this.data,t)}new(){return this.filter=null,this.groups=this.groups||null,this.order=null,this}groupby(t){return this.groups=t,this}}const dn=void 0,M9e=Object.getPrototypeOf(Int8Array);function H_(e){return e instanceof M9e}function rd(e){return yn(e)||H_(e)}function _a(e){return e!=null&&e===e}const j0=e=>rd(e)||Li(e),F9e={compact:e=>rd(e)?e.filter(t=>_a(t)):e,concat:(...e)=>[].concat(...e),includes:(e,t,n)=>j0(e)?e.includes(t,n):!1,indexof:(e,t)=>j0(e)?e.indexOf(t):-1,join:(e,t)=>rd(e)?e.join(t):dn,lastindexof:(e,t)=>j0(e)?e.lastIndexOf(t):-1,length:e=>j0(e)?e.length:0,pluck:(e,t)=>rd(e)?e.map(n=>_a(n)?n[t]:dn):dn,reverse:e=>rd(e)?e.slice().reverse():Li(e)?e.split("").reverse().join(""):dn,slice:(e,t,n)=>j0(e)?e.slice(t,n):dn};function B9e(e,t,n,r,i){return e==null?null:e<t?-1/0:e>n?1/0:(e=Math.max(t,Math.min(e,n)),t+r*Math.floor(1e-14+(e-t)/r+(i||0)))}function cb(e,t,n="0"){const r=e+"",i=r.length;return i<t?Array(t-i+1).join(n)+r:r}const $a=e=>(e<10?"0":"")+e,j9e=e=>e<0?"-"+cb(-e,6):e>9999?"+"+cb(e,6):cb(e,4);function _ee(e,t,n,r,i,s,o,a,u){const l=a?"Z":"";return j9e(e)+"-"+$a(t+1)+"-"+$a(n)+(!u||o?"T"+$a(r)+":"+$a(i)+":"+$a(s)+"."+cb(o,3)+l:s?"T"+$a(r)+":"+$a(i)+":"+$a(s)+l:i||r||!a?"T"+$a(r)+":"+$a(i)+l:"")}function vee(e,t){return isNaN(e)?"Invalid Date":_ee(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds(),!1,t)}function MI(e,t){return isNaN(e)?"Invalid Date":_ee(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds(),!0,t)}const U9e=/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/;function V9e(e){return e.match(U9e)}function z9e(e,t=Date.parse){return V9e(e)?t(e):e}const bee=6e4,Eee=864e5,wee=6048e5,Sr=new Date,xr=new Date,Rr=e=>(Sr.setTime(typeof e=="string"?z9e(e):e),Sr);function H9e(e,t,n,r,i,s,o){return arguments.length?new Date(e,t||0,n??1,r||0,i||0,s||0,o||0):new Date(Date.now())}function W9e(e,t,n,r,i,s,o){return arguments.length?new Date(Date.UTC(e,t||0,n??1,r||0,i||0,s||0,o||0)):new Date(Date.now())}function q9e(e){xr.setTime(+e),xr.setHours(0,0,0,0),Sr.setTime(+xr),Sr.setMonth(0),Sr.setDate(1);const t=(xr.getTimezoneOffset()-Sr.getTimezoneOffset())*bee;return Math.floor(1+(xr-Sr-t)/Eee)}function Y9e(e){xr.setTime(+e),xr.setUTCHours(0,0,0,0);const t=Date.UTC(xr.getUTCFullYear(),0,1);return Math.floor(1+(xr-t)/Eee)}function G9e(e,t){const n=t||0;xr.setTime(+e),xr.setDate(xr.getDate()-(xr.getDay()+7-n)%7),xr.setHours(0,0,0,0),Sr.setTime(+e),Sr.setMonth(0),Sr.setDate(1),Sr.setDate(1-(Sr.getDay()+7-n)%7),Sr.setHours(0,0,0,0);const r=(xr.getTimezoneOffset()-Sr.getTimezoneOffset())*bee;return Math.floor((1+(xr-Sr)-r)/wee)}function K9e(e,t){const n=t||0;return xr.setTime(+e),xr.setUTCDate(xr.getUTCDate()-(xr.getUTCDay()+7-n)%7),xr.setUTCHours(0,0,0,0),Sr.setTime(+e),Sr.setUTCMonth(0),Sr.setUTCDate(1),Sr.setUTCDate(1-(Sr.getUTCDay()+7-n)%7),Sr.setUTCHours(0,0,0,0),Math.floor((1+(xr-Sr))/wee)}const Q9e={format_date:(e,t)=>vee(Rr(e),!t),format_utcdate:(e,t)=>MI(Rr(e),!t),timestamp:e=>+Rr(e),year:e=>Rr(e).getFullYear(),quarter:e=>Math.floor(Rr(e).getMonth()/3),month:e=>Rr(e).getMonth(),date:e=>Rr(e).getDate(),dayofweek:e=>Rr(e).getDay(),hours:e=>Rr(e).getHours(),minutes:e=>Rr(e).getMinutes(),seconds:e=>Rr(e).getSeconds(),milliseconds:e=>Rr(e).getMilliseconds(),utcyear:e=>Rr(e).getUTCFullYear(),utcquarter:e=>Math.floor(Rr(e).getUTCMonth()/3),utcmonth:e=>Rr(e).getUTCMonth(),utcdate:e=>Rr(e).getUTCDate(),utcdayofweek:e=>Rr(e).getUTCDay(),utchours:e=>Rr(e).getUTCHours(),utcminutes:e=>Rr(e).getUTCMinutes(),utcseconds:e=>Rr(e).getUTCSeconds(),utcmilliseconds:e=>Rr(e).getUTCMilliseconds(),datetime:H9e,dayofyear:q9e,week:G9e,utcdatetime:W9e,utcdayofyear:Y9e,utcweek:K9e,now:Date.now};function m$(e,t){return e==null||t==null||e!==e||t!==t?!1:e===t?!0:Cl(e)||Cl(t)?+e==+t:dT(e)&&dT(t)?e+""==t+"":Xi(e)&&Xi(t)?X9e(e,t):!1}function X9e(e,t){if(Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;if(e.length||t.length)return Qj(e,t);const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length||(n.sort(),r.sort(),!Qj(n,r,(s,o)=>s===o)))return!1;const i=n.length;for(let s=0;s<i;++s){const o=n[s];if(!m$(e[o],t[o]))return!1}return!0}function Qj(e,t,n=m$){const r=e.length;if(r!==t.length)return!1;for(let i=0;i<r;++i)if(!n(e[i],t[i]))return!1;return!0}const J9e={parse_json:e=>JSON.parse(e),to_json:e=>JSON.stringify(e)};let Z9e=Math.random;function Wm(){return Z9e()}const eBe={random:Wm,is_nan:Number.isNaN,is_finite:Number.isFinite,abs:Math.abs,cbrt:Math.cbrt,ceil:Math.ceil,clz32:Math.clz32,exp:Math.exp,expm1:Math.expm1,floor:Math.floor,fround:Math.fround,greatest:Math.max,least:Math.min,log:Math.log,log10:Math.log10,log1p:Math.log1p,log2:Math.log2,pow:Math.pow,round:Math.round,sign:Math.sign,sqrt:Math.sqrt,trunc:Math.trunc,degrees:e=>180*e/Math.PI,radians:e=>Math.PI*e/180,acos:Math.acos,acosh:Math.acosh,asin:Math.asin,asinh:Math.asinh,atan:Math.atan,atan2:Math.atan2,atanh:Math.atanh,cos:Math.cos,cosh:Math.cosh,sin:Math.sin,sinh:Math.sinh,tan:Math.tan,tanh:Math.tanh};function g$(e){return e instanceof Map}function tBe(e){return e instanceof Set}function fb(e){return g$(e)||tBe(e)}function MA(e){return Array.from(e)}const nBe={has:(e,t)=>fb(e)?e.has(t):e!=null?Ca(e,t):!1,keys:e=>g$(e)?MA(e.keys()):e!=null?Object.keys(e):[],values:e=>fb(e)?MA(e.values()):e!=null?Object.values(e):[],entries:e=>fb(e)?MA(e.entries()):e!=null?Object.entries(e):[],object:e=>e?Object.fromEntries(e):dn};function rBe(e,t,n){if(t instanceof Map){if(t.has(e))return t.get(e)}else if(Ca(t,e))return t[e];return n!==void 0?n:e}function iBe(e,t,n){let r=arguments.length;e=+e,t=+t,n=r<2?(t=e,e=0,1):r<3?1:+n,r=Math.max(0,Math.ceil((t-e)/n))|0;const i=new Array(r);for(let s=0;s<r;++s)i[s]=e+s*n;return i}const sBe={parse_date:e=>e==null?e:new Date(e),parse_float:e=>e==null?e:Number.parseFloat(e),parse_int:(e,t)=>e==null?e:Number.parseInt(e,t),endswith:(e,t,n)=>e==null?!1:String(e).endsWith(t,n),match:(e,t,n)=>{const r=e==null?e:String(e).match(t);return n==null||r==null?r:typeof n=="number"?r[n]:r.groups?r.groups[n]:null},normalize:(e,t)=>e==null?e:String(e).normalize(t),padend:(e,t,n)=>e==null?e:String(e).padEnd(t,n),padstart:(e,t,n)=>e==null?e:String(e).padStart(t,n),upper:e=>e==null?e:String(e).toUpperCase(),lower:e=>e==null?e:String(e).toLowerCase(),repeat:(e,t)=>e==null?e:String(e).repeat(t),replace:(e,t,n)=>e==null?e:String(e).replace(t,String(n)),substring:(e,t,n)=>e==null?e:String(e).substring(t,n),split:(e,t,n)=>e==null?[]:String(e).split(t,n),startswith:(e,t,n)=>e==null?!1:String(e).startsWith(t,n),trim:e=>e==null?e:String(e).trim()},rp={bin:B9e,equal:m$,recode:rBe,sequence:iBe,...F9e,...Q9e,...J9e,...eBe,...nBe,...sBe};function $y(e){return typeof e=="bigint"}function Iu(e){return e===void 0?e+"":$y(e)?e+"n":JSON.stringify(e)}function Mt(e,t=[],n=[]){return new oBe(e,Vs(t),Vs(n))}let oBe=class{constructor(t,n,r){this.name=t,this.fields=n,this.params=r}toString(){const t=[...this.fields.map(n=>`d[${Iu(n)}]`),...this.params.map(Iu)];return`d => op.${this.name}(${t})`}toObject(){return{expr:this.toString(),func:!0}}};const Tee=e=>Mt("any",e),See=()=>Mt("count"),Iee=e=>Mt("array_agg",e),xee=e=>Mt("array_agg_distinct",e),Cee=(e,t)=>Mt("map_agg",[e,t]),Aee=(e,t)=>Mt("object_agg",[e,t]),Oee=(e,t)=>Mt("entries_agg",[e,t]);({...rp});function aBe(e,t){e=fb(e)?e:new Set(e);let n=t,r=0;for(;e.has(n);)n=t+ ++r;return n}function uBe(e,t){if(!e||!t)return e;const{keys:n,rows:r,size:i}=e,s=new Int32Array(i);t.scan(c=>s[n[c]]=1);const o=s.reduce((c,f)=>c+f,0);if(o===i)return e;const a=Array(o);let u=0;for(let c=0;c<i;++c)s[c]&&(a[s[c]=u++]=r[c]);const l=new Uint32Array(n.length);return t.scan(c=>l[c]=s[n[c]]),{...e,keys:l,rows:a,size:u}}function lBe(e,t,n,r){const{keys:i,rows:s,size:o}=e;let a=s,u=o,l=null;if(n){l=new Int32Array(o),t(p=>l[i[p]]=1);const h=l.reduce((p,m)=>p+m,0);if(h!==o){a=Array(h),u=0;for(let p=0;p<o;++p)l[p]&&(a[l[p]=u++]=s[p])}}let c=-1;const f=new Uint32Array(r);return t(u!==o?h=>f[++c]=l[i[h]]:h=>f[++c]=i[h]),{...e,keys:f,rows:a,size:u}}function cBe(e,t,n,r){const i=r==="map"||r===!0?Cee:r==="entries"?Oee:r==="object"?Aee:jt('groups option must be "map", "entries", or "object".'),{names:s}=e.groups(),o=aBe(e.columnNames(),"_");let a=e.select().reify(t).create({data:{[o]:n}}).rollup({[o]:Iee(o)});for(let u=s.length;--u>=0;)a=a.groupby(s.slice(0,u)).rollup({[o]:i(s[u],o)});return a.get(o)}const fBe="ArrayPattern",dBe="ArrowFunctionExpression",hBe="FunctionExpression",Hc="Identifier",qm="Literal",Pee="MemberExpression",pBe="ObjectExpression",Ree="ObjectPattern",Nee="Property",W_="Column",mBe="Constant",gBe="Dictionary",yBe="Function",_Be="Parameter",kee="Op",Wn=(e,t)=>{const n=vBe[e.type];return n?n(e,t):jt(`Unsupported expression construct: ${e.type}`)},FA=(e,t)=>"("+Wn(e.left,t)+" "+e.operator+" "+Wn(e.right,t)+")",BA=(e,t)=>"("+Va(e.params,t)+")=>"+Wn(e.body,t),Xj=(e,t)=>Wn(e.callee,t)+"("+Va(e.arguments,t)+")",Va=(e,t,n=",")=>e.map(r=>Wn(r,t)).join(n),Dee=e=>e.computed?`[${Iu(e.name)}]`:`.${e.name}`,Jj=(e,t,n)=>{const r=e.table||"";return`data${r}${Dee(e)}.${n}(${t.index}${r})`},vBe={Constant:e=>e.raw,Column:(e,t)=>Jj(e,t,"get"),Dictionary:(e,t)=>Jj(e,t,"key"),Function:e=>`fn.${e.name}`,Parameter:e=>`$${Dee(e)}`,Op:(e,t)=>`op(${Iu(e.name)},${t.op||t.index})`,Literal:e=>e.raw,Identifier:e=>e.name,TemplateLiteral:(e,t)=>{const{quasis:n,expressions:r}=e,i=r.length;let s=n[0].value.raw;for(let o=0;o<i;)s+="${"+Wn(r[o],t)+"}"+n[++o].value.raw;return"`"+s+"`"},MemberExpression:(e,t)=>{const n=!e.computed,r=Wn(e.object,t),i=Wn(e.property,t);return r+(n?"."+i:"["+i+"]")},CallExpression:Xj,NewExpression:(e,t)=>"new "+Xj(e,t),ArrayExpression:(e,t)=>"["+Va(e.elements,t)+"]",AssignmentExpression:FA,BinaryExpression:FA,LogicalExpression:FA,UnaryExpression:(e,t)=>"("+e.operator+Wn(e.argument,t)+")",ConditionalExpression:(e,t)=>"("+Wn(e.test,t)+"?"+Wn(e.consequent,t)+":"+Wn(e.alternate,t)+")",ObjectExpression:(e,t)=>"({"+Va(e.properties,t)+"})",Property:(e,t)=>{const n=Wn(e.key,t);return(e.computed?`[${n}]`:n)+":"+Wn(e.value,t)},ArrowFunctionExpression:BA,FunctionExpression:BA,FunctionDeclaration:BA,ArrayPattern:(e,t)=>"["+Va(e.elements,t)+"]",ObjectPattern:(e,t)=>"{"+Va(e.properties,t)+"}",VariableDeclaration:(e,t)=>e.kind+" "+Va(e.declarations,t,","),VariableDeclarator:(e,t)=>Wn(e.id,t)+"="+Wn(e.init,t),SpreadElement:(e,t)=>"..."+Wn(e.argument,t),BlockStatement:(e,t)=>"{"+Va(e.body,t,";")+";}",BreakStatement:()=>"break",ExpressionStatement:(e,t)=>Wn(e.expression,t),IfStatement:(e,t)=>"if ("+Wn(e.test,t)+")"+Wn(e.consequent,t)+(e.alternate?" else "+Wn(e.alternate,t):""),SwitchStatement:(e,t)=>"switch ("+Wn(e.discriminant,t)+") {"+Va(e.cases,t,"")+"}",SwitchCase:(e,t)=>(e.test?"case "+Wn(e.test,t):"default")+": "+Va(e.consequent,t,";")+";",ReturnStatement:(e,t)=>"return "+Wn(e.argument,t),Program:(e,t)=>Wn(e.body[0],t)};function hT(e,t={index:"row"}){return Wn(e,t)}function bBe(e,t,n=15,r=!0,i=0,s){const a=Math.LN10;if(s==null){const u=Math.ceil(Math.log(n)/a),l=t-e||Math.abs(e)||1,c=[5,2];for(s=Math.max(i,Math.pow(10,Math.round(Math.log(l)/a)-u));Math.ceil(l/s)>n;)s*=10;const f=c.length;for(let d=0;d<f;++d){const h=s/c[d];h>=i&&l/h<=n&&(s=h)}}if(r){let u=Math.log(s);const l=u>=0?0:~~(-u/a)+1,c=Math.pow(10,-l-1);u=Math.floor(e/s+c)*s,e=e<u?u-s:u,t=Math.ceil(t/s)*s}return[e,t===e?e+s:t,s]}function am(e){const t=typeof e;return t==="string"?`"${e}"`:t!=="object"||!e?e:Cl(e)?+e:yn(e)||H_(e)?`[${e.map(am)}]`:dT(e)?e+"":EBe(e)}function EBe(e){let t="{",n=-1;for(const r in e)++n>0&&(t+=","),t+=`"${r}":${am(e[r])}`;return t+="}",t}function pT(e,t){const n=e.length;return n===1?(r,i)=>am(e[0](r,i)):(r,i)=>{let s="";for(let o=0;o<n;++o){o>0&&(s+="|");const a=e[o](r,i);if(t&&(a==null||a!==a))return null;s+=am(a)}return s}}function wBe(){const e=new Map;return{count(){return e.size},values(){return Array.from(e.values(),t=>t.v)},increment(t){const n=am(t),r=e.get(n);r?++r.n:e.set(n,{v:t,n:1})},decrement(t){const n=am(t),r=e.get(n);r.n===1?e.delete(n):--r.n},forEach(t){e.forEach(({v:n,n:r})=>t(n,r))}}}function qu(){}function TBe(e,t=0,n=e.length){let r=e[t++];for(let i=t;i<n;++i)r*=e[i];return r}function qr(e){return e.init=e.init||qu,e.add=e.add||qu,e.rem=e.rem||qu,e}function Zj(e,t){return e.product_v=!1,e.product=t}const $ee={count:{create:()=>qr({value:e=>e.count}),param:[]},array_agg:{create:()=>qr({init:e=>e.values=!0,value:e=>e.list.values(e.stream)}),param:[1]},object_agg:{create:()=>qr({init:e=>e.values=!0,value:e=>Object.fromEntries(e.list.values())}),param:[2]},map_agg:{create:()=>qr({init:e=>e.values=!0,value:e=>new Map(e.list.values())}),param:[2]},entries_agg:{create:()=>qr({init:e=>e.values=!0,value:e=>e.list.values(e.stream)}),param:[2]},any:{create:()=>qr({add:(e,t)=>{e.any==null&&(e.any=t)},value:e=>e.valid?e.any:dn}),param:[1]},valid:{create:()=>qr({value:e=>e.valid}),param:[1]},invalid:{create:()=>qr({value:e=>e.count-e.valid}),param:[1]},distinct:{create:()=>({init:e=>e.distinct=wBe(),value:e=>e.distinct.count()+(e.valid===e.count?0:1),add:(e,t)=>e.distinct.increment(t),rem:(e,t)=>e.distinct.decrement(t)}),param:[1]},array_agg_distinct:{create:()=>qr({value:e=>e.distinct.values()}),param:[1],req:["distinct"]},mode:{create:()=>qr({value:e=>{let t=dn,n=0;return e.distinct.forEach((r,i)=>{i>n&&(n=i,t=r)}),t}}),param:[1],req:["distinct"]},sum:{create:()=>({init:e=>e.sum=0,value:e=>e.valid?e.sum:dn,add:(e,t)=>$y(t)?e.sum===0?e.sum=t:e.sum+=t:e.sum+=+t,rem:(e,t)=>e.sum-=t}),param:[1]},product:{create:()=>({init:e=>Zj(e,1),value:e=>e.valid?e.product_v?Zj(e,TBe(e.list.values())):e.product:void 0,add:(e,t)=>$y(t)&&e.product===1?e.product=t:e.product*=t,rem:(e,t)=>t==0||t===1/0||t===-1/0?e.product_v=!0:e.product/=t}),param:[1],stream:["array_agg"]},mean:{create:()=>({init:e=>e.mean=0,value:e=>e.valid?e.mean:dn,add:(e,t)=>{e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid},rem:(e,t)=>{e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean}}),param:[1]},average:{create:()=>qr({value:e=>e.valid?e.mean:dn}),param:[1],req:["mean"]},variance:{create:()=>({init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):dn,add:(e,t)=>e.dev+=e.mean_d*(t-e.mean),rem:(e,t)=>e.dev-=e.mean_d*(t-e.mean)}),param:[1],req:["mean"]},variancep:{create:()=>qr({value:e=>e.valid>1?e.dev/e.valid:dn}),param:[1],req:["variance"]},stdev:{create:()=>qr({value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):dn}),param:[1],req:["variance"]},stdevp:{create:()=>qr({value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):dn}),param:[1],req:["variance"]},min:{create:()=>({init:e=>e.min=dn,value:e=>e.min=Number.isNaN(e.min)?e.list.min():e.min,add:(e,t)=>{(t<e.min||e.min===dn)&&(e.min=t)},rem:(e,t)=>{t<=e.min&&(e.min=NaN)}}),param:[1],stream:["array_agg"]},max:{create:()=>({init:e=>e.max=dn,value:e=>e.max=Number.isNaN(e.max)?e.list.max():e.max,add:(e,t)=>{(t>e.max||e.max===dn)&&(e.max=t)},rem:(e,t)=>{t>=e.max&&(e.max=NaN)}}),param:[1],stream:["array_agg"]},quantile:{create:e=>qr({value:t=>t.list.quantile(e)}),param:[1,1],req:["array_agg"]},median:{create:()=>qr({value:e=>e.list.quantile(.5)}),param:[1],req:["array_agg"]},covariance:{create:()=>({init:e=>{e.cov=e.mean_x=e.mean_y=e.dev_x=e.dev_y=0},value:e=>e.valid>1?e.cov/(e.valid-1):dn,add:(e,t,n)=>{const r=t-e.mean_x,i=n-e.mean_y;e.mean_x+=r/e.valid,e.mean_y+=i/e.valid;const s=n-e.mean_y;e.dev_x+=r*(t-e.mean_x),e.dev_y+=i*s,e.cov+=r*s},rem:(e,t,n)=>{const r=t-e.mean_x,i=n-e.mean_y;e.mean_x-=e.valid?r/e.valid:e.mean_x,e.mean_y-=e.valid?i/e.valid:e.mean_y;const s=n-e.mean_y;e.dev_x-=r*(t-e.mean_x),e.dev_y-=i*s,e.cov-=r*s}}),param:[2]},covariancep:{create:()=>qr({value:e=>e.valid>1?e.cov/e.valid:dn}),param:[2],req:["covariance"]},corr:{create:()=>qr({value:e=>e.valid>1?e.cov/(Math.sqrt(e.dev_x)*Math.sqrt(e.dev_y)):dn}),param:[2],req:["covariance"]},bins:{create:(e,t,n,r)=>qr({value:i=>bBe(i.min,i.max,e,t,n,r)}),param:[1,4],req:["min","max"]}},eU={create(){let e;return{init:()=>e=1,value:t=>{const n=t.index;return n&&!t.peer(n)?e=n+1:e}}},param:[]},tU={create(){let e;return{init:()=>e=0,value:t=>{const{index:n,peer:r,size:i}=t;let s=n;if(e<s){for(;s+1<i&&r(s+1);)++s;e=s}return(1+e)/i}}},param:[]},Lee={row_number:{create(){return{init:qu,value:e=>e.index+1}},param:[]},rank:eU,avg_rank:{create(){let e,t;return{init:()=>(e=-1,t=1),value:n=>{const r=n.index;if(r>=e){for(t=e=r+1;n.peer(e);t+=++e);t/=e-r}return t}}},param:[]},dense_rank:{create(){let e;return{init:()=>e=1,value:t=>{const n=t.index;return n&&!t.peer(n)?++e:e}}},param:[]},percent_rank:{create(){const{init:e,value:t}=eU.create();return{init:e,value:n=>(t(n)-1)/(n.size-1)}},param:[]},cume_dist:tU,ntile:{create(e){e=+e,e>0||jt("ntile num must be greater than zero.");const{init:t,value:n}=tU.create();return{init:t,value:r=>Math.ceil(e*n(r))}},param:[0,1]},lag:{create(e,t=dn){return e=+e||1,{init:qu,value:(n,r)=>{const i=n.index-e;return i>=0?n.value(i,r):t}}},param:[1,2]},lead:{create(e,t=dn){return e=+e||1,{init:qu,value:(n,r)=>{const i=n.index+e;return i<n.size?n.value(i,r):t}}},param:[1,2]},first_value:{create(){return{init:qu,value:(e,t)=>e.value(e.i0,t)}},param:[1]},last_value:{create(){return{init:qu,value:(e,t)=>e.value(e.i1-1,t)}},param:[1]},nth_value:{create(e){return e=+e,e>0||jt("nth_value nth must be greater than zero."),{init:qu,value:(t,n)=>{const r=t.i0+(e-1);return r<t.i1?t.value(r,n):dn}}},param:[1,1]},fill_down:{create(e=dn){let t;return{init:()=>t=e,value:(n,r)=>{const i=n.value(n.index,r);return _a(i)?t=i:t}}},param:[1,1]},fill_up:{create(e=dn){let t,n;return{init:()=>(t=e,n=-1),value:(r,i)=>r.index<=n?t:(n=SBe(r,i,r.index))>=0?t=r.value(n,i):(n=r.size,t=e)}},param:[1,1]}};function SBe(e,t,n){for(const r=e.size;n<r;++n)if(_a(e.value(n,t)))return n;return-1}function y$(e){return Ca($ee,e)}function _$(e){return Ca(Lee,e)}function Mee(e){return Ca(rp,e)||e==="row_object"}function Fee(e){return y$(e)&&$ee[e]}function Bee(e){return _$(e)&&Lee[e]}function U0(e,t,n){return e=`"use strict"; return ${e};`,Function("fn","$",e)(t,n)}const v$={escape:(e,t,n)=>U0(e,t,n),expr:(e,t)=>U0(`(row,data,op)=>${e}`,rp,t),expr2:(e,t)=>U0(`(row0,data0,row,data)=>${e}`,rp,t),join:(e,t)=>U0(`(row1,data1,row2,data2)=>${e}`,rp,t),param:(e,t)=>U0(e,rp,t)},IBe={"==":1,"!=":1,"===":1,"!==":1};function jee(e,t,n=0,r,i){if(e.type=W_,e.name=t,e.table=n,i&&r&&er(r.keyFor)){const s=IBe[i.operator]?i.left===e?i.right:i.left:i.callee&&i.callee.name==="equal"?i.arguments[i.arguments[0]===e?1:0]:null;s&&s.type===qm&&xBe(i,e,s,r.keyFor(s.value))}return e}function xBe(e,t,n,r){return r<0?(e.type=qm,e.value=!1,e.raw="false"):(t.type=gBe,n.value=r,n.raw=r+""),!0}function FI(e){return yn(e)?e:g$(e)?e.entries():e?Object.entries(e):[]}const Uee="row_object";function Vee(e,t){e.type=pBe;const n=e.properties=[];for(const r of FI(t)){const[i,s]=yn(r)?r:[r,r];n.push({type:Nee,key:{type:qm,raw:Iu(s)},value:jee({computed:!0},i)})}return e}function zee(e){return hT(Vee({},e))}function Hee(e){return v$.expr(zee(e))}function b$(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Gu(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{l(r.next(c))}catch(f){o(f)}}function u(c){try{l(r.throw(c))}catch(f){o(f)}}function l(c){c.done?s(c.value):i(c.value).then(a,u)}l((r=r.apply(e,t||[])).next())})}function nU(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function rn(e){return this instanceof rn?(this.v=e,this):new rn(e)}function id(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(d){r[d]&&(i[d]=function(h){return new Promise(function(p,m){s.push([d,h,p,m])>1||a(d,h)})})}function a(d,h){try{u(r[d](h))}catch(p){f(s[0][3],p)}}function u(d){d.value instanceof rn?Promise.resolve(d.value.v).then(l,c):f(s[0][2],d)}function l(d){a("next",d)}function c(d){a("throw",d)}function f(d,h){d(h),s.shift(),s.length&&a(s[0][0],s[0][1])}}function jA(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,s){t[i]=e[i]?function(o){return(n=!n)?{value:rn(e[i](o)),done:!1}:s?s(o):o}:s}}function Hg(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof nU=="function"?nU(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(o){return new Promise(function(a,u){o=e[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}}const CBe=new TextDecoder("utf-8"),V2=e=>CBe.decode(e),ABe=new TextEncoder,E$=e=>ABe.encode(e),[xnt,Wee]=(()=>{const e=()=>{throw new Error("BigInt is not available in this environment")};function t(){throw e()}return t.asIntN=()=>{throw e()},t.asUintN=()=>{throw e()},typeof BigInt<"u"?[BigInt,!0]:[t,!1]})(),[oh,Cnt]=(()=>{const e=()=>{throw new Error("BigInt64Array is not available in this environment")};class t{static get BYTES_PER_ELEMENT(){return 8}static of(){throw e()}static from(){throw e()}constructor(){throw e()}}return typeof BigInt64Array<"u"?[BigInt64Array,!0]:[t,!1]})(),[ah,Ant]=(()=>{const e=()=>{throw new Error("BigUint64Array is not available in this environment")};class t{static get BYTES_PER_ELEMENT(){return 8}static of(){throw e()}static from(){throw e()}constructor(){throw e()}}return typeof BigUint64Array<"u"?[BigUint64Array,!0]:[t,!1]})(),OBe=e=>typeof e=="boolean",Is=e=>typeof e=="function",wf=e=>e!=null&&Object(e)===e,BI=e=>wf(e)&&Is(e.then),w$=e=>wf(e)&&Is(e[Symbol.iterator]),jI=e=>wf(e)&&Is(e[Symbol.asyncIterator]),PBe=e=>wf(e)&&"done"in e&&"value"in e,qee=e=>"_getDOMStream"in e&&"_getNodeStream"in e,RBe=e=>wf(e)&&Is(e.abort)&&Is(e.getWriter)&&!qee(e),NBe=e=>wf(e)&&Is(e.end)&&Is(e.write)&&OBe(e.writable)&&!qee(e),kBe=e=>wf(e)&&Is(e.clear)&&Is(e.bytes)&&Is(e.position)&&Is(e.setPosition)&&Is(e.capacity)&&Is(e.getBufferIdentifier)&&Is(e.createLong),T$=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:ArrayBuffer;function DBe(e){const t=e[0]?[e[0]]:[];let n,r,i,s;for(let o,a,u=0,l=0,c=e.length;++u<c;){if(o=t[l],a=e[u],!o||!a||o.buffer!==a.buffer||a.byteOffset<o.byteOffset){a&&(t[++l]=a);continue}if({byteOffset:n,byteLength:i}=o,{byteOffset:r,byteLength:s}=a,n+i<r||r+s<n){a&&(t[++l]=a);continue}t[l]=new Uint8Array(o.buffer,n,r-n+s)}return t}function mT(e,t,n=0,r=t.byteLength){const i=e.byteLength,s=new Uint8Array(e.buffer,e.byteOffset,i),o=new Uint8Array(t.buffer,t.byteOffset,Math.min(r,i));return s.set(o,n),e}function xu(e,t){const n=DBe(e),r=n.reduce((c,f)=>c+f.byteLength,0);let i,s,o,a=0,u=-1;const l=Math.min(t||Number.POSITIVE_INFINITY,r);for(const c=n.length;++u<c;){if(i=n[u],s=i.subarray(0,Math.min(i.length,l-a)),l<=a+s.length){s.length<i.length?n[u]=i.subarray(s.length):s.length===i.length&&u++,o?mT(o,s,a):o=s;break}mT(o||(o=new Uint8Array(l)),s,a),a+=s.length}return[o||new Uint8Array(0),n.slice(u),r-(o?o.byteLength:0)]}function Ii(e,t){let n=PBe(t)?t.value:t;return n instanceof e?e===Uint8Array?new e(n.buffer,n.byteOffset,n.byteLength):n:n?(typeof n=="string"&&(n=E$(n)),n instanceof ArrayBuffer?new e(n):n instanceof T$?new e(n):kBe(n)?Ii(e,n.bytes()):ArrayBuffer.isView(n)?n.byteLength<=0?new e(0):new e(n.buffer,n.byteOffset,n.byteLength/e.BYTES_PER_ELEMENT):e.from(n)):new e(0)}const V0=e=>Ii(Int32Array,e),Pn=e=>Ii(Uint8Array,e),z2=e=>(e.next(),e);function*$Be(e,t){const n=function*(i){yield i},r=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof T$?n(t):w$(t)?t:n(t);return yield*z2(function*(i){let s=null;do s=i.next(yield Ii(e,s));while(!s.done)}(r[Symbol.iterator]())),new e}const LBe=e=>$Be(Uint8Array,e);function Yee(e,t){return id(this,arguments,function*(){if(BI(t))return yield rn(yield rn(yield*jA(Hg(Yee(e,yield rn(t))))));const r=function(o){return id(this,arguments,function*(){yield yield rn(yield rn(o))})},i=function(o){return id(this,arguments,function*(){yield rn(yield*jA(Hg(z2(function*(a){let u=null;do u=a.next(yield u==null?void 0:u.value);while(!u.done)}(o[Symbol.iterator]())))))})},s=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof T$?r(t):w$(t)?i(t):jI(t)?t:r(t);return yield rn(yield*jA(Hg(z2(function(o){return id(this,arguments,function*(){let a=null;do a=yield rn(o.next(yield yield rn(Ii(e,a))));while(!a.done)})}(s[Symbol.asyncIterator]()))))),yield rn(new e)})}const MBe=e=>Yee(Uint8Array,e);function S$(e,t,n){if(e!==0){n=n.slice(0,t+1);for(let r=-1;++r<=t;)n[r]+=e}return n}function FBe(e,t){let n=0;const r=e.length;if(r!==t.length)return!1;if(r>0)do if(e[n]!==t[n])return!1;while(++n<r);return!0}const rU={fromIterable(e){return p1(BBe(e))},fromAsyncIterable(e){return p1(jBe(e))},fromDOMStream(e){return p1(UBe(e))},fromNodeStream(e){return p1(zBe(e))},toDOMStream(e,t){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(e,t){throw new Error('"toNodeStream" not available in this environment')}},p1=e=>(e.next(),e);function*BBe(e){let t,n=!1,r=[],i,s,o,a=0;function u(){return s==="peek"?xu(r,o)[0]:([i,r,a]=xu(r,o),i)}({cmd:s,size:o}=yield null);const l=LBe(e)[Symbol.iterator]();try{do if({done:t,value:i}=Number.isNaN(o-a)?l.next():l.next(o-a),!t&&i.byteLength>0&&(r.push(i),a+=i.byteLength),t||o<=a)do({cmd:s,size:o}=yield u());while(o<a);while(!t)}catch(c){(n=!0)&&typeof l.throw=="function"&&l.throw(c)}finally{n===!1&&typeof l.return=="function"&&l.return(null)}return null}function jBe(e){return id(this,arguments,function*(){let n,r=!1,i=[],s,o,a,u=0;function l(){return o==="peek"?xu(i,a)[0]:([s,i,u]=xu(i,a),s)}({cmd:o,size:a}=yield yield rn(null));const c=MBe(e)[Symbol.asyncIterator]();try{do if({done:n,value:s}=Number.isNaN(a-u)?yield rn(c.next()):yield rn(c.next(a-u)),!n&&s.byteLength>0&&(i.push(s),u+=s.byteLength),n||a<=u)do({cmd:o,size:a}=yield yield rn(l()));while(a<u);while(!n)}catch(f){(r=!0)&&typeof c.throw=="function"&&(yield rn(c.throw(f)))}finally{r===!1&&typeof c.return=="function"&&(yield rn(c.return(new Uint8Array(0))))}return yield rn(null)})}function UBe(e){return id(this,arguments,function*(){let n=!1,r=!1,i=[],s,o,a,u=0;function l(){return o==="peek"?xu(i,a)[0]:([s,i,u]=xu(i,a),s)}({cmd:o,size:a}=yield yield rn(null));const c=new VBe(e);try{do if({done:n,value:s}=Number.isNaN(a-u)?yield rn(c.read()):yield rn(c.read(a-u)),!n&&s.byteLength>0&&(i.push(Pn(s)),u+=s.byteLength),n||a<=u)do({cmd:o,size:a}=yield yield rn(l()));while(a<u);while(!n)}catch(f){(r=!0)&&(yield rn(c.cancel(f)))}finally{r===!1?yield rn(c.cancel()):e.locked&&c.releaseLock()}return yield rn(null)})}class VBe{constructor(t){this.source=t,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(t){return Gu(this,void 0,void 0,function*(){const{reader:n,source:r}=this;n&&(yield n.cancel(t).catch(()=>{})),r&&r.locked&&this.releaseLock()})}read(t){return Gu(this,void 0,void 0,function*(){if(t===0)return{done:this.reader==null,value:new Uint8Array(0)};const n=yield this.reader.read();return!n.done&&(n.value=Pn(n)),n})}}const UA=(e,t)=>{const n=i=>r([t,i]);let r;return[t,n,new Promise(i=>(r=i)&&e.once(t,n))]};function zBe(e){return id(this,arguments,function*(){const n=[];let r="error",i=!1,s=null,o,a,u=0,l=[],c;function f(){return o==="peek"?xu(l,a)[0]:([c,l,u]=xu(l,a),c)}if({cmd:o,size:a}=yield yield rn(null),e.isTTY)return yield yield rn(new Uint8Array(0)),yield rn(null);try{n[0]=UA(e,"end"),n[1]=UA(e,"error");do{if(n[2]=UA(e,"readable"),[r,s]=yield rn(Promise.race(n.map(h=>h[2]))),r==="error")break;if((i=r==="end")||(Number.isFinite(a-u)?(c=Pn(e.read(a-u)),c.byteLength<a-u&&(c=Pn(e.read()))):c=Pn(e.read()),c.byteLength>0&&(l.push(c),u+=c.byteLength)),i||a<=u)do({cmd:o,size:a}=yield yield rn(f()));while(a<u)}while(!i)}finally{yield rn(d(n,r==="error"?s:null))}return yield rn(null);function d(h,p){return c=l=null,new Promise((m,y)=>{for(const[g,_]of h)e.off(g,_);try{const g=e.destroy;g&&g.call(e,p),p=void 0}catch(g){p=g||p}finally{p!=null?y(p):m()}})}})}var ro;(function(e){e[e.V1=0]="V1",e[e.V2=1]="V2",e[e.V3=2]="V3",e[e.V4=3]="V4",e[e.V5=4]="V5"})(ro||(ro={}));var Wo;(function(e){e[e.Sparse=0]="Sparse",e[e.Dense=1]="Dense"})(Wo||(Wo={}));var Ni;(function(e){e[e.HALF=0]="HALF",e[e.SINGLE=1]="SINGLE",e[e.DOUBLE=2]="DOUBLE"})(Ni||(Ni={}));var Cu;(function(e){e[e.DAY=0]="DAY",e[e.MILLISECOND=1]="MILLISECOND"})(Cu||(Cu={}));var sn;(function(e){e[e.SECOND=0]="SECOND",e[e.MILLISECOND=1]="MILLISECOND",e[e.MICROSECOND=2]="MICROSECOND",e[e.NANOSECOND=3]="NANOSECOND"})(sn||(sn={}));var Au;(function(e){e[e.YEAR_MONTH=0]="YEAR_MONTH",e[e.DAY_TIME=1]="DAY_TIME",e[e.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(Au||(Au={}));var ci;(function(e){e[e.NONE=0]="NONE",e[e.Schema=1]="Schema",e[e.DictionaryBatch=2]="DictionaryBatch",e[e.RecordBatch=3]="RecordBatch",e[e.Tensor=4]="Tensor",e[e.SparseTensor=5]="SparseTensor"})(ci||(ci={}));var Q;(function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.Float=3]="Float",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct=13]="Struct",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Dictionary=-1]="Dictionary",e[e.Int8=-2]="Int8",e[e.Int16=-3]="Int16",e[e.Int32=-4]="Int32",e[e.Int64=-5]="Int64",e[e.Uint8=-6]="Uint8",e[e.Uint16=-7]="Uint16",e[e.Uint32=-8]="Uint32",e[e.Uint64=-9]="Uint64",e[e.Float16=-10]="Float16",e[e.Float32=-11]="Float32",e[e.Float64=-12]="Float64",e[e.DateDay=-13]="DateDay",e[e.DateMillisecond=-14]="DateMillisecond",e[e.TimestampSecond=-15]="TimestampSecond",e[e.TimestampMillisecond=-16]="TimestampMillisecond",e[e.TimestampMicrosecond=-17]="TimestampMicrosecond",e[e.TimestampNanosecond=-18]="TimestampNanosecond",e[e.TimeSecond=-19]="TimeSecond",e[e.TimeMillisecond=-20]="TimeMillisecond",e[e.TimeMicrosecond=-21]="TimeMicrosecond",e[e.TimeNanosecond=-22]="TimeNanosecond",e[e.DenseUnion=-23]="DenseUnion",e[e.SparseUnion=-24]="SparseUnion",e[e.IntervalDayTime=-25]="IntervalDayTime",e[e.IntervalYearMonth=-26]="IntervalYearMonth"})(Q||(Q={}));var zu;(function(e){e[e.OFFSET=0]="OFFSET",e[e.DATA=1]="DATA",e[e.VALIDITY=2]="VALIDITY",e[e.TYPE=3]="TYPE"})(zu||(zu={}));const HBe=void 0;function Wc(e){if(e===null)return"null";if(e===HBe)return"undefined";switch(typeof e){case"number":return`${e}`;case"bigint":return`${e}`;case"string":return`"${e}"`}return typeof e[Symbol.toPrimitive]=="function"?e[Symbol.toPrimitive]("string"):ArrayBuffer.isView(e)?e instanceof oh||e instanceof ah?`[${[...e].map(t=>Wc(t))}]`:`[${e}]`:ArrayBuffer.isView(e)?`[${e}]`:JSON.stringify(e,(t,n)=>typeof n=="bigint"?`${n}`:n)}const WBe=Symbol.for("isArrowBigNum");function ka(e,...t){return t.length===0?Object.setPrototypeOf(Ii(this.TypedArray,e),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(e,...t),this.constructor.prototype)}ka.prototype[WBe]=!0;ka.prototype.toJSON=function(){return`"${Ed(this)}"`};ka.prototype.valueOf=function(){return Gee(this)};ka.prototype.toString=function(){return Ed(this)};ka.prototype[Symbol.toPrimitive]=function(e="default"){switch(e){case"number":return Gee(this);case"string":return Ed(this);case"default":return H2(this)}return Ed(this)};function Ap(...e){return ka.apply(this,e)}function Op(...e){return ka.apply(this,e)}function Ly(...e){return ka.apply(this,e)}Object.setPrototypeOf(Ap.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf(Op.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(Ly.prototype,Object.create(Uint32Array.prototype));Object.assign(Ap.prototype,ka.prototype,{constructor:Ap,signed:!0,TypedArray:Int32Array,BigIntArray:oh});Object.assign(Op.prototype,ka.prototype,{constructor:Op,signed:!1,TypedArray:Uint32Array,BigIntArray:ah});Object.assign(Ly.prototype,ka.prototype,{constructor:Ly,signed:!0,TypedArray:Uint32Array,BigIntArray:ah});function Gee(e){const{buffer:t,byteOffset:n,length:r,signed:i}=e,s=new ah(t,n,r),o=i&&s[s.length-1]&BigInt(1)<<BigInt(63);let a=BigInt(o?1:0),u=BigInt(0);if(o){for(const l of s)a+=~l*(BigInt(1)<<BigInt(32)*u++);a*=BigInt(-1)}else for(const l of s)a+=l*(BigInt(1)<<BigInt(32)*u++);return a}let Ed,H2;Wee?(H2=e=>e.byteLength===8?new e.BigIntArray(e.buffer,e.byteOffset,1)[0]:VA(e),Ed=e=>e.byteLength===8?`${new e.BigIntArray(e.buffer,e.byteOffset,1)[0]}`:VA(e)):(Ed=VA,H2=Ed);function VA(e){let t="";const n=new Uint32Array(2);let r=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2);const i=new Uint32Array((r=new Uint16Array(r).reverse()).buffer);let s=-1;const o=r.length-1;do{for(n[0]=r[s=0];s<o;)r[s++]=n[1]=n[0]/10,n[0]=(n[0]-n[1]*10<<16)+r[s];r[s]=n[1]=n[0]/10,n[0]=n[0]-n[1]*10,t=`${n[0]}${t}`}while(i[0]||i[1]||i[2]||i[3]);return t??"0"}class I${static new(t,n){switch(n){case!0:return new Ap(t);case!1:return new Op(t)}switch(t.constructor){case Int8Array:case Int16Array:case Int32Array:case oh:return new Ap(t)}return t.byteLength===16?new Ly(t):new Op(t)}static signed(t){return new Ap(t)}static unsigned(t){return new Op(t)}static decimal(t){return new Ly(t)}constructor(t,n){return I$.new(t,n)}}var Kee,Qee,Xee,Jee,Zee,ete,tte,nte,rte,ite,ste,ote,ate,ute,lte,cte,fte,dte,hte;class Qt{static isNull(t){return(t==null?void 0:t.typeId)===Q.Null}static isInt(t){return(t==null?void 0:t.typeId)===Q.Int}static isFloat(t){return(t==null?void 0:t.typeId)===Q.Float}static isBinary(t){return(t==null?void 0:t.typeId)===Q.Binary}static isUtf8(t){return(t==null?void 0:t.typeId)===Q.Utf8}static isBool(t){return(t==null?void 0:t.typeId)===Q.Bool}static isDecimal(t){return(t==null?void 0:t.typeId)===Q.Decimal}static isDate(t){return(t==null?void 0:t.typeId)===Q.Date}static isTime(t){return(t==null?void 0:t.typeId)===Q.Time}static isTimestamp(t){return(t==null?void 0:t.typeId)===Q.Timestamp}static isInterval(t){return(t==null?void 0:t.typeId)===Q.Interval}static isList(t){return(t==null?void 0:t.typeId)===Q.List}static isStruct(t){return(t==null?void 0:t.typeId)===Q.Struct}static isUnion(t){return(t==null?void 0:t.typeId)===Q.Union}static isFixedSizeBinary(t){return(t==null?void 0:t.typeId)===Q.FixedSizeBinary}static isFixedSizeList(t){return(t==null?void 0:t.typeId)===Q.FixedSizeList}static isMap(t){return(t==null?void 0:t.typeId)===Q.Map}static isDictionary(t){return(t==null?void 0:t.typeId)===Q.Dictionary}static isDenseUnion(t){return Qt.isUnion(t)&&t.mode===Wo.Dense}static isSparseUnion(t){return Qt.isUnion(t)&&t.mode===Wo.Sparse}get typeId(){return Q.NONE}}Kee=Symbol.toStringTag;Qt[Kee]=(e=>(e.children=null,e.ArrayType=Array,e[Symbol.toStringTag]="DataType"))(Qt.prototype);let Al=class extends Qt{toString(){return"Null"}get typeId(){return Q.Null}};Qee=Symbol.toStringTag;Al[Qee]=(e=>e[Symbol.toStringTag]="Null")(Al.prototype);class fs extends Qt{constructor(t,n){super(),this.isSigned=t,this.bitWidth=n}get typeId(){return Q.Int}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?oh:ah}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}Xee=Symbol.toStringTag;fs[Xee]=(e=>(e.isSigned=null,e.bitWidth=null,e[Symbol.toStringTag]="Int"))(fs.prototype);class x$ extends fs{constructor(){super(!0,8)}get ArrayType(){return Int8Array}}class C$ extends fs{constructor(){super(!0,16)}get ArrayType(){return Int16Array}}class rf extends fs{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}class A$ extends fs{constructor(){super(!0,64)}get ArrayType(){return oh}}class O$ extends fs{constructor(){super(!1,8)}get ArrayType(){return Uint8Array}}class P$ extends fs{constructor(){super(!1,16)}get ArrayType(){return Uint16Array}}class R$ extends fs{constructor(){super(!1,32)}get ArrayType(){return Uint32Array}}class N$ extends fs{constructor(){super(!1,64)}get ArrayType(){return ah}}Object.defineProperty(x$.prototype,"ArrayType",{value:Int8Array});Object.defineProperty(C$.prototype,"ArrayType",{value:Int16Array});Object.defineProperty(rf.prototype,"ArrayType",{value:Int32Array});Object.defineProperty(A$.prototype,"ArrayType",{value:oh});Object.defineProperty(O$.prototype,"ArrayType",{value:Uint8Array});Object.defineProperty(P$.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(R$.prototype,"ArrayType",{value:Uint32Array});Object.defineProperty(N$.prototype,"ArrayType",{value:ah});class sf extends Qt{constructor(t){super(),this.precision=t}get typeId(){return Q.Float}get ArrayType(){switch(this.precision){case Ni.HALF:return Uint16Array;case Ni.SINGLE:return Float32Array;case Ni.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}Jee=Symbol.toStringTag;sf[Jee]=(e=>(e.precision=null,e[Symbol.toStringTag]="Float"))(sf.prototype);class pte extends sf{constructor(){super(Ni.HALF)}}class k$ extends sf{constructor(){super(Ni.SINGLE)}}class D$ extends sf{constructor(){super(Ni.DOUBLE)}}Object.defineProperty(pte.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(k$.prototype,"ArrayType",{value:Float32Array});Object.defineProperty(D$.prototype,"ArrayType",{value:Float64Array});let My=class extends Qt{constructor(){super()}get typeId(){return Q.Binary}toString(){return"Binary"}};Zee=Symbol.toStringTag;My[Zee]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Binary"))(My.prototype);let um=class extends Qt{constructor(){super()}get typeId(){return Q.Utf8}toString(){return"Utf8"}};ete=Symbol.toStringTag;um[ete]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Utf8"))(um.prototype);let Fy=class extends Qt{constructor(){super()}get typeId(){return Q.Bool}toString(){return"Bool"}};tte=Symbol.toStringTag;Fy[tte]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Bool"))(Fy.prototype);let gT=class extends Qt{constructor(t,n,r=128){super(),this.scale=t,this.precision=n,this.bitWidth=r}get typeId(){return Q.Decimal}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}};nte=Symbol.toStringTag;gT[nte]=(e=>(e.scale=null,e.precision=null,e.ArrayType=Uint32Array,e[Symbol.toStringTag]="Decimal"))(gT.prototype);class lm extends Qt{constructor(t){super(),this.unit=t}get typeId(){return Q.Date}toString(){return`Date${(this.unit+1)*32}<${Cu[this.unit]}>`}}rte=Symbol.toStringTag;lm[rte]=(e=>(e.unit=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Date"))(lm.prototype);class qBe extends lm{constructor(){super(Cu.DAY)}}class YBe extends lm{constructor(){super(Cu.MILLISECOND)}}class Ol extends Qt{constructor(t,n){super(),this.unit=t,this.bitWidth=n}get typeId(){return Q.Time}toString(){return`Time${this.bitWidth}<${sn[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return oh}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}}ite=Symbol.toStringTag;Ol[ite]=(e=>(e.unit=null,e.bitWidth=null,e[Symbol.toStringTag]="Time"))(Ol.prototype);class GBe extends Ol{constructor(){super(sn.SECOND,32)}}class KBe extends Ol{constructor(){super(sn.MILLISECOND,32)}}class QBe extends Ol{constructor(){super(sn.MICROSECOND,64)}}class XBe extends Ol{constructor(){super(sn.NANOSECOND,64)}}class yT extends Qt{constructor(t,n){super(),this.unit=t,this.timezone=n}get typeId(){return Q.Timestamp}toString(){return`Timestamp<${sn[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}ste=Symbol.toStringTag;yT[ste]=(e=>(e.unit=null,e.timezone=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Timestamp"))(yT.prototype);class cm extends Qt{constructor(t){super(),this.unit=t}get typeId(){return Q.Interval}toString(){return`Interval<${Au[this.unit]}>`}}ote=Symbol.toStringTag;cm[ote]=(e=>(e.unit=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Interval"))(cm.prototype);class JBe extends cm{constructor(){super(Au.DAY_TIME)}}class ZBe extends cm{constructor(){super(Au.YEAR_MONTH)}}let fm=class extends Qt{constructor(t){super(),this.children=[t]}get typeId(){return Q.List}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}};ate=Symbol.toStringTag;fm[ate]=(e=>(e.children=null,e[Symbol.toStringTag]="List"))(fm.prototype);class Yi extends Qt{constructor(t){super(),this.children=t}get typeId(){return Q.Struct}toString(){return`Struct<{${this.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}ute=Symbol.toStringTag;Yi[ute]=(e=>(e.children=null,e[Symbol.toStringTag]="Struct"))(Yi.prototype);class By extends Qt{constructor(t,n,r){super(),this.mode=t,this.children=r,this.typeIds=n=Int32Array.from(n),this.typeIdToChildIndex=n.reduce((i,s,o)=>(i[s]=o)&&i||i,Object.create(null))}get typeId(){return Q.Union}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(t=>`${t.type}`).join(" | ")}>`}}lte=Symbol.toStringTag;By[lte]=(e=>(e.mode=null,e.typeIds=null,e.children=null,e.typeIdToChildIndex=null,e.ArrayType=Int8Array,e[Symbol.toStringTag]="Union"))(By.prototype);let _T=class extends Qt{constructor(t){super(),this.byteWidth=t}get typeId(){return Q.FixedSizeBinary}toString(){return`FixedSizeBinary[${this.byteWidth}]`}};cte=Symbol.toStringTag;_T[cte]=(e=>(e.byteWidth=null,e.ArrayType=Uint8Array,e[Symbol.toStringTag]="FixedSizeBinary"))(_T.prototype);let dm=class extends Qt{constructor(t,n){super(),this.listSize=t,this.children=[n]}get typeId(){return Q.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}};fte=Symbol.toStringTag;dm[fte]=(e=>(e.children=null,e.listSize=null,e[Symbol.toStringTag]="FixedSizeList"))(dm.prototype);class jy extends Qt{constructor(t,n=!1){super(),this.children=[t],this.keysSorted=n}get typeId(){return Q.Map}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}dte=Symbol.toStringTag;jy[dte]=(e=>(e.children=null,e.keysSorted=null,e[Symbol.toStringTag]="Map_"))(jy.prototype);const eje=(e=>()=>++e)(-1);class of extends Qt{constructor(t,n,r,i){super(),this.indices=n,this.dictionary=t,this.isOrdered=i||!1,this.id=r==null?eje():typeof r=="number"?r:r.low}get typeId(){return Q.Dictionary}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}hte=Symbol.toStringTag;of[hte]=(e=>(e.id=null,e.indices=null,e.isOrdered=null,e.dictionary=null,e[Symbol.toStringTag]="Dictionary"))(of.prototype);function Wa(e){const t=e;switch(e.typeId){case Q.Decimal:return e.bitWidth/32;case Q.Timestamp:return 2;case Q.Date:return 1+t.unit;case Q.Interval:return 1+t.unit;case Q.FixedSizeList:return t.listSize;case Q.FixedSizeBinary:return t.byteWidth;default:return 1}}class on{visitMany(t,...n){return t.map((r,i)=>this.visit(r,...n.map(s=>s[i])))}visit(...t){return this.getVisitFn(t[0],!1).apply(this,t)}getVisitFn(t,n=!0){return tje(this,t,n)}getVisitFnByTypeId(t,n=!0){return Rh(this,t,n)}visitNull(t,...n){return null}visitBool(t,...n){return null}visitInt(t,...n){return null}visitFloat(t,...n){return null}visitUtf8(t,...n){return null}visitBinary(t,...n){return null}visitFixedSizeBinary(t,...n){return null}visitDate(t,...n){return null}visitTimestamp(t,...n){return null}visitTime(t,...n){return null}visitDecimal(t,...n){return null}visitList(t,...n){return null}visitStruct(t,...n){return null}visitUnion(t,...n){return null}visitDictionary(t,...n){return null}visitInterval(t,...n){return null}visitFixedSizeList(t,...n){return null}visitMap(t,...n){return null}}function tje(e,t,n=!0){return typeof t=="number"?Rh(e,t,n):typeof t=="string"&&t in Q?Rh(e,Q[t],n):t&&t instanceof Qt?Rh(e,iU(t),n):t!=null&&t.type&&t.type instanceof Qt?Rh(e,iU(t.type),n):Rh(e,Q.NONE,n)}function Rh(e,t,n=!0){let r=null;switch(t){case Q.Null:r=e.visitNull;break;case Q.Bool:r=e.visitBool;break;case Q.Int:r=e.visitInt;break;case Q.Int8:r=e.visitInt8||e.visitInt;break;case Q.Int16:r=e.visitInt16||e.visitInt;break;case Q.Int32:r=e.visitInt32||e.visitInt;break;case Q.Int64:r=e.visitInt64||e.visitInt;break;case Q.Uint8:r=e.visitUint8||e.visitInt;break;case Q.Uint16:r=e.visitUint16||e.visitInt;break;case Q.Uint32:r=e.visitUint32||e.visitInt;break;case Q.Uint64:r=e.visitUint64||e.visitInt;break;case Q.Float:r=e.visitFloat;break;case Q.Float16:r=e.visitFloat16||e.visitFloat;break;case Q.Float32:r=e.visitFloat32||e.visitFloat;break;case Q.Float64:r=e.visitFloat64||e.visitFloat;break;case Q.Utf8:r=e.visitUtf8;break;case Q.Binary:r=e.visitBinary;break;case Q.FixedSizeBinary:r=e.visitFixedSizeBinary;break;case Q.Date:r=e.visitDate;break;case Q.DateDay:r=e.visitDateDay||e.visitDate;break;case Q.DateMillisecond:r=e.visitDateMillisecond||e.visitDate;break;case Q.Timestamp:r=e.visitTimestamp;break;case Q.TimestampSecond:r=e.visitTimestampSecond||e.visitTimestamp;break;case Q.TimestampMillisecond:r=e.visitTimestampMillisecond||e.visitTimestamp;break;case Q.TimestampMicrosecond:r=e.visitTimestampMicrosecond||e.visitTimestamp;break;case Q.TimestampNanosecond:r=e.visitTimestampNanosecond||e.visitTimestamp;break;case Q.Time:r=e.visitTime;break;case Q.TimeSecond:r=e.visitTimeSecond||e.visitTime;break;case Q.TimeMillisecond:r=e.visitTimeMillisecond||e.visitTime;break;case Q.TimeMicrosecond:r=e.visitTimeMicrosecond||e.visitTime;break;case Q.TimeNanosecond:r=e.visitTimeNanosecond||e.visitTime;break;case Q.Decimal:r=e.visitDecimal;break;case Q.List:r=e.visitList;break;case Q.Struct:r=e.visitStruct;break;case Q.Union:r=e.visitUnion;break;case Q.DenseUnion:r=e.visitDenseUnion||e.visitUnion;break;case Q.SparseUnion:r=e.visitSparseUnion||e.visitUnion;break;case Q.Dictionary:r=e.visitDictionary;break;case Q.Interval:r=e.visitInterval;break;case Q.IntervalDayTime:r=e.visitIntervalDayTime||e.visitInterval;break;case Q.IntervalYearMonth:r=e.visitIntervalYearMonth||e.visitInterval;break;case Q.FixedSizeList:r=e.visitFixedSizeList;break;case Q.Map:r=e.visitMap;break}if(typeof r=="function")return r;if(!n)return()=>null;throw new Error(`Unrecognized type '${Q[t]}'`)}function iU(e){switch(e.typeId){case Q.Null:return Q.Null;case Q.Int:{const{bitWidth:t,isSigned:n}=e;switch(t){case 8:return n?Q.Int8:Q.Uint8;case 16:return n?Q.Int16:Q.Uint16;case 32:return n?Q.Int32:Q.Uint32;case 64:return n?Q.Int64:Q.Uint64}return Q.Int}case Q.Float:switch(e.precision){case Ni.HALF:return Q.Float16;case Ni.SINGLE:return Q.Float32;case Ni.DOUBLE:return Q.Float64}return Q.Float;case Q.Binary:return Q.Binary;case Q.Utf8:return Q.Utf8;case Q.Bool:return Q.Bool;case Q.Decimal:return Q.Decimal;case Q.Time:switch(e.unit){case sn.SECOND:return Q.TimeSecond;case sn.MILLISECOND:return Q.TimeMillisecond;case sn.MICROSECOND:return Q.TimeMicrosecond;case sn.NANOSECOND:return Q.TimeNanosecond}return Q.Time;case Q.Timestamp:switch(e.unit){case sn.SECOND:return Q.TimestampSecond;case sn.MILLISECOND:return Q.TimestampMillisecond;case sn.MICROSECOND:return Q.TimestampMicrosecond;case sn.NANOSECOND:return Q.TimestampNanosecond}return Q.Timestamp;case Q.Date:switch(e.unit){case Cu.DAY:return Q.DateDay;case Cu.MILLISECOND:return Q.DateMillisecond}return Q.Date;case Q.Interval:switch(e.unit){case Au.DAY_TIME:return Q.IntervalDayTime;case Au.YEAR_MONTH:return Q.IntervalYearMonth}return Q.Interval;case Q.Map:return Q.Map;case Q.List:return Q.List;case Q.Struct:return Q.Struct;case Q.Union:switch(e.mode){case Wo.Dense:return Q.DenseUnion;case Wo.Sparse:return Q.SparseUnion}return Q.Union;case Q.FixedSizeBinary:return Q.FixedSizeBinary;case Q.FixedSizeList:return Q.FixedSizeList;case Q.Dictionary:return Q.Dictionary}throw new Error(`Unrecognized type '${Q[e.typeId]}'`)}on.prototype.visitInt8=null;on.prototype.visitInt16=null;on.prototype.visitInt32=null;on.prototype.visitInt64=null;on.prototype.visitUint8=null;on.prototype.visitUint16=null;on.prototype.visitUint32=null;on.prototype.visitUint64=null;on.prototype.visitFloat16=null;on.prototype.visitFloat32=null;on.prototype.visitFloat64=null;on.prototype.visitDateDay=null;on.prototype.visitDateMillisecond=null;on.prototype.visitTimestampSecond=null;on.prototype.visitTimestampMillisecond=null;on.prototype.visitTimestampMicrosecond=null;on.prototype.visitTimestampNanosecond=null;on.prototype.visitTimeSecond=null;on.prototype.visitTimeMillisecond=null;on.prototype.visitTimeMicrosecond=null;on.prototype.visitTimeNanosecond=null;on.prototype.visitDenseUnion=null;on.prototype.visitSparseUnion=null;on.prototype.visitIntervalDayTime=null;on.prototype.visitIntervalYearMonth=null;const mte=new Float64Array(1),xh=new Uint32Array(mte.buffer);function gte(e){const t=(e&31744)>>10,n=(e&1023)/1024,r=Math.pow(-1,(e&32768)>>15);switch(t){case 31:return r*(n?Number.NaN:1/0);case 0:return r*(n?6103515625e-14*n:0)}return r*Math.pow(2,t-15)*(1+n)}function yte(e){if(e!==e)return 32256;mte[0]=e;const t=(xh[1]&2147483648)>>16&65535;let n=xh[1]&2146435072,r=0;return n>=1089470464?xh[0]>0?n=31744:(n=(n&2080374784)>>16,r=(xh[1]&1048575)>>10):n<=1056964608?(r=1048576+(xh[1]&1048575),r=1048576+(r<<(n>>20)-998)>>21,n=0):(n=n-1056964608>>10,r=(xh[1]&1048575)+512>>10),t|n|r&65535}class kt extends on{}function Ft(e){return(t,n,r)=>{if(t.setValid(n,r!=null))return e(t,n,r)}}const nje=(e,t,n)=>{e[t]=Math.trunc(n/864e5)},$$=(e,t,n)=>{e[t]=Math.trunc(n%4294967296),e[t+1]=Math.trunc(n/4294967296)},rje=(e,t,n)=>{e[t]=Math.trunc(n*1e3%4294967296),e[t+1]=Math.trunc(n*1e3/4294967296)},ije=(e,t,n)=>{e[t]=Math.trunc(n*1e6%4294967296),e[t+1]=Math.trunc(n*1e6/4294967296)},_te=(e,t,n,r)=>{if(n+1<t.length){const{[n]:i,[n+1]:s}=t;e.set(r.subarray(0,s-i),i)}},sje=({offset:e,values:t},n,r)=>{const i=e+n;r?t[i>>3]|=1<<i%8:t[i>>3]&=~(1<<i%8)},Wl=({values:e},t,n)=>{e[t]=n},L$=({values:e},t,n)=>{e[t]=n},vte=({values:e},t,n)=>{e[t]=yte(n)},oje=(e,t,n)=>{switch(e.type.precision){case Ni.HALF:return vte(e,t,n);case Ni.SINGLE:case Ni.DOUBLE:return L$(e,t,n)}},M$=({values:e},t,n)=>{nje(e,t,n.valueOf())},F$=({values:e},t,n)=>{$$(e,t*2,n.valueOf())},bte=({stride:e,values:t},n,r)=>{t.set(r.subarray(0,e),e*n)},aje=({values:e,valueOffsets:t},n,r)=>_te(e,t,n,r),uje=({values:e,valueOffsets:t},n,r)=>{_te(e,t,n,E$(r))},Ete=(e,t,n)=>{e.type.unit===Cu.DAY?M$(e,t,n):F$(e,t,n)},B$=({values:e},t,n)=>$$(e,t*2,n/1e3),j$=({values:e},t,n)=>$$(e,t*2,n),U$=({values:e},t,n)=>rje(e,t*2,n),V$=({values:e},t,n)=>ije(e,t*2,n),wte=(e,t,n)=>{switch(e.type.unit){case sn.SECOND:return B$(e,t,n);case sn.MILLISECOND:return j$(e,t,n);case sn.MICROSECOND:return U$(e,t,n);case sn.NANOSECOND:return V$(e,t,n)}},z$=({values:e},t,n)=>{e[t]=n},H$=({values:e},t,n)=>{e[t]=n},W$=({values:e},t,n)=>{e[t]=n},q$=({values:e},t,n)=>{e[t]=n},Tte=(e,t,n)=>{switch(e.type.unit){case sn.SECOND:return z$(e,t,n);case sn.MILLISECOND:return H$(e,t,n);case sn.MICROSECOND:return W$(e,t,n);case sn.NANOSECOND:return q$(e,t,n)}},Ste=({values:e,stride:t},n,r)=>{e.set(r.subarray(0,t),t*n)},lje=(e,t,n)=>{const r=e.children[0],i=e.valueOffsets,s=qo.getVisitFn(r);if(Array.isArray(n))for(let o=-1,a=i[t],u=i[t+1];a<u;)s(r,a++,n[++o]);else for(let o=-1,a=i[t],u=i[t+1];a<u;)s(r,a++,n.get(++o))},cje=(e,t,n)=>{const r=e.children[0],{valueOffsets:i}=e,s=qo.getVisitFn(r);let{[t]:o,[t+1]:a}=i;const u=n instanceof Map?n.entries():Object.entries(n);for(const l of u)if(s(r,o,l),++o>=a)break},fje=(e,t)=>(n,r,i,s)=>r&&n(r,e,t[s]),dje=(e,t)=>(n,r,i,s)=>r&&n(r,e,t.get(s)),hje=(e,t)=>(n,r,i,s)=>r&&n(r,e,t.get(i.name)),pje=(e,t)=>(n,r,i,s)=>r&&n(r,e,t[i.name]),mje=(e,t,n)=>{const r=e.type.children.map(s=>qo.getVisitFn(s.type)),i=n instanceof Map?hje(t,n):n instanceof _n?dje(t,n):Array.isArray(n)?fje(t,n):pje(t,n);e.type.children.forEach((s,o)=>i(r[o],e.children[o],s,o))},gje=(e,t,n)=>{e.type.mode===Wo.Dense?Ite(e,t,n):xte(e,t,n)},Ite=(e,t,n)=>{const r=e.type.typeIdToChildIndex[e.typeIds[t]],i=e.children[r];qo.visit(i,e.valueOffsets[t],n)},xte=(e,t,n)=>{const r=e.type.typeIdToChildIndex[e.typeIds[t]],i=e.children[r];qo.visit(i,t,n)},yje=(e,t,n)=>{var r;(r=e.dictionary)===null||r===void 0||r.set(e.values[t],n)},Cte=(e,t,n)=>{e.type.unit===Au.DAY_TIME?Y$(e,t,n):G$(e,t,n)},Y$=({values:e},t,n)=>{e.set(n.subarray(0,2),2*t)},G$=({values:e},t,n)=>{e[t]=n[0]*12+n[1]%12},_je=(e,t,n)=>{const{stride:r}=e,i=e.children[0],s=qo.getVisitFn(i);if(Array.isArray(n))for(let o=-1,a=t*r;++o<r;)s(i,a+o,n[o]);else for(let o=-1,a=t*r;++o<r;)s(i,a+o,n.get(o))};kt.prototype.visitBool=Ft(sje);kt.prototype.visitInt=Ft(Wl);kt.prototype.visitInt8=Ft(Wl);kt.prototype.visitInt16=Ft(Wl);kt.prototype.visitInt32=Ft(Wl);kt.prototype.visitInt64=Ft(Wl);kt.prototype.visitUint8=Ft(Wl);kt.prototype.visitUint16=Ft(Wl);kt.prototype.visitUint32=Ft(Wl);kt.prototype.visitUint64=Ft(Wl);kt.prototype.visitFloat=Ft(oje);kt.prototype.visitFloat16=Ft(vte);kt.prototype.visitFloat32=Ft(L$);kt.prototype.visitFloat64=Ft(L$);kt.prototype.visitUtf8=Ft(uje);kt.prototype.visitBinary=Ft(aje);kt.prototype.visitFixedSizeBinary=Ft(bte);kt.prototype.visitDate=Ft(Ete);kt.prototype.visitDateDay=Ft(M$);kt.prototype.visitDateMillisecond=Ft(F$);kt.prototype.visitTimestamp=Ft(wte);kt.prototype.visitTimestampSecond=Ft(B$);kt.prototype.visitTimestampMillisecond=Ft(j$);kt.prototype.visitTimestampMicrosecond=Ft(U$);kt.prototype.visitTimestampNanosecond=Ft(V$);kt.prototype.visitTime=Ft(Tte);kt.prototype.visitTimeSecond=Ft(z$);kt.prototype.visitTimeMillisecond=Ft(H$);kt.prototype.visitTimeMicrosecond=Ft(W$);kt.prototype.visitTimeNanosecond=Ft(q$);kt.prototype.visitDecimal=Ft(Ste);kt.prototype.visitList=Ft(lje);kt.prototype.visitStruct=Ft(mje);kt.prototype.visitUnion=Ft(gje);kt.prototype.visitDenseUnion=Ft(Ite);kt.prototype.visitSparseUnion=Ft(xte);kt.prototype.visitDictionary=Ft(yje);kt.prototype.visitInterval=Ft(Cte);kt.prototype.visitIntervalDayTime=Ft(Y$);kt.prototype.visitIntervalYearMonth=Ft(G$);kt.prototype.visitFixedSizeList=Ft(_je);kt.prototype.visitMap=Ft(cje);const qo=new kt,fa=Symbol.for("parent"),Pp=Symbol.for("rowIndex");class K${constructor(t,n){return this[fa]=t,this[Pp]=n,new Proxy(this,new bje)}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[Pp],n=this[fa],r=n.type.children,i={};for(let s=-1,o=r.length;++s<o;)i[r[s].name]=zs.visit(n.children[s],t);return i}toString(){return`{${[...this].map(([t,n])=>`${Wc(t)}: ${Wc(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new vje(this[fa],this[Pp])}}class vje{constructor(t,n){this.childIndex=0,this.children=t.children,this.rowIndex=n,this.childFields=t.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){const t=this.childIndex;return t<this.numChildren?(this.childIndex=t+1,{done:!1,value:[this.childFields[t].name,zs.visit(this.children[t],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(K$.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[fa]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Pp]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class bje{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[fa].type.children.map(n=>n.name)}has(t,n){return t[fa].type.children.findIndex(r=>r.name===n)!==-1}getOwnPropertyDescriptor(t,n){if(t[fa].type.children.findIndex(r=>r.name===n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,n){if(Reflect.has(t,n))return t[n];const r=t[fa].type.children.findIndex(i=>i.name===n);if(r!==-1){const i=zs.visit(t[fa].children[r],t[Pp]);return Reflect.set(t,n,i),i}}set(t,n,r){const i=t[fa].type.children.findIndex(s=>s.name===n);return i!==-1?(qo.visit(t[fa].children[i],t[Pp],r),Reflect.set(t,n,r)):Reflect.has(t,n)||typeof n=="symbol"?Reflect.set(t,n,r):!1}}class At extends on{}function Dt(e){return(t,n)=>t.getValid(n)?e(t,n):null}const Eje=(e,t)=>864e5*e[t],Q$=(e,t)=>4294967296*e[t+1]+(e[t]>>>0),wje=(e,t)=>4294967296*(e[t+1]/1e3)+(e[t]>>>0)/1e3,Tje=(e,t)=>4294967296*(e[t+1]/1e6)+(e[t]>>>0)/1e6,Ate=e=>new Date(e),Sje=(e,t)=>Ate(Eje(e,t)),Ije=(e,t)=>Ate(Q$(e,t)),xje=(e,t)=>null,Ote=(e,t,n)=>{if(n+1>=t.length)return null;const r=t[n],i=t[n+1];return e.subarray(r,i)},Cje=({offset:e,values:t},n)=>{const r=e+n;return(t[r>>3]&1<<r%8)!==0},Pte=({values:e},t)=>Sje(e,t),Rte=({values:e},t)=>Ije(e,t*2),Tf=({stride:e,values:t},n)=>t[e*n],Aje=({stride:e,values:t},n)=>gte(t[e*n]),Nte=({values:e},t)=>e[t],Oje=({stride:e,values:t},n)=>t.subarray(e*n,e*(n+1)),Pje=({values:e,valueOffsets:t},n)=>Ote(e,t,n),Rje=({values:e,valueOffsets:t},n)=>{const r=Ote(e,t,n);return r!==null?V2(r):null},Nje=({values:e},t)=>e[t],kje=({type:e,values:t},n)=>e.precision!==Ni.HALF?t[n]:gte(t[n]),Dje=(e,t)=>e.type.unit===Cu.DAY?Pte(e,t):Rte(e,t),kte=({values:e},t)=>1e3*Q$(e,t*2),Dte=({values:e},t)=>Q$(e,t*2),$te=({values:e},t)=>wje(e,t*2),Lte=({values:e},t)=>Tje(e,t*2),$je=(e,t)=>{switch(e.type.unit){case sn.SECOND:return kte(e,t);case sn.MILLISECOND:return Dte(e,t);case sn.MICROSECOND:return $te(e,t);case sn.NANOSECOND:return Lte(e,t)}},Mte=({values:e},t)=>e[t],Fte=({values:e},t)=>e[t],Bte=({values:e},t)=>e[t],jte=({values:e},t)=>e[t],Lje=(e,t)=>{switch(e.type.unit){case sn.SECOND:return Mte(e,t);case sn.MILLISECOND:return Fte(e,t);case sn.MICROSECOND:return Bte(e,t);case sn.NANOSECOND:return jte(e,t)}},Mje=({values:e,stride:t},n)=>I$.decimal(e.subarray(t*n,t*(n+1))),Fje=(e,t)=>{const{valueOffsets:n,stride:r,children:i}=e,{[t*r]:s,[t*r+1]:o}=n,u=i[0].slice(s,o-s);return new _n([u])},Bje=(e,t)=>{const{valueOffsets:n,children:r}=e,{[t]:i,[t+1]:s}=n,o=r[0];return new UI(o.slice(i,s-i))},jje=(e,t)=>new K$(e,t),Uje=(e,t)=>e.type.mode===Wo.Dense?Ute(e,t):Vte(e,t),Ute=(e,t)=>{const n=e.type.typeIdToChildIndex[e.typeIds[t]],r=e.children[n];return zs.visit(r,e.valueOffsets[t])},Vte=(e,t)=>{const n=e.type.typeIdToChildIndex[e.typeIds[t]],r=e.children[n];return zs.visit(r,t)},Vje=(e,t)=>{var n;return(n=e.dictionary)===null||n===void 0?void 0:n.get(e.values[t])},zje=(e,t)=>e.type.unit===Au.DAY_TIME?zte(e,t):Hte(e,t),zte=({values:e},t)=>e.subarray(2*t,2*(t+1)),Hte=({values:e},t)=>{const n=e[t],r=new Int32Array(2);return r[0]=Math.trunc(n/12),r[1]=Math.trunc(n%12),r},Hje=(e,t)=>{const{stride:n,children:r}=e,s=r[0].slice(t*n,n);return new _n([s])};At.prototype.visitNull=Dt(xje);At.prototype.visitBool=Dt(Cje);At.prototype.visitInt=Dt(Nje);At.prototype.visitInt8=Dt(Tf);At.prototype.visitInt16=Dt(Tf);At.prototype.visitInt32=Dt(Tf);At.prototype.visitInt64=Dt(Nte);At.prototype.visitUint8=Dt(Tf);At.prototype.visitUint16=Dt(Tf);At.prototype.visitUint32=Dt(Tf);At.prototype.visitUint64=Dt(Nte);At.prototype.visitFloat=Dt(kje);At.prototype.visitFloat16=Dt(Aje);At.prototype.visitFloat32=Dt(Tf);At.prototype.visitFloat64=Dt(Tf);At.prototype.visitUtf8=Dt(Rje);At.prototype.visitBinary=Dt(Pje);At.prototype.visitFixedSizeBinary=Dt(Oje);At.prototype.visitDate=Dt(Dje);At.prototype.visitDateDay=Dt(Pte);At.prototype.visitDateMillisecond=Dt(Rte);At.prototype.visitTimestamp=Dt($je);At.prototype.visitTimestampSecond=Dt(kte);At.prototype.visitTimestampMillisecond=Dt(Dte);At.prototype.visitTimestampMicrosecond=Dt($te);At.prototype.visitTimestampNanosecond=Dt(Lte);At.prototype.visitTime=Dt(Lje);At.prototype.visitTimeSecond=Dt(Mte);At.prototype.visitTimeMillisecond=Dt(Fte);At.prototype.visitTimeMicrosecond=Dt(Bte);At.prototype.visitTimeNanosecond=Dt(jte);At.prototype.visitDecimal=Dt(Mje);At.prototype.visitList=Dt(Fje);At.prototype.visitStruct=Dt(jje);At.prototype.visitUnion=Dt(Uje);At.prototype.visitDenseUnion=Dt(Ute);At.prototype.visitSparseUnion=Dt(Vte);At.prototype.visitDictionary=Dt(Vje);At.prototype.visitInterval=Dt(zje);At.prototype.visitIntervalDayTime=Dt(zte);At.prototype.visitIntervalYearMonth=Dt(Hte);At.prototype.visitFixedSizeList=Dt(Hje);At.prototype.visitMap=Dt(Bje);const zs=new At,ya=Symbol.for("keys"),Rp=Symbol.for("vals");class UI{constructor(t){return this[ya]=new _n([t.children[0]]).memoize(),this[Rp]=t.children[1],new Proxy(this,new qje)}[Symbol.iterator](){return new Wje(this[ya],this[Rp])}get size(){return this[ya].length}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[ya],n=this[Rp],r={};for(let i=-1,s=t.length;++i<s;)r[t.get(i)]=zs.visit(n,i);return r}toString(){return`{${[...this].map(([t,n])=>`${Wc(t)}: ${Wc(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}class Wje{constructor(t,n){this.keys=t,this.vals=n,this.keyIndex=0,this.numKeys=t.length}[Symbol.iterator](){return this}next(){const t=this.keyIndex;return t===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(t),zs.visit(this.vals,t)]})}}class qje{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[ya].toArray().map(String)}has(t,n){return t[ya].includes(n)}getOwnPropertyDescriptor(t,n){if(t[ya].indexOf(n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,n){if(Reflect.has(t,n))return t[n];const r=t[ya].indexOf(n);if(r!==-1){const i=zs.visit(Reflect.get(t,Rp),r);return Reflect.set(t,n,i),i}}set(t,n,r){const i=t[ya].indexOf(n);return i!==-1?(qo.visit(Reflect.get(t,Rp),i,r),Reflect.set(t,n,r)):Reflect.has(t,n)?Reflect.set(t,n,r):!1}}Object.defineProperties(UI.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[ya]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Rp]:{writable:!0,enumerable:!1,configurable:!1,value:null}});let sU;function Wte(e,t,n,r){const{length:i=0}=e;let s=typeof t!="number"?0:t,o=typeof n!="number"?i:n;return s<0&&(s=(s%i+i)%i),o<0&&(o=(o%i+i)%i),o<s&&(sU=s,s=o,o=sU),o>i&&(o=i),r?r(e,s,o):[s,o]}const oU=e=>e!==e;function Ym(e){if(typeof e!=="object"||e===null)return oU(e)?oU:n=>n===e;if(e instanceof Date){const n=e.valueOf();return r=>r instanceof Date?r.valueOf()===n:!1}return ArrayBuffer.isView(e)?n=>n?FBe(e,n):!1:e instanceof Map?Gje(e):Array.isArray(e)?Yje(e):e instanceof _n?Kje(e):Qje(e,!0)}function Yje(e){const t=[];for(let n=-1,r=e.length;++n<r;)t[n]=Ym(e[n]);return VI(t)}function Gje(e){let t=-1;const n=[];for(const r of e.values())n[++t]=Ym(r);return VI(n)}function Kje(e){const t=[];for(let n=-1,r=e.length;++n<r;)t[n]=Ym(e.get(n));return VI(t)}function Qje(e,t=!1){const n=Object.keys(e);if(!t&&n.length===0)return()=>!1;const r=[];for(let i=-1,s=n.length;++i<s;)r[i]=Ym(e[n[i]]);return VI(r,n)}function VI(e,t){return n=>{if(!n||typeof n!="object")return!1;switch(n.constructor){case Array:return Xje(e,n);case Map:return aU(e,n,n.keys());case UI:case K$:case Object:case void 0:return aU(e,n,t||Object.keys(n))}return n instanceof _n?Jje(e,n):!1}}function Xje(e,t){const n=e.length;if(t.length!==n)return!1;for(let r=-1;++r<n;)if(!e[r](t[r]))return!1;return!0}function Jje(e,t){const n=e.length;if(t.length!==n)return!1;for(let r=-1;++r<n;)if(!e[r](t.get(r)))return!1;return!0}function aU(e,t,n){const r=n[Symbol.iterator](),i=t instanceof Map?t.keys():Object.keys(t)[Symbol.iterator](),s=t instanceof Map?t.values():Object.values(t)[Symbol.iterator]();let o=0;const a=e.length;let u=s.next(),l=r.next(),c=i.next();for(;o<a&&!l.done&&!c.done&&!u.done&&!(l.value!==c.value||!e[o](u.value));++o,l=r.next(),c=i.next(),u=s.next());return o===a&&l.done&&c.done&&u.done?!0:(r.return&&r.return(),i.return&&i.return(),s.return&&s.return(),!1)}function qte(e,t,n,r){return(n&1<<r)!==0}function Zje(e,t,n,r){return(n&1<<r)>>r}function X$(e,t,n){const r=n.byteLength+7&-8;if(e>0||n.byteLength<r){const i=new Uint8Array(r);return i.set(e%8===0?n.subarray(e>>3):Yte(new J$(n,e,t,null,qte)).subarray(0,r)),i}return n}function Yte(e){const t=[];let n=0,r=0,i=0;for(const o of e)o&&(i|=1<<r),++r===8&&(t[n++]=i,i=r=0);(n===0||r>0)&&(t[n++]=i);const s=new Uint8Array(t.length+7&-8);return s.set(t),s}class J${constructor(t,n,r,i,s){this.bytes=t,this.length=r,this.context=i,this.get=s,this.bit=n%8,this.byteIndex=n>>3,this.byte=t[this.byteIndex++],this.index=0}next(){return this.index<this.length?(this.bit===8&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}function W2(e,t,n){if(n-t<=0)return 0;if(n-t<8){let s=0;for(const o of new J$(e,t,n-t,e,Zje))s+=o;return s}const r=n>>3<<3,i=t+(t%8===0?0:8-t%8);return W2(e,t,i)+W2(e,r,n)+eUe(e,i>>3,r-i>>3)}function eUe(e,t,n){let r=0,i=Math.trunc(t);const s=new DataView(e.buffer,e.byteOffset,e.byteLength),o=n===void 0?e.byteLength:i+n;for(;o-i>=4;)r+=zA(s.getUint32(i)),i+=4;for(;o-i>=2;)r+=zA(s.getUint16(i)),i+=2;for(;o-i>=1;)r+=zA(s.getUint8(i)),i+=1;return r}function zA(e){let t=Math.trunc(e);return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),(t+(t>>>4)&252645135)*16843009>>>24}const tUe=-1;class Mn{constructor(t,n,r,i,s,o=[],a){this.type=t,this.children=o,this.dictionary=a,this.offset=Math.floor(Math.max(n||0,0)),this.length=Math.floor(Math.max(r||0,0)),this._nullCount=Math.floor(Math.max(i||0,-1));let u;s instanceof Mn?(this.stride=s.stride,this.values=s.values,this.typeIds=s.typeIds,this.nullBitmap=s.nullBitmap,this.valueOffsets=s.valueOffsets):(this.stride=Wa(t),s&&((u=s[0])&&(this.valueOffsets=u),(u=s[1])&&(this.values=u),(u=s[2])&&(this.nullBitmap=u),(u=s[3])&&(this.typeIds=u))),this.nullable=this._nullCount!==0&&this.nullBitmap&&this.nullBitmap.byteLength>0}get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get byteLength(){let t=0;const{valueOffsets:n,values:r,nullBitmap:i,typeIds:s}=this;return n&&(t+=n.byteLength),r&&(t+=r.byteLength),i&&(t+=i.byteLength),s&&(t+=s.byteLength),this.children.reduce((o,a)=>o+a.byteLength,t)}get nullCount(){let t=this._nullCount,n;return t<=tUe&&(n=this.nullBitmap)&&(this._nullCount=t=this.length-W2(n,this.offset,this.offset+this.length)),t}getValid(t){if(this.nullable&&this.nullCount>0){const n=this.offset+t;return(this.nullBitmap[n>>3]&1<<n%8)!==0}return!0}setValid(t,n){if(!this.nullable)return n;if(!this.nullBitmap||this.nullBitmap.byteLength<=t>>3){const{nullBitmap:u}=this._changeLengthAndBackfillNullBitmap(this.length);Object.assign(this,{nullBitmap:u,_nullCount:0})}const{nullBitmap:r,offset:i}=this,s=i+t>>3,o=(i+t)%8,a=r[s]>>o&1;return n?a===0&&(r[s]|=1<<o,this._nullCount=this.nullCount+1):a===1&&(r[s]&=~(1<<o),this._nullCount=this.nullCount-1),n}clone(t=this.type,n=this.offset,r=this.length,i=this._nullCount,s=this,o=this.children){return new Mn(t,n,r,i,s,o,this.dictionary)}slice(t,n){const{stride:r,typeId:i,children:s}=this,o=+(this._nullCount===0)-1,a=i===16?r:1,u=this._sliceBuffers(t,n,r,i);return this.clone(this.type,this.offset+t,n,o,u,s.length===0||this.valueOffsets?s:this._sliceChildren(s,a*t,a*n))}_changeLengthAndBackfillNullBitmap(t){if(this.typeId===Q.Null)return this.clone(this.type,0,t,0);const{length:n,nullCount:r}=this,i=new Uint8Array((t+63&-64)>>3).fill(255,0,n>>3);i[n>>3]=(1<<n-(n&-8))-1,r>0&&i.set(X$(this.offset,n,this.nullBitmap),0);const s=this.buffers;return s[zu.VALIDITY]=i,this.clone(this.type,0,t,r+(t-n),s)}_sliceBuffers(t,n,r,i){let s;const{buffers:o}=this;return(s=o[zu.TYPE])&&(o[zu.TYPE]=s.subarray(t,t+n)),(s=o[zu.OFFSET])&&(o[zu.OFFSET]=s.subarray(t,t+n+1))||(s=o[zu.DATA])&&(o[zu.DATA]=i===6?s:s.subarray(r*t,r*(t+n))),o}_sliceChildren(t,n,r){return t.map(i=>i.slice(n,r))}}Mn.prototype.children=Object.freeze([]);class Wg extends on{visit(t){return this.getVisitFn(t.type).call(this,t)}visitNull(t){const{["type"]:n,["offset"]:r=0,["length"]:i=0}=t;return new Mn(n,r,i,0)}visitBool(t){const{["type"]:n,["offset"]:r=0}=t,i=Pn(t.nullBitmap),s=Ii(n.ArrayType,t.data),{["length"]:o=s.length>>3,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Mn(n,r,o,a,[void 0,s,i])}visitInt(t){const{["type"]:n,["offset"]:r=0}=t,i=Pn(t.nullBitmap),s=Ii(n.ArrayType,t.data),{["length"]:o=s.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Mn(n,r,o,a,[void 0,s,i])}visitFloat(t){const{["type"]:n,["offset"]:r=0}=t,i=Pn(t.nullBitmap),s=Ii(n.ArrayType,t.data),{["length"]:o=s.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Mn(n,r,o,a,[void 0,s,i])}visitUtf8(t){const{["type"]:n,["offset"]:r=0}=t,i=Pn(t.data),s=Pn(t.nullBitmap),o=V0(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new Mn(n,r,a,u,[o,i,s])}visitBinary(t){const{["type"]:n,["offset"]:r=0}=t,i=Pn(t.data),s=Pn(t.nullBitmap),o=V0(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new Mn(n,r,a,u,[o,i,s])}visitFixedSizeBinary(t){const{["type"]:n,["offset"]:r=0}=t,i=Pn(t.nullBitmap),s=Ii(n.ArrayType,t.data),{["length"]:o=s.length/Wa(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Mn(n,r,o,a,[void 0,s,i])}visitDate(t){const{["type"]:n,["offset"]:r=0}=t,i=Pn(t.nullBitmap),s=Ii(n.ArrayType,t.data),{["length"]:o=s.length/Wa(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Mn(n,r,o,a,[void 0,s,i])}visitTimestamp(t){const{["type"]:n,["offset"]:r=0}=t,i=Pn(t.nullBitmap),s=Ii(n.ArrayType,t.data),{["length"]:o=s.length/Wa(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Mn(n,r,o,a,[void 0,s,i])}visitTime(t){const{["type"]:n,["offset"]:r=0}=t,i=Pn(t.nullBitmap),s=Ii(n.ArrayType,t.data),{["length"]:o=s.length/Wa(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Mn(n,r,o,a,[void 0,s,i])}visitDecimal(t){const{["type"]:n,["offset"]:r=0}=t,i=Pn(t.nullBitmap),s=Ii(n.ArrayType,t.data),{["length"]:o=s.length/Wa(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Mn(n,r,o,a,[void 0,s,i])}visitList(t){const{["type"]:n,["offset"]:r=0,["child"]:i}=t,s=Pn(t.nullBitmap),o=V0(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new Mn(n,r,a,u,[o,void 0,s],[i])}visitStruct(t){const{["type"]:n,["offset"]:r=0,["children"]:i=[]}=t,s=Pn(t.nullBitmap),{length:o=i.reduce((u,{length:l})=>Math.max(u,l),0),nullCount:a=t.nullBitmap?-1:0}=t;return new Mn(n,r,o,a,[void 0,void 0,s],i)}visitUnion(t){const{["type"]:n,["offset"]:r=0,["children"]:i=[]}=t,s=Pn(t.nullBitmap),o=Ii(n.ArrayType,t.typeIds),{["length"]:a=o.length,["nullCount"]:u=t.nullBitmap?-1:0}=t;if(Qt.isSparseUnion(n))return new Mn(n,r,a,u,[void 0,void 0,s,o],i);const l=V0(t.valueOffsets);return new Mn(n,r,a,u,[l,void 0,s,o],i)}visitDictionary(t){const{["type"]:n,["offset"]:r=0}=t,i=Pn(t.nullBitmap),s=Ii(n.indices.ArrayType,t.data),{["dictionary"]:o=new _n([new Wg().visit({type:n.dictionary})])}=t,{["length"]:a=s.length,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new Mn(n,r,a,u,[void 0,s,i],[],o)}visitInterval(t){const{["type"]:n,["offset"]:r=0}=t,i=Pn(t.nullBitmap),s=Ii(n.ArrayType,t.data),{["length"]:o=s.length/Wa(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Mn(n,r,o,a,[void 0,s,i])}visitFixedSizeList(t){const{["type"]:n,["offset"]:r=0,["child"]:i=new Wg().visit({type:n.valueType})}=t,s=Pn(t.nullBitmap),{["length"]:o=i.length/Wa(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Mn(n,r,o,a,[void 0,void 0,s],[i])}visitMap(t){const{["type"]:n,["offset"]:r=0,["child"]:i=new Wg().visit({type:n.childType})}=t,s=Pn(t.nullBitmap),o=V0(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new Mn(n,r,a,u,[o,void 0,s],[i])}}function Hi(e){return new Wg().visit(e)}class uU{constructor(t=0,n){this.numChunks=t,this.getChunkIterator=n,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){const t=this.chunkIterator.next();if(!t.done)return t;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}}function Gte(e){return e.reduce((t,n)=>t+n.nullCount,0)}function Kte(e){return e.reduce((t,n,r)=>(t[r+1]=t[r]+n.length,t),new Uint32Array(e.length+1))}function Qte(e,t,n,r){const i=[];for(let s=-1,o=e.length;++s<o;){const a=e[s],u=t[s],{length:l}=a;if(u>=r)break;if(n>=u+l)continue;if(u>=n&&u+l<=r){i.push(a);continue}const c=Math.max(0,n-u),f=Math.min(r-u,l);i.push(a.slice(c,f-c))}return i.length===0&&i.push(e[0].slice(0,0)),i}function Z$(e,t,n,r){let i=0,s=0,o=t.length-1;do{if(i>=o-1)return n<t[o]?r(e,i,n-t[i]):null;s=i+Math.trunc((o-i)*.5),n<t[s]?o=s:i=s}while(i<o)}function e3(e,t){return e.getValid(t)}function Np(e){function t(n,r,i){return e(n[r],i)}return function(n){const r=this.data;return Z$(r,this._offsets,n,t)}}function Xte(e){let t;function n(r,i,s){return e(r[i],s,t)}return function(r,i){const s=this.data;t=i;const o=Z$(s,this._offsets,r,n);return t=void 0,o}}function Jte(e){let t;function n(r,i,s){let o=s,a=0,u=0;for(let l=i-1,c=r.length;++l<c;){const f=r[l];if(~(a=e(f,t,o)))return u+a;o=0,u+=f.length}return-1}return function(r,i){t=r;const s=this.data,o=typeof i!="number"?n(s,0,0):Z$(s,this._offsets,i,n);return t=void 0,o}}class Ot extends on{}function nUe(e,t){return t===null&&e.length>0?0:-1}function rUe(e,t){const{nullBitmap:n}=e;if(!n||e.nullCount<=0)return-1;let r=0;for(const i of new J$(n,e.offset+(t||0),e.length,n,qte)){if(!i)return r;++r}return-1}function Vt(e,t,n){if(t===void 0)return-1;if(t===null)return rUe(e,n);const r=zs.getVisitFn(e),i=Ym(t);for(let s=(n||0)-1,o=e.length;++s<o;)if(i(r(e,s)))return s;return-1}function Zte(e,t,n){const r=zs.getVisitFn(e),i=Ym(t);for(let s=(n||0)-1,o=e.length;++s<o;)if(i(r(e,s)))return s;return-1}Ot.prototype.visitNull=nUe;Ot.prototype.visitBool=Vt;Ot.prototype.visitInt=Vt;Ot.prototype.visitInt8=Vt;Ot.prototype.visitInt16=Vt;Ot.prototype.visitInt32=Vt;Ot.prototype.visitInt64=Vt;Ot.prototype.visitUint8=Vt;Ot.prototype.visitUint16=Vt;Ot.prototype.visitUint32=Vt;Ot.prototype.visitUint64=Vt;Ot.prototype.visitFloat=Vt;Ot.prototype.visitFloat16=Vt;Ot.prototype.visitFloat32=Vt;Ot.prototype.visitFloat64=Vt;Ot.prototype.visitUtf8=Vt;Ot.prototype.visitBinary=Vt;Ot.prototype.visitFixedSizeBinary=Vt;Ot.prototype.visitDate=Vt;Ot.prototype.visitDateDay=Vt;Ot.prototype.visitDateMillisecond=Vt;Ot.prototype.visitTimestamp=Vt;Ot.prototype.visitTimestampSecond=Vt;Ot.prototype.visitTimestampMillisecond=Vt;Ot.prototype.visitTimestampMicrosecond=Vt;Ot.prototype.visitTimestampNanosecond=Vt;Ot.prototype.visitTime=Vt;Ot.prototype.visitTimeSecond=Vt;Ot.prototype.visitTimeMillisecond=Vt;Ot.prototype.visitTimeMicrosecond=Vt;Ot.prototype.visitTimeNanosecond=Vt;Ot.prototype.visitDecimal=Vt;Ot.prototype.visitList=Vt;Ot.prototype.visitStruct=Vt;Ot.prototype.visitUnion=Vt;Ot.prototype.visitDenseUnion=Zte;Ot.prototype.visitSparseUnion=Zte;Ot.prototype.visitDictionary=Vt;Ot.prototype.visitInterval=Vt;Ot.prototype.visitIntervalDayTime=Vt;Ot.prototype.visitIntervalYearMonth=Vt;Ot.prototype.visitFixedSizeList=Vt;Ot.prototype.visitMap=Vt;const vT=new Ot;class Pt extends on{}function $t(e){const{type:t}=e;if(e.nullCount===0&&e.stride===1&&(t.typeId===Q.Timestamp||t instanceof fs&&t.bitWidth!==64||t instanceof Ol&&t.bitWidth!==64||t instanceof sf&&t.precision!==Ni.HALF))return new uU(e.data.length,r=>{const i=e.data[r];return i.values.subarray(0,i.length)[Symbol.iterator]()});let n=0;return new uU(e.data.length,r=>{const s=e.data[r].length,o=e.slice(n,n+s);return n+=s,new iUe(o)})}class iUe{constructor(t){this.vector=t,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}Pt.prototype.visitNull=$t;Pt.prototype.visitBool=$t;Pt.prototype.visitInt=$t;Pt.prototype.visitInt8=$t;Pt.prototype.visitInt16=$t;Pt.prototype.visitInt32=$t;Pt.prototype.visitInt64=$t;Pt.prototype.visitUint8=$t;Pt.prototype.visitUint16=$t;Pt.prototype.visitUint32=$t;Pt.prototype.visitUint64=$t;Pt.prototype.visitFloat=$t;Pt.prototype.visitFloat16=$t;Pt.prototype.visitFloat32=$t;Pt.prototype.visitFloat64=$t;Pt.prototype.visitUtf8=$t;Pt.prototype.visitBinary=$t;Pt.prototype.visitFixedSizeBinary=$t;Pt.prototype.visitDate=$t;Pt.prototype.visitDateDay=$t;Pt.prototype.visitDateMillisecond=$t;Pt.prototype.visitTimestamp=$t;Pt.prototype.visitTimestampSecond=$t;Pt.prototype.visitTimestampMillisecond=$t;Pt.prototype.visitTimestampMicrosecond=$t;Pt.prototype.visitTimestampNanosecond=$t;Pt.prototype.visitTime=$t;Pt.prototype.visitTimeSecond=$t;Pt.prototype.visitTimeMillisecond=$t;Pt.prototype.visitTimeMicrosecond=$t;Pt.prototype.visitTimeNanosecond=$t;Pt.prototype.visitDecimal=$t;Pt.prototype.visitList=$t;Pt.prototype.visitStruct=$t;Pt.prototype.visitUnion=$t;Pt.prototype.visitDenseUnion=$t;Pt.prototype.visitSparseUnion=$t;Pt.prototype.visitDictionary=$t;Pt.prototype.visitInterval=$t;Pt.prototype.visitIntervalDayTime=$t;Pt.prototype.visitIntervalYearMonth=$t;Pt.prototype.visitFixedSizeList=$t;Pt.prototype.visitMap=$t;const t3=new Pt,sUe=(e,t)=>e+t;class Sf extends on{visitNull(t,n){return 0}visitInt(t,n){return t.type.bitWidth/8}visitFloat(t,n){return t.type.ArrayType.BYTES_PER_ELEMENT}visitBool(t,n){return 1/8}visitDecimal(t,n){return t.type.bitWidth/8}visitDate(t,n){return(t.type.unit+1)*4}visitTime(t,n){return t.type.bitWidth/8}visitTimestamp(t,n){return t.type.unit===sn.SECOND?4:8}visitInterval(t,n){return(t.type.unit+1)*4}visitStruct(t,n){return t.children.reduce((r,i)=>r+Ou.visit(i,n),0)}visitFixedSizeBinary(t,n){return t.type.byteWidth}visitMap(t,n){return 8+t.children.reduce((r,i)=>r+Ou.visit(i,n),0)}visitDictionary(t,n){var r;return t.type.indices.bitWidth/8+(((r=t.dictionary)===null||r===void 0?void 0:r.getByteLength(t.values[n]))||0)}}const oUe=({valueOffsets:e},t)=>8+(e[t+1]-e[t]),aUe=({valueOffsets:e},t)=>8+(e[t+1]-e[t]),uUe=({valueOffsets:e,stride:t,children:n},r)=>{const i=n[0],{[r*t]:s}=e,{[r*t+1]:o}=e,a=Ou.getVisitFn(i.type),u=i.slice(s,o-s);let l=8;for(let c=-1,f=o-s;++c<f;)l+=a(u,c);return l},lUe=({stride:e,children:t},n)=>{const r=t[0],i=r.slice(n*e,e),s=Ou.getVisitFn(r.type);let o=0;for(let a=-1,u=i.length;++a<u;)o+=s(i,a);return o},cUe=(e,t)=>e.type.mode===Wo.Dense?ene(e,t):tne(e,t),ene=({type:e,children:t,typeIds:n,valueOffsets:r},i)=>{const s=e.typeIdToChildIndex[n[i]];return 8+Ou.visit(t[s],r[i])},tne=({children:e},t)=>4+Ou.visitMany(e,e.map(()=>t)).reduce(sUe,0);Sf.prototype.visitUtf8=oUe;Sf.prototype.visitBinary=aUe;Sf.prototype.visitList=uUe;Sf.prototype.visitFixedSizeList=lUe;Sf.prototype.visitUnion=cUe;Sf.prototype.visitDenseUnion=ene;Sf.prototype.visitSparseUnion=tne;const Ou=new Sf;var nne;const rne={},ine={};class _n{constructor(t){var n,r,i;const s=t[0]instanceof _n?t.flatMap(a=>a.data):t;if(s.length===0||s.some(a=>!(a instanceof Mn)))throw new TypeError("Vector constructor expects an Array of Data instances.");const o=(n=s[0])===null||n===void 0?void 0:n.type;switch(s.length){case 0:this._offsets=[0];break;case 1:{const{get:a,set:u,indexOf:l,byteLength:c}=rne[o.typeId],f=s[0];this.isValid=d=>e3(f,d),this.get=d=>a(f,d),this.set=(d,h)=>u(f,d,h),this.indexOf=d=>l(f,d),this.getByteLength=d=>c(f,d),this._offsets=[0,f.length];break}default:Object.setPrototypeOf(this,ine[o.typeId]),this._offsets=Kte(s);break}this.data=s,this.type=o,this.stride=Wa(o),this.numChildren=(i=(r=o.children)===null||r===void 0?void 0:r.length)!==null&&i!==void 0?i:0,this.length=this._offsets[this._offsets.length-1]}get byteLength(){return this._byteLength===-1&&(this._byteLength=this.data.reduce((t,n)=>t+n.byteLength,0)),this._byteLength}get nullCount(){return this._nullCount===-1&&(this._nullCount=Gte(this.data)),this._nullCount}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${Q[this.type.typeId]}Vector`}isValid(t){return!1}get(t){return null}set(t,n){}indexOf(t,n){return-1}includes(t,n){return this.indexOf(t,n)>0}getByteLength(t){return 0}[Symbol.iterator](){return t3.visit(this)}concat(...t){return new _n(this.data.concat(t.flatMap(n=>n.data).flat(Number.POSITIVE_INFINITY)))}slice(t,n){return new _n(Wte(this,t,n,({data:r,_offsets:i},s,o)=>Qte(r,i,s,o)))}toJSON(){return[...this]}toArray(){const{type:t,data:n,length:r,stride:i,ArrayType:s}=this;switch(t.typeId){case Q.Int:case Q.Float:case Q.Decimal:case Q.Time:case Q.Timestamp:switch(n.length){case 0:return new s;case 1:return n[0].values.subarray(0,r*i);default:return n.reduce((o,{values:a,length:u})=>(o.array.set(a.subarray(0,u*i),o.offset),o.offset+=u*i,o),{array:new s(r*i),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(t){var n;return this.getChildAt((n=this.type.children)===null||n===void 0?void 0:n.findIndex(r=>r.name===t))}getChildAt(t){return t>-1&&t<this.numChildren?new _n(this.data.map(({children:n})=>n[t])):null}get isMemoized(){return Qt.isDictionary(this.type)?this.data[0].dictionary.isMemoized:!1}memoize(){if(Qt.isDictionary(this.type)){const t=new bT(this.data[0].dictionary),n=this.data.map(r=>{const i=r.clone();return i.dictionary=t,i});return new _n(n)}return new bT(this)}unmemoize(){if(Qt.isDictionary(this.type)&&this.isMemoized){const t=this.data[0].dictionary.unmemoize(),n=this.data.map(r=>{const i=r.clone();return i.dictionary=t,i});return new _n(n)}return this}}nne=Symbol.toStringTag;_n[nne]=(e=>{e.type=Qt.prototype,e.data=[],e.length=0,e.stride=1,e.numChildren=0,e._nullCount=-1,e._byteLength=-1,e._offsets=new Uint32Array([0]),e[Symbol.isConcatSpreadable]=!0;const t=Object.keys(Q).map(n=>Q[n]).filter(n=>typeof n=="number"&&n!==Q.NONE);for(const n of t){const r=zs.getVisitFnByTypeId(n),i=qo.getVisitFnByTypeId(n),s=vT.getVisitFnByTypeId(n),o=Ou.getVisitFnByTypeId(n);rne[n]={get:r,set:i,indexOf:s,byteLength:o},ine[n]=Object.create(e,{isValid:{value:Np(e3)},get:{value:Np(zs.getVisitFnByTypeId(n))},set:{value:Xte(qo.getVisitFnByTypeId(n))},indexOf:{value:Jte(vT.getVisitFnByTypeId(n))},getByteLength:{value:Np(Ou.getVisitFnByTypeId(n))}})}return"Vector"})(_n.prototype);class bT extends _n{constructor(t){super(t.data);const n=this.get,r=this.set,i=this.slice,s=new Array(this.length);Object.defineProperty(this,"get",{value(o){const a=s[o];if(a!==void 0)return a;const u=n.call(this,o);return s[o]=u,u}}),Object.defineProperty(this,"set",{value(o,a){r.call(this,o,a),s[o]=a}}),Object.defineProperty(this,"slice",{value:(o,a)=>new bT(i.call(this,o,a))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new _n(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}function fUe(e){if(!e||e.length<=0)return function(i){return!0};let t="";const n=e.filter(r=>r===r);return n.length>0&&(t=`
    switch (x) {${n.map(r=>`
        case ${dUe(r)}:`).join("")}
            return false;
    }`),e.length!==n.length&&(t=`if (x !== x) return false;
${t}`),new Function("x",`${t}
return true;`)}function dUe(e){return typeof e!="bigint"?Wc(e):Wee?`${Wc(e)}n`:`"${Wc(e)}"`}const HA=(e,t)=>(Math.ceil(e)*t+63&-64||64)/t,hUe=(e,t=0)=>e.length>=t?e.subarray(0,t):mT(new e.constructor(t),e,0);class zI{constructor(t,n=1){this.buffer=t,this.stride=n,this.BYTES_PER_ELEMENT=t.BYTES_PER_ELEMENT,this.ArrayType=t.constructor,this._resize(this.length=Math.ceil(t.length/n))}get byteLength(){return Math.ceil(this.length*this.stride)*this.BYTES_PER_ELEMENT}get reservedLength(){return this.buffer.length/this.stride}get reservedByteLength(){return this.buffer.byteLength}set(t,n){return this}append(t){return this.set(this.length,t)}reserve(t){if(t>0){this.length+=t;const n=this.stride,r=this.length*n,i=this.buffer.length;r>=i&&this._resize(i===0?HA(r*1,this.BYTES_PER_ELEMENT):HA(r*2,this.BYTES_PER_ELEMENT))}return this}flush(t=this.length){t=HA(t*this.stride,this.BYTES_PER_ELEMENT);const n=hUe(this.buffer,t);return this.clear(),n}clear(){return this.length=0,this._resize(0),this}_resize(t){return this.buffer=mT(new this.ArrayType(t),this.buffer)}}zI.prototype.offset=0;class q_ extends zI{last(){return this.get(this.length-1)}get(t){return this.buffer[t]}set(t,n){return this.reserve(t-this.length+1),this.buffer[t*this.stride]=n,this}}class sne extends q_{constructor(t=new Uint8Array(0)){super(t,1/8),this.numValid=0}get numInvalid(){return this.length-this.numValid}get(t){return this.buffer[t>>3]>>t%8&1}set(t,n){const{buffer:r}=this.reserve(t-this.length+1),i=t>>3,s=t%8,o=r[i]>>s&1;return n?o===0&&(r[i]|=1<<s,++this.numValid):o===1&&(r[i]&=~(1<<s),--this.numValid),this}clear(){return this.numValid=0,super.clear()}}class one extends q_{constructor(t=new Int32Array(1)){super(t,1)}append(t){return this.set(this.length-1,t)}set(t,n){const r=this.length-1,i=this.reserve(t-r+1).buffer;return r<t++&&i.fill(i[r],r,t),i[t]=i[t-1]+n,this}flush(t=this.length-1){return t>this.length&&this.set(t-1,0),super.flush(t+1)}}let Ws=class{constructor({type:t,nullValues:n}){this.length=0,this.finished=!1,this.type=t,this.children=[],this.nullValues=n,this.stride=Wa(t),this._nulls=new sne,n&&n.length>0&&(this._isValid=fUe(n))}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t){throw new Error('"throughDOM" not available in this environment')}toVector(){return new _n([this.flush()])}get ArrayType(){return this.type.ArrayType}get nullCount(){return this._nulls.numInvalid}get numChildren(){return this.children.length}get byteLength(){let t=0;const{_offsets:n,_values:r,_nulls:i,_typeIds:s,children:o}=this;return n&&(t+=n.byteLength),r&&(t+=r.byteLength),i&&(t+=i.byteLength),s&&(t+=s.byteLength),o.reduce((a,u)=>a+u.byteLength,t)}get reservedLength(){return this._nulls.reservedLength}get reservedByteLength(){let t=0;return this._offsets&&(t+=this._offsets.reservedByteLength),this._values&&(t+=this._values.reservedByteLength),this._nulls&&(t+=this._nulls.reservedByteLength),this._typeIds&&(t+=this._typeIds.reservedByteLength),this.children.reduce((n,r)=>n+r.reservedByteLength,t)}get valueOffsets(){return this._offsets?this._offsets.buffer:null}get values(){return this._values?this._values.buffer:null}get nullBitmap(){return this._nulls?this._nulls.buffer:null}get typeIds(){return this._typeIds?this._typeIds.buffer:null}append(t){return this.set(this.length,t)}isValid(t){return this._isValid(t)}set(t,n){return this.setValid(t,this.isValid(n))&&this.setValue(t,n),this}setValue(t,n){this._setValue(this,t,n)}setValid(t,n){return this.length=this._nulls.set(t,+n).length,n}addChild(t,n=`${this.numChildren}`){throw new Error(`Cannot append children to non-nested type "${this.type}"`)}getChildAt(t){return this.children[t]||null}flush(){let t,n,r,i;const{type:s,length:o,nullCount:a,_typeIds:u,_offsets:l,_values:c,_nulls:f}=this;(n=u==null?void 0:u.flush(o))?i=l==null?void 0:l.flush(o):(i=l==null?void 0:l.flush(o))?t=c==null?void 0:c.flush(l.last()):t=c==null?void 0:c.flush(o),a>0&&(r=f==null?void 0:f.flush(o));const d=this.children.map(h=>h.flush());return this.clear(),Hi({type:s,length:o,nullCount:a,children:d,child:d[0],data:t,typeIds:n,nullBitmap:r,valueOffsets:i})}finish(){this.finished=!0;for(const t of this.children)t.finish();return this}clear(){var t,n,r,i;this.length=0,(t=this._nulls)===null||t===void 0||t.clear(),(n=this._values)===null||n===void 0||n.clear(),(r=this._offsets)===null||r===void 0||r.clear(),(i=this._typeIds)===null||i===void 0||i.clear();for(const s of this.children)s.clear();return this}};Ws.prototype.length=1;Ws.prototype.stride=1;Ws.prototype.children=null;Ws.prototype.finished=!1;Ws.prototype.nullValues=null;Ws.prototype._isValid=()=>!0;class If extends Ws{constructor(t){super(t),this._values=new q_(new this.ArrayType(0),this.stride)}setValue(t,n){const r=this._values;return r.reserve(t-r.length+1),super.setValue(t,n)}}class HI extends Ws{constructor(t){super(t),this._pendingLength=0,this._offsets=new one}setValue(t,n){const r=this._pending||(this._pending=new Map),i=r.get(t);i&&(this._pendingLength-=i.length),this._pendingLength+=n instanceof UI?n[ya].length:n.length,r.set(t,n)}setValid(t,n){return super.setValid(t,n)?!0:((this._pending||(this._pending=new Map)).set(t,void 0),!1)}clear(){return this._pendingLength=0,this._pending=void 0,super.clear()}flush(){return this._flush(),super.flush()}finish(){return this._flush(),super.finish()}_flush(){const t=this._pending,n=this._pendingLength;return this._pendingLength=0,this._pending=void 0,t&&t.size>0&&this._flushPending(t,n),this}}class q2{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(t,n,r,i){return t.prep(8,24),t.writeInt64(i),t.pad(4),t.writeInt32(r),t.writeInt64(n),t.offset()}}const WA=2,Xa=4,Ku=4,zn=4,cc=new Int32Array(2),lU=new Float32Array(cc.buffer),cU=new Float64Array(cc.buffer),m1=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;let ml=class Y2{constructor(t,n){this.low=t|0,this.high=n|0}static create(t,n){return t==0&&n==0?Y2.ZERO:new Y2(t,n)}toFloat64(){return(this.low>>>0)+this.high*4294967296}equals(t){return this.low==t.low&&this.high==t.high}};ml.ZERO=new ml(0,0);var G2;(function(e){e[e.UTF8_BYTES=1]="UTF8_BYTES",e[e.UTF16_STRING=2]="UTF16_STRING"})(G2||(G2={}));let ET=class ane{constructor(t){this.bytes_=t,this.position_=0}static allocate(t){return new ane(new Uint8Array(t))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(t){this.position_=t}capacity(){return this.bytes_.length}readInt8(t){return this.readUint8(t)<<24>>24}readUint8(t){return this.bytes_[t]}readInt16(t){return this.readUint16(t)<<16>>16}readUint16(t){return this.bytes_[t]|this.bytes_[t+1]<<8}readInt32(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24}readUint32(t){return this.readInt32(t)>>>0}readInt64(t){return new ml(this.readInt32(t),this.readInt32(t+4))}readUint64(t){return new ml(this.readUint32(t),this.readUint32(t+4))}readFloat32(t){return cc[0]=this.readInt32(t),lU[0]}readFloat64(t){return cc[m1?0:1]=this.readInt32(t),cc[m1?1:0]=this.readInt32(t+4),cU[0]}writeInt8(t,n){this.bytes_[t]=n}writeUint8(t,n){this.bytes_[t]=n}writeInt16(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8}writeUint16(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8}writeInt32(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8,this.bytes_[t+2]=n>>16,this.bytes_[t+3]=n>>24}writeUint32(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8,this.bytes_[t+2]=n>>16,this.bytes_[t+3]=n>>24}writeInt64(t,n){this.writeInt32(t,n.low),this.writeInt32(t+4,n.high)}writeUint64(t,n){this.writeUint32(t,n.low),this.writeUint32(t+4,n.high)}writeFloat32(t,n){lU[0]=n,this.writeInt32(t,cc[0])}writeFloat64(t,n){cU[0]=n,this.writeInt32(t,cc[m1?0:1]),this.writeInt32(t+4,cc[m1?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+Xa+Ku)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let t="";for(let n=0;n<Ku;n++)t+=String.fromCharCode(this.readInt8(this.position_+Xa+n));return t}__offset(t,n){const r=t-this.readInt32(t);return n<this.readInt16(r)?this.readInt16(r+n):0}__union(t,n){return t.bb_pos=n+this.readInt32(n),t.bb=this,t}__string(t,n){t+=this.readInt32(t);const r=this.readInt32(t);let i="",s=0;if(t+=Xa,n===G2.UTF8_BYTES)return this.bytes_.subarray(t,t+r);for(;s<r;){let o;const a=this.readUint8(t+s++);if(a<192)o=a;else{const u=this.readUint8(t+s++);if(a<224)o=(a&31)<<6|u&63;else{const l=this.readUint8(t+s++);if(a<240)o=(a&15)<<12|(u&63)<<6|l&63;else{const c=this.readUint8(t+s++);o=(a&7)<<18|(u&63)<<12|(l&63)<<6|c&63}}}o<65536?i+=String.fromCharCode(o):(o-=65536,i+=String.fromCharCode((o>>10)+55296,(o&1023)+56320))}return i}__union_with_string(t,n){return typeof t=="string"?this.__string(n):this.__union(t,n)}__indirect(t){return t+this.readInt32(t)}__vector(t){return t+this.readInt32(t)+Xa}__vector_len(t){return this.readInt32(t+this.readInt32(t))}__has_identifier(t){if(t.length!=Ku)throw new Error("FlatBuffers: file identifier must be length "+Ku);for(let n=0;n<Ku;n++)if(t.charCodeAt(n)!=this.readInt8(this.position()+Xa+n))return!1;return!0}createLong(t,n){return ml.create(t,n)}createScalarList(t,n){const r=[];for(let i=0;i<n;++i)t(i)!==null&&r.push(t(i));return r}createObjList(t,n){const r=[];for(let i=0;i<n;++i){const s=t(i);s!==null&&r.push(s.unpack())}return r}},une=class lne{constructor(t){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null;let n;t?n=t:n=1024,this.bb=ET.allocate(n),this.space=n}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(t){this.force_defaults=t}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(t,n){t>this.minalign&&(this.minalign=t);const r=~(this.bb.capacity()-this.space+n)+1&t-1;for(;this.space<r+t+n;){const i=this.bb.capacity();this.bb=lne.growByteBuffer(this.bb),this.space+=this.bb.capacity()-i}this.pad(r)}pad(t){for(let n=0;n<t;n++)this.bb.writeInt8(--this.space,0)}writeInt8(t){this.bb.writeInt8(this.space-=1,t)}writeInt16(t){this.bb.writeInt16(this.space-=2,t)}writeInt32(t){this.bb.writeInt32(this.space-=4,t)}writeInt64(t){this.bb.writeInt64(this.space-=8,t)}writeFloat32(t){this.bb.writeFloat32(this.space-=4,t)}writeFloat64(t){this.bb.writeFloat64(this.space-=8,t)}addInt8(t){this.prep(1,0),this.writeInt8(t)}addInt16(t){this.prep(2,0),this.writeInt16(t)}addInt32(t){this.prep(4,0),this.writeInt32(t)}addInt64(t){this.prep(8,0),this.writeInt64(t)}addFloat32(t){this.prep(4,0),this.writeFloat32(t)}addFloat64(t){this.prep(8,0),this.writeFloat64(t)}addFieldInt8(t,n,r){(this.force_defaults||n!=r)&&(this.addInt8(n),this.slot(t))}addFieldInt16(t,n,r){(this.force_defaults||n!=r)&&(this.addInt16(n),this.slot(t))}addFieldInt32(t,n,r){(this.force_defaults||n!=r)&&(this.addInt32(n),this.slot(t))}addFieldInt64(t,n,r){(this.force_defaults||!n.equals(r))&&(this.addInt64(n),this.slot(t))}addFieldFloat32(t,n,r){(this.force_defaults||n!=r)&&(this.addFloat32(n),this.slot(t))}addFieldFloat64(t,n,r){(this.force_defaults||n!=r)&&(this.addFloat64(n),this.slot(t))}addFieldOffset(t,n,r){(this.force_defaults||n!=r)&&(this.addOffset(n),this.slot(t))}addFieldStruct(t,n,r){n!=r&&(this.nested(n),this.slot(t))}nested(t){if(t!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")}slot(t){this.vtable!==null&&(this.vtable[t]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(t){const n=t.capacity();if(n&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const r=n<<1,i=ET.allocate(r);return i.setPosition(r-n),i.bytes().set(t.bytes(),r-n),i}addOffset(t){this.prep(Xa,0),this.writeInt32(this.offset()-t+Xa)}startObject(t){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=t;for(let n=0;n<t;n++)this.vtable[n]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const t=this.offset();let n=this.vtable_in_use-1;for(;n>=0&&this.vtable[n]==0;n--);const r=n+1;for(;n>=0;n--)this.addInt16(this.vtable[n]!=0?t-this.vtable[n]:0);const i=2;this.addInt16(t-this.object_start);const s=(r+i)*WA;this.addInt16(s);let o=0;const a=this.space;e:for(n=0;n<this.vtables.length;n++){const u=this.bb.capacity()-this.vtables[n];if(s==this.bb.readInt16(u)){for(let l=WA;l<s;l+=WA)if(this.bb.readInt16(a+l)!=this.bb.readInt16(u+l))continue e;o=this.vtables[n];break}}return o?(this.space=this.bb.capacity()-t,this.bb.writeInt32(this.space,o-t)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-t,this.offset()-t)),this.isNested=!1,t}finish(t,n,r){const i=r?zn:0;if(n){const s=n;if(this.prep(this.minalign,Xa+Ku+i),s.length!=Ku)throw new Error("FlatBuffers: file identifier must be length "+Ku);for(let o=Ku-1;o>=0;o--)this.writeInt8(s.charCodeAt(o))}this.prep(this.minalign,Xa+i),this.addOffset(t),i&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(t,n){this.finish(t,n,!0)}requiredField(t,n){const r=this.bb.capacity()-t,i=r-this.bb.readInt32(r);if(!(this.bb.readInt16(i+n)!=0))throw new Error("FlatBuffers: field "+n+" must be set")}startVector(t,n,r){this.notNested(),this.vector_num_elems=n,this.prep(Xa,t*n),this.prep(r,t*n)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(t){if(!t)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(t))return this.string_maps.get(t);const n=this.createString(t);return this.string_maps.set(t,n),n}createString(t){if(!t)return 0;let n;if(t instanceof Uint8Array)n=t;else{n=[];let r=0;for(;r<t.length;){let i;const s=t.charCodeAt(r++);if(s<55296||s>=56320)i=s;else{const o=t.charCodeAt(r++);i=(s<<10)+o+-56613888}i<128?n.push(i):(i<2048?n.push(i>>6&31|192):(i<65536?n.push(i>>12&15|224):n.push(i>>18&7|240,i>>12&63|128),n.push(i>>6&63|128)),n.push(i&63|128))}}this.addInt8(0),this.startVector(1,n.length,1),this.bb.setPosition(this.space-=n.length);for(let r=0,i=this.space,s=this.bb.bytes();r<n.length;r++)s[i++]=n[r];return this.endVector()}createLong(t,n){return ml.create(t,n)}createObjectOffset(t){return t===null?0:typeof t=="string"?this.createString(t):t.pack(this)}createObjectOffsetList(t){const n=[];for(let r=0;r<t.length;++r){const i=t[r];if(i!==null)n.push(this.createObjectOffset(i));else throw new Error("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return n}createStructOffsetList(t,n){return n(this,t.length),this.createObjectOffsetList(t),this.endVector()}};class Gr{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsKeyValue(t,n){return(n||new Gr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsKeyValue(t,n){return t.setPosition(t.position()+zn),(n||new Gr).__init(t.readInt32(t.position())+t.position(),t)}key(t){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,t):null}value(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,t):null}static startKeyValue(t){t.startObject(2)}static addKey(t,n){t.addFieldOffset(0,n,0)}static addValue(t,n){t.addFieldOffset(1,n,0)}static endKeyValue(t){return t.endObject()}static createKeyValue(t,n,r){return Gr.startKeyValue(t),Gr.addKey(t,n),Gr.addValue(t,r),Gr.endKeyValue(t)}}var hm;(function(e){e[e.V1=0]="V1",e[e.V2=1]="V2",e[e.V3=2]="V3",e[e.V4=3]="V4",e[e.V5=4]="V5"})(hm||(hm={}));var pm;(function(e){e[e.Little=0]="Little",e[e.Big=1]="Big"})(pm||(pm={}));var wT;(function(e){e[e.DenseArray=0]="DenseArray"})(wT||(wT={}));class to{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsInt(t,n){return(n||new to).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInt(t,n){return t.setPosition(t.position()+zn),(n||new to).__init(t.readInt32(t.position())+t.position(),t)}bitWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}isSigned(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startInt(t){t.startObject(2)}static addBitWidth(t,n){t.addFieldInt32(0,n,0)}static addIsSigned(t,n){t.addFieldInt8(1,+n,0)}static endInt(t){return t.endObject()}static createInt(t,n,r){return to.startInt(t),to.addBitWidth(t,n),to.addIsSigned(t,r),to.endInt(t)}}class Qu{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDictionaryEncoding(t,n){return(n||new Qu).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryEncoding(t,n){return t.setPosition(t.position()+zn),(n||new Qu).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}indexType(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new to).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isOrdered(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}dictionaryKind(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):wT.DenseArray}static startDictionaryEncoding(t){t.startObject(4)}static addId(t,n){t.addFieldInt64(0,n,t.createLong(0,0))}static addIndexType(t,n){t.addFieldOffset(1,n,0)}static addIsOrdered(t,n){t.addFieldInt8(2,+n,0)}static addDictionaryKind(t,n){t.addFieldInt16(3,n,wT.DenseArray)}static endDictionaryEncoding(t){return t.endObject()}}class sd{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBinary(t,n){return(n||new sd).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBinary(t,n){return t.setPosition(t.position()+zn),(n||new sd).__init(t.readInt32(t.position())+t.position(),t)}static startBinary(t){t.startObject(0)}static endBinary(t){return t.endObject()}static createBinary(t){return sd.startBinary(t),sd.endBinary(t)}}class od{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBool(t,n){return(n||new od).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBool(t,n){return t.setPosition(t.position()+zn),(n||new od).__init(t.readInt32(t.position())+t.position(),t)}static startBool(t){t.startObject(0)}static endBool(t){return t.endObject()}static createBool(t){return od.startBool(t),od.endBool(t)}}var TT;(function(e){e[e.DAY=0]="DAY",e[e.MILLISECOND=1]="MILLISECOND"})(TT||(TT={}));let db=class Nh{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDate(t,n){return(n||new Nh).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDate(t,n){return t.setPosition(t.position()+zn),(n||new Nh).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):TT.MILLISECOND}static startDate(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,TT.MILLISECOND)}static endDate(t){return t.endObject()}static createDate(t,n){return Nh.startDate(t),Nh.addUnit(t,n),Nh.endDate(t)}};class xs{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDecimal(t,n){return(n||new xs).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDecimal(t,n){return t.setPosition(t.position()+zn),(n||new xs).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}scale(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0}bitWidth(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):128}static startDecimal(t){t.startObject(3)}static addPrecision(t,n){t.addFieldInt32(0,n,0)}static addScale(t,n){t.addFieldInt32(1,n,0)}static addBitWidth(t,n){t.addFieldInt32(2,n,128)}static endDecimal(t){return t.endObject()}static createDecimal(t,n,r,i){return xs.startDecimal(t),xs.addPrecision(t,n),xs.addScale(t,r),xs.addBitWidth(t,i),xs.endDecimal(t)}}var mm;(function(e){e[e.SECOND=0]="SECOND",e[e.MILLISECOND=1]="MILLISECOND",e[e.MICROSECOND=2]="MICROSECOND",e[e.NANOSECOND=3]="NANOSECOND"})(mm||(mm={}));class Ja{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFixedSizeBinary(t,n){return(n||new Ja).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeBinary(t,n){return t.setPosition(t.position()+zn),(n||new Ja).__init(t.readInt32(t.position())+t.position(),t)}byteWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeBinary(t){t.startObject(1)}static addByteWidth(t,n){t.addFieldInt32(0,n,0)}static endFixedSizeBinary(t){return t.endObject()}static createFixedSizeBinary(t,n){return Ja.startFixedSizeBinary(t),Ja.addByteWidth(t,n),Ja.endFixedSizeBinary(t)}}class Za{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFixedSizeList(t,n){return(n||new Za).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeList(t,n){return t.setPosition(t.position()+zn),(n||new Za).__init(t.readInt32(t.position())+t.position(),t)}listSize(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeList(t){t.startObject(1)}static addListSize(t,n){t.addFieldInt32(0,n,0)}static endFixedSizeList(t){return t.endObject()}static createFixedSizeList(t,n){return Za.startFixedSizeList(t),Za.addListSize(t,n),Za.endFixedSizeList(t)}}var ST;(function(e){e[e.HALF=0]="HALF",e[e.SINGLE=1]="SINGLE",e[e.DOUBLE=2]="DOUBLE"})(ST||(ST={}));class eu{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFloatingPoint(t,n){return(n||new eu).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFloatingPoint(t,n){return t.setPosition(t.position()+zn),(n||new eu).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):ST.HALF}static startFloatingPoint(t){t.startObject(1)}static addPrecision(t,n){t.addFieldInt16(0,n,ST.HALF)}static endFloatingPoint(t){return t.endObject()}static createFloatingPoint(t,n){return eu.startFloatingPoint(t),eu.addPrecision(t,n),eu.endFloatingPoint(t)}}var IT;(function(e){e[e.YEAR_MONTH=0]="YEAR_MONTH",e[e.DAY_TIME=1]="DAY_TIME",e[e.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(IT||(IT={}));class tu{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsInterval(t,n){return(n||new tu).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInterval(t,n){return t.setPosition(t.position()+zn),(n||new tu).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):IT.YEAR_MONTH}static startInterval(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,IT.YEAR_MONTH)}static endInterval(t){return t.endObject()}static createInterval(t,n){return tu.startInterval(t),tu.addUnit(t,n),tu.endInterval(t)}}class ad{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsList(t,n){return(n||new ad).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsList(t,n){return t.setPosition(t.position()+zn),(n||new ad).__init(t.readInt32(t.position())+t.position(),t)}static startList(t){t.startObject(0)}static endList(t){return t.endObject()}static createList(t){return ad.startList(t),ad.endList(t)}}let hb=class kh{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsMap(t,n){return(n||new kh).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMap(t,n){return t.setPosition(t.position()+zn),(n||new kh).__init(t.readInt32(t.position())+t.position(),t)}keysSorted(){const t=this.bb.__offset(this.bb_pos,4);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startMap(t){t.startObject(1)}static addKeysSorted(t,n){t.addFieldInt8(0,+n,0)}static endMap(t){return t.endObject()}static createMap(t,n){return kh.startMap(t),kh.addKeysSorted(t,n),kh.endMap(t)}};class ud{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsNull(t,n){return(n||new ud).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsNull(t,n){return t.setPosition(t.position()+zn),(n||new ud).__init(t.readInt32(t.position())+t.position(),t)}static startNull(t){t.startObject(0)}static endNull(t){return t.endObject()}static createNull(t){return ud.startNull(t),ud.endNull(t)}}class ld{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsStruct_(t,n){return(n||new ld).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsStruct_(t,n){return t.setPosition(t.position()+zn),(n||new ld).__init(t.readInt32(t.position())+t.position(),t)}static startStruct_(t){t.startObject(0)}static endStruct_(t){return t.endObject()}static createStruct_(t){return ld.startStruct_(t),ld.endStruct_(t)}}class Do{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsTime(t,n){return(n||new Do).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTime(t,n){return t.setPosition(t.position()+zn),(n||new Do).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):mm.MILLISECOND}bitWidth(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):32}static startTime(t){t.startObject(2)}static addUnit(t,n){t.addFieldInt16(0,n,mm.MILLISECOND)}static addBitWidth(t,n){t.addFieldInt32(1,n,32)}static endTime(t){return t.endObject()}static createTime(t,n,r){return Do.startTime(t),Do.addUnit(t,n),Do.addBitWidth(t,r),Do.endTime(t)}}let ug=class jf{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsTimestamp(t,n){return(n||new jf).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTimestamp(t,n){return t.setPosition(t.position()+zn),(n||new jf).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):mm.SECOND}timezone(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,t):null}static startTimestamp(t){t.startObject(2)}static addUnit(t,n){t.addFieldInt16(0,n,mm.SECOND)}static addTimezone(t,n){t.addFieldOffset(1,n,0)}static endTimestamp(t){return t.endObject()}static createTimestamp(t,n,r){return jf.startTimestamp(t),jf.addUnit(t,n),jf.addTimezone(t,r),jf.endTimestamp(t)}};var xT;(function(e){e[e.Sparse=0]="Sparse",e[e.Dense=1]="Dense"})(xT||(xT={}));class As{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsUnion(t,n){return(n||new As).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUnion(t,n){return t.setPosition(t.position()+zn),(n||new As).__init(t.readInt32(t.position())+t.position(),t)}mode(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):xT.Sparse}typeIds(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.readInt32(this.bb.__vector(this.bb_pos+n)+t*4):0}typeIdsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}typeIdsArray(){const t=this.bb.__offset(this.bb_pos,6);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startUnion(t){t.startObject(2)}static addMode(t,n){t.addFieldInt16(0,n,xT.Sparse)}static addTypeIds(t,n){t.addFieldOffset(1,n,0)}static createTypeIdsVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addInt32(n[r]);return t.endVector()}static startTypeIdsVector(t,n){t.startVector(4,n,4)}static endUnion(t){return t.endObject()}static createUnion(t,n,r){return As.startUnion(t),As.addMode(t,n),As.addTypeIds(t,r),As.endUnion(t)}}class cd{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsUtf8(t,n){return(n||new cd).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUtf8(t,n){return t.setPosition(t.position()+zn),(n||new cd).__init(t.readInt32(t.position())+t.position(),t)}static startUtf8(t){t.startObject(0)}static endUtf8(t){return t.endObject()}static createUtf8(t){return cd.startUtf8(t),cd.endUtf8(t)}}var pr;(function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.FloatingPoint=3]="FloatingPoint",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct_=13]="Struct_",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Duration=18]="Duration",e[e.LargeBinary=19]="LargeBinary",e[e.LargeUtf8=20]="LargeUtf8",e[e.LargeList=21]="LargeList"})(pr||(pr={}));let Co=class pb{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsField(t,n){return(n||new pb).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsField(t,n){return t.setPosition(t.position()+zn),(n||new pb).__init(t.readInt32(t.position())+t.position(),t)}name(t){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,t):null}nullable(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}typeType(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint8(this.bb_pos+t):pr.NONE}type(t){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.__union(t,this.bb_pos+n):null}dictionary(t){const n=this.bb.__offset(this.bb_pos,12);return n?(t||new Qu).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}children(t,n){const r=this.bb.__offset(this.bb_pos,14);return r?(n||new pb).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}childrenLength(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,16);return r?(n||new Gr).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}static startField(t){t.startObject(7)}static addName(t,n){t.addFieldOffset(0,n,0)}static addNullable(t,n){t.addFieldInt8(1,+n,0)}static addTypeType(t,n){t.addFieldInt8(2,n,pr.NONE)}static addType(t,n){t.addFieldOffset(3,n,0)}static addDictionary(t,n){t.addFieldOffset(4,n,0)}static addChildren(t,n){t.addFieldOffset(5,n,0)}static createChildrenVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startChildrenVector(t,n){t.startVector(4,n,4)}static addCustomMetadata(t,n){t.addFieldOffset(6,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endField(t){return t.endObject()}},za=class Uu{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsSchema(t,n){return(n||new Uu).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsSchema(t,n){return t.setPosition(t.position()+zn),(n||new Uu).__init(t.readInt32(t.position())+t.position(),t)}endianness(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):pm.Little}fields(t,n){const r=this.bb.__offset(this.bb_pos,6);return r?(n||new Co).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}fieldsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new Gr).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}features(t){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.readInt64(this.bb.__vector(this.bb_pos+n)+t*8):this.bb.createLong(0,0)}featuresLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}static startSchema(t){t.startObject(4)}static addEndianness(t,n){t.addFieldInt16(0,n,pm.Little)}static addFields(t,n){t.addFieldOffset(1,n,0)}static createFieldsVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startFieldsVector(t,n){t.startVector(4,n,4)}static addCustomMetadata(t,n){t.addFieldOffset(2,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static addFeatures(t,n){t.addFieldOffset(3,n,0)}static createFeaturesVector(t,n){t.startVector(8,n.length,8);for(let r=n.length-1;r>=0;r--)t.addInt64(n[r]);return t.endVector()}static startFeaturesVector(t,n){t.startVector(8,n,8)}static endSchema(t){return t.endObject()}static finishSchemaBuffer(t,n){t.finish(n)}static finishSizePrefixedSchemaBuffer(t,n){t.finish(n,void 0,!0)}static createSchema(t,n,r,i,s){return Uu.startSchema(t),Uu.addEndianness(t,n),Uu.addFields(t,r),Uu.addCustomMetadata(t,i),Uu.addFeatures(t,s),Uu.endSchema(t)}};class Js{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFooter(t,n){return(n||new Js).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFooter(t,n){return t.setPosition(t.position()+zn),(n||new Js).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):hm.V1}schema(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new za).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}dictionaries(t,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new q2).__init(this.bb.__vector(this.bb_pos+r)+t*24,this.bb):null}dictionariesLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}recordBatches(t,n){const r=this.bb.__offset(this.bb_pos,10);return r?(n||new q2).__init(this.bb.__vector(this.bb_pos+r)+t*24,this.bb):null}recordBatchesLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,12);return r?(n||new Gr).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startFooter(t){t.startObject(5)}static addVersion(t,n){t.addFieldInt16(0,n,hm.V1)}static addSchema(t,n){t.addFieldOffset(1,n,0)}static addDictionaries(t,n){t.addFieldOffset(2,n,0)}static startDictionariesVector(t,n){t.startVector(24,n,8)}static addRecordBatches(t,n){t.addFieldOffset(3,n,0)}static startRecordBatchesVector(t,n){t.startVector(24,n,8)}static addCustomMetadata(t,n){t.addFieldOffset(4,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endFooter(t){return t.endObject()}static finishFooterBuffer(t,n){t.finish(n)}static finishSizePrefixedFooterBuffer(t,n){t.finish(n,void 0,!0)}}class An{constructor(t=[],n,r){this.fields=t||[],this.metadata=n||new Map,r||(r=K2(t)),this.dictionaries=r}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(t=>t.name)}toString(){return`Schema<{ ${this.fields.map((t,n)=>`${n}: ${t}`).join(", ")} }>`}select(t){const n=new Set(t),r=this.fields.filter(i=>n.has(i.name));return new An(r,this.metadata)}selectAt(t){const n=t.map(r=>this.fields[r]).filter(Boolean);return new An(n,this.metadata)}assign(...t){const n=t[0]instanceof An?t[0]:Array.isArray(t[0])?new An(t[0]):new An(t),r=[...this.fields],i=g1(g1(new Map,this.metadata),n.metadata),s=n.fields.filter(a=>{const u=r.findIndex(l=>l.name===a.name);return~u?(r[u]=a.clone({metadata:g1(g1(new Map,r[u].metadata),a.metadata)}))&&!1:!0}),o=K2(s,new Map);return new An([...r,...s],i,new Map([...this.dictionaries,...o]))}}An.prototype.fields=null;An.prototype.metadata=null;An.prototype.dictionaries=null;class In{constructor(t,n,r=!1,i){this.name=t,this.type=n,this.nullable=r,this.metadata=i||new Map}static new(...t){let[n,r,i,s]=t;return t[0]&&typeof t[0]=="object"&&({name:n}=t[0],r===void 0&&(r=t[0].type),i===void 0&&(i=t[0].nullable),s===void 0&&(s=t[0].metadata)),new In(`${n}`,r,i,s)}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...t){let[n,r,i,s]=t;return!t[0]||typeof t[0]!="object"?[n=this.name,r=this.type,i=this.nullable,s=this.metadata]=t:{name:n=this.name,type:r=this.type,nullable:i=this.nullable,metadata:s=this.metadata}=t[0],In.new(n,r,i,s)}}In.prototype.type=null;In.prototype.name=null;In.prototype.nullable=null;In.prototype.metadata=null;function g1(e,t){return new Map([...e||new Map,...t||new Map])}function K2(e,t=new Map){for(let n=-1,r=e.length;++n<r;){const s=e[n].type;if(Qt.isDictionary(s)){if(!t.has(s.id))t.set(s.id,s.dictionary);else if(t.get(s.id)!==s.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}s.children&&s.children.length>0&&K2(s.children,t)}return t}var fU=ml,pUe=une,mUe=ET;class Q2{constructor(t,n=ro.V4,r,i){this.schema=t,this.version=n,r&&(this._recordBatches=r),i&&(this._dictionaryBatches=i)}static decode(t){t=new mUe(Pn(t));const n=Js.getRootAsFooter(t),r=An.decode(n.schema());return new gUe(r,n)}static encode(t){const n=new pUe,r=An.encode(n,t.schema);Js.startRecordBatchesVector(n,t.numRecordBatches);for(const o of[...t.recordBatches()].slice().reverse())af.encode(n,o);const i=n.endVector();Js.startDictionariesVector(n,t.numDictionaries);for(const o of[...t.dictionaryBatches()].slice().reverse())af.encode(n,o);const s=n.endVector();return Js.startFooter(n),Js.addSchema(n,r),Js.addVersion(n,ro.V4),Js.addRecordBatches(n,i),Js.addDictionaries(n,s),Js.finishFooterBuffer(n,Js.endFooter(n)),n.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}*recordBatches(){for(let t,n=-1,r=this.numRecordBatches;++n<r;)(t=this.getRecordBatch(n))&&(yield t)}*dictionaryBatches(){for(let t,n=-1,r=this.numDictionaries;++n<r;)(t=this.getDictionaryBatch(n))&&(yield t)}getRecordBatch(t){return t>=0&&t<this.numRecordBatches&&this._recordBatches[t]||null}getDictionaryBatch(t){return t>=0&&t<this.numDictionaries&&this._dictionaryBatches[t]||null}}class gUe extends Q2{constructor(t,n){super(t,n.version()),this._footer=n}get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}getRecordBatch(t){if(t>=0&&t<this.numRecordBatches){const n=this._footer.recordBatches(t);if(n)return af.decode(n)}return null}getDictionaryBatch(t){if(t>=0&&t<this.numDictionaries){const n=this._footer.dictionaries(t);if(n)return af.decode(n)}return null}}class af{constructor(t,n,r){this.metaDataLength=t,this.offset=typeof r=="number"?r:r.low,this.bodyLength=typeof n=="number"?n:n.low}static decode(t){return new af(t.metaDataLength(),t.bodyLength(),t.offset())}static encode(t,n){const{metaDataLength:r}=n,i=new fU(n.offset,0),s=new fU(n.bodyLength,0);return q2.createBlock(t,i,r,s)}}const y1=Object.freeze({done:!0,value:void 0});class cne{tee(){return this._getDOMStream().tee()}pipe(t,n){return this._getNodeStream().pipe(t,n)}pipeTo(t,n){return this._getDOMStream().pipeTo(t,n)}pipeThrough(t,n){return this._getDOMStream().pipeThrough(t,n)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}class yUe extends cne{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise(t=>this._closedPromiseResolve=t)}get closed(){return this._closedPromise}cancel(t){return Gu(this,void 0,void 0,function*(){yield this.return(t)})}write(t){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(t):this.resolvers.shift().resolve({done:!1,value:t}))}abort(t){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:t}:this.resolvers.shift().reject({done:!0,value:t}))}close(){if(this._closedPromiseResolve){const{resolvers:t}=this;for(;t.length>0;)t.shift().resolve(y1);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(t){return rU.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,t)}toNodeStream(t){return rU.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,t)}throw(t){return Gu(this,void 0,void 0,function*(){return yield this.abort(t),y1})}return(t){return Gu(this,void 0,void 0,function*(){return yield this.close(),y1})}read(t){return Gu(this,void 0,void 0,function*(){return(yield this.next(t,"read")).value})}peek(t){return Gu(this,void 0,void 0,function*(){return(yield this.next(t,"peek")).value})}next(...t){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((n,r)=>{this.resolvers.push({resolve:n,reject:r})}):Promise.resolve(y1)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}}class qA extends yUe{write(t){if((t=Pn(t)).byteLength>0)return super.write(t)}toString(t=!1){return t?V2(this.toUint8Array(!0)):this.toUint8Array(!1).then(V2)}toUint8Array(t=!1){return t?xu(this._values)[0]:Gu(this,void 0,void 0,function*(){var n,r;const i=[];let s=0;try{for(var o=Hg(this),a;a=yield o.next(),!a.done;){const u=a.value;i.push(u),s+=u.byteLength}}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=o.return)&&(yield r.call(o))}finally{if(n)throw n.error}}return xu(i,s)[0]})}}class fne extends HI{constructor(t){super(t),this._values=new zI(new Uint8Array(0))}get byteLength(){let t=this._pendingLength+this.length*4;return this._offsets&&(t+=this._offsets.byteLength),this._values&&(t+=this._values.byteLength),this._nulls&&(t+=this._nulls.byteLength),t}setValue(t,n){return super.setValue(t,Pn(n))}_flushPending(t,n){const r=this._offsets,i=this._values.reserve(n).buffer;let s=0;for(const[o,a]of t)if(a===void 0)r.set(o,0);else{const u=a.length;i.set(a,s),r.set(o,u),s+=u}}}class _Ue extends Ws{constructor(t){super(t),this._values=new sne}setValue(t,n){this._values.set(t,+n)}}class WI extends If{}WI.prototype._setValue=Ete;class dne extends WI{}dne.prototype._setValue=M$;class hne extends WI{}hne.prototype._setValue=F$;class pne extends If{}pne.prototype._setValue=Ste;class vUe extends Ws{constructor({type:t,nullValues:n,dictionaryHashFunction:r}){super({type:new of(t.dictionary,t.indices,t.id,t.isOrdered)}),this._nulls=null,this._dictionaryOffset=0,this._keysToIndices=Object.create(null),this.indices=CT({type:this.type.indices,nullValues:n}),this.dictionary=CT({type:this.type.dictionary,nullValues:null}),typeof r=="function"&&(this.valueToKey=r)}get values(){return this.indices.values}get nullCount(){return this.indices.nullCount}get nullBitmap(){return this.indices.nullBitmap}get byteLength(){return this.indices.byteLength+this.dictionary.byteLength}get reservedLength(){return this.indices.reservedLength+this.dictionary.reservedLength}get reservedByteLength(){return this.indices.reservedByteLength+this.dictionary.reservedByteLength}isValid(t){return this.indices.isValid(t)}setValid(t,n){const r=this.indices;return n=r.setValid(t,n),this.length=r.length,n}setValue(t,n){const r=this._keysToIndices,i=this.valueToKey(n);let s=r[i];return s===void 0&&(r[i]=s=this._dictionaryOffset+this.dictionary.append(n).length-1),this.indices.setValue(t,s)}flush(){const t=this.type,n=this._dictionary,r=this.dictionary.toVector(),i=this.indices.flush().clone(t);return i.dictionary=n?n.concat(r):r,this.finished||(this._dictionaryOffset+=r.length),this._dictionary=i.dictionary,this.clear(),i}finish(){return this.indices.finish(),this.dictionary.finish(),this._dictionaryOffset=0,this._keysToIndices=Object.create(null),super.finish()}clear(){return this.indices.clear(),this.dictionary.clear(),super.clear()}valueToKey(t){return typeof t=="string"?t:`${t}`}}class mne extends If{}mne.prototype._setValue=bte;class bUe extends Ws{setValue(t,n){const[r]=this.children,i=t*this.stride;for(let s=-1,o=n.length;++s<o;)r.set(i+s,n[s])}addChild(t,n="0"){if(this.numChildren>0)throw new Error("FixedSizeListBuilder can only have one child.");const r=this.children.push(t);return this.type=new dm(this.type.listSize,new In(n,t.type,!0)),r}}class qI extends If{setValue(t,n){this._values.set(t,n)}}class EUe extends qI{setValue(t,n){super.setValue(t,yte(n))}}class wUe extends qI{}class TUe extends qI{}class YI extends If{}YI.prototype._setValue=Cte;class gne extends YI{}gne.prototype._setValue=Y$;class yne extends YI{}yne.prototype._setValue=G$;class ql extends If{setValue(t,n){this._values.set(t,n)}}class SUe extends ql{}class IUe extends ql{}class xUe extends ql{}class CUe extends ql{}class AUe extends ql{}class OUe extends ql{}class PUe extends ql{}class RUe extends ql{}class NUe extends HI{constructor(t){super(t),this._offsets=new one}addChild(t,n="0"){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=t,this.type=new fm(new In(n,t.type,!0)),this.numChildren-1}_flushPending(t){const n=this._offsets,[r]=this.children;for(const[i,s]of t)if(typeof s>"u")n.set(i,0);else{const o=s.length,a=n.set(i,o).buffer[i];for(let u=-1;++u<o;)r.set(a+u,s[u])}}}class kUe extends HI{set(t,n){return super.set(t,n)}setValue(t,n){const r=n instanceof Map?n:new Map(Object.entries(n)),i=this._pending||(this._pending=new Map),s=i.get(t);s&&(this._pendingLength-=s.size),this._pendingLength+=r.size,i.set(t,r)}addChild(t,n=`${this.numChildren}`){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=t,this.type=new jy(new In(n,t.type,!0),this.type.keysSorted),this.numChildren-1}_flushPending(t){const n=this._offsets,[r]=this.children;for(const[i,s]of t)if(s===void 0)n.set(i,0);else{let{[i]:o,[i+1]:a}=n.set(i,s.size).buffer;for(const u of s.entries())if(r.set(o,u),++o>=a)break}}}class DUe extends Ws{setValue(t,n){}setValid(t,n){return this.length=Math.max(t+1,this.length),n}}class $Ue extends Ws{setValue(t,n){const{children:r,type:i}=this;switch(Array.isArray(n)||n.constructor){case!0:return i.children.forEach((s,o)=>r[o].set(t,n[o]));case Map:return i.children.forEach((s,o)=>r[o].set(t,n.get(s.name)));default:return i.children.forEach((s,o)=>r[o].set(t,n[s.name]))}}setValid(t,n){return super.setValid(t,n)||this.children.forEach(r=>r.setValid(t,n)),n}addChild(t,n=`${this.numChildren}`){const r=this.children.push(t);return this.type=new Yi([...this.type.children,new In(n,t.type,!0)]),r}}class Gm extends If{}Gm.prototype._setValue=wte;class _ne extends Gm{}_ne.prototype._setValue=B$;class vne extends Gm{}vne.prototype._setValue=j$;class bne extends Gm{}bne.prototype._setValue=U$;class Ene extends Gm{}Ene.prototype._setValue=V$;class Km extends If{}Km.prototype._setValue=Tte;class wne extends Km{}wne.prototype._setValue=z$;class Tne extends Km{}Tne.prototype._setValue=H$;class Sne extends Km{}Sne.prototype._setValue=W$;class Ine extends Km{}Ine.prototype._setValue=q$;class n3 extends Ws{constructor(t){super(t),this._typeIds=new q_(new Int8Array(0),1),typeof t.valueToChildTypeId=="function"&&(this._valueToChildTypeId=t.valueToChildTypeId)}get typeIdToChildIndex(){return this.type.typeIdToChildIndex}append(t,n){return this.set(this.length,t,n)}set(t,n,r){return r===void 0&&(r=this._valueToChildTypeId(this,n,t)),this.setValid(t,this.isValid(n))&&this.setValue(t,n,r),this}setValue(t,n,r){this._typeIds.set(t,r);const i=this.type.typeIdToChildIndex[r],s=this.children[i];s==null||s.set(t,n)}addChild(t,n=`${this.children.length}`){const r=this.children.push(t),{type:{children:i,mode:s,typeIds:o}}=this,a=[...i,new In(n,t.type)];return this.type=new By(s,[...o,r],a),r}_valueToChildTypeId(t,n,r){throw new Error("Cannot map UnionBuilder value to child typeId. Pass the `childTypeId` as the second argument to unionBuilder.append(), or supply a `valueToChildTypeId` function as part of the UnionBuilder constructor options.")}}class LUe extends n3{}class MUe extends n3{constructor(t){super(t),this._offsets=new q_(new Int32Array(0))}setValue(t,n,r){const i=this._typeIds.set(t,r).buffer[t],s=this.getChildAt(this.type.typeIdToChildIndex[i]),o=this._offsets.set(t,s.length).buffer[t];s==null||s.set(o,n)}}class xne extends HI{constructor(t){super(t),this._values=new zI(new Uint8Array(0))}get byteLength(){let t=this._pendingLength+this.length*4;return this._offsets&&(t+=this._offsets.byteLength),this._values&&(t+=this._values.byteLength),this._nulls&&(t+=this._nulls.byteLength),t}setValue(t,n){return super.setValue(t,E$(n))}_flushPending(t,n){}}xne.prototype._flushPending=fne.prototype._flushPending;class FUe extends on{visitNull(){return DUe}visitBool(){return _Ue}visitInt(){return ql}visitInt8(){return SUe}visitInt16(){return IUe}visitInt32(){return xUe}visitInt64(){return CUe}visitUint8(){return AUe}visitUint16(){return OUe}visitUint32(){return PUe}visitUint64(){return RUe}visitFloat(){return qI}visitFloat16(){return EUe}visitFloat32(){return wUe}visitFloat64(){return TUe}visitUtf8(){return xne}visitBinary(){return fne}visitFixedSizeBinary(){return mne}visitDate(){return WI}visitDateDay(){return dne}visitDateMillisecond(){return hne}visitTimestamp(){return Gm}visitTimestampSecond(){return _ne}visitTimestampMillisecond(){return vne}visitTimestampMicrosecond(){return bne}visitTimestampNanosecond(){return Ene}visitTime(){return Km}visitTimeSecond(){return wne}visitTimeMillisecond(){return Tne}visitTimeMicrosecond(){return Sne}visitTimeNanosecond(){return Ine}visitDecimal(){return pne}visitList(){return NUe}visitStruct(){return $Ue}visitUnion(){return n3}visitDenseUnion(){return MUe}visitSparseUnion(){return LUe}visitDictionary(){return vUe}visitInterval(){return YI}visitIntervalDayTime(){return gne}visitIntervalYearMonth(){return yne}visitFixedSizeList(){return bUe}visitMap(){return kUe}}const BUe=new FUe;class Rt extends on{compareSchemas(t,n){return t===n||n instanceof t.constructor&&this.compareManyFields(t.fields,n.fields)}compareManyFields(t,n){return t===n||Array.isArray(t)&&Array.isArray(n)&&t.length===n.length&&t.every((r,i)=>this.compareFields(r,n[i]))}compareFields(t,n){return t===n||n instanceof t.constructor&&t.name===n.name&&t.nullable===n.nullable&&this.visit(t.type,n.type)}}function qs(e,t){return t instanceof e.constructor}function Y_(e,t){return e===t||qs(e,t)}function Yl(e,t){return e===t||qs(e,t)&&e.bitWidth===t.bitWidth&&e.isSigned===t.isSigned}function GI(e,t){return e===t||qs(e,t)&&e.precision===t.precision}function jUe(e,t){return e===t||qs(e,t)&&e.byteWidth===t.byteWidth}function r3(e,t){return e===t||qs(e,t)&&e.unit===t.unit}function G_(e,t){return e===t||qs(e,t)&&e.unit===t.unit&&e.timezone===t.timezone}function K_(e,t){return e===t||qs(e,t)&&e.unit===t.unit&&e.bitWidth===t.bitWidth}function UUe(e,t){return e===t||qs(e,t)&&e.children.length===t.children.length&&uf.compareManyFields(e.children,t.children)}function VUe(e,t){return e===t||qs(e,t)&&e.children.length===t.children.length&&uf.compareManyFields(e.children,t.children)}function i3(e,t){return e===t||qs(e,t)&&e.mode===t.mode&&e.typeIds.every((n,r)=>n===t.typeIds[r])&&uf.compareManyFields(e.children,t.children)}function zUe(e,t){return e===t||qs(e,t)&&e.id===t.id&&e.isOrdered===t.isOrdered&&uf.visit(e.indices,t.indices)&&uf.visit(e.dictionary,t.dictionary)}function s3(e,t){return e===t||qs(e,t)&&e.unit===t.unit}function HUe(e,t){return e===t||qs(e,t)&&e.listSize===t.listSize&&e.children.length===t.children.length&&uf.compareManyFields(e.children,t.children)}function WUe(e,t){return e===t||qs(e,t)&&e.keysSorted===t.keysSorted&&e.children.length===t.children.length&&uf.compareManyFields(e.children,t.children)}Rt.prototype.visitNull=Y_;Rt.prototype.visitBool=Y_;Rt.prototype.visitInt=Yl;Rt.prototype.visitInt8=Yl;Rt.prototype.visitInt16=Yl;Rt.prototype.visitInt32=Yl;Rt.prototype.visitInt64=Yl;Rt.prototype.visitUint8=Yl;Rt.prototype.visitUint16=Yl;Rt.prototype.visitUint32=Yl;Rt.prototype.visitUint64=Yl;Rt.prototype.visitFloat=GI;Rt.prototype.visitFloat16=GI;Rt.prototype.visitFloat32=GI;Rt.prototype.visitFloat64=GI;Rt.prototype.visitUtf8=Y_;Rt.prototype.visitBinary=Y_;Rt.prototype.visitFixedSizeBinary=jUe;Rt.prototype.visitDate=r3;Rt.prototype.visitDateDay=r3;Rt.prototype.visitDateMillisecond=r3;Rt.prototype.visitTimestamp=G_;Rt.prototype.visitTimestampSecond=G_;Rt.prototype.visitTimestampMillisecond=G_;Rt.prototype.visitTimestampMicrosecond=G_;Rt.prototype.visitTimestampNanosecond=G_;Rt.prototype.visitTime=K_;Rt.prototype.visitTimeSecond=K_;Rt.prototype.visitTimeMillisecond=K_;Rt.prototype.visitTimeMicrosecond=K_;Rt.prototype.visitTimeNanosecond=K_;Rt.prototype.visitDecimal=Y_;Rt.prototype.visitList=UUe;Rt.prototype.visitStruct=VUe;Rt.prototype.visitUnion=i3;Rt.prototype.visitDenseUnion=i3;Rt.prototype.visitSparseUnion=i3;Rt.prototype.visitDictionary=zUe;Rt.prototype.visitInterval=s3;Rt.prototype.visitIntervalDayTime=s3;Rt.prototype.visitIntervalYearMonth=s3;Rt.prototype.visitFixedSizeList=HUe;Rt.prototype.visitMap=WUe;const uf=new Rt;function X2(e,t){return uf.compareSchemas(e,t)}function CT(e){const t=e.type,n=new(BUe.getVisitFn(t)())(e);if(t.children&&t.children.length>0){const r=e.children||[],i={nullValues:e.nullValues},s=Array.isArray(r)?(o,a)=>r[a]||i:({name:o})=>r[o]||i;for(const[o,a]of t.children.entries()){const{type:u}=a,l=s(a,o);n.children.push(CT(Object.assign(Object.assign({},l),{type:u})))}}return n}function YA(e,t){return qUe(e,t.map(n=>n.data.concat()))}function qUe(e,t){const n=[...e.fields],r=[],i={numBatches:t.reduce((f,d)=>Math.max(f,d.length),0)};let s=0,o=0,a=-1;const u=t.length;let l,c=[];for(;i.numBatches-- >0;){for(o=Number.POSITIVE_INFINITY,a=-1;++a<u;)c[a]=l=t[a].shift(),o=Math.min(o,l?l.length:o);Number.isFinite(o)&&(c=YUe(n,o,c,t,i),o>0&&(r[s++]=Hi({type:new Yi(n),length:o,nullCount:0,children:c.slice()})))}return[e=e.assign(n),r.map(f=>new no(e,f))]}function YUe(e,t,n,r,i){var s;const o=(t+63&-64)>>3;for(let a=-1,u=r.length;++a<u;){const l=n[a],c=l==null?void 0:l.length;if(c>=t)c===t?n[a]=l:(n[a]=l.slice(0,t),i.numBatches=Math.max(i.numBatches,r[a].unshift(l.slice(t,c-t))));else{const f=e[a];e[a]=f.clone({nullable:!0}),n[a]=(s=l==null?void 0:l._changeLengthAndBackfillNullBitmap(t))!==null&&s!==void 0?s:Hi({type:f.type,length:t,nullCount:t,nullBitmap:new Uint8Array(o)})}}return n}var Cne;class Os{constructor(...t){var n,r;if(t.length===0)return this.batches=[],this.schema=new An([]),this._offsets=[0],this;let i,s;t[0]instanceof An&&(i=t.shift()),t[t.length-1]instanceof Uint32Array&&(s=t.pop());const o=u=>{if(u){if(u instanceof no)return[u];if(u instanceof Os)return u.batches;if(u instanceof Mn){if(u.type instanceof Yi)return[new no(new An(u.type.children),u)]}else{if(Array.isArray(u))return u.flatMap(l=>o(l));if(typeof u[Symbol.iterator]=="function")return[...u].flatMap(l=>o(l));if(typeof u=="object"){const l=Object.keys(u),c=l.map(h=>new _n([u[h]])),f=new An(l.map((h,p)=>new In(String(h),c[p].type))),[,d]=YA(f,c);return d.length===0?[new no(u)]:d}}}return[]},a=t.flatMap(u=>o(u));if(i=(r=i??((n=a[0])===null||n===void 0?void 0:n.schema))!==null&&r!==void 0?r:new An([]),!(i instanceof An))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(const u of a){if(!(u instanceof no))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!X2(i,u.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=i,this.batches=a,this._offsets=s??Kte(this.data)}get data(){return this.batches.map(({data:t})=>t)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((t,n)=>t+n.length,0)}get nullCount(){return this._nullCount===-1&&(this._nullCount=Gte(this.data)),this._nullCount}isValid(t){return!1}get(t){return null}set(t,n){}indexOf(t,n){return-1}getByteLength(t){return 0}[Symbol.iterator](){return this.batches.length>0?t3.visit(new _n(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return`[
  ${this.toArray().join(`,
  `)}
]`}concat(...t){const n=this.schema,r=this.data.concat(t.flatMap(({data:i})=>i));return new Os(n,r.map(i=>new no(n,i)))}slice(t,n){const r=this.schema;[t,n]=Wte({length:this.numRows},t,n);const i=Qte(this.data,this._offsets,t,n);return new Os(r,i.map(s=>new no(r,s)))}getChild(t){return this.getChildAt(this.schema.fields.findIndex(n=>n.name===t))}getChildAt(t){if(t>-1&&t<this.schema.fields.length){const n=this.data.map(r=>r.children[t]);if(n.length===0){const{type:r}=this.schema.fields[t],i=Hi({type:r,length:0,nullCount:0});n.push(i._changeLengthAndBackfillNullBitmap(this.numRows))}return new _n(n)}return null}setChild(t,n){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===t),n)}setChildAt(t,n){let r=this.schema,i=[...this.batches];if(t>-1&&t<this.numCols){n||(n=new _n([Hi({type:new Al,length:this.numRows})]));const s=r.fields.slice(),o=s[t].clone({type:n.type}),a=this.schema.fields.map((u,l)=>this.getChildAt(l));[s[t],a[t]]=[o,n],[r,i]=YA(r,a)}return new Os(r,i)}select(t){const n=this.schema.fields.reduce((r,i,s)=>r.set(i.name,s),new Map);return this.selectAt(t.map(r=>n.get(r)).filter(r=>r>-1))}selectAt(t){const n=this.schema.selectAt(t),r=this.batches.map(i=>i.selectAt(t));return new Os(n,r)}assign(t){const n=this.schema.fields,[r,i]=t.schema.fields.reduce((a,u,l)=>{const[c,f]=a,d=n.findIndex(h=>h.name===u.name);return~d?f[d]=l:c.push(l),a},[[],[]]),s=this.schema.assign(t.schema),o=[...n.map((a,u)=>[u,i[u]]).map(([a,u])=>u===void 0?this.getChildAt(a):t.getChildAt(u)),...r.map(a=>t.getChildAt(a))].filter(Boolean);return new Os(...YA(s,o))}}Cne=Symbol.toStringTag;Os[Cne]=(e=>(e.schema=null,e.batches=[],e._offsets=new Uint32Array([0]),e._nullCount=-1,e[Symbol.isConcatSpreadable]=!0,e.isValid=Np(e3),e.get=Np(zs.getVisitFn(Q.Struct)),e.set=Xte(qo.getVisitFn(Q.Struct)),e.indexOf=Jte(vT.getVisitFn(Q.Struct)),e.getByteLength=Np(Ou.getVisitFn(Q.Struct)),"Table"))(Os.prototype);var Ane;let no=class lg{constructor(...t){switch(t.length){case 2:{if([this.schema]=t,!(this.schema instanceof An))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=Hi({nullCount:0,type:new Yi(this.schema.fields),children:this.schema.fields.map(n=>Hi({type:n.type,nullCount:0}))})]=t,!(this.data instanceof Mn))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=dU(this.schema,this.data.children);break}case 1:{const[n]=t,{fields:r,children:i,length:s}=Object.keys(n).reduce((u,l,c)=>(u.children[c]=n[l],u.length=Math.max(u.length,n[l].length),u.fields[c]=In.new({name:l,type:n[l].type,nullable:!0}),u),{length:0,fields:new Array,children:new Array}),o=new An(r),a=Hi({type:new Yi(r),length:s,children:i,nullCount:0});[this.schema,this.data]=dU(o,a.children,s);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=One(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(t){return this.data.getValid(t)}get(t){return zs.visit(this.data,t)}set(t,n){return qo.visit(this.data,t,n)}indexOf(t,n){return vT.visit(this.data,t,n)}getByteLength(t){return Ou.visit(this.data,t)}[Symbol.iterator](){return t3.visit(new _n([this.data]))}toArray(){return[...this]}concat(...t){return new Os(this.schema,[this,...t])}slice(t,n){const[r]=new _n([this.data]).slice(t,n).data;return new lg(this.schema,r)}getChild(t){var n;return this.getChildAt((n=this.schema.fields)===null||n===void 0?void 0:n.findIndex(r=>r.name===t))}getChildAt(t){return t>-1&&t<this.schema.fields.length?new _n([this.data.children[t]]):null}setChild(t,n){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===t),n)}setChildAt(t,n){let r=this.schema,i=this.data;if(t>-1&&t<this.numCols){n||(n=new _n([Hi({type:new Al,length:this.numRows})]));const s=r.fields.slice(),o=i.children.slice(),a=s[t].clone({type:n.type});[s[t],o[t]]=[a,n.data[0]],r=new An(s,new Map(this.schema.metadata)),i=Hi({type:new Yi(s),children:o})}return new lg(r,i)}select(t){const n=this.schema.select(t),r=new Yi(n.fields),i=[];for(const s of t){const o=this.schema.fields.findIndex(a=>a.name===s);~o&&(i[o]=this.data.children[o])}return new lg(n,Hi({type:r,length:this.numRows,children:i}))}selectAt(t){const n=this.schema.selectAt(t),r=t.map(s=>this.data.children[s]).filter(Boolean),i=Hi({type:new Yi(n.fields),length:this.numRows,children:r});return new lg(n,i)}};Ane=Symbol.toStringTag;no[Ane]=(e=>(e._nullCount=-1,e[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(no.prototype);function dU(e,t,n=t.reduce((r,i)=>Math.max(r,i.length),0)){var r;const i=[...e.fields],s=[...t],o=(n+63&-64)>>3;for(const[a,u]of e.fields.entries()){const l=t[a];(!l||l.length!==n)&&(i[a]=u.clone({nullable:!0}),s[a]=(r=l==null?void 0:l._changeLengthAndBackfillNullBitmap(n))!==null&&r!==void 0?r:Hi({type:u.type,length:n,nullCount:n,nullBitmap:new Uint8Array(o)}))}return[e.assign(i),Hi({type:new Yi(i),length:n,children:s})]}function One(e,t,n=new Map){for(let r=-1,i=e.length;++r<i;){const o=e[r].type,a=t[r];if(Qt.isDictionary(o)){if(!n.has(o.id))a.dictionary&&n.set(o.id,a.dictionary);else if(n.get(o.id)!==a.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}o.children&&o.children.length>0&&One(o.children,a.children,n)}return n}class GUe extends no{constructor(t){const n=t.fields.map(i=>Hi({type:i.type})),r=Hi({type:new Yi(t.fields),nullCount:0,children:n});super(t,r)}}var AT;(function(e){e[e.BUFFER=0]="BUFFER"})(AT||(AT={}));var OT;(function(e){e[e.LZ4_FRAME=0]="LZ4_FRAME",e[e.ZSTD=1]="ZSTD"})(OT||(OT={}));class fc{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBodyCompression(t,n){return(n||new fc).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBodyCompression(t,n){return t.setPosition(t.position()+zn),(n||new fc).__init(t.readInt32(t.position())+t.position(),t)}codec(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt8(this.bb_pos+t):OT.LZ4_FRAME}method(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt8(this.bb_pos+t):AT.BUFFER}static startBodyCompression(t){t.startObject(2)}static addCodec(t,n){t.addFieldInt8(0,n,OT.LZ4_FRAME)}static addMethod(t,n){t.addFieldInt8(1,n,AT.BUFFER)}static endBodyCompression(t){return t.endObject()}static createBodyCompression(t,n,r){return fc.startBodyCompression(t),fc.addCodec(t,n),fc.addMethod(t,r),fc.endBodyCompression(t)}}class Pne{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(t,n,r){return t.prep(8,16),t.writeInt64(r),t.writeInt64(n),t.offset()}}let Rne=class{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(t,n,r){return t.prep(8,16),t.writeInt64(r),t.writeInt64(n),t.offset()}},Hu=class J2{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsRecordBatch(t,n){return(n||new J2).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsRecordBatch(t,n){return t.setPosition(t.position()+zn),(n||new J2).__init(t.readInt32(t.position())+t.position(),t)}length(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}nodes(t,n){const r=this.bb.__offset(this.bb_pos,6);return r?(n||new Rne).__init(this.bb.__vector(this.bb_pos+r)+t*16,this.bb):null}nodesLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}buffers(t,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new Pne).__init(this.bb.__vector(this.bb_pos+r)+t*16,this.bb):null}buffersLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}compression(t){const n=this.bb.__offset(this.bb_pos,10);return n?(t||new fc).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}static startRecordBatch(t){t.startObject(4)}static addLength(t,n){t.addFieldInt64(0,n,t.createLong(0,0))}static addNodes(t,n){t.addFieldOffset(1,n,0)}static startNodesVector(t,n){t.startVector(16,n,8)}static addBuffers(t,n){t.addFieldOffset(2,n,0)}static startBuffersVector(t,n){t.startVector(16,n,8)}static addCompression(t,n){t.addFieldOffset(3,n,0)}static endRecordBatch(t){return t.endObject()}},Dh=class Z2{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDictionaryBatch(t,n){return(n||new Z2).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryBatch(t,n){return t.setPosition(t.position()+zn),(n||new Z2).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}data(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new Hu).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isDelta(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startDictionaryBatch(t){t.startObject(3)}static addId(t,n){t.addFieldInt64(0,n,t.createLong(0,0))}static addData(t,n){t.addFieldOffset(1,n,0)}static addIsDelta(t,n){t.addFieldInt8(2,+n,0)}static endDictionaryBatch(t){return t.endObject()}};var PT;(function(e){e[e.NONE=0]="NONE",e[e.Schema=1]="Schema",e[e.DictionaryBatch=2]="DictionaryBatch",e[e.RecordBatch=3]="RecordBatch",e[e.Tensor=4]="Tensor",e[e.SparseTensor=5]="SparseTensor"})(PT||(PT={}));let tc=class Fa{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsMessage(t,n){return(n||new Fa).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMessage(t,n){return t.setPosition(t.position()+zn),(n||new Fa).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):hm.V1}headerType(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb_pos+t):PT.NONE}header(t){const n=this.bb.__offset(this.bb_pos,8);return n?this.bb.__union(t,this.bb_pos+n):null}bodyLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,12);return r?(n||new Gr).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startMessage(t){t.startObject(5)}static addVersion(t,n){t.addFieldInt16(0,n,hm.V1)}static addHeaderType(t,n){t.addFieldInt8(1,n,PT.NONE)}static addHeader(t,n){t.addFieldOffset(2,n,0)}static addBodyLength(t,n){t.addFieldInt64(3,n,t.createLong(0,0))}static addCustomMetadata(t,n){t.addFieldOffset(4,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endMessage(t){return t.endObject()}static finishMessageBuffer(t,n){t.finish(n)}static finishSizePrefixedMessageBuffer(t,n){t.finish(n,void 0,!0)}static createMessage(t,n,r,i,s,o){return Fa.startMessage(t),Fa.addVersion(t,n),Fa.addHeaderType(t,r),Fa.addHeader(t,i),Fa.addBodyLength(t,s),Fa.addCustomMetadata(t,o),Fa.endMessage(t)}};var KUe=ml;class QUe extends on{visit(t,n){return t==null||n==null?void 0:super.visit(t,n)}visitNull(t,n){return ud.startNull(n),ud.endNull(n)}visitInt(t,n){return to.startInt(n),to.addBitWidth(n,t.bitWidth),to.addIsSigned(n,t.isSigned),to.endInt(n)}visitFloat(t,n){return eu.startFloatingPoint(n),eu.addPrecision(n,t.precision),eu.endFloatingPoint(n)}visitBinary(t,n){return sd.startBinary(n),sd.endBinary(n)}visitBool(t,n){return od.startBool(n),od.endBool(n)}visitUtf8(t,n){return cd.startUtf8(n),cd.endUtf8(n)}visitDecimal(t,n){return xs.startDecimal(n),xs.addScale(n,t.scale),xs.addPrecision(n,t.precision),xs.addBitWidth(n,t.bitWidth),xs.endDecimal(n)}visitDate(t,n){return db.startDate(n),db.addUnit(n,t.unit),db.endDate(n)}visitTime(t,n){return Do.startTime(n),Do.addUnit(n,t.unit),Do.addBitWidth(n,t.bitWidth),Do.endTime(n)}visitTimestamp(t,n){const r=t.timezone&&n.createString(t.timezone)||void 0;return ug.startTimestamp(n),ug.addUnit(n,t.unit),r!==void 0&&ug.addTimezone(n,r),ug.endTimestamp(n)}visitInterval(t,n){return tu.startInterval(n),tu.addUnit(n,t.unit),tu.endInterval(n)}visitList(t,n){return ad.startList(n),ad.endList(n)}visitStruct(t,n){return ld.startStruct_(n),ld.endStruct_(n)}visitUnion(t,n){As.startTypeIdsVector(n,t.typeIds.length);const r=As.createTypeIdsVector(n,t.typeIds);return As.startUnion(n),As.addMode(n,t.mode),As.addTypeIds(n,r),As.endUnion(n)}visitDictionary(t,n){const r=this.visit(t.indices,n);return Qu.startDictionaryEncoding(n),Qu.addId(n,new KUe(t.id,0)),Qu.addIsOrdered(n,t.isOrdered),r!==void 0&&Qu.addIndexType(n,r),Qu.endDictionaryEncoding(n)}visitFixedSizeBinary(t,n){return Ja.startFixedSizeBinary(n),Ja.addByteWidth(n,t.byteWidth),Ja.endFixedSizeBinary(n)}visitFixedSizeList(t,n){return Za.startFixedSizeList(n),Za.addListSize(n,t.listSize),Za.endFixedSizeList(n)}visitMap(t,n){return hb.startMap(n),hb.addKeysSorted(n,t.keysSorted),hb.endMap(n)}}const GA=new QUe;function XUe(e,t=new Map){return new An(ZUe(e,t),mb(e.customMetadata),t)}function Nne(e){return new yo(e.count,kne(e.columns),Dne(e.columns))}function JUe(e){return new Pu(Nne(e.data),e.id,e.isDelta)}function ZUe(e,t){return(e.fields||[]).filter(Boolean).map(n=>In.fromJSON(n,t))}function hU(e,t){return(e.children||[]).filter(Boolean).map(n=>In.fromJSON(n,t))}function kne(e){return(e||[]).reduce((t,n)=>[...t,new uh(n.count,eVe(n.VALIDITY)),...kne(n.children)],[])}function Dne(e,t=[]){for(let n=-1,r=(e||[]).length;++n<r;){const i=e[n];i.VALIDITY&&t.push(new ou(t.length,i.VALIDITY.length)),i.TYPE&&t.push(new ou(t.length,i.TYPE.length)),i.OFFSET&&t.push(new ou(t.length,i.OFFSET.length)),i.DATA&&t.push(new ou(t.length,i.DATA.length)),t=Dne(i.children,t)}return t}function eVe(e){return(e||[]).reduce((t,n)=>t+ +(n===0),0)}function tVe(e,t){let n,r,i,s,o,a;return!t||!(s=e.dictionary)?(o=mU(e,hU(e,t)),i=new In(e.name,o,e.nullable,mb(e.customMetadata))):t.has(n=s.id)?(r=(r=s.indexType)?pU(r):new rf,a=new of(t.get(n),r,n,s.isOrdered),i=new In(e.name,a,e.nullable,mb(e.customMetadata))):(r=(r=s.indexType)?pU(r):new rf,t.set(n,o=mU(e,hU(e,t))),a=new of(o,r,n,s.isOrdered),i=new In(e.name,a,e.nullable,mb(e.customMetadata))),i||null}function mb(e){return new Map(Object.entries(e||{}))}function pU(e){return new fs(e.isSigned,e.bitWidth)}function mU(e,t){const n=e.type.name;switch(n){case"NONE":return new Al;case"null":return new Al;case"binary":return new My;case"utf8":return new um;case"bool":return new Fy;case"list":return new fm((t||[])[0]);case"struct":return new Yi(t||[]);case"struct_":return new Yi(t||[])}switch(n){case"int":{const r=e.type;return new fs(r.isSigned,r.bitWidth)}case"floatingpoint":{const r=e.type;return new sf(Ni[r.precision])}case"decimal":{const r=e.type;return new gT(r.scale,r.precision,r.bitWidth)}case"date":{const r=e.type;return new lm(Cu[r.unit])}case"time":{const r=e.type;return new Ol(sn[r.unit],r.bitWidth)}case"timestamp":{const r=e.type;return new yT(sn[r.unit],r.timezone)}case"interval":{const r=e.type;return new cm(Au[r.unit])}case"union":{const r=e.type;return new By(Wo[r.mode],r.typeIds||[],t||[])}case"fixedsizebinary":{const r=e.type;return new _T(r.byteWidth)}case"fixedsizelist":{const r=e.type;return new dm(r.listSize,(t||[])[0])}case"map":{const r=e.type;return new jy((t||[])[0],r.keysSorted)}}throw new Error(`Unrecognized type: "${n}"`)}var Bd=ml,nVe=une,rVe=ET;class nu{constructor(t,n,r,i){this._version=n,this._headerType=r,this.body=new Uint8Array(0),i&&(this._createHeader=()=>i),this._bodyLength=typeof t=="number"?t:t.low}static fromJSON(t,n){const r=new nu(0,ro.V4,n);return r._createHeader=iVe(t,n),r}static decode(t){t=new rVe(Pn(t));const n=tc.getRootAsMessage(t),r=n.bodyLength(),i=n.version(),s=n.headerType(),o=new nu(r,i,s);return o._createHeader=sVe(n,s),o}static encode(t){const n=new nVe;let r=-1;return t.isSchema()?r=An.encode(n,t.header()):t.isRecordBatch()?r=yo.encode(n,t.header()):t.isDictionaryBatch()&&(r=Pu.encode(n,t.header())),tc.startMessage(n),tc.addVersion(n,ro.V4),tc.addHeader(n,r),tc.addHeaderType(n,t.headerType),tc.addBodyLength(n,new Bd(t.bodyLength,0)),tc.finishMessageBuffer(n,tc.endMessage(n)),n.asUint8Array()}static from(t,n=0){if(t instanceof An)return new nu(0,ro.V4,ci.Schema,t);if(t instanceof yo)return new nu(n,ro.V4,ci.RecordBatch,t);if(t instanceof Pu)return new nu(n,ro.V4,ci.DictionaryBatch,t);throw new Error(`Unrecognized Message header: ${t}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===ci.Schema}isRecordBatch(){return this.headerType===ci.RecordBatch}isDictionaryBatch(){return this.headerType===ci.DictionaryBatch}}class yo{constructor(t,n,r){this._nodes=n,this._buffers=r,this._length=typeof t=="number"?t:t.low}get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}}class Pu{constructor(t,n,r=!1){this._data=t,this._isDelta=r,this._id=typeof n=="number"?n:n.low}get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}}class ou{constructor(t,n){this.offset=typeof t=="number"?t:t.low,this.length=typeof n=="number"?n:n.low}}class uh{constructor(t,n){this.length=typeof t=="number"?t:t.low,this.nullCount=typeof n=="number"?n:n.low}}function iVe(e,t){return()=>{switch(t){case ci.Schema:return An.fromJSON(e);case ci.RecordBatch:return yo.fromJSON(e);case ci.DictionaryBatch:return Pu.fromJSON(e)}throw new Error(`Unrecognized Message type: { name: ${ci[t]}, type: ${t} }`)}}function sVe(e,t){return()=>{switch(t){case ci.Schema:return An.decode(e.header(new za));case ci.RecordBatch:return yo.decode(e.header(new Hu),e.version());case ci.DictionaryBatch:return Pu.decode(e.header(new Dh),e.version())}throw new Error(`Unrecognized Message type: { name: ${ci[t]}, type: ${t} }`)}}In.encode=gVe;In.decode=pVe;In.fromJSON=tVe;An.encode=mVe;An.decode=oVe;An.fromJSON=XUe;yo.encode=yVe;yo.decode=aVe;yo.fromJSON=Nne;Pu.encode=_Ve;Pu.decode=uVe;Pu.fromJSON=JUe;uh.encode=vVe;uh.decode=cVe;ou.encode=bVe;ou.decode=lVe;function oVe(e,t=new Map){const n=hVe(e,t);return new An(n,gb(e),t)}function aVe(e,t=ro.V4){if(e.compression()!==null)throw new Error("Record batch compression not implemented");return new yo(e.length(),fVe(e),dVe(e,t))}function uVe(e,t=ro.V4){return new Pu(yo.decode(e.data(),t),e.id(),e.isDelta())}function lVe(e){return new ou(e.offset(),e.length())}function cVe(e){return new uh(e.length(),e.nullCount())}function fVe(e){const t=[];for(let n,r=-1,i=-1,s=e.nodesLength();++r<s;)(n=e.nodes(r))&&(t[++i]=uh.decode(n));return t}function dVe(e,t){const n=[];for(let r,i=-1,s=-1,o=e.buffersLength();++i<o;)(r=e.buffers(i))&&(t<ro.V4&&(r.bb_pos+=8*(i+1)),n[++s]=ou.decode(r));return n}function hVe(e,t){const n=[];for(let r,i=-1,s=-1,o=e.fieldsLength();++i<o;)(r=e.fields(i))&&(n[++s]=In.decode(r,t));return n}function gU(e,t){const n=[];for(let r,i=-1,s=-1,o=e.childrenLength();++i<o;)(r=e.children(i))&&(n[++s]=In.decode(r,t));return n}function pVe(e,t){let n,r,i,s,o,a;return!t||!(a=e.dictionary())?(i=_U(e,gU(e,t)),r=new In(e.name(),i,e.nullable(),gb(e))):t.has(n=a.id().low)?(s=(s=a.indexType())?yU(s):new rf,o=new of(t.get(n),s,n,a.isOrdered()),r=new In(e.name(),o,e.nullable(),gb(e))):(s=(s=a.indexType())?yU(s):new rf,t.set(n,i=_U(e,gU(e,t))),o=new of(i,s,n,a.isOrdered()),r=new In(e.name(),o,e.nullable(),gb(e))),r||null}function gb(e){const t=new Map;if(e)for(let n,r,i=-1,s=Math.trunc(e.customMetadataLength());++i<s;)(n=e.customMetadata(i))&&(r=n.key())!=null&&t.set(r,n.value());return t}function yU(e){return new fs(e.isSigned(),e.bitWidth())}function _U(e,t){const n=e.typeType();switch(n){case pr.NONE:return new Al;case pr.Null:return new Al;case pr.Binary:return new My;case pr.Utf8:return new um;case pr.Bool:return new Fy;case pr.List:return new fm((t||[])[0]);case pr.Struct_:return new Yi(t||[])}switch(n){case pr.Int:{const r=e.type(new to);return new fs(r.isSigned(),r.bitWidth())}case pr.FloatingPoint:{const r=e.type(new eu);return new sf(r.precision())}case pr.Decimal:{const r=e.type(new xs);return new gT(r.scale(),r.precision(),r.bitWidth())}case pr.Date:{const r=e.type(new db);return new lm(r.unit())}case pr.Time:{const r=e.type(new Do);return new Ol(r.unit(),r.bitWidth())}case pr.Timestamp:{const r=e.type(new ug);return new yT(r.unit(),r.timezone())}case pr.Interval:{const r=e.type(new tu);return new cm(r.unit())}case pr.Union:{const r=e.type(new As);return new By(r.mode(),r.typeIdsArray()||[],t||[])}case pr.FixedSizeBinary:{const r=e.type(new Ja);return new _T(r.byteWidth())}case pr.FixedSizeList:{const r=e.type(new Za);return new dm(r.listSize(),(t||[])[0])}case pr.Map:{const r=e.type(new hb);return new jy((t||[])[0],r.keysSorted())}}throw new Error(`Unrecognized type: "${pr[n]}" (${n})`)}function mVe(e,t){const n=t.fields.map(s=>In.encode(e,s));za.startFieldsVector(e,n.length);const r=za.createFieldsVector(e,n),i=t.metadata&&t.metadata.size>0?za.createCustomMetadataVector(e,[...t.metadata].map(([s,o])=>{const a=e.createString(`${s}`),u=e.createString(`${o}`);return Gr.startKeyValue(e),Gr.addKey(e,a),Gr.addValue(e,u),Gr.endKeyValue(e)})):-1;return za.startSchema(e),za.addFields(e,r),za.addEndianness(e,EVe?pm.Little:pm.Big),i!==-1&&za.addCustomMetadata(e,i),za.endSchema(e)}function gVe(e,t){let n=-1,r=-1,i=-1;const s=t.type;let o=t.typeId;Qt.isDictionary(s)?(o=s.dictionary.typeId,i=GA.visit(s,e),r=GA.visit(s.dictionary,e)):r=GA.visit(s,e);const a=(s.children||[]).map(c=>In.encode(e,c)),u=Co.createChildrenVector(e,a),l=t.metadata&&t.metadata.size>0?Co.createCustomMetadataVector(e,[...t.metadata].map(([c,f])=>{const d=e.createString(`${c}`),h=e.createString(`${f}`);return Gr.startKeyValue(e),Gr.addKey(e,d),Gr.addValue(e,h),Gr.endKeyValue(e)})):-1;return t.name&&(n=e.createString(t.name)),Co.startField(e),Co.addType(e,r),Co.addTypeType(e,o),Co.addChildren(e,u),Co.addNullable(e,!!t.nullable),n!==-1&&Co.addName(e,n),i!==-1&&Co.addDictionary(e,i),l!==-1&&Co.addCustomMetadata(e,l),Co.endField(e)}function yVe(e,t){const n=t.nodes||[],r=t.buffers||[];Hu.startNodesVector(e,n.length);for(const o of n.slice().reverse())uh.encode(e,o);const i=e.endVector();Hu.startBuffersVector(e,r.length);for(const o of r.slice().reverse())ou.encode(e,o);const s=e.endVector();return Hu.startRecordBatch(e),Hu.addLength(e,new Bd(t.length,0)),Hu.addNodes(e,i),Hu.addBuffers(e,s),Hu.endRecordBatch(e)}function _Ve(e,t){const n=yo.encode(e,t.data);return Dh.startDictionaryBatch(e),Dh.addId(e,new Bd(t.id,0)),Dh.addIsDelta(e,t.isDelta),Dh.addData(e,n),Dh.endDictionaryBatch(e)}function vVe(e,t){return Rne.createFieldNode(e,new Bd(t.length,0),new Bd(t.nullCount,0))}function bVe(e,t){return Pne.createBuffer(e,new Bd(t.offset,0),new Bd(t.length,0))}const EVe=(()=>{const e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),new Int16Array(e)[0]===256})(),eR="ARROW1",o3=new Uint8Array(eR.length);for(let e=0;e<eR.length;e+=1)o3[e]=eR.codePointAt(e);o3.length;class Hr extends on{constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}static assemble(...t){const n=i=>i.flatMap(s=>Array.isArray(s)?n(s):s instanceof no?s.data.children:s.data),r=new Hr;return r.visitMany(n(t)),r}visit(t){if(t instanceof _n)return this.visitMany(t.data),this;const{type:n}=t;if(!Qt.isDictionary(n)){const{length:r,nullCount:i}=t;if(r>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");Qt.isNull(n)||Ta.call(this,i<=0?new Uint8Array(0):X$(t.offset,r,t.nullBitmap)),this.nodes.push(new uh(r,i))}return super.visit(t)}visitNull(t){return this}visitDictionary(t){return this.visit(t.clone(t.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}function Ta(e){const t=e.byteLength+7&-8;return this.buffers.push(e),this.bufferRegions.push(new ou(this._byteLength,t)),this._byteLength+=t,this}function wVe(e){const{type:t,length:n,typeIds:r,valueOffsets:i}=e;if(Ta.call(this,r),t.mode===Wo.Sparse)return tR.call(this,e);if(t.mode===Wo.Dense){if(e.offset<=0)return Ta.call(this,i),tR.call(this,e);{const s=r.reduce((c,f)=>Math.max(c,f),r[0]),o=new Int32Array(s+1),a=new Int32Array(s+1).fill(-1),u=new Int32Array(n),l=S$(-i[0],n,i);for(let c,f,d=-1;++d<n;)(f=a[c=r[d]])===-1&&(f=a[c]=l[c]),u[d]=l[d]-f,++o[c];Ta.call(this,u);for(let c,f=-1,d=t.children.length;++f<d;)if(c=e.children[f]){const h=t.typeIds[f],p=Math.min(n,o[h]);this.visit(c.slice(a[h],p))}}}return this}function TVe(e){let t;return e.nullCount>=e.length?Ta.call(this,new Uint8Array(0)):(t=e.values)instanceof Uint8Array?Ta.call(this,X$(e.offset,e.length,t)):Ta.call(this,Yte(e.values))}function xf(e){return Ta.call(this,e.values.subarray(0,e.length*e.stride))}function $ne(e){const{length:t,values:n,valueOffsets:r}=e,i=r[0],s=r[t],o=Math.min(s-i,n.byteLength-i);return Ta.call(this,S$(-r[0],t,r)),Ta.call(this,n.subarray(i,i+o)),this}function a3(e){const{length:t,valueOffsets:n}=e;return n&&Ta.call(this,S$(n[0],t,n)),this.visit(e.children[0])}function tR(e){return this.visitMany(e.type.children.map((t,n)=>e.children[n]).filter(Boolean))[0]}Hr.prototype.visitBool=TVe;Hr.prototype.visitInt=xf;Hr.prototype.visitFloat=xf;Hr.prototype.visitUtf8=$ne;Hr.prototype.visitBinary=$ne;Hr.prototype.visitFixedSizeBinary=xf;Hr.prototype.visitDate=xf;Hr.prototype.visitTimestamp=xf;Hr.prototype.visitTime=xf;Hr.prototype.visitDecimal=xf;Hr.prototype.visitList=a3;Hr.prototype.visitStruct=tR;Hr.prototype.visitUnion=wVe;Hr.prototype.visitInterval=xf;Hr.prototype.visitFixedSizeList=a3;Hr.prototype.visitMap=a3;class Lne extends cne{constructor(t){super(),this._position=0,this._started=!1,this._sink=new qA,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,wf(t)||(t={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof t.autoDestroy=="boolean"?t.autoDestroy:!0,this._writeLegacyIpcFormat=typeof t.writeLegacyIpcFormat=="boolean"?t.writeLegacyIpcFormat:!1}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,n){throw new Error('"throughDOM" not available in this environment')}toString(t=!1){return this._sink.toString(t)}toUint8Array(t=!1){return this._sink.toUint8Array(t)}writeAll(t){return BI(t)?t.then(n=>this.writeAll(n)):jI(t)?f3(this,t):c3(this,t)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(t){return this._sink.toDOMStream(t)}toNodeStream(t){return this._sink.toNodeStream(t)}close(){return this.reset()._sink.close()}abort(t){return this.reset()._sink.abort(t)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(t=this._sink,n=null){return t===this._sink||t instanceof qA?this._sink=t:(this._sink=new qA,t&&RBe(t)?this.toDOMStream({type:"bytes"}).pipeTo(t):t&&NBe(t)&&this.toNodeStream({objectMode:!1}).pipe(t)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,(!n||!X2(n,this._schema))&&(n==null?(this._position=0,this._schema=null):(this._started=!0,this._schema=n,this._writeSchema(n))),this}write(t){let n=null;if(this._sink){if(t==null)return this.finish()&&void 0;if(t instanceof Os&&!(n=t.schema))return this.finish()&&void 0;if(t instanceof no&&!(n=t.schema))return this.finish()&&void 0}else throw new Error("RecordBatchWriter is closed");if(n&&!X2(n,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,n)}t instanceof no?t instanceof GUe||this._writeRecordBatch(t):t instanceof Os?this.writeAll(t.batches):w$(t)&&this.writeAll(t)}_writeMessage(t,n=8){const r=n-1,i=nu.encode(t),s=i.byteLength,o=this._writeLegacyIpcFormat?4:8,a=s+o+r&~r,u=a-s-o;return t.headerType===ci.RecordBatch?this._recordBatchBlocks.push(new af(a,t.bodyLength,this._position)):t.headerType===ci.DictionaryBatch&&this._dictionaryBlocks.push(new af(a,t.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(a-o)),s>0&&this._write(i),this._writePadding(u)}_write(t){if(this._started){const n=Pn(t);n&&n.byteLength>0&&(this._sink.write(n),this._position+=n.byteLength)}return this}_writeSchema(t){return this._writeMessage(nu.from(t))}_writeFooter(t){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(o3)}_writePadding(t){return t>0?this._write(new Uint8Array(t)):this}_writeRecordBatch(t){const{byteLength:n,nodes:r,bufferRegions:i,buffers:s}=Hr.assemble(t),o=new yo(t.numRows,r,i),a=nu.from(o,n);return this._writeDictionaries(t)._writeMessage(a)._writeBodyBuffers(s)}_writeDictionaryBatch(t,n,r=!1){this._dictionaryDeltaOffsets.set(n,t.length+(this._dictionaryDeltaOffsets.get(n)||0));const{byteLength:i,nodes:s,bufferRegions:o,buffers:a}=Hr.assemble(new _n([t])),u=new yo(t.length,s,o),l=new Pu(u,n,r),c=nu.from(l,i);return this._writeMessage(c)._writeBodyBuffers(a)}_writeBodyBuffers(t){let n,r,i;for(let s=-1,o=t.length;++s<o;)(n=t[s])&&(r=n.byteLength)>0&&(this._write(n),(i=(r+7&-8)-r)>0&&this._writePadding(i));return this}_writeDictionaries(t){for(let[n,r]of t.dictionaries){let i=this._dictionaryDeltaOffsets.get(n)||0;if(i===0||(r=r==null?void 0:r.slice(i)).length>0)for(const s of r.data)this._writeDictionaryBatch(s,n,i>0),i+=s.length}return this}}class u3 extends Lne{static writeAll(t,n){const r=new u3(n);return BI(t)?t.then(i=>r.writeAll(i)):jI(t)?f3(r,t):c3(r,t)}}class l3 extends Lne{static writeAll(t){const n=new l3;return BI(t)?t.then(r=>n.writeAll(r)):jI(t)?f3(n,t):c3(n,t)}constructor(){super(),this._autoDestroy=!0}_writeSchema(t){return this._writeMagic()._writePadding(2)}_writeFooter(t){const n=Q2.encode(new Q2(t,ro.V4,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(t)._write(n)._write(Int32Array.of(n.byteLength))._writeMagic()}}function c3(e,t){let n=t;t instanceof Os&&(n=t.batches,e.reset(void 0,t.schema));for(const r of n)e.write(r);return e.finish()}function f3(e,t){var n,r,i,s;return Gu(this,void 0,void 0,function*(){try{for(n=Hg(t);r=yield n.next(),!r.done;){const o=r.value;e.write(o)}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}return e.finish()})}function SVe(e,t="stream"){return(t==="stream"?u3:l3).writeAll(e).toUint8Array(!0)}function d3(e,t=1){return(e*t+63&-64||64)/t}function lf(e,t,n=e.BYTES_PER_ELEMENT){return new e(d3(t,n))}function h3(e){return e instanceof Mn?e:new Mn(e.type,0,e.length,e.nulls,e.buffers,null,e.dict)}function IVe(e){return new _n([h3(e)])}const p3=new TextEncoder;function xVe(e,t,n){const r=p3.encode(n);return e.set(r,t),r.length}function CVe(e,t,n){return p3.encodeInto(n,e.subarray(t)).written}const AVe=p3.encodeInto?CVe:xVe;function vU(e,t){const n=lf(e.ArrayType,t);return{set(r,i){n[i]=r},data:()=>({type:e,length:t,buffers:[null,n]})}}function OVe(e,t){const n=lf(e.ArrayType,t/8);return{set(r,i){r&&(n[i>>3]|=1<<i%8)},data:()=>({type:e,length:t,buffers:[null,n]})}}function PVe(e,t){const n=lf(e.ArrayType,t);return{set(r,i){n[i]=r/864e5|0},data:()=>({type:e,length:t,buffers:[null,n]})}}function RVe(e,t){const n=lf(e.ArrayType,t<<1);return{set(r,i){const s=i<<1;n[s]=r%4294967296|0,n[s+1]=r/4294967296|0},data:()=>({type:e,length:t,buffers:[null,n]})}}function NVe(e){const t=CT({type:e,nullValues:[null,void 0]});return{set(n,r){t.set(r,n)},data:()=>t.finish().flush()}}function kVe(e,t,n){const r=lf(Int32Array,t+1),i=lf(Uint8Array,3*n);let s=0;return{set(o,a){s+=AVe(i,s,o),r[a+1]=s},data:()=>{const o=d3(s),a=i.length>o?i.subarray(0,o):i;return{type:e,length:t,buffers:[r,a]}}}}function DVe(e,t){const n=[],r=lf(e.indices.ArrayType,t),i=Object.create(null);let s=-1,o=0;return{set(a,u){const l=String(a);let c=i[l];c===void 0&&(o+=l.length,i[l]=c=++s,n.push(l)),r[u]=c},data:()=>({type:e,length:t,buffers:[null,r],dict:$Ve(e.dictionary,n,o)})}}function $Ve(e,t,n){const r=kVe(e,t.length,n);return t.forEach(r.set),IVe(r.data())}function LVe(e,t){const n=lf(Uint8Array,t/8);let r=0;return{set(i,s){i==null?++r:(e.set(i,s),n[s>>3]|=1<<s%8)},data:()=>{const i=e.data();return r&&(i.nulls=r,i.buffers[2]=n),i}}}function MVe(e,t,n=!0){let r;switch(e.typeId){case Q.Int:r=e.bitWidth<64?vU:null;break;case Q.Float:r=e.precision>0?vU:null;break;case Q.Dictionary:r=e.dictionary.typeId===Q.Utf8&&e.indices.typeId===Q.Int&&e.indices.bitWidth<64?DVe:null;break;case Q.Bool:r=OVe;break;case Q.Date:r=e.unit?RVe:PVe;break}return r==null?NVe(e):n?LVe(r(e,t),t):r(e,t)}function FVe(e,t){const n=e.length,r=d3(n,e.BYTES_PER_ELEMENT);let i=e;return n!==r&&(i=new e.constructor(r),i.set(e)),h3({type:t,length:n,buffers:[null,i]})}function Mne(e,t,n,r,i=!0){const s=MVe(r,e,i);return t(n,s.set),h3(s.data())}function m3(e){if(e instanceof Qt||e==null)return e;switch(e){case Q.Binary:return new My;case Q.Bool:return new Fy;case Q.DateDay:return new qBe;case Q.DateMillisecond:case Q.Date:return new YBe;case Q.Dictionary:return new of(new um,new rf);case Q.Float16:return new pte;case Q.Float32:return new k$;case Q.Float64:case Q.Float:return new D$;case Q.Int8:return new x$;case Q.Int16:return new C$;case Q.Int32:case Q.Int:return new rf;case Q.Int64:return new A$;case Q.IntervalDayTime:return new JBe;case Q.Interval:case Q.IntervalYearMonth:return new ZBe;case Q.Null:return new Al;case Q.TimeMicrosecond:return new QBe;case Q.TimeMillisecond:case Q.Time:return new KBe;case Q.TimeNanosecond:return new XBe;case Q.TimeSecond:return new GBe;case Q.Uint8:return new O$;case Q.Uint16:return new P$;case Q.Uint32:return new R$;case Q.Uint64:return new N$;case Q.Utf8:return new um;default:jt(`Unsupported type code: ${Iu(e)}. Use a data type constructor instead?`)}}function BVe(e){return e.getUTCHours()===0&&e.getUTCMinutes()===0&&e.getUTCSeconds()===0&&e.getUTCMilliseconds()===0}function Fne(e,t){const n=nR();return e(t,n.add),n}function nR(){const e={count:0,nulls:0,bools:0,nums:0,ints:0,bigints:0,min:1/0,max:-1/0,digits:0,dates:0,utcdays:0,strings:0,strlen:0,arrays:0,minlen:1/0,maxlen:0,structs:0,add(t){if(++e.count,t==null){++e.nulls;return}const n=typeof t;if(n==="string")++e.strings;else if(n==="number")++e.nums,t<e.min&&(e.min=t),t>e.max&&(e.max=t),Number.isInteger(t)&&++e.ints;else if(n==="boolean")++e.bools;else if(n==="object")if(Cl(t))++e.dates,BVe(t)&&++e.utcdays;else if(rd(t)){++e.arrays,t.length<e.minlen&&(e.minlen=t.length),t.length>e.maxlen&&(e.maxlen=t.length);const r=e.array_prof||(e.array_prof=nR());t.forEach(r.add)}else{++e.structs;const r=e.struct_prof||(e.struct_prof={});for(const i in t)(r[i]||(r[i]=nR())).add(t[i])}else n==="bigint"&&(++e.bigints,t<e.min&&(e.min=t),t>e.max&&(e.max=t))},type(){return m3(jVe(e))}};return e}function jVe(e){const t=e.count-e.nulls;if(t===0)return Q.Null;if(e.ints===t){const n=Math.max(Math.abs(e.min)-1,e.max);return e.min<0?n>=2**31?Q.Float64:n<128?Q.Int8:n<32768?Q.Int16:Q.Int32:n>=2**32?Q.Float64:n<256?Q.Uint8:n<65536?Q.Uint16:Q.Uint32}else{if(e.nums===t)return Q.Float64;if(e.bigints===t){const n=-e.min>e.max?-e.min-1n:e.max;return e.min<0?n<2**63?Q.Int64:jt(`BigInt exceeds 64 bits: ${n}`):e.max<2**64?Q.Uint64:jt(`BigInt exceeds 64 bits: ${e.max}`)}else{if(e.bools===t)return Q.Bool;if(e.utcdays===t)return Q.DateDay;if(e.dates===t)return Q.DateMillisecond;if(e.arrays===t){const n=In.new("value",e.array_prof.type(),!0);return e.minlen===e.maxlen?new dm(e.minlen,n):new fm(n)}else if(e.structs===t){const n=e.struct_prof;return new Yi(Object.keys(n).map(r=>In.new(r,n[r].type(),!0)))}else{if(e.strings>0)return Q.Dictionary;jt("Type inference failure")}}}}function UVe(e,t,n,r,i,s=!0){if(i=m3(i),!i){const o=Fne(r,t);s=o.nulls>0,i=o.type()}return Mne(n,r,t,i,s)}function VVe(e,t,n,r,i,s=!0){i=m3(i);const o=e.column(t),a=!(e.isFiltered()||e.isOrdered()),u=zVe(o);if(u&&a&&bU(u.type,i))return u;const l=o.data;if(H_(l)){const c=HVe(l);if(a&&c&&bU(c,i))return FVe(l,c);i=i||c,s=!1}if(!i){const c=Fne(r,o);s=c.nulls>0,i=c.type()}return Mne(n,r,o,i,s)}function zVe(e){return e instanceof _n?e:e.vector instanceof _n?e.vector:null}function HVe(e){const n={Float32Array:k$,Float64Array:D$,Int8Array:x$,Int16Array:C$,Int32Array:rf,Uint8Array:O$,Uint16Array:P$,Uint32Array:R$,BigInt64Array:A$,BigUint64Array:N$}[e.constructor.name];return n?new n:null}function bU(e,t){return!e||!t?!0:e.compareTo(t)}function WVe(e,t,n){const r=Math.min(e.length,n+t);return(i,s)=>{for(let o=n;o<r;++o)s(e[o][i],o)}}function qVe(e,t,n){const r=n===0&&e.numRows()<=t&&!e.isFiltered()&&!e.isOrdered();return(i,s)=>{let o=-1;r&&rd(i.data)?i.data.forEach(s):e.scan(a=>s(i.get(a),++o),!0,t,n)}}const YVe=()=>jt("Apache Arrow not imported, see https://github.com/uwdata/arquero#usage");function GVe(){try{return Os}catch{YVe()}}function Bne(e,t={}){const{types:n={}}=t,{dataFrom:r,names:i,nrows:s,scan:o}=KVe(e,t),a={};i.forEach(l=>{const c=r(e,l,s,o,n[l]);c.length!==s&&jt("Column length mismatch"),a[l]=c});const u=GVe();return new u(a)}function KVe(e,t){const{columns:n,limit:r=1/0,offset:i=0}=t,s=er(n)?n(e):yn(n)?n:null;if(yn(e))return{dataFrom:UVe,names:s||Object.keys(e[0]),nrows:Math.min(r,e.length-i),scan:WVe(e,r,i)};if(QVe(e))return{dataFrom:VVe,names:s||e.columnNames(),nrows:Math.min(r,e.numRows()-i),scan:qVe(e,r,i)};jt("Unsupported input data type")}function QVe(e){return e&&er(e.reify)}function XVe(e,t={}){const{format:n,...r}=t,i=n||"stream";if(!["stream","file"].includes(i))throw Error("Unrecognised output format");return SVe(Bne(e,r),n)}function JVe(e){return e.getUTCHours()===0&&e.getUTCMinutes()===0&&e.getUTCSeconds()===0&&e.getUTCMilliseconds()===0}function ZVe(e,t={}){let n=0,r=0,i=0,s=0,o=0,a=0;return e(u=>{if(++n,u==null){++r;return}const l=typeof u;if(l==="object"&&Cl(u))++i,JVe(u)&&++s;else if(l==="number"&&(++o,u===u&&(u|0)!==u)){const c=u+"",f=c.indexOf(".");if(f>=0){const d=c.indexOf("e"),h=d>0?d:c.length;a=Math.max(a,h-f-1)}}}),{align:(r+o+i)/n>.5?"r":"l",format:{utc:i===s,digits:Math.min(a,t.maxdigits||6)}}}function KI(e,t){return er(t)?t(e):t||e.columnNames()}function jne(e,t,n){const r=n.format||{},i=n.align||{},s={},o={};return t.forEach(a=>{const u=ZVe(e7e(e,a),n);o[a]=i[a]||u.align,s[a]=r[a]||u.format}),{align:o,format:s}}function e7e(e,t){const n=e.column(t);return r=>e.scan(i=>r(n.get(i)))}function g3(e,t,n=100,r,i){const s=e.data(),o=t.length;e.scan(a=>{i.row(a);for(let u=0;u<o;++u){const l=t[u];i.cell(s[t[u]].get(a),l,u)}},!0,n,r)}function t7e(e,t={}){const n=KI(e,t.columns),r=t.format||{},i=t.delimiter||",",s=new RegExp(`["${i}
\r]`),o=l=>l==null?"":Cl(l)?MI(l,!0):s.test(l+="")?'"'+l.replace(/"/g,'""')+'"':l,a=n.map(o);let u="";return g3(e,n,t.limit||1/0,t.offset,{row(){u+=a.join(i)+`
`},cell(l,c,f){a[f]=o(r[c]?r[c](l):l)}}),u+a.join(i)}function Une(e,t={}){if(er(t))return t(e)+"";const n=typeof e;if(n==="object"){if(Cl(e))return t.utc?MI(e):vee(e);{const r=JSON.stringify(e,(s,o)=>H_(o)?Array.from(o):o),i=t.maxlen||30;return r.length>i?r.slice(0,28)+""+(r[0]==="["?"]":"}"):r}}else if(n==="number"){const r=t.digits||0;let i;return e!==0&&((i=Math.abs(e))>=1e18||i<Math.pow(10,-r))?e.toExponential(r):e.toFixed(r)}else return e+""}function QI(e,t,n={}){for(const r in e)n[r]=t(e[r],r);return n}function n7e(e,t={}){const n=KI(e,t.columns),{align:r,format:i}=jne(e,n,t),s=r7e(t),o=t.null,a=m=>m==="c"?"center":m==="r"?"right":"left",u=m=>m.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),l=(m,y)=>u(Une(m,y)),c=o?(m,y)=>m==null?o(m):l(m,y):l;let f=-1,d=-1;const h=(m,y,g)=>{const _=g?a(r[y]):"",b=s[m]&&s[m](y,d,f)||"",T=(_?`text-align: ${_};`+(b?" ":""):"")+b;return`<${m}${T?` style="${T}"`:""}>`};let p=h("table")+h("thead")+h("tr",f)+n.map(m=>`${h("th",m,1)}${m}</th>`).join("")+"</tr></thead>"+h("tbody");return g3(e,n,t.limit,t.offset,{row(m){f=m,p+=(++d?"</tr>":"")+h("tr")},cell(m,y){p+=h("td",y,1)+c(m,i[y])+"</td>"}}),p+"</tr></tbody></table>"}function r7e(e){return QI(e.style,t=>er(t)?t:()=>t)}function i7e(e,t=!0,n=!1){return e===void 0||e?t:n}const s7e=e=>Cl(e)?MI(e,!0):e;function o7e(e,t={}){const n=i7e(t.schema),r=t.format||{},i=KI(e,t.columns);let s="{";return n&&(s+='"schema":{"fields":'+JSON.stringify(i.map(o=>({name:o})))+'},"data":{'),i.forEach((o,a)=>{s+=(a?",":"")+JSON.stringify(o)+":[";const u=e.column(o),l=r[o]||s7e;let c=-1;e.scan(f=>{const d=u.get(f);s+=(++c?",":"")+JSON.stringify(l(d))},!0,t.limit,t.offset),s+="]"}),s+"}"+(n?"}":"")}function a7e(e,t={}){const n=KI(e,t.columns),{align:r,format:i}=jne(e,n,t),s=u=>u==="c"?":-:":u==="r"?"-:":":-",o=u=>u.replace(/\|/g,"\\|");let a="|"+n.map(o).join("|")+`|
|`+n.map(u=>s(r[u])).join("|")+"|";return g3(e,n,t.limit,t.offset,{row(){a+=`
|`},cell(u,l){a+=o(Une(u,i[l]))+"|"}}),a+`
`}function Vne(e,t){for(const[n,r]of FI(t))e.set(n,r);return e}function u7e(e){return e.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&")}function Pl(e,t,n=new Map){return t=cs(t)?e.columnName(t):t,Li(t)?n.set(t,t):yn(t)?t.forEach(r=>Pl(e,r,n)):er(t)?Pl(e,t(e),n):Xi(t)?Vne(n,t):jt(`Invalid column selection: ${Iu(t)}`),n}function XI(e,t){return e.toObject=t,e}function zne(e){return yn(e)?e.map(zne):e&&e.toObject?e.toObject():e}function gm(){return XI(e=>e.columnNames(),()=>({all:[]}))}function Hne(...e){return e=e.flat(),XI(t=>{const n=Pl(t,e);return t.columnNames(r=>!n.has(r))},()=>({not:zne(e)}))}function l7e(e,t){return XI(n=>{let r=cs(e)?e:n.columnIndex(e),i=cs(t)?t:n.columnIndex(t);if(i<r){const s=i;i=r,r=s}return n.columnNames().slice(r,i+1)},()=>({range:[e,t]}))}function c7e(e){return Li(e)&&(e=RegExp(u7e(e))),XI(t=>t.columnNames(n=>e.test(n)),()=>({matches:[e.source,e.flags]}))}function f7e(e){return H_(e.data)?e.data.constructor:Array}class Xu extends P9e{static from(t,n){return new Xu(k9e(t,n),n)}static new(t,n){if(t instanceof Xu)return t;const r={},i=[];for(const[s,o]of FI(t))r[s]=o,i.push(s);return new Xu(r,n||i)}constructor(t,n,r,i,s,o){QI(t,N9e,t),n=n||Object.keys(t);const a=n.length?t[n[0]].length:0;super(n,a,t,r,i,s,o)}create({data:t,names:n,filter:r,groups:i,order:s}){const o=r!==void 0?r:this.mask();return new Xu(t||this._data,n||(t?null:this._names),o,i!==void 0?i:uBe(this._group,r&&o),s!==void 0?s:this._order,this._params)}assign(...t){const n=this.numRows(),r=this.reify(),i=To(r).groupby(r.groups());return t.forEach(s=>{s=Xu.new(s),s.numRows()!==n&&jt("Assign row counts do not match"),s=s.reify(),s.columnNames(o=>i.add(o,s.column(o)))}),this.create(i.new())}columns(){return this._data}column(t){return this._data[t]}columnAt(t){return this._data[this._names[t]]}array(t,n=Array){const r=this.column(t),i=new n(this.numRows());let s=-1;return this.scan(o=>i[++s]=r.get(o),!0),i}get(t,n=0){const r=this.column(t);return this.isFiltered()||this.isOrdered()?r.get(this.indices()[n]):r.get(n)}getter(t){const n=this.column(t),r=this.isFiltered()||this.isOrdered()?this.indices():null;return r?i=>n.get(r[i]):n?i=>n.get(i):jt(`Unrecognized column: ${t}`)}object(t=0){return EU(this)(t)}objects(t={}){const{grouped:n,limit:r,offset:i}=t,s=Pl(this,t.columns||gm()),o=Hee(s),a=[];if(this.scan((u,l)=>a.push(o(u,l)),!0,r,i),n&&this.isGrouped()){const u=[];return this.scan(l=>u.push(l),!0,r,i),cBe(this,u,a,n)}return a}*[Symbol.iterator](){const t=EU(this),n=this.numRows();for(let r=0;r<n;++r)yield t(r)}reify(t){const n=t?t.length:this.numRows(),r=this._names;let i,s;if(!t&&!this.isOrdered())if(this.isFiltered())n===this.totalRows()&&(i=this.data());else return this;if(!i){const o=t?u=>t.forEach(u):u=>this.scan(u,!0),a=r.length;i={};for(let u=0;u<a;++u){const l=r[u],c=this.column(l),f=i[l]=new(f7e(c))(n);let d=-1;o(h=>f[++d]=c.get(h))}this.isGrouped()&&(s=lBe(this.groups(),o,!!t,n))}return this.create({data:i,names:r,groups:s,filter:null,order:null})}transform(...t){return t.flat().reduce((n,r)=>r(n),this)}toArrow(t){return Bne(this,t)}toArrowBuffer(t){return XVe(this,t)}toCSV(t){return t7e(this,t)}toHTML(t){return n7e(this,t)}toJSON(t){return o7e(this,t)}toMarkdown(t){return a7e(this,t)}}function EU(e){let t=e._builder;if(!t){const n=Hee(e.columnNames()),r=e.data();if(e.isOrdered()||e.isFiltered()){const i=e.indices();t=s=>n(i[s],r)}else t=i=>n(i,r);e._builder=t}return t}class d7e{constructor(t){this._outputs=t}size(){return this._outputs.length}outputs(){return this._outputs}init(){return{}}add(){}rem(){}write(){}}function cn(e,t,n,r){const i=n[e.type]||n.Default;if(i&&i(e,t,r)===!1)return;const s=h7e[e.type];s&&s(e,t,n)}const _1=(e,t,n)=>{cn(e.argument,t,n,e)},KA=(e,t,n)=>{cn(e.left,t,n,e),cn(e.right,t,n,e)},wU=(e,t,n)=>{cn(e.test,t,n,e),cn(e.consequent,t,n,e),e.alternate&&cn(e.alternate,t,n,e)},QA=(e,t,n)=>{Ha(e.params,t,n,e),cn(e.body,t,n,e)},TU=(e,t,n)=>{cn(e.callee,t,n,e),Ha(e.arguments,t,n,e)},Ha=(e,t,n,r)=>{e.forEach(i=>cn(i,t,n,r))},h7e={TemplateLiteral:(e,t,n)=>{Ha(e.expressions,t,n,e),Ha(e.quasis,t,n,e)},MemberExpression:(e,t,n)=>{cn(e.object,t,n,e),cn(e.property,t,n,e)},CallExpression:TU,NewExpression:TU,ArrayExpression:(e,t,n)=>{Ha(e.elements,t,n,e)},AssignmentExpression:KA,AwaitExpression:_1,BinaryExpression:KA,LogicalExpression:KA,UnaryExpression:_1,UpdateExpression:_1,ConditionalExpression:wU,ObjectExpression:(e,t,n)=>{Ha(e.properties,t,n,e)},Property:(e,t,n)=>{cn(e.key,t,n,e),cn(e.value,t,n,e)},ArrowFunctionExpression:QA,FunctionExpression:QA,FunctionDeclaration:QA,VariableDeclaration:(e,t,n)=>{Ha(e.declarations,t,n,e)},VariableDeclarator:(e,t,n)=>{cn(e.id,t,n,e),cn(e.init,t,n,e)},SpreadElement:(e,t,n)=>{cn(e.argument,t,n,e)},BlockStatement:(e,t,n)=>{Ha(e.body,t,n,e)},ExpressionStatement:(e,t,n)=>{cn(e.expression,t,n,e)},IfStatement:wU,ForStatement:(e,t,n)=>{cn(e.init,t,n,e),cn(e.test,t,n,e),cn(e.update,t,n,e),cn(e.body,t,n,e)},WhileStatement:(e,t,n)=>{cn(e.test,t,n,e),cn(e.body,t,n,e)},DoWhileStatement:(e,t,n)=>{cn(e.body,t,n,e),cn(e.test,t,n,e)},SwitchStatement:(e,t,n)=>{cn(e.discriminant,t,n,e),Ha(e.cases,t,n,e)},SwitchCase:(e,t,n)=>{e.test&&cn(e.test,t,n,e),Ha(e.consequent,t,n,e)},ReturnStatement:_1,Program:(e,t,n)=>{cn(e.body[0],t,n,e)}};function Wne(e){delete e.start,delete e.end,delete e.optional}function SU(e){Wne(e),delete e.object,delete e.property,delete e.computed,e.table||delete e.table}function p7e(e){return cn(e,null,{Column:SU,Constant:SU,Default:Wne}),e}function Kr(e,t){return t&&t.type===e}function m7e(e){return Kr(hBe,e)||Kr(dBe,e)}function g7e(e){return er(e)?e:()=>e}const y7e="Escaped functions are not valid as rollup or pivot values.";function _7e(e,t,n){e.aggronly&&jt(y7e);const r="(row,data)=>fn("+zee(e.table.columnNames())+",$)";return{escape:v$.escape(r,g7e(t.expr),n)}}var v7e=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],qne=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],b7e="-----------------------------------------------------------------------------------------------------------------------------------------------------",Yne="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",XA={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},JA="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",E7e={5:JA,"5module":JA+" export import",6:JA+" const class extends export import super"},w7e=/^in(stanceof)?$/,T7e=new RegExp("["+Yne+"]"),S7e=new RegExp("["+Yne+b7e+"]");function rR(e,t){for(var n=65536,r=0;r<t.length;r+=2){if(n+=t[r],n>e)return!1;if(n+=t[r+1],n>=e)return!0}return!1}function Rl(e,t){return e<65?e===36:e<91?!0:e<97?e===95:e<123?!0:e<=65535?e>=170&&T7e.test(String.fromCharCode(e)):t===!1?!1:rR(e,qne)}function ym(e,t){return e<48?e===36:e<58?!0:e<65?!1:e<91?!0:e<97?e===95:e<123?!0:e<=65535?e>=170&&S7e.test(String.fromCharCode(e)):t===!1?!1:rR(e,qne)||rR(e,v7e)}var fn=function(t,n){n===void 0&&(n={}),this.label=t,this.keyword=n.keyword,this.beforeExpr=!!n.beforeExpr,this.startsExpr=!!n.startsExpr,this.isLoop=!!n.isLoop,this.isAssign=!!n.isAssign,this.prefix=!!n.prefix,this.postfix=!!n.postfix,this.binop=n.binop||null,this.updateContext=null};function Io(e,t){return new fn(e,{beforeExpr:!0,binop:t})}var xo={beforeExpr:!0},vs={startsExpr:!0},y3={};function tn(e,t){return t===void 0&&(t={}),t.keyword=e,y3[e]=new fn(e,t)}var N={num:new fn("num",vs),regexp:new fn("regexp",vs),string:new fn("string",vs),name:new fn("name",vs),privateId:new fn("privateId",vs),eof:new fn("eof"),bracketL:new fn("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new fn("]"),braceL:new fn("{",{beforeExpr:!0,startsExpr:!0}),braceR:new fn("}"),parenL:new fn("(",{beforeExpr:!0,startsExpr:!0}),parenR:new fn(")"),comma:new fn(",",xo),semi:new fn(";",xo),colon:new fn(":",xo),dot:new fn("."),question:new fn("?",xo),questionDot:new fn("?."),arrow:new fn("=>",xo),template:new fn("template"),invalidTemplate:new fn("invalidTemplate"),ellipsis:new fn("...",xo),backQuote:new fn("`",vs),dollarBraceL:new fn("${",{beforeExpr:!0,startsExpr:!0}),eq:new fn("=",{beforeExpr:!0,isAssign:!0}),assign:new fn("_=",{beforeExpr:!0,isAssign:!0}),incDec:new fn("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new fn("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:Io("||",1),logicalAND:Io("&&",2),bitwiseOR:Io("|",3),bitwiseXOR:Io("^",4),bitwiseAND:Io("&",5),equality:Io("==/!=/===/!==",6),relational:Io("</>/<=/>=",7),bitShift:Io("<</>>/>>>",8),plusMin:new fn("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:Io("%",10),star:Io("*",10),slash:Io("/",10),starstar:new fn("**",{beforeExpr:!0}),coalesce:Io("??",1),_break:tn("break"),_case:tn("case",xo),_catch:tn("catch"),_continue:tn("continue"),_debugger:tn("debugger"),_default:tn("default",xo),_do:tn("do",{isLoop:!0,beforeExpr:!0}),_else:tn("else",xo),_finally:tn("finally"),_for:tn("for",{isLoop:!0}),_function:tn("function",vs),_if:tn("if"),_return:tn("return",xo),_switch:tn("switch"),_throw:tn("throw",xo),_try:tn("try"),_var:tn("var"),_const:tn("const"),_while:tn("while",{isLoop:!0}),_with:tn("with"),_new:tn("new",{beforeExpr:!0,startsExpr:!0}),_this:tn("this",vs),_super:tn("super",vs),_class:tn("class",vs),_extends:tn("extends",xo),_export:tn("export"),_import:tn("import",vs),_null:tn("null",vs),_true:tn("true",vs),_false:tn("false",vs),_in:tn("in",{beforeExpr:!0,binop:7}),_instanceof:tn("instanceof",{beforeExpr:!0,binop:7}),_typeof:tn("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:tn("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:tn("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},ea=/\r\n?|\n|\u2028|\u2029/,I7e=new RegExp(ea.source,"g");function Qm(e){return e===10||e===13||e===8232||e===8233}function Gne(e,t,n){n===void 0&&(n=e.length);for(var r=t;r<n;r++){var i=e.charCodeAt(r);if(Qm(i))return r<n-1&&i===13&&e.charCodeAt(r+1)===10?r+2:r+1}return-1}var Kne=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,$o=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,Qne=Object.prototype,x7e=Qne.hasOwnProperty,C7e=Qne.toString,Q_=Object.hasOwn||function(e,t){return x7e.call(e,t)},IU=Array.isArray||function(e){return C7e.call(e)==="[object Array]"},xU=Object.create(null);function Ic(e){return xU[e]||(xU[e]=new RegExp("^(?:"+e.replace(/ /g,"|")+")$"))}function cf(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10)+55296,(e&1023)+56320))}var A7e=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,Uy=function(t,n){this.line=t,this.column=n};Uy.prototype.offset=function(t){return new Uy(this.line,this.column+t)};var JI=function(t,n,r){this.start=n,this.end=r,t.sourceFile!==null&&(this.source=t.sourceFile)};function Xne(e,t){for(var n=1,r=0;;){var i=Gne(e,r,t);if(i<0)return new Uy(n,t-r);++n,r=i}}var iR={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},CU=!1;function O7e(e){var t={};for(var n in iR)t[n]=e&&Q_(e,n)?e[n]:iR[n];if(t.ecmaVersion==="latest"?t.ecmaVersion=1e8:t.ecmaVersion==null?(!CU&&typeof console=="object"&&console.warn&&(CU=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),t.ecmaVersion=11):t.ecmaVersion>=2015&&(t.ecmaVersion-=2009),t.allowReserved==null&&(t.allowReserved=t.ecmaVersion<5),(!e||e.allowHashBang==null)&&(t.allowHashBang=t.ecmaVersion>=14),IU(t.onToken)){var r=t.onToken;t.onToken=function(i){return r.push(i)}}return IU(t.onComment)&&(t.onComment=P7e(t,t.onComment)),t}function P7e(e,t){return function(n,r,i,s,o,a){var u={type:n?"Block":"Line",value:r,start:i,end:s};e.locations&&(u.loc=new JI(this,o,a)),e.ranges&&(u.range=[i,s]),t.push(u)}}var Vy=1,Xm=2,_3=4,Jne=8,Zne=16,ere=32,v3=64,tre=128,X_=256,b3=Vy|Xm|X_;function E3(e,t){return Xm|(e?_3:0)|(t?Jne:0)}var RT=0,w3=1,Gl=2,nre=3,rre=4,ire=5,ti=function(t,n,r){this.options=t=O7e(t),this.sourceFile=t.sourceFile,this.keywords=Ic(E7e[t.ecmaVersion>=6?6:t.sourceType==="module"?"5module":5]);var i="";t.allowReserved!==!0&&(i=XA[t.ecmaVersion>=6?6:t.ecmaVersion===5?5:3],t.sourceType==="module"&&(i+=" await")),this.reservedWords=Ic(i);var s=(i?i+" ":"")+XA.strict;this.reservedWordsStrict=Ic(s),this.reservedWordsStrictBind=Ic(s+" "+XA.strictBind),this.input=String(n),this.containsEsc=!1,r?(this.pos=r,this.lineStart=this.input.lastIndexOf(`
`,r-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(ea).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=N.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=t.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&t.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(Vy),this.regexpState=null,this.privateNameStack=[]},Fu={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};ti.prototype.parse=function(){var t=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(t)};Fu.inFunction.get=function(){return(this.currentVarScope().flags&Xm)>0};Fu.inGenerator.get=function(){return(this.currentVarScope().flags&Jne)>0&&!this.currentVarScope().inClassFieldInit};Fu.inAsync.get=function(){return(this.currentVarScope().flags&_3)>0&&!this.currentVarScope().inClassFieldInit};Fu.canAwait.get=function(){for(var e=this.scopeStack.length-1;e>=0;e--){var t=this.scopeStack[e];if(t.inClassFieldInit||t.flags&X_)return!1;if(t.flags&Xm)return(t.flags&_3)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};Fu.allowSuper.get=function(){var e=this.currentThisScope(),t=e.flags,n=e.inClassFieldInit;return(t&v3)>0||n||this.options.allowSuperOutsideMethod};Fu.allowDirectSuper.get=function(){return(this.currentThisScope().flags&tre)>0};Fu.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};Fu.allowNewDotTarget.get=function(){var e=this.currentThisScope(),t=e.flags,n=e.inClassFieldInit;return(t&(Xm|X_))>0||n};Fu.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&X_)>0};ti.extend=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];for(var r=this,i=0;i<t.length;i++)r=t[i](r);return r};ti.parse=function(t,n){return new this(n,t).parse()};ti.parseExpressionAt=function(t,n,r){var i=new this(r,t,n);return i.nextToken(),i.parseExpression()};ti.tokenizer=function(t,n){return new this(n,t)};Object.defineProperties(ti.prototype,Fu);var ps=ti.prototype,R7e=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;ps.strictDirective=function(e){if(this.options.ecmaVersion<5)return!1;for(;;){$o.lastIndex=e,e+=$o.exec(this.input)[0].length;var t=R7e.exec(this.input.slice(e));if(!t)return!1;if((t[1]||t[2])==="use strict"){$o.lastIndex=e+t[0].length;var n=$o.exec(this.input),r=n.index+n[0].length,i=this.input.charAt(r);return i===";"||i==="}"||ea.test(n[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(i)||i==="!"&&this.input.charAt(r+1)==="=")}e+=t[0].length,$o.lastIndex=e,e+=$o.exec(this.input)[0].length,this.input[e]===";"&&e++}};ps.eat=function(e){return this.type===e?(this.next(),!0):!1};ps.isContextual=function(e){return this.type===N.name&&this.value===e&&!this.containsEsc};ps.eatContextual=function(e){return this.isContextual(e)?(this.next(),!0):!1};ps.expectContextual=function(e){this.eatContextual(e)||this.unexpected()};ps.canInsertSemicolon=function(){return this.type===N.eof||this.type===N.braceR||ea.test(this.input.slice(this.lastTokEnd,this.start))};ps.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};ps.semicolon=function(){!this.eat(N.semi)&&!this.insertSemicolon()&&this.unexpected()};ps.afterTrailingComma=function(e,t){if(this.type===e)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),t||this.next(),!0};ps.expect=function(e){this.eat(e)||this.unexpected()};ps.unexpected=function(e){this.raise(e??this.start,"Unexpected token")};var ZI=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};ps.checkPatternErrors=function(e,t){if(e){e.trailingComma>-1&&this.raiseRecoverable(e.trailingComma,"Comma is not permitted after the rest element");var n=t?e.parenthesizedAssign:e.parenthesizedBind;n>-1&&this.raiseRecoverable(n,t?"Assigning to rvalue":"Parenthesized pattern")}};ps.checkExpressionErrors=function(e,t){if(!e)return!1;var n=e.shorthandAssign,r=e.doubleProto;if(!t)return n>=0||r>=0;n>=0&&this.raise(n,"Shorthand property assignments are valid only in destructuring patterns"),r>=0&&this.raiseRecoverable(r,"Redefinition of __proto__ property")};ps.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};ps.isSimpleAssignTarget=function(e){return e.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(e.expression):e.type==="Identifier"||e.type==="MemberExpression"};var nt=ti.prototype;nt.parseTopLevel=function(e){var t=Object.create(null);for(e.body||(e.body=[]);this.type!==N.eof;){var n=this.parseStatement(null,!0,t);e.body.push(n)}if(this.inModule)for(var r=0,i=Object.keys(this.undefinedExports);r<i.length;r+=1){var s=i[r];this.raiseRecoverable(this.undefinedExports[s].start,"Export '"+s+"' is not defined")}return this.adaptDirectivePrologue(e.body),this.next(),e.sourceType=this.options.sourceType,this.finishNode(e,"Program")};var T3={kind:"loop"},N7e={kind:"switch"};nt.isLet=function(e){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;$o.lastIndex=this.pos;var t=$o.exec(this.input),n=this.pos+t[0].length,r=this.input.charCodeAt(n);if(r===91||r===92)return!0;if(e)return!1;if(r===123||r>55295&&r<56320)return!0;if(Rl(r,!0)){for(var i=n+1;ym(r=this.input.charCodeAt(i),!0);)++i;if(r===92||r>55295&&r<56320)return!0;var s=this.input.slice(n,i);if(!w7e.test(s))return!0}return!1};nt.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;$o.lastIndex=this.pos;var e=$o.exec(this.input),t=this.pos+e[0].length,n;return!ea.test(this.input.slice(this.pos,t))&&this.input.slice(t,t+8)==="function"&&(t+8===this.input.length||!(ym(n=this.input.charCodeAt(t+8))||n>55295&&n<56320))};nt.parseStatement=function(e,t,n){var r=this.type,i=this.startNode(),s;switch(this.isLet(e)&&(r=N._var,s="let"),r){case N._break:case N._continue:return this.parseBreakContinueStatement(i,r.keyword);case N._debugger:return this.parseDebuggerStatement(i);case N._do:return this.parseDoStatement(i);case N._for:return this.parseForStatement(i);case N._function:return e&&(this.strict||e!=="if"&&e!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(i,!1,!e);case N._class:return e&&this.unexpected(),this.parseClass(i,!0);case N._if:return this.parseIfStatement(i);case N._return:return this.parseReturnStatement(i);case N._switch:return this.parseSwitchStatement(i);case N._throw:return this.parseThrowStatement(i);case N._try:return this.parseTryStatement(i);case N._const:case N._var:return s=s||this.value,e&&s!=="var"&&this.unexpected(),this.parseVarStatement(i,s);case N._while:return this.parseWhileStatement(i);case N._with:return this.parseWithStatement(i);case N.braceL:return this.parseBlock(!0,i);case N.semi:return this.parseEmptyStatement(i);case N._export:case N._import:if(this.options.ecmaVersion>10&&r===N._import){$o.lastIndex=this.pos;var o=$o.exec(this.input),a=this.pos+o[0].length,u=this.input.charCodeAt(a);if(u===40||u===46)return this.parseExpressionStatement(i,this.parseExpression())}return this.options.allowImportExportEverywhere||(t||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),r===N._import?this.parseImport(i):this.parseExport(i,n);default:if(this.isAsyncFunction())return e&&this.unexpected(),this.next(),this.parseFunctionStatement(i,!0,!e);var l=this.value,c=this.parseExpression();return r===N.name&&c.type==="Identifier"&&this.eat(N.colon)?this.parseLabeledStatement(i,l,c,e):this.parseExpressionStatement(i,c)}};nt.parseBreakContinueStatement=function(e,t){var n=t==="break";this.next(),this.eat(N.semi)||this.insertSemicolon()?e.label=null:this.type!==N.name?this.unexpected():(e.label=this.parseIdent(),this.semicolon());for(var r=0;r<this.labels.length;++r){var i=this.labels[r];if((e.label==null||i.name===e.label.name)&&(i.kind!=null&&(n||i.kind==="loop")||e.label&&n))break}return r===this.labels.length&&this.raise(e.start,"Unsyntactic "+t),this.finishNode(e,n?"BreakStatement":"ContinueStatement")};nt.parseDebuggerStatement=function(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")};nt.parseDoStatement=function(e){return this.next(),this.labels.push(T3),e.body=this.parseStatement("do"),this.labels.pop(),this.expect(N._while),e.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(N.semi):this.semicolon(),this.finishNode(e,"DoWhileStatement")};nt.parseForStatement=function(e){this.next();var t=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(T3),this.enterScope(0),this.expect(N.parenL),this.type===N.semi)return t>-1&&this.unexpected(t),this.parseFor(e,null);var n=this.isLet();if(this.type===N._var||this.type===N._const||n){var r=this.startNode(),i=n?"let":this.value;return this.next(),this.parseVar(r,!0,i),this.finishNode(r,"VariableDeclaration"),(this.type===N._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&r.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===N._in?t>-1&&this.unexpected(t):e.await=t>-1),this.parseForIn(e,r)):(t>-1&&this.unexpected(t),this.parseFor(e,r))}var s=this.isContextual("let"),o=!1,a=new ZI,u=this.parseExpression(t>-1?"await":!0,a);return this.type===N._in||(o=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===N._in?t>-1&&this.unexpected(t):e.await=t>-1),s&&o&&this.raise(u.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(u,!1,a),this.checkLValPattern(u),this.parseForIn(e,u)):(this.checkExpressionErrors(a,!0),t>-1&&this.unexpected(t),this.parseFor(e,u))};nt.parseFunctionStatement=function(e,t,n){return this.next(),this.parseFunction(e,qg|(n?0:sR),!1,t)};nt.parseIfStatement=function(e){return this.next(),e.test=this.parseParenExpression(),e.consequent=this.parseStatement("if"),e.alternate=this.eat(N._else)?this.parseStatement("if"):null,this.finishNode(e,"IfStatement")};nt.parseReturnStatement=function(e){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(N.semi)||this.insertSemicolon()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")};nt.parseSwitchStatement=function(e){this.next(),e.discriminant=this.parseParenExpression(),e.cases=[],this.expect(N.braceL),this.labels.push(N7e),this.enterScope(0);for(var t,n=!1;this.type!==N.braceR;)if(this.type===N._case||this.type===N._default){var r=this.type===N._case;t&&this.finishNode(t,"SwitchCase"),e.cases.push(t=this.startNode()),t.consequent=[],this.next(),r?t.test=this.parseExpression():(n&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),n=!0,t.test=null),this.expect(N.colon)}else t||this.unexpected(),t.consequent.push(this.parseStatement(null));return this.exitScope(),t&&this.finishNode(t,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(e,"SwitchStatement")};nt.parseThrowStatement=function(e){return this.next(),ea.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")};var k7e=[];nt.parseCatchClauseParam=function(){var e=this.parseBindingAtom(),t=e.type==="Identifier";return this.enterScope(t?ere:0),this.checkLValPattern(e,t?rre:Gl),this.expect(N.parenR),e};nt.parseTryStatement=function(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.type===N._catch){var t=this.startNode();this.next(),this.eat(N.parenL)?t.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),t.param=null,this.enterScope(0)),t.body=this.parseBlock(!1),this.exitScope(),e.handler=this.finishNode(t,"CatchClause")}return e.finalizer=this.eat(N._finally)?this.parseBlock():null,!e.handler&&!e.finalizer&&this.raise(e.start,"Missing catch or finally clause"),this.finishNode(e,"TryStatement")};nt.parseVarStatement=function(e,t,n){return this.next(),this.parseVar(e,!1,t,n),this.semicolon(),this.finishNode(e,"VariableDeclaration")};nt.parseWhileStatement=function(e){return this.next(),e.test=this.parseParenExpression(),this.labels.push(T3),e.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(e,"WhileStatement")};nt.parseWithStatement=function(e){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),e.object=this.parseParenExpression(),e.body=this.parseStatement("with"),this.finishNode(e,"WithStatement")};nt.parseEmptyStatement=function(e){return this.next(),this.finishNode(e,"EmptyStatement")};nt.parseLabeledStatement=function(e,t,n,r){for(var i=0,s=this.labels;i<s.length;i+=1){var o=s[i];o.name===t&&this.raise(n.start,"Label '"+t+"' is already declared")}for(var a=this.type.isLoop?"loop":this.type===N._switch?"switch":null,u=this.labels.length-1;u>=0;u--){var l=this.labels[u];if(l.statementStart===e.start)l.statementStart=this.start,l.kind=a;else break}return this.labels.push({name:t,kind:a,statementStart:this.start}),e.body=this.parseStatement(r?r.indexOf("label")===-1?r+"label":r:"label"),this.labels.pop(),e.label=n,this.finishNode(e,"LabeledStatement")};nt.parseExpressionStatement=function(e,t){return e.expression=t,this.semicolon(),this.finishNode(e,"ExpressionStatement")};nt.parseBlock=function(e,t,n){for(e===void 0&&(e=!0),t===void 0&&(t=this.startNode()),t.body=[],this.expect(N.braceL),e&&this.enterScope(0);this.type!==N.braceR;){var r=this.parseStatement(null);t.body.push(r)}return n&&(this.strict=!1),this.next(),e&&this.exitScope(),this.finishNode(t,"BlockStatement")};nt.parseFor=function(e,t){return e.init=t,this.expect(N.semi),e.test=this.type===N.semi?null:this.parseExpression(),this.expect(N.semi),e.update=this.type===N.parenR?null:this.parseExpression(),this.expect(N.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,"ForStatement")};nt.parseForIn=function(e,t){var n=this.type===N._in;return this.next(),t.type==="VariableDeclaration"&&t.declarations[0].init!=null&&(!n||this.options.ecmaVersion<8||this.strict||t.kind!=="var"||t.declarations[0].id.type!=="Identifier")&&this.raise(t.start,(n?"for-in":"for-of")+" loop variable declaration may not have an initializer"),e.left=t,e.right=n?this.parseExpression():this.parseMaybeAssign(),this.expect(N.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,n?"ForInStatement":"ForOfStatement")};nt.parseVar=function(e,t,n,r){for(e.declarations=[],e.kind=n;;){var i=this.startNode();if(this.parseVarId(i,n),this.eat(N.eq)?i.init=this.parseMaybeAssign(t):!r&&n==="const"&&!(this.type===N._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!r&&i.id.type!=="Identifier"&&!(t&&(this.type===N._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):i.init=null,e.declarations.push(this.finishNode(i,"VariableDeclarator")),!this.eat(N.comma))break}return e};nt.parseVarId=function(e,t){e.id=this.parseBindingAtom(),this.checkLValPattern(e.id,t==="var"?w3:Gl,!1)};var qg=1,sR=2,sre=4;nt.parseFunction=function(e,t,n,r,i){this.initFunction(e),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!r)&&(this.type===N.star&&t&sR&&this.unexpected(),e.generator=this.eat(N.star)),this.options.ecmaVersion>=8&&(e.async=!!r),t&qg&&(e.id=t&sre&&this.type!==N.name?null:this.parseIdent(),e.id&&!(t&sR)&&this.checkLValSimple(e.id,this.strict||e.generator||e.async?this.treatFunctionsAsVar?w3:Gl:nre));var s=this.yieldPos,o=this.awaitPos,a=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(E3(e.async,e.generator)),t&qg||(e.id=this.type===N.name?this.parseIdent():null),this.parseFunctionParams(e),this.parseFunctionBody(e,n,!1,i),this.yieldPos=s,this.awaitPos=o,this.awaitIdentPos=a,this.finishNode(e,t&qg?"FunctionDeclaration":"FunctionExpression")};nt.parseFunctionParams=function(e){this.expect(N.parenL),e.params=this.parseBindingList(N.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};nt.parseClass=function(e,t){this.next();var n=this.strict;this.strict=!0,this.parseClassId(e,t),this.parseClassSuper(e);var r=this.enterClassBody(),i=this.startNode(),s=!1;for(i.body=[],this.expect(N.braceL);this.type!==N.braceR;){var o=this.parseClassElement(e.superClass!==null);o&&(i.body.push(o),o.type==="MethodDefinition"&&o.kind==="constructor"?(s&&this.raiseRecoverable(o.start,"Duplicate constructor in the same class"),s=!0):o.key&&o.key.type==="PrivateIdentifier"&&D7e(r,o)&&this.raiseRecoverable(o.key.start,"Identifier '#"+o.key.name+"' has already been declared"))}return this.strict=n,this.next(),e.body=this.finishNode(i,"ClassBody"),this.exitClassBody(),this.finishNode(e,t?"ClassDeclaration":"ClassExpression")};nt.parseClassElement=function(e){if(this.eat(N.semi))return null;var t=this.options.ecmaVersion,n=this.startNode(),r="",i=!1,s=!1,o="method",a=!1;if(this.eatContextual("static")){if(t>=13&&this.eat(N.braceL))return this.parseClassStaticBlock(n),n;this.isClassElementNameStart()||this.type===N.star?a=!0:r="static"}if(n.static=a,!r&&t>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===N.star)&&!this.canInsertSemicolon()?s=!0:r="async"),!r&&(t>=9||!s)&&this.eat(N.star)&&(i=!0),!r&&!s&&!i){var u=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?o=u:r=u)}if(r?(n.computed=!1,n.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),n.key.name=r,this.finishNode(n.key,"Identifier")):this.parseClassElementName(n),t<13||this.type===N.parenL||o!=="method"||i||s){var l=!n.static&&NT(n,"constructor"),c=l&&e;l&&o!=="method"&&this.raise(n.key.start,"Constructor can't have get/set modifier"),n.kind=l?"constructor":o,this.parseClassMethod(n,i,s,c)}else this.parseClassField(n);return n};nt.isClassElementNameStart=function(){return this.type===N.name||this.type===N.privateId||this.type===N.num||this.type===N.string||this.type===N.bracketL||this.type.keyword};nt.parseClassElementName=function(e){this.type===N.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),e.computed=!1,e.key=this.parsePrivateIdent()):this.parsePropertyName(e)};nt.parseClassMethod=function(e,t,n,r){var i=e.key;e.kind==="constructor"?(t&&this.raise(i.start,"Constructor can't be a generator"),n&&this.raise(i.start,"Constructor can't be an async method")):e.static&&NT(e,"prototype")&&this.raise(i.start,"Classes may not have a static property named prototype");var s=e.value=this.parseMethod(t,n,r);return e.kind==="get"&&s.params.length!==0&&this.raiseRecoverable(s.start,"getter should have no params"),e.kind==="set"&&s.params.length!==1&&this.raiseRecoverable(s.start,"setter should have exactly one param"),e.kind==="set"&&s.params[0].type==="RestElement"&&this.raiseRecoverable(s.params[0].start,"Setter cannot use rest params"),this.finishNode(e,"MethodDefinition")};nt.parseClassField=function(e){if(NT(e,"constructor")?this.raise(e.key.start,"Classes can't have a field named 'constructor'"):e.static&&NT(e,"prototype")&&this.raise(e.key.start,"Classes can't have a static field named 'prototype'"),this.eat(N.eq)){var t=this.currentThisScope(),n=t.inClassFieldInit;t.inClassFieldInit=!0,e.value=this.parseMaybeAssign(),t.inClassFieldInit=n}else e.value=null;return this.semicolon(),this.finishNode(e,"PropertyDefinition")};nt.parseClassStaticBlock=function(e){e.body=[];var t=this.labels;for(this.labels=[],this.enterScope(X_|v3);this.type!==N.braceR;){var n=this.parseStatement(null);e.body.push(n)}return this.next(),this.exitScope(),this.labels=t,this.finishNode(e,"StaticBlock")};nt.parseClassId=function(e,t){this.type===N.name?(e.id=this.parseIdent(),t&&this.checkLValSimple(e.id,Gl,!1)):(t===!0&&this.unexpected(),e.id=null)};nt.parseClassSuper=function(e){e.superClass=this.eat(N._extends)?this.parseExprSubscripts(null,!1):null};nt.enterClassBody=function(){var e={declared:Object.create(null),used:[]};return this.privateNameStack.push(e),e.declared};nt.exitClassBody=function(){var e=this.privateNameStack.pop(),t=e.declared,n=e.used;if(this.options.checkPrivateFields)for(var r=this.privateNameStack.length,i=r===0?null:this.privateNameStack[r-1],s=0;s<n.length;++s){var o=n[s];Q_(t,o.name)||(i?i.used.push(o):this.raiseRecoverable(o.start,"Private field '#"+o.name+"' must be declared in an enclosing class"))}};function D7e(e,t){var n=t.key.name,r=e[n],i="true";return t.type==="MethodDefinition"&&(t.kind==="get"||t.kind==="set")&&(i=(t.static?"s":"i")+t.kind),r==="iget"&&i==="iset"||r==="iset"&&i==="iget"||r==="sget"&&i==="sset"||r==="sset"&&i==="sget"?(e[n]="true",!1):r?!0:(e[n]=i,!1)}function NT(e,t){var n=e.computed,r=e.key;return!n&&(r.type==="Identifier"&&r.name===t||r.type==="Literal"&&r.value===t)}nt.parseExportAllDeclaration=function(e,t){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(e.exported=this.parseModuleExportName(),this.checkExport(t,e.exported,this.lastTokStart)):e.exported=null),this.expectContextual("from"),this.type!==N.string&&this.unexpected(),e.source=this.parseExprAtom(),this.semicolon(),this.finishNode(e,"ExportAllDeclaration")};nt.parseExport=function(e,t){if(this.next(),this.eat(N.star))return this.parseExportAllDeclaration(e,t);if(this.eat(N._default))return this.checkExport(t,"default",this.lastTokStart),e.declaration=this.parseExportDefaultDeclaration(),this.finishNode(e,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())e.declaration=this.parseExportDeclaration(e),e.declaration.type==="VariableDeclaration"?this.checkVariableExport(t,e.declaration.declarations):this.checkExport(t,e.declaration.id,e.declaration.id.start),e.specifiers=[],e.source=null;else{if(e.declaration=null,e.specifiers=this.parseExportSpecifiers(t),this.eatContextual("from"))this.type!==N.string&&this.unexpected(),e.source=this.parseExprAtom();else{for(var n=0,r=e.specifiers;n<r.length;n+=1){var i=r[n];this.checkUnreserved(i.local),this.checkLocalExport(i.local),i.local.type==="Literal"&&this.raise(i.local.start,"A string literal cannot be used as an exported binding without `from`.")}e.source=null}this.semicolon()}return this.finishNode(e,"ExportNamedDeclaration")};nt.parseExportDeclaration=function(e){return this.parseStatement(null)};nt.parseExportDefaultDeclaration=function(){var e;if(this.type===N._function||(e=this.isAsyncFunction())){var t=this.startNode();return this.next(),e&&this.next(),this.parseFunction(t,qg|sre,!1,e)}else if(this.type===N._class){var n=this.startNode();return this.parseClass(n,"nullableID")}else{var r=this.parseMaybeAssign();return this.semicolon(),r}};nt.checkExport=function(e,t,n){e&&(typeof t!="string"&&(t=t.type==="Identifier"?t.name:t.value),Q_(e,t)&&this.raiseRecoverable(n,"Duplicate export '"+t+"'"),e[t]=!0)};nt.checkPatternExport=function(e,t){var n=t.type;if(n==="Identifier")this.checkExport(e,t,t.start);else if(n==="ObjectPattern")for(var r=0,i=t.properties;r<i.length;r+=1){var s=i[r];this.checkPatternExport(e,s)}else if(n==="ArrayPattern")for(var o=0,a=t.elements;o<a.length;o+=1){var u=a[o];u&&this.checkPatternExport(e,u)}else n==="Property"?this.checkPatternExport(e,t.value):n==="AssignmentPattern"?this.checkPatternExport(e,t.left):n==="RestElement"&&this.checkPatternExport(e,t.argument)};nt.checkVariableExport=function(e,t){if(e)for(var n=0,r=t;n<r.length;n+=1){var i=r[n];this.checkPatternExport(e,i.id)}};nt.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};nt.parseExportSpecifier=function(e){var t=this.startNode();return t.local=this.parseModuleExportName(),t.exported=this.eatContextual("as")?this.parseModuleExportName():t.local,this.checkExport(e,t.exported,t.exported.start),this.finishNode(t,"ExportSpecifier")};nt.parseExportSpecifiers=function(e){var t=[],n=!0;for(this.expect(N.braceL);!this.eat(N.braceR);){if(n)n=!1;else if(this.expect(N.comma),this.afterTrailingComma(N.braceR))break;t.push(this.parseExportSpecifier(e))}return t};nt.parseImport=function(e){return this.next(),this.type===N.string?(e.specifiers=k7e,e.source=this.parseExprAtom()):(e.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),e.source=this.type===N.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(e,"ImportDeclaration")};nt.parseImportSpecifier=function(){var e=this.startNode();return e.imported=this.parseModuleExportName(),this.eatContextual("as")?e.local=this.parseIdent():(this.checkUnreserved(e.imported),e.local=e.imported),this.checkLValSimple(e.local,Gl),this.finishNode(e,"ImportSpecifier")};nt.parseImportDefaultSpecifier=function(){var e=this.startNode();return e.local=this.parseIdent(),this.checkLValSimple(e.local,Gl),this.finishNode(e,"ImportDefaultSpecifier")};nt.parseImportNamespaceSpecifier=function(){var e=this.startNode();return this.next(),this.expectContextual("as"),e.local=this.parseIdent(),this.checkLValSimple(e.local,Gl),this.finishNode(e,"ImportNamespaceSpecifier")};nt.parseImportSpecifiers=function(){var e=[],t=!0;if(this.type===N.name&&(e.push(this.parseImportDefaultSpecifier()),!this.eat(N.comma)))return e;if(this.type===N.star)return e.push(this.parseImportNamespaceSpecifier()),e;for(this.expect(N.braceL);!this.eat(N.braceR);){if(t)t=!1;else if(this.expect(N.comma),this.afterTrailingComma(N.braceR))break;e.push(this.parseImportSpecifier())}return e};nt.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===N.string){var e=this.parseLiteral(this.value);return A7e.test(e.value)&&this.raise(e.start,"An export name cannot include a lone surrogate."),e}return this.parseIdent(!0)};nt.adaptDirectivePrologue=function(e){for(var t=0;t<e.length&&this.isDirectiveCandidate(e[t]);++t)e[t].directive=e[t].expression.raw.slice(1,-1)};nt.isDirectiveCandidate=function(e){return this.options.ecmaVersion>=5&&e.type==="ExpressionStatement"&&e.expression.type==="Literal"&&typeof e.expression.value=="string"&&(this.input[e.start]==='"'||this.input[e.start]==="'")};var ta=ti.prototype;ta.toAssignable=function(e,t,n){if(this.options.ecmaVersion>=6&&e)switch(e.type){case"Identifier":this.inAsync&&e.name==="await"&&this.raise(e.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":e.type="ObjectPattern",n&&this.checkPatternErrors(n,!0);for(var r=0,i=e.properties;r<i.length;r+=1){var s=i[r];this.toAssignable(s,t),s.type==="RestElement"&&(s.argument.type==="ArrayPattern"||s.argument.type==="ObjectPattern")&&this.raise(s.argument.start,"Unexpected token")}break;case"Property":e.kind!=="init"&&this.raise(e.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(e.value,t);break;case"ArrayExpression":e.type="ArrayPattern",n&&this.checkPatternErrors(n,!0),this.toAssignableList(e.elements,t);break;case"SpreadElement":e.type="RestElement",this.toAssignable(e.argument,t),e.argument.type==="AssignmentPattern"&&this.raise(e.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":e.operator!=="="&&this.raise(e.left.end,"Only '=' operator can be used for specifying default value."),e.type="AssignmentPattern",delete e.operator,this.toAssignable(e.left,t);break;case"ParenthesizedExpression":this.toAssignable(e.expression,t,n);break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!t)break;default:this.raise(e.start,"Assigning to rvalue")}else n&&this.checkPatternErrors(n,!0);return e};ta.toAssignableList=function(e,t){for(var n=e.length,r=0;r<n;r++){var i=e[r];i&&this.toAssignable(i,t)}if(n){var s=e[n-1];this.options.ecmaVersion===6&&t&&s&&s.type==="RestElement"&&s.argument.type!=="Identifier"&&this.unexpected(s.argument.start)}return e};ta.parseSpread=function(e){var t=this.startNode();return this.next(),t.argument=this.parseMaybeAssign(!1,e),this.finishNode(t,"SpreadElement")};ta.parseRestBinding=function(){var e=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==N.name&&this.unexpected(),e.argument=this.parseBindingAtom(),this.finishNode(e,"RestElement")};ta.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case N.bracketL:var e=this.startNode();return this.next(),e.elements=this.parseBindingList(N.bracketR,!0,!0),this.finishNode(e,"ArrayPattern");case N.braceL:return this.parseObj(!0)}return this.parseIdent()};ta.parseBindingList=function(e,t,n,r){for(var i=[],s=!0;!this.eat(e);)if(s?s=!1:this.expect(N.comma),t&&this.type===N.comma)i.push(null);else{if(n&&this.afterTrailingComma(e))break;if(this.type===N.ellipsis){var o=this.parseRestBinding();this.parseBindingListItem(o),i.push(o),this.type===N.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(e);break}else i.push(this.parseAssignableListItem(r))}return i};ta.parseAssignableListItem=function(e){var t=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(t),t};ta.parseBindingListItem=function(e){return e};ta.parseMaybeDefault=function(e,t,n){if(n=n||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(N.eq))return n;var r=this.startNodeAt(e,t);return r.left=n,r.right=this.parseMaybeAssign(),this.finishNode(r,"AssignmentPattern")};ta.checkLValSimple=function(e,t,n){t===void 0&&(t=RT);var r=t!==RT;switch(e.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(e.name)&&this.raiseRecoverable(e.start,(r?"Binding ":"Assigning to ")+e.name+" in strict mode"),r&&(t===Gl&&e.name==="let"&&this.raiseRecoverable(e.start,"let is disallowed as a lexically bound name"),n&&(Q_(n,e.name)&&this.raiseRecoverable(e.start,"Argument name clash"),n[e.name]=!0),t!==ire&&this.declareName(e.name,t,e.start));break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":r&&this.raiseRecoverable(e.start,"Binding member expression");break;case"ParenthesizedExpression":return r&&this.raiseRecoverable(e.start,"Binding parenthesized expression"),this.checkLValSimple(e.expression,t,n);default:this.raise(e.start,(r?"Binding":"Assigning to")+" rvalue")}};ta.checkLValPattern=function(e,t,n){switch(t===void 0&&(t=RT),e.type){case"ObjectPattern":for(var r=0,i=e.properties;r<i.length;r+=1){var s=i[r];this.checkLValInnerPattern(s,t,n)}break;case"ArrayPattern":for(var o=0,a=e.elements;o<a.length;o+=1){var u=a[o];u&&this.checkLValInnerPattern(u,t,n)}break;default:this.checkLValSimple(e,t,n)}};ta.checkLValInnerPattern=function(e,t,n){switch(t===void 0&&(t=RT),e.type){case"Property":this.checkLValInnerPattern(e.value,t,n);break;case"AssignmentPattern":this.checkLValPattern(e.left,t,n);break;case"RestElement":this.checkLValPattern(e.argument,t,n);break;default:this.checkLValPattern(e,t,n)}};var aa=function(t,n,r,i,s){this.token=t,this.isExpr=!!n,this.preserveSpace=!!r,this.override=i,this.generator=!!s},lr={b_stat:new aa("{",!1),b_expr:new aa("{",!0),b_tmpl:new aa("${",!1),p_stat:new aa("(",!1),p_expr:new aa("(",!0),q_tmpl:new aa("`",!0,!0,function(e){return e.tryReadTemplateToken()}),f_stat:new aa("function",!1),f_expr:new aa("function",!0),f_expr_gen:new aa("function",!0,!1,null,!0),f_gen:new aa("function",!1,!1,null,!0)},Jm=ti.prototype;Jm.initialContext=function(){return[lr.b_stat]};Jm.curContext=function(){return this.context[this.context.length-1]};Jm.braceIsBlock=function(e){var t=this.curContext();return t===lr.f_expr||t===lr.f_stat?!0:e===N.colon&&(t===lr.b_stat||t===lr.b_expr)?!t.isExpr:e===N._return||e===N.name&&this.exprAllowed?ea.test(this.input.slice(this.lastTokEnd,this.start)):e===N._else||e===N.semi||e===N.eof||e===N.parenR||e===N.arrow?!0:e===N.braceL?t===lr.b_stat:e===N._var||e===N._const||e===N.name?!1:!this.exprAllowed};Jm.inGeneratorContext=function(){for(var e=this.context.length-1;e>=1;e--){var t=this.context[e];if(t.token==="function")return t.generator}return!1};Jm.updateContext=function(e){var t,n=this.type;n.keyword&&e===N.dot?this.exprAllowed=!1:(t=n.updateContext)?t.call(this,e):this.exprAllowed=n.beforeExpr};Jm.overrideContext=function(e){this.curContext()!==e&&(this.context[this.context.length-1]=e)};N.parenR.updateContext=N.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var e=this.context.pop();e===lr.b_stat&&this.curContext().token==="function"&&(e=this.context.pop()),this.exprAllowed=!e.isExpr};N.braceL.updateContext=function(e){this.context.push(this.braceIsBlock(e)?lr.b_stat:lr.b_expr),this.exprAllowed=!0};N.dollarBraceL.updateContext=function(){this.context.push(lr.b_tmpl),this.exprAllowed=!0};N.parenL.updateContext=function(e){var t=e===N._if||e===N._for||e===N._with||e===N._while;this.context.push(t?lr.p_stat:lr.p_expr),this.exprAllowed=!0};N.incDec.updateContext=function(){};N._function.updateContext=N._class.updateContext=function(e){e.beforeExpr&&e!==N._else&&!(e===N.semi&&this.curContext()!==lr.p_stat)&&!(e===N._return&&ea.test(this.input.slice(this.lastTokEnd,this.start)))&&!((e===N.colon||e===N.braceL)&&this.curContext()===lr.b_stat)?this.context.push(lr.f_expr):this.context.push(lr.f_stat),this.exprAllowed=!1};N.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0};N.backQuote.updateContext=function(){this.curContext()===lr.q_tmpl?this.context.pop():this.context.push(lr.q_tmpl),this.exprAllowed=!1};N.star.updateContext=function(e){if(e===N._function){var t=this.context.length-1;this.context[t]===lr.f_expr?this.context[t]=lr.f_expr_gen:this.context[t]=lr.f_gen}this.exprAllowed=!0};N.name.updateContext=function(e){var t=!1;this.options.ecmaVersion>=6&&e!==N.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(t=!0),this.exprAllowed=t};var vt=ti.prototype;vt.checkPropClash=function(e,t,n){if(!(this.options.ecmaVersion>=9&&e.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(e.computed||e.method||e.shorthand))){var r=e.key,i;switch(r.type){case"Identifier":i=r.name;break;case"Literal":i=String(r.value);break;default:return}var s=e.kind;if(this.options.ecmaVersion>=6){i==="__proto__"&&s==="init"&&(t.proto&&(n?n.doubleProto<0&&(n.doubleProto=r.start):this.raiseRecoverable(r.start,"Redefinition of __proto__ property")),t.proto=!0);return}i="$"+i;var o=t[i];if(o){var a;s==="init"?a=this.strict&&o.init||o.get||o.set:a=o.init||o[s],a&&this.raiseRecoverable(r.start,"Redefinition of property")}else o=t[i]={init:!1,get:!1,set:!1};o[s]=!0}};vt.parseExpression=function(e,t){var n=this.start,r=this.startLoc,i=this.parseMaybeAssign(e,t);if(this.type===N.comma){var s=this.startNodeAt(n,r);for(s.expressions=[i];this.eat(N.comma);)s.expressions.push(this.parseMaybeAssign(e,t));return this.finishNode(s,"SequenceExpression")}return i};vt.parseMaybeAssign=function(e,t,n){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(e);this.exprAllowed=!1}var r=!1,i=-1,s=-1,o=-1;t?(i=t.parenthesizedAssign,s=t.trailingComma,o=t.doubleProto,t.parenthesizedAssign=t.trailingComma=-1):(t=new ZI,r=!0);var a=this.start,u=this.startLoc;(this.type===N.parenL||this.type===N.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=e==="await");var l=this.parseMaybeConditional(e,t);if(n&&(l=n.call(this,l,a,u)),this.type.isAssign){var c=this.startNodeAt(a,u);return c.operator=this.value,this.type===N.eq&&(l=this.toAssignable(l,!1,t)),r||(t.parenthesizedAssign=t.trailingComma=t.doubleProto=-1),t.shorthandAssign>=l.start&&(t.shorthandAssign=-1),this.type===N.eq?this.checkLValPattern(l):this.checkLValSimple(l),c.left=l,this.next(),c.right=this.parseMaybeAssign(e),o>-1&&(t.doubleProto=o),this.finishNode(c,"AssignmentExpression")}else r&&this.checkExpressionErrors(t,!0);return i>-1&&(t.parenthesizedAssign=i),s>-1&&(t.trailingComma=s),l};vt.parseMaybeConditional=function(e,t){var n=this.start,r=this.startLoc,i=this.parseExprOps(e,t);if(this.checkExpressionErrors(t))return i;if(this.eat(N.question)){var s=this.startNodeAt(n,r);return s.test=i,s.consequent=this.parseMaybeAssign(),this.expect(N.colon),s.alternate=this.parseMaybeAssign(e),this.finishNode(s,"ConditionalExpression")}return i};vt.parseExprOps=function(e,t){var n=this.start,r=this.startLoc,i=this.parseMaybeUnary(t,!1,!1,e);return this.checkExpressionErrors(t)||i.start===n&&i.type==="ArrowFunctionExpression"?i:this.parseExprOp(i,n,r,-1,e)};vt.parseExprOp=function(e,t,n,r,i){var s=this.type.binop;if(s!=null&&(!i||this.type!==N._in)&&s>r){var o=this.type===N.logicalOR||this.type===N.logicalAND,a=this.type===N.coalesce;a&&(s=N.logicalAND.binop);var u=this.value;this.next();var l=this.start,c=this.startLoc,f=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,i),l,c,s,i),d=this.buildBinary(t,n,e,f,u,o||a);return(o&&this.type===N.coalesce||a&&(this.type===N.logicalOR||this.type===N.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(d,t,n,r,i)}return e};vt.buildBinary=function(e,t,n,r,i,s){r.type==="PrivateIdentifier"&&this.raise(r.start,"Private identifier can only be left side of binary expression");var o=this.startNodeAt(e,t);return o.left=n,o.operator=i,o.right=r,this.finishNode(o,s?"LogicalExpression":"BinaryExpression")};vt.parseMaybeUnary=function(e,t,n,r){var i=this.start,s=this.startLoc,o;if(this.isContextual("await")&&this.canAwait)o=this.parseAwait(r),t=!0;else if(this.type.prefix){var a=this.startNode(),u=this.type===N.incDec;a.operator=this.value,a.prefix=!0,this.next(),a.argument=this.parseMaybeUnary(null,!0,u,r),this.checkExpressionErrors(e,!0),u?this.checkLValSimple(a.argument):this.strict&&a.operator==="delete"&&a.argument.type==="Identifier"?this.raiseRecoverable(a.start,"Deleting local variable in strict mode"):a.operator==="delete"&&ore(a.argument)?this.raiseRecoverable(a.start,"Private fields can not be deleted"):t=!0,o=this.finishNode(a,u?"UpdateExpression":"UnaryExpression")}else if(!t&&this.type===N.privateId)(r||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),o=this.parsePrivateIdent(),this.type!==N._in&&this.unexpected();else{if(o=this.parseExprSubscripts(e,r),this.checkExpressionErrors(e))return o;for(;this.type.postfix&&!this.canInsertSemicolon();){var l=this.startNodeAt(i,s);l.operator=this.value,l.prefix=!1,l.argument=o,this.checkLValSimple(o),this.next(),o=this.finishNode(l,"UpdateExpression")}}if(!n&&this.eat(N.starstar))if(t)this.unexpected(this.lastTokStart);else return this.buildBinary(i,s,o,this.parseMaybeUnary(null,!1,!1,r),"**",!1);else return o};function ore(e){return e.type==="MemberExpression"&&e.property.type==="PrivateIdentifier"||e.type==="ChainExpression"&&ore(e.expression)}vt.parseExprSubscripts=function(e,t){var n=this.start,r=this.startLoc,i=this.parseExprAtom(e,t);if(i.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return i;var s=this.parseSubscripts(i,n,r,!1,t);return e&&s.type==="MemberExpression"&&(e.parenthesizedAssign>=s.start&&(e.parenthesizedAssign=-1),e.parenthesizedBind>=s.start&&(e.parenthesizedBind=-1),e.trailingComma>=s.start&&(e.trailingComma=-1)),s};vt.parseSubscripts=function(e,t,n,r,i){for(var s=this.options.ecmaVersion>=8&&e.type==="Identifier"&&e.name==="async"&&this.lastTokEnd===e.end&&!this.canInsertSemicolon()&&e.end-e.start===5&&this.potentialArrowAt===e.start,o=!1;;){var a=this.parseSubscript(e,t,n,r,s,o,i);if(a.optional&&(o=!0),a===e||a.type==="ArrowFunctionExpression"){if(o){var u=this.startNodeAt(t,n);u.expression=a,a=this.finishNode(u,"ChainExpression")}return a}e=a}};vt.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(N.arrow)};vt.parseSubscriptAsyncArrow=function(e,t,n,r){return this.parseArrowExpression(this.startNodeAt(e,t),n,!0,r)};vt.parseSubscript=function(e,t,n,r,i,s,o){var a=this.options.ecmaVersion>=11,u=a&&this.eat(N.questionDot);r&&u&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var l=this.eat(N.bracketL);if(l||u&&this.type!==N.parenL&&this.type!==N.backQuote||this.eat(N.dot)){var c=this.startNodeAt(t,n);c.object=e,l?(c.property=this.parseExpression(),this.expect(N.bracketR)):this.type===N.privateId&&e.type!=="Super"?c.property=this.parsePrivateIdent():c.property=this.parseIdent(this.options.allowReserved!=="never"),c.computed=!!l,a&&(c.optional=u),e=this.finishNode(c,"MemberExpression")}else if(!r&&this.eat(N.parenL)){var f=new ZI,d=this.yieldPos,h=this.awaitPos,p=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var m=this.parseExprList(N.parenR,this.options.ecmaVersion>=8,!1,f);if(i&&!u&&this.shouldParseAsyncArrow())return this.checkPatternErrors(f,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=d,this.awaitPos=h,this.awaitIdentPos=p,this.parseSubscriptAsyncArrow(t,n,m,o);this.checkExpressionErrors(f,!0),this.yieldPos=d||this.yieldPos,this.awaitPos=h||this.awaitPos,this.awaitIdentPos=p||this.awaitIdentPos;var y=this.startNodeAt(t,n);y.callee=e,y.arguments=m,a&&(y.optional=u),e=this.finishNode(y,"CallExpression")}else if(this.type===N.backQuote){(u||s)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var g=this.startNodeAt(t,n);g.tag=e,g.quasi=this.parseTemplate({isTagged:!0}),e=this.finishNode(g,"TaggedTemplateExpression")}return e};vt.parseExprAtom=function(e,t,n){this.type===N.slash&&this.readRegexp();var r,i=this.potentialArrowAt===this.start;switch(this.type){case N._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),r=this.startNode(),this.next(),this.type===N.parenL&&!this.allowDirectSuper&&this.raise(r.start,"super() call outside constructor of a subclass"),this.type!==N.dot&&this.type!==N.bracketL&&this.type!==N.parenL&&this.unexpected(),this.finishNode(r,"Super");case N._this:return r=this.startNode(),this.next(),this.finishNode(r,"ThisExpression");case N.name:var s=this.start,o=this.startLoc,a=this.containsEsc,u=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!a&&u.name==="async"&&!this.canInsertSemicolon()&&this.eat(N._function))return this.overrideContext(lr.f_expr),this.parseFunction(this.startNodeAt(s,o),0,!1,!0,t);if(i&&!this.canInsertSemicolon()){if(this.eat(N.arrow))return this.parseArrowExpression(this.startNodeAt(s,o),[u],!1,t);if(this.options.ecmaVersion>=8&&u.name==="async"&&this.type===N.name&&!a&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return u=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(N.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(s,o),[u],!0,t)}return u;case N.regexp:var l=this.value;return r=this.parseLiteral(l.value),r.regex={pattern:l.pattern,flags:l.flags},r;case N.num:case N.string:return this.parseLiteral(this.value);case N._null:case N._true:case N._false:return r=this.startNode(),r.value=this.type===N._null?null:this.type===N._true,r.raw=this.type.keyword,this.next(),this.finishNode(r,"Literal");case N.parenL:var c=this.start,f=this.parseParenAndDistinguishExpression(i,t);return e&&(e.parenthesizedAssign<0&&!this.isSimpleAssignTarget(f)&&(e.parenthesizedAssign=c),e.parenthesizedBind<0&&(e.parenthesizedBind=c)),f;case N.bracketL:return r=this.startNode(),this.next(),r.elements=this.parseExprList(N.bracketR,!0,!0,e),this.finishNode(r,"ArrayExpression");case N.braceL:return this.overrideContext(lr.b_expr),this.parseObj(!1,e);case N._function:return r=this.startNode(),this.next(),this.parseFunction(r,0);case N._class:return this.parseClass(this.startNode(),!1);case N._new:return this.parseNew();case N.backQuote:return this.parseTemplate();case N._import:return this.options.ecmaVersion>=11?this.parseExprImport(n):this.unexpected();default:return this.parseExprAtomDefault()}};vt.parseExprAtomDefault=function(){this.unexpected()};vt.parseExprImport=function(e){var t=this.startNode();this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import");var n=this.parseIdent(!0);if(this.type===N.parenL&&!e)return this.parseDynamicImport(t);if(this.type===N.dot)return t.meta=n,this.parseImportMeta(t);this.unexpected()};vt.parseDynamicImport=function(e){if(this.next(),e.source=this.parseMaybeAssign(),!this.eat(N.parenR)){var t=this.start;this.eat(N.comma)&&this.eat(N.parenR)?this.raiseRecoverable(t,"Trailing comma is not allowed in import()"):this.unexpected(t)}return this.finishNode(e,"ImportExpression")};vt.parseImportMeta=function(e){this.next();var t=this.containsEsc;return e.property=this.parseIdent(!0),e.property.name!=="meta"&&this.raiseRecoverable(e.property.start,"The only valid meta property for import is 'import.meta'"),t&&this.raiseRecoverable(e.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(e.start,"Cannot use 'import.meta' outside a module"),this.finishNode(e,"MetaProperty")};vt.parseLiteral=function(e){var t=this.startNode();return t.value=e,t.raw=this.input.slice(this.start,this.end),t.raw.charCodeAt(t.raw.length-1)===110&&(t.bigint=t.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(t,"Literal")};vt.parseParenExpression=function(){this.expect(N.parenL);var e=this.parseExpression();return this.expect(N.parenR),e};vt.shouldParseArrow=function(e){return!this.canInsertSemicolon()};vt.parseParenAndDistinguishExpression=function(e,t){var n=this.start,r=this.startLoc,i,s=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var o=this.start,a=this.startLoc,u=[],l=!0,c=!1,f=new ZI,d=this.yieldPos,h=this.awaitPos,p;for(this.yieldPos=0,this.awaitPos=0;this.type!==N.parenR;)if(l?l=!1:this.expect(N.comma),s&&this.afterTrailingComma(N.parenR,!0)){c=!0;break}else if(this.type===N.ellipsis){p=this.start,u.push(this.parseParenItem(this.parseRestBinding())),this.type===N.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else u.push(this.parseMaybeAssign(!1,f,this.parseParenItem));var m=this.lastTokEnd,y=this.lastTokEndLoc;if(this.expect(N.parenR),e&&this.shouldParseArrow(u)&&this.eat(N.arrow))return this.checkPatternErrors(f,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=d,this.awaitPos=h,this.parseParenArrowList(n,r,u,t);(!u.length||c)&&this.unexpected(this.lastTokStart),p&&this.unexpected(p),this.checkExpressionErrors(f,!0),this.yieldPos=d||this.yieldPos,this.awaitPos=h||this.awaitPos,u.length>1?(i=this.startNodeAt(o,a),i.expressions=u,this.finishNodeAt(i,"SequenceExpression",m,y)):i=u[0]}else i=this.parseParenExpression();if(this.options.preserveParens){var g=this.startNodeAt(n,r);return g.expression=i,this.finishNode(g,"ParenthesizedExpression")}else return i};vt.parseParenItem=function(e){return e};vt.parseParenArrowList=function(e,t,n,r){return this.parseArrowExpression(this.startNodeAt(e,t),n,!1,r)};var $7e=[];vt.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var e=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===N.dot){var t=this.startNodeAt(e.start,e.startLoc);t.name="new",e.meta=this.finishNode(t,"Identifier"),this.next();var n=this.containsEsc;return e.property=this.parseIdent(!0),e.property.name!=="target"&&this.raiseRecoverable(e.property.start,"The only valid meta property for new is 'new.target'"),n&&this.raiseRecoverable(e.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(e.start,"'new.target' can only be used in functions and class static block"),this.finishNode(e,"MetaProperty")}var r=this.start,i=this.startLoc;return e.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),r,i,!0,!1),this.eat(N.parenL)?e.arguments=this.parseExprList(N.parenR,this.options.ecmaVersion>=8,!1):e.arguments=$7e,this.finishNode(e,"NewExpression")};vt.parseTemplateElement=function(e){var t=e.isTagged,n=this.startNode();return this.type===N.invalidTemplate?(t||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),n.value={raw:this.value,cooked:null}):n.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),n.tail=this.type===N.backQuote,this.finishNode(n,"TemplateElement")};vt.parseTemplate=function(e){e===void 0&&(e={});var t=e.isTagged;t===void 0&&(t=!1);var n=this.startNode();this.next(),n.expressions=[];var r=this.parseTemplateElement({isTagged:t});for(n.quasis=[r];!r.tail;)this.type===N.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(N.dollarBraceL),n.expressions.push(this.parseExpression()),this.expect(N.braceR),n.quasis.push(r=this.parseTemplateElement({isTagged:t}));return this.next(),this.finishNode(n,"TemplateLiteral")};vt.isAsyncProp=function(e){return!e.computed&&e.key.type==="Identifier"&&e.key.name==="async"&&(this.type===N.name||this.type===N.num||this.type===N.string||this.type===N.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===N.star)&&!ea.test(this.input.slice(this.lastTokEnd,this.start))};vt.parseObj=function(e,t){var n=this.startNode(),r=!0,i={};for(n.properties=[],this.next();!this.eat(N.braceR);){if(r)r=!1;else if(this.expect(N.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(N.braceR))break;var s=this.parseProperty(e,t);e||this.checkPropClash(s,i,t),n.properties.push(s)}return this.finishNode(n,e?"ObjectPattern":"ObjectExpression")};vt.parseProperty=function(e,t){var n=this.startNode(),r,i,s,o;if(this.options.ecmaVersion>=9&&this.eat(N.ellipsis))return e?(n.argument=this.parseIdent(!1),this.type===N.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(n,"RestElement")):(n.argument=this.parseMaybeAssign(!1,t),this.type===N.comma&&t&&t.trailingComma<0&&(t.trailingComma=this.start),this.finishNode(n,"SpreadElement"));this.options.ecmaVersion>=6&&(n.method=!1,n.shorthand=!1,(e||t)&&(s=this.start,o=this.startLoc),e||(r=this.eat(N.star)));var a=this.containsEsc;return this.parsePropertyName(n),!e&&!a&&this.options.ecmaVersion>=8&&!r&&this.isAsyncProp(n)?(i=!0,r=this.options.ecmaVersion>=9&&this.eat(N.star),this.parsePropertyName(n)):i=!1,this.parsePropertyValue(n,e,r,i,s,o,t,a),this.finishNode(n,"Property")};vt.parseGetterSetter=function(e){e.kind=e.key.name,this.parsePropertyName(e),e.value=this.parseMethod(!1);var t=e.kind==="get"?0:1;if(e.value.params.length!==t){var n=e.value.start;e.kind==="get"?this.raiseRecoverable(n,"getter should have no params"):this.raiseRecoverable(n,"setter should have exactly one param")}else e.kind==="set"&&e.value.params[0].type==="RestElement"&&this.raiseRecoverable(e.value.params[0].start,"Setter cannot use rest params")};vt.parsePropertyValue=function(e,t,n,r,i,s,o,a){(n||r)&&this.type===N.colon&&this.unexpected(),this.eat(N.colon)?(e.value=t?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,o),e.kind="init"):this.options.ecmaVersion>=6&&this.type===N.parenL?(t&&this.unexpected(),e.kind="init",e.method=!0,e.value=this.parseMethod(n,r)):!t&&!a&&this.options.ecmaVersion>=5&&!e.computed&&e.key.type==="Identifier"&&(e.key.name==="get"||e.key.name==="set")&&this.type!==N.comma&&this.type!==N.braceR&&this.type!==N.eq?((n||r)&&this.unexpected(),this.parseGetterSetter(e)):this.options.ecmaVersion>=6&&!e.computed&&e.key.type==="Identifier"?((n||r)&&this.unexpected(),this.checkUnreserved(e.key),e.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=i),e.kind="init",t?e.value=this.parseMaybeDefault(i,s,this.copyNode(e.key)):this.type===N.eq&&o?(o.shorthandAssign<0&&(o.shorthandAssign=this.start),e.value=this.parseMaybeDefault(i,s,this.copyNode(e.key))):e.value=this.copyNode(e.key),e.shorthand=!0):this.unexpected()};vt.parsePropertyName=function(e){if(this.options.ecmaVersion>=6){if(this.eat(N.bracketL))return e.computed=!0,e.key=this.parseMaybeAssign(),this.expect(N.bracketR),e.key;e.computed=!1}return e.key=this.type===N.num||this.type===N.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};vt.initFunction=function(e){e.id=null,this.options.ecmaVersion>=6&&(e.generator=e.expression=!1),this.options.ecmaVersion>=8&&(e.async=!1)};vt.parseMethod=function(e,t,n){var r=this.startNode(),i=this.yieldPos,s=this.awaitPos,o=this.awaitIdentPos;return this.initFunction(r),this.options.ecmaVersion>=6&&(r.generator=e),this.options.ecmaVersion>=8&&(r.async=!!t),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(E3(t,r.generator)|v3|(n?tre:0)),this.expect(N.parenL),r.params=this.parseBindingList(N.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(r,!1,!0,!1),this.yieldPos=i,this.awaitPos=s,this.awaitIdentPos=o,this.finishNode(r,"FunctionExpression")};vt.parseArrowExpression=function(e,t,n,r){var i=this.yieldPos,s=this.awaitPos,o=this.awaitIdentPos;return this.enterScope(E3(n,!1)|Zne),this.initFunction(e),this.options.ecmaVersion>=8&&(e.async=!!n),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,e.params=this.toAssignableList(t,!0),this.parseFunctionBody(e,!0,!1,r),this.yieldPos=i,this.awaitPos=s,this.awaitIdentPos=o,this.finishNode(e,"ArrowFunctionExpression")};vt.parseFunctionBody=function(e,t,n,r){var i=t&&this.type!==N.braceL,s=this.strict,o=!1;if(i)e.body=this.parseMaybeAssign(r),e.expression=!0,this.checkParams(e,!1);else{var a=this.options.ecmaVersion>=7&&!this.isSimpleParamList(e.params);(!s||a)&&(o=this.strictDirective(this.end),o&&a&&this.raiseRecoverable(e.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var u=this.labels;this.labels=[],o&&(this.strict=!0),this.checkParams(e,!s&&!o&&!t&&!n&&this.isSimpleParamList(e.params)),this.strict&&e.id&&this.checkLValSimple(e.id,ire),e.body=this.parseBlock(!1,void 0,o&&!s),e.expression=!1,this.adaptDirectivePrologue(e.body.body),this.labels=u}this.exitScope()};vt.isSimpleParamList=function(e){for(var t=0,n=e;t<n.length;t+=1){var r=n[t];if(r.type!=="Identifier")return!1}return!0};vt.checkParams=function(e,t){for(var n=Object.create(null),r=0,i=e.params;r<i.length;r+=1){var s=i[r];this.checkLValInnerPattern(s,w3,t?null:n)}};vt.parseExprList=function(e,t,n,r){for(var i=[],s=!0;!this.eat(e);){if(s)s=!1;else if(this.expect(N.comma),t&&this.afterTrailingComma(e))break;var o=void 0;n&&this.type===N.comma?o=null:this.type===N.ellipsis?(o=this.parseSpread(r),r&&this.type===N.comma&&r.trailingComma<0&&(r.trailingComma=this.start)):o=this.parseMaybeAssign(!1,r),i.push(o)}return i};vt.checkUnreserved=function(e){var t=e.start,n=e.end,r=e.name;if(this.inGenerator&&r==="yield"&&this.raiseRecoverable(t,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&r==="await"&&this.raiseRecoverable(t,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&r==="arguments"&&this.raiseRecoverable(t,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(r==="arguments"||r==="await")&&this.raise(t,"Cannot use "+r+" in class static initialization block"),this.keywords.test(r)&&this.raise(t,"Unexpected keyword '"+r+"'"),!(this.options.ecmaVersion<6&&this.input.slice(t,n).indexOf("\\")!==-1)){var i=this.strict?this.reservedWordsStrict:this.reservedWords;i.test(r)&&(!this.inAsync&&r==="await"&&this.raiseRecoverable(t,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(t,"The keyword '"+r+"' is reserved"))}};vt.parseIdent=function(e){var t=this.parseIdentNode();return this.next(!!e),this.finishNode(t,"Identifier"),e||(this.checkUnreserved(t),t.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=t.start)),t};vt.parseIdentNode=function(){var e=this.startNode();return this.type===N.name?e.name=this.value:this.type.keyword?(e.name=this.type.keyword,(e.name==="class"||e.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=N.name):this.unexpected(),e};vt.parsePrivateIdent=function(){var e=this.startNode();return this.type===N.privateId?e.name=this.value:this.unexpected(),this.next(),this.finishNode(e,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(e.start,"Private field '#"+e.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(e)),e};vt.parseYield=function(e){this.yieldPos||(this.yieldPos=this.start);var t=this.startNode();return this.next(),this.type===N.semi||this.canInsertSemicolon()||this.type!==N.star&&!this.type.startsExpr?(t.delegate=!1,t.argument=null):(t.delegate=this.eat(N.star),t.argument=this.parseMaybeAssign(e)),this.finishNode(t,"YieldExpression")};vt.parseAwait=function(e){this.awaitPos||(this.awaitPos=this.start);var t=this.startNode();return this.next(),t.argument=this.parseMaybeUnary(null,!0,!1,e),this.finishNode(t,"AwaitExpression")};var kT=ti.prototype;kT.raise=function(e,t){var n=Xne(this.input,e);t+=" ("+n.line+":"+n.column+")";var r=new SyntaxError(t);throw r.pos=e,r.loc=n,r.raisedAt=this.pos,r};kT.raiseRecoverable=kT.raise;kT.curPosition=function(){if(this.options.locations)return new Uy(this.curLine,this.pos-this.lineStart)};var Cf=ti.prototype,L7e=function(t){this.flags=t,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};Cf.enterScope=function(e){this.scopeStack.push(new L7e(e))};Cf.exitScope=function(){this.scopeStack.pop()};Cf.treatFunctionsAsVarInScope=function(e){return e.flags&Xm||!this.inModule&&e.flags&Vy};Cf.declareName=function(e,t,n){var r=!1;if(t===Gl){var i=this.currentScope();r=i.lexical.indexOf(e)>-1||i.functions.indexOf(e)>-1||i.var.indexOf(e)>-1,i.lexical.push(e),this.inModule&&i.flags&Vy&&delete this.undefinedExports[e]}else if(t===rre){var s=this.currentScope();s.lexical.push(e)}else if(t===nre){var o=this.currentScope();this.treatFunctionsAsVar?r=o.lexical.indexOf(e)>-1:r=o.lexical.indexOf(e)>-1||o.var.indexOf(e)>-1,o.functions.push(e)}else for(var a=this.scopeStack.length-1;a>=0;--a){var u=this.scopeStack[a];if(u.lexical.indexOf(e)>-1&&!(u.flags&ere&&u.lexical[0]===e)||!this.treatFunctionsAsVarInScope(u)&&u.functions.indexOf(e)>-1){r=!0;break}if(u.var.push(e),this.inModule&&u.flags&Vy&&delete this.undefinedExports[e],u.flags&b3)break}r&&this.raiseRecoverable(n,"Identifier '"+e+"' has already been declared")};Cf.checkLocalExport=function(e){this.scopeStack[0].lexical.indexOf(e.name)===-1&&this.scopeStack[0].var.indexOf(e.name)===-1&&(this.undefinedExports[e.name]=e)};Cf.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};Cf.currentVarScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&b3)return t}};Cf.currentThisScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&b3&&!(t.flags&Zne))return t}};var ex=function(t,n,r){this.type="",this.start=n,this.end=0,t.options.locations&&(this.loc=new JI(t,r)),t.options.directSourceFile&&(this.sourceFile=t.options.directSourceFile),t.options.ranges&&(this.range=[n,0])},J_=ti.prototype;J_.startNode=function(){return new ex(this,this.start,this.startLoc)};J_.startNodeAt=function(e,t){return new ex(this,e,t)};function are(e,t,n,r){return e.type=t,e.end=n,this.options.locations&&(e.loc.end=r),this.options.ranges&&(e.range[1]=n),e}J_.finishNode=function(e,t){return are.call(this,e,t,this.lastTokEnd,this.lastTokEndLoc)};J_.finishNodeAt=function(e,t,n,r){return are.call(this,e,t,n,r)};J_.copyNode=function(e){var t=new ex(this,e.start,this.startLoc);for(var n in e)t[n]=e[n];return t};var ure="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",lre=ure+" Extended_Pictographic",cre=lre,fre=cre+" EBase EComp EMod EPres ExtPict",dre=fre,M7e=dre,F7e={9:ure,10:lre,11:cre,12:fre,13:dre,14:M7e},B7e="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",j7e={9:"",10:"",11:"",12:"",13:"",14:B7e},AU="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",hre="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",pre=hre+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",mre=pre+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",gre=mre+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",yre=gre+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",U7e=yre+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz",V7e={9:hre,10:pre,11:mre,12:gre,13:yre,14:U7e},_re={};function z7e(e){var t=_re[e]={binary:Ic(F7e[e]+" "+AU),binaryOfStrings:Ic(j7e[e]),nonBinary:{General_Category:Ic(AU),Script:Ic(V7e[e])}};t.nonBinary.Script_Extensions=t.nonBinary.Script,t.nonBinary.gc=t.nonBinary.General_Category,t.nonBinary.sc=t.nonBinary.Script,t.nonBinary.scx=t.nonBinary.Script_Extensions}for(var ZA=0,OU=[9,10,11,12,13,14];ZA<OU.length;ZA+=1){var H7e=OU[ZA];z7e(H7e)}var Ge=ti.prototype,Bu=function(t){this.parser=t,this.validFlags="gim"+(t.options.ecmaVersion>=6?"uy":"")+(t.options.ecmaVersion>=9?"s":"")+(t.options.ecmaVersion>=13?"d":"")+(t.options.ecmaVersion>=15?"v":""),this.unicodeProperties=_re[t.options.ecmaVersion>=14?14:t.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};Bu.prototype.reset=function(t,n,r){var i=r.indexOf("v")!==-1,s=r.indexOf("u")!==-1;this.start=t|0,this.source=n+"",this.flags=r,i&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=s&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=s&&this.parser.options.ecmaVersion>=9)};Bu.prototype.raise=function(t){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+t)};Bu.prototype.at=function(t,n){n===void 0&&(n=!1);var r=this.source,i=r.length;if(t>=i)return-1;var s=r.charCodeAt(t);if(!(n||this.switchU)||s<=55295||s>=57344||t+1>=i)return s;var o=r.charCodeAt(t+1);return o>=56320&&o<=57343?(s<<10)+o-56613888:s};Bu.prototype.nextIndex=function(t,n){n===void 0&&(n=!1);var r=this.source,i=r.length;if(t>=i)return i;var s=r.charCodeAt(t),o;return!(n||this.switchU)||s<=55295||s>=57344||t+1>=i||(o=r.charCodeAt(t+1))<56320||o>57343?t+1:t+2};Bu.prototype.current=function(t){return t===void 0&&(t=!1),this.at(this.pos,t)};Bu.prototype.lookahead=function(t){return t===void 0&&(t=!1),this.at(this.nextIndex(this.pos,t),t)};Bu.prototype.advance=function(t){t===void 0&&(t=!1),this.pos=this.nextIndex(this.pos,t)};Bu.prototype.eat=function(t,n){return n===void 0&&(n=!1),this.current(n)===t?(this.advance(n),!0):!1};Bu.prototype.eatChars=function(t,n){n===void 0&&(n=!1);for(var r=this.pos,i=0,s=t;i<s.length;i+=1){var o=s[i],a=this.at(r,n);if(a===-1||a!==o)return!1;r=this.nextIndex(r,n)}return this.pos=r,!0};Ge.validateRegExpFlags=function(e){for(var t=e.validFlags,n=e.flags,r=!1,i=!1,s=0;s<n.length;s++){var o=n.charAt(s);t.indexOf(o)===-1&&this.raise(e.start,"Invalid regular expression flag"),n.indexOf(o,s+1)>-1&&this.raise(e.start,"Duplicate regular expression flag"),o==="u"&&(r=!0),o==="v"&&(i=!0)}this.options.ecmaVersion>=15&&r&&i&&this.raise(e.start,"Invalid regular expression flag")};Ge.validateRegExpPattern=function(e){this.regexp_pattern(e),!e.switchN&&this.options.ecmaVersion>=9&&e.groupNames.length>0&&(e.switchN=!0,this.regexp_pattern(e))};Ge.regexp_pattern=function(e){e.pos=0,e.lastIntValue=0,e.lastStringValue="",e.lastAssertionIsQuantifiable=!1,e.numCapturingParens=0,e.maxBackReference=0,e.groupNames.length=0,e.backReferenceNames.length=0,this.regexp_disjunction(e),e.pos!==e.source.length&&(e.eat(41)&&e.raise("Unmatched ')'"),(e.eat(93)||e.eat(125))&&e.raise("Lone quantifier brackets")),e.maxBackReference>e.numCapturingParens&&e.raise("Invalid escape");for(var t=0,n=e.backReferenceNames;t<n.length;t+=1){var r=n[t];e.groupNames.indexOf(r)===-1&&e.raise("Invalid named capture referenced")}};Ge.regexp_disjunction=function(e){for(this.regexp_alternative(e);e.eat(124);)this.regexp_alternative(e);this.regexp_eatQuantifier(e,!0)&&e.raise("Nothing to repeat"),e.eat(123)&&e.raise("Lone quantifier brackets")};Ge.regexp_alternative=function(e){for(;e.pos<e.source.length&&this.regexp_eatTerm(e););};Ge.regexp_eatTerm=function(e){return this.regexp_eatAssertion(e)?(e.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(e)&&e.switchU&&e.raise("Invalid quantifier"),!0):(e.switchU?this.regexp_eatAtom(e):this.regexp_eatExtendedAtom(e))?(this.regexp_eatQuantifier(e),!0):!1};Ge.regexp_eatAssertion=function(e){var t=e.pos;if(e.lastAssertionIsQuantifiable=!1,e.eat(94)||e.eat(36))return!0;if(e.eat(92)){if(e.eat(66)||e.eat(98))return!0;e.pos=t}if(e.eat(40)&&e.eat(63)){var n=!1;if(this.options.ecmaVersion>=9&&(n=e.eat(60)),e.eat(61)||e.eat(33))return this.regexp_disjunction(e),e.eat(41)||e.raise("Unterminated group"),e.lastAssertionIsQuantifiable=!n,!0}return e.pos=t,!1};Ge.regexp_eatQuantifier=function(e,t){return t===void 0&&(t=!1),this.regexp_eatQuantifierPrefix(e,t)?(e.eat(63),!0):!1};Ge.regexp_eatQuantifierPrefix=function(e,t){return e.eat(42)||e.eat(43)||e.eat(63)||this.regexp_eatBracedQuantifier(e,t)};Ge.regexp_eatBracedQuantifier=function(e,t){var n=e.pos;if(e.eat(123)){var r=0,i=-1;if(this.regexp_eatDecimalDigits(e)&&(r=e.lastIntValue,e.eat(44)&&this.regexp_eatDecimalDigits(e)&&(i=e.lastIntValue),e.eat(125)))return i!==-1&&i<r&&!t&&e.raise("numbers out of order in {} quantifier"),!0;e.switchU&&!t&&e.raise("Incomplete quantifier"),e.pos=n}return!1};Ge.regexp_eatAtom=function(e){return this.regexp_eatPatternCharacters(e)||e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)};Ge.regexp_eatReverseSolidusAtomEscape=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatAtomEscape(e))return!0;e.pos=t}return!1};Ge.regexp_eatUncapturingGroup=function(e){var t=e.pos;if(e.eat(40)){if(e.eat(63)&&e.eat(58)){if(this.regexp_disjunction(e),e.eat(41))return!0;e.raise("Unterminated group")}e.pos=t}return!1};Ge.regexp_eatCapturingGroup=function(e){if(e.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(e):e.current()===63&&e.raise("Invalid group"),this.regexp_disjunction(e),e.eat(41))return e.numCapturingParens+=1,!0;e.raise("Unterminated group")}return!1};Ge.regexp_eatExtendedAtom=function(e){return e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)||this.regexp_eatInvalidBracedQuantifier(e)||this.regexp_eatExtendedPatternCharacter(e)};Ge.regexp_eatInvalidBracedQuantifier=function(e){return this.regexp_eatBracedQuantifier(e,!0)&&e.raise("Nothing to repeat"),!1};Ge.regexp_eatSyntaxCharacter=function(e){var t=e.current();return vre(t)?(e.lastIntValue=t,e.advance(),!0):!1};function vre(e){return e===36||e>=40&&e<=43||e===46||e===63||e>=91&&e<=94||e>=123&&e<=125}Ge.regexp_eatPatternCharacters=function(e){for(var t=e.pos,n=0;(n=e.current())!==-1&&!vre(n);)e.advance();return e.pos!==t};Ge.regexp_eatExtendedPatternCharacter=function(e){var t=e.current();return t!==-1&&t!==36&&!(t>=40&&t<=43)&&t!==46&&t!==63&&t!==91&&t!==94&&t!==124?(e.advance(),!0):!1};Ge.regexp_groupSpecifier=function(e){if(e.eat(63)){if(this.regexp_eatGroupName(e)){e.groupNames.indexOf(e.lastStringValue)!==-1&&e.raise("Duplicate capture group name"),e.groupNames.push(e.lastStringValue);return}e.raise("Invalid group")}};Ge.regexp_eatGroupName=function(e){if(e.lastStringValue="",e.eat(60)){if(this.regexp_eatRegExpIdentifierName(e)&&e.eat(62))return!0;e.raise("Invalid capture group name")}return!1};Ge.regexp_eatRegExpIdentifierName=function(e){if(e.lastStringValue="",this.regexp_eatRegExpIdentifierStart(e)){for(e.lastStringValue+=cf(e.lastIntValue);this.regexp_eatRegExpIdentifierPart(e);)e.lastStringValue+=cf(e.lastIntValue);return!0}return!1};Ge.regexp_eatRegExpIdentifierStart=function(e){var t=e.pos,n=this.options.ecmaVersion>=11,r=e.current(n);return e.advance(n),r===92&&this.regexp_eatRegExpUnicodeEscapeSequence(e,n)&&(r=e.lastIntValue),W7e(r)?(e.lastIntValue=r,!0):(e.pos=t,!1)};function W7e(e){return Rl(e,!0)||e===36||e===95}Ge.regexp_eatRegExpIdentifierPart=function(e){var t=e.pos,n=this.options.ecmaVersion>=11,r=e.current(n);return e.advance(n),r===92&&this.regexp_eatRegExpUnicodeEscapeSequence(e,n)&&(r=e.lastIntValue),q7e(r)?(e.lastIntValue=r,!0):(e.pos=t,!1)};function q7e(e){return ym(e,!0)||e===36||e===95||e===8204||e===8205}Ge.regexp_eatAtomEscape=function(e){return this.regexp_eatBackReference(e)||this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)||e.switchN&&this.regexp_eatKGroupName(e)?!0:(e.switchU&&(e.current()===99&&e.raise("Invalid unicode escape"),e.raise("Invalid escape")),!1)};Ge.regexp_eatBackReference=function(e){var t=e.pos;if(this.regexp_eatDecimalEscape(e)){var n=e.lastIntValue;if(e.switchU)return n>e.maxBackReference&&(e.maxBackReference=n),!0;if(n<=e.numCapturingParens)return!0;e.pos=t}return!1};Ge.regexp_eatKGroupName=function(e){if(e.eat(107)){if(this.regexp_eatGroupName(e))return e.backReferenceNames.push(e.lastStringValue),!0;e.raise("Invalid named reference")}return!1};Ge.regexp_eatCharacterEscape=function(e){return this.regexp_eatControlEscape(e)||this.regexp_eatCControlLetter(e)||this.regexp_eatZero(e)||this.regexp_eatHexEscapeSequence(e)||this.regexp_eatRegExpUnicodeEscapeSequence(e,!1)||!e.switchU&&this.regexp_eatLegacyOctalEscapeSequence(e)||this.regexp_eatIdentityEscape(e)};Ge.regexp_eatCControlLetter=function(e){var t=e.pos;if(e.eat(99)){if(this.regexp_eatControlLetter(e))return!0;e.pos=t}return!1};Ge.regexp_eatZero=function(e){return e.current()===48&&!tx(e.lookahead())?(e.lastIntValue=0,e.advance(),!0):!1};Ge.regexp_eatControlEscape=function(e){var t=e.current();return t===116?(e.lastIntValue=9,e.advance(),!0):t===110?(e.lastIntValue=10,e.advance(),!0):t===118?(e.lastIntValue=11,e.advance(),!0):t===102?(e.lastIntValue=12,e.advance(),!0):t===114?(e.lastIntValue=13,e.advance(),!0):!1};Ge.regexp_eatControlLetter=function(e){var t=e.current();return bre(t)?(e.lastIntValue=t%32,e.advance(),!0):!1};function bre(e){return e>=65&&e<=90||e>=97&&e<=122}Ge.regexp_eatRegExpUnicodeEscapeSequence=function(e,t){t===void 0&&(t=!1);var n=e.pos,r=t||e.switchU;if(e.eat(117)){if(this.regexp_eatFixedHexDigits(e,4)){var i=e.lastIntValue;if(r&&i>=55296&&i<=56319){var s=e.pos;if(e.eat(92)&&e.eat(117)&&this.regexp_eatFixedHexDigits(e,4)){var o=e.lastIntValue;if(o>=56320&&o<=57343)return e.lastIntValue=(i-55296)*1024+(o-56320)+65536,!0}e.pos=s,e.lastIntValue=i}return!0}if(r&&e.eat(123)&&this.regexp_eatHexDigits(e)&&e.eat(125)&&Y7e(e.lastIntValue))return!0;r&&e.raise("Invalid unicode escape"),e.pos=n}return!1};function Y7e(e){return e>=0&&e<=1114111}Ge.regexp_eatIdentityEscape=function(e){if(e.switchU)return this.regexp_eatSyntaxCharacter(e)?!0:e.eat(47)?(e.lastIntValue=47,!0):!1;var t=e.current();return t!==99&&(!e.switchN||t!==107)?(e.lastIntValue=t,e.advance(),!0):!1};Ge.regexp_eatDecimalEscape=function(e){e.lastIntValue=0;var t=e.current();if(t>=49&&t<=57){do e.lastIntValue=10*e.lastIntValue+(t-48),e.advance();while((t=e.current())>=48&&t<=57);return!0}return!1};var Ere=0,Nl=1,Lo=2;Ge.regexp_eatCharacterClassEscape=function(e){var t=e.current();if(G7e(t))return e.lastIntValue=-1,e.advance(),Nl;var n=!1;if(e.switchU&&this.options.ecmaVersion>=9&&((n=t===80)||t===112)){e.lastIntValue=-1,e.advance();var r;if(e.eat(123)&&(r=this.regexp_eatUnicodePropertyValueExpression(e))&&e.eat(125))return n&&r===Lo&&e.raise("Invalid property name"),r;e.raise("Invalid property name")}return Ere};function G7e(e){return e===100||e===68||e===115||e===83||e===119||e===87}Ge.regexp_eatUnicodePropertyValueExpression=function(e){var t=e.pos;if(this.regexp_eatUnicodePropertyName(e)&&e.eat(61)){var n=e.lastStringValue;if(this.regexp_eatUnicodePropertyValue(e)){var r=e.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(e,n,r),Nl}}if(e.pos=t,this.regexp_eatLoneUnicodePropertyNameOrValue(e)){var i=e.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(e,i)}return Ere};Ge.regexp_validateUnicodePropertyNameAndValue=function(e,t,n){Q_(e.unicodeProperties.nonBinary,t)||e.raise("Invalid property name"),e.unicodeProperties.nonBinary[t].test(n)||e.raise("Invalid property value")};Ge.regexp_validateUnicodePropertyNameOrValue=function(e,t){if(e.unicodeProperties.binary.test(t))return Nl;if(e.switchV&&e.unicodeProperties.binaryOfStrings.test(t))return Lo;e.raise("Invalid property name")};Ge.regexp_eatUnicodePropertyName=function(e){var t=0;for(e.lastStringValue="";wre(t=e.current());)e.lastStringValue+=cf(t),e.advance();return e.lastStringValue!==""};function wre(e){return bre(e)||e===95}Ge.regexp_eatUnicodePropertyValue=function(e){var t=0;for(e.lastStringValue="";K7e(t=e.current());)e.lastStringValue+=cf(t),e.advance();return e.lastStringValue!==""};function K7e(e){return wre(e)||tx(e)}Ge.regexp_eatLoneUnicodePropertyNameOrValue=function(e){return this.regexp_eatUnicodePropertyValue(e)};Ge.regexp_eatCharacterClass=function(e){if(e.eat(91)){var t=e.eat(94),n=this.regexp_classContents(e);return e.eat(93)||e.raise("Unterminated character class"),t&&n===Lo&&e.raise("Negated character class may contain strings"),!0}return!1};Ge.regexp_classContents=function(e){return e.current()===93?Nl:e.switchV?this.regexp_classSetExpression(e):(this.regexp_nonEmptyClassRanges(e),Nl)};Ge.regexp_nonEmptyClassRanges=function(e){for(;this.regexp_eatClassAtom(e);){var t=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassAtom(e)){var n=e.lastIntValue;e.switchU&&(t===-1||n===-1)&&e.raise("Invalid character class"),t!==-1&&n!==-1&&t>n&&e.raise("Range out of order in character class")}}};Ge.regexp_eatClassAtom=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatClassEscape(e))return!0;if(e.switchU){var n=e.current();(n===99||Ire(n))&&e.raise("Invalid class escape"),e.raise("Invalid escape")}e.pos=t}var r=e.current();return r!==93?(e.lastIntValue=r,e.advance(),!0):!1};Ge.regexp_eatClassEscape=function(e){var t=e.pos;if(e.eat(98))return e.lastIntValue=8,!0;if(e.switchU&&e.eat(45))return e.lastIntValue=45,!0;if(!e.switchU&&e.eat(99)){if(this.regexp_eatClassControlLetter(e))return!0;e.pos=t}return this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)};Ge.regexp_classSetExpression=function(e){var t=Nl,n;if(!this.regexp_eatClassSetRange(e))if(n=this.regexp_eatClassSetOperand(e)){n===Lo&&(t=Lo);for(var r=e.pos;e.eatChars([38,38]);){if(e.current()!==38&&(n=this.regexp_eatClassSetOperand(e))){n!==Lo&&(t=Nl);continue}e.raise("Invalid character in character class")}if(r!==e.pos)return t;for(;e.eatChars([45,45]);)this.regexp_eatClassSetOperand(e)||e.raise("Invalid character in character class");if(r!==e.pos)return t}else e.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(e)){if(n=this.regexp_eatClassSetOperand(e),!n)return t;n===Lo&&(t=Lo)}};Ge.regexp_eatClassSetRange=function(e){var t=e.pos;if(this.regexp_eatClassSetCharacter(e)){var n=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassSetCharacter(e)){var r=e.lastIntValue;return n!==-1&&r!==-1&&n>r&&e.raise("Range out of order in character class"),!0}e.pos=t}return!1};Ge.regexp_eatClassSetOperand=function(e){return this.regexp_eatClassSetCharacter(e)?Nl:this.regexp_eatClassStringDisjunction(e)||this.regexp_eatNestedClass(e)};Ge.regexp_eatNestedClass=function(e){var t=e.pos;if(e.eat(91)){var n=e.eat(94),r=this.regexp_classContents(e);if(e.eat(93))return n&&r===Lo&&e.raise("Negated character class may contain strings"),r;e.pos=t}if(e.eat(92)){var i=this.regexp_eatCharacterClassEscape(e);if(i)return i;e.pos=t}return null};Ge.regexp_eatClassStringDisjunction=function(e){var t=e.pos;if(e.eatChars([92,113])){if(e.eat(123)){var n=this.regexp_classStringDisjunctionContents(e);if(e.eat(125))return n}else e.raise("Invalid escape");e.pos=t}return null};Ge.regexp_classStringDisjunctionContents=function(e){for(var t=this.regexp_classString(e);e.eat(124);)this.regexp_classString(e)===Lo&&(t=Lo);return t};Ge.regexp_classString=function(e){for(var t=0;this.regexp_eatClassSetCharacter(e);)t++;return t===1?Nl:Lo};Ge.regexp_eatClassSetCharacter=function(e){var t=e.pos;if(e.eat(92))return this.regexp_eatCharacterEscape(e)||this.regexp_eatClassSetReservedPunctuator(e)?!0:e.eat(98)?(e.lastIntValue=8,!0):(e.pos=t,!1);var n=e.current();return n<0||n===e.lookahead()&&Q7e(n)||X7e(n)?!1:(e.advance(),e.lastIntValue=n,!0)};function Q7e(e){return e===33||e>=35&&e<=38||e>=42&&e<=44||e===46||e>=58&&e<=64||e===94||e===96||e===126}function X7e(e){return e===40||e===41||e===45||e===47||e>=91&&e<=93||e>=123&&e<=125}Ge.regexp_eatClassSetReservedPunctuator=function(e){var t=e.current();return J7e(t)?(e.lastIntValue=t,e.advance(),!0):!1};function J7e(e){return e===33||e===35||e===37||e===38||e===44||e===45||e>=58&&e<=62||e===64||e===96||e===126}Ge.regexp_eatClassControlLetter=function(e){var t=e.current();return tx(t)||t===95?(e.lastIntValue=t%32,e.advance(),!0):!1};Ge.regexp_eatHexEscapeSequence=function(e){var t=e.pos;if(e.eat(120)){if(this.regexp_eatFixedHexDigits(e,2))return!0;e.switchU&&e.raise("Invalid escape"),e.pos=t}return!1};Ge.regexp_eatDecimalDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;tx(n=e.current());)e.lastIntValue=10*e.lastIntValue+(n-48),e.advance();return e.pos!==t};function tx(e){return e>=48&&e<=57}Ge.regexp_eatHexDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;Tre(n=e.current());)e.lastIntValue=16*e.lastIntValue+Sre(n),e.advance();return e.pos!==t};function Tre(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}function Sre(e){return e>=65&&e<=70?10+(e-65):e>=97&&e<=102?10+(e-97):e-48}Ge.regexp_eatLegacyOctalEscapeSequence=function(e){if(this.regexp_eatOctalDigit(e)){var t=e.lastIntValue;if(this.regexp_eatOctalDigit(e)){var n=e.lastIntValue;t<=3&&this.regexp_eatOctalDigit(e)?e.lastIntValue=t*64+n*8+e.lastIntValue:e.lastIntValue=t*8+n}else e.lastIntValue=t;return!0}return!1};Ge.regexp_eatOctalDigit=function(e){var t=e.current();return Ire(t)?(e.lastIntValue=t-48,e.advance(),!0):(e.lastIntValue=0,!1)};function Ire(e){return e>=48&&e<=55}Ge.regexp_eatFixedHexDigits=function(e,t){var n=e.pos;e.lastIntValue=0;for(var r=0;r<t;++r){var i=e.current();if(!Tre(i))return e.pos=n,!1;e.lastIntValue=16*e.lastIntValue+Sre(i),e.advance()}return!0};var S3=function(t){this.type=t.type,this.value=t.value,this.start=t.start,this.end=t.end,t.options.locations&&(this.loc=new JI(t,t.startLoc,t.endLoc)),t.options.ranges&&(this.range=[t.start,t.end])},Jt=ti.prototype;Jt.next=function(e){!e&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new S3(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};Jt.getToken=function(){return this.next(),new S3(this)};typeof Symbol<"u"&&(Jt[Symbol.iterator]=function(){var e=this;return{next:function(){var t=e.getToken();return{done:t.type===N.eof,value:t}}}});Jt.nextToken=function(){var e=this.curContext();if((!e||!e.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(N.eof);if(e.override)return e.override(this);this.readToken(this.fullCharCodeAtPos())};Jt.readToken=function(e){return Rl(e,this.options.ecmaVersion>=6)||e===92?this.readWord():this.getTokenFromCode(e)};Jt.fullCharCodeAtPos=function(){var e=this.input.charCodeAt(this.pos);if(e<=55295||e>=56320)return e;var t=this.input.charCodeAt(this.pos+1);return t<=56319||t>=57344?e:(e<<10)+t-56613888};Jt.skipBlockComment=function(){var e=this.options.onComment&&this.curPosition(),t=this.pos,n=this.input.indexOf("*/",this.pos+=2);if(n===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=n+2,this.options.locations)for(var r=void 0,i=t;(r=Gne(this.input,i,this.pos))>-1;)++this.curLine,i=this.lineStart=r;this.options.onComment&&this.options.onComment(!0,this.input.slice(t+2,n),t,this.pos,e,this.curPosition())};Jt.skipLineComment=function(e){for(var t=this.pos,n=this.options.onComment&&this.curPosition(),r=this.input.charCodeAt(this.pos+=e);this.pos<this.input.length&&!Qm(r);)r=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(t+e,this.pos),t,this.pos,n,this.curPosition())};Jt.skipSpace=function(){e:for(;this.pos<this.input.length;){var e=this.input.charCodeAt(this.pos);switch(e){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(e>8&&e<14||e>=5760&&Kne.test(String.fromCharCode(e)))++this.pos;else break e}}};Jt.finishToken=function(e,t){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var n=this.type;this.type=e,this.value=t,this.updateContext(n)};Jt.readToken_dot=function(){var e=this.input.charCodeAt(this.pos+1);if(e>=48&&e<=57)return this.readNumber(!0);var t=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&e===46&&t===46?(this.pos+=3,this.finishToken(N.ellipsis)):(++this.pos,this.finishToken(N.dot))};Jt.readToken_slash=function(){var e=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):e===61?this.finishOp(N.assign,2):this.finishOp(N.slash,1)};Jt.readToken_mult_modulo_exp=function(e){var t=this.input.charCodeAt(this.pos+1),n=1,r=e===42?N.star:N.modulo;return this.options.ecmaVersion>=7&&e===42&&t===42&&(++n,r=N.starstar,t=this.input.charCodeAt(this.pos+2)),t===61?this.finishOp(N.assign,n+1):this.finishOp(r,n)};Jt.readToken_pipe_amp=function(e){var t=this.input.charCodeAt(this.pos+1);if(t===e){if(this.options.ecmaVersion>=12){var n=this.input.charCodeAt(this.pos+2);if(n===61)return this.finishOp(N.assign,3)}return this.finishOp(e===124?N.logicalOR:N.logicalAND,2)}return t===61?this.finishOp(N.assign,2):this.finishOp(e===124?N.bitwiseOR:N.bitwiseAND,1)};Jt.readToken_caret=function(){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(N.assign,2):this.finishOp(N.bitwiseXOR,1)};Jt.readToken_plus_min=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?t===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||ea.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(N.incDec,2):t===61?this.finishOp(N.assign,2):this.finishOp(N.plusMin,1)};Jt.readToken_lt_gt=function(e){var t=this.input.charCodeAt(this.pos+1),n=1;return t===e?(n=e===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+n)===61?this.finishOp(N.assign,n+1):this.finishOp(N.bitShift,n)):t===33&&e===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(t===61&&(n=2),this.finishOp(N.relational,n))};Jt.readToken_eq_excl=function(e){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(N.equality,this.input.charCodeAt(this.pos+2)===61?3:2):e===61&&t===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(N.arrow)):this.finishOp(e===61?N.eq:N.prefix,1)};Jt.readToken_question=function(){var e=this.options.ecmaVersion;if(e>=11){var t=this.input.charCodeAt(this.pos+1);if(t===46){var n=this.input.charCodeAt(this.pos+2);if(n<48||n>57)return this.finishOp(N.questionDot,2)}if(t===63){if(e>=12){var r=this.input.charCodeAt(this.pos+2);if(r===61)return this.finishOp(N.assign,3)}return this.finishOp(N.coalesce,2)}}return this.finishOp(N.question,1)};Jt.readToken_numberSign=function(){var e=this.options.ecmaVersion,t=35;if(e>=13&&(++this.pos,t=this.fullCharCodeAtPos(),Rl(t,!0)||t===92))return this.finishToken(N.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+cf(t)+"'")};Jt.getTokenFromCode=function(e){switch(e){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(N.parenL);case 41:return++this.pos,this.finishToken(N.parenR);case 59:return++this.pos,this.finishToken(N.semi);case 44:return++this.pos,this.finishToken(N.comma);case 91:return++this.pos,this.finishToken(N.bracketL);case 93:return++this.pos,this.finishToken(N.bracketR);case 123:return++this.pos,this.finishToken(N.braceL);case 125:return++this.pos,this.finishToken(N.braceR);case 58:return++this.pos,this.finishToken(N.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(N.backQuote);case 48:var t=this.input.charCodeAt(this.pos+1);if(t===120||t===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(t===111||t===79)return this.readRadixNumber(8);if(t===98||t===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(e);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(e);case 124:case 38:return this.readToken_pipe_amp(e);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(e);case 60:case 62:return this.readToken_lt_gt(e);case 61:case 33:return this.readToken_eq_excl(e);case 63:return this.readToken_question();case 126:return this.finishOp(N.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+cf(e)+"'")};Jt.finishOp=function(e,t){var n=this.input.slice(this.pos,this.pos+t);return this.pos+=t,this.finishToken(e,n)};Jt.readRegexp=function(){for(var e,t,n=this.pos;;){this.pos>=this.input.length&&this.raise(n,"Unterminated regular expression");var r=this.input.charAt(this.pos);if(ea.test(r)&&this.raise(n,"Unterminated regular expression"),e)e=!1;else{if(r==="[")t=!0;else if(r==="]"&&t)t=!1;else if(r==="/"&&!t)break;e=r==="\\"}++this.pos}var i=this.input.slice(n,this.pos);++this.pos;var s=this.pos,o=this.readWord1();this.containsEsc&&this.unexpected(s);var a=this.regexpState||(this.regexpState=new Bu(this));a.reset(n,i,o),this.validateRegExpFlags(a),this.validateRegExpPattern(a);var u=null;try{u=new RegExp(i,o)}catch{}return this.finishToken(N.regexp,{pattern:i,flags:o,value:u})};Jt.readInt=function(e,t,n){for(var r=this.options.ecmaVersion>=12&&t===void 0,i=n&&this.input.charCodeAt(this.pos)===48,s=this.pos,o=0,a=0,u=0,l=t??1/0;u<l;++u,++this.pos){var c=this.input.charCodeAt(this.pos),f=void 0;if(r&&c===95){i&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),a===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),u===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),a=c;continue}if(c>=97?f=c-97+10:c>=65?f=c-65+10:c>=48&&c<=57?f=c-48:f=1/0,f>=e)break;a=c,o=o*e+f}return r&&a===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===s||t!=null&&this.pos-s!==t?null:o};function Z7e(e,t){return t?parseInt(e,8):parseFloat(e.replace(/_/g,""))}function xre(e){return typeof BigInt!="function"?null:BigInt(e.replace(/_/g,""))}Jt.readRadixNumber=function(e){var t=this.pos;this.pos+=2;var n=this.readInt(e);return n==null&&this.raise(this.start+2,"Expected number in radix "+e),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(n=xre(this.input.slice(t,this.pos)),++this.pos):Rl(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(N.num,n)};Jt.readNumber=function(e){var t=this.pos;!e&&this.readInt(10,void 0,!0)===null&&this.raise(t,"Invalid number");var n=this.pos-t>=2&&this.input.charCodeAt(t)===48;n&&this.strict&&this.raise(t,"Invalid number");var r=this.input.charCodeAt(this.pos);if(!n&&!e&&this.options.ecmaVersion>=11&&r===110){var i=xre(this.input.slice(t,this.pos));return++this.pos,Rl(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(N.num,i)}n&&/[89]/.test(this.input.slice(t,this.pos))&&(n=!1),r===46&&!n&&(++this.pos,this.readInt(10),r=this.input.charCodeAt(this.pos)),(r===69||r===101)&&!n&&(r=this.input.charCodeAt(++this.pos),(r===43||r===45)&&++this.pos,this.readInt(10)===null&&this.raise(t,"Invalid number")),Rl(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var s=Z7e(this.input.slice(t,this.pos),n);return this.finishToken(N.num,s)};Jt.readCodePoint=function(){var e=this.input.charCodeAt(this.pos),t;if(e===123){this.options.ecmaVersion<6&&this.unexpected();var n=++this.pos;t=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,t>1114111&&this.invalidStringToken(n,"Code point out of bounds")}else t=this.readHexChar(4);return t};Jt.readString=function(e){for(var t="",n=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var r=this.input.charCodeAt(this.pos);if(r===e)break;r===92?(t+=this.input.slice(n,this.pos),t+=this.readEscapedChar(!1),n=this.pos):r===8232||r===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(Qm(r)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return t+=this.input.slice(n,this.pos++),this.finishToken(N.string,t)};var Cre={};Jt.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(e){if(e===Cre)this.readInvalidTemplateToken();else throw e}this.inTemplateElement=!1};Jt.invalidStringToken=function(e,t){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw Cre;this.raise(e,t)};Jt.readTmplToken=function(){for(var e="",t=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var n=this.input.charCodeAt(this.pos);if(n===96||n===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===N.template||this.type===N.invalidTemplate)?n===36?(this.pos+=2,this.finishToken(N.dollarBraceL)):(++this.pos,this.finishToken(N.backQuote)):(e+=this.input.slice(t,this.pos),this.finishToken(N.template,e));if(n===92)e+=this.input.slice(t,this.pos),e+=this.readEscapedChar(!0),t=this.pos;else if(Qm(n)){switch(e+=this.input.slice(t,this.pos),++this.pos,n){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:e+=`
`;break;default:e+=String.fromCharCode(n);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),t=this.pos}else++this.pos}};Jt.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(N.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")};Jt.readEscapedChar=function(e){var t=this.input.charCodeAt(++this.pos);switch(++this.pos,t){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return cf(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),e){var n=this.pos-1;this.invalidStringToken(n,"Invalid escape sequence in template string")}default:if(t>=48&&t<=55){var r=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],i=parseInt(r,8);return i>255&&(r=r.slice(0,-1),i=parseInt(r,8)),this.pos+=r.length-1,t=this.input.charCodeAt(this.pos),(r!=="0"||t===56||t===57)&&(this.strict||e)&&this.invalidStringToken(this.pos-1-r.length,e?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(i)}return Qm(t)?"":String.fromCharCode(t)}};Jt.readHexChar=function(e){var t=this.pos,n=this.readInt(16,e);return n===null&&this.invalidStringToken(t,"Bad character escape sequence"),n};Jt.readWord1=function(){this.containsEsc=!1;for(var e="",t=!0,n=this.pos,r=this.options.ecmaVersion>=6;this.pos<this.input.length;){var i=this.fullCharCodeAtPos();if(ym(i,r))this.pos+=i<=65535?1:2;else if(i===92){this.containsEsc=!0,e+=this.input.slice(n,this.pos);var s=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var o=this.readCodePoint();(t?Rl:ym)(o,r)||this.invalidStringToken(s,"Invalid Unicode escape"),e+=cf(o),n=this.pos}else break;t=!1}return e+this.input.slice(n,this.pos)};Jt.readWord=function(){var e=this.readWord1(),t=N.name;return this.keywords.test(e)&&(t=y3[e]),this.finishToken(t,e)};var eze="8.11.2";ti.acorn={Parser:ti,version:eze,defaultOptions:iR,Position:Uy,SourceLocation:JI,getLineInfo:Xne,Node:ex,TokenType:fn,tokTypes:N,keywordTypes:y3,TokContext:aa,tokContexts:lr,isIdentifierChar:ym,isIdentifierStart:Rl,Token:S3,isNewLine:Qm,lineBreak:ea,lineBreakG:I7e,nonASCIIwhitespace:Kne};function tze(e,t){return ti.parse(e,t)}const I3={undefined:"void(0)",Infinity:"Number.POSITIVE_INFINITY",NaN:"Number.NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2"},nze={ecmaVersion:11},PU="$",rze="d",ize="d1",sze="d2",Si=e=>(t,n)=>n.error(t,e+" not allowed"),oze=Si("Aggregate function"),aze=Si("Window function"),uze="Invalid argument",x3="Invalid column reference",lze=x3+" (must be input to an aggregate function)",Are="Invalid function call",cze="Invalid member expression",fze="Invalid operator parameter",dze="Invalid param reference",hze="Invalid variable reference",pze="Variable not accessible in operator call",mze="Unsupported variable declaration",gze="Unsupported destructuring pattern",Ore="Table expressions do not support closures",Pre="Use aq.escape(fn) to use a function as-is (including closures)",yze="use table.params({ name: value }) to define dynamic parameters",_ze="use aq.addFunction(name, fn) to add new op functions",vze=`
Note: ${Ore}. ${Pre}, or ${yze}.`,Rre=`
Note: ${Ore}. ${Pre}, or ${_ze}.`,bze=`The ${Uee} method is not valid in multi-table expressions.`;function Eze(e,t){const n=wze(t);let r=e.root=n;return e.spec=t,e.tuple=null,e.tuple1=null,e.tuple2=null,e.$param=null,e.$op=0,e.scope=new Set,e.paramsRef=new Map,e.columnRef=new Map,m7e(r)?(Sze(r,e),r=r.body):e.join?(e.scope.add(e.tuple1=ize),e.scope.add(e.tuple2=sze),e.scope.add(e.$param=PU)):(e.scope.add(e.tuple=rze),e.scope.add(e.$param=PU)),cn(r,e,C3),e.root}function wze(e){try{const t=e.field?Tze(e):yn(e)?Iu(e):e;return tze(`expr=(${t})`,nze).body[0].expression.right}catch{jt(`Expression parse error: ${e+""}`)}}function Tze(e){const t=JSON.stringify(e+"");return e.table?`(a,b)=>b[${t}]`:`d=>d[${t}]`}const C3={FunctionDeclaration:Si("Function definitions"),ForStatement:Si("For loops"),ForOfStatement:Si("For-of loops"),ForInStatement:Si("For-in loops"),WhileStatement:Si("While loops"),DoWhileStatement:Si("Do-while loops"),AwaitExpression:Si("Await expressions"),ArrowFunctionExpression:Si("Function definitions"),AssignmentExpression:Si("Assignments"),FunctionExpression:Si("Function definitions"),NewExpression:Si('Use of "new"'),UpdateExpression:Si("Update expressions"),VariableDeclarator(e,t){uR(e.id,t)},Identifier(e,t,n){Dre(e,t,n)&&!t.scope.has(e.name)&&t.error(e,hze,vze)},CallExpression(e,t){const n=Nre(e.callee),r=Fee(n)||Bee(n);if(r){if((t.join||t.aggregate===!1)&&y$(n)&&oze(e,t),(t.join||t.window===!1)&&_$(n)&&aze(e,t),t.$op=1,t.ast)aR(e,n,t),e.arguments.forEach(i=>cn(i,t,oR));else{const i=t.op(Ize(t,r,n,e.arguments));Object.assign(e,{type:kee,name:i.id})}return t.$op=0,!1}else Mee(n)?aR(e,n,t):t.error(e,Are,Rre)},MemberExpression(e,t,n){const{object:r,property:i}=e;if(!Kr(Hc,r))return;const{name:s}=r;if(kre(e)&&Kr(Hc,i)&&Ca(I3,i.name)){Mre(e,i.name);return}const o=s===t.tuple?0:s===t.tuple1?1:s===t.tuple2?2:-1;if(o>=0)return RU(e,o,t,$re,n);if(s===t.$param)return RU(e,o,t,Cze);t.paramsRef.has(s)?zy(e,t.paramsRef.get(s)):t.columnRef.has(s)?Lre(r,s,t,e):Ca(t.params,s)&&zy(r,s)}};function RU(e,t,n,r,i){const{property:s,computed:o}=e;let a;if(!o)a=s.name;else if(Kr(qm,s))a=s.value;else try{cn(s,n,C3,e),a=n.param(s)}catch{n.error(e,cze)}return r(e,a,t,n,i),!1}const oR={...C3,VariableDeclarator:Si("Variable declaration in operator call"),Identifier(e,t,n){Dre(e,t,n)&&t.error(e,pze)},CallExpression(e,t){const n=Nre(e.callee);Mee(n)?aR(e,n,t):t.error(e,Are,Rre)}};function Sze(e,t){e.generator&&Si("Generator functions")(e,t),e.async&&Si("Async functions")(e,t);const{params:n}=e,r=n.length,i=o=>(a,u)=>t.columnRef.set(a,[u,o]),s=(o,a)=>t.paramsRef.set(o,a);r&&(t.join?(z0(t,n[0],"tuple1",i(1)),r>1&&z0(t,n[1],"tuple2",i(2)),r>2&&z0(t,n[2],"$param",s)):(z0(t,n[0],"tuple",i(0)),r>1&&z0(t,n[1],"$param",s))),t.root=e.body}function z0(e,t,n,r){Kr(Hc,t)?(e.scope.add(t.name),e[n]=t.name):Kr(Ree,t)&&t.properties.forEach(i=>{const s=Kr(Hc,i.key)?i.key.name:Kr(qm,i.key)?i.key.value:e.error(i,uze);Kr(Hc,i.value)||e.error(i.value,gze),r(i.value.name,s)})}function Ize(e,t,n,r){const i=[],s=[],o=t.param[0]||0,a=o+(t.param[1]||0);return r.forEach((u,l)=>{l<o?(cn(u,e,oR),i.push(e.field(u))):l<a?(cn(u,e,oR),s.push(e.param(u))):e.error(u,fze)}),{name:n,fields:i,params:s,...e.spec.window||{}}}function Nre(e){return Kr(Hc,e)?e.name:Kr(Pee,e)?kre(e)?xze(e.property.name):e.property.name:null}function kre(e){return Kr(Hc,e.object)&&e.object.name==="Math"}function xze(e){return e==="max"?"greatest":e==="min"?"least":e}function Dre(e,t,n){const{name:r}=e;if(!(Kr(Pee,n)&&n.property===e)){if(!(Kr(Nee,n)&&n.key===e))if(t.paramsRef.has(r))zy(e,t.paramsRef.get(r));else if(t.columnRef.has(r))Lre(e,r,t,n);else if(Ca(t.params,r))zy(e,r);else if(Ca(I3,r))Mre(e,r);else return!0}}function $re(e,t,n,r,i){const s=n===0?r.table:n>0?r.join[n-1]:null,o=s&&s.column(t);s&&!o&&r.error(e,x3),r.aggronly&&!r.$op&&r.error(e,lze),jee(e,t,n,o,i)}function Lre(e,t,n,r){const[i,s]=n.columnRef.get(t);$re(e,i,s,n,r)}function Cze(e,t,n,r){r.params&&!Ca(r.params,t)&&r.error(e,dze),zy(e,t)}function zy(e,t){e.type=_Be,e.name=t}function Mre(e,t){e.type=mBe,e.name=t,e.raw=I3[t]}function aR(e,t,n){if(t===Uee){const r=n.table;r||n.error(e,bze),Vee(e,e.arguments.length?e.arguments.map(i=>{const s=n.param(i),o=cs(s)?r.columnName(s):s;return r.column(o)||n.error(i,x3),o}):r.columnNames())}else e.callee={type:yBe,name:t}}function uR(e,t){Kr(Hc,e)?t.scope.add(e.name):Kr(fBe,e)?e.elements.forEach(n=>uR(n,t)):Kr(Ree,e)?e.properties.forEach(n=>uR(n.value,t)):t.error(e.id,mze)}const Aze={[W_]:1,[kee]:1};function Hs(e,t={}){const n=t.generate||hT,r=t.compiler||v$,i=Pze(t),s={},o={},a=[],u=[];let l=0,c=-1;const f=t.join?r.join:t.index==1?r.expr2:r.expr,d={op(m){const y=Oze(m);return o[y]||(m.id=++c,o[y]=m)},field(m){const y=n(m);return s[y]||(s[y]=++l)},param(m){return Kr(qm,m)?m.value:r.param(n(m),i)},value(m,y){a.push(m);const g=y.escape||(t.ast?p7e(y):f(n(y),i));u.push(g),Aze[y.type]&&g!==y&&Xi(g)&&(g.field=y.name)},error(m,y,g=""){const _=m.start-6,b=m.end-6,T=String(d.spec).slice(_,b);jt(`${y}: "${T}"${g}`)}};Object.assign(d,t,{params:i});for(const[m,y]of FI(e))d.value(m+"",y.escape?_7e(d,y,i):Eze(d,y));if(t.ast)return{names:a,exprs:u};const h=[];for(const m in s)h[s[m]]=r.expr(m,i);const p=Object.values(o);return p.forEach(m=>m.fields=m.fields.map(y=>h[y])),{names:a,exprs:u,ops:p}}function Oze(e){let t=`${e.name}(${e.fields.concat(e.params).join(",")})`;if(e.frame){const n=e.frame.map(r=>Number.isFinite(r)?Math.abs(r):-1);t+=`[${n},${!!e.peers}]`}return t}function Pze(e){return(e.table?eO(e.table):e.join?{...eO(e.join[1]),...eO(e.join[0])}:{})||{}}function eO(e){return e&&er(e.params)?e.params():{}}const Fre="Expr",ua="ExprList",Bre="ExprNumber",cg="ExprObject",ip="JoinKeys",DT="JoinValues",Ao="Options",A3="OrderKeys",sc="SelectionList",Kf="TableRef",sp="TableRefList",Rze="Descending",Nze="Query",kze="Selection",Dze="Verb",$ze="Window";function nx(e,t){return e&&e.expr?new NU({...e,...t}):new NU(t,e)}class NU{constructor(t,n){this.expr=n,Object.assign(this,t)}toString(){return String(this.expr)}toObject(){return{...this,expr:this.toString(),...er(this.expr)?{func:!0}:{}}}}function Lze(e){return nx(e,{desc:!0})}function jd(e,t,n=0){const r=n?{field:!0,table:n}:{field:!0};return nx(e,t?{expr:t,...r}:r)}function Mze(e,t,n){return nx(e,{window:{frame:t||[-1/0,0],peers:!!n}})}function Fze(e){const t=n=>n;return t.toString=()=>e,t}function kU(e,t){return t=t&&er(t.query)?t.query():t,t&&er(t.evaluate)?t.evaluate(null,e):e(t)}function jre(e){return Xi(e)&&(yn(e.all)||yn(e.matches)||yn(e.not)||yn(e.range))}function Hy(e){return e&&er(e.toObject)?e.toObject():er(e)?{expr:String(e),func:!0}:yn(e)?e.map(Hy):Xi(e)?QI(e,t=>Hy(t)):e}function O3(e){return yn(e)?e.map(O3):Xi(e)?yn(e.verbs)?R3.from(e):yn(e.all)?gm():yn(e.range)?l7e(...e.range):yn(e.match)?c7e(RegExp(...e.match)):yn(e.not)?Hne(e.not.map(Hy)):Bze(e):e}function Bze(e){let t=e,n=e.expr;if(n!=null){if(e.field===!0?t=n=jd(n):e.func===!0&&(t=n=Fze(n)),Xi(e.window)){const{frame:r,peers:i}=e.window;t=n=Mze(n,r,i)}e.desc===!0&&(t=Lze(n))}return e===t?QI(e,r=>O3(r)):t}function jze(e){return yn(e)?e.map(Uze):e}function Uze(e){const t=[];return Vs(e).forEach(n=>{cs(n)?t.push(n):Li(n)?t.push(jd(n,null)):Xi(n)&&n.expr||er(n)?t.push(n):jt(`Invalid key value: ${n+""}`)}),t}function Vze(e){return yn(e)?e.map(zze):e}function zze(e,t){return t<2?Vs(e):e}function Hze(e){const t=[];return e.forEach(n=>{const r=n.expr!=null?n.expr:n;if(Xi(r)&&!er(r))for(const i in r)t.push(r[i]);else n=cs(r)?r:Li(r)?jd(n):er(r)?n:jt(`Invalid orderby field: ${n+""}`),t.push(n)}),t}const Wze={[Fre]:Hre,[ua]:_m,[Bre]:Xze,[cg]:ff,[ip]:Jze,[DT]:Zze,[A3]:_m,[sc]:Kze};function qze(e,t,n){return t===Kf?DU(e):t===sp?e.map(DU):Ure(Hy(e),t,n)}function Ure(e,t,n){return t===Ao?e&&Yze(e,n):Wze[t](e)}function Yze(e,t={}){const n={};for(const r in e){const i=e[r];n[r]=t[r]?Ure(i,t[r]):i}return n}function Gze(e,t){return Hs({expr:e},{...t,ast:!0}).exprs[0]}function P3(e){return{type:W_,name:e}}function Vre(e){return{type:W_,index:e}}function ff(e,t){if(Li(e))return Gze(e,t);if(e.expr){let n;if(e.field===!0?n=P3(e.expr):e.func===!0&&(n=ff(e.expr,t)),n)return e.desc&&(n={type:Rze,expr:n}),e.window&&(n={type:$ze,expr:n,...e.window}),n}return Object.keys(e).map(n=>({...ff(e[n],t),as:n}))}function zre(e){const t=kze;return e.all?{type:t,operator:"all"}:e.not?{type:t,operator:"not",arguments:_m(e.not)}:e.range?{type:t,operator:"range",arguments:_m(e.range)}:e.matches?{type:t,operator:"matches",arguments:e.matches}:jt("Invalid input")}function Kze(e){return Vs(e).map(Qze).flat()}function Qze(e){return jre(e)?zre(e):cs(e)?Vre(e):Li(e)?P3(e):Xi(e)?Object.keys(e).map(t=>({type:W_,name:t,as:e[t]})):jt("Invalid input")}function Hre(e){return jre(e)?zre(e):cs(e)?Vre(e):Li(e)?P3(e):Xi(e)?ff(e):jt("Invalid input")}function _m(e){return Vs(e).map(Hre).flat()}function Xze(e){return cs(e)?e:ff(e)}function Jze(e){return yn(e)?e.map(_m):ff(e,{join:!0})}function Zze(e){return yn(e)?e.map((t,n)=>n<2?_m(t):ff(t,{join:!0})):ff(e,{join:!0})}function DU(e){return e&&er(e.toAST)?e.toAST():e}class Wre{constructor(t,n=[],r=[]){this.verb=t,this.schema=n,n.forEach((i,s)=>{const o=i.type,a=r[s],u=o===ip?jze(a):o===DT?Vze(a):o===A3?Hze(a):a;this[i.name]=u!==void 0?u:i.default})}static from(t){const n=lR[t.verb],r=(n.schema||[]).map(({name:i})=>O3(t[i]));return n(...r)}evaluate(t,n){const r=this.schema.map(({name:i,type:s})=>{const o=this[i];return s===Kf?kU(n,o):s===sp?o.map(a=>kU(n,a)):o});return t[this.verb](...r)}toObject(){const t={verb:this.verb};return this.schema.forEach(({name:n})=>{t[n]=Hy(this[n])}),t}toAST(){const t={type:Dze,verb:this.verb};return this.schema.forEach(({name:n,type:r,props:i})=>{t[n]=qze(this[n],r,i)}),t}}function Ln(e,t){return Object.assign((...n)=>new Wre(e,t,n),{schema:t})}const lR={count:Ln("count",[{name:"options",type:Ao}]),derive:Ln("derive",[{name:"values",type:cg},{name:"options",type:Ao,props:{before:sc,after:sc}}]),filter:Ln("filter",[{name:"criteria",type:cg}]),groupby:Ln("groupby",[{name:"keys",type:ua}]),orderby:Ln("orderby",[{name:"keys",type:A3}]),relocate:Ln("relocate",[{name:"columns",type:sc},{name:"options",type:Ao,props:{before:sc,after:sc}}]),rename:Ln("rename",[{name:"columns",type:sc}]),rollup:Ln("rollup",[{name:"values",type:cg}]),sample:Ln("sample",[{name:"size",type:Bre},{name:"options",type:Ao,props:{weight:Fre}}]),select:Ln("select",[{name:"columns",type:sc}]),ungroup:Ln("ungroup"),unorder:Ln("unorder"),reify:Ln("reify"),dedupe:Ln("dedupe",[{name:"keys",type:ua,default:[]}]),impute:Ln("impute",[{name:"values",type:cg},{name:"options",type:Ao,props:{expand:ua}}]),fold:Ln("fold",[{name:"values",type:ua},{name:"options",type:Ao}]),pivot:Ln("pivot",[{name:"keys",type:ua},{name:"values",type:ua},{name:"options",type:Ao}]),spread:Ln("spread",[{name:"values",type:ua},{name:"options",type:Ao}]),unroll:Ln("unroll",[{name:"values",type:ua},{name:"options",type:Ao,props:{drop:ua}}]),lookup:Ln("lookup",[{name:"table",type:Kf},{name:"on",type:ip},{name:"values",type:ua}]),join:Ln("join",[{name:"table",type:Kf},{name:"on",type:ip},{name:"values",type:DT},{name:"options",type:Ao}]),cross:Ln("cross",[{name:"table",type:Kf},{name:"values",type:DT},{name:"options",type:Ao}]),semijoin:Ln("semijoin",[{name:"table",type:Kf},{name:"on",type:ip}]),antijoin:Ln("antijoin",[{name:"table",type:Kf},{name:"on",type:ip}]),concat:Ln("concat",[{name:"tables",type:sp}]),union:Ln("union",[{name:"tables",type:sp}]),intersect:Ln("intersect",[{name:"tables",type:sp}]),except:Ln("except",[{name:"tables",type:sp}])};let R3=class qre extends yee{constructor(t,n,r){super(n),this._verbs=t||[],this._table=r}static from({verbs:t,table:n,params:r}){return new qre(t.map(Wre.from),r,n)}get[Symbol.toStringTag](){return this._verbs?`Query: ${this._verbs.length} verbs`+(this._table?` on '${this._table}'`:""):"Object"}get length(){return this._verbs.length}get tableName(){return this._table}params(t){return arguments.length?(this._params={...this._params,...t},this):this._params}evaluate(t,n){t=t||n(this._table);for(const r of this._verbs)t=r.evaluate(t.params(this._params),n);return t}toObject(){return $U(this,"toObject")}toJSON(){return this.toObject()}toAST(){return $U(this,"toAST",{type:Nze})}};function $U(e,t,n){return{...n,verbs:e._verbs.map(r=>r[t]()),...e._params?{params:e._params}:null,...e._table?{table:e._table}:null}}function eHe(e,t){return new R3(e._verbs.concat(t),e._params,e._table)}for(const e in lR){const t=lR[e];R3.prototype["__"+e]=function(n,...r){return eHe(n,t(...r))}}function Zm(e,t,...n){const r=["_","$"],i=r.slice(0,n.length);return i.push('"use strict"; const '+n.map((s,o)=>s.map((a,u)=>`${r[o]}${u} = ${r[o]}[${u}]`).join(", ")).join(", ")+`; return (${e}) => ${t};`),Function(...i)(...n)}function tHe(e,t=[]){return e.groupby(t.length?t:e.columnNames()).filter("row_number() === 1").ungroup().reify()}function N3(e,t){const n=To();return t.forEach((r,i)=>{const s=Li(r)?r:i;if(s){const o=e.column(i)||jt(`Unrecognized column: ${i}`);n.add(s,o)}}),e.create(n)}function Yre(e,t,{before:n,after:r}={}){const i=n!=null,s=r!=null;i||s||jt("relocate requires a before or after option."),i&&s&&jt("relocate accepts only one of the before or after options."),t=Pl(e,t);const o=[...Pl(e,i?n:r).keys()],a=i?o[0]:o.pop(),u=new Map;return e.columnNames().forEach(l=>{const c=!t.has(l);if(l===a){s&&c&&u.set(l,l);for(const[f,d]of t)u.set(f,d);if(s)return}c&&u.set(l,l)}),N3(e,u)}function Z_(e,t=r=>r,n=""){const r=e.length;if(!r)return"";let i=t(e[0],0);for(let s=1;s<r;++s)i+=n+t(e[s],s);return i}function k3(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function nHe(e,t=0,n=e.length){let r=n?e[t++]:dn;for(let i=t;i<n;++i)r>e[i]&&(r=e[i]);return r}function rHe(e,t=0,n=e.length){let r=n?e[t++]:dn;for(let i=t;i<n;++i)r<e[i]&&(r=e[i]);return r}function v1(e){return $y(e)?e:+e}function iHe(e,t){const n=e.length;if(!n)return dn;if((t=+t)<=0||n<2)return v1(e[0]);if(t>=1)return v1(e[n-1]);const r=(n-1)*t,i=Math.floor(r),s=v1(e[i]);return $y(s)?s:s+(v1(e[i+1])-s)*(r-i)}class sHe{constructor(t){this._values=t||[],this._sorted=null,this._start=0}values(t){return this._start&&(this._values=this._values.slice(this._start),this._start=0),t?this._values.slice():this._values}add(t){this._values.push(t),this._sorted=null}rem(){this._start+=1,this._sorted=null}min(){return this._sorted&&this._sorted.length?this._sorted[0]:nHe(this._values,this._start)}max(){return this._sorted&&this._sorted.length?this._sorted[this._sorted.length-1]:rHe(this._values,this._start)}quantile(t){return this._sorted||(this._sorted=this.values(!0),this._sorted.sort(k3)),iHe(this._sorted,t)}}const $T=(e,t,n)=>Zm(t,"{"+Z_(e,(r,i)=>`_${i}.${n}(${t});`)+"}",e);function oHe(e,t){const{ops:n,output:r}=aHe(e,t),i=e[0].fields,s=i.length,o=s===0?D3:s===1?uHe:s===2?lHe:jt("Unsupported field count: "+s);return new o(i,n,r,t)}function aHe(e,t){const n={},r=[];function i(o,a=[]){const u=o+":"+a;if(n[u])return n[u];const l=Fee(o),c=l.create(...a);return t<0&&l.stream&&l.stream.forEach(f=>i(f,[])),l.req&&l.req.forEach(f=>i(f,[])),n[u]=c,r.push(c),c}const s=e.map(o=>{const a=i(o.name,o.params);return a.output=o.id,a});return{ops:r,output:s}}class D3 extends d7e{constructor(t,n,r,i){super(r),this._op=n,this._fields=t,this._stream=!!i}init(){const t={count:0,valid:0,stream:this._stream};return this._op.forEach(n=>n.init(t)),t.values&&(t.list=new sHe),t}write(t,n,r){const i=this._outputs,s=i.length;for(let o=0;o<s;++o)n[i[o].output][r]=i[o].value(t);return 1}_add(){}_rem(){}add(t){++t.count}rem(t){--t.count}}class uHe extends D3{constructor(t,n,r,i){super(t,n,r,i);const s=["state","v1","v2"];this._add=$T(n,s,"add"),this._rem=$T(n,s,"rem")}add(t,n,r){const i=this._fields[0](n,r);++t.count,_a(i)&&(++t.valid,t.list&&t.list.add(i),this._add(t,i))}rem(t,n,r){const i=this._fields[0](n,r);--t.count,_a(i)&&(--t.valid,t.list&&t.list.rem(),this._rem(t,i))}}class lHe extends D3{constructor(t,n,r,i){super(t,n,r,i);const s=["state","v1","v2"];this._add=$T(n,s,"add"),this._rem=$T(n,s,"rem")}add(t,n,r){const i=this._fields[0](n,r),s=this._fields[1](n,r);++t.count,_a(i)&&_a(s)&&(++t.valid,t.list&&t.list.add([i,s]),this._add(t,i,s))}rem(t,n,r){const i=this._fields[0](n,r),s=this._fields[1](n,r);--t.count,_a(i)&&_a(s)&&(--t.valid,t.list&&t.list.rem(),this._rem(t,i,s))}}function lh(e,t,n){if(t.length){const r=e.data(),{keys:i}=e.groups()||{},s=e0(e,t),o=i?(a,u)=>s[a][i[u]]:a=>s[a][0];n=n.map(a=>u=>a(u,r,o))}return n}function e0(e,t,n){if(!t.length)return n;const r=Gre(t),i=e.groups(),s=i?i.size:1;return n=n||LI(t.length,()=>Array(s)),s>1?r.forEach(o=>{const a=Qre(e,o,i);for(let u=0;u<s;++u)o.write(a[u],n,u)}):r.forEach(o=>{const a=Kre(e,o);o.write(a,n,0)}),n}function Gre(e,t){const n=[],r={};for(const i of e){const s=i.fields.map(o=>o+"").join(",");(r[s]||(r[s]=[])).push(i)}for(const i in r)n.push(oHe(r[i],t));return n}function Kre(e,t){const n=t.init(),r=e.totalRows(),i=e.data(),s=e.mask();if(e.isOrdered()){const o=e.indices();for(let a=0;a<r;++a)t.add(n,o[a],i)}else if(s)for(let o=s.next(0);o>=0;o=s.next(o+1))t.add(n,o,i);else for(let o=0;o<r;++o)t.add(n,o,i);return n}function Qre(e,t,n){const{keys:r,size:i}=n,s=LI(i,()=>t.init()),o=e.data();if(e.isOrdered()){const a=e.indices(),u=a.length;for(let l=0;l<u;++l){const c=a[l];t.add(s[r[c]],c,o)}}else if(e.isFiltered()){const a=e.mask();for(let u=a.next(0);u>=0;u=a.next(u+1))t.add(s[r[u]],u,o)}else{const a=e.totalRows();for(let u=0;u<a;++u)t.add(s[r[u]],u,o)}return s}function Xre(e,t){const{get:n,names:r,rows:i,size:s}=t,o=r.length;for(let a=0;a<o;++a){const u=e.add(r[a],Array(s)),l=n[a];for(let c=0;c<s;++c)u[c]=l(i[c])}}function Jre(e){return{left(t,n,r,i){for(r==null&&(r=0),i==null&&(i=t.length);r<i;){const s=r+i>>>1;e(t[s],n)<0?r=s+1:i=s}return r},right(t,n,r,i){for(r==null&&(r=0),i==null&&(i=t.length);r<i;){const s=r+i>>>1;e(t[s],n)>0?i=s:r=s+1}return r}}}const LU=Jre(k3);function cHe(e,t,n,r,i){let s,o,a,u,l;const c=m=>o[m-1]===o[m],f=r.length,d=i.length,h=r.length?Zm(["w","r","k"],"{"+Z_(r,(m,y)=>`r[_${y}.id][k]=_${y}.value(w,_${y}.get);`)+"}",r):()=>{},p={i0:0,i1:0,index:0,size:0,peer:c,init(m,y,g,_){p.index=p.i0=p.i1=0,p.size=y.length,s=m,o=y,u=g,l=_,a=i?i.map(b=>b.init()):null;for(let b=0;b<f;++b)r[b].init();return p},value(m,y){return y(s[m],e)},step(m){const[y,g]=t,_=p.size,b=p.i0,T=p.i1;p.i0=y!=null?Math.max(0,m-Math.abs(y)):0,p.i1=g!=null?Math.min(_,m+Math.abs(g)+1):_,p.index=m,n&&(p.i0>0&&c(p.i0)&&(p.i0=LU.left(o,o[p.i0])),p.i1<_&&c(p.i1)&&(p.i1=LU.right(o,o[p.i1-1])));for(let I=0;I<d;++I){const E=i[I],S=a[I];for(let A=b;A<p.i0;++A)E.rem(S,s[A],e);for(let A=T;A<p.i1;++A)E.add(S,s[A],e);E.write(S,u,l)}return h(p,u,l),u}};return p}const fHe=e=>(e.frame||[null,null]).map(t=>Number.isFinite(t)?Math.abs(t):null),dHe=e=>!!e.peers;function hHe(e){const{id:t,name:n,fields:r=[],params:i=[]}=e,s=Bee(n).create(...i);return r.length&&(s.get=r[0]),s.id=t,s}function pHe(e,t,n,r={},i){const s=e.data(),o=mHe(i,s),a=o.length,u=Zm(["r","d","op"],"{"+Z_(t,(l,c)=>`_${c}[r] = $${c}(r, d, op);`)+"}",t,n);e.partitions().forEach((l,c)=>{const f=l.length,d=gHe(e,l);for(let p=0;p<a;++p)o[p].init(l,d,r,c);const h=p=>r[p][c];for(let p=0;p<f;++p){for(let m=0;m<a;++m)o[m].step(p);u(l[p],s,h)}})}function mHe(e,t){const n={};return e.forEach(r=>{const i=fHe(r),s=dHe(r),o=`${i},${s}`,{aggOps:a,winOps:u}=n[o]||(n[o]={frame:i,peers:s,aggOps:[],winOps:[]});y$(r.name)?a.push(r):u.push(hHe(r))}),Object.values(n).map(r=>cHe(t,r.frame,r.peers,r.winOps,Gre(r.aggOps,r.frame[0]!=null?-1:1)))}function gHe(e,t){if(e.isOrdered()){const n=e.comparator(),r=e.data(),i=t.length,s=new Uint32Array(i);for(let o=1,a=0;o<i;++o)s[o]=n(t[o-1],t[o],r)?++a:a;return s}else return t}function yHe(e){return _$(e.name)||e.frame&&(Number.isFinite(e.frame[0])||Number.isFinite(e.frame[1]))}function $3(e,{names:t,exprs:n,ops:r},i={}){const s=e.totalRows(),o=To(i.drop?null:e),a=t.map(d=>o.add(d,Array(s))),[u,l]=_He(r),c=e.isGrouped()?e.groups().size:1,f=e0(e,u,LI(r.length,()=>Array(c)));return l.length?pHe(e,a,n,f,l):vHe(e,a,n,f),e.create(o)}function _He(e){const t=[],n=[],r=e.length;for(let i=0;i<r;++i){const s=e[i];s.id=i,(yHe(s)?n:t).push(s)}return[t,n]}function vHe(e,t,n,r){const i=e.mask(),s=e.data(),{keys:o}=e.groups()||{},a=o?(l,c)=>r[l][o[c]]:l=>r[l][0],u=t.length;for(let l=0;l<u;++l){const c=n[l],f=t[l];if(i)for(let d=i.next(0);d>=0;d=i.next(d+1))f[d]=c(d,s,a);else{const d=e.totalRows();for(let h=0;h<d;++h)f[h]=c(h,s,a)}}}function bHe(e,t,n={}){const r=$3(e,Hs(t,{table:e}),n);return n.drop||n.before==null&&n.after==null?r:Yre(r,Object.keys(t).filter(i=>!e.column(i)),n)}function EHe(e,t){if(t.length===0)return e;const n=e.columnNames();return t.reduce((r,i)=>r.antijoin(i.select(n)),e).dedupe()}const b1=2147483648,wHe=4294967295;class Zre{constructor(t){this._size=t,this._bits=new Uint32Array(Math.ceil(t/32))}get length(){return this._size}count(){const t=this._bits.length;let n=0;for(let r=0;r<t;++r)for(let i=this._bits[r];i;++n)i&=i-1;return n}get(t){return this._bits[t>>5]&b1>>>t}set(t){this._bits[t>>5]|=b1>>>t}clear(t){this._bits[t>>5]&=~(b1>>>t)}scan(t){for(let n=this.next(0);n>=0;n=this.next(n+1))t(n)}next(t){const n=this._bits,r=n.length;let i=t>>5,s=n[i]&wHe>>>t;for(;i<r;s=n[++i])if(s!==0)return(i<<5)+Math.clz32(s);return-1}nth(t){let n=this.next(0);for(;t--&&n>=0;)n=this.next(n+1);return n}not(){const t=this._bits,n=t.length;for(let i=0;i<n;++i)t[i]=~t[i];const r=this._size%32;return r&&(t[n-1]&=b1>>r-1),this}and(t){if(t){const n=this._bits,r=t._bits,i=n.length;for(let s=0;s<i;++s)n[s]&=r[s]}return this}or(t){if(t){const n=this._bits,r=t._bits,i=n.length;for(let s=0;s<i;++s)n[s]|=r[s]}return this}}function THe(e,t){const n=e.totalRows(),r=e.mask(),i=e.data(),s=new Zre(n);if(r)for(let o=r.next(0);o>=0;o=r.next(o+1))t(o,i)&&s.set(o);else for(let o=0;o<n;++o)t(o,i)&&s.set(o);return e.create({filter:s})}function SHe(e,t){const n=Hs({p:t},{table:e});let r=n.exprs[0];if(n.ops.length){const{data:i}=$3(e,n,{drop:!0}).column("p");r=s=>i[s]}return THe(e,r)}function eie(e,{names:t=[],exprs:n=[],ops:r=[]},i={}){if(!t.length)return e;const s=i.limit>0?+i.limit:1/0,o=i.index?i.index===!0?"index":i.index+"":null,a=new Set(i.drop),u=lh(e,r,n),l=To(),c=new Set(t),f=[],d=[],h=[];e.columnNames().forEach(T=>{if(!a.has(T)){const I=l.add(T,[]);c.has(T)||(f.push(e.column(T)),d.push(I))}}),t.forEach(T=>{a.has(T)||(l.has(T)||l.add(T,[]),h.push(l.data[T]))});const p=o?l.add(o,[]):null;let m=0;const y=f.length,g=h.length,_=(T,I)=>{for(let E=0;E<y;++E)d[E].length=m+I,d[E].fill(f[E].get(T),m,m+I)},b=p?(T,I)=>{for(let E=0;E<I;++E)p[T+E]=E}:()=>{};if(g===1){const T=u[0],I=h[0];e.scan((E,S)=>{const A=Vs(T(E,S)),L=Math.min(A.length,s);_(E,L);for(let W=0;W<L;++W)I[m+W]=A[W];b(m,L),m+=L})}else e.scan((T,I)=>{let E=0;const S=u.map(A=>{const L=Vs(A(T,I));return E=Math.min(Math.max(E,L.length),s),L});_(T,E);for(let A=0;A<g;++A){const L=h[A],W=S[A];for(let z=0;z<E;++z)L[m+z]=W[z]}b(m,E),m+=E});return e.create(l.new())}function IHe(e,{names:t=[],exprs:n=[],ops:r=[]},i={}){if(t.length===0)return e;const[s="key",o="value"]=i.as||[],a=lh(e,r,n);return eie(e,{names:[s,o],exprs:[()=>t,(u,l)=>a.map(c=>c(u,l))]},{...i,drop:t})}function Aa(e,t,n,r={window:!1}){const i=new Map,s=o=>{o=cs(o)?t.columnName(o):o,Li(o)?i.set(o,jd(o)):er(o)?Pl(t,o).forEach(s):Xi(o)?Vne(i,o):jt(`Invalid ${e} value: ${o+""}`)};return Vs(n).forEach(s),r.preparse&&r.preparse(i),Hs(i,{table:t,...r})}function xHe(e,t,n){return IHe(e,Aa("fold",e,t),n)}function MU(e,t,n,r){const i=n&&n.length;return CHe(i?AHe(e,n,r):e,t,i)}function CHe(e,{names:t,exprs:n,ops:r},i){const s=lh(e,r,n),o=i?null:To(e),a=e.totalRows();return t.forEach((u,l)=>{const c=e.column(u),f=i?c.data:o.add(u,Array(a)),d=s[l];e.scan(h=>{const p=c.get(h);f[h]=_a(p)?p:d(h)})}),i?e:e.create(o)}function AHe(e,t,n){const r=e.groups(),i=e.data(),s=(r?r.names:[]).concat(t),o=(r?r.get:[]).concat(t.map(p=>e.getter(p))),a=new Set,u=pT(o);e.scan((p,m)=>a.add(u(p,m)));const l=e.columnNames(),c=To(),f=l.map(p=>c.add(p,[]));l.forEach((p,m)=>{const y=i[p],g=f[m];e.scan(_=>g.push(y.get(_)))});const d=pT(o.map((p,m)=>y=>y[m])),h=Zm("v","{"+f.map((p,m)=>`_${m}.push(v[$${m}]);`).join("")+"}",f,l.map(p=>s.indexOf(p)));if(r){let p=r.keys.length;const m=n.reduce((g,_)=>g*_.length,r.size),y=new Uint32Array(m+(p-a.size));y.set(r.keys),FU(r,n,(g,_)=>{a.has(d(g))||(h(g),y[p++]=_[0])}),c.groupby({...r,keys:y})}else FU(r,n,p=>{a.has(d(p))||h(p)});return e.create(c.new())}function FU(e,t,n){const r=e?e.get.length:0,i=e?1:0,s=i+t.length,o=new Int32Array(s),a=new Int32Array(s),u=[];if(e){const{get:c,rows:f,size:d}=e;o[0]=d,u.push((h,p)=>{const m=f[p];for(let y=0;y<r;++y)h[y]=c[y](m)})}t.forEach((c,f)=>{const d=f+r;o[f+i]=c.length,u.push((h,p)=>h[d]=c[p])});const l=Array(r+t.length);for(let c=0;c<s;++c)u[c](l,0);n(l,a);for(let c=s-1;c>=0;){const f=++a[c];f<o[c]?(u[c](l,f),n(l,a),c=s-1):(a[c]=0,u[c](l,0),--c)}}function L3(e,{names:t,exprs:n,ops:r}){const i=To(),s=e.groups();return s&&Xre(i,s),OHe(t,n,s,e0(e,r),i),e.create(i.new())}function OHe(e,t,n,r=[],i){if(!t.length)return;const s=n?n.size:1,o=(u,l)=>r[u][l],a=e.length;for(let u=0;u<a;++u){const l=t[u];if(l.field!=null)i.add(e[u],r[l.field]);else if(s>1){const c=i.add(e[u],Array(s));for(let f=0;f<s;++f)c[f]=l(f,null,o)}else i.add(e[u],[l(0,null,o)])}}function PHe(e,t,n={}){if(t=Hs(t,{table:e}),t.names.forEach(r=>e.column(r)?0:jt(`Invalid impute column ${Iu(r)}`)),n.expand){const r={preparse:RHe,aggronly:!0},i=Aa("impute",e,n.expand,r),s=L3(e.ungroup(),i);return MU(e,t,i.names,i.names.map(o=>s.get(o,0)))}else return MU(e,t)}function RHe(e){e.forEach((t,n)=>t.field?e.set(n,xee(t+"")):0)}function NHe(e,t){const n=e.columnNames();return t.length?t.reduce((r,i)=>r.semijoin(i.select(n)),e).dedupe():e.reify([])}function tie(e,t){const n=new Map;return e.scan((r,i)=>{const s=t(r,i);s!=null&&s===s&&n.set(s,r)}),n}function kHe(e,t,n){const r=new Map,i=e.length;for(let s=0;s<i;++s){const o=e[s],a=n(o,t);a!=null&&a===a&&(r.has(a)?r.get(a).push(s):r.set(a,[s]))}return r}function DHe(e,t){const n=["i","a","j","b"];return Zm(n,"{"+Z_(e,(r,i)=>`_${i}.push($${i}(${n}));`)+"}",e,t)}function $He(e,t,n,{names:r,exprs:i},s={}){const o=e.data(),a=e.indices(!1),u=a.length,l=new Int32Array(u),c=t.data(),f=t.indices(!1),d=f.length,h=new Int32Array(d),p=r.length,m=To(),y=Array(p),g=Array(p);for(let T=0;T<r.length;++T)y[T]=m.add(r[T],[]),g[T]=i[T];const _=DHe(y,g);if((yn(n)?MHe:LHe)(_,n,o,c,a,f,l,h,u,d),s.left)for(let T=0;T<u;++T)l[T]||_(a[T],o,-1,c);if(s.right)for(let T=0;T<d;++T)h[T]||_(-1,o,f[T],c);return e.create(m.new())}function LHe(e,t,n,r,i,s,o,a,u,l){for(let c=0;c<u;++c){const f=i[c];for(let d=0;d<l;++d){const h=s[d];t(f,n,h,r)&&(e(f,n,h,r),o[c]=1,a[d]=1)}}}function MHe(e,[t,n],r,i,s,o,a,u,l,c){let f,d,h,p,m,y,g,_,b=e;l>=c?(f=r,d=t,h=a,p=s,m=i,y=n,g=u,_=o):(f=i,d=n,h=u,p=o,m=r,y=t,g=a,_=s,b=(E,S,A,L)=>e(A,L,E,S));const T=kHe(_,m,y),I=p.length;for(let E=0;E<I;++E){const S=p[E],A=T.get(d(S,f));if(A){const L=A.length;for(let W=0;W<L;++W){const z=A[W];b(S,f,_[z],m),g[z]=1}h[E]=1}}}function LT(e,t,n){const r=new Map;Vs(n).forEach((s,o)=>{s=cs(s)?t.columnName(s):s,Li(s)?r.set(o,jd(s)):er(s)||Xi(s)&&s.expr?r.set(o,s):jt(`Invalid ${e} key value: ${s+""}`)});const i=Hs(r,{table:t,aggregate:!1,window:!1});return pT(i.exprs,!0)}function FHe(e,t){const n=new Set(t);return e.filter(r=>n.has(r))}function M3(e,t,n){if(n)Li(n)?n=[n,n]:yn(n)&&n.length===1&&(n=[n[0],n[0]]);else{const r=FHe(e.columnNames(),t.columnNames());r.length||jt("Natural join requires shared column names."),n=[r,r]}return n}function nie(e,t,n,r){return n.length!==r.length&&jt("Mismatched number of join keys"),[LT("join",e,n),LT("join",t,r)]}const BHe={aggregate:!1,window:!1},jHe={...BHe,index:1};function BU(e,t,n,r,i={}){n=M3(e,t,n);const s={join:[e,t]};let o;if(yn(n)){const[a,u]=n.map(Vs);o=nie(e,t,a,u),r||(r=UHe(e,a,u,i))}else o=Hs({on:n},s).exprs[0],r||(r=[gm(),gm()]);return $He(e,t,o,VHe(e,t,r,s,i&&i.suffix),i)}function UHe(e,t,n,r){const i=[];t.forEach((o,a)=>Li(o)&&o===n[a]?i.push(o):0);const s=Hne(i);if(r.left&&r.right){const o=new Set(i);return[e.columnNames().map(a=>{const u=`[${Iu(a)}]`;return o.has(a)?{[a]:`(a, b) => a${u} == null ? b${u} : a${u}`}:a}),s]}return r.right?[s,gm()]:[gm(),s]}function VHe(e,t,n,r,i=[]){if(yn(n)){let s,o,a,u=n.length;s=o=a={names:[],exprs:[]},u--&&(s=Aa("join",e,n[0],r)),u--&&(o=Aa("join",t,n[1],jHe)),u--&&(a=Hs(n[2],r));const l=new Set,c=new Set(s.names);return o.names.forEach(f=>{c.has(f)&&l.add(f)}),l.size&&(jU(s.names,l,i[0]||"_1"),jU(o.names,l,i[1]||"_2")),{names:s.names.concat(o.names,a.names),exprs:s.exprs.concat(o.exprs,a.exprs)}}else return Hs(n,r)}function jU(e,t,n){e.forEach((r,i)=>t.has(r)?e[i]=r+n:0)}function zHe(e,t,n,r={}){const i=new Zre(e.totalRows());return(yn(n)?HHe:WHe)(i,e,t,n),r.anti&&i.not().and(e.mask()),e.create({filter:i})}function HHe(e,t,n,[r,i]){const s=tie(n,i);t.scan((o,a)=>{s.get(r(o,a))>=0&&e.set(o)})}function WHe(e,t,n,r){const i=t.numRows(),s=n.numRows(),o=t.data(),a=n.data();if(t.isFiltered()||n.isFiltered()){const u=t.indices(!1),l=n.indices(!1);for(let c=0;c<i;++c){const f=u[c];for(let d=0;d<s;++d)if(r(f,o,l[d],a)){e.set(f);break}}}else for(let u=0;u<i;++u)for(let l=0;l<s;++l)if(r(u,o,l,a)){e.set(u);break}}function UU(e,t,n,r){n=M3(e,t,n);const i=yn(n)?nie(e,t,...n.map(Vs)):Hs({on:n},{join:[e,t]}).exprs[0];return zHe(e,t,i,r)}function qHe(e,t,[n,r],{names:i,exprs:s,ops:o}){const a=To(e),u=e.totalRows();i.forEach(d=>a.add(d,Array(u).fill(dn)));const l=tie(t,r),c=Zm(["lr","rr","data"],"{"+Z_(i,(d,h)=>`_[${h}][lr] = $[${h}](rr, data);`)+"}",i.map(d=>a.data[d]),lh(t,o,s)),f=t.data();return e.scan((d,h)=>{const p=l.get(n(d,h));p>=0&&c(d,p,f)}),e.create(a)}function YHe(e,t,n,r){return n=M3(e,t,n),qHe(e,t,[LT("lookup",e,n[0]),LT("lookup",t,n[1])],Aa("lookup",t,r))}const cR=(e,t)=>e??t;function GHe(e,t,n,r={}){const{keys:i,keyColumn:s}=KHe(e,t,r),o=cR(r.valueSeparator,"_"),a=n.names.length>1?(l,c)=>c+o+i[l]:l=>i[l],u=i.map(l=>e0(e,n.ops.map(c=>{if(c.name==="count"){const d=h=>l===s[h]?1:NaN;return d.toString=()=>l+":1",{...c,name:"sum",fields:[d]}}const f=c.fields.map(d=>{const h=(p,m)=>l===s[p]?d(p,m):NaN;return h.toString=()=>l+":"+d,h});return{...c,fields:f}})));return e.create(QHe(n,a,e.groups(),u))}function KHe(e,t,n){const r=n.limit>0?+n.limit:1/0,i=cR(n.sort,!0),s=cR(n.keySeparator,"_"),o=lh(e,t.ops,t.exprs),a=o.length===1?o[0]:(f,d)=>o.map(h=>h(f,d)).join(s),u=Array(e.totalRows());e.scan((f,d)=>u[f]=a(f,d));const l=e0(e.ungroup(),[{id:0,name:"array_agg_distinct",fields:[f=>u[f]],params:[]}])[0][0],c=i?l.sort():l;return{keys:Number.isFinite(r)?c.slice(0,r):c,keyColumn:u}}function QHe({names:e,exprs:t},n,r,i){const s=r?r.size:1,o=To(),a=i.length,u=e.length;let l;const c=(f,d)=>l[f][d];r&&Xre(o,r);for(let f=0;f<u;++f){const d=t[f];if(d.field!=null)for(let h=0;h<a;++h)o.add(n(h,e[f]),i[h][d.field]);else if(s>1)for(let h=0;h<a;++h){l=i[h];const p=o.add(n(h,e[f]),Array(s));for(let m=0;m<s;++m)p[m]=d(m,null,c)}else for(let h=0;h<a;++h)l=i[h],o.add(n(h,e[f]),[d(0,null,c)])}return o.new()}function XHe(e,t,n,r){return GHe(e,Aa("fold",e,t),Aa("fold",e,n,{preparse:JHe,aggronly:!0}),r)}function JHe(e){e.forEach((t,n)=>t.field?e.set(n,Tee(t+"")):0)}function ZHe(e,t){const n=new Map;return e.columnNames(r=>(n.set(r,r),0)),N3(e,Pl(e,t,n))}function VU(e,t){return L3(e,Hs(t,{table:e,aggronly:!0,window:!1}))}function eWe(e,t,n,r){return(t?r?nWe:tWe:r?iWe:rWe)(e.length,e,n,r)}function tWe(e,t,n){const r=n.length;for(let i=0;i<e;++i)t[i]=n[r*Wm()|0];return t}function nWe(e,t,n,r){const i=n.length,s=new Float64Array(i);let o=0;for(let u=0;u<i;++u)s[u]=o+=r(n[u]);const a=Jre(k3).right;for(let u=0;u<e;++u)t[u]=n[a(s,o*Wm())];return t}function rWe(e,t,n){const r=n.length;if(e>=r)return n;for(let i=0;i<e;++i)t[i]=n[i];for(let i=e;i<r;++i){const s=i*Wm();s<e&&(t[s|0]=n[i])}return t}function iWe(e,t,n,r){const i=n.length;if(e>=i)return n;const s=new Float32Array(i),o=new Uint32Array(i);for(let a=0;a<i;++a)o[a]=a,s[a]=-Math.log(Wm())/r(n[a]);o.sort((a,u)=>s[a]-s[u]);for(let a=0;a<e;++a)t[a]=n[o[a]];return t}function sWe(e,t=0,n=e.length){let r=n-(t=+t);for(;r;){const i=Wm()*r--|0,s=e[r+t];e[r+t]=e[i+t],e[i+t]=s}return e}function oWe(e,t,n,r={}){const{replace:i,shuffle:s}=r,o=e.partitions(!1);let a=0;t=o.map((c,f)=>{let d=t(f);return a+=d=i?d:Math.min(c.length,d),d});const u=new Uint32Array(a);let l=0;return o.forEach((c,f)=>{const d=t[f],h=u.subarray(l,l+=d);!i&&d===c.length?h.set(c):eWe(h,i,c,n)}),s!==!1&&(o.length>1||!i)&&sWe(u),e.reify(u)}function aWe(e,t,n={}){return oWe(e,uWe(e,t),lWe(e,n.weight),n)}const rie=e=>t=>e.get(t)||0;function uWe(e,t){return cs(t)?()=>t:rie(L3(e,Hs({size:t},{table:e,window:!1})).column("size"))}function lWe(e,t){return t==null?null:(t=cs(t)?e.columnName(t):t,rie(Li(t)?e.column(t):$3(e,Hs({w:t},{table:e}),{drop:!0}).column("w")))}function cWe(e,t){return N3(e,Pl(e,t))}function fWe(e,{names:t,exprs:n,ops:r=[]},i={}){if(t.length===0)return e;const s=t.length===1&&i.as||[],o=i.drop==null?!0:!!i.drop,a=i.limit==null?s.length||1/0:Math.max(1,+i.limit||1),u=lh(e,r,n),l=To(),c=t.reduce((d,h,p)=>d.set(h,p),new Map),f=(d,h)=>{const p=dWe(e,u[d],a),m=p.length;for(let y=0;y<m;++y)l.add(s[y]||`${h}_${y+1}`,p[y])};return e.columnNames().forEach(d=>{c.has(d)?(o||l.add(d,e.column(d)),f(c.get(d),d),c.delete(d)):l.add(d,e.column(d))}),c.forEach(f),e.create(l)}function dWe(e,t,n){const r=e.totalRows(),i=[];return e.scan((s,o)=>{const a=Vs(t(s,o)),u=Math.min(a.length,n);for(;i.length<u;)i.push(Array(r).fill(dn));for(let l=0;l<u;++l)i[l][s]=a[l]}),i}function hWe(e,t,n){return fWe(e,Aa("spread",e,t),n)}function pWe(e,t){return e.concat(t).dedupe()}function mWe(e,t,n){return eie(e,Aa("unroll",e,t),n&&n.drop?{...n,drop:Aa("unroll",e,n.drop).names}:n)}function gWe(e,t){return e.create({groups:yWe(e,t)})}function yWe(e,{names:t=[],exprs:n=[],ops:r=[]}){const i=t.length;if(i===0)return null;if(i===1&&!e.isFiltered()&&n[0].field){const h=e.column(n[0].field);if(h.groups)return h.groups(t)}let s=lh(e,r,n);const o=pT(s),a=e.totalRows(),u=new Uint32Array(a),l={},c=[],f=e.data(),d=e.mask();if(d)for(let h=d.next(0);h>=0;h=d.next(h+1)){const p=o(h,f)+"",m=l[p];u[h]=m??(l[p]=c.push(h)-1)}else for(let h=0;h<a;++h){const p=o(h,f)+"",m=l[p];u[h]=m??(l[p]=c.push(h)-1)}return r.length||(s=s.map(h=>p=>h(p,f))),{keys:u,get:s,names:t,rows:c,size:c.length}}function _We(e,t){return gWe(e,Aa("groupby",e,t))}function vWe(e,t){return e.create({order:t})}const bWe=(e,t,n,r)=>`((u = ${e}) < (v = ${t}) || u == null) && v != null ? ${n}
    : (u > v || v == null) && u != null ? ${r}
    : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${n}
    : v !== v && u === u ? ${r} : `;function EWe(e,t){const n=[],r=[],i=[];let s=null,o="0",a="0";e.isGrouped()&&(s=e.groups().keys,o="ka",a="kb");const{ops:u}=Hs(t,{table:e,value:(h,p)=>{if(n.push(h),p.escape){const m=y=>`fn[${i.length}](${y}, data)`;r.push([m("a"),m("b")]),i.push(p.escape)}else r.push([hT(p,{index:"a",op:o}),hT(p,{index:"b",op:a})])},window:!1}),l=e0(e,u),c=(h,p)=>l[h][p],f=n.length;let d="return (a, b) => {"+(c&&e.isGrouped()?"const ka = keys[a], kb = keys[b];":"")+"let u, v; return ";for(let h=0;h<f;++h){const p=t.get(n[h]).desc?-1:1,[m,y]=r[h];d+=bWe(m,y,-p,p)}return d+="0;};",Function("op","keys","fn","data",d)(c,s,i,e.data())}function wWe(e,t){return vWe(e,TWe(e,t))}function TWe(e,t){let n=-1;const r=new Map,i=s=>r.set(++n+"",s);return t.forEach(s=>{const o=s.expr!=null?s.expr:s;if(Xi(o)&&!er(o))for(const a in o)i(o[a]);else i(cs(o)?jd(s,e.columnName(o)):Li(o)?jd(s):er(o)?s:jt(`Invalid orderby field: ${s+""}`))}),EWe(e,r)}function SWe(e,t){const n=e.numRows(),r=n+t.reduce((o,a)=>o+a.numRows(),0);if(n===r)return e;const i=[e,...t],s=To();return e.columnNames().forEach(o=>{const a=Array(r);let u=0;i.forEach(l=>{const c=l.column(o)||{get:()=>dn};l.scan(f=>a[u++]=c.get(f))}),s.add(o,a)}),e.create(s.new())}function IWe(e,t){const n=To(),r=e.groups(),{get:i,names:s=[],rows:o,size:a=1}=r||{},u=new Uint32Array(a+1);s.forEach(d=>n.add(d,null));const l=r?Qre(e,t,r):[Kre(e,t)];t.outputs().map(d=>n.add(d,[]));const c=u.length-1;let f=0;for(let d=0;d<c;++d)f+=u[d+1]=t.write(l[d],n.data,u[d]);if(r){const d=e.data();s.forEach((h,p)=>{const m=n.data[h]=Array(f),y=i[p];for(let g=0,_=0;g<a;++g)m.fill(y(o[g],d),_,_+=u[g+1])})}return e.create(n.new())}function xWe(e){return e.isGrouped()?e.create({groups:null}):e}function CWe(e){return e.isOrdered()?e.create({order:null}):e}const AWe={__antijoin:(e,t,n)=>UU(e,t,n,{anti:!0}),__count:(e,t={})=>VU(e,{[t.as||"count"]:See()}),__cross:(e,t,n,r)=>BU(e,t,()=>!0,n,{...r,left:!0,right:!0}),__concat:SWe,__dedupe:tHe,__derive:bHe,__except:EHe,__filter:SHe,__fold:xHe,__impute:PHe,__intersect:NHe,__join:BU,__lookup:YHe,__pivot:XHe,__relocate:Yre,__rename:ZHe,__rollup:VU,__sample:aWe,__select:cWe,__semijoin:UU,__spread:hWe,__union:pWe,__unroll:mWe,__groupby:_We,__orderby:wWe,__ungroup:xWe,__unorder:CWe,__reduce:IWe};Object.assign(Xu.prototype,AWe);function OWe(e,t){return Xu.from(e,t)}function PWe(e){return nx(e,{escape:!0,toString(){jt("Escaped values can not be serialized.")}})}Xu.prototype;const sa={top:30,left:60,right:80,bottom:50};function iie({data:e,selection:t,parameters:n}){const[r,{width:i,height:s}]=tk(),o=w.useMemo(()=>{const c=e.map(f=>({...f,value:+f[n.y_var]}));return OWe(c)},[e,n]),a=w.useMemo(()=>{const c=xp(o.filter(PWe(f=>t.includes(f[n.cat_var]))).array("value"));return n.dataset==="clean_stocks"?c:[0,c[1]]},[o,t,n]),u=w.useMemo(()=>RI([sa.top,s-sa.bottom]).domain(xp(o.array("value")).reverse()),[o,s]),l=n.dataset==="clean_stocks"?zc(".0%"):zc(",.0f");return(t==null?void 0:t.length)===0?null:$.jsxs("svg",{ref:r,style:{height:"400px",width:"60px",overflow:"visible"},children:[$.jsx("rect",{y:u(a[1]),height:u(a[0])-u(a[1]),x:sa.left-10,width:10,opacity:.1,fill:"black"}),$.jsx("text",{style:{fontSize:10,dominantBaseline:"middle",textAnchor:"middle",fontFamily:'"Helvetica Neue", Helvetica, Arial, sans-serif'},x:25,y:sa.top-5,children:l(u.domain()[0])}),$.jsx("text",{style:{fontSize:10,dominantBaseline:"middle",textAnchor:"middle",fontFamily:'"Helvetica Neue", Helvetica, Arial, sans-serif'},x:25,y:s-sa.bottom+8,children:l(u.domain()[1])}),$.jsx("text",{style:{fontSize:10,dominantBaseline:"middle",fontFamily:'"Helvetica Neue", Helvetica, Arial, sans-serif'},x:sa.left-5,y:u(a[0]),children:l(a[0])}),$.jsx("text",{style:{fontSize:10,dominantBaseline:"middle",fontFamily:'"Helvetica Neue", Helvetica, Arial, sans-serif'},x:sa.left-5,y:u(a[1]),children:l(a[1])}),e.map(c=>$.jsx("rect",{opacity:.2,fill:+c[n.y_var]>0?"steelblue":"firebrick",x:0,width:50,y:u(+c[n.y_var]),height:1},"strip")),$.jsx("line",{strokeWidth:2,stroke:"black",style:{fontSize:10,dominantBaseline:"middle"},x1:0,x2:50,y1:u(a[0]),y2:u(a[0])}),$.jsx("line",{strokeWidth:2,stroke:"black",x1:0,x2:50,y1:u(a[1]),y2:u(a[1])}),$.jsx("line",{strokeWidth:2,stroke:"black",x1:0,x2:0,y1:u(a[1]),y2:u(a[0])}),$.jsx("line",{strokeWidth:2,stroke:"black",x1:50,x2:50,y1:u(a[1]),y2:u(a[0])}),$.jsx("path",{fill:"black",opacity:"0.1",d:`M${sa.left}, ${u(a[1])} L ${i+20+33}, ${sa.top} L ${i+20+33}, ${s-sa.bottom} L ${sa.left}, ${u(a[0])}`})]})}const RWe=Object.freeze(Object.defineProperty({__proto__:null,StripPlot:iie},Symbol.toStringTag,{value:"Module"}));function zU({parameters:e,setAnswer:t}){const[n,r]=w.useState(null),[i,s]=w.useState([]),[o,a]=w.useState(null),[u,l]=w.useState([new Date(e.start_date),new Date(e.end_date)]),[c,f]=w.useState(e.guardrail);w.useEffect(()=>{k5e(`./data/${e.dataset}.csv`).then(_=>{r(_),a(Array.from(new Set(_.map(b=>JSON.stringify({name:b[e.cat_var],group:b[e.group_var]})))).map(b=>JSON.parse(b)))})},[e]);const d=w.useMemo(()=>n&&u?n.filter(_=>new Date(_[e.x_var]).getTime()>=u[0].getTime()).filter(_=>new Date(_[e.x_var]).getTime()<=u[1].getTime()):null,[n,u]),{actions:h,trrack:p}=w.useMemo(()=>{const _=p$.create(),b=_.register("selection",(E,S)=>(E.selection=S,E)),T=_.register("range",(E,S)=>(E.range=S,E)),I=t9e({registry:_,initialState:{selection:[],range:[e.start_date,e.end_date]}});return{actions:{selection:b,range:T},trrack:I}},[]),m=w.useCallback(_=>{p.apply("Change daterange",h.range([_[0].toISOString().slice(0,10),_[1].toISOString().slice(0,10)]))},[p,h,l]),y=w.useMemo(()=>Ma(m,200),[m]),g=w.useCallback(_=>{p.apply("Change selection",h.selection(_)),t({status:!0,provenanceGraph:p.graph.backend,answers:{}})},[p,h,t]);return d&&o&&u&&i?$.jsxs(Bc,{children:[e.allow_guardrail_selector?$.jsx(_d,{shadow:"sm",radius:"md",p:"md",style:{width:"500px"},children:$.jsx(U2,{guardrail:c,setGuardrail:f})}):null,$.jsx(kd,{children:$.jsx(_d,{shadow:"md",radius:"md",p:"md",withBorder:!0,children:$.jsxs(Tu,{children:[$.jsx(B2,{parameters:e,data:d,items:o,selection:i,setSelection:s,trackSelection:g,range:u,guardrail:c}),$.jsx(gd,{orientation:"vertical",size:"xs"}),$.jsxs("g",{children:[$.jsx(Ct,{fw:500,children:e.dataset==="clean_stocks"?"Percent change in stock price":"Infections per million people"}),c==="super_summ"?$.jsx(Ct,{fz:"xs",c:"dimmed",children:"Shaded area represents the middle 50% of all values."}):null,c==="juxt_summ"?$.jsx(Ct,{fz:"xs",c:"dimmed",children:"Bar on the left highlights the range of selection among all data."}):null,$.jsxs(Bc,{children:[$.jsxs(Tu,{children:[c==="juxt_summ"?$.jsx(iie,{parameters:e,data:d,selection:i}):null,$.jsx(F2,{parameters:e,data:d,items:o,selection:i,range:u,guardrail:c})]}),e.allow_time_slider?$.jsx("div",{style:{width:"500px"},children:$.jsx(j2,{parameters:e,setRange:l,trackRange:y})}):null]})]})]})})})]}):$.jsx(Dm,{})}const NWe=Object.freeze(Object.defineProperty({__proto__:null,DataExplorer:zU,default:zU},Symbol.toStringTag,{value:"Module"})),kWe=Object.assign({"../public/brush-interactions/types.ts":R4e,"../public/viz-guardrails/Color.tsx":N4e,"../public/viz-guardrails/DataExplorer.tsx":NWe,"../public/viz-guardrails/LineChart.tsx":I9e,"../public/viz-guardrails/RangeSelector.tsx":C9e,"../public/viz-guardrails/Selector.tsx":A9e,"../public/viz-guardrails/Sidebar.tsx":x9e,"../public/viz-guardrails/StripPlot.tsx":RWe,"../public/viz-guardrails/XAxis.tsx":T9e,"../public/viz-guardrails/YAxis.tsx":S9e});function DWe({currentConfig:e}){const t=Ra(),n=`../public/${e.path}`,r=kWe[n].default,i=Hl(),{updateResponseBlockValidation:s,setIframeAnswers:o}=zl();function a({status:u,provenanceGraph:l,answers:c}){i(s({location:"sidebar",currentStep:t,status:u,values:c,provenanceGraph:l})),i(o(Object.values(c).map(f=>f)))}return $.jsx(w.Suspense,{fallback:$.jsx("div",{children:"Loading..."}),children:$.jsx(r,{parameters:e.parameters,setAnswer:a})})}function $We({currentConfig:e}){const[t,n]=w.useState(null);return w.useEffect(()=>{fetch(`${$u}${e.path}`).then(r=>r.text()).then(r=>n(r))},[e]),t===null?null:$.jsx(Us,{text:t})}function vm(){return Mu(e=>e.config)}function sie(){const e=Ra(),{setAlertModal:t}=zl(),n=Hl();w.useEffect(()=>{(new URLSearchParams(window.location.search).get("admin")||"f")==="t"||(window.history.pushState(null,"",window.location.href),window.onpopstate=()=>{window.history.pushState(null,"",window.location.href),n(t({show:!0,message:"Using the browser's back button is prohibited during the study."}))})},[e,t,n])}function LWe(){var f;const e=vm(),t=Ra(),n=e.components[t],r=xD(),i=lI(n)&&e.baseComponents?SD({},(f=e.baseComponents)==null?void 0:f[n.baseComponent],n):n,s=i.instruction||"",{instructionLocation:o}=i,a=e.uiConfig.sidebar&&(o==="sidebar"||o===void 0);sie();const{storageEngine:u}=vf(),l=Hl(),{setAlertModal:c}=zl();return w.useEffect(()=>{(u==null?void 0:u.getEngine())!=="firebase"&&l(c({show:!0,message:"There was an issue connecting to the firebase database. This could be caused by a network issue or your adblocker. If you are using an adblocker, please disable it for this website and refresh."}))},[c,u,l]),$.jsxs($.Fragment,{children:[o==="aboveStimulus"&&$.jsx(Us,{text:s}),$.jsx(Kw,{status:r,config:i,location:"aboveStimulus"},`${t}-above-response-block`),$.jsxs(w.Suspense,{fallback:$.jsx("div",{children:"Loading..."}),children:[i.type==="markdown"&&$.jsx($We,{currentConfig:i}),i.type==="website"&&$.jsx(A4e,{currentConfig:i}),i.type==="image"&&$.jsx(P4e,{currentConfig:i}),i.type==="react-component"&&$.jsx(DWe,{currentConfig:i})]},`${t}-stimulus`),(o==="belowStimulus"||o===void 0&&!a)&&$.jsx(Us,{text:s}),$.jsx(Kw,{status:r,config:i,location:"belowStimulus"},`${t}-below-response-block`)]})}function MWe(e){const[t]=VN();return $.jsx(Ife,{...e,to:{pathname:e.to,search:t.toString()}})}var FWe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},BWe=Object.defineProperty,jWe=Object.defineProperties,UWe=Object.getOwnPropertyDescriptors,MT=Object.getOwnPropertySymbols,oie=Object.prototype.hasOwnProperty,aie=Object.prototype.propertyIsEnumerable,HU=(e,t,n)=>t in e?BWe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,WU=(e,t)=>{for(var n in t||(t={}))oie.call(t,n)&&HU(e,n,t[n]);if(MT)for(var n of MT(t))aie.call(t,n)&&HU(e,n,t[n]);return e},VWe=(e,t)=>jWe(e,UWe(t)),zWe=(e,t)=>{var n={};for(var r in e)oie.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&MT)for(var r of MT(e))t.indexOf(r)<0&&aie.call(e,r)&&(n[r]=e[r]);return n},Kl=(e,t,n)=>{const r=w.forwardRef((i,s)=>{var o=i,{color:a="currentColor",size:u=24,stroke:l=2,children:c}=o,f=zWe(o,["color","size","stroke","children"]);return w.createElement("svg",WU(VWe(WU({ref:s},FWe),{width:u,height:u,stroke:a,strokeWidth:l,className:`tabler-icon tabler-icon-${e}`}),f),[...n.map(([d,h])=>w.createElement(d,h)),...c||[]])});return r.propTypes={color:dt.string,size:dt.oneOfType([dt.string,dt.number]),stroke:dt.oneOfType([dt.string,dt.number])},r.displayName=`${t}`,r},HWe=Kl("alert-circle","IconAlertCircle",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 8v4",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]]),WWe=Kl("arrow-right","IconArrowRight",[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M13 18l6 -6",key:"svg-1"}],["path",{d:"M13 6l6 6",key:"svg-2"}]]),qWe=Kl("arrows-shuffle","IconArrowsShuffle",[["path",{d:"M18 4l3 3l-3 3",key:"svg-0"}],["path",{d:"M18 20l3 -3l-3 -3",key:"svg-1"}],["path",{d:"M3 7h3a5 5 0 0 1 5 5a5 5 0 0 0 5 5h5",key:"svg-2"}],["path",{d:"M21 7h-5a4.978 4.978 0 0 0 -3 1m-4 8a4.984 4.984 0 0 1 -3 1h-3",key:"svg-3"}]]),YWe=Kl("code-dots","IconCodeDots",[["path",{d:"M15 12h.01",key:"svg-0"}],["path",{d:"M12 12h.01",key:"svg-1"}],["path",{d:"M9 12h.01",key:"svg-2"}],["path",{d:"M6 19a2 2 0 0 1 -2 -2v-4l-1 -1l1 -1v-4a2 2 0 0 1 2 -2",key:"svg-3"}],["path",{d:"M18 19a2 2 0 0 0 2 -2v-4l1 -1l-1 -1v-4a2 2 0 0 0 -2 -2",key:"svg-4"}]]),GWe=Kl("code-plus","IconCodePlus",[["path",{d:"M9 12h6",key:"svg-0"}],["path",{d:"M12 9v6",key:"svg-1"}],["path",{d:"M6 19a2 2 0 0 1 -2 -2v-4l-1 -1l1 -1v-4a2 2 0 0 1 2 -2",key:"svg-2"}],["path",{d:"M18 19a2 2 0 0 0 2 -2v-4l1 -1l-1 -1v-4a2 2 0 0 0 -2 -2",key:"svg-3"}]]),KWe=Kl("dots-vertical","IconDotsVertical",[["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]),QWe=Kl("mail","IconMail",[["path",{d:"M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10z",key:"svg-0"}],["path",{d:"M3 7l9 6l9 -6",key:"svg-1"}]]),qU=Kl("schema","IconSchema",[["path",{d:"M5 2h5v4h-5z",key:"svg-0"}],["path",{d:"M15 10h5v4h-5z",key:"svg-1"}],["path",{d:"M5 18h5v4h-5z",key:"svg-2"}],["path",{d:"M5 10h5v4h-5z",key:"svg-3"}],["path",{d:"M10 12h5",key:"svg-4"}],["path",{d:"M7.5 6v4",key:"svg-5"}],["path",{d:"M7.5 14v4",key:"svg-6"}]]),uie=Kl("table","IconTable",[["path",{d:"M3 5a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-14z",key:"svg-0"}],["path",{d:"M3 10h18",key:"svg-1"}],["path",{d:"M10 3v18",key:"svg-2"}]]);const fR=["description","instruction","answer","correctAnswer","startTime","endTime","duration","taskOrder"],yb=["participantId","trialId","responseId"];function _b(e,t){const n=`data:text/json;charset=utf-8,${encodeURIComponent(e)}`,r=document.createElement("a");r.setAttribute("href",n),r.setAttribute("download",t),document.body.appendChild(r),r.click(),r.remove()}function XWe(e,t,n){return Object.entries(t.components).map(([r,i])=>{const s=lI(i)&&i.baseComponent&&t.baseComponents?SD({},t.baseComponents[i.baseComponent],i):i,o=e.answers[r],a=o!==void 0?o:{answer:{},startTime:-1,endTime:-1,windowEvents:[]},u=a.endTime-a.startTime;return Object.entries(a.answer).map(([c,f])=>{const d={participantId:e.participantId,trialId:r,responseId:c,startTime:new Date(a.startTime).toUTCString(),endTime:new Date(a.endTime).toUTCString(),duration:u};return n.includes("description")&&(d.description=s.description),n.includes("instruction")&&(d.instruction=s.instruction),n.includes("answer")&&(d.answer=f),n.includes("correctAnswer")&&(d.correctAnswer=s.correctAnswer),n.includes("taskOrder")&&(d.taskOrder=e.sequence.indexOf(r)),d}).flat()}).flat()}async function JWe(e,t,n,r=[...yb,...fR]){const s=(await t.getAllParticipantsData()).map(l=>XWe(l,n,r)).flat(),o=l=>l.replace(/"/g,'""'),a=s.map(l=>r.map(c=>l===null?"":typeof l[c]=="string"?`"${o(l[c])}"`:JSON.stringify(l[c])).join(",")),u=[r.join(","),...a].join(`
`);_b(u,e)}function ZWe({opened:e,close:t,filename:n,studyConfig:r}){const[i,s]=fpe([...yb,...fR]),o=w.useCallback(l=>{yb.every(c=>l.includes(c))&&s(l)},[s]),a=w.useMemo(()=>[...yb,...fR],[]),{storageEngine:u}=vf();return u?$.jsxs(WS,{opened:e,size:"lg",onClose:t,title:$.jsx(Ct,{size:"xl",children:"Download Tidy CSV"}),centered:!0,radius:"md",padding:"xl",children:[$.jsx(lt,{children:$.jsx(MK,{searchable:!0,limit:30,nothingFound:"Property not found",data:a,value:i,onChange:o,label:$.jsx(Ct,{fw:"bold",size:"lg",children:"Select properties to include in tidy csv:"}),placeholder:"Select atleast one property"})}),$.jsxs(kd,{mt:"xl",direction:{base:"column",sm:"row"},gap:{base:"sm",sm:"lg"},justify:{sm:"space-around"},children:[$.jsx(dl,{leftIcon:$.jsx(uie,{}),onClick:()=>JWe(n,u,r,i),children:"Download"}),$.jsx(dl,{onClick:t,color:"red",children:"Close"})]})]}):null}function eqe({studyConfig:e}){const{storageEngine:t}=vf(),[n,{open:r,close:i}]=dpe(!1),[s,o]=w.useState(),[a,u]=w.useState(""),l=e.studyMetadata.title.replace(" ","_");w.useEffect(()=>{async function m(){if(t){const y=await t.getCurrentParticipantId(),g=await t.getParticipantData();u(y),o(g)}}m()},[t]);const c=w.useCallback(async()=>{_b(JSON.stringify(s,null,2),`${l}_${a}.json`)},[s]),f=e.uiConfig.autoDownloadStudy||!1,d=f&&e.uiConfig.autoDownloadTime||-1,[h,p]=w.useState(Math.floor(d/1e3));return w.useEffect(()=>{const m=setInterval(()=>{p(y=>y-1)},1e3);return h<=0?(c(),clearInterval(m),()=>clearInterval(m)):()=>clearInterval(m)},[h]),$.jsxs(Bc,{children:[$.jsx(dl,{leftIcon:$.jsx(YWe,{}),mt:"1em",mr:"0.5em",onClick:()=>_b(JSON.stringify(s,null,2),`${l}_${a}.json`),display:"block",children:"Download Current (JSON)"}),$.jsx(dl,{disabled:!(t!=null&&t.isConnected()),leftIcon:$.jsx(GWe,{}),mt:"1em",mr:"0.5em",onClick:async()=>{if(!t)return;const m=await t.getAllParticipantsData();_b(JSON.stringify(m,null,2),`${l}_all.json`)},display:"block",children:"Download All (JSON)"}),$.jsx(dl,{disabled:!(t!=null&&t.isConnected()),leftIcon:$.jsx(uie,{}),mt:"1em",mr:"0.5em",onClick:r,display:"block",children:"Download All (Tidy)"}),f&&$.jsxs(Ct,{size:"lg",children:["Study results will be downloaded in"," ",h," ","seconds. If the download does not start automatically, click above to download."]}),$.jsx(ZWe,{opened:n,close:i,filename:`${l}_${a}.csv`,studyConfig:e})]})}function lie({order:e}){const{studyId:t=null}=UN(),n=Ra(),r=Qd();return $.jsx(Bc,{spacing:"xs",children:e.components.map((i,s)=>typeof i=="string"?$.jsx(Tu,{children:$.jsx(qve,{style:{cursor:"pointer"},color:i===n?"red":"blue",onClick:()=>r(`/${t}/${i}`),size:"xs",children:i},i)},s):$.jsx(Bc,{spacing:"xs",children:$.jsxs(Tu,{spacing:"xs",style:{width:"100%"},noWrap:!0,align:"center",position:"center",children:[i.order==="random"||i.order==="latinSquare"?$.jsx(qWe,{textAnchor:"middle"}):null,$.jsx(Bc,{style:{width:"100%"},children:$.jsx(lie,{order:i})})]})},s))})}function tqe(){const{showAdmin:e,sequence:t}=Mu(a=>a),n=Qd(),{studyId:r=null}=UN(),i=Ra(),s=vm(),o=t.map(a=>({...s.components[a],id:a}));return e||i==="end"&&s.uiConfig.autoDownloadStudy?$.jsx(Qh,{p:"0",width:{base:300},style:{zIndex:0},children:$.jsxs(tg,{p:"0",children:[$.jsx(Qh.Section,{grow:!0,component:tg,px:"xs",my:"lg",children:$.jsx(lie,{order:s.sequence})}),$.jsx(Qh.Section,{grow:!0,component:tg,px:"xs",my:"lg",children:i==="end"&&$.jsx(eqe,{studyConfig:s})}),$.jsx(Qh.Section,{grow:!0,component:tg,px:"xs",my:"lg",children:o.map((a,u)=>$.jsxs(k.Fragment,{children:[$.jsxs(_d,{radius:0,p:0,withBorder:!0,children:[$.jsx(_d,{radius:0,p:"xl",children:$.jsxs(kd,{style:{justifyContent:"space-between"},children:[$.jsxs(Ct,{c:"gray.9",children:[$.jsxs(Ct,{span:!0,fw:700,inherit:!0,children:["Task"," ",u+1,":"]})," ",a.id]}),$.jsx(Xp,{}),$.jsx(rk,{bg:"white",onClick:()=>n(`/${r}/${a.id}`),children:$.jsx(WWe,{size:"1.125rem"})})]})}),$.jsxs(_d,{radius:0,p:"xl",children:[a.description&&$.jsxs(Ct,{fw:900,children:["Description:"," ",$.jsx(Ct,{fw:400,component:"span",children:a.description})]}),a.meta&&$.jsx(Ct,{fw:900,children:"Task Meta:"}),a.meta&&Object.keys(a.meta).map(l=>$.jsxs(Ct,{children:[l,":",a.meta[l]]},l))]})]}),$.jsx(Xp,{h:"md"})]},`admin_${a.id}`))})]})}):null}function nqe(){const{config:e,sequence:t}=Mu(b=>b),n=Hl(),{toggleShowHelpText:r,toggleShowAdmin:i}=zl(),{storageEngine:s}=vf(),o=Ra(),a=e!==null?t.indexOf(o):0,u=t.length-1,l=a/u*100,[c,f]=w.useState(!1),d=e==null?void 0:e.uiConfig.logoPath,h=e==null?void 0:e.uiConfig.withProgressBar,[p]=w.useState(new URLSearchParams(window.location.search)),m=p.get("admin")||"f",y=KX(),g=hfe(`/${y}`);function _(){s==null||s.nextParticipant(e).then(()=>{window.location.href=g}).catch(b=>{console.error(b)})}return $.jsx(Oq,{height:"70",p:"md",children:$.jsxs(tl,{mt:-7,align:"center",children:[$.jsx(tl.Col,{span:4,children:$.jsxs(kd,{align:"center",children:[$.jsx(C_,{maw:40,src:`${$u}${d}`,alt:"Study Logo"}),$.jsx(Xp,{w:"md"}),$.jsx(lc,{order:4,children:e==null?void 0:e.studyMetadata.title})]})}),$.jsx(tl.Col,{span:4,children:h&&$.jsx(rQ,{radius:"md",size:"lg",value:l})}),$.jsx(tl.Col,{span:4,children:$.jsxs(kd,{align:"center",justify:"flex-end",children:[(e==null?void 0:e.uiConfig.helpTextPath)!==void 0&&$.jsx(dl,{variant:"outline",onClick:()=>n(r()),children:"Help"}),$.jsx(Xp,{w:"md"}),m==="t"&&$.jsxs(No,{shadow:"md",width:200,zIndex:1,opened:c,onChange:f,children:[$.jsx(No.Target,{children:$.jsx(rk,{size:"lg",children:$.jsx(KWe,{})})}),$.jsxs(No.Dropdown,{children:[$.jsx(No.Item,{icon:$.jsx(qU,{size:14}),onClick:()=>n(i()),children:"Admin Mode"}),$.jsx(No.Item,{component:"a",href:e!==null?`mailto:${e.uiConfig.contactEmail}`:void 0,icon:$.jsx(QWe,{size:14}),children:"Contact"}),$.jsx(No.Item,{icon:$.jsx(qU,{size:14}),onClick:()=>_(),children:"Next Participant"})]})]})]})})]})})}function rqe(){var u;const e=(u=vm())==null?void 0:u.uiConfig.sidebar,t=vm(),n=Ra(),r=t.components[n],i=w.useMemo(()=>{var l;return r?lI(r)&&t.baseComponents?SD({},(l=t.baseComponents)==null?void 0:l[r.baseComponent],r):r:null},[r]),s=xD(),o=(i==null?void 0:i.instruction)||"",a=(i==null?void 0:i.instructionLocation)==="sidebar"||(i==null?void 0:i.instructionLocation)===void 0;return e&&i?$.jsxs(Ig,{bg:"gray.1",display:"block",width:{base:300},style:{zIndex:0,overflowY:"scroll"},children:[a&&o!==""&&$.jsx(Ig.Section,{bg:"gray.3",p:"xl",children:$.jsxs(Ct,{c:"gray.9",children:[$.jsx(Ct,{span:!0,c:"orange.8",fw:700,inherit:!0,children:"Task:"}),$.jsx(Us,{text:o})]})}),$.jsx(Ig.Section,{p:"xl",children:$.jsx(Kw,{status:s,config:i,location:"sidebar"},`${n}-sidebar-response-block`)})]}):$.jsx(Kw,{status:s,config:i,location:"sidebar",style:{display:"hidden"}},`${n}-sidebar-response-block`)}function iqe(){const{showHelpText:e,config:t}=Mu(o=>o),n=Hl(),{toggleShowHelpText:r}=zl(),[i,s]=w.useState("");return w.useEffect(()=>{t&&t.uiConfig.helpTextPath&&fetch(`${$u}${t.uiConfig.helpTextPath}`).then(o=>o.text()).then(o=>s(o))},[t]),$.jsx(WS,{size:"70%",opened:e,withCloseButton:!1,onClose:()=>n(r()),children:$.jsx(Us,{text:i})})}function sqe(){const{alertModal:e}=Mu(o=>o),{setAlertModal:t}=zl(),n=Hl(),[r,i]=w.useState(e.show),s=w.useCallback(()=>n(t({...e,show:!1})),[e,t,n]);return w.useEffect(()=>i(e.show),[e.show]),$.jsx(WS,{opened:r,centered:!0,size:"lg",withCloseButton:!1,styles:{modal:{padding:"0 !important"}},onClose:s,children:$.jsxs(cq,{color:"red",radius:"xs",p:"lg",title:"Alert",icon:$.jsx(HWe,{}),onClose:s,styles:{root:{backgroundColor:"unset"}},children:[$.jsx(Ct,{my:"md",children:e.message}),$.jsx(lt,{style:{float:"right"},color:"red",children:$.jsx(dl,{onClick:s,color:"red",variant:"filled",children:"Continue Study"})})]})})}function oqe(){const e=w.useRef([]),n=vm().uiConfig.windowEventDebounceTime??100;return w.useEffect(()=>{const r=Ma(d=>{e.current.push([Date.now(),"focus",d.target instanceof HTMLElement?d.target.tagName:""])},n,{maxWait:n}),i=Ma(d=>{e.current.push([Date.now(),"input",d.data??""])},n,{maxWait:n}),s=Ma(d=>{e.current.push([Date.now(),"keypress",d.key])},n,{maxWait:n}),o=Ma(d=>{e.current.push([Date.now(),"mousedown",[d.clientX,d.clientY]])},n,{maxWait:n}),a=Ma(d=>{e.current.push([Date.now(),"mouseup",[d.clientX,d.clientY]])},n,{maxWait:n}),u=Ma(()=>{e.current.push([Date.now(),"resize",[window.innerWidth,window.innerHeight]])},n,{maxWait:n}),l=Ma(d=>{e.current.push([Date.now(),"mousemove",[d.clientX,d.clientY]])},n,{maxWait:n}),c=Ma(()=>{e.current.push([Date.now(),"scroll",[window.scrollX,window.scrollY]])},n,{maxWait:n}),f=Ma(()=>{e.current.push([Date.now(),"visibility",document.visibilityState])},n,{maxWait:n});return window.addEventListener("focus",r,!0),window.addEventListener("input",i),window.addEventListener("keypress",s),window.addEventListener("mousedown",o),window.addEventListener("mouseup",a),window.addEventListener("resize",u),window.addEventListener("mousemove",l),window.addEventListener("scroll",c),document.addEventListener("visibilitychange",f),()=>{window.removeEventListener("focus",r,!0),window.removeEventListener("input",i),window.removeEventListener("keypress",s),window.addEventListener("mousedown",o),window.addEventListener("mouseup",a),window.removeEventListener("resize",u),window.removeEventListener("mousemove",l),window.removeEventListener("scroll",c),document.removeEventListener("visibilitychange",f)}},[]),$.jsx(QX.Provider,{value:e,children:$.jsxs(Nq,{navbar:$.jsx(rqe,{}),aside:$.jsx(tqe,{}),header:$.jsx(nqe,{}),children:[$.jsx(iqe,{}),$.jsx(sqe,{}),$.jsx(xfe,{})]})})}function aqe(){const e=vm(),{storageEngine:t}=vf(),{answers:n}=Mu(s=>s),[r,i]=w.useState(!1);return w.useEffect(()=>{const s=setInterval(async()=>{await t.verifyCompletion(n)&&(i(!0),clearInterval(s))},1e3)},[]),sie(),$.jsx(Nd,{style:{height:"100%"},children:$.jsx(kd,{direction:"column",children:r?$.jsx(Ct,{size:"xl",display:"block",children:e.uiConfig.studyEndMsg?$.jsx(Us,{text:e.uiConfig.studyEndMsg}):"Thank you for completing the study. You may close this window now."}):$.jsxs($.Fragment,{children:[$.jsx(Ct,{size:"xl",display:"block",children:"Please wait while your answers are uploaded."}),$.jsx(Xp,{h:"lg"}),$.jsx(Nd,{children:$.jsx(Dm,{color:"blue"})})]})})})}function uqe(e,t=!1){return typeof e=="number"?YU(e,t):YU(e.length,t).map(r=>r.map(i=>e[i]))}function YU(e,t){if(e<0)throw new Error("Latin square size must be > 0");if(e==0)return[];if(e==1)return[[0]];let n=new Array(e);for(let s=0;s<e;s++)s<2?n[s]=s:s%2==0?n[s]=e-s/2:n[s]=Math.floor(s/2)+1;let r=[n],i=n;for(let s=1;s<e;s+=1){let o=i.map(a=>(a+1)%e);r.push(o),i=o}if(t&&e%2>0)for(let s=0;s<e;s+=1)r.push(r[s].slice().reverse());return r}function cie(e,t,n){for(let r=0;r<e.components.length;r++){const i=e.components[r];typeof i!="string"&&(e.components[r]=cie(i,t,`${n}-${r}`))}if(e.order==="random"){const r=e.components.sort(()=>.5-Math.random());e.components=r}else e.order==="latinSquare"&&t&&(e.components=t[n].pop().map(r=>r.startsWith("_orderObj")?e.components[+r.slice(9)]:r));return e.components.slice(0,e.numSamples?e.numSamples:void 0).flat()}function lqe(e,t){const n=ID(e);return cie(n,t,"root"),n.components.slice(0,e.numSamples?e.numSamples:void 0).flat()}function fie(e,t,n,r=0){const i=n.length>0?`${n}-${r}`:"root";e.order==="latinSquare"&&t.push(i),e.components.forEach((s,o)=>{typeof s!="string"&&fie(s,t,i,o)})}function cqe(e){const t=[];return fie(e,t,"",0),t}function GU(e,t){const n=t.split("-");let r={};n.forEach(o=>{o==="root"?r=e.sequence:r=r.components[+o]});const i=r.components.map((o,a)=>typeof o=="string"?o:`_orderObj${a}`);return uqe(i.sort(()=>.5-Math.random()),!0)}function fqe(e,t=1e3){const r=cqe(e.sequence).map(s=>({[s]:GU(e,s)})).reduce((s,o)=>({...s,...o}),{}),i=[];return Array.from({length:t}).forEach(()=>{const s=lqe(e.sequence,r);s.push("end"),i.push(s),Object.entries(r).forEach(([o,a])=>{a.length===0&&(r[o]=GU(e,o))})}),i}async function dqe(e,t){const n=await(await fetch(`${$u}${e}`)).text();return CX(n,t)}function hqe(e,t,n){const r=[];if(e&&t&&n){const i=[];i.push({path:"/",element:$.jsx(MWe,{to:`${n[0]}`,replace:!0})}),n.forEach(o=>{o==="end"?i.push({path:"/end",element:$.jsx(aqe,{})}):i.push({path:`/${o}`,element:$.jsx(LWe,{})})});const s={element:$.jsx(oqe,{}),children:i};r.push(s)}return r}function pqe({globalConfig:e}){const{studyId:t}=UN();if(!t||!e.configsList.find(f=>MP(f)))throw new Error("Study id invalid");const[n,r]=w.useState(null);w.useEffect(()=>{const f=e.configsList.find(d=>MP(d)===t);if(f){const d=e.configs[f];dqe(`${d.path}`,f).then(h=>{r(h)})}},[e,t]);const[i,s]=w.useState([]),[o,a]=w.useState(null),{storageEngine:u}=vf(),[l]=VN();w.useEffect(()=>{async function f(){if(!u||!n||!t)return;await u.initializeStudyDb(t,n),await u.getSequenceArray()||await u.setSequenceArray(await fqe(n));const h=n.uiConfig.urlParticipantIdParam&&l.get(n.uiConfig.urlParticipantIdParam)||void 0,p=Object.fromEntries(l.entries()),m=await u.initializeParticipantSession(p,n,h),y=await sNe(t,n,m.sequence,m.answers);a(y),s(hqe(t,n,m.sequence))}f()},[u,n,t,l]);const c=JH(i);return!c||!o?$.jsx(lt,{style:{height:"100vh"},children:$.jsx(Nd,{style:{height:"100%"},children:$.jsx(Dm,{style:{height:"100%"},size:60})})}):$.jsx(GX.Provider,{value:o,children:$.jsx(NCe,{store:o.store,children:c})})}async function mqe(){const t=await(await fetch(`${$u}configs/global.json`)).text();return nRe(t)}async function gqe(e){const t={},n=e.configsList.map(i=>`${$u}${e.configs[i].path}`),r=await Promise.all(n.map(i=>fetch(i))).then(i=>Promise.all(i.map(s=>s.text()))).then(i=>Promise.all(i.map((s,o)=>CX(s,e.configsList[o]))));return e.configsList.forEach((i,s)=>{t[i]=r[s]}),t}function yqe(){const[e,t]=w.useState(null),[n,r]=w.useState({});return w.useEffect(()=>{async function i(){e&&r(await gqe(e))}i()},[e]),w.useEffect(()=>{e||mqe().then(i=>{t(i)})},[e]),e?$.jsx(Pfe,{basename:$u,children:$.jsxs(Afe,{children:[$.jsx(_P,{path:"/",element:$.jsx(Jxe,{globalConfig:e,studyConfigs:n})}),$.jsx(_P,{path:"/:studyId/*",element:$.jsx(pqe,{globalConfig:e})})]})}):null}function E1(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var die={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,s){function o(l,c){if(!i[l]){if(!r[l]){var f=typeof E1=="function"&&E1;if(!c&&f)return f(l,!0);if(a)return a(l,!0);var d=new Error("Cannot find module '"+l+"'");throw d.code="MODULE_NOT_FOUND",d}var h=i[l]={exports:{}};r[l][0].call(h.exports,function(p){var m=r[l][1][p];return o(m||p)},h,h.exports,n,r,i,s)}return i[l].exports}for(var a=typeof E1=="function"&&E1,u=0;u<s.length;u++)o(s[u]);return o}({1:[function(n,r,i){(function(s){var o=s.MutationObserver||s.WebKitMutationObserver,a;if(o){var u=0,l=new o(p),c=s.document.createTextNode("");l.observe(c,{characterData:!0}),a=function(){c.data=u=++u%2}}else if(!s.setImmediate&&typeof s.MessageChannel<"u"){var f=new s.MessageChannel;f.port1.onmessage=p,a=function(){f.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?a=function(){var y=s.document.createElement("script");y.onreadystatechange=function(){p(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},s.document.documentElement.appendChild(y)}:a=function(){setTimeout(p,0)};var d,h=[];function p(){d=!0;for(var y,g,_=h.length;_;){for(g=h,h=[],y=-1;++y<_;)g[y]();_=h.length}d=!1}r.exports=m;function m(y){h.push(y)===1&&!d&&a()}}).call(this,typeof io<"u"?io:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,i){var s=n(1);function o(){}var a={},u=["REJECTED"],l=["FULFILLED"],c=["PENDING"];r.exports=f;function f(I){if(typeof I!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,I!==o&&m(this,I)}f.prototype.catch=function(I){return this.then(null,I)},f.prototype.then=function(I,E){if(typeof I!="function"&&this.state===l||typeof E!="function"&&this.state===u)return this;var S=new this.constructor(o);if(this.state!==c){var A=this.state===l?I:E;h(S,A,this.outcome)}else this.queue.push(new d(S,I,E));return S};function d(I,E,S){this.promise=I,typeof E=="function"&&(this.onFulfilled=E,this.callFulfilled=this.otherCallFulfilled),typeof S=="function"&&(this.onRejected=S,this.callRejected=this.otherCallRejected)}d.prototype.callFulfilled=function(I){a.resolve(this.promise,I)},d.prototype.otherCallFulfilled=function(I){h(this.promise,this.onFulfilled,I)},d.prototype.callRejected=function(I){a.reject(this.promise,I)},d.prototype.otherCallRejected=function(I){h(this.promise,this.onRejected,I)};function h(I,E,S){s(function(){var A;try{A=E(S)}catch(L){return a.reject(I,L)}A===I?a.reject(I,new TypeError("Cannot resolve promise with itself")):a.resolve(I,A)})}a.resolve=function(I,E){var S=y(p,E);if(S.status==="error")return a.reject(I,S.value);var A=S.value;if(A)m(I,A);else{I.state=l,I.outcome=E;for(var L=-1,W=I.queue.length;++L<W;)I.queue[L].callFulfilled(E)}return I},a.reject=function(I,E){I.state=u,I.outcome=E;for(var S=-1,A=I.queue.length;++S<A;)I.queue[S].callRejected(E);return I};function p(I){var E=I&&I.then;if(I&&(typeof I=="object"||typeof I=="function")&&typeof E=="function")return function(){E.apply(I,arguments)}}function m(I,E){var S=!1;function A(U){S||(S=!0,a.reject(I,U))}function L(U){S||(S=!0,a.resolve(I,U))}function W(){E(L,A)}var z=y(W);z.status==="error"&&A(z.value)}function y(I,E){var S={};try{S.value=I(E),S.status="success"}catch(A){S.status="error",S.value=A}return S}f.resolve=g;function g(I){return I instanceof this?I:a.resolve(new this(o),I)}f.reject=_;function _(I){var E=new this(o);return a.reject(E,I)}f.all=b;function b(I){var E=this;if(Object.prototype.toString.call(I)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=I.length,A=!1;if(!S)return this.resolve([]);for(var L=new Array(S),W=0,z=-1,U=new this(o);++z<S;)Z(I[z],z);return U;function Z(H,ue){E.resolve(H).then(ie,function(_e){A||(A=!0,a.reject(U,_e))});function ie(_e){L[ue]=_e,++W===S&&!A&&(A=!0,a.resolve(U,L))}}}f.race=T;function T(I){var E=this;if(Object.prototype.toString.call(I)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=I.length,A=!1;if(!S)return this.resolve([]);for(var L=-1,W=new this(o);++L<S;)z(I[L]);return W;function z(U){E.resolve(U).then(function(Z){A||(A=!0,a.resolve(W,Z))},function(Z){A||(A=!0,a.reject(W,Z))})}}},{1:1}],3:[function(n,r,i){(function(s){typeof s.Promise!="function"&&(s.Promise=n(2))}).call(this,typeof io<"u"?io:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,i){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R};function o(R,G){if(!(R instanceof G))throw new TypeError("Cannot call a class as a function")}function a(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var u=a();function l(){try{if(!u||!u.open)return!1;var R=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),G=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!R||G)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function c(R,G){R=R||[],G=G||{};try{return new Blob(R,G)}catch(ee){if(ee.name!=="TypeError")throw ee;for(var M=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,ne=new M,se=0;se<R.length;se+=1)ne.append(R[se]);return ne.getBlob(G.type)}}typeof Promise>"u"&&n(3);var f=Promise;function d(R,G){G&&R.then(function(M){G(null,M)},function(M){G(M)})}function h(R,G,M){typeof G=="function"&&R.then(G),typeof M=="function"&&R.catch(M)}function p(R){return typeof R!="string"&&(console.warn(R+" used as a key, but it is not a string."),R=String(R)),R}function m(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var y="local-forage-detect-blob-support",g=void 0,_={},b=Object.prototype.toString,T="readonly",I="readwrite";function E(R){for(var G=R.length,M=new ArrayBuffer(G),ne=new Uint8Array(M),se=0;se<G;se++)ne[se]=R.charCodeAt(se);return M}function S(R){return new f(function(G){var M=R.transaction(y,I),ne=c([""]);M.objectStore(y).put(ne,"key"),M.onabort=function(se){se.preventDefault(),se.stopPropagation(),G(!1)},M.oncomplete=function(){var se=navigator.userAgent.match(/Chrome\/(\d+)/),ee=navigator.userAgent.match(/Edge\//);G(ee||!se||parseInt(se[1],10)>=43)}}).catch(function(){return!1})}function A(R){return typeof g=="boolean"?f.resolve(g):S(R).then(function(G){return g=G,g})}function L(R){var G=_[R.name],M={};M.promise=new f(function(ne,se){M.resolve=ne,M.reject=se}),G.deferredOperations.push(M),G.dbReady?G.dbReady=G.dbReady.then(function(){return M.promise}):G.dbReady=M.promise}function W(R){var G=_[R.name],M=G.deferredOperations.pop();if(M)return M.resolve(),M.promise}function z(R,G){var M=_[R.name],ne=M.deferredOperations.pop();if(ne)return ne.reject(G),ne.promise}function U(R,G){return new f(function(M,ne){if(_[R.name]=_[R.name]||C(),R.db)if(G)L(R),R.db.close();else return M(R.db);var se=[R.name];G&&se.push(R.version);var ee=u.open.apply(u,se);G&&(ee.onupgradeneeded=function(be){var Ie=ee.result;try{Ie.createObjectStore(R.storeName),be.oldVersion<=1&&Ie.createObjectStore(y)}catch(Oe){if(Oe.name==="ConstraintError")console.warn('The database "'+R.name+'" has been upgraded from version '+be.oldVersion+" to version "+be.newVersion+', but the storage "'+R.storeName+'" already exists.');else throw Oe}}),ee.onerror=function(be){be.preventDefault(),ne(ee.error)},ee.onsuccess=function(){var be=ee.result;be.onversionchange=function(Ie){Ie.target.close()},M(be),W(R)}})}function Z(R){return U(R,!1)}function H(R){return U(R,!0)}function ue(R,G){if(!R.db)return!0;var M=!R.db.objectStoreNames.contains(R.storeName),ne=R.version<R.db.version,se=R.version>R.db.version;if(ne&&(R.version!==G&&console.warn('The database "'+R.name+`" can't be downgraded from version `+R.db.version+" to version "+R.version+"."),R.version=R.db.version),se||M){if(M){var ee=R.db.version+1;ee>R.version&&(R.version=ee)}return!0}return!1}function ie(R){return new f(function(G,M){var ne=new FileReader;ne.onerror=M,ne.onloadend=function(se){var ee=btoa(se.target.result||"");G({__local_forage_encoded_blob:!0,data:ee,type:R.type})},ne.readAsBinaryString(R)})}function _e(R){var G=E(atob(R.data));return c([G],{type:R.type})}function te(R){return R&&R.__local_forage_encoded_blob}function oe(R){var G=this,M=G._initReady().then(function(){var ne=_[G._dbInfo.name];if(ne&&ne.dbReady)return ne.dbReady});return h(M,R,R),M}function J(R){L(R);for(var G=_[R.name],M=G.forages,ne=0;ne<M.length;ne++){var se=M[ne];se._dbInfo.db&&(se._dbInfo.db.close(),se._dbInfo.db=null)}return R.db=null,Z(R).then(function(ee){return R.db=ee,ue(R)?H(R):ee}).then(function(ee){R.db=G.db=ee;for(var be=0;be<M.length;be++)M[be]._dbInfo.db=ee}).catch(function(ee){throw z(R,ee),ee})}function x(R,G,M,ne){ne===void 0&&(ne=1);try{var se=R.db.transaction(R.storeName,G);M(null,se)}catch(ee){if(ne>0&&(!R.db||ee.name==="InvalidStateError"||ee.name==="NotFoundError"))return f.resolve().then(function(){if(!R.db||ee.name==="NotFoundError"&&!R.db.objectStoreNames.contains(R.storeName)&&R.version<=R.db.version)return R.db&&(R.version=R.db.version+1),H(R)}).then(function(){return J(R).then(function(){x(R,G,M,ne-1)})}).catch(M);M(ee)}}function C(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function B(R){var G=this,M={db:null};if(R)for(var ne in R)M[ne]=R[ne];var se=_[M.name];se||(se=C(),_[M.name]=se),se.forages.push(G),G._initReady||(G._initReady=G.ready,G.ready=oe);var ee=[];function be(){return f.resolve()}for(var Ie=0;Ie<se.forages.length;Ie++){var Oe=se.forages[Ie];Oe!==G&&ee.push(Oe._initReady().catch(be))}var Pe=se.forages.slice(0);return f.all(ee).then(function(){return M.db=se.db,Z(M)}).then(function(ke){return M.db=ke,ue(M,G._defaultConfig.version)?H(M):ke}).then(function(ke){M.db=se.db=ke,G._dbInfo=M;for(var Qe=0;Qe<Pe.length;Qe++){var Bt=Pe[Qe];Bt!==G&&(Bt._dbInfo.db=M.db,Bt._dbInfo.version=M.version)}})}function P(R,G){var M=this;R=p(R);var ne=new f(function(se,ee){M.ready().then(function(){x(M._dbInfo,T,function(be,Ie){if(be)return ee(be);try{var Oe=Ie.objectStore(M._dbInfo.storeName),Pe=Oe.get(R);Pe.onsuccess=function(){var ke=Pe.result;ke===void 0&&(ke=null),te(ke)&&(ke=_e(ke)),se(ke)},Pe.onerror=function(){ee(Pe.error)}}catch(ke){ee(ke)}})}).catch(ee)});return d(ne,G),ne}function O(R,G){var M=this,ne=new f(function(se,ee){M.ready().then(function(){x(M._dbInfo,T,function(be,Ie){if(be)return ee(be);try{var Oe=Ie.objectStore(M._dbInfo.storeName),Pe=Oe.openCursor(),ke=1;Pe.onsuccess=function(){var Qe=Pe.result;if(Qe){var Bt=Qe.value;te(Bt)&&(Bt=_e(Bt));var gn=R(Bt,Qe.key,ke++);gn!==void 0?se(gn):Qe.continue()}else se()},Pe.onerror=function(){ee(Pe.error)}}catch(Qe){ee(Qe)}})}).catch(ee)});return d(ne,G),ne}function Y(R,G,M){var ne=this;R=p(R);var se=new f(function(ee,be){var Ie;ne.ready().then(function(){return Ie=ne._dbInfo,b.call(G)==="[object Blob]"?A(Ie.db).then(function(Oe){return Oe?G:ie(G)}):G}).then(function(Oe){x(ne._dbInfo,I,function(Pe,ke){if(Pe)return be(Pe);try{var Qe=ke.objectStore(ne._dbInfo.storeName);Oe===null&&(Oe=void 0);var Bt=Qe.put(Oe,R);ke.oncomplete=function(){Oe===void 0&&(Oe=null),ee(Oe)},ke.onabort=ke.onerror=function(){var gn=Bt.error?Bt.error:Bt.transaction.error;be(gn)}}catch(gn){be(gn)}})}).catch(be)});return d(se,M),se}function fe(R,G){var M=this;R=p(R);var ne=new f(function(se,ee){M.ready().then(function(){x(M._dbInfo,I,function(be,Ie){if(be)return ee(be);try{var Oe=Ie.objectStore(M._dbInfo.storeName),Pe=Oe.delete(R);Ie.oncomplete=function(){se()},Ie.onerror=function(){ee(Pe.error)},Ie.onabort=function(){var ke=Pe.error?Pe.error:Pe.transaction.error;ee(ke)}}catch(ke){ee(ke)}})}).catch(ee)});return d(ne,G),ne}function le(R){var G=this,M=new f(function(ne,se){G.ready().then(function(){x(G._dbInfo,I,function(ee,be){if(ee)return se(ee);try{var Ie=be.objectStore(G._dbInfo.storeName),Oe=Ie.clear();be.oncomplete=function(){ne()},be.onabort=be.onerror=function(){var Pe=Oe.error?Oe.error:Oe.transaction.error;se(Pe)}}catch(Pe){se(Pe)}})}).catch(se)});return d(M,R),M}function me(R){var G=this,M=new f(function(ne,se){G.ready().then(function(){x(G._dbInfo,T,function(ee,be){if(ee)return se(ee);try{var Ie=be.objectStore(G._dbInfo.storeName),Oe=Ie.count();Oe.onsuccess=function(){ne(Oe.result)},Oe.onerror=function(){se(Oe.error)}}catch(Pe){se(Pe)}})}).catch(se)});return d(M,R),M}function ge(R,G){var M=this,ne=new f(function(se,ee){if(R<0){se(null);return}M.ready().then(function(){x(M._dbInfo,T,function(be,Ie){if(be)return ee(be);try{var Oe=Ie.objectStore(M._dbInfo.storeName),Pe=!1,ke=Oe.openKeyCursor();ke.onsuccess=function(){var Qe=ke.result;if(!Qe){se(null);return}R===0||Pe?se(Qe.key):(Pe=!0,Qe.advance(R))},ke.onerror=function(){ee(ke.error)}}catch(Qe){ee(Qe)}})}).catch(ee)});return d(ne,G),ne}function Se(R){var G=this,M=new f(function(ne,se){G.ready().then(function(){x(G._dbInfo,T,function(ee,be){if(ee)return se(ee);try{var Ie=be.objectStore(G._dbInfo.storeName),Oe=Ie.openKeyCursor(),Pe=[];Oe.onsuccess=function(){var ke=Oe.result;if(!ke){ne(Pe);return}Pe.push(ke.key),ke.continue()},Oe.onerror=function(){se(Oe.error)}}catch(ke){se(ke)}})}).catch(se)});return d(M,R),M}function de(R,G){G=m.apply(this,arguments);var M=this.config();R=typeof R!="function"&&R||{},R.name||(R.name=R.name||M.name,R.storeName=R.storeName||M.storeName);var ne=this,se;if(!R.name)se=f.reject("Invalid arguments");else{var ee=R.name===M.name&&ne._dbInfo.db,be=ee?f.resolve(ne._dbInfo.db):Z(R).then(function(Ie){var Oe=_[R.name],Pe=Oe.forages;Oe.db=Ie;for(var ke=0;ke<Pe.length;ke++)Pe[ke]._dbInfo.db=Ie;return Ie});R.storeName?se=be.then(function(Ie){if(Ie.objectStoreNames.contains(R.storeName)){var Oe=Ie.version+1;L(R);var Pe=_[R.name],ke=Pe.forages;Ie.close();for(var Qe=0;Qe<ke.length;Qe++){var Bt=ke[Qe];Bt._dbInfo.db=null,Bt._dbInfo.version=Oe}var gn=new f(function(wn,Er){var nr=u.open(R.name,Oe);nr.onerror=function(ys){var Pf=nr.result;Pf.close(),Er(ys)},nr.onupgradeneeded=function(){var ys=nr.result;ys.deleteObjectStore(R.storeName)},nr.onsuccess=function(){var ys=nr.result;ys.close(),wn(ys)}});return gn.then(function(wn){Pe.db=wn;for(var Er=0;Er<ke.length;Er++){var nr=ke[Er];nr._dbInfo.db=wn,W(nr._dbInfo)}}).catch(function(wn){throw(z(R,wn)||f.resolve()).catch(function(){}),wn})}}):se=be.then(function(Ie){L(R);var Oe=_[R.name],Pe=Oe.forages;Ie.close();for(var ke=0;ke<Pe.length;ke++){var Qe=Pe[ke];Qe._dbInfo.db=null}var Bt=new f(function(gn,wn){var Er=u.deleteDatabase(R.name);Er.onerror=function(){var nr=Er.result;nr&&nr.close(),wn(Er.error)},Er.onblocked=function(){console.warn('dropInstance blocked for database "'+R.name+'" until all open connections are closed')},Er.onsuccess=function(){var nr=Er.result;nr&&nr.close(),gn(nr)}});return Bt.then(function(gn){Oe.db=gn;for(var wn=0;wn<Pe.length;wn++){var Er=Pe[wn];W(Er._dbInfo)}}).catch(function(gn){throw(z(R,gn)||f.resolve()).catch(function(){}),gn})})}return d(se,G),se}var st={_driver:"asyncStorage",_initStorage:B,_support:l(),iterate:O,getItem:P,setItem:Y,removeItem:fe,clear:le,length:me,key:ge,keys:Se,dropInstance:de};function Ke(){return typeof openDatabase=="function"}var qe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$e="~~local_forage_type~",ot=/^~~local_forage_type~([^~]+)~/,ut="__lfsc__:",On=ut.length,Ue="arbf",Be="blob",bt="si08",je="ui08",gt="uic8",Gt="si16",an="si32",Gn="ur16",ce="ui32",we="fl32",Le="fl64",rt=On+Ue.length,De=Object.prototype.toString;function it(R){var G=R.length*.75,M=R.length,ne,se=0,ee,be,Ie,Oe;R[R.length-1]==="="&&(G--,R[R.length-2]==="="&&G--);var Pe=new ArrayBuffer(G),ke=new Uint8Array(Pe);for(ne=0;ne<M;ne+=4)ee=qe.indexOf(R[ne]),be=qe.indexOf(R[ne+1]),Ie=qe.indexOf(R[ne+2]),Oe=qe.indexOf(R[ne+3]),ke[se++]=ee<<2|be>>4,ke[se++]=(be&15)<<4|Ie>>2,ke[se++]=(Ie&3)<<6|Oe&63;return Pe}function Me(R){var G=new Uint8Array(R),M="",ne;for(ne=0;ne<G.length;ne+=3)M+=qe[G[ne]>>2],M+=qe[(G[ne]&3)<<4|G[ne+1]>>4],M+=qe[(G[ne+1]&15)<<2|G[ne+2]>>6],M+=qe[G[ne+2]&63];return G.length%3===2?M=M.substring(0,M.length-1)+"=":G.length%3===1&&(M=M.substring(0,M.length-2)+"=="),M}function Ze(R,G){var M="";if(R&&(M=De.call(R)),R&&(M==="[object ArrayBuffer]"||R.buffer&&De.call(R.buffer)==="[object ArrayBuffer]")){var ne,se=ut;R instanceof ArrayBuffer?(ne=R,se+=Ue):(ne=R.buffer,M==="[object Int8Array]"?se+=bt:M==="[object Uint8Array]"?se+=je:M==="[object Uint8ClampedArray]"?se+=gt:M==="[object Int16Array]"?se+=Gt:M==="[object Uint16Array]"?se+=Gn:M==="[object Int32Array]"?se+=an:M==="[object Uint32Array]"?se+=ce:M==="[object Float32Array]"?se+=we:M==="[object Float64Array]"?se+=Le:G(new Error("Failed to get type for BinaryArray"))),G(se+Me(ne))}else if(M==="[object Blob]"){var ee=new FileReader;ee.onload=function(){var be=$e+R.type+"~"+Me(this.result);G(ut+Be+be)},ee.readAsArrayBuffer(R)}else try{G(JSON.stringify(R))}catch(be){console.error("Couldn't convert value into a JSON string: ",R),G(null,be)}}function bn(R){if(R.substring(0,On)!==ut)return JSON.parse(R);var G=R.substring(rt),M=R.substring(On,rt),ne;if(M===Be&&ot.test(G)){var se=G.match(ot);ne=se[1],G=G.substring(se[0].length)}var ee=it(G);switch(M){case Ue:return ee;case Be:return c([ee],{type:ne});case bt:return new Int8Array(ee);case je:return new Uint8Array(ee);case gt:return new Uint8ClampedArray(ee);case Gt:return new Int16Array(ee);case Gn:return new Uint16Array(ee);case an:return new Int32Array(ee);case ce:return new Uint32Array(ee);case we:return new Float32Array(ee);case Le:return new Float64Array(ee);default:throw new Error("Unkown type: "+M)}}var Wt={serialize:Ze,deserialize:bn,stringToBuffer:it,bufferToString:Me};function St(R,G,M,ne){R.executeSql("CREATE TABLE IF NOT EXISTS "+G.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],M,ne)}function Bn(R){var G=this,M={db:null};if(R)for(var ne in R)M[ne]=typeof R[ne]!="string"?R[ne].toString():R[ne];var se=new f(function(ee,be){try{M.db=openDatabase(M.name,String(M.version),M.description,M.size)}catch(Ie){return be(Ie)}M.db.transaction(function(Ie){St(Ie,M,function(){G._dbInfo=M,ee()},function(Oe,Pe){be(Pe)})},be)});return M.serializer=Wt,se}function En(R,G,M,ne,se,ee){R.executeSql(M,ne,se,function(be,Ie){Ie.code===Ie.SYNTAX_ERR?be.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[G.storeName],function(Oe,Pe){Pe.rows.length?ee(Oe,Ie):St(Oe,G,function(){Oe.executeSql(M,ne,se,ee)},ee)},ee):ee(be,Ie)},ee)}function na(R,G){var M=this;R=p(R);var ne=new f(function(se,ee){M.ready().then(function(){var be=M._dbInfo;be.db.transaction(function(Ie){En(Ie,be,"SELECT * FROM "+be.storeName+" WHERE key = ? LIMIT 1",[R],function(Oe,Pe){var ke=Pe.rows.length?Pe.rows.item(0).value:null;ke&&(ke=be.serializer.deserialize(ke)),se(ke)},function(Oe,Pe){ee(Pe)})})}).catch(ee)});return d(ne,G),ne}function fr(R,G){var M=this,ne=new f(function(se,ee){M.ready().then(function(){var be=M._dbInfo;be.db.transaction(function(Ie){En(Ie,be,"SELECT * FROM "+be.storeName,[],function(Oe,Pe){for(var ke=Pe.rows,Qe=ke.length,Bt=0;Bt<Qe;Bt++){var gn=ke.item(Bt),wn=gn.value;if(wn&&(wn=be.serializer.deserialize(wn)),wn=R(wn,gn.key,Bt+1),wn!==void 0){se(wn);return}}se()},function(Oe,Pe){ee(Pe)})})}).catch(ee)});return d(ne,G),ne}function Mi(R,G,M,ne){var se=this;R=p(R);var ee=new f(function(be,Ie){se.ready().then(function(){G===void 0&&(G=null);var Oe=G,Pe=se._dbInfo;Pe.serializer.serialize(G,function(ke,Qe){Qe?Ie(Qe):Pe.db.transaction(function(Bt){En(Bt,Pe,"INSERT OR REPLACE INTO "+Pe.storeName+" (key, value) VALUES (?, ?)",[R,ke],function(){be(Oe)},function(gn,wn){Ie(wn)})},function(Bt){if(Bt.code===Bt.QUOTA_ERR){if(ne>0){be(Mi.apply(se,[R,Oe,M,ne-1]));return}Ie(Bt)}})})}).catch(Ie)});return d(ee,M),ee}function vr(R,G,M){return Mi.apply(this,[R,G,M,1])}function $r(R,G){var M=this;R=p(R);var ne=new f(function(se,ee){M.ready().then(function(){var be=M._dbInfo;be.db.transaction(function(Ie){En(Ie,be,"DELETE FROM "+be.storeName+" WHERE key = ?",[R],function(){se()},function(Oe,Pe){ee(Pe)})})}).catch(ee)});return d(ne,G),ne}function dr(R){var G=this,M=new f(function(ne,se){G.ready().then(function(){var ee=G._dbInfo;ee.db.transaction(function(be){En(be,ee,"DELETE FROM "+ee.storeName,[],function(){ne()},function(Ie,Oe){se(Oe)})})}).catch(se)});return d(M,R),M}function jn(R){var G=this,M=new f(function(ne,se){G.ready().then(function(){var ee=G._dbInfo;ee.db.transaction(function(be){En(be,ee,"SELECT COUNT(key) as c FROM "+ee.storeName,[],function(Ie,Oe){var Pe=Oe.rows.item(0).c;ne(Pe)},function(Ie,Oe){se(Oe)})})}).catch(se)});return d(M,R),M}function Zt(R,G){var M=this,ne=new f(function(se,ee){M.ready().then(function(){var be=M._dbInfo;be.db.transaction(function(Ie){En(Ie,be,"SELECT key FROM "+be.storeName+" WHERE id = ? LIMIT 1",[R+1],function(Oe,Pe){var ke=Pe.rows.length?Pe.rows.item(0).key:null;se(ke)},function(Oe,Pe){ee(Pe)})})}).catch(ee)});return d(ne,G),ne}function ri(R){var G=this,M=new f(function(ne,se){G.ready().then(function(){var ee=G._dbInfo;ee.db.transaction(function(be){En(be,ee,"SELECT key FROM "+ee.storeName,[],function(Ie,Oe){for(var Pe=[],ke=0;ke<Oe.rows.length;ke++)Pe.push(Oe.rows.item(ke).key);ne(Pe)},function(Ie,Oe){se(Oe)})})}).catch(se)});return d(M,R),M}function br(R){return new f(function(G,M){R.transaction(function(ne){ne.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(se,ee){for(var be=[],Ie=0;Ie<ee.rows.length;Ie++)be.push(ee.rows.item(Ie).name);G({db:R,storeNames:be})},function(se,ee){M(ee)})},function(ne){M(ne)})})}function Lr(R,G){G=m.apply(this,arguments);var M=this.config();R=typeof R!="function"&&R||{},R.name||(R.name=R.name||M.name,R.storeName=R.storeName||M.storeName);var ne=this,se;return R.name?se=new f(function(ee){var be;R.name===M.name?be=ne._dbInfo.db:be=openDatabase(R.name,"","",0),R.storeName?ee({db:be,storeNames:[R.storeName]}):ee(br(be))}).then(function(ee){return new f(function(be,Ie){ee.db.transaction(function(Oe){function Pe(gn){return new f(function(wn,Er){Oe.executeSql("DROP TABLE IF EXISTS "+gn,[],function(){wn()},function(nr,ys){Er(ys)})})}for(var ke=[],Qe=0,Bt=ee.storeNames.length;Qe<Bt;Qe++)ke.push(Pe(ee.storeNames[Qe]));f.all(ke).then(function(){be()}).catch(function(gn){Ie(gn)})},function(Oe){Ie(Oe)})})}):se=f.reject("Invalid arguments"),d(se,G),se}var yi={_driver:"webSQLStorage",_initStorage:Bn,_support:Ke(),iterate:fr,getItem:na,setItem:vr,removeItem:$r,clear:dr,length:jn,key:Zt,keys:ri,dropInstance:Lr};function ms(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function K(R,G){var M=R.name+"/";return R.storeName!==G.storeName&&(M+=R.storeName+"/"),M}function j(){var R="_localforage_support_test";try{return localStorage.setItem(R,!0),localStorage.removeItem(R),!1}catch{return!0}}function X(){return!j()||localStorage.length>0}function pe(R){var G=this,M={};if(R)for(var ne in R)M[ne]=R[ne];return M.keyPrefix=K(R,G._defaultConfig),X()?(G._dbInfo=M,M.serializer=Wt,f.resolve()):f.reject()}function he(R){var G=this,M=G.ready().then(function(){for(var ne=G._dbInfo.keyPrefix,se=localStorage.length-1;se>=0;se--){var ee=localStorage.key(se);ee.indexOf(ne)===0&&localStorage.removeItem(ee)}});return d(M,R),M}function He(R,G){var M=this;R=p(R);var ne=M.ready().then(function(){var se=M._dbInfo,ee=localStorage.getItem(se.keyPrefix+R);return ee&&(ee=se.serializer.deserialize(ee)),ee});return d(ne,G),ne}function Te(R,G){var M=this,ne=M.ready().then(function(){for(var se=M._dbInfo,ee=se.keyPrefix,be=ee.length,Ie=localStorage.length,Oe=1,Pe=0;Pe<Ie;Pe++){var ke=localStorage.key(Pe);if(ke.indexOf(ee)===0){var Qe=localStorage.getItem(ke);if(Qe&&(Qe=se.serializer.deserialize(Qe)),Qe=R(Qe,ke.substring(be),Oe++),Qe!==void 0)return Qe}}});return d(ne,G),ne}function Ve(R,G){var M=this,ne=M.ready().then(function(){var se=M._dbInfo,ee;try{ee=localStorage.key(R)}catch{ee=null}return ee&&(ee=ee.substring(se.keyPrefix.length)),ee});return d(ne,G),ne}function ct(R){var G=this,M=G.ready().then(function(){for(var ne=G._dbInfo,se=localStorage.length,ee=[],be=0;be<se;be++){var Ie=localStorage.key(be);Ie.indexOf(ne.keyPrefix)===0&&ee.push(Ie.substring(ne.keyPrefix.length))}return ee});return d(M,R),M}function Je(R){var G=this,M=G.keys().then(function(ne){return ne.length});return d(M,R),M}function mt(R,G){var M=this;R=p(R);var ne=M.ready().then(function(){var se=M._dbInfo;localStorage.removeItem(se.keyPrefix+R)});return d(ne,G),ne}function Lt(R,G,M){var ne=this;R=p(R);var se=ne.ready().then(function(){G===void 0&&(G=null);var ee=G;return new f(function(be,Ie){var Oe=ne._dbInfo;Oe.serializer.serialize(G,function(Pe,ke){if(ke)Ie(ke);else try{localStorage.setItem(Oe.keyPrefix+R,Pe),be(ee)}catch(Qe){(Qe.name==="QuotaExceededError"||Qe.name==="NS_ERROR_DOM_QUOTA_REACHED")&&Ie(Qe),Ie(Qe)}})})});return d(se,M),se}function $n(R,G){if(G=m.apply(this,arguments),R=typeof R!="function"&&R||{},!R.name){var M=this.config();R.name=R.name||M.name,R.storeName=R.storeName||M.storeName}var ne=this,se;return R.name?se=new f(function(ee){R.storeName?ee(K(R,ne._defaultConfig)):ee(R.name+"/")}).then(function(ee){for(var be=localStorage.length-1;be>=0;be--){var Ie=localStorage.key(be);Ie.indexOf(ee)===0&&localStorage.removeItem(Ie)}}):se=f.reject("Invalid arguments"),d(se,G),se}var pt={_driver:"localStorageWrapper",_initStorage:pe,_support:ms(),iterate:Te,getItem:He,setItem:Lt,removeItem:mt,clear:he,length:Je,key:Ve,keys:ct,dropInstance:$n},xn=function(G,M){return G===M||typeof G=="number"&&typeof M=="number"&&isNaN(G)&&isNaN(M)},Et=function(G,M){for(var ne=G.length,se=0;se<ne;){if(xn(G[se],M))return!0;se++}return!1},mn=Array.isArray||function(R){return Object.prototype.toString.call(R)==="[object Array]"},tr={},Wr={},Pr={INDEXEDDB:st,WEBSQL:yi,LOCALSTORAGE:pt},is=[Pr.INDEXEDDB._driver,Pr.WEBSQL._driver,Pr.LOCALSTORAGE._driver],_i=["dropInstance"],hr=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(_i),Ye={description:"",driver:is.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function zt(R,G){R[G]=function(){var M=arguments;return R.ready().then(function(){return R[G].apply(R,M)})}}function Hn(){for(var R=1;R<arguments.length;R++){var G=arguments[R];if(G)for(var M in G)G.hasOwnProperty(M)&&(mn(G[M])?arguments[0][M]=G[M].slice():arguments[0][M]=G[M])}return arguments[0]}var ii=function(){function R(G){o(this,R);for(var M in Pr)if(Pr.hasOwnProperty(M)){var ne=Pr[M],se=ne._driver;this[M]=se,tr[se]||this.defineDriver(ne)}this._defaultConfig=Hn({},Ye),this._config=Hn({},this._defaultConfig,G),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return R.prototype.config=function(M){if((typeof M>"u"?"undefined":s(M))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var ne in M){if(ne==="storeName"&&(M[ne]=M[ne].replace(/\W/g,"_")),ne==="version"&&typeof M[ne]!="number")return new Error("Database version must be a number.");this._config[ne]=M[ne]}return"driver"in M&&M.driver?this.setDriver(this._config.driver):!0}else return typeof M=="string"?this._config[M]:this._config},R.prototype.defineDriver=function(M,ne,se){var ee=new f(function(be,Ie){try{var Oe=M._driver,Pe=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!M._driver){Ie(Pe);return}for(var ke=hr.concat("_initStorage"),Qe=0,Bt=ke.length;Qe<Bt;Qe++){var gn=ke[Qe],wn=!Et(_i,gn);if((wn||M[gn])&&typeof M[gn]!="function"){Ie(Pe);return}}var Er=function(){for(var Pf=function(Mx){return function(){var ph=new Error("Method "+Mx+" is not implemented by the current driver"),mh=f.reject(ph);return d(mh,arguments[arguments.length-1]),mh}},c0=0,f0=_i.length;c0<f0;c0++){var d0=_i[c0];M[d0]||(M[d0]=Pf(d0))}};Er();var nr=function(Pf){tr[Oe]&&console.info("Redefining LocalForage driver: "+Oe),tr[Oe]=M,Wr[Oe]=Pf,be()};"_support"in M?M._support&&typeof M._support=="function"?M._support().then(nr,Ie):nr(!!M._support):nr(!0)}catch(ys){Ie(ys)}});return h(ee,ne,se),ee},R.prototype.driver=function(){return this._driver||null},R.prototype.getDriver=function(M,ne,se){var ee=tr[M]?f.resolve(tr[M]):f.reject(new Error("Driver not found."));return h(ee,ne,se),ee},R.prototype.getSerializer=function(M){var ne=f.resolve(Wt);return h(ne,M),ne},R.prototype.ready=function(M){var ne=this,se=ne._driverSet.then(function(){return ne._ready===null&&(ne._ready=ne._initDriver()),ne._ready});return h(se,M,M),se},R.prototype.setDriver=function(M,ne,se){var ee=this;mn(M)||(M=[M]);var be=this._getSupportedDrivers(M);function Ie(){ee._config.driver=ee.driver()}function Oe(Qe){return ee._extend(Qe),Ie(),ee._ready=ee._initStorage(ee._config),ee._ready}function Pe(Qe){return function(){var Bt=0;function gn(){for(;Bt<Qe.length;){var wn=Qe[Bt];return Bt++,ee._dbInfo=null,ee._ready=null,ee.getDriver(wn).then(Oe).catch(gn)}Ie();var Er=new Error("No available storage method found.");return ee._driverSet=f.reject(Er),ee._driverSet}return gn()}}var ke=this._driverSet!==null?this._driverSet.catch(function(){return f.resolve()}):f.resolve();return this._driverSet=ke.then(function(){var Qe=be[0];return ee._dbInfo=null,ee._ready=null,ee.getDriver(Qe).then(function(Bt){ee._driver=Bt._driver,Ie(),ee._wrapLibraryMethodsWithReady(),ee._initDriver=Pe(be)})}).catch(function(){Ie();var Qe=new Error("No available storage method found.");return ee._driverSet=f.reject(Qe),ee._driverSet}),h(this._driverSet,ne,se),this._driverSet},R.prototype.supports=function(M){return!!Wr[M]},R.prototype._extend=function(M){Hn(this,M)},R.prototype._getSupportedDrivers=function(M){for(var ne=[],se=0,ee=M.length;se<ee;se++){var be=M[se];this.supports(be)&&ne.push(be)}return ne},R.prototype._wrapLibraryMethodsWithReady=function(){for(var M=0,ne=hr.length;M<ne;M++)zt(this,hr[M])},R.prototype.createInstance=function(M){return new R(M)},R}(),gs=new ii;r.exports=gs},{3:3}]},{},[4])(4)})})(die);var _qe=die.exports;const hie=Pa(_qe);let w1;const vqe=new Uint8Array(16);function bqe(){if(!w1&&(w1=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!w1))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return w1(vqe)}const Ei=[];for(let e=0;e<256;++e)Ei.push((e+256).toString(16).slice(1));function Eqe(e,t=0){return Ei[e[t+0]]+Ei[e[t+1]]+Ei[e[t+2]]+Ei[e[t+3]]+"-"+Ei[e[t+4]]+Ei[e[t+5]]+"-"+Ei[e[t+6]]+Ei[e[t+7]]+"-"+Ei[e[t+8]]+Ei[e[t+9]]+"-"+Ei[e[t+10]]+Ei[e[t+11]]+Ei[e[t+12]]+Ei[e[t+13]]+Ei[e[t+14]]+Ei[e[t+15]]}const wqe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),KU={randomUUID:wqe};function QU(e,t,n){if(KU.randomUUID&&!t&&!e)return KU.randomUUID();e=e||{};const r=e.random||(e.rng||bqe)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=r[i];return t}return Eqe(r)}class pie{constructor(t){Gs(this,"engine");Gs(this,"connected",!1);Gs(this,"currentParticipantId",null);this.engine=t}isConnected(){return this.connected}getEngine(){return this.engine}}async function kp(e){const t=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(s=>s.toString(16).padStart(2,"0")).join("")}class Tqe extends pie{constructor(){super("localStorage");Gs(this,"studyDatabase")}async connect(){this.connected=!0}async initializeStudyDb(n,r){this.studyDatabase=await hie.createInstance({name:n});const i=await kp(JSON.stringify(r)),s=await this.studyDatabase.getItem("configs");await this.studyDatabase.setItem("configs",{...s,[i]:r})}async initializeParticipantSession(n,r,i){var u;if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");if(await this.getCurrentParticipantId(i),!this.currentParticipantId)throw new Error("Participant not initialized");const s=await this.studyDatabase.getItem(this.currentParticipantId);if(s)return s;const o=await kp(JSON.stringify(r)),a={participantId:this.currentParticipantId,participantConfigHash:o,sequence:await this.getSequence(),answers:{},searchParams:n};return await((u=this.studyDatabase)==null?void 0:u.setItem(this.currentParticipantId,a)),a}async getCurrentParticipantId(n){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const r=await this.studyDatabase.getItem("currentParticipant");if(n)return this.currentParticipantId=n,await this.studyDatabase.setItem("currentParticipant",n),n;if(r)return this.currentParticipantId=r,r;const i=QU();return await this.studyDatabase.setItem("currentParticipant",i),this.currentParticipantId=i,i}async clearCurrentParticipantId(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");await this.studyDatabase.removeItem("currentParticipant")}async saveAnswer(n,r){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");if(!this.currentParticipantId)throw new Error("Participant not initialized");const i=await this.studyDatabase.getItem(this.currentParticipantId);if(!i)throw new Error("Participant not initialized");i.answers[n]=r,await this.studyDatabase.setItem(this.currentParticipantId,i)}async setSequenceArray(n){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");this.studyDatabase.setItem("sequenceArray",n)}async getSequence(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=await this.studyDatabase.getItem("sequenceArray");if(!n)throw new Error("Latin square not initialized");const r=n.pop();if(!r)throw new Error("Latin square is empty");return await this.studyDatabase.setItem("sequenceArray",n),r}async getSequenceArray(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");return await this.studyDatabase.getItem("sequenceArray")}async getAllParticipantsData(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=[];return await this.studyDatabase.iterate((r,i)=>{i!=="config"&&i!=="currentParticipant"&&i!=="sequenceArray"&&n.push(r)}),n}async getParticipantData(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=await this.studyDatabase.getItem("currentParticipant");return n?await this.studyDatabase.getItem(n):null}async nextParticipant(n){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const r=QU();this.studyDatabase.setItem("currentParticipant",r),this.currentParticipantId=r;let i=await this.studyDatabase.getItem(r);if(!i){const s=await kp(JSON.stringify(n)),o={participantId:r,participantConfigHash:s,sequence:await this.getSequence(),answers:{},searchParams:{}};await this.studyDatabase.setItem(r,o),i=o}return i}async verifyCompletion(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=await this.getParticipantData();if(!n)throw new Error("Participant not initialized");return n.sequence.every(i=>i==="end"?!0:n.answers[i]!==void 0)}_verifyStudyDatabase(n){return n!==void 0}}var XU={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mie=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Sqe=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],a=e[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(u>>10)),t[r++]=String.fromCharCode(56320+(u&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},F3={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,a=o?e[i+1]:0,u=i+2<e.length,l=u?e[i+2]:0,c=s>>2,f=(s&3)<<4|a>>4;let d=(a&15)<<2|l>>6,h=l&63;u||(h=64,o||(d=64)),r.push(n[c],n[f],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(mie(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Sqe(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const l=i<e.length?n[e.charAt(i)]:64;++i;const f=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||a==null||l==null||f==null)throw new Iqe;const d=s<<2|a>>4;if(r.push(d),l!==64){const h=a<<4&240|l>>2;if(r.push(h),f!==64){const p=l<<6&192|f;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Iqe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xqe=function(e){const t=mie(e);return F3.encodeByteArray(t,!0)},FT=function(e){return xqe(e).replace(/\./g,"")},gie=function(e){try{return F3.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yie(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cqe=()=>yie().__FIREBASE_DEFAULTS__,Aqe=()=>{if(typeof process>"u"||typeof XU>"u")return;const e=XU.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},Oqe=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&gie(e[1]);return t&&JSON.parse(t)},B3=()=>{try{return Cqe()||Aqe()||Oqe()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},_ie=e=>{var t,n;return(n=(t=B3())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},Pqe=e=>{const t=_ie(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},vie=()=>{var e;return(e=B3())===null||e===void 0?void 0:e.config},bie=e=>{var t;return(t=B3())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rqe(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[FT(JSON.stringify(n)),FT(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Nqe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ji())}function kqe(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Dqe(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $qe(){const e=Ji();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function j3(){try{return typeof indexedDB=="object"}catch{return!1}}function Lqe(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mqe="FirebaseError";class ju extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=Mqe,Object.setPrototypeOf(this,ju.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,t0.prototype.create)}}class t0{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?Fqe(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ju(i,a,r)}}function Fqe(e,t){return e.replace(Bqe,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const Bqe=/\{\$([^}]+)}/g;function jqe(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function qy(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(JU(s)&&JU(o)){if(!qy(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function JU(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Uqe(e,t){const n=new Vqe(e,t);return n.subscribe.bind(n)}class Vqe{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");zqe(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=tO),i.error===void 0&&(i.error=tO),i.complete===void 0&&(i.complete=tO);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zqe(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function tO(){}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hqe=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wqe=1e3,qqe=2,Yqe=4*60*60*1e3,Gqe=.5;function Kqe(e,t=Wqe,n=qqe){const r=t*Math.pow(n,e),i=Math.round(Gqe*r*(Math.random()-.5)*2);return Math.min(Yqe,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(e){return e&&e._delegate?e._delegate:e}class Ru{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uf="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qqe{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new Wy;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Jqe(t))try{this.getOrInitializeService({instanceIdentifier:Uf})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=Uf){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Uf){return this.instances.has(t)}getOptions(t=Uf){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Xqe(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Uf){return this.component?this.component.multipleInstances?t:Uf:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Xqe(e){return e===Uf?void 0:e}function Jqe(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zqe{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Qqe(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nn;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(nn||(nn={}));const eYe={debug:nn.DEBUG,verbose:nn.VERBOSE,info:nn.INFO,warn:nn.WARN,error:nn.ERROR,silent:nn.SILENT},tYe=nn.INFO,nYe={[nn.DEBUG]:"log",[nn.VERBOSE]:"log",[nn.INFO]:"info",[nn.WARN]:"warn",[nn.ERROR]:"error"},rYe=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=nYe[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class rx{constructor(t){this.name=t,this._logLevel=tYe,this._logHandler=rYe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in nn))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?eYe[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,nn.DEBUG,...t),this._logHandler(this,nn.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,nn.VERBOSE,...t),this._logHandler(this,nn.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,nn.INFO,...t),this._logHandler(this,nn.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,nn.WARN,...t),this._logHandler(this,nn.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,nn.ERROR,...t),this._logHandler(this,nn.ERROR,...t)}}const iYe=(e,t)=>t.some(n=>e instanceof n);let ZU,eV;function sYe(){return ZU||(ZU=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oYe(){return eV||(eV=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Eie=new WeakMap,dR=new WeakMap,wie=new WeakMap,nO=new WeakMap,U3=new WeakMap;function aYe(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(qc(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&Eie.set(n,e)}).catch(()=>{}),U3.set(t,e),t}function uYe(e){if(dR.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});dR.set(e,t)}let hR={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return dR.get(e);if(t==="objectStoreNames")return e.objectStoreNames||wie.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qc(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function lYe(e){hR=e(hR)}function cYe(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(rO(this),t,...n);return wie.set(r,t.sort?t.sort():[t]),qc(r)}:oYe().includes(e)?function(...t){return e.apply(rO(this),t),qc(Eie.get(this))}:function(...t){return qc(e.apply(rO(this),t))}}function fYe(e){return typeof e=="function"?cYe(e):(e instanceof IDBTransaction&&uYe(e),iYe(e,sYe())?new Proxy(e,hR):e)}function qc(e){if(e instanceof IDBRequest)return aYe(e);if(nO.has(e))return nO.get(e);const t=fYe(e);return t!==e&&(nO.set(e,t),U3.set(t,e)),t}const rO=e=>U3.get(e);function dYe(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=qc(o);return r&&o.addEventListener("upgradeneeded",u=>{r(qc(o.result),u.oldVersion,u.newVersion,qc(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const hYe=["get","getKey","getAll","getAllKeys","count"],pYe=["put","add","delete","clear"],iO=new Map;function tV(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(iO.get(t))return iO.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=pYe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||hYe.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),i&&u.done]))[0]};return iO.set(t,s),s}lYe(e=>({...e,get:(t,n,r)=>tV(t,n)||e.get(t,n,r),has:(t,n)=>!!tV(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mYe{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(gYe(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function gYe(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const pR="@firebase/app",nV="0.9.24";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud=new rx("@firebase/app"),yYe="@firebase/app-compat",_Ye="@firebase/analytics-compat",vYe="@firebase/analytics",bYe="@firebase/app-check-compat",EYe="@firebase/app-check",wYe="@firebase/auth",TYe="@firebase/auth-compat",SYe="@firebase/database",IYe="@firebase/database-compat",xYe="@firebase/functions",CYe="@firebase/functions-compat",AYe="@firebase/installations",OYe="@firebase/installations-compat",PYe="@firebase/messaging",RYe="@firebase/messaging-compat",NYe="@firebase/performance",kYe="@firebase/performance-compat",DYe="@firebase/remote-config",$Ye="@firebase/remote-config-compat",LYe="@firebase/storage",MYe="@firebase/storage-compat",FYe="@firebase/firestore",BYe="@firebase/firestore-compat",jYe="firebase",UYe="10.7.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR="[DEFAULT]",VYe={[pR]:"fire-core",[yYe]:"fire-core-compat",[vYe]:"fire-analytics",[_Ye]:"fire-analytics-compat",[EYe]:"fire-app-check",[bYe]:"fire-app-check-compat",[wYe]:"fire-auth",[TYe]:"fire-auth-compat",[SYe]:"fire-rtdb",[IYe]:"fire-rtdb-compat",[xYe]:"fire-fn",[CYe]:"fire-fn-compat",[AYe]:"fire-iid",[OYe]:"fire-iid-compat",[PYe]:"fire-fcm",[RYe]:"fire-fcm-compat",[NYe]:"fire-perf",[kYe]:"fire-perf-compat",[DYe]:"fire-rc",[$Ye]:"fire-rc-compat",[LYe]:"fire-gcs",[MYe]:"fire-gcs-compat",[FYe]:"fire-fst",[BYe]:"fire-fst-compat","fire-js":"fire-js",[jYe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT=new Map,gR=new Map;function zYe(e,t){try{e.container.addComponent(t)}catch(n){Ud.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function kl(e){const t=e.name;if(gR.has(t))return Ud.debug(`There were multiple attempts to register component ${t}.`),!1;gR.set(t,e);for(const n of BT.values())zYe(n,e);return!0}function n0(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HYe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Yc=new t0("app","Firebase",HYe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WYe{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ru("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Yc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch=UYe;function Tie(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:mR,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw Yc.create("bad-app-name",{appName:String(i)});if(n||(n=vie()),!n)throw Yc.create("no-options");const s=BT.get(i);if(s){if(qy(n,s.options)&&qy(r,s.config))return s;throw Yc.create("duplicate-app",{appName:i})}const o=new Zqe(i);for(const u of gR.values())o.addComponent(u);const a=new WYe(n,r,o);return BT.set(i,a),a}function V3(e=mR){const t=BT.get(e);if(!t&&e===mR&&vie())return Tie();if(!t)throw Yc.create("no-app",{appName:e});return t}function Sa(e,t,n){var r;let i=(r=VYe[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${t}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ud.warn(a.join(" "));return}kl(new Ru(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qYe="firebase-heartbeat-database",YYe=1,Yy="firebase-heartbeat-store";let sO=null;function Sie(){return sO||(sO=dYe(qYe,YYe,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Yy)}}}).catch(e=>{throw Yc.create("idb-open",{originalErrorMessage:e.message})})),sO}async function GYe(e){try{return await(await Sie()).transaction(Yy).objectStore(Yy).get(Iie(e))}catch(t){if(t instanceof ju)Ud.warn(t.message);else{const n=Yc.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ud.warn(n.message)}}}async function rV(e,t){try{const r=(await Sie()).transaction(Yy,"readwrite");await r.objectStore(Yy).put(t,Iie(e)),await r.done}catch(n){if(n instanceof ju)Ud.warn(n.message);else{const r=Yc.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ud.warn(r.message)}}}function Iie(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KYe=1024,QYe=30*24*60*60*1e3;class XYe{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ZYe(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=iV();if(!(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=QYe}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=iV(),{heartbeatsToSend:r,unsentEntries:i}=JYe(this._heartbeatsCache.heartbeats),s=FT(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function iV(){return new Date().toISOString().substring(0,10)}function JYe(e,t=KYe){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),sV(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),sV(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class ZYe{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return j3()?Lqe().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await GYe(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return rV(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return rV(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function sV(e){return FT(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eGe(e){kl(new Ru("platform-logger",t=>new mYe(t),"PRIVATE")),kl(new Ru("heartbeat",t=>new XYe(t),"PRIVATE")),Sa(pR,nV,e),Sa(pR,nV,"esm2017"),Sa("fire-js","")}eGe("");var tGe="firebase",nGe="10.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sa(tGe,nGe,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xie="firebasestorage.googleapis.com",Cie="storageBucket",rGe=2*60*1e3,iGe=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or extends ju{constructor(t,n,r=0){super(oO(t),`Firebase Storage: ${n} (${oO(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Or.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return oO(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Cr;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Cr||(Cr={}));function oO(e){return"storage/"+e}function z3(){const e="An unknown error occurred, please check the error payload for server response.";return new Or(Cr.UNKNOWN,e)}function sGe(e){return new Or(Cr.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function oGe(e){return new Or(Cr.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function aGe(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Or(Cr.UNAUTHENTICATED,e)}function uGe(){return new Or(Cr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function lGe(e){return new Or(Cr.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function cGe(){return new Or(Cr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function fGe(){return new Or(Cr.CANCELED,"User canceled the upload/download.")}function dGe(e){return new Or(Cr.INVALID_URL,"Invalid URL '"+e+"'.")}function hGe(e){return new Or(Cr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function pGe(){return new Or(Cr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Cie+"' property when initializing the app?")}function mGe(){return new Or(Cr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function gGe(){return new Or(Cr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function yGe(e){return new Or(Cr.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function yR(e){return new Or(Cr.INVALID_ARGUMENT,e)}function Aie(){return new Or(Cr.APP_DELETED,"The Firebase app was deleted.")}function _Ge(e){return new Or(Cr.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Yg(e,t){return new Or(Cr.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function H0(e){throw new Or(Cr.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=ao.makeFromUrl(t,n)}catch{return new ao(t,"")}if(r.path==="")return r;throw hGe(t)}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(T){T.path.charAt(T.path.length-1)==="/"&&(T.path_=T.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function l(T){T.path_=decodeURIComponent(T.path)}const c="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",h=new RegExp(`^https?://${f}/${c}/b/${i}/o${d}`,"i"),p={bucket:1,path:3},m=n===xie?"(?:storage.googleapis.com|storage.cloud.google.com)":n,y="([^?#]*)",g=new RegExp(`^https?://${m}/${i}/${y}`,"i"),b=[{regex:a,indices:u,postModify:s},{regex:h,indices:p,postModify:l},{regex:g,indices:{bucket:1,path:2},postModify:l}];for(let T=0;T<b.length;T++){const I=b[T],E=I.regex.exec(t);if(E){const S=E[I.indices.bucket];let A=E[I.indices.path];A||(A=""),r=new ao(S,A),I.postModify(r);break}}if(r==null)throw dGe(t);return r}}class vGe{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bGe(e,t,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return a===2}let l=!1;function c(...y){l||(l=!0,t.apply(null,y))}function f(y){i=setTimeout(()=>{i=null,e(h,u())},y)}function d(){s&&clearTimeout(s)}function h(y,...g){if(l){d();return}if(y){d(),c.call(null,y,...g);return}if(u()||o){d(),c.call(null,y,...g);return}r<64&&(r*=2);let b;a===1?(a=2,b=0):b=(r+Math.random())*1e3,f(b)}let p=!1;function m(y){p||(p=!0,d(),!l&&(i!==null?(y||(a=2),clearTimeout(i),f(0)):y||(a=1)))}return f(0),s=setTimeout(()=>{o=!0,m(!0)},n),m}function EGe(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wGe(e){return e!==void 0}function TGe(e){return typeof e=="object"&&!Array.isArray(e)}function H3(e){return typeof e=="string"||e instanceof String}function oV(e){return W3()&&e instanceof Blob}function W3(){return typeof Blob<"u"}function aV(e,t,n,r){if(r<t)throw yR(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw yR(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q3(e,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function Oie(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wd;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(wd||(wd={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SGe(e,t){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,s=t.indexOf(e)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IGe{constructor(t,n,r,i,s,o,a,u,l,c,f,d=!0){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=f,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,p)=>{this.resolve_=h,this.reject_=p,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new T1(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const u=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,l)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===wd.NO_ERROR,u=s.getStatus();if(!a||SGe(u,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===wd.ABORT;r(!1,new T1(!1,null,c));return}const l=this.successCodes_.indexOf(u)!==-1;r(!0,new T1(l,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());wGe(u)?s(u):s()}catch(u){o(u)}else if(a!==null){const u=z3();u.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,u)):o(u)}else if(i.canceled){const u=this.appDelete_?Aie():fGe();o(u)}else{const u=cGe();o(u)}};this.canceled_?n(!1,new T1(!1,null,!0)):this.backoffId_=bGe(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&EGe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class T1{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function xGe(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function CGe(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function AGe(e,t){t&&(e["X-Firebase-GMPID"]=t)}function OGe(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function PGe(e,t,n,r,i,s,o=!0){const a=Oie(e.urlParams),u=e.url+a,l=Object.assign({},e.headers);return AGe(l,t),xGe(l,n),CGe(l,s),OGe(l,r),new IGe(u,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RGe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function NGe(...e){const t=RGe();if(t!==void 0){const n=new t;for(let r=0;r<e.length;r++)n.append(e[r]);return n.getBlob()}else{if(W3())return new Blob(e);throw new Or(Cr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function kGe(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DGe(e){if(typeof atob>"u")throw yGe("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const au={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class aO{constructor(t,n){this.data=t,this.contentType=n||null}}function $Ge(e,t){switch(e){case au.RAW:return new aO(Pie(t));case au.BASE64:case au.BASE64URL:return new aO(Rie(e,t));case au.DATA_URL:return new aO(MGe(t),FGe(t))}throw z3()}function Pie(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const s=r,o=e.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function LGe(e){let t;try{t=decodeURIComponent(e)}catch{throw Yg(au.DATA_URL,"Malformed data URL.")}return Pie(t)}function Rie(e,t){switch(e){case au.BASE64:{const i=t.indexOf("-")!==-1,s=t.indexOf("_")!==-1;if(i||s)throw Yg(e,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case au.BASE64URL:{const i=t.indexOf("+")!==-1,s=t.indexOf("/")!==-1;if(i||s)throw Yg(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=DGe(t)}catch(i){throw i.message.includes("polyfill")?i:Yg(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class Nie{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw Yg(au.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=BGe(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function MGe(e){const t=new Nie(e);return t.base64?Rie(au.BASE64,t.rest):LGe(t.rest)}function FGe(e){return new Nie(e).contentType}function BGe(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(t,n){let r=0,i="";oV(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(t,n){if(oV(this.data_)){const r=this.data_,i=kGe(r,t,n);return i===null?null:new gc(i)}else{const r=new Uint8Array(this.data_.buffer,t,n-t);return new gc(r,!0)}}static getBlob(...t){if(W3()){const n=t.map(r=>r instanceof gc?r.data_:r);return new gc(NGe.apply(null,n))}else{const n=t.map(o=>H3(o)?$Ge(au.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new gc(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kie(e){let t;try{t=JSON.parse(e)}catch{return null}return TGe(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jGe(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function UGe(e,t){const n=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?n:e+"/"+n}function Die(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VGe(e,t){return t}class ss{constructor(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||VGe}}let S1=null;function zGe(e){return!H3(e)||e.length<2?e:Die(e)}function $ie(){if(S1)return S1;const e=[];e.push(new ss("bucket")),e.push(new ss("generation")),e.push(new ss("metageneration")),e.push(new ss("name","fullPath",!0));function t(s,o){return zGe(o)}const n=new ss("name");n.xform=t,e.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new ss("size");return i.xform=r,e.push(i),e.push(new ss("timeCreated")),e.push(new ss("updated")),e.push(new ss("md5Hash",null,!0)),e.push(new ss("cacheControl",null,!0)),e.push(new ss("contentDisposition",null,!0)),e.push(new ss("contentEncoding",null,!0)),e.push(new ss("contentLanguage",null,!0)),e.push(new ss("contentType",null,!0)),e.push(new ss("metadata","customMetadata",!0)),S1=e,S1}function HGe(e,t){function n(){const r=e.bucket,i=e.fullPath,s=new ao(r,i);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function WGe(e,t,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,t[o.server])}return HGe(r,e),r}function Lie(e,t,n){const r=kie(t);return r===null?null:WGe(e,r,n)}function qGe(e,t,n,r){const i=kie(t);if(i===null||!H3(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(l=>{const c=e.bucket,f=e.fullPath,d="/b/"+o(c)+"/o/"+o(f),h=q3(d,n,r),p=Oie({alt:"media",token:l});return h+p})[0]}function YGe(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const s=t[i];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}class Mie{constructor(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fie(e){if(!e)throw z3()}function GGe(e,t){function n(r,i){const s=Lie(e,i,t);return Fie(s!==null),s}return n}function KGe(e,t){function n(r,i){const s=Lie(e,i,t);return Fie(s!==null),qGe(s,i,e.host,e._protocol)}return n}function Bie(e){function t(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=uGe():i=aGe():n.getStatus()===402?i=oGe(e.bucket):n.getStatus()===403?i=lGe(e.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return t}function QGe(e){const t=Bie(e);function n(r,i){let s=t(r,i);return r.getStatus()===404&&(s=sGe(e.path)),s.serverResponse=i.serverResponse,s}return n}function XGe(e,t,n){const r=t.fullServerUrl(),i=q3(r,e.host,e._protocol),s="GET",o=e.maxOperationRetryTime,a=new Mie(i,s,KGe(e,n),o);return a.errorHandler=QGe(t),a}function JGe(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function ZGe(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=JGe(null,t)),r}function eKe(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let b="";for(let T=0;T<2;T++)b=b+Math.random().toString().slice(2);return b}const u=a();o["Content-Type"]="multipart/related; boundary="+u;const l=ZGe(t,r,i),c=YGe(l,n),f="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+u+`\r
Content-Type: `+l.contentType+`\r
\r
`,d=`\r
--`+u+"--",h=gc.getBlob(f,r,d);if(h===null)throw mGe();const p={name:l.fullPath},m=q3(s,e.host,e._protocol),y="POST",g=e.maxUploadRetryTime,_=new Mie(m,y,GGe(e,n),g);return _.urlParams=p,_.headers=o,_.body=h.uploadData(),_.errorHandler=Bie(t),_}class tKe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=wd.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=wd.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=wd.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,i){if(this.sent_)throw H0("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw H0("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw H0("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw H0("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw H0("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class nKe extends tKe{initXhr(){this.xhr_.responseType="text"}}function jie(){return new nKe}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(t,n){this._service=t,n instanceof ao?this._location=n:this._location=ao.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new Vd(t,n)}get root(){const t=new ao(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Die(this._location.path)}get storage(){return this._service}get parent(){const t=jGe(this._location.path);if(t===null)return null;const n=new ao(this._location.bucket,t);return new Vd(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw _Ge(t)}}function rKe(e,t,n){e._throwIfRoot("uploadBytes");const r=eKe(e.storage,e._location,$ie(),new gc(t,!0),n);return e.storage.makeRequestWithTokens(r,jie).then(i=>({metadata:i,ref:e}))}function iKe(e){e._throwIfRoot("getDownloadURL");const t=XGe(e.storage,e._location,$ie());return e.storage.makeRequestWithTokens(t,jie).then(n=>{if(n===null)throw gGe();return n})}function sKe(e,t){const n=UGe(e._location.path,t),r=new ao(e._location.bucket,n);return new Vd(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oKe(e){return/^[A-Za-z]+:\/\//.test(e)}function aKe(e,t){return new Vd(e,t)}function Uie(e,t){if(e instanceof Y3){const n=e;if(n._bucket==null)throw pGe();const r=new Vd(n,n._bucket);return t!=null?Uie(r,t):r}else return t!==void 0?sKe(e,t):e}function uKe(e,t){if(t&&oKe(t)){if(e instanceof Y3)return aKe(e,t);throw yR("To use ref(service, url), the first argument must be a Storage instance.")}else return Uie(e,t)}function uV(e,t){const n=t==null?void 0:t[Cie];return n==null?null:ao.makeFromBucketSpec(n,e)}function lKe(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken=typeof i=="string"?i:Rqe(i,e.app.options.projectId))}class Y3{constructor(t,n,r,i,s){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=xie,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=rGe,this._maxUploadRetryTime=iGe,this._requests=new Set,i!=null?this._bucket=ao.makeFromBucketSpec(i,this._host):this._bucket=uV(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=ao.makeFromBucketSpec(this._url,t):this._bucket=uV(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){aV("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){aV("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Vd(this,t)}_makeRequest(t,n,r,i,s=!0){if(this._deleted)return new vGe(Aie());{const o=PGe(t,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()}}const lV="@firebase/storage",cV="0.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vie="storage";function cKe(e,t,n){return e=Zi(e),rKe(e,t,n)}function fKe(e){return e=Zi(e),iKe(e)}function fV(e,t){return e=Zi(e),uKe(e,t)}function dV(e=V3(),t){e=Zi(e);const r=n0(e,Vie).getImmediate({identifier:t}),i=Pqe("storage");return i&&dKe(r,...i),r}function dKe(e,t,n,r={}){lKe(e,t,n,r)}function hKe(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new Y3(n,r,i,t,ch)}function pKe(){kl(new Ru(Vie,hKe,"PUBLIC").setMultipleInstances(!0)),Sa(lV,cV,""),Sa(lV,cV,"esm2017")}pKe();var mKe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Fe,G3=G3||{},Tt=mKe||self;function ix(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function tv(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function gKe(e){return Object.prototype.hasOwnProperty.call(e,uO)&&e[uO]||(e[uO]=++yKe)}var uO="closure_uid_"+(1e9*Math.random()>>>0),yKe=0;function _Ke(e,t,n){return e.call.apply(e.bind,arguments)}function vKe(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function Gi(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Gi=_Ke:Gi=vKe,Gi.apply(null,arguments)}function I1(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function gi(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[i].apply(r,o)}}function Af(){this.s=this.s,this.o=this.o}var bKe=0;Af.prototype.s=!1;Af.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),bKe!=0)&&gKe(this)};Af.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const zie=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function K3(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function hV(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(ix(r)){const i=e.length||0,s=r.length||0;e.length=i+s;for(let o=0;o<s;o++)e[i+o]=r[o]}else e.push(r)}}function Ki(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Ki.prototype.h=function(){this.defaultPrevented=!0};var EKe=function(){if(!Tt.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const n=()=>{};Tt.addEventListener("test",n,t),Tt.removeEventListener("test",n,t)}catch{}return e}();function Gy(e){return/^[\s\xa0]*$/.test(e)}function sx(){var e=Tt.navigator;return e&&(e=e.userAgent)?e:""}function ru(e){return sx().indexOf(e)!=-1}function Q3(e){return Q3[" "](e),e}Q3[" "]=function(){};function wKe(e,t){var n=pQe;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var TKe=ru("Opera"),bm=ru("Trident")||ru("MSIE"),Hie=ru("Edge"),_R=Hie||bm,Wie=ru("Gecko")&&!(sx().toLowerCase().indexOf("webkit")!=-1&&!ru("Edge"))&&!(ru("Trident")||ru("MSIE"))&&!ru("Edge"),SKe=sx().toLowerCase().indexOf("webkit")!=-1&&!ru("Edge");function qie(){var e=Tt.document;return e?e.documentMode:void 0}var vR;e:{var lO="",cO=function(){var e=sx();if(Wie)return/rv:([^\);]+)(\)|;)/.exec(e);if(Hie)return/Edge\/([\d\.]+)/.exec(e);if(bm)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(SKe)return/WebKit\/(\S+)/.exec(e);if(TKe)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(cO&&(lO=cO?cO[1]:""),bm){var fO=qie();if(fO!=null&&fO>parseFloat(lO)){vR=String(fO);break e}}vR=lO}var bR;if(Tt.document&&bm){var pV=qie();bR=pV||parseInt(vR,10)||void 0}else bR=void 0;var IKe=bR;function Ky(e,t){if(Ki.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Wie){e:{try{Q3(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:xKe[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ky.$.h.call(this)}}gi(Ky,Ki);var xKe={2:"touch",3:"pen",4:"mouse"};Ky.prototype.h=function(){Ky.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var nv="closure_listenable_"+(1e6*Math.random()|0),CKe=0;function AKe(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++CKe,this.fa=this.ia=!1}function ox(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function X3(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function OKe(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function Yie(e){const t={};for(const n in e)t[n]=e[n];return t}const mV="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Gie(e,t){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(let s=0;s<mV.length;s++)n=mV[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ax(e){this.src=e,this.g={},this.h=0}ax.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var o=wR(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):(t=new AKe(t,this.src,s,!!r,i),t.ia=n,e.push(t)),t};function ER(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=zie(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(ox(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function wR(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}var J3="closure_lm_"+(1e6*Math.random()|0),dO={};function Kie(e,t,n,r,i){if(r&&r.once)return Xie(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Kie(e,t[s],n,r,i);return null}return n=t6(n),e&&e[nv]?e.O(t,n,tv(r)?!!r.capture:!!r,i):Qie(e,t,n,!1,r,i)}function Qie(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=tv(i)?!!i.capture:!!i,a=e6(e);if(a||(e[J3]=a=new ax(e)),n=a.add(t,n,r,o,s),n.proxy)return n;if(r=PKe(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)EKe||(i=o),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Zie(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function PKe(){function e(n){return t.call(e.src,e.listener,n)}const t=RKe;return e}function Xie(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Xie(e,t[s],n,r,i);return null}return n=t6(n),e&&e[nv]?e.P(t,n,tv(r)?!!r.capture:!!r,i):Qie(e,t,n,!0,r,i)}function Jie(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Jie(e,t[s],n,r,i);else r=tv(r)?!!r.capture:!!r,n=t6(n),e&&e[nv]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=wR(s,n,r,i),-1<n&&(ox(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=e6(e))&&(t=e.g[t.toString()],e=-1,t&&(e=wR(t,n,r,i)),(n=-1<e?t[e]:null)&&Z3(n))}function Z3(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[nv])ER(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Zie(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=e6(t))?(ER(n,e),n.h==0&&(n.src=null,t[J3]=null)):ox(e)}}}function Zie(e){return e in dO?dO[e]:dO[e]="on"+e}function RKe(e,t){if(e.fa)e=!0;else{t=new Ky(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Z3(e),e=n.call(r,t)}return e}function e6(e){return e=e[J3],e instanceof ax?e:null}var hO="__closure_events_fn_"+(1e9*Math.random()>>>0);function t6(e){return typeof e=="function"?e:(e[hO]||(e[hO]=function(t){return e.handleEvent(t)}),e[hO])}function hi(){Af.call(this),this.i=new ax(this),this.S=this,this.J=null}gi(hi,Af);hi.prototype[nv]=!0;hi.prototype.removeEventListener=function(e,t,n,r){Jie(this,e,t,n,r)};function ki(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,typeof t=="string")t=new Ki(t,e);else if(t instanceof Ki)t.target=t.target||e;else{var i=t;t=new Ki(r,e),Gie(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=x1(o,r,!0,t)&&i}if(o=t.g=e,i=x1(o,r,!0,t)&&i,i=x1(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)o=t.g=n[s],i=x1(o,r,!1,t)&&i}hi.prototype.N=function(){if(hi.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)ox(n[r]);delete e.g[t],e.h--}}this.J=null};hi.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};hi.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function x1(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&ER(e.i,o),i=a.call(u,r)!==!1&&i}}return i&&!r.defaultPrevented}var n6=Tt.JSON.stringify;class NKe{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function kKe(){var e=r6;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class DKe{constructor(){this.h=this.g=null}add(t,n){const r=ese.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var ese=new NKe(()=>new $Ke,e=>e.reset());class $Ke{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function LKe(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function MKe(e){Tt.setTimeout(()=>{throw e},0)}let Qy,Xy=!1,r6=new DKe,tse=()=>{const e=Tt.Promise.resolve(void 0);Qy=()=>{e.then(FKe)}};var FKe=()=>{for(var e;e=kKe();){try{e.h.call(e.g)}catch(n){MKe(n)}var t=ese;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Xy=!1};function ux(e,t){hi.call(this),this.h=e||1,this.g=t||Tt,this.j=Gi(this.qb,this),this.l=Date.now()}gi(ux,hi);Fe=ux.prototype;Fe.ga=!1;Fe.T=null;Fe.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ki(this,"tick"),this.ga&&(i6(this),this.start()))}};Fe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function i6(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}Fe.N=function(){ux.$.N.call(this),i6(this),delete this.g};function s6(e,t,n){if(typeof e=="function")n&&(e=Gi(e,n));else if(e&&typeof e.handleEvent=="function")e=Gi(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:Tt.setTimeout(e,t||0)}function nse(e){e.g=s6(()=>{e.g=null,e.i&&(e.i=!1,nse(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class BKe extends Af{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:nse(this)}N(){super.N(),this.g&&(Tt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Jy(e){Af.call(this),this.h=e,this.g={}}gi(Jy,Af);var gV=[];function rse(e,t,n,r){Array.isArray(n)||(n&&(gV[0]=n.toString()),n=gV);for(var i=0;i<n.length;i++){var s=Kie(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function ise(e){X3(e.g,function(t,n){this.g.hasOwnProperty(n)&&Z3(t)},e),e.g={}}Jy.prototype.N=function(){Jy.$.N.call(this),ise(this)};Jy.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function lx(){this.g=!0}lx.prototype.Ea=function(){this.g=!1};function jKe(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var f=c.split("_");o=2<=f.length&&f[1]=="type"?o+(c+"="+l+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+o})}function UKe(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+o})}function op(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+zKe(e,n)+(r?" "+r:"")})}function VKe(e,t){e.info(function(){return"TIMEOUT: "+t})}lx.prototype.info=function(){};function zKe(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return n6(n)}catch{return t}}var fh={},yV=null;function cx(){return yV=yV||new hi}fh.Ta="serverreachability";function sse(e){Ki.call(this,fh.Ta,e)}gi(sse,Ki);function Zy(e){const t=cx();ki(t,new sse(t))}fh.STAT_EVENT="statevent";function ose(e,t){Ki.call(this,fh.STAT_EVENT,e),this.stat=t}gi(ose,Ki);function us(e){const t=cx();ki(t,new ose(t,e))}fh.Ua="timingevent";function ase(e,t){Ki.call(this,fh.Ua,e),this.size=t}gi(ase,Ki);function rv(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return Tt.setTimeout(function(){e()},t)}var fx={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},use={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function o6(){}o6.prototype.h=null;function _V(e){return e.h||(e.h=e.i())}function lse(){}var iv={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function a6(){Ki.call(this,"d")}gi(a6,Ki);function u6(){Ki.call(this,"c")}gi(u6,Ki);var TR;function dx(){}gi(dx,o6);dx.prototype.g=function(){return new XMLHttpRequest};dx.prototype.i=function(){return{}};TR=new dx;function sv(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Jy(this),this.P=HKe,e=_R?125:void 0,this.V=new ux(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new cse}function cse(){this.i=null,this.g="",this.h=!1}var HKe=45e3,fse={},SR={};Fe=sv.prototype;Fe.setTimeout=function(e){this.P=e};function IR(e,t,n){e.L=1,e.A=px(Dl(t)),e.u=n,e.S=!0,dse(e,null)}function dse(e,t){e.G=Date.now(),ov(e),e.B=Dl(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),bse(n.i,"t",r),e.o=0,n=e.l.J,e.h=new cse,e.g=Use(e.l,n?t:null,!e.u),0<e.O&&(e.M=new BKe(Gi(e.Pa,e,e.g),e.O)),rse(e.U,e.g,"readystatechange",e.nb),t=e.I?Yie(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),Zy(),jKe(e.j,e.v,e.B,e.m,e.W,e.u)}Fe.nb=function(e){e=e.target;const t=this.M;t&&uu(e)==3?t.l():this.Pa(e)};Fe.Pa=function(e){try{if(e==this.g)e:{const c=uu(this.g);var t=this.g.Ia();const f=this.g.da();if(!(3>c)&&(c!=3||_R||this.g&&(this.h.h||this.g.ja()||wV(this.g)))){this.J||c!=4||t==7||(t==8||0>=f?Zy(3):Zy(2)),hx(this);var n=this.g.da();this.ca=n;t:if(hse(this)){var r=wV(this.g);e="";var i=r.length,s=uu(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){fd(this),Gg(this);var o="";break t}this.h.i=new Tt.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.length=0,this.h.g+=e,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,UKe(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Gy(a)){var l=a;break t}}l=null}if(n=l)op(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xR(this,n);else{this.i=!1,this.s=3,us(12),fd(this),Gg(this);break e}}this.S?(pse(this,c,o),_R&&this.i&&c==3&&(rse(this.U,this.V,"tick",this.mb),this.V.start())):(op(this.j,this.m,o,null),xR(this,o)),c==4&&fd(this),this.i&&!this.J&&(c==4?Mse(this.l,this):(this.i=!1,ov(this)))}else fQe(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,us(12)):(this.s=0,us(13)),fd(this),Gg(this)}}}catch{}finally{}};function hse(e){return e.g?e.v=="GET"&&e.L!=2&&e.l.Ha:!1}function pse(e,t,n){let r=!0,i;for(;!e.J&&e.o<n.length;)if(i=WKe(e,n),i==SR){t==4&&(e.s=4,us(14),r=!1),op(e.j,e.m,null,"[Incomplete Response]");break}else if(i==fse){e.s=4,us(15),op(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else op(e.j,e.m,i,null),xR(e,i);hse(e)&&e.o!=0&&(e.h.g=e.h.g.slice(e.o),e.o=0),t!=4||n.length!=0||e.h.h||(e.s=1,us(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),p6(t),t.M=!0,us(11))):(op(e.j,e.m,n,"[Invalid Chunked Response]"),fd(e),Gg(e))}Fe.mb=function(){if(this.g){var e=uu(this.g),t=this.g.ja();this.o<t.length&&(hx(this),pse(this,e,t),this.i&&e!=4&&ov(this))}};function WKe(e,t){var n=e.o,r=t.indexOf(`
`,n);return r==-1?SR:(n=Number(t.substring(n,r)),isNaN(n)?fse:(r+=1,r+n>t.length?SR:(t=t.slice(r,r+n),e.o=r+n,t)))}Fe.cancel=function(){this.J=!0,fd(this)};function ov(e){e.Y=Date.now()+e.P,mse(e,e.P)}function mse(e,t){if(e.C!=null)throw Error("WatchDog timer not null");e.C=rv(Gi(e.lb,e),t)}function hx(e){e.C&&(Tt.clearTimeout(e.C),e.C=null)}Fe.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(VKe(this.j,this.B),this.L!=2&&(Zy(),us(17)),fd(this),this.s=2,Gg(this)):mse(this,this.Y-e)};function Gg(e){e.l.H==0||e.J||Mse(e.l,e)}function fd(e){hx(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,i6(e.V),ise(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function xR(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||CR(n.i,e))){if(!e.K&&CR(n.i,e)&&n.H==3){try{var r=n.Ja.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)VT(n),_x(n);else break e;h6(n),us(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=rv(Gi(n.ib,n),6e3));if(1>=Tse(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else dd(n,11)}else if((e.K||n.g==e)&&VT(n),!Gy(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let l=i[t];if(n.V=l[0],l=l[1],n.H==2)if(l[0]=="c"){n.K=l[1],n.pa=l[2];const c=l[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const f=l[4];f!=null&&(n.Ga=f,n.l.info("SVER="+n.Ga));const d=l[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const p=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(l6(s,s.h),s.h=null))}if(r.F){const m=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,Jn(r.I,r.F,m))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=e;if(r.wa=jse(r,r.J?r.pa:null,r.Y),o.K){Sse(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.C&&(hx(a),ov(a)),r.g=o}else $se(r);0<n.j.length&&vx(n)}else l[0]!="stop"&&l[0]!="close"||dd(n,7);else n.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?dd(n,7):d6(n):l[0]!="noop"&&n.h&&n.h.Aa(l),n.A=0)}}Zy(4)}catch{}}function qKe(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(ix(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function YKe(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(ix(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function gse(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(ix(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=YKe(e),r=qKe(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}var yse=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function GKe(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Td(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Td){this.h=e.h,jT(this,e.j),this.s=e.s,this.g=e.g,UT(this,e.m),this.l=e.l;var t=e.i,n=new e_;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),vV(this,n),this.o=e.o}else e&&(t=String(e).match(yse))?(this.h=!1,jT(this,t[1]||"",!0),this.s=fg(t[2]||""),this.g=fg(t[3]||"",!0),UT(this,t[4]),this.l=fg(t[5]||"",!0),vV(this,t[6]||"",!0),this.o=fg(t[7]||"")):(this.h=!1,this.i=new e_(null,this.h))}Td.prototype.toString=function(){var e=[],t=this.j;t&&e.push(dg(t,bV,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(dg(t,bV,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(dg(n,n.charAt(0)=="/"?XKe:QKe,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",dg(n,ZKe)),e.join("")};function Dl(e){return new Td(e)}function jT(e,t,n){e.j=n?fg(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function UT(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function vV(e,t,n){t instanceof e_?(e.i=t,eQe(e.i,e.h)):(n||(t=dg(t,JKe)),e.i=new e_(t,e.h))}function Jn(e,t,n){e.i.set(t,n)}function px(e){return Jn(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function fg(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function dg(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,KKe),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function KKe(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var bV=/[#\/\?@]/g,QKe=/[#\?:]/g,XKe=/[#\?]/g,JKe=/[#\?@]/g,ZKe=/#/g;function e_(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Of(e){e.g||(e.g=new Map,e.h=0,e.i&&GKe(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}Fe=e_.prototype;Fe.add=function(e,t){Of(this),this.i=null,e=r0(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function _se(e,t){Of(e),t=r0(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function vse(e,t){return Of(e),t=r0(e,t),e.g.has(t)}Fe.forEach=function(e,t){Of(this),this.g.forEach(function(n,r){n.forEach(function(i){e.call(t,i,r,this)},this)},this)};Fe.ta=function(){Of(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let s=0;s<i.length;s++)n.push(t[r])}return n};Fe.Z=function(e){Of(this);let t=[];if(typeof e=="string")vse(this,e)&&(t=t.concat(this.g.get(r0(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};Fe.set=function(e,t){return Of(this),this.i=null,e=r0(this,e),vse(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};Fe.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function bse(e,t,n){_se(e,t),0<n.length&&(e.i=null,e.g.set(r0(e,t),K3(n)),e.h+=n.length)}Fe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};function r0(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function eQe(e,t){t&&!e.j&&(Of(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(_se(this,r),bse(this,i,n))},e)),e.j=t}var tQe=class{constructor(e,t){this.g=e,this.map=t}};function Ese(e){this.l=e||nQe,Tt.PerformanceNavigationTiming?(e=Tt.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(Tt.g&&Tt.g.Ka&&Tt.g.Ka()&&Tt.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var nQe=10;function wse(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function Tse(e){return e.h?1:e.g?e.g.size:0}function CR(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function l6(e,t){e.g?e.g.add(t):e.h=t}function Sse(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}Ese.prototype.cancel=function(){if(this.i=Ise(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function Ise(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return K3(e.i)}var rQe=class{stringify(e){return Tt.JSON.stringify(e,void 0)}parse(e){return Tt.JSON.parse(e,void 0)}};function iQe(){this.g=new rQe}function sQe(e,t,n){const r=n||"";try{gse(e,function(i,s){let o=i;tv(i)&&(o=n6(i)),t.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function oQe(e,t){const n=new lx;if(Tt.Image){const r=new Image;r.onload=I1(C1,n,r,"TestLoadImage: loaded",!0,t),r.onerror=I1(C1,n,r,"TestLoadImage: error",!1,t),r.onabort=I1(C1,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=I1(C1,n,r,"TestLoadImage: timeout",!1,t),Tt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function C1(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function mx(e){this.l=e.ec||null,this.j=e.ob||!1}gi(mx,o6);mx.prototype.g=function(){return new gx(this.l,this.j)};mx.prototype.i=function(e){return function(){return e}}({});function gx(e,t){hi.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=c6,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}gi(gx,hi);var c6=0;Fe=gx.prototype;Fe.open=function(e,t){if(this.readyState!=c6)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,t_(this)};Fe.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Tt).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};Fe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,av(this)),this.readyState=c6};Fe.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,t_(this)),this.g&&(this.readyState=3,t_(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Tt.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;xse(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function xse(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}Fe.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?av(this):t_(this),this.readyState==3&&xse(this)}};Fe.Za=function(e){this.g&&(this.response=this.responseText=e,av(this))};Fe.Ya=function(e){this.g&&(this.response=e,av(this))};Fe.ka=function(){this.g&&av(this)};function av(e){e.readyState=4,e.l=null,e.j=null,e.A=null,t_(e)}Fe.setRequestHeader=function(e,t){this.v.append(e,t)};Fe.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};Fe.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function t_(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(gx.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var aQe=Tt.JSON.parse;function Ar(e){hi.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Cse,this.L=this.M=!1}gi(Ar,hi);var Cse="",uQe=/^https?$/i,lQe=["POST","PUT"];Fe=Ar.prototype;Fe.Oa=function(e){this.M=e};Fe.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():TR.g(),this.C=this.u?_V(this.u):_V(TR),this.g.onreadystatechange=Gi(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){EV(this,s);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Tt.FormData&&e instanceof Tt.FormData,!(0<=zie(lQe,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Pse(this),0<this.B&&((this.L=cQe(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Gi(this.ua,this)):this.A=s6(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){EV(this,s)}};function cQe(e){return bm&&typeof e.timeout=="number"&&e.ontimeout!==void 0}Fe.ua=function(){typeof G3<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ki(this,"timeout"),this.abort(8))};function EV(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Ase(e),yx(e)}function Ase(e){e.F||(e.F=!0,ki(e,"complete"),ki(e,"error"))}Fe.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ki(this,"complete"),ki(this,"abort"),yx(this))};Fe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),yx(this,!0)),Ar.$.N.call(this)};Fe.La=function(){this.s||(this.G||this.v||this.l?Ose(this):this.kb())};Fe.kb=function(){Ose(this)};function Ose(e){if(e.h&&typeof G3<"u"&&(!e.C[1]||uu(e)!=4||e.da()!=2)){if(e.v&&uu(e)==4)s6(e.La,0,e);else if(ki(e,"readystatechange"),uu(e)==4){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=o===0){var i=String(e.I).match(yse)[1]||null;!i&&Tt.self&&Tt.self.location&&(i=Tt.self.location.protocol.slice(0,-1)),r=!uQe.test(i?i.toLowerCase():"")}n=r}if(n)ki(e,"complete"),ki(e,"success");else{e.m=6;try{var s=2<uu(e)?e.g.statusText:""}catch{s=""}e.j=s+" ["+e.da()+"]",Ase(e)}}finally{yx(e)}}}}function yx(e,t){if(e.g){Pse(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||ki(e,"ready");try{n.onreadystatechange=r}catch{}}}function Pse(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Tt.clearTimeout(e.A),e.A=null)}Fe.isActive=function(){return!!this.g};function uu(e){return e.g?e.g.readyState:0}Fe.da=function(){try{return 2<uu(this)?this.g.status:-1}catch{return-1}};Fe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Fe.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),aQe(t)}};function wV(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Cse:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function fQe(e){const t={};e=(e.g&&2<=uu(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<e.length;r++){if(Gy(e[r]))continue;var n=LKe(e[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}OKe(t,function(r){return r.join(", ")})}Fe.Ia=function(){return this.m};Fe.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Rse(e){let t="";return X3(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function f6(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Rse(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Jn(e,t,n))}function W0(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Nse(e){this.Ga=0,this.j=[],this.l=new lx,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=W0("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=W0("baseRetryDelayMs",5e3,e),this.hb=W0("retryDelaySeedMs",1e4,e),this.eb=W0("forwardChannelMaxRetries",2,e),this.xa=W0("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Ese(e&&e.concurrentRequestLimit),this.Ja=new iQe,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Fe=Nse.prototype;Fe.ra=8;Fe.H=1;function d6(e){if(kse(e),e.H==3){var t=e.W++,n=Dl(e.I);if(Jn(n,"SID",e.K),Jn(n,"RID",t),Jn(n,"TYPE","terminate"),uv(e,n),t=new sv(e,e.l,t),t.L=2,t.A=px(Dl(n)),n=!1,Tt.navigator&&Tt.navigator.sendBeacon)try{n=Tt.navigator.sendBeacon(t.A.toString(),"")}catch{}!n&&Tt.Image&&(new Image().src=t.A,n=!0),n||(t.g=Use(t.l,null),t.g.ha(t.A)),t.G=Date.now(),ov(t)}Bse(e)}function _x(e){e.g&&(p6(e),e.g.cancel(),e.g=null)}function kse(e){_x(e),e.u&&(Tt.clearTimeout(e.u),e.u=null),VT(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&Tt.clearTimeout(e.m),e.m=null)}function vx(e){if(!wse(e.i)&&!e.m){e.m=!0;var t=e.Na;Qy||tse(),Xy||(Qy(),Xy=!0),r6.add(t,e),e.C=0}}function dQe(e,t){return Tse(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=rv(Gi(e.Na,e,t),Fse(e,e.C)),e.C++,!0)}Fe.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new sv(this,this.l,e);let s=this.s;if(this.U&&(s?(s=Yie(s),Gie(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break e}if(t===4096||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Dse(this,i,t),n=Dl(this.I),Jn(n,"RID",e),Jn(n,"CVER",22),this.F&&Jn(n,"X-HTTP-Session-Id",this.F),uv(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Rse(s)))+"&"+t:this.o&&f6(n,this.o,s)),l6(this.i,i),this.bb&&Jn(n,"TYPE","init"),this.P?(Jn(n,"$req",t),Jn(n,"SID","null"),i.aa=!0,IR(i,n,null)):IR(i,n,t),this.H=2}}else this.H==3&&(e?TV(this,e):this.j.length==0||wse(this.i)||TV(this))};function TV(e,t){var n;t?n=t.m:n=e.W++;const r=Dl(e.I);Jn(r,"SID",e.K),Jn(r,"RID",n),Jn(r,"AID",e.V),uv(e,r),e.o&&e.s&&f6(r,e.o,e.s),n=new sv(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Dse(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),l6(e.i,n),IR(n,r,t)}function uv(e,t){e.na&&X3(e.na,function(n,r){Jn(t,r,n)}),e.h&&gse({},function(n,r){Jn(t,r,n)})}function Dse(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Gi(e.h.Va,e.h,e):null;e:{var i=e.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let l=i[u].g;const c=i[u].map;if(l-=s,0>l)s=Math.max(0,i[u].g-100),a=!1;else try{sQe(c,o,"req"+l+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function $se(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Qy||tse(),Xy||(Qy(),Xy=!0),r6.add(t,e),e.A=0}}function h6(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=rv(Gi(e.Ma,e),Fse(e,e.A)),e.A++,!0)}Fe.Ma=function(){if(this.u=null,Lse(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=rv(Gi(this.jb,this),e)}};Fe.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,us(10),_x(this),Lse(this))};function p6(e){e.B!=null&&(Tt.clearTimeout(e.B),e.B=null)}function Lse(e){e.g=new sv(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=Dl(e.wa);Jn(t,"RID","rpc"),Jn(t,"SID",e.K),Jn(t,"AID",e.V),Jn(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Jn(t,"TO",e.qa),Jn(t,"TYPE","xmlhttp"),uv(e,t),e.o&&e.s&&f6(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=px(Dl(t)),n.u=null,n.S=!0,dse(n,e)}Fe.ib=function(){this.v!=null&&(this.v=null,_x(this),h6(this),us(19))};function VT(e){e.v!=null&&(Tt.clearTimeout(e.v),e.v=null)}function Mse(e,t){var n=null;if(e.g==t){VT(e),p6(e),e.g=null;var r=2}else if(CR(e.i,t))n=t.F,Sse(e.i,t),r=1;else return;if(e.H!=0){if(t.i)if(r==1){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;r=cx(),ki(r,new ase(r,n)),vx(e)}else $se(e);else if(i=t.s,i==3||i==0&&0<t.ca||!(r==1&&dQe(e,t)||r==2&&h6(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:dd(e,5);break;case 4:dd(e,10);break;case 3:dd(e,6);break;default:dd(e,2)}}}function Fse(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function dd(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var r=Gi(e.pb,e);n||(n=new Td("//www.google.com/images/cleardot.gif"),Tt.location&&Tt.location.protocol=="http"||jT(n,"https"),px(n)),oQe(n.toString(),r)}else us(2);e.H=0,e.h&&e.h.za(t),Bse(e),kse(e)}Fe.pb=function(e){e?(this.l.info("Successfully pinged google.com"),us(2)):(this.l.info("Failed to ping google.com"),us(1))};function Bse(e){if(e.H=0,e.ma=[],e.h){const t=Ise(e.i);(t.length!=0||e.j.length!=0)&&(hV(e.ma,t),hV(e.ma,e.j),e.i.i.length=0,K3(e.j),e.j.length=0),e.h.ya()}}function jse(e,t,n){var r=n instanceof Td?Dl(n):new Td(n);if(r.g!="")t&&(r.g=t+"."+r.g),UT(r,r.m);else{var i=Tt.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new Td(null);r&&jT(s,r),t&&(s.g=t),i&&UT(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&Jn(r,n,t),Jn(r,"VER",e.ra),uv(e,r),r}function Use(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=e.Ha&&!e.va?new Ar(new mx({ob:n})):new Ar(e.va),t.Oa(e.J),t}Fe.isActive=function(){return!!this.h&&this.h.isActive(this)};function Vse(){}Fe=Vse.prototype;Fe.Ba=function(){};Fe.Aa=function(){};Fe.za=function(){};Fe.ya=function(){};Fe.isActive=function(){return!0};Fe.Va=function(){};function zT(){if(bm&&!(10<=Number(IKe)))throw Error("Environmental error: no available transport.")}zT.prototype.g=function(e,t){return new _o(e,t)};function _o(e,t){hi.call(this),this.g=new Nse(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Gy(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Gy(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new i0(this)}gi(_o,hi);_o.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;us(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=jse(e,null,e.Y),vx(e)};_o.prototype.close=function(){d6(this.g)};_o.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=n6(e),e=n);t.j.push(new tQe(t.fb++,e)),t.H==3&&vx(t)};_o.prototype.N=function(){this.g.h=null,delete this.j,d6(this.g),delete this.g,_o.$.N.call(this)};function zse(e){a6.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}gi(zse,a6);function Hse(){u6.call(this),this.status=1}gi(Hse,u6);function i0(e){this.g=e}gi(i0,Vse);i0.prototype.Ba=function(){ki(this.g,"a")};i0.prototype.Aa=function(e){ki(this.g,new zse(e))};i0.prototype.za=function(e){ki(this.g,new Hse)};i0.prototype.ya=function(){ki(this.g,"b")};function hQe(){this.blockSize=-1}function Oa(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}gi(Oa,hQe);Oa.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function pO(e,t,n){n||(n=0);var r=Array(16);if(typeof t=="string")for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[1]+3905402710&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[5]+1200080426&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[9]+2336552879&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[13]+4254626195&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(i^s&(n^i))+r[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[6]+3225465664&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[10]+38016083&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[14]+3275163606&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[2]+4243563512&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(n^i^s)+r[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[8]+2272392833&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[4]+1272893353&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[0]+3936430074&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[12]+3873151461&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(i^(n|~s))+r[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[7]+1126891415&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[3]+2399980690&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[15]+4264355552&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[11]+3174756917&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}Oa.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(i==0)for(;s<=n;)pO(this,e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){pO(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){pO(this,r),i=0;break}}this.h=i,this.i+=t};Oa.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};function Nn(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=e[i]|0;r&&s==t||(n[i]=s,r=!1)}this.g=n}var pQe={};function m6(e){return-128<=e&&128>e?wKe(e,function(t){return new Nn([t|0],0>t?-1:0)}):new Nn([e|0],0>e?-1:0)}function lu(e){if(isNaN(e)||!isFinite(e))return Dp;if(0>e)return Oi(lu(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=AR;return new Nn(t,0)}function Wse(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return Oi(Wse(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=lu(Math.pow(t,8)),r=Dp,i=0;i<e.length;i+=8){var s=Math.min(8,e.length-i),o=parseInt(e.substring(i,i+s),t);8>s?(s=lu(Math.pow(t,s)),r=r.R(s).add(lu(o))):(r=r.R(n),r=r.add(lu(o)))}return r}var AR=4294967296,Dp=m6(0),OR=m6(1),SV=m6(16777216);Fe=Nn.prototype;Fe.ea=function(){if(Mo(this))return-Oi(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:AR+r)*t,t*=AR}return e};Fe.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(sl(this))return"0";if(Mo(this))return"-"+Oi(this).toString(e);for(var t=lu(Math.pow(e,6)),n=this,r="";;){var i=WT(n,t).g;n=HT(n,i.R(t));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=i,sl(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};Fe.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function sl(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function Mo(e){return e.h==-1}Fe.X=function(e){return e=HT(this,e),Mo(e)?-1:sl(e)?0:1};function Oi(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Nn(n,~e.h).add(OR)}Fe.abs=function(){return Mo(this)?Oi(this):this};Fe.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(this.D(i)&65535)+(e.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Nn(n,n[n.length-1]&-2147483648?-1:0)};function HT(e,t){return e.add(Oi(t))}Fe.R=function(e){if(sl(this)||sl(e))return Dp;if(Mo(this))return Mo(e)?Oi(this).R(Oi(e)):Oi(Oi(this).R(e));if(Mo(e))return Oi(this.R(Oi(e)));if(0>this.X(SV)&&0>e.X(SV))return lu(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=e.D(i)>>>16,u=e.D(i)&65535;n[2*r+2*i]+=o*u,A1(n,2*r+2*i),n[2*r+2*i+1]+=s*u,A1(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,A1(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,A1(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Nn(n,0)};function A1(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function q0(e,t){this.g=e,this.h=t}function WT(e,t){if(sl(t))throw Error("division by zero");if(sl(e))return new q0(Dp,Dp);if(Mo(e))return t=WT(Oi(e),t),new q0(Oi(t.g),Oi(t.h));if(Mo(t))return t=WT(e,Oi(t)),new q0(Oi(t.g),t.h);if(30<e.g.length){if(Mo(e)||Mo(t))throw Error("slowDivide_ only works with positive integers.");for(var n=OR,r=t;0>=r.X(e);)n=IV(n),r=IV(r);var i=Ch(n,1),s=Ch(r,1);for(r=Ch(r,2),n=Ch(n,2);!sl(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=Ch(r,1),n=Ch(n,1)}return t=HT(e,i.R(t)),new q0(i,t)}for(i=Dp;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=lu(n),o=s.R(t);Mo(o)||0<o.X(e);)n-=r,s=lu(n),o=s.R(t);sl(s)&&(s=OR),i=i.add(s),e=HT(e,o)}return new q0(i,e)}Fe.gb=function(e){return WT(this,e).h};Fe.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Nn(n,this.h&e.h)};Fe.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Nn(n,this.h|e.h)};Fe.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Nn(n,this.h^e.h)};function IV(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Nn(n,e.h)}function Ch(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new Nn(i,e.h)}zT.prototype.createWebChannel=zT.prototype.g;_o.prototype.send=_o.prototype.u;_o.prototype.open=_o.prototype.m;_o.prototype.close=_o.prototype.close;fx.NO_ERROR=0;fx.TIMEOUT=8;fx.HTTP_ERROR=6;use.COMPLETE="complete";lse.EventType=iv;iv.OPEN="a";iv.CLOSE="b";iv.ERROR="c";iv.MESSAGE="d";hi.prototype.listen=hi.prototype.O;Ar.prototype.listenOnce=Ar.prototype.P;Ar.prototype.getLastError=Ar.prototype.Sa;Ar.prototype.getLastErrorCode=Ar.prototype.Ia;Ar.prototype.getStatus=Ar.prototype.da;Ar.prototype.getResponseJson=Ar.prototype.Wa;Ar.prototype.getResponseText=Ar.prototype.ja;Ar.prototype.send=Ar.prototype.ha;Ar.prototype.setWithCredentials=Ar.prototype.Oa;Oa.prototype.digest=Oa.prototype.l;Oa.prototype.reset=Oa.prototype.reset;Oa.prototype.update=Oa.prototype.j;Nn.prototype.add=Nn.prototype.add;Nn.prototype.multiply=Nn.prototype.R;Nn.prototype.modulo=Nn.prototype.gb;Nn.prototype.compare=Nn.prototype.X;Nn.prototype.toNumber=Nn.prototype.ea;Nn.prototype.toString=Nn.prototype.toString;Nn.prototype.getBits=Nn.prototype.D;Nn.fromNumber=lu;Nn.fromString=Wse;var mQe=function(){return new zT},gQe=function(){return cx()},mO=fx,yQe=use,_Qe=fh,xV={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},O1=lse,vQe=Ar,bQe=Oa,$p=Nn;const CV="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ts.UNAUTHENTICATED=new Ts(null),Ts.GOOGLE_CREDENTIALS=new Ts("google-credentials-uid"),Ts.FIRST_PARTY=new Ts("first-party-uid"),Ts.MOCK_USER=new Ts("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let s0="10.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd=new rx("@firebase/firestore");function Y0(){return zd.logLevel}function Xe(e,...t){if(zd.logLevel<=nn.DEBUG){const n=t.map(g6);zd.debug(`Firestore (${s0}): ${e}`,...n)}}function $l(e,...t){if(zd.logLevel<=nn.ERROR){const n=t.map(g6);zd.error(`Firestore (${s0}): ${e}`,...n)}}function n_(e,...t){if(zd.logLevel<=nn.WARN){const n=t.map(g6);zd.warn(`Firestore (${s0}): ${e}`,...n)}}function g6(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(e="Unexpected state"){const t=`FIRESTORE (${s0}) INTERNAL ASSERTION FAILED: `+e;throw $l(t),new Error(t)}function Yn(e,t){e||_t()}function Nt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class tt extends ju{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EQe{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class wQe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Ts.UNAUTHENTICATED))}shutdown(){}}class TQe{constructor(t){this.t=t,this.currentUser=Ts.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new gl;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new gl,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;t.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{Xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(Xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new gl)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(Xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Yn(typeof r.accessToken=="string"),new EQe(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Yn(t===null||typeof t=="string"),new Ts(t)}}class SQe{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Ts.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class IQe{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new SQe(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Ts.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class xQe{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class CQe{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const r=s=>{s.error!=null&&Xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Xe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{Xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Yn(typeof n.token=="string"),this.R=n.token,new xQe(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AQe(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qse{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=AQe(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length))}return r}}function Sn(e,t){return e<t?-1:e>t?1:0}function Em(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new tt(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new tt(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new tt(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new tt(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Zr.fromMillis(Date.now())}static fromDate(t){return Zr.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new Zr(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Sn(this.nanoseconds,t.nanoseconds):Sn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(t){this.timestamp=t}static fromTimestamp(t){return new It(t)}static min(){return new It(new Zr(0,0))}static max(){return new It(new Zr(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(t,n,r){n===void 0?n=0:n>t.length&&_t(),r===void 0?r=t.length-n:r>t.length-n&&_t(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return r_.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof r_?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const s=t.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class ur extends r_{construct(t,n,r){return new ur(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new tt(xe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ur(n)}static emptyPath(){return new ur([])}}const OQe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pi extends r_{construct(t,n,r){return new Pi(t,n,r)}static isValidIdentifier(t){return OQe.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pi.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Pi(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new tt(xe.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new tt(xe.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new tt(xe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new tt(xe.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Pi(n)}static emptyPath(){return new Pi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(t){this.path=t}static fromPath(t){return new ft(ur.fromString(t))}static fromName(t){return new ft(ur.fromString(t).popFirst(5))}static empty(){return new ft(ur.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ur.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ur.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ft(new ur(t.slice()))}}function PQe(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=It.fromTimestamp(r===1e9?new Zr(n+1,0):new Zr(n,r));return new df(i,ft.empty(),t)}function RQe(e){return new df(e.readTime,e.key,-1)}class df{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new df(It.min(),ft.empty(),-1)}static max(){return new df(It.max(),ft.empty(),-1)}}function NQe(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=ft.comparator(e.documentKey,t.documentKey),n!==0?n:Sn(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kQe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class DQe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lv(e){if(e.code!==xe.FAILED_PRECONDITION||e.message!==kQe)throw e;Xe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&_t(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Ce((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof Ce?n:Ce.resolve(n)}catch(n){return Ce.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):Ce.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):Ce.reject(n)}static resolve(t){return new Ce((n,r)=>{n(t)})}static reject(t){return new Ce((n,r)=>{r(t)})}static waitFor(t){return new Ce((n,r)=>{let i=0,s=0,o=!1;t.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(t){let n=Ce.resolve(!1);for(const r of t)n=n.next(i=>i?Ce.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(t,n){return new Ce((r,i)=>{const s=t.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const l=u;n(t[l]).next(c=>{o[l]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(t,n){return new Ce((r,i)=>{const s=()=>{t()===!0?n().next(()=>{s()},i):r()};s()})}}function cv(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}y6._e=-1;function bx(e){return e==null}function qT(e){return e===0&&1/e==-1/0}function $Qe(e){return typeof e=="number"&&Number.isInteger(e)&&!qT(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AV(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function o0(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Yse(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(t,n){this.comparator=t,this.root=n||xi.EMPTY}insert(t,n){return new _r(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,xi.BLACK,null,null))}remove(t){return new _r(this.comparator,this.root.remove(t,this.comparator).copy(null,null,xi.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new P1(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new P1(this.root,t,this.comparator,!1)}getReverseIterator(){return new P1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new P1(this.root,t,this.comparator,!0)}}class P1{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,n&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class xi{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??xi.RED,this.left=i??xi.EMPTY,this.right=s??xi.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,s){return new xi(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return xi.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return xi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,xi.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,xi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _t();const t=this.left.check();if(t!==this.right.check())throw _t();return t+(this.isRed()?0:1)}}xi.EMPTY=null,xi.RED=!0,xi.BLACK=!1;xi.EMPTY=new class{constructor(){this.size=0}get key(){throw _t()}get value(){throw _t()}get color(){throw _t()}get left(){throw _t()}get right(){throw _t()}copy(t,n,r,i,s){return this}insert(t,n,r){return new xi(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(t){this.comparator=t,this.data=new _r(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new OV(this.data.getIterator())}getIteratorFrom(t){return new OV(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof Di)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Di(this.comparator);return n.data=t,n}}class OV{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(t){this.fields=t,t.sort(Pi.comparator)}static empty(){return new va([])}unionWith(t){let n=new Di(Pi.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new va(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Em(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gse extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Gse("Invalid base64 string: "+s):s}}(t);return new es(n)}static fromUint8Array(t){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(t);return new es(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Sn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}es.EMPTY_BYTE_STRING=new es("");const LQe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hf(e){if(Yn(!!e),typeof e=="string"){let t=0;const n=LQe.exec(e);if(Yn(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Br(e.seconds),nanos:Br(e.nanos)}}function Br(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Hd(e){return typeof e=="string"?es.fromBase64String(e):es.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _6(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function v6(e){const t=e.mapValue.fields.__previous_value__;return _6(t)?v6(t):t}function i_(e){const t=hf(e.mapValue.fields.__local_write_time__.timestampValue);return new Zr(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MQe{constructor(t,n,r,i,s,o,a,u,l){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}}class s_{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new s_("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof s_&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Wd(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?_6(e)?4:FQe(e)?9007199254740991:10:_t()}function Nu(e,t){if(e===t)return!0;const n=Wd(e);if(n!==Wd(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return i_(e).isEqual(i_(t));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=hf(i.timestampValue),a=hf(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,s){return Hd(i.bytesValue).isEqual(Hd(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,s){return Br(i.geoPointValue.latitude)===Br(s.geoPointValue.latitude)&&Br(i.geoPointValue.longitude)===Br(s.geoPointValue.longitude)}(e,t);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Br(i.integerValue)===Br(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Br(i.doubleValue),a=Br(s.doubleValue);return o===a?qT(o)===qT(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return Em(e.arrayValue.values||[],t.arrayValue.values||[],Nu);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(AV(o)!==AV(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Nu(o[u],a[u])))return!1;return!0}(e,t);default:return _t()}}function o_(e,t){return(e.values||[]).find(n=>Nu(n,t))!==void 0}function wm(e,t){if(e===t)return 0;const n=Wd(e),r=Wd(t);if(n!==r)return Sn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Sn(e.booleanValue,t.booleanValue);case 2:return function(s,o){const a=Br(s.integerValue||s.doubleValue),u=Br(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(e,t);case 3:return PV(e.timestampValue,t.timestampValue);case 4:return PV(i_(e),i_(t));case 5:return Sn(e.stringValue,t.stringValue);case 6:return function(s,o){const a=Hd(s),u=Hd(o);return a.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){const c=Sn(a[l],u[l]);if(c!==0)return c}return Sn(a.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,o){const a=Sn(Br(s.latitude),Br(o.latitude));return a!==0?a:Sn(Br(s.longitude),Br(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(s,o){const a=s.values||[],u=o.values||[];for(let l=0;l<a.length&&l<u.length;++l){const c=wm(a[l],u[l]);if(c)return c}return Sn(a.length,u.length)}(e.arrayValue,t.arrayValue);case 10:return function(s,o){if(s===R1.mapValue&&o===R1.mapValue)return 0;if(s===R1.mapValue)return 1;if(o===R1.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),l=o.fields||{},c=Object.keys(l);u.sort(),c.sort();for(let f=0;f<u.length&&f<c.length;++f){const d=Sn(u[f],c[f]);if(d!==0)return d;const h=wm(a[u[f]],l[c[f]]);if(h!==0)return h}return Sn(u.length,c.length)}(e.mapValue,t.mapValue);default:throw _t()}}function PV(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Sn(e,t);const n=hf(e),r=hf(t),i=Sn(n.seconds,r.seconds);return i!==0?i:Sn(n.nanos,r.nanos)}function Tm(e){return PR(e)}function PR(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=hf(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Hd(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return ft.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=PR(s);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${PR(n.fields[o])}`;return i+"}"}(e.mapValue):_t()}function RR(e){return!!e&&"integerValue"in e}function b6(e){return!!e&&"arrayValue"in e}function RV(e){return!!e&&"nullValue"in e}function NV(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function vb(e){return!!e&&"mapValue"in e}function Kg(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return o0(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Kg(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Kg(e.arrayValue.values[n]);return t}return Object.assign({},e)}function FQe(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(t){this.value=t}static empty(){return new Fo({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!vb(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Kg(n)}setAll(t){let n=Pi.emptyPath(),r={},i=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Kg(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(t){const n=this.field(t.popLast());vb(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Nu(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];vb(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){o0(n,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new Fo(Kg(this.value))}}function Kse(e){const t=[];return o0(e.fields,(n,r)=>{const i=new Pi([n]);if(vb(r)){const s=Kse(r.mapValue).fields;if(s.length===0)t.push(i);else for(const o of s)t.push(i.child(o))}else t.push(i)}),new va(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(t,n,r,i,s,o,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new qi(t,0,It.min(),It.min(),It.min(),Fo.empty(),0)}static newFoundDocument(t,n,r,i){return new qi(t,1,n,It.min(),r,i,0)}static newNoDocument(t,n){return new qi(t,2,n,It.min(),It.min(),Fo.empty(),0)}static newUnknownDocument(t,n){return new qi(t,3,n,It.min(),It.min(),Fo.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(It.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Fo.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Fo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=It.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof qi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new qi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(t,n){this.position=t,this.inclusive=n}}function kV(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(s.field.isKeyField()?r=ft.comparator(ft.fromName(o.referenceValue),n.key):r=wm(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function DV(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Nu(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(t,n="asc"){this.field=t,this.dir=n}}function BQe(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qse{}class Qr extends Qse{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new UQe(t,n,r):n==="array-contains"?new HQe(t,r):n==="in"?new WQe(t,r):n==="not-in"?new qQe(t,r):n==="array-contains-any"?new YQe(t,r):new Qr(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new VQe(t,r):new zQe(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(wm(n,this.value)):n!==null&&Wd(this.value)===Wd(n)&&this.matchesComparison(wm(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ku extends Qse{constructor(t,n){super(),this.filters=t,this.op=n,this.ue=null}static create(t,n){return new ku(t,n)}matches(t){return Xse(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Xse(e){return e.op==="and"}function Jse(e){return jQe(e)&&Xse(e)}function jQe(e){for(const t of e.filters)if(t instanceof ku)return!1;return!0}function NR(e){if(e instanceof Qr)return e.field.canonicalString()+e.op.toString()+Tm(e.value);if(Jse(e))return e.filters.map(t=>NR(t)).join(",");{const t=e.filters.map(n=>NR(n)).join(",");return`${e.op}(${t})`}}function Zse(e,t){return e instanceof Qr?function(r,i){return i instanceof Qr&&r.op===i.op&&r.field.isEqual(i.field)&&Nu(r.value,i.value)}(e,t):e instanceof ku?function(r,i){return i instanceof ku&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&Zse(o,i.filters[a]),!0):!1}(e,t):void _t()}function eoe(e){return e instanceof Qr?function(n){return`${n.field.canonicalString()} ${n.op} ${Tm(n.value)}`}(e):e instanceof ku?function(n){return n.op.toString()+" {"+n.getFilters().map(eoe).join(" ,")+"}"}(e):"Filter"}class UQe extends Qr{constructor(t,n,r){super(t,n,r),this.key=ft.fromName(r.referenceValue)}matches(t){const n=ft.comparator(t.key,this.key);return this.matchesComparison(n)}}class VQe extends Qr{constructor(t,n){super(t,"in",n),this.keys=toe("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class zQe extends Qr{constructor(t,n){super(t,"not-in",n),this.keys=toe("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function toe(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ft.fromName(r.referenceValue))}class HQe extends Qr{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return b6(n)&&o_(n.arrayValue,this.value)}}class WQe extends Qr{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&o_(this.value.arrayValue,n)}}class qQe extends Qr{constructor(t,n){super(t,"not-in",n)}matches(t){if(o_(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!o_(this.value.arrayValue,n)}}class YQe extends Qr{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!b6(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>o_(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GQe{constructor(t,n=null,r=[],i=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function $V(e,t=null,n=[],r=[],i=null,s=null,o=null){return new GQe(e,t,n,r,i,s,o)}function E6(e){const t=Nt(e);if(t.ce===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>NR(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),bx(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Tm(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Tm(r)).join(",")),t.ce=n}return t.ce}function w6(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!BQe(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Zse(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!DV(e.startAt,t.startAt)&&DV(e.endAt,t.endAt)}function kR(e){return ft.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(t,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function KQe(e,t,n,r,i,s,o,a){return new Ex(e,t,n,r,i,s,o,a)}function T6(e){return new Ex(e)}function LV(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function QQe(e){return e.collectionGroup!==null}function Qg(e){const t=Nt(e);if(t.le===null){t.le=[];const n=new Set;for(const s of t.explicitOrderBy)t.le.push(s),n.add(s.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Di(Pi.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.le.push(new GT(s,r))}),n.has(Pi.keyField().canonicalString())||t.le.push(new GT(Pi.keyField(),r))}return t.le}function vu(e){const t=Nt(e);return t.he||(t.he=XQe(t,Qg(e))),t.he}function XQe(e,t){if(e.limitType==="F")return $V(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new GT(i.field,s)});const n=e.endAt?new YT(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new YT(e.startAt.position,e.startAt.inclusive):null;return $V(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function DR(e,t,n){return new Ex(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function wx(e,t){return w6(vu(e),vu(t))&&e.limitType===t.limitType}function noe(e){return`${E6(vu(e))}|lt:${e.limitType}`}function $h(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>eoe(i)).join(", ")}]`),bx(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Tm(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Tm(i)).join(",")),`Target(${r})`}(vu(e))}; limitType=${e.limitType})`}function Tx(e,t){return t.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ft.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(e,t)&&function(r,i){for(const s of Qg(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(o,a,u){const l=kV(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,Qg(r),i)||r.endAt&&!function(o,a,u){const l=kV(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,Qg(r),i))}(e,t)}function JQe(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function roe(e){return(t,n)=>{let r=!1;for(const i of Qg(e)){const s=ZQe(i,t,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function ZQe(e,t,n){const r=e.field.isKeyField()?ft.comparator(t.key,n.key):function(s,o,a){const u=o.data.field(s),l=a.data.field(s);return u!==null&&l!==null?wm(u,l):_t()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return _t()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){o0(this.inner,(n,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return Yse(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eXe=new _r(ft.comparator);function Ll(){return eXe}const ioe=new _r(ft.comparator);function hg(...e){let t=ioe;for(const n of e)t=t.insert(n.key,n);return t}function soe(e){let t=ioe;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function hd(){return Xg()}function ooe(){return Xg()}function Xg(){return new a0(e=>e.toString(),(e,t)=>e.isEqual(t))}const tXe=new _r(ft.comparator),nXe=new Di(ft.comparator);function Kt(...e){let t=nXe;for(const n of e)t=t.add(n);return t}const rXe=new Di(Sn);function iXe(){return rXe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aoe(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qT(t)?"-0":t}}function uoe(e){return{integerValue:""+e}}function sXe(e,t){return $Qe(t)?uoe(t):aoe(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(){this._=void 0}}function oXe(e,t,n){return e instanceof KT?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&_6(s)&&(s=v6(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,t):e instanceof a_?coe(e,t):e instanceof u_?foe(e,t):function(i,s){const o=loe(i,s),a=MV(o)+MV(i.Ie);return RR(o)&&RR(i.Ie)?uoe(a):aoe(i.serializer,a)}(e,t)}function aXe(e,t,n){return e instanceof a_?coe(e,t):e instanceof u_?foe(e,t):n}function loe(e,t){return e instanceof QT?function(r){return RR(r)||function(s){return!!s&&"doubleValue"in s}(r)}(t)?t:{integerValue:0}:null}class KT extends Sx{}class a_ extends Sx{constructor(t){super(),this.elements=t}}function coe(e,t){const n=doe(t);for(const r of e.elements)n.some(i=>Nu(i,r))||n.push(r);return{arrayValue:{values:n}}}class u_ extends Sx{constructor(t){super(),this.elements=t}}function foe(e,t){let n=doe(t);for(const r of e.elements)n=n.filter(i=>!Nu(i,r));return{arrayValue:{values:n}}}class QT extends Sx{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function MV(e){return Br(e.integerValue||e.doubleValue)}function doe(e){return b6(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function uXe(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof a_&&i instanceof a_||r instanceof u_&&i instanceof u_?Em(r.elements,i.elements,Nu):r instanceof QT&&i instanceof QT?Nu(r.Ie,i.Ie):r instanceof KT&&i instanceof KT}(e.transform,t.transform)}class lXe{constructor(t,n){this.version=t,this.transformResults=n}}class yl{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new yl}static exists(t){return new yl(void 0,t)}static updateTime(t){return new yl(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function bb(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Ix{}function hoe(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new moe(e.key,yl.none()):new fv(e.key,e.data,yl.none());{const n=e.data,r=Fo.empty();let i=new Di(Pi.comparator);for(let s of t.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new dh(e.key,r,new va(i.toArray()),yl.none())}}function cXe(e,t,n){e instanceof fv?function(i,s,o){const a=i.value.clone(),u=BV(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof dh?function(i,s,o){if(!bb(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=BV(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(poe(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(e,t,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function Jg(e,t,n,r){return e instanceof fv?function(s,o,a,u){if(!bb(s.precondition,o))return a;const l=s.value.clone(),c=jV(s.fieldTransforms,u,o);return l.setAll(c),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(e,t,n,r):e instanceof dh?function(s,o,a,u){if(!bb(s.precondition,o))return a;const l=jV(s.fieldTransforms,u,o),c=o.data;return c.setAll(poe(s)),c.setAll(l),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(e,t,n,r):function(s,o,a){return bb(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function fXe(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),s=loe(r.transform,i||null);s!=null&&(n===null&&(n=Fo.empty()),n.set(r.field,s))}return n||null}function FV(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Em(r,i,(s,o)=>uXe(s,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class fv extends Ix{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class dh extends Ix{constructor(t,n,r,i,s=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function poe(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function BV(e,t,n){const r=new Map;Yn(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,aXe(o,a,n[i]))}return r}function jV(e,t,n){const r=new Map;for(const i of e){const s=i.transform,o=n.data.field(i.field);r.set(i.field,oXe(s,o,t))}return r}class moe extends Ix{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dXe extends Ix{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hXe{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&cXe(s,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Jg(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Jg(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=ooe();return this.mutations.forEach(i=>{const s=t.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=hoe(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(It.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Kt())}isEqual(t){return this.batchId===t.batchId&&Em(this.mutations,t.mutations,(n,r)=>FV(n,r))&&Em(this.baseMutations,t.baseMutations,(n,r)=>FV(n,r))}}class S6{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){Yn(t.mutations.length===r.length);let i=function(){return tXe}();const s=t.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new S6(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pXe{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mXe{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mr,ln;function gXe(e){switch(e){default:return _t();case xe.CANCELLED:case xe.UNKNOWN:case xe.DEADLINE_EXCEEDED:case xe.RESOURCE_EXHAUSTED:case xe.INTERNAL:case xe.UNAVAILABLE:case xe.UNAUTHENTICATED:return!1;case xe.INVALID_ARGUMENT:case xe.NOT_FOUND:case xe.ALREADY_EXISTS:case xe.PERMISSION_DENIED:case xe.FAILED_PRECONDITION:case xe.ABORTED:case xe.OUT_OF_RANGE:case xe.UNIMPLEMENTED:case xe.DATA_LOSS:return!0}}function goe(e){if(e===void 0)return $l("GRPC error has no .code"),xe.UNKNOWN;switch(e){case Mr.OK:return xe.OK;case Mr.CANCELLED:return xe.CANCELLED;case Mr.UNKNOWN:return xe.UNKNOWN;case Mr.DEADLINE_EXCEEDED:return xe.DEADLINE_EXCEEDED;case Mr.RESOURCE_EXHAUSTED:return xe.RESOURCE_EXHAUSTED;case Mr.INTERNAL:return xe.INTERNAL;case Mr.UNAVAILABLE:return xe.UNAVAILABLE;case Mr.UNAUTHENTICATED:return xe.UNAUTHENTICATED;case Mr.INVALID_ARGUMENT:return xe.INVALID_ARGUMENT;case Mr.NOT_FOUND:return xe.NOT_FOUND;case Mr.ALREADY_EXISTS:return xe.ALREADY_EXISTS;case Mr.PERMISSION_DENIED:return xe.PERMISSION_DENIED;case Mr.FAILED_PRECONDITION:return xe.FAILED_PRECONDITION;case Mr.ABORTED:return xe.ABORTED;case Mr.OUT_OF_RANGE:return xe.OUT_OF_RANGE;case Mr.UNIMPLEMENTED:return xe.UNIMPLEMENTED;case Mr.DATA_LOSS:return xe.DATA_LOSS;default:return _t()}}(ln=Mr||(Mr={}))[ln.OK=0]="OK",ln[ln.CANCELLED=1]="CANCELLED",ln[ln.UNKNOWN=2]="UNKNOWN",ln[ln.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ln[ln.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ln[ln.NOT_FOUND=5]="NOT_FOUND",ln[ln.ALREADY_EXISTS=6]="ALREADY_EXISTS",ln[ln.PERMISSION_DENIED=7]="PERMISSION_DENIED",ln[ln.UNAUTHENTICATED=16]="UNAUTHENTICATED",ln[ln.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ln[ln.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ln[ln.ABORTED=10]="ABORTED",ln[ln.OUT_OF_RANGE=11]="OUT_OF_RANGE",ln[ln.UNIMPLEMENTED=12]="UNIMPLEMENTED",ln[ln.INTERNAL=13]="INTERNAL",ln[ln.UNAVAILABLE=14]="UNAVAILABLE",ln[ln.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yXe(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _Xe=new $p([4294967295,4294967295],0);function UV(e){const t=yXe().encode(e),n=new bQe;return n.update(t),new Uint8Array(n.digest())}function VV(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new $p([n,r],0),new $p([i,s],0)]}class I6{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new pg(`Invalid padding: ${n}`);if(r<0)throw new pg(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new pg(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new pg(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*t.length-n,this.Ee=$p.fromNumber(this.Te)}de(t,n,r){let i=t.add(n.multiply($p.fromNumber(r)));return i.compare(_Xe)===1&&(i=new $p([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Te===0)return!1;const n=UV(t),[r,i]=VV(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new I6(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(t){if(this.Te===0)return;const n=UV(t),[r,i]=VV(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class pg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,dv.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new xx(It.min(),i,new _r(Sn),Ll(),Kt())}}class dv{constructor(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new dv(r,n,Kt(),Kt(),Kt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(t,n,r,i){this.Ve=t,this.removedTargetIds=n,this.key=r,this.me=i}}class yoe{constructor(t,n){this.targetId=t,this.fe=n}}class _oe{constructor(t,n,r=es.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class zV{constructor(){this.ge=0,this.pe=WV(),this.ye=es.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=Kt(),n=Kt(),r=Kt();return this.pe.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:_t()}}),new dv(this.ye,this.we,t,n,r)}Fe(){this.Se=!1,this.pe=WV()}Me(t,n){this.Se=!0,this.pe=this.pe.insert(t,n)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1,Yn(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class vXe{constructor(t){this.Le=t,this.ke=new Map,this.qe=Ll(),this.Qe=HV(),this.Ke=new _r(Sn)}$e(t){for(const n of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(n,t.me):this.We(n,t.key,t.me);for(const n of t.removedTargetIds)this.We(n,t.key,t.me)}Ge(t){this.forEachTarget(t,n=>{const r=this.ze(n);switch(t.state){case 0:this.je(n)&&r.Ce(t.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(t.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(t.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(t.resumeToken));break;default:_t()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(t){const n=t.targetId,r=t.fe.count,i=this.Ye(n);if(i){const s=i.target;if(kR(s))if(r===0){const o=new ft(s.path);this.We(n,o,qi.newNoDocument(o,It.min()))}else Yn(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(t),u=a?this.et(a,t,o):1;if(u!==0){this.He(n);const l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,l)}}}}}Xe(t){const n=t.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Hd(r).toUint8Array()}catch(u){if(u instanceof Gse)return n_("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new I6(o,i,s)}catch(u){return n_(u instanceof pg?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Te===0?null:a}et(t,n,r){return n.fe.count===r-this.rt(t,n.targetId)?0:2}rt(t,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(a)||(this.We(n,s,null),i++)}),i}it(t){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&kR(a.target)){const u=new ft(a.target.path);this.qe.get(u)!==null||this.st(o,u)||this.We(o,u,qi.newNoDocument(u,t))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=Kt();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const l=this.Ye(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(t));const i=new xx(t,n,this.Ke,this.qe,r);return this.qe=Ll(),this.Qe=HV(),this.Ke=new _r(Sn),i}Ue(t,n){if(!this.je(t))return;const r=this.st(t,n.key)?2:0;this.ze(t).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(t))}We(t,n,r){if(!this.je(t))return;const i=this.ze(t);this.st(t,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(t)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(t){this.ke.delete(t)}Ze(t){const n=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let n=this.ke.get(t);return n||(n=new zV,this.ke.set(t,n)),n}ot(t){let n=this.Qe.get(t);return n||(n=new Di(Sn),this.Qe=this.Qe.insert(t,n)),n}je(t){const n=this.Ye(t)!==null;return n||Xe("WatchChangeAggregator","Detected inactive target",t),n}Ye(t){const n=this.ke.get(t);return n&&n.be?null:this.Le._t(t)}He(t){this.ke.set(t,new zV),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.We(t,n,null)})}st(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function HV(){return new _r(ft.comparator)}function WV(){return new _r(ft.comparator)}const bXe={asc:"ASCENDING",desc:"DESCENDING"},EXe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wXe={and:"AND",or:"OR"};class TXe{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function $R(e,t){return e.useProto3Json||bx(t)?t:{value:t}}function XT(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function voe(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function SXe(e,t){return XT(e,t.toTimestamp())}function bu(e){return Yn(!!e),It.fromTimestamp(function(n){const r=hf(n);return new Zr(r.seconds,r.nanos)}(e))}function x6(e,t){return function(r){return new ur(["projects",r.projectId,"databases",r.database])}(e).child("documents").child(t).canonicalString()}function boe(e){const t=ur.fromString(e);return Yn(Soe(t)),t}function LR(e,t){return x6(e.databaseId,t.path)}function gO(e,t){const n=boe(t);if(n.get(1)!==e.databaseId.projectId)throw new tt(xe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new tt(xe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ft(Eoe(n))}function MR(e,t){return x6(e.databaseId,t)}function IXe(e){const t=boe(e);return t.length===4?ur.emptyPath():Eoe(t)}function FR(e){return new ur(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Eoe(e){return Yn(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function qV(e,t,n){return{name:LR(e,t),fields:n.value.mapValue.fields}}function xXe(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:_t()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(l,c){return l.useProto3Json?(Yn(c===void 0||typeof c=="string"),es.fromBase64String(c||"")):(Yn(c===void 0||c instanceof Uint8Array),es.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(l){const c=l.code===void 0?xe.UNKNOWN:goe(l.code);return new tt(c,l.message||"")}(o);n=new _oe(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=gO(e,r.document.name),s=bu(r.document.updateTime),o=r.document.createTime?bu(r.document.createTime):It.min(),a=new Fo({mapValue:{fields:r.document.fields}}),u=qi.newFoundDocument(i,s,o,a),l=r.targetIds||[],c=r.removedTargetIds||[];n=new Eb(l,c,u.key,u)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=gO(e,r.document),s=r.readTime?bu(r.readTime):It.min(),o=qi.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Eb([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=gO(e,r.document),s=r.removedTargetIds||[];n=new Eb([],s,i,null)}else{if(!("filter"in t))return _t();{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new mXe(i,s),a=r.targetId;n=new yoe(a,o)}}return n}function CXe(e,t){let n;if(t instanceof fv)n={update:qV(e,t.key,t.value)};else if(t instanceof moe)n={delete:LR(e,t.key)};else if(t instanceof dh)n={update:qV(e,t.key,t.data),updateMask:LXe(t.fieldMask)};else{if(!(t instanceof dXe))return _t();n={verify:LR(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof KT)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof a_)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof u_)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof QT)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw _t()}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:SXe(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:_t()}(e,t.precondition)),n}function AXe(e,t){return e&&e.length>0?(Yn(t!==void 0),e.map(n=>function(i,s){let o=i.updateTime?bu(i.updateTime):bu(s);return o.isEqual(It.min())&&(o=bu(s)),new lXe(o,i.transformResults||[])}(n,t))):[]}function OXe(e,t){return{documents:[MR(e,t.path)]}}function PXe(e,t){const n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=MR(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=MR(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(u.length!==0)return Toe(ku.create(u,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(u.length!==0)return u.map(l=>function(f){return{field:Lh(f.field),direction:kXe(f.dir)}}(l))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=$R(e,t.limit);return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(t.endAt)),n}function RXe(e){let t=IXe(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Yn(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let s=[];n.where&&(s=function(f){const d=woe(f);return d instanceof ku&&Jse(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(d=>function(p){return new GT(Mh(p.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(f){let d;return d=typeof f=="object"?f.value:f,bx(d)?null:d}(n.limit));let u=null;n.startAt&&(u=function(f){const d=!!f.before,h=f.values||[];return new YT(h,d)}(n.startAt));let l=null;return n.endAt&&(l=function(f){const d=!f.before,h=f.values||[];return new YT(h,d)}(n.endAt)),KQe(t,i,o,s,a,"F",u,l)}function NXe(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function woe(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Mh(n.unaryFilter.field);return Qr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Mh(n.unaryFilter.field);return Qr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Mh(n.unaryFilter.field);return Qr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Mh(n.unaryFilter.field);return Qr.create(o,"!=",{nullValue:"NULL_VALUE"});default:return _t()}}(e):e.fieldFilter!==void 0?function(n){return Qr.create(Mh(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _t()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return ku.create(n.compositeFilter.filters.map(r=>woe(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return _t()}}(n.compositeFilter.op))}(e):_t()}function kXe(e){return bXe[e]}function DXe(e){return EXe[e]}function $Xe(e){return wXe[e]}function Lh(e){return{fieldPath:e.canonicalString()}}function Mh(e){return Pi.fromServerFormat(e.fieldPath)}function Toe(e){return e instanceof Qr?function(n){if(n.op==="=="){if(NV(n.value))return{unaryFilter:{field:Lh(n.field),op:"IS_NAN"}};if(RV(n.value))return{unaryFilter:{field:Lh(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(NV(n.value))return{unaryFilter:{field:Lh(n.field),op:"IS_NOT_NAN"}};if(RV(n.value))return{unaryFilter:{field:Lh(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lh(n.field),op:DXe(n.op),value:n.value}}}(e):e instanceof ku?function(n){const r=n.getFilters().map(i=>Toe(i));return r.length===1?r[0]:{compositeFilter:{op:$Xe(n.op),filters:r}}}(e):_t()}function LXe(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function Soe(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(t,n,r,i,s=It.min(),o=It.min(),a=es.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(t){return new xc(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new xc(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new xc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new xc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MXe{constructor(t){this.ut=t}}function FXe(e){const t=RXe({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?DR(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BXe{constructor(){this.on=new jXe}addToCollectionParentIndex(t,n){return this.on.add(n),Ce.resolve()}getCollectionParents(t,n){return Ce.resolve(this.on.getEntries(n))}addFieldIndex(t,n){return Ce.resolve()}deleteFieldIndex(t,n){return Ce.resolve()}deleteAllFieldIndexes(t){return Ce.resolve()}createTargetIndexes(t,n){return Ce.resolve()}getDocumentsMatchingTarget(t,n){return Ce.resolve(null)}getIndexType(t,n){return Ce.resolve(0)}getFieldIndexes(t,n){return Ce.resolve([])}getNextCollectionGroupToUpdate(t){return Ce.resolve(null)}getMinOffset(t,n){return Ce.resolve(df.min())}getMinOffsetFromCollectionGroup(t,n){return Ce.resolve(df.min())}updateCollectionGroup(t,n,r){return Ce.resolve()}updateIndexEntries(t,n){return Ce.resolve()}}class jXe{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new Di(ur.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new Di(ur.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(t){this.xn=t}next(){return this.xn+=2,this.xn}static On(){return new Sm(0)}static Nn(){return new Sm(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UXe{constructor(){this.changes=new a0(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,qi.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ce.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VXe{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zXe{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&Jg(r.mutation,i,va.empty(),Zr.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,Kt()).next(()=>r))}getLocalViewOfDocuments(t,n,r=Kt()){const i=hd();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(s=>{let o=hg();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=hd();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,Kt()))}populateOverlays(t,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,r,i){let s=Ll();const o=Xg(),a=function(){return Xg()}();return n.forEach((u,l)=>{const c=r.get(l.key);i.has(l.key)&&(c===void 0||c.mutation instanceof dh)?s=s.insert(l.key,l):c!==void 0?(o.set(l.key,c.mutation.getFieldMask()),Jg(c.mutation,l,c.mutation.getFieldMask(),Zr.now())):o.set(l.key,va.empty())}),this.recalculateAndSaveOverlays(t,s).next(u=>(u.forEach((l,c)=>o.set(l,c)),n.forEach((l,c)=>{var f;return a.set(l,new VXe(c,(f=o.get(l))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(t,n){const r=Xg();let i=new _r((o,a)=>o-a),s=Kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const l=n.get(u);if(l===null)return;let c=r.get(u)||va.empty();c=a.applyToLocalView(l,c),r.set(u,c);const f=(i.get(a.batchId)||Kt()).add(u);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),l=u.key,c=u.value,f=ooe();c.forEach(d=>{if(!s.has(d)){const h=hoe(n.get(d),r.get(d));h!==null&&f.set(d,h),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(t,l,f))}return Ce.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return function(o){return ft.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):QQe(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-s.size):Ce.resolve(hd());let a=-1,u=s;return o.next(l=>Ce.forEach(l,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(c)?Ce.resolve():this.remoteDocumentCache.getEntry(t,c).next(d=>{u=u.insert(c,d)}))).next(()=>this.populateOverlays(t,l,s)).next(()=>this.computeViews(t,u,l,Kt())).next(c=>({batchId:a,changes:soe(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new ft(n)).next(r=>{let i=hg();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const s=n.collectionGroup;let o=hg();return this.indexManager.getCollectionParents(t,s).next(a=>Ce.forEach(a,u=>{const l=function(f,d){return new Ex(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(t,l,r,i).next(c=>{c.forEach((f,d)=>{o=o.insert(f,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,s,i))).next(o=>{s.forEach((u,l)=>{const c=l.getKey();o.get(c)===null&&(o=o.insert(c,qi.newInvalidDocument(c)))});let a=hg();return o.forEach((u,l)=>{const c=s.get(u);c!==void 0&&Jg(c.mutation,l,va.empty(),Zr.now()),Tx(n,l)&&(a=a.insert(u,l))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HXe{constructor(t){this.serializer=t,this.ur=new Map,this.cr=new Map}getBundleMetadata(t,n){return Ce.resolve(this.ur.get(n))}saveBundleMetadata(t,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:bu(i.createTime)}}(n)),Ce.resolve()}getNamedQuery(t,n){return Ce.resolve(this.cr.get(n))}saveNamedQuery(t,n){return this.cr.set(n.name,function(i){return{name:i.name,query:FXe(i.bundledQuery),readTime:bu(i.readTime)}}(n)),Ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WXe{constructor(){this.overlays=new _r(ft.comparator),this.lr=new Map}getOverlay(t,n){return Ce.resolve(this.overlays.get(n))}getOverlays(t,n){const r=hd();return Ce.forEach(n,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,s)=>{this.lt(t,n,s)}),Ce.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),Ce.resolve()}getOverlaysForCollection(t,n,r){const i=hd(),s=n.length+1,o=new ft(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return Ce.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let s=new _r((l,c)=>l-c);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let c=s.get(l.largestBatchId);c===null&&(c=hd(),s=s.insert(l.largestBatchId,c)),c.set(l.getKey(),l)}}const a=hd(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,c)=>a.set(l,c)),!(a.size()>=i)););return Ce.resolve(a)}lt(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new pXe(n,r));let s=this.lr.get(n);s===void 0&&(s=Kt(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(){this.hr=new Di(ui.Pr),this.Ir=new Di(ui.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(t,n){const r=new ui(t,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.dr(new ui(t,n))}Ar(t,n){t.forEach(r=>this.removeReference(r,n))}Rr(t){const n=new ft(new ur([])),r=new ui(n,t),i=new ui(n,t+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(t=>this.dr(t))}dr(t){this.hr=this.hr.delete(t),this.Ir=this.Ir.delete(t)}mr(t){const n=new ft(new ur([])),r=new ui(n,t),i=new ui(n,t+1);let s=Kt();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new ui(t,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class ui{constructor(t,n){this.key=t,this.gr=n}static Pr(t,n){return ft.comparator(t.key,n.key)||Sn(t.gr,n.gr)}static Tr(t,n){return Sn(t.gr,n.gr)||ft.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qXe{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Di(ui.Pr)}checkEmpty(t){return Ce.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new hXe(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new ui(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return Ce.resolve(o)}lookupMutationBatch(t,n){return Ce.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.Sr(r),s=i<0?0:i;return Ce.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ce.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(t){return Ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new ui(n,0),i=new ui(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),Ce.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Di(Sn);return n.forEach(i=>{const s=new ui(i,0),o=new ui(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),Ce.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let s=r;ft.isDocumentKey(s)||(s=s.child(""));const o=new ui(new ft(s),0);let a=new Di(Sn);return this.yr.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.gr)),!0)},o),Ce.resolve(this.br(a))}br(t){const n=[];return t.forEach(r=>{const i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){Yn(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return Ce.forEach(n.mutations,i=>{const s=new ui(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.yr=r})}Fn(t){}containsKey(t,n){const r=new ui(n,0),i=this.yr.firstAfterOrEqual(r);return Ce.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,Ce.resolve()}Dr(t,n){return this.Sr(t)}Sr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}wr(t){const n=this.Sr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YXe{constructor(t){this.Cr=t,this.docs=function(){return new _r(ft.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return Ce.resolve(r?r.document.mutableCopy():qi.newInvalidDocument(n))}getEntries(t,n){let r=Ll();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():qi.newInvalidDocument(i))}),Ce.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let s=Ll();const o=n.path,a=new ft(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:l,value:{document:c}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||NQe(RQe(c),r)<=0||(i.has(c.key)||Tx(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return Ce.resolve(s)}getAllFromCollectionGroup(t,n,r,i){_t()}vr(t,n){return Ce.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new GXe(this)}getSize(t){return Ce.resolve(this.size)}}class GXe extends UXe{constructor(t){super(),this._r=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(t,i)):this._r.removeEntry(r)}),Ce.waitFor(n)}getFromCache(t,n){return this._r.getEntry(t,n)}getAllFromCache(t,n){return this._r.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KXe{constructor(t){this.persistence=t,this.Fr=new a0(n=>E6(n),w6),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this.Mr=0,this.Or=new C6,this.targetCount=0,this.Nr=Sm.On()}forEachTarget(t,n){return this.Fr.forEach((r,i)=>n(i)),Ce.resolve()}getLastRemoteSnapshotVersion(t){return Ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Ce.resolve(this.Mr)}allocateTargetId(t){return this.highestTargetId=this.Nr.next(),Ce.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),Ce.resolve()}kn(t){this.Fr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Nr=new Sm(n),this.highestTargetId=n),t.sequenceNumber>this.Mr&&(this.Mr=t.sequenceNumber)}addTargetData(t,n){return this.kn(n),this.targetCount+=1,Ce.resolve()}updateTargetData(t,n){return this.kn(n),Ce.resolve()}removeTargetData(t,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,Ce.resolve()}removeTargets(t,n,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),Ce.waitFor(s).next(()=>i)}getTargetCount(t){return Ce.resolve(this.targetCount)}getTargetData(t,n){const r=this.Fr.get(n)||null;return Ce.resolve(r)}addMatchingKeys(t,n,r){return this.Or.Er(n,r),Ce.resolve()}removeMatchingKeys(t,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(t,o))}),Ce.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.Or.Rr(n),Ce.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Or.mr(n);return Ce.resolve(r)}containsKey(t,n){return Ce.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QXe{constructor(t,n){this.Br={},this.overlays={},this.Lr=new y6(0),this.kr=!1,this.kr=!0,this.referenceDelegate=t(this),this.qr=new KXe(this),this.indexManager=new BXe,this.remoteDocumentCache=function(i){return new YXe(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new MXe(n),this.Kr=new HXe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new WXe,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Br[t.toKey()];return r||(r=new qXe(n,this.referenceDelegate),this.Br[t.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(t,n,r){Xe("MemoryPersistence","Starting transaction:",t);const i=new XXe(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(t,n){return Ce.or(Object.values(this.Br).map(r=>()=>r.containsKey(t,n)))}}class XXe extends DQe{constructor(t){super(),this.currentSequenceNumber=t}}class A6{constructor(t){this.persistence=t,this.Gr=new C6,this.zr=null}static jr(t){return new A6(t)}get Hr(){if(this.zr)return this.zr;throw _t()}addReference(t,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),Ce.resolve()}removeReference(t,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),Ce.resolve()}markPotentiallyOrphaned(t,n){return this.Hr.add(n.toString()),Ce.resolve()}removeTarget(t,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(t,n))}$r(){this.zr=new Set}Ur(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ce.forEach(this.Hr,r=>{const i=ft.fromPath(r);return this.Jr(t,i).next(s=>{s||n.removeEntry(i,It.min())})}).next(()=>(this.zr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Jr(t,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(t){return 0}Jr(t,n){return Ce.or([()=>Ce.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Wr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.ki=r,this.qi=i}static Qi(t,n){let r=Kt(),i=Kt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new O6(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JXe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZXe{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(t,n){this.Gi=t,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(t,n,r,i){const s={result:null};return this.zi(t,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(t,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new JXe;return this.Hi(t,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(t,n,o,a.size)})}).next(()=>s.result)}Ji(t,n,r,i){return r.documentReadCount<this.Ui?(Y0()<=nn.DEBUG&&Xe("QueryEngine","SDK will not create cache indexes for query:",$h(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),Ce.resolve()):(Y0()<=nn.DEBUG&&Xe("QueryEngine","Query:",$h(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(Y0()<=nn.DEBUG&&Xe("QueryEngine","The SDK decides to create cache indexes for query:",$h(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,vu(n))):Ce.resolve())}zi(t,n){if(LV(n))return Ce.resolve(null);let r=vu(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=DR(n,null,"F"),r=vu(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const o=Kt(...s);return this.Gi.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,r).next(u=>{const l=this.Yi(n,a);return this.Zi(n,l,o,u.readTime)?this.zi(t,DR(n,null,"F")):this.Xi(t,l,n,u)}))})))}ji(t,n,r,i){return LV(n)||i.isEqual(It.min())?Ce.resolve(null):this.Gi.getDocuments(t,r).next(s=>{const o=this.Yi(n,s);return this.Zi(n,o,r,i)?Ce.resolve(null):(Y0()<=nn.DEBUG&&Xe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),$h(n)),this.Xi(t,o,n,PQe(i,-1)).next(a=>a))})}Yi(t,n){let r=new Di(roe(t));return n.forEach((i,s)=>{Tx(t,s)&&(r=r.add(s))}),r}Zi(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(t,n,r){return Y0()<=nn.DEBUG&&Xe("QueryEngine","Using full collection scan to execute query:",$h(n)),this.Gi.getDocumentsMatchingQuery(t,n,df.min(),r)}Xi(t,n,r,i){return this.Gi.getDocumentsMatchingQuery(t,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eJe{constructor(t,n,r,i){this.persistence=t,this.es=n,this.serializer=i,this.ts=new _r(Sn),this.ns=new a0(s=>E6(s),w6),this.rs=new Map,this.ss=t.getRemoteDocumentCache(),this.qr=t.getTargetCache(),this.Kr=t.getBundleCache(),this.os(r)}os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new zXe(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.ts))}}function tJe(e,t,n,r){return new eJe(e,t,n,r)}async function Ioe(e,t){const n=Nt(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(t),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=Kt();for(const l of i){o.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}for(const l of s){a.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}return n.localDocuments.getDocuments(r,u).next(l=>({_s:l,removedBatchIds:o,addedBatchIds:a}))})})}function nJe(e,t){const n=Nt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,u,l,c){const f=l.batch,d=f.keys();let h=Ce.resolve();return d.forEach(p=>{h=h.next(()=>c.getEntry(u,p)).next(m=>{const y=l.docVersions.get(p);Yn(y!==null),m.version.compareTo(y)<0&&(f.applyToRemoteDocument(m,l),m.isValidDocument()&&(m.setReadTime(l.commitVersion),c.addEntry(m)))})}),h.next(()=>a.mutationQueue.removeMutationBatch(u,f))}(n,r,t,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=Kt();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function xoe(e){const t=Nt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.qr.getLastRemoteSnapshotVersion(n))}function rJe(e,t){const n=Nt(e),r=t.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];t.targetChanges.forEach((c,f)=>{const d=i.get(f);if(!d)return;a.push(n.qr.removeMatchingKeys(s,c.removedDocuments,f).next(()=>n.qr.addMatchingKeys(s,c.addedDocuments,f)));let h=d.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(f)!==null?h=h.withResumeToken(es.EMPTY_BYTE_STRING,It.min()).withLastLimboFreeSnapshotVersion(It.min()):c.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(c.resumeToken,r)),i=i.insert(f,h),function(m,y,g){return m.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(d,h,c)&&a.push(n.qr.updateTargetData(s,h))});let u=Ll(),l=Kt();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(iJe(s,o,t.documentUpdates).next(c=>{u=c.us,l=c.cs})),!r.isEqual(It.min())){const c=n.qr.getLastRemoteSnapshotVersion(s).next(f=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return Ce.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.ts=i,s))}function iJe(e,t,n){let r=Kt(),i=Kt();return n.forEach(s=>r=r.add(s)),t.getEntries(e,r).next(s=>{let o=Ll();return n.forEach((a,u)=>{const l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(It.min())?(t.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(t.addEntry(u),o=o.insert(a,u)):Xe("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{us:o,cs:i}})}function sJe(e,t){const n=Nt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function oJe(e,t){const n=Nt(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,t).next(s=>s?(i=s,Ce.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new xc(t,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(t,r.targetId)),r})}async function BR(e,t,n){const r=Nt(e),i=r.ts.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!cv(o))throw o;Xe("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.ts=r.ts.remove(t),r.ns.delete(i.target)}function YV(e,t,n){const r=Nt(e);let i=It.min(),s=Kt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,c){const f=Nt(u),d=f.ns.get(c);return d!==void 0?Ce.resolve(f.ts.get(d)):f.qr.getTargetData(l,c)}(r,o,vu(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.es.getDocumentsMatchingQuery(o,t,n?i:It.min(),n?s:Kt())).next(a=>(aJe(r,JQe(t),a),{documents:a,ls:s})))}function aJe(e,t,n){let r=e.rs.get(t)||It.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),e.rs.set(t,r)}class GV{constructor(){this.activeTargetIds=iXe()}ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}As(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Es(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class uJe{constructor(){this.eo=new GV,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.eo.ds(t),this.no[t]||"not-current"}updateQueryState(t,n,r){this.no[t]=n}removeLocalQueryTarget(t){this.eo.As(t)}isLocalQueryTarget(t){return this.eo.activeTargetIds.has(t)}clearQueryState(t){delete this.no[t]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(t){return this.eo.activeTargetIds.has(t)}start(){return this.eo=new GV,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lJe{ro(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(t){this.ao.push(t)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){Xe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ao)t(0)}_o(){Xe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ao)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let N1=null;function yO(){return N1===null?N1=function(){return 268435456+Math.round(2147483648*Math.random())}():N1++,"0x"+N1.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cJe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fJe{constructor(t){this.co=t.co,this.lo=t.lo}ho(t){this.Po=t}Io(t){this.To=t}onMessage(t){this.Eo=t}close(){this.lo()}send(t){this.co(t)}Ao(){this.Po()}Ro(t){this.To(t)}Vo(t){this.Eo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui="WebChannelConnection";class dJe extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${s}`,this.po=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(n,r,i,s,o){const a=yO(),u=this.So(n,r);Xe("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const l={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(l,s,o),this.Do(n,u,l,i).then(c=>(Xe("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw n_("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",u,"request:",i),c})}Co(n,r,i,s,o,a){return this.wo(n,r,i,s,o)}bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+s0}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}So(n,r){const i=cJe[n];return`${this.mo}/v1/${r}:${i}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Do(t,n,r,i){const s=yO();return new Promise((o,a)=>{const u=new vQe;u.setWithCredentials(!0),u.listenOnce(yQe.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case mO.NO_ERROR:const c=u.getResponseJson();Xe(Ui,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(c)),o(c);break;case mO.TIMEOUT:Xe(Ui,`RPC '${t}' ${s} timed out`),a(new tt(xe.DEADLINE_EXCEEDED,"Request time out"));break;case mO.HTTP_ERROR:const f=u.getStatus();if(Xe(Ui,`RPC '${t}' ${s} failed with status:`,f,"response text:",u.getResponseText()),f>0){let d=u.getResponseJson();Array.isArray(d)&&(d=d[0]);const h=d==null?void 0:d.error;if(h&&h.status&&h.message){const p=function(y){const g=y.toLowerCase().replace(/_/g,"-");return Object.values(xe).indexOf(g)>=0?g:xe.UNKNOWN}(h.status);a(new tt(p,h.message))}else a(new tt(xe.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new tt(xe.UNAVAILABLE,"Connection failed."));break;default:_t()}}finally{Xe(Ui,`RPC '${t}' ${s} completed.`)}});const l=JSON.stringify(i);Xe(Ui,`RPC '${t}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}vo(t,n,r){const i=yO(),s=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=mQe(),a=gQe(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.bo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const c=s.join("");Xe(Ui,`Creating RPC '${t}' stream ${i}: ${c}`,u);const f=o.createWebChannel(c,u);let d=!1,h=!1;const p=new fJe({co:y=>{h?Xe(Ui,`Not sending because RPC '${t}' stream ${i} is closed:`,y):(d||(Xe(Ui,`Opening RPC '${t}' stream ${i} transport.`),f.open(),d=!0),Xe(Ui,`RPC '${t}' stream ${i} sending:`,y),f.send(y))},lo:()=>f.close()}),m=(y,g,_)=>{y.listen(g,b=>{try{_(b)}catch(T){setTimeout(()=>{throw T},0)}})};return m(f,O1.EventType.OPEN,()=>{h||Xe(Ui,`RPC '${t}' stream ${i} transport opened.`)}),m(f,O1.EventType.CLOSE,()=>{h||(h=!0,Xe(Ui,`RPC '${t}' stream ${i} transport closed`),p.Ro())}),m(f,O1.EventType.ERROR,y=>{h||(h=!0,n_(Ui,`RPC '${t}' stream ${i} transport errored:`,y),p.Ro(new tt(xe.UNAVAILABLE,"The operation could not be completed")))}),m(f,O1.EventType.MESSAGE,y=>{var g;if(!h){const _=y.data[0];Yn(!!_);const b=_,T=b.error||((g=b[0])===null||g===void 0?void 0:g.error);if(T){Xe(Ui,`RPC '${t}' stream ${i} received error:`,T);const I=T.status;let E=function(L){const W=Mr[L];if(W!==void 0)return goe(W)}(I),S=T.message;E===void 0&&(E=xe.INTERNAL,S="Unknown error status: "+I+" with message "+T.message),h=!0,p.Ro(new tt(E,S)),f.close()}else Xe(Ui,`RPC '${t}' stream ${i} received:`,_),p.Vo(_)}}),m(a,_Qe.STAT_EVENT,y=>{y.stat===xV.PROXY?Xe(Ui,`RPC '${t}' stream ${i} detected buffering proxy`):y.stat===xV.NOPROXY&&Xe(Ui,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Ao()},0),p}}function _O(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cx(e){return new TXe(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Coe{constructor(t,n,r=1e3,i=1.5,s=6e4){this.si=t,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(t){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&Xe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),t())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aoe{constructor(t,n,r,i,s,o,a,u){this.si=t,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new Coe(t,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(t){this.t_(),this.stream.send(t)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(t,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,t!==4?this.zo.reset():n&&n.code===xe.RESOURCE_EXHAUSTED?($l(n.toString()),$l("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===xe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Io(n)}r_(){}auth(){this.state=1;const t=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{t(()=>{const i=new tt(xe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(t,n){const r=this.i_(this.Uo);this.stream=this.__(t,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(t){return Xe("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}i_(t){return n=>{this.si.enqueueAndForget(()=>this.Uo===t?n():(Xe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class hJe extends Aoe{constructor(t,n,r,i,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}__(t,n){return this.connection.vo("Listen",t,n)}onMessage(t){this.zo.reset();const n=xXe(this.serializer,t),r=function(s){if(!("targetChange"in s))return It.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?It.min():o.readTime?bu(o.readTime):It.min()}(t);return this.listener.a_(n,r)}u_(t){const n={};n.database=FR(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=kR(u)?{documents:OXe(s,u)}:{query:PXe(s,u)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=voe(s,o.resumeToken);const l=$R(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(It.min())>0){a.readTime=XT(s,o.snapshotVersion.toTimestamp());const l=$R(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,t);const r=NXe(this.serializer,t);r&&(n.labels=r),this.e_(n)}c_(t){const n={};n.database=FR(this.serializer),n.removeTarget=t,this.e_(n)}}class pJe extends Aoe{constructor(t,n,r,i,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(t,n){return this.connection.vo("Write",t,n)}onMessage(t){if(Yn(!!t.streamToken),this.lastStreamToken=t.streamToken,this.l_){this.zo.reset();const n=AXe(t.writeResults,t.commitTime),r=bu(t.commitTime);return this.listener.I_(r,n)}return Yn(!t.writeResults||t.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const t={};t.database=FR(this.serializer),this.e_(t)}P_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>CXe(this.serializer,r))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mJe extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new tt(xe.FAILED_PRECONDITION,"The client has already been terminated.")}wo(t,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(t,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new tt(xe.UNKNOWN,i.toString())})}Co(t,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(t,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new tt(xe.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class gJe{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(t){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.p_("Offline")))}set(t){this.S_(),this.V_=0,t==="Online"&&(this.f_=!1),this.p_(t)}p_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}y_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?($l(n),this.f_=!1):Xe("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yJe{constructor(t,n,r,i,s){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(o=>{r.enqueueAndForget(async()=>{hh(this)&&(Xe("RemoteStore","Restarting streams for network reachability change."),await async function(u){const l=Nt(u);l.C_.add(4),await pv(l),l.M_.set("Unknown"),l.C_.delete(4),await hv(l)}(this))})}),this.M_=new gJe(r,i)}}async function hv(e){if(hh(e))for(const t of e.v_)await t(!0)}async function pv(e){for(const t of e.v_)await t(!1)}function Ooe(e,t){const n=Nt(e);n.D_.has(t.targetId)||(n.D_.set(t.targetId,t),N6(n)?R6(n):u0(n).Ho()&&P6(n,t))}function Poe(e,t){const n=Nt(e),r=u0(n);n.D_.delete(t),r.Ho()&&Roe(n,t),n.D_.size===0&&(r.Ho()?r.Zo():hh(n)&&n.M_.set("Unknown"))}function P6(e,t){if(e.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(It.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}u0(e).u_(t)}function Roe(e,t){e.x_.Oe(t),u0(e).c_(t)}function R6(e){e.x_=new vXe({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.D_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),u0(e).start(),e.M_.g_()}function N6(e){return hh(e)&&!u0(e).jo()&&e.D_.size>0}function hh(e){return Nt(e).C_.size===0}function Noe(e){e.x_=void 0}async function _Je(e){e.D_.forEach((t,n)=>{P6(e,t)})}async function vJe(e,t){Noe(e),N6(e)?(e.M_.w_(t),R6(e)):e.M_.set("Unknown")}async function bJe(e,t,n){if(e.M_.set("Online"),t instanceof _oe&&t.state===2&&t.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.D_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.D_.delete(a),i.x_.removeTarget(a))}(e,t)}catch(r){Xe("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await JT(e,r)}else if(t instanceof Eb?e.x_.$e(t):t instanceof yoe?e.x_.Je(t):e.x_.Ge(t),!n.isEqual(It.min()))try{const r=await xoe(e.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){const c=s.D_.get(l);c&&s.D_.set(l,c.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,l)=>{const c=s.D_.get(u);if(!c)return;s.D_.set(u,c.withResumeToken(es.EMPTY_BYTE_STRING,c.snapshotVersion)),Roe(s,u);const f=new xc(c.target,u,l,c.sequenceNumber);P6(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){Xe("RemoteStore","Failed to raise snapshot:",r),await JT(e,r)}}async function JT(e,t,n){if(!cv(t))throw t;e.C_.add(1),await pv(e),e.M_.set("Offline"),n||(n=()=>xoe(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Xe("RemoteStore","Retrying IndexedDB access"),await n(),e.C_.delete(1),await hv(e)})}function koe(e,t){return t().catch(n=>JT(e,n,t))}async function Ax(e){const t=Nt(e),n=pf(t);let r=t.b_.length>0?t.b_[t.b_.length-1].batchId:-1;for(;EJe(t);)try{const i=await sJe(t.localStore,r);if(i===null){t.b_.length===0&&n.Zo();break}r=i.batchId,wJe(t,i)}catch(i){await JT(t,i)}Doe(t)&&$oe(t)}function EJe(e){return hh(e)&&e.b_.length<10}function wJe(e,t){e.b_.push(t);const n=pf(e);n.Ho()&&n.h_&&n.P_(t.mutations)}function Doe(e){return hh(e)&&!pf(e).jo()&&e.b_.length>0}function $oe(e){pf(e).start()}async function TJe(e){pf(e).E_()}async function SJe(e){const t=pf(e);for(const n of e.b_)t.P_(n.mutations)}async function IJe(e,t,n){const r=e.b_.shift(),i=S6.from(r,t,n);await koe(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Ax(e)}async function xJe(e,t){t&&pf(e).h_&&await async function(r,i){if(function(o){return gXe(o)&&o!==xe.ABORTED}(i.code)){const s=r.b_.shift();pf(r).Yo(),await koe(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Ax(r)}}(e,t),Doe(e)&&$oe(e)}async function QV(e,t){const n=Nt(e);n.asyncQueue.verifyOperationInProgress(),Xe("RemoteStore","RemoteStore received new credentials");const r=hh(n);n.C_.add(3),await pv(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.C_.delete(3),await hv(n)}async function CJe(e,t){const n=Nt(e);t?(n.C_.delete(2),await hv(n)):t||(n.C_.add(2),await pv(n),n.M_.set("Unknown"))}function u0(e){return e.O_||(e.O_=function(n,r,i){const s=Nt(n);return s.A_(),new hJe(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{ho:_Je.bind(null,e),Io:vJe.bind(null,e),a_:bJe.bind(null,e)}),e.v_.push(async t=>{t?(e.O_.Yo(),N6(e)?R6(e):e.M_.set("Unknown")):(await e.O_.stop(),Noe(e))})),e.O_}function pf(e){return e.N_||(e.N_=function(n,r,i){const s=Nt(n);return s.A_(),new pJe(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{ho:TJe.bind(null,e),Io:xJe.bind(null,e),T_:SJe.bind(null,e),I_:IJe.bind(null,e)}),e.v_.push(async t=>{t?(e.N_.Yo(),await Ax(e)):(await e.N_.stop(),e.b_.length>0&&(Xe("RemoteStore",`Stopping write stream with ${e.b_.length} pending writes`),e.b_=[]))})),e.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new gl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,a=new k6(t,n,o,i,s);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new tt(xe.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function D6(e,t){if($l("AsyncQueue",`${t}: ${e}`),cv(e))return new tt(xe.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(t){this.comparator=t?(n,r)=>t(n,r)||ft.comparator(n.key,r.key):(n,r)=>ft.comparator(n.key,r.key),this.keyedMap=hg(),this.sortedSet=new _r(this.comparator)}static emptySet(t){return new Lp(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Lp)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Lp;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(){this.B_=new _r(ft.comparator)}track(t){const n=t.doc.key,r=this.B_.get(n);r?t.type!==0&&r.type===3?this.B_=this.B_.insert(n,t):t.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.B_=this.B_.remove(n):t.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):_t():this.B_=this.B_.insert(n,t)}L_(){const t=[];return this.B_.inorderTraversal((n,r)=>{t.push(r)}),t}}class Im{constructor(t,n,r,i,s,o,a,u,l){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(t,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Im(t,n,Lp.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&wx(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AJe{constructor(){this.k_=void 0,this.listeners=[]}}class OJe{constructor(){this.queries=new a0(t=>noe(t),wx),this.onlineState="Unknown",this.q_=new Set}}async function Loe(e,t){const n=Nt(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new AJe),i)try{s.k_=await n.onListen(r)}catch(o){const a=D6(o,`Initialization of query '${$h(t.query)}' failed`);return void t.onError(a)}n.queries.set(r,s),s.listeners.push(t),t.Q_(n.onlineState),s.k_&&t.K_(s.k_)&&$6(n)}async function Moe(e,t){const n=Nt(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(t);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function PJe(e,t){const n=Nt(e);let r=!1;for(const i of t){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&$6(n)}function RJe(e,t,n){const r=Nt(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function $6(e){e.q_.forEach(t=>{t.next()})}class Foe{constructor(t,n,r){this.query=t,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new Im(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.W_?this.z_(t)&&(this.U_.next(t),n=!0):this.j_(t,this.onlineState)&&(this.H_(t),n=!0),this.G_=t,n}onError(t){this.U_.error(t)}Q_(t){this.onlineState=t;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,t)&&(this.H_(this.G_),n=!0),n}j_(t,n){if(!t.fromCache)return!0;const r=n!=="Offline";return(!this.options.J_||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}z_(t){if(t.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(t){t=Im.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.W_=!0,this.U_.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Boe{constructor(t){this.key=t}}class joe{constructor(t){this.key=t}}class NJe{constructor(t,n){this.query=t,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Kt(),this.mutatedKeys=Kt(),this._a=roe(t),this.aa=new Lp(this._a)}get ua(){return this.ia}ca(t,n){const r=n?n.la:new XV,i=n?n.aa:this.aa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,f)=>{const d=i.get(c),h=Tx(this.query,f)?f:null,p=!!d&&this.mutatedKeys.has(d.key),m=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let y=!1;d&&h?d.data.isEqual(h.data)?p!==m&&(r.track({type:3,doc:h}),y=!0):this.ha(d,h)||(r.track({type:2,doc:h}),y=!0,(u&&this._a(h,u)>0||l&&this._a(h,l)<0)&&(a=!0)):!d&&h?(r.track({type:0,doc:h}),y=!0):d&&!h&&(r.track({type:1,doc:d}),y=!0,(u||l)&&(a=!0)),y&&(h?(o=o.add(h),s=m?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,i){const s=this.aa;this.aa=t.aa,this.mutatedKeys=t.mutatedKeys;const o=t.la.L_();o.sort((c,f)=>function(h,p){const m=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t()}};return m(h)-m(p)}(c.type,f.type)||this._a(c.doc,f.doc)),this.Pa(r),i=i!=null&&i;const a=n&&!i?this.Ia():[],u=this.oa.size===0&&this.current&&!i?1:0,l=u!==this.sa;return this.sa=u,o.length!==0||l?{snapshot:new Im(this.query,t.aa,s,o,t.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new XV,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(t){return!this.ia.has(t)&&!!this.aa.has(t)&&!this.aa.get(t).hasLocalMutations}Pa(t){t&&(t.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=t.current)}Ia(){if(!this.current)return[];const t=this.oa;this.oa=Kt(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return t.forEach(r=>{this.oa.has(r)||n.push(new joe(r))}),this.oa.forEach(r=>{t.has(r)||n.push(new Boe(r))}),n}da(t){this.ia=t.ls,this.oa=Kt();const n=this.ca(t.documents);return this.applyChanges(n,!0)}Aa(){return Im.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class kJe{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class DJe{constructor(t){this.key=t,this.Ra=!1}}class $Je{constructor(t,n,r,i,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new a0(a=>noe(a),wx),this.fa=new Map,this.ga=new Set,this.pa=new _r(ft.comparator),this.ya=new Map,this.wa=new C6,this.Sa={},this.ba=new Map,this.Da=Sm.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function LJe(e,t){const n=qJe(e);let r,i;const s=n.ma.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=await oJe(n.localStore,vu(t)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await MJe(n,t,r,a==="current",o.resumeToken),n.isPrimaryClient&&Ooe(n.remoteStore,o)}return i}async function MJe(e,t,n,r,i){e.va=(f,d,h)=>async function(m,y,g,_){let b=y.view.ca(g);b.Zi&&(b=await YV(m.localStore,y.query,!1).then(({documents:S})=>y.view.ca(S,b)));const T=_&&_.targetChanges.get(y.targetId),I=_&&_.targetMismatches.get(y.targetId)!=null,E=y.view.applyChanges(b,m.isPrimaryClient,T,I);return ZV(m,y.targetId,E.Ta),E.snapshot}(e,f,d,h);const s=await YV(e.localStore,t,!0),o=new NJe(t,s.ls),a=o.ca(s.documents),u=dv.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),l=o.applyChanges(a,e.isPrimaryClient,u);ZV(e,n,l.Ta);const c=new kJe(t,n,o);return e.ma.set(t,c),e.fa.has(n)?e.fa.get(n).push(t):e.fa.set(n,[t]),l.snapshot}async function FJe(e,t){const n=Nt(e),r=n.ma.get(t),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(s=>!wx(s,t))),void n.ma.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await BR(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Poe(n.remoteStore,r.targetId),jR(n,r.targetId)}).catch(lv)):(jR(n,r.targetId),await BR(n.localStore,r.targetId,!0))}async function BJe(e,t,n){const r=YJe(e);try{const i=await function(o,a){const u=Nt(o),l=Zr.now(),c=a.reduce((h,p)=>h.add(p.key),Kt());let f,d;return u.persistence.runTransaction("Locally write mutations","readwrite",h=>{let p=Ll(),m=Kt();return u.ss.getEntries(h,c).next(y=>{p=y,p.forEach((g,_)=>{_.isValidDocument()||(m=m.add(g))})}).next(()=>u.localDocuments.getOverlayedDocuments(h,p)).next(y=>{f=y;const g=[];for(const _ of a){const b=fXe(_,f.get(_.key).overlayedDocument);b!=null&&g.push(new dh(_.key,b,Kse(b.value.mapValue),yl.exists(!0)))}return u.mutationQueue.addMutationBatch(h,l,g,a)}).next(y=>{d=y;const g=y.applyToLocalDocumentSet(f,m);return u.documentOverlayCache.saveOverlays(h,y.batchId,g)})}).then(()=>({batchId:d.batchId,changes:soe(f)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.Sa[o.currentUser.toKey()];l||(l=new _r(Sn)),l=l.insert(a,u),o.Sa[o.currentUser.toKey()]=l}(r,i.batchId,n),await mv(r,i.changes),await Ax(r.remoteStore)}catch(i){const s=D6(i,"Failed to persist write");n.reject(s)}}async function Uoe(e,t){const n=Nt(e);try{const r=await rJe(n.localStore,t);t.targetChanges.forEach((i,s)=>{const o=n.ya.get(s);o&&(Yn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?Yn(o.Ra):i.removedDocuments.size>0&&(Yn(o.Ra),o.Ra=!1))}),await mv(n,r,t)}catch(r){await lv(r)}}function JV(e,t,n){const r=Nt(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ma.forEach((s,o)=>{const a=o.view.Q_(t);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=Nt(o);u.onlineState=a;let l=!1;u.queries.forEach((c,f)=>{for(const d of f.listeners)d.Q_(a)&&(l=!0)}),l&&$6(u)}(r.eventManager,t),i.length&&r.Va.a_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function jJe(e,t,n){const r=Nt(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.ya.get(t),s=i&&i.key;if(s){let o=new _r(ft.comparator);o=o.insert(s,qi.newNoDocument(s,It.min()));const a=Kt().add(s),u=new xx(It.min(),new Map,new _r(Sn),o,a);await Uoe(r,u),r.pa=r.pa.remove(s),r.ya.delete(t),L6(r)}else await BR(r.localStore,t,!1).then(()=>jR(r,t,n)).catch(lv)}async function UJe(e,t){const n=Nt(e),r=t.batch.batchId;try{const i=await nJe(n.localStore,t);zoe(n,r,null),Voe(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await mv(n,i)}catch(i){await lv(i)}}async function VJe(e,t,n){const r=Nt(e);try{const i=await function(o,a){const u=Nt(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return u.mutationQueue.lookupMutationBatch(l,a).next(f=>(Yn(f!==null),c=f.keys(),u.mutationQueue.removeMutationBatch(l,f))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,c,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>u.localDocuments.getDocuments(l,c))})}(r.localStore,t);zoe(r,t,n),Voe(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await mv(r,i)}catch(i){await lv(i)}}function Voe(e,t){(e.ba.get(t)||[]).forEach(n=>{n.resolve()}),e.ba.delete(t)}function zoe(e,t,n){const r=Nt(e);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.Sa[r.currentUser.toKey()]=i}}function jR(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.fa.get(t))e.ma.delete(r),n&&e.Va.Fa(r,n);e.fa.delete(t),e.isPrimaryClient&&e.wa.Rr(t).forEach(r=>{e.wa.containsKey(r)||Hoe(e,r)})}function Hoe(e,t){e.ga.delete(t.path.canonicalString());const n=e.pa.get(t);n!==null&&(Poe(e.remoteStore,n),e.pa=e.pa.remove(t),e.ya.delete(n),L6(e))}function ZV(e,t,n){for(const r of n)r instanceof Boe?(e.wa.addReference(r.key,t),zJe(e,r)):r instanceof joe?(Xe("SyncEngine","Document no longer in limbo: "+r.key),e.wa.removeReference(r.key,t),e.wa.containsKey(r.key)||Hoe(e,r.key)):_t()}function zJe(e,t){const n=t.key,r=n.path.canonicalString();e.pa.get(n)||e.ga.has(r)||(Xe("SyncEngine","New document in limbo: "+n),e.ga.add(r),L6(e))}function L6(e){for(;e.ga.size>0&&e.pa.size<e.maxConcurrentLimboResolutions;){const t=e.ga.values().next().value;e.ga.delete(t);const n=new ft(ur.fromString(t)),r=e.Da.next();e.ya.set(r,new DJe(n)),e.pa=e.pa.insert(n,r),Ooe(e.remoteStore,new xc(vu(T6(n.path)),r,"TargetPurposeLimboResolution",y6._e))}}async function mv(e,t,n){const r=Nt(e),i=[],s=[],o=[];r.ma.isEmpty()||(r.ma.forEach((a,u)=>{o.push(r.va(u,t,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,l!=null&&l.fromCache?"not-current":"current"),l){i.push(l);const c=O6.Qi(u.targetId,l);s.push(c)}}))}),await Promise.all(o),r.Va.a_(i),await async function(u,l){const c=Nt(u);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Ce.forEach(l,d=>Ce.forEach(d.ki,h=>c.persistence.referenceDelegate.addReference(f,d.targetId,h)).next(()=>Ce.forEach(d.qi,h=>c.persistence.referenceDelegate.removeReference(f,d.targetId,h)))))}catch(f){if(!cv(f))throw f;Xe("LocalStore","Failed to update sequence numbers: "+f)}for(const f of l){const d=f.targetId;if(!f.fromCache){const h=c.ts.get(d),p=h.snapshotVersion,m=h.withLastLimboFreeSnapshotVersion(p);c.ts=c.ts.insert(d,m)}}}(r.localStore,s))}async function HJe(e,t){const n=Nt(e);if(!n.currentUser.isEqual(t)){Xe("SyncEngine","User change. New user:",t.toKey());const r=await Ioe(n.localStore,t);n.currentUser=t,function(s,o){s.ba.forEach(a=>{a.forEach(u=>{u.reject(new tt(xe.CANCELLED,o))})}),s.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await mv(n,r._s)}}function WJe(e,t){const n=Nt(e),r=n.ya.get(t);if(r&&r.Ra)return Kt().add(r.key);{let i=Kt();const s=n.fa.get(t);if(!s)return i;for(const o of s){const a=n.ma.get(o);i=i.unionWith(a.view.ua)}return i}}function qJe(e){const t=Nt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Uoe.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=WJe.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=jJe.bind(null,t),t.Va.a_=PJe.bind(null,t.eventManager),t.Va.Fa=RJe.bind(null,t.eventManager),t}function YJe(e){const t=Nt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=UJe.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=VJe.bind(null,t),t}class e7{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=Cx(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return tJe(this.persistence,new ZXe,t.initialUser,this.serializer)}createPersistence(t){return new QXe(A6.jr,this.serializer)}createSharedClientState(t){return new uJe}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class GJe{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>JV(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=HJe.bind(null,this.syncEngine),await CJe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new OJe}()}createDatastore(t){const n=Cx(t.databaseInfo.databaseId),r=function(s){return new dJe(s)}(t.databaseInfo);return function(s,o,a,u){return new mJe(s,o,a,u)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,s,o,a){return new yJe(r,i,s,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>JV(this.syncEngine,n,0),function(){return KV.D()?new KV:new lJe}())}createSyncEngine(t,n){return function(i,s,o,a,u,l,c){const f=new $Je(i,s,o,a,u,l);return c&&(f.Ca=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=Nt(n);Xe("RemoteStore","RemoteStore shutting down."),r.C_.add(5),await pv(r),r.F_.shutdown(),r.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Woe{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Oa(this.observer.next,t)}error(t){this.observer.error?this.Oa(this.observer.error,t):$l("Uncaught Error in snapshot listener:",t.toString())}Na(){this.muted=!0}Oa(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KJe{constructor(t,n,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ts.UNAUTHENTICATED,this.clientId=qse.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{Xe("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Xe("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new tt(xe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new gl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=D6(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function vO(e,t){e.asyncQueue.verifyOperationInProgress(),Xe("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Ioe(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function t7(e,t){e.asyncQueue.verifyOperationInProgress();const n=await qoe(e);Xe("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(i=>QV(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,s)=>QV(t.remoteStore,s)),e._onlineComponents=t}function QJe(e){return e.name==="FirebaseError"?e.code===xe.FAILED_PRECONDITION||e.code===xe.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function qoe(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Xe("FirestoreClient","Using user provided OfflineComponentProvider");try{await vO(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!QJe(n))throw n;n_("Error using user provided cache. Falling back to memory cache: "+n),await vO(e,new e7)}}else Xe("FirestoreClient","Using default OfflineComponentProvider"),await vO(e,new e7);return e._offlineComponents}async function M6(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Xe("FirestoreClient","Using user provided OnlineComponentProvider"),await t7(e,e._uninitializedComponentsProvider._online)):(Xe("FirestoreClient","Using default OnlineComponentProvider"),await t7(e,new GJe))),e._onlineComponents}function XJe(e){return qoe(e).then(t=>t.persistence)}function JJe(e){return M6(e).then(t=>t.remoteStore)}function ZJe(e){return M6(e).then(t=>t.syncEngine)}async function Yoe(e){const t=await M6(e),n=t.eventManager;return n.onListen=LJe.bind(null,t.syncEngine),n.onUnlisten=FJe.bind(null,t.syncEngine),n}function eZe(e){return e.asyncQueue.enqueue(async()=>{const t=await XJe(e),n=await JJe(e);return t.setNetworkEnabled(!0),function(i){const s=Nt(i);return s.C_.delete(0),hv(s)}(n)})}function tZe(e,t,n={}){const r=new gl;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,l){const c=new Woe({next:d=>{o.enqueueAndForget(()=>Moe(s,f));const h=d.docs.has(a);!h&&d.fromCache?l.reject(new tt(xe.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&u&&u.source==="server"?l.reject(new tt(xe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),f=new Foe(T6(a.path),c,{includeMetadataChanges:!0,J_:!0});return Loe(s,f)}(await Yoe(e),e.asyncQueue,t,n,r)),r.promise}function nZe(e,t,n={}){const r=new gl;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,l){const c=new Woe({next:d=>{o.enqueueAndForget(()=>Moe(s,f)),d.fromCache&&u.source==="server"?l.reject(new tt(xe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),f=new Foe(a,c,{includeMetadataChanges:!0,J_:!0});return Loe(s,f)}(await Yoe(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Goe(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n7=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Koe(e,t,n){if(!n)throw new tt(xe.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function rZe(e,t,n,r){if(t===!0&&r===!0)throw new tt(xe.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function r7(e){if(!ft.isDocumentKey(e))throw new tt(xe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function i7(e){if(ft.isDocumentKey(e))throw new tt(xe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function F6(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":_t()}function qd(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new tt(xe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=F6(e);throw new tt(xe.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s7{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new tt(xe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new tt(xe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}rZe("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Goe((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new tt(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new tt(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new tt(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class B6{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new s7({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new tt(xe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new tt(xe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new s7(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new wQe;switch(r.type){case"firstParty":return new IQe(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new tt(xe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=n7.get(n);r&&(Xe("ComponentProvider","Removing Datastore"),n7.delete(n),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Ox(this.firestore,t,this._query)}}class fo{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new fo(this.firestore,t,this._key)}}class Gc extends Ox{constructor(t,n,r){super(t,n,T6(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new fo(this.firestore,null,new ft(t))}withConverter(t){return new Gc(this.firestore,t,this._path)}}function o7(e,t,...n){if(e=Zi(e),Koe("collection","path",t),e instanceof B6){const r=ur.fromString(t,...n);return i7(r),new Gc(e,null,r)}{if(!(e instanceof fo||e instanceof Gc))throw new tt(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ur.fromString(t,...n));return i7(r),new Gc(e.firestore,null,r)}}function La(e,t,...n){if(e=Zi(e),arguments.length===1&&(t=qse.newId()),Koe("doc","path",t),e instanceof B6){const r=ur.fromString(t,...n);return r7(r),new fo(e,null,new ft(r))}{if(!(e instanceof fo||e instanceof Gc))throw new tt(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ur.fromString(t,...n));return r7(r),new fo(e.firestore,e instanceof Gc?e.converter:null,new ft(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iZe{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new Coe(this,"async_queue_retry"),this.iu=()=>{const n=_O();n&&Xe("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const t=_O();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.su(),this.ou(t)}enterRestrictedMode(t){if(!this.Za){this.Za=!0,this.nu=t||!1;const n=_O();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(t){if(this.su(),this.Za)return new Promise(()=>{});const n=new gl;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ya.push(t),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(t){if(!cv(t))throw t;Xe("AsyncQueue","Operation failed with retryable error: "+t)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(t){const n=this.Ja.then(()=>(this.tu=!0,t().catch(r=>{this.eu=r,this.tu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw $l("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(t,n,r){this.su(),this.ru.indexOf(t)>-1&&(n=0);const i=k6.createAndSchedule(this,t,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&_t()}verifyOperationInProgress(){}async uu(){let t;do t=this.Ja,await t;while(t!==this.Ja)}cu(t){for(const n of this.Xa)if(n.timerId===t)return!0;return!1}lu(t){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.uu()})}hu(t){this.ru.push(t)}au(t){const n=this.Xa.indexOf(t);this.Xa.splice(n,1)}}class gv extends B6{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=function(){return new iZe}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Qoe(this),this._firestoreClient.terminate()}}function sZe(e,t,n){n||(n="(default)");const r=n0(e,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),s=r.getOptions(n);if(qy(s,t))return i;throw new tt(xe.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(t.cacheSizeBytes!==void 0&&t.localCache!==void 0)throw new tt(xe.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(t.cacheSizeBytes!==void 0&&t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new tt(xe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:t,instanceIdentifier:n})}function Px(e){return e._firestoreClient||Qoe(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Qoe(e){var t,n,r;const i=e._freezeSettings(),s=function(a,u,l,c){return new MQe(a,u,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,Goe(c.experimentalLongPollingOptions),c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new KJe(e._authCredentials,e._appCheckCredentials,e._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function oZe(e){return eZe(Px(e=qd(e,gv)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(t){this._byteString=t}static fromBase64String(t){try{return new xm(es.fromBase64String(t))}catch(n){throw new tt(xe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new xm(es.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new tt(xe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pi(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xoe{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new tt(xe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new tt(xe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Sn(this._lat,t._lat)||Sn(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aZe=/^__.*__$/;class uZe{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new dh(t,this.data,this.fieldMask,n,this.fieldTransforms):new fv(t,this.data,n,this.fieldTransforms)}}function Joe(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t()}}class V6{constructor(t,n,r,i,s,o){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(t){return new V6(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Tu({path:r,du:!1});return i.Au(t),i}Ru(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(t){return this.Tu({path:void 0,du:!0})}mu(t){return ZT(t,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Au(this.path.get(t))}Au(t){if(t.length===0)throw this.mu("Document fields must not be empty");if(Joe(this.Iu)&&aZe.test(t))throw this.mu('Document fields cannot begin and end with "__"')}}class lZe{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Cx(t)}pu(t,n,r,i=!1){return new V6({Iu:t,methodName:n,gu:r,path:Pi.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cZe(e){const t=e._freezeSettings(),n=Cx(e._databaseId);return new lZe(e._databaseId,!!t.ignoreUndefinedProperties,n)}function fZe(e,t,n,r,i,s={}){const o=e.pu(s.merge||s.mergeFields?2:0,t,n,i);nae("Data must be an object, but it was:",o,r);const a=eae(r,o);let u,l;if(s.merge)u=new va(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const f of s.mergeFields){const d=dZe(t,f,n);if(!o.contains(d))throw new tt(xe.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);pZe(c,d)||c.push(d)}u=new va(c),l=o.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,l=o.fieldTransforms;return new uZe(new Fo(a),u,l)}function Zoe(e,t){if(tae(e=Zi(e)))return nae("Unsupported field value:",t,e),eae(e,t);if(e instanceof Xoe)return function(r,i){if(!Joe(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.du&&t.Iu!==4)throw t.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=Zoe(a,i.Vu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(e,t)}return function(r,i){if((r=Zi(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return sXe(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Zr.fromDate(r);return{timestampValue:XT(i.serializer,s)}}if(r instanceof Zr){const s=new Zr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:XT(i.serializer,s)}}if(r instanceof U6)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof xm)return{bytesValue:voe(i.serializer,r._byteString)};if(r instanceof fo){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:x6(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${F6(r)}`)}(e,t)}function eae(e,t){const n={};return Yse(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):o0(e,(r,i)=>{const s=Zoe(i,t.Eu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function tae(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Zr||e instanceof U6||e instanceof xm||e instanceof fo||e instanceof Xoe)}function nae(e,t,n){if(!tae(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=F6(n);throw r==="an object"?t.mu(e+" a custom object"):t.mu(e+" "+r)}}function dZe(e,t,n){if((t=Zi(t))instanceof j6)return t._internalPath;if(typeof t=="string")return rae(e,t);throw ZT("Field path arguments must be of type string or ",e,!1,void 0,n)}const hZe=new RegExp("[~\\*/\\[\\]]");function rae(e,t,n){if(t.search(hZe)>=0)throw ZT(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new j6(...t.split("."))._internalPath}catch{throw ZT(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function ZT(e,t,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new tt(xe.INVALID_ARGUMENT,a+e+u)}function pZe(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iae{constructor(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new fo(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new mZe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(sae("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class mZe extends iae{data(){return super.data()}}function sae(e,t){return typeof t=="string"?rae(e,t):t instanceof j6?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gZe(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new tt(xe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yZe{convertValue(t,n="none"){switch(Wd(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Br(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Hd(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw _t()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return o0(t,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(t){return new U6(Br(t.latitude),Br(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=v6(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(i_(t));default:return null}}convertTimestamp(t){const n=hf(t);return new Zr(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=ur.fromString(t);Yn(Soe(r));const i=new s_(r.get(1),r.get(3)),s=new ft(r.popFirst(5));return i.isEqual(n)||$l(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _Ze(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class oae extends iae{constructor(t,n,r,i,s,o){super(t,n,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new wb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(sae("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class wb extends oae{data(t={}){return super.data(t)}}class vZe{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new mg(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new wb(this._firestore,this._userDataWriter,r.key,r,new mg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new tt(xe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const u=new wb(i._firestore,i._userDataWriter,a.doc.key,a.doc,new mg(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const u=new wb(i._firestore,i._userDataWriter,a.doc.key,a.doc,new mg(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,c=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:bZe(a.type),doc:u,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function bZe(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(e){e=qd(e,fo);const t=qd(e.firestore,gv);return tZe(Px(t),e._key).then(n=>TZe(t,e,n))}class aae extends yZe{constructor(t){super(),this.firestore=t}convertBytes(t){return new xm(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new fo(this.firestore,null,n)}}function EZe(e){e=qd(e,Ox);const t=qd(e.firestore,gv),n=Px(t),r=new aae(t);return gZe(e._query),nZe(n,e._query).then(i=>new vZe(t,r,e,i))}function K0(e,t,n){e=qd(e,fo);const r=qd(e.firestore,gv),i=_Ze(e.converter,t,n);return wZe(r,[fZe(cZe(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,yl.none())])}function wZe(e,t){return function(r,i){const s=new gl;return r.asyncQueue.enqueueAndForget(async()=>BJe(await ZJe(r),i,s)),s.promise}(Px(e),t)}function TZe(e,t,n){const r=n.docs.get(t._key),i=new aae(e);return new oae(e,i,t._key,r,new mg(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(i){s0=i})(ch),kl(new Ru("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new gv(new TQe(r.getProvider("auth-internal")),new CQe(r.getProvider("app-check-internal")),function(l,c){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new tt(xe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new s_(l.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Sa(CV,"4.4.0",t),Sa(CV,"4.4.0","esm2017")})();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR=new Map,uae={activated:!1,tokenObservers:[]},SZe={initialized:!1,enabled:!1};function ei(e){return UR.get(e)||Object.assign({},uae)}function IZe(e,t){return UR.set(e,t),UR.get(e)}function Rx(){return SZe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lae="https://content-firebaseappcheck.googleapis.com/v1",xZe="exchangeRecaptchaV3Token",CZe="exchangeDebugToken",a7={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},AZe=24*60*60*1e3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OZe{constructor(t,n,r,i,s){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(t){this.stop();try{this.pending=new Wy,await PZe(this.getNextRun(t)),this.pending.resolve(),await this.pending.promise,this.pending=new Wy,await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function PZe(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RZe={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},$s=new t0("appCheck","AppCheck",RZe);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u7(e=!1){var t;return e?(t=self.grecaptcha)===null||t===void 0?void 0:t.enterprise:self.grecaptcha}function z6(e){if(!ei(e).activated)throw $s.create("use-before-activation",{appName:e.name})}function cae(e){const t=Math.round(e/1e3),n=Math.floor(t/(3600*24)),r=Math.floor((t-n*3600*24)/3600),i=Math.floor((t-n*3600*24-r*3600)/60),s=t-n*3600*24-r*3600-i*60;let o="";return n&&(o+=k1(n)+"d:"),r&&(o+=k1(r)+"h:"),o+=k1(i)+"m:"+k1(s)+"s",o}function k1(e){return e===0?"00":e>=10?e.toString():"0"+e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H6({url:e,body:t},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const f=await i.getHeartbeatsHeader();f&&(r["X-Firebase-Client"]=f)}const s={method:"POST",body:JSON.stringify(t),headers:r};let o;try{o=await fetch(e,s)}catch(f){throw $s.create("fetch-network-error",{originalErrorMessage:f==null?void 0:f.message})}if(o.status!==200)throw $s.create("fetch-status-error",{httpStatus:o.status});let a;try{a=await o.json()}catch(f){throw $s.create("fetch-parse-error",{originalErrorMessage:f==null?void 0:f.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw $s.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=Number(u[1])*1e3,c=Date.now();return{token:a.token,expireTimeMillis:c+l,issuedAtTimeMillis:c}}function NZe(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${lae}/projects/${n}/apps/${r}:${xZe}?key=${i}`,body:{recaptcha_v3_token:t}}}function fae(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${lae}/projects/${n}/apps/${r}:${CZe}?key=${i}`,body:{debug_token:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kZe="firebase-app-check-database",DZe=1,l_="firebase-app-check-store",dae="debug-token";let D1=null;function hae(){return D1||(D1=new Promise((e,t)=>{try{const n=indexedDB.open(kZe,DZe);n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{var i;t($s.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(l_,{keyPath:"compositeKey"})}}}catch(n){t($s.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),D1)}function $Ze(e){return mae(gae(e))}function LZe(e,t){return pae(gae(e),t)}function MZe(e){return pae(dae,e)}function FZe(){return mae(dae)}async function pae(e,t){const r=(await hae()).transaction(l_,"readwrite"),s=r.objectStore(l_).put({compositeKey:e,value:t});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var l;a($s.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})}async function mae(e){const n=(await hae()).transaction(l_,"readonly"),i=n.objectStore(l_).get(e);return new Promise((s,o)=>{i.onsuccess=a=>{const u=a.target.result;s(u?u.value:void 0)},n.onerror=a=>{var u;o($s.create("storage-get",{originalErrorMessage:(u=a.target.error)===null||u===void 0?void 0:u.message}))}})}function gae(e){return`${e.options.appId}-${e.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_=new rx("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BZe(e){if(j3()){let t;try{t=await $Ze(e)}catch(n){c_.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return t}}function bO(e,t){return j3()?LZe(e,t).catch(n=>{c_.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}async function jZe(){let e;try{e=await FZe()}catch{}if(e)return e;{const t=Hqe();return MZe(t).catch(n=>c_.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W6(){return Rx().enabled}async function q6(){const e=Rx();if(e.enabled&&e.token)return e.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}function UZe(){const e=yie(),t=Rx();if(t.initialized=!0,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&e.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;t.enabled=!0;const n=new Wy;t.token=n,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(jZe())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VZe={error:"UNKNOWN_ERROR"};function zZe(e){return F3.encodeString(JSON.stringify(e),!1)}async function VR(e,t=!1){const n=e.app;z6(n);const r=ei(n);let i=r.token,s;if(i&&!ap(i)&&(r.token=void 0,i=void 0),!i){const u=await r.cachedTokenPromise;u&&(ap(u)?i=u:await bO(n,void 0))}if(!t&&i&&ap(i))return{token:i.token};let o=!1;if(W6()){r.exchangeTokenPromise||(r.exchangeTokenPromise=H6(fae(n,await q6()),e.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=await r.exchangeTokenPromise;return await bO(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=await ei(n).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"?c_.warn(u.message):c_.error(u),s=u}let a;return i?s?ap(i)?a={token:i.token,internalError:s}:a=c7(s):(a={token:i.token},r.token=i,await bO(n,i)):a=c7(s),o&&vae(n,a),a}async function HZe(e){const t=e.app;z6(t);const{provider:n}=ei(t);if(W6()){const r=await q6(),{token:i}=await H6(fae(t,r),e.heartbeatServiceProvider);return{token:i}}else{const{token:r}=await n.getToken();return{token:r}}}function yae(e,t,n,r){const{app:i}=e,s=ei(i),o={next:n,error:r,type:t};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&ap(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),l7(e)}).catch(()=>{})}s.cachedTokenPromise.then(()=>l7(e))}function _ae(e,t){const n=ei(e),r=n.tokenObservers.filter(i=>i.next!==t);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function l7(e){const{app:t}=e,n=ei(t);let r=n.tokenRefresher;r||(r=WZe(e),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function WZe(e){const{app:t}=e;return new OZe(async()=>{const n=ei(t);let r;if(n.token?r=await VR(e,!0):r=await VR(e),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{const n=ei(t);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},a7.RETRIAL_MIN_WAIT,a7.RETRIAL_MAX_WAIT)}function vae(e,t){const n=ei(e).tokenObservers;for(const r of n)try{r.type==="EXTERNAL"&&t.error!=null?r.error(t.error):r.next(t)}catch{}}function ap(e){return e.expireTimeMillis-Date.now()>0}function c7(e){return{token:zZe(VZe),error:e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qZe{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:t}=ei(this.app);for(const n of t)_ae(this.app,n.next);return Promise.resolve()}}function YZe(e,t){return new qZe(e,t)}function GZe(e){return{getToken:t=>VR(e,t),getLimitedUseToken:()=>HZe(e),addTokenListener:t=>yae(e,"INTERNAL",t),removeTokenListener:t=>_ae(e.app,t)}}const KZe="@firebase/app-check",QZe="0.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XZe="https://www.google.com/recaptcha/api.js";function JZe(e,t){const n=new Wy,r=ei(e);r.reCAPTCHAState={initialized:n};const i=ZZe(e),s=u7(!1);return s?f7(e,t,s,i,n):net(()=>{const o=u7(!1);if(!o)throw new Error("no recaptcha");f7(e,t,o,i,n)}),n.promise}function f7(e,t,n,r,i){n.ready(()=>{tet(e,t,n,r),i.resolve(n)})}function ZZe(e){const t=`fire_app_check_${e.name}`,n=document.createElement("div");return n.id=t,n.style.display="none",document.body.appendChild(n),t}async function eet(e){z6(e);const n=await ei(e).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const s=ei(e).reCAPTCHAState;n.ready(()=>{r(n.execute(s.widgetId,{action:"fire_app_check"}))})})}function tet(e,t,n,r){const i=n.render(r,{sitekey:t,size:"invisible",callback:()=>{ei(e).reCAPTCHAState.succeeded=!0},"error-callback":()=>{ei(e).reCAPTCHAState.succeeded=!1}}),s=ei(e);s.reCAPTCHAState=Object.assign(Object.assign({},s.reCAPTCHAState),{widgetId:i})}function net(e){const t=document.createElement("script");t.src=XZe,t.onload=e,document.head.appendChild(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(t){this._siteKey=t,this._throttleData=null}async getToken(){var t,n,r;iet(this._throttleData);const i=await eet(this._app).catch(o=>{throw $s.create("recaptcha-error")});if(!(!((t=ei(this._app).reCAPTCHAState)===null||t===void 0)&&t.succeeded))throw $s.create("recaptcha-error");let s;try{s=await H6(NZe(this._app,i),this._heartbeatServiceProvider)}catch(o){throw!((n=o.code)===null||n===void 0)&&n.includes("fetch-status-error")?(this._throttleData=ret(Number((r=o.customData)===null||r===void 0?void 0:r.httpStatus),this._throttleData),$s.create("throttled",{time:cae(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):o}return this._throttleData=null,s}initialize(t){this._app=t,this._heartbeatServiceProvider=n0(t,"heartbeat"),JZe(t,this._siteKey).catch(()=>{})}isEqual(t){return t instanceof Y6?this._siteKey===t._siteKey:!1}}function ret(e,t){if(e===404||e===403)return{backoffCount:1,allowRequestsAfter:Date.now()+AZe,httpStatus:e};{const n=t?t.backoffCount:0,r=Kqe(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:e}}}function iet(e){if(e&&Date.now()-e.allowRequestsAfter<=0)throw $s.create("throttled",{time:cae(e.allowRequestsAfter-Date.now()),httpStatus:e.httpStatus})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function set(e=V3(),t){e=Zi(e);const n=n0(e,"app-check");if(Rx().initialized||UZe(),W6()&&q6().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(s.isTokenAutoRefreshEnabled===t.isTokenAutoRefreshEnabled&&s.provider.isEqual(t.provider))return i;throw $s.create("already-initialized",{appName:e.name})}const r=n.initialize({options:t});return oet(e,t.provider,t.isTokenAutoRefreshEnabled),ei(e).isTokenAutoRefreshEnabled&&yae(r,"INTERNAL",()=>{}),r}function oet(e,t,n){const r=IZe(e,Object.assign({},uae));r.activated=!0,r.provider=t,r.cachedTokenPromise=BZe(e).then(i=>(i&&ap(i)&&(r.token=i,vae(e,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=n===void 0?e.automaticDataCollectionEnabled:n,r.provider.initialize(e)}const aet="app-check",d7="app-check-internal";function uet(){kl(new Ru(aet,e=>{const t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return YZe(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(d7).initialize()})),kl(new Ru(d7,e=>{const t=e.getProvider("app-check").getImmediate();return GZe(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),Sa(KZe,QZe)}uet();function bae(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const cet=bae,Eae=new t0("auth","Firebase",bae());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS=new rx("@firebase/auth");function fet(e,...t){eS.logLevel<=nn.WARN&&eS.warn(`Auth (${ch}): ${e}`,...t)}function Tb(e,...t){eS.logLevel<=nn.ERROR&&eS.error(`Auth (${ch}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ml(e,...t){throw G6(e,...t)}function Eu(e,...t){return G6(e,...t)}function det(e,t,n){const r=Object.assign(Object.assign({},cet()),{[t]:n});return new t0("auth","Firebase",r).create(t,{appName:e.name})}function G6(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return Eae.create(e,...t)}function xt(e,t,...n){if(!e)throw G6(t,...n)}function ol(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Tb(t),new Error(t)}function Fl(e,t){e||ol(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function het(){return h7()==="http:"||h7()==="https:"}function h7(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pet(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(het()||kqe()||"connection"in navigator)?navigator.onLine:!0}function met(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(t,n){this.shortDelay=t,this.longDelay=n,Fl(n>t,"Short delay should be less than long delay!"),this.isMobile=Nqe()||Dqe()}get(){return pet()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K6(e,t){Fl(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wae{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ol("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ol("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ol("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const get={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yet=new yv(3e4,6e4);function Nx(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function l0(e,t,n,r,i={}){return Tae(e,i,async()=>{let s={},o={};r&&(t==="GET"?o=r:s={body:JSON.stringify(r)});const a=ev(Object.assign({key:e.config.apiKey},o)).slice(1),u=await e._getAdditionalHeaders();return u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode),wae.fetch()(Iae(e,e.config.apiHost,n,a),Object.assign({method:t,headers:u,referrerPolicy:"no-referrer"},s))})}async function Tae(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},get),t);try{const i=new _et(e),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw $1(e,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw $1(e,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw $1(e,"email-already-in-use",o);if(u==="USER_DISABLED")throw $1(e,"user-disabled",o);const c=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw det(e,c,l);Ml(e,c)}}catch(i){if(i instanceof ju)throw i;Ml(e,"network-request-failed",{message:String(i)})}}async function Sae(e,t,n,r,i={}){const s=await l0(e,t,n,r,i);return"mfaPendingCredential"in s&&Ml(e,"multi-factor-auth-required",{_serverResponse:s}),s}function Iae(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?K6(e.config,i):`${e.config.apiScheme}://${i}`}class _et{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Eu(this.auth,"network-request-failed")),yet.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function $1(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Eu(e,t,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vet(e,t){return l0(e,"POST","/v1/accounts:delete",t)}async function bet(e,t){return l0(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zg(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Eet(e,t=!1){const n=Zi(e),r=await n.getIdToken(t),i=Q6(r);xt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Zg(EO(i.auth_time)),issuedAtTime:Zg(EO(i.iat)),expirationTime:Zg(EO(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function EO(e){return Number(e)*1e3}function Q6(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return Tb("JWT malformed, contained fewer than 3 sections"),null;try{const i=gie(n);return i?JSON.parse(i):(Tb("Failed to decode base64 JWT payload"),null)}catch(i){return Tb("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function wet(e){const t=Q6(e);return xt(t,"internal-error"),xt(typeof t.exp<"u","internal-error"),xt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f_(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof ju&&Tet(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function Tet({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iet{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xae{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zg(this.lastLoginAt),this.creationTime=Zg(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tS(e){var t;const n=e.auth,r=await e.getIdToken(),i=await f_(e,bet(n,{idToken:r}));xt(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?Aet(s.providerUserInfo):[],a=Cet(e.providerData,o),u=e.isAnonymous,l=!(e.email&&s.passwordHash)&&!(a!=null&&a.length),c=u?l:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new xae(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(e,f)}async function xet(e){const t=Zi(e);await tS(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Cet(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function Aet(e){return e.map(t=>{var{providerId:n}=t,r=b$(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oet(e,t){const n=await Tae(e,{},async()=>{const r=ev({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=e.config,o=Iae(e,i,"/v1/token",`key=${s}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",wae.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Pet(e,t){return l0(e,"POST","/v2/accounts:revokeToken",Nx(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){xt(t.idToken,"internal-error"),xt(typeof t.idToken<"u","internal-error"),xt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):wet(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}async getToken(t,n=!1){return xt(!this.accessToken||this.refreshToken,t,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Oet(t,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new d_;return r&&(xt(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),i&&(xt(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),s&&(xt(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new d_,this.toJSON())}_performRefresh(){return ol("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nc(e,t){xt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Sd{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,s=b$(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Iet(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new xae(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await f_(this,this.stsTokenManager.getToken(this.auth,t));return xt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return Eet(this,t)}reload(){return xet(this)}_assign(t){this!==t&&(xt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Sd(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){xt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await tS(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await f_(this,vet(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,s,o,a,u,l,c;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,h=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,g=(l=n.createdAt)!==null&&l!==void 0?l:void 0,_=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:b,emailVerified:T,isAnonymous:I,providerData:E,stsTokenManager:S}=n;xt(b&&S,t,"internal-error");const A=d_.fromJSON(this.name,S);xt(typeof b=="string",t,"internal-error"),nc(f,t.name),nc(d,t.name),xt(typeof T=="boolean",t,"internal-error"),xt(typeof I=="boolean",t,"internal-error"),nc(h,t.name),nc(p,t.name),nc(m,t.name),nc(y,t.name),nc(g,t.name),nc(_,t.name);const L=new Sd({uid:b,auth:t,email:d,emailVerified:T,displayName:f,isAnonymous:I,photoURL:p,phoneNumber:h,tenantId:m,stsTokenManager:A,createdAt:g,lastLoginAt:_});return E&&Array.isArray(E)&&(L.providerData=E.map(W=>Object.assign({},W))),y&&(L._redirectEventId=y),L}static async _fromIdTokenResponse(t,n,r=!1){const i=new d_;i.updateFromServerResponse(n);const s=new Sd({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await tS(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p7=new Map;function al(e){Fl(e instanceof Function,"Expected a class definition");let t=p7.get(e);return t?(Fl(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,p7.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cae{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}Cae.type="NONE";const m7=Cae;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(e,t,n){return`firebase:${e}:${t}:${n}`}class Mp{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Sb(this.userKey,i.apiKey,s),this.fullPersistenceKey=Sb("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Sd._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new Mp(al(m7),t,r);const i=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let s=i[0]||al(m7);const o=Sb(r,t.config.apiKey,t.name);let a=null;for(const l of n)try{const c=await l._get(o);if(c){const f=Sd._fromJSON(t,c);l!==s&&(a=f),s=l;break}}catch{}const u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Mp(s,t,r):(s=u[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==s)try{await l._remove(o)}catch{}})),new Mp(s,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g7(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Pae(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Aae(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Nae(t))return"Blackberry";if(kae(t))return"Webos";if(X6(t))return"Safari";if((t.includes("chrome/")||Oae(t))&&!t.includes("edge/"))return"Chrome";if(Rae(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Aae(e=Ji()){return/firefox\//i.test(e)}function X6(e=Ji()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Oae(e=Ji()){return/crios\//i.test(e)}function Pae(e=Ji()){return/iemobile/i.test(e)}function Rae(e=Ji()){return/android/i.test(e)}function Nae(e=Ji()){return/blackberry/i.test(e)}function kae(e=Ji()){return/webos/i.test(e)}function kx(e=Ji()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Ret(e=Ji()){var t;return kx(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function Net(){return $qe()&&document.documentMode===10}function Dae(e=Ji()){return kx(e)||Rae(e)||kae(e)||Nae(e)||/windows phone/i.test(e)||Pae(e)}function ket(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $ae(e,t=[]){let n;switch(e){case"Browser":n=g7(Ji());break;case"Worker":n=`${g7(Ji())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${ch}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Det{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=s=>new Promise((o,a)=>{try{const u=t(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $et(e,t={}){return l0(e,"GET","/v2/passwordPolicy",Nx(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Let=6;class Met{constructor(t){var n,r,i,s;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Let,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,i,s,o,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,u),this.validatePasswordCharacterOptions(t,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fet{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new y7(this),this.idTokenSubscription=new y7(this),this.beforeStateQueue=new Det(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Eae,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=al(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Mp.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(t);(!o||o===a)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return xt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await tS(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=met()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const n=t?Zi(t):null;return n&&xt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&xt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(al(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await $et(this),n=new Met(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new t0("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Pet(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&al(t)||this._popupRedirectResolver;xt(n,this,"argument-error"),this.redirectPersistenceManager=await Mp.create(this,[al(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(xt(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=t.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=t.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return xt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=$ae(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&fet(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Dx(e){return Zi(e)}class y7{constructor(t){this.auth=t,this.observer=null,this.addObserver=Uqe(n=>this.observer=n)}get next(){return xt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bet(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}function jet(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const s=Eu("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Bet().appendChild(r)})}function Uet(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vet(e,t){const n=n0(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(qy(s,t??{}))return i;Ml(i,"already-initialized")}return n.initialize({options:t})}function zet(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(al);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function Het(e,t,n){const r=Dx(e);xt(r._canInitEmulator,r,"emulator-config-failed"),xt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=Lae(t),{host:o,port:a}=Wet(t),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||qet()}function Lae(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Wet(e){const t=Lae(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:_7(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:_7(o)}}}function _7(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function qet(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mae{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return ol("not implemented")}_getIdTokenResponse(t){return ol("not implemented")}_linkToIdToken(t,n){return ol("not implemented")}_getReauthenticationResolver(t){return ol("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fp(e,t){return Sae(e,"POST","/v1/accounts:signInWithIdp",Nx(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yet="http://localhost";class Yd extends Mae{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Yd(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Ml("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i}=n,s=b$(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Yd(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return Fp(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Fp(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Fp(t,n)}buildRequest(){const t={requestUri:Yet,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=ev(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fae{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v extends Fae{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc extends _v{constructor(){super("facebook.com")}static credential(t){return Yd._fromParams({providerId:yc.PROVIDER_ID,signInMethod:yc.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return yc.credentialFromTaggedObject(t)}static credentialFromError(t){return yc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return yc.credential(t.oauthAccessToken)}catch{return null}}}yc.FACEBOOK_SIGN_IN_METHOD="facebook.com";yc.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c extends _v{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Yd._fromParams({providerId:_c.PROVIDER_ID,signInMethod:_c.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return _c.credentialFromTaggedObject(t)}static credentialFromError(t){return _c.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return _c.credential(n,r)}catch{return null}}}_c.GOOGLE_SIGN_IN_METHOD="google.com";_c.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc extends _v{constructor(){super("github.com")}static credential(t){return Yd._fromParams({providerId:vc.PROVIDER_ID,signInMethod:vc.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return vc.credentialFromTaggedObject(t)}static credentialFromError(t){return vc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return vc.credential(t.oauthAccessToken)}catch{return null}}}vc.GITHUB_SIGN_IN_METHOD="github.com";vc.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc extends _v{constructor(){super("twitter.com")}static credential(t,n){return Yd._fromParams({providerId:bc.PROVIDER_ID,signInMethod:bc.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return bc.credentialFromTaggedObject(t)}static credentialFromError(t){return bc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return bc.credential(n,r)}catch{return null}}}bc.TWITTER_SIGN_IN_METHOD="twitter.com";bc.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Get(e,t){return Sae(e,"POST","/v1/accounts:signUp",Nx(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const s=await Sd._fromIdTokenResponse(t,r,i),o=v7(r);return new mf({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=v7(r);return new mf({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function v7(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ket(e){var t;const n=Dx(e);if(await n._initializationPromise,!((t=n.currentUser)===null||t===void 0)&&t.isAnonymous)return new mf({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Get(n,{returnSecureToken:!0}),i=await mf._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS extends ju{constructor(t,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,nS.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new nS(t,n,r,i)}}function Bae(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?nS._fromErrorAndOperation(e,s,t,r):s})}async function Qet(e,t,n=!1){const r=await f_(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return mf._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xet(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const s=await f_(e,Bae(r,i,t,e),n);xt(s.idToken,r,"internal-error");const o=Q6(s.idToken);xt(o,r,"internal-error");const{sub:a}=o;return xt(e.uid===a,r,"user-mismatch"),mf._forOperation(e,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ml(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jet(e,t,n=!1){const r="signIn",i=await Bae(e,r,t),s=await mf._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}function Zet(e,t,n,r){return Zi(e).onIdTokenChanged(t,n,r)}function ett(e,t,n){return Zi(e).beforeAuthStateChanged(t,n)}const rS="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jae{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(rS,"1"),this.storage.removeItem(rS),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ttt(){const e=Ji();return X6(e)||kx(e)}const ntt=1e3,rtt=10;class Uae extends jae{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=ttt()&&ket(),this.fallbackToPolling=Dae(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(t.newValue!==o)t.newValue!==null?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);Net()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,rtt):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},ntt)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}Uae.type="LOCAL";const itt=Uae;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vae extends jae{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}Vae.type="SESSION";const zae=Vae;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function stt(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new $x(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async l=>l(n.origin,s)),u=await stt(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$x.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J6(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ott{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{const l=J6("",20);i.port1.start();const c=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const d=f;if(d.data.eventId===l)switch(d.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(d.data.response);break;default:clearTimeout(c),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wu(){return window}function att(e){wu().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hae(){return typeof wu().WorkerGlobalScope<"u"&&typeof wu().importScripts=="function"}async function utt(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ltt(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function ctt(){return Hae()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wae="firebaseLocalStorageDb",ftt=1,iS="firebaseLocalStorage",qae="fbase_key";class vv{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Lx(e,t){return e.transaction([iS],t?"readwrite":"readonly").objectStore(iS)}function dtt(){const e=indexedDB.deleteDatabase(Wae);return new vv(e).toPromise()}function HR(){const e=indexedDB.open(Wae,ftt);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(iS,{keyPath:qae})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(iS)?t(r):(r.close(),await dtt(),t(await HR()))})})}async function b7(e,t,n){const r=Lx(e,!0).put({[qae]:t,value:n});return new vv(r).toPromise()}async function htt(e,t){const n=Lx(e,!1).get(t),r=await new vv(n).toPromise();return r===void 0?null:r.value}function E7(e,t){const n=Lx(e,!0).delete(t);return new vv(n).toPromise()}const ptt=800,mtt=3;class Yae{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await HR(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>mtt)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Hae()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$x._getInstance(ctt()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await utt(),!this.activeServiceWorker)return;this.sender=new ott(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||ltt()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await HR();return await b7(t,rS,"1"),await E7(t,rS),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>b7(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>htt(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>E7(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const s=Lx(i,!1).getAll();return new vv(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ptt)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Yae.type="LOCAL";const gtt=Yae;new yv(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ytt(e,t){return t?al(t):(xt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6 extends Mae{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Fp(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Fp(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Fp(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function _tt(e){return Jet(e.auth,new Z6(e),e.bypassAuthState)}function vtt(e){const{auth:t,user:n}=e;return xt(n,t,"internal-error"),Xet(n,new Z6(e),e.bypassAuthState)}async function btt(e){const{auth:t,user:n}=e;return xt(n,t,"internal-error"),Qet(n,new Z6(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gae{constructor(t,n,r,i,s=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=t;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(l){this.reject(l)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return _tt;case"linkViaPopup":case"linkViaRedirect":return btt;case"reauthViaPopup":case"reauthViaRedirect":return vtt;default:Ml(this.auth,"internal-error")}}resolve(t){Fl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Fl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ett=new yv(2e3,1e4);class up extends Gae{constructor(t,n,r,i,s){super(t,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,up.currentPopupAction&&up.currentPopupAction.cancel(),up.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return xt(t,this.auth,"internal-error"),t}async onExecution(){Fl(this.filter.length===1,"Popup operations only handle one event");const t=J6();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Eu(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Eu(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,up.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Eu(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Ett.get())};t()}}up.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wtt="pendingRedirect",Ib=new Map;class Ttt extends Gae{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=Ib.get(this.auth._key());if(!t){try{const r=await Stt(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}Ib.set(this.auth._key(),t)}return this.bypassAuthState||Ib.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Stt(e,t){const n=Ctt(t),r=xtt(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Itt(e,t){Ib.set(e._key(),t)}function xtt(e){return al(e._redirectPersistence)}function Ctt(e){return Sb(wtt,e.config.apiKey,e.name)}async function Att(e,t,n=!1){const r=Dx(e),i=ytt(r,t),o=await new Ttt(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ott=10*60*1e3;class Ptt{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Rtt(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!Kae(t)){const i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Eu(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Ott&&this.cachedEventUids.clear(),this.cachedEventUids.has(w7(t))}saveEventToCache(t){this.cachedEventUids.add(w7(t)),this.lastProcessedEventTime=Date.now()}}function w7(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function Kae({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function Rtt(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Kae(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ntt(e,t={}){return l0(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ktt=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Dtt=/^https?/;async function $tt(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Ntt(e);for(const n of t)try{if(Ltt(n))return}catch{}Ml(e,"unauthorized-domain")}function Ltt(e){const t=zR(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Dtt.test(n))return!1;if(ktt.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mtt=new yv(3e4,6e4);function T7(){const e=wu().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function Ftt(e){return new Promise((t,n)=>{var r,i,s;function o(){T7(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{T7(),n(Eu(e,"network-request-failed"))},timeout:Mtt.get()})}if(!((i=(r=wu().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((s=wu().gapi)===null||s===void 0)&&s.load)o();else{const a=Uet("iframefcb");return wu()[a]=()=>{gapi.load?o():n(Eu(e,"network-request-failed"))},jet(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}}).catch(t=>{throw xb=null,t})}let xb=null;function Btt(e){return xb=xb||Ftt(e),xb}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jtt=new yv(5e3,15e3),Utt="__/auth/iframe",Vtt="emulator/auth/iframe",ztt={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Htt=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Wtt(e){const t=e.config;xt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?K6(t,Vtt):`https://${e.config.authDomain}/${Utt}`,r={apiKey:t.apiKey,appName:e.name,v:ch},i=Htt.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ev(r).slice(1)}`}async function qtt(e){const t=await Btt(e),n=wu().gapi;return xt(n,e,"internal-error"),t.open({where:document.body,url:Wtt(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ztt,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Eu(e,"network-request-failed"),a=wu().setTimeout(()=>{s(o)},jtt.get());function u(){wu().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ytt={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Gtt=500,Ktt=600,Qtt="_blank",Xtt="http://localhost";class S7{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Jtt(e,t,n,r=Gtt,i=Ktt){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},Ytt),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Ji().toLowerCase();n&&(a=Oae(l)?Qtt:n),Aae(l)&&(t=t||Xtt,u.scrollbars="yes");const c=Object.entries(u).reduce((d,[h,p])=>`${d}${h}=${p},`,"");if(Ret(l)&&a!=="_self")return Ztt(t||"",a),new S7(null);const f=window.open(t||"",a,c);xt(f,e,"popup-blocked");try{f.focus()}catch{}return new S7(f)}function Ztt(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ent="__/auth/handler",tnt="emulator/auth/handler",nnt=encodeURIComponent("fac");async function I7(e,t,n,r,i,s){xt(e.config.authDomain,e,"auth-domain-config-required"),xt(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:ch,eventId:i};if(t instanceof Fae){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",jqe(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[c,f]of Object.entries(s||{}))o[c]=f}if(t instanceof _v){const c=t.getScopes().filter(f=>f!=="");c.length>0&&(o.scopes=c.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const u=await e._getAppCheckToken(),l=u?`#${nnt}=${encodeURIComponent(u)}`:"";return`${rnt(e)}?${ev(a).slice(1)}${l}`}function rnt({config:e}){return e.emulator?K6(e,tnt):`https://${e.authDomain}/${ent}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO="webStorageSupport";class int{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zae,this._completeRedirectFn=Att,this._overrideRedirectResult=Itt}async _openPopup(t,n,r,i){var s;Fl((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await I7(t,n,r,zR(),i);return Jtt(t,o,J6())}async _openRedirect(t,n,r,i){await this._originValidation(t);const s=await I7(t,n,r,zR(),i);return att(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Fl(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await qtt(t),r=new Ptt(t);return n.register("authEvent",i=>(xt(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(wO,{type:wO},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[wO];o!==void 0&&n(!!o),Ml(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=$tt(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return Dae()||X6()||kx()}}const snt=int;var x7="@firebase/auth",C7="1.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ont{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){xt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ant(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function unt(e){kl(new Ru("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;xt(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$ae(e)},l=new Fet(r,i,s,u);return zet(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),kl(new Ru("auth-internal",t=>{const n=Dx(t.getProvider("auth").getImmediate());return(r=>new ont(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Sa(x7,C7,ant(e)),Sa(x7,C7,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lnt=5*60,cnt=bie("authIdTokenMaxAge")||lnt;let A7=null;const fnt=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>cnt)return;const i=n==null?void 0:n.token;A7!==i&&(A7=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function dnt(e=V3()){const t=n0(e,"auth");if(t.isInitialized())return t.getImmediate();const n=Vet(e,{popupRedirectResolver:snt,persistence:[gtt,itt,zae]}),r=bie("authTokenSyncURL");if(r){const s=fnt(r);ett(n,s,()=>s(n.currentUser)),Zet(n,o=>s(o))}const i=_ie("auth");return i&&Het(n,`http://${i}`),n}unt("Browser");class hnt extends pie{constructor(){super("firebase");Gs(this,"RECAPTCHAV3TOKEN","6Ldz_WQpAAAAAITx1qzoXnBDQMP8Zpub5MVyMl0k");Gs(this,"firestore");Gs(this,"collectionPrefix","prod-");Gs(this,"studyCollection");Gs(this,"studyId","");Gs(this,"localForage",hie.createInstance({name:"currentParticipantId"}));Gs(this,"localProvenanceCopy",{});Gs(this,"localWindowEvents",{});const n=Pk.parse(`
{
  apiKey: "AIzaSyBWe6l3RbrOhakYL3k4vVId26UCKVIOX0U",
  authDomain: "viz-guardrails.firebaseapp.com",
  projectId: "viz-guardrails",
  storageBucket: "viz-guardrails.appspot.com",
  messagingSenderId: "975745336400",
  appId: "1:975745336400:web:e7607abb512ff88d36bd55",
  measurementId: "G-6KWR7L44G0"
}
`),r=Tie(n);this.firestore=sZe(r,{});try{set(r,{provider:new Y6(this.RECAPTCHAV3TOKEN),isTokenAutoRefreshEnabled:!1})}catch{console.warn("Failed to initialize Firebase App Check")}}async connect(){try{const n=dnt();if(await Ket(n),!n.currentUser)throw new Error("Login failed with firebase");await oZe(this.firestore);const r=await La(this.firestore,".info/connected");await G0(r),this.connected=!0}catch{console.warn("Failed to connect to Firebase")}}async initializeStudyDb(n,r){const i=await kp(JSON.stringify(r));this.studyCollection=o7(this.firestore,`${this.collectionPrefix}${n}`),this.studyId=n;const s=La(this.studyCollection,"configs"),o=o7(s,"configs"),a=La(o,i);return await K0(a,r)}async initializeParticipantSession(n,r,i){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");if(await this.getCurrentParticipantId(i),!this.currentParticipantId)throw new Error("Participant not initialized");const s=La(this.studyCollection,this.currentParticipantId),o=(await G0(s)).data();if(this.localProvenanceCopy=await this._getFromFirebaseStorage(this.currentParticipantId,"provenance"),this.localWindowEvents=await this._getFromFirebaseStorage(this.currentParticipantId,"windowEvents"),Object.entries(this.localWindowEvents).forEach(([l,c])=>{o!==null&&(c===void 0||c.length===0?o.answers[l].windowEvents=[]:o.answers[l].windowEvents=c)}),o)return o;const a=await kp(JSON.stringify(r)),u={participantId:this.currentParticipantId,participantConfigHash:a,sequence:await this.getSequence(),answers:{},searchParams:n};return await K0(s,u),u}async getCurrentParticipantId(n){const r=await this.localForage.getItem("currentParticipantId");if(n)return this.currentParticipantId=n,await this.localForage.setItem("currentParticipantId",n),n;if(r)return this.currentParticipantId=r,r;if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const i=La(this.studyCollection);return this.currentParticipantId=i.id,await this.localForage.setItem("currentParticipantId",this.currentParticipantId),this.currentParticipantId}async clearCurrentParticipantId(){return await this.localForage.removeItem("currentParticipantId")}async saveAnswer(n,r){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");if(!this.currentParticipantId)throw new Error("Participant not initialized");const i=La(this.studyCollection,this.currentParticipantId),s={answer:r.answer,startTime:r.startTime,endTime:r.endTime};await K0(i,{answers:{[n]:s}},{merge:!0}),r.provenanceGraph&&(this.localProvenanceCopy[n]=r.provenanceGraph,await this._pushToFirebaseStorage("provenance")),this.localWindowEvents[n]=r.windowEvents,await this._pushToFirebaseStorage("windowEvents")}async setSequenceArray(n){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const r=n.map(o=>o.join(",")),i=La(this.studyCollection,"sequenceArray");return await K0(i,{sequenceArray:r})}async getSequenceArray(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=La(this.studyCollection,"sequenceArray"),r=(await G0(n)).data();return r===void 0?null:r.sequenceArray.map(i=>i.split(","))}async getSequence(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=await this.getSequenceArray();if(!n)throw new Error("Latin square not initialized");const r=n.pop();if(!r)throw new Error("Latin square is empty");return await this.setSequenceArray(n),r}async getAllParticipantsData(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=await EZe(this.studyCollection),r=[],i=n.docs.map(async s=>{if(s.id==="config"||s.id==="sequenceArray")return;const o=s.data(),a=await this._getFromFirebaseStorage(o.participantId,"provenance"),u=await this._getFromFirebaseStorage(o.participantId,"windowEvents");o.answers=Object.fromEntries(Object.entries(o.answers).map(([l,c])=>{if(c===void 0)return[l,c];const f=a[l],d=u[l];return[l,{...c,provenanceGraph:f,windowEvents:d}]})),r.push(o)});return await Promise.all(i),r}async getParticipantData(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");await this.getCurrentParticipantId();let n=null;if(this.currentParticipantId!==null){const r=La(this.studyCollection,this.currentParticipantId);if(n=(await G0(r)).data(),n!==null){const i=await this._getFromFirebaseStorage(this.currentParticipantId,"provenance"),s=await this._getFromFirebaseStorage(this.currentParticipantId,"windowEvents");Object.entries(n.answers).forEach(([o,a])=>{a!==void 0&&(a.provenanceGraph=i[o],a.windowEvents=s[o])})}}return n}async nextParticipant(n){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const r=La(this.studyCollection),i=r.id;await this.localForage.setItem("currentParticipantId",i),this.currentParticipantId=i;let s=null;if(this.currentParticipantId!==null&&(s=(await G0(r)).data()),!s){const o=await kp(JSON.stringify(n)),a={participantId:i,participantConfigHash:o,sequence:await this.getSequence(),answers:{},searchParams:{}};await K0(r,a),s=a}return s}async verifyCompletion(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=await this.getParticipantData();if(!n)throw new Error("Participant not initialized");return n.sequence.every(i=>i==="end"?!0:n.answers[i]!==void 0)}_verifyStudyDatabase(n){return n!==void 0}async _getFromFirebaseStorage(n,r){const i=dV(),s=fV(i,`${this.studyId}/${n}_${r}`);let o={};try{const a=await fKe(s),l=await(await fetch(a)).text();o=JSON.parse(l)}catch{console.warn(`Participant ${n} does not have ${r} for ${this.studyId}.`)}return o}async _pushToFirebaseStorage(n){const r=n==="provenance"?this.localProvenanceCopy:this.localWindowEvents;if(Object.keys(r).length>0){const i=dV(),s=fV(i,`${this.studyId}/${this.currentParticipantId}_${n}`),o=new Blob([JSON.stringify(r)],{type:"application/json"});await cKe(s,o)}}}async function pnt(){let e,t=!1;{const n=new hnt;await n.connect(),n.isConnected()?e=n:t=!0}if(t){const n=new Tqe;await n.connect(),e=n}return e}function mnt(){const{storageEngine:e,setStorageEngine:t}=vf();return w.useEffect(()=>{if(e!==void 0)return;async function n(){const r=await pnt();t(r)}n()},[t,e]),$.jsx(yqe,{})}TO.createRoot(document.getElementById("root")).render($.jsx(k.StrictMode,{children:$.jsx(Pce,{children:$.jsx(mnt,{})})}));
