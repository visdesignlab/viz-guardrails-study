var Rae=Object.defineProperty;var Nae=(e,t,n)=>t in e?Rae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var qs=(e,t,n)=>(Nae(e,typeof t!="symbol"?t+"":t,n),n);function kae(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var to=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ca(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Dae(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var _7={exports:{}},QT={},v7={exports:{}},Qt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o_=Symbol.for("react.element"),$ae=Symbol.for("react.portal"),Lae=Symbol.for("react.fragment"),Mae=Symbol.for("react.strict_mode"),Fae=Symbol.for("react.profiler"),Bae=Symbol.for("react.provider"),jae=Symbol.for("react.context"),Uae=Symbol.for("react.forward_ref"),Vae=Symbol.for("react.suspense"),zae=Symbol.for("react.memo"),Hae=Symbol.for("react.lazy"),Q6=Symbol.iterator;function qae(e){return e===null||typeof e!="object"?null:(e=Q6&&e[Q6]||e["@@iterator"],typeof e=="function"?e:null)}var b7={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E7=Object.assign,w7={};function bm(e,t,n){this.props=e,this.context=t,this.refs=w7,this.updater=n||b7}bm.prototype.isReactComponent={};bm.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};bm.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function T7(){}T7.prototype=bm.prototype;function $R(e,t,n){this.props=e,this.context=t,this.refs=w7,this.updater=n||b7}var LR=$R.prototype=new T7;LR.constructor=$R;E7(LR,bm.prototype);LR.isPureReactComponent=!0;var X6=Array.isArray,S7=Object.prototype.hasOwnProperty,MR={current:null},I7={key:!0,ref:!0,__self:!0,__source:!0};function x7(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)S7.call(t,r)&&!I7.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+2];i.children=u}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:o_,type:e,key:s,ref:o,props:i,_owner:MR.current}}function Wae(e,t){return{$$typeof:o_,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function FR(e){return typeof e=="object"&&e!==null&&e.$$typeof===o_}function Yae(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var J6=/\/+/g;function Dx(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Yae(""+e.key):t.toString(36)}function A1(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case o_:case $ae:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Dx(o,0):r,X6(i)?(n="",e!=null&&(n=e.replace(J6,"$&/")+"/"),A1(i,t,n,"",function(l){return l})):i!=null&&(FR(i)&&(i=Wae(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(J6,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",X6(e))for(var a=0;a<e.length;a++){s=e[a];var u=r+Dx(s,a);o+=A1(s,t,n,u,i)}else if(u=qae(e),typeof u=="function")for(e=u.call(e),a=0;!(s=e.next()).done;)s=s.value,u=r+Dx(s,a++),o+=A1(s,t,n,u,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function fv(e,t,n){if(e==null)return e;var r=[],i=0;return A1(e,r,"","",function(s){return t.call(n,s,i++)}),r}function Gae(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ls={current:null},O1={transition:null},Kae={ReactCurrentDispatcher:ls,ReactCurrentBatchConfig:O1,ReactCurrentOwner:MR};Qt.Children={map:fv,forEach:function(e,t,n){fv(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return fv(e,function(){t++}),t},toArray:function(e){return fv(e,function(t){return t})||[]},only:function(e){if(!FR(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Qt.Component=bm;Qt.Fragment=Lae;Qt.Profiler=Fae;Qt.PureComponent=$R;Qt.StrictMode=Mae;Qt.Suspense=Vae;Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kae;Qt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=E7({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=MR.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)S7.call(t,u)&&!I7.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var l=0;l<u;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:o_,type:e.type,key:i,ref:s,props:r,_owner:o}};Qt.createContext=function(e){return e={$$typeof:jae,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Bae,_context:e},e.Consumer=e};Qt.createElement=x7;Qt.createFactory=function(e){var t=x7.bind(null,e);return t.type=e,t};Qt.createRef=function(){return{current:null}};Qt.forwardRef=function(e){return{$$typeof:Uae,render:e}};Qt.isValidElement=FR;Qt.lazy=function(e){return{$$typeof:Hae,_payload:{_status:-1,_result:e},_init:Gae}};Qt.memo=function(e,t){return{$$typeof:zae,type:e,compare:t===void 0?null:t}};Qt.startTransition=function(e){var t=O1.transition;O1.transition={};try{e()}finally{O1.transition=t}};Qt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Qt.useCallback=function(e,t){return ls.current.useCallback(e,t)};Qt.useContext=function(e){return ls.current.useContext(e)};Qt.useDebugValue=function(){};Qt.useDeferredValue=function(e){return ls.current.useDeferredValue(e)};Qt.useEffect=function(e,t){return ls.current.useEffect(e,t)};Qt.useId=function(){return ls.current.useId()};Qt.useImperativeHandle=function(e,t,n){return ls.current.useImperativeHandle(e,t,n)};Qt.useInsertionEffect=function(e,t){return ls.current.useInsertionEffect(e,t)};Qt.useLayoutEffect=function(e,t){return ls.current.useLayoutEffect(e,t)};Qt.useMemo=function(e,t){return ls.current.useMemo(e,t)};Qt.useReducer=function(e,t,n){return ls.current.useReducer(e,t,n)};Qt.useRef=function(e){return ls.current.useRef(e)};Qt.useState=function(e){return ls.current.useState(e)};Qt.useSyncExternalStore=function(e,t,n){return ls.current.useSyncExternalStore(e,t,n)};Qt.useTransition=function(){return ls.current.useTransition()};Qt.version="18.2.0";v7.exports=Qt;var w=v7.exports;const k=Ca(w),bd=kae({__proto__:null,default:k},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qae=w,Xae=Symbol.for("react.element"),Jae=Symbol.for("react.fragment"),Zae=Object.prototype.hasOwnProperty,eue=Qae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tue={key:!0,ref:!0,__self:!0,__source:!0};function C7(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Zae.call(t,r)&&!tue.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Xae,type:e,key:s,ref:o,props:i,_owner:eue.current}}QT.Fragment=Jae;QT.jsx=C7;QT.jsxs=C7;_7.exports=QT;var $=_7.exports,hO={},A7={exports:{}},go={},O7={exports:{}},P7={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(re,ue){var te=re.length;re.push(ue);e:for(;0<te;){var x=te-1>>>1,C=re[x];if(0<i(C,ue))re[x]=ue,re[te]=C,te=x;else break e}}function n(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var ue=re[0],te=re.pop();if(te!==ue){re[0]=te;e:for(var x=0,C=re.length,j=C>>>1;x<j;){var P=2*(x+1)-1,O=re[P],G=P+1,de=re[G];if(0>i(O,te))G<C&&0>i(de,O)?(re[x]=de,re[G]=te,x=G):(re[x]=O,re[P]=te,x=P);else if(G<C&&0>i(de,te))re[x]=de,re[G]=te,x=G;else break e}}return ue}function i(re,ue){var te=re.sortIndex-ue.sortIndex;return te!==0?te:re.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var u=[],l=[],c=1,f=null,d=3,h=!1,p=!1,m=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(re){for(var ue=n(l);ue!==null;){if(ue.callback===null)r(l);else if(ue.startTime<=re)r(l),ue.sortIndex=ue.expirationTime,t(u,ue);else break;ue=n(l)}}function T(re){if(m=!1,b(re),!p)if(n(u)!==null)p=!0,oe(I);else{var ue=n(l);ue!==null&&ve(T,ue.startTime-re)}}function I(re,ue){p=!1,m&&(m=!1,g(A),A=-1),h=!0;var te=d;try{for(b(ue),f=n(u);f!==null&&(!(f.expirationTime>ue)||re&&!z());){var x=f.callback;if(typeof x=="function"){f.callback=null,d=f.priorityLevel;var C=x(f.expirationTime<=ue);ue=e.unstable_now(),typeof C=="function"?f.callback=C:f===n(u)&&r(u),b(ue)}else r(u);f=n(u)}if(f!==null)var j=!0;else{var P=n(l);P!==null&&ve(T,P.startTime-ue),j=!1}return j}finally{f=null,d=te,h=!1}}var E=!1,S=null,A=-1,L=5,Y=-1;function z(){return!(e.unstable_now()-Y<L)}function U(){if(S!==null){var re=e.unstable_now();Y=re;var ue=!0;try{ue=S(!0,re)}finally{ue?Z():(E=!1,S=null)}}else E=!1}var Z;if(typeof _=="function")Z=function(){_(U)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,le=V.port2;V.port1.onmessage=U,Z=function(){le.postMessage(null)}}else Z=function(){y(U,0)};function oe(re){S=re,E||(E=!0,Z())}function ve(re,ue){A=y(function(){re(e.unstable_now())},ue)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(re){re.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,oe(I))},e.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<re?Math.floor(1e3/re):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(re){switch(d){case 1:case 2:case 3:var ue=3;break;default:ue=d}var te=d;d=ue;try{return re()}finally{d=te}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(re,ue){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var te=d;d=re;try{return ue()}finally{d=te}},e.unstable_scheduleCallback=function(re,ue,te){var x=e.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?x+te:x):te=x,re){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=te+C,re={id:c++,callback:ue,priorityLevel:re,startTime:te,expirationTime:C,sortIndex:-1},te>x?(re.sortIndex=te,t(l,re),n(u)===null&&re===n(l)&&(m?(g(A),A=-1):m=!0,ve(T,te-x))):(re.sortIndex=C,t(u,re),p||h||(p=!0,oe(I))),re},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(re){var ue=d;return function(){var te=d;d=ue;try{return re.apply(this,arguments)}finally{d=te}}}})(P7);O7.exports=P7;var nue=O7.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R7=w,lo=nue;function $e(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var N7=new Set,Wg={};function zd(e,t){kp(e,t),kp(e+"Capture",t)}function kp(e,t){for(Wg[e]=t,e=0;e<t.length;e++)N7.add(t[e])}var pl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pO=Object.prototype.hasOwnProperty,rue=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Z6={},eL={};function iue(e){return pO.call(eL,e)?!0:pO.call(Z6,e)?!1:rue.test(e)?eL[e]=!0:(Z6[e]=!0,!1)}function sue(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function oue(e,t,n,r){if(t===null||typeof t>"u"||sue(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function cs(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var ki={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ki[e]=new cs(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ki[t]=new cs(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ki[e]=new cs(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ki[e]=new cs(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ki[e]=new cs(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ki[e]=new cs(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ki[e]=new cs(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ki[e]=new cs(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ki[e]=new cs(e,5,!1,e.toLowerCase(),null,!1,!1)});var BR=/[\-:]([a-z])/g;function jR(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(BR,jR);ki[t]=new cs(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(BR,jR);ki[t]=new cs(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(BR,jR);ki[t]=new cs(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ki[e]=new cs(e,1,!1,e.toLowerCase(),null,!1,!1)});ki.xlinkHref=new cs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ki[e]=new cs(e,1,!1,e.toLowerCase(),null,!0,!0)});function UR(e,t,n,r){var i=ki.hasOwnProperty(t)?ki[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(oue(t,n,i,r)&&(n=null),r||i===null?iue(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var $l=R7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,dv=Symbol.for("react.element"),Nh=Symbol.for("react.portal"),kh=Symbol.for("react.fragment"),VR=Symbol.for("react.strict_mode"),mO=Symbol.for("react.profiler"),k7=Symbol.for("react.provider"),D7=Symbol.for("react.context"),zR=Symbol.for("react.forward_ref"),gO=Symbol.for("react.suspense"),yO=Symbol.for("react.suspense_list"),HR=Symbol.for("react.memo"),nc=Symbol.for("react.lazy"),$7=Symbol.for("react.offscreen"),tL=Symbol.iterator;function u0(e){return e===null||typeof e!="object"?null:(e=tL&&e[tL]||e["@@iterator"],typeof e=="function"?e:null)}var mr=Object.assign,$x;function z0(e){if($x===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);$x=t&&t[1]||""}return`
`+$x+e}var Lx=!1;function Mx(e,t){if(!e||Lx)return"";Lx=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=a);break}}}finally{Lx=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z0(e):""}function aue(e){switch(e.tag){case 5:return z0(e.type);case 16:return z0("Lazy");case 13:return z0("Suspense");case 19:return z0("SuspenseList");case 0:case 2:case 15:return e=Mx(e.type,!1),e;case 11:return e=Mx(e.type.render,!1),e;case 1:return e=Mx(e.type,!0),e;default:return""}}function _O(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case kh:return"Fragment";case Nh:return"Portal";case mO:return"Profiler";case VR:return"StrictMode";case gO:return"Suspense";case yO:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case D7:return(e.displayName||"Context")+".Consumer";case k7:return(e._context.displayName||"Context")+".Provider";case zR:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case HR:return t=e.displayName||null,t!==null?t:_O(e.type)||"Memo";case nc:t=e._payload,e=e._init;try{return _O(e(t))}catch{}}return null}function uue(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _O(t);case 8:return t===VR?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Hc(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function L7(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function lue(e){var t=L7(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function hv(e){e._valueTracker||(e._valueTracker=lue(e))}function M7(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=L7(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function vb(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function vO(e,t){var n=t.checked;return mr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function nL(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Hc(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function F7(e,t){t=t.checked,t!=null&&UR(e,"checked",t,!1)}function bO(e,t){F7(e,t);var n=Hc(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?EO(e,t.type,n):t.hasOwnProperty("defaultValue")&&EO(e,t.type,Hc(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function rL(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function EO(e,t,n){(t!=="number"||vb(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var H0=Array.isArray;function rp(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Hc(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function wO(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error($e(91));return mr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function iL(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error($e(92));if(H0(n)){if(1<n.length)throw Error($e(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Hc(n)}}function B7(e,t){var n=Hc(t.value),r=Hc(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function sL(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function j7(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function TO(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?j7(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var pv,U7=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(pv=pv||document.createElement("div"),pv.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pv.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Yg(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var lg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cue=["Webkit","ms","Moz","O"];Object.keys(lg).forEach(function(e){cue.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),lg[t]=lg[e]})});function V7(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||lg.hasOwnProperty(e)&&lg[e]?(""+t).trim():t+"px"}function z7(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=V7(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var fue=mr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function SO(e,t){if(t){if(fue[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error($e(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error($e(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error($e(61))}if(t.style!=null&&typeof t.style!="object")throw Error($e(62))}}function IO(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xO=null;function qR(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var CO=null,ip=null,sp=null;function oL(e){if(e=l_(e)){if(typeof CO!="function")throw Error($e(280));var t=e.stateNode;t&&(t=tS(t),CO(e.stateNode,e.type,t))}}function H7(e){ip?sp?sp.push(e):sp=[e]:ip=e}function q7(){if(ip){var e=ip,t=sp;if(sp=ip=null,oL(e),t)for(e=0;e<t.length;e++)oL(t[e])}}function W7(e,t){return e(t)}function Y7(){}var Fx=!1;function G7(e,t,n){if(Fx)return e(t,n);Fx=!0;try{return W7(e,t,n)}finally{Fx=!1,(ip!==null||sp!==null)&&(Y7(),q7())}}function Gg(e,t){var n=e.stateNode;if(n===null)return null;var r=tS(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error($e(231,t,typeof n));return n}var AO=!1;if(pl)try{var l0={};Object.defineProperty(l0,"passive",{get:function(){AO=!0}}),window.addEventListener("test",l0,l0),window.removeEventListener("test",l0,l0)}catch{AO=!1}function due(e,t,n,r,i,s,o,a,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var cg=!1,bb=null,Eb=!1,OO=null,hue={onError:function(e){cg=!0,bb=e}};function pue(e,t,n,r,i,s,o,a,u){cg=!1,bb=null,due.apply(hue,arguments)}function mue(e,t,n,r,i,s,o,a,u){if(pue.apply(this,arguments),cg){if(cg){var l=bb;cg=!1,bb=null}else throw Error($e(198));Eb||(Eb=!0,OO=l)}}function Hd(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function K7(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function aL(e){if(Hd(e)!==e)throw Error($e(188))}function gue(e){var t=e.alternate;if(!t){if(t=Hd(e),t===null)throw Error($e(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return aL(i),e;if(s===r)return aL(i),t;s=s.sibling}throw Error($e(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error($e(189))}}if(n.alternate!==r)throw Error($e(190))}if(n.tag!==3)throw Error($e(188));return n.stateNode.current===n?e:t}function Q7(e){return e=gue(e),e!==null?X7(e):null}function X7(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=X7(e);if(t!==null)return t;e=e.sibling}return null}var J7=lo.unstable_scheduleCallback,uL=lo.unstable_cancelCallback,yue=lo.unstable_shouldYield,_ue=lo.unstable_requestPaint,Rr=lo.unstable_now,vue=lo.unstable_getCurrentPriorityLevel,WR=lo.unstable_ImmediatePriority,Z7=lo.unstable_UserBlockingPriority,wb=lo.unstable_NormalPriority,bue=lo.unstable_LowPriority,ez=lo.unstable_IdlePriority,XT=null,su=null;function Eue(e){if(su&&typeof su.onCommitFiberRoot=="function")try{su.onCommitFiberRoot(XT,e,void 0,(e.current.flags&128)===128)}catch{}}var _a=Math.clz32?Math.clz32:Sue,wue=Math.log,Tue=Math.LN2;function Sue(e){return e>>>=0,e===0?32:31-(wue(e)/Tue|0)|0}var mv=64,gv=4194304;function q0(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Tb(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=q0(a):(s&=o,s!==0&&(r=q0(s)))}else o=n&~i,o!==0?r=q0(o):s!==0&&(r=q0(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-_a(t),i=1<<n,r|=e[n],t&=~i;return r}function Iue(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xue(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-_a(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=Iue(a,t)):u<=t&&(e.expiredLanes|=a),s&=~a}}function PO(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function tz(){var e=mv;return mv<<=1,!(mv&4194240)&&(mv=64),e}function Bx(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function a_(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-_a(t),e[t]=n}function Cue(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-_a(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function YR(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-_a(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var On=0;function nz(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var rz,GR,iz,sz,oz,RO=!1,yv=[],Tc=null,Sc=null,Ic=null,Kg=new Map,Qg=new Map,uc=[],Aue="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lL(e,t){switch(e){case"focusin":case"focusout":Tc=null;break;case"dragenter":case"dragleave":Sc=null;break;case"mouseover":case"mouseout":Ic=null;break;case"pointerover":case"pointerout":Kg.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qg.delete(t.pointerId)}}function c0(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=l_(t),t!==null&&GR(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Oue(e,t,n,r,i){switch(t){case"focusin":return Tc=c0(Tc,e,t,n,r,i),!0;case"dragenter":return Sc=c0(Sc,e,t,n,r,i),!0;case"mouseover":return Ic=c0(Ic,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Kg.set(s,c0(Kg.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Qg.set(s,c0(Qg.get(s)||null,e,t,n,r,i)),!0}return!1}function az(e){var t=qf(e.target);if(t!==null){var n=Hd(t);if(n!==null){if(t=n.tag,t===13){if(t=K7(n),t!==null){e.blockedOn=t,oz(e.priority,function(){iz(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function P1(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=NO(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);xO=r,n.target.dispatchEvent(r),xO=null}else return t=l_(n),t!==null&&GR(t),e.blockedOn=n,!1;t.shift()}return!0}function cL(e,t,n){P1(e)&&n.delete(t)}function Pue(){RO=!1,Tc!==null&&P1(Tc)&&(Tc=null),Sc!==null&&P1(Sc)&&(Sc=null),Ic!==null&&P1(Ic)&&(Ic=null),Kg.forEach(cL),Qg.forEach(cL)}function f0(e,t){e.blockedOn===t&&(e.blockedOn=null,RO||(RO=!0,lo.unstable_scheduleCallback(lo.unstable_NormalPriority,Pue)))}function Xg(e){function t(i){return f0(i,e)}if(0<yv.length){f0(yv[0],e);for(var n=1;n<yv.length;n++){var r=yv[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Tc!==null&&f0(Tc,e),Sc!==null&&f0(Sc,e),Ic!==null&&f0(Ic,e),Kg.forEach(t),Qg.forEach(t),n=0;n<uc.length;n++)r=uc[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<uc.length&&(n=uc[0],n.blockedOn===null);)az(n),n.blockedOn===null&&uc.shift()}var op=$l.ReactCurrentBatchConfig,Sb=!0;function Rue(e,t,n,r){var i=On,s=op.transition;op.transition=null;try{On=1,KR(e,t,n,r)}finally{On=i,op.transition=s}}function Nue(e,t,n,r){var i=On,s=op.transition;op.transition=null;try{On=4,KR(e,t,n,r)}finally{On=i,op.transition=s}}function KR(e,t,n,r){if(Sb){var i=NO(e,t,n,r);if(i===null)Kx(e,t,r,Ib,n),lL(e,r);else if(Oue(i,e,t,n,r))r.stopPropagation();else if(lL(e,r),t&4&&-1<Aue.indexOf(e)){for(;i!==null;){var s=l_(i);if(s!==null&&rz(s),s=NO(e,t,n,r),s===null&&Kx(e,t,r,Ib,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Kx(e,t,r,null,n)}}var Ib=null;function NO(e,t,n,r){if(Ib=null,e=qR(r),e=qf(e),e!==null)if(t=Hd(e),t===null)e=null;else if(n=t.tag,n===13){if(e=K7(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ib=e,null}function uz(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vue()){case WR:return 1;case Z7:return 4;case wb:case bue:return 16;case ez:return 536870912;default:return 16}default:return 16}}var yc=null,QR=null,R1=null;function lz(){if(R1)return R1;var e,t=QR,n=t.length,r,i="value"in yc?yc.value:yc.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return R1=i.slice(e,1<r?1-r:void 0)}function N1(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function _v(){return!0}function fL(){return!1}function yo(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?_v:fL,this.isPropagationStopped=fL,this}return mr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_v)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_v)},persist:function(){},isPersistent:_v}),t}var Em={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},XR=yo(Em),u_=mr({},Em,{view:0,detail:0}),kue=yo(u_),jx,Ux,d0,JT=mr({},u_,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:JR,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==d0&&(d0&&e.type==="mousemove"?(jx=e.screenX-d0.screenX,Ux=e.screenY-d0.screenY):Ux=jx=0,d0=e),jx)},movementY:function(e){return"movementY"in e?e.movementY:Ux}}),dL=yo(JT),Due=mr({},JT,{dataTransfer:0}),$ue=yo(Due),Lue=mr({},u_,{relatedTarget:0}),Vx=yo(Lue),Mue=mr({},Em,{animationName:0,elapsedTime:0,pseudoElement:0}),Fue=yo(Mue),Bue=mr({},Em,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jue=yo(Bue),Uue=mr({},Em,{data:0}),hL=yo(Uue),Vue={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zue={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hue={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function que(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Hue[e])?!!t[e]:!1}function JR(){return que}var Wue=mr({},u_,{key:function(e){if(e.key){var t=Vue[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=N1(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?zue[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:JR,charCode:function(e){return e.type==="keypress"?N1(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?N1(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Yue=yo(Wue),Gue=mr({},JT,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pL=yo(Gue),Kue=mr({},u_,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:JR}),Que=yo(Kue),Xue=mr({},Em,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jue=yo(Xue),Zue=mr({},JT,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ele=yo(Zue),tle=[9,13,27,32],ZR=pl&&"CompositionEvent"in window,fg=null;pl&&"documentMode"in document&&(fg=document.documentMode);var nle=pl&&"TextEvent"in window&&!fg,cz=pl&&(!ZR||fg&&8<fg&&11>=fg),mL=" ",gL=!1;function fz(e,t){switch(e){case"keyup":return tle.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dz(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Dh=!1;function rle(e,t){switch(e){case"compositionend":return dz(t);case"keypress":return t.which!==32?null:(gL=!0,mL);case"textInput":return e=t.data,e===mL&&gL?null:e;default:return null}}function ile(e,t){if(Dh)return e==="compositionend"||!ZR&&fz(e,t)?(e=lz(),R1=QR=yc=null,Dh=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return cz&&t.locale!=="ko"?null:t.data;default:return null}}var sle={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yL(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!sle[e.type]:t==="textarea"}function hz(e,t,n,r){H7(r),t=xb(t,"onChange"),0<t.length&&(n=new XR("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var dg=null,Jg=null;function ole(e){Sz(e,0)}function ZT(e){var t=Mh(e);if(M7(t))return e}function ale(e,t){if(e==="change")return t}var pz=!1;if(pl){var zx;if(pl){var Hx="oninput"in document;if(!Hx){var _L=document.createElement("div");_L.setAttribute("oninput","return;"),Hx=typeof _L.oninput=="function"}zx=Hx}else zx=!1;pz=zx&&(!document.documentMode||9<document.documentMode)}function vL(){dg&&(dg.detachEvent("onpropertychange",mz),Jg=dg=null)}function mz(e){if(e.propertyName==="value"&&ZT(Jg)){var t=[];hz(t,Jg,e,qR(e)),G7(ole,t)}}function ule(e,t,n){e==="focusin"?(vL(),dg=t,Jg=n,dg.attachEvent("onpropertychange",mz)):e==="focusout"&&vL()}function lle(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ZT(Jg)}function cle(e,t){if(e==="click")return ZT(t)}function fle(e,t){if(e==="input"||e==="change")return ZT(t)}function dle(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var wa=typeof Object.is=="function"?Object.is:dle;function Zg(e,t){if(wa(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!pO.call(t,i)||!wa(e[i],t[i]))return!1}return!0}function bL(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function EL(e,t){var n=bL(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=bL(n)}}function gz(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?gz(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function yz(){for(var e=window,t=vb();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=vb(e.document)}return t}function eN(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function hle(e){var t=yz(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&gz(n.ownerDocument.documentElement,n)){if(r!==null&&eN(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=EL(n,s);var o=EL(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ple=pl&&"documentMode"in document&&11>=document.documentMode,$h=null,kO=null,hg=null,DO=!1;function wL(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;DO||$h==null||$h!==vb(r)||(r=$h,"selectionStart"in r&&eN(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),hg&&Zg(hg,r)||(hg=r,r=xb(kO,"onSelect"),0<r.length&&(t=new XR("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=$h)))}function vv(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Lh={animationend:vv("Animation","AnimationEnd"),animationiteration:vv("Animation","AnimationIteration"),animationstart:vv("Animation","AnimationStart"),transitionend:vv("Transition","TransitionEnd")},qx={},_z={};pl&&(_z=document.createElement("div").style,"AnimationEvent"in window||(delete Lh.animationend.animation,delete Lh.animationiteration.animation,delete Lh.animationstart.animation),"TransitionEvent"in window||delete Lh.transitionend.transition);function eS(e){if(qx[e])return qx[e];if(!Lh[e])return e;var t=Lh[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in _z)return qx[e]=t[n];return e}var vz=eS("animationend"),bz=eS("animationiteration"),Ez=eS("animationstart"),wz=eS("transitionend"),Tz=new Map,TL="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(e,t){Tz.set(e,t),zd(t,[e])}for(var Wx=0;Wx<TL.length;Wx++){var Yx=TL[Wx],mle=Yx.toLowerCase(),gle=Yx[0].toUpperCase()+Yx.slice(1);ff(mle,"on"+gle)}ff(vz,"onAnimationEnd");ff(bz,"onAnimationIteration");ff(Ez,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(wz,"onTransitionEnd");kp("onMouseEnter",["mouseout","mouseover"]);kp("onMouseLeave",["mouseout","mouseover"]);kp("onPointerEnter",["pointerout","pointerover"]);kp("onPointerLeave",["pointerout","pointerover"]);zd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zd("onBeforeInput",["compositionend","keypress","textInput","paste"]);zd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var W0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yle=new Set("cancel close invalid load scroll toggle".split(" ").concat(W0));function SL(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,mue(r,t,void 0,e),e.currentTarget=null}function Sz(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,l=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;SL(i,a,l),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,l=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;SL(i,a,l),s=u}}}if(Eb)throw e=OO,Eb=!1,OO=null,e}function Yn(e,t){var n=t[BO];n===void 0&&(n=t[BO]=new Set);var r=e+"__bubble";n.has(r)||(Iz(t,e,2,!1),n.add(r))}function Gx(e,t,n){var r=0;t&&(r|=4),Iz(n,e,r,t)}var bv="_reactListening"+Math.random().toString(36).slice(2);function ey(e){if(!e[bv]){e[bv]=!0,N7.forEach(function(n){n!=="selectionchange"&&(yle.has(n)||Gx(n,!1,e),Gx(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[bv]||(t[bv]=!0,Gx("selectionchange",!1,t))}}function Iz(e,t,n,r){switch(uz(t)){case 1:var i=Rue;break;case 4:i=Nue;break;default:i=KR}n=i.bind(null,t,n,e),i=void 0,!AO||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Kx(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=qf(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}G7(function(){var l=s,c=qR(n),f=[];e:{var d=Tz.get(e);if(d!==void 0){var h=XR,p=e;switch(e){case"keypress":if(N1(n)===0)break e;case"keydown":case"keyup":h=Yue;break;case"focusin":p="focus",h=Vx;break;case"focusout":p="blur",h=Vx;break;case"beforeblur":case"afterblur":h=Vx;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=dL;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=$ue;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=Que;break;case vz:case bz:case Ez:h=Fue;break;case wz:h=Jue;break;case"scroll":h=kue;break;case"wheel":h=ele;break;case"copy":case"cut":case"paste":h=jue;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=pL}var m=(t&4)!==0,y=!m&&e==="scroll",g=m?d!==null?d+"Capture":null:d;m=[];for(var _=l,b;_!==null;){b=_;var T=b.stateNode;if(b.tag===5&&T!==null&&(b=T,g!==null&&(T=Gg(_,g),T!=null&&m.push(ty(_,T,b)))),y)break;_=_.return}0<m.length&&(d=new h(d,p,null,n,c),f.push({event:d,listeners:m}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",d&&n!==xO&&(p=n.relatedTarget||n.fromElement)&&(qf(p)||p[ml]))break e;if((h||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=l,p=p?qf(p):null,p!==null&&(y=Hd(p),p!==y||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=l),h!==p)){if(m=dL,T="onMouseLeave",g="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(m=pL,T="onPointerLeave",g="onPointerEnter",_="pointer"),y=h==null?d:Mh(h),b=p==null?d:Mh(p),d=new m(T,_+"leave",h,n,c),d.target=y,d.relatedTarget=b,T=null,qf(c)===l&&(m=new m(g,_+"enter",p,n,c),m.target=b,m.relatedTarget=y,T=m),y=T,h&&p)t:{for(m=h,g=p,_=0,b=m;b;b=fh(b))_++;for(b=0,T=g;T;T=fh(T))b++;for(;0<_-b;)m=fh(m),_--;for(;0<b-_;)g=fh(g),b--;for(;_--;){if(m===g||g!==null&&m===g.alternate)break t;m=fh(m),g=fh(g)}m=null}else m=null;h!==null&&IL(f,d,h,m,!1),p!==null&&y!==null&&IL(f,y,p,m,!0)}}e:{if(d=l?Mh(l):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var I=ale;else if(yL(d))if(pz)I=fle;else{I=lle;var E=ule}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(I=cle);if(I&&(I=I(e,l))){hz(f,I,n,c);break e}E&&E(e,d,l),e==="focusout"&&(E=d._wrapperState)&&E.controlled&&d.type==="number"&&EO(d,"number",d.value)}switch(E=l?Mh(l):window,e){case"focusin":(yL(E)||E.contentEditable==="true")&&($h=E,kO=l,hg=null);break;case"focusout":hg=kO=$h=null;break;case"mousedown":DO=!0;break;case"contextmenu":case"mouseup":case"dragend":DO=!1,wL(f,n,c);break;case"selectionchange":if(ple)break;case"keydown":case"keyup":wL(f,n,c)}var S;if(ZR)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Dh?fz(e,n)&&(A="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(cz&&n.locale!=="ko"&&(Dh||A!=="onCompositionStart"?A==="onCompositionEnd"&&Dh&&(S=lz()):(yc=c,QR="value"in yc?yc.value:yc.textContent,Dh=!0)),E=xb(l,A),0<E.length&&(A=new hL(A,e,null,n,c),f.push({event:A,listeners:E}),S?A.data=S:(S=dz(n),S!==null&&(A.data=S)))),(S=nle?rle(e,n):ile(e,n))&&(l=xb(l,"onBeforeInput"),0<l.length&&(c=new hL("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:l}),c.data=S))}Sz(f,t)})}function ty(e,t,n){return{instance:e,listener:t,currentTarget:n}}function xb(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Gg(e,n),s!=null&&r.unshift(ty(e,s,i)),s=Gg(e,t),s!=null&&r.push(ty(e,s,i))),e=e.return}return r}function fh(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function IL(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,l=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&l!==null&&(a=l,i?(u=Gg(n,s),u!=null&&o.unshift(ty(n,u,a))):i||(u=Gg(n,s),u!=null&&o.push(ty(n,u,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var _le=/\r\n?/g,vle=/\u0000|\uFFFD/g;function xL(e){return(typeof e=="string"?e:""+e).replace(_le,`
`).replace(vle,"")}function Ev(e,t,n){if(t=xL(t),xL(e)!==t&&n)throw Error($e(425))}function Cb(){}var $O=null,LO=null;function MO(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var FO=typeof setTimeout=="function"?setTimeout:void 0,ble=typeof clearTimeout=="function"?clearTimeout:void 0,CL=typeof Promise=="function"?Promise:void 0,Ele=typeof queueMicrotask=="function"?queueMicrotask:typeof CL<"u"?function(e){return CL.resolve(null).then(e).catch(wle)}:FO;function wle(e){setTimeout(function(){throw e})}function Qx(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Xg(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Xg(t)}function xc(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function AL(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var wm=Math.random().toString(36).slice(2),qa="__reactFiber$"+wm,ny="__reactProps$"+wm,ml="__reactContainer$"+wm,BO="__reactEvents$"+wm,Tle="__reactListeners$"+wm,Sle="__reactHandles$"+wm;function qf(e){var t=e[qa];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ml]||n[qa]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=AL(e);e!==null;){if(n=e[qa])return n;e=AL(e)}return t}e=n,n=e.parentNode}return null}function l_(e){return e=e[qa]||e[ml],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Mh(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error($e(33))}function tS(e){return e[ny]||null}var jO=[],Fh=-1;function df(e){return{current:e}}function Xn(e){0>Fh||(e.current=jO[Fh],jO[Fh]=null,Fh--)}function Hn(e,t){Fh++,jO[Fh]=e.current,e.current=t}var qc={},Gi=df(qc),ks=df(!1),Ed=qc;function Dp(e,t){var n=e.type.contextTypes;if(!n)return qc;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ds(e){return e=e.childContextTypes,e!=null}function Ab(){Xn(ks),Xn(Gi)}function OL(e,t,n){if(Gi.current!==qc)throw Error($e(168));Hn(Gi,t),Hn(ks,n)}function xz(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error($e(108,uue(e)||"Unknown",i));return mr({},n,r)}function Ob(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||qc,Ed=Gi.current,Hn(Gi,e),Hn(ks,ks.current),!0}function PL(e,t,n){var r=e.stateNode;if(!r)throw Error($e(169));n?(e=xz(e,t,Ed),r.__reactInternalMemoizedMergedChildContext=e,Xn(ks),Xn(Gi),Hn(Gi,e)):Xn(ks),Hn(ks,n)}var Vu=null,nS=!1,Xx=!1;function Cz(e){Vu===null?Vu=[e]:Vu.push(e)}function Ile(e){nS=!0,Cz(e)}function hf(){if(!Xx&&Vu!==null){Xx=!0;var e=0,t=On;try{var n=Vu;for(On=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Vu=null,nS=!1}catch(i){throw Vu!==null&&(Vu=Vu.slice(e+1)),J7(WR,hf),i}finally{On=t,Xx=!1}}return null}var Bh=[],jh=0,Pb=null,Rb=0,Co=[],Ao=0,wd=null,Ku=1,Qu="";function Pf(e,t){Bh[jh++]=Rb,Bh[jh++]=Pb,Pb=e,Rb=t}function Az(e,t,n){Co[Ao++]=Ku,Co[Ao++]=Qu,Co[Ao++]=wd,wd=e;var r=Ku;e=Qu;var i=32-_a(r)-1;r&=~(1<<i),n+=1;var s=32-_a(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ku=1<<32-_a(t)+i|n<<i|r,Qu=s+e}else Ku=1<<s|n<<i|r,Qu=e}function tN(e){e.return!==null&&(Pf(e,1),Az(e,1,0))}function nN(e){for(;e===Pb;)Pb=Bh[--jh],Bh[jh]=null,Rb=Bh[--jh],Bh[jh]=null;for(;e===wd;)wd=Co[--Ao],Co[Ao]=null,Qu=Co[--Ao],Co[Ao]=null,Ku=Co[--Ao],Co[Ao]=null}var so=null,no=null,sr=!1,ca=null;function Oz(e,t){var n=Lo(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function RL(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,so=e,no=xc(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,so=e,no=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=wd!==null?{id:Ku,overflow:Qu}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Lo(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,so=e,no=null,!0):!1;default:return!1}}function UO(e){return(e.mode&1)!==0&&(e.flags&128)===0}function VO(e){if(sr){var t=no;if(t){var n=t;if(!RL(e,t)){if(UO(e))throw Error($e(418));t=xc(n.nextSibling);var r=so;t&&RL(e,t)?Oz(r,n):(e.flags=e.flags&-4097|2,sr=!1,so=e)}}else{if(UO(e))throw Error($e(418));e.flags=e.flags&-4097|2,sr=!1,so=e}}}function NL(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;so=e}function wv(e){if(e!==so)return!1;if(!sr)return NL(e),sr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!MO(e.type,e.memoizedProps)),t&&(t=no)){if(UO(e))throw Pz(),Error($e(418));for(;t;)Oz(e,t),t=xc(t.nextSibling)}if(NL(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($e(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){no=xc(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}no=null}}else no=so?xc(e.stateNode.nextSibling):null;return!0}function Pz(){for(var e=no;e;)e=xc(e.nextSibling)}function $p(){no=so=null,sr=!1}function rN(e){ca===null?ca=[e]:ca.push(e)}var xle=$l.ReactCurrentBatchConfig;function aa(e,t){if(e&&e.defaultProps){t=mr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Nb=df(null),kb=null,Uh=null,iN=null;function sN(){iN=Uh=kb=null}function oN(e){var t=Nb.current;Xn(Nb),e._currentValue=t}function zO(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ap(e,t){kb=e,iN=Uh=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Os=!0),e.firstContext=null)}function jo(e){var t=e._currentValue;if(iN!==e)if(e={context:e,memoizedValue:t,next:null},Uh===null){if(kb===null)throw Error($e(308));Uh=e,kb.dependencies={lanes:0,firstContext:e}}else Uh=Uh.next=e;return t}var Wf=null;function aN(e){Wf===null?Wf=[e]:Wf.push(e)}function Rz(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,aN(t)):(n.next=i.next,i.next=n),t.interleaved=n,gl(e,r)}function gl(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var rc=!1;function uN(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Nz(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function sl(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Cc(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,dn&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,gl(e,n)}return i=r.interleaved,i===null?(t.next=t,aN(r)):(t.next=i.next,i.next=t),r.interleaved=t,gl(e,n)}function k1(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,YR(e,n)}}function kL(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Db(e,t,n,r){var i=e.updateQueue;rc=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,l=u.next;u.next=null,o===null?s=l:o.next=l,o=u;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=l:a.next=l,c.lastBaseUpdate=u))}if(s!==null){var f=i.baseState;o=0,c=l=u=null,a=s;do{var d=a.lane,h=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(d=t,h=n,m.tag){case 1:if(p=m.payload,typeof p=="function"){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,d=typeof p=="function"?p.call(h,f,d):p,d==null)break e;f=mr({},f,d);break e;case 2:rc=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else h={eventTime:h,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(l=c=h,u=f):c=c.next=h,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(u=f),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Sd|=o,e.lanes=o,e.memoizedState=f}}function DL(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error($e(191,i));i.call(r)}}}var kz=new R7.Component().refs;function HO(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:mr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var rS={isMounted:function(e){return(e=e._reactInternals)?Hd(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=os(),i=Oc(e),s=sl(r,i);s.payload=t,n!=null&&(s.callback=n),t=Cc(e,s,i),t!==null&&(va(t,e,i,r),k1(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=os(),i=Oc(e),s=sl(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Cc(e,s,i),t!==null&&(va(t,e,i,r),k1(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=os(),r=Oc(e),i=sl(n,r);i.tag=2,t!=null&&(i.callback=t),t=Cc(e,i,r),t!==null&&(va(t,e,r,n),k1(t,e,r))}};function $L(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Zg(n,r)||!Zg(i,s):!0}function Dz(e,t,n){var r=!1,i=qc,s=t.contextType;return typeof s=="object"&&s!==null?s=jo(s):(i=Ds(t)?Ed:Gi.current,r=t.contextTypes,s=(r=r!=null)?Dp(e,i):qc),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=rS,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function LL(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&rS.enqueueReplaceState(t,t.state,null)}function qO(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=kz,uN(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=jo(s):(s=Ds(t)?Ed:Gi.current,i.context=Dp(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(HO(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&rS.enqueueReplaceState(i,i.state,null),Db(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function h0(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($e(309));var r=n.stateNode}if(!r)throw Error($e(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;a===kz&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error($e(284));if(!n._owner)throw Error($e(290,e))}return e}function Tv(e,t){throw e=Object.prototype.toString.call(t),Error($e(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ML(e){var t=e._init;return t(e._payload)}function $z(e){function t(g,_){if(e){var b=g.deletions;b===null?(g.deletions=[_],g.flags|=16):b.push(_)}}function n(g,_){if(!e)return null;for(;_!==null;)t(g,_),_=_.sibling;return null}function r(g,_){for(g=new Map;_!==null;)_.key!==null?g.set(_.key,_):g.set(_.index,_),_=_.sibling;return g}function i(g,_){return g=Pc(g,_),g.index=0,g.sibling=null,g}function s(g,_,b){return g.index=b,e?(b=g.alternate,b!==null?(b=b.index,b<_?(g.flags|=2,_):b):(g.flags|=2,_)):(g.flags|=1048576,_)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,_,b,T){return _===null||_.tag!==6?(_=iC(b,g.mode,T),_.return=g,_):(_=i(_,b),_.return=g,_)}function u(g,_,b,T){var I=b.type;return I===kh?c(g,_,b.props.children,T,b.key):_!==null&&(_.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===nc&&ML(I)===_.type)?(T=i(_,b.props),T.ref=h0(g,_,b),T.return=g,T):(T=B1(b.type,b.key,b.props,null,g.mode,T),T.ref=h0(g,_,b),T.return=g,T)}function l(g,_,b,T){return _===null||_.tag!==4||_.stateNode.containerInfo!==b.containerInfo||_.stateNode.implementation!==b.implementation?(_=sC(b,g.mode,T),_.return=g,_):(_=i(_,b.children||[]),_.return=g,_)}function c(g,_,b,T,I){return _===null||_.tag!==7?(_=cd(b,g.mode,T,I),_.return=g,_):(_=i(_,b),_.return=g,_)}function f(g,_,b){if(typeof _=="string"&&_!==""||typeof _=="number")return _=iC(""+_,g.mode,b),_.return=g,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case dv:return b=B1(_.type,_.key,_.props,null,g.mode,b),b.ref=h0(g,null,_),b.return=g,b;case Nh:return _=sC(_,g.mode,b),_.return=g,_;case nc:var T=_._init;return f(g,T(_._payload),b)}if(H0(_)||u0(_))return _=cd(_,g.mode,b,null),_.return=g,_;Tv(g,_)}return null}function d(g,_,b,T){var I=_!==null?_.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return I!==null?null:a(g,_,""+b,T);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case dv:return b.key===I?u(g,_,b,T):null;case Nh:return b.key===I?l(g,_,b,T):null;case nc:return I=b._init,d(g,_,I(b._payload),T)}if(H0(b)||u0(b))return I!==null?null:c(g,_,b,T,null);Tv(g,b)}return null}function h(g,_,b,T,I){if(typeof T=="string"&&T!==""||typeof T=="number")return g=g.get(b)||null,a(_,g,""+T,I);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case dv:return g=g.get(T.key===null?b:T.key)||null,u(_,g,T,I);case Nh:return g=g.get(T.key===null?b:T.key)||null,l(_,g,T,I);case nc:var E=T._init;return h(g,_,b,E(T._payload),I)}if(H0(T)||u0(T))return g=g.get(b)||null,c(_,g,T,I,null);Tv(_,T)}return null}function p(g,_,b,T){for(var I=null,E=null,S=_,A=_=0,L=null;S!==null&&A<b.length;A++){S.index>A?(L=S,S=null):L=S.sibling;var Y=d(g,S,b[A],T);if(Y===null){S===null&&(S=L);break}e&&S&&Y.alternate===null&&t(g,S),_=s(Y,_,A),E===null?I=Y:E.sibling=Y,E=Y,S=L}if(A===b.length)return n(g,S),sr&&Pf(g,A),I;if(S===null){for(;A<b.length;A++)S=f(g,b[A],T),S!==null&&(_=s(S,_,A),E===null?I=S:E.sibling=S,E=S);return sr&&Pf(g,A),I}for(S=r(g,S);A<b.length;A++)L=h(S,g,A,b[A],T),L!==null&&(e&&L.alternate!==null&&S.delete(L.key===null?A:L.key),_=s(L,_,A),E===null?I=L:E.sibling=L,E=L);return e&&S.forEach(function(z){return t(g,z)}),sr&&Pf(g,A),I}function m(g,_,b,T){var I=u0(b);if(typeof I!="function")throw Error($e(150));if(b=I.call(b),b==null)throw Error($e(151));for(var E=I=null,S=_,A=_=0,L=null,Y=b.next();S!==null&&!Y.done;A++,Y=b.next()){S.index>A?(L=S,S=null):L=S.sibling;var z=d(g,S,Y.value,T);if(z===null){S===null&&(S=L);break}e&&S&&z.alternate===null&&t(g,S),_=s(z,_,A),E===null?I=z:E.sibling=z,E=z,S=L}if(Y.done)return n(g,S),sr&&Pf(g,A),I;if(S===null){for(;!Y.done;A++,Y=b.next())Y=f(g,Y.value,T),Y!==null&&(_=s(Y,_,A),E===null?I=Y:E.sibling=Y,E=Y);return sr&&Pf(g,A),I}for(S=r(g,S);!Y.done;A++,Y=b.next())Y=h(S,g,A,Y.value,T),Y!==null&&(e&&Y.alternate!==null&&S.delete(Y.key===null?A:Y.key),_=s(Y,_,A),E===null?I=Y:E.sibling=Y,E=Y);return e&&S.forEach(function(U){return t(g,U)}),sr&&Pf(g,A),I}function y(g,_,b,T){if(typeof b=="object"&&b!==null&&b.type===kh&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case dv:e:{for(var I=b.key,E=_;E!==null;){if(E.key===I){if(I=b.type,I===kh){if(E.tag===7){n(g,E.sibling),_=i(E,b.props.children),_.return=g,g=_;break e}}else if(E.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===nc&&ML(I)===E.type){n(g,E.sibling),_=i(E,b.props),_.ref=h0(g,E,b),_.return=g,g=_;break e}n(g,E);break}else t(g,E);E=E.sibling}b.type===kh?(_=cd(b.props.children,g.mode,T,b.key),_.return=g,g=_):(T=B1(b.type,b.key,b.props,null,g.mode,T),T.ref=h0(g,_,b),T.return=g,g=T)}return o(g);case Nh:e:{for(E=b.key;_!==null;){if(_.key===E)if(_.tag===4&&_.stateNode.containerInfo===b.containerInfo&&_.stateNode.implementation===b.implementation){n(g,_.sibling),_=i(_,b.children||[]),_.return=g,g=_;break e}else{n(g,_);break}else t(g,_);_=_.sibling}_=sC(b,g.mode,T),_.return=g,g=_}return o(g);case nc:return E=b._init,y(g,_,E(b._payload),T)}if(H0(b))return p(g,_,b,T);if(u0(b))return m(g,_,b,T);Tv(g,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,_!==null&&_.tag===6?(n(g,_.sibling),_=i(_,b),_.return=g,g=_):(n(g,_),_=iC(b,g.mode,T),_.return=g,g=_),o(g)):n(g,_)}return y}var Lp=$z(!0),Lz=$z(!1),c_={},ou=df(c_),ry=df(c_),iy=df(c_);function Yf(e){if(e===c_)throw Error($e(174));return e}function lN(e,t){switch(Hn(iy,t),Hn(ry,e),Hn(ou,c_),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:TO(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=TO(t,e)}Xn(ou),Hn(ou,t)}function Mp(){Xn(ou),Xn(ry),Xn(iy)}function Mz(e){Yf(iy.current);var t=Yf(ou.current),n=TO(t,e.type);t!==n&&(Hn(ry,e),Hn(ou,n))}function cN(e){ry.current===e&&(Xn(ou),Xn(ry))}var hr=df(0);function $b(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Jx=[];function fN(){for(var e=0;e<Jx.length;e++)Jx[e]._workInProgressVersionPrimary=null;Jx.length=0}var D1=$l.ReactCurrentDispatcher,Zx=$l.ReactCurrentBatchConfig,Td=0,pr=null,qr=null,ai=null,Lb=!1,pg=!1,sy=0,Cle=0;function Li(){throw Error($e(321))}function dN(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!wa(e[n],t[n]))return!1;return!0}function hN(e,t,n,r,i,s){if(Td=s,pr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D1.current=e===null||e.memoizedState===null?Rle:Nle,e=n(r,i),pg){s=0;do{if(pg=!1,sy=0,25<=s)throw Error($e(301));s+=1,ai=qr=null,t.updateQueue=null,D1.current=kle,e=n(r,i)}while(pg)}if(D1.current=Mb,t=qr!==null&&qr.next!==null,Td=0,ai=qr=pr=null,Lb=!1,t)throw Error($e(300));return e}function pN(){var e=sy!==0;return sy=0,e}function La(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ai===null?pr.memoizedState=ai=e:ai=ai.next=e,ai}function Uo(){if(qr===null){var e=pr.alternate;e=e!==null?e.memoizedState:null}else e=qr.next;var t=ai===null?pr.memoizedState:ai.next;if(t!==null)ai=t,qr=e;else{if(e===null)throw Error($e(310));qr=e,e={memoizedState:qr.memoizedState,baseState:qr.baseState,baseQueue:qr.baseQueue,queue:qr.queue,next:null},ai===null?pr.memoizedState=ai=e:ai=ai.next=e}return ai}function oy(e,t){return typeof t=="function"?t(e):t}function eC(e){var t=Uo(),n=t.queue;if(n===null)throw Error($e(311));n.lastRenderedReducer=e;var r=qr,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,l=s;do{var c=l.lane;if((Td&c)===c)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var f={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(a=u=f,o=r):u=u.next=f,pr.lanes|=c,Sd|=c}l=l.next}while(l!==null&&l!==s);u===null?o=r:u.next=a,wa(r,t.memoizedState)||(Os=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,pr.lanes|=s,Sd|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function tC(e){var t=Uo(),n=t.queue;if(n===null)throw Error($e(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);wa(s,t.memoizedState)||(Os=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Fz(){}function Bz(e,t){var n=pr,r=Uo(),i=t(),s=!wa(r.memoizedState,i);if(s&&(r.memoizedState=i,Os=!0),r=r.queue,mN(Vz.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||ai!==null&&ai.memoizedState.tag&1){if(n.flags|=2048,ay(9,Uz.bind(null,n,r,i,t),void 0,null),ci===null)throw Error($e(349));Td&30||jz(n,t,i)}return i}function jz(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=pr.updateQueue,t===null?(t={lastEffect:null,stores:null},pr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Uz(e,t,n,r){t.value=n,t.getSnapshot=r,zz(t)&&Hz(e)}function Vz(e,t,n){return n(function(){zz(t)&&Hz(e)})}function zz(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!wa(e,n)}catch{return!0}}function Hz(e){var t=gl(e,1);t!==null&&va(t,e,1,-1)}function FL(e){var t=La();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:oy,lastRenderedState:e},t.queue=e,e=e.dispatch=Ple.bind(null,pr,e),[t.memoizedState,e]}function ay(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=pr.updateQueue,t===null?(t={lastEffect:null,stores:null},pr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function qz(){return Uo().memoizedState}function $1(e,t,n,r){var i=La();pr.flags|=e,i.memoizedState=ay(1|t,n,void 0,r===void 0?null:r)}function iS(e,t,n,r){var i=Uo();r=r===void 0?null:r;var s=void 0;if(qr!==null){var o=qr.memoizedState;if(s=o.destroy,r!==null&&dN(r,o.deps)){i.memoizedState=ay(t,n,s,r);return}}pr.flags|=e,i.memoizedState=ay(1|t,n,s,r)}function BL(e,t){return $1(8390656,8,e,t)}function mN(e,t){return iS(2048,8,e,t)}function Wz(e,t){return iS(4,2,e,t)}function Yz(e,t){return iS(4,4,e,t)}function Gz(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Kz(e,t,n){return n=n!=null?n.concat([e]):null,iS(4,4,Gz.bind(null,t,e),n)}function gN(){}function Qz(e,t){var n=Uo();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&dN(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xz(e,t){var n=Uo();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&dN(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jz(e,t,n){return Td&21?(wa(n,t)||(n=tz(),pr.lanes|=n,Sd|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Os=!0),e.memoizedState=n)}function Ale(e,t){var n=On;On=n!==0&&4>n?n:4,e(!0);var r=Zx.transition;Zx.transition={};try{e(!1),t()}finally{On=n,Zx.transition=r}}function Zz(){return Uo().memoizedState}function Ole(e,t,n){var r=Oc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},eH(e))tH(t,n);else if(n=Rz(e,t,n,r),n!==null){var i=os();va(n,e,r,i),nH(n,t,r)}}function Ple(e,t,n){var r=Oc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(eH(e))tH(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,wa(a,o)){var u=t.interleaved;u===null?(i.next=i,aN(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}n=Rz(e,t,i,r),n!==null&&(i=os(),va(n,e,r,i),nH(n,t,r))}}function eH(e){var t=e.alternate;return e===pr||t!==null&&t===pr}function tH(e,t){pg=Lb=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function nH(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,YR(e,n)}}var Mb={readContext:jo,useCallback:Li,useContext:Li,useEffect:Li,useImperativeHandle:Li,useInsertionEffect:Li,useLayoutEffect:Li,useMemo:Li,useReducer:Li,useRef:Li,useState:Li,useDebugValue:Li,useDeferredValue:Li,useTransition:Li,useMutableSource:Li,useSyncExternalStore:Li,useId:Li,unstable_isNewReconciler:!1},Rle={readContext:jo,useCallback:function(e,t){return La().memoizedState=[e,t===void 0?null:t],e},useContext:jo,useEffect:BL,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,$1(4194308,4,Gz.bind(null,t,e),n)},useLayoutEffect:function(e,t){return $1(4194308,4,e,t)},useInsertionEffect:function(e,t){return $1(4,2,e,t)},useMemo:function(e,t){var n=La();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=La();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ole.bind(null,pr,e),[r.memoizedState,e]},useRef:function(e){var t=La();return e={current:e},t.memoizedState=e},useState:FL,useDebugValue:gN,useDeferredValue:function(e){return La().memoizedState=e},useTransition:function(){var e=FL(!1),t=e[0];return e=Ale.bind(null,e[1]),La().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=pr,i=La();if(sr){if(n===void 0)throw Error($e(407));n=n()}else{if(n=t(),ci===null)throw Error($e(349));Td&30||jz(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,BL(Vz.bind(null,r,s,e),[e]),r.flags|=2048,ay(9,Uz.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=La(),t=ci.identifierPrefix;if(sr){var n=Qu,r=Ku;n=(r&~(1<<32-_a(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=sy++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Cle++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Nle={readContext:jo,useCallback:Qz,useContext:jo,useEffect:mN,useImperativeHandle:Kz,useInsertionEffect:Wz,useLayoutEffect:Yz,useMemo:Xz,useReducer:eC,useRef:qz,useState:function(){return eC(oy)},useDebugValue:gN,useDeferredValue:function(e){var t=Uo();return Jz(t,qr.memoizedState,e)},useTransition:function(){var e=eC(oy)[0],t=Uo().memoizedState;return[e,t]},useMutableSource:Fz,useSyncExternalStore:Bz,useId:Zz,unstable_isNewReconciler:!1},kle={readContext:jo,useCallback:Qz,useContext:jo,useEffect:mN,useImperativeHandle:Kz,useInsertionEffect:Wz,useLayoutEffect:Yz,useMemo:Xz,useReducer:tC,useRef:qz,useState:function(){return tC(oy)},useDebugValue:gN,useDeferredValue:function(e){var t=Uo();return qr===null?t.memoizedState=e:Jz(t,qr.memoizedState,e)},useTransition:function(){var e=tC(oy)[0],t=Uo().memoizedState;return[e,t]},useMutableSource:Fz,useSyncExternalStore:Bz,useId:Zz,unstable_isNewReconciler:!1};function Fp(e,t){try{var n="",r=t;do n+=aue(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function nC(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function WO(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Dle=typeof WeakMap=="function"?WeakMap:Map;function rH(e,t,n){n=sl(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Bb||(Bb=!0,nP=r),WO(e,t)},n}function iH(e,t,n){n=sl(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){WO(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){WO(e,t),typeof r!="function"&&(Ac===null?Ac=new Set([this]):Ac.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function jL(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Dle;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Gle.bind(null,e,t,n),t.then(e,e))}function UL(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function VL(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=sl(-1,1),t.tag=2,Cc(n,t,1))),n.lanes|=1),e)}var $le=$l.ReactCurrentOwner,Os=!1;function is(e,t,n,r){t.child=e===null?Lz(t,null,n,r):Lp(t,e.child,n,r)}function zL(e,t,n,r,i){n=n.render;var s=t.ref;return ap(t,i),r=hN(e,t,n,r,s,i),n=pN(),e!==null&&!Os?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,yl(e,t,i)):(sr&&n&&tN(t),t.flags|=1,is(e,t,r,i),t.child)}function HL(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!SN(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,sH(e,t,s,r,i)):(e=B1(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Zg,n(o,r)&&e.ref===t.ref)return yl(e,t,i)}return t.flags|=1,e=Pc(s,r),e.ref=t.ref,e.return=t,t.child=e}function sH(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Zg(s,r)&&e.ref===t.ref)if(Os=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Os=!0);else return t.lanes=e.lanes,yl(e,t,i)}return YO(e,t,n,r,i)}function oH(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Hn(zh,Qs),Qs|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Hn(zh,Qs),Qs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Hn(zh,Qs),Qs|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Hn(zh,Qs),Qs|=r;return is(e,t,i,n),t.child}function aH(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function YO(e,t,n,r,i){var s=Ds(n)?Ed:Gi.current;return s=Dp(t,s),ap(t,i),n=hN(e,t,n,r,s,i),r=pN(),e!==null&&!Os?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,yl(e,t,i)):(sr&&r&&tN(t),t.flags|=1,is(e,t,n,i),t.child)}function qL(e,t,n,r,i){if(Ds(n)){var s=!0;Ob(t)}else s=!1;if(ap(t,i),t.stateNode===null)L1(e,t),Dz(t,n,r),qO(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var u=o.context,l=n.contextType;typeof l=="object"&&l!==null?l=jo(l):(l=Ds(n)?Ed:Gi.current,l=Dp(t,l));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==l)&&LL(t,o,r,l),rc=!1;var d=t.memoizedState;o.state=d,Db(t,r,o,i),u=t.memoizedState,a!==r||d!==u||ks.current||rc?(typeof c=="function"&&(HO(t,n,c,r),u=t.memoizedState),(a=rc||$L(t,n,a,r,d,u,l))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Nz(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:aa(t.type,a),o.props=l,f=t.pendingProps,d=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=jo(u):(u=Ds(n)?Ed:Gi.current,u=Dp(t,u));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||d!==u)&&LL(t,o,r,u),rc=!1,d=t.memoizedState,o.state=d,Db(t,r,o,i);var p=t.memoizedState;a!==f||d!==p||ks.current||rc?(typeof h=="function"&&(HO(t,n,h,r),p=t.memoizedState),(l=rc||$L(t,n,l,r,d,p,u)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=l):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return GO(e,t,n,r,s,i)}function GO(e,t,n,r,i,s){aH(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&PL(t,n,!1),yl(e,t,s);r=t.stateNode,$le.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Lp(t,e.child,null,s),t.child=Lp(t,null,a,s)):is(e,t,a,s),t.memoizedState=r.state,i&&PL(t,n,!0),t.child}function uH(e){var t=e.stateNode;t.pendingContext?OL(e,t.pendingContext,t.pendingContext!==t.context):t.context&&OL(e,t.context,!1),lN(e,t.containerInfo)}function WL(e,t,n,r,i){return $p(),rN(i),t.flags|=256,is(e,t,n,r),t.child}var KO={dehydrated:null,treeContext:null,retryLane:0};function QO(e){return{baseLanes:e,cachePool:null,transitions:null}}function lH(e,t,n){var r=t.pendingProps,i=hr.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Hn(hr,i&1),e===null)return VO(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=aS(o,r,0,null),e=cd(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=QO(n),t.memoizedState=KO,e):yN(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Lle(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Pc(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Pc(a,s):(s=cd(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?QO(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=KO,r}return s=e.child,e=s.sibling,r=Pc(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function yN(e,t){return t=aS({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Sv(e,t,n,r){return r!==null&&rN(r),Lp(t,e.child,null,n),e=yN(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Lle(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=nC(Error($e(422))),Sv(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=aS({mode:"visible",children:r.children},i,0,null),s=cd(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Lp(t,e.child,null,o),t.child.memoizedState=QO(o),t.memoizedState=KO,s);if(!(t.mode&1))return Sv(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error($e(419)),r=nC(s,r,void 0),Sv(e,t,o,r)}if(a=(o&e.childLanes)!==0,Os||a){if(r=ci,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,gl(e,i),va(r,e,i,-1))}return TN(),r=nC(Error($e(421))),Sv(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Kle.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,no=xc(i.nextSibling),so=t,sr=!0,ca=null,e!==null&&(Co[Ao++]=Ku,Co[Ao++]=Qu,Co[Ao++]=wd,Ku=e.id,Qu=e.overflow,wd=t),t=yN(t,r.children),t.flags|=4096,t)}function YL(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),zO(e.return,t,n)}function rC(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function cH(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(is(e,t,r.children,n),r=hr.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&YL(e,n,t);else if(e.tag===19)YL(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Hn(hr,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&$b(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rC(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&$b(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rC(t,!0,n,null,s);break;case"together":rC(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function L1(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function yl(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Sd|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error($e(153));if(t.child!==null){for(e=t.child,n=Pc(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Pc(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Mle(e,t,n){switch(t.tag){case 3:uH(t),$p();break;case 5:Mz(t);break;case 1:Ds(t.type)&&Ob(t);break;case 4:lN(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Hn(Nb,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Hn(hr,hr.current&1),t.flags|=128,null):n&t.child.childLanes?lH(e,t,n):(Hn(hr,hr.current&1),e=yl(e,t,n),e!==null?e.sibling:null);Hn(hr,hr.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return cH(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Hn(hr,hr.current),r)break;return null;case 22:case 23:return t.lanes=0,oH(e,t,n)}return yl(e,t,n)}var fH,XO,dH,hH;fH=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};XO=function(){};dH=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Yf(ou.current);var s=null;switch(n){case"input":i=vO(e,i),r=vO(e,r),s=[];break;case"select":i=mr({},i,{value:void 0}),r=mr({},r,{value:void 0}),s=[];break;case"textarea":i=wO(e,i),r=wO(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Cb)}SO(n,r);var o;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Wg.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in r){var u=r[l];if(a=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&u!==a&&(u!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(l,n)),n=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Wg.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&Yn("scroll",e),s||a===u||(s=[])):(s=s||[]).push(l,u))}n&&(s=s||[]).push("style",n);var l=s;(t.updateQueue=l)&&(t.flags|=4)}};hH=function(e,t,n,r){n!==r&&(t.flags|=4)};function p0(e,t){if(!sr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Mi(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Fle(e,t,n){var r=t.pendingProps;switch(nN(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mi(t),null;case 1:return Ds(t.type)&&Ab(),Mi(t),null;case 3:return r=t.stateNode,Mp(),Xn(ks),Xn(Gi),fN(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(wv(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ca!==null&&(sP(ca),ca=null))),XO(e,t),Mi(t),null;case 5:cN(t);var i=Yf(iy.current);if(n=t.type,e!==null&&t.stateNode!=null)dH(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error($e(166));return Mi(t),null}if(e=Yf(ou.current),wv(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[qa]=t,r[ny]=s,e=(t.mode&1)!==0,n){case"dialog":Yn("cancel",r),Yn("close",r);break;case"iframe":case"object":case"embed":Yn("load",r);break;case"video":case"audio":for(i=0;i<W0.length;i++)Yn(W0[i],r);break;case"source":Yn("error",r);break;case"img":case"image":case"link":Yn("error",r),Yn("load",r);break;case"details":Yn("toggle",r);break;case"input":nL(r,s),Yn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Yn("invalid",r);break;case"textarea":iL(r,s),Yn("invalid",r)}SO(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Ev(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Ev(r.textContent,a,e),i=["children",""+a]):Wg.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Yn("scroll",r)}switch(n){case"input":hv(r),rL(r,s,!0);break;case"textarea":hv(r),sL(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Cb)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=j7(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[qa]=t,e[ny]=r,fH(e,t,!1,!1),t.stateNode=e;e:{switch(o=IO(n,r),n){case"dialog":Yn("cancel",e),Yn("close",e),i=r;break;case"iframe":case"object":case"embed":Yn("load",e),i=r;break;case"video":case"audio":for(i=0;i<W0.length;i++)Yn(W0[i],e);i=r;break;case"source":Yn("error",e),i=r;break;case"img":case"image":case"link":Yn("error",e),Yn("load",e),i=r;break;case"details":Yn("toggle",e),i=r;break;case"input":nL(e,r),i=vO(e,r),Yn("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=mr({},r,{value:void 0}),Yn("invalid",e);break;case"textarea":iL(e,r),i=wO(e,r),Yn("invalid",e);break;default:i=r}SO(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?z7(e,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&U7(e,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Yg(e,u):typeof u=="number"&&Yg(e,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Wg.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Yn("scroll",e):u!=null&&UR(e,s,u,o))}switch(n){case"input":hv(e),rL(e,r,!1);break;case"textarea":hv(e),sL(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Hc(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?rp(e,!!r.multiple,s,!1):r.defaultValue!=null&&rp(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Cb)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Mi(t),null;case 6:if(e&&t.stateNode!=null)hH(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error($e(166));if(n=Yf(iy.current),Yf(ou.current),wv(t)){if(r=t.stateNode,n=t.memoizedProps,r[qa]=t,(s=r.nodeValue!==n)&&(e=so,e!==null))switch(e.tag){case 3:Ev(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ev(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qa]=t,t.stateNode=r}return Mi(t),null;case 13:if(Xn(hr),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(sr&&no!==null&&t.mode&1&&!(t.flags&128))Pz(),$p(),t.flags|=98560,s=!1;else if(s=wv(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error($e(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error($e(317));s[qa]=t}else $p(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Mi(t),s=!1}else ca!==null&&(sP(ca),ca=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||hr.current&1?Kr===0&&(Kr=3):TN())),t.updateQueue!==null&&(t.flags|=4),Mi(t),null);case 4:return Mp(),XO(e,t),e===null&&ey(t.stateNode.containerInfo),Mi(t),null;case 10:return oN(t.type._context),Mi(t),null;case 17:return Ds(t.type)&&Ab(),Mi(t),null;case 19:if(Xn(hr),s=t.memoizedState,s===null)return Mi(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)p0(s,!1);else{if(Kr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=$b(e),o!==null){for(t.flags|=128,p0(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Hn(hr,hr.current&1|2),t.child}e=e.sibling}s.tail!==null&&Rr()>Bp&&(t.flags|=128,r=!0,p0(s,!1),t.lanes=4194304)}else{if(!r)if(e=$b(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),p0(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!sr)return Mi(t),null}else 2*Rr()-s.renderingStartTime>Bp&&n!==1073741824&&(t.flags|=128,r=!0,p0(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Rr(),t.sibling=null,n=hr.current,Hn(hr,r?n&1|2:n&1),t):(Mi(t),null);case 22:case 23:return wN(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Qs&1073741824&&(Mi(t),t.subtreeFlags&6&&(t.flags|=8192)):Mi(t),null;case 24:return null;case 25:return null}throw Error($e(156,t.tag))}function Ble(e,t){switch(nN(t),t.tag){case 1:return Ds(t.type)&&Ab(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Mp(),Xn(ks),Xn(Gi),fN(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return cN(t),null;case 13:if(Xn(hr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error($e(340));$p()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Xn(hr),null;case 4:return Mp(),null;case 10:return oN(t.type._context),null;case 22:case 23:return wN(),null;case 24:return null;default:return null}}var Iv=!1,zi=!1,jle=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function Vh(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Er(e,t,r)}else n.current=null}function JO(e,t,n){try{n()}catch(r){Er(e,t,r)}}var GL=!1;function Ule(e,t){if($O=Sb,e=yz(),eN(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,l=0,c=0,f=e,d=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===e)break t;if(d===n&&++l===i&&(a=o),d===s&&++c===r&&(u=o),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(LO={focusedElem:e,selectionRange:n},Sb=!1,Ye=t;Ye!==null;)if(t=Ye,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ye=e;else for(;Ye!==null;){t=Ye;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,y=p.memoizedState,g=t.stateNode,_=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:aa(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($e(163))}}catch(T){Er(t,t.return,T)}if(e=t.sibling,e!==null){e.return=t.return,Ye=e;break}Ye=t.return}return p=GL,GL=!1,p}function mg(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&JO(t,n,s)}i=i.next}while(i!==r)}}function sS(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ZO(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function pH(e){var t=e.alternate;t!==null&&(e.alternate=null,pH(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[qa],delete t[ny],delete t[BO],delete t[Tle],delete t[Sle])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function mH(e){return e.tag===5||e.tag===3||e.tag===4}function KL(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||mH(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function eP(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Cb));else if(r!==4&&(e=e.child,e!==null))for(eP(e,t,n),e=e.sibling;e!==null;)eP(e,t,n),e=e.sibling}function tP(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(tP(e,t,n),e=e.sibling;e!==null;)tP(e,t,n),e=e.sibling}var Ei=null,ua=!1;function Wl(e,t,n){for(n=n.child;n!==null;)gH(e,t,n),n=n.sibling}function gH(e,t,n){if(su&&typeof su.onCommitFiberUnmount=="function")try{su.onCommitFiberUnmount(XT,n)}catch{}switch(n.tag){case 5:zi||Vh(n,t);case 6:var r=Ei,i=ua;Ei=null,Wl(e,t,n),Ei=r,ua=i,Ei!==null&&(ua?(e=Ei,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ei.removeChild(n.stateNode));break;case 18:Ei!==null&&(ua?(e=Ei,n=n.stateNode,e.nodeType===8?Qx(e.parentNode,n):e.nodeType===1&&Qx(e,n),Xg(e)):Qx(Ei,n.stateNode));break;case 4:r=Ei,i=ua,Ei=n.stateNode.containerInfo,ua=!0,Wl(e,t,n),Ei=r,ua=i;break;case 0:case 11:case 14:case 15:if(!zi&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&JO(n,t,o),i=i.next}while(i!==r)}Wl(e,t,n);break;case 1:if(!zi&&(Vh(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Er(n,t,a)}Wl(e,t,n);break;case 21:Wl(e,t,n);break;case 22:n.mode&1?(zi=(r=zi)||n.memoizedState!==null,Wl(e,t,n),zi=r):Wl(e,t,n);break;default:Wl(e,t,n)}}function QL(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new jle),t.forEach(function(r){var i=Qle.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ea(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ei=a.stateNode,ua=!1;break e;case 3:Ei=a.stateNode.containerInfo,ua=!0;break e;case 4:Ei=a.stateNode.containerInfo,ua=!0;break e}a=a.return}if(Ei===null)throw Error($e(160));gH(s,o,i),Ei=null,ua=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(l){Er(i,t,l)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)yH(t,e),t=t.sibling}function yH(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ea(t,e),Ra(e),r&4){try{mg(3,e,e.return),sS(3,e)}catch(m){Er(e,e.return,m)}try{mg(5,e,e.return)}catch(m){Er(e,e.return,m)}}break;case 1:ea(t,e),Ra(e),r&512&&n!==null&&Vh(n,n.return);break;case 5:if(ea(t,e),Ra(e),r&512&&n!==null&&Vh(n,n.return),e.flags&32){var i=e.stateNode;try{Yg(i,"")}catch(m){Er(e,e.return,m)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&F7(i,s),IO(a,o);var l=IO(a,s);for(o=0;o<u.length;o+=2){var c=u[o],f=u[o+1];c==="style"?z7(i,f):c==="dangerouslySetInnerHTML"?U7(i,f):c==="children"?Yg(i,f):UR(i,c,f,l)}switch(a){case"input":bO(i,s);break;case"textarea":B7(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?rp(i,!!s.multiple,h,!1):d!==!!s.multiple&&(s.defaultValue!=null?rp(i,!!s.multiple,s.defaultValue,!0):rp(i,!!s.multiple,s.multiple?[]:"",!1))}i[ny]=s}catch(m){Er(e,e.return,m)}}break;case 6:if(ea(t,e),Ra(e),r&4){if(e.stateNode===null)throw Error($e(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(m){Er(e,e.return,m)}}break;case 3:if(ea(t,e),Ra(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Xg(t.containerInfo)}catch(m){Er(e,e.return,m)}break;case 4:ea(t,e),Ra(e);break;case 13:ea(t,e),Ra(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(bN=Rr())),r&4&&QL(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(zi=(l=zi)||c,ea(t,e),zi=l):ea(t,e),Ra(e),r&8192){if(l=e.memoizedState!==null,(e.stateNode.isHidden=l)&&!c&&e.mode&1)for(Ye=e,c=e.child;c!==null;){for(f=Ye=c;Ye!==null;){switch(d=Ye,h=d.child,d.tag){case 0:case 11:case 14:case 15:mg(4,d,d.return);break;case 1:Vh(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(m){Er(r,n,m)}}break;case 5:Vh(d,d.return);break;case 22:if(d.memoizedState!==null){JL(f);continue}}h!==null?(h.return=d,Ye=h):JL(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,l?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=V7("display",o))}catch(m){Er(e,e.return,m)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(m){Er(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ea(t,e),Ra(e),r&4&&QL(e);break;case 21:break;default:ea(t,e),Ra(e)}}function Ra(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(mH(n)){var r=n;break e}n=n.return}throw Error($e(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Yg(i,""),r.flags&=-33);var s=KL(e);tP(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=KL(e);eP(e,a,o);break;default:throw Error($e(161))}}catch(u){Er(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Vle(e,t,n){Ye=e,_H(e)}function _H(e,t,n){for(var r=(e.mode&1)!==0;Ye!==null;){var i=Ye,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Iv;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||zi;a=Iv;var l=zi;if(Iv=o,(zi=u)&&!l)for(Ye=i;Ye!==null;)o=Ye,u=o.child,o.tag===22&&o.memoizedState!==null?ZL(i):u!==null?(u.return=o,Ye=u):ZL(i);for(;s!==null;)Ye=s,_H(s),s=s.sibling;Ye=i,Iv=a,zi=l}XL(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Ye=s):XL(e)}}function XL(e){for(;Ye!==null;){var t=Ye;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:zi||sS(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!zi)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:aa(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&DL(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}DL(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var l=t.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Xg(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($e(163))}zi||t.flags&512&&ZO(t)}catch(d){Er(t,t.return,d)}}if(t===e){Ye=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ye=n;break}Ye=t.return}}function JL(e){for(;Ye!==null;){var t=Ye;if(t===e){Ye=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ye=n;break}Ye=t.return}}function ZL(e){for(;Ye!==null;){var t=Ye;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{sS(4,t)}catch(u){Er(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(u){Er(t,i,u)}}var s=t.return;try{ZO(t)}catch(u){Er(t,s,u)}break;case 5:var o=t.return;try{ZO(t)}catch(u){Er(t,o,u)}}}catch(u){Er(t,t.return,u)}if(t===e){Ye=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Ye=a;break}Ye=t.return}}var zle=Math.ceil,Fb=$l.ReactCurrentDispatcher,_N=$l.ReactCurrentOwner,Fo=$l.ReactCurrentBatchConfig,dn=0,ci=null,jr=null,Oi=0,Qs=0,zh=df(0),Kr=0,uy=null,Sd=0,oS=0,vN=0,gg=null,Ss=null,bN=0,Bp=1/0,Bu=null,Bb=!1,nP=null,Ac=null,xv=!1,_c=null,jb=0,yg=0,rP=null,M1=-1,F1=0;function os(){return dn&6?Rr():M1!==-1?M1:M1=Rr()}function Oc(e){return e.mode&1?dn&2&&Oi!==0?Oi&-Oi:xle.transition!==null?(F1===0&&(F1=tz()),F1):(e=On,e!==0||(e=window.event,e=e===void 0?16:uz(e.type)),e):1}function va(e,t,n,r){if(50<yg)throw yg=0,rP=null,Error($e(185));a_(e,n,r),(!(dn&2)||e!==ci)&&(e===ci&&(!(dn&2)&&(oS|=n),Kr===4&&lc(e,Oi)),$s(e,r),n===1&&dn===0&&!(t.mode&1)&&(Bp=Rr()+500,nS&&hf()))}function $s(e,t){var n=e.callbackNode;xue(e,t);var r=Tb(e,e===ci?Oi:0);if(r===0)n!==null&&uL(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&uL(n),t===1)e.tag===0?Ile(eM.bind(null,e)):Cz(eM.bind(null,e)),Ele(function(){!(dn&6)&&hf()}),n=null;else{switch(nz(r)){case 1:n=WR;break;case 4:n=Z7;break;case 16:n=wb;break;case 536870912:n=ez;break;default:n=wb}n=xH(n,vH.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function vH(e,t){if(M1=-1,F1=0,dn&6)throw Error($e(327));var n=e.callbackNode;if(up()&&e.callbackNode!==n)return null;var r=Tb(e,e===ci?Oi:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ub(e,r);else{t=r;var i=dn;dn|=2;var s=EH();(ci!==e||Oi!==t)&&(Bu=null,Bp=Rr()+500,ld(e,t));do try{Wle();break}catch(a){bH(e,a)}while(!0);sN(),Fb.current=s,dn=i,jr!==null?t=0:(ci=null,Oi=0,t=Kr)}if(t!==0){if(t===2&&(i=PO(e),i!==0&&(r=i,t=iP(e,i))),t===1)throw n=uy,ld(e,0),lc(e,r),$s(e,Rr()),n;if(t===6)lc(e,r);else{if(i=e.current.alternate,!(r&30)&&!Hle(i)&&(t=Ub(e,r),t===2&&(s=PO(e),s!==0&&(r=s,t=iP(e,s))),t===1))throw n=uy,ld(e,0),lc(e,r),$s(e,Rr()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error($e(345));case 2:Rf(e,Ss,Bu);break;case 3:if(lc(e,r),(r&130023424)===r&&(t=bN+500-Rr(),10<t)){if(Tb(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){os(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=FO(Rf.bind(null,e,Ss,Bu),t);break}Rf(e,Ss,Bu);break;case 4:if(lc(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-_a(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=Rr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*zle(r/1960))-r,10<r){e.timeoutHandle=FO(Rf.bind(null,e,Ss,Bu),r);break}Rf(e,Ss,Bu);break;case 5:Rf(e,Ss,Bu);break;default:throw Error($e(329))}}}return $s(e,Rr()),e.callbackNode===n?vH.bind(null,e):null}function iP(e,t){var n=gg;return e.current.memoizedState.isDehydrated&&(ld(e,t).flags|=256),e=Ub(e,t),e!==2&&(t=Ss,Ss=n,t!==null&&sP(t)),e}function sP(e){Ss===null?Ss=e:Ss.push.apply(Ss,e)}function Hle(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!wa(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function lc(e,t){for(t&=~vN,t&=~oS,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-_a(t),r=1<<n;e[n]=-1,t&=~r}}function eM(e){if(dn&6)throw Error($e(327));up();var t=Tb(e,0);if(!(t&1))return $s(e,Rr()),null;var n=Ub(e,t);if(e.tag!==0&&n===2){var r=PO(e);r!==0&&(t=r,n=iP(e,r))}if(n===1)throw n=uy,ld(e,0),lc(e,t),$s(e,Rr()),n;if(n===6)throw Error($e(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Rf(e,Ss,Bu),$s(e,Rr()),null}function EN(e,t){var n=dn;dn|=1;try{return e(t)}finally{dn=n,dn===0&&(Bp=Rr()+500,nS&&hf())}}function Id(e){_c!==null&&_c.tag===0&&!(dn&6)&&up();var t=dn;dn|=1;var n=Fo.transition,r=On;try{if(Fo.transition=null,On=1,e)return e()}finally{On=r,Fo.transition=n,dn=t,!(dn&6)&&hf()}}function wN(){Qs=zh.current,Xn(zh)}function ld(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,ble(n)),jr!==null)for(n=jr.return;n!==null;){var r=n;switch(nN(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ab();break;case 3:Mp(),Xn(ks),Xn(Gi),fN();break;case 5:cN(r);break;case 4:Mp();break;case 13:Xn(hr);break;case 19:Xn(hr);break;case 10:oN(r.type._context);break;case 22:case 23:wN()}n=n.return}if(ci=e,jr=e=Pc(e.current,null),Oi=Qs=t,Kr=0,uy=null,vN=oS=Sd=0,Ss=gg=null,Wf!==null){for(t=0;t<Wf.length;t++)if(n=Wf[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Wf=null}return e}function bH(e,t){do{var n=jr;try{if(sN(),D1.current=Mb,Lb){for(var r=pr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Lb=!1}if(Td=0,ai=qr=pr=null,pg=!1,sy=0,_N.current=null,n===null||n.return===null){Kr=1,uy=t,jr=null;break}e:{var s=e,o=n.return,a=n,u=t;if(t=Oi,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=UL(o);if(h!==null){h.flags&=-257,VL(h,o,a,s,t),h.mode&1&&jL(s,l,t),t=h,u=l;var p=t.updateQueue;if(p===null){var m=new Set;m.add(u),t.updateQueue=m}else p.add(u);break e}else{if(!(t&1)){jL(s,l,t),TN();break e}u=Error($e(426))}}else if(sr&&a.mode&1){var y=UL(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),VL(y,o,a,s,t),rN(Fp(u,a));break e}}s=u=Fp(u,a),Kr!==4&&(Kr=2),gg===null?gg=[s]:gg.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var g=rH(s,u,t);kL(s,g);break e;case 1:a=u;var _=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ac===null||!Ac.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t;var T=iH(s,a,t);kL(s,T);break e}}s=s.return}while(s!==null)}TH(n)}catch(I){t=I,jr===n&&n!==null&&(jr=n=n.return);continue}break}while(!0)}function EH(){var e=Fb.current;return Fb.current=Mb,e===null?Mb:e}function TN(){(Kr===0||Kr===3||Kr===2)&&(Kr=4),ci===null||!(Sd&268435455)&&!(oS&268435455)||lc(ci,Oi)}function Ub(e,t){var n=dn;dn|=2;var r=EH();(ci!==e||Oi!==t)&&(Bu=null,ld(e,t));do try{qle();break}catch(i){bH(e,i)}while(!0);if(sN(),dn=n,Fb.current=r,jr!==null)throw Error($e(261));return ci=null,Oi=0,Kr}function qle(){for(;jr!==null;)wH(jr)}function Wle(){for(;jr!==null&&!yue();)wH(jr)}function wH(e){var t=IH(e.alternate,e,Qs);e.memoizedProps=e.pendingProps,t===null?TH(e):jr=t,_N.current=null}function TH(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Ble(n,t),n!==null){n.flags&=32767,jr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Kr=6,jr=null;return}}else if(n=Fle(n,t,Qs),n!==null){jr=n;return}if(t=t.sibling,t!==null){jr=t;return}jr=t=e}while(t!==null);Kr===0&&(Kr=5)}function Rf(e,t,n){var r=On,i=Fo.transition;try{Fo.transition=null,On=1,Yle(e,t,n,r)}finally{Fo.transition=i,On=r}return null}function Yle(e,t,n,r){do up();while(_c!==null);if(dn&6)throw Error($e(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error($e(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(Cue(e,s),e===ci&&(jr=ci=null,Oi=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||xv||(xv=!0,xH(wb,function(){return up(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Fo.transition,Fo.transition=null;var o=On;On=1;var a=dn;dn|=4,_N.current=null,Ule(e,n),yH(n,e),hle(LO),Sb=!!$O,LO=$O=null,e.current=n,Vle(n),_ue(),dn=a,On=o,Fo.transition=s}else e.current=n;if(xv&&(xv=!1,_c=e,jb=i),s=e.pendingLanes,s===0&&(Ac=null),Eue(n.stateNode),$s(e,Rr()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Bb)throw Bb=!1,e=nP,nP=null,e;return jb&1&&e.tag!==0&&up(),s=e.pendingLanes,s&1?e===rP?yg++:(yg=0,rP=e):yg=0,hf(),null}function up(){if(_c!==null){var e=nz(jb),t=Fo.transition,n=On;try{if(Fo.transition=null,On=16>e?16:e,_c===null)var r=!1;else{if(e=_c,_c=null,jb=0,dn&6)throw Error($e(331));var i=dn;for(dn|=4,Ye=e.current;Ye!==null;){var s=Ye,o=s.child;if(Ye.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var l=a[u];for(Ye=l;Ye!==null;){var c=Ye;switch(c.tag){case 0:case 11:case 15:mg(8,c,s)}var f=c.child;if(f!==null)f.return=c,Ye=f;else for(;Ye!==null;){c=Ye;var d=c.sibling,h=c.return;if(pH(c),c===l){Ye=null;break}if(d!==null){d.return=h,Ye=d;break}Ye=h}}}var p=s.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(m!==null)}}Ye=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Ye=o;else e:for(;Ye!==null;){if(s=Ye,s.flags&2048)switch(s.tag){case 0:case 11:case 15:mg(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,Ye=g;break e}Ye=s.return}}var _=e.current;for(Ye=_;Ye!==null;){o=Ye;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Ye=b;else e:for(o=_;Ye!==null;){if(a=Ye,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:sS(9,a)}}catch(I){Er(a,a.return,I)}if(a===o){Ye=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,Ye=T;break e}Ye=a.return}}if(dn=i,hf(),su&&typeof su.onPostCommitFiberRoot=="function")try{su.onPostCommitFiberRoot(XT,e)}catch{}r=!0}return r}finally{On=n,Fo.transition=t}}return!1}function tM(e,t,n){t=Fp(n,t),t=rH(e,t,1),e=Cc(e,t,1),t=os(),e!==null&&(a_(e,1,t),$s(e,t))}function Er(e,t,n){if(e.tag===3)tM(e,e,n);else for(;t!==null;){if(t.tag===3){tM(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ac===null||!Ac.has(r))){e=Fp(n,e),e=iH(t,e,1),t=Cc(t,e,1),e=os(),t!==null&&(a_(t,1,e),$s(t,e));break}}t=t.return}}function Gle(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=os(),e.pingedLanes|=e.suspendedLanes&n,ci===e&&(Oi&n)===n&&(Kr===4||Kr===3&&(Oi&130023424)===Oi&&500>Rr()-bN?ld(e,0):vN|=n),$s(e,t)}function SH(e,t){t===0&&(e.mode&1?(t=gv,gv<<=1,!(gv&130023424)&&(gv=4194304)):t=1);var n=os();e=gl(e,t),e!==null&&(a_(e,t,n),$s(e,n))}function Kle(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),SH(e,n)}function Qle(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error($e(314))}r!==null&&r.delete(t),SH(e,n)}var IH;IH=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ks.current)Os=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Os=!1,Mle(e,t,n);Os=!!(e.flags&131072)}else Os=!1,sr&&t.flags&1048576&&Az(t,Rb,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;L1(e,t),e=t.pendingProps;var i=Dp(t,Gi.current);ap(t,n),i=hN(null,t,r,e,i,n);var s=pN();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ds(r)?(s=!0,Ob(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,uN(t),i.updater=rS,t.stateNode=i,i._reactInternals=t,qO(t,r,e,n),t=GO(null,t,r,!0,s,n)):(t.tag=0,sr&&s&&tN(t),is(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(L1(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Jle(r),e=aa(r,e),i){case 0:t=YO(null,t,r,e,n);break e;case 1:t=qL(null,t,r,e,n);break e;case 11:t=zL(null,t,r,e,n);break e;case 14:t=HL(null,t,r,aa(r.type,e),n);break e}throw Error($e(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:aa(r,i),YO(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:aa(r,i),qL(e,t,r,i,n);case 3:e:{if(uH(t),e===null)throw Error($e(387));r=t.pendingProps,s=t.memoizedState,i=s.element,Nz(e,t),Db(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Fp(Error($e(423)),t),t=WL(e,t,r,n,i);break e}else if(r!==i){i=Fp(Error($e(424)),t),t=WL(e,t,r,n,i);break e}else for(no=xc(t.stateNode.containerInfo.firstChild),so=t,sr=!0,ca=null,n=Lz(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if($p(),r===i){t=yl(e,t,n);break e}is(e,t,r,n)}t=t.child}return t;case 5:return Mz(t),e===null&&VO(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,MO(r,i)?o=null:s!==null&&MO(r,s)&&(t.flags|=32),aH(e,t),is(e,t,o,n),t.child;case 6:return e===null&&VO(t),null;case 13:return lH(e,t,n);case 4:return lN(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Lp(t,null,r,n):is(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:aa(r,i),zL(e,t,r,i,n);case 7:return is(e,t,t.pendingProps,n),t.child;case 8:return is(e,t,t.pendingProps.children,n),t.child;case 12:return is(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Hn(Nb,r._currentValue),r._currentValue=o,s!==null)if(wa(s.value,o)){if(s.children===i.children&&!ks.current){t=yl(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=sl(-1,n&-n),u.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?u.next=u:(u.next=c.next,c.next=u),l.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),zO(s.return,n,t),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error($e(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),zO(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}is(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ap(t,n),i=jo(i),r=r(i),t.flags|=1,is(e,t,r,n),t.child;case 14:return r=t.type,i=aa(r,t.pendingProps),i=aa(r.type,i),HL(e,t,r,i,n);case 15:return sH(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:aa(r,i),L1(e,t),t.tag=1,Ds(r)?(e=!0,Ob(t)):e=!1,ap(t,n),Dz(t,r,i),qO(t,r,i,n),GO(null,t,r,!0,e,n);case 19:return cH(e,t,n);case 22:return oH(e,t,n)}throw Error($e(156,t.tag))};function xH(e,t){return J7(e,t)}function Xle(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lo(e,t,n,r){return new Xle(e,t,n,r)}function SN(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Jle(e){if(typeof e=="function")return SN(e)?1:0;if(e!=null){if(e=e.$$typeof,e===zR)return 11;if(e===HR)return 14}return 2}function Pc(e,t){var n=e.alternate;return n===null?(n=Lo(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function B1(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")SN(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case kh:return cd(n.children,i,s,t);case VR:o=8,i|=8;break;case mO:return e=Lo(12,n,t,i|2),e.elementType=mO,e.lanes=s,e;case gO:return e=Lo(13,n,t,i),e.elementType=gO,e.lanes=s,e;case yO:return e=Lo(19,n,t,i),e.elementType=yO,e.lanes=s,e;case $7:return aS(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case k7:o=10;break e;case D7:o=9;break e;case zR:o=11;break e;case HR:o=14;break e;case nc:o=16,r=null;break e}throw Error($e(130,e==null?e:typeof e,""))}return t=Lo(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function cd(e,t,n,r){return e=Lo(7,e,r,t),e.lanes=n,e}function aS(e,t,n,r){return e=Lo(22,e,r,t),e.elementType=$7,e.lanes=n,e.stateNode={isHidden:!1},e}function iC(e,t,n){return e=Lo(6,e,null,t),e.lanes=n,e}function sC(e,t,n){return t=Lo(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zle(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bx(0),this.expirationTimes=Bx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bx(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function IN(e,t,n,r,i,s,o,a,u){return e=new Zle(e,t,n,a,u),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Lo(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},uN(s),e}function ece(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Nh,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function CH(e){if(!e)return qc;e=e._reactInternals;e:{if(Hd(e)!==e||e.tag!==1)throw Error($e(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ds(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error($e(171))}if(e.tag===1){var n=e.type;if(Ds(n))return xz(e,n,t)}return t}function AH(e,t,n,r,i,s,o,a,u){return e=IN(n,r,!0,e,i,s,o,a,u),e.context=CH(null),n=e.current,r=os(),i=Oc(n),s=sl(r,i),s.callback=t??null,Cc(n,s,i),e.current.lanes=i,a_(e,i,r),$s(e,r),e}function uS(e,t,n,r){var i=t.current,s=os(),o=Oc(i);return n=CH(n),t.context===null?t.context=n:t.pendingContext=n,t=sl(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Cc(i,t,o),e!==null&&(va(e,i,o,s),k1(e,i,o)),o}function Vb(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function nM(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function xN(e,t){nM(e,t),(e=e.alternate)&&nM(e,t)}function tce(){return null}var OH=typeof reportError=="function"?reportError:function(e){console.error(e)};function CN(e){this._internalRoot=e}lS.prototype.render=CN.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error($e(409));uS(e,t,null,null)};lS.prototype.unmount=CN.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Id(function(){uS(null,e,null,null)}),t[ml]=null}};function lS(e){this._internalRoot=e}lS.prototype.unstable_scheduleHydration=function(e){if(e){var t=sz();e={blockedOn:null,target:e,priority:t};for(var n=0;n<uc.length&&t!==0&&t<uc[n].priority;n++);uc.splice(n,0,e),n===0&&az(e)}};function AN(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function cS(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function rM(){}function nce(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var l=Vb(o);s.call(l)}}var o=AH(t,r,e,0,null,!1,!1,"",rM);return e._reactRootContainer=o,e[ml]=o.current,ey(e.nodeType===8?e.parentNode:e),Id(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var l=Vb(u);a.call(l)}}var u=IN(e,0,!1,null,null,!1,!1,"",rM);return e._reactRootContainer=u,e[ml]=u.current,ey(e.nodeType===8?e.parentNode:e),Id(function(){uS(t,u,n,r)}),u}function fS(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=Vb(o);a.call(u)}}uS(t,o,e,i)}else o=nce(n,t,e,i,r);return Vb(o)}rz=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=q0(t.pendingLanes);n!==0&&(YR(t,n|1),$s(t,Rr()),!(dn&6)&&(Bp=Rr()+500,hf()))}break;case 13:Id(function(){var r=gl(e,1);if(r!==null){var i=os();va(r,e,1,i)}}),xN(e,1)}};GR=function(e){if(e.tag===13){var t=gl(e,134217728);if(t!==null){var n=os();va(t,e,134217728,n)}xN(e,134217728)}};iz=function(e){if(e.tag===13){var t=Oc(e),n=gl(e,t);if(n!==null){var r=os();va(n,e,t,r)}xN(e,t)}};sz=function(){return On};oz=function(e,t){var n=On;try{return On=e,t()}finally{On=n}};CO=function(e,t,n){switch(t){case"input":if(bO(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=tS(r);if(!i)throw Error($e(90));M7(r),bO(r,i)}}}break;case"textarea":B7(e,n);break;case"select":t=n.value,t!=null&&rp(e,!!n.multiple,t,!1)}};W7=EN;Y7=Id;var rce={usingClientEntryPoint:!1,Events:[l_,Mh,tS,H7,q7,EN]},m0={findFiberByHostInstance:qf,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ice={bundleType:m0.bundleType,version:m0.version,rendererPackageName:m0.rendererPackageName,rendererConfig:m0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$l.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Q7(e),e===null?null:e.stateNode},findFiberByHostInstance:m0.findFiberByHostInstance||tce,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cv.isDisabled&&Cv.supportsFiber)try{XT=Cv.inject(ice),su=Cv}catch{}}go.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rce;go.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!AN(t))throw Error($e(200));return ece(e,t,null,n)};go.createRoot=function(e,t){if(!AN(e))throw Error($e(299));var n=!1,r="",i=OH;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=IN(e,1,!1,null,null,n,!1,r,i),e[ml]=t.current,ey(e.nodeType===8?e.parentNode:e),new CN(t)};go.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error($e(188)):(e=Object.keys(e).join(","),Error($e(268,e)));return e=Q7(t),e=e===null?null:e.stateNode,e};go.flushSync=function(e){return Id(e)};go.hydrate=function(e,t,n){if(!cS(t))throw Error($e(200));return fS(null,e,t,!0,n)};go.hydrateRoot=function(e,t,n){if(!AN(e))throw Error($e(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=OH;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=AH(t,null,e,1,n??null,i,!1,s,o),e[ml]=t.current,ey(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new lS(t)};go.render=function(e,t,n){if(!cS(t))throw Error($e(200));return fS(null,e,t,!1,n)};go.unmountComponentAtNode=function(e){if(!cS(e))throw Error($e(40));return e._reactRootContainer?(Id(function(){fS(null,null,e,!1,function(){e._reactRootContainer=null,e[ml]=null})}),!0):!1};go.unstable_batchedUpdates=EN;go.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!cS(n))throw Error($e(200));if(e==null||e._reactInternals===void 0)throw Error($e(38));return fS(e,t,n,!1,r)};go.version="18.2.0-next-9e3b772b8-20220608";function PH(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(PH)}catch(e){console.error(e)}}PH(),A7.exports=go;var f_=A7.exports,iM=f_;hO.createRoot=iM.createRoot,hO.hydrateRoot=iM.hydrateRoot;const RH=w.createContext({storageEngine:void 0,setStorageEngine:()=>{}}),pf=()=>w.useContext(RH);function sce({children:e}){const[t,n]=k.useState(void 0),r=k.useMemo(()=>({storageEngine:t,setStorageEngine:n}),[t]);return $.jsx(RH.Provider,{value:r,children:e})}/**
 * @remix-run/router v1.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ly(){return ly=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ly.apply(this,arguments)}var vc;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(vc||(vc={}));const sM="popstate";function oce(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return oP("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:NH(i)}return uce(t,n,null,e)}function Ur(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ON(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ace(){return Math.random().toString(36).substr(2,8)}function oM(e,t){return{usr:e.state,key:e.key,idx:t}}function oP(e,t,n,r){return n===void 0&&(n=null),ly({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Tm(t):t,{state:n,key:t&&t.key||r||ace()})}function NH(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Tm(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function uce(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=vc.Pop,u=null,l=c();l==null&&(l=0,o.replaceState(ly({},o.state,{idx:l}),""));function c(){return(o.state||{idx:null}).idx}function f(){a=vc.Pop;let y=c(),g=y==null?null:y-l;l=y,u&&u({action:a,location:m.location,delta:g})}function d(y,g){a=vc.Push;let _=oP(m.location,y,g);n&&n(_,y),l=c()+1;let b=oM(_,l),T=m.createHref(_);try{o.pushState(b,"",T)}catch{i.location.assign(T)}s&&u&&u({action:a,location:m.location,delta:1})}function h(y,g){a=vc.Replace;let _=oP(m.location,y,g);n&&n(_,y),l=c();let b=oM(_,l),T=m.createHref(_);o.replaceState(b,"",T),s&&u&&u({action:a,location:m.location,delta:0})}function p(y){let g=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof y=="string"?y:NH(y);return Ur(g,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,g)}let m={get action(){return a},get location(){return e(i,o)},listen(y){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(sM,f),u=y,()=>{i.removeEventListener(sM,f),u=null}},createHref(y){return t(i,y)},createURL:p,encodeLocation(y){let g=p(y);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:d,replace:h,go(y){return o.go(y)}};return m}var aM;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(aM||(aM={}));function lce(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?Tm(t):t,i=$H(r.pathname||"/",n);if(i==null)return null;let s=kH(e);cce(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=vce(s[a],wce(i));return o}function kH(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(Ur(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let l=Rc([r,u.relativePath]),c=n.concat(u);s.children&&s.children.length>0&&(Ur(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),kH(s.children,t,c,l)),!(s.path==null&&!s.index)&&t.push({path:l,score:yce(l,s.index),routesMeta:c})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let u of DH(s.path))i(s,o,u)}),t}function DH(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=DH(r.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>e.startsWith("/")&&u===""?"/":u)}function cce(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:_ce(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const fce=/^:\w+$/,dce=3,hce=2,pce=1,mce=10,gce=-2,uM=e=>e==="*";function yce(e,t){let n=e.split("/"),r=n.length;return n.some(uM)&&(r+=gce),t&&(r+=hce),n.filter(i=>!uM(i)).reduce((i,s)=>i+(fce.test(s)?dce:s===""?pce:mce),r)}function _ce(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function vce(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],u=o===n.length-1,l=i==="/"?t:t.slice(i.length)||"/",c=bce({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},l);if(!c)return null;Object.assign(r,c.params);let f=a.route;s.push({params:r,pathname:Rc([i,c.pathname]),pathnameBase:xce(Rc([i,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(i=Rc([i,c.pathnameBase]))}return s}function bce(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Ece(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((l,c,f)=>{if(c==="*"){let d=a[f]||"";o=s.slice(0,s.length-d.length).replace(/(.)\/+$/,"$1")}return l[c]=Tce(a[f]||"",c),l},{}),pathname:s,pathnameBase:o,pattern:e}}function Ece(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),ON(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return e.endsWith("*")?(r.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function wce(e){try{return decodeURI(e)}catch(t){return ON(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Tce(e,t){try{return decodeURIComponent(e)}catch(n){return ON(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function $H(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Sce(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Tm(e):e;return{pathname:n?n.startsWith("/")?n:Ice(n,t):t,search:Cce(r),hash:Ace(i)}}function Ice(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function oC(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function LH(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function MH(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Tm(e):(i=ly({},e),Ur(!i.pathname||!i.pathname.includes("?"),oC("?","pathname","search",i)),Ur(!i.pathname||!i.pathname.includes("#"),oC("#","pathname","hash",i)),Ur(!i.search||!i.search.includes("#"),oC("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let f=t.length-1;if(o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}a=f>=0?t[f]:"/"}let u=Sce(i,a),l=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(l||c)&&(u.pathname+="/"),u}const Rc=e=>e.join("/").replace(/\/\/+/g,"/"),xce=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Cce=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Ace=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Oce(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const FH=["post","put","patch","delete"];new Set(FH);const Pce=["get",...FH];new Set(Pce);/**
 * React Router v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rce(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const Nce=typeof Object.is=="function"?Object.is:Rce,{useState:kce,useEffect:Dce,useLayoutEffect:$ce,useDebugValue:Lce}=bd;function Mce(e,t,n){const r=t(),[{inst:i},s]=kce({inst:{value:r,getSnapshot:t}});return $ce(()=>{i.value=r,i.getSnapshot=t,aC(i)&&s({inst:i})},[e,r,t]),Dce(()=>(aC(i)&&s({inst:i}),e(()=>{aC(i)&&s({inst:i})})),[e]),Lce(r),r}function aC(e){const t=e.getSnapshot,n=e.value;try{const r=t();return!Nce(n,r)}catch{return!0}}function Fce(e,t,n){return t()}const Bce=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jce=!Bce,Uce=jce?Fce:Mce;"useSyncExternalStore"in bd&&(e=>e.useSyncExternalStore)(bd);const BH=w.createContext(null),PN=w.createContext(null),dS=w.createContext(null),hS=w.createContext(null),mf=w.createContext({outlet:null,matches:[]}),jH=w.createContext(null);function aP(){return aP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aP.apply(this,arguments)}function Vce(e,t){let{relative:n}=t===void 0?{}:t;Sm()||Ur(!1);let{basename:r,navigator:i}=w.useContext(dS),{hash:s,pathname:o,search:a}=qce(e,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:Rc([r,o])),i.createHref({pathname:u,search:a,hash:s})}function Sm(){return w.useContext(hS)!=null}function Im(){return Sm()||Ur(!1),w.useContext(hS).location}function qd(){Sm()||Ur(!1);let{basename:e,navigator:t}=w.useContext(dS),{matches:n}=w.useContext(mf),{pathname:r}=Im(),i=JSON.stringify(LH(n).map(a=>a.pathnameBase)),s=w.useRef(!1);return w.useEffect(()=>{s.current=!0}),w.useCallback(function(a,u){if(u===void 0&&(u={}),!s.current)return;if(typeof a=="number"){t.go(a);return}let l=MH(a,JSON.parse(i),r,u.relative==="path");e!=="/"&&(l.pathname=l.pathname==="/"?e:Rc([e,l.pathname])),(u.replace?t.replace:t.push)(l,u.state,u)},[e,t,i,r])}const zce=w.createContext(null);function Hce(e){let t=w.useContext(mf).outlet;return t&&w.createElement(zce.Provider,{value:e},t)}function RN(){let{matches:e}=w.useContext(mf),t=e[e.length-1];return t?t.params:{}}function qce(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=w.useContext(mf),{pathname:i}=Im(),s=JSON.stringify(LH(r).map(o=>o.pathnameBase));return w.useMemo(()=>MH(e,JSON.parse(s),i,n==="path"),[e,s,i,n])}function UH(e,t){Sm()||Ur(!1);let{navigator:n}=w.useContext(dS),r=w.useContext(PN),{matches:i}=w.useContext(mf),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let u=Im(),l;if(t){var c;let m=typeof t=="string"?Tm(t):t;a==="/"||(c=m.pathname)!=null&&c.startsWith(a)||Ur(!1),l=m}else l=u;let f=l.pathname||"/",d=a==="/"?f:f.slice(a.length)||"/",h=lce(e,{pathname:d}),p=Kce(h&&h.map(m=>Object.assign({},m,{params:Object.assign({},o,m.params),pathname:Rc([a,n.encodeLocation?n.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?a:Rc([a,n.encodeLocation?n.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),i,r||void 0);return t&&p?w.createElement(hS.Provider,{value:{location:aP({pathname:"/",search:"",hash:"",state:null,key:"default"},l),navigationType:vc.Pop}},p):p}function Wce(){let e=Zce(),t=Oce(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),n?w.createElement("pre",{style:i},n):null,s)}class Yce extends w.Component{constructor(t){super(t),this.state={location:t.location,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location?{error:t.error,location:t.location}:{error:t.error||n.error,location:n.location}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?w.createElement(mf.Provider,{value:this.props.routeContext},w.createElement(jH.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Gce(e){let{routeContext:t,match:n,children:r}=e,i=w.useContext(BH);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(mf.Provider,{value:t},r)}function Kce(e,t,n){if(t===void 0&&(t=[]),e==null)if(n!=null&&n.errors)e=n.matches;else return null;let r=e,i=n==null?void 0:n.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));s>=0||Ur(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,a)=>{let u=o.route.id?i==null?void 0:i[o.route.id]:null,l=null;n&&(o.route.ErrorBoundary?l=w.createElement(o.route.ErrorBoundary,null):o.route.errorElement?l=o.route.errorElement:l=w.createElement(Wce,null));let c=t.concat(r.slice(0,a+1)),f=()=>{let d=s;return u?d=l:o.route.Component?d=w.createElement(o.route.Component,null):o.route.element&&(d=o.route.element),w.createElement(Gce,{match:o,routeContext:{outlet:s,matches:c},children:d})};return n&&(o.route.ErrorBoundary||o.route.errorElement||a===0)?w.createElement(Yce,{location:n.location,component:l,error:u,children:f(),routeContext:{outlet:null,matches:c}}):f()},null)}var lM;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"})(lM||(lM={}));var zb;(function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"})(zb||(zb={}));function Qce(e){let t=w.useContext(PN);return t||Ur(!1),t}function Xce(e){let t=w.useContext(mf);return t||Ur(!1),t}function Jce(e){let t=Xce(),n=t.matches[t.matches.length-1];return n.route.id||Ur(!1),n.route.id}function Zce(){var e;let t=w.useContext(jH),n=Qce(zb.UseRouteError),r=Jce(zb.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function efe(e){let{to:t,replace:n,state:r,relative:i}=e;Sm()||Ur(!1);let s=w.useContext(PN),o=qd();return w.useEffect(()=>{s&&s.navigation.state!=="idle"||o(t,{replace:n,state:r,relative:i})}),null}function tfe(e){return Hce(e.context)}function uP(e){Ur(!1)}function nfe(e){let{basename:t="/",children:n=null,location:r,navigationType:i=vc.Pop,navigator:s,static:o=!1}=e;Sm()&&Ur(!1);let a=t.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=Tm(r));let{pathname:l="/",search:c="",hash:f="",state:d=null,key:h="default"}=r,p=w.useMemo(()=>{let m=$H(l,a);return m==null?null:{location:{pathname:m,search:c,hash:f,state:d,key:h},navigationType:i}},[a,l,c,f,d,h,i]);return p==null?null:w.createElement(dS.Provider,{value:u},w.createElement(hS.Provider,{children:n,value:p}))}function rfe(e){let{children:t,location:n}=e,r=w.useContext(BH),i=r&&!t?r.router.routes:lP(t);return UH(i,n)}var cM;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(cM||(cM={}));new Promise(()=>{});function lP(e,t){t===void 0&&(t=[]);let n=[];return w.Children.forEach(e,(r,i)=>{if(!w.isValidElement(r))return;let s=[...t,i];if(r.type===w.Fragment){n.push.apply(n,lP(r.props.children,s));return}r.type!==uP&&Ur(!1),!r.props.index||!r.props.children||Ur(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=lP(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cP(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function ife(e,t){let n=cP(e);if(t)for(let r of t.keys())n.has(r)||t.getAll(r).forEach(i=>{n.append(r,i)});return n}function sfe(e){let{basename:t,children:n,window:r}=e,i=w.useRef();i.current==null&&(i.current=oce({window:r,v5Compat:!0}));let s=i.current,[o,a]=w.useState({action:s.action,location:s.location});return w.useLayoutEffect(()=>s.listen(a),[s]),w.createElement(nfe,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:s})}var fM;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(fM||(fM={}));var dM;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(dM||(dM={}));function NN(e){let t=w.useRef(cP(e)),n=w.useRef(!1),r=Im(),i=w.useMemo(()=>ife(r.search,n.current?null:t.current),[r.search]),s=qd(),o=w.useCallback((a,u)=>{const l=cP(typeof a=="function"?a(i):a);n.current=!0,s("?"+l,u)},[s,i]);return[i,o]}function Hb(e,t){let n=e;for(;(n=n.parentElement)&&!n.matches(t););return n}function ofe(e,t,n){for(let r=e-1;r>=0;r-=1)if(!t[r].disabled)return r;if(n){for(let r=t.length-1;r>-1;r-=1)if(!t[r].disabled)return r}return e}function afe(e,t,n){for(let r=e+1;r<t.length;r+=1)if(!t[r].disabled)return r;if(n){for(let r=0;r<t.length;r+=1)if(!t[r].disabled)return r}return e}function ufe(e,t,n){return Hb(e,n)===Hb(t,n)}function lfe({parentSelector:e,siblingSelector:t,onKeyDown:n,loop:r=!0,activateOnFocus:i=!1,dir:s="rtl",orientation:o}){return a=>{var u;n==null||n(a);const l=Array.from(((u=Hb(a.currentTarget,e))==null?void 0:u.querySelectorAll(t))||[]).filter(m=>ufe(a.currentTarget,m,e)),c=l.findIndex(m=>a.currentTarget===m),f=afe(c,l,r),d=ofe(c,l,r),h=s==="rtl"?d:f,p=s==="rtl"?f:d;switch(a.key){case"ArrowRight":{o==="horizontal"&&(a.stopPropagation(),a.preventDefault(),l[h].focus(),i&&l[h].click());break}case"ArrowLeft":{o==="horizontal"&&(a.stopPropagation(),a.preventDefault(),l[p].focus(),i&&l[p].click());break}case"ArrowUp":{o==="vertical"&&(a.stopPropagation(),a.preventDefault(),l[d].focus(),i&&l[d].click());break}case"ArrowDown":{o==="vertical"&&(a.stopPropagation(),a.preventDefault(),l[f].focus(),i&&l[f].click());break}case"Home":{a.stopPropagation(),a.preventDefault(),!l[0].disabled&&l[0].focus();break}case"End":{a.stopPropagation(),a.preventDefault();const m=l.length-1;!l[m].disabled&&l[m].focus();break}}}}function cfe(e,t,n){var r;return n?Array.from(((r=Hb(n,t))==null?void 0:r.querySelectorAll(e))||[]).findIndex(i=>i===n):null}function VH(e){const t=w.createContext(null);return[({children:i,value:s})=>k.createElement(t.Provider,{value:s},i),()=>{const i=w.useContext(t);if(i===null)throw new Error(e);return i}]}function xd(e){return Array.isArray(e)?e:[e]}const ffe=()=>{};function dfe(e,t={active:!0}){return typeof e!="function"||!t.active?t.onKeyDown||ffe:n=>{var r;n.key==="Escape"&&(e(n),(r=t.onTrigger)==null||r.call(t))}}function Xu(e,t){return n=>{e==null||e(n),t==null||t(n)}}function hfe(){const[e,t]=w.useState(-1);return[e,{setHovered:t,resetHovered:()=>t(-1)}]}function zH({data:e}){const t=[],n=[],r=e.reduce((i,s,o)=>(s.group?i[s.group]?i[s.group].push(o):i[s.group]=[o]:n.push(o),i),{});return Object.keys(r).forEach(i=>{t.push(...r[i].map(s=>e[s]))}),t.push(...n.map(i=>e[i])),t}function d_(e){return Array.isArray(e)||e===null?!1:typeof e=="object"?e.type!==k.Fragment:!1}function HH(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=HH(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function qH(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=HH(t))&&(r&&(r+=" "),r+=n);return r}const pfe={dark:["#C1C2C5","#A6A7AB","#909296","#5c5f66","#373A40","#2C2E33","#25262b","#1A1B1E","#141517","#101113"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]};function mfe(e){return()=>({fontFamily:e.fontFamily||"sans-serif"})}var gfe=Object.defineProperty,hM=Object.getOwnPropertySymbols,yfe=Object.prototype.hasOwnProperty,_fe=Object.prototype.propertyIsEnumerable,pM=(e,t,n)=>t in e?gfe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mM=(e,t)=>{for(var n in t||(t={}))yfe.call(t,n)&&pM(e,n,t[n]);if(hM)for(var n of hM(t))_fe.call(t,n)&&pM(e,n,t[n]);return e};function vfe(e){return t=>({WebkitTapHighlightColor:"transparent",[t||"&:focus"]:mM({},e.focusRing==="always"||e.focusRing==="auto"?e.focusRingStyles.styles(e):e.focusRingStyles.resetStyles(e)),[t?t.replace(":focus",":focus:not(:focus-visible)"):"&:focus:not(:focus-visible)"]:mM({},e.focusRing==="auto"||e.focusRing==="never"?e.focusRingStyles.resetStyles(e):null)})}function h_(e){return t=>typeof e.primaryShade=="number"?e.primaryShade:e.primaryShade[t||e.colorScheme]}function kN(e){const t=h_(e);return(n,r,i=!0,s=!0)=>{if(typeof n=="string"&&n.includes(".")){const[a,u]=n.split("."),l=parseInt(u,10);if(a in e.colors&&l>=0&&l<10)return e.colors[a][typeof r=="number"&&!s?r:l]}const o=typeof r=="number"?r:t();return n in e.colors?e.colors[n][o]:i?e.colors[e.primaryColor][o]:n}}function WH(e){let t="";for(let n=1;n<e.length-1;n+=1)t+=`${e[n]} ${n/(e.length-1)*100}%, `;return`${e[0]} 0%, ${t}${e[e.length-1]} 100%`}function bfe(e,...t){return`linear-gradient(${e}deg, ${WH(t)})`}function Efe(...e){return`radial-gradient(circle, ${WH(e)})`}function YH(e){const t=kN(e),n=h_(e);return r=>{const i={from:(r==null?void 0:r.from)||e.defaultGradient.from,to:(r==null?void 0:r.to)||e.defaultGradient.to,deg:(r==null?void 0:r.deg)||e.defaultGradient.deg};return`linear-gradient(${i.deg}deg, ${t(i.from,n(),!1)} 0%, ${t(i.to,n(),!1)} 100%)`}}function DN(e){if(typeof e.size=="number")return e.size;const t=e.sizes[e.size];return t!==void 0?t:e.size||e.sizes.md}function wfe(e){return t=>`@media (min-width: ${DN({size:t,sizes:e.breakpoints})}px)`}function Tfe(e){return t=>`@media (max-width: ${DN({size:t,sizes:e.breakpoints})-1}px)`}function Sfe(e){return/^#?([0-9A-F]{3}){1,2}$/i.test(e)}function Ife(e){let t=e.replace("#","");if(t.length===3){const o=t.split("");t=[o[0],o[0],o[1],o[1],o[2],o[2]].join("")}const n=parseInt(t,16),r=n>>16&255,i=n>>8&255,s=n&255;return{r,g:i,b:s,a:1}}function xfe(e){const[t,n,r,i]=e.replace(/[^0-9,.]/g,"").split(",").map(Number);return{r:t,g:n,b:r,a:i||1}}function $N(e){return Sfe(e)?Ife(e):e.startsWith("rgb")?xfe(e):{r:0,g:0,b:0,a:1}}function wh(e,t){if(typeof e!="string"||t>1||t<0)return"rgba(0, 0, 0, 1)";const{r:n,g:r,b:i}=$N(e);return`rgba(${n}, ${r}, ${i}, ${t})`}function Cfe(e=0){return{position:"absolute",top:e,right:e,left:e,bottom:e}}function Afe(e,t){const{r:n,g:r,b:i,a:s}=$N(e),o=1-t,a=u=>Math.round(u*o);return`rgba(${a(n)}, ${a(r)}, ${a(i)}, ${s})`}function Ofe(e,t){const{r:n,g:r,b:i,a:s}=$N(e),o=a=>Math.round(a+(255-a)*t);return`rgba(${o(n)}, ${o(r)}, ${o(i)}, ${s})`}function Pfe(e){return t=>{if(typeof t=="number")return t;const n=typeof e.defaultRadius=="number"?e.defaultRadius:e.radius[e.defaultRadius]||e.defaultRadius;return e.radius[t]||t||n}}function Rfe(e,t){if(typeof e=="string"&&e.includes(".")){const[n,r]=e.split("."),i=parseInt(r,10);if(n in t.colors&&i>=0&&i<10)return{isSplittedColor:!0,key:n,shade:i}}return{isSplittedColor:!1}}function Nfe(e){const t=kN(e),n=h_(e),r=YH(e);return({variant:i,color:s,gradient:o,primaryFallback:a})=>{const u=Rfe(s,e);switch(i){case"light":return{border:"transparent",background:wh(t(s,e.colorScheme==="dark"?8:0,a,!1),e.colorScheme==="dark"?.2:1),color:s==="dark"?e.colorScheme==="dark"?e.colors.dark[0]:e.colors.dark[9]:t(s,e.colorScheme==="dark"?2:n("light")),hover:wh(t(s,e.colorScheme==="dark"?7:1,a,!1),e.colorScheme==="dark"?.25:.65)};case"subtle":return{border:"transparent",background:"transparent",color:s==="dark"?e.colorScheme==="dark"?e.colors.dark[0]:e.colors.dark[9]:t(s,e.colorScheme==="dark"?2:n("light")),hover:wh(t(s,e.colorScheme==="dark"?8:0,a,!1),e.colorScheme==="dark"?.2:1)};case"outline":return{border:t(s,e.colorScheme==="dark"?5:n("light")),background:"transparent",color:t(s,e.colorScheme==="dark"?5:n("light")),hover:e.colorScheme==="dark"?wh(t(s,5,a,!1),.05):wh(t(s,0,a,!1),.35)};case"default":return{border:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4],background:e.colorScheme==="dark"?e.colors.dark[6]:e.white,color:e.colorScheme==="dark"?e.white:e.black,hover:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[0]};case"white":return{border:"transparent",background:e.white,color:t(s,n()),hover:null};case"transparent":return{border:"transparent",color:s==="dark"?e.colorScheme==="dark"?e.colors.dark[0]:e.colors.dark[9]:t(s,e.colorScheme==="dark"?2:n("light")),background:"transparent",hover:null};case"gradient":return{background:r(o),color:e.white,border:"transparent",hover:null};default:{const l=n(),c=u.isSplittedColor?u.shade:l,f=u.isSplittedColor?u.key:s;return{border:"transparent",background:t(f,c,a),color:e.white,hover:t(f,c===9?8:c+1)}}}}}function kfe(e){return t=>{const n=h_(e)(t);return e.colors[e.primaryColor][n]}}function Dfe(e){return{"@media (hover: hover)":{"&:hover":e},"@media (hover: none)":{"&:active":e}}}const ri={fontStyles:mfe,themeColor:kN,focusStyles:vfe,linearGradient:bfe,radialGradient:Efe,smallerThan:Tfe,largerThan:wfe,rgba:wh,size:DN,cover:Cfe,darken:Afe,lighten:Ofe,radius:Pfe,variant:Nfe,primaryShade:h_,hover:Dfe,gradient:YH,primaryColor:kfe};var $fe=Object.defineProperty,Lfe=Object.defineProperties,Mfe=Object.getOwnPropertyDescriptors,gM=Object.getOwnPropertySymbols,Ffe=Object.prototype.hasOwnProperty,Bfe=Object.prototype.propertyIsEnumerable,yM=(e,t,n)=>t in e?$fe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jfe=(e,t)=>{for(var n in t||(t={}))Ffe.call(t,n)&&yM(e,n,t[n]);if(gM)for(var n of gM(t))Bfe.call(t,n)&&yM(e,n,t[n]);return e},Ufe=(e,t)=>Lfe(e,Mfe(t));function Vfe(e){return Ufe(jfe({},e),{fn:{fontStyles:ri.fontStyles(e),themeColor:ri.themeColor(e),focusStyles:ri.focusStyles(e),largerThan:ri.largerThan(e),smallerThan:ri.smallerThan(e),radialGradient:ri.radialGradient,linearGradient:ri.linearGradient,gradient:ri.gradient(e),rgba:ri.rgba,size:ri.size,cover:ri.cover,lighten:ri.lighten,darken:ri.darken,primaryShade:ri.primaryShade(e),radius:ri.radius(e),variant:ri.variant(e),hover:ri.hover,primaryColor:ri.primaryColor(e)}})}const zfe=["xs","sm","md","lg","xl"],Hfe={dir:"ltr",primaryShade:{light:6,dark:8},focusRing:"auto",loader:"oval",dateFormat:"MMMM D, YYYY",colorScheme:"light",white:"#fff",black:"#000",defaultRadius:"sm",transitionTimingFunction:"ease",colors:pfe,lineHeight:1.55,fontFamily:"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",primaryColor:"blue",respectReducedMotion:!0,cursorType:"default",defaultGradient:{from:"indigo",to:"cyan",deg:45},shadows:{xs:"0 1px 3px rgba(0, 0, 0, 0.05), 0 1px 2px rgba(0, 0, 0, 0.1)",sm:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 10px 15px -5px, rgba(0, 0, 0, 0.04) 0px 7px 7px -5px",md:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 20px 25px -5px, rgba(0, 0, 0, 0.04) 0px 10px 10px -5px",lg:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 28px 23px -7px, rgba(0, 0, 0, 0.04) 0px 12px 12px -7px",xl:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 36px 28px -7px, rgba(0, 0, 0, 0.04) 0px 17px 17px -7px"},fontSizes:{xs:12,sm:14,md:16,lg:18,xl:20},radius:{xs:2,sm:4,md:8,lg:16,xl:32},spacing:{xs:10,sm:12,md:16,lg:20,xl:24},breakpoints:{xs:576,sm:768,md:992,lg:1200,xl:1400},headings:{fontFamily:"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",fontWeight:700,sizes:{h1:{fontSize:34,lineHeight:1.3,fontWeight:void 0},h2:{fontSize:26,lineHeight:1.35,fontWeight:void 0},h3:{fontSize:22,lineHeight:1.4,fontWeight:void 0},h4:{fontSize:18,lineHeight:1.45,fontWeight:void 0},h5:{fontSize:16,lineHeight:1.5,fontWeight:void 0},h6:{fontSize:14,lineHeight:1.5,fontWeight:void 0}}},other:{},components:{},activeStyles:{transform:"translateY(1px)"},datesLocale:"en",globalStyles:void 0,focusRingStyles:{styles:e=>({outlineOffset:2,outline:`2px solid ${e.colors[e.primaryColor][e.colorScheme==="dark"?7:5]}`}),resetStyles:()=>({outline:"none"}),inputStyles:e=>({outline:"none",borderColor:e.colors[e.primaryColor][typeof e.primaryShade=="object"?e.primaryShade[e.colorScheme]:e.primaryShade]})}},GH=Vfe(Hfe);function qfe(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function Wfe(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var Yfe=function(){function e(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Wfe(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=qfe(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},e}(),ji="-ms-",qb="-moz-",wn="-webkit-",KH="comm",LN="rule",MN="decl",Gfe="@import",QH="@keyframes",Kfe=Math.abs,pS=String.fromCharCode,Qfe=Object.assign;function Xfe(e,t){return Ii(e,0)^45?(((t<<2^Ii(e,0))<<2^Ii(e,1))<<2^Ii(e,2))<<2^Ii(e,3):0}function XH(e){return e.trim()}function Jfe(e,t){return(e=t.exec(e))?e[0]:e}function xn(e,t,n){return e.replace(t,n)}function fP(e,t){return e.indexOf(t)}function Ii(e,t){return e.charCodeAt(t)|0}function cy(e,t,n){return e.slice(t,n)}function za(e){return e.length}function FN(e){return e.length}function Av(e,t){return t.push(e),e}function Zfe(e,t){return e.map(t).join("")}var mS=1,jp=1,JH=0,Ms=0,Fr=0,xm="";function gS(e,t,n,r,i,s,o){return{value:e,root:t,parent:n,type:r,props:i,children:s,line:mS,column:jp,length:o,return:""}}function g0(e,t){return Qfe(gS("",null,null,"",null,null,0),e,{length:-e.length},t)}function ede(){return Fr}function tde(){return Fr=Ms>0?Ii(xm,--Ms):0,jp--,Fr===10&&(jp=1,mS--),Fr}function oo(){return Fr=Ms<JH?Ii(xm,Ms++):0,jp++,Fr===10&&(jp=1,mS++),Fr}function au(){return Ii(xm,Ms)}function j1(){return Ms}function p_(e,t){return cy(xm,e,t)}function fy(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function ZH(e){return mS=jp=1,JH=za(xm=e),Ms=0,[]}function eq(e){return xm="",e}function U1(e){return XH(p_(Ms-1,dP(e===91?e+2:e===40?e+1:e)))}function nde(e){for(;(Fr=au())&&Fr<33;)oo();return fy(e)>2||fy(Fr)>3?"":" "}function rde(e,t){for(;--t&&oo()&&!(Fr<48||Fr>102||Fr>57&&Fr<65||Fr>70&&Fr<97););return p_(e,j1()+(t<6&&au()==32&&oo()==32))}function dP(e){for(;oo();)switch(Fr){case e:return Ms;case 34:case 39:e!==34&&e!==39&&dP(Fr);break;case 40:e===41&&dP(e);break;case 92:oo();break}return Ms}function ide(e,t){for(;oo()&&e+Fr!==57;)if(e+Fr===84&&au()===47)break;return"/*"+p_(t,Ms-1)+"*"+pS(e===47?e:oo())}function sde(e){for(;!fy(au());)oo();return p_(e,Ms)}function ode(e){return eq(V1("",null,null,null,[""],e=ZH(e),0,[0],e))}function V1(e,t,n,r,i,s,o,a,u){for(var l=0,c=0,f=o,d=0,h=0,p=0,m=1,y=1,g=1,_=0,b="",T=i,I=s,E=r,S=b;y;)switch(p=_,_=oo()){case 40:if(p!=108&&Ii(S,f-1)==58){fP(S+=xn(U1(_),"&","&\f"),"&\f")!=-1&&(g=-1);break}case 34:case 39:case 91:S+=U1(_);break;case 9:case 10:case 13:case 32:S+=nde(p);break;case 92:S+=rde(j1()-1,7);continue;case 47:switch(au()){case 42:case 47:Av(ade(ide(oo(),j1()),t,n),u);break;default:S+="/"}break;case 123*m:a[l++]=za(S)*g;case 125*m:case 59:case 0:switch(_){case 0:case 125:y=0;case 59+c:h>0&&za(S)-f&&Av(h>32?vM(S+";",r,n,f-1):vM(xn(S," ","")+";",r,n,f-2),u);break;case 59:S+=";";default:if(Av(E=_M(S,t,n,l,c,i,a,b,T=[],I=[],f),s),_===123)if(c===0)V1(S,t,E,E,T,s,f,a,I);else switch(d===99&&Ii(S,3)===110?100:d){case 100:case 109:case 115:V1(e,E,E,r&&Av(_M(e,E,E,0,0,i,a,b,i,T=[],f),I),i,I,f,a,r?T:I);break;default:V1(S,E,E,E,[""],I,0,a,I)}}l=c=h=0,m=g=1,b=S="",f=o;break;case 58:f=1+za(S),h=p;default:if(m<1){if(_==123)--m;else if(_==125&&m++==0&&tde()==125)continue}switch(S+=pS(_),_*m){case 38:g=c>0?1:(S+="\f",-1);break;case 44:a[l++]=(za(S)-1)*g,g=1;break;case 64:au()===45&&(S+=U1(oo())),d=au(),c=f=za(b=S+=sde(j1())),_++;break;case 45:p===45&&za(S)==2&&(m=0)}}return s}function _M(e,t,n,r,i,s,o,a,u,l,c){for(var f=i-1,d=i===0?s:[""],h=FN(d),p=0,m=0,y=0;p<r;++p)for(var g=0,_=cy(e,f+1,f=Kfe(m=o[p])),b=e;g<h;++g)(b=XH(m>0?d[g]+" "+_:xn(_,/&\f/g,d[g])))&&(u[y++]=b);return gS(e,t,n,i===0?LN:a,u,l,c)}function ade(e,t,n){return gS(e,t,n,KH,pS(ede()),cy(e,2,-2),0)}function vM(e,t,n,r){return gS(e,t,n,MN,cy(e,0,r),cy(e,r+1,-1),r)}function lp(e,t){for(var n="",r=FN(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function ude(e,t,n,r){switch(e.type){case Gfe:case MN:return e.return=e.return||e.value;case KH:return"";case QH:return e.return=e.value+"{"+lp(e.children,r)+"}";case LN:e.value=e.props.join(",")}return za(n=lp(e.children,r))?e.return=e.value+"{"+n+"}":""}function lde(e){var t=FN(e);return function(n,r,i,s){for(var o="",a=0;a<t;a++)o+=e[a](n,r,i,s)||"";return o}}function cde(e){return function(t){t.root||(t=t.return)&&e(t)}}function fde(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var dde=function(t,n,r){for(var i=0,s=0;i=s,s=au(),i===38&&s===12&&(n[r]=1),!fy(s);)oo();return p_(t,Ms)},hde=function(t,n){var r=-1,i=44;do switch(fy(i)){case 0:i===38&&au()===12&&(n[r]=1),t[r]+=dde(Ms-1,n,r);break;case 2:t[r]+=U1(i);break;case 4:if(i===44){t[++r]=au()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=pS(i)}while(i=oo());return t},pde=function(t,n){return eq(hde(ZH(t),n))},bM=new WeakMap,mde=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!bM.get(r))&&!i){bM.set(t,!0);for(var s=[],o=pde(n,s),a=r.props,u=0,l=0;u<o.length;u++)for(var c=0;c<a.length;c++,l++)t.props[l]=s[u]?o[u].replace(/&\f/g,a[c]):a[c]+" "+o[u]}}},gde=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function tq(e,t){switch(Xfe(e,t)){case 5103:return wn+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return wn+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return wn+e+qb+e+ji+e+e;case 6828:case 4268:return wn+e+ji+e+e;case 6165:return wn+e+ji+"flex-"+e+e;case 5187:return wn+e+xn(e,/(\w+).+(:[^]+)/,wn+"box-$1$2"+ji+"flex-$1$2")+e;case 5443:return wn+e+ji+"flex-item-"+xn(e,/flex-|-self/,"")+e;case 4675:return wn+e+ji+"flex-line-pack"+xn(e,/align-content|flex-|-self/,"")+e;case 5548:return wn+e+ji+xn(e,"shrink","negative")+e;case 5292:return wn+e+ji+xn(e,"basis","preferred-size")+e;case 6060:return wn+"box-"+xn(e,"-grow","")+wn+e+ji+xn(e,"grow","positive")+e;case 4554:return wn+xn(e,/([^-])(transform)/g,"$1"+wn+"$2")+e;case 6187:return xn(xn(xn(e,/(zoom-|grab)/,wn+"$1"),/(image-set)/,wn+"$1"),e,"")+e;case 5495:case 3959:return xn(e,/(image-set\([^]*)/,wn+"$1$`$1");case 4968:return xn(xn(e,/(.+:)(flex-)?(.*)/,wn+"box-pack:$3"+ji+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+wn+e+e;case 4095:case 3583:case 4068:case 2532:return xn(e,/(.+)-inline(.+)/,wn+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(za(e)-1-t>6)switch(Ii(e,t+1)){case 109:if(Ii(e,t+4)!==45)break;case 102:return xn(e,/(.+:)(.+)-([^]+)/,"$1"+wn+"$2-$3$1"+qb+(Ii(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~fP(e,"stretch")?tq(xn(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Ii(e,t+1)!==115)break;case 6444:switch(Ii(e,za(e)-3-(~fP(e,"!important")&&10))){case 107:return xn(e,":",":"+wn)+e;case 101:return xn(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+wn+(Ii(e,14)===45?"inline-":"")+"box$3$1"+wn+"$2$3$1"+ji+"$2box$3")+e}break;case 5936:switch(Ii(e,t+11)){case 114:return wn+e+ji+xn(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return wn+e+ji+xn(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return wn+e+ji+xn(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return wn+e+ji+e+e}return e}var yde=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case MN:t.return=tq(t.value,t.length);break;case QH:return lp([g0(t,{value:xn(t.value,"@","@"+wn)})],i);case LN:if(t.length)return Zfe(t.props,function(s){switch(Jfe(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return lp([g0(t,{props:[xn(s,/:(read-\w+)/,":"+qb+"$1")]})],i);case"::placeholder":return lp([g0(t,{props:[xn(s,/:(plac\w+)/,":"+wn+"input-$1")]}),g0(t,{props:[xn(s,/:(plac\w+)/,":"+qb+"$1")]}),g0(t,{props:[xn(s,/:(plac\w+)/,ji+"input-$1")]})],i)}return""})}},_de=[yde],vde=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(m){var y=m.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var i=t.stylisPlugins||_de,s={},o,a=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(m){for(var y=m.getAttribute("data-emotion").split(" "),g=1;g<y.length;g++)s[y[g]]=!0;a.push(m)});var u,l=[mde,gde];{var c,f=[ude,cde(function(m){c.insert(m)})],d=lde(l.concat(i,f)),h=function(y){return lp(ode(y),d)};u=function(y,g,_,b){c=_,h(y?y+"{"+g.styles+"}":g.styles),b&&(p.inserted[g.name]=!0)}}var p={key:n,sheet:new Yfe({key:n,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:s,registered:{},insert:u};return p.sheet.hydrate(a),p};const nq=vde;function ur(){return ur=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ur.apply(this,arguments)}var rq={exports:{}},Rn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var di=typeof Symbol=="function"&&Symbol.for,BN=di?Symbol.for("react.element"):60103,jN=di?Symbol.for("react.portal"):60106,yS=di?Symbol.for("react.fragment"):60107,_S=di?Symbol.for("react.strict_mode"):60108,vS=di?Symbol.for("react.profiler"):60114,bS=di?Symbol.for("react.provider"):60109,ES=di?Symbol.for("react.context"):60110,UN=di?Symbol.for("react.async_mode"):60111,wS=di?Symbol.for("react.concurrent_mode"):60111,TS=di?Symbol.for("react.forward_ref"):60112,SS=di?Symbol.for("react.suspense"):60113,bde=di?Symbol.for("react.suspense_list"):60120,IS=di?Symbol.for("react.memo"):60115,xS=di?Symbol.for("react.lazy"):60116,Ede=di?Symbol.for("react.block"):60121,wde=di?Symbol.for("react.fundamental"):60117,Tde=di?Symbol.for("react.responder"):60118,Sde=di?Symbol.for("react.scope"):60119;function _o(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case BN:switch(e=e.type,e){case UN:case wS:case yS:case vS:case _S:case SS:return e;default:switch(e=e&&e.$$typeof,e){case ES:case TS:case xS:case IS:case bS:return e;default:return t}}case jN:return t}}}function iq(e){return _o(e)===wS}Rn.AsyncMode=UN;Rn.ConcurrentMode=wS;Rn.ContextConsumer=ES;Rn.ContextProvider=bS;Rn.Element=BN;Rn.ForwardRef=TS;Rn.Fragment=yS;Rn.Lazy=xS;Rn.Memo=IS;Rn.Portal=jN;Rn.Profiler=vS;Rn.StrictMode=_S;Rn.Suspense=SS;Rn.isAsyncMode=function(e){return iq(e)||_o(e)===UN};Rn.isConcurrentMode=iq;Rn.isContextConsumer=function(e){return _o(e)===ES};Rn.isContextProvider=function(e){return _o(e)===bS};Rn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===BN};Rn.isForwardRef=function(e){return _o(e)===TS};Rn.isFragment=function(e){return _o(e)===yS};Rn.isLazy=function(e){return _o(e)===xS};Rn.isMemo=function(e){return _o(e)===IS};Rn.isPortal=function(e){return _o(e)===jN};Rn.isProfiler=function(e){return _o(e)===vS};Rn.isStrictMode=function(e){return _o(e)===_S};Rn.isSuspense=function(e){return _o(e)===SS};Rn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===yS||e===wS||e===vS||e===_S||e===SS||e===bde||typeof e=="object"&&e!==null&&(e.$$typeof===xS||e.$$typeof===IS||e.$$typeof===bS||e.$$typeof===ES||e.$$typeof===TS||e.$$typeof===wde||e.$$typeof===Tde||e.$$typeof===Sde||e.$$typeof===Ede)};Rn.typeOf=_o;rq.exports=Rn;var Ide=rq.exports,sq=Ide,xde={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Cde={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},oq={};oq[sq.ForwardRef]=xde;oq[sq.Memo]=Cde;var Ade=!0;function Ode(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):r+=i+" "}),r}var Pde=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||Ade===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},aq=function(t,n,r){Pde(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var s=n;do t.insert(n===s?"."+i:"",s,t.sheet,!0),s=s.next;while(s!==void 0)}};function Rde(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var Nde={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},kde=/[A-Z]|^ms/g,Dde=/_EMO_([^_]+?)_([^]*?)_EMO_/g,uq=function(t){return t.charCodeAt(1)===45},EM=function(t){return t!=null&&typeof t!="boolean"},uC=fde(function(e){return uq(e)?e:e.replace(kde,"-$&").toLowerCase()}),wM=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(Dde,function(r,i,s){return Ha={name:i,styles:s,next:Ha},i})}return Nde[t]!==1&&!uq(t)&&typeof n=="number"&&n!==0?n+"px":n};function dy(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Ha={name:n.name,styles:n.styles,next:Ha},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Ha={name:r.name,styles:r.styles,next:Ha},r=r.next;var i=n.styles+";";return i}return $de(e,t,n)}case"function":{if(e!==void 0){var s=Ha,o=n(e);return Ha=s,dy(e,t,o)}break}}if(t==null)return n;var a=t[n];return a!==void 0?a:n}function $de(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=dy(e,t,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")t!=null&&t[o]!==void 0?r+=s+"{"+t[o]+"}":EM(o)&&(r+=uC(s)+":"+wM(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(t==null||t[o[0]]===void 0))for(var a=0;a<o.length;a++)EM(o[a])&&(r+=uC(s)+":"+wM(s,o[a])+";");else{var u=dy(e,t,o);switch(s){case"animation":case"animationName":{r+=uC(s)+":"+u+";";break}default:r+=s+"{"+u+"}"}}}return r}var TM=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Ha,VN=function(t,n,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,s="";Ha=void 0;var o=t[0];o==null||o.raw===void 0?(i=!1,s+=dy(r,n,o)):s+=o[0];for(var a=1;a<t.length;a++)s+=dy(r,n,t[a]),i&&(s+=o[a]);TM.lastIndex=0;for(var u="",l;(l=TM.exec(s))!==null;)u+="-"+l[1];var c=Rde(s)+u;return{name:c,styles:s,next:Ha}},Lde=bd.useInsertionEffect?bd.useInsertionEffect:!1,SM=Lde||w.useLayoutEffect,lq=w.createContext(typeof HTMLElement<"u"?nq({key:"css"}):null);lq.Provider;var Mde=function(t){return w.forwardRef(function(n,r){var i=w.useContext(lq);return t(n,i,r)})},Fde=w.createContext({}),Bde=Mde(function(e,t){var n=e.styles,r=VN([n],void 0,w.useContext(Fde)),i=w.useRef();return SM(function(){var s=t.key+"-global",o=new t.sheet.constructor({key:s,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),a=!1,u=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return t.sheet.tags.length&&(o.before=t.sheet.tags[0]),u!==null&&(a=!0,u.setAttribute("data-emotion",s),o.hydrate([u])),i.current=[o,a],function(){o.flush()}},[t]),SM(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&aq(t,r.next,!0),o.tags.length){var u=o.tags[o.tags.length-1].nextElementSibling;o.before=u,o.flush()}t.insert("",r,o,!1)},[t,r.name]),null});function cq(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return VN(t)}var jde=function(){var t=cq.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function fq(e){return Object.keys(e).reduce((t,n)=>(e[n]!==void 0&&(t[n]=e[n]),t),{})}var Ude=Object.defineProperty,IM=Object.getOwnPropertySymbols,Vde=Object.prototype.hasOwnProperty,zde=Object.prototype.propertyIsEnumerable,xM=(e,t,n)=>t in e?Ude(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lC=(e,t)=>{for(var n in t||(t={}))Vde.call(t,n)&&xM(e,n,t[n]);if(IM)for(var n of IM(t))zde.call(t,n)&&xM(e,n,t[n]);return e};const dq=w.createContext({theme:GH});function Zi(){var e;return((e=w.useContext(dq))==null?void 0:e.theme)||GH}function Hde(e){const t=Zi(),n=r=>{var i,s;return{styles:((i=t.components[r])==null?void 0:i.styles)||{},classNames:((s=t.components[r])==null?void 0:s.classNames)||{}}};return Array.isArray(e)?e.map(n):[n(e)]}function hq(){var e;return(e=w.useContext(dq))==null?void 0:e.emotionCache}function dt(e,t,n){var r;const s=(r=Zi().components[e])==null?void 0:r.defaultProps;return lC(lC(lC({},t),s),fq(n))}const pq=w.createContext({classNames:{},styles:{},unstyled:!1});function mq({children:e,classNames:t,unstyled:n,styles:r,staticSelector:i}){return k.createElement(pq.Provider,{value:{classNames:t,styles:r,unstyled:n,staticSelector:i}},e)}function m_(){return w.useContext(pq)}const qde={app:100,modal:200,popover:300,overlay:400,max:9999};function vo(e){return qde[e]}function Wde(e,t){const n=w.useRef();return(!n.current||t.length!==n.current.prevDeps.length||n.current.prevDeps.map((r,i)=>r===t[i]).indexOf(!1)>=0)&&(n.current={v:e(),prevDeps:[...t]}),n.current.v}const Yde=nq({key:"mantine",prepend:!0});function Gde(){return hq()||Yde}var Kde=Object.defineProperty,CM=Object.getOwnPropertySymbols,Qde=Object.prototype.hasOwnProperty,Xde=Object.prototype.propertyIsEnumerable,AM=(e,t,n)=>t in e?Kde(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Jde=(e,t)=>{for(var n in t||(t={}))Qde.call(t,n)&&AM(e,n,t[n]);if(CM)for(var n of CM(t))Xde.call(t,n)&&AM(e,n,t[n]);return e};const cC="ref";function Zde(e){let t;if(e.length!==1)return{args:e,ref:t};const[n]=e;if(!(n instanceof Object))return{args:e,ref:t};if(!(cC in n))return{args:e,ref:t};t=n[cC];const r=Jde({},n);return delete r[cC],{args:[r],ref:t}}const{cssFactory:ehe}=(()=>{function e(n,r,i){const s=[],o=Ode(n,s,i);return s.length<2?i:o+r(s)}function t(n){const{cache:r}=n,i=(...o)=>{const{ref:a,args:u}=Zde(o),l=VN(u,r.registered);return aq(r,l,!1),`${r.key}-${l.name}${a===void 0?"":` ${a}`}`};return{css:i,cx:(...o)=>e(r.registered,i,qH(o))}}return{cssFactory:t}})();function gq(){const e=Gde();return Wde(()=>ehe({cache:e}),[e])}function the({cx:e,classes:t,context:n,classNames:r,name:i,cache:s}){const o=n.reduce((a,u)=>(Object.keys(u.classNames).forEach(l=>{typeof a[l]!="string"?a[l]=`${u.classNames[l]}`:a[l]=`${a[l]} ${u.classNames[l]}`}),a),{});return Object.keys(t).reduce((a,u)=>(a[u]=e(t[u],o[u],r!=null&&r[u],Array.isArray(i)?i.filter(Boolean).map(l=>`${(s==null?void 0:s.key)||"mantine"}-${l}-${u}`).join(" "):i?`${(s==null?void 0:s.key)||"mantine"}-${i}-${u}`:null),a),{})}var nhe=Object.defineProperty,OM=Object.getOwnPropertySymbols,rhe=Object.prototype.hasOwnProperty,ihe=Object.prototype.propertyIsEnumerable,PM=(e,t,n)=>t in e?nhe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fC=(e,t)=>{for(var n in t||(t={}))rhe.call(t,n)&&PM(e,n,t[n]);if(OM)for(var n of OM(t))ihe.call(t,n)&&PM(e,n,t[n]);return e};function she(e){return`__mantine-ref-${e||""}`}function RM(e,t,n){const r=i=>typeof i=="function"?i(t,n||{}):i||{};return Array.isArray(e)?e.map(i=>r(i.styles)).reduce((i,s)=>(Object.keys(s).forEach(o=>{i[o]?i[o]=fC(fC({},i[o]),s[o]):i[o]=fC({},s[o])}),i),{}):r(e)}function at(e){const t=typeof e=="function"?e:()=>e;function n(r,i){const s=Zi(),o=Hde(i==null?void 0:i.name),a=hq(),{css:u,cx:l}=gq(),c=t(s,r,she),f=RM(i==null?void 0:i.styles,s,r),d=RM(o,s,r),h=Object.fromEntries(Object.keys(c).map(p=>{const m=l({[u(c[p])]:!(i!=null&&i.unstyled)},u(d[p]),u(f[p]));return[p,m]}));return{classes:the({cx:l,classes:h,context:o,classNames:i==null?void 0:i.classNames,name:i==null?void 0:i.name,cache:a}),cx:l,theme:s}}return n}function yq({styles:e}){const t=Zi();return k.createElement(Bde,{styles:cq(typeof e=="function"?e(t):e)})}var ohe=Object.defineProperty,ahe=Object.defineProperties,uhe=Object.getOwnPropertyDescriptors,NM=Object.getOwnPropertySymbols,lhe=Object.prototype.hasOwnProperty,che=Object.prototype.propertyIsEnumerable,kM=(e,t,n)=>t in e?ohe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,y0=(e,t)=>{for(var n in t||(t={}))lhe.call(t,n)&&kM(e,n,t[n]);if(NM)for(var n of NM(t))che.call(t,n)&&kM(e,n,t[n]);return e},_0=(e,t)=>ahe(e,uhe(t));const v0={in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(.9) translateY(10px)"},transitionProperty:"transform, opacity"},Ov={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:_0(y0({},v0),{common:{transformOrigin:"center center"}}),"pop-bottom-left":_0(y0({},v0),{common:{transformOrigin:"bottom left"}}),"pop-bottom-right":_0(y0({},v0),{common:{transformOrigin:"bottom right"}}),"pop-top-left":_0(y0({},v0),{common:{transformOrigin:"top left"}}),"pop-top-right":_0(y0({},v0),{common:{transformOrigin:"top right"}})},DM=["mousedown","touchstart"];function fhe(e,t,n){const r=w.useRef();return w.useEffect(()=>{const i=s=>{const{target:o}=s??{};if(Array.isArray(n)){const a=(o==null?void 0:o.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(o);n.every(l=>!!l&&!l.contains(o))&&!a&&e()}else r.current&&!r.current.contains(o)&&e()};return(t||DM).forEach(s=>document.addEventListener(s,i)),()=>{(t||DM).forEach(s=>document.removeEventListener(s,i))}},[r,e,n]),r}function dhe(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch{return e.addListener(t),()=>e.removeListener(t)}}function hhe(e,t){return typeof t=="boolean"?t:typeof window<"u"&&"matchMedia"in window?window.matchMedia(e).matches:!1}function phe(e,t,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[r,i]=w.useState(n?!1:hhe(e,t)),s=w.useRef();return w.useEffect(()=>{if("matchMedia"in window)return s.current=window.matchMedia(e),i(s.current.matches),dhe(s.current,o=>i(o.matches))},[e]),r}function Nc(e,t,n){return Math.min(Math.max(e,t),n)}const zN=typeof document<"u"?w.useLayoutEffect:w.useEffect;function ao(e,t){const n=w.useRef(!1);w.useEffect(()=>()=>{n.current=!1},[]),w.useEffect(()=>{if(n.current)return e();n.current=!0},t)}function _q({opened:e,shouldReturnFocus:t=!0}){const n=w.useRef(),r=()=>{var i;n.current&&"focus"in n.current&&typeof n.current.focus=="function"&&((i=n.current)==null||i.focus({preventScroll:!0}))};return ao(()=>{let i=-1;const s=o=>{o.key==="Tab"&&window.clearTimeout(i)};return document.addEventListener("keydown",s),e?n.current=document.activeElement:t&&(i=window.setTimeout(r,10)),()=>{window.clearTimeout(i),document.removeEventListener("keydown",s)}},[e,t]),r}const mhe=/input|select|textarea|button|object/,vq="a, input, select, textarea, button, object, [tabindex]";function ghe(e){return e.style.display==="none"}function yhe(e){if(e.getAttribute("aria-hidden")||e.getAttribute("hidden")||e.getAttribute("type")==="hidden")return!1;let n=e;for(;n&&n!==document.body;){if(ghe(n))return!1;n=n.parentNode}return!0}function bq(e){let t=e.getAttribute("tabindex");return t===null&&(t=void 0),parseInt(t,10)}function hP(e){const t=e.nodeName.toLowerCase(),n=!Number.isNaN(bq(e));return(mhe.test(t)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||n)&&yhe(e)}function Eq(e){const t=bq(e);return(Number.isNaN(t)||t>=0)&&hP(e)}function _he(e){return Array.from(e.querySelectorAll(vq)).filter(Eq)}function vhe(e,t){const n=_he(e);if(!n.length){t.preventDefault();return}if(!(n[t.shiftKey?0:n.length-1]===document.activeElement||e===document.activeElement))return;t.preventDefault();const s=n[t.shiftKey?n.length-1:0];s&&s.focus()}function bhe(e,t="body > :not(script)"){const n=Array.from(document.querySelectorAll(t)).map(r=>{if(r.contains(e))return;const i=r.getAttribute("aria-hidden");return(i===null||i==="false")&&r.setAttribute("aria-hidden","true"),{node:r,ariaHidden:i}});return()=>{n.forEach(r=>{r&&(r.ariaHidden===null?r.node.removeAttribute("aria-hidden"):r.node.setAttribute("aria-hidden",r.ariaHidden))})}}function wq(e=!0){const t=w.useRef(),n=w.useRef(null),r=w.useCallback(i=>{if(e&&i!==null&&(n.current=bhe(i),t.current!==i))if(i){const s=()=>{let o=i.querySelector("[data-autofocus]");if(!o){const a=Array.from(i.querySelectorAll(vq));o=a.find(Eq)||a.find(hP)||null,!o&&hP(i)&&(o=i)}o&&o.focus({preventScroll:!0})};setTimeout(()=>{i.ownerDocument&&s()}),t.current=i}else t.current=null},[e]);return w.useEffect(()=>{if(!e)return;const i=s=>{s.key==="Tab"&&t.current&&vhe(t.current,s)};return document.addEventListener("keydown",i),()=>{document.removeEventListener("keydown",i),n.current&&n.current()}},[e]),r}const Ehe=()=>`mantine-${Math.random().toString(36).slice(2,11)}`,whe=k.useId||(()=>{});function The(){const[e,t]=w.useState("");return zN(()=>{t(Ehe())},[]),e}function She(){const e=whe();return e?`mantine-${e.replace(/:/g,"")}`:""}function Ou(e){return typeof e=="string"?e:She()||The()}function pP(e,t,n){w.useEffect(()=>(window.addEventListener(e,t,n),()=>window.removeEventListener(e,t,n)),[e,t])}function Tq(e,t){typeof e=="function"?e(t):typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function Ihe(...e){return t=>{e.forEach(n=>Tq(n,t))}}function Ho(...e){return w.useCallback(Ihe(...e),e)}function Sq(e,t,n="ltr"){const r=w.useRef(),i=w.useRef(!1),s=w.useRef(!1),o=w.useRef(0),[a,u]=w.useState(!1);return w.useEffect(()=>{i.current=!0},[]),w.useEffect(()=>{const l=({x:_,y:b})=>{cancelAnimationFrame(o.current),o.current=requestAnimationFrame(()=>{if(i.current&&r.current){r.current.style.userSelect="none";const T=r.current.getBoundingClientRect();if(T.width&&T.height){const I=Nc((_-T.left)/T.width,0,1);e({x:n==="ltr"?I:1-I,y:Nc((b-T.top)/T.height,0,1)})}}})},c=()=>{document.addEventListener("mousemove",m),document.addEventListener("mouseup",h),document.addEventListener("touchmove",g),document.addEventListener("touchend",h)},f=()=>{document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",h),document.removeEventListener("touchmove",g),document.removeEventListener("touchend",h)},d=()=>{!s.current&&i.current&&(s.current=!0,typeof(t==null?void 0:t.onScrubStart)=="function"&&t.onScrubStart(),u(!0),c())},h=()=>{s.current&&i.current&&(s.current=!1,u(!1),f(),setTimeout(()=>{typeof(t==null?void 0:t.onScrubEnd)=="function"&&t.onScrubEnd()},0))},p=_=>{d(),m(_)},m=_=>l({x:_.clientX,y:_.clientY}),y=_=>{_.cancelable&&_.preventDefault(),d(),g(_)},g=_=>{_.cancelable&&_.preventDefault(),l({x:_.changedTouches[0].clientX,y:_.changedTouches[0].clientY})};return r.current.addEventListener("mousedown",p),r.current.addEventListener("touchstart",y,{passive:!1}),()=>{r.current&&(r.current.removeEventListener("mousedown",p),r.current.removeEventListener("touchstart",y))}},[n,e]),{ref:r,active:a}}function Ta({value:e,defaultValue:t,finalValue:n,onChange:r=()=>{}}){const[i,s]=w.useState(t!==void 0?t:n),o=a=>{s(a),r==null||r(a)};return e!==void 0?[e,r,!0]:[i,o,!1]}function HN(e,t){return phe("(prefers-reduced-motion: reduce)",e,t)}const xhe=e=>e<.5?2*e*e:-1+(4-2*e)*e,Che=({axis:e,target:t,parent:n,alignment:r,offset:i,isList:s})=>{if(!t||!n&&typeof document>"u")return 0;const o=!!n,u=(n||document.body).getBoundingClientRect(),l=t.getBoundingClientRect(),c=f=>l[f]-u[f];if(e==="y"){const f=c("top");if(f===0)return 0;if(r==="start"){const h=f-i;return h<=l.height*(s?0:1)||!s?h:0}const d=o?u.height:window.innerHeight;if(r==="end"){const h=f+i-d+l.height;return h>=-l.height*(s?0:1)||!s?h:0}return r==="center"?f-d/2+l.height/2:0}if(e==="x"){const f=c("left");if(f===0)return 0;if(r==="start"){const h=f-i;return h<=l.width||!s?h:0}const d=o?u.width:window.innerWidth;if(r==="end"){const h=f+i-d+l.width;return h>=-l.width||!s?h:0}return r==="center"?f-d/2+l.width/2:0}return 0},Ahe=({axis:e,parent:t})=>{if(!t&&typeof document>"u")return 0;const n=e==="y"?"scrollTop":"scrollLeft";if(t)return t[n];const{body:r,documentElement:i}=document;return r[n]+i[n]},Ohe=({axis:e,parent:t,distance:n})=>{if(!t&&typeof document>"u")return;const r=e==="y"?"scrollTop":"scrollLeft";if(t)t[r]=n;else{const{body:i,documentElement:s}=document;i[r]=n,s[r]=n}};function Iq({duration:e=1250,axis:t="y",onScrollFinish:n,easing:r=xhe,offset:i=0,cancelable:s=!0,isList:o=!1}={}){const a=w.useRef(0),u=w.useRef(0),l=w.useRef(!1),c=w.useRef(null),f=w.useRef(null),d=HN(),h=()=>{a.current&&cancelAnimationFrame(a.current)},p=w.useCallback(({alignment:y="start"}={})=>{var g;l.current=!1,a.current&&h();const _=(g=Ahe({parent:c.current,axis:t}))!=null?g:0,b=Che({parent:c.current,target:f.current,axis:t,alignment:y,offset:i,isList:o})-(c.current?0:_);function T(){u.current===0&&(u.current=performance.now());const E=performance.now()-u.current,S=d||e===0?1:E/e,A=_+b*r(S);Ohe({parent:c.current,axis:t,distance:A}),!l.current&&S<1?a.current=requestAnimationFrame(T):(typeof n=="function"&&n(),u.current=0,a.current=0,h())}T()},[t,e,r,o,i,n,d]),m=()=>{s&&(l.current=!0)};return pP("wheel",m,{passive:!0}),pP("touchmove",m,{passive:!0}),w.useEffect(()=>h,[]),{scrollableRef:c,targetRef:f,scrollIntoView:p,cancel:h}}const Phe={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};function qN(){const e=w.useRef(0),t=w.useRef(null),[n,r]=w.useState(Phe),i=w.useMemo(()=>typeof window<"u"?new ResizeObserver(s=>{const o=s[0];o&&(cancelAnimationFrame(e.current),e.current=requestAnimationFrame(()=>{t.current&&r(o.contentRect)}))}):null,[]);return w.useEffect(()=>(t.current&&i.observe(t.current),()=>{i.disconnect(),e.current&&cancelAnimationFrame(e.current)}),[t.current]),[t,n]}function Rhe(){if(typeof window>"u"||typeof document>"u")return 0;const e=parseInt(window.getComputedStyle(document.body).paddingRight,10),t=window.innerWidth-document.documentElement.clientWidth;return e+t}const Nhe=({disableBodyPadding:e})=>{const t=e?null:Rhe();return`body {
        --removed-scroll-width: ${t}px;
        touch-action: none;
        overflow: hidden !important;
        position: relative !important;
        ${t?"padding-right: var(--removed-scroll-width) !important;":""}
        `};function khe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Dhe(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}function $he(){const e=document.createElement("style");return e.type="text/css",e.setAttribute("mantine-scroll-lock",""),e}function Lhe(e,t={disableBodyPadding:!1}){const[n,r]=w.useState(e||!1),i=w.useRef(0),{disableBodyPadding:s}=t,o=w.useRef(null),a=()=>{i.current=window.scrollY;const l=Nhe({disableBodyPadding:s}),c=$he();khe(c,l),Dhe(c),o.current=c},u=()=>{o!=null&&o.current&&(o.current.parentNode.removeChild(o.current),o.current=null)};return w.useEffect(()=>(n?a():u(),u),[n]),w.useEffect(()=>{e!==void 0&&r(e)},[e]),w.useEffect(()=>{e===void 0&&typeof window<"u"&&window.document.body.style.overflow==="hidden"&&r(!0)},[r]),[n,r]}function Mhe(){const{userAgent:e}=window.navigator,t=/(Macintosh)|(MacIntel)|(MacPPC)|(Mac68K)/i,n=/(Win32)|(Win64)|(Windows)|(WinCE)/i,r=/(iPhone)|(iPad)|(iPod)/i;return t.test(e)?"macos":r.test(e)?"ios":n.test(e)?"windows":/Android/i.test(e)?"android":/Linux/i.test(e)?"linux":"undetermined"}function Fhe(){return typeof window<"u"?Mhe():"undetermined"}function Bhe(e){return t=>{if(!t)e(t);else if(typeof t=="function")e(t);else if(typeof t=="object"&&"nativeEvent"in t){const{currentTarget:n}=t;n.type==="checkbox"?e(n.checked):e(n.value)}else e(t)}}function jhe(e){const[t,n]=w.useState(e);return[t,Bhe(n)]}function Uhe(e,t){const[n,r]=w.useState(e),i=()=>{var a;n||(r(!0),(a=t==null?void 0:t.onOpen)==null||a.call(t))},s=()=>{var a;n&&(r(!1),(a=t==null?void 0:t.onClose)==null||a.call(t))};return[n,{open:i,close:s,toggle:()=>{n?s():i()}}]}function Vhe(){return`mantine-${Math.random().toString(36).slice(2,11)}`}var $M=Object.getOwnPropertySymbols,zhe=Object.prototype.hasOwnProperty,Hhe=Object.prototype.propertyIsEnumerable,qhe=(e,t)=>{var n={};for(var r in e)zhe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&$M)for(var r of $M(e))t.indexOf(r)<0&&Hhe.call(e,r)&&(n[r]=e[r]);return n};function Wd(e){const t=e,{m:n,mx:r,my:i,mt:s,mb:o,ml:a,mr:u,p:l,px:c,py:f,pt:d,pb:h,pl:p,pr:m,bg:y,c:g,opacity:_,ff:b,fz:T,fw:I,lts:E,ta:S,lh:A,fs:L,tt:Y,td:z,w:U,miw:Z,maw:V,h:le,mih:oe,mah:ve,bgsz:re,bgp:ue,bgr:te,bga:x,pos:C,top:j,left:P,bottom:O,right:G,inset:de,display:fe}=t,ye=qhe(t,["m","mx","my","mt","mb","ml","mr","p","px","py","pt","pb","pl","pr","bg","c","opacity","ff","fz","fw","lts","ta","lh","fs","tt","td","w","miw","maw","h","mih","mah","bgsz","bgp","bgr","bga","pos","top","left","bottom","right","inset","display"]);return{systemStyles:fq({m:n,mx:r,my:i,mt:s,mb:o,ml:a,mr:u,p:l,px:c,py:f,pt:d,pb:h,pl:p,pr:m,bg:y,c:g,opacity:_,ff:b,fz:T,fw:I,lts:E,ta:S,lh:A,fs:L,tt:Y,td:z,w:U,miw:Z,maw:V,h:le,mih:oe,mah:ve,bgsz:re,bgp:ue,bgr:te,bga:x,pos:C,top:j,left:P,bottom:O,right:G,inset:de,display:fe}),rest:ye}}function Whe(e,t){const n=Object.keys(e).filter(r=>r!=="base").sort((r,i)=>t.fn.size({size:r,sizes:t.breakpoints})-t.fn.size({size:i,sizes:t.breakpoints}));return"base"in e?["base",...n]:n}function Yhe({value:e,theme:t,getValue:n,property:r}){if(e==null)return;if(typeof e=="object")return Whe(e,t).reduce((o,a)=>{if(a==="base"&&e.base!==void 0){const l=n(e.base,t);return Array.isArray(r)?(r.forEach(c=>{o[c]=l}),o):(o[r]=l,o)}const u=n(e[a],t);return Array.isArray(r)?(o[t.fn.largerThan(a)]={},r.forEach(l=>{o[t.fn.largerThan(a)][l]=u}),o):(o[t.fn.largerThan(a)]={[r]:u},o)},{});const i=n(e,t);return Array.isArray(r)?r.reduce((s,o)=>(s[o]=i,s),{}):{[r]:i}}function Ghe(e,t){return e==="dimmed"?t.colorScheme==="dark"?t.colors.dark[2]:t.colors.gray[6]:t.fn.variant({variant:"filled",color:e,primaryFallback:!1}).background}function Khe(e){return e}function Qhe(e,t){return t.fn.size({size:e,sizes:t.fontSizes})}const Xhe=["-xs","-sm","-md","-lg","-xl"];function Jhe(e,t){return Xhe.includes(e)?t.fn.size({size:e.replace("-",""),sizes:t.spacing})*-1:t.fn.size({size:e,sizes:t.spacing})}const Zhe={color:Ghe,default:Khe,fontSize:Qhe,spacing:Jhe},epe={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},mx:{type:"spacing",property:["marginRight","marginLeft"]},my:{type:"spacing",property:["marginTop","marginBottom"]},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},px:{type:"spacing",property:["paddingRight","paddingLeft"]},py:{type:"spacing",property:["paddingTop","paddingBottom"]},bg:{type:"color",property:"background"},c:{type:"color",property:"color"},opacity:{type:"default",property:"opacity"},ff:{type:"default",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"default",property:"fontWeight"},lts:{type:"default",property:"letterSpacing"},ta:{type:"default",property:"textAlign"},lh:{type:"default",property:"lineHeight"},fs:{type:"default",property:"fontStyle"},tt:{type:"default",property:"textTransform"},td:{type:"default",property:"textDecoration"},w:{type:"default",property:"width"},miw:{type:"default",property:"minWidth"},maw:{type:"default",property:"maxWidth"},h:{type:"default",property:"height"},mih:{type:"default",property:"minHeight"},mah:{type:"default",property:"maxHeight"},bgsz:{type:"default",property:"background-size"},bgp:{type:"default",property:"background-position"},bgr:{type:"default",property:"background-repeat"},bga:{type:"default",property:"background-attachment"},pos:{type:"default",property:"position"},top:{type:"default",property:"top"},left:{type:"default",property:"left"},bottom:{type:"default",property:"bottom"},right:{type:"default",property:"right"},inset:{type:"default",property:"inset"},display:{type:"default",property:"display"}};var tpe=Object.defineProperty,LM=Object.getOwnPropertySymbols,npe=Object.prototype.hasOwnProperty,rpe=Object.prototype.propertyIsEnumerable,MM=(e,t,n)=>t in e?tpe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,FM=(e,t)=>{for(var n in t||(t={}))npe.call(t,n)&&MM(e,n,t[n]);if(LM)for(var n of LM(t))rpe.call(t,n)&&MM(e,n,t[n]);return e};function mP(e,t,n=epe){return Object.keys(n).reduce((i,s)=>(s in e&&e[s]!==void 0&&i.push(Yhe({value:e[s],getValue:Zhe[n[s].type],property:n[s].property,theme:t})),i),[]).reduce((i,s)=>(Object.keys(s).forEach(o=>{typeof s[o]=="object"&&s[o]!==null&&o in i?i[o]=FM(FM({},i[o]),s[o]):i[o]=s[o]}),i),{})}function BM(e,t){return typeof e=="function"?e(t):e}function ipe(e,t,n){const r=Zi(),{css:i,cx:s}=gq();return Array.isArray(e)?s(n,i(mP(t,r)),e.map(o=>i(BM(o,r)))):s(n,i(BM(e,r)),i(mP(t,r)))}var spe=Object.defineProperty,Wb=Object.getOwnPropertySymbols,xq=Object.prototype.hasOwnProperty,Cq=Object.prototype.propertyIsEnumerable,jM=(e,t,n)=>t in e?spe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ope=(e,t)=>{for(var n in t||(t={}))xq.call(t,n)&&jM(e,n,t[n]);if(Wb)for(var n of Wb(t))Cq.call(t,n)&&jM(e,n,t[n]);return e},ape=(e,t)=>{var n={};for(var r in e)xq.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Wb)for(var r of Wb(e))t.indexOf(r)<0&&Cq.call(e,r)&&(n[r]=e[r]);return n};const Aq=w.forwardRef((e,t)=>{var n=e,{className:r,component:i,style:s,sx:o}=n,a=ape(n,["className","component","style","sx"]);const{systemStyles:u,rest:l}=Wd(a),c=i||"div";return k.createElement(c,ope({ref:t,className:ipe(o,u,r),style:s},l))});Aq.displayName="@mantine/core/Box";const ut=Aq;var upe=Object.defineProperty,lpe=Object.defineProperties,cpe=Object.getOwnPropertyDescriptors,UM=Object.getOwnPropertySymbols,fpe=Object.prototype.hasOwnProperty,dpe=Object.prototype.propertyIsEnumerable,VM=(e,t,n)=>t in e?upe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zM=(e,t)=>{for(var n in t||(t={}))fpe.call(t,n)&&VM(e,n,t[n]);if(UM)for(var n of UM(t))dpe.call(t,n)&&VM(e,n,t[n]);return e},hpe=(e,t)=>lpe(e,cpe(t)),ppe=at(e=>({root:hpe(zM(zM({},e.fn.focusStyles()),e.fn.fontStyles()),{cursor:"pointer",border:0,padding:0,appearance:"none",fontSize:e.fontSizes.md,backgroundColor:"transparent",textAlign:"left",color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,textDecoration:"none",boxSizing:"border-box"})}));const mpe=ppe;var gpe=Object.defineProperty,Yb=Object.getOwnPropertySymbols,Oq=Object.prototype.hasOwnProperty,Pq=Object.prototype.propertyIsEnumerable,HM=(e,t,n)=>t in e?gpe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ype=(e,t)=>{for(var n in t||(t={}))Oq.call(t,n)&&HM(e,n,t[n]);if(Yb)for(var n of Yb(t))Pq.call(t,n)&&HM(e,n,t[n]);return e},_pe=(e,t)=>{var n={};for(var r in e)Oq.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Yb)for(var r of Yb(e))t.indexOf(r)<0&&Pq.call(e,r)&&(n[r]=e[r]);return n};const Rq=w.forwardRef((e,t)=>{const n=dt("UnstyledButton",{},e),{className:r,component:i="button",unstyled:s}=n,o=_pe(n,["className","component","unstyled"]),{classes:a,cx:u}=mpe(null,{name:"UnstyledButton",unstyled:s});return k.createElement(ut,ype({component:i,ref:t,className:u(a.root,r),type:i==="button"?"button":void 0},o))});Rq.displayName="@mantine/core/UnstyledButton";const WN=Rq;var vpe=Object.defineProperty,bpe=Object.defineProperties,Epe=Object.getOwnPropertyDescriptors,qM=Object.getOwnPropertySymbols,wpe=Object.prototype.hasOwnProperty,Tpe=Object.prototype.propertyIsEnumerable,WM=(e,t,n)=>t in e?vpe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Nq=(e,t)=>{for(var n in t||(t={}))wpe.call(t,n)&&WM(e,n,t[n]);if(qM)for(var n of qM(t))Tpe.call(t,n)&&WM(e,n,t[n]);return e},Spe=(e,t)=>bpe(e,Epe(t));const Y0={xs:18,sm:22,md:28,lg:34,xl:44};function Ipe({variant:e,theme:t,color:n,gradient:r}){const i=t.fn.variant({color:n,variant:e,gradient:r});return e==="gradient"?{border:0,backgroundImage:i.background,color:i.color,"&:hover":t.fn.hover({backgroundSize:"200%"})}:Nq({border:`1px solid ${i.border}`,backgroundColor:i.background,color:i.color},t.fn.hover({backgroundColor:i.hover}))}var xpe=at((e,{color:t,size:n,radius:r,variant:i,gradient:s})=>({root:Spe(Nq({},Ipe({variant:i,theme:e,color:t,gradient:s})),{position:"relative",height:e.fn.size({size:n,sizes:Y0}),minHeight:e.fn.size({size:n,sizes:Y0}),width:e.fn.size({size:n,sizes:Y0}),minWidth:e.fn.size({size:n,sizes:Y0}),borderRadius:e.fn.radius(r),padding:0,lineHeight:1,display:"flex",alignItems:"center",justifyContent:"center","&:active":e.activeStyles,"&:disabled, &[data-disabled]":{color:e.colors.gray[e.colorScheme==="dark"?6:4],cursor:"not-allowed",backgroundColor:i==="transparent"?void 0:e.fn.themeColor("gray",e.colorScheme==="dark"?8:1),borderColor:i==="transparent"?void 0:e.fn.themeColor("gray",e.colorScheme==="dark"?8:1),backgroundImage:"none",pointerEvents:"none","&:active":{transform:"none"}},"&[data-loading]":{pointerEvents:"none","&::before":{content:'""',position:"absolute",top:-1,left:-1,right:-1,bottom:-1,backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.colors.dark[7],.5):"rgba(255, 255, 255, .5)",borderRadius:e.fn.radius(r),cursor:"not-allowed"}}})}));const Cpe=xpe;var Ape=Object.defineProperty,Gb=Object.getOwnPropertySymbols,kq=Object.prototype.hasOwnProperty,Dq=Object.prototype.propertyIsEnumerable,YM=(e,t,n)=>t in e?Ape(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ope=(e,t)=>{for(var n in t||(t={}))kq.call(t,n)&&YM(e,n,t[n]);if(Gb)for(var n of Gb(t))Dq.call(t,n)&&YM(e,n,t[n]);return e},Ppe=(e,t)=>{var n={};for(var r in e)kq.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Gb)for(var r of Gb(e))t.indexOf(r)<0&&Dq.call(e,r)&&(n[r]=e[r]);return n};function Rpe(e){var t=e,{size:n,color:r}=t,i=Ppe(t,["size","color"]);return k.createElement("svg",Ope({viewBox:"0 0 135 140",xmlns:"http://www.w3.org/2000/svg",fill:r,width:`${n}px`},i),k.createElement("rect",{y:"10",width:"15",height:"120",rx:"6"},k.createElement("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),k.createElement("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),k.createElement("rect",{x:"30",y:"10",width:"15",height:"120",rx:"6"},k.createElement("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),k.createElement("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),k.createElement("rect",{x:"60",width:"15",height:"140",rx:"6"},k.createElement("animate",{attributeName:"height",begin:"0s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),k.createElement("animate",{attributeName:"y",begin:"0s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),k.createElement("rect",{x:"90",y:"10",width:"15",height:"120",rx:"6"},k.createElement("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),k.createElement("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),k.createElement("rect",{x:"120",y:"10",width:"15",height:"120",rx:"6"},k.createElement("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),k.createElement("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})))}var Npe=Object.defineProperty,Kb=Object.getOwnPropertySymbols,$q=Object.prototype.hasOwnProperty,Lq=Object.prototype.propertyIsEnumerable,GM=(e,t,n)=>t in e?Npe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kpe=(e,t)=>{for(var n in t||(t={}))$q.call(t,n)&&GM(e,n,t[n]);if(Kb)for(var n of Kb(t))Lq.call(t,n)&&GM(e,n,t[n]);return e},Dpe=(e,t)=>{var n={};for(var r in e)$q.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Kb)for(var r of Kb(e))t.indexOf(r)<0&&Lq.call(e,r)&&(n[r]=e[r]);return n};function $pe(e){var t=e,{size:n,color:r}=t,i=Dpe(t,["size","color"]);return k.createElement("svg",kpe({width:`${n}px`,height:`${n}px`,viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",stroke:r},i),k.createElement("g",{fill:"none",fillRule:"evenodd"},k.createElement("g",{transform:"translate(2.5 2.5)",strokeWidth:"5"},k.createElement("circle",{strokeOpacity:".5",cx:"16",cy:"16",r:"16"}),k.createElement("path",{d:"M32 16c0-9.94-8.06-16-16-16"},k.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 16 16",to:"360 16 16",dur:"1s",repeatCount:"indefinite"})))))}var Lpe=Object.defineProperty,Qb=Object.getOwnPropertySymbols,Mq=Object.prototype.hasOwnProperty,Fq=Object.prototype.propertyIsEnumerable,KM=(e,t,n)=>t in e?Lpe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Mpe=(e,t)=>{for(var n in t||(t={}))Mq.call(t,n)&&KM(e,n,t[n]);if(Qb)for(var n of Qb(t))Fq.call(t,n)&&KM(e,n,t[n]);return e},Fpe=(e,t)=>{var n={};for(var r in e)Mq.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Qb)for(var r of Qb(e))t.indexOf(r)<0&&Fq.call(e,r)&&(n[r]=e[r]);return n};function Bpe(e){var t=e,{size:n,color:r}=t,i=Fpe(t,["size","color"]);return k.createElement("svg",Mpe({width:`${n}px`,height:`${n/4}px`,viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",fill:r},i),k.createElement("circle",{cx:"15",cy:"15",r:"15"},k.createElement("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),k.createElement("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})),k.createElement("circle",{cx:"60",cy:"15",r:"9",fillOpacity:"0.3"},k.createElement("animate",{attributeName:"r",from:"9",to:"9",begin:"0s",dur:"0.8s",values:"9;15;9",calcMode:"linear",repeatCount:"indefinite"}),k.createElement("animate",{attributeName:"fill-opacity",from:"0.5",to:"0.5",begin:"0s",dur:"0.8s",values:".5;1;.5",calcMode:"linear",repeatCount:"indefinite"})),k.createElement("circle",{cx:"105",cy:"15",r:"15"},k.createElement("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),k.createElement("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})))}var jpe=Object.defineProperty,Xb=Object.getOwnPropertySymbols,Bq=Object.prototype.hasOwnProperty,jq=Object.prototype.propertyIsEnumerable,QM=(e,t,n)=>t in e?jpe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Upe=(e,t)=>{for(var n in t||(t={}))Bq.call(t,n)&&QM(e,n,t[n]);if(Xb)for(var n of Xb(t))jq.call(t,n)&&QM(e,n,t[n]);return e},Vpe=(e,t)=>{var n={};for(var r in e)Bq.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Xb)for(var r of Xb(e))t.indexOf(r)<0&&jq.call(e,r)&&(n[r]=e[r]);return n};const dC={bars:Rpe,oval:$pe,dots:Bpe},zpe={xs:18,sm:22,md:36,lg:44,xl:58},Hpe={size:"md"};function Cm(e){const t=dt("Loader",Hpe,e),{size:n,color:r,variant:i}=t,s=Vpe(t,["size","color","variant"]),o=Zi(),a=i in dC?i:o.loader;return k.createElement(ut,Upe({role:"presentation",component:dC[a]||dC.bars,size:o.fn.size({size:n,sizes:zpe}),color:o.fn.variant({variant:"filled",primaryFallback:!1,color:r||o.primaryColor}).background},s))}Cm.displayName="@mantine/core/Loader";var qpe=Object.defineProperty,Jb=Object.getOwnPropertySymbols,Uq=Object.prototype.hasOwnProperty,Vq=Object.prototype.propertyIsEnumerable,XM=(e,t,n)=>t in e?qpe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,JM=(e,t)=>{for(var n in t||(t={}))Uq.call(t,n)&&XM(e,n,t[n]);if(Jb)for(var n of Jb(t))Vq.call(t,n)&&XM(e,n,t[n]);return e},Wpe=(e,t)=>{var n={};for(var r in e)Uq.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Jb)for(var r of Jb(e))t.indexOf(r)<0&&Vq.call(e,r)&&(n[r]=e[r]);return n};const Ype={color:"gray",size:"md",variant:"subtle",loading:!1},zq=w.forwardRef((e,t)=>{const n=dt("ActionIcon",Ype,e),{className:r,color:i,children:s,radius:o,size:a,variant:u,gradient:l,disabled:c,loaderProps:f,loading:d,unstyled:h}=n,p=Wpe(n,["className","color","children","radius","size","variant","gradient","disabled","loaderProps","loading","unstyled"]),{classes:m,cx:y,theme:g}=Cpe({size:a,radius:o,color:i,variant:u,gradient:l},{name:"ActionIcon",unstyled:h}),_=g.fn.variant({color:i,variant:u}),b=k.createElement(Cm,JM({color:_.color,size:g.fn.size({size:a,sizes:Y0})-12},f));return k.createElement(WN,JM({className:y(m.root,r),ref:t,disabled:c,"data-disabled":c||void 0,"data-loading":d||void 0,unstyled:h},p),d?b:s)});zq.displayName="@mantine/core/ActionIcon";const YN=zq;function Hq(e){const{children:t,target:n,className:r}=dt("Portal",{},e),i=Zi(),[s,o]=w.useState(!1),a=w.useRef();return zN(()=>(o(!0),a.current=n?typeof n=="string"?document.querySelector(n):n:document.createElement("div"),n||document.body.appendChild(a.current),()=>{!n&&document.body.removeChild(a.current)}),[n]),s?f_.createPortal(k.createElement("div",{className:r,dir:i.dir},t),a.current):null}Hq.displayName="@mantine/core/Portal";var Gpe=Object.defineProperty,Zb=Object.getOwnPropertySymbols,qq=Object.prototype.hasOwnProperty,Wq=Object.prototype.propertyIsEnumerable,ZM=(e,t,n)=>t in e?Gpe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Kpe=(e,t)=>{for(var n in t||(t={}))qq.call(t,n)&&ZM(e,n,t[n]);if(Zb)for(var n of Zb(t))Wq.call(t,n)&&ZM(e,n,t[n]);return e},Qpe=(e,t)=>{var n={};for(var r in e)qq.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Zb)for(var r of Zb(e))t.indexOf(r)<0&&Wq.call(e,r)&&(n[r]=e[r]);return n};function g_(e){var t=e,{withinPortal:n=!0,children:r}=t,i=Qpe(t,["withinPortal","children"]);return n?k.createElement(Hq,Kpe({},i),r):k.createElement(k.Fragment,null,r)}g_.displayName="@mantine/core/OptionalPortal";var Xpe=Object.defineProperty,Jpe=Object.defineProperties,Zpe=Object.getOwnPropertyDescriptors,e4=Object.getOwnPropertySymbols,eme=Object.prototype.hasOwnProperty,tme=Object.prototype.propertyIsEnumerable,t4=(e,t,n)=>t in e?Xpe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hC=(e,t)=>{for(var n in t||(t={}))eme.call(t,n)&&t4(e,n,t[n]);if(e4)for(var n of e4(t))tme.call(t,n)&&t4(e,n,t[n]);return e},n4=(e,t)=>Jpe(e,Zpe(t));function nme({variant:e,color:t,theme:n}){if(e==="filled")return{backgroundColor:n.fn.variant({variant:"filled",color:t}).background,color:n.white};if(e==="outline"){const i=n.fn.variant({variant:"outline",color:t});return{color:i.color,borderColor:i.border,backgroundColor:n.colorScheme==="dark"?n.colors.dark[6]:n.white}}const r=n.fn.variant({variant:"light",color:t});return{backgroundColor:r.background,color:r.color}}var rme=at((e,{color:t,radius:n,variant:r})=>({root:hC(n4(hC({},e.fn.fontStyles()),{position:"relative",overflow:"hidden",padding:`${e.spacing.sm}px ${e.spacing.md}px`,borderRadius:e.fn.radius(n),border:"1px solid transparent"}),nme({variant:r,color:t,theme:e})),wrapper:{display:"flex"},body:{flex:1},title:{boxSizing:"border-box",margin:0,marginBottom:7,display:"flex",alignItems:"center",justifyContent:"space-between",lineHeight:e.lineHeight,fontSize:e.fontSizes.sm,fontWeight:700,"&[data-with-close-button]":{paddingRight:e.spacing.md}},label:{display:"block",overflow:"hidden",textOverflow:"ellipsis"},icon:{lineHeight:1,width:20,height:20,display:"flex",alignItems:"center",justifyContent:"flex-start",marginRight:e.spacing.md,marginTop:1},message:n4(hC({},e.fn.fontStyles()),{lineHeight:e.lineHeight,textOverflow:"ellipsis",overflow:"hidden",fontSize:e.fontSizes.sm,color:r==="filled"?e.white:e.colorScheme==="dark"?r==="light"?e.white:e.colors.dark[0]:e.black}),closeButton:{position:"absolute",top:e.spacing.sm,right:e.spacing.sm,color:"inherit"}}));const ime=rme;var sme=Object.defineProperty,r4=Object.getOwnPropertySymbols,ome=Object.prototype.hasOwnProperty,ame=Object.prototype.propertyIsEnumerable,i4=(e,t,n)=>t in e?sme(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ume=(e,t)=>{for(var n in t||(t={}))ome.call(t,n)&&i4(e,n,t[n]);if(r4)for(var n of r4(t))ame.call(t,n)&&i4(e,n,t[n]);return e};function Yq(e){return k.createElement("svg",ume({viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),k.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}Yq.displayName="@mantine/core/CloseIcon";var lme=Object.defineProperty,eE=Object.getOwnPropertySymbols,Gq=Object.prototype.hasOwnProperty,Kq=Object.prototype.propertyIsEnumerable,s4=(e,t,n)=>t in e?lme(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cme=(e,t)=>{for(var n in t||(t={}))Gq.call(t,n)&&s4(e,n,t[n]);if(eE)for(var n of eE(t))Kq.call(t,n)&&s4(e,n,t[n]);return e},fme=(e,t)=>{var n={};for(var r in e)Gq.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&eE)for(var r of eE(e))t.indexOf(r)<0&&Kq.call(e,r)&&(n[r]=e[r]);return n};const dme={xs:12,sm:14,md:16,lg:20,xl:24},hme={size:"md"},Qq=w.forwardRef((e,t)=>{const n=dt("CloseButton",hme,e),{iconSize:r,size:i="md"}=n,s=fme(n,["iconSize","size"]),o=Zi(),a=r||o.fn.size({size:i,sizes:dme});return k.createElement(YN,cme({size:i,ref:t},s),k.createElement(Yq,{width:a,height:a}))});Qq.displayName="@mantine/core/CloseButton";const CS=Qq;var pme=Object.defineProperty,tE=Object.getOwnPropertySymbols,Xq=Object.prototype.hasOwnProperty,Jq=Object.prototype.propertyIsEnumerable,o4=(e,t,n)=>t in e?pme(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mme=(e,t)=>{for(var n in t||(t={}))Xq.call(t,n)&&o4(e,n,t[n]);if(tE)for(var n of tE(t))Jq.call(t,n)&&o4(e,n,t[n]);return e},gme=(e,t)=>{var n={};for(var r in e)Xq.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&tE)for(var r of tE(e))t.indexOf(r)<0&&Jq.call(e,r)&&(n[r]=e[r]);return n};const yme={variant:"light"},Zq=w.forwardRef((e,t)=>{const n=dt("Alert",yme,e),{id:r,className:i,title:s,variant:o,children:a,color:u,classNames:l,icon:c,styles:f,onClose:d,radius:h,withCloseButton:p,closeButtonLabel:m,unstyled:y}=n,g=gme(n,["id","className","title","variant","children","color","classNames","icon","styles","onClose","radius","withCloseButton","closeButtonLabel","unstyled"]),{classes:_,cx:b}=ime({color:u,radius:h,variant:o},{classNames:l,styles:f,unstyled:y,name:"Alert"}),T=Ou(r),I=s&&`${T}-title`,E=`${T}-body`;return k.createElement(ut,mme({id:T,role:"alert","aria-labelledby":I,"aria-describedby":E,className:b(_.root,_[o],i),ref:t},g),k.createElement("div",{className:_.wrapper},c&&k.createElement("div",{className:_.icon},c),k.createElement("div",{className:_.body},s&&k.createElement("div",{className:_.title,"data-with-close-button":p||void 0},k.createElement("span",{id:I,className:_.label},s)),p&&k.createElement(CS,{className:_.closeButton,onClick:d,variant:"transparent",size:16,iconSize:16,"aria-label":m}),k.createElement("div",{id:E,className:_.message},a))))});Zq.displayName="@mantine/core/Alert";var _me=Object.defineProperty,vme=Object.defineProperties,bme=Object.getOwnPropertyDescriptors,a4=Object.getOwnPropertySymbols,Eme=Object.prototype.hasOwnProperty,wme=Object.prototype.propertyIsEnumerable,u4=(e,t,n)=>t in e?_me(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Pv=(e,t)=>{for(var n in t||(t={}))Eme.call(t,n)&&u4(e,n,t[n]);if(a4)for(var n of a4(t))wme.call(t,n)&&u4(e,n,t[n]);return e},Tme=(e,t)=>vme(e,bme(t));function Sme({underline:e,strikethrough:t}){const n=[];return e&&n.push("underline"),t&&n.push("line-through"),n.length>0?n.join(" "):"none"}function Ime({theme:e,color:t,variant:n}){return t==="dimmed"?e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6]:typeof t=="string"&&(t in e.colors||t.split(".")[0]in e.colors)?e.fn.variant({variant:"filled",color:t}).background:n==="link"?e.colors[e.primaryColor][e.colorScheme==="dark"?4:7]:t||"inherit"}function xme(e){return typeof e=="number"?{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:e,WebkitBoxOrient:"vertical"}:null}var Cme=at((e,{color:t,variant:n,size:r,lineClamp:i,inline:s,inherit:o,underline:a,gradient:u,weight:l,transform:c,align:f,strikethrough:d,italic:h})=>{const p=e.fn.variant({variant:"gradient",gradient:u});return{root:Pv(Tme(Pv(Pv(Pv({},e.fn.fontStyles()),e.fn.focusStyles()),xme(i)),{color:Ime({color:t,theme:e,variant:n}),fontFamily:o?"inherit":e.fontFamily,fontSize:o||r===void 0?"inherit":e.fn.size({size:r,sizes:e.fontSizes}),lineHeight:o?"inherit":s?1:e.lineHeight,textDecoration:Sme({underline:a,strikethrough:d}),WebkitTapHighlightColor:"transparent",fontWeight:o?"inherit":l,textTransform:c,textAlign:f,fontStyle:h?"italic":void 0}),e.fn.hover(n==="link"&&a===void 0?{textDecoration:"underline"}:void 0)),gradient:{backgroundImage:p.background,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"}}});const Ame=Cme;var Ome=Object.defineProperty,nE=Object.getOwnPropertySymbols,eW=Object.prototype.hasOwnProperty,tW=Object.prototype.propertyIsEnumerable,l4=(e,t,n)=>t in e?Ome(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Pme=(e,t)=>{for(var n in t||(t={}))eW.call(t,n)&&l4(e,n,t[n]);if(nE)for(var n of nE(t))tW.call(t,n)&&l4(e,n,t[n]);return e},Rme=(e,t)=>{var n={};for(var r in e)eW.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&nE)for(var r of nE(e))t.indexOf(r)<0&&tW.call(e,r)&&(n[r]=e[r]);return n};const Nme={variant:"text"},nW=w.forwardRef((e,t)=>{const n=dt("Text",Nme,e),{className:r,size:i,weight:s,transform:o,color:a,align:u,variant:l,lineClamp:c,gradient:f,inline:d,inherit:h,underline:p,strikethrough:m,italic:y,classNames:g,styles:_,unstyled:b,span:T}=n,I=Rme(n,["className","size","weight","transform","color","align","variant","lineClamp","gradient","inline","inherit","underline","strikethrough","italic","classNames","styles","unstyled","span"]),{classes:E,cx:S}=Ame({variant:l,color:a,size:i,lineClamp:c,inline:d,inherit:h,underline:p,strikethrough:m,italic:y,weight:s,transform:o,align:u,gradient:f},{unstyled:b,name:"Text"});return k.createElement(ut,Pme({ref:t,className:S(E.root,{[E.gradient]:l==="gradient"},r),component:T?"span":"div"},I))});nW.displayName="@mantine/core/Text";const It=nW;var kme=at(()=>({root:{backgroundColor:"transparent",cursor:"pointer",padding:0,border:0}}));const Dme=kme;var $me=Object.defineProperty,rE=Object.getOwnPropertySymbols,rW=Object.prototype.hasOwnProperty,iW=Object.prototype.propertyIsEnumerable,c4=(e,t,n)=>t in e?$me(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,f4=(e,t)=>{for(var n in t||(t={}))rW.call(t,n)&&c4(e,n,t[n]);if(rE)for(var n of rE(t))iW.call(t,n)&&c4(e,n,t[n]);return e},Lme=(e,t)=>{var n={};for(var r in e)rW.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&rE)for(var r of rE(e))t.indexOf(r)<0&&iW.call(e,r)&&(n[r]=e[r]);return n};const Mme={},sW=w.forwardRef((e,t)=>{const n=dt("Anchor",Mme,e),{component:r,className:i,unstyled:s}=n,o=Lme(n,["component","className","unstyled"]),{classes:a,cx:u}=Dme(null,{name:"Anchor",unstyled:s}),l=r==="button"?{type:"button"}:null;return k.createElement(It,f4(f4({component:r||"a",variant:"link",ref:t,className:u(a.root,i)},l),o))});sW.displayName="@mantine/core/Anchor";const oW=sW,aW=w.createContext({}),Fme=aW.Provider;function uW(){return w.useContext(aW)}function AS(e,t){if(!e)return[];const n=Object.keys(e).filter(r=>r!=="base").map(r=>[t.fn.size({size:r,sizes:t.breakpoints}),e[r]]);return n.sort((r,i)=>r[0]-i[0]),n}var Bme=Object.defineProperty,jme=Object.defineProperties,Ume=Object.getOwnPropertyDescriptors,d4=Object.getOwnPropertySymbols,Vme=Object.prototype.hasOwnProperty,zme=Object.prototype.propertyIsEnumerable,h4=(e,t,n)=>t in e?Bme(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Rv=(e,t)=>{for(var n in t||(t={}))Vme.call(t,n)&&h4(e,n,t[n]);if(d4)for(var n of d4(t))zme.call(t,n)&&h4(e,n,t[n]);return e},p4=(e,t)=>jme(e,Ume(t)),Hme=at((e,{height:t,width:n,fixed:r,position:i,hiddenBreakpoint:s,zIndex:o,section:a,withBorder:u})=>{const l=typeof n=="object"&&n!==null?AS(n,e).reduce((f,[d,h])=>(f[`@media (min-width: ${d}px)`]={width:h,minWidth:h},f),{}):null,c=u?{[a==="navbar"?"borderRight":"borderLeft"]:`1px solid ${e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[2]}`}:{};return{root:p4(Rv(Rv(p4(Rv(Rv({},e.fn.fontStyles()),i),{top:(i==null?void 0:i.top)||"var(--mantine-header-height)",bottom:0,zIndex:o,height:t||"calc(100vh - var(--mantine-header-height, 0px) - var(--mantine-footer-height, 0px))",width:(n==null?void 0:n.base)||"100%",position:r?"fixed":"static",boxSizing:"border-box",display:"flex",flexDirection:"column",backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white}),c),l),{"&[data-hidden]":{[`@media (max-width: ${e.fn.size({size:s,sizes:e.breakpoints})-1}px)`]:{display:"none"}}})}});const qme=Hme;var Wme=Object.defineProperty,iE=Object.getOwnPropertySymbols,lW=Object.prototype.hasOwnProperty,cW=Object.prototype.propertyIsEnumerable,m4=(e,t,n)=>t in e?Wme(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,g4=(e,t)=>{for(var n in t||(t={}))lW.call(t,n)&&m4(e,n,t[n]);if(iE)for(var n of iE(t))cW.call(t,n)&&m4(e,n,t[n]);return e},Yme=(e,t)=>{var n={};for(var r in e)lW.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&iE)for(var r of iE(e))t.indexOf(r)<0&&cW.call(e,r)&&(n[r]=e[r]);return n};const GN=w.forwardRef((e,t)=>{var n=e,{width:r,height:i,fixed:s=!1,position:o,zIndex:a=vo("app"),hiddenBreakpoint:u="md",hidden:l=!1,withBorder:c=!0,className:f,classNames:d,styles:h,children:p,section:m,__staticSelector:y,unstyled:g}=n,_=Yme(n,["width","height","fixed","position","zIndex","hiddenBreakpoint","hidden","withBorder","className","classNames","styles","children","section","__staticSelector","unstyled"]);const b=uW(),{classes:T,cx:I,theme:E}=qme({width:r,height:i,fixed:b.fixed||s,position:o,hiddenBreakpoint:u,zIndex:b.zIndex||a,section:m,withBorder:c},{classNames:d,styles:h,name:y,unstyled:g}),S=AS(r,E).reduce((A,[L,Y])=>(A[`@media (min-width: ${L}px)`]={[`--mantine-${m}-width`]:`${Y}px`},A),{});return k.createElement(ut,g4({component:m==="navbar"?"nav":"aside",ref:t,"data-hidden":l||void 0,className:I(T.root,f)},_),p,k.createElement(yq,{styles:()=>({":root":g4({[`--mantine-${m}-width`]:r!=null&&r.base?`${r.base}px`:"0px"},S)})}))});GN.displayName="@mantine/core/HorizontalSection";var Gme=Object.defineProperty,sE=Object.getOwnPropertySymbols,fW=Object.prototype.hasOwnProperty,dW=Object.prototype.propertyIsEnumerable,y4=(e,t,n)=>t in e?Gme(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Kme=(e,t)=>{for(var n in t||(t={}))fW.call(t,n)&&y4(e,n,t[n]);if(sE)for(var n of sE(t))dW.call(t,n)&&y4(e,n,t[n]);return e},Qme=(e,t)=>{var n={};for(var r in e)fW.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&sE)for(var r of sE(e))t.indexOf(r)<0&&dW.call(e,r)&&(n[r]=e[r]);return n};const hW=w.forwardRef((e,t)=>{var n=e,{children:r,grow:i=!1,sx:s}=n,o=Qme(n,["children","grow","sx"]);return k.createElement(ut,Kme({ref:t,sx:[{flex:i?1:0,boxSizing:"border-box"},...xd(s)]},o),r)});hW.displayName="@mantine/core/Section";const pW=hW;var Xme=Object.defineProperty,_4=Object.getOwnPropertySymbols,Jme=Object.prototype.hasOwnProperty,Zme=Object.prototype.propertyIsEnumerable,v4=(e,t,n)=>t in e?Xme(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,e0e=(e,t)=>{for(var n in t||(t={}))Jme.call(t,n)&&v4(e,n,t[n]);if(_4)for(var n of _4(t))Zme.call(t,n)&&v4(e,n,t[n]);return e};const t0e={fixed:!1,position:{top:0,left:0},zIndex:vo("app"),hiddenBreakpoint:"md",hidden:!1},_g=w.forwardRef((e,t)=>{const n=dt("Navbar",t0e,e);return k.createElement(GN,e0e({section:"navbar",__staticSelector:"Navbar",ref:t},n))});_g.Section=pW;_g.displayName="@mantine/core/Navbar";var n0e=Object.defineProperty,r0e=Object.defineProperties,i0e=Object.getOwnPropertyDescriptors,b4=Object.getOwnPropertySymbols,s0e=Object.prototype.hasOwnProperty,o0e=Object.prototype.propertyIsEnumerable,E4=(e,t,n)=>t in e?n0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pC=(e,t)=>{for(var n in t||(t={}))s0e.call(t,n)&&E4(e,n,t[n]);if(b4)for(var n of b4(t))o0e.call(t,n)&&E4(e,n,t[n]);return e},w4=(e,t)=>r0e(e,i0e(t)),a0e=at((e,{height:t,fixed:n,position:r,zIndex:i,borderPosition:s})=>{const o=typeof t=="object"&&t!==null?AS(t,e).reduce((a,[u,l])=>(a[`@media (min-width: ${u}px)`]={height:l,minHeight:l},a),{}):null;return{root:w4(pC(w4(pC(pC({},e.fn.fontStyles()),r),{zIndex:i,height:typeof t=="object"?(t==null?void 0:t.base)||"100%":t,maxHeight:typeof t=="object"?(t==null?void 0:t.base)||"100%":t,position:n?"fixed":"static",boxSizing:"border-box",backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white}),o),{borderBottom:s==="bottom"?`1px solid ${e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[2]}`:void 0,borderTop:s==="top"?`1px solid ${e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[2]}`:void 0})}});const u0e=a0e;var l0e=Object.defineProperty,oE=Object.getOwnPropertySymbols,mW=Object.prototype.hasOwnProperty,gW=Object.prototype.propertyIsEnumerable,T4=(e,t,n)=>t in e?l0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,S4=(e,t)=>{for(var n in t||(t={}))mW.call(t,n)&&T4(e,n,t[n]);if(oE)for(var n of oE(t))gW.call(t,n)&&T4(e,n,t[n]);return e},c0e=(e,t)=>{var n={};for(var r in e)mW.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&oE)for(var r of oE(e))t.indexOf(r)<0&&gW.call(e,r)&&(n[r]=e[r]);return n};const yW=w.forwardRef((e,t)=>{var n=e,{children:r,className:i,classNames:s,styles:o,height:a,fixed:u=!1,withBorder:l=!0,position:c,zIndex:f=vo("app"),section:d,unstyled:h,__staticSelector:p}=n,m=c0e(n,["children","className","classNames","styles","height","fixed","withBorder","position","zIndex","section","unstyled","__staticSelector"]);const y=uW(),{classes:g,cx:_,theme:b}=u0e({height:a,fixed:y.fixed||u,position:c,zIndex:y.zIndex||f,borderPosition:l?d==="header"?"bottom":"top":"none"},{name:p,classNames:s,styles:o,unstyled:h}),T=typeof a=="object"&&a!==null?AS(a,b).reduce((I,[E,S])=>(I[`@media (min-width: ${E}px)`]={[`--mantine-${d}-height`]:`${S}px`},I),{}):null;return k.createElement(ut,S4({component:d==="header"?"header":"footer",className:_(g.root,i),ref:t},m),r,k.createElement(yq,{styles:()=>({":root":S4({[`--mantine-${d}-height`]:typeof a=="object"?`${a==null?void 0:a.base}px`||"100%":`${a}px`},T)})}))});yW.displayName="@mantine/core/VerticalSection";var f0e=Object.defineProperty,d0e=Object.defineProperties,h0e=Object.getOwnPropertyDescriptors,I4=Object.getOwnPropertySymbols,p0e=Object.prototype.hasOwnProperty,m0e=Object.prototype.propertyIsEnumerable,x4=(e,t,n)=>t in e?f0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,g0e=(e,t)=>{for(var n in t||(t={}))p0e.call(t,n)&&x4(e,n,t[n]);if(I4)for(var n of I4(t))m0e.call(t,n)&&x4(e,n,t[n]);return e},y0e=(e,t)=>d0e(e,h0e(t));const _0e={fixed:!1,position:{top:0,left:0,right:0},zIndex:vo("app")},_W=w.forwardRef((e,t)=>{const n=dt("Header",_0e,e);return k.createElement(yW,y0e(g0e({section:"header",__staticSelector:"Header"},n),{ref:t}))});_W.displayName="@mantine/core/Header";var v0e=Object.defineProperty,C4=Object.getOwnPropertySymbols,b0e=Object.prototype.hasOwnProperty,E0e=Object.prototype.propertyIsEnumerable,A4=(e,t,n)=>t in e?v0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,w0e=(e,t)=>{for(var n in t||(t={}))b0e.call(t,n)&&A4(e,n,t[n]);if(C4)for(var n of C4(t))E0e.call(t,n)&&A4(e,n,t[n]);return e};const T0e={fixed:!1,position:{top:0,right:0},zIndex:vo("app"),hiddenBreakpoint:"md",hidden:!1},Hh=w.forwardRef((e,t)=>{const n=dt("Aside",T0e,e);return k.createElement(GN,w0e({section:"aside",__staticSelector:"Aside",ref:t},n))});Hh.Section=pW;Hh.displayName="@mantine/core/Aside";var S0e=Object.defineProperty,O4=Object.getOwnPropertySymbols,I0e=Object.prototype.hasOwnProperty,x0e=Object.prototype.propertyIsEnumerable,P4=(e,t,n)=>t in e?S0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,C0e=(e,t)=>{for(var n in t||(t={}))I0e.call(t,n)&&P4(e,n,t[n]);if(O4)for(var n of O4(t))x0e.call(t,n)&&P4(e,n,t[n]);return e};function A0e(e,t){const n=t.fn.size({size:e.padding,sizes:t.spacing}),r=e.navbarOffsetBreakpoint?t.fn.size({size:e.navbarOffsetBreakpoint,sizes:t.breakpoints}):null,i=e.asideOffsetBreakpoint?t.fn.size({size:e.asideOffsetBreakpoint,sizes:t.breakpoints}):null;return e.fixed?{minHeight:"100vh",paddingTop:`calc(var(--mantine-header-height, 0px) + ${n}px)`,paddingBottom:`calc(var(--mantine-footer-height, 0px) + ${n}px)`,paddingLeft:`calc(var(--mantine-navbar-width, 0px) + ${n}px)`,paddingRight:`calc(var(--mantine-aside-width, 0px) + ${n}px)`,[`@media (max-width: ${r-1}px)`]:{paddingLeft:n},[`@media (max-width: ${i-1}px)`]:{paddingRight:n}}:{padding:n}}var O0e=at((e,t)=>({root:{boxSizing:"border-box"},body:{display:"flex",boxSizing:"border-box"},main:C0e({flex:1,width:"100vw",boxSizing:"border-box"},A0e(t,e))}));const P0e=O0e;var R0e=Object.defineProperty,aE=Object.getOwnPropertySymbols,vW=Object.prototype.hasOwnProperty,bW=Object.prototype.propertyIsEnumerable,R4=(e,t,n)=>t in e?R0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,N0e=(e,t)=>{for(var n in t||(t={}))vW.call(t,n)&&R4(e,n,t[n]);if(aE)for(var n of aE(t))bW.call(t,n)&&R4(e,n,t[n]);return e},k0e=(e,t)=>{var n={};for(var r in e)vW.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&aE)for(var r of aE(e))t.indexOf(r)<0&&bW.call(e,r)&&(n[r]=e[r]);return n};const D0e={fixed:!0,zIndex:vo("app"),padding:"md"},EW=w.forwardRef((e,t)=>{const n=dt("AppShell",D0e,e),{children:r,navbar:i,header:s,footer:o,aside:a,fixed:u,zIndex:l,padding:c,navbarOffsetBreakpoint:f,asideOffsetBreakpoint:d,className:h,styles:p,classNames:m,unstyled:y,hidden:g}=n,_=k0e(n,["children","navbar","header","footer","aside","fixed","zIndex","padding","navbarOffsetBreakpoint","asideOffsetBreakpoint","className","styles","classNames","unstyled","hidden"]),{classes:b,cx:T}=P0e({padding:c,fixed:u,navbarOffsetBreakpoint:f,asideOffsetBreakpoint:d},{styles:p,classNames:m,unstyled:y,name:"AppShell"});return g?k.createElement(k.Fragment,null,r):k.createElement(Fme,{value:{fixed:u,zIndex:l}},k.createElement(ut,N0e({className:T(b.root,h),ref:t},_),s,k.createElement("div",{className:b.body},i,k.createElement("main",{className:b.main},r),a),o))});EW.displayName="@mantine/core/AppShell";const Nv={xs:1,sm:2,md:3,lg:4,xl:5};function kv(e,t){const n=e.fn.variant({variant:"outline",color:t}).border;return typeof t=="string"&&(t in e.colors||t.split(".")[0]in e.colors)?n:t===void 0?e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]:t}var $0e=at((e,{size:t,variant:n,color:r})=>({root:{},withLabel:{borderTop:"0 !important"},left:{"&::before":{display:"none"}},right:{"&::after":{display:"none"}},label:{display:"flex",alignItems:"center","&::before":{content:'""',flex:1,height:1,borderTop:`${e.fn.size({size:t,sizes:Nv})}px ${n} ${kv(e,r)}`,marginRight:e.spacing.xs},"&::after":{content:'""',flex:1,borderTop:`${e.fn.size({size:t,sizes:Nv})}px ${n} ${kv(e,r)}`,marginLeft:e.spacing.xs}},labelDefaultStyles:{color:r==="dark"?e.colors.dark[1]:e.fn.themeColor(r,e.colorScheme==="dark"?5:e.fn.primaryShade(),!1)},horizontal:{border:0,borderTopWidth:e.fn.size({size:t,sizes:Nv}),borderTopColor:kv(e,r),borderTopStyle:n,margin:0},vertical:{border:0,alignSelf:"stretch",height:"auto",borderLeftWidth:e.fn.size({size:t,sizes:Nv}),borderLeftColor:kv(e,r),borderLeftStyle:n}}));const L0e=$0e;var M0e=Object.defineProperty,F0e=Object.defineProperties,B0e=Object.getOwnPropertyDescriptors,uE=Object.getOwnPropertySymbols,wW=Object.prototype.hasOwnProperty,TW=Object.prototype.propertyIsEnumerable,N4=(e,t,n)=>t in e?M0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,k4=(e,t)=>{for(var n in t||(t={}))wW.call(t,n)&&N4(e,n,t[n]);if(uE)for(var n of uE(t))TW.call(t,n)&&N4(e,n,t[n]);return e},j0e=(e,t)=>F0e(e,B0e(t)),U0e=(e,t)=>{var n={};for(var r in e)wW.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&uE)for(var r of uE(e))t.indexOf(r)<0&&TW.call(e,r)&&(n[r]=e[r]);return n};const V0e={orientation:"horizontal",size:"xs",labelPosition:"left",variant:"solid"},fd=w.forwardRef((e,t)=>{const n=dt("Divider",V0e,e),{className:r,color:i,orientation:s,size:o,label:a,labelPosition:u,labelProps:l,variant:c,styles:f,classNames:d,unstyled:h}=n,p=U0e(n,["className","color","orientation","size","label","labelPosition","labelProps","variant","styles","classNames","unstyled"]),{classes:m,cx:y}=L0e({color:i,size:o,variant:c},{classNames:d,styles:f,unstyled:h,name:"Divider"}),g=s==="vertical",_=s==="horizontal",b=!!a&&_,T=!(l!=null&&l.color);return k.createElement(ut,k4({ref:t,className:y(m.root,{[m.vertical]:g,[m.horizontal]:_,[m.withLabel]:b},r),role:"separator"},p),b&&k.createElement(It,j0e(k4({},l),{size:(l==null?void 0:l.size)||"xs",sx:{marginTop:2},className:y(m.label,m[u],{[m.labelDefaultStyles]:T})}),a))});fd.displayName="@mantine/core/Divider";var z0e=Object.defineProperty,H0e=Object.defineProperties,q0e=Object.getOwnPropertyDescriptors,D4=Object.getOwnPropertySymbols,W0e=Object.prototype.hasOwnProperty,Y0e=Object.prototype.propertyIsEnumerable,$4=(e,t,n)=>t in e?z0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,L4=(e,t)=>{for(var n in t||(t={}))W0e.call(t,n)&&$4(e,n,t[n]);if(D4)for(var n of D4(t))Y0e.call(t,n)&&$4(e,n,t[n]);return e},G0e=(e,t)=>H0e(e,q0e(t)),K0e=at((e,{size:t})=>({item:G0e(L4({},e.fn.fontStyles()),{boxSizing:"border-box",textAlign:"left",width:"100%",padding:`${e.fn.size({size:t,sizes:e.spacing})/1.5}px ${e.fn.size({size:t,sizes:e.spacing})}px`,cursor:"pointer",fontSize:e.fn.size({size:t,sizes:e.fontSizes}),color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,borderRadius:e.radius.sm,"&[data-hovered]":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[1]},"&[data-selected]":L4({backgroundColor:e.fn.variant({variant:"filled"}).background,color:e.fn.variant({variant:"filled"}).color},e.fn.hover({backgroundColor:e.fn.variant({variant:"filled"}).hover})),"&[data-disabled]":{cursor:"default",color:e.colors.dark[2]}}),nothingFound:{boxSizing:"border-box",color:e.colors.gray[6],paddingTop:e.fn.size({size:t,sizes:e.spacing})/2,paddingBottom:e.fn.size({size:t,sizes:e.spacing})/2,textAlign:"center"},separator:{boxSizing:"border-box",textAlign:"left",width:"100%",padding:`${e.fn.size({size:t,sizes:e.spacing})/1.5}px ${e.fn.size({size:t,sizes:e.spacing})}px`},separatorLabel:{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]}}));const Q0e=K0e;var X0e=Object.defineProperty,M4=Object.getOwnPropertySymbols,J0e=Object.prototype.hasOwnProperty,Z0e=Object.prototype.propertyIsEnumerable,F4=(e,t,n)=>t in e?X0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ege=(e,t)=>{for(var n in t||(t={}))J0e.call(t,n)&&F4(e,n,t[n]);if(M4)for(var n of M4(t))Z0e.call(t,n)&&F4(e,n,t[n]);return e};function KN({data:e,hovered:t,classNames:n,styles:r,isItemSelected:i,uuid:s,__staticSelector:o,onItemHover:a,onItemSelect:u,itemsRefs:l,itemComponent:c,size:f,nothingFound:d,creatable:h,createLabel:p,unstyled:m}){const{classes:y}=Q0e({size:f},{classNames:n,styles:r,unstyled:m,name:o}),g=[],_=[];let b=null;const T=(E,S)=>{const A=typeof i=="function"?i(E.value):!1;return k.createElement(c,ege({key:E.value,className:y.item,"data-disabled":E.disabled||void 0,"data-hovered":!E.disabled&&t===S||void 0,"data-selected":!E.disabled&&A||void 0,onMouseEnter:()=>a(S),id:`${s}-${S}`,role:"option",tabIndex:-1,"aria-selected":t===S,ref:L=>{l&&l.current&&(l.current[E.value]=L)},onMouseDown:E.disabled?null:L=>{L.preventDefault(),u(E)},disabled:E.disabled},E))};let I=null;if(e.forEach((E,S)=>{E.creatable?b=S:E.group?(I!==E.group&&(I=E.group,_.push(k.createElement("div",{className:y.separator,key:`__mantine-divider-${S}`},k.createElement(fd,{classNames:{label:y.separatorLabel},label:E.group})))),_.push(T(E,S))):g.push(T(E,S))}),h){const E=e[b];g.push(k.createElement("div",{key:Vhe(),className:y.item,"data-hovered":t===b||void 0,onMouseEnter:()=>a(b),onMouseDown:S=>{S.preventDefault(),u(E)},tabIndex:-1,ref:S=>{l&&l.current&&(l.current[E.value]=S)}},p))}return _.length>0&&g.length>0&&g.unshift(k.createElement("div",{className:y.separator,key:"empty-group-separator"},k.createElement(fd,null))),_.length>0||g.length>0?k.createElement(k.Fragment,null,_,g):k.createElement(It,{size:f,unstyled:m,className:y.nothingFound},d)}KN.displayName="@mantine/core/SelectItems";var tge=Object.defineProperty,lE=Object.getOwnPropertySymbols,SW=Object.prototype.hasOwnProperty,IW=Object.prototype.propertyIsEnumerable,B4=(e,t,n)=>t in e?tge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nge=(e,t)=>{for(var n in t||(t={}))SW.call(t,n)&&B4(e,n,t[n]);if(lE)for(var n of lE(t))IW.call(t,n)&&B4(e,n,t[n]);return e},rge=(e,t)=>{var n={};for(var r in e)SW.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&lE)for(var r of lE(e))t.indexOf(r)<0&&IW.call(e,r)&&(n[r]=e[r]);return n};const QN=w.forwardRef((e,t)=>{var n=e,{label:r,value:i}=n,s=rge(n,["label","value"]);return k.createElement("div",nge({ref:t},s),r||i)});QN.displayName="@mantine/core/DefaultItem";function ige(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function xW(...e){return t=>e.forEach(n=>ige(n,t))}function Yd(...e){return w.useCallback(xW(...e),e)}const CW=w.forwardRef((e,t)=>{const{children:n,...r}=e,i=w.Children.toArray(n),s=i.find(oge);if(s){const o=s.props.children,a=i.map(u=>u===s?w.Children.count(o)>1?w.Children.only(null):w.isValidElement(o)?o.props.children:null:u);return w.createElement(gP,ur({},r,{ref:t}),w.isValidElement(o)?w.cloneElement(o,void 0,a):null)}return w.createElement(gP,ur({},r,{ref:t}),n)});CW.displayName="Slot";const gP=w.forwardRef((e,t)=>{const{children:n,...r}=e;return w.isValidElement(n)?w.cloneElement(n,{...age(r,n.props),ref:xW(t,n.ref)}):w.Children.count(n)>1?w.Children.only(null):null});gP.displayName="SlotClone";const sge=({children:e})=>w.createElement(w.Fragment,null,e);function oge(e){return w.isValidElement(e)&&e.type===sge}function age(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?n[r]=(...a)=>{s==null||s(...a),i==null||i(...a)}:r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}const uge=["a","button","div","h2","h3","img","li","nav","ol","p","span","svg","ul"],y_=uge.reduce((e,t)=>{const n=w.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?CW:t;return w.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),w.createElement(a,ur({},o,{ref:i}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),yP=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{};function lge(e,t){return w.useReducer((n,r)=>{const i=t[n][r];return i??n},e)}const __=e=>{const{present:t,children:n}=e,r=cge(t),i=typeof n=="function"?n({present:r.isPresent}):w.Children.only(n),s=Yd(r.ref,i.ref);return typeof n=="function"||r.isPresent?w.cloneElement(i,{ref:s}):null};__.displayName="Presence";function cge(e){const[t,n]=w.useState(),r=w.useRef({}),i=w.useRef(e),s=w.useRef("none"),o=e?"mounted":"unmounted",[a,u]=lge(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const l=Dv(r.current);s.current=a==="mounted"?l:"none"},[a]),yP(()=>{const l=r.current,c=i.current;if(c!==e){const d=s.current,h=Dv(l);e?u("MOUNT"):h==="none"||(l==null?void 0:l.display)==="none"?u("UNMOUNT"):u(c&&d!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,u]),yP(()=>{if(t){const l=f=>{const h=Dv(r.current).includes(f.animationName);f.target===t&&h&&f_.flushSync(()=>u("ANIMATION_END"))},c=f=>{f.target===t&&(s.current=Dv(r.current))};return t.addEventListener("animationstart",c),t.addEventListener("animationcancel",l),t.addEventListener("animationend",l),()=>{t.removeEventListener("animationstart",c),t.removeEventListener("animationcancel",l),t.removeEventListener("animationend",l)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:w.useCallback(l=>{l&&(r.current=getComputedStyle(l)),n(l)},[])}}function Dv(e){return(e==null?void 0:e.animationName)||"none"}function fge(e,t=[]){let n=[];function r(s,o){const a=w.createContext(o),u=n.length;n=[...n,o];function l(f){const{scope:d,children:h,...p}=f,m=(d==null?void 0:d[e][u])||a,y=w.useMemo(()=>p,Object.values(p));return w.createElement(m.Provider,{value:y},h)}function c(f,d){const h=(d==null?void 0:d[e][u])||a,p=w.useContext(h);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return l.displayName=s+"Provider",[l,c]}const i=()=>{const s=n.map(o=>w.createContext(o));return function(a){const u=(a==null?void 0:a[e])||s;return w.useMemo(()=>({[`__scope${e}`]:{...a,[e]:u}}),[a,u])}};return i.scopeName=e,[r,dge(i,...t)]}function dge(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:u,scopeName:l})=>{const f=u(s)[`__scope${l}`];return{...a,...f}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function Ff(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),w.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}const hge=w.createContext(void 0);function pge(e){const t=w.useContext(hge);return e||t||"ltr"}function mge(e,[t,n]){return Math.min(n,Math.max(t,e))}function dd(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function gge(e,t){return w.useReducer((n,r)=>{const i=t[n][r];return i??n},e)}const AW="ScrollArea",[OW,att]=fge(AW),[yge,qo]=OW(AW),_ge=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:s=600,...o}=e,[a,u]=w.useState(null),[l,c]=w.useState(null),[f,d]=w.useState(null),[h,p]=w.useState(null),[m,y]=w.useState(null),[g,_]=w.useState(0),[b,T]=w.useState(0),[I,E]=w.useState(!1),[S,A]=w.useState(!1),L=Yd(t,z=>u(z)),Y=pge(i);return w.createElement(yge,{scope:n,type:r,dir:Y,scrollHideDelay:s,scrollArea:a,viewport:l,onViewportChange:c,content:f,onContentChange:d,scrollbarX:h,onScrollbarXChange:p,scrollbarXEnabled:I,onScrollbarXEnabledChange:E,scrollbarY:m,onScrollbarYChange:y,scrollbarYEnabled:S,onScrollbarYEnabledChange:A,onCornerWidthChange:_,onCornerHeightChange:T},w.createElement(y_.div,ur({dir:Y},o,{ref:L,style:{position:"relative","--radix-scroll-area-corner-width":g+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})))}),vge="ScrollAreaViewport",bge=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,...i}=e,s=qo(vge,n),o=w.useRef(null),a=Yd(t,o,s.onViewportChange);return w.createElement(w.Fragment,null,w.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"}}),w.createElement(y_.div,ur({"data-radix-scroll-area-viewport":""},i,{ref:a,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...e.style}}),w.createElement("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"}},r)))}),Ll="ScrollAreaScrollbar",Ege=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=qo(Ll,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=i,a=e.orientation==="horizontal";return w.useEffect(()=>(a?s(!0):o(!0),()=>{a?s(!1):o(!1)}),[a,s,o]),i.type==="hover"?w.createElement(wge,ur({},r,{ref:t,forceMount:n})):i.type==="scroll"?w.createElement(Tge,ur({},r,{ref:t,forceMount:n})):i.type==="auto"?w.createElement(PW,ur({},r,{ref:t,forceMount:n})):i.type==="always"?w.createElement(XN,ur({},r,{ref:t})):null}),wge=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=qo(Ll,e.__scopeScrollArea),[s,o]=w.useState(!1);return w.useEffect(()=>{const a=i.scrollArea;let u=0;if(a){const l=()=>{window.clearTimeout(u),o(!0)},c=()=>{u=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",l),a.addEventListener("pointerleave",c),()=>{window.clearTimeout(u),a.removeEventListener("pointerenter",l),a.removeEventListener("pointerleave",c)}}},[i.scrollArea,i.scrollHideDelay]),w.createElement(__,{present:n||s},w.createElement(PW,ur({"data-state":s?"visible":"hidden"},r,{ref:t})))}),Tge=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=qo(Ll,e.__scopeScrollArea),s=e.orientation==="horizontal",o=PS(()=>u("SCROLL_END"),100),[a,u]=gge("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return w.useEffect(()=>{if(a==="idle"){const l=window.setTimeout(()=>u("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(l)}},[a,i.scrollHideDelay,u]),w.useEffect(()=>{const l=i.viewport,c=s?"scrollLeft":"scrollTop";if(l){let f=l[c];const d=()=>{const h=l[c];f!==h&&(u("SCROLL"),o()),f=h};return l.addEventListener("scroll",d),()=>l.removeEventListener("scroll",d)}},[i.viewport,s,u,o]),w.createElement(__,{present:n||a!=="hidden"},w.createElement(XN,ur({"data-state":a==="hidden"?"hidden":"visible"},r,{ref:t,onPointerEnter:dd(e.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:dd(e.onPointerLeave,()=>u("POINTER_LEAVE"))})))}),PW=w.forwardRef((e,t)=>{const n=qo(Ll,e.__scopeScrollArea),{forceMount:r,...i}=e,[s,o]=w.useState(!1),a=e.orientation==="horizontal",u=PS(()=>{if(n.viewport){const l=n.viewport.offsetWidth<n.viewport.scrollWidth,c=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?l:c)}},10);return Up(n.viewport,u),Up(n.content,u),w.createElement(__,{present:r||s},w.createElement(XN,ur({"data-state":s?"visible":"hidden"},i,{ref:t})))}),XN=w.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,i=qo(Ll,e.__scopeScrollArea),s=w.useRef(null),o=w.useRef(0),[a,u]=w.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),l=DW(a.viewport,a.content),c={...r,sizes:a,onSizesChange:u,hasThumb:l>0&&l<1,onThumbChange:d=>s.current=d,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:d=>o.current=d};function f(d,h){return Rge(d,o.current,a,h)}return n==="horizontal"?w.createElement(Sge,ur({},c,{ref:t,onThumbPositionChange:()=>{if(i.viewport&&s.current){const d=i.viewport.scrollLeft,h=j4(d,a,i.dir);s.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:d=>{i.viewport&&(i.viewport.scrollLeft=d)},onDragScroll:d=>{i.viewport&&(i.viewport.scrollLeft=f(d,i.dir))}})):n==="vertical"?w.createElement(Ige,ur({},c,{ref:t,onThumbPositionChange:()=>{if(i.viewport&&s.current){const d=i.viewport.scrollTop,h=j4(d,a);s.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:d=>{i.viewport&&(i.viewport.scrollTop=d)},onDragScroll:d=>{i.viewport&&(i.viewport.scrollTop=f(d))}})):null}),Sge=w.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,s=qo(Ll,e.__scopeScrollArea),[o,a]=w.useState(),u=w.useRef(null),l=Yd(t,u,s.onScrollbarXChange);return w.useEffect(()=>{u.current&&a(getComputedStyle(u.current))},[u]),w.createElement(NW,ur({"data-orientation":"horizontal"},i,{ref:l,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":OS(n)+"px",...e.style},onThumbPointerDown:c=>e.onThumbPointerDown(c.x),onDragScroll:c=>e.onDragScroll(c.x),onWheelScroll:(c,f)=>{if(s.viewport){const d=s.viewport.scrollLeft+c.deltaX;e.onWheelScroll(d),LW(d,f)&&c.preventDefault()}},onResize:()=>{u.current&&s.viewport&&o&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:cE(o.paddingLeft),paddingEnd:cE(o.paddingRight)}})}}))}),Ige=w.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,s=qo(Ll,e.__scopeScrollArea),[o,a]=w.useState(),u=w.useRef(null),l=Yd(t,u,s.onScrollbarYChange);return w.useEffect(()=>{u.current&&a(getComputedStyle(u.current))},[u]),w.createElement(NW,ur({"data-orientation":"vertical"},i,{ref:l,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":OS(n)+"px",...e.style},onThumbPointerDown:c=>e.onThumbPointerDown(c.y),onDragScroll:c=>e.onDragScroll(c.y),onWheelScroll:(c,f)=>{if(s.viewport){const d=s.viewport.scrollTop+c.deltaY;e.onWheelScroll(d),LW(d,f)&&c.preventDefault()}},onResize:()=>{u.current&&s.viewport&&o&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:cE(o.paddingTop),paddingEnd:cE(o.paddingBottom)}})}}))}),[xge,RW]=OW(Ll),NW=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:u,onDragScroll:l,onWheelScroll:c,onResize:f,...d}=e,h=qo(Ll,n),[p,m]=w.useState(null),y=Yd(t,L=>m(L)),g=w.useRef(null),_=w.useRef(""),b=h.viewport,T=r.content-r.viewport,I=Ff(c),E=Ff(u),S=PS(f,10);function A(L){if(g.current){const Y=L.clientX-g.current.left,z=L.clientY-g.current.top;l({x:Y,y:z})}}return w.useEffect(()=>{const L=Y=>{const z=Y.target;(p==null?void 0:p.contains(z))&&I(Y,T)};return document.addEventListener("wheel",L,{passive:!1}),()=>document.removeEventListener("wheel",L,{passive:!1})},[b,p,T,I]),w.useEffect(E,[r,E]),Up(p,S),Up(h.content,S),w.createElement(xge,{scope:n,scrollbar:p,hasThumb:i,onThumbChange:Ff(s),onThumbPointerUp:Ff(o),onThumbPositionChange:E,onThumbPointerDown:Ff(a)},w.createElement(y_.div,ur({},d,{ref:y,style:{position:"absolute",...d.style},onPointerDown:dd(e.onPointerDown,L=>{L.button===0&&(L.target.setPointerCapture(L.pointerId),g.current=p.getBoundingClientRect(),_.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",A(L))}),onPointerMove:dd(e.onPointerMove,A),onPointerUp:dd(e.onPointerUp,L=>{L.target.releasePointerCapture(L.pointerId),document.body.style.webkitUserSelect=_.current,g.current=null})})))}),_P="ScrollAreaThumb",Cge=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=RW(_P,e.__scopeScrollArea);return w.createElement(__,{present:n||i.hasThumb},w.createElement(Age,ur({ref:t},r)))}),Age=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...i}=e,s=qo(_P,n),o=RW(_P,n),{onThumbPositionChange:a}=o,u=Yd(t,f=>o.onThumbChange(f)),l=w.useRef(),c=PS(()=>{l.current&&(l.current(),l.current=void 0)},100);return w.useEffect(()=>{const f=s.viewport;if(f){const d=()=>{if(c(),!l.current){const h=Nge(f,a);l.current=h,a()}};return a(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[s.viewport,c,a]),w.createElement(y_.div,ur({"data-state":o.hasThumb?"visible":"hidden"},i,{ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:dd(e.onPointerDownCapture,f=>{const h=f.target.getBoundingClientRect(),p=f.clientX-h.left,m=f.clientY-h.top;o.onThumbPointerDown({x:p,y:m})}),onPointerUp:dd(e.onPointerUp,o.onThumbPointerUp)}))}),kW="ScrollAreaCorner",Oge=w.forwardRef((e,t)=>{const n=qo(kW,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?w.createElement(Pge,ur({},e,{ref:t})):null}),Pge=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,i=qo(kW,n),[s,o]=w.useState(0),[a,u]=w.useState(0),l=!!(s&&a);return Up(i.scrollbarX,()=>{var c;const f=((c=i.scrollbarX)===null||c===void 0?void 0:c.offsetHeight)||0;i.onCornerHeightChange(f),u(f)}),Up(i.scrollbarY,()=>{var c;const f=((c=i.scrollbarY)===null||c===void 0?void 0:c.offsetWidth)||0;i.onCornerWidthChange(f),o(f)}),l?w.createElement(y_.div,ur({},r,{ref:t,style:{width:s,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}})):null});function cE(e){return e?parseInt(e,10):0}function DW(e,t){const n=e/t;return isNaN(n)?0:n}function OS(e){const t=DW(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function Rge(e,t,n,r="ltr"){const i=OS(n),s=i/2,o=t||s,a=i-o,u=n.scrollbar.paddingStart+o,l=n.scrollbar.size-n.scrollbar.paddingEnd-a,c=n.content-n.viewport,f=r==="ltr"?[0,c]:[c*-1,0];return $W([u,l],f)(e)}function j4(e,t,n="ltr"){const r=OS(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-i,o=t.content-t.viewport,a=s-r,u=n==="ltr"?[0,o]:[o*-1,0],l=mge(e,u);return $W([0,o],[0,a])(l)}function $W(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function LW(e,t){return e>0&&e<t}const Nge=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function i(){const s={left:e.scrollLeft,top:e.scrollTop},o=n.left!==s.left,a=n.top!==s.top;(o||a)&&t(),n=s,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function PS(e,t){const n=Ff(e),r=w.useRef(0);return w.useEffect(()=>()=>window.clearTimeout(r.current),[]),w.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Up(e,t){const n=Ff(t);yP(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}const kge=_ge,Dge=bge,U4=Ege,V4=Cge,$ge=Oge;var Lge=at((e,{scrollbarSize:t,offsetScrollbars:n,scrollbarHovered:r,hidden:i},s)=>({root:{overflow:"hidden"},viewport:{width:"100%",height:"100%",paddingRight:n?t:void 0,paddingBottom:n?t:void 0},scrollbar:{display:i?"none":"flex",userSelect:"none",touchAction:"none",boxSizing:"border-box",padding:t/5,transition:"background-color 150ms ease, opacity 150ms ease","&:hover":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[8]:e.colors.gray[0],[`& .${s("thumb")}`]:{backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.white,.5):e.fn.rgba(e.black,.5)}},'&[data-orientation="vertical"]':{width:t},'&[data-orientation="horizontal"]':{flexDirection:"column",height:t},'&[data-state="hidden"]':{display:"none",opacity:0}},thumb:{ref:s("thumb"),flex:1,backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.white,.4):e.fn.rgba(e.black,.4),borderRadius:t,position:"relative",transition:"background-color 150ms ease",display:i?"none":void 0,"&::before":{content:'""',position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"100%",height:"100%"}},corner:{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[0],transition:"opacity 150ms ease",opacity:r?1:0,display:i?"none":void 0}}));const Mge=Lge;var Fge=Object.defineProperty,Bge=Object.defineProperties,jge=Object.getOwnPropertyDescriptors,fE=Object.getOwnPropertySymbols,MW=Object.prototype.hasOwnProperty,FW=Object.prototype.propertyIsEnumerable,z4=(e,t,n)=>t in e?Fge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,BW=(e,t)=>{for(var n in t||(t={}))MW.call(t,n)&&z4(e,n,t[n]);if(fE)for(var n of fE(t))FW.call(t,n)&&z4(e,n,t[n]);return e},Uge=(e,t)=>Bge(e,jge(t)),jW=(e,t)=>{var n={};for(var r in e)MW.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&fE)for(var r of fE(e))t.indexOf(r)<0&&FW.call(e,r)&&(n[r]=e[r]);return n};const UW={scrollbarSize:12,scrollHideDelay:1e3,type:"hover",offsetScrollbars:!1},RS=w.forwardRef((e,t)=>{const n=dt("ScrollArea",UW,e),{children:r,className:i,classNames:s,styles:o,scrollbarSize:a,scrollHideDelay:u,type:l,dir:c,offsetScrollbars:f,viewportRef:d,onScrollPositionChange:h,unstyled:p}=n,m=jW(n,["children","className","classNames","styles","scrollbarSize","scrollHideDelay","type","dir","offsetScrollbars","viewportRef","onScrollPositionChange","unstyled"]),[y,g]=w.useState(!1),_=Zi(),{classes:b,cx:T}=Mge({scrollbarSize:a,offsetScrollbars:f,scrollbarHovered:y,hidden:l==="never"},{name:"ScrollArea",classNames:s,styles:o,unstyled:p});return k.createElement(kge,{type:l==="never"?"always":l,scrollHideDelay:u,dir:c||_.dir,ref:t,asChild:!0},k.createElement(ut,BW({className:T(b.root,i)},m),k.createElement(Dge,{className:b.viewport,ref:d,onScroll:typeof h=="function"?({currentTarget:I})=>h({x:I.scrollLeft,y:I.scrollTop}):void 0},r),k.createElement(U4,{orientation:"horizontal",className:b.scrollbar,forceMount:!0,onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1)},k.createElement(V4,{className:b.thumb})),k.createElement(U4,{orientation:"vertical",className:b.scrollbar,forceMount:!0,onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1)},k.createElement(V4,{className:b.thumb})),k.createElement($ge,{className:b.corner})))}),VW=w.forwardRef((e,t)=>{const n=dt("ScrollAreaAutosize",UW,e),{maxHeight:r,children:i,classNames:s,styles:o,scrollbarSize:a,scrollHideDelay:u,type:l,dir:c,offsetScrollbars:f,viewportRef:d,onScrollPositionChange:h,unstyled:p,sx:m}=n,y=jW(n,["maxHeight","children","classNames","styles","scrollbarSize","scrollHideDelay","type","dir","offsetScrollbars","viewportRef","onScrollPositionChange","unstyled","sx"]);return k.createElement(ut,Uge(BW({},y),{ref:t,sx:[{display:"flex",maxHeight:r},...xd(m)]}),k.createElement(ut,{sx:{display:"flex",flexDirection:"column",flex:1}},k.createElement(RS,{classNames:s,styles:o,scrollHideDelay:u,scrollbarSize:a,type:l,dir:c,offsetScrollbars:f,viewportRef:d,onScrollPositionChange:h,unstyled:p},i)))});VW.displayName="@mantine/core/ScrollAreaAutosize";RS.displayName="@mantine/core/ScrollArea";RS.Autosize=VW;const G0=RS;var Vge=Object.defineProperty,zge=Object.defineProperties,Hge=Object.getOwnPropertyDescriptors,dE=Object.getOwnPropertySymbols,zW=Object.prototype.hasOwnProperty,HW=Object.prototype.propertyIsEnumerable,H4=(e,t,n)=>t in e?Vge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,q4=(e,t)=>{for(var n in t||(t={}))zW.call(t,n)&&H4(e,n,t[n]);if(dE)for(var n of dE(t))HW.call(t,n)&&H4(e,n,t[n]);return e},qge=(e,t)=>zge(e,Hge(t)),Wge=(e,t)=>{var n={};for(var r in e)zW.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&dE)for(var r of dE(e))t.indexOf(r)<0&&HW.call(e,r)&&(n[r]=e[r]);return n};const NS=w.forwardRef((e,t)=>{var n=e,{style:r}=n,i=Wge(n,["style"]);return k.createElement(G0,qge(q4({},i),{style:q4({width:"100%"},r),viewportRef:t}),i.children)});NS.displayName="@mantine/core/SelectScrollArea";var Yge=at(()=>({dropdown:{},itemsWrapper:{padding:4,display:"flex",width:"100%",boxSizing:"border-box"}}));const Gge=Yge;function _l(e){return e.split("-")[0]}function v_(e){return e.split("-")[1]}function Gd(e){return["top","bottom"].includes(_l(e))?"x":"y"}function JN(e){return e==="y"?"height":"width"}function W4(e,t,n){let{reference:r,floating:i}=e;const s=r.x+r.width/2-i.width/2,o=r.y+r.height/2-i.height/2,a=Gd(t),u=JN(a),l=r[u]/2-i[u]/2,c=a==="x";let f;switch(_l(t)){case"top":f={x:s,y:r.y-i.height};break;case"bottom":f={x:s,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:o};break;case"left":f={x:r.x-i.width,y:o};break;default:f={x:r.x,y:r.y}}switch(v_(t)){case"start":f[a]-=l*(n&&c?-1:1);break;case"end":f[a]+=l*(n&&c?-1:1)}return f}const Kge=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(t));let l=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:c,y:f}=W4(l,r,u),d=r,h={},p=0;for(let m=0;m<a.length;m++){const{name:y,fn:g}=a[m],{x:_,y:b,data:T,reset:I}=await g({x:c,y:f,initialPlacement:r,placement:d,strategy:i,middlewareData:h,rects:l,platform:o,elements:{reference:e,floating:t}});c=_??c,f=b??f,h={...h,[y]:{...h[y],...T}},I&&p<=50&&(p++,typeof I=="object"&&(I.placement&&(d=I.placement),I.rects&&(l=I.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):I.rects),{x:c,y:f}=W4(l,d,u)),m=-1)}return{x:c,y:f,placement:d,strategy:i,middlewareData:h}};function ZN(e){return typeof e!="number"?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(e):{top:e,right:e,bottom:e,left:e}}function hy(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function ek(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:u}=e,{boundary:l="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:d=!1,padding:h=0}=t,p=ZN(h),m=a[d?f==="floating"?"reference":"floating":f],y=hy(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(m)))==null||n?m:m.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:l,rootBoundary:c,strategy:u})),g=hy(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({rect:f==="floating"?{...o.floating,x:r,y:i}:o.reference,offsetParent:await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),strategy:u}):o[f]);return{top:y.top-g.top+p.top,bottom:g.bottom-y.bottom+p.bottom,left:y.left-g.left+p.left,right:g.right-y.right+p.right}}const qW=Math.min,ic=Math.max;function vP(e,t,n){return ic(e,qW(t,n))}const Y4=e=>({name:"arrow",options:e,async fn(t){const{element:n,padding:r=0}=e??{},{x:i,y:s,placement:o,rects:a,platform:u}=t;if(n==null)return{};const l=ZN(r),c={x:i,y:s},f=Gd(o),d=v_(o),h=JN(f),p=await u.getDimensions(n),m=f==="y"?"top":"left",y=f==="y"?"bottom":"right",g=a.reference[h]+a.reference[f]-c[f]-a.floating[h],_=c[f]-a.reference[f],b=await(u.getOffsetParent==null?void 0:u.getOffsetParent(n));let T=b?f==="y"?b.clientHeight||0:b.clientWidth||0:0;T===0&&(T=a.floating[h]);const I=g/2-_/2,E=l[m],S=T-p[h]-l[y],A=T/2-p[h]/2+I,L=vP(E,A,S),Y=(d==="start"?l[m]:l[y])>0&&A!==L&&a.reference[h]<=a.floating[h];return{[f]:c[f]-(Y?A<E?E-A:S-A:0),data:{[f]:L,centerOffset:A-L}}}}),Qge={left:"right",right:"left",bottom:"top",top:"bottom"};function hE(e){return e.replace(/left|right|bottom|top/g,t=>Qge[t])}function Xge(e,t,n){n===void 0&&(n=!1);const r=v_(e),i=Gd(e),s=JN(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=hE(o)),{main:o,cross:hE(o)}}const Jge={start:"end",end:"start"};function G4(e){return e.replace(/start|end/g,t=>Jge[t])}const Zge=["top","right","bottom","left"];Zge.reduce((e,t)=>e.concat(t,t+"-start",t+"-end"),[]);const WW=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n;const{placement:r,middlewareData:i,rects:s,initialPlacement:o,platform:a,elements:u}=t,{mainAxis:l=!0,crossAxis:c=!0,fallbackPlacements:f,fallbackStrategy:d="bestFit",flipAlignment:h=!0,...p}=e,m=_l(r),y=f||(m===o||!h?[hE(o)]:function(A){const L=hE(A);return[G4(A),L,G4(L)]}(o)),g=[o,...y],_=await ek(t,p),b=[];let T=((n=i.flip)==null?void 0:n.overflows)||[];if(l&&b.push(_[m]),c){const{main:A,cross:L}=Xge(r,s,await(a.isRTL==null?void 0:a.isRTL(u.floating)));b.push(_[A],_[L])}if(T=[...T,{placement:r,overflows:b}],!b.every(A=>A<=0)){var I,E;const A=((I=(E=i.flip)==null?void 0:E.index)!=null?I:0)+1,L=g[A];if(L)return{data:{index:A,overflows:T},reset:{placement:L}};let Y="bottom";switch(d){case"bestFit":{var S;const z=(S=T.map(U=>[U,U.overflows.filter(Z=>Z>0).reduce((Z,V)=>Z+V,0)]).sort((U,Z)=>U[1]-Z[1])[0])==null?void 0:S[0].placement;z&&(Y=z);break}case"initialPlacement":Y=o}if(r!==Y)return{reset:{placement:Y}}}return{}}}},YW=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:r}=t,i=await async function(s,o){const{placement:a,platform:u,elements:l}=s,c=await(u.isRTL==null?void 0:u.isRTL(l.floating)),f=_l(a),d=v_(a),h=Gd(a)==="x",p=["left","top"].includes(f)?-1:1,m=c&&h?-1:1,y=typeof o=="function"?o(s):o;let{mainAxis:g,crossAxis:_,alignmentAxis:b}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...y};return d&&typeof b=="number"&&(_=d==="end"?-1*b:b),h?{x:_*m,y:g*p}:{x:g*p,y:_*m}}(t,e);return{x:n+i.x,y:r+i.y,data:i}}}};function GW(e){return e==="x"?"y":"x"}const tk=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x:g,y:_}=y;return{x:g,y:_}}},...u}=e,l={x:n,y:r},c=await ek(t,u),f=Gd(_l(i)),d=GW(f);let h=l[f],p=l[d];if(s){const y=f==="y"?"bottom":"right";h=vP(h+c[f==="y"?"top":"left"],h,h-c[y])}if(o){const y=d==="y"?"bottom":"right";p=vP(p+c[d==="y"?"top":"left"],p,p-c[y])}const m=a.fn({...t,[f]:h,[d]:p});return{...m,data:{x:m.x-n,y:m.y-r}}}}},eye=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=t,{offset:a=0,mainAxis:u=!0,crossAxis:l=!0}=e,c={x:n,y:r},f=Gd(i),d=GW(f);let h=c[f],p=c[d];const m=typeof a=="function"?a(t):a,y=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(u){const I=f==="y"?"height":"width",E=s.reference[f]-s.floating[I]+y.mainAxis,S=s.reference[f]+s.reference[I]-y.mainAxis;h<E?h=E:h>S&&(h=S)}if(l){var g,_,b,T;const I=f==="y"?"width":"height",E=["top","left"].includes(_l(i)),S=s.reference[d]-s.floating[I]+(E&&(g=(_=o.offset)==null?void 0:_[d])!=null?g:0)+(E?0:y.crossAxis),A=s.reference[d]+s.reference[I]+(E?0:(b=(T=o.offset)==null?void 0:T[d])!=null?b:0)-(E?y.crossAxis:0);p<S?p=S:p>A&&(p=A)}return{[f]:h,[d]:p}}}},tye=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:i,elements:s}=t,{apply:o=()=>{},...a}=e,u=await ek(t,a),l=_l(n),c=v_(n);let f,d;l==="top"||l==="bottom"?(f=l,d=c===(await(i.isRTL==null?void 0:i.isRTL(s.floating))?"start":"end")?"left":"right"):(d=l,f=c==="end"?"top":"bottom");const h=ic(u.left,0),p=ic(u.right,0),m=ic(u.top,0),y=ic(u.bottom,0),g={availableHeight:r.floating.height-(["left","right"].includes(n)?2*(m!==0||y!==0?m+y:ic(u.top,u.bottom)):u[f]),availableWidth:r.floating.width-(["top","bottom"].includes(n)?2*(h!==0||p!==0?h+p:ic(u.left,u.right)):u[d])};await o({...t,...g});const _=await i.getDimensions(s.floating);return r.floating.width!==_.width||r.floating.height!==_.height?{reset:{rects:!0}}:{}}}},KW=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){var n;const{placement:r,elements:i,rects:s,platform:o,strategy:a}=t,{padding:u=2,x:l,y:c}=e,f=hy(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({rect:s.reference,offsetParent:await(o.getOffsetParent==null?void 0:o.getOffsetParent(i.floating)),strategy:a}):s.reference),d=(n=await(o.getClientRects==null?void 0:o.getClientRects(i.reference)))!=null?n:[],h=ZN(u),p=await o.getElementRects({reference:{getBoundingClientRect:function(){var m;if(d.length===2&&d[0].left>d[1].right&&l!=null&&c!=null)return(m=d.find(y=>l>y.left-h.left&&l<y.right+h.right&&c>y.top-h.top&&c<y.bottom+h.bottom))!=null?m:f;if(d.length>=2){if(Gd(r)==="x"){const E=d[0],S=d[d.length-1],A=_l(r)==="top",L=E.top,Y=S.bottom,z=A?E.left:S.left,U=A?E.right:S.right;return{top:L,bottom:Y,left:z,right:U,width:U-z,height:Y-L,x:z,y:L}}const y=_l(r)==="left",g=ic(...d.map(E=>E.right)),_=qW(...d.map(E=>E.left)),b=d.filter(E=>y?E.left===_:E.right===g),T=b[0].top,I=b[b.length-1].bottom;return{top:T,bottom:I,left:_,right:g,width:g-_,height:I-T,x:_,y:T}}return f}},floating:i.floating,strategy:a});return s.reference.x!==p.reference.x||s.reference.y!==p.reference.y||s.reference.width!==p.reference.width||s.reference.height!==p.reference.height?{reset:{rects:p}}:{}}}};function QW(e){return e&&e.document&&e.location&&e.alert&&e.setInterval}function Ml(e){if(e==null)return window;if(!QW(e)){const t=e.ownerDocument;return t&&t.defaultView||window}return e}function Wc(e){return Ml(e).getComputedStyle(e)}function Yc(e){return QW(e)?"":e?(e.nodeName||"").toLowerCase():""}function XW(){const e=navigator.userAgentData;return e!=null&&e.brands?e.brands.map(t=>t.brand+"/"+t.version).join(" "):navigator.userAgent}function vl(e){return e instanceof Ml(e).HTMLElement}function ol(e){return e instanceof Ml(e).Element}function K4(e){return typeof ShadowRoot>"u"?!1:e instanceof Ml(e).ShadowRoot||e instanceof ShadowRoot}function kS(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Wc(e);return/auto|scroll|overlay|hidden/.test(t+r+n)&&!["inline","contents"].includes(i)}function nye(e){return["table","td","th"].includes(Yc(e))}function bP(e){const t=/firefox/i.test(XW()),n=Wc(e),r=n.backdropFilter||n.WebkitBackdropFilter;return n.transform!=="none"||n.perspective!=="none"||!!r&&r!=="none"||t&&n.willChange==="filter"||t&&!!n.filter&&n.filter!=="none"||["transform","perspective"].some(i=>n.willChange.includes(i))||["paint","layout","strict","content"].some(i=>{const s=n.contain;return s!=null&&s.includes(i)})}function JW(){return!/^((?!chrome|android).)*safari/i.test(XW())}function nk(e){return["html","body","#document"].includes(Yc(e))}const Q4=Math.min,vg=Math.max,pE=Math.round;function al(e,t,n){var r,i,s,o;t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect();let u=1,l=1;t&&vl(e)&&(u=e.offsetWidth>0&&pE(a.width)/e.offsetWidth||1,l=e.offsetHeight>0&&pE(a.height)/e.offsetHeight||1);const c=ol(e)?Ml(e):window,f=!JW()&&n,d=(a.left+(f&&(r=(i=c.visualViewport)==null?void 0:i.offsetLeft)!=null?r:0))/u,h=(a.top+(f&&(s=(o=c.visualViewport)==null?void 0:o.offsetTop)!=null?s:0))/l,p=a.width/u,m=a.height/l;return{width:p,height:m,top:h,right:d+p,bottom:h+m,left:d,x:d,y:h}}function kc(e){return(t=e,(t instanceof Ml(t).Node?e.ownerDocument:e.document)||window.document).documentElement;var t}function DS(e){return ol(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function ZW(e){return al(kc(e)).left+DS(e).scrollLeft}function rye(e,t,n){const r=vl(t),i=kc(t),s=al(e,r&&function(u){const l=al(u);return pE(l.width)!==u.offsetWidth||pE(l.height)!==u.offsetHeight}(t),n==="fixed");let o={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if(r||!r&&n!=="fixed")if((Yc(t)!=="body"||kS(i))&&(o=DS(t)),vl(t)){const u=al(t,!0);a.x=u.x+t.clientLeft,a.y=u.y+t.clientTop}else i&&(a.x=ZW(i));return{x:s.left+o.scrollLeft-a.x,y:s.top+o.scrollTop-a.y,width:s.width,height:s.height}}function mE(e){if(Yc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||(K4(e)?e.host:null)||kc(e);return K4(t)?t.host:t}function X4(e){return vl(e)&&Wc(e).position!=="fixed"?e.offsetParent:null}function J4(e){const t=Ml(e);let n=X4(e);for(;n&&nye(n)&&Wc(n).position==="static";)n=X4(n);return n&&(Yc(n)==="html"||Yc(n)==="body"&&Wc(n).position==="static"&&!bP(n))?t:n||function(r){let i=mE(r);for(;vl(i)&&!nk(i);){if(bP(i))return i;i=mE(i)}return null}(e)||t}function Z4(e){if(vl(e))return{width:e.offsetWidth,height:e.offsetHeight};const t=al(e);return{width:t.width,height:t.height}}function eY(e){const t=mE(e);return nk(t)?e.ownerDocument.body:vl(t)&&kS(t)?t:eY(t)}function ul(e,t){var n;t===void 0&&(t=[]);const r=eY(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),s=Ml(r),o=i?[s].concat(s.visualViewport||[],kS(r)?r:[]):r,a=t.concat(o);return i?a:a.concat(ul(o))}function e5(e,t,n){return t==="viewport"?hy(function(r,i){const s=Ml(r),o=kc(r),a=s.visualViewport;let u=o.clientWidth,l=o.clientHeight,c=0,f=0;if(a){u=a.width,l=a.height;const d=JW();(d||!d&&i==="fixed")&&(c=a.offsetLeft,f=a.offsetTop)}return{width:u,height:l,x:c,y:f}}(e,n)):ol(t)?function(r,i){const s=al(r,!1,i==="fixed"),o=s.top+r.clientTop,a=s.left+r.clientLeft;return{top:o,left:a,x:a,y:o,right:a+r.clientWidth,bottom:o+r.clientHeight,width:r.clientWidth,height:r.clientHeight}}(t,n):hy(function(r){var i;const s=kc(r),o=DS(r),a=(i=r.ownerDocument)==null?void 0:i.body,u=vg(s.scrollWidth,s.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),l=vg(s.scrollHeight,s.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0);let c=-o.scrollLeft+ZW(r);const f=-o.scrollTop;return Wc(a||s).direction==="rtl"&&(c+=vg(s.clientWidth,a?a.clientWidth:0)-u),{width:u,height:l,x:c,y:f}}(kc(e)))}const iye={getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const s=n==="clippingAncestors"?function(l){let c=ul(l).filter(h=>ol(h)&&Yc(h)!=="body"),f=l,d=null;for(;ol(f)&&!nk(f);){const h=Wc(f);h.position==="static"&&d&&["absolute","fixed"].includes(d.position)&&!bP(f)?c=c.filter(p=>p!==f):d=h,f=mE(f)}return c}(t):[].concat(n),o=[...s,r],a=o[0],u=o.reduce((l,c)=>{const f=e5(t,c,i);return l.top=vg(f.top,l.top),l.right=Q4(f.right,l.right),l.bottom=Q4(f.bottom,l.bottom),l.left=vg(f.left,l.left),l},e5(t,a,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{rect:t,offsetParent:n,strategy:r}=e;const i=vl(n),s=kc(n);if(n===s)return t;let o={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if((i||!i&&r!=="fixed")&&((Yc(n)!=="body"||kS(s))&&(o=DS(n)),vl(n))){const u=al(n,!0);a.x=u.x+n.clientLeft,a.y=u.y+n.clientTop}return{...t,x:t.x-o.scrollLeft+a.x,y:t.y-o.scrollTop+a.y}},isElement:ol,getDimensions:Z4,getOffsetParent:J4,getDocumentElement:kc,getElementRects:e=>{let{reference:t,floating:n,strategy:r}=e;return{reference:rye(t,J4(n),r),floating:{...Z4(n),x:0,y:0}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>Wc(e).direction==="rtl"};function sye(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=!0,animationFrame:a=!1}=r,u=i&&!a,l=u||s?[...ol(e)?ul(e):e.contextElement?ul(e.contextElement):[],...ul(t)]:[];l.forEach(h=>{u&&h.addEventListener("scroll",n,{passive:!0}),s&&h.addEventListener("resize",n)});let c,f=null;if(o){let h=!0;f=new ResizeObserver(()=>{h||n(),h=!1}),ol(e)&&!a&&f.observe(e),ol(e)||!e.contextElement||a||f.observe(e.contextElement),f.observe(t)}let d=a?al(e):null;return a&&function h(){const p=al(e);!d||p.x===d.x&&p.y===d.y&&p.width===d.width&&p.height===d.height||n(),d=p,c=requestAnimationFrame(h)}(),n(),()=>{var h;l.forEach(p=>{u&&p.removeEventListener("scroll",n),s&&p.removeEventListener("resize",n)}),(h=f)==null||h.disconnect(),f=null,a&&cancelAnimationFrame(c)}}const oye=(e,t,n)=>Kge(e,t,{platform:iye,...n});var EP=typeof document<"u"?w.useLayoutEffect:w.useEffect;function gE(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!gE(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&e.$$typeof)&&!gE(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function aye(e){const t=w.useRef(e);return EP(()=>{t.current=e}),t}function uye(e){let{middleware:t=[],placement:n="bottom",strategy:r="absolute",whileElementsMounted:i}=e===void 0?{}:e;const[s,o]=w.useState({x:null,y:null,strategy:r,placement:n,middlewareData:{}}),[a,u]=w.useState(t);gE(a,t)||u(t);const l=w.useRef(null),c=w.useRef(null),f=w.useRef(null),d=w.useRef(s),h=aye(i),p=w.useCallback(()=>{!l.current||!c.current||oye(l.current,c.current,{middleware:a,placement:n,strategy:r}).then(T=>{m.current&&!gE(d.current,T)&&(d.current=T,f_.flushSync(()=>{o(T)}))})},[a,n,r]);EP(()=>{m.current&&p()},[p]);const m=w.useRef(!1);EP(()=>(m.current=!0,()=>{m.current=!1}),[]);const y=w.useCallback(()=>{if(typeof f.current=="function"&&(f.current(),f.current=null),l.current&&c.current)if(h.current){const T=h.current(l.current,c.current,p);f.current=T}else p()},[p,h]),g=w.useCallback(T=>{l.current=T,y()},[y]),_=w.useCallback(T=>{c.current=T,y()},[y]),b=w.useMemo(()=>({reference:l,floating:c}),[]);return w.useMemo(()=>({...s,update:p,refs:b,reference:g,floating:_}),[s,p,b,g,_])}const tY=e=>{const{element:t,padding:n}=e;function r(i){return Object.prototype.hasOwnProperty.call(i,"current")}return{name:"arrow",options:e,fn(i){return r(t)?t.current!=null?Y4({element:t.current,padding:n}).fn(i):{}:t?Y4({element:t,padding:n}).fn(i):{}}}};var Vp=typeof document<"u"?w.useLayoutEffect:w.useEffect;function lye(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(i=>i(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){e.set(t,(e.get(t)||[]).filter(r=>r!==n))}}}let mC=!1,cye=0;const t5=()=>"floating-ui-"+cye++;function fye(){const[e,t]=w.useState(()=>mC?t5():void 0);return Vp(()=>{e==null&&t(t5())},[]),w.useEffect(()=>{mC||(mC=!0)},[]),e}const n5=bd.useId,r5=n5??fye,dye=w.createContext(null),hye=w.createContext(null),nY=()=>{var e,t;return(e=(t=w.useContext(dye))==null?void 0:t.id)!=null?e:null},rk=()=>w.useContext(hye);function cc(e){var t;return(t=e==null?void 0:e.ownerDocument)!=null?t:document}function rY(e){var t;return(t=cc(e).defaultView)!=null?t:window}function Gf(e){return e?e instanceof rY(e).Element:!1}function pye(e){return e?e instanceof rY(e).HTMLElement:!1}const i5=bd.useInsertionEffect;function mye(e){const t=w.useRef(()=>{});return i5?i5(()=>{t.current=e}):t.current=e,w.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function ik(e){let{open:t=!1,onOpenChange:n,whileElementsMounted:r,placement:i,middleware:s,strategy:o,nodeId:a}=e===void 0?{}:e;const[u,l]=w.useState(null),c=rk(),f=w.useRef(null),d=w.useRef({}),h=w.useState(()=>lye())[0],p=uye({placement:i,middleware:s,strategy:o,whileElementsMounted:r}),m=mye(n),y=w.useMemo(()=>({...p.refs,domReference:f}),[p.refs]),g=w.useMemo(()=>({...p,refs:y,dataRef:d,nodeId:a,events:h,open:t,onOpenChange:m,_:{domReference:u}}),[p,a,h,t,m,y,u]);Vp(()=>{const T=c==null?void 0:c.nodesRef.current.find(I=>I.id===a);T&&(T.context=g)});const{reference:_}=p,b=w.useCallback(T=>{(Gf(T)||T===null)&&(g.refs.domReference.current=T,l(T)),_(T)},[_,g.refs]);return w.useMemo(()=>({...p,context:g,refs:y,reference:b}),[p,y,g,b])}function gC(e,t,n){const r=new Map;return{...n==="floating"&&{tabIndex:-1},...e,...t.map(i=>i?i[n]:null).concat(e).reduce((i,s)=>(s&&Object.entries(s).forEach(o=>{let[a,u]=o;if(a.indexOf("on")===0){if(r.has(a)||r.set(a,[]),typeof u=="function"){var l;(l=r.get(a))==null||l.push(u),i[a]=function(){for(var c,f=arguments.length,d=new Array(f),h=0;h<f;h++)d[h]=arguments[h];(c=r.get(a))==null||c.forEach(p=>p(...d))}}}else i[a]=u}),i),{})}}const gye=function(e){e===void 0&&(e=[]);const t=e,n=w.useCallback(s=>gC(s,e,"reference"),t),r=w.useCallback(s=>gC(s,e,"floating"),t),i=w.useCallback(s=>gC(s,e,"item"),t);return w.useMemo(()=>({getReferenceProps:n,getFloatingProps:r,getItemProps:i}),[n,r,i])};function yC(e,t){var n;let r=(n=e.filter(o=>{var a;return o.parentId===t&&((a=o.context)==null?void 0:a.open)}))!=null?n:[],i=r;for(;i.length;){var s;i=(s=e.filter(o=>{var a;return(a=i)==null?void 0:a.some(u=>{var l;return o.parentId===u.id&&((l=o.context)==null?void 0:l.open)})}))!=null?s:[],r=r.concat(i)}return r}function yye(e){return"composedPath"in e?e.composedPath()[0]:e.target}function s5(e){const t=w.useRef(e);return Vp(()=>{t.current=e}),t}function _ye(e){const t=w.useRef();return Vp(()=>{t.current=e},[e]),t.current}function z1(e,t,n){return n&&n!=="mouse"?0:typeof e=="number"?e:e==null?void 0:e[t]}const vye=function(e,t){let{enabled:n=!0,delay:r=0,handleClose:i=null,mouseOnly:s=!1,restMs:o=0,move:a=!0}=t===void 0?{}:t;const{open:u,onOpenChange:l,dataRef:c,events:f,refs:d,_:h}=e,p=rk(),m=nY(),y=s5(i),g=s5(r),_=_ye(u),b=w.useRef(),T=w.useRef(),I=w.useRef(),E=w.useRef(),S=w.useRef(!0),A=w.useRef(!1),L=w.useCallback(()=>{var Z;const V=(Z=c.current.openEvent)==null?void 0:Z.type;return(V==null?void 0:V.includes("mouse"))&&V!=="mousedown"},[c]);w.useEffect(()=>{if(!n)return;function Z(){clearTimeout(T.current),clearTimeout(E.current),S.current=!0}return f.on("dismiss",Z),()=>{f.off("dismiss",Z)}},[n,f,d]),w.useEffect(()=>{if(!n||!y.current)return;function Z(){L()&&l(!1)}const V=cc(d.floating.current).documentElement;return V.addEventListener("mouseleave",Z),()=>{V.removeEventListener("mouseleave",Z)}},[d,l,n,y,c,L]);const Y=w.useCallback(function(Z){Z===void 0&&(Z=!0);const V=z1(g.current,"close",b.current);V&&!I.current?(clearTimeout(T.current),T.current=setTimeout(()=>l(!1),V)):Z&&(clearTimeout(T.current),l(!1))},[g,l]),z=w.useCallback(()=>{I.current&&(cc(d.floating.current).removeEventListener("pointermove",I.current),I.current=void 0)},[d]),U=w.useCallback(()=>{cc(d.floating.current).body.style.pointerEvents="",A.current=!1},[d]);return w.useEffect(()=>{if(!n)return;function Z(){return c.current.openEvent?["click","mousedown"].includes(c.current.openEvent.type):!1}function V(ue){if(clearTimeout(T.current),S.current=!1,s&&b.current!=="mouse"||o>0&&z1(g.current,"open")===0)return;c.current.openEvent=ue;const te=z1(g.current,"open",b.current);te?T.current=setTimeout(()=>{l(!0)},te):l(!0)}function le(ue){if(Z())return;const te=cc(d.floating.current);if(clearTimeout(E.current),y.current){clearTimeout(T.current),I.current&&te.removeEventListener("pointermove",I.current),I.current=y.current({...e,tree:p,x:ue.clientX,y:ue.clientY,onClose(){U(),z(),Y()}}),te.addEventListener("pointermove",I.current);return}Y()}function oe(ue){Z()||y.current==null||y.current({...e,tree:p,x:ue.clientX,y:ue.clientY,leave:!0,onClose(){U(),z(),Y()}})(ue)}const ve=d.floating.current,re=d.domReference.current;if(Gf(re))return u&&re.addEventListener("mouseleave",oe),ve==null||ve.addEventListener("mouseleave",oe),a&&re.addEventListener("mousemove",V,{once:!0}),re.addEventListener("mouseenter",V),re.addEventListener("mouseleave",le),()=>{u&&re.removeEventListener("mouseleave",oe),ve==null||ve.removeEventListener("mouseleave",oe),a&&re.removeEventListener("mousemove",V),re.removeEventListener("mouseenter",V),re.removeEventListener("mouseleave",le)}},[h.domReference,n,e,s,o,a,Y,z,U,l,u,p,d,g,y,c]),Vp(()=>{if(n&&u&&y.current&&y.current.__options.blockPointerEvents&&L()){cc(d.floating.current).body.style.pointerEvents="none",A.current=!0;const le=d.domReference.current,oe=d.floating.current;if(Gf(le)&&oe){var Z,V;const ve=p==null||(Z=p.nodesRef.current.find(re=>re.id===m))==null||(V=Z.context)==null?void 0:V.refs.floating.current;return ve&&(ve.style.pointerEvents=""),le.style.pointerEvents="auto",oe.style.pointerEvents="auto",()=>{le.style.pointerEvents="",oe.style.pointerEvents=""}}}},[n,u,m,d,p,y,c,L]),Vp(()=>{_&&!u&&(b.current=void 0,z(),U())}),w.useEffect(()=>()=>{z(),clearTimeout(T.current),clearTimeout(E.current),A.current&&U()},[n,z,U]),w.useMemo(()=>{if(!n)return{};function Z(V){b.current=V.pointerType}return{reference:{onPointerDown:Z,onPointerEnter:Z,onMouseMove(){u||o===0||(clearTimeout(E.current),E.current=setTimeout(()=>{S.current||l(!0)},o))}},floating:{onMouseEnter(){clearTimeout(T.current)},onMouseLeave(){Y(!1)}}}},[n,o,u,l,Y])},iY=w.createContext({delay:1e3,initialDelay:1e3,currentId:null,setCurrentId:()=>{},setState:()=>{}}),sY=()=>w.useContext(iY),bye=e=>{let{children:t,delay:n}=e;const[r,i]=w.useState({delay:n,initialDelay:n,currentId:null}),s=w.useCallback(o=>{i(a=>({...a,currentId:o}))},[]);return w.createElement(iY.Provider,{value:w.useMemo(()=>({...r,setState:i,setCurrentId:s}),[r,i,s])},t)},Eye=(e,t)=>{let{open:n,onOpenChange:r}=e,{id:i}=t;const{currentId:s,initialDelay:o,setState:a}=sY();w.useEffect(()=>{s&&(a(u=>({...u,delay:{open:1,close:z1(o,"close")}})),s!==i&&r(!1))},[i,r,a,s,o]),w.useEffect(()=>{!n&&s===i&&(r(!1),a(u=>({...u,delay:o,currentId:null})))},[n,a,s,i,r,o])},wye=function(e,t){let{open:n}=e,{enabled:r=!0,role:i="dialog"}=t===void 0?{}:t;const s=r5(),o=r5();return w.useMemo(()=>{const a={id:s,role:i};return r?i==="tooltip"?{reference:{"aria-describedby":n?s:void 0},floating:a}:{reference:{"aria-expanded":n?"true":"false","aria-haspopup":i==="alertdialog"?"dialog":i,"aria-controls":n?s:void 0,...i==="listbox"&&{role:"combobox"},...i==="menu"&&{id:o}},floating:{...a,...i==="menu"&&{"aria-labelledby":o}}}:{}},[r,i,n,s,o])};function _C(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}const Tye={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},Sye={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Iye=function(e,t){let{open:n,onOpenChange:r,refs:i,events:s,nodeId:o}=e,{enabled:a=!0,escapeKey:u=!0,outsidePress:l=!0,outsidePressEvent:c="pointerdown",referencePress:f=!1,referencePressEvent:d="pointerdown",ancestorScroll:h=!1,bubbles:p=!0}=t===void 0?{}:t;const m=rk(),y=nY()!=null,g=w.useRef(!1);return w.useEffect(()=>{if(!n||!a)return;function _(S){if(S.key==="Escape"){if(!p&&m&&yC(m.nodesRef.current,o).length>0)return;s.emit("dismiss",{preventScroll:!1}),r(!1)}}function b(S){const A=g.current;if(g.current=!1,A)return;const L=yye(S);if(Gf(L)&&i.floating.current){var Y;const U=(Y=i.floating.current.ownerDocument.defaultView)!=null?Y:window,Z=L.scrollWidth>L.clientWidth,V=L.scrollHeight>L.clientHeight;let le=V&&S.offsetX>L.clientWidth;if(V&&U.getComputedStyle(L).direction==="rtl"&&(le=S.offsetX<=L.offsetWidth-L.clientWidth),le||Z&&S.offsetY>L.clientHeight)return}const z=m&&yC(m.nodesRef.current,o).some(U=>{var Z;return _C(S,(Z=U.context)==null?void 0:Z.refs.floating.current)});_C(S,i.floating.current)||_C(S,i.domReference.current)||z||!p&&m&&yC(m.nodesRef.current,o).length>0||(s.emit("dismiss",y?{preventScroll:!0}:!1),r(!1))}function T(){r(!1)}const I=cc(i.floating.current);u&&I.addEventListener("keydown",_),l&&I.addEventListener(c,b);let E=[];return h&&(Gf(i.domReference.current)&&(E=ul(i.domReference.current)),Gf(i.floating.current)&&(E=E.concat(ul(i.floating.current))),!Gf(i.reference.current)&&i.reference.current&&i.reference.current.contextElement&&(E=E.concat(ul(i.reference.current.contextElement)))),E=E.filter(S=>{var A;return S!==((A=I.defaultView)==null?void 0:A.visualViewport)}),E.forEach(S=>{S.addEventListener("scroll",T,{passive:!0})}),()=>{u&&I.removeEventListener("keydown",_),l&&I.removeEventListener(c,b),E.forEach(S=>{S.removeEventListener("scroll",T)})}},[u,l,c,s,m,o,n,r,h,a,p,i,y]),w.useEffect(()=>{g.current=!1},[l,c]),w.useMemo(()=>a?{reference:{[Tye[d]]:()=>{f&&(s.emit("dismiss"),r(!1))}},floating:{[Sye[c]]:()=>{g.current=!0}}}:{},[a,s,f,c,d,r])},xye=function(e,t){let{open:n,onOpenChange:r,dataRef:i,refs:s,events:o}=e,{enabled:a=!0,keyboardOnly:u=!0}=t===void 0?{}:t;const l=w.useRef(""),c=w.useRef(!1),f=w.useRef();return w.useEffect(()=>{var d;if(!a)return;const p=(d=cc(s.floating.current).defaultView)!=null?d:window;function m(){!n&&pye(s.domReference.current)&&s.domReference.current.blur()}return p.addEventListener("blur",m),()=>{p.removeEventListener("blur",m)}},[s,n,a]),w.useEffect(()=>{if(!a)return;function d(){c.current=!0}return o.on("dismiss",d),()=>{o.off("dismiss",d)}},[o,a]),w.useEffect(()=>()=>{clearTimeout(f.current)},[]),w.useMemo(()=>a?{reference:{onPointerDown(d){let{pointerType:h}=d;l.current=h,c.current=!!(h&&u)},onPointerLeave(){c.current=!1},onFocus(d){var h,p,m;c.current||d.type==="focus"&&((h=i.current.openEvent)==null?void 0:h.type)==="mousedown"&&(p=s.domReference.current)!=null&&p.contains((m=i.current.openEvent)==null?void 0:m.target)||(i.current.openEvent=d.nativeEvent,r(!0))},onBlur(d){const h=d.relatedTarget;f.current=setTimeout(()=>{var p,m;(p=s.floating.current)!=null&&p.contains(h)||(m=s.domReference.current)!=null&&m.contains(h)||(c.current=!1,r(!1))})}}}:{},[a,u,s,i,r])};function oY({opened:e,floating:t,positionDependencies:n}){const[r,i]=w.useState(0);w.useEffect(()=>{if(t.refs.reference.current&&t.refs.floating.current)return sye(t.refs.reference.current,t.refs.floating.current,t.update)},[t.refs.reference,t.refs.floating,e,r]),ao(()=>{t.update()},n),ao(()=>{i(s=>s+1)},[e])}function Cye(e){const t=[YW(e.offset)];return e.middlewares.shift&&t.push(tk({limiter:eye()})),e.middlewares.flip&&t.push(WW()),e.middlewares.inline&&t.push(KW()),t.push(tY({element:e.arrowRef})),t}function Aye(e){const[t,n]=Ta({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),r=()=>{var o;(o=e.onClose)==null||o.call(e),n(!1)},i=()=>{var o,a;t?((o=e.onClose)==null||o.call(e),n(!1)):((a=e.onOpen)==null||a.call(e),n(!0))},s=ik({placement:e.position,middleware:[...Cye(e),...e.width==="target"?[tye({apply({rects:o}){var a,u;Object.assign((u=(a=s.refs.floating.current)==null?void 0:a.style)!=null?u:{},{width:`${o.reference.width}px`})}})]:[]]});return oY({opened:e.opened,positionDependencies:e.positionDependencies,floating:s}),ao(()=>{var o;(o=e.onPositionChange)==null||o.call(e,s.placement)},[s.placement]),{floating:s,controlled:typeof e.opened=="boolean",opened:t,onClose:r,onToggle:i}}const aY={context:"Popover component was not found in the tree",children:"Popover.Target component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported"},[Oye,uY]=VH(aY.context);var Pye=Object.defineProperty,Rye=Object.defineProperties,Nye=Object.getOwnPropertyDescriptors,yE=Object.getOwnPropertySymbols,lY=Object.prototype.hasOwnProperty,cY=Object.prototype.propertyIsEnumerable,o5=(e,t,n)=>t in e?Pye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$v=(e,t)=>{for(var n in t||(t={}))lY.call(t,n)&&o5(e,n,t[n]);if(yE)for(var n of yE(t))cY.call(t,n)&&o5(e,n,t[n]);return e},kye=(e,t)=>Rye(e,Nye(t)),Dye=(e,t)=>{var n={};for(var r in e)lY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&yE)for(var r of yE(e))t.indexOf(r)<0&&cY.call(e,r)&&(n[r]=e[r]);return n};const fY=w.forwardRef((e,t)=>{var n=e,{children:r,refProp:i="ref",popupType:s="dialog"}=n,o=Dye(n,["children","refProp","popupType"]);if(!d_(r))throw new Error(aY.children);const a=o,u=uY(),l=Ho(u.reference,r.ref,t),c=u.withRoles?{"aria-haspopup":s,"aria-expanded":u.opened,"aria-controls":u.getDropdownId(),id:u.getTargetId()}:{};return w.cloneElement(r,$v(kye($v($v($v({},a),c),u.targetProps),{className:qH(u.targetProps.className,a.className,r.props.className),[i]:l}),u.controlled?null:{onClick:u.onToggle}))});fY.displayName="@mantine/core/PopoverTarget";var $ye=at((e,{radius:t,shadow:n})=>({dropdown:{position:"absolute",backgroundColor:e.white,background:e.colorScheme==="dark"?e.colors.dark[6]:e.white,border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]}`,padding:`${e.spacing.sm}px ${e.spacing.md}px`,boxShadow:e.shadows[n]||n||"none",borderRadius:e.fn.radius(t),"&:focus":{outline:0}},arrow:{backgroundColor:"inherit",border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]}`,zIndex:1}}));const Lye=$ye;var Mye=Object.defineProperty,a5=Object.getOwnPropertySymbols,Fye=Object.prototype.hasOwnProperty,Bye=Object.prototype.propertyIsEnumerable,u5=(e,t,n)=>t in e?Mye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,dh=(e,t)=>{for(var n in t||(t={}))Fye.call(t,n)&&u5(e,n,t[n]);if(a5)for(var n of a5(t))Bye.call(t,n)&&u5(e,n,t[n]);return e};const l5={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function dY({transition:e,state:t,duration:n,timingFunction:r}){const i={transitionDuration:`${n}ms`,transitionTimingFunction:r};return typeof e=="string"?e in Ov?dh(dh(dh({transitionProperty:Ov[e].transitionProperty},i),Ov[e].common),Ov[e][l5[t]]):null:dh(dh(dh({transitionProperty:e.transitionProperty},i),e.common),e[l5[t]])}function hY({duration:e,exitDuration:t,timingFunction:n,mounted:r,onEnter:i,onExit:s,onEntered:o,onExited:a}){const u=Zi(),l=HN(),c=u.respectReducedMotion?l:!1,[f,d]=w.useState(r?"entered":"exited");let h=c?0:e;const p=w.useRef(-1),m=y=>{const g=y?i:s,_=y?o:a;if(d(y?"pre-entering":"pre-exiting"),window.clearTimeout(p.current),h=c?0:y?e:t,h===0)typeof g=="function"&&g(),typeof _=="function"&&_(),d(y?"entered":"exited");else{const b=window.setTimeout(()=>{typeof g=="function"&&g(),d(y?"entering":"exiting")},10);p.current=window.setTimeout(()=>{window.clearTimeout(b),typeof _=="function"&&_(),d(y?"entered":"exited")},h)}};return ao(()=>{m(r)},[r]),w.useEffect(()=>()=>window.clearTimeout(p.current),[]),{transitionDuration:h,transitionStatus:f,transitionTimingFunction:n||u.transitionTimingFunction}}function $S({transition:e,duration:t=250,exitDuration:n=t,mounted:r,children:i,timingFunction:s,onExit:o,onEntered:a,onEnter:u,onExited:l}){const{transitionDuration:c,transitionStatus:f,transitionTimingFunction:d}=hY({mounted:r,exitDuration:n,duration:t,timingFunction:s,onExit:o,onEntered:a,onEnter:u,onExited:l});return c===0?r?k.createElement(k.Fragment,null,i({})):null:f==="exited"?null:k.createElement(k.Fragment,null,i(dY({transition:e,duration:c,state:f,timingFunction:d})))}$S.displayName="@mantine/core/Transition";function pY({children:e,active:t=!0,refProp:n="ref"}){const r=wq(t),i=Ho(r,e==null?void 0:e.ref);return d_(e)?w.cloneElement(e,{[n]:i}):e}pY.displayName="@mantine/core/FocusTrap";var jye=Object.defineProperty,Uye=Object.defineProperties,Vye=Object.getOwnPropertyDescriptors,c5=Object.getOwnPropertySymbols,zye=Object.prototype.hasOwnProperty,Hye=Object.prototype.propertyIsEnumerable,f5=(e,t,n)=>t in e?jye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Yl=(e,t)=>{for(var n in t||(t={}))zye.call(t,n)&&f5(e,n,t[n]);if(c5)for(var n of c5(t))Hye.call(t,n)&&f5(e,n,t[n]);return e},Lv=(e,t)=>Uye(e,Vye(t));function d5(e,t,n){return e==="center"?{top:t}:e==="end"?{bottom:n}:e==="start"?{top:n}:{}}function h5(e,t,n,r){return e==="center"?{[r==="ltr"?"left":"right"]:t}:e==="end"?{[r==="ltr"?"right":"left"]:n}:e==="start"?{[r==="ltr"?"left":"right"]:n}:{}}const qye={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function Wye({position:e,withBorder:t,arrowSize:n,arrowOffset:r,arrowRadius:i,arrowX:s,arrowY:o,dir:a}){const[u,l="center"]=e.split("-"),c={width:n,height:n,transform:"rotate(45deg)",position:"absolute",[qye[u]]:i},f=t?-n/2-1:-n/2;return u==="left"?Lv(Yl(Yl({},c),d5(l,o,r)),{right:f,borderLeft:0,borderBottom:0}):u==="right"?Lv(Yl(Yl({},c),d5(l,o,r)),{left:f,borderRight:0,borderTop:0}):u==="top"?Lv(Yl(Yl({},c),h5(l,s,r,a)),{bottom:f,borderTop:0,[a==="ltr"?"borderLeft":"borderRight"]:0}):u==="bottom"?Lv(Yl(Yl({},c),h5(l,s,r,a)),{top:f,borderBottom:0,[a==="ltr"?"borderRight":"borderLeft"]:0}):{}}var Yye=Object.defineProperty,Gye=Object.defineProperties,Kye=Object.getOwnPropertyDescriptors,_E=Object.getOwnPropertySymbols,mY=Object.prototype.hasOwnProperty,gY=Object.prototype.propertyIsEnumerable,p5=(e,t,n)=>t in e?Yye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Qye=(e,t)=>{for(var n in t||(t={}))mY.call(t,n)&&p5(e,n,t[n]);if(_E)for(var n of _E(t))gY.call(t,n)&&p5(e,n,t[n]);return e},Xye=(e,t)=>Gye(e,Kye(t)),Jye=(e,t)=>{var n={};for(var r in e)mY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&_E)for(var r of _E(e))t.indexOf(r)<0&&gY.call(e,r)&&(n[r]=e[r]);return n};const sk=w.forwardRef((e,t)=>{var n=e,{withBorder:r,position:i,arrowSize:s,arrowOffset:o,arrowRadius:a,visible:u,arrowX:l,arrowY:c}=n,f=Jye(n,["withBorder","position","arrowSize","arrowOffset","arrowRadius","visible","arrowX","arrowY"]);const d=Zi();return u?k.createElement("div",Xye(Qye({},f),{ref:t,style:Wye({withBorder:r,position:i,arrowSize:s,arrowOffset:o,arrowRadius:a,dir:d.dir,arrowX:l,arrowY:c})})):null});sk.displayName="@mantine/core/FloatingArrow";var Zye=Object.defineProperty,e_e=Object.defineProperties,t_e=Object.getOwnPropertyDescriptors,vE=Object.getOwnPropertySymbols,yY=Object.prototype.hasOwnProperty,_Y=Object.prototype.propertyIsEnumerable,m5=(e,t,n)=>t in e?Zye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Mv=(e,t)=>{for(var n in t||(t={}))yY.call(t,n)&&m5(e,n,t[n]);if(vE)for(var n of vE(t))_Y.call(t,n)&&m5(e,n,t[n]);return e},g5=(e,t)=>e_e(e,t_e(t)),n_e=(e,t)=>{var n={};for(var r in e)yY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&vE)for(var r of vE(e))t.indexOf(r)<0&&_Y.call(e,r)&&(n[r]=e[r]);return n};function vY(e){var t=e,{style:n,className:r,children:i,onKeyDownCapture:s}=t,o=n_e(t,["style","className","children","onKeyDownCapture"]);const{classNames:a,styles:u,unstyled:l,staticSelector:c}=m_(),f=uY(),{classes:d,cx:h}=Lye({radius:f.radius,shadow:f.shadow},{name:c,classNames:a,styles:u,unstyled:l}),p=_q({opened:f.opened,shouldReturnFocus:f.returnFocus}),m=f.withRoles?{"aria-labelledby":f.getTargetId(),id:f.getDropdownId(),role:"dialog"}:{};return f.disabled?null:k.createElement(g_,{withinPortal:f.withinPortal},k.createElement($S,{mounted:f.opened,transition:f.transition,duration:f.transitionDuration,exitDuration:typeof f.exitTransitionDuration=="number"?f.exitTransitionDuration:f.transitionDuration},y=>{var g,_;return k.createElement(pY,{active:f.trapFocus},k.createElement(ut,Mv(g5(Mv({},m),{tabIndex:-1,ref:f.floating,style:g5(Mv(Mv({},n),y),{zIndex:f.zIndex,top:(g=f.y)!=null?g:0,left:(_=f.x)!=null?_:0,width:f.width==="target"?void 0:f.width}),className:h(d.dropdown,r),onKeyDownCapture:dfe(f.onClose,{active:f.closeOnEscape,onTrigger:p,onKeyDown:s}),"data-position":f.placement}),o),i,k.createElement(sk,{ref:f.arrowRef,arrowX:f.arrowX,arrowY:f.arrowY,visible:f.withArrow,withBorder:!0,position:f.placement,arrowSize:f.arrowSize,arrowRadius:f.arrowRadius,arrowOffset:f.arrowOffset,className:d.arrow})))}))}vY.displayName="@mantine/core/PopoverDropdown";function bY(e,t){if(e==="rtl"&&(t.includes("right")||t.includes("left"))){const[n,r]=t.split("-"),i=n==="right"?"left":"right";return r===void 0?i:`${i}-${r}`}return t}var y5=Object.getOwnPropertySymbols,r_e=Object.prototype.hasOwnProperty,i_e=Object.prototype.propertyIsEnumerable,s_e=(e,t)=>{var n={};for(var r in e)r_e.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&y5)for(var r of y5(e))t.indexOf(r)<0&&i_e.call(e,r)&&(n[r]=e[r]);return n};const o_e={position:"bottom",offset:8,positionDependencies:[],transition:"fade",transitionDuration:150,middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,closeOnClickOutside:!0,withinPortal:!1,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:vo("popover"),__staticSelector:"Popover",width:"max-content"};function Fl(e){var t,n,r,i,s,o;const a=w.useRef(null),u=dt("Popover",o_e,e),{children:l,position:c,offset:f,onPositionChange:d,positionDependencies:h,opened:p,transition:m,transitionDuration:y,width:g,middlewares:_,withArrow:b,arrowSize:T,arrowOffset:I,arrowRadius:E,unstyled:S,classNames:A,styles:L,closeOnClickOutside:Y,withinPortal:z,closeOnEscape:U,clickOutsideEvents:Z,trapFocus:V,onClose:le,onOpen:oe,onChange:ve,zIndex:re,radius:ue,shadow:te,id:x,defaultOpened:C,exitTransitionDuration:j,__staticSelector:P,withRoles:O,disabled:G,returnFocus:de}=u,fe=s_e(u,["children","position","offset","onPositionChange","positionDependencies","opened","transition","transitionDuration","width","middlewares","withArrow","arrowSize","arrowOffset","arrowRadius","unstyled","classNames","styles","closeOnClickOutside","withinPortal","closeOnEscape","clickOutsideEvents","trapFocus","onClose","onOpen","onChange","zIndex","radius","shadow","id","defaultOpened","exitTransitionDuration","__staticSelector","withRoles","disabled","returnFocus"]),[ye,me]=w.useState(null),[W,M]=w.useState(null),pe=Ou(x),Ee=Zi(),Ce=Aye({middlewares:_,width:g,position:bY(Ee.dir,c),offset:f+(b?T/2:0),arrowRef:a,onPositionChange:d,positionDependencies:h,opened:p,defaultOpened:C,onChange:ve,onOpen:oe,onClose:le});fhe(()=>Y&&Ce.onClose(),Z,[ye,W]);const Ae=w.useCallback(et=>{me(et),Ce.floating.reference(et)},[Ce.floating.reference]),qe=w.useCallback(et=>{M(et),Ce.floating.floating(et)},[Ce.floating.floating]);return k.createElement(mq,{classNames:A,styles:L,unstyled:S,staticSelector:P},k.createElement(Oye,{value:{returnFocus:de,disabled:G,controlled:Ce.controlled,reference:Ae,floating:qe,x:Ce.floating.x,y:Ce.floating.y,arrowX:(r=(n=(t=Ce.floating)==null?void 0:t.middlewareData)==null?void 0:n.arrow)==null?void 0:r.x,arrowY:(o=(s=(i=Ce.floating)==null?void 0:i.middlewareData)==null?void 0:s.arrow)==null?void 0:o.y,opened:Ce.opened,arrowRef:a,transition:m,transitionDuration:y,exitTransitionDuration:j,width:g,withArrow:b,arrowSize:T,arrowOffset:I,arrowRadius:E,placement:Ce.floating.placement,trapFocus:V,withinPortal:z,zIndex:re,radius:ue,shadow:te,closeOnEscape:U,onClose:Ce.onClose,onToggle:Ce.onToggle,getTargetId:()=>`${pe}-target`,getDropdownId:()=>`${pe}-dropdown`,withRoles:O,targetProps:fe}},l))}Fl.Target=fY;Fl.Dropdown=vY;Fl.displayName="@mantine/core/Popover";var a_e=Object.defineProperty,bE=Object.getOwnPropertySymbols,EY=Object.prototype.hasOwnProperty,wY=Object.prototype.propertyIsEnumerable,_5=(e,t,n)=>t in e?a_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u_e=(e,t)=>{for(var n in t||(t={}))EY.call(t,n)&&_5(e,n,t[n]);if(bE)for(var n of bE(t))wY.call(t,n)&&_5(e,n,t[n]);return e},l_e=(e,t)=>{var n={};for(var r in e)EY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&bE)for(var r of bE(e))t.indexOf(r)<0&&wY.call(e,r)&&(n[r]=e[r]);return n};function c_e(e){var t=e,{children:n,component:r="div",maxHeight:i=220,direction:s="column",id:o,innerRef:a,__staticSelector:u,styles:l,classNames:c,unstyled:f}=t,d=l_e(t,["children","component","maxHeight","direction","id","innerRef","__staticSelector","styles","classNames","unstyled"]);const{classes:h}=Gge(null,{name:u,styles:l,classNames:c,unstyled:f});return k.createElement(Fl.Dropdown,u_e({p:0,onMouseDown:p=>p.preventDefault()},d),k.createElement("div",{style:{maxHeight:i,display:"flex"}},k.createElement(ut,{component:r||"div",id:`${o}-items`,"aria-labelledby":`${o}-label`,role:"listbox",onMouseDown:p=>p.preventDefault(),style:{flex:1,overflowY:r!==NS?"auto":void 0},"data-combobox-popover":!0,ref:a},k.createElement("div",{className:h.itemsWrapper,style:{flexDirection:s}},n))))}function Dc({opened:e,transition:t="fade",transitionDuration:n=0,shadow:r,withinPortal:i,children:s,__staticSelector:o,onDirectionChange:a,switchDirectionOnFlip:u,zIndex:l,dropdownPosition:c,positionDependencies:f=[],classNames:d,styles:h,unstyled:p,readOnly:m}){return k.createElement(Fl,{unstyled:p,classNames:d,styles:h,width:"target",withRoles:!1,opened:e,middlewares:{flip:c==="flip",shift:!1},position:c==="flip"?"bottom":c,positionDependencies:f,zIndex:l,__staticSelector:o,withinPortal:i,transition:t,transitionDuration:n,shadow:r,disabled:m,onPositionChange:y=>u&&(a==null?void 0:a(y==="top"?"column-reverse":"column"))},s)}Dc.Target=Fl.Target;Dc.Dropdown=c_e;var f_e=Object.defineProperty,d_e=Object.defineProperties,h_e=Object.getOwnPropertyDescriptors,EE=Object.getOwnPropertySymbols,TY=Object.prototype.hasOwnProperty,SY=Object.prototype.propertyIsEnumerable,v5=(e,t,n)=>t in e?f_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vC=(e,t)=>{for(var n in t||(t={}))TY.call(t,n)&&v5(e,n,t[n]);if(EE)for(var n of EE(t))SY.call(t,n)&&v5(e,n,t[n]);return e},p_e=(e,t)=>d_e(e,h_e(t)),m_e=(e,t)=>{var n={};for(var r in e)TY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&EE)for(var r of EE(e))t.indexOf(r)<0&&SY.call(e,r)&&(n[r]=e[r]);return n};function IY(e,t,n){const r=dt(e,t,n),{label:i,description:s,error:o,required:a,classNames:u,styles:l,className:c,unstyled:f,__staticSelector:d,sx:h,errorProps:p,labelProps:m,descriptionProps:y,wrapperProps:g,id:_,size:b,style:T,inputContainer:I,inputWrapperOrder:E,withAsterisk:S}=r,A=m_e(r,["label","description","error","required","classNames","styles","className","unstyled","__staticSelector","sx","errorProps","labelProps","descriptionProps","wrapperProps","id","size","style","inputContainer","inputWrapperOrder","withAsterisk"]),L=Ou(_),{systemStyles:Y,rest:z}=Wd(A);return p_e(vC({},z),{classNames:u,styles:l,unstyled:f,wrapperProps:vC(vC({label:i,description:s,error:o,required:a,classNames:u,className:c,__staticSelector:d,sx:h,errorProps:p,labelProps:m,descriptionProps:y,unstyled:f,styles:l,id:L,size:b,style:T,inputContainer:I,inputWrapperOrder:E,withAsterisk:S},g),Y),inputProps:{required:a,classNames:u,styles:l,unstyled:f,id:L,size:b,__staticSelector:d,invalid:!!o}})}var g_e=at((e,{size:t})=>({label:{display:"inline-block",fontSize:e.fn.size({size:t,sizes:e.fontSizes}),fontWeight:500,color:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[9],wordBreak:"break-word",cursor:"default",WebkitTapHighlightColor:"transparent"},required:{color:e.fn.variant({variant:"filled",color:"red"}).background}}));const y_e=g_e;var __e=Object.defineProperty,wE=Object.getOwnPropertySymbols,xY=Object.prototype.hasOwnProperty,CY=Object.prototype.propertyIsEnumerable,b5=(e,t,n)=>t in e?__e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,v_e=(e,t)=>{for(var n in t||(t={}))xY.call(t,n)&&b5(e,n,t[n]);if(wE)for(var n of wE(t))CY.call(t,n)&&b5(e,n,t[n]);return e},b_e=(e,t)=>{var n={};for(var r in e)xY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&wE)for(var r of wE(e))t.indexOf(r)<0&&CY.call(e,r)&&(n[r]=e[r]);return n};const ok=w.forwardRef((e,t)=>{var n=e,{labelElement:r="label",children:i,required:s,size:o="sm",classNames:a,styles:u,unstyled:l,className:c,htmlFor:f,__staticSelector:d}=n,h=b_e(n,["labelElement","children","required","size","classNames","styles","unstyled","className","htmlFor","__staticSelector"]);const{classes:p,cx:m}=y_e({size:o},{name:["InputWrapper",d],classNames:a,styles:u,unstyled:l});return k.createElement(ut,v_e({component:r,ref:t,className:m(p.label,c),htmlFor:r==="label"?f:void 0},h),i,s&&k.createElement("span",{className:p.required,"aria-hidden":!0}," *"))});ok.displayName="@mantine/core/InputLabel";var E_e=at((e,{size:t})=>({error:{wordBreak:"break-word",color:e.fn.variant({variant:"filled",color:"red"}).background,fontSize:e.fn.size({size:t,sizes:e.fontSizes})-2,lineHeight:1.2,display:"block"}}));const w_e=E_e;var T_e=Object.defineProperty,TE=Object.getOwnPropertySymbols,AY=Object.prototype.hasOwnProperty,OY=Object.prototype.propertyIsEnumerable,E5=(e,t,n)=>t in e?T_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,S_e=(e,t)=>{for(var n in t||(t={}))AY.call(t,n)&&E5(e,n,t[n]);if(TE)for(var n of TE(t))OY.call(t,n)&&E5(e,n,t[n]);return e},I_e=(e,t)=>{var n={};for(var r in e)AY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&TE)for(var r of TE(e))t.indexOf(r)<0&&OY.call(e,r)&&(n[r]=e[r]);return n};const ak=w.forwardRef((e,t)=>{var n=e,{children:r,className:i,classNames:s,styles:o,unstyled:a,size:u="sm",__staticSelector:l}=n,c=I_e(n,["children","className","classNames","styles","unstyled","size","__staticSelector"]);const{classes:f,cx:d}=w_e({size:u},{name:["InputWrapper",l],classNames:s,styles:o,unstyled:a});return k.createElement(It,S_e({className:d(f.error,i),ref:t,role:"alert"},c),r)});ak.displayName="@mantine/core/InputError";var x_e=at((e,{size:t})=>({description:{wordBreak:"break-word",color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],fontSize:e.fn.size({size:t,sizes:e.fontSizes})-2,lineHeight:1.2,display:"block"}}));const C_e=x_e;var A_e=Object.defineProperty,SE=Object.getOwnPropertySymbols,PY=Object.prototype.hasOwnProperty,RY=Object.prototype.propertyIsEnumerable,w5=(e,t,n)=>t in e?A_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,O_e=(e,t)=>{for(var n in t||(t={}))PY.call(t,n)&&w5(e,n,t[n]);if(SE)for(var n of SE(t))RY.call(t,n)&&w5(e,n,t[n]);return e},P_e=(e,t)=>{var n={};for(var r in e)PY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&SE)for(var r of SE(e))t.indexOf(r)<0&&RY.call(e,r)&&(n[r]=e[r]);return n};const uk=w.forwardRef((e,t)=>{var n=e,{children:r,className:i,classNames:s,styles:o,unstyled:a,size:u="sm",__staticSelector:l}=n,c=P_e(n,["children","className","classNames","styles","unstyled","size","__staticSelector"]);const{classes:f,cx:d}=C_e({size:u},{name:["InputWrapper",l],classNames:s,styles:o,unstyled:a});return k.createElement(It,O_e({color:"dimmed",className:d(f.description,i),ref:t,unstyled:a},c),r)});uk.displayName="@mantine/core/InputDescription";const NY=w.createContext({offsetBottom:!1,offsetTop:!1}),R_e=NY.Provider,N_e=()=>w.useContext(NY);function k_e(e,{hasDescription:t,hasError:n}){const r=e.findIndex(u=>u==="input"),i=e[r-1],s=e[r+1];return{offsetBottom:t&&s==="description"||n&&s==="error",offsetTop:t&&i==="description"||n&&i==="error"}}var D_e=Object.defineProperty,$_e=Object.defineProperties,L_e=Object.getOwnPropertyDescriptors,T5=Object.getOwnPropertySymbols,M_e=Object.prototype.hasOwnProperty,F_e=Object.prototype.propertyIsEnumerable,S5=(e,t,n)=>t in e?D_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,B_e=(e,t)=>{for(var n in t||(t={}))M_e.call(t,n)&&S5(e,n,t[n]);if(T5)for(var n of T5(t))F_e.call(t,n)&&S5(e,n,t[n]);return e},j_e=(e,t)=>$_e(e,L_e(t)),U_e=at(e=>({root:j_e(B_e({},e.fn.fontStyles()),{lineHeight:e.lineHeight})}));const V_e=U_e;var z_e=Object.defineProperty,H_e=Object.defineProperties,q_e=Object.getOwnPropertyDescriptors,IE=Object.getOwnPropertySymbols,kY=Object.prototype.hasOwnProperty,DY=Object.prototype.propertyIsEnumerable,I5=(e,t,n)=>t in e?z_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Cf=(e,t)=>{for(var n in t||(t={}))kY.call(t,n)&&I5(e,n,t[n]);if(IE)for(var n of IE(t))DY.call(t,n)&&I5(e,n,t[n]);return e},x5=(e,t)=>H_e(e,q_e(t)),W_e=(e,t)=>{var n={};for(var r in e)kY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&IE)for(var r of IE(e))t.indexOf(r)<0&&DY.call(e,r)&&(n[r]=e[r]);return n};const Y_e={labelElement:"label",size:"sm",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},$Y=w.forwardRef((e,t)=>{const n=dt("InputWrapper",Y_e,e),{className:r,label:i,children:s,required:o,id:a,error:u,description:l,labelElement:c,labelProps:f,descriptionProps:d,errorProps:h,classNames:p,styles:m,size:y,inputContainer:g,__staticSelector:_,unstyled:b,inputWrapperOrder:T,withAsterisk:I}=n,E=W_e(n,["className","label","children","required","id","error","description","labelElement","labelProps","descriptionProps","errorProps","classNames","styles","size","inputContainer","__staticSelector","unstyled","inputWrapperOrder","withAsterisk"]),{classes:S,cx:A}=V_e(null,{classNames:p,styles:m,name:["InputWrapper",_],unstyled:b}),L={classNames:p,styles:m,unstyled:b,size:y,__staticSelector:_},Y=typeof I=="boolean"?I:o,z=i&&k.createElement(ok,Cf(Cf({key:"label",labelElement:c,id:a?`${a}-label`:void 0,htmlFor:a,required:Y},L),f),i),U=l&&k.createElement(uk,x5(Cf(Cf({key:"description"},d),L),{size:(d==null?void 0:d.size)||L.size}),l),Z=k.createElement(w.Fragment,{key:"input"},g(s)),V=typeof u!="boolean"&&u&&k.createElement(ak,x5(Cf(Cf({},h),L),{size:(h==null?void 0:h.size)||L.size,key:"error"}),u),le=T.map(oe=>{switch(oe){case"label":return z;case"input":return Z;case"description":return U;case"error":return V;default:return null}});return k.createElement(R_e,{value:k_e(T,{hasDescription:!!U,hasError:!!V})},k.createElement(ut,Cf({className:A(S.root,r),ref:t},E),le))});$Y.displayName="@mantine/core/InputWrapper";var G_e=Object.defineProperty,K_e=Object.defineProperties,Q_e=Object.getOwnPropertyDescriptors,C5=Object.getOwnPropertySymbols,X_e=Object.prototype.hasOwnProperty,J_e=Object.prototype.propertyIsEnumerable,A5=(e,t,n)=>t in e?G_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bC=(e,t)=>{for(var n in t||(t={}))X_e.call(t,n)&&A5(e,n,t[n]);if(C5)for(var n of C5(t))J_e.call(t,n)&&A5(e,n,t[n]);return e},O5=(e,t)=>K_e(e,Q_e(t));const Es={xs:30,sm:36,md:42,lg:50,xl:60};function Z_e({theme:e,variant:t}){return t==="default"?{border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white,transition:"border-color 100ms ease","&:focus, &:focus-within":e.focusRingStyles.inputStyles(e)}:t==="filled"?{border:"1px solid transparent",backgroundColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[1],"&:focus, &:focus-within":e.focusRingStyles.inputStyles(e)}:{borderWidth:0,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,backgroundColor:"transparent",minHeight:28,outline:0,"&:focus, &:focus-within":{outline:"none",borderColor:"transparent"},"&:disabled":{backgroundColor:"transparent","&:focus, &:focus-within":{outline:"none",borderColor:"transparent"}}}}var eve=at((e,{size:t,multiline:n,radius:r,variant:i,invalid:s,rightSectionWidth:o,withRightSection:a,iconWidth:u,offsetBottom:l,offsetTop:c,pointer:f})=>{const d=e.fn.variant({variant:"filled",color:"red"}).background,h=i==="default"||i==="filled"?{minHeight:e.fn.size({size:t,sizes:Es}),paddingLeft:e.fn.size({size:t,sizes:Es})/3,paddingRight:a?o:e.fn.size({size:t,sizes:Es})/3,borderRadius:e.fn.radius(r)}:null;return{wrapper:{position:"relative",marginTop:c?`calc(${e.spacing.xs}px / 2)`:void 0,marginBottom:l?`calc(${e.spacing.xs}px / 2)`:void 0},input:bC(O5(bC(O5(bC({},e.fn.fontStyles()),{height:n?i==="unstyled"?void 0:"auto":e.fn.size({size:t,sizes:Es}),WebkitTapHighlightColor:"transparent",lineHeight:n?e.lineHeight:`${e.fn.size({size:t,sizes:Es})-2}px`,appearance:"none",resize:"none",boxSizing:"border-box",fontSize:e.fn.size({size:t,sizes:e.fontSizes}),width:"100%",color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,display:"block",textAlign:"left",cursor:f?"pointer":void 0}),h),{"&:disabled":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[1],color:e.colors.dark[2],opacity:.6,cursor:"not-allowed","&::placeholder":{color:e.colors.dark[2]}},"&::placeholder":{opacity:1,userSelect:"none",color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]},"&::-webkit-inner-spin-button, &::-webkit-outer-spin-button, &::-webkit-search-decoration, &::-webkit-search-cancel-button, &::-webkit-search-results-button, &::-webkit-search-results-decoration":{appearance:"none"},"&[type=number]":{MozAppearance:"textfield"}}),Z_e({theme:e,variant:i})),withIcon:{paddingLeft:typeof u=="number"?u:e.fn.size({size:t,sizes:Es})},invalid:{color:d,borderColor:d,"&::placeholder":{opacity:1,color:d}},disabled:{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[1],color:e.colors.dark[2],opacity:.6,cursor:"not-allowed","&::placeholder":{color:e.colors.dark[2]}},icon:{pointerEvents:"none",position:"absolute",zIndex:1,left:0,top:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",width:typeof u=="number"?u:e.fn.size({size:t,sizes:Es}),color:s?e.colors.red[e.colorScheme==="dark"?6:7]:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[5]},rightSection:{position:"absolute",top:0,bottom:0,right:0,display:"flex",alignItems:"center",justifyContent:"center",width:o}}});const tve=eve;var nve=Object.defineProperty,rve=Object.defineProperties,ive=Object.getOwnPropertyDescriptors,xE=Object.getOwnPropertySymbols,LY=Object.prototype.hasOwnProperty,MY=Object.prototype.propertyIsEnumerable,P5=(e,t,n)=>t in e?nve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Fv=(e,t)=>{for(var n in t||(t={}))LY.call(t,n)&&P5(e,n,t[n]);if(xE)for(var n of xE(t))MY.call(t,n)&&P5(e,n,t[n]);return e},R5=(e,t)=>rve(e,ive(t)),sve=(e,t)=>{var n={};for(var r in e)LY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&xE)for(var r of xE(e))t.indexOf(r)<0&&MY.call(e,r)&&(n[r]=e[r]);return n};const ove={rightSectionWidth:36,size:"sm",variant:"default"},Am=w.forwardRef((e,t)=>{const n=dt("Input",ove,e),{className:r,invalid:i,required:s,disabled:o,variant:a,icon:u,style:l,rightSectionWidth:c,iconWidth:f,rightSection:d,rightSectionProps:h,radius:p,size:m,wrapperProps:y,classNames:g,styles:_,__staticSelector:b,multiline:T,sx:I,unstyled:E,pointer:S}=n,A=sve(n,["className","invalid","required","disabled","variant","icon","style","rightSectionWidth","iconWidth","rightSection","rightSectionProps","radius","size","wrapperProps","classNames","styles","__staticSelector","multiline","sx","unstyled","pointer"]),{offsetBottom:L,offsetTop:Y}=N_e(),{classes:z,cx:U}=tve({radius:p,size:m,multiline:T,variant:a,invalid:i,rightSectionWidth:c,iconWidth:f,withRightSection:!!d,offsetBottom:L,offsetTop:Y,pointer:S},{classNames:g,styles:_,name:["Input",b],unstyled:E}),{systemStyles:Z,rest:V}=Wd(A);return k.createElement(ut,Fv(Fv({className:U(z.wrapper,r),sx:I,style:l},Z),y),u&&k.createElement("div",{className:z.icon},u),k.createElement(ut,R5(Fv({component:"input"},V),{ref:t,required:s,"aria-invalid":i,disabled:o,className:U(z[`${a}Variant`],z.input,{[z.withIcon]:u,[z.invalid]:i,[z.disabled]:o})})),d&&k.createElement("div",R5(Fv({},h),{className:z.rightSection}),d))});Am.displayName="@mantine/core/Input";Am.Wrapper=$Y;Am.Label=ok;Am.Description=uk;Am.Error=ak;const Ls=Am;var ave=Object.defineProperty,uve=Object.defineProperties,lve=Object.getOwnPropertyDescriptors,N5=Object.getOwnPropertySymbols,cve=Object.prototype.hasOwnProperty,fve=Object.prototype.propertyIsEnumerable,k5=(e,t,n)=>t in e?ave(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,EC=(e,t)=>{for(var n in t||(t={}))cve.call(t,n)&&k5(e,n,t[n]);if(N5)for(var n of N5(t))fve.call(t,n)&&k5(e,n,t[n]);return e},dve=(e,t)=>uve(e,lve(t));const wC={xs:{fontSize:9,height:16},sm:{fontSize:10,height:18},md:{fontSize:11,height:20},lg:{fontSize:13,height:26},xl:{fontSize:16,height:32}},hve={xs:4,sm:4,md:6,lg:8,xl:10};function pve({theme:e,variant:t,color:n,size:r,gradient:i}){if(t==="dot"){const o=e.fn.size({size:r,sizes:hve});return{backgroundColor:"transparent",color:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[7],border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[3]}`,paddingLeft:e.fn.size({size:r,sizes:e.spacing})/1.5-o/2,"&::before":{content:'""',display:"block",width:o,height:o,borderRadius:o,backgroundColor:e.fn.themeColor(n,e.colorScheme==="dark"?4:e.fn.primaryShade("light"),!0),marginRight:o}}}const s=e.fn.variant({color:n,variant:t,gradient:i});return{background:s.background,color:s.color,border:`${t==="gradient"?0:1}px solid ${s.border}`}}var mve=at((e,{color:t,size:n,radius:r,gradient:i,fullWidth:s,variant:o})=>{const{fontSize:a,height:u}=n in wC?wC[n]:wC.md;return{leftSection:{marginRight:`calc(${e.spacing.xs}px / 2)`},rightSection:{marginLeft:`calc(${e.spacing.xs}px / 2)`},inner:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},root:EC(dve(EC(EC({},e.fn.focusStyles()),e.fn.fontStyles()),{fontSize:a,height:u,WebkitTapHighlightColor:"transparent",lineHeight:`${u-2}px`,textDecoration:"none",padding:`0 ${e.fn.size({size:n,sizes:e.spacing})/1.5}px`,boxSizing:"border-box",display:s?"flex":"inline-flex",alignItems:"center",justifyContent:"center",width:s?"100%":"auto",textTransform:"uppercase",borderRadius:e.fn.radius(r),fontWeight:700,letterSpacing:.25,cursor:"inherit",textOverflow:"ellipsis",overflow:"hidden"}),pve({theme:e,variant:o,color:t,size:n,gradient:i}))}});const gve=mve;var yve=Object.defineProperty,CE=Object.getOwnPropertySymbols,FY=Object.prototype.hasOwnProperty,BY=Object.prototype.propertyIsEnumerable,D5=(e,t,n)=>t in e?yve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_ve=(e,t)=>{for(var n in t||(t={}))FY.call(t,n)&&D5(e,n,t[n]);if(CE)for(var n of CE(t))BY.call(t,n)&&D5(e,n,t[n]);return e},vve=(e,t)=>{var n={};for(var r in e)FY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&CE)for(var r of CE(e))t.indexOf(r)<0&&BY.call(e,r)&&(n[r]=e[r]);return n};const bve={variant:"light",size:"md",radius:"xl"},jY=w.forwardRef((e,t)=>{const n=dt("Badge",bve,e),{className:r,color:i,variant:s,fullWidth:o,children:a,size:u,leftSection:l,rightSection:c,radius:f,gradient:d,classNames:h,styles:p,unstyled:m}=n,y=vve(n,["className","color","variant","fullWidth","children","size","leftSection","rightSection","radius","gradient","classNames","styles","unstyled"]),{classes:g,cx:_}=gve({size:u,fullWidth:o,color:i,radius:f,variant:s,gradient:d},{classNames:h,styles:p,name:"Badge",unstyled:m});return k.createElement(ut,_ve({className:_(g.root,r),ref:t},y),l&&k.createElement("span",{className:g.leftSection},l),k.createElement("span",{className:g.inner},a),c&&k.createElement("span",{className:g.rightSection},c))});jY.displayName="@mantine/core/Badge";const Eve=jY;var wve=at((e,{orientation:t,buttonBorderWidth:n})=>({root:{display:"flex",flexDirection:t==="vertical"?"column":"row","& [data-button]":{"&:first-of-type":{borderBottomRightRadius:0,[t==="vertical"?"borderBottomLeftRadius":"borderTopRightRadius"]:0,[t==="vertical"?"borderBottomWidth":"borderRightWidth"]:n/2},"&:last-of-type":{borderTopLeftRadius:0,[t==="vertical"?"borderTopRightRadius":"borderBottomLeftRadius"]:0,[t==="vertical"?"borderTopWidth":"borderLeftWidth"]:n/2},"&:not(:first-of-type):not(:last-of-type)":{borderRadius:0,[t==="vertical"?"borderTopWidth":"borderLeftWidth"]:n/2,[t==="vertical"?"borderBottomWidth":"borderRightWidth"]:n/2},"& + [data-button]":{[t==="vertical"?"marginTop":"marginLeft"]:-n,"@media (min-resolution: 192dpi)":{[t==="vertical"?"marginTop":"marginLeft"]:0}}}}}));const Tve=wve;var Sve=Object.defineProperty,AE=Object.getOwnPropertySymbols,UY=Object.prototype.hasOwnProperty,VY=Object.prototype.propertyIsEnumerable,$5=(e,t,n)=>t in e?Sve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ive=(e,t)=>{for(var n in t||(t={}))UY.call(t,n)&&$5(e,n,t[n]);if(AE)for(var n of AE(t))VY.call(t,n)&&$5(e,n,t[n]);return e},xve=(e,t)=>{var n={};for(var r in e)UY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&AE)for(var r of AE(e))t.indexOf(r)<0&&VY.call(e,r)&&(n[r]=e[r]);return n};const Cve={orientation:"horizontal",buttonBorderWidth:1},zY=w.forwardRef((e,t)=>{const n=dt("ButtonGroup",Cve,e),{className:r,orientation:i,buttonBorderWidth:s,unstyled:o}=n,a=xve(n,["className","orientation","buttonBorderWidth","unstyled"]),{classes:u,cx:l}=Tve({orientation:i,buttonBorderWidth:s},{name:"ButtonGroup",unstyled:o});return k.createElement(ut,Ive({className:l(u.root,r),ref:t},a))});zY.displayName="@mantine/core/ButtonGroup";var Ave=Object.defineProperty,Ove=Object.defineProperties,Pve=Object.getOwnPropertyDescriptors,L5=Object.getOwnPropertySymbols,Rve=Object.prototype.hasOwnProperty,Nve=Object.prototype.propertyIsEnumerable,M5=(e,t,n)=>t in e?Ave(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Bf=(e,t)=>{for(var n in t||(t={}))Rve.call(t,n)&&M5(e,n,t[n]);if(L5)for(var n of L5(t))Nve.call(t,n)&&M5(e,n,t[n]);return e},wP=(e,t)=>Ove(e,Pve(t));const TP={xs:{height:Es.xs,paddingLeft:14,paddingRight:14},sm:{height:Es.sm,paddingLeft:18,paddingRight:18},md:{height:Es.md,paddingLeft:22,paddingRight:22},lg:{height:Es.lg,paddingLeft:26,paddingRight:26},xl:{height:Es.xl,paddingLeft:32,paddingRight:32},"compact-xs":{height:22,paddingLeft:7,paddingRight:7},"compact-sm":{height:26,paddingLeft:8,paddingRight:8},"compact-md":{height:30,paddingLeft:10,paddingRight:10},"compact-lg":{height:34,paddingLeft:12,paddingRight:12},"compact-xl":{height:40,paddingLeft:14,paddingRight:14}};function kve({compact:e,size:t,withLeftIcon:n,withRightIcon:r}){if(e)return TP[`compact-${t}`];const i=TP[t];return wP(Bf({},i),{paddingLeft:n?i.paddingLeft/1.5:i.paddingLeft,paddingRight:r?i.paddingRight/1.5:i.paddingRight})}const Dve=e=>({display:e?"block":"inline-block",width:e?"100%":"auto"});function $ve({variant:e,theme:t,color:n,gradient:r}){const i=t.fn.variant({color:n,variant:e,gradient:r});return e==="gradient"?{border:0,backgroundImage:i.background,color:i.color,"&:hover":t.fn.hover({backgroundSize:"200%"})}:Bf({border:`1px solid ${i.border}`,backgroundColor:i.background,color:i.color},t.fn.hover({backgroundColor:i.hover}))}var Lve=at((e,{color:t,size:n,radius:r,fullWidth:i,compact:s,gradient:o,variant:a,withLeftIcon:u,withRightIcon:l})=>({root:wP(Bf(wP(Bf(Bf(Bf(Bf({},kve({compact:s,size:n,withLeftIcon:u,withRightIcon:l})),e.fn.fontStyles()),e.fn.focusStyles()),Dve(i)),{borderRadius:e.fn.radius(r),fontWeight:600,position:"relative",lineHeight:1,fontSize:e.fn.size({size:n,sizes:e.fontSizes}),userSelect:"none",cursor:"pointer"}),$ve({variant:a,theme:e,color:t,gradient:o})),{"&:active":e.activeStyles,"&:disabled, &[data-disabled]":{borderColor:"transparent",backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],color:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[5],cursor:"not-allowed",backgroundImage:"none",pointerEvents:"none","&:active":{transform:"none"}},"&[data-loading]":{pointerEvents:"none","&::before":{content:'""',position:"absolute",top:-1,left:-1,right:-1,bottom:-1,backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.colors.dark[7],.5):"rgba(255, 255, 255, .5)",borderRadius:e.fn.radius(r),cursor:"not-allowed"}}}),icon:{display:"flex",alignItems:"center"},leftIcon:{marginRight:10},rightIcon:{marginLeft:10},centerLoader:{position:"absolute",left:"50%",transform:"translateX(-50%)",opacity:.5},inner:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",overflow:"visible"},label:{whiteSpace:"nowrap",height:"100%",overflow:"hidden",display:"flex",alignItems:"center"}}));const Mve=Lve;var Fve=Object.defineProperty,OE=Object.getOwnPropertySymbols,HY=Object.prototype.hasOwnProperty,qY=Object.prototype.propertyIsEnumerable,F5=(e,t,n)=>t in e?Fve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,B5=(e,t)=>{for(var n in t||(t={}))HY.call(t,n)&&F5(e,n,t[n]);if(OE)for(var n of OE(t))qY.call(t,n)&&F5(e,n,t[n]);return e},Bve=(e,t)=>{var n={};for(var r in e)HY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&OE)for(var r of OE(e))t.indexOf(r)<0&&qY.call(e,r)&&(n[r]=e[r]);return n};const jve={size:"sm",type:"button",variant:"filled",loaderPosition:"left"},lk=w.forwardRef((e,t)=>{const n=dt("Button",jve,e),{className:r,size:i,color:s,type:o,disabled:a,children:u,leftIcon:l,rightIcon:c,fullWidth:f,variant:d,radius:h,uppercase:p,compact:m,loading:y,loaderPosition:g,loaderProps:_,gradient:b,classNames:T,styles:I,unstyled:E}=n,S=Bve(n,["className","size","color","type","disabled","children","leftIcon","rightIcon","fullWidth","variant","radius","uppercase","compact","loading","loaderPosition","loaderProps","gradient","classNames","styles","unstyled"]),{classes:A,cx:L,theme:Y}=Mve({radius:h,color:s,size:i,fullWidth:f,compact:m,gradient:b,variant:d,withLeftIcon:!!l,withRightIcon:!!c},{name:"Button",unstyled:E,classNames:T,styles:I}),z=Y.fn.variant({color:s,variant:d}),U=k.createElement(Cm,B5({color:z.color,size:Y.fn.size({size:i,sizes:TP}).height/2},_));return k.createElement(WN,B5({className:L(A.root,r),type:o,disabled:a,"data-button":!0,"data-disabled":a||void 0,"data-loading":y||void 0,ref:t,unstyled:E},S),k.createElement("div",{className:A.inner},(l||y&&g==="left")&&k.createElement("span",{className:L(A.icon,A.leftIcon)},y&&g==="left"?U:l),y&&g==="center"&&k.createElement("span",{className:A.centerLoader},U),k.createElement("span",{className:A.label,style:{textTransform:p?"uppercase":void 0}},u),(c||y&&g==="right")&&k.createElement("span",{className:L(A.icon,A.rightIcon)},y&&g==="right"?U:c)))});lk.displayName="@mantine/core/Button";lk.Group=zY;const ll=lk;var Uve=at((e,{radius:t,shadow:n,withBorder:r})=>({root:{outline:0,WebkitTapHighlightColor:"transparent",display:"block",textDecoration:"none",color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white,boxSizing:"border-box",borderRadius:e.fn.radius(t),boxShadow:e.shadows[n]||n||"none",border:r?`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3]}`:void 0}}));const Vve=Uve;var zve=Object.defineProperty,PE=Object.getOwnPropertySymbols,WY=Object.prototype.hasOwnProperty,YY=Object.prototype.propertyIsEnumerable,j5=(e,t,n)=>t in e?zve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Hve=(e,t)=>{for(var n in t||(t={}))WY.call(t,n)&&j5(e,n,t[n]);if(PE)for(var n of PE(t))YY.call(t,n)&&j5(e,n,t[n]);return e},qve=(e,t)=>{var n={};for(var r in e)WY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&PE)for(var r of PE(e))t.indexOf(r)<0&&YY.call(e,r)&&(n[r]=e[r]);return n};const Wve={},GY=w.forwardRef((e,t)=>{const n=dt("Paper",Wve,e),{className:r,children:i,radius:s,withBorder:o,shadow:a,unstyled:u}=n,l=qve(n,["className","children","radius","withBorder","shadow","unstyled"]),{classes:c,cx:f}=Vve({radius:s,shadow:a,withBorder:o},{name:"Paper",unstyled:u});return k.createElement(ut,Hve({className:f(c.root,r),ref:t},l),i)});GY.displayName="@mantine/core/Paper";const hd=GY,KY=w.createContext({padding:0}),Yve=KY.Provider,Gve=()=>w.useContext(KY).padding;var Kve=at((e,{padding:t,withBorder:n,inheritPadding:r})=>{const i=e.fn.size({size:t,sizes:e.spacing}),s=-1*i,o=e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3];return{cardSection:{display:"block",marginLeft:s,marginRight:s,paddingLeft:r?i:void 0,paddingRight:r?i:void 0,borderTop:n&&`1px solid ${o}`,borderBottom:n&&`1px solid ${o}`,"& + &":{borderTop:0},"&[data-first]":{marginTop:s,borderTop:0,borderBottom:n&&`1px solid ${o}`},"&[data-last]":{marginBottom:s,borderBottom:0}}}});const Qve=Kve;var Xve=Object.defineProperty,RE=Object.getOwnPropertySymbols,QY=Object.prototype.hasOwnProperty,XY=Object.prototype.propertyIsEnumerable,U5=(e,t,n)=>t in e?Xve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Jve=(e,t)=>{for(var n in t||(t={}))QY.call(t,n)&&U5(e,n,t[n]);if(RE)for(var n of RE(t))XY.call(t,n)&&U5(e,n,t[n]);return e},Zve=(e,t)=>{var n={};for(var r in e)QY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&RE)for(var r of RE(e))t.indexOf(r)<0&&XY.call(e,r)&&(n[r]=e[r]);return n};const JY=w.forwardRef((e,t)=>{var n=e,{className:r,withBorder:i=!1,inheritPadding:s=!1,unstyled:o}=n,a=Zve(n,["className","withBorder","inheritPadding","unstyled"]);const{classes:u,cx:l}=Qve({padding:Gve(),withBorder:i,inheritPadding:s},{name:"Card",unstyled:o});return k.createElement(ut,Jve({className:l(u.cardSection,r),ref:t},a))});JY.displayName="@mantine/core/CardSection";const ZY=JY;var e1e=at(e=>({root:{position:"relative",overflow:"hidden",backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white}}));const t1e=e1e;var n1e=Object.defineProperty,NE=Object.getOwnPropertySymbols,eG=Object.prototype.hasOwnProperty,tG=Object.prototype.propertyIsEnumerable,V5=(e,t,n)=>t in e?n1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,r1e=(e,t)=>{for(var n in t||(t={}))eG.call(t,n)&&V5(e,n,t[n]);if(NE)for(var n of NE(t))tG.call(t,n)&&V5(e,n,t[n]);return e},i1e=(e,t)=>{var n={};for(var r in e)eG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&NE)for(var r of NE(e))t.indexOf(r)<0&&tG.call(e,r)&&(n[r]=e[r]);return n};const s1e={p:"md"},ck=w.forwardRef((e,t)=>{const n=dt("Card",s1e,e),{className:r,p:i,radius:s,children:o,unstyled:a}=n,u=i1e(n,["className","p","radius","children","unstyled"]),{classes:l,cx:c}=t1e(null,{name:"Card",unstyled:a}),f=w.Children.toArray(o),d=f.map((h,p)=>typeof h=="object"&&h&&"type"in h&&h.type===ZY?w.cloneElement(h,{padding:i,"data-first":p===0||void 0,"data-last":p===f.length-1||void 0}):h);return k.createElement(Yve,{value:{padding:i}},k.createElement(hd,r1e({className:c(l.root,r),radius:s,p:i,ref:t},u),d))});ck.Section=ZY;ck.displayName="@mantine/core/Card";const o1e=ck;var a1e=Object.defineProperty,kE=Object.getOwnPropertySymbols,nG=Object.prototype.hasOwnProperty,rG=Object.prototype.propertyIsEnumerable,z5=(e,t,n)=>t in e?a1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u1e=(e,t)=>{for(var n in t||(t={}))nG.call(t,n)&&z5(e,n,t[n]);if(kE)for(var n of kE(t))rG.call(t,n)&&z5(e,n,t[n]);return e},l1e=(e,t)=>{var n={};for(var r in e)nG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&kE)for(var r of kE(e))t.indexOf(r)<0&&rG.call(e,r)&&(n[r]=e[r]);return n};const iG=w.forwardRef((e,t)=>{const n=dt("Center",{},e),{inline:r,sx:i}=n,s=l1e(n,["inline","sx"]);return k.createElement(ut,u1e({ref:t,sx:[{display:r?"inline-flex":"flex",alignItems:"center",justifyContent:"center"},...xd(i)]},s))});iG.displayName="@mantine/core/Center";const Cd=iG,sG=w.createContext(null),c1e=sG.Provider,f1e=()=>w.useContext(sG);function d1e(e){return w.Children.toArray(e).filter(Boolean)}const h1e={left:"flex-start",center:"center",right:"flex-end",apart:"space-between"};var p1e=at((e,{spacing:t,position:n,noWrap:r,grow:i,align:s,count:o})=>({root:{boxSizing:"border-box",display:"flex",flexDirection:"row",alignItems:s||"center",flexWrap:r?"nowrap":"wrap",justifyContent:h1e[n],gap:e.fn.size({size:t,sizes:e.spacing}),"& > *":{boxSizing:"border-box",maxWidth:i?`calc(${100/o}% - ${e.fn.size({size:t,sizes:e.spacing})-e.fn.size({size:t,sizes:e.spacing})/o}px)`:void 0,flexGrow:i?1:0}}}));const m1e=p1e;var g1e=Object.defineProperty,DE=Object.getOwnPropertySymbols,oG=Object.prototype.hasOwnProperty,aG=Object.prototype.propertyIsEnumerable,H5=(e,t,n)=>t in e?g1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,y1e=(e,t)=>{for(var n in t||(t={}))oG.call(t,n)&&H5(e,n,t[n]);if(DE)for(var n of DE(t))aG.call(t,n)&&H5(e,n,t[n]);return e},_1e=(e,t)=>{var n={};for(var r in e)oG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&DE)for(var r of DE(e))t.indexOf(r)<0&&aG.call(e,r)&&(n[r]=e[r]);return n};const v1e={position:"left",spacing:"md"},_u=w.forwardRef((e,t)=>{const n=dt("Group",v1e,e),{className:r,position:i,align:s,children:o,noWrap:a,grow:u,spacing:l,unstyled:c}=n,f=_1e(n,["className","position","align","children","noWrap","grow","spacing","unstyled"]),d=d1e(o),{classes:h,cx:p}=m1e({align:s,grow:u,noWrap:a,spacing:l,position:i,count:d.length},{unstyled:c,name:"Group"});return k.createElement(ut,y1e({className:p(h.root,r),ref:t},f),d)});_u.displayName="@mantine/core/Group";var b1e=at((e,{spacing:t,align:n,justify:r})=>({root:{display:"flex",flexDirection:"column",alignItems:n,justifyContent:r,gap:e.fn.size({size:t,sizes:e.spacing})}}));const E1e=b1e;var w1e=Object.defineProperty,$E=Object.getOwnPropertySymbols,uG=Object.prototype.hasOwnProperty,lG=Object.prototype.propertyIsEnumerable,q5=(e,t,n)=>t in e?w1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,T1e=(e,t)=>{for(var n in t||(t={}))uG.call(t,n)&&q5(e,n,t[n]);if($E)for(var n of $E(t))lG.call(t,n)&&q5(e,n,t[n]);return e},S1e=(e,t)=>{var n={};for(var r in e)uG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&$E)for(var r of $E(e))t.indexOf(r)<0&&lG.call(e,r)&&(n[r]=e[r]);return n};const I1e={spacing:"md",align:"stretch",justify:"top"},$c=w.forwardRef((e,t)=>{const n=dt("Stack",I1e,e),{spacing:r,className:i,align:s,justify:o,unstyled:a}=n,u=S1e(n,["spacing","className","align","justify","unstyled"]),{classes:l,cx:c}=E1e({spacing:r,align:s,justify:o},{name:"Stack",unstyled:a});return k.createElement(ut,T1e({className:c(l.root,i),ref:t},u))});$c.displayName="@mantine/core/Stack";function cG({spacing:e,offset:t,orientation:n,children:r,role:i,unstyled:s}){return n==="horizontal"?k.createElement(_u,{pt:t,spacing:e,role:i,unstyled:s},r):k.createElement($c,{pt:t,spacing:e,role:i,unstyled:s},r)}var x1e=Object.defineProperty,LE=Object.getOwnPropertySymbols,fG=Object.prototype.hasOwnProperty,dG=Object.prototype.propertyIsEnumerable,W5=(e,t,n)=>t in e?x1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Y5=(e,t)=>{for(var n in t||(t={}))fG.call(t,n)&&W5(e,n,t[n]);if(LE)for(var n of LE(t))dG.call(t,n)&&W5(e,n,t[n]);return e},C1e=(e,t)=>{var n={};for(var r in e)fG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&LE)for(var r of LE(e))t.indexOf(r)<0&&dG.call(e,r)&&(n[r]=e[r]);return n};const A1e={orientation:"horizontal",spacing:"lg",size:"sm",offset:"xs"},hG=w.forwardRef((e,t)=>{const n=dt("CheckboxGroup",A1e,e),{children:r,value:i,defaultValue:s,onChange:o,orientation:a,spacing:u,size:l,wrapperProps:c,offset:f}=n,d=C1e(n,["children","value","defaultValue","onChange","orientation","spacing","size","wrapperProps","offset"]),[h,p]=Ta({value:i,defaultValue:s,finalValue:[],onChange:o}),m=y=>{const g=y.currentTarget.value;p(h.includes(g)?h.filter(_=>_!==g):[...h,g])};return k.createElement(c1e,{value:{value:h,onChange:m,size:l}},k.createElement(Ls.Wrapper,Y5(Y5({labelElement:"div",size:l,__staticSelector:"CheckboxGroup",ref:t},c),d),k.createElement(cG,{spacing:u,orientation:a,offset:f},r)))});hG.displayName="@mantine/core/CheckboxGroup";var O1e=Object.defineProperty,ME=Object.getOwnPropertySymbols,pG=Object.prototype.hasOwnProperty,mG=Object.prototype.propertyIsEnumerable,G5=(e,t,n)=>t in e?O1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,SP=(e,t)=>{for(var n in t||(t={}))pG.call(t,n)&&G5(e,n,t[n]);if(ME)for(var n of ME(t))mG.call(t,n)&&G5(e,n,t[n]);return e},P1e=(e,t)=>{var n={};for(var r in e)pG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ME)for(var r of ME(e))t.indexOf(r)<0&&mG.call(e,r)&&(n[r]=e[r]);return n};function R1e(e){return k.createElement("svg",SP({viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),k.createElement("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function N1e(e){var t=e,{indeterminate:n}=t,r=P1e(t,["indeterminate"]);return n?k.createElement("svg",SP({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 6"},r),k.createElement("rect",{width:"32",height:"6",fill:"currentColor",rx:"3"})):k.createElement(R1e,SP({},r))}var k1e=Object.defineProperty,D1e=Object.defineProperties,$1e=Object.getOwnPropertyDescriptors,K5=Object.getOwnPropertySymbols,L1e=Object.prototype.hasOwnProperty,M1e=Object.prototype.propertyIsEnumerable,Q5=(e,t,n)=>t in e?k1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,F1e=(e,t)=>{for(var n in t||(t={}))L1e.call(t,n)&&Q5(e,n,t[n]);if(K5)for(var n of K5(t))M1e.call(t,n)&&Q5(e,n,t[n]);return e},B1e=(e,t)=>D1e(e,$1e(t));const j1e={xs:16,sm:20,md:24,lg:30,xl:36},U1e={xs:8,sm:10,md:14,lg:16,xl:20};var V1e=at((e,{size:t,radius:n,color:r,transitionDuration:i,labelPosition:s,error:o,indeterminate:a},u)=>{const l=e.fn.size({size:t,sizes:j1e}),c=e.fn.variant({variant:"filled",color:r}),f=e.fn.variant({variant:"filled",color:"red"}).background;return{icon:{ref:u("icon"),color:a?"inherit":e.white,transform:a?"none":"translateY(5px) scale(0.5)",opacity:a?1:0,transitionProperty:"opacity, transform",transitionTimingFunction:"ease",transitionDuration:`${i}ms`,pointerEvents:"none",width:e.fn.size({size:t,sizes:U1e}),position:"absolute",zIndex:1,top:0,bottom:0,left:0,right:0,margin:"auto","@media (prefers-reduced-motion)":{transitionDuration:e.respectReducedMotion?"0ms":void 0}},inner:{position:"relative",width:l,height:l,order:s==="left"?2:1},input:B1e(F1e({},e.fn.focusStyles()),{appearance:"none",backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white,border:`1px solid ${o?f:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,width:l,height:l,borderRadius:e.fn.radius(n),padding:0,display:"block",margin:0,transition:`border-color ${i}ms ease, background-color ${i}ms ease`,cursor:e.cursorType,"&:checked":{backgroundColor:c.background,borderColor:c.background,[`& + .${u("icon")}`]:{opacity:1,color:e.white,transform:"translateY(0) scale(1)"}},"&:disabled":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],borderColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[3],cursor:"not-allowed",[`& + .${u("icon")}`]:{color:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[5]}}})}});const z1e=V1e;var H1e=Object.defineProperty,q1e=Object.defineProperties,W1e=Object.getOwnPropertyDescriptors,X5=Object.getOwnPropertySymbols,Y1e=Object.prototype.hasOwnProperty,G1e=Object.prototype.propertyIsEnumerable,J5=(e,t,n)=>t in e?H1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,K1e=(e,t)=>{for(var n in t||(t={}))Y1e.call(t,n)&&J5(e,n,t[n]);if(X5)for(var n of X5(t))G1e.call(t,n)&&J5(e,n,t[n]);return e},Q1e=(e,t)=>q1e(e,W1e(t));const X1e={xs:16,sm:20,md:24,lg:30,xl:36};var J1e=at((e,{labelPosition:t,size:n})=>({root:{},body:{display:"inline-flex"},labelWrapper:Q1e(K1e({},e.fn.fontStyles()),{display:"inline-flex",flexDirection:"column",WebkitTapHighlightColor:"transparent",fontSize:e.fn.size({size:n,sizes:e.fontSizes}),lineHeight:`${e.fn.size({size:n,sizes:X1e})}px`,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,cursor:e.cursorType,order:t==="left"?1:2}),description:{marginTop:`calc(${e.spacing.xs}px / 2)`,[t==="left"?"paddingRight":"paddingLeft"]:e.spacing.sm},error:{marginTop:`calc(${e.spacing.xs}px / 2)`,[t==="left"?"paddingRight":"paddingLeft"]:e.spacing.sm},label:{cursor:e.cursorType,[t==="left"?"paddingRight":"paddingLeft"]:e.spacing.sm,"&[data-disabled]":{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]}}}));const Z1e=J1e;var ebe=Object.defineProperty,FE=Object.getOwnPropertySymbols,gG=Object.prototype.hasOwnProperty,yG=Object.prototype.propertyIsEnumerable,Z5=(e,t,n)=>t in e?ebe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tbe=(e,t)=>{for(var n in t||(t={}))gG.call(t,n)&&Z5(e,n,t[n]);if(FE)for(var n of FE(t))yG.call(t,n)&&Z5(e,n,t[n]);return e},nbe=(e,t)=>{var n={};for(var r in e)gG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&FE)for(var r of FE(e))t.indexOf(r)<0&&yG.call(e,r)&&(n[r]=e[r]);return n};function fk(e){var t=e,{__staticSelector:n,className:r,classNames:i,styles:s,unstyled:o,children:a,label:u,description:l,id:c,disabled:f,error:d,size:h,labelPosition:p}=t,m=nbe(t,["__staticSelector","className","classNames","styles","unstyled","children","label","description","id","disabled","error","size","labelPosition"]);const{classes:y,cx:g}=Z1e({size:h,labelPosition:p},{name:n,styles:s,classNames:i,unstyled:o});return k.createElement(ut,tbe({className:g(y.root,r)},m),k.createElement("div",{className:g(y.body)},a,k.createElement("div",{className:y.labelWrapper},u&&k.createElement("label",{className:y.label,"data-disabled":f||void 0,htmlFor:c},u),l&&k.createElement(Ls.Description,{className:y.description},l),d&&d!=="boolean"&&k.createElement(Ls.Error,{className:y.error},d))))}fk.displayName="@mantine/core/InlineInput";var rbe=Object.defineProperty,BE=Object.getOwnPropertySymbols,_G=Object.prototype.hasOwnProperty,vG=Object.prototype.propertyIsEnumerable,eF=(e,t,n)=>t in e?rbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Bv=(e,t)=>{for(var n in t||(t={}))_G.call(t,n)&&eF(e,n,t[n]);if(BE)for(var n of BE(t))vG.call(t,n)&&eF(e,n,t[n]);return e},ibe=(e,t)=>{var n={};for(var r in e)_G.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&BE)for(var r of BE(e))t.indexOf(r)<0&&vG.call(e,r)&&(n[r]=e[r]);return n};const sbe={size:"sm",transitionDuration:100,icon:N1e,labelPosition:"right"},zp=w.forwardRef((e,t)=>{const n=dt("Checkbox",sbe,e),{className:r,style:i,sx:s,checked:o,disabled:a,color:u,label:l,indeterminate:c,id:f,size:d,radius:h,wrapperProps:p,children:m,classNames:y,styles:g,transitionDuration:_,icon:b,unstyled:T,labelPosition:I,description:E,error:S}=n,A=ibe(n,["className","style","sx","checked","disabled","color","label","indeterminate","id","size","radius","wrapperProps","children","classNames","styles","transitionDuration","icon","unstyled","labelPosition","description","error"]),L=f1e(),Y=Ou(f),{systemStyles:z,rest:U}=Wd(A),{classes:Z}=z1e({size:(L==null?void 0:L.size)||d,radius:h,color:u,transitionDuration:_,labelPosition:I,error:!!S,indeterminate:c},{name:"Checkbox",classNames:y,styles:g,unstyled:T}),V=L?{checked:L.value.includes(U.value),onChange:L.onChange}:{};return k.createElement(fk,Bv(Bv({className:r,sx:s,style:i,id:Y,size:(L==null?void 0:L.size)||d,labelPosition:I,label:l,description:E,error:S,disabled:a,__staticSelector:"Checkbox",classNames:y,styles:g,unstyled:T,"data-checked":V.checked||void 0},z),p),k.createElement("div",{className:Z.inner},k.createElement("input",Bv(Bv({id:Y,ref:t,type:"checkbox",className:Z.input,checked:o,disabled:a},U),V)),k.createElement(b,{indeterminate:c,className:Z.icon})))});zp.displayName="@mantine/core/Checkbox";zp.Group=hG;var obe=at((e,{fluid:t,size:n,sizes:r})=>({root:{paddingLeft:e.spacing.md,paddingRight:e.spacing.md,maxWidth:t?"100%":e.fn.size({size:n,sizes:r}),marginLeft:"auto",marginRight:"auto"}}));const abe=obe;var ube=Object.defineProperty,jE=Object.getOwnPropertySymbols,bG=Object.prototype.hasOwnProperty,EG=Object.prototype.propertyIsEnumerable,tF=(e,t,n)=>t in e?ube(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lbe=(e,t)=>{for(var n in t||(t={}))bG.call(t,n)&&tF(e,n,t[n]);if(jE)for(var n of jE(t))EG.call(t,n)&&tF(e,n,t[n]);return e},cbe=(e,t)=>{var n={};for(var r in e)bG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&jE)for(var r of jE(e))t.indexOf(r)<0&&EG.call(e,r)&&(n[r]=e[r]);return n};const fbe={sizes:{xs:540,sm:720,md:960,lg:1140,xl:1320}},wG=w.forwardRef((e,t)=>{const n=dt("Container",fbe,e),{className:r,fluid:i,size:s,unstyled:o,sizes:a}=n,u=cbe(n,["className","fluid","size","unstyled","sizes"]),{classes:l,cx:c}=abe({fluid:i,size:s,sizes:a},{unstyled:o,name:"Container"});return k.createElement(ut,lbe({className:c(l.root,r),ref:t},u))});wG.displayName="@mantine/core/Container";function TG({transitions:e,duration:t=250,exitDuration:n=t,mounted:r,children:i,timingFunction:s,onExit:o,onEntered:a,onEnter:u,onExited:l}){const{transitionDuration:c,transitionStatus:f,transitionTimingFunction:d}=hY({mounted:r,duration:t,exitDuration:n,timingFunction:s,onExit:o,onEntered:a,onEnter:u,onExited:l});if(c===0)return r?k.createElement(k.Fragment,null,i({})):null;if(f==="exited")return null;const h=Object.keys(e).reduce((p,m)=>(p[m]=dY({duration:e[m].duration,transition:e[m].transition,timingFunction:e[m].timingFunction||d,state:f}),p),{});return k.createElement(k.Fragment,null,i(h))}TG.displayName="@mantine/core/GroupedTransition";var dbe=at((e,{zIndex:t})=>({root:{position:"absolute",top:0,bottom:0,left:0,right:0,zIndex:t}}));const hbe=dbe;var pbe=Object.defineProperty,mbe=Object.defineProperties,gbe=Object.getOwnPropertyDescriptors,UE=Object.getOwnPropertySymbols,SG=Object.prototype.hasOwnProperty,IG=Object.prototype.propertyIsEnumerable,nF=(e,t,n)=>t in e?pbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,TC=(e,t)=>{for(var n in t||(t={}))SG.call(t,n)&&nF(e,n,t[n]);if(UE)for(var n of UE(t))IG.call(t,n)&&nF(e,n,t[n]);return e},ybe=(e,t)=>mbe(e,gbe(t)),_be=(e,t)=>{var n={};for(var r in e)SG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&UE)for(var r of UE(e))t.indexOf(r)<0&&IG.call(e,r)&&(n[r]=e[r]);return n};const vbe={opacity:.6,color:"#fff",zIndex:vo("modal"),radius:0,blur:0},xG=w.forwardRef((e,t)=>{const n=dt("Overlay",vbe,e),{opacity:r,blur:i,color:s,gradient:o,zIndex:a,radius:u,sx:l,unstyled:c,className:f}=n,d=_be(n,["opacity","blur","color","gradient","zIndex","radius","sx","unstyled","className"]),{classes:h,cx:p}=hbe({zIndex:a},{name:"Overlay",unstyled:c}),m=o?{backgroundImage:o}:{backgroundColor:s},y=g=>k.createElement(ut,TC({ref:t,className:p(h.root,f),sx:[_=>ybe(TC({},m),{opacity:r,borderRadius:_.fn.size({size:u,sizes:_.radius})}),...xd(l)]},g));return i?k.createElement(ut,TC({className:p(h.root,f),sx:[{backdropFilter:`blur(${i}px)`},...xd(l)]},d),y()):y(d)});xG.displayName="@mantine/core/Overlay";const bbe=xG,Ebe={gap:{type:"spacing",property:"gap"},rowGap:{type:"spacing",property:"rowGap"},columnGap:{type:"spacing",property:"columnGap"},align:{type:"default",property:"alignItems"},justify:{type:"default",property:"justifyContent"},wrap:{type:"default",property:"flexWrap"},direction:{type:"default",property:"flexDirection"}};var wbe=Object.defineProperty,Tbe=Object.defineProperties,Sbe=Object.getOwnPropertyDescriptors,VE=Object.getOwnPropertySymbols,CG=Object.prototype.hasOwnProperty,AG=Object.prototype.propertyIsEnumerable,rF=(e,t,n)=>t in e?wbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ibe=(e,t)=>{for(var n in t||(t={}))CG.call(t,n)&&rF(e,n,t[n]);if(VE)for(var n of VE(t))AG.call(t,n)&&rF(e,n,t[n]);return e},xbe=(e,t)=>Tbe(e,Sbe(t)),Cbe=(e,t)=>{var n={};for(var r in e)CG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&VE)for(var r of VE(e))t.indexOf(r)<0&&AG.call(e,r)&&(n[r]=e[r]);return n};const Abe={},Ad=w.forwardRef((e,t)=>{const n=dt("Flex",Abe,e),{gap:r,rowGap:i,columnGap:s,align:o,justify:a,wrap:u,direction:l,sx:c}=n,f=Cbe(n,["gap","rowGap","columnGap","align","justify","wrap","direction","sx"]);return k.createElement(ut,xbe(Ibe({},f),{sx:[{display:"flex"},d=>mP({gap:r,rowGap:i,columnGap:s,align:o,justify:a,wrap:u,direction:l},d,Ebe),...xd(c)],ref:t}))});Ad.displayName="@mantine/core/Flex";const OG=w.createContext(null),Obe=OG.Provider,Pbe=()=>w.useContext(OG);var Rbe=Object.defineProperty,iF=Object.getOwnPropertySymbols,Nbe=Object.prototype.hasOwnProperty,kbe=Object.prototype.propertyIsEnumerable,sF=(e,t,n)=>t in e?Rbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Dbe=(e,t)=>{for(var n in t||(t={}))Nbe.call(t,n)&&sF(e,n,t[n]);if(iF)for(var n of iF(t))kbe.call(t,n)&&sF(e,n,t[n]);return e};const dk=(e,t)=>e==="content"?"auto":e==="auto"?"0px":e?`${100/(t/e)}%`:void 0,PG=(e,t,n)=>n||e==="auto"||e==="content"?"unset":dk(e,t),RG=(e,t)=>{if(e)return e==="auto"||t?1:0},NG=(e,t)=>e===0?0:e?`${100/(t/e)}%`:void 0;function $be({sizes:e,offsets:t,orders:n,theme:r,columns:i,grow:s}){return zfe.reduce((o,a)=>(o[`@media (min-width: ${r.breakpoints[a]}px)`]={order:n[a],flexBasis:dk(e[a],i),flexShrink:0,width:e[a]==="content"?"auto":void 0,maxWidth:PG(e[a],i,s),marginLeft:NG(t[a],i),flexGrow:RG(e[a],s)},o),{})}var Lbe=at((e,{gutter:t,grow:n,offset:r,offsetXs:i,offsetSm:s,offsetMd:o,offsetLg:a,offsetXl:u,columns:l,span:c,xs:f,sm:d,md:h,lg:p,xl:m,order:y,orderXs:g,orderSm:_,orderMd:b,orderLg:T,orderXl:I})=>({root:Dbe({boxSizing:"border-box",flexGrow:RG(c,n),order:y,padding:e.fn.size({size:t,sizes:e.spacing})/2,marginLeft:NG(r,l),flexBasis:dk(c,l),flexShrink:0,width:c==="content"?"auto":void 0,maxWidth:PG(c,l,n)},$be({sizes:{xs:f,sm:d,md:h,lg:p,xl:m},offsets:{xs:i,sm:s,md:o,lg:a,xl:u},orders:{xs:g,sm:_,md:b,lg:T,xl:I},theme:e,columns:l,grow:n}))}));const Mbe=Lbe;var Fbe=Object.defineProperty,zE=Object.getOwnPropertySymbols,kG=Object.prototype.hasOwnProperty,DG=Object.prototype.propertyIsEnumerable,oF=(e,t,n)=>t in e?Fbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Bbe=(e,t)=>{for(var n in t||(t={}))kG.call(t,n)&&oF(e,n,t[n]);if(zE)for(var n of zE(t))DG.call(t,n)&&oF(e,n,t[n]);return e},jbe=(e,t)=>{var n={};for(var r in e)kG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&zE)for(var r of zE(e))t.indexOf(r)<0&&DG.call(e,r)&&(n[r]=e[r]);return n};const Ube={};function Vbe(e){return e==="auto"||e==="content"?!0:typeof e=="number"&&e>0&&e%1===0}const $G=w.forwardRef((e,t)=>{const n=dt("Grid.Col",Ube,e),{children:r,span:i,offset:s,offsetXs:o,offsetSm:a,offsetMd:u,offsetLg:l,offsetXl:c,xs:f,sm:d,md:h,lg:p,xl:m,order:y,orderXs:g,orderSm:_,orderMd:b,orderLg:T,orderXl:I,className:E,id:S,unstyled:A}=n,L=jbe(n,["children","span","offset","offsetXs","offsetSm","offsetMd","offsetLg","offsetXl","xs","sm","md","lg","xl","order","orderXs","orderSm","orderMd","orderLg","orderXl","className","id","unstyled"]),Y=Pbe();if(!Y)throw new Error("[@mantine/core] Grid.Col was used outside of Grid context");const z=i||Y.columns,{classes:U,cx:Z}=Mbe({gutter:Y.gutter,offset:s,offsetXs:o,offsetSm:a,offsetMd:u,offsetLg:l,offsetXl:c,xs:f,sm:d,md:h,lg:p,xl:m,order:y,orderXs:g,orderSm:_,orderMd:b,orderLg:T,orderXl:I,grow:Y.grow,columns:Y.columns,span:z},{unstyled:A,name:"Col"});return!Vbe(z)||z>Y.columns?null:k.createElement(ut,Bbe({className:Z(U.root,E),ref:t},L),r)});$G.displayName="@mantine/core/Col";var zbe=at((e,{justify:t,align:n,gutter:r})=>({root:{margin:-e.fn.size({size:r,sizes:e.spacing})/2,display:"flex",flexWrap:"wrap",justifyContent:t,alignItems:n}}));const Hbe=zbe;var qbe=Object.defineProperty,HE=Object.getOwnPropertySymbols,LG=Object.prototype.hasOwnProperty,MG=Object.prototype.propertyIsEnumerable,aF=(e,t,n)=>t in e?qbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Wbe=(e,t)=>{for(var n in t||(t={}))LG.call(t,n)&&aF(e,n,t[n]);if(HE)for(var n of HE(t))MG.call(t,n)&&aF(e,n,t[n]);return e},Ybe=(e,t)=>{var n={};for(var r in e)LG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&HE)for(var r of HE(e))t.indexOf(r)<0&&MG.call(e,r)&&(n[r]=e[r]);return n};const Gbe={gutter:"md",justify:"flex-start",align:"stretch",columns:12},Ju=w.forwardRef((e,t)=>{const n=dt("Grid",Gbe,e),{gutter:r,children:i,grow:s,justify:o,align:a,columns:u,className:l,id:c,unstyled:f}=n,d=Ybe(n,["gutter","children","grow","justify","align","columns","className","id","unstyled"]),{classes:h,cx:p}=Hbe({gutter:r,justify:o,align:a},{unstyled:f,name:"Grid"});return k.createElement(Obe,{value:{gutter:r,grow:s,columns:u}},k.createElement(ut,Wbe({className:p(h.root,l),ref:t},d),i))});Ju.Col=$G;Ju.displayName="@mantine/core/Grid";function Kbe({open:e,close:t,openDelay:n,closeDelay:r}){const i=w.useRef(-1),s=w.useRef(-1),o=()=>{window.clearTimeout(i.current),window.clearTimeout(s.current)},a=()=>{o(),n===0?e():i.current=window.setTimeout(e,n)},u=()=>{o(),r===0?t():s.current=window.setTimeout(t,r)};return w.useEffect(()=>o,[]),{openDropdown:a,closeDropdown:u}}var Qbe=Object.defineProperty,uF=Object.getOwnPropertySymbols,Xbe=Object.prototype.hasOwnProperty,Jbe=Object.prototype.propertyIsEnumerable,lF=(e,t,n)=>t in e?Qbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Zbe=(e,t)=>{for(var n in t||(t={}))Xbe.call(t,n)&&lF(e,n,t[n]);if(uF)for(var n of uF(t))Jbe.call(t,n)&&lF(e,n,t[n]);return e};function eEe(e){return k.createElement("svg",Zbe({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),k.createElement("path",{d:"M2.5 1H12.5C13.3284 1 14 1.67157 14 2.5V12.5C14 13.3284 13.3284 14 12.5 14H2.5C1.67157 14 1 13.3284 1 12.5V2.5C1 1.67157 1.67157 1 2.5 1ZM2.5 2C2.22386 2 2 2.22386 2 2.5V8.3636L3.6818 6.6818C3.76809 6.59551 3.88572 6.54797 4.00774 6.55007C4.12975 6.55216 4.24568 6.60372 4.32895 6.69293L7.87355 10.4901L10.6818 7.6818C10.8575 7.50607 11.1425 7.50607 11.3182 7.6818L13 9.3636V2.5C13 2.22386 12.7761 2 12.5 2H2.5ZM2 12.5V9.6364L3.98887 7.64753L7.5311 11.4421L8.94113 13H2.5C2.22386 13 2 12.7761 2 12.5ZM12.5 13H10.155L8.48336 11.153L11 8.6364L13 10.6364V12.5C13 12.7761 12.7761 13 12.5 13ZM6.64922 5.5C6.64922 5.03013 7.03013 4.64922 7.5 4.64922C7.96987 4.64922 8.35078 5.03013 8.35078 5.5C8.35078 5.96987 7.96987 6.35078 7.5 6.35078C7.03013 6.35078 6.64922 5.96987 6.64922 5.5ZM7.5 3.74922C6.53307 3.74922 5.74922 4.53307 5.74922 5.5C5.74922 6.46693 6.53307 7.25078 7.5 7.25078C8.46693 7.25078 9.25078 6.46693 9.25078 5.5C9.25078 4.53307 8.46693 3.74922 7.5 3.74922Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}var tEe=Object.defineProperty,nEe=Object.defineProperties,rEe=Object.getOwnPropertyDescriptors,cF=Object.getOwnPropertySymbols,iEe=Object.prototype.hasOwnProperty,sEe=Object.prototype.propertyIsEnumerable,fF=(e,t,n)=>t in e?tEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,dF=(e,t)=>{for(var n in t||(t={}))iEe.call(t,n)&&fF(e,n,t[n]);if(cF)for(var n of cF(t))sEe.call(t,n)&&fF(e,n,t[n]);return e},hF=(e,t)=>nEe(e,rEe(t)),oEe=at((e,{radius:t})=>({root:{},imageWrapper:{position:"relative"},figure:{margin:0},image:hF(dF({},e.fn.fontStyles()),{display:"block",width:"100%",height:"100%",border:0,borderRadius:e.fn.size({size:t,sizes:e.radius})}),caption:{color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[7],marginTop:e.spacing.xs},placeholder:hF(dF({},e.fn.cover()),{display:"flex",alignItems:"center",justifyContent:"center",color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],backgroundColor:e.colorScheme==="dark"?e.colors.dark[8]:e.colors.gray[0],borderRadius:e.fn.size({size:t,sizes:e.radius})})}));const aEe=oEe;var uEe=Object.defineProperty,qE=Object.getOwnPropertySymbols,FG=Object.prototype.hasOwnProperty,BG=Object.prototype.propertyIsEnumerable,pF=(e,t,n)=>t in e?uEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,SC=(e,t)=>{for(var n in t||(t={}))FG.call(t,n)&&pF(e,n,t[n]);if(qE)for(var n of qE(t))BG.call(t,n)&&pF(e,n,t[n]);return e},lEe=(e,t)=>{var n={};for(var r in e)FG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&qE)for(var r of qE(e))t.indexOf(r)<0&&BG.call(e,r)&&(n[r]=e[r]);return n};const cEe={fit:"cover",width:"100%",height:"auto",radius:0},b_=w.forwardRef((e,t)=>{const n=dt("Image",cEe,e),{className:r,alt:i,src:s,fit:o,width:a,height:u,radius:l,imageProps:c,withPlaceholder:f,placeholder:d,imageRef:h,classNames:p,styles:m,caption:y,unstyled:g,style:_}=n,b=lEe(n,["className","alt","src","fit","width","height","radius","imageProps","withPlaceholder","placeholder","imageRef","classNames","styles","caption","unstyled","style"]),{classes:T,cx:I}=aEe({radius:l},{classNames:p,styles:m,unstyled:g,name:"Image"}),[E,S]=w.useState(!s),A=f&&E;return ao(()=>{S(!1)},[s]),k.createElement(ut,SC({className:I(T.root,r),ref:t,style:SC({width:a},_)},b),k.createElement("figure",{className:T.figure},k.createElement("div",{className:T.imageWrapper},k.createElement("img",SC({className:T.image,src:s,alt:i,style:{objectFit:o,width:a,height:u},ref:h,onError:L=>{S(!0),typeof(c==null?void 0:c.onError)=="function"&&c.onError(L)}},c)),A&&k.createElement("div",{className:T.placeholder,title:i},d||k.createElement("div",null,k.createElement(eEe,{style:{width:40,height:40}})))),!!y&&k.createElement(It,{component:"figcaption",size:"sm",align:"center",className:T.caption},y)))});b_.displayName="@mantine/core/Image";function fEe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var dEe=w.useLayoutEffect,hEe=function(t){var n=w.useRef(t);return dEe(function(){n.current=t}),n},mF=function(t,n){if(typeof t=="function"){t(n);return}t.current=n},pEe=function(t,n){var r=w.useRef();return w.useCallback(function(i){t.current=i,r.current&&mF(r.current,null),r.current=n,n&&mF(n,i)},[n])},gF={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},yF=function(t){Object.keys(gF).forEach(function(n){t.style.setProperty(n,gF[n],"important")})},Ws=null,mEe=function(t,n){var r=t.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function gEe(e,t,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),Ws||(Ws=document.createElement("textarea"),Ws.setAttribute("tabindex","-1"),Ws.setAttribute("aria-hidden","true"),yF(Ws)),Ws.parentNode===null&&document.body.appendChild(Ws);var i=e.paddingSize,s=e.borderSize,o=e.sizingStyle,a=o.boxSizing;Object.keys(o).forEach(function(d){var h=d;Ws.style[h]=o[h]}),yF(Ws),Ws.value=t;var u=mEe(Ws,e);Ws.value="x";var l=Ws.scrollHeight-i,c=l*n;a==="border-box"&&(c=c+i+s),u=Math.max(c,u);var f=l*r;return a==="border-box"&&(f=f+i+s),u=Math.min(f,u),[u,l]}var _F=function(){},yEe=function(t,n){return t.reduce(function(r,i){return r[i]=n[i],r},{})},_Ee=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],vEe=!!document.documentElement.currentStyle,bEe=function(t){var n=window.getComputedStyle(t);if(n===null)return null;var r=yEe(_Ee,n),i=r.boxSizing;if(i==="")return null;vEe&&i==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var s=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),o=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:s,borderSize:o}},EEe=function(t){var n=hEe(t);w.useLayoutEffect(function(){var r=function(s){n.current(s)};return window.addEventListener("resize",r),function(){window.removeEventListener("resize",r)}},[])},wEe=function(t,n){var r=t.cacheMeasurements,i=t.maxRows,s=t.minRows,o=t.onChange,a=o===void 0?_F:o,u=t.onHeightChange,l=u===void 0?_F:u,c=fEe(t,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]),f=c.value!==void 0,d=w.useRef(null),h=pEe(d,n),p=w.useRef(0),m=w.useRef(),y=function(){var b=d.current,T=r&&m.current?m.current:bEe(b);if(T){m.current=T;var I=gEe(T,b.value||b.placeholder||"x",s,i),E=I[0],S=I[1];p.current!==E&&(p.current=E,b.style.setProperty("height",E+"px","important"),l(E,{rowHeight:S}))}},g=function(b){f||y(),a(b)};return w.useLayoutEffect(y),EEe(y),w.createElement("textarea",ur({},c,{onChange:g,ref:h}))},TEe=w.forwardRef(wEe);const SEe=TEe;var IEe=at(e=>({input:{paddingTop:e.spacing.xs,paddingBottom:e.spacing.xs}}));const xEe=IEe;var CEe=Object.defineProperty,AEe=Object.defineProperties,OEe=Object.getOwnPropertyDescriptors,WE=Object.getOwnPropertySymbols,jG=Object.prototype.hasOwnProperty,UG=Object.prototype.propertyIsEnumerable,vF=(e,t,n)=>t in e?CEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hh=(e,t)=>{for(var n in t||(t={}))jG.call(t,n)&&vF(e,n,t[n]);if(WE)for(var n of WE(t))UG.call(t,n)&&vF(e,n,t[n]);return e},IC=(e,t)=>AEe(e,OEe(t)),PEe=(e,t)=>{var n={};for(var r in e)jG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&WE)for(var r of WE(e))t.indexOf(r)<0&&UG.call(e,r)&&(n[r]=e[r]);return n};const REe={autosize:!1,size:"sm",__staticSelector:"Textarea"},VG=w.forwardRef((e,t)=>{const n=dt("Textarea",REe,e),{autosize:r,maxRows:i,minRows:s,label:o,error:a,description:u,id:l,className:c,required:f,style:d,wrapperProps:h,classNames:p,styles:m,size:y,__staticSelector:g,sx:_,errorProps:b,descriptionProps:T,labelProps:I,inputWrapperOrder:E,inputContainer:S,unstyled:A,withAsterisk:L}=n,Y=PEe(n,["autosize","maxRows","minRows","label","error","description","id","className","required","style","wrapperProps","classNames","styles","size","__staticSelector","sx","errorProps","descriptionProps","labelProps","inputWrapperOrder","inputContainer","unstyled","withAsterisk"]),z=Ou(l),{classes:U,cx:Z}=xEe(),{systemStyles:V,rest:le}=Wd(Y),oe=hh({required:f,ref:t,invalid:!!a,id:z,classNames:IC(hh({},p),{input:Z(U.input,p==null?void 0:p.input)}),styles:m,__staticSelector:g,size:y,multiline:!0,unstyled:A},le);return k.createElement(Ls.Wrapper,hh(hh({label:o,error:a,id:z,description:u,required:f,style:d,className:c,classNames:p,styles:m,size:y,__staticSelector:g,sx:_,errorProps:b,labelProps:I,descriptionProps:T,inputContainer:S,inputWrapperOrder:E,unstyled:A,withAsterisk:L},V),h),r?k.createElement(Ls,IC(hh({},oe),{component:SEe,maxRows:i,minRows:s})):k.createElement(Ls,IC(hh({},oe),{component:"textarea",rows:s})))});VG.displayName="@mantine/core/Textarea";const zG=w.createContext(null);function NEe(){return w.useContext(zG)||{}}var kEe=at((e,{spacing:t,center:n},r)=>({itemWrapper:{ref:r("itemWrapper"),display:"inline-flex",flexDirection:"column",whiteSpace:"normal"},item:{whiteSpace:"nowrap",lineHeight:n?1:e.lineHeight,"&:not(:first-of-type)":{marginTop:e.fn.size({size:t,sizes:e.spacing})}},withIcon:{listStyle:"none",[`& .${r("itemWrapper")}`]:{display:"inline-flex",alignItems:n?"center":"flex-start",flexDirection:"row"}},itemIcon:{display:"inline-block",verticalAlign:"middle",marginRight:e.spacing.sm}}));const DEe=kEe;var $Ee=Object.defineProperty,YE=Object.getOwnPropertySymbols,HG=Object.prototype.hasOwnProperty,qG=Object.prototype.propertyIsEnumerable,bF=(e,t,n)=>t in e?$Ee(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,LEe=(e,t)=>{for(var n in t||(t={}))HG.call(t,n)&&bF(e,n,t[n]);if(YE)for(var n of YE(t))qG.call(t,n)&&bF(e,n,t[n]);return e},MEe=(e,t)=>{var n={};for(var r in e)HG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&YE)for(var r of YE(e))t.indexOf(r)<0&&qG.call(e,r)&&(n[r]=e[r]);return n};function WG(e){var t=e,{className:n,children:r,icon:i}=t,s=MEe(t,["className","children","icon"]);const{icon:o,spacing:a,center:u,listStyleType:l,size:c,withPadding:f}=NEe(),{classNames:d,styles:h,unstyled:p}=m_(),m=i||o,{classes:y,cx:g}=DEe({withPadding:f,size:c,listStyleType:l,center:u,spacing:a},{classNames:d,styles:h,unstyled:p,name:"List"});return k.createElement(ut,LEe({component:"li",className:g(y.item,{[y.withIcon]:m},n)},s),k.createElement("div",{className:y.itemWrapper},m&&k.createElement("span",{className:y.itemIcon},m),k.createElement("span",null,r)))}WG.displayName="@mantine/core/ListItem";var FEe=Object.defineProperty,BEe=Object.defineProperties,jEe=Object.getOwnPropertyDescriptors,EF=Object.getOwnPropertySymbols,UEe=Object.prototype.hasOwnProperty,VEe=Object.prototype.propertyIsEnumerable,wF=(e,t,n)=>t in e?FEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zEe=(e,t)=>{for(var n in t||(t={}))UEe.call(t,n)&&wF(e,n,t[n]);if(EF)for(var n of EF(t))VEe.call(t,n)&&wF(e,n,t[n]);return e},HEe=(e,t)=>BEe(e,jEe(t)),qEe=at((e,{withPadding:t,size:n,listStyleType:r})=>({root:HEe(zEe({},e.fn.fontStyles()),{listStyleType:r,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,fontSize:e.fn.size({size:n,sizes:e.fontSizes}),lineHeight:e.lineHeight,margin:0,paddingLeft:t?e.spacing.xl:0,listStylePosition:"inside"})}));const WEe=qEe;var YEe=Object.defineProperty,GE=Object.getOwnPropertySymbols,YG=Object.prototype.hasOwnProperty,GG=Object.prototype.propertyIsEnumerable,TF=(e,t,n)=>t in e?YEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,GEe=(e,t)=>{for(var n in t||(t={}))YG.call(t,n)&&TF(e,n,t[n]);if(GE)for(var n of GE(t))GG.call(t,n)&&TF(e,n,t[n]);return e},KEe=(e,t)=>{var n={};for(var r in e)YG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&GE)for(var r of GE(e))t.indexOf(r)<0&&GG.call(e,r)&&(n[r]=e[r]);return n};const QEe={type:"unordered",size:"md",spacing:0},Hp=w.forwardRef((e,t)=>{const n=dt("List",QEe,e),{children:r,type:i,size:s,listStyleType:o,withPadding:a,center:u,spacing:l,icon:c,className:f,styles:d,classNames:h,unstyled:p}=n,m=KEe(n,["children","type","size","listStyleType","withPadding","center","spacing","icon","className","styles","classNames","unstyled"]),{classes:y,cx:g}=WEe({withPadding:a,size:s,listStyleType:o,center:u,spacing:l},{classNames:h,styles:d,name:"List",unstyled:p});return k.createElement(mq,{classNames:h,styles:d,unstyled:p},k.createElement(zG.Provider,{value:{spacing:l,center:u,icon:c,listStyleType:o,size:s,withPadding:a}},k.createElement(ut,GEe({component:i==="unordered"?"ul":"ol",className:g(y.root,f),ref:t},m),r)))});Hp.Item=WG;Hp.displayName="@mantine/core/List";var XEe=at(e=>({divider:{margin:`calc(${e.spacing.xs}px / 2) -5px`,borderTop:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]}`}}));const JEe=XEe;var ZEe=Object.defineProperty,KE=Object.getOwnPropertySymbols,KG=Object.prototype.hasOwnProperty,QG=Object.prototype.propertyIsEnumerable,SF=(e,t,n)=>t in e?ZEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ewe=(e,t)=>{for(var n in t||(t={}))KG.call(t,n)&&SF(e,n,t[n]);if(KE)for(var n of KE(t))QG.call(t,n)&&SF(e,n,t[n]);return e},twe=(e,t)=>{var n={};for(var r in e)KG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&KE)for(var r of KE(e))t.indexOf(r)<0&&QG.call(e,r)&&(n[r]=e[r]);return n};function XG(e){var t=e,{children:n,className:r}=t,i=twe(t,["children","className"]);const{classNames:s,styles:o,unstyled:a}=m_(),{classes:u,cx:l}=JEe(null,{name:"Menu",classNames:s,styles:o,unstyled:a});return k.createElement(ut,ewe({className:l(u.divider,r)},i))}XG.displayName="@mantine/core/MenuDivider";const JG={context:"Menu component was not found in the tree",children:"Menu.Target component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported"},[nwe,hk]=VH(JG.context);var rwe=Object.defineProperty,QE=Object.getOwnPropertySymbols,ZG=Object.prototype.hasOwnProperty,eK=Object.prototype.propertyIsEnumerable,IF=(e,t,n)=>t in e?rwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,iwe=(e,t)=>{for(var n in t||(t={}))ZG.call(t,n)&&IF(e,n,t[n]);if(QE)for(var n of QE(t))eK.call(t,n)&&IF(e,n,t[n]);return e},swe=(e,t)=>{var n={};for(var r in e)ZG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&QE)for(var r of QE(e))t.indexOf(r)<0&&eK.call(e,r)&&(n[r]=e[r]);return n};function tK(e){var t=e,{children:n,onMouseEnter:r,onMouseLeave:i}=t,s=swe(t,["children","onMouseEnter","onMouseLeave"]);const o=w.useRef(),a=hk(),u=f=>{(f.key==="ArrowUp"||f.key==="ArrowDown")&&(f.preventDefault(),o.current.querySelectorAll("[data-menu-item]")[0].focus())},l=Xu(r,()=>a.trigger==="hover"&&a.openDropdown()),c=Xu(i,()=>a.trigger==="hover"&&a.closeDropdown());return k.createElement(Fl.Dropdown,iwe({onMouseEnter:l,onMouseLeave:c,role:"menu","aria-orientation":"vertical"},s),k.createElement("div",{tabIndex:-1,"data-menu-dropdown":!0,"data-autofocus":!0,onKeyDown:u,ref:o,style:{outline:0}},n))}tK.displayName="@mantine/core/MenuDropdown";var owe=Object.defineProperty,awe=Object.defineProperties,uwe=Object.getOwnPropertyDescriptors,xF=Object.getOwnPropertySymbols,lwe=Object.prototype.hasOwnProperty,cwe=Object.prototype.propertyIsEnumerable,CF=(e,t,n)=>t in e?owe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fwe=(e,t)=>{for(var n in t||(t={}))lwe.call(t,n)&&CF(e,n,t[n]);if(xF)for(var n of xF(t))cwe.call(t,n)&&CF(e,n,t[n]);return e},dwe=(e,t)=>awe(e,uwe(t)),hwe=at((e,{color:t,radius:n})=>({item:dwe(fwe({},e.fn.fontStyles()),{WebkitTapHighlightColor:"transparent",fontSize:e.fontSizes.sm,border:0,backgroundColor:"transparent",outline:0,width:"100%",textAlign:"left",textDecoration:"none",boxSizing:"border-box",padding:`${e.spacing.xs}px ${e.spacing.sm}px`,cursor:"pointer",borderRadius:e.fn.radius(n),color:t?e.fn.variant({variant:"filled",primaryFallback:!1,color:t}).background:e.colorScheme==="dark"?e.colors.dark[0]:e.black,display:"flex",alignItems:"center","&:disabled":{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5],pointerEvents:"none",userSelect:"none"},"&[data-hovered]":{backgroundColor:t?e.fn.variant({variant:"light",color:t}).background:e.colorScheme==="dark"?e.fn.rgba(e.colors.dark[3],.35):e.colors.gray[0]}}),itemLabel:{flex:1},itemIcon:{display:"flex",justifyContent:"center",alignItems:"center",marginRight:e.spacing.xs},itemRightSection:{}}));const pwe=hwe;var mwe=Object.defineProperty,gwe=Object.defineProperties,ywe=Object.getOwnPropertyDescriptors,XE=Object.getOwnPropertySymbols,nK=Object.prototype.hasOwnProperty,rK=Object.prototype.propertyIsEnumerable,AF=(e,t,n)=>t in e?mwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_we=(e,t)=>{for(var n in t||(t={}))nK.call(t,n)&&AF(e,n,t[n]);if(XE)for(var n of XE(t))rK.call(t,n)&&AF(e,n,t[n]);return e},vwe=(e,t)=>gwe(e,ywe(t)),bwe=(e,t)=>{var n={};for(var r in e)nK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&XE)for(var r of XE(e))t.indexOf(r)<0&&rK.call(e,r)&&(n[r]=e[r]);return n};const iK=w.forwardRef((e,t)=>{var n=e,{children:r,className:i,color:s,closeMenuOnClick:o,icon:a,rightSection:u}=n,l=bwe(n,["children","className","color","closeMenuOnClick","icon","rightSection"]);const c=hk(),{classNames:f,styles:d,unstyled:h}=m_(),{classes:p,cx:m,theme:y}=pwe({radius:c.radius,color:s},{name:"Menu",classNames:f,styles:d,unstyled:h}),g=w.useRef(),_=c.getItemIndex(g.current),b=l,T=Xu(b.onMouseLeave,()=>c.setHovered(-1)),I=Xu(b.onMouseEnter,()=>c.setHovered(c.getItemIndex(g.current))),E=Xu(b.onClick,()=>{typeof o=="boolean"?o&&c.closeDropdownImmediately():c.closeOnItemClick&&c.closeDropdownImmediately()}),S=Xu(b.onFocus,()=>c.setHovered(c.getItemIndex(g.current)));return k.createElement(ut,vwe(_we({component:"button",type:"button"},l),{tabIndex:-1,onFocus:S,className:m(p.item,i),ref:Ho(g,t),role:"menuitem","data-menu-item":!0,"data-hovered":c.hovered===_?!0:void 0,onMouseEnter:I,onMouseLeave:T,onClick:E,onKeyDown:lfe({siblingSelector:"[data-menu-item]",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:c.loop,dir:y.dir,orientation:"vertical",onKeyDown:b.onKeydown})}),a&&k.createElement("div",{className:p.itemIcon},a),r&&k.createElement("div",{className:p.itemLabel},r),u&&k.createElement("div",{className:p.itemRightSection},u))});iK.displayName="@mantine/core/MenuItem";const Ewe=iK;var wwe=at(e=>({label:{color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],fontWeight:500,fontSize:e.fontSizes.xs,padding:`calc(${e.spacing.xs}px / 2) ${e.spacing.sm}px`,cursor:"default"}}));const Twe=wwe;var Swe=Object.defineProperty,JE=Object.getOwnPropertySymbols,sK=Object.prototype.hasOwnProperty,oK=Object.prototype.propertyIsEnumerable,OF=(e,t,n)=>t in e?Swe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Iwe=(e,t)=>{for(var n in t||(t={}))sK.call(t,n)&&OF(e,n,t[n]);if(JE)for(var n of JE(t))oK.call(t,n)&&OF(e,n,t[n]);return e},xwe=(e,t)=>{var n={};for(var r in e)sK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&JE)for(var r of JE(e))t.indexOf(r)<0&&oK.call(e,r)&&(n[r]=e[r]);return n};function aK(e){var t=e,{children:n,className:r}=t,i=xwe(t,["children","className"]);const{classNames:s,styles:o,unstyled:a}=m_(),{classes:u,cx:l}=Twe(null,{name:"Menu",classNames:s,styles:o,unstyled:a});return k.createElement(It,Iwe({className:l(u.label,r)},i),n)}aK.displayName="@mantine/core/MenuLabel";var Cwe=Object.defineProperty,ZE=Object.getOwnPropertySymbols,uK=Object.prototype.hasOwnProperty,lK=Object.prototype.propertyIsEnumerable,PF=(e,t,n)=>t in e?Cwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Awe=(e,t)=>{for(var n in t||(t={}))uK.call(t,n)&&PF(e,n,t[n]);if(ZE)for(var n of ZE(t))lK.call(t,n)&&PF(e,n,t[n]);return e},Owe=(e,t)=>{var n={};for(var r in e)uK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ZE)for(var r of ZE(e))t.indexOf(r)<0&&lK.call(e,r)&&(n[r]=e[r]);return n};const cK=w.forwardRef((e,t)=>{var n=e,{children:r,refProp:i="ref"}=n,s=Owe(n,["children","refProp"]);if(!d_(r))throw new Error(JG.children);const o=hk(),a=Xu(r.props.onClick,()=>o.trigger==="click"&&o.toggleDropdown()),u=Xu(r.props.onMouseEnter,()=>o.trigger==="hover"&&o.openDropdown()),l=Xu(r.props.onMouseLeave,()=>o.trigger==="hover"&&o.closeDropdown());return k.createElement(Fl.Target,Awe({refProp:i,popupType:"menu",ref:t},s),w.cloneElement(r,{onClick:a,onMouseEnter:u,onMouseLeave:l,"data-expanded":o.opened?!0:void 0}))});cK.displayName="@mantine/core/MenuTarget";var Pwe=at({dropdown:{padding:4}});const Rwe=Pwe;var Nwe=Object.defineProperty,kwe=Object.defineProperties,Dwe=Object.getOwnPropertyDescriptors,ew=Object.getOwnPropertySymbols,fK=Object.prototype.hasOwnProperty,dK=Object.prototype.propertyIsEnumerable,RF=(e,t,n)=>t in e?Nwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,NF=(e,t)=>{for(var n in t||(t={}))fK.call(t,n)&&RF(e,n,t[n]);if(ew)for(var n of ew(t))dK.call(t,n)&&RF(e,n,t[n]);return e},kF=(e,t)=>kwe(e,Dwe(t)),$we=(e,t)=>{var n={};for(var r in e)fK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ew)for(var r of ew(e))t.indexOf(r)<0&&dK.call(e,r)&&(n[r]=e[r]);return n};const Lwe={closeOnItemClick:!0,loop:!0,trigger:"click",openDelay:0,closeDelay:100};function Oo(e){const t=dt("Menu",Lwe,e),{children:n,onOpen:r,onClose:i,opened:s,defaultOpened:o,onChange:a,closeOnItemClick:u,loop:l,closeOnEscape:c,trigger:f,openDelay:d,closeDelay:h,classNames:p,styles:m,unstyled:y,radius:g}=t,_=$we(t,["children","onOpen","onClose","opened","defaultOpened","onChange","closeOnItemClick","loop","closeOnEscape","trigger","openDelay","closeDelay","classNames","styles","unstyled","radius"]),{classes:b,cx:T}=Rwe(),[I,{setHovered:E,resetHovered:S}]=hfe(),[A,L]=Ta({value:s,defaultValue:o,finalValue:!1,onChange:a}),Y=()=>{L(!1),A&&(i==null||i())},z=()=>{L(!0),!A&&(r==null||r())},U=()=>A?Y():z(),{openDropdown:Z,closeDropdown:V}=Kbe({open:z,close:Y,closeDelay:h,openDelay:d}),le=oe=>cfe("[data-menu-item]","[data-menu-dropdown]",oe);return ao(()=>{S()},[A]),k.createElement(nwe,{value:{opened:A,toggleDropdown:U,getItemIndex:le,hovered:I,setHovered:E,closeOnItemClick:u,closeDropdown:f==="click"?Y:V,openDropdown:f==="click"?z:Z,closeDropdownImmediately:Y,loop:l,trigger:f,radius:g}},k.createElement(Fl,kF(NF({},_),{radius:g,opened:A,onChange:L,defaultOpened:o,trapFocus:f==="click",closeOnEscape:c&&f==="click",__staticSelector:"Menu",classNames:kF(NF({},p),{dropdown:T(b.dropdown,p==null?void 0:p.dropdown)}),styles:m,unstyled:y,onClose:Y,onOpen:z}),n))}Oo.displayName="@mantine/core/Menu";Oo.Item=Ewe;Oo.Label=aK;Oo.Dropdown=tK;Oo.Target=cK;Oo.Divider=XG;var Mwe=Object.defineProperty,DF=Object.getOwnPropertySymbols,Fwe=Object.prototype.hasOwnProperty,Bwe=Object.prototype.propertyIsEnumerable,$F=(e,t,n)=>t in e?Mwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jwe=(e,t)=>{for(var n in t||(t={}))Fwe.call(t,n)&&$F(e,n,t[n]);if(DF)for(var n of DF(t))Bwe.call(t,n)&&$F(e,n,t[n]);return e};const Uwe={xs:320,sm:380,md:440,lg:620,xl:780};function Vwe(e){return e?{position:"absolute",top:0,left:0,right:0,bottom:0,maxHeight:"100vh",overflowY:"auto"}:{}}var zwe=at((e,{overflow:t,size:n,centered:r,zIndex:i,fullScreen:s})=>({close:{},overlay:{display:s?"none":void 0},root:{position:"fixed",zIndex:i,top:0,left:0,right:0,bottom:0},inner:{position:"absolute",top:0,left:0,right:0,bottom:0,overflowY:"auto",padding:s?0:`${e.spacing.xl*2}px ${e.spacing.md}px`,display:"flex",justifyContent:"center",alignItems:r?"center":"flex-start"},title:{marginRight:e.spacing.md,textOverflow:"ellipsis",display:"block",wordBreak:"break-word"},modal:jwe({position:"relative",width:s?"100vw":e.fn.size({sizes:Uwe,size:n}),borderRadius:s?0:void 0,outline:0,backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white,marginTop:r?"auto":void 0,marginBottom:r?"auto":void 0,zIndex:1},Vwe(s)),header:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:e.spacing.md,marginRight:-9},body:{maxHeight:t==="inside"?"calc(100vh - 185px)":null,overflowY:t==="inside"?"auto":null,wordBreak:"break-word"}}));const Hwe=zwe;var qwe=Object.defineProperty,tw=Object.getOwnPropertySymbols,hK=Object.prototype.hasOwnProperty,pK=Object.prototype.propertyIsEnumerable,LF=(e,t,n)=>t in e?qwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Wwe=(e,t)=>{for(var n in t||(t={}))hK.call(t,n)&&LF(e,n,t[n]);if(tw)for(var n of tw(t))pK.call(t,n)&&LF(e,n,t[n]);return e},Ywe=(e,t)=>{var n={};for(var r in e)hK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&tw)for(var r of tw(e))t.indexOf(r)<0&&pK.call(e,r)&&(n[r]=e[r]);return n};const Gwe={size:"md",transitionDuration:250,overflow:"outside",padding:"lg",shadow:"lg",closeOnClickOutside:!0,closeOnEscape:!0,trapFocus:!0,withCloseButton:!0,withinPortal:!0,lockScroll:!0,withFocusReturn:!0,overlayBlur:0,zIndex:vo("modal"),exitTransitionDuration:0};function LS(e){const t=dt("Modal",Gwe,e),{className:n,opened:r,title:i,onClose:s,children:o,withCloseButton:a,overlayOpacity:u,size:l,transitionDuration:c,exitTransitionDuration:f,closeButtonLabel:d,overlayColor:h,overflow:p,transition:m,padding:y,shadow:g,radius:_,id:b,classNames:T,styles:I,closeOnClickOutside:E,trapFocus:S,closeOnEscape:A,centered:L,target:Y,withinPortal:z,zIndex:U,overlayBlur:Z,transitionTimingFunction:V,fullScreen:le,unstyled:oe,lockScroll:ve,withFocusReturn:re}=t,ue=Ywe(t,["className","opened","title","onClose","children","withCloseButton","overlayOpacity","size","transitionDuration","exitTransitionDuration","closeButtonLabel","overlayColor","overflow","transition","padding","shadow","radius","id","classNames","styles","closeOnClickOutside","trapFocus","closeOnEscape","centered","target","withinPortal","zIndex","overlayBlur","transitionTimingFunction","fullScreen","unstyled","lockScroll","withFocusReturn"]),te=Ou(b),x=`${te}-title`,C=`${te}-body`,{classes:j,cx:P,theme:O}=Hwe({size:l,overflow:p,centered:L,zIndex:U,fullScreen:le},{unstyled:oe,classNames:T,styles:I,name:"Modal"}),G=wq(S&&r),de=w.useRef(null),fe=Ho(G,de),ye=typeof u=="number"?u:O.colorScheme==="dark"?.85:.75;Lhe(ve&&r);const me=pe=>{!S&&pe.key==="Escape"&&A&&s()};w.useEffect(()=>{if(!S)return window.addEventListener("keydown",me),()=>window.removeEventListener("keydown",me)},[S]),_q({opened:r,shouldReturnFocus:S&&re});const W=w.useRef(null);pP("mousedown",pe=>{W.current=pe.target});const M=()=>{W.current===de.current&&E&&s()};return k.createElement(g_,{withinPortal:z,target:Y},k.createElement(TG,{mounted:r,duration:c,exitDuration:f,timingFunction:V,transitions:{modal:{duration:c,transition:m||(le?"fade":"pop")},overlay:{duration:c/2,transition:"fade",timingFunction:"ease"}}},pe=>k.createElement(k.Fragment,null,k.createElement(ut,Wwe({id:te,className:P(j.root,n)},ue),k.createElement("div",{style:pe.overlay},k.createElement(bbe,{className:j.overlay,sx:{position:"fixed"},zIndex:0,blur:Z,color:h||(O.colorScheme==="dark"?O.colors.dark[9]:O.black),opacity:ye,unstyled:oe})),k.createElement("div",{role:"presentation",className:j.inner,onClick:M,onKeyDown:Ee=>{var Ce;((Ce=Ee.target)==null?void 0:Ce.getAttribute("data-mantine-stop-propagation"))!=="true"&&Ee.key==="Escape"&&A&&s()},ref:fe},k.createElement(hd,{className:j.modal,shadow:g,p:y,radius:_,role:"dialog","aria-labelledby":x,"aria-describedby":C,"aria-modal":!0,tabIndex:-1,style:pe.modal,unstyled:oe,onClick:Ee=>Ee.stopPropagation()},(i||a)&&k.createElement("div",{className:j.header},k.createElement(It,{id:x,className:j.title},i),a&&k.createElement(CS,{iconSize:16,onClick:s,"aria-label":d,className:j.close})),k.createElement("div",{id:C,className:j.body},o)))))))}LS.displayName="@mantine/core/Modal";const Kwe={xs:16,sm:22,md:26,lg:30,xl:36},Qwe={xs:10,sm:12,md:14,lg:16,xl:18};var Xwe=at((e,{size:t,disabled:n,radius:r,readOnly:i,variant:s})=>({defaultValue:{display:"flex",alignItems:"center",backgroundColor:n?e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[3]:e.colorScheme==="dark"?e.colors.dark[7]:s==="filled"?e.white:e.colors.gray[1],color:n?e.colorScheme==="dark"?e.colors.dark[1]:e.colors.gray[7]:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[7],height:e.fn.size({size:t,sizes:Kwe}),paddingLeft:e.fn.size({size:t,sizes:e.spacing}),paddingRight:n||i?e.fn.size({size:t,sizes:e.spacing}):0,fontWeight:500,fontSize:e.fn.size({size:t,sizes:Qwe}),borderRadius:e.fn.size({size:r,sizes:e.radius}),cursor:n?"not-allowed":"default",userSelect:"none",maxWidth:"calc(100% - 20px)"},defaultValueRemove:{color:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[7],marginLeft:e.fn.size({size:t,sizes:e.spacing})/6},defaultValueLabel:{display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}));const Jwe=Xwe;var Zwe=Object.defineProperty,nw=Object.getOwnPropertySymbols,mK=Object.prototype.hasOwnProperty,gK=Object.prototype.propertyIsEnumerable,MF=(e,t,n)=>t in e?Zwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,eTe=(e,t)=>{for(var n in t||(t={}))mK.call(t,n)&&MF(e,n,t[n]);if(nw)for(var n of nw(t))gK.call(t,n)&&MF(e,n,t[n]);return e},tTe=(e,t)=>{var n={};for(var r in e)mK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&nw)for(var r of nw(e))t.indexOf(r)<0&&gK.call(e,r)&&(n[r]=e[r]);return n};const FF={xs:16,sm:22,md:24,lg:26,xl:30};function yK(e){var t=e,{label:n,classNames:r,styles:i,className:s,onRemove:o,disabled:a,readOnly:u,size:l,radius:c="sm",variant:f}=t,d=tTe(t,["label","classNames","styles","className","onRemove","disabled","readOnly","size","radius","variant"]);const{classes:h,cx:p}=Jwe({size:l,disabled:a,readOnly:u,radius:c,variant:f},{classNames:r,styles:i,name:"MultiSelect"});return k.createElement("div",eTe({className:p(h.defaultValue,s)},d),k.createElement("span",{className:h.defaultValueLabel},n),!a&&!u&&k.createElement(CS,{"aria-hidden":!0,onMouseDown:o,size:FF[l],radius:2,color:"blue",variant:"transparent",iconSize:FF[l]/2,className:h.defaultValueRemove,tabIndex:-1}))}yK.displayName="@mantine/core/MultiSelect/DefaultValue";function nTe({data:e,searchable:t,limit:n,searchValue:r,filter:i,value:s}){if(!t&&s.length===0)return e;if(!t){const a=[];for(let u=0;u<e.length;u+=1)s.some(l=>l===e[u].value&&!e[u].disabled)||a.push(e[u]);return a}const o=[];for(let a=0;a<e.length&&(i(r,s.some(u=>u===e[a].value&&!e[a].disabled),e[a])&&o.push(e[a]),!(o.length>=n));a+=1);return o}var rTe=Object.defineProperty,rw=Object.getOwnPropertySymbols,_K=Object.prototype.hasOwnProperty,vK=Object.prototype.propertyIsEnumerable,BF=(e,t,n)=>t in e?rTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jF=(e,t)=>{for(var n in t||(t={}))_K.call(t,n)&&BF(e,n,t[n]);if(rw)for(var n of rw(t))vK.call(t,n)&&BF(e,n,t[n]);return e},iTe=(e,t)=>{var n={};for(var r in e)_K.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&rw)for(var r of rw(e))t.indexOf(r)<0&&vK.call(e,r)&&(n[r]=e[r]);return n};const sTe={xs:14,sm:18,md:20,lg:24,xl:28};function oTe(e){var t=e,{size:n,error:r,style:i}=t,s=iTe(t,["size","error","style"]);const o=Zi(),a=o.fn.size({size:n,sizes:sTe});return k.createElement("svg",jF({width:a,height:a,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:jF({color:r?o.colors.red[6]:o.colors.gray[6]},i),"data-chevron":!0},s),k.createElement("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function bK({shouldClear:e,clearButtonLabel:t,onClear:n,size:r,error:i,clearButtonTabIndex:s}){return e?k.createElement(CS,{variant:"transparent","aria-label":t,onClick:n,size:r,tabIndex:s,onMouseDown:o=>o.preventDefault()}):k.createElement(oTe,{error:i,size:r})}bK.displayName="@mantine/core/SelectRightSection";var aTe=Object.defineProperty,uTe=Object.defineProperties,lTe=Object.getOwnPropertyDescriptors,iw=Object.getOwnPropertySymbols,EK=Object.prototype.hasOwnProperty,wK=Object.prototype.propertyIsEnumerable,UF=(e,t,n)=>t in e?aTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xC=(e,t)=>{for(var n in t||(t={}))EK.call(t,n)&&UF(e,n,t[n]);if(iw)for(var n of iw(t))wK.call(t,n)&&UF(e,n,t[n]);return e},VF=(e,t)=>uTe(e,lTe(t)),cTe=(e,t)=>{var n={};for(var r in e)EK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&iw)for(var r of iw(e))t.indexOf(r)<0&&wK.call(e,r)&&(n[r]=e[r]);return n};const fTe={xs:24,sm:30,md:34,lg:44,xl:54};function TK(e){var t=e,{styles:n,rightSection:r,rightSectionWidth:i,theme:s}=t,o=cTe(t,["styles","rightSection","rightSectionWidth","theme"]);if(r)return{rightSection:r,rightSectionWidth:i,styles:n};const a=typeof n=="function"?n(s):n;return{rightSectionWidth:s.fn.size({size:o.size,sizes:fTe}),rightSection:!o.readOnly&&!(o.disabled&&o.shouldClear)&&k.createElement(bK,xC({},o)),styles:VF(xC({},a),{rightSection:VF(xC({},a==null?void 0:a.rightSection),{pointerEvents:o.shouldClear?void 0:"none"})})}}var dTe=Object.defineProperty,hTe=Object.defineProperties,pTe=Object.getOwnPropertyDescriptors,zF=Object.getOwnPropertySymbols,mTe=Object.prototype.hasOwnProperty,gTe=Object.prototype.propertyIsEnumerable,HF=(e,t,n)=>t in e?dTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yTe=(e,t)=>{for(var n in t||(t={}))mTe.call(t,n)&&HF(e,n,t[n]);if(zF)for(var n of zF(t))gTe.call(t,n)&&HF(e,n,t[n]);return e},_Te=(e,t)=>hTe(e,pTe(t)),vTe=at((e,{size:t,invalid:n})=>({wrapper:{position:"relative"},values:{minHeight:e.fn.size({size:t,sizes:Es})-2,display:"flex",alignItems:"center",flexWrap:"wrap",marginLeft:`calc(${-e.spacing.xs}px / 2)`,boxSizing:"border-box"},value:{margin:`calc(${e.spacing.xs}px / 2 - 2px) calc(${e.spacing.xs}px / 2)`},searchInput:_Te(yTe({},e.fn.fontStyles()),{flex:1,minWidth:60,backgroundColor:"transparent",border:0,outline:0,fontSize:e.fn.size({size:t,sizes:e.fontSizes}),padding:0,marginLeft:`calc(${e.spacing.xs}px / 2)`,appearance:"none",color:"inherit",lineHeight:`${e.fn.size({size:t,sizes:Es})-2}px`,"&::placeholder":{opacity:1,color:n?e.colors.red[e.colorScheme==="dark"?6:7]:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]},"&:disabled":{cursor:"not-allowed"}}),searchInputEmpty:{width:"100%"},searchInputInputHidden:{width:0,height:0,margin:0,overflow:"hidden"},searchInputPointer:{cursor:"pointer","&:disabled":{cursor:"not-allowed"}},input:{cursor:"pointer","&:disabled":{cursor:"not-allowed"}}}));const bTe=vTe;var ETe=Object.defineProperty,wTe=Object.defineProperties,TTe=Object.getOwnPropertyDescriptors,sw=Object.getOwnPropertySymbols,SK=Object.prototype.hasOwnProperty,IK=Object.prototype.propertyIsEnumerable,qF=(e,t,n)=>t in e?ETe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ph=(e,t)=>{for(var n in t||(t={}))SK.call(t,n)&&qF(e,n,t[n]);if(sw)for(var n of sw(t))IK.call(t,n)&&qF(e,n,t[n]);return e},WF=(e,t)=>wTe(e,TTe(t)),STe=(e,t)=>{var n={};for(var r in e)SK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&sw)for(var r of sw(e))t.indexOf(r)<0&&IK.call(e,r)&&(n[r]=e[r]);return n};function ITe(e,t,n){return t?!1:n.label.toLowerCase().trim().includes(e.toLowerCase().trim())}function xTe(e,t){return!!e&&!t.some(n=>n.value.toLowerCase()===e.toLowerCase())}function YF(e,t){if(!Array.isArray(e))return;if(t.length===0)return[];const n=typeof t[0]=="object"?t.map(r=>r.value):t;return e.filter(r=>n.includes(r))}const CTe={size:"sm",valueComponent:yK,itemComponent:QN,transition:"pop-top-left",transitionDuration:0,maxDropdownHeight:220,shadow:"sm",searchable:!1,filter:ITe,limit:1/0,clearSearchOnChange:!0,clearable:!1,clearSearchOnBlur:!1,disabled:!1,initiallyOpened:!1,creatable:!1,shouldCreate:xTe,switchDirectionOnFlip:!1,zIndex:vo("popover"),selectOnBlur:!1,clearButtonTabIndex:0,positionDependencies:[]},xK=w.forwardRef((e,t)=>{const n=dt("MultiSelect",CTe,e),{className:r,style:i,required:s,label:o,description:a,size:u,error:l,classNames:c,styles:f,wrapperProps:d,value:h,defaultValue:p,data:m,onChange:y,valueComponent:g,itemComponent:_,id:b,transition:T,transitionDuration:I,transitionTimingFunction:E,maxDropdownHeight:S,shadow:A,nothingFound:L,onFocus:Y,onBlur:z,searchable:U,placeholder:Z,filter:V,limit:le,clearSearchOnChange:oe,clearable:ve,clearSearchOnBlur:re,clearButtonLabel:ue,variant:te,onSearchChange:x,searchValue:C,disabled:j,initiallyOpened:P,radius:O,icon:G,rightSection:de,rightSectionWidth:fe,creatable:ye,getCreateLabel:me,shouldCreate:W,onCreate:M,sx:pe,dropdownComponent:Ee,onDropdownClose:Ce,onDropdownOpen:Ae,maxSelectedValues:qe,withinPortal:et,switchDirectionOnFlip:Bt,zIndex:je,selectOnBlur:Me,name:pt,dropdownPosition:Ue,errorProps:gt,labelProps:Yt,descriptionProps:on,clearButtonTabIndex:Wn,form:he,positionDependencies:Ie,onKeyDown:Ve,unstyled:st,inputContainer:Be,inputWrapperOrder:ot,readOnly:ze,withAsterisk:nt}=n,vn=STe(n,["className","style","required","label","description","size","error","classNames","styles","wrapperProps","value","defaultValue","data","onChange","valueComponent","itemComponent","id","transition","transitionDuration","transitionTimingFunction","maxDropdownHeight","shadow","nothingFound","onFocus","onBlur","searchable","placeholder","filter","limit","clearSearchOnChange","clearable","clearSearchOnBlur","clearButtonLabel","variant","onSearchChange","searchValue","disabled","initiallyOpened","radius","icon","rightSection","rightSectionWidth","creatable","getCreateLabel","shouldCreate","onCreate","sx","dropdownComponent","onDropdownClose","onDropdownOpen","maxSelectedValues","withinPortal","switchDirectionOnFlip","zIndex","selectOnBlur","name","dropdownPosition","errorProps","labelProps","descriptionProps","clearButtonTabIndex","form","positionDependencies","onKeyDown","unstyled","inputContainer","inputWrapperOrder","readOnly","withAsterisk"]),{classes:Ht,cx:wt,theme:Mn}=bTe({size:u,invalid:!!l},{classNames:c,styles:f,unstyled:st,name:"MultiSelect"}),{systemStyles:bn,rest:Zo}=Wd(vn),lr=w.useRef(),$i=w.useRef(),yr=w.useRef({}),kr=Ou(b),[cr,Fn]=w.useState(P),[Jt,ti]=w.useState(-1),[_r,Dr]=w.useState("column"),[mi,ds]=Ta({value:C,defaultValue:"",finalValue:void 0,onChange:x}),[X,H]=w.useState(!1),{scrollIntoView:ee,targetRef:_e,scrollableRef:ge}=Iq({duration:0,offset:5,cancelable:!1,isList:!0}),Ge=ye&&typeof me=="function";let xe=null;const We=m.map(Qe=>typeof Qe=="string"?{label:Qe,value:Qe}:Qe),lt=zH({data:We}),[tt,mt]=Ta({value:YF(h,m),defaultValue:YF(p,m),finalValue:[],onChange:y}),Dt=w.useRef(!!qe&&qe<tt.length),kn=Qe=>{if(!ze){const Vt=tt.filter(Vn=>Vn!==Qe);mt(Vt),qe&&Vt.length<qe&&(Dt.current=!1)}},ht=Qe=>{ds(Qe.currentTarget.value),!j&&!Dt.current&&U&&Fn(!0)},In=Qe=>{typeof Y=="function"&&Y(Qe),!j&&!Dt.current&&U&&Fn(!0)},vt=nTe({data:lt,searchable:U,searchValue:mi,limit:le,filter:V,value:tt}),pn=(Qe,Vt,Vn)=>{let ni=Qe;for(;Vn(ni);)if(ni=Vt(ni),!vt[ni].disabled)return ni;return Qe};ao(()=>{ti(-1)},[mi]),ao(()=>{!j&&tt.length>m.length&&Fn(!1),qe&&tt.length<qe&&(Dt.current=!1),qe&&tt.length>=qe&&(Dt.current=!0,Fn(!1))},[tt]);const Zn=Qe=>{if(!ze)if(oe&&ds(""),tt.includes(Qe.value))kn(Qe.value);else{if(Qe.creatable&&typeof M=="function"){const Vt=M(Qe.value);typeof Vt<"u"&&Vt!==null&&mt(typeof Vt=="string"?[...tt,Vt]:[...tt,Vt.value])}else mt([...tt,Qe.value]);tt.length===qe-1&&(Dt.current=!0,Fn(!1)),Jt===vt.length-1&&ti(vt.length-2),vt.length===1&&Fn(!1)}},zr=Qe=>{typeof z=="function"&&z(Qe),Me&&vt[Jt]&&cr&&Zn(vt[Jt]),re&&ds(""),Fn(!1)},Ar=Qe=>{if(X||(Ve==null||Ve(Qe),ze)||Qe.key!=="Backspace"&&qe&&Dt.current)return;const Vt=_r==="column",Vn=()=>{ti(hs=>{var R;const Q=pn(hs,F=>F+1,F=>F<vt.length-1);return cr&&(_e.current=yr.current[(R=vt[Q])==null?void 0:R.value],ee({alignment:Vt?"end":"start"})),Q})},ni=()=>{ti(hs=>{var R;const Q=pn(hs,F=>F-1,F=>F>0);return cr&&(_e.current=yr.current[(R=vt[Q])==null?void 0:R.value],ee({alignment:Vt?"start":"end"})),Q})};switch(Qe.key){case"ArrowUp":{Qe.preventDefault(),Fn(!0),Vt?ni():Vn();break}case"ArrowDown":{Qe.preventDefault(),Fn(!0),Vt?Vn():ni();break}case"Enter":{Qe.preventDefault(),vt[Jt]&&cr?Zn(vt[Jt]):Fn(!0);break}case" ":{U||(Qe.preventDefault(),vt[Jt]&&cr?Zn(vt[Jt]):Fn(!0));break}case"Backspace":{tt.length>0&&mi.length===0&&(mt(tt.slice(0,-1)),Fn(!0),qe&&(Dt.current=!1));break}case"Home":{if(!U){Qe.preventDefault(),cr||Fn(!0);const hs=vt.findIndex(R=>!R.disabled);ti(hs),ee({alignment:Vt?"end":"start"})}break}case"End":{if(!U){Qe.preventDefault(),cr||Fn(!0);const hs=vt.map(R=>!!R.disabled).lastIndexOf(!1);ti(hs),ee({alignment:Vt?"end":"start"})}break}case"Escape":Fn(!1)}},ns=tt.map(Qe=>{let Vt=lt.find(Vn=>Vn.value===Qe&&!Vn.disabled);return!Vt&&Ge&&(Vt={value:Qe,label:Qe}),Vt}).filter(Qe=>!!Qe).map(Qe=>k.createElement(g,WF(ph({},Qe),{variant:te,disabled:j,className:Ht.value,readOnly:ze,onRemove:Vt=>{Vt.preventDefault(),Vt.stopPropagation(),kn(Qe.value)},key:Qe.value,size:u,styles:f,classNames:c,radius:O}))),gi=()=>{var Qe;ds(""),mt([]),(Qe=lr.current)==null||Qe.focus(),qe&&(Dt.current=!1)};Ge&&W(mi,lt)&&(xe=me(mi),vt.push({label:mi,value:mi,creatable:!0}));const fr=!ze&&(vt.length>0?cr:cr&&!!L);return ao(()=>{const Qe=fr?Ae:Ce;typeof Qe=="function"&&Qe()},[fr]),k.createElement(Ls.Wrapper,ph(ph({required:s,id:kr,label:o,error:l,description:a,size:u,className:r,style:i,classNames:c,styles:f,__staticSelector:"MultiSelect",sx:pe,errorProps:gt,descriptionProps:on,labelProps:Yt,inputContainer:Be,inputWrapperOrder:ot,unstyled:st,withAsterisk:nt},bn),d),k.createElement(Dc,{opened:fr,transition:T,transitionDuration:I,shadow:"sm",withinPortal:et,__staticSelector:"MultiSelect",onDirectionChange:Dr,switchDirectionOnFlip:Bt,zIndex:je,dropdownPosition:Ue,positionDependencies:Ie,classNames:c,styles:f,unstyled:st},k.createElement(Dc.Target,null,k.createElement("div",{className:Ht.wrapper,role:"combobox","aria-haspopup":"listbox","aria-owns":cr&&fr?`${kr}-items`:null,"aria-controls":kr,"aria-expanded":cr,onMouseLeave:()=>ti(-1),tabIndex:-1,ref:$i},k.createElement("input",{type:"hidden",name:pt,value:tt.join(","),form:he,disabled:j}),k.createElement(Ls,ph({__staticSelector:"MultiSelect",style:{overflow:"hidden"},component:"div",multiline:!0,size:u,variant:te,disabled:j,invalid:!!l,required:s,radius:O,icon:G,unstyled:st,onMouseDown:Qe=>{var Vt;Qe.preventDefault(),!j&&!Dt.current&&Fn(!cr),(Vt=lr.current)==null||Vt.focus()},classNames:WF(ph({},c),{input:wt({[Ht.input]:!U},c==null?void 0:c.input)})},TK({theme:Mn,rightSection:de,rightSectionWidth:fe,styles:f,size:u,shouldClear:ve&&tt.length>0,clearButtonLabel:ue,onClear:gi,error:l,disabled:j,clearButtonTabIndex:Wn,readOnly:ze})),k.createElement("div",{className:Ht.values},ns,k.createElement("input",ph({ref:Ho(t,lr),type:"search",id:kr,className:wt(Ht.searchInput,{[Ht.searchInputPointer]:!U,[Ht.searchInputInputHidden]:!cr&&tt.length>0||!U&&tt.length>0,[Ht.searchInputEmpty]:tt.length===0}),onKeyDown:Ar,value:mi,onChange:ht,onFocus:In,onBlur:zr,readOnly:!U||Dt.current||ze,placeholder:tt.length===0?Z:void 0,disabled:j,"data-mantine-stop-propagation":cr,autoComplete:"off",onCompositionStart:()=>H(!0),onCompositionEnd:()=>H(!1)},Zo)))))),k.createElement(Dc.Dropdown,{component:Ee||NS,maxHeight:S,direction:_r,id:kr,innerRef:ge,__staticSelector:"MultiSelect",classNames:c,styles:f},k.createElement(KN,{data:vt,hovered:Jt,classNames:c,styles:f,uuid:kr,__staticSelector:"MultiSelect",onItemHover:ti,onItemSelect:Zn,itemsRefs:yr,itemComponent:_,size:u,nothingFound:L,creatable:ye&&!!xe,createLabel:xe,unstyled:st}))))});xK.displayName="@mantine/core/MultiSelect";const ATe=(e,t,n)=>Number.isInteger(e)&&e>=0&&t===0?"numeric":!Number.isInteger(e)&&e>=0&&t!==0?"decimal":Number.isInteger(e)&&e<0&&t===0||!Number.isInteger(e)&&e<0&&t!==0?n==="ios"?"text":"decimal":"numeric";function GF({direction:e,size:t}){return k.createElement("svg",{style:{transform:e==="up"?"rotate(180deg)":void 0},width:t,height:t,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},k.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}const CK={xs:20,sm:24,md:30,lg:34,xl:36};var OTe=at((e,{radius:t,size:n})=>({rightSection:{display:"flex",flexDirection:"column",height:"calc(100% - 2px)",margin:1,marginRight:1,overflow:"hidden",borderTopRightRadius:e.fn.radius(t),borderBottomRightRadius:e.fn.radius(t)},control:{margin:0,position:"relative",flex:"0 0 50%",display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",width:e.fn.size({size:n,sizes:CK}),padding:0,WebkitTapHighlightColor:"transparent",borderBottom:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,borderLeft:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,borderTop:0,borderRight:0,backgroundColor:"transparent",marginRight:1,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,"&:not(:disabled):hover":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[0]},"&:disabled":{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4]}},controlUp:{},controlDown:{borderBottom:0}}));const PTe=OTe;var RTe=Object.defineProperty,NTe=Object.defineProperties,kTe=Object.getOwnPropertyDescriptors,ow=Object.getOwnPropertySymbols,AK=Object.prototype.hasOwnProperty,OK=Object.prototype.propertyIsEnumerable,KF=(e,t,n)=>t in e?RTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,CC=(e,t)=>{for(var n in t||(t={}))AK.call(t,n)&&KF(e,n,t[n]);if(ow)for(var n of ow(t))OK.call(t,n)&&KF(e,n,t[n]);return e},DTe=(e,t)=>NTe(e,kTe(t)),$Te=(e,t)=>{var n={};for(var r in e)AK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ow)for(var r of ow(e))t.indexOf(r)<0&&OK.call(e,r)&&(n[r]=e[r]);return n};const LTe={type:"text",size:"sm",__staticSelector:"TextInput"},pk=w.forwardRef((e,t)=>{const n=IY("TextInput",LTe,e),{inputProps:r,wrapperProps:i}=n,s=$Te(n,["inputProps","wrapperProps"]);return k.createElement(Ls.Wrapper,CC({},i),k.createElement(Ls,DTe(CC(CC({},r),s),{ref:t})))});pk.displayName="@mantine/core/TextInput";var MTe=Object.defineProperty,FTe=Object.defineProperties,BTe=Object.getOwnPropertyDescriptors,aw=Object.getOwnPropertySymbols,PK=Object.prototype.hasOwnProperty,RK=Object.prototype.propertyIsEnumerable,QF=(e,t,n)=>t in e?MTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jTe=(e,t)=>{for(var n in t||(t={}))PK.call(t,n)&&QF(e,n,t[n]);if(aw)for(var n of aw(t))RK.call(t,n)&&QF(e,n,t[n]);return e},UTe=(e,t)=>FTe(e,BTe(t)),VTe=(e,t)=>{var n={};for(var r in e)PK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&aw)for(var r of aw(e))t.indexOf(r)<0&&RK.call(e,r)&&(n[r]=e[r]);return n};const zTe=e=>e||"",HTe=e=>{if(e==="-")return e;let t=e;t[0]==="."&&(t=`0${e}`);const n=parseFloat(t);if(!Number.isNaN(n))return e},XF={xs:10,sm:14,md:16,lg:18,xl:20},qTe={step:1,hideControls:!1,size:"sm",precision:0,noClampOnBlur:!1,removeTrailingZeros:!1,formatter:zTe,parser:HTe,type:"text"},NK=w.forwardRef((e,t)=>{const n=dt("NumberInput",qTe,e),{disabled:r,value:i,onChange:s,decimalSeparator:o,min:a,max:u,startValue:l,step:c,stepHoldInterval:f,stepHoldDelay:d,onBlur:h,onFocus:p,onKeyDown:m,onKeyUp:y,hideControls:g,radius:_,variant:b,precision:T,removeTrailingZeros:I,defaultValue:E,noClampOnBlur:S,handlersRef:A,classNames:L,styles:Y,size:z,rightSection:U,rightSectionWidth:Z,formatter:V,parser:le,inputMode:oe,unstyled:ve,type:re}=n,ue=VTe(n,["disabled","value","onChange","decimalSeparator","min","max","startValue","step","stepHoldInterval","stepHoldDelay","onBlur","onFocus","onKeyDown","onKeyUp","hideControls","radius","variant","precision","removeTrailingZeros","defaultValue","noClampOnBlur","handlersRef","classNames","styles","size","rightSection","rightSectionWidth","formatter","parser","inputMode","unstyled","type"]),{classes:te,cx:x,theme:C}=PTe({radius:_,size:z},{classNames:L,styles:Y,unstyled:ve,name:"NumberInput"}),j=Be=>{if(Be===void 0)return;let ot=Be.toFixed(T);return I&&T>0&&(ot=ot.replace(new RegExp(`[0]{0,${T}}$`),""),(ot.endsWith(".")||ot.endsWith(o))&&(ot=ot.slice(0,-1))),ot},[P,O]=w.useState(!1),[G,de]=w.useState(typeof i=="number"?i:typeof E=="number"?E:void 0),fe=typeof i=="number"?i:G,[ye,me]=w.useState(typeof fe=="number"?j(fe):""),W=w.useRef(),M=Be=>{Be!==G&&!Number.isNaN(Be)&&(typeof s=="function"&&s(Be),de(Be))},pe=(Be="")=>{let ot=typeof Be=="number"?String(Be):Be;return o&&(ot=ot.replace(/\./g,o)),V(ot)},Ee=Be=>{let ot=Be;return o&&(ot=ot.replace(new RegExp(`\\${o}`,"g"),".")),le(ot)},Ce=typeof a=="number"?a:-1/0,Ae=typeof u=="number"?u:1/0,qe=w.useRef();qe.current=()=>{var Be,ot,ze;if(G===void 0)M((Be=l??a)!=null?Be:0),me((ze=(ot=j(l))!=null?ot:j(a))!=null?ze:"0");else{const nt=j(Nc(G+c,Ce,Ae));M(parseFloat(nt)),me(nt)}};const et=w.useRef();et.current=()=>{var Be,ot,ze;if(G===void 0)M((Be=l??a)!=null?Be:0),me((ze=(ot=j(l))!=null?ot:j(a))!=null?ze:"0");else{const nt=j(Nc(G-c,Ce,Ae));M(parseFloat(nt)),me(nt)}},Tq(A,{increment:qe.current,decrement:et.current}),w.useEffect(()=>{typeof i=="number"&&!P&&(de(i),me(j(i))),E===void 0&&i===void 0&&!P&&(de(i),me(""))},[i]);const Bt=d!==void 0&&f!==void 0,je=w.useRef(null),Me=w.useRef(0),pt=()=>{je.current&&window.clearTimeout(je.current),je.current=null,Me.current=0},Ue=Be=>{Be?qe.current():et.current(),Me.current+=1},gt=Be=>{if(Ue(Be),Bt){const ot=typeof f=="number"?f:f(Me.current);je.current=window.setTimeout(()=>gt(Be),ot)}},Yt=(Be,ot)=>{Be.preventDefault(),W.current.focus(),Ue(ot),Bt&&(je.current=window.setTimeout(()=>gt(ot),d))};w.useEffect(()=>(pt(),pt),[]);const on=k.createElement("div",{className:te.rightSection},k.createElement("button",{type:"button",tabIndex:-1,"aria-hidden":!0,disabled:fe>=u,className:x(te.control,te.controlUp),onPointerDown:Be=>{Yt(Be,!0)},onPointerUp:pt,onPointerLeave:pt},k.createElement(GF,{size:C.fn.size({size:z,sizes:XF}),direction:"up"})),k.createElement("button",{type:"button",tabIndex:-1,"aria-hidden":!0,disabled:fe<=a,className:x(te.control,te.controlDown),onPointerDown:Be=>{Yt(Be,!1)},onPointerUp:pt,onPointerLeave:pt},k.createElement(GF,{size:C.fn.size({size:z,sizes:XF}),direction:"down"}))),Wn=Be=>{if(Be.nativeEvent.isComposing)return;const ze=Be.target.value,nt=Ee(ze);me(nt),ze===""||ze==="-"?M(void 0):ze.trim()!==""&&!Number.isNaN(nt)&&M(parseFloat(nt))},he=Be=>{var ot;if(Be.target.value==="")me(""),M(void 0);else{let ze=Be.target.value;(ze[0]===`${o}`||ze[0]===".")&&(ze=`0${ze}`);const nt=Ee(ze),vn=Nc(parseFloat(nt),Ce,Ae);Number.isNaN(vn)?me((ot=j(fe))!=null?ot:""):S||(me(j(vn)),M(parseFloat(j(vn))))}O(!1),typeof h=="function"&&h(Be)},Ie=Be=>{O(!0),typeof p=="function"&&p(Be)},Ve=Be=>{if(typeof m=="function"&&m(Be),Be.repeat&&Bt&&(Be.key==="ArrowUp"||Be.key==="ArrowDown")){Be.preventDefault();return}Be.key==="ArrowUp"?Yt(Be,!0):Be.key==="ArrowDown"&&Yt(Be,!1)},st=Be=>{typeof y=="function"&&y(Be),(Be.key==="ArrowUp"||Be.key==="ArrowDown")&&pt()};return k.createElement(pk,UTe(jTe({},ue),{type:re,variant:b,value:pe(ye),disabled:r,ref:Ho(W,t),onChange:Wn,onBlur:he,onFocus:Ie,onKeyDown:Ve,onKeyUp:st,rightSection:U||(r||g||b==="unstyled"?null:on),rightSectionWidth:Z||C.fn.size({size:z,sizes:CK})+1,radius:_,max:u,min:a,step:c,size:z,styles:Y,classNames:L,inputMode:oe||ATe(c,T,Fhe()),__staticSelector:"NumberInput",unstyled:ve}))});NK.displayName="@mantine/core/NumberInput";const JF={xs:3,sm:5,md:8,lg:12,xl:16},WTe=jde({from:{backgroundPosition:"0 0"},to:{backgroundPosition:"40px 0"}});var YTe=at((e,{color:t,radius:n,size:r,striped:i,animate:s})=>({root:{position:"relative",height:e.fn.size({size:r,sizes:JF}),backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],borderRadius:e.fn.size({size:n,sizes:e.radius}),overflow:"hidden"},bar:{position:"absolute",top:0,bottom:0,left:0,height:"100%",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:e.fn.variant({variant:"filled",primaryFallback:!1,color:t||e.primaryColor}).background,transition:"width 100ms linear",animation:s?`${WTe} 1000ms linear infinite`:"none",backgroundSize:"20px 20px",backgroundImage:i?"linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent)":"none","&:last-of-type":{borderTopRightRadius:e.fn.size({size:n,sizes:e.radius}),borderBottomRightRadius:e.fn.size({size:n,sizes:e.radius})},"&:first-of-type":{borderTopLeftRadius:e.fn.size({size:n,sizes:e.radius}),borderBottomLeftRadius:e.fn.size({size:n,sizes:e.radius})},"@media (prefers-reduced-motion)":{transitionDuration:e.respectReducedMotion?"0ms":void 0}},label:{color:e.white,fontSize:e.fn.size({size:r,sizes:JF})*.65,fontWeight:700,userSelect:"none",overflow:"hidden",whiteSpace:"nowrap"}}));const GTe=YTe,kK=w.createContext(!1),KTe=kK.Provider,QTe=()=>w.useContext(kK);function DK({children:e,openDelay:t=0,closeDelay:n=0}){return k.createElement(KTe,{value:!0},k.createElement(bye,{delay:{open:t,close:n}},e))}DK.displayName="@mantine/core/TooltipGroup";var XTe=Object.defineProperty,JTe=Object.defineProperties,ZTe=Object.getOwnPropertyDescriptors,ZF=Object.getOwnPropertySymbols,eSe=Object.prototype.hasOwnProperty,tSe=Object.prototype.propertyIsEnumerable,e8=(e,t,n)=>t in e?XTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,t8=(e,t)=>{for(var n in t||(t={}))eSe.call(t,n)&&e8(e,n,t[n]);if(ZF)for(var n of ZF(t))tSe.call(t,n)&&e8(e,n,t[n]);return e},nSe=(e,t)=>JTe(e,ZTe(t));function rSe(e,t){if(!t)return{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[9],color:e.white};const n=e.fn.variant({variant:"filled",color:t,primaryFallback:!1});return{backgroundColor:n.background,color:n.color}}var iSe=at((e,{color:t,radius:n,width:r,multiline:i})=>({tooltip:nSe(t8(t8({},e.fn.fontStyles()),rSe(e,t)),{lineHeight:e.lineHeight,fontSize:e.fontSizes.sm,borderRadius:e.fn.radius(n),padding:`calc(${e.spacing.xs}px / 2) ${e.spacing.xs}px`,position:"absolute",whiteSpace:i?"unset":"nowrap",pointerEvents:"none",width:r}),arrow:{backgroundColor:"inherit",border:0,zIndex:1}}));const $K=iSe,LK={children:"Tooltip component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported"};function sSe({offset:e,position:t}){const[n,r]=w.useState(!1),i=w.useRef(),{x:s,y:o,reference:a,floating:u,refs:l,update:c,placement:f}=ik({placement:t,middleware:[tk({crossAxis:!0,padding:5,rootBoundary:"document"})]}),d=f.includes("right")?e:t.includes("left")?e*-1:0,h=f.includes("bottom")?e:t.includes("top")?e*-1:0,p=w.useCallback(({clientX:m,clientY:y})=>{a({getBoundingClientRect(){return{width:0,height:0,x:m,y,left:m+d,top:y+h,right:m,bottom:y}}})},[a]);return w.useEffect(()=>{if(l.floating.current){const m=i.current;m.addEventListener("mousemove",p);const y=ul(l.floating.current);return y.forEach(g=>{g.addEventListener("scroll",c)}),()=>{m.removeEventListener("mousemove",p),y.forEach(g=>{g.removeEventListener("scroll",c)})}}},[a,l.floating,c,p,n]),{handleMouseMove:p,x:s,y:o,opened:n,setOpened:r,boundaryRef:i,floating:u}}var oSe=Object.defineProperty,aSe=Object.defineProperties,uSe=Object.getOwnPropertyDescriptors,uw=Object.getOwnPropertySymbols,MK=Object.prototype.hasOwnProperty,FK=Object.prototype.propertyIsEnumerable,n8=(e,t,n)=>t in e?oSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,AC=(e,t)=>{for(var n in t||(t={}))MK.call(t,n)&&n8(e,n,t[n]);if(uw)for(var n of uw(t))FK.call(t,n)&&n8(e,n,t[n]);return e},OC=(e,t)=>aSe(e,uSe(t)),lSe=(e,t)=>{var n={};for(var r in e)MK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&uw)for(var r of uw(e))t.indexOf(r)<0&&FK.call(e,r)&&(n[r]=e[r]);return n};const cSe={refProp:"ref",withinPortal:!0,offset:10,position:"right",zIndex:vo("popover")};function BK(e){var t;const n=dt("TooltipFloating",cSe,e),{children:r,refProp:i,withinPortal:s,style:o,className:a,classNames:u,styles:l,unstyled:c,radius:f,color:d,label:h,offset:p,position:m,multiline:y,width:g,zIndex:_,disabled:b}=n,T=lSe(n,["children","refProp","withinPortal","style","className","classNames","styles","unstyled","radius","color","label","offset","position","multiline","width","zIndex","disabled"]),{handleMouseMove:I,x:E,y:S,opened:A,boundaryRef:L,floating:Y,setOpened:z}=sSe({offset:p,position:m}),{classes:U,cx:Z}=$K({radius:f,color:d,multiline:y,width:g},{name:"Tooltip",classNames:u,styles:l,unstyled:c});if(!d_(r))throw new Error(LK.children);const V=Ho(L,r.ref),le=ve=>{var re,ue;(ue=(re=r.props).onMouseEnter)==null||ue.call(re,ve),I(ve),z(!0)},oe=ve=>{var re,ue;(ue=(re=r.props).onMouseLeave)==null||ue.call(re,ve),z(!1)};return b?k.createElement(k.Fragment,null,r):k.createElement(k.Fragment,null,k.createElement(g_,{withinPortal:s},k.createElement(ut,OC(AC({},T),{ref:Y,className:Z(U.tooltip,a),style:OC(AC({},o),{zIndex:_,display:A?"block":"none",top:S??"",left:(t=Math.round(E))!=null?t:""})}),h)),w.cloneElement(r,OC(AC({},r.props),{[i]:V,onMouseEnter:le,onMouseLeave:oe})))}BK.displayName="@mantine/core/TooltipFloating";function fSe(e){const[t,n]=w.useState(!1),i=typeof e.opened=="boolean"?e.opened:t,s=QTe(),o=Ou(),{delay:a,currentId:u,setCurrentId:l}=sY(),c=w.useCallback(A=>{n(A),A&&l(o)},[l,o]),{x:f,y:d,reference:h,floating:p,context:m,refs:y,update:g,placement:_,middlewareData:{arrow:{x:b,y:T}={}}}=ik({placement:e.position,open:i,onOpenChange:c,middleware:[YW(e.offset),tk({padding:8}),WW(),tY({element:e.arrowRef}),...e.inline?[KW()]:[]]}),{getReferenceProps:I,getFloatingProps:E}=gye([vye(m,{enabled:e.events.hover,delay:s?a:{open:e.openDelay,close:e.closeDelay},mouseOnly:!e.events.touch}),xye(m,{enabled:e.events.focus,keyboardOnly:!0}),wye(m,{role:"tooltip"}),Iye(m,{enabled:typeof e.opened===void 0}),Eye(m,{id:o})]);return oY({opened:i,positionDependencies:e.positionDependencies,floating:{refs:y,update:g}}),ao(()=>{var A;(A=e.onPositionChange)==null||A.call(e,_)},[_]),{x:f,y:d,arrowX:b,arrowY:T,reference:h,floating:p,getFloatingProps:E,getReferenceProps:I,isGroupPhase:i&&u&&u!==o,opened:i,placement:_}}var dSe=Object.defineProperty,hSe=Object.defineProperties,pSe=Object.getOwnPropertyDescriptors,lw=Object.getOwnPropertySymbols,jK=Object.prototype.hasOwnProperty,UK=Object.prototype.propertyIsEnumerable,r8=(e,t,n)=>t in e?dSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,b0=(e,t)=>{for(var n in t||(t={}))jK.call(t,n)&&r8(e,n,t[n]);if(lw)for(var n of lw(t))UK.call(t,n)&&r8(e,n,t[n]);return e},mSe=(e,t)=>hSe(e,pSe(t)),gSe=(e,t)=>{var n={};for(var r in e)jK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&lw)for(var r of lw(e))t.indexOf(r)<0&&UK.call(e,r)&&(n[r]=e[r]);return n};const ySe={position:"top",refProp:"ref",withinPortal:!1,inline:!1,arrowSize:4,arrowOffset:5,arrowRadius:0,offset:5,transition:"fade",transitionDuration:100,width:"auto",events:{hover:!0,focus:!1,touch:!1},zIndex:vo("popover"),positionDependencies:[]},MS=w.forwardRef((e,t)=>{const n=w.useRef(null),r=dt("Tooltip",ySe,e),{children:i,position:s,refProp:o,label:a,openDelay:u,closeDelay:l,onPositionChange:c,opened:f,withinPortal:d,radius:h,color:p,classNames:m,styles:y,unstyled:g,style:_,className:b,withArrow:T,arrowSize:I,arrowOffset:E,arrowRadius:S,offset:A,transition:L,transitionDuration:Y,multiline:z,width:U,events:Z,zIndex:V,disabled:le,positionDependencies:oe,onClick:ve,onMouseEnter:re,onMouseLeave:ue,inline:te}=r,x=gSe(r,["children","position","refProp","label","openDelay","closeDelay","onPositionChange","opened","withinPortal","radius","color","classNames","styles","unstyled","style","className","withArrow","arrowSize","arrowOffset","arrowRadius","offset","transition","transitionDuration","multiline","width","events","zIndex","disabled","positionDependencies","onClick","onMouseEnter","onMouseLeave","inline"]),{classes:C,cx:j,theme:P}=$K({radius:h,color:p,width:U,multiline:z},{name:"Tooltip",classNames:m,styles:y,unstyled:g}),O=fSe({position:bY(P.dir,s),closeDelay:l,openDelay:u,onPositionChange:c,opened:f,events:Z,arrowRef:n,offset:A+(T?I/2:0),positionDependencies:[...oe,i],inline:te});if(!d_(i))throw new Error(LK.children);const G=Ho(O.reference,i.ref,t);return k.createElement(k.Fragment,null,k.createElement(g_,{withinPortal:d},k.createElement($S,{mounted:!le&&O.opened,transition:L,duration:O.isGroupPhase?10:Y},de=>{var fe,ye;return k.createElement(ut,b0(b0({},x),O.getFloatingProps({ref:O.floating,className:C.tooltip,style:mSe(b0(b0({},_),de),{zIndex:V,top:(fe=O.y)!=null?fe:0,left:(ye=O.x)!=null?ye:0})})),a,k.createElement(sk,{ref:n,arrowX:O.arrowX,arrowY:O.arrowY,visible:T,withBorder:!1,position:O.placement,arrowSize:I,arrowOffset:E,arrowRadius:S,className:C.arrow}))})),w.cloneElement(i,O.getReferenceProps(b0({onClick:ve,onMouseEnter:re,onMouseLeave:ue,onMouseMove:e.onMouseMove,onPointerDown:e.onPointerDown,onPointerEnter:e.onPointerEnter,[o]:G,className:j(b,i.props.className)},i.props))))});MS.Group=DK;MS.Floating=BK;MS.displayName="@mantine/core/Tooltip";const VK=MS;var _Se=Object.defineProperty,vSe=Object.defineProperties,bSe=Object.getOwnPropertyDescriptors,cw=Object.getOwnPropertySymbols,zK=Object.prototype.hasOwnProperty,HK=Object.prototype.propertyIsEnumerable,i8=(e,t,n)=>t in e?_Se(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,IP=(e,t)=>{for(var n in t||(t={}))zK.call(t,n)&&i8(e,n,t[n]);if(cw)for(var n of cw(t))HK.call(t,n)&&i8(e,n,t[n]);return e},qK=(e,t)=>vSe(e,bSe(t)),s8=(e,t)=>{var n={};for(var r in e)zK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&cw)for(var r of cw(e))t.indexOf(r)<0&&HK.call(e,r)&&(n[r]=e[r]);return n};function ESe(e){return e.reduce((t,n)=>(t.sections.push(qK(IP({},n),{accumulated:t.accumulated})),t.accumulated+=n.value,t),{accumulated:0,sections:[]}).sections}const wSe={size:"md",radius:"sm",striped:!1,animate:!1,label:""},WK=w.forwardRef((e,t)=>{const n=dt("Progress",wSe,e),{className:r,value:i,color:s,size:o,radius:a,striped:u,animate:l,label:c,"aria-label":f,classNames:d,styles:h,sections:p,unstyled:m}=n,y=s8(n,["className","value","color","size","radius","striped","animate","label","aria-label","classNames","styles","sections","unstyled"]),{classes:g,cx:_,theme:b}=GTe({color:s,size:o,radius:a,striped:u||l,animate:l},{classNames:d,styles:h,unstyled:m,name:"Progress"}),T=Array.isArray(p)?ESe(p).map((I,E)=>{var S=I,{tooltip:A,accumulated:L,value:Y,label:z,color:U}=S,Z=s8(S,["tooltip","accumulated","value","label","color"]);return k.createElement(VK.Floating,{label:A,disabled:!A,key:E},k.createElement(ut,qK(IP({},Z),{className:_(g.bar,Z.className),sx:{width:`${Y}%`,left:`${L}%`,backgroundColor:b.fn.variant({variant:"filled",primaryFallback:!1,color:U||b.primaryColor}).background}}),z&&k.createElement(It,{className:g.label},z)))}):null;return k.createElement(ut,IP({className:_(g.root,r),ref:t},y),T||k.createElement("div",{role:"progressbar","aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":i,"aria-label":f,className:g.bar,style:{width:`${i}%`}},c?k.createElement(It,{className:g.label},c):""))});WK.displayName="@mantine/core/Progress";var TSe=Object.defineProperty,o8=Object.getOwnPropertySymbols,SSe=Object.prototype.hasOwnProperty,ISe=Object.prototype.propertyIsEnumerable,a8=(e,t,n)=>t in e?TSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xSe=(e,t)=>{for(var n in t||(t={}))SSe.call(t,n)&&a8(e,n,t[n]);if(o8)for(var n of o8(t))ISe.call(t,n)&&a8(e,n,t[n]);return e};function CSe(e){return k.createElement("svg",xSe({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 5 5"},e),k.createElement("path",{fill:"currentColor",d:"M0 2.5a2.5 2.5 0 115 0 2.5 2.5 0 01-5 0z"}))}const YK=w.createContext(null),ASe=YK.Provider,OSe=()=>w.useContext(YK);var PSe=Object.defineProperty,fw=Object.getOwnPropertySymbols,GK=Object.prototype.hasOwnProperty,KK=Object.prototype.propertyIsEnumerable,u8=(e,t,n)=>t in e?PSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,l8=(e,t)=>{for(var n in t||(t={}))GK.call(t,n)&&u8(e,n,t[n]);if(fw)for(var n of fw(t))KK.call(t,n)&&u8(e,n,t[n]);return e},RSe=(e,t)=>{var n={};for(var r in e)GK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&fw)for(var r of fw(e))t.indexOf(r)<0&&KK.call(e,r)&&(n[r]=e[r]);return n};const NSe={orientation:"horizontal",spacing:"lg",offset:"xs",size:"sm"},QK=w.forwardRef((e,t)=>{const n=dt("RadioGroup",NSe,e),{children:r,value:i,defaultValue:s,onChange:o,orientation:a,spacing:u,size:l,wrapperProps:c,unstyled:f,offset:d,name:h}=n,p=RSe(n,["children","value","defaultValue","onChange","orientation","spacing","size","wrapperProps","unstyled","offset","name"]),[m,y]=Ta({value:i,defaultValue:s,finalValue:"",onChange:o}),g=_=>y(_.currentTarget.value);return k.createElement(ASe,{value:{value:m,onChange:g,size:l,name:h}},k.createElement(Ls.Wrapper,l8(l8({labelElement:"div",size:l,__staticSelector:"RadioGroup",ref:t,unstyled:f},c),p),k.createElement(cG,{spacing:u,orientation:a,unstyled:f,role:"radiogroup",offset:d},r)))});QK.displayName="@mantine/core/RadioGroup";var kSe=Object.defineProperty,DSe=Object.defineProperties,$Se=Object.getOwnPropertyDescriptors,c8=Object.getOwnPropertySymbols,LSe=Object.prototype.hasOwnProperty,MSe=Object.prototype.propertyIsEnumerable,f8=(e,t,n)=>t in e?kSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,FSe=(e,t)=>{for(var n in t||(t={}))LSe.call(t,n)&&f8(e,n,t[n]);if(c8)for(var n of c8(t))MSe.call(t,n)&&f8(e,n,t[n]);return e},BSe=(e,t)=>DSe(e,$Se(t));const PC={xs:16,sm:20,md:24,lg:30,xl:36},jv={xs:6,sm:8,md:10,lg:14,xl:16};var jSe=at((e,{size:t,color:n,transitionDuration:r,labelPosition:i,error:s},o)=>{const a=e.fn.variant({variant:"filled",color:n}),u=e.fn.variant({variant:"filled",color:"red"}).background;return{inner:{order:i==="left"?2:1,position:"relative",alignSelf:"flex-start"},icon:{ref:o("icon"),color:e.white,opacity:0,transform:"scale(0.75) translateY(2px)",transition:`opacity ${r}ms ${e.transitionTimingFunction}`,pointerEvents:"none",width:e.fn.size({sizes:jv,size:t}),height:e.fn.size({sizes:jv,size:t}),position:"absolute",top:`calc(50% - ${e.fn.size({sizes:jv,size:t})/2}px)`,left:`calc(50% - ${e.fn.size({sizes:jv,size:t})/2}px)`},radio:BSe(FSe({},e.fn.focusStyles()),{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white,border:`1px solid ${s?u:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,position:"relative",appearance:"none",width:e.fn.size({sizes:PC,size:t}),height:e.fn.size({sizes:PC,size:t}),borderRadius:e.fn.size({sizes:PC,size:t}),margin:0,display:"flex",alignItems:"center",justifyContent:"center",transitionProperty:"background-color, border-color",transitionTimingFunction:e.transitionTimingFunction,transitionDuration:`${r}ms`,cursor:e.cursorType,"&:checked":{background:a.background,borderColor:a.background,[`& + .${o("icon")}`]:{opacity:1,transform:"scale(1)"}},"&:disabled":{borderColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[4],backgroundColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[1],[`& + .${o("icon")}`]:{color:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[4]}}})}});const USe=jSe;var VSe=Object.defineProperty,dw=Object.getOwnPropertySymbols,XK=Object.prototype.hasOwnProperty,JK=Object.prototype.propertyIsEnumerable,d8=(e,t,n)=>t in e?VSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Uv=(e,t)=>{for(var n in t||(t={}))XK.call(t,n)&&d8(e,n,t[n]);if(dw)for(var n of dw(t))JK.call(t,n)&&d8(e,n,t[n]);return e},zSe=(e,t)=>{var n={};for(var r in e)XK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&dw)for(var r of dw(e))t.indexOf(r)<0&&JK.call(e,r)&&(n[r]=e[r]);return n};const HSe={icon:CSe,transitionDuration:100,size:"sm",labelPosition:"right"},hw=w.forwardRef((e,t)=>{var n,r;const i=dt("Radio",HSe,e),{className:s,style:o,id:a,label:u,size:l,title:c,disabled:f,color:d,classNames:h,styles:p,sx:m,icon:y,transitionDuration:g,wrapperProps:_,unstyled:b,labelPosition:T,description:I,error:E}=i,S=zSe(i,["className","style","id","label","size","title","disabled","color","classNames","styles","sx","icon","transitionDuration","wrapperProps","unstyled","labelPosition","description","error"]),A=OSe(),L=(n=A==null?void 0:A.size)!=null?n:l,Y=e.size?l:L,{classes:z}=USe({color:d,size:Y,transitionDuration:g,labelPosition:T,error:!!E},{classNames:h,styles:p,unstyled:b,name:"Radio"}),{systemStyles:U,rest:Z}=Wd(S),V=Ou(a),le=A?{checked:A.value===Z.value,name:(r=Z.name)!=null?r:A.name,onChange:A.onChange}:{};return k.createElement(fk,Uv(Uv({className:s,sx:m,style:o,id:V,size:Y,labelPosition:T,label:u,description:I,error:E,disabled:f,__staticSelector:"Radio",classNames:h,styles:p,unstyled:b,"data-checked":le.checked||void 0},U),_),k.createElement("div",{className:z.inner},k.createElement("input",Uv(Uv({ref:t,className:z.radio,type:"radio",id:V,disabled:f},Z),le)),k.createElement(y,{className:z.icon,"aria-hidden":!0})))});hw.displayName="@mantine/core/Radio";hw.Group=QK;var qSe=Object.defineProperty,WSe=Object.defineProperties,YSe=Object.getOwnPropertyDescriptors,h8=Object.getOwnPropertySymbols,GSe=Object.prototype.hasOwnProperty,KSe=Object.prototype.propertyIsEnumerable,p8=(e,t,n)=>t in e?qSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Vv=(e,t)=>{for(var n in t||(t={}))GSe.call(t,n)&&p8(e,n,t[n]);if(h8)for(var n of h8(t))KSe.call(t,n)&&p8(e,n,t[n]);return e},QSe=(e,t)=>WSe(e,YSe(t));const H1=4,m8={xs:"3px 6px",sm:"5px 10px",md:"7px 14px",lg:"9px 16px",xl:"12px 20px"};var XSe=at((e,{fullWidth:t,color:n,radius:r,shouldAnimate:i,transitionDuration:s,transitionTimingFunction:o,size:a,orientation:u},l)=>{const c=u==="vertical",f=e.fn.variant({variant:"filled",color:n});return{label:QSe(Vv(Vv({ref:l("label")},e.fn.focusStyles()),e.fn.fontStyles()),{WebkitTapHighlightColor:"transparent",borderRadius:e.fn.radius(r),fontWeight:500,fontSize:a in e.fontSizes?e.fontSizes[a]:e.fontSizes.sm,cursor:"pointer",display:"block",textAlign:"center",padding:m8[a in m8?a:"sm"],whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",userSelect:"none",color:e.colorScheme==="dark"?e.colors.dark[1]:e.colors.gray[7],transition:`color ${i?0:s}ms ${o||e.transitionTimingFunction}`,"&:hover":{color:e.colorScheme==="dark"?e.colors.dark[0]:e.black}}),control:{ref:l("control"),position:"relative",boxSizing:"border-box",flex:1,zIndex:2,transition:`border-left-color ${i?0:s}ms ${o||e.transitionTimingFunction}`,"&:not(:first-of-type)":{borderStyle:"solid",borderWidth:c?"1px 0 0 0":"0 0 0 1px",borderColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3]}},input:{height:0,width:0,position:"absolute",overflow:"hidden",whiteSpace:"nowrap",opacity:0,"&:focus":{outline:"none",[`& + .${l("label")}`]:Vv({},e.focusRing==="always"||e.focusRing==="auto"?e.focusRingStyles.styles(e):e.focusRingStyles.resetStyles(e)),"&:focus:not(:focus-visible)":{[`& + .${l("label")}`]:Vv({},e.focusRing==="auto"||e.focusRing==="never"?e.focusRingStyles.resetStyles(e):null)}}},root:{position:"relative",display:t||c?"flex":"inline-flex",width:c&&!t?"max-content":"auto",flexDirection:c?"column":"row",backgroundColor:e.colorScheme==="dark"?e.colors.dark[8]:e.colors.gray[1],borderRadius:e.fn.radius(r),overflow:"hidden",padding:H1},controlActive:{borderLeftColor:"transparent !important",borderTopColor:"transparent !important",[`& + .${l("control")}`]:{borderLeftColor:"transparent !important",borderTopColor:"transparent !important"},borderRadius:e.fn.radius(r),boxShadow:i?n||e.colorScheme==="dark"?"none":e.shadows.xs:void 0,backgroundColor:i?n?f.background:e.colorScheme==="dark"?e.colors.dark[5]:e.white:void 0},labelActive:{"&, &:hover":{color:n||e.colorScheme==="dark"?e.white:e.black}},disabled:{"&, &:hover":{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5],cursor:"not-allowed"}},active:{boxSizing:"border-box",borderRadius:e.fn.radius(r),position:"absolute",zIndex:1,boxShadow:n||e.colorScheme==="dark"?"none":e.shadows.xs,transition:`transform ${i?0:s}ms ${e.transitionTimingFunction}, width ${i?0:s/2}ms ${o||e.transitionTimingFunction}`,backgroundColor:n?f.background:e.colorScheme==="dark"?e.colors.dark[5]:e.white}}});const JSe=XSe;var ZSe=Object.defineProperty,pw=Object.getOwnPropertySymbols,ZK=Object.prototype.hasOwnProperty,eQ=Object.prototype.propertyIsEnumerable,g8=(e,t,n)=>t in e?ZSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,eIe=(e,t)=>{for(var n in t||(t={}))ZK.call(t,n)&&g8(e,n,t[n]);if(pw)for(var n of pw(t))eQ.call(t,n)&&g8(e,n,t[n]);return e},tIe=(e,t)=>{var n={};for(var r in e)ZK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&pw)for(var r of pw(e))t.indexOf(r)<0&&eQ.call(e,r)&&(n[r]=e[r]);return n};const nIe={disabled:!1,size:"sm",transitionDuration:200},tQ=w.forwardRef((e,t)=>{var n,r,i,s;const o=dt("SegmentedControl",nIe,e),{className:a,disabled:u,data:l,name:c,value:f,onChange:d,color:h,fullWidth:p,radius:m,size:y,transitionDuration:g,transitionTimingFunction:_,classNames:b,styles:T,defaultValue:I,orientation:E,unstyled:S}=o,A=tIe(o,["className","disabled","data","name","value","onChange","color","fullWidth","radius","size","transitionDuration","transitionTimingFunction","classNames","styles","defaultValue","orientation","unstyled"]),L=Zi(),Y=HN(),z=L.respectReducedMotion?Y:!1,U=l.map(fe=>typeof fe=="string"?{label:fe,value:fe}:fe),Z=w.useRef(),[V,le]=w.useState(!1),[oe,ve]=Ta({value:f,defaultValue:I,finalValue:Array.isArray(U)&&(s=(i=(n=U.find(fe=>!fe.disabled))==null?void 0:n.value)!=null?i:(r=U[0])==null?void 0:r.value)!=null?s:null,onChange:d}),{classes:re,cx:ue}=JSe({size:y,fullWidth:p,color:h,radius:m,shouldAnimate:z||!V,transitionDuration:g,transitionTimingFunction:_,orientation:E},{classNames:b,styles:T,unstyled:S,name:"SegmentedControl"}),[te,x]=w.useState({width:0,height:0,translate:[0,0]}),C=Ou(c),j=w.useRef({}),[P,O]=qN();zN(()=>{Z.current?le(!0):(Z.current=!0,le(!1))}),w.useEffect(()=>{if(oe in j.current&&P.current){const fe=j.current[oe],ye=fe.getBoundingClientRect(),me=fe.offsetWidth/ye.width,W=ye.width*me||0,M=ye.height*me||0,pe=O.width-fe.parentElement.offsetLeft+H1-W,Ee=fe.parentElement.offsetLeft-H1;x({width:W,height:M,translate:[L.dir==="rtl"?pe:Ee,fe.parentElement.offsetTop-H1]})}},[oe,O]);const G=U.map(fe=>k.createElement("div",{className:ue(re.control,{[re.controlActive]:oe===fe.value}),key:fe.value},k.createElement("input",{className:re.input,disabled:u||fe.disabled,type:"radio",name:C,value:fe.value,id:`${C}-${fe.value}`,checked:oe===fe.value,onChange:()=>ve(fe.value)}),k.createElement("label",{className:ue(re.label,{[re.labelActive]:oe===fe.value,[re.disabled]:u||fe.disabled}),htmlFor:`${C}-${fe.value}`,ref:ye=>{j.current[fe.value]=ye}},fe.label))),de=Ho(P,t);return U.length===0?null:k.createElement(ut,eIe({className:ue(re.root,a),ref:de},A),typeof oe=="string"&&V&&k.createElement(ut,{component:"span",className:re.active,sx:{width:te.width,height:te.height,transform:`translate(${te.translate[0]}px, ${te.translate[1]}px )`}}),G)});tQ.displayName="@mantine/core/SegmentedControl";function rIe({data:e,searchable:t,limit:n,searchValue:r,filter:i,value:s,filterDataOnExactSearchMatch:o}){if(!t)return e;const a=s!=null&&e.find(l=>l.value===s)||null;if(a&&!o&&(a==null?void 0:a.label)===r)return e;const u=[];for(let l=0;l<e.length&&(i(r,e[l])&&u.push(e[l]),!(u.length>=n));l+=1);return u}var iIe=at(()=>({input:{"&:not(:disabled)":{cursor:"pointer","&::selection":{backgroundColor:"transparent"}}}}));const sIe=iIe;var oIe=Object.defineProperty,aIe=Object.defineProperties,uIe=Object.getOwnPropertyDescriptors,mw=Object.getOwnPropertySymbols,nQ=Object.prototype.hasOwnProperty,rQ=Object.prototype.propertyIsEnumerable,y8=(e,t,n)=>t in e?oIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,E0=(e,t)=>{for(var n in t||(t={}))nQ.call(t,n)&&y8(e,n,t[n]);if(mw)for(var n of mw(t))rQ.call(t,n)&&y8(e,n,t[n]);return e},RC=(e,t)=>aIe(e,uIe(t)),lIe=(e,t)=>{var n={};for(var r in e)nQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&mw)for(var r of mw(e))t.indexOf(r)<0&&rQ.call(e,r)&&(n[r]=e[r]);return n};function cIe(e,t){return t.label.toLowerCase().trim().includes(e.toLowerCase().trim())}function fIe(e,t){return!!e&&!t.some(n=>n.label.toLowerCase()===e.toLowerCase())}const dIe={required:!1,size:"sm",shadow:"sm",itemComponent:QN,transition:"fade",transitionDuration:0,initiallyOpened:!1,filter:cIe,maxDropdownHeight:220,searchable:!1,clearable:!1,limit:1/0,disabled:!1,creatable:!1,shouldCreate:fIe,selectOnBlur:!1,switchDirectionOnFlip:!1,filterDataOnExactSearchMatch:!1,zIndex:vo("popover"),clearButtonTabIndex:0,positionDependencies:[],dropdownPosition:"flip"},iQ=w.forwardRef((e,t)=>{const n=IY("Select",dIe,e),{inputProps:r,wrapperProps:i,shadow:s,data:o,value:a,defaultValue:u,onChange:l,itemComponent:c,onKeyDown:f,onBlur:d,onFocus:h,transition:p,transitionDuration:m,initiallyOpened:y,transitionTimingFunction:g,unstyled:_,classNames:b,styles:T,filter:I,maxDropdownHeight:E,searchable:S,clearable:A,nothingFound:L,clearButtonLabel:Y,limit:z,disabled:U,onSearchChange:Z,searchValue:V,rightSection:le,rightSectionWidth:oe,creatable:ve,getCreateLabel:re,shouldCreate:ue,selectOnBlur:te,onCreate:x,dropdownComponent:C,onDropdownClose:j,onDropdownOpen:P,withinPortal:O,switchDirectionOnFlip:G,zIndex:de,name:fe,dropdownPosition:ye,allowDeselect:me,placeholder:W,filterDataOnExactSearchMatch:M,clearButtonTabIndex:pe,form:Ee,positionDependencies:Ce,readOnly:Ae}=n,qe=lIe(n,["inputProps","wrapperProps","shadow","data","value","defaultValue","onChange","itemComponent","onKeyDown","onBlur","onFocus","transition","transitionDuration","initiallyOpened","transitionTimingFunction","unstyled","classNames","styles","filter","maxDropdownHeight","searchable","clearable","nothingFound","clearButtonLabel","limit","disabled","onSearchChange","searchValue","rightSection","rightSectionWidth","creatable","getCreateLabel","shouldCreate","selectOnBlur","onCreate","dropdownComponent","onDropdownClose","onDropdownOpen","withinPortal","switchDirectionOnFlip","zIndex","name","dropdownPosition","allowDeselect","placeholder","filterDataOnExactSearchMatch","clearButtonTabIndex","form","positionDependencies","readOnly"]),{classes:et,cx:Bt,theme:je}=sIe(),[Me,pt]=w.useState(y),[Ue,gt]=w.useState(-1),Yt=w.useRef(),on=w.useRef({}),[Wn,he]=w.useState("column"),Ie=Wn==="column",{scrollIntoView:Ve,targetRef:st,scrollableRef:Be}=Iq({duration:0,offset:5,cancelable:!1,isList:!0}),ot=me===void 0?A:me,ze=xe=>{if(Me!==xe){pt(xe);const We=xe?P:j;typeof We=="function"&&We()}},nt=ve&&typeof re=="function";let vn=null;const Ht=o.map(xe=>typeof xe=="string"?{label:xe,value:xe}:xe),wt=zH({data:Ht}),[Mn,bn,Zo]=Ta({value:a,defaultValue:u,finalValue:null,onChange:l}),lr=wt.find(xe=>xe.value===Mn),[$i,yr]=Ta({value:V,defaultValue:(lr==null?void 0:lr.label)||"",finalValue:void 0,onChange:Z}),kr=xe=>{yr(xe),S&&typeof Z=="function"&&Z(xe)},cr=()=>{var xe;Ae||(bn(null),Zo||kr(""),(xe=Yt.current)==null||xe.focus())};w.useEffect(()=>{const xe=wt.find(We=>We.value===Mn);xe?kr(xe.label):(!nt||!Mn)&&kr("")},[Mn]),w.useEffect(()=>{lr&&(!S||!Me)&&kr(lr.label)},[lr==null?void 0:lr.label]);const Fn=xe=>{if(!Ae)if(ot&&(lr==null?void 0:lr.value)===xe.value)bn(null),ze(!1);else{if(xe.creatable&&typeof x=="function"){const We=x(xe.value);typeof We<"u"&&We!==null&&bn(typeof We=="string"?We:We.value)}else bn(xe.value);Zo||kr(xe.label),gt(-1),ze(!1),Yt.current.focus()}},Jt=rIe({data:wt,searchable:S,limit:z,searchValue:$i,filter:I,filterDataOnExactSearchMatch:M,value:Mn});nt&&ue($i,Jt)&&(vn=re($i),Jt.push({label:$i,value:$i,creatable:!0}));const ti=(xe,We,lt)=>{let tt=xe;for(;lt(tt);)if(tt=We(tt),!Jt[tt].disabled)return tt;return xe};ao(()=>{gt(-1)},[$i]);const _r=Mn?Jt.findIndex(xe=>xe.value===Mn):0,Dr=!Ae&&(Jt.length>0?Me:Me&&!!L),mi=()=>{gt(xe=>{var We;const lt=ti(xe,tt=>tt-1,tt=>tt>0);return st.current=on.current[(We=Jt[lt])==null?void 0:We.value],Dr&&Ve({alignment:Ie?"start":"end"}),lt})},ds=()=>{gt(xe=>{var We;const lt=ti(xe,tt=>tt+1,tt=>tt<Jt.length-1);return st.current=on.current[(We=Jt[lt])==null?void 0:We.value],Dr&&Ve({alignment:Ie?"end":"start"}),lt})},X=()=>window.setTimeout(()=>{var xe;st.current=on.current[(xe=Jt[_r])==null?void 0:xe.value],Ve({alignment:Ie?"end":"start"})},0);ao(()=>{Dr&&X()},[Dr]);const H=xe=>{switch(typeof f=="function"&&f(xe),xe.key){case"ArrowUp":{xe.preventDefault(),Me?Ie?mi():ds():(gt(_r),ze(!0),X());break}case"ArrowDown":{xe.preventDefault(),Me?Ie?ds():mi():(gt(_r),ze(!0),X());break}case"Home":{if(!S){xe.preventDefault(),Me||ze(!0);const We=Jt.findIndex(lt=>!lt.disabled);gt(We),Dr&&Ve({alignment:Ie?"end":"start"})}break}case"End":{if(!S){xe.preventDefault(),Me||ze(!0);const We=Jt.map(lt=>!!lt.disabled).lastIndexOf(!1);gt(We),Dr&&Ve({alignment:Ie?"end":"start"})}break}case"Escape":{xe.preventDefault(),ze(!1),gt(-1);break}case" ":{S||(xe.preventDefault(),Jt[Ue]&&Me?Fn(Jt[Ue]):(ze(!0),gt(_r),X()));break}case"Enter":S||xe.preventDefault(),Jt[Ue]&&Me&&(xe.preventDefault(),Fn(Jt[Ue]))}},ee=xe=>{typeof d=="function"&&d(xe);const We=wt.find(lt=>lt.value===Mn);te&&Jt[Ue]&&Me&&Fn(Jt[Ue]),kr((We==null?void 0:We.label)||""),ze(!1)},_e=xe=>{typeof h=="function"&&h(xe),S&&ze(!0)},ge=xe=>{Ae||(kr(xe.currentTarget.value),A&&xe.currentTarget.value===""&&bn(null),gt(-1),ze(!0))},Ge=()=>{Ae||(ze(!Me),Mn&&!Me&&gt(_r))};return k.createElement(Ls.Wrapper,RC(E0({},i),{__staticSelector:"Select"}),k.createElement(Dc,{opened:Dr,transition:p,transitionDuration:m,shadow:"sm",withinPortal:O,__staticSelector:"Select",onDirectionChange:he,switchDirectionOnFlip:G,zIndex:de,dropdownPosition:ye,positionDependencies:Ce,classNames:b,styles:T,unstyled:_},k.createElement(Dc.Target,null,k.createElement("div",{role:"combobox","aria-haspopup":"listbox","aria-owns":Dr?`${r.id}-items`:null,"aria-controls":r.id,"aria-expanded":Dr,onMouseLeave:()=>gt(-1),tabIndex:-1},k.createElement("input",{type:"hidden",name:fe,value:Mn||"",form:Ee,disabled:U}),k.createElement(Ls,E0(RC(E0(E0({autoComplete:"off",type:"search"},r),qe),{ref:Ho(t,Yt),onKeyDown:H,__staticSelector:"Select",value:$i,placeholder:W,onChange:ge,"aria-autocomplete":"list","aria-controls":Dr?`${r.id}-items`:null,"aria-activedescendant":Ue>=0?`${r.id}-${Ue}`:null,onMouseDown:Ge,onBlur:ee,onFocus:_e,readOnly:!S||Ae,disabled:U,"data-mantine-stop-propagation":Dr,name:null,classNames:RC(E0({},b),{input:Bt({[et.input]:!S},b==null?void 0:b.input)})}),TK({theme:je,rightSection:le,rightSectionWidth:oe,styles:T,size:r.size,shouldClear:A&&!!lr,clearButtonLabel:Y,onClear:cr,error:i.error,clearButtonTabIndex:pe,disabled:U,readOnly:Ae}))))),k.createElement(Dc.Dropdown,{component:C||NS,maxHeight:E,direction:Wn,id:r.id,innerRef:Be,__staticSelector:"Select",classNames:b,styles:T},k.createElement(KN,{data:Jt,hovered:Ue,classNames:b,styles:T,isItemSelected:xe=>xe===Mn,uuid:r.id,__staticSelector:"Select",onItemHover:gt,onItemSelect:Fn,itemsRefs:on,itemComponent:c,size:r.size,nothingFound:L,creatable:nt&&!!vn,createLabel:vn,"aria-label":i.label,unstyled:_}))))});iQ.displayName="@mantine/core/Select";function gw({value:e,min:t,max:n}){const r=(e-t)/(n-t)*100;return Math.min(Math.max(r,0),100)}function xP({value:e,containerWidth:t,min:n,max:r,step:i,precision:s}){const a=(t?Math.min(Math.max(e,0),t)/t:e)*(r-n),u=(a!==0?Math.round(a/i)*i:0)+n,l=Math.max(u,n);return s!==void 0?Number(l.toFixed(s)):l}var hIe=Object.defineProperty,pIe=Object.defineProperties,mIe=Object.getOwnPropertyDescriptors,_8=Object.getOwnPropertySymbols,gIe=Object.prototype.hasOwnProperty,yIe=Object.prototype.propertyIsEnumerable,v8=(e,t,n)=>t in e?hIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_Ie=(e,t)=>{for(var n in t||(t={}))gIe.call(t,n)&&v8(e,n,t[n]);if(_8)for(var n of _8(t))yIe.call(t,n)&&v8(e,n,t[n]);return e},vIe=(e,t)=>pIe(e,mIe(t));const Cs={xs:4,sm:6,md:8,lg:10,xl:12};var bIe=at((e,{size:t,disabled:n})=>({root:vIe(_Ie({},e.fn.fontStyles()),{WebkitTapHighlightColor:"transparent",outline:0,height:e.fn.size({sizes:Cs,size:t})*2,display:"flex",alignItems:"center",cursor:n?"not-allowed":"pointer",touchAction:"none"})}));const EIe=bIe;var wIe=Object.defineProperty,TIe=Object.defineProperties,SIe=Object.getOwnPropertyDescriptors,b8=Object.getOwnPropertySymbols,IIe=Object.prototype.hasOwnProperty,xIe=Object.prototype.propertyIsEnumerable,E8=(e,t,n)=>t in e?wIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,CIe=(e,t)=>{for(var n in t||(t={}))IIe.call(t,n)&&E8(e,n,t[n]);if(b8)for(var n of b8(t))xIe.call(t,n)&&E8(e,n,t[n]);return e},AIe=(e,t)=>TIe(e,SIe(t)),OIe=at((e,{color:t,size:n,disabled:r,thumbSize:i})=>({label:{position:"absolute",top:-36,backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[9],fontSize:e.fontSizes.xs,color:e.white,padding:`calc(${e.spacing.xs}px / 2)`,borderRadius:e.radius.sm,whiteSpace:"nowrap",pointerEvents:"none",userSelect:"none",touchAction:"none"},thumb:AIe(CIe({},e.fn.focusStyles()),{boxSizing:"border-box",position:"absolute",display:r?"none":"flex",height:i||e.fn.size({sizes:Cs,size:n})*2,width:i||e.fn.size({sizes:Cs,size:n})*2,backgroundColor:e.colorScheme==="dark"?e.fn.themeColor(t,e.fn.primaryShade()):e.white,border:`4px solid ${e.colorScheme==="dark"?e.white:e.fn.themeColor(t,e.fn.primaryShade())}`,color:e.colorScheme==="dark"?e.white:e.fn.themeColor(t,e.fn.primaryShade()),transform:"translate(-50%, -50%)",top:"50%",cursor:"pointer",borderRadius:1e3,alignItems:"center",justifyContent:"center",transitionDuration:"100ms",transitionProperty:"box-shadow, transform",transitionTimingFunction:e.transitionTimingFunction,zIndex:3,userSelect:"none",touchAction:"none"}),dragging:{transform:"translate(-50%, -50%) scale(1.05)",boxShadow:e.shadows.sm}}));const PIe=OIe,yw=w.forwardRef(({max:e,min:t,value:n,position:r,label:i,dragging:s,onMouseDown:o,color:a,classNames:u,styles:l,size:c,labelTransition:f,labelTransitionDuration:d,labelTransitionTimingFunction:h,labelAlwaysOn:p,thumbLabel:m,onFocus:y,onBlur:g,showLabelOnHover:_,children:b=null,disabled:T,unstyled:I,thumbSize:E},S)=>{const{classes:A,cx:L,theme:Y}=PIe({color:a,size:c,disabled:T,thumbSize:E},{classNames:u,styles:l,unstyled:I,name:"Slider"}),[z,U]=w.useState(!1),Z=p||s||z||_;return k.createElement(ut,{tabIndex:0,role:"slider","aria-label":m,"aria-valuemax":e,"aria-valuemin":t,"aria-valuenow":n,ref:S,className:L(A.thumb,{[A.dragging]:s}),onFocus:()=>{U(!0),typeof y=="function"&&y()},onBlur:()=>{U(!1),typeof g=="function"&&g()},onTouchStart:o,onMouseDown:o,onClick:V=>V.stopPropagation(),style:{[Y.dir==="rtl"?"right":"left"]:`${r}%`}},b,k.createElement($S,{mounted:i!=null&&Z,duration:d,transition:f,timingFunction:h||Y.transitionTimingFunction},V=>k.createElement("div",{style:V,className:A.label},i)))});yw.displayName="@mantine/core/SliderThumb";function RIe({mark:e,offset:t,value:n,inverted:r=!1}){return r?typeof t=="number"&&e.value<=t||e.value>=n:typeof t=="number"?e.value>=t&&e.value<=n:e.value<=n}var NIe=at((e,{size:t,color:n,disabled:r})=>({markWrapper:{position:"absolute",top:0,zIndex:2},mark:{boxSizing:"border-box",border:`${e.fn.size({size:t,sizes:Cs})>=8?"2px":"1px"} solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]}`,height:e.fn.size({sizes:Cs,size:t}),width:e.fn.size({sizes:Cs,size:t}),borderRadius:1e3,transform:`translateX(-${e.fn.size({sizes:Cs,size:t})/2}px)`,backgroundColor:e.white},markFilled:{borderColor:r?e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4]:e.fn.variant({variant:"filled",color:n}).background},markLabel:{transform:"translate(-50%, 0)",fontSize:e.fontSizes.sm,color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],marginTop:`calc(${e.spacing.xs}px / 2)`,whiteSpace:"nowrap"}}));const kIe=NIe;function sQ({marks:e,color:t,size:n,min:r,max:i,value:s,classNames:o,styles:a,offset:u,onChange:l,disabled:c,unstyled:f,inverted:d}){const{classes:h,cx:p}=kIe({size:n,color:t,disabled:c},{classNames:o,styles:a,unstyled:f,name:"Slider"}),m=e.map((y,g)=>k.createElement(ut,{className:h.markWrapper,sx:{left:`${gw({value:y.value,min:r,max:i})}%`},key:g},k.createElement("div",{className:p(h.mark,{[h.markFilled]:RIe({mark:y,value:s,offset:u,inverted:d})})}),y.label&&k.createElement("div",{className:h.markLabel,onMouseDown:_=>{_.stopPropagation(),l(y.value)},onTouchStart:_=>{_.stopPropagation(),l(y.value)}},y.label)));return k.createElement("div",null,m)}sQ.displayName="@mantine/core/SliderMarks";var DIe=at((e,{radius:t,size:n,color:r,disabled:i,inverted:s})=>({track:{position:"relative",height:e.fn.size({sizes:Cs,size:n}),width:"100%",marginRight:e.fn.size({size:n,sizes:Cs}),marginLeft:e.fn.size({size:n,sizes:Cs}),"&::before":{content:'""',position:"absolute",top:0,bottom:0,borderRadius:e.fn.size({size:t,sizes:e.radius}),right:-e.fn.size({size:n,sizes:Cs}),left:-e.fn.size({size:n,sizes:Cs}),backgroundColor:s?i?e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4]:e.fn.variant({variant:"filled",color:r}).background:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],zIndex:0}},bar:{position:"absolute",zIndex:1,top:0,bottom:0,backgroundColor:s?e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]:i?e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4]:e.fn.variant({variant:"filled",color:r}).background,borderRadius:e.fn.size({size:t,sizes:e.radius})}}));const $Ie=DIe;var LIe=Object.defineProperty,MIe=Object.defineProperties,FIe=Object.getOwnPropertyDescriptors,_w=Object.getOwnPropertySymbols,oQ=Object.prototype.hasOwnProperty,aQ=Object.prototype.propertyIsEnumerable,w8=(e,t,n)=>t in e?LIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,BIe=(e,t)=>{for(var n in t||(t={}))oQ.call(t,n)&&w8(e,n,t[n]);if(_w)for(var n of _w(t))aQ.call(t,n)&&w8(e,n,t[n]);return e},jIe=(e,t)=>MIe(e,FIe(t)),UIe=(e,t)=>{var n={};for(var r in e)oQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&_w)for(var r of _w(e))t.indexOf(r)<0&&aQ.call(e,r)&&(n[r]=e[r]);return n};function mk(e){var t=e,{filled:n,size:r,color:i,classNames:s,styles:o,radius:a,children:u,offset:l,onMouseLeave:c,onMouseEnter:f,disabled:d,marksOffset:h,unstyled:p,inverted:m}=t,y=UIe(t,["filled","size","color","classNames","styles","radius","children","offset","onMouseLeave","onMouseEnter","disabled","marksOffset","unstyled","inverted"]);const{classes:g}=$Ie({color:i,size:r,radius:a,disabled:d,inverted:m},{classNames:s,styles:o,unstyled:p,name:"Slider"});return k.createElement("div",{className:g.track,onMouseLeave:c,onMouseEnter:f},k.createElement(ut,{className:g.bar,sx:_=>({left:`calc(${l}% - ${_.fn.size({size:r,sizes:Cs})}px)`,width:`calc(${n}% + ${_.fn.size({size:r,sizes:Cs})}px)`})}),u,k.createElement(sQ,jIe(BIe({},y),{size:r,color:i,offset:h,classNames:s,styles:o,disabled:d,unstyled:p,inverted:m})))}mk.displayName="@mantine/core/SliderTrack";var VIe=Object.defineProperty,zIe=Object.defineProperties,HIe=Object.getOwnPropertyDescriptors,vw=Object.getOwnPropertySymbols,uQ=Object.prototype.hasOwnProperty,lQ=Object.prototype.propertyIsEnumerable,T8=(e,t,n)=>t in e?VIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qIe=(e,t)=>{for(var n in t||(t={}))uQ.call(t,n)&&T8(e,n,t[n]);if(vw)for(var n of vw(t))lQ.call(t,n)&&T8(e,n,t[n]);return e},WIe=(e,t)=>zIe(e,HIe(t)),YIe=(e,t)=>{var n={};for(var r in e)uQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&vw)for(var r of vw(e))t.indexOf(r)<0&&lQ.call(e,r)&&(n[r]=e[r]);return n};const gk=w.forwardRef((e,t)=>{var n=e,{className:r,size:i,classNames:s,styles:o,disabled:a,unstyled:u}=n,l=YIe(n,["className","size","classNames","styles","disabled","unstyled"]);const{classes:c,cx:f}=EIe({size:i,disabled:a},{classNames:s,styles:o,unstyled:u,name:"Slider"});return k.createElement(ut,WIe(qIe({},l),{tabIndex:-1,className:f(c.root,r),ref:t}))});gk.displayName="@mantine/core/SliderRoot";var GIe=Object.defineProperty,KIe=Object.defineProperties,QIe=Object.getOwnPropertyDescriptors,bw=Object.getOwnPropertySymbols,cQ=Object.prototype.hasOwnProperty,fQ=Object.prototype.propertyIsEnumerable,S8=(e,t,n)=>t in e?GIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,XIe=(e,t)=>{for(var n in t||(t={}))cQ.call(t,n)&&S8(e,n,t[n]);if(bw)for(var n of bw(t))fQ.call(t,n)&&S8(e,n,t[n]);return e},JIe=(e,t)=>KIe(e,QIe(t)),ZIe=(e,t)=>{var n={};for(var r in e)cQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&bw)for(var r of bw(e))t.indexOf(r)<0&&fQ.call(e,r)&&(n[r]=e[r]);return n};const exe={size:"md",radius:"xl",min:0,max:100,step:1,marks:[],label:e=>e,labelTransition:"skew-down",labelTransitionDuration:0,labelAlwaysOn:!1,thumbLabel:"",showLabelOnHover:!0,disabled:!1,scale:e=>e},dQ=w.forwardRef((e,t)=>{const n=dt("Slider",exe,e),{classNames:r,styles:i,color:s,value:o,onChange:a,onChangeEnd:u,size:l,radius:c,min:f,max:d,step:h,precision:p,defaultValue:m,name:y,marks:g,label:_,labelTransition:b,labelTransitionDuration:T,labelTransitionTimingFunction:I,labelAlwaysOn:E,thumbLabel:S,showLabelOnHover:A,thumbChildren:L,disabled:Y,unstyled:z,thumbSize:U,scale:Z,inverted:V}=n,le=ZIe(n,["classNames","styles","color","value","onChange","onChangeEnd","size","radius","min","max","step","precision","defaultValue","name","marks","label","labelTransition","labelTransitionDuration","labelTransitionTimingFunction","labelAlwaysOn","thumbLabel","showLabelOnHover","thumbChildren","disabled","unstyled","thumbSize","scale","inverted"]),oe=Zi(),[ve,re]=w.useState(!1),[ue,te]=Ta({value:typeof o=="number"?Nc(o,f,d):o,defaultValue:typeof m=="number"?Nc(m,f,d):m,finalValue:Nc(0,f,d),onChange:a}),x=w.useRef(ue),C=w.useRef(),j=gw({value:ue,min:f,max:d}),P=Z(ue),O=typeof _=="function"?_(P):_,G=w.useCallback(({x:W})=>{if(!Y){const M=xP({value:W,min:f,max:d,step:h,precision:p});te(M),x.current=M}},[Y,f,d,h,p]),{ref:de,active:fe}=Sq(G,{onScrubEnd:()=>u==null?void 0:u(x.current)},oe.dir),ye=W=>{W.stopPropagation()},me=W=>{if(!Y)switch(W.key){case"ArrowUp":{W.preventDefault(),C.current.focus();const M=Math.min(Math.max(ue+h,f),d);u==null||u(M),te(M);break}case"ArrowRight":{W.preventDefault(),C.current.focus();const M=Math.min(Math.max(oe.dir==="rtl"?ue-h:ue+h,f),d);u==null||u(M),te(M);break}case"ArrowDown":{W.preventDefault(),C.current.focus();const M=Math.min(Math.max(ue-h,f),d);u==null||u(M),te(M);break}case"ArrowLeft":{W.preventDefault(),C.current.focus();const M=Math.min(Math.max(oe.dir==="rtl"?ue+h:ue-h,f),d);u==null||u(M),te(M);break}case"Home":{W.preventDefault(),C.current.focus(),u==null||u(f),te(f);break}case"End":{W.preventDefault(),C.current.focus(),u==null||u(d),te(d);break}}};return k.createElement(gk,JIe(XIe({},le),{size:l,ref:Ho(de,t),onKeyDownCapture:me,onMouseDownCapture:()=>{var W;return(W=de.current)==null?void 0:W.focus()},classNames:r,styles:i,disabled:Y,unstyled:z}),k.createElement(mk,{inverted:V,offset:0,filled:j,marks:g,size:l,radius:c,color:s,min:f,max:d,value:P,onChange:te,onMouseEnter:A?()=>re(!0):void 0,onMouseLeave:A?()=>re(!1):void 0,classNames:r,styles:i,disabled:Y,unstyled:z},k.createElement(yw,{max:d,min:f,value:P,position:j,dragging:fe,color:s,size:l,label:O,ref:C,onMouseDown:ye,labelTransition:b,labelTransitionDuration:T,labelTransitionTimingFunction:I,labelAlwaysOn:E,classNames:r,styles:i,thumbLabel:S,showLabelOnHover:A&&ve,disabled:Y,unstyled:z,thumbSize:U},L)),k.createElement("input",{type:"hidden",name:y,value:P}))});dQ.displayName="@mantine/core/Slider";function txe(e){return"TouchEvent"in window&&e instanceof window.TouchEvent?e.touches[0].clientX:e.clientX}var nxe=Object.defineProperty,rxe=Object.defineProperties,ixe=Object.getOwnPropertyDescriptors,Ew=Object.getOwnPropertySymbols,hQ=Object.prototype.hasOwnProperty,pQ=Object.prototype.propertyIsEnumerable,I8=(e,t,n)=>t in e?nxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,NC=(e,t)=>{for(var n in t||(t={}))hQ.call(t,n)&&I8(e,n,t[n]);if(Ew)for(var n of Ew(t))pQ.call(t,n)&&I8(e,n,t[n]);return e},kC=(e,t)=>rxe(e,ixe(t)),sxe=(e,t)=>{var n={};for(var r in e)hQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Ew)for(var r of Ew(e))t.indexOf(r)<0&&pQ.call(e,r)&&(n[r]=e[r]);return n};const oxe={size:"md",radius:"xl",min:0,max:100,minRange:10,step:1,marks:[],label:e=>e,labelTransition:"skew-down",labelTransitionDuration:0,labelAlwaysOn:!1,thumbFromLabel:"",thumbToLabel:"",showLabelOnHover:!0,disabled:!1,scale:e=>e},mQ=w.forwardRef((e,t)=>{const n=dt("RangeSlider",oxe,e),{classNames:r,styles:i,color:s,value:o,onChange:a,onChangeEnd:u,size:l,radius:c,min:f,max:d,minRange:h,step:p,precision:m,defaultValue:y,name:g,marks:_,label:b,labelTransition:T,labelTransitionDuration:I,labelTransitionTimingFunction:E,labelAlwaysOn:S,thumbFromLabel:A,thumbToLabel:L,showLabelOnHover:Y,thumbChildren:z,disabled:U,unstyled:Z,thumbSize:V,scale:le,inverted:oe}=n,ve=sxe(n,["classNames","styles","color","value","onChange","onChangeEnd","size","radius","min","max","minRange","step","precision","defaultValue","name","marks","label","labelTransition","labelTransitionDuration","labelTransitionTimingFunction","labelAlwaysOn","thumbFromLabel","thumbToLabel","showLabelOnHover","thumbChildren","disabled","unstyled","thumbSize","scale","inverted"]),re=Zi(),[ue,te]=w.useState(-1),[x,C]=w.useState(!1),[j,P]=Ta({value:o,defaultValue:y,finalValue:[f,d],onChange:a}),O=w.useRef(j),G=w.useRef([]),de=w.useRef(void 0),fe=[gw({value:j[0],min:f,max:d}),gw({value:j[1],min:f,max:d})],ye=je=>{P(je),O.current=je};w.useEffect(()=>{Array.isArray(o)&&(O.current=o)},Array.isArray(o)?[o[0],o[1]]:[null,null]);const me=(je,Me,pt)=>{const Ue=[...O.current];Ue[Me]=je,Me===0&&(je>Ue[1]-(h-1e-9)&&(Ue[1]=Math.min(je+h,d)),je>(d-(h-1e-9)||f)&&(Ue[Me]=O.current[Me])),Me===1&&(je<Ue[0]+h&&(Ue[0]=Math.max(je-h,f)),je<Ue[0]+h&&(Ue[Me]=O.current[Me])),ye(Ue),pt&&(u==null||u(O.current))},W=je=>{if(!U){const Me=xP({value:je,min:f,max:d,step:p,precision:m});me(Me,de.current,!1)}},{ref:M,active:pe}=Sq(({x:je})=>W(je),{onScrubEnd:()=>u==null?void 0:u(O.current)},re.dir);function Ee(je,Me){je.stopPropagation(),de.current=Me}const Ce=je=>{M.current.focus();const Me=M.current.getBoundingClientRect(),pt=txe(je.nativeEvent),Ue=xP({value:pt-Me.left,max:d,min:f,step:p,containerWidth:Me.width}),gt=Math.abs(j[0]-Ue)>Math.abs(j[1]-Ue)?1:0,Yt=re.dir==="ltr"?gt:gt===1?0:1;de.current=Yt},Ae=()=>ue!==1&&ue!==0?(te(0),0):ue,qe=je=>{if(!U)switch(je.key){case"ArrowUp":{je.preventDefault();const Me=Ae();G.current[Me].focus(),me(Math.min(Math.max(O.current[Me]+p,f),d),Me,!0);break}case"ArrowRight":{je.preventDefault();const Me=Ae();G.current[Me].focus(),me(Math.min(Math.max(re.dir==="rtl"?O.current[Me]-p:O.current[Me]+p,f),d),Me,!0);break}case"ArrowDown":{je.preventDefault();const Me=Ae();G.current[Me].focus(),me(Math.min(Math.max(O.current[Me]-p,f),d),Me,!0);break}case"ArrowLeft":{je.preventDefault();const Me=Ae();G.current[Me].focus(),me(Math.min(Math.max(re.dir==="rtl"?O.current[Me]+p:O.current[Me]-p,f),d),Me,!0);break}}},et={max:d,min:f,color:s,size:l,labelTransition:T,labelTransitionDuration:I,labelTransitionTimingFunction:E,labelAlwaysOn:S,onBlur:()=>te(-1),classNames:r,styles:i},Bt=Array.isArray(z);return k.createElement(gk,kC(NC({},ve),{size:l,ref:Ho(M,t),onTouchStartCapture:Ce,onTouchEndCapture:()=>{de.current=-1},onMouseDownCapture:Ce,onMouseUpCapture:()=>{de.current=-1},onKeyDownCapture:qe,styles:i,classNames:r,disabled:U,unstyled:Z}),k.createElement(mk,{offset:fe[0],marksOffset:j[0],filled:fe[1]-fe[0],marks:_,inverted:oe,size:l,radius:c,color:s,min:f,max:d,value:j[1],styles:i,classNames:r,onMouseEnter:Y?()=>C(!0):void 0,onMouseLeave:Y?()=>C(!1):void 0,onChange:je=>{const Me=Math.abs(j[0]-je)>Math.abs(j[1]-je)?1:0,pt=[...j];pt[Me]=je,ye(pt)},disabled:U,unstyled:Z},k.createElement(yw,kC(NC({},et),{value:le(j[0]),position:fe[0],dragging:pe,label:typeof b=="function"?b(le(j[0])):b,ref:je=>{G.current[0]=je},thumbLabel:A,onMouseDown:je=>Ee(je,0),onFocus:()=>te(0),showLabelOnHover:Y&&x,disabled:U,unstyled:Z,thumbSize:V}),Bt?z[0]:z),k.createElement(yw,kC(NC({},et),{thumbLabel:L,value:le(j[1]),position:fe[1],dragging:pe,label:typeof b=="function"?b(le(j[1])):b,ref:je=>{G.current[1]=je},onMouseDown:je=>Ee(je,1),onFocus:()=>te(1),showLabelOnHover:Y&&x,disabled:U,unstyled:Z,thumbSize:V}),Bt?z[1]:z)),k.createElement("input",{type:"hidden",name:`${g}_from`,value:j[0]}),k.createElement("input",{type:"hidden",name:`${g}_to`,value:j[1]}))});mQ.displayName="@mantine/core/RangeSlider";var axe=Object.defineProperty,ww=Object.getOwnPropertySymbols,gQ=Object.prototype.hasOwnProperty,yQ=Object.prototype.propertyIsEnumerable,x8=(e,t,n)=>t in e?axe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,uxe=(e,t)=>{for(var n in t||(t={}))gQ.call(t,n)&&x8(e,n,t[n]);if(ww)for(var n of ww(t))yQ.call(t,n)&&x8(e,n,t[n]);return e},lxe=(e,t)=>{var n={};for(var r in e)gQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ww)for(var r of ww(e))t.indexOf(r)<0&&yQ.call(e,r)&&(n[r]=e[r]);return n};const cxe={w:0,h:0},qp=w.forwardRef((e,t)=>{const n=dt("Space",cxe,e),{w:r,h:i,sx:s}=n,o=lxe(n,["w","h","sx"]);return k.createElement(ut,uxe({ref:t,sx:[a=>{const u=a.fn.size({size:r,sizes:a.spacing}),l=a.fn.size({size:i,sizes:a.spacing});return{width:u,height:l,minWidth:u,minHeight:l}},...xd(s)]},o))});qp.displayName="@mantine/core/Space";var fxe=Object.defineProperty,dxe=Object.defineProperties,hxe=Object.getOwnPropertyDescriptors,C8=Object.getOwnPropertySymbols,pxe=Object.prototype.hasOwnProperty,mxe=Object.prototype.propertyIsEnumerable,A8=(e,t,n)=>t in e?fxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gxe=(e,t)=>{for(var n in t||(t={}))pxe.call(t,n)&&A8(e,n,t[n]);if(C8)for(var n of C8(t))mxe.call(t,n)&&A8(e,n,t[n]);return e},yxe=(e,t)=>dxe(e,hxe(t));function _xe(e,t,n){return typeof e<"u"?e in n.headings.sizes?n.headings.sizes[e].fontSize:e:n.headings.sizes[t].fontSize}function vxe(e,t,n){return typeof e<"u"&&e in n.headings.sizes?n.headings.sizes[e].lineHeight:n.headings.sizes[t].lineHeight}var bxe=at((e,{element:t,weight:n,size:r,inline:i})=>({root:yxe(gxe({},e.fn.fontStyles()),{fontFamily:e.headings.fontFamily,fontWeight:n||e.headings.sizes[t].fontWeight||e.headings.fontWeight,fontSize:_xe(r,t,e),lineHeight:i?1:vxe(r,t,e),margin:0})}));const Exe=bxe;var wxe=Object.defineProperty,Tw=Object.getOwnPropertySymbols,_Q=Object.prototype.hasOwnProperty,vQ=Object.prototype.propertyIsEnumerable,O8=(e,t,n)=>t in e?wxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Txe=(e,t)=>{for(var n in t||(t={}))_Q.call(t,n)&&O8(e,n,t[n]);if(Tw)for(var n of Tw(t))vQ.call(t,n)&&O8(e,n,t[n]);return e},Sxe=(e,t)=>{var n={};for(var r in e)_Q.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Tw)for(var r of Tw(e))t.indexOf(r)<0&&vQ.call(e,r)&&(n[r]=e[r]);return n};const Ixe={order:1},sc=w.forwardRef((e,t)=>{const n=dt("Title",Ixe,e),{className:r,order:i,children:s,unstyled:o,size:a,weight:u,inline:l}=n,c=Sxe(n,["className","order","children","unstyled","size","weight","inline"]),{classes:f,cx:d}=Exe({element:`h${i}`,weight:u,size:a,inline:l},{name:"Title",unstyled:o});return[1,2,3,4,5,6].includes(i)?k.createElement(It,Txe({component:`h${i}`,ref:t,className:d(f.root,r)},c),s):null});sc.displayName="@mantine/core/Title";function CP(e){const t=e.split("/")||[];return t[t.length-1].replace(/\.[^\.]+$/,"").replace(".","_").replace(" ","_").replace("/","_")}const Pu="/viz-guardrails-study/",xxe="https://github.com/revisit-studies/study/tree/main/public/";function Cxe({globalConfig:e,studyConfigs:t}){const{configsList:n}=e,r=qd();return $.jsxs(wG,{size:"xs",px:"xs",style:{marginTop:100,marginBottom:100},children:[$.jsx(b_,{maw:150,mx:"auto",mb:"xl",radius:"md",src:`${Pu}assets/revisitLogoSquare.svg`,alt:"reVISit"}),$.jsx(It,{children:"Select an experiment to launch:"}),n.map(i=>{const s=t[i];if(!s)return null;const o=CP(i);return $.jsx(WN,{onClick:()=>{r(`/${o}`)},my:"sm",style:{width:"100%"},children:$.jsxs(o1e,{shadow:"sm",radius:"md",withBorder:!0,children:[$.jsx(It,{fw:"bold",children:s.studyMetadata.title}),$.jsxs(It,{c:"dimmed",children:["Authors:",s.studyMetadata.authors]}),$.jsx(It,{c:"dimmed",children:s.studyMetadata.description}),$.jsx(It,{c:"dimmed",ta:"right",style:{paddingRight:5},children:$.jsxs(oW,{target:"_blank",onClick:a=>a.stopPropagation(),href:`${xxe}${o}`,children:["View source:"," ",o]})})]})},i)})]})}var bQ={exports:{}},EQ={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wp=w;function Axe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Oxe=typeof Object.is=="function"?Object.is:Axe,Pxe=Wp.useState,Rxe=Wp.useEffect,Nxe=Wp.useLayoutEffect,kxe=Wp.useDebugValue;function Dxe(e,t){var n=t(),r=Pxe({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return Nxe(function(){i.value=n,i.getSnapshot=t,DC(i)&&s({inst:i})},[e,n,t]),Rxe(function(){return DC(i)&&s({inst:i}),e(function(){DC(i)&&s({inst:i})})},[e]),kxe(n),n}function DC(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Oxe(e,n)}catch{return!0}}function $xe(e,t){return t()}var Lxe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?$xe:Dxe;EQ.useSyncExternalStore=Wp.useSyncExternalStore!==void 0?Wp.useSyncExternalStore:Lxe;bQ.exports=EQ;var Mxe=bQ.exports,wQ={exports:{}},TQ={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FS=w,Fxe=Mxe;function Bxe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jxe=typeof Object.is=="function"?Object.is:Bxe,Uxe=Fxe.useSyncExternalStore,Vxe=FS.useRef,zxe=FS.useEffect,Hxe=FS.useMemo,qxe=FS.useDebugValue;TQ.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var s=Vxe(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=Hxe(function(){function u(h){if(!l){if(l=!0,c=h,h=r(h),i!==void 0&&o.hasValue){var p=o.value;if(i(p,h))return f=p}return f=h}if(p=f,jxe(c,h))return p;var m=r(h);return i!==void 0&&i(p,m)?p:(c=h,f=m)}var l=!1,c,f,d=n===void 0?null:n;return[function(){return u(t())},d===null?void 0:function(){return u(d())}]},[t,n,r,i]);var a=Uxe(e,s[0],s[1]);return zxe(function(){o.hasValue=!0,o.value=a},[a]),qxe(a),a};wQ.exports=TQ;var Wxe=wQ.exports;function Yxe(e){e()}let SQ=Yxe;const Gxe=e=>SQ=e,Kxe=()=>SQ,Gc=w.createContext(null);function IQ(){return w.useContext(Gc)}const Qxe=()=>{throw new Error("uSES not initialized!")};let xQ=Qxe;const Xxe=e=>{xQ=e},Jxe=(e,t)=>e===t;function Zxe(e=Gc){const t=e===Gc?IQ:()=>w.useContext(e);return function(r,i=Jxe){const{store:s,subscription:o,getServerState:a}=t(),u=xQ(o.addNestedSub,s.getState,a||s.getState,r,i);return w.useDebugValue(u),u}}const eCe=Zxe();var Ln={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yk=Symbol.for("react.element"),_k=Symbol.for("react.portal"),BS=Symbol.for("react.fragment"),jS=Symbol.for("react.strict_mode"),US=Symbol.for("react.profiler"),VS=Symbol.for("react.provider"),zS=Symbol.for("react.context"),tCe=Symbol.for("react.server_context"),HS=Symbol.for("react.forward_ref"),qS=Symbol.for("react.suspense"),WS=Symbol.for("react.suspense_list"),YS=Symbol.for("react.memo"),GS=Symbol.for("react.lazy"),nCe=Symbol.for("react.offscreen"),CQ;CQ=Symbol.for("react.module.reference");function Wo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case yk:switch(e=e.type,e){case BS:case US:case jS:case qS:case WS:return e;default:switch(e=e&&e.$$typeof,e){case tCe:case zS:case HS:case GS:case YS:case VS:return e;default:return t}}case _k:return t}}}Ln.ContextConsumer=zS;Ln.ContextProvider=VS;Ln.Element=yk;Ln.ForwardRef=HS;Ln.Fragment=BS;Ln.Lazy=GS;Ln.Memo=YS;Ln.Portal=_k;Ln.Profiler=US;Ln.StrictMode=jS;Ln.Suspense=qS;Ln.SuspenseList=WS;Ln.isAsyncMode=function(){return!1};Ln.isConcurrentMode=function(){return!1};Ln.isContextConsumer=function(e){return Wo(e)===zS};Ln.isContextProvider=function(e){return Wo(e)===VS};Ln.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===yk};Ln.isForwardRef=function(e){return Wo(e)===HS};Ln.isFragment=function(e){return Wo(e)===BS};Ln.isLazy=function(e){return Wo(e)===GS};Ln.isMemo=function(e){return Wo(e)===YS};Ln.isPortal=function(e){return Wo(e)===_k};Ln.isProfiler=function(e){return Wo(e)===US};Ln.isStrictMode=function(e){return Wo(e)===jS};Ln.isSuspense=function(e){return Wo(e)===qS};Ln.isSuspenseList=function(e){return Wo(e)===WS};Ln.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===BS||e===US||e===jS||e===qS||e===WS||e===nCe||typeof e=="object"&&e!==null&&(e.$$typeof===GS||e.$$typeof===YS||e.$$typeof===VS||e.$$typeof===zS||e.$$typeof===HS||e.$$typeof===CQ||e.getModuleId!==void 0)};Ln.typeOf=Wo;function rCe(){const e=Kxe();let t=null,n=null;return{clear(){t=null,n=null},notify(){e(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=t;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,s=n={callback:r,next:null,prev:n};return s.prev?s.prev.next=s:t=s,function(){!i||t===null||(i=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}const P8={notify(){},get:()=>[]};function iCe(e,t){let n,r=P8;function i(f){return u(),r.subscribe(f)}function s(){r.notify()}function o(){c.onStateChange&&c.onStateChange()}function a(){return!!n}function u(){n||(n=t?t.addNestedSub(o):e.subscribe(o),r=rCe())}function l(){n&&(n(),n=void 0,r.clear(),r=P8)}const c={addNestedSub:i,notifyNestedSubs:s,handleChangeWrapper:o,isSubscribed:a,trySubscribe:u,tryUnsubscribe:l,getListeners:()=>r};return c}const sCe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",oCe=sCe?w.useLayoutEffect:w.useEffect;function aCe({store:e,context:t,children:n,serverState:r}){const i=w.useMemo(()=>{const a=iCe(e);return{store:e,subscription:a,getServerState:r?()=>r:void 0}},[e,r]),s=w.useMemo(()=>e.getState(),[e]);oCe(()=>{const{subscription:a}=i;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),s!==e.getState()&&a.notifyNestedSubs(),()=>{a.tryUnsubscribe(),a.onStateChange=void 0}},[i,s]);const o=t||Gc;return k.createElement(o.Provider,{value:i},n)}function AQ(e=Gc){const t=e===Gc?IQ:()=>w.useContext(e);return function(){const{store:r}=t();return r}}const uCe=AQ();function lCe(e=Gc){const t=e===Gc?uCe:AQ(e);return function(){return t().dispatch}}const OQ=lCe();Xxe(Wxe.useSyncExternalStoreWithSelector);Gxe(f_.unstable_batchedUpdates);const cCe={},fCe=Object.freeze(Object.defineProperty({__proto__:null,default:cCe},Symbol.toStringTag,{value:"Module"})),dCe=Dae(fCe);var hCe=dCe;function pCe(e,t){var n,r="",i=0,s=!0,o=0,a;function u(){return a=e.charAt(o),o++,a}for(u(),a==="-"&&(r="-",u());a>="0"&&a<="9";)s&&(a=="0"?i++:s=!1),r+=a,u();if(s&&i--,a===".")for(r+=".";u()&&a>="0"&&a<="9";)r+=a;if(a==="e"||a==="E")for(r+=a,u(),(a==="-"||a==="+")&&(r+=a,u());a>="0"&&a<="9";)r+=a,u();for(;a&&a<=" ";)u();if(t&&(a===","||a==="}"||a==="]"||a==="#"||a==="/"&&(e[o]==="/"||e[o]==="*"))&&(a=0),n=+r,!(a||i||!isFinite(n)))return n}function mCe(e,t){return Object.defineProperty&&Object.defineProperty(e,"__COMMENTS__",{enumerable:!1,writable:!0}),e.__COMMENTS__=t||{}}function gCe(e){Object.defineProperty(e,"__COMMENTS__",{value:void 0})}function yCe(e){return e.__COMMENTS__}function _Ce(e){if(!e)return"";var t=e.split(`
`),n,r,i,s;for(i=0;i<t.length;i++)for(n=t[i],s=n.length,r=0;r<s;r++){var o=n[r];if(o==="#")break;if(o==="/"&&(n[r+1]==="/"||n[r+1]==="*")){n[r+1]==="*"&&(i=t.length);break}else if(o>" "){t[i]="# "+n;break}}return t.join(`
`)}var KS={EOL:hCe.EOL||`
`,tryParseNumber:pCe,createComment:mCe,removeComment:gCe,getComment:yCe,forceComment:_Ce},vCe="3.2.1";function bCe(e,t){if(Object.prototype.toString.apply(e)!=="[object Array]"){if(e)throw new Error("dsf option must contain an array!");return R8}else if(e.length===0)return R8;var n=[];function r(i){return{}.toString.call(i)==="[object Function]"}return e.forEach(function(i){if(!i.name||!r(i.parse)||!r(i.stringify))throw new Error("extension does not match the DSF interface");n.push(function(){try{if(t=="parse")return i.parse.apply(null,arguments);if(t=="stringify"){var s=i.stringify.apply(null,arguments);if(s!==void 0&&(typeof s!="string"||s.length===0||s[0]==='"'||[].some.call(s,function(o){return wCe(o)})))throw new Error("value may not be empty, start with a quote or contain a punctuator character except colon: "+s);return s}else throw new Error("Invalid type")}catch(o){throw new Error("DSF-"+i.name+" failed; "+o.message)}})}),ECe.bind(null,n)}function ECe(e,t){if(e)for(var n=0;n<e.length;n++){var r=e[n](t);if(r!==void 0)return r}}function R8(){}function wCe(e){return e==="{"||e==="}"||e==="["||e==="]"||e===","}function PQ(){return{name:"math",parse:function(e){switch(e){case"+inf":case"inf":case"+Inf":case"Inf":return 1/0;case"-inf":case"-Inf":return-1/0;case"nan":case"NaN":return NaN}},stringify:function(e){if(typeof e=="number"){if(1/e===-1/0)return"-0";if(e===1/0)return"Inf";if(e===-1/0)return"-Inf";if(isNaN(e))return"NaN"}}}}PQ.description="support for Inf/inf, -Inf/-inf, Nan/naN and -0";function RQ(e){var t=e&&e.out;return{name:"hex",parse:function(n){if(/^0x[0-9A-Fa-f]+$/.test(n))return parseInt(n,16)},stringify:function(n){if(t&&Number.isInteger(n))return"0x"+n.toString(16)}}}RQ.description="parse hexadecimal numbers prefixed with 0x";function NQ(){return{name:"date",parse:function(e){if(/^\d{4}-\d{2}-\d{2}$/.test(e)||/^\d{4}-\d{2}-\d{2}T\d{2}\:\d{2}\:\d{2}(?:.\d+)(?:Z|[+-]\d{2}:\d{2})$/.test(e)){var t=Date.parse(e);if(!isNaN(t))return new Date(t)}},stringify:function(e){if(Object.prototype.toString.call(e)==="[object Date]"){var t=e.toISOString();return t.indexOf("T00:00:00.000Z",t.length-14)!==-1?t.substr(0,10):t}}}}NQ.description="support ISO dates";var vk={loadDsf:bCe,std:{math:PQ,hex:RQ,date:NQ}},TCe=function(e,t){var n=KS,r=vk,i,s,o,a={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},u,l;function c(){s=0,o=" "}function f(V){return V==="{"||V==="}"||V==="["||V==="]"||V===","||V===":"}function d(V){var le,oe=0,ve=1;for(le=s-1;le>0&&i[le]!==`
`;le--,oe++);for(;le>0;le--)i[le]===`
`&&ve++;throw new Error(V+" at line "+ve+","+oe+" >>>"+i.substr(s-oe,20)+" ...")}function h(){return o=i.charAt(s),s++,o}function p(V){return i.charAt(s+V)}function m(V){for(var le="",oe=o;h();){if(o===oe)return h(),V&&oe==="'"&&o==="'"&&le.length===0?(h(),y()):le;if(o==="\\")if(h(),o==="u"){for(var ve=0,re=0;re<4;re++){h();var ue=o.charCodeAt(0),te;o>="0"&&o<="9"?te=ue-48:o>="a"&&o<="f"?te=ue-97+10:o>="A"&&o<="F"?te=ue-65+10:d("Bad \\u char "+o),ve=ve*16+te}le+=String.fromCharCode(ve)}else if(typeof a[o]=="string")le+=a[o];else break;else o===`
`||o==="\r"?d("Bad string containing newline"):le+=o}d("Bad string")}function y(){for(var V="",le=0,oe=0;;){var ve=p(-oe-5);if(!ve||ve===`
`)break;oe++}function re(){for(var ue=oe;o&&o<=" "&&o!==`
`&&ue-- >0;)h()}for(;o&&o<=" "&&o!==`
`;)h();for(o===`
`&&(h(),re());;){if(!o)d("Bad multiline string");else if(o==="'"){if(le++,h(),le===3)return V.slice(-1)===`
`&&(V=V.slice(0,-1)),V;continue}else for(;le>0;)V+="'",le--;o===`
`?(V+=`
`,h(),re()):(o!=="\r"&&(V+=o),h())}}function g(){if(o==='"'||o==="'")return m(!1);for(var V="",le=s,oe=-1;;){if(o===":")return V?oe>=0&&oe!==V.length&&(s=le+oe,d("Found whitespace in your key name (use quotes to include)")):d("Found ':' but no key name (for an empty key name use quotes)"),V;o<=" "?o?oe<0&&(oe=V.length):d("Found EOF while looking for a key name (check your syntax)"):f(o)?d("Found '"+o+"' where a key name was expected (check your syntax or use quotes if the key name includes {}[],: or whitespace)"):V+=o,h()}}function _(){for(;o;){for(;o&&o<=" ";)h();if(o==="#"||o==="/"&&p(0)==="/")for(;o&&o!==`
`;)h();else if(o==="/"&&p(0)==="*"){for(h(),h();o&&!(o==="*"&&p(0)==="/");)h();o&&(h(),h())}else break}}function b(){var V=o;for(f(o)&&d("Found a punctuator character '"+o+"' when expecting a quoteless string (check your syntax)");;){h();var le=o==="\r"||o===`
`||o==="";if(le||o===","||o==="}"||o==="]"||o==="#"||o==="/"&&(p(0)==="/"||p(0)==="*")){var oe=V[0];switch(oe){case"f":if(V.trim()==="false")return!1;break;case"n":if(V.trim()==="null")return null;break;case"t":if(V.trim()==="true")return!0;break;default:if(oe==="-"||oe>="0"&&oe<="9"){var ve=n.tryParseNumber(V);if(ve!==void 0)return ve}}if(le){V=V.trim();var re=l(V);return re!==void 0?re:V}}V+=o}}function T(V,le){var oe;for(V--,oe=s-2;oe>V&&i[oe]<=" "&&i[oe]!==`
`;oe--);i[oe]===`
`&&oe--,i[oe]==="\r"&&oe--;var ve=i.substr(V,oe-V+1);for(oe=0;oe<ve.length;oe++)if(ve[oe]>" "){var re=ve.indexOf(`
`);if(re>=0){var ue=[ve.substr(0,re),ve.substr(re+1)];return le&&ue[0].trim().length===0&&ue.shift(),ue}else return[ve]}return[]}function I(V){function le(ve,re){var ue,te,x,C;switch(typeof ve){case"string":ve.indexOf(re)>=0&&(C=ve);break;case"object":if(Object.prototype.toString.apply(ve)==="[object Array]")for(ue=0,x=ve.length;ue<x;ue++)C=le(ve[ue],re)||C;else for(te in ve)Object.prototype.hasOwnProperty.call(ve,te)&&(C=le(ve[te],re)||C)}return C}function oe(ve){var re=le(V,ve);return re?"found '"+ve+`' in a string value, your mistake could be with:
  > `+re+`
  (unquoted strings contain everything up to the next line!)`:""}return oe("}")||oe("]")}function E(){var V=[],le,oe,ve;try{if(u&&(le=n.createComment(V,{a:[]})),h(),oe=s,_(),le&&(ve=T(oe,!0).join(`
`)),o==="]")return h(),le&&(le.e=[ve]),V;for(;o;){if(V.push(A()),oe=s,_(),o===","&&(h(),oe=s,_()),le){var re=T(oe);le.a.push([ve||"",re[0]||""]),ve=re[1]}if(o==="]")return h(),le&&(le.a[le.a.length-1][1]+=ve||""),V;_()}d("End of input while parsing an array (missing ']')")}catch(ue){throw ue.hint=ue.hint||I(V),ue}}function S(V){var le="",oe={},ve,re,ue;try{if(u&&(ve=n.createComment(oe,{c:{},o:[]})),V?re=1:(h(),re=s),_(),ve&&(ue=T(re,!0).join(`
`)),o==="}"&&!V)return ve&&(ve.e=[ue]),h(),oe;for(;o;){if(le=g(),_(),o!==":"&&d("Expected ':' instead of '"+o+"'"),h(),oe[le]=A(),re=s,_(),o===","&&(h(),re=s,_()),ve){var te=T(re);ve.c[le]=[ue||"",te[0]||""],ue=te[1],ve.o.push(le)}if(o==="}"&&!V)return h(),ve&&(ve.c[le][1]+=ue||""),oe;_()}if(V)return oe;d("End of input while parsing an object (missing '}')")}catch(x){throw x.hint=x.hint||I(oe),x}}function A(){switch(_(),o){case"{":return S();case"[":return E();case"'":case'"':return m(!0);default:return b()}}function L(V,le){var oe=s;if(_(),o&&d("Syntax error, found trailing characters"),u){var ve=le.join(`
`),re=T(oe).join(`
`);if(re||ve){var ue=n.createComment(V,n.getComment(V));ue.r=[ve,re]}}return V}function Y(){_();var V=u?T(1):null;switch(o){case"{":return L(S(),V);case"[":return L(E(),V);default:return L(A(),V)}}function z(){_();var V=u?T(1):null;switch(o){case"{":return L(S(),V);case"[":return L(E(),V)}try{return L(S(!0),V)}catch(le){c();try{return L(A(),V)}catch{throw le}}}if(typeof e!="string")throw new Error("source is not a string");var U=null,Z=!0;return t&&typeof t=="object"&&(u=t.keepWsc,U=t.dsf,Z=t.legacyRoot!==!1),l=r.loadDsf(U,"parse"),i=e,c(),Z?z():Y()},SCe=function(e,t){var n=KS,r=vk,i={obj:["{","}"],arr:["[","]"],key:["",""],qkey:['"','"'],col:[":",""],com:[",",""],str:["",""],qstr:['"','"'],mstr:["'''","'''"],num:["",""],lit:["",""],dsf:["",""],esc:["\\",""],uni:["\\u",""],rem:["",""]},s=n.EOL,o="  ",a=!1,u=!1,l=!1,c=!1,f=0,d=1,h="",p=null,m=!1,y=i;if(t&&typeof t=="object"){t.quotes=t.quotes==="always"?"strings":t.quotes,(t.eol===`
`||t.eol===`\r
`)&&(s=t.eol),a=t.keepWsc,f=t.condense||0,u=t.bracesSameLine,l=t.quotes==="all"||t.quotes==="keys",c=t.quotes==="all"||t.quotes==="strings"||t.separator===!0,c||t.multiline=="off"?d=0:d=t.multiline=="no-tabs"?2:1,h=t.separator===!0?y.com[0]:"",p=t.dsf,m=t.sortProps,typeof t.space=="number"?o=new Array(t.space+1).join(" "):typeof t.space=="string"&&(o=t.space),t.colors===!0&&(y={obj:["\x1B[37m{\x1B[0m","\x1B[37m}\x1B[0m"],arr:["\x1B[37m[\x1B[0m","\x1B[37m]\x1B[0m"],key:["\x1B[33m","\x1B[0m"],qkey:['\x1B[33m"','"\x1B[0m'],col:["\x1B[37m:\x1B[0m",""],com:["\x1B[37m,\x1B[0m",""],str:["\x1B[37;1m","\x1B[0m"],qstr:['\x1B[37;1m"','"\x1B[0m'],mstr:["\x1B[37;1m'''","'''\x1B[0m"],num:["\x1B[36;1m","\x1B[0m"],lit:["\x1B[36m","\x1B[0m"],dsf:["\x1B[37m","\x1B[0m"],esc:["\x1B[31m\\","\x1B[0m"],uni:["\x1B[31m\\u","\x1B[0m"],rem:["\x1B[35m","\x1B[0m"]});var g,_=Object.keys(i);for(g=_.length-1;g>=0;g--){var b=_[g];y[b].push(i[b][0].length,i[b][1].length)}}var T,I="---\u2028--\uFEFF-",E=new RegExp('[\\\\\\"\0-'+I+"]","g"),S=new RegExp(`^\\s|^"|^'|^#|^\\/\\*|^\\/\\/|^\\{|^\\}|^\\[|^\\]|^:|^,|\\s$|[\0-`+I+"]","g"),A=new RegExp("'''|^[\\s]+$|[\0-"+(d===2?"	":"\b")+"\v\f-"+I+"]","g"),L=new RegExp("^(true|false|null)\\s*((,|\\]|\\}|#|//|/\\*).*)?$"),Y={"\b":"b","	":"t","\n":"n","\f":"f","\r":"r",'"':'"',"\\":"\\"},z=/[,\{\[\}\]\s:#"']|\/\/|\/\*/,U="",Z=0;function V(C,j){return Z+=C[0].length+C[1].length-C[2]-C[3],C[0]+j+C[1]}function le(C){return C.replace(E,function(j){var P=Y[j];return typeof P=="string"?V(y.esc,P):V(y.uni,("0000"+j.charCodeAt(0).toString(16)).slice(-4))})}function oe(C,j,P,O){return C?(S.lastIndex=0,L.lastIndex=0,c||P||S.test(C)||n.tryParseNumber(C,!0)!==void 0||L.test(C)?(E.lastIndex=0,A.lastIndex=0,E.test(C)?!A.test(C)&&!O&&d?ve(C,j):V(y.qstr,le(C)):V(y.qstr,C)):V(y.str,C)):V(y.qstr,"")}function ve(C,j){var P,O=C.replace(/\r/g,"").split(`
`);if(j+=o,O.length===1)return V(y.mstr,O[0]);var G=s+j+y.mstr[0];for(P=0;P<O.length;P++)G+=s,O[P]&&(G+=j+O[P]);return G+s+j+y.mstr[1]}function re(C){return C?l||z.test(C)?(E.lastIndex=0,V(y.qkey,E.test(C)?le(C):C)):V(y.key,C):'""'}function ue(C,j,P,O){function G(nt){return nt&&nt[nt[0]==="\r"?1:0]===`
`}function de(nt){return nt&&!G(nt)}function fe(nt,vn,Ht){if(!nt)return"";nt=n.forceComment(nt);var wt,Mn=nt.length;for(wt=0;wt<Mn&&nt[wt]<=" ";wt++);return Ht&&wt>0&&(nt=nt.substr(wt)),wt<Mn?vn+V(y.rem,nt):nt}var ye=T(C);if(ye!==void 0)return V(y.dsf,ye);switch(typeof C){case"string":return oe(C,U,j,O);case"number":return isFinite(C)?V(y.num,String(C)):V(y.lit,"null");case"boolean":return V(y.lit,String(C));case"object":if(!C)return V(y.lit,"null");var me;a&&(me=n.getComment(C));var W=Object.prototype.toString.apply(C)==="[object Array]",M=U;U+=o;var pe=s+M,Ee=s+U,Ce=P||u?"":pe,Ae=[],qe,et=f?[]:null,Bt=c,je=d,Me=h?"":y.com[0],pt=0,Ue,gt,Yt,on,Wn,he,Ie,Ve,st;if(W){for(Ue=0,gt=C.length;Ue<gt;Ue++){if(qe=Ue<gt-1,me?(he=me.a[Ue]||[],Ie=de(he[1]),Ae.push(fe(he[0],`
`)+Ee),et&&(he[0]||he[1]||Ie)&&(et=null)):Ae.push(Ee),Z=0,on=C[Ue],Ae.push(ue(on,me?Ie:!1,!0)+(qe?h:"")),et){switch(typeof on){case"string":Z=0,c=!0,d=0,et.push(ue(on,!1,!0)+(qe?y.com[0]:"")),c=Bt,d=je;break;case"object":if(on){et=null;break}default:et.push(Ae[Ae.length-1]+(qe?Me:""));break}qe&&(Z+=y.com[0].length-y.com[2]),pt+=Z}me&&he[1]&&Ae.push(fe(he[1],Ie?" ":`
`,Ie))}gt===0?me&&me.e&&Ae.push(fe(me.e[0],`
`)+pe):Ae.push(pe),Ae.length===0?Ve=V(y.arr,""):(Ve=Ce+V(y.arr,Ae.join("")),et&&(st=et.join(" "),st.length-pt<=f&&(Ve=V(y.arr,st))))}else{var Be=me?me.o.slice():[],ot=[];for(Yt in C)Object.prototype.hasOwnProperty.call(C,Yt)&&Be.indexOf(Yt)<0&&ot.push(Yt);m&&ot.sort();var ze=Be.concat(ot);for(Ue=0,gt=ze.length;Ue<gt;Ue++)if(qe=Ue<gt-1,Yt=ze[Ue],me?(he=me.c[Yt]||[],Ie=de(he[1]),Ae.push(fe(he[0],`
`)+Ee),et&&(he[0]||he[1]||Ie)&&(et=null)):Ae.push(Ee),Z=0,on=C[Yt],Wn=ue(on,me&&Ie),Ae.push(re(Yt)+y.col[0]+(G(Wn)?"":" ")+Wn+(qe?h:"")),me&&he[1]&&Ae.push(fe(he[1],Ie?" ":`
`,Ie)),et){switch(typeof on){case"string":Z=0,c=!0,d=0,Wn=ue(on,!1),c=Bt,d=je,et.push(re(Yt)+y.col[0]+" "+Wn+(qe?y.com[0]:""));break;case"object":if(on){et=null;break}default:et.push(Ae[Ae.length-1]+(qe?Me:""));break}Z+=y.col[0].length-y.col[2],qe&&(Z+=y.com[0].length-y.com[2]),pt+=Z}gt===0?me&&me.e&&Ae.push(fe(me.e[0],`
`)+pe):Ae.push(pe),Ae.length===0?Ve=V(y.obj,""):(Ve=Ce+V(y.obj,Ae.join("")),et&&(st=et.join(" "),st.length-pt<=f&&(Ve=V(y.obj,st))))}return U=M,Ve}}T=r.loadDsf(p,"stringify");var te="",x=a?x=(n.getComment(e)||{}).r:null;return x&&x[0]&&(te=x[0]+`
`),te+=ue(e,null,!0,!0),x&&(te+=x[1]||""),te},cp=KS;function bg(e,t,n){var r;return e&&(r={b:e}),t&&((r=r||{}).a=t),n&&((r=r||{}).x=n),r}function AP(e,t){if(!(e===null||typeof e!="object")){var n=cp.getComment(e);n&&cp.removeComment(e);var r,i,s,o;if(Object.prototype.toString.apply(e)==="[object Array]"){for(o={a:{}},r=0,i=e.length;r<i;r++)N8(o.a,r,n.a[r],AP(e[r]))&&(s=!0);!s&&n.e&&(o.e=bg(n.e[0],n.e[1]),s=!0)}else{o={s:{}};var a,u=Object.keys(e);for(n&&n.o?(a=[],n.o.concat(u).forEach(function(c){Object.prototype.hasOwnProperty.call(e,c)&&a.indexOf(c)<0&&a.push(c)})):a=u,o.o=a,r=0,i=a.length;r<i;r++){var l=a[r];N8(o.s,l,n.c[l],AP(e[l]))&&(s=!0)}!s&&n.e&&(o.e=bg(n.e[0],n.e[1]),s=!0)}return t&&n&&n.r&&(o.r=bg(n.r[0],n.r[1])),s?o:void 0}}function ICe(){var e="";return[].forEach.call(arguments,function(t){t&&t.trim()!==""&&(e&&(e+="; "),e+=t.trim())}),e}function xCe(e,t){var n=[];if(OP(e,t,n,[]),n.length>0){var r=Sw(t,null,1);r+=`
# Orphaned comments:
`,n.forEach(function(i){r+=("# "+i.path.join("/")+": "+ICe(i.b,i.a,i.e)).replace(`
`,"\\n ")+`
`}),Sw(t,r,1)}}function N8(e,t,n,r){var i=bg(n?n[0]:void 0,n?n[1]:void 0,r);return i&&(e[t]=i),i}function Eg(e,t){var n=bg(t.b,t.a);return n.path=e,n}function wg(e,t,n){if(e){var r,i;if(e.a)for(r=0,i=e.a.length;r<i;r++){var s=n.slice().concat([r]),o=e.a[r];o&&(t.push(Eg(s,o)),wg(o.x,t,s))}else e.o&&e.o.forEach(function(a){var u=n.slice().concat([a]),l=e.s[a];l&&(t.push(Eg(u,l)),wg(l.x,t,u))});e.e&&t.push(Eg(n,e.e))}}function OP(e,t,n,r){if(e){if(t===null||typeof t!="object"){wg(e,n,r);return}var i,s=cp.createComment(t);if(r.length===0&&e.r&&(s.r=[e.r.b,e.r.a]),Object.prototype.toString.apply(t)==="[object Array]"){s.a=[];var o=e.a||{};for(var a in o)if(o.hasOwnProperty(a)){i=parseInt(a);var u=e.a[a];if(u){var l=r.slice().concat([i]);i<t.length?(s.a[i]=[u.b,u.a],OP(u.x,t[i],n,l)):(n.push(Eg(l,u)),wg(u.x,n,l))}}i===0&&e.e&&(s.e=[e.e.b,e.e.a])}else s.c={},s.o=[],(e.o||[]).forEach(function(c){var f=r.slice().concat([c]),d=e.s[c];Object.prototype.hasOwnProperty.call(t,c)?(s.o.push(c),d&&(s.c[c]=[d.b,d.a],OP(d.x,t[c],n,f))):d&&(n.push(Eg(f,d)),wg(d.x,n,f))}),e.e&&(s.e=[e.e.b,e.e.a])}}function Sw(e,t,n){var r=cp.createComment(e,cp.getComment(e));return r.r||(r.r=["",""]),(t||t==="")&&(r.r[n]=cp.forceComment(t)),r.r[n]||""}var CCe={extract:function(e){return AP(e,!0)},merge:xCe,header:function(e,t){return Sw(e,t,0)},footer:function(e,t){return Sw(e,t,1)}};/*!
 * Hjson v3.2.1
 * https://hjson.github.io
 *
 * Copyright 2014-2017 Christian Zangl, MIT license
 * Details and documentation:
 * https://github.com/hjson/hjson-js
 *
 * This code is based on the the JSON version by Douglas Crockford:
 * https://github.com/douglascrockford/JSON-js (json_parse.js, json2.js)
 */var k8=KS,ACe=vCe,D8=TCe,$8=SCe,OCe=CCe,PCe=vk,bk={parse:D8,stringify:$8,endOfLine:function(){return k8.EOL},setEndOfLine:function(e){(e===`
`||e===`\r
`)&&(k8.EOL=e)},version:ACe,rt:{parse:function(e,t){return(t=t||{}).keepWsc=!0,D8(e,t)},stringify:function(e,t){return(t=t||{}).keepWsc=!0,$8(e,t)}},comments:OCe,dsf:PCe.std},PP={exports:{}},kQ={},Lu={},Af={},E_={},Wt={},py={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends t{constructor(_){if(super(),!e.IDENTIFIER.test(_))throw new Error("CodeGen: name must be a valid identifier");this.str=_}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=n;class r extends t{constructor(_){super(),this._items=typeof _=="string"?[_]:_}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const _=this._items[0];return _===""||_==='""'}get str(){var _;return(_=this._str)!==null&&_!==void 0?_:this._str=this._items.reduce((b,T)=>`${b}${T}`,"")}get names(){var _;return(_=this._names)!==null&&_!==void 0?_:this._names=this._items.reduce((b,T)=>(T instanceof n&&(b[T.str]=(b[T.str]||0)+1),b),{})}}e._Code=r,e.nil=new r("");function i(g,..._){const b=[g[0]];let T=0;for(;T<_.length;)a(b,_[T]),b.push(g[++T]);return new r(b)}e._=i;const s=new r("+");function o(g,..._){const b=[h(g[0])];let T=0;for(;T<_.length;)b.push(s),a(b,_[T]),b.push(s,h(g[++T]));return u(b),new r(b)}e.str=o;function a(g,_){_ instanceof r?g.push(..._._items):_ instanceof n?g.push(_):g.push(f(_))}e.addCodeArg=a;function u(g){let _=1;for(;_<g.length-1;){if(g[_]===s){const b=l(g[_-1],g[_+1]);if(b!==void 0){g.splice(_-1,3,b);continue}g[_++]="+"}_++}}function l(g,_){if(_==='""')return g;if(g==='""')return _;if(typeof g=="string")return _ instanceof n||g[g.length-1]!=='"'?void 0:typeof _!="string"?`${g.slice(0,-1)}${_}"`:_[0]==='"'?g.slice(0,-1)+_.slice(1):void 0;if(typeof _=="string"&&_[0]==='"'&&!(g instanceof n))return`"${g}${_.slice(1)}`}function c(g,_){return _.emptyStr()?g:g.emptyStr()?_:o`${g}${_}`}e.strConcat=c;function f(g){return typeof g=="number"||typeof g=="boolean"||g===null?g:h(Array.isArray(g)?g.join(","):g)}function d(g){return new r(h(g))}e.stringify=d;function h(g){return JSON.stringify(g).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=h;function p(g){return typeof g=="string"&&e.IDENTIFIER.test(g)?new r(`.${g}`):i`[${g}]`}e.getProperty=p;function m(g){if(typeof g=="string"&&e.IDENTIFIER.test(g))return new r(`${g}`);throw new Error(`CodeGen: invalid export name: ${g}, use explicit $id name mapping`)}e.getEsmExportName=m;function y(g){return new r(g.toString())}e.regexpCode=y})(py);var RP={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=py;class n extends Error{constructor(l){super(`CodeGen: "code" for ${l} not defined`),this.value=l.value}}var r;(function(u){u[u.Started=0]="Started",u[u.Completed=1]="Completed"})(r=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class i{constructor({prefixes:l,parent:c}={}){this._names={},this._prefixes=l,this._parent=c}toName(l){return l instanceof t.Name?l:this.name(l)}name(l){return new t.Name(this._newName(l))}_newName(l){const c=this._names[l]||this._nameGroup(l);return`${l}${c.index++}`}_nameGroup(l){var c,f;if(!((f=(c=this._parent)===null||c===void 0?void 0:c._prefixes)===null||f===void 0)&&f.has(l)||this._prefixes&&!this._prefixes.has(l))throw new Error(`CodeGen: prefix "${l}" is not allowed in this scope`);return this._names[l]={prefix:l,index:0}}}e.Scope=i;class s extends t.Name{constructor(l,c){super(c),this.prefix=l}setValue(l,{property:c,itemIndex:f}){this.value=l,this.scopePath=(0,t._)`.${new t.Name(c)}[${f}]`}}e.ValueScopeName=s;const o=(0,t._)`\n`;class a extends i{constructor(l){super(l),this._values={},this._scope=l.scope,this.opts={...l,_n:l.lines?o:t.nil}}get(){return this._scope}name(l){return new s(l,this._newName(l))}value(l,c){var f;if(c.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const d=this.toName(l),{prefix:h}=d,p=(f=c.key)!==null&&f!==void 0?f:c.ref;let m=this._values[h];if(m){const _=m.get(p);if(_)return _}else m=this._values[h]=new Map;m.set(p,d);const y=this._scope[h]||(this._scope[h]=[]),g=y.length;return y[g]=c.ref,d.setValue(c,{property:h,itemIndex:g}),d}getValue(l,c){const f=this._values[l];if(f)return f.get(c)}scopeRefs(l,c=this._values){return this._reduceValues(c,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,t._)`${l}${f.scopePath}`})}scopeCode(l=this._values,c,f){return this._reduceValues(l,d=>{if(d.value===void 0)throw new Error(`CodeGen: name "${d}" has no value`);return d.value.code},c,f)}_reduceValues(l,c,f={},d){let h=t.nil;for(const p in l){const m=l[p];if(!m)continue;const y=f[p]=f[p]||new Map;m.forEach(g=>{if(y.has(g))return;y.set(g,r.Started);let _=c(g);if(_){const b=this.opts.es5?e.varKinds.var:e.varKinds.const;h=(0,t._)`${h}${b} ${g} = ${_};${this.opts._n}`}else if(_=d==null?void 0:d(g))h=(0,t._)`${h}${_}${this.opts._n}`;else throw new n(g);y.set(g,r.Completed)})}return h}}e.ValueScope=a})(RP);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=py,n=RP;var r=py;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return r.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return r.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return r.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}});var i=RP;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class s{optimizeNodes(){return this}optimizeNames(P,O){return this}}class o extends s{constructor(P,O,G){super(),this.varKind=P,this.name=O,this.rhs=G}render({es5:P,_n:O}){const G=P?n.varKinds.var:this.varKind,de=this.rhs===void 0?"":` = ${this.rhs}`;return`${G} ${this.name}${de};`+O}optimizeNames(P,O){if(P[this.name.str])return this.rhs&&(this.rhs=V(this.rhs,P,O)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class a extends s{constructor(P,O,G){super(),this.lhs=P,this.rhs=O,this.sideEffects=G}render({_n:P}){return`${this.lhs} = ${this.rhs};`+P}optimizeNames(P,O){if(!(this.lhs instanceof t.Name&&!P[this.lhs.str]&&!this.sideEffects))return this.rhs=V(this.rhs,P,O),this}get names(){const P=this.lhs instanceof t.Name?{}:{...this.lhs.names};return Z(P,this.rhs)}}class u extends a{constructor(P,O,G,de){super(P,G,de),this.op=O}render({_n:P}){return`${this.lhs} ${this.op}= ${this.rhs};`+P}}class l extends s{constructor(P){super(),this.label=P,this.names={}}render({_n:P}){return`${this.label}:`+P}}class c extends s{constructor(P){super(),this.label=P,this.names={}}render({_n:P}){return`break${this.label?` ${this.label}`:""};`+P}}class f extends s{constructor(P){super(),this.error=P}render({_n:P}){return`throw ${this.error};`+P}get names(){return this.error.names}}class d extends s{constructor(P){super(),this.code=P}render({_n:P}){return`${this.code};`+P}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(P,O){return this.code=V(this.code,P,O),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class h extends s{constructor(P=[]){super(),this.nodes=P}render(P){return this.nodes.reduce((O,G)=>O+G.render(P),"")}optimizeNodes(){const{nodes:P}=this;let O=P.length;for(;O--;){const G=P[O].optimizeNodes();Array.isArray(G)?P.splice(O,1,...G):G?P[O]=G:P.splice(O,1)}return P.length>0?this:void 0}optimizeNames(P,O){const{nodes:G}=this;let de=G.length;for(;de--;){const fe=G[de];fe.optimizeNames(P,O)||(le(P,fe.names),G.splice(de,1))}return G.length>0?this:void 0}get names(){return this.nodes.reduce((P,O)=>U(P,O.names),{})}}class p extends h{render(P){return"{"+P._n+super.render(P)+"}"+P._n}}class m extends h{}class y extends p{}y.kind="else";class g extends p{constructor(P,O){super(O),this.condition=P}render(P){let O=`if(${this.condition})`+super.render(P);return this.else&&(O+="else "+this.else.render(P)),O}optimizeNodes(){super.optimizeNodes();const P=this.condition;if(P===!0)return this.nodes;let O=this.else;if(O){const G=O.optimizeNodes();O=this.else=Array.isArray(G)?new y(G):G}if(O)return P===!1?O instanceof g?O:O.nodes:this.nodes.length?this:new g(oe(P),O instanceof g?[O]:O.nodes);if(!(P===!1||!this.nodes.length))return this}optimizeNames(P,O){var G;if(this.else=(G=this.else)===null||G===void 0?void 0:G.optimizeNames(P,O),!!(super.optimizeNames(P,O)||this.else))return this.condition=V(this.condition,P,O),this}get names(){const P=super.names;return Z(P,this.condition),this.else&&U(P,this.else.names),P}}g.kind="if";class _ extends p{}_.kind="for";class b extends _{constructor(P){super(),this.iteration=P}render(P){return`for(${this.iteration})`+super.render(P)}optimizeNames(P,O){if(super.optimizeNames(P,O))return this.iteration=V(this.iteration,P,O),this}get names(){return U(super.names,this.iteration.names)}}class T extends _{constructor(P,O,G,de){super(),this.varKind=P,this.name=O,this.from=G,this.to=de}render(P){const O=P.es5?n.varKinds.var:this.varKind,{name:G,from:de,to:fe}=this;return`for(${O} ${G}=${de}; ${G}<${fe}; ${G}++)`+super.render(P)}get names(){const P=Z(super.names,this.from);return Z(P,this.to)}}class I extends _{constructor(P,O,G,de){super(),this.loop=P,this.varKind=O,this.name=G,this.iterable=de}render(P){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(P)}optimizeNames(P,O){if(super.optimizeNames(P,O))return this.iterable=V(this.iterable,P,O),this}get names(){return U(super.names,this.iterable.names)}}class E extends p{constructor(P,O,G){super(),this.name=P,this.args=O,this.async=G}render(P){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(P)}}E.kind="func";class S extends h{render(P){return"return "+super.render(P)}}S.kind="return";class A extends p{render(P){let O="try"+super.render(P);return this.catch&&(O+=this.catch.render(P)),this.finally&&(O+=this.finally.render(P)),O}optimizeNodes(){var P,O;return super.optimizeNodes(),(P=this.catch)===null||P===void 0||P.optimizeNodes(),(O=this.finally)===null||O===void 0||O.optimizeNodes(),this}optimizeNames(P,O){var G,de;return super.optimizeNames(P,O),(G=this.catch)===null||G===void 0||G.optimizeNames(P,O),(de=this.finally)===null||de===void 0||de.optimizeNames(P,O),this}get names(){const P=super.names;return this.catch&&U(P,this.catch.names),this.finally&&U(P,this.finally.names),P}}class L extends p{constructor(P){super(),this.error=P}render(P){return`catch(${this.error})`+super.render(P)}}L.kind="catch";class Y extends p{render(P){return"finally"+super.render(P)}}Y.kind="finally";class z{constructor(P,O={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...O,_n:O.lines?`
`:""},this._extScope=P,this._scope=new n.Scope({parent:P}),this._nodes=[new m]}toString(){return this._root.render(this.opts)}name(P){return this._scope.name(P)}scopeName(P){return this._extScope.name(P)}scopeValue(P,O){const G=this._extScope.value(P,O);return(this._values[G.prefix]||(this._values[G.prefix]=new Set)).add(G),G}getScopeValue(P,O){return this._extScope.getValue(P,O)}scopeRefs(P){return this._extScope.scopeRefs(P,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(P,O,G,de){const fe=this._scope.toName(O);return G!==void 0&&de&&(this._constants[fe.str]=G),this._leafNode(new o(P,fe,G)),fe}const(P,O,G){return this._def(n.varKinds.const,P,O,G)}let(P,O,G){return this._def(n.varKinds.let,P,O,G)}var(P,O,G){return this._def(n.varKinds.var,P,O,G)}assign(P,O,G){return this._leafNode(new a(P,O,G))}add(P,O){return this._leafNode(new u(P,e.operators.ADD,O))}code(P){return typeof P=="function"?P():P!==t.nil&&this._leafNode(new d(P)),this}object(...P){const O=["{"];for(const[G,de]of P)O.length>1&&O.push(","),O.push(G),(G!==de||this.opts.es5)&&(O.push(":"),(0,t.addCodeArg)(O,de));return O.push("}"),new t._Code(O)}if(P,O,G){if(this._blockNode(new g(P)),O&&G)this.code(O).else().code(G).endIf();else if(O)this.code(O).endIf();else if(G)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(P){return this._elseNode(new g(P))}else(){return this._elseNode(new y)}endIf(){return this._endBlockNode(g,y)}_for(P,O){return this._blockNode(P),O&&this.code(O).endFor(),this}for(P,O){return this._for(new b(P),O)}forRange(P,O,G,de,fe=this.opts.es5?n.varKinds.var:n.varKinds.let){const ye=this._scope.toName(P);return this._for(new T(fe,ye,O,G),()=>de(ye))}forOf(P,O,G,de=n.varKinds.const){const fe=this._scope.toName(P);if(this.opts.es5){const ye=O instanceof t.Name?O:this.var("_arr",O);return this.forRange("_i",0,(0,t._)`${ye}.length`,me=>{this.var(fe,(0,t._)`${ye}[${me}]`),G(fe)})}return this._for(new I("of",de,fe,O),()=>G(fe))}forIn(P,O,G,de=this.opts.es5?n.varKinds.var:n.varKinds.const){if(this.opts.ownProperties)return this.forOf(P,(0,t._)`Object.keys(${O})`,G);const fe=this._scope.toName(P);return this._for(new I("in",de,fe,O),()=>G(fe))}endFor(){return this._endBlockNode(_)}label(P){return this._leafNode(new l(P))}break(P){return this._leafNode(new c(P))}return(P){const O=new S;if(this._blockNode(O),this.code(P),O.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(S)}try(P,O,G){if(!O&&!G)throw new Error('CodeGen: "try" without "catch" and "finally"');const de=new A;if(this._blockNode(de),this.code(P),O){const fe=this.name("e");this._currNode=de.catch=new L(fe),O(fe)}return G&&(this._currNode=de.finally=new Y,this.code(G)),this._endBlockNode(L,Y)}throw(P){return this._leafNode(new f(P))}block(P,O){return this._blockStarts.push(this._nodes.length),P&&this.code(P).endBlock(O),this}endBlock(P){const O=this._blockStarts.pop();if(O===void 0)throw new Error("CodeGen: not in self-balancing block");const G=this._nodes.length-O;if(G<0||P!==void 0&&G!==P)throw new Error(`CodeGen: wrong number of nodes: ${G} vs ${P} expected`);return this._nodes.length=O,this}func(P,O=t.nil,G,de){return this._blockNode(new E(P,O,G)),de&&this.code(de).endFunc(),this}endFunc(){return this._endBlockNode(E)}optimize(P=1){for(;P-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(P){return this._currNode.nodes.push(P),this}_blockNode(P){this._currNode.nodes.push(P),this._nodes.push(P)}_endBlockNode(P,O){const G=this._currNode;if(G instanceof P||O&&G instanceof O)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${O?`${P.kind}/${O.kind}`:P.kind}"`)}_elseNode(P){const O=this._currNode;if(!(O instanceof g))throw new Error('CodeGen: "else" without "if"');return this._currNode=O.else=P,this}get _root(){return this._nodes[0]}get _currNode(){const P=this._nodes;return P[P.length-1]}set _currNode(P){const O=this._nodes;O[O.length-1]=P}}e.CodeGen=z;function U(j,P){for(const O in P)j[O]=(j[O]||0)+(P[O]||0);return j}function Z(j,P){return P instanceof t._CodeOrName?U(j,P.names):j}function V(j,P,O){if(j instanceof t.Name)return G(j);if(!de(j))return j;return new t._Code(j._items.reduce((fe,ye)=>(ye instanceof t.Name&&(ye=G(ye)),ye instanceof t._Code?fe.push(...ye._items):fe.push(ye),fe),[]));function G(fe){const ye=O[fe.str];return ye===void 0||P[fe.str]!==1?fe:(delete P[fe.str],ye)}function de(fe){return fe instanceof t._Code&&fe._items.some(ye=>ye instanceof t.Name&&P[ye.str]===1&&O[ye.str]!==void 0)}}function le(j,P){for(const O in P)j[O]=(j[O]||0)-(P[O]||0)}function oe(j){return typeof j=="boolean"||typeof j=="number"||j===null?!j:(0,t._)`!${C(j)}`}e.not=oe;const ve=x(e.operators.AND);function re(...j){return j.reduce(ve)}e.and=re;const ue=x(e.operators.OR);function te(...j){return j.reduce(ue)}e.or=te;function x(j){return(P,O)=>P===t.nil?O:O===t.nil?P:(0,t._)`${C(P)} ${j} ${C(O)}`}function C(j){return j instanceof t.Name?j:(0,t._)`(${j})`}})(Wt);var hn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;const t=Wt,n=py;function r(E){const S={};for(const A of E)S[A]=!0;return S}e.toHash=r;function i(E,S){return typeof S=="boolean"?S:Object.keys(S).length===0?!0:(s(E,S),!o(S,E.self.RULES.all))}e.alwaysValidSchema=i;function s(E,S=E.schema){const{opts:A,self:L}=E;if(!A.strictSchema||typeof S=="boolean")return;const Y=L.RULES.keywords;for(const z in S)Y[z]||I(E,`unknown keyword: "${z}"`)}e.checkUnknownRules=s;function o(E,S){if(typeof E=="boolean")return!E;for(const A in E)if(S[A])return!0;return!1}e.schemaHasRules=o;function a(E,S){if(typeof E=="boolean")return!E;for(const A in E)if(A!=="$ref"&&S.all[A])return!0;return!1}e.schemaHasRulesButRef=a;function u({topSchemaRef:E,schemaPath:S},A,L,Y){if(!Y){if(typeof A=="number"||typeof A=="boolean")return A;if(typeof A=="string")return(0,t._)`${A}`}return(0,t._)`${E}${S}${(0,t.getProperty)(L)}`}e.schemaRefOrVal=u;function l(E){return d(decodeURIComponent(E))}e.unescapeFragment=l;function c(E){return encodeURIComponent(f(E))}e.escapeFragment=c;function f(E){return typeof E=="number"?`${E}`:E.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=f;function d(E){return E.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=d;function h(E,S){if(Array.isArray(E))for(const A of E)S(A);else S(E)}e.eachItem=h;function p({mergeNames:E,mergeToName:S,mergeValues:A,resultToName:L}){return(Y,z,U,Z)=>{const V=U===void 0?z:U instanceof t.Name?(z instanceof t.Name?E(Y,z,U):S(Y,z,U),U):z instanceof t.Name?(S(Y,U,z),z):A(z,U);return Z===t.Name&&!(V instanceof t.Name)?L(Y,V):V}}e.mergeEvaluated={props:p({mergeNames:(E,S,A)=>E.if((0,t._)`${A} !== true && ${S} !== undefined`,()=>{E.if((0,t._)`${S} === true`,()=>E.assign(A,!0),()=>E.assign(A,(0,t._)`${A} || {}`).code((0,t._)`Object.assign(${A}, ${S})`))}),mergeToName:(E,S,A)=>E.if((0,t._)`${A} !== true`,()=>{S===!0?E.assign(A,!0):(E.assign(A,(0,t._)`${A} || {}`),y(E,A,S))}),mergeValues:(E,S)=>E===!0?!0:{...E,...S},resultToName:m}),items:p({mergeNames:(E,S,A)=>E.if((0,t._)`${A} !== true && ${S} !== undefined`,()=>E.assign(A,(0,t._)`${S} === true ? true : ${A} > ${S} ? ${A} : ${S}`)),mergeToName:(E,S,A)=>E.if((0,t._)`${A} !== true`,()=>E.assign(A,S===!0?!0:(0,t._)`${A} > ${S} ? ${A} : ${S}`)),mergeValues:(E,S)=>E===!0?!0:Math.max(E,S),resultToName:(E,S)=>E.var("items",S)})};function m(E,S){if(S===!0)return E.var("props",!0);const A=E.var("props",(0,t._)`{}`);return S!==void 0&&y(E,A,S),A}e.evaluatedPropsToName=m;function y(E,S,A){Object.keys(A).forEach(L=>E.assign((0,t._)`${S}${(0,t.getProperty)(L)}`,!0))}e.setEvaluated=y;const g={};function _(E,S){return E.scopeValue("func",{ref:S,code:g[S.code]||(g[S.code]=new n._Code(S.code))})}e.useFunc=_;var b;(function(E){E[E.Num=0]="Num",E[E.Str=1]="Str"})(b=e.Type||(e.Type={}));function T(E,S,A){if(E instanceof t.Name){const L=S===b.Num;return A?L?(0,t._)`"[" + ${E} + "]"`:(0,t._)`"['" + ${E} + "']"`:L?(0,t._)`"/" + ${E}`:(0,t._)`"/" + ${E}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return A?(0,t.getProperty)(E).toString():"/"+f(E)}e.getErrorPath=T;function I(E,S,A=E.opts.strictSchema){if(A){if(S=`strict mode: ${S}`,A===!0)throw new Error(S);E.self.logger.warn(S)}}e.checkStrictMode=I})(hn);var Ru={};Object.defineProperty(Ru,"__esModule",{value:!0});const Fi=Wt,RCe={data:new Fi.Name("data"),valCxt:new Fi.Name("valCxt"),instancePath:new Fi.Name("instancePath"),parentData:new Fi.Name("parentData"),parentDataProperty:new Fi.Name("parentDataProperty"),rootData:new Fi.Name("rootData"),dynamicAnchors:new Fi.Name("dynamicAnchors"),vErrors:new Fi.Name("vErrors"),errors:new Fi.Name("errors"),this:new Fi.Name("this"),self:new Fi.Name("self"),scope:new Fi.Name("scope"),json:new Fi.Name("json"),jsonPos:new Fi.Name("jsonPos"),jsonLen:new Fi.Name("jsonLen"),jsonPart:new Fi.Name("jsonPart")};Ru.default=RCe;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=Wt,n=hn,r=Ru;e.keywordError={message:({keyword:y})=>(0,t.str)`must pass "${y}" keyword validation`},e.keyword$DataError={message:({keyword:y,schemaType:g})=>g?(0,t.str)`"${y}" keyword must be ${g} ($data)`:(0,t.str)`"${y}" keyword is invalid ($data)`};function i(y,g=e.keywordError,_,b){const{it:T}=y,{gen:I,compositeRule:E,allErrors:S}=T,A=f(y,g,_);b??(E||S)?u(I,A):l(T,(0,t._)`[${A}]`)}e.reportError=i;function s(y,g=e.keywordError,_){const{it:b}=y,{gen:T,compositeRule:I,allErrors:E}=b,S=f(y,g,_);u(T,S),I||E||l(b,r.default.vErrors)}e.reportExtraError=s;function o(y,g){y.assign(r.default.errors,g),y.if((0,t._)`${r.default.vErrors} !== null`,()=>y.if(g,()=>y.assign((0,t._)`${r.default.vErrors}.length`,g),()=>y.assign(r.default.vErrors,null)))}e.resetErrorsCount=o;function a({gen:y,keyword:g,schemaValue:_,data:b,errsCount:T,it:I}){if(T===void 0)throw new Error("ajv implementation error");const E=y.name("err");y.forRange("i",T,r.default.errors,S=>{y.const(E,(0,t._)`${r.default.vErrors}[${S}]`),y.if((0,t._)`${E}.instancePath === undefined`,()=>y.assign((0,t._)`${E}.instancePath`,(0,t.strConcat)(r.default.instancePath,I.errorPath))),y.assign((0,t._)`${E}.schemaPath`,(0,t.str)`${I.errSchemaPath}/${g}`),I.opts.verbose&&(y.assign((0,t._)`${E}.schema`,_),y.assign((0,t._)`${E}.data`,b))})}e.extendErrors=a;function u(y,g){const _=y.const("err",g);y.if((0,t._)`${r.default.vErrors} === null`,()=>y.assign(r.default.vErrors,(0,t._)`[${_}]`),(0,t._)`${r.default.vErrors}.push(${_})`),y.code((0,t._)`${r.default.errors}++`)}function l(y,g){const{gen:_,validateName:b,schemaEnv:T}=y;T.$async?_.throw((0,t._)`new ${y.ValidationError}(${g})`):(_.assign((0,t._)`${b}.errors`,g),_.return(!1))}const c={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function f(y,g,_){const{createErrors:b}=y.it;return b===!1?(0,t._)`{}`:d(y,g,_)}function d(y,g,_={}){const{gen:b,it:T}=y,I=[h(T,_),p(y,_)];return m(y,g,I),b.object(...I)}function h({errorPath:y},{instancePath:g}){const _=g?(0,t.str)`${y}${(0,n.getErrorPath)(g,n.Type.Str)}`:y;return[r.default.instancePath,(0,t.strConcat)(r.default.instancePath,_)]}function p({keyword:y,it:{errSchemaPath:g}},{schemaPath:_,parentSchema:b}){let T=b?g:(0,t.str)`${g}/${y}`;return _&&(T=(0,t.str)`${T}${(0,n.getErrorPath)(_,n.Type.Str)}`),[c.schemaPath,T]}function m(y,{params:g,message:_},b){const{keyword:T,data:I,schemaValue:E,it:S}=y,{opts:A,propertyName:L,topSchemaRef:Y,schemaPath:z}=S;b.push([c.keyword,T],[c.params,typeof g=="function"?g(y):g||(0,t._)`{}`]),A.messages&&b.push([c.message,typeof _=="function"?_(y):_]),A.verbose&&b.push([c.schema,E],[c.parentSchema,(0,t._)`${Y}${z}`],[r.default.data,I]),L&&b.push([c.propertyName,L])}})(E_);var L8;function NCe(){if(L8)return Af;L8=1,Object.defineProperty(Af,"__esModule",{value:!0}),Af.boolOrEmptySchema=Af.topBoolOrEmptySchema=void 0;const e=E_,t=Wt,n=Ru,r={message:"boolean schema is false"};function i(a){const{gen:u,schema:l,validateName:c}=a;l===!1?o(a,!1):typeof l=="object"&&l.$async===!0?u.return(n.default.data):(u.assign((0,t._)`${c}.errors`,null),u.return(!0))}Af.topBoolOrEmptySchema=i;function s(a,u){const{gen:l,schema:c}=a;c===!1?(l.var(u,!1),o(a)):l.var(u,!0)}Af.boolOrEmptySchema=s;function o(a,u){const{gen:l,data:c}=a,f={gen:l,keyword:"false schema",data:c,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:a};(0,e.reportError)(f,r,void 0,u)}return Af}var my={},Od={};Object.defineProperty(Od,"__esModule",{value:!0});Od.getRules=Od.isJSONType=void 0;const kCe=["string","number","integer","boolean","null","object","array"],DCe=new Set(kCe);function $Ce(e){return typeof e=="string"&&DCe.has(e)}Od.isJSONType=$Ce;function LCe(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}Od.getRules=LCe;var cl={};Object.defineProperty(cl,"__esModule",{value:!0});cl.shouldUseRule=cl.shouldUseGroup=cl.schemaHasRulesForType=void 0;function MCe({schema:e,self:t},n){const r=t.RULES.types[n];return r&&r!==!0&&DQ(e,r)}cl.schemaHasRulesForType=MCe;function DQ(e,t){return t.rules.some(n=>$Q(e,n))}cl.shouldUseGroup=DQ;function $Q(e,t){var n;return e[t.keyword]!==void 0||((n=t.definition.implements)===null||n===void 0?void 0:n.some(r=>e[r]!==void 0))}cl.shouldUseRule=$Q;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;const t=Od,n=cl,r=E_,i=Wt,s=hn;var o;(function(b){b[b.Correct=0]="Correct",b[b.Wrong=1]="Wrong"})(o=e.DataType||(e.DataType={}));function a(b){const T=u(b.type);if(T.includes("null")){if(b.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!T.length&&b.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');b.nullable===!0&&T.push("null")}return T}e.getSchemaTypes=a;function u(b){const T=Array.isArray(b)?b:b?[b]:[];if(T.every(t.isJSONType))return T;throw new Error("type must be JSONType or JSONType[]: "+T.join(","))}e.getJSONTypes=u;function l(b,T){const{gen:I,data:E,opts:S}=b,A=f(T,S.coerceTypes),L=T.length>0&&!(A.length===0&&T.length===1&&(0,n.schemaHasRulesForType)(b,T[0]));if(L){const Y=m(T,E,S.strictNumbers,o.Wrong);I.if(Y,()=>{A.length?d(b,T,A):g(b)})}return L}e.coerceAndCheckDataType=l;const c=new Set(["string","number","integer","boolean","null"]);function f(b,T){return T?b.filter(I=>c.has(I)||T==="array"&&I==="array"):[]}function d(b,T,I){const{gen:E,data:S,opts:A}=b,L=E.let("dataType",(0,i._)`typeof ${S}`),Y=E.let("coerced",(0,i._)`undefined`);A.coerceTypes==="array"&&E.if((0,i._)`${L} == 'object' && Array.isArray(${S}) && ${S}.length == 1`,()=>E.assign(S,(0,i._)`${S}[0]`).assign(L,(0,i._)`typeof ${S}`).if(m(T,S,A.strictNumbers),()=>E.assign(Y,S))),E.if((0,i._)`${Y} !== undefined`);for(const U of I)(c.has(U)||U==="array"&&A.coerceTypes==="array")&&z(U);E.else(),g(b),E.endIf(),E.if((0,i._)`${Y} !== undefined`,()=>{E.assign(S,Y),h(b,Y)});function z(U){switch(U){case"string":E.elseIf((0,i._)`${L} == "number" || ${L} == "boolean"`).assign(Y,(0,i._)`"" + ${S}`).elseIf((0,i._)`${S} === null`).assign(Y,(0,i._)`""`);return;case"number":E.elseIf((0,i._)`${L} == "boolean" || ${S} === null
              || (${L} == "string" && ${S} && ${S} == +${S})`).assign(Y,(0,i._)`+${S}`);return;case"integer":E.elseIf((0,i._)`${L} === "boolean" || ${S} === null
              || (${L} === "string" && ${S} && ${S} == +${S} && !(${S} % 1))`).assign(Y,(0,i._)`+${S}`);return;case"boolean":E.elseIf((0,i._)`${S} === "false" || ${S} === 0 || ${S} === null`).assign(Y,!1).elseIf((0,i._)`${S} === "true" || ${S} === 1`).assign(Y,!0);return;case"null":E.elseIf((0,i._)`${S} === "" || ${S} === 0 || ${S} === false`),E.assign(Y,null);return;case"array":E.elseIf((0,i._)`${L} === "string" || ${L} === "number"
              || ${L} === "boolean" || ${S} === null`).assign(Y,(0,i._)`[${S}]`)}}}function h({gen:b,parentData:T,parentDataProperty:I},E){b.if((0,i._)`${T} !== undefined`,()=>b.assign((0,i._)`${T}[${I}]`,E))}function p(b,T,I,E=o.Correct){const S=E===o.Correct?i.operators.EQ:i.operators.NEQ;let A;switch(b){case"null":return(0,i._)`${T} ${S} null`;case"array":A=(0,i._)`Array.isArray(${T})`;break;case"object":A=(0,i._)`${T} && typeof ${T} == "object" && !Array.isArray(${T})`;break;case"integer":A=L((0,i._)`!(${T} % 1) && !isNaN(${T})`);break;case"number":A=L();break;default:return(0,i._)`typeof ${T} ${S} ${b}`}return E===o.Correct?A:(0,i.not)(A);function L(Y=i.nil){return(0,i.and)((0,i._)`typeof ${T} == "number"`,Y,I?(0,i._)`isFinite(${T})`:i.nil)}}e.checkDataType=p;function m(b,T,I,E){if(b.length===1)return p(b[0],T,I,E);let S;const A=(0,s.toHash)(b);if(A.array&&A.object){const L=(0,i._)`typeof ${T} != "object"`;S=A.null?L:(0,i._)`!${T} || ${L}`,delete A.null,delete A.array,delete A.object}else S=i.nil;A.number&&delete A.integer;for(const L in A)S=(0,i.and)(S,p(L,T,I,E));return S}e.checkDataTypes=m;const y={message:({schema:b})=>`must be ${b}`,params:({schema:b,schemaValue:T})=>typeof b=="string"?(0,i._)`{type: ${b}}`:(0,i._)`{type: ${T}}`};function g(b){const T=_(b);(0,r.reportError)(T,y)}e.reportTypeError=g;function _(b){const{gen:T,data:I,schema:E}=b,S=(0,s.schemaRefOrVal)(b,E,"type");return{gen:T,keyword:"type",data:I,schema:E.type,schemaCode:S,schemaValue:S,parentSchema:E,params:{},it:b}}})(my);var w0={},M8;function FCe(){if(M8)return w0;M8=1,Object.defineProperty(w0,"__esModule",{value:!0}),w0.assignDefaults=void 0;const e=Wt,t=hn;function n(i,s){const{properties:o,items:a}=i.schema;if(s==="object"&&o)for(const u in o)r(i,u,o[u].default);else s==="array"&&Array.isArray(a)&&a.forEach((u,l)=>r(i,l,u.default))}w0.assignDefaults=n;function r(i,s,o){const{gen:a,compositeRule:u,data:l,opts:c}=i;if(o===void 0)return;const f=(0,e._)`${l}${(0,e.getProperty)(s)}`;if(u){(0,t.checkStrictMode)(i,`default is ignored for: ${f}`);return}let d=(0,e._)`${f} === undefined`;c.useDefaults==="empty"&&(d=(0,e._)`${d} || ${f} === null || ${f} === ""`),a.if(d,(0,e._)`${f} = ${(0,e.stringify)(o)}`)}return w0}var ta={},qt={};Object.defineProperty(qt,"__esModule",{value:!0});qt.validateUnion=qt.validateArray=qt.usePattern=qt.callValidateCode=qt.schemaProperties=qt.allSchemaProperties=qt.noPropertyInData=qt.propertyInData=qt.isOwnProperty=qt.hasPropFunc=qt.reportMissingProp=qt.checkMissingProp=qt.checkReportMissingProp=void 0;const Kn=Wt,Ek=hn,Gl=Ru,BCe=hn;function jCe(e,t){const{gen:n,data:r,it:i}=e;n.if(Tk(n,r,t,i.opts.ownProperties),()=>{e.setParams({missingProperty:(0,Kn._)`${t}`},!0),e.error()})}qt.checkReportMissingProp=jCe;function UCe({gen:e,data:t,it:{opts:n}},r,i){return(0,Kn.or)(...r.map(s=>(0,Kn.and)(Tk(e,t,s,n.ownProperties),(0,Kn._)`${i} = ${s}`)))}qt.checkMissingProp=UCe;function VCe(e,t){e.setParams({missingProperty:t},!0),e.error()}qt.reportMissingProp=VCe;function LQ(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,Kn._)`Object.prototype.hasOwnProperty`})}qt.hasPropFunc=LQ;function wk(e,t,n){return(0,Kn._)`${LQ(e)}.call(${t}, ${n})`}qt.isOwnProperty=wk;function zCe(e,t,n,r){const i=(0,Kn._)`${t}${(0,Kn.getProperty)(n)} !== undefined`;return r?(0,Kn._)`${i} && ${wk(e,t,n)}`:i}qt.propertyInData=zCe;function Tk(e,t,n,r){const i=(0,Kn._)`${t}${(0,Kn.getProperty)(n)} === undefined`;return r?(0,Kn.or)(i,(0,Kn.not)(wk(e,t,n))):i}qt.noPropertyInData=Tk;function MQ(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}qt.allSchemaProperties=MQ;function HCe(e,t){return MQ(t).filter(n=>!(0,Ek.alwaysValidSchema)(e,t[n]))}qt.schemaProperties=HCe;function qCe({schemaCode:e,data:t,it:{gen:n,topSchemaRef:r,schemaPath:i,errorPath:s},it:o},a,u,l){const c=l?(0,Kn._)`${e}, ${t}, ${r}${i}`:t,f=[[Gl.default.instancePath,(0,Kn.strConcat)(Gl.default.instancePath,s)],[Gl.default.parentData,o.parentData],[Gl.default.parentDataProperty,o.parentDataProperty],[Gl.default.rootData,Gl.default.rootData]];o.opts.dynamicRef&&f.push([Gl.default.dynamicAnchors,Gl.default.dynamicAnchors]);const d=(0,Kn._)`${c}, ${n.object(...f)}`;return u!==Kn.nil?(0,Kn._)`${a}.call(${u}, ${d})`:(0,Kn._)`${a}(${d})`}qt.callValidateCode=qCe;const WCe=(0,Kn._)`new RegExp`;function YCe({gen:e,it:{opts:t}},n){const r=t.unicodeRegExp?"u":"",{regExp:i}=t.code,s=i(n,r);return e.scopeValue("pattern",{key:s.toString(),ref:s,code:(0,Kn._)`${i.code==="new RegExp"?WCe:(0,BCe.useFunc)(e,i)}(${n}, ${r})`})}qt.usePattern=YCe;function GCe(e){const{gen:t,data:n,keyword:r,it:i}=e,s=t.name("valid");if(i.allErrors){const a=t.let("valid",!0);return o(()=>t.assign(a,!1)),a}return t.var(s,!0),o(()=>t.break()),s;function o(a){const u=t.const("len",(0,Kn._)`${n}.length`);t.forRange("i",0,u,l=>{e.subschema({keyword:r,dataProp:l,dataPropType:Ek.Type.Num},s),t.if((0,Kn.not)(s),a)})}}qt.validateArray=GCe;function KCe(e){const{gen:t,schema:n,keyword:r,it:i}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(n.some(u=>(0,Ek.alwaysValidSchema)(i,u))&&!i.opts.unevaluated)return;const o=t.let("valid",!1),a=t.name("_valid");t.block(()=>n.forEach((u,l)=>{const c=e.subschema({keyword:r,schemaProp:l,compositeRule:!0},a);t.assign(o,(0,Kn._)`${o} || ${a}`),e.mergeValidEvaluated(c,a)||t.if((0,Kn.not)(o))})),e.result(o,()=>e.reset(),()=>e.error(!0))}qt.validateUnion=KCe;var F8;function QCe(){if(F8)return ta;F8=1,Object.defineProperty(ta,"__esModule",{value:!0}),ta.validateKeywordUsage=ta.validSchemaType=ta.funcKeywordCode=ta.macroKeywordCode=void 0;const e=Wt,t=Ru,n=qt,r=E_;function i(d,h){const{gen:p,keyword:m,schema:y,parentSchema:g,it:_}=d,b=h.macro.call(_.self,y,g,_),T=l(p,m,b);_.opts.validateSchema!==!1&&_.self.validateSchema(b,!0);const I=p.name("valid");d.subschema({schema:b,schemaPath:e.nil,errSchemaPath:`${_.errSchemaPath}/${m}`,topSchemaRef:T,compositeRule:!0},I),d.pass(I,()=>d.error(!0))}ta.macroKeywordCode=i;function s(d,h){var p;const{gen:m,keyword:y,schema:g,parentSchema:_,$data:b,it:T}=d;u(T,h);const I=!b&&h.compile?h.compile.call(T.self,g,_,T):h.validate,E=l(m,y,I),S=m.let("valid");d.block$data(S,A),d.ok((p=h.valid)!==null&&p!==void 0?p:S);function A(){if(h.errors===!1)z(),h.modifying&&o(d),U(()=>d.error());else{const Z=h.async?L():Y();h.modifying&&o(d),U(()=>a(d,Z))}}function L(){const Z=m.let("ruleErrs",null);return m.try(()=>z((0,e._)`await `),V=>m.assign(S,!1).if((0,e._)`${V} instanceof ${T.ValidationError}`,()=>m.assign(Z,(0,e._)`${V}.errors`),()=>m.throw(V))),Z}function Y(){const Z=(0,e._)`${E}.errors`;return m.assign(Z,null),z(e.nil),Z}function z(Z=h.async?(0,e._)`await `:e.nil){const V=T.opts.passContext?t.default.this:t.default.self,le=!("compile"in h&&!b||h.schema===!1);m.assign(S,(0,e._)`${Z}${(0,n.callValidateCode)(d,E,V,le)}`,h.modifying)}function U(Z){var V;m.if((0,e.not)((V=h.valid)!==null&&V!==void 0?V:S),Z)}}ta.funcKeywordCode=s;function o(d){const{gen:h,data:p,it:m}=d;h.if(m.parentData,()=>h.assign(p,(0,e._)`${m.parentData}[${m.parentDataProperty}]`))}function a(d,h){const{gen:p}=d;p.if((0,e._)`Array.isArray(${h})`,()=>{p.assign(t.default.vErrors,(0,e._)`${t.default.vErrors} === null ? ${h} : ${t.default.vErrors}.concat(${h})`).assign(t.default.errors,(0,e._)`${t.default.vErrors}.length`),(0,r.extendErrors)(d)},()=>d.error())}function u({schemaEnv:d},h){if(h.async&&!d.$async)throw new Error("async keyword in sync schema")}function l(d,h,p){if(p===void 0)throw new Error(`keyword "${h}" failed to compile`);return d.scopeValue("keyword",typeof p=="function"?{ref:p}:{ref:p,code:(0,e.stringify)(p)})}function c(d,h,p=!1){return!h.length||h.some(m=>m==="array"?Array.isArray(d):m==="object"?d&&typeof d=="object"&&!Array.isArray(d):typeof d==m||p&&typeof d>"u")}ta.validSchemaType=c;function f({schema:d,opts:h,self:p,errSchemaPath:m},y,g){if(Array.isArray(y.keyword)?!y.keyword.includes(g):y.keyword!==g)throw new Error("ajv implementation error");const _=y.dependencies;if(_!=null&&_.some(b=>!Object.prototype.hasOwnProperty.call(d,b)))throw new Error(`parent schema must have dependencies of ${g}: ${_.join(",")}`);if(y.validateSchema&&!y.validateSchema(d[g])){const T=`keyword "${g}" value is invalid at path "${m}": `+p.errorsText(y.validateSchema.errors);if(h.validateSchema==="log")p.logger.error(T);else throw new Error(T)}}return ta.validateKeywordUsage=f,ta}var Mu={},B8;function XCe(){if(B8)return Mu;B8=1,Object.defineProperty(Mu,"__esModule",{value:!0}),Mu.extendSubschemaMode=Mu.extendSubschemaData=Mu.getSubschema=void 0;const e=Wt,t=hn;function n(s,{keyword:o,schemaProp:a,schema:u,schemaPath:l,errSchemaPath:c,topSchemaRef:f}){if(o!==void 0&&u!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(o!==void 0){const d=s.schema[o];return a===void 0?{schema:d,schemaPath:(0,e._)`${s.schemaPath}${(0,e.getProperty)(o)}`,errSchemaPath:`${s.errSchemaPath}/${o}`}:{schema:d[a],schemaPath:(0,e._)`${s.schemaPath}${(0,e.getProperty)(o)}${(0,e.getProperty)(a)}`,errSchemaPath:`${s.errSchemaPath}/${o}/${(0,t.escapeFragment)(a)}`}}if(u!==void 0){if(l===void 0||c===void 0||f===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:u,schemaPath:l,topSchemaRef:f,errSchemaPath:c}}throw new Error('either "keyword" or "schema" must be passed')}Mu.getSubschema=n;function r(s,o,{dataProp:a,dataPropType:u,data:l,dataTypes:c,propertyName:f}){if(l!==void 0&&a!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:d}=o;if(a!==void 0){const{errorPath:p,dataPathArr:m,opts:y}=o,g=d.let("data",(0,e._)`${o.data}${(0,e.getProperty)(a)}`,!0);h(g),s.errorPath=(0,e.str)`${p}${(0,t.getErrorPath)(a,u,y.jsPropertySyntax)}`,s.parentDataProperty=(0,e._)`${a}`,s.dataPathArr=[...m,s.parentDataProperty]}if(l!==void 0){const p=l instanceof e.Name?l:d.let("data",l,!0);h(p),f!==void 0&&(s.propertyName=f)}c&&(s.dataTypes=c);function h(p){s.data=p,s.dataLevel=o.dataLevel+1,s.dataTypes=[],o.definedProperties=new Set,s.parentData=o.data,s.dataNames=[...o.dataNames,p]}}Mu.extendSubschemaData=r;function i(s,{jtdDiscriminator:o,jtdMetadata:a,compositeRule:u,createErrors:l,allErrors:c}){u!==void 0&&(s.compositeRule=u),l!==void 0&&(s.createErrors=l),c!==void 0&&(s.allErrors=c),s.jtdDiscriminator=o,s.jtdMetadata=a}return Mu.extendSubschemaMode=i,Mu}var xi={},Sk=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(s=Object.keys(t),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n};const j8=Ca(Sk);var FQ={exports:{}},bc=FQ.exports=function(e,t,n){typeof t=="function"&&(n=t,t={}),n=t.cb||n;var r=typeof n=="function"?n:n.pre||function(){},i=n.post||function(){};q1(t,r,i,e,"",e)};bc.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};bc.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};bc.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};bc.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function q1(e,t,n,r,i,s,o,a,u,l){if(r&&typeof r=="object"&&!Array.isArray(r)){t(r,i,s,o,a,u,l);for(var c in r){var f=r[c];if(Array.isArray(f)){if(c in bc.arrayKeywords)for(var d=0;d<f.length;d++)q1(e,t,n,f[d],i+"/"+c+"/"+d,s,i,c,r,d)}else if(c in bc.propsKeywords){if(f&&typeof f=="object")for(var h in f)q1(e,t,n,f[h],i+"/"+c+"/"+JCe(h),s,i,c,r,h)}else(c in bc.keywords||e.allKeys&&!(c in bc.skipKeywords))&&q1(e,t,n,f,i+"/"+c,s,i,c,r)}n(r,i,s,o,a,u,l)}}function JCe(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var ZCe=FQ.exports;Object.defineProperty(xi,"__esModule",{value:!0});xi.getSchemaRefs=xi.resolveUrl=xi.normalizeId=xi._getFullPath=xi.getFullPath=xi.inlineRef=void 0;const eAe=hn,tAe=Sk,nAe=ZCe,rAe=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function iAe(e,t=!0){return typeof e=="boolean"?!0:t===!0?!NP(e):t?BQ(e)<=t:!1}xi.inlineRef=iAe;const sAe=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function NP(e){for(const t in e){if(sAe.has(t))return!0;const n=e[t];if(Array.isArray(n)&&n.some(NP)||typeof n=="object"&&NP(n))return!0}return!1}function BQ(e){let t=0;for(const n in e){if(n==="$ref")return 1/0;if(t++,!rAe.has(n)&&(typeof e[n]=="object"&&(0,eAe.eachItem)(e[n],r=>t+=BQ(r)),t===1/0))return 1/0}return t}function jQ(e,t="",n){n!==!1&&(t=fp(t));const r=e.parse(t);return UQ(e,r)}xi.getFullPath=jQ;function UQ(e,t){return e.serialize(t).split("#")[0]+"#"}xi._getFullPath=UQ;const oAe=/#\/?$/;function fp(e){return e?e.replace(oAe,""):""}xi.normalizeId=fp;function aAe(e,t,n){return n=fp(n),e.resolve(t,n)}xi.resolveUrl=aAe;const uAe=/^[a-z_][-a-z0-9._]*$/i;function lAe(e,t){if(typeof e=="boolean")return{};const{schemaId:n,uriResolver:r}=this.opts,i=fp(e[n]||t),s={"":i},o=jQ(r,i,!1),a={},u=new Set;return nAe(e,{allKeys:!0},(f,d,h,p)=>{if(p===void 0)return;const m=o+d;let y=s[p];typeof f[n]=="string"&&(y=g.call(this,f[n])),_.call(this,f.$anchor),_.call(this,f.$dynamicAnchor),s[d]=y;function g(b){const T=this.opts.uriResolver.resolve;if(b=fp(y?T(y,b):b),u.has(b))throw c(b);u.add(b);let I=this.refs[b];return typeof I=="string"&&(I=this.refs[I]),typeof I=="object"?l(f,I.schema,b):b!==fp(m)&&(b[0]==="#"?(l(f,a[b],b),a[b]=f):this.refs[b]=m),b}function _(b){if(typeof b=="string"){if(!uAe.test(b))throw new Error(`invalid anchor "${b}"`);g.call(this,`#${b}`)}}}),a;function l(f,d,h){if(d!==void 0&&!tAe(f,d))throw c(h)}function c(f){return new Error(`reference "${f}" resolves to more than one schema`)}}xi.getSchemaRefs=lAe;var U8;function QS(){if(U8)return Lu;U8=1,Object.defineProperty(Lu,"__esModule",{value:!0}),Lu.getData=Lu.KeywordCxt=Lu.validateFunctionCode=void 0;const e=NCe(),t=my,n=cl,r=my,i=FCe(),s=QCe(),o=XCe(),a=Wt,u=Ru,l=xi,c=hn,f=E_;function d(W){if(I(W)&&(S(W),T(W))){y(W);return}h(W,()=>(0,e.topBoolOrEmptySchema)(W))}Lu.validateFunctionCode=d;function h({gen:W,validateName:M,schema:pe,schemaEnv:Ee,opts:Ce},Ae){Ce.code.es5?W.func(M,(0,a._)`${u.default.data}, ${u.default.valCxt}`,Ee.$async,()=>{W.code((0,a._)`"use strict"; ${_(pe,Ce)}`),m(W,Ce),W.code(Ae)}):W.func(M,(0,a._)`${u.default.data}, ${p(Ce)}`,Ee.$async,()=>W.code(_(pe,Ce)).code(Ae))}function p(W){return(0,a._)`{${u.default.instancePath}="", ${u.default.parentData}, ${u.default.parentDataProperty}, ${u.default.rootData}=${u.default.data}${W.dynamicRef?(0,a._)`, ${u.default.dynamicAnchors}={}`:a.nil}}={}`}function m(W,M){W.if(u.default.valCxt,()=>{W.var(u.default.instancePath,(0,a._)`${u.default.valCxt}.${u.default.instancePath}`),W.var(u.default.parentData,(0,a._)`${u.default.valCxt}.${u.default.parentData}`),W.var(u.default.parentDataProperty,(0,a._)`${u.default.valCxt}.${u.default.parentDataProperty}`),W.var(u.default.rootData,(0,a._)`${u.default.valCxt}.${u.default.rootData}`),M.dynamicRef&&W.var(u.default.dynamicAnchors,(0,a._)`${u.default.valCxt}.${u.default.dynamicAnchors}`)},()=>{W.var(u.default.instancePath,(0,a._)`""`),W.var(u.default.parentData,(0,a._)`undefined`),W.var(u.default.parentDataProperty,(0,a._)`undefined`),W.var(u.default.rootData,u.default.data),M.dynamicRef&&W.var(u.default.dynamicAnchors,(0,a._)`{}`)})}function y(W){const{schema:M,opts:pe,gen:Ee}=W;h(W,()=>{pe.$comment&&M.$comment&&Z(W),Y(W),Ee.let(u.default.vErrors,null),Ee.let(u.default.errors,0),pe.unevaluated&&g(W),A(W),V(W)})}function g(W){const{gen:M,validateName:pe}=W;W.evaluated=M.const("evaluated",(0,a._)`${pe}.evaluated`),M.if((0,a._)`${W.evaluated}.dynamicProps`,()=>M.assign((0,a._)`${W.evaluated}.props`,(0,a._)`undefined`)),M.if((0,a._)`${W.evaluated}.dynamicItems`,()=>M.assign((0,a._)`${W.evaluated}.items`,(0,a._)`undefined`))}function _(W,M){const pe=typeof W=="object"&&W[M.schemaId];return pe&&(M.code.source||M.code.process)?(0,a._)`/*# sourceURL=${pe} */`:a.nil}function b(W,M){if(I(W)&&(S(W),T(W))){E(W,M);return}(0,e.boolOrEmptySchema)(W,M)}function T({schema:W,self:M}){if(typeof W=="boolean")return!W;for(const pe in W)if(M.RULES.all[pe])return!0;return!1}function I(W){return typeof W.schema!="boolean"}function E(W,M){const{schema:pe,gen:Ee,opts:Ce}=W;Ce.$comment&&pe.$comment&&Z(W),z(W),U(W);const Ae=Ee.const("_errs",u.default.errors);A(W,Ae),Ee.var(M,(0,a._)`${Ae} === ${u.default.errors}`)}function S(W){(0,c.checkUnknownRules)(W),L(W)}function A(W,M){if(W.opts.jtd)return oe(W,[],!1,M);const pe=(0,t.getSchemaTypes)(W.schema),Ee=(0,t.coerceAndCheckDataType)(W,pe);oe(W,pe,!Ee,M)}function L(W){const{schema:M,errSchemaPath:pe,opts:Ee,self:Ce}=W;M.$ref&&Ee.ignoreKeywordsWithRef&&(0,c.schemaHasRulesButRef)(M,Ce.RULES)&&Ce.logger.warn(`$ref: keywords ignored in schema at path "${pe}"`)}function Y(W){const{schema:M,opts:pe}=W;M.default!==void 0&&pe.useDefaults&&pe.strictSchema&&(0,c.checkStrictMode)(W,"default is ignored in the schema root")}function z(W){const M=W.schema[W.opts.schemaId];M&&(W.baseId=(0,l.resolveUrl)(W.opts.uriResolver,W.baseId,M))}function U(W){if(W.schema.$async&&!W.schemaEnv.$async)throw new Error("async schema in sync schema")}function Z({gen:W,schemaEnv:M,schema:pe,errSchemaPath:Ee,opts:Ce}){const Ae=pe.$comment;if(Ce.$comment===!0)W.code((0,a._)`${u.default.self}.logger.log(${Ae})`);else if(typeof Ce.$comment=="function"){const qe=(0,a.str)`${Ee}/$comment`,et=W.scopeValue("root",{ref:M.root});W.code((0,a._)`${u.default.self}.opts.$comment(${Ae}, ${qe}, ${et}.schema)`)}}function V(W){const{gen:M,schemaEnv:pe,validateName:Ee,ValidationError:Ce,opts:Ae}=W;pe.$async?M.if((0,a._)`${u.default.errors} === 0`,()=>M.return(u.default.data),()=>M.throw((0,a._)`new ${Ce}(${u.default.vErrors})`)):(M.assign((0,a._)`${Ee}.errors`,u.default.vErrors),Ae.unevaluated&&le(W),M.return((0,a._)`${u.default.errors} === 0`))}function le({gen:W,evaluated:M,props:pe,items:Ee}){pe instanceof a.Name&&W.assign((0,a._)`${M}.props`,pe),Ee instanceof a.Name&&W.assign((0,a._)`${M}.items`,Ee)}function oe(W,M,pe,Ee){const{gen:Ce,schema:Ae,data:qe,allErrors:et,opts:Bt,self:je}=W,{RULES:Me}=je;if(Ae.$ref&&(Bt.ignoreKeywordsWithRef||!(0,c.schemaHasRulesButRef)(Ae,Me))){Ce.block(()=>de(W,"$ref",Me.all.$ref.definition));return}Bt.jtd||re(W,M),Ce.block(()=>{for(const Ue of Me.rules)pt(Ue);pt(Me.post)});function pt(Ue){(0,n.shouldUseGroup)(Ae,Ue)&&(Ue.type?(Ce.if((0,r.checkDataType)(Ue.type,qe,Bt.strictNumbers)),ve(W,Ue),M.length===1&&M[0]===Ue.type&&pe&&(Ce.else(),(0,r.reportTypeError)(W)),Ce.endIf()):ve(W,Ue),et||Ce.if((0,a._)`${u.default.errors} === ${Ee||0}`))}}function ve(W,M){const{gen:pe,schema:Ee,opts:{useDefaults:Ce}}=W;Ce&&(0,i.assignDefaults)(W,M.type),pe.block(()=>{for(const Ae of M.rules)(0,n.shouldUseRule)(Ee,Ae)&&de(W,Ae.keyword,Ae.definition,M.type)})}function re(W,M){W.schemaEnv.meta||!W.opts.strictTypes||(ue(W,M),W.opts.allowUnionTypes||te(W,M),x(W,W.dataTypes))}function ue(W,M){if(M.length){if(!W.dataTypes.length){W.dataTypes=M;return}M.forEach(pe=>{j(W.dataTypes,pe)||O(W,`type "${pe}" not allowed by context "${W.dataTypes.join(",")}"`)}),P(W,M)}}function te(W,M){M.length>1&&!(M.length===2&&M.includes("null"))&&O(W,"use allowUnionTypes to allow union type keyword")}function x(W,M){const pe=W.self.RULES.all;for(const Ee in pe){const Ce=pe[Ee];if(typeof Ce=="object"&&(0,n.shouldUseRule)(W.schema,Ce)){const{type:Ae}=Ce.definition;Ae.length&&!Ae.some(qe=>C(M,qe))&&O(W,`missing type "${Ae.join(",")}" for keyword "${Ee}"`)}}}function C(W,M){return W.includes(M)||M==="number"&&W.includes("integer")}function j(W,M){return W.includes(M)||M==="integer"&&W.includes("number")}function P(W,M){const pe=[];for(const Ee of W.dataTypes)j(M,Ee)?pe.push(Ee):M.includes("integer")&&Ee==="number"&&pe.push("integer");W.dataTypes=pe}function O(W,M){const pe=W.schemaEnv.baseId+W.errSchemaPath;M+=` at "${pe}" (strictTypes)`,(0,c.checkStrictMode)(W,M,W.opts.strictTypes)}class G{constructor(M,pe,Ee){if((0,s.validateKeywordUsage)(M,pe,Ee),this.gen=M.gen,this.allErrors=M.allErrors,this.keyword=Ee,this.data=M.data,this.schema=M.schema[Ee],this.$data=pe.$data&&M.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,c.schemaRefOrVal)(M,this.schema,Ee,this.$data),this.schemaType=pe.schemaType,this.parentSchema=M.schema,this.params={},this.it=M,this.def=pe,this.$data)this.schemaCode=M.gen.const("vSchema",me(this.$data,M));else if(this.schemaCode=this.schemaValue,!(0,s.validSchemaType)(this.schema,pe.schemaType,pe.allowUndefined))throw new Error(`${Ee} value must be ${JSON.stringify(pe.schemaType)}`);("code"in pe?pe.trackErrors:pe.errors!==!1)&&(this.errsCount=M.gen.const("_errs",u.default.errors))}result(M,pe,Ee){this.failResult((0,a.not)(M),pe,Ee)}failResult(M,pe,Ee){this.gen.if(M),Ee?Ee():this.error(),pe?(this.gen.else(),pe(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(M,pe){this.failResult((0,a.not)(M),void 0,pe)}fail(M){if(M===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(M),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(M){if(!this.$data)return this.fail(M);const{schemaCode:pe}=this;this.fail((0,a._)`${pe} !== undefined && (${(0,a.or)(this.invalid$data(),M)})`)}error(M,pe,Ee){if(pe){this.setParams(pe),this._error(M,Ee),this.setParams({});return}this._error(M,Ee)}_error(M,pe){(M?f.reportExtraError:f.reportError)(this,this.def.error,pe)}$dataError(){(0,f.reportError)(this,this.def.$dataError||f.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,f.resetErrorsCount)(this.gen,this.errsCount)}ok(M){this.allErrors||this.gen.if(M)}setParams(M,pe){pe?Object.assign(this.params,M):this.params=M}block$data(M,pe,Ee=a.nil){this.gen.block(()=>{this.check$data(M,Ee),pe()})}check$data(M=a.nil,pe=a.nil){if(!this.$data)return;const{gen:Ee,schemaCode:Ce,schemaType:Ae,def:qe}=this;Ee.if((0,a.or)((0,a._)`${Ce} === undefined`,pe)),M!==a.nil&&Ee.assign(M,!0),(Ae.length||qe.validateSchema)&&(Ee.elseIf(this.invalid$data()),this.$dataError(),M!==a.nil&&Ee.assign(M,!1)),Ee.else()}invalid$data(){const{gen:M,schemaCode:pe,schemaType:Ee,def:Ce,it:Ae}=this;return(0,a.or)(qe(),et());function qe(){if(Ee.length){if(!(pe instanceof a.Name))throw new Error("ajv implementation error");const Bt=Array.isArray(Ee)?Ee:[Ee];return(0,a._)`${(0,r.checkDataTypes)(Bt,pe,Ae.opts.strictNumbers,r.DataType.Wrong)}`}return a.nil}function et(){if(Ce.validateSchema){const Bt=M.scopeValue("validate$data",{ref:Ce.validateSchema});return(0,a._)`!${Bt}(${pe})`}return a.nil}}subschema(M,pe){const Ee=(0,o.getSubschema)(this.it,M);(0,o.extendSubschemaData)(Ee,this.it,M),(0,o.extendSubschemaMode)(Ee,M);const Ce={...this.it,...Ee,items:void 0,props:void 0};return b(Ce,pe),Ce}mergeEvaluated(M,pe){const{it:Ee,gen:Ce}=this;Ee.opts.unevaluated&&(Ee.props!==!0&&M.props!==void 0&&(Ee.props=c.mergeEvaluated.props(Ce,M.props,Ee.props,pe)),Ee.items!==!0&&M.items!==void 0&&(Ee.items=c.mergeEvaluated.items(Ce,M.items,Ee.items,pe)))}mergeValidEvaluated(M,pe){const{it:Ee,gen:Ce}=this;if(Ee.opts.unevaluated&&(Ee.props!==!0||Ee.items!==!0))return Ce.if(pe,()=>this.mergeEvaluated(M,a.Name)),!0}}Lu.KeywordCxt=G;function de(W,M,pe,Ee){const Ce=new G(W,pe,M);"code"in pe?pe.code(Ce,Ee):Ce.$data&&pe.validate?(0,s.funcKeywordCode)(Ce,pe):"macro"in pe?(0,s.macroKeywordCode)(Ce,pe):(pe.compile||pe.validate)&&(0,s.funcKeywordCode)(Ce,pe)}const fe=/^\/(?:[^~]|~0|~1)*$/,ye=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function me(W,{dataLevel:M,dataNames:pe,dataPathArr:Ee}){let Ce,Ae;if(W==="")return u.default.rootData;if(W[0]==="/"){if(!fe.test(W))throw new Error(`Invalid JSON-pointer: ${W}`);Ce=W,Ae=u.default.rootData}else{const je=ye.exec(W);if(!je)throw new Error(`Invalid JSON-pointer: ${W}`);const Me=+je[1];if(Ce=je[2],Ce==="#"){if(Me>=M)throw new Error(Bt("property/index",Me));return Ee[M-Me]}if(Me>M)throw new Error(Bt("data",Me));if(Ae=pe[M-Me],!Ce)return Ae}let qe=Ae;const et=Ce.split("/");for(const je of et)je&&(Ae=(0,a._)`${Ae}${(0,a.getProperty)((0,c.unescapeJsonPointer)(je))}`,qe=(0,a._)`${qe} && ${Ae}`);return qe;function Bt(je,Me){return`Cannot access ${je} ${Me} levels up, current level is ${M}`}}return Lu.getData=me,Lu}var zv={},V8;function Ik(){if(V8)return zv;V8=1,Object.defineProperty(zv,"__esModule",{value:!0});class e extends Error{constructor(n){super("validation failed"),this.errors=n,this.ajv=this.validation=!0}}return zv.default=e,zv}var w_={};Object.defineProperty(w_,"__esModule",{value:!0});const $C=xi;class cAe extends Error{constructor(t,n,r,i){super(i||`can't resolve reference ${r} from id ${n}`),this.missingRef=(0,$C.resolveUrl)(t,n,r),this.missingSchema=(0,$C.normalizeId)((0,$C.getFullPath)(t,this.missingRef))}}w_.default=cAe;var As={};Object.defineProperty(As,"__esModule",{value:!0});As.resolveSchema=As.getCompilingSchema=As.resolveRef=As.compileSchema=As.SchemaEnv=void 0;const na=Wt,fAe=Ik(),Of=Ru,da=xi,z8=hn,dAe=QS();class XS{constructor(t){var n;this.refs={},this.dynamicAnchors={};let r;typeof t.schema=="object"&&(r=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(n=t.baseId)!==null&&n!==void 0?n:(0,da.normalizeId)(r==null?void 0:r[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=r==null?void 0:r.$async,this.refs={}}}As.SchemaEnv=XS;function xk(e){const t=VQ.call(this,e);if(t)return t;const n=(0,da.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:r,lines:i}=this.opts.code,{ownProperties:s}=this.opts,o=new na.CodeGen(this.scope,{es5:r,lines:i,ownProperties:s});let a;e.$async&&(a=o.scopeValue("Error",{ref:fAe.default,code:(0,na._)`require("ajv/dist/runtime/validation_error").default`}));const u=o.scopeName("validate");e.validateName=u;const l={gen:o,allErrors:this.opts.allErrors,data:Of.default.data,parentData:Of.default.parentData,parentDataProperty:Of.default.parentDataProperty,dataNames:[Of.default.data],dataPathArr:[na.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,na.stringify)(e.schema)}:{ref:e.schema}),validateName:u,ValidationError:a,schema:e.schema,schemaEnv:e,rootId:n,baseId:e.baseId||n,schemaPath:na.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,na._)`""`,opts:this.opts,self:this};let c;try{this._compilations.add(e),(0,dAe.validateFunctionCode)(l),o.optimize(this.opts.code.optimize);const f=o.toString();c=`${o.scopeRefs(Of.default.scope)}return ${f}`,this.opts.code.process&&(c=this.opts.code.process(c,e));const h=new Function(`${Of.default.self}`,`${Of.default.scope}`,c)(this,this.scope.get());if(this.scope.value(u,{ref:h}),h.errors=null,h.schema=e.schema,h.schemaEnv=e,e.$async&&(h.$async=!0),this.opts.code.source===!0&&(h.source={validateName:u,validateCode:f,scopeValues:o._values}),this.opts.unevaluated){const{props:p,items:m}=l;h.evaluated={props:p instanceof na.Name?void 0:p,items:m instanceof na.Name?void 0:m,dynamicProps:p instanceof na.Name,dynamicItems:m instanceof na.Name},h.source&&(h.source.evaluated=(0,na.stringify)(h.evaluated))}return e.validate=h,e}catch(f){throw delete e.validate,delete e.validateName,c&&this.logger.error("Error compiling schema, function code:",c),f}finally{this._compilations.delete(e)}}As.compileSchema=xk;function hAe(e,t,n){var r;n=(0,da.resolveUrl)(this.opts.uriResolver,t,n);const i=e.refs[n];if(i)return i;let s=gAe.call(this,e,n);if(s===void 0){const o=(r=e.localRefs)===null||r===void 0?void 0:r[n],{schemaId:a}=this.opts;o&&(s=new XS({schema:o,schemaId:a,root:e,baseId:t}))}if(s!==void 0)return e.refs[n]=pAe.call(this,s)}As.resolveRef=hAe;function pAe(e){return(0,da.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:xk.call(this,e)}function VQ(e){for(const t of this._compilations)if(mAe(t,e))return t}As.getCompilingSchema=VQ;function mAe(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function gAe(e,t){let n;for(;typeof(n=this.refs[t])=="string";)t=n;return n||this.schemas[t]||JS.call(this,e,t)}function JS(e,t){const n=this.opts.uriResolver.parse(t),r=(0,da._getFullPath)(this.opts.uriResolver,n);let i=(0,da.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&r===i)return LC.call(this,n,e);const s=(0,da.normalizeId)(r),o=this.refs[s]||this.schemas[s];if(typeof o=="string"){const a=JS.call(this,e,o);return typeof(a==null?void 0:a.schema)!="object"?void 0:LC.call(this,n,a)}if(typeof(o==null?void 0:o.schema)=="object"){if(o.validate||xk.call(this,o),s===(0,da.normalizeId)(t)){const{schema:a}=o,{schemaId:u}=this.opts,l=a[u];return l&&(i=(0,da.resolveUrl)(this.opts.uriResolver,i,l)),new XS({schema:a,schemaId:u,root:e,baseId:i})}return LC.call(this,n,o)}}As.resolveSchema=JS;const yAe=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function LC(e,{baseId:t,schema:n,root:r}){var i;if(((i=e.fragment)===null||i===void 0?void 0:i[0])!=="/")return;for(const a of e.fragment.slice(1).split("/")){if(typeof n=="boolean")return;const u=n[(0,z8.unescapeFragment)(a)];if(u===void 0)return;n=u;const l=typeof n=="object"&&n[this.opts.schemaId];!yAe.has(a)&&l&&(t=(0,da.resolveUrl)(this.opts.uriResolver,t,l))}let s;if(typeof n!="boolean"&&n.$ref&&!(0,z8.schemaHasRulesButRef)(n,this.RULES)){const a=(0,da.resolveUrl)(this.opts.uriResolver,t,n.$ref);s=JS.call(this,r,a)}const{schemaId:o}=this.opts;if(s=s||new XS({schema:n,schemaId:o,root:r,baseId:t}),s.schema!==s.root.schema)return s}const _Ae="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",vAe="Meta-schema for $data reference (JSON AnySchema extension proposal)",bAe="object",EAe=["$data"],wAe={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},TAe=!1,SAe={$id:_Ae,description:vAe,type:bAe,required:EAe,properties:wAe,additionalProperties:TAe};var Ck={},kP={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(n,r){r(t)})(to,function(n){function r(){for(var X=arguments.length,H=Array(X),ee=0;ee<X;ee++)H[ee]=arguments[ee];if(H.length>1){H[0]=H[0].slice(0,-1);for(var _e=H.length-1,ge=1;ge<_e;++ge)H[ge]=H[ge].slice(1,-1);return H[_e]=H[_e].slice(1),H.join("")}else return H[0]}function i(X){return"(?:"+X+")"}function s(X){return X===void 0?"undefined":X===null?"null":Object.prototype.toString.call(X).split(" ").pop().split("]").shift().toLowerCase()}function o(X){return X.toUpperCase()}function a(X){return X!=null?X instanceof Array?X:typeof X.length!="number"||X.split||X.setInterval||X.call?[X]:Array.prototype.slice.call(X):[]}function u(X,H){var ee=X;if(H)for(var _e in H)ee[_e]=H[_e];return ee}function l(X){var H="[A-Za-z]",ee="[0-9]",_e=r(ee,"[A-Fa-f]"),ge=i(i("%[EFef]"+_e+"%"+_e+_e+"%"+_e+_e)+"|"+i("%[89A-Fa-f]"+_e+"%"+_e+_e)+"|"+i("%"+_e+_e)),Ge="[\\:\\/\\?\\#\\[\\]\\@]",xe="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",We=r(Ge,xe),lt=X?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",tt=X?"[\\uE000-\\uF8FF]":"[]",mt=r(H,ee,"[\\-\\.\\_\\~]",lt);i(H+r(H,ee,"[\\+\\-\\.]")+"*"),i(i(ge+"|"+r(mt,xe,"[\\:]"))+"*");var Dt=i(i("25[0-5]")+"|"+i("2[0-4]"+ee)+"|"+i("1"+ee+ee)+"|"+i("0?[1-9]"+ee)+"|0?0?"+ee),kn=i(Dt+"\\."+Dt+"\\."+Dt+"\\."+Dt),ht=i(_e+"{1,4}"),In=i(i(ht+"\\:"+ht)+"|"+kn),vt=i(i(ht+"\\:")+"{6}"+In),pn=i("\\:\\:"+i(ht+"\\:")+"{5}"+In),Zn=i(i(ht)+"?\\:\\:"+i(ht+"\\:")+"{4}"+In),zr=i(i(i(ht+"\\:")+"{0,1}"+ht)+"?\\:\\:"+i(ht+"\\:")+"{3}"+In),Ar=i(i(i(ht+"\\:")+"{0,2}"+ht)+"?\\:\\:"+i(ht+"\\:")+"{2}"+In),ns=i(i(i(ht+"\\:")+"{0,3}"+ht)+"?\\:\\:"+ht+"\\:"+In),gi=i(i(i(ht+"\\:")+"{0,4}"+ht)+"?\\:\\:"+In),fr=i(i(i(ht+"\\:")+"{0,5}"+ht)+"?\\:\\:"+ht),Qe=i(i(i(ht+"\\:")+"{0,6}"+ht)+"?\\:\\:"),Vt=i([vt,pn,Zn,zr,Ar,ns,gi,fr,Qe].join("|")),Vn=i(i(mt+"|"+ge)+"+");i("[vV]"+_e+"+\\."+r(mt,xe,"[\\:]")+"+"),i(i(ge+"|"+r(mt,xe))+"*");var ni=i(ge+"|"+r(mt,xe,"[\\:\\@]"));return i(i(ge+"|"+r(mt,xe,"[\\@]"))+"+"),i(i(ni+"|"+r("[\\/\\?]",tt))+"*"),{NOT_SCHEME:new RegExp(r("[^]",H,ee,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(r("[^\\%\\:]",mt,xe),"g"),NOT_HOST:new RegExp(r("[^\\%\\[\\]\\:]",mt,xe),"g"),NOT_PATH:new RegExp(r("[^\\%\\/\\:\\@]",mt,xe),"g"),NOT_PATH_NOSCHEME:new RegExp(r("[^\\%\\/\\@]",mt,xe),"g"),NOT_QUERY:new RegExp(r("[^\\%]",mt,xe,"[\\:\\@\\/\\?]",tt),"g"),NOT_FRAGMENT:new RegExp(r("[^\\%]",mt,xe,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(r("[^]",mt,xe),"g"),UNRESERVED:new RegExp(mt,"g"),OTHER_CHARS:new RegExp(r("[^\\%]",mt,We),"g"),PCT_ENCODED:new RegExp(ge,"g"),IPV4ADDRESS:new RegExp("^("+kn+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Vt+")"+i(i("\\%25|\\%(?!"+_e+"{2})")+"("+Vn+")")+"?\\]?$")}}var c=l(!1),f=l(!0),d=function(){function X(H,ee){var _e=[],ge=!0,Ge=!1,xe=void 0;try{for(var We=H[Symbol.iterator](),lt;!(ge=(lt=We.next()).done)&&(_e.push(lt.value),!(ee&&_e.length===ee));ge=!0);}catch(tt){Ge=!0,xe=tt}finally{try{!ge&&We.return&&We.return()}finally{if(Ge)throw xe}}return _e}return function(H,ee){if(Array.isArray(H))return H;if(Symbol.iterator in Object(H))return X(H,ee);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(X){if(Array.isArray(X)){for(var H=0,ee=Array(X.length);H<X.length;H++)ee[H]=X[H];return ee}else return Array.from(X)},p=2147483647,m=36,y=1,g=26,_=38,b=700,T=72,I=128,E="-",S=/^xn--/,A=/[^\0-\x7E]/,L=/[\x2E\u3002\uFF0E\uFF61]/g,Y={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},z=m-y,U=Math.floor,Z=String.fromCharCode;function V(X){throw new RangeError(Y[X])}function le(X,H){for(var ee=[],_e=X.length;_e--;)ee[_e]=H(X[_e]);return ee}function oe(X,H){var ee=X.split("@"),_e="";ee.length>1&&(_e=ee[0]+"@",X=ee[1]),X=X.replace(L,".");var ge=X.split("."),Ge=le(ge,H).join(".");return _e+Ge}function ve(X){for(var H=[],ee=0,_e=X.length;ee<_e;){var ge=X.charCodeAt(ee++);if(ge>=55296&&ge<=56319&&ee<_e){var Ge=X.charCodeAt(ee++);(Ge&64512)==56320?H.push(((ge&1023)<<10)+(Ge&1023)+65536):(H.push(ge),ee--)}else H.push(ge)}return H}var re=function(H){return String.fromCodePoint.apply(String,h(H))},ue=function(H){return H-48<10?H-22:H-65<26?H-65:H-97<26?H-97:m},te=function(H,ee){return H+22+75*(H<26)-((ee!=0)<<5)},x=function(H,ee,_e){var ge=0;for(H=_e?U(H/b):H>>1,H+=U(H/ee);H>z*g>>1;ge+=m)H=U(H/z);return U(ge+(z+1)*H/(H+_))},C=function(H){var ee=[],_e=H.length,ge=0,Ge=I,xe=T,We=H.lastIndexOf(E);We<0&&(We=0);for(var lt=0;lt<We;++lt)H.charCodeAt(lt)>=128&&V("not-basic"),ee.push(H.charCodeAt(lt));for(var tt=We>0?We+1:0;tt<_e;){for(var mt=ge,Dt=1,kn=m;;kn+=m){tt>=_e&&V("invalid-input");var ht=ue(H.charCodeAt(tt++));(ht>=m||ht>U((p-ge)/Dt))&&V("overflow"),ge+=ht*Dt;var In=kn<=xe?y:kn>=xe+g?g:kn-xe;if(ht<In)break;var vt=m-In;Dt>U(p/vt)&&V("overflow"),Dt*=vt}var pn=ee.length+1;xe=x(ge-mt,pn,mt==0),U(ge/pn)>p-Ge&&V("overflow"),Ge+=U(ge/pn),ge%=pn,ee.splice(ge++,0,Ge)}return String.fromCodePoint.apply(String,ee)},j=function(H){var ee=[];H=ve(H);var _e=H.length,ge=I,Ge=0,xe=T,We=!0,lt=!1,tt=void 0;try{for(var mt=H[Symbol.iterator](),Dt;!(We=(Dt=mt.next()).done);We=!0){var kn=Dt.value;kn<128&&ee.push(Z(kn))}}catch(Te){lt=!0,tt=Te}finally{try{!We&&mt.return&&mt.return()}finally{if(lt)throw tt}}var ht=ee.length,In=ht;for(ht&&ee.push(E);In<_e;){var vt=p,pn=!0,Zn=!1,zr=void 0;try{for(var Ar=H[Symbol.iterator](),ns;!(pn=(ns=Ar.next()).done);pn=!0){var gi=ns.value;gi>=ge&&gi<vt&&(vt=gi)}}catch(Te){Zn=!0,zr=Te}finally{try{!pn&&Ar.return&&Ar.return()}finally{if(Zn)throw zr}}var fr=In+1;vt-ge>U((p-Ge)/fr)&&V("overflow"),Ge+=(vt-ge)*fr,ge=vt;var Qe=!0,Vt=!1,Vn=void 0;try{for(var ni=H[Symbol.iterator](),hs;!(Qe=(hs=ni.next()).done);Qe=!0){var R=hs.value;if(R<ge&&++Ge>p&&V("overflow"),R==ge){for(var Q=Ge,F=m;;F+=m){var ie=F<=xe?y:F>=xe+g?g:F-xe;if(Q<ie)break;var ae=Q-ie,ne=m-ie;ee.push(Z(te(ie+ae%ne,0))),Q=U(ae/ne)}ee.push(Z(te(Q,0))),xe=x(Ge,fr,In==ht),Ge=0,++In}}}catch(Te){Vt=!0,Vn=Te}finally{try{!Qe&&ni.return&&ni.return()}finally{if(Vt)throw Vn}}++Ge,++ge}return ee.join("")},P=function(H){return oe(H,function(ee){return S.test(ee)?C(ee.slice(4).toLowerCase()):ee})},O=function(H){return oe(H,function(ee){return A.test(ee)?"xn--"+j(ee):ee})},G={version:"2.1.0",ucs2:{decode:ve,encode:re},decode:C,encode:j,toASCII:O,toUnicode:P},de={};function fe(X){var H=X.charCodeAt(0),ee=void 0;return H<16?ee="%0"+H.toString(16).toUpperCase():H<128?ee="%"+H.toString(16).toUpperCase():H<2048?ee="%"+(H>>6|192).toString(16).toUpperCase()+"%"+(H&63|128).toString(16).toUpperCase():ee="%"+(H>>12|224).toString(16).toUpperCase()+"%"+(H>>6&63|128).toString(16).toUpperCase()+"%"+(H&63|128).toString(16).toUpperCase(),ee}function ye(X){for(var H="",ee=0,_e=X.length;ee<_e;){var ge=parseInt(X.substr(ee+1,2),16);if(ge<128)H+=String.fromCharCode(ge),ee+=3;else if(ge>=194&&ge<224){if(_e-ee>=6){var Ge=parseInt(X.substr(ee+4,2),16);H+=String.fromCharCode((ge&31)<<6|Ge&63)}else H+=X.substr(ee,6);ee+=6}else if(ge>=224){if(_e-ee>=9){var xe=parseInt(X.substr(ee+4,2),16),We=parseInt(X.substr(ee+7,2),16);H+=String.fromCharCode((ge&15)<<12|(xe&63)<<6|We&63)}else H+=X.substr(ee,9);ee+=9}else H+=X.substr(ee,3),ee+=3}return H}function me(X,H){function ee(_e){var ge=ye(_e);return ge.match(H.UNRESERVED)?ge:_e}return X.scheme&&(X.scheme=String(X.scheme).replace(H.PCT_ENCODED,ee).toLowerCase().replace(H.NOT_SCHEME,"")),X.userinfo!==void 0&&(X.userinfo=String(X.userinfo).replace(H.PCT_ENCODED,ee).replace(H.NOT_USERINFO,fe).replace(H.PCT_ENCODED,o)),X.host!==void 0&&(X.host=String(X.host).replace(H.PCT_ENCODED,ee).toLowerCase().replace(H.NOT_HOST,fe).replace(H.PCT_ENCODED,o)),X.path!==void 0&&(X.path=String(X.path).replace(H.PCT_ENCODED,ee).replace(X.scheme?H.NOT_PATH:H.NOT_PATH_NOSCHEME,fe).replace(H.PCT_ENCODED,o)),X.query!==void 0&&(X.query=String(X.query).replace(H.PCT_ENCODED,ee).replace(H.NOT_QUERY,fe).replace(H.PCT_ENCODED,o)),X.fragment!==void 0&&(X.fragment=String(X.fragment).replace(H.PCT_ENCODED,ee).replace(H.NOT_FRAGMENT,fe).replace(H.PCT_ENCODED,o)),X}function W(X){return X.replace(/^0*(.*)/,"$1")||"0"}function M(X,H){var ee=X.match(H.IPV4ADDRESS)||[],_e=d(ee,2),ge=_e[1];return ge?ge.split(".").map(W).join("."):X}function pe(X,H){var ee=X.match(H.IPV6ADDRESS)||[],_e=d(ee,3),ge=_e[1],Ge=_e[2];if(ge){for(var xe=ge.toLowerCase().split("::").reverse(),We=d(xe,2),lt=We[0],tt=We[1],mt=tt?tt.split(":").map(W):[],Dt=lt.split(":").map(W),kn=H.IPV4ADDRESS.test(Dt[Dt.length-1]),ht=kn?7:8,In=Dt.length-ht,vt=Array(ht),pn=0;pn<ht;++pn)vt[pn]=mt[pn]||Dt[In+pn]||"";kn&&(vt[ht-1]=M(vt[ht-1],H));var Zn=vt.reduce(function(fr,Qe,Vt){if(!Qe||Qe==="0"){var Vn=fr[fr.length-1];Vn&&Vn.index+Vn.length===Vt?Vn.length++:fr.push({index:Vt,length:1})}return fr},[]),zr=Zn.sort(function(fr,Qe){return Qe.length-fr.length})[0],Ar=void 0;if(zr&&zr.length>1){var ns=vt.slice(0,zr.index),gi=vt.slice(zr.index+zr.length);Ar=ns.join(":")+"::"+gi.join(":")}else Ar=vt.join(":");return Ge&&(Ar+="%"+Ge),Ar}else return X}var Ee=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Ce="".match(/(){0}/)[1]===void 0;function Ae(X){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ee={},_e=H.iri!==!1?f:c;H.reference==="suffix"&&(X=(H.scheme?H.scheme+":":"")+"//"+X);var ge=X.match(Ee);if(ge){Ce?(ee.scheme=ge[1],ee.userinfo=ge[3],ee.host=ge[4],ee.port=parseInt(ge[5],10),ee.path=ge[6]||"",ee.query=ge[7],ee.fragment=ge[8],isNaN(ee.port)&&(ee.port=ge[5])):(ee.scheme=ge[1]||void 0,ee.userinfo=X.indexOf("@")!==-1?ge[3]:void 0,ee.host=X.indexOf("//")!==-1?ge[4]:void 0,ee.port=parseInt(ge[5],10),ee.path=ge[6]||"",ee.query=X.indexOf("?")!==-1?ge[7]:void 0,ee.fragment=X.indexOf("#")!==-1?ge[8]:void 0,isNaN(ee.port)&&(ee.port=X.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?ge[4]:void 0)),ee.host&&(ee.host=pe(M(ee.host,_e),_e)),ee.scheme===void 0&&ee.userinfo===void 0&&ee.host===void 0&&ee.port===void 0&&!ee.path&&ee.query===void 0?ee.reference="same-document":ee.scheme===void 0?ee.reference="relative":ee.fragment===void 0?ee.reference="absolute":ee.reference="uri",H.reference&&H.reference!=="suffix"&&H.reference!==ee.reference&&(ee.error=ee.error||"URI is not a "+H.reference+" reference.");var Ge=de[(H.scheme||ee.scheme||"").toLowerCase()];if(!H.unicodeSupport&&(!Ge||!Ge.unicodeSupport)){if(ee.host&&(H.domainHost||Ge&&Ge.domainHost))try{ee.host=G.toASCII(ee.host.replace(_e.PCT_ENCODED,ye).toLowerCase())}catch(xe){ee.error=ee.error||"Host's domain name can not be converted to ASCII via punycode: "+xe}me(ee,c)}else me(ee,_e);Ge&&Ge.parse&&Ge.parse(ee,H)}else ee.error=ee.error||"URI can not be parsed.";return ee}function qe(X,H){var ee=H.iri!==!1?f:c,_e=[];return X.userinfo!==void 0&&(_e.push(X.userinfo),_e.push("@")),X.host!==void 0&&_e.push(pe(M(String(X.host),ee),ee).replace(ee.IPV6ADDRESS,function(ge,Ge,xe){return"["+Ge+(xe?"%25"+xe:"")+"]"})),(typeof X.port=="number"||typeof X.port=="string")&&(_e.push(":"),_e.push(String(X.port))),_e.length?_e.join(""):void 0}var et=/^\.\.?\//,Bt=/^\/\.(\/|$)/,je=/^\/\.\.(\/|$)/,Me=/^\/?(?:.|\n)*?(?=\/|$)/;function pt(X){for(var H=[];X.length;)if(X.match(et))X=X.replace(et,"");else if(X.match(Bt))X=X.replace(Bt,"/");else if(X.match(je))X=X.replace(je,"/"),H.pop();else if(X==="."||X==="..")X="";else{var ee=X.match(Me);if(ee){var _e=ee[0];X=X.slice(_e.length),H.push(_e)}else throw new Error("Unexpected dot segment condition")}return H.join("")}function Ue(X){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ee=H.iri?f:c,_e=[],ge=de[(H.scheme||X.scheme||"").toLowerCase()];if(ge&&ge.serialize&&ge.serialize(X,H),X.host&&!ee.IPV6ADDRESS.test(X.host)){if(H.domainHost||ge&&ge.domainHost)try{X.host=H.iri?G.toUnicode(X.host):G.toASCII(X.host.replace(ee.PCT_ENCODED,ye).toLowerCase())}catch(We){X.error=X.error||"Host's domain name can not be converted to "+(H.iri?"Unicode":"ASCII")+" via punycode: "+We}}me(X,ee),H.reference!=="suffix"&&X.scheme&&(_e.push(X.scheme),_e.push(":"));var Ge=qe(X,H);if(Ge!==void 0&&(H.reference!=="suffix"&&_e.push("//"),_e.push(Ge),X.path&&X.path.charAt(0)!=="/"&&_e.push("/")),X.path!==void 0){var xe=X.path;!H.absolutePath&&(!ge||!ge.absolutePath)&&(xe=pt(xe)),Ge===void 0&&(xe=xe.replace(/^\/\//,"/%2F")),_e.push(xe)}return X.query!==void 0&&(_e.push("?"),_e.push(X.query)),X.fragment!==void 0&&(_e.push("#"),_e.push(X.fragment)),_e.join("")}function gt(X,H){var ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},_e=arguments[3],ge={};return _e||(X=Ae(Ue(X,ee),ee),H=Ae(Ue(H,ee),ee)),ee=ee||{},!ee.tolerant&&H.scheme?(ge.scheme=H.scheme,ge.userinfo=H.userinfo,ge.host=H.host,ge.port=H.port,ge.path=pt(H.path||""),ge.query=H.query):(H.userinfo!==void 0||H.host!==void 0||H.port!==void 0?(ge.userinfo=H.userinfo,ge.host=H.host,ge.port=H.port,ge.path=pt(H.path||""),ge.query=H.query):(H.path?(H.path.charAt(0)==="/"?ge.path=pt(H.path):((X.userinfo!==void 0||X.host!==void 0||X.port!==void 0)&&!X.path?ge.path="/"+H.path:X.path?ge.path=X.path.slice(0,X.path.lastIndexOf("/")+1)+H.path:ge.path=H.path,ge.path=pt(ge.path)),ge.query=H.query):(ge.path=X.path,H.query!==void 0?ge.query=H.query:ge.query=X.query),ge.userinfo=X.userinfo,ge.host=X.host,ge.port=X.port),ge.scheme=X.scheme),ge.fragment=H.fragment,ge}function Yt(X,H,ee){var _e=u({scheme:"null"},ee);return Ue(gt(Ae(X,_e),Ae(H,_e),_e,!0),_e)}function on(X,H){return typeof X=="string"?X=Ue(Ae(X,H),H):s(X)==="object"&&(X=Ae(Ue(X,H),H)),X}function Wn(X,H,ee){return typeof X=="string"?X=Ue(Ae(X,ee),ee):s(X)==="object"&&(X=Ue(X,ee)),typeof H=="string"?H=Ue(Ae(H,ee),ee):s(H)==="object"&&(H=Ue(H,ee)),X===H}function he(X,H){return X&&X.toString().replace(!H||!H.iri?c.ESCAPE:f.ESCAPE,fe)}function Ie(X,H){return X&&X.toString().replace(!H||!H.iri?c.PCT_ENCODED:f.PCT_ENCODED,ye)}var Ve={scheme:"http",domainHost:!0,parse:function(H,ee){return H.host||(H.error=H.error||"HTTP URIs must have a host."),H},serialize:function(H,ee){var _e=String(H.scheme).toLowerCase()==="https";return(H.port===(_e?443:80)||H.port==="")&&(H.port=void 0),H.path||(H.path="/"),H}},st={scheme:"https",domainHost:Ve.domainHost,parse:Ve.parse,serialize:Ve.serialize};function Be(X){return typeof X.secure=="boolean"?X.secure:String(X.scheme).toLowerCase()==="wss"}var ot={scheme:"ws",domainHost:!0,parse:function(H,ee){var _e=H;return _e.secure=Be(_e),_e.resourceName=(_e.path||"/")+(_e.query?"?"+_e.query:""),_e.path=void 0,_e.query=void 0,_e},serialize:function(H,ee){if((H.port===(Be(H)?443:80)||H.port==="")&&(H.port=void 0),typeof H.secure=="boolean"&&(H.scheme=H.secure?"wss":"ws",H.secure=void 0),H.resourceName){var _e=H.resourceName.split("?"),ge=d(_e,2),Ge=ge[0],xe=ge[1];H.path=Ge&&Ge!=="/"?Ge:void 0,H.query=xe,H.resourceName=void 0}return H.fragment=void 0,H}},ze={scheme:"wss",domainHost:ot.domainHost,parse:ot.parse,serialize:ot.serialize},nt={},vn="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Ht="[0-9A-Fa-f]",wt=i(i("%[EFef]"+Ht+"%"+Ht+Ht+"%"+Ht+Ht)+"|"+i("%[89A-Fa-f]"+Ht+"%"+Ht+Ht)+"|"+i("%"+Ht+Ht)),Mn="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",bn="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Zo=r(bn,'[\\"\\\\]'),lr="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",$i=new RegExp(vn,"g"),yr=new RegExp(wt,"g"),kr=new RegExp(r("[^]",Mn,"[\\.]",'[\\"]',Zo),"g"),cr=new RegExp(r("[^]",vn,lr),"g"),Fn=cr;function Jt(X){var H=ye(X);return H.match($i)?H:X}var ti={scheme:"mailto",parse:function(H,ee){var _e=H,ge=_e.to=_e.path?_e.path.split(","):[];if(_e.path=void 0,_e.query){for(var Ge=!1,xe={},We=_e.query.split("&"),lt=0,tt=We.length;lt<tt;++lt){var mt=We[lt].split("=");switch(mt[0]){case"to":for(var Dt=mt[1].split(","),kn=0,ht=Dt.length;kn<ht;++kn)ge.push(Dt[kn]);break;case"subject":_e.subject=Ie(mt[1],ee);break;case"body":_e.body=Ie(mt[1],ee);break;default:Ge=!0,xe[Ie(mt[0],ee)]=Ie(mt[1],ee);break}}Ge&&(_e.headers=xe)}_e.query=void 0;for(var In=0,vt=ge.length;In<vt;++In){var pn=ge[In].split("@");if(pn[0]=Ie(pn[0]),ee.unicodeSupport)pn[1]=Ie(pn[1],ee).toLowerCase();else try{pn[1]=G.toASCII(Ie(pn[1],ee).toLowerCase())}catch(Zn){_e.error=_e.error||"Email address's domain name can not be converted to ASCII via punycode: "+Zn}ge[In]=pn.join("@")}return _e},serialize:function(H,ee){var _e=H,ge=a(H.to);if(ge){for(var Ge=0,xe=ge.length;Ge<xe;++Ge){var We=String(ge[Ge]),lt=We.lastIndexOf("@"),tt=We.slice(0,lt).replace(yr,Jt).replace(yr,o).replace(kr,fe),mt=We.slice(lt+1);try{mt=ee.iri?G.toUnicode(mt):G.toASCII(Ie(mt,ee).toLowerCase())}catch(In){_e.error=_e.error||"Email address's domain name can not be converted to "+(ee.iri?"Unicode":"ASCII")+" via punycode: "+In}ge[Ge]=tt+"@"+mt}_e.path=ge.join(",")}var Dt=H.headers=H.headers||{};H.subject&&(Dt.subject=H.subject),H.body&&(Dt.body=H.body);var kn=[];for(var ht in Dt)Dt[ht]!==nt[ht]&&kn.push(ht.replace(yr,Jt).replace(yr,o).replace(cr,fe)+"="+Dt[ht].replace(yr,Jt).replace(yr,o).replace(Fn,fe));return kn.length&&(_e.query=kn.join("&")),_e}},_r=/^([^\:]+)\:(.*)/,Dr={scheme:"urn",parse:function(H,ee){var _e=H.path&&H.path.match(_r),ge=H;if(_e){var Ge=ee.scheme||ge.scheme||"urn",xe=_e[1].toLowerCase(),We=_e[2],lt=Ge+":"+(ee.nid||xe),tt=de[lt];ge.nid=xe,ge.nss=We,ge.path=void 0,tt&&(ge=tt.parse(ge,ee))}else ge.error=ge.error||"URN can not be parsed.";return ge},serialize:function(H,ee){var _e=ee.scheme||H.scheme||"urn",ge=H.nid,Ge=_e+":"+(ee.nid||ge),xe=de[Ge];xe&&(H=xe.serialize(H,ee));var We=H,lt=H.nss;return We.path=(ge||ee.nid)+":"+lt,We}},mi=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,ds={scheme:"urn:uuid",parse:function(H,ee){var _e=H;return _e.uuid=_e.nss,_e.nss=void 0,!ee.tolerant&&(!_e.uuid||!_e.uuid.match(mi))&&(_e.error=_e.error||"UUID is not valid."),_e},serialize:function(H,ee){var _e=H;return _e.nss=(H.uuid||"").toLowerCase(),_e}};de[Ve.scheme]=Ve,de[st.scheme]=st,de[ot.scheme]=ot,de[ze.scheme]=ze,de[ti.scheme]=ti,de[Dr.scheme]=Dr,de[ds.scheme]=ds,n.SCHEMES=de,n.pctEncChar=fe,n.pctDecChars=ye,n.parse=Ae,n.removeDotSegments=pt,n.serialize=Ue,n.resolveComponents=gt,n.resolve=Yt,n.normalize=on,n.equal=Wn,n.escapeComponent=he,n.unescapeComponent=Ie,Object.defineProperty(n,"__esModule",{value:!0})})})(kP,kP.exports);var IAe=kP.exports;Object.defineProperty(Ck,"__esModule",{value:!0});const zQ=IAe;zQ.code='require("ajv/dist/runtime/uri").default';Ck.default=zQ;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=QS();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var n=Wt;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return n.CodeGen}});const r=Ik(),i=w_,s=Od,o=As,a=Wt,u=xi,l=my,c=hn,f=SAe,d=Ck,h=(te,x)=>new RegExp(te,x);h.code="new RegExp";const p=["removeAdditional","useDefaults","coerceTypes"],m=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),y={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},g={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},_=200;function b(te){var x,C,j,P,O,G,de,fe,ye,me,W,M,pe,Ee,Ce,Ae,qe,et,Bt,je,Me,pt,Ue,gt,Yt;const on=te.strict,Wn=(x=te.code)===null||x===void 0?void 0:x.optimize,he=Wn===!0||Wn===void 0?1:Wn||0,Ie=(j=(C=te.code)===null||C===void 0?void 0:C.regExp)!==null&&j!==void 0?j:h,Ve=(P=te.uriResolver)!==null&&P!==void 0?P:d.default;return{strictSchema:(G=(O=te.strictSchema)!==null&&O!==void 0?O:on)!==null&&G!==void 0?G:!0,strictNumbers:(fe=(de=te.strictNumbers)!==null&&de!==void 0?de:on)!==null&&fe!==void 0?fe:!0,strictTypes:(me=(ye=te.strictTypes)!==null&&ye!==void 0?ye:on)!==null&&me!==void 0?me:"log",strictTuples:(M=(W=te.strictTuples)!==null&&W!==void 0?W:on)!==null&&M!==void 0?M:"log",strictRequired:(Ee=(pe=te.strictRequired)!==null&&pe!==void 0?pe:on)!==null&&Ee!==void 0?Ee:!1,code:te.code?{...te.code,optimize:he,regExp:Ie}:{optimize:he,regExp:Ie},loopRequired:(Ce=te.loopRequired)!==null&&Ce!==void 0?Ce:_,loopEnum:(Ae=te.loopEnum)!==null&&Ae!==void 0?Ae:_,meta:(qe=te.meta)!==null&&qe!==void 0?qe:!0,messages:(et=te.messages)!==null&&et!==void 0?et:!0,inlineRefs:(Bt=te.inlineRefs)!==null&&Bt!==void 0?Bt:!0,schemaId:(je=te.schemaId)!==null&&je!==void 0?je:"$id",addUsedSchema:(Me=te.addUsedSchema)!==null&&Me!==void 0?Me:!0,validateSchema:(pt=te.validateSchema)!==null&&pt!==void 0?pt:!0,validateFormats:(Ue=te.validateFormats)!==null&&Ue!==void 0?Ue:!0,unicodeRegExp:(gt=te.unicodeRegExp)!==null&&gt!==void 0?gt:!0,int32range:(Yt=te.int32range)!==null&&Yt!==void 0?Yt:!0,uriResolver:Ve}}class T{constructor(x={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,x=this.opts={...x,...b(x)};const{es5:C,lines:j}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:m,es5:C,lines:j}),this.logger=U(x.logger);const P=x.validateFormats;x.validateFormats=!1,this.RULES=(0,s.getRules)(),I.call(this,y,x,"NOT SUPPORTED"),I.call(this,g,x,"DEPRECATED","warn"),this._metaOpts=Y.call(this),x.formats&&A.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),x.keywords&&L.call(this,x.keywords),typeof x.meta=="object"&&this.addMetaSchema(x.meta),S.call(this),x.validateFormats=P}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:x,meta:C,schemaId:j}=this.opts;let P=f;j==="id"&&(P={...f},P.id=P.$id,delete P.$id),C&&x&&this.addMetaSchema(P,P[j],!1)}defaultMeta(){const{meta:x,schemaId:C}=this.opts;return this.opts.defaultMeta=typeof x=="object"?x[C]||x:void 0}validate(x,C){let j;if(typeof x=="string"){if(j=this.getSchema(x),!j)throw new Error(`no schema with key or ref "${x}"`)}else j=this.compile(x);const P=j(C);return"$async"in j||(this.errors=j.errors),P}compile(x,C){const j=this._addSchema(x,C);return j.validate||this._compileSchemaEnv(j)}compileAsync(x,C){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:j}=this.opts;return P.call(this,x,C);async function P(me,W){await O.call(this,me.$schema);const M=this._addSchema(me,W);return M.validate||G.call(this,M)}async function O(me){me&&!this.getSchema(me)&&await P.call(this,{$ref:me},!0)}async function G(me){try{return this._compileSchemaEnv(me)}catch(W){if(!(W instanceof i.default))throw W;return de.call(this,W),await fe.call(this,W.missingSchema),G.call(this,me)}}function de({missingSchema:me,missingRef:W}){if(this.refs[me])throw new Error(`AnySchema ${me} is loaded but ${W} cannot be resolved`)}async function fe(me){const W=await ye.call(this,me);this.refs[me]||await O.call(this,W.$schema),this.refs[me]||this.addSchema(W,me,C)}async function ye(me){const W=this._loading[me];if(W)return W;try{return await(this._loading[me]=j(me))}finally{delete this._loading[me]}}}addSchema(x,C,j,P=this.opts.validateSchema){if(Array.isArray(x)){for(const G of x)this.addSchema(G,void 0,j,P);return this}let O;if(typeof x=="object"){const{schemaId:G}=this.opts;if(O=x[G],O!==void 0&&typeof O!="string")throw new Error(`schema ${G} must be string`)}return C=(0,u.normalizeId)(C||O),this._checkUnique(C),this.schemas[C]=this._addSchema(x,j,C,P,!0),this}addMetaSchema(x,C,j=this.opts.validateSchema){return this.addSchema(x,C,!0,j),this}validateSchema(x,C){if(typeof x=="boolean")return!0;let j;if(j=x.$schema,j!==void 0&&typeof j!="string")throw new Error("$schema must be a string");if(j=j||this.opts.defaultMeta||this.defaultMeta(),!j)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const P=this.validate(j,x);if(!P&&C){const O="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(O);else throw new Error(O)}return P}getSchema(x){let C;for(;typeof(C=E.call(this,x))=="string";)x=C;if(C===void 0){const{schemaId:j}=this.opts,P=new o.SchemaEnv({schema:{},schemaId:j});if(C=o.resolveSchema.call(this,P,x),!C)return;this.refs[x]=C}return C.validate||this._compileSchemaEnv(C)}removeSchema(x){if(x instanceof RegExp)return this._removeAllSchemas(this.schemas,x),this._removeAllSchemas(this.refs,x),this;switch(typeof x){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const C=E.call(this,x);return typeof C=="object"&&this._cache.delete(C.schema),delete this.schemas[x],delete this.refs[x],this}case"object":{const C=x;this._cache.delete(C);let j=x[this.opts.schemaId];return j&&(j=(0,u.normalizeId)(j),delete this.schemas[j],delete this.refs[j]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(x){for(const C of x)this.addKeyword(C);return this}addKeyword(x,C){let j;if(typeof x=="string")j=x,typeof C=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),C.keyword=j);else if(typeof x=="object"&&C===void 0){if(C=x,j=C.keyword,Array.isArray(j)&&!j.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(V.call(this,j,C),!C)return(0,c.eachItem)(j,O=>le.call(this,O)),this;ve.call(this,C);const P={...C,type:(0,l.getJSONTypes)(C.type),schemaType:(0,l.getJSONTypes)(C.schemaType)};return(0,c.eachItem)(j,P.type.length===0?O=>le.call(this,O,P):O=>P.type.forEach(G=>le.call(this,O,P,G))),this}getKeyword(x){const C=this.RULES.all[x];return typeof C=="object"?C.definition:!!C}removeKeyword(x){const{RULES:C}=this;delete C.keywords[x],delete C.all[x];for(const j of C.rules){const P=j.rules.findIndex(O=>O.keyword===x);P>=0&&j.rules.splice(P,1)}return this}addFormat(x,C){return typeof C=="string"&&(C=new RegExp(C)),this.formats[x]=C,this}errorsText(x=this.errors,{separator:C=", ",dataVar:j="data"}={}){return!x||x.length===0?"No errors":x.map(P=>`${j}${P.instancePath} ${P.message}`).reduce((P,O)=>P+C+O)}$dataMetaSchema(x,C){const j=this.RULES.all;x=JSON.parse(JSON.stringify(x));for(const P of C){const O=P.split("/").slice(1);let G=x;for(const de of O)G=G[de];for(const de in j){const fe=j[de];if(typeof fe!="object")continue;const{$data:ye}=fe.definition,me=G[de];ye&&me&&(G[de]=ue(me))}}return x}_removeAllSchemas(x,C){for(const j in x){const P=x[j];(!C||C.test(j))&&(typeof P=="string"?delete x[j]:P&&!P.meta&&(this._cache.delete(P.schema),delete x[j]))}}_addSchema(x,C,j,P=this.opts.validateSchema,O=this.opts.addUsedSchema){let G;const{schemaId:de}=this.opts;if(typeof x=="object")G=x[de];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof x!="boolean")throw new Error("schema must be object or boolean")}let fe=this._cache.get(x);if(fe!==void 0)return fe;j=(0,u.normalizeId)(G||j);const ye=u.getSchemaRefs.call(this,x,j);return fe=new o.SchemaEnv({schema:x,schemaId:de,meta:C,baseId:j,localRefs:ye}),this._cache.set(fe.schema,fe),O&&!j.startsWith("#")&&(j&&this._checkUnique(j),this.refs[j]=fe),P&&this.validateSchema(x,!0),fe}_checkUnique(x){if(this.schemas[x]||this.refs[x])throw new Error(`schema with key or id "${x}" already exists`)}_compileSchemaEnv(x){if(x.meta?this._compileMetaSchema(x):o.compileSchema.call(this,x),!x.validate)throw new Error("ajv implementation error");return x.validate}_compileMetaSchema(x){const C=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,x)}finally{this.opts=C}}}e.default=T,T.ValidationError=r.default,T.MissingRefError=i.default;function I(te,x,C,j="error"){for(const P in te){const O=P;O in x&&this.logger[j](`${C}: option ${P}. ${te[O]}`)}}function E(te){return te=(0,u.normalizeId)(te),this.schemas[te]||this.refs[te]}function S(){const te=this.opts.schemas;if(te)if(Array.isArray(te))this.addSchema(te);else for(const x in te)this.addSchema(te[x],x)}function A(){for(const te in this.opts.formats){const x=this.opts.formats[te];x&&this.addFormat(te,x)}}function L(te){if(Array.isArray(te)){this.addVocabulary(te);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const x in te){const C=te[x];C.keyword||(C.keyword=x),this.addKeyword(C)}}function Y(){const te={...this.opts};for(const x of p)delete te[x];return te}const z={log(){},warn(){},error(){}};function U(te){if(te===!1)return z;if(te===void 0)return console;if(te.log&&te.warn&&te.error)return te;throw new Error("logger must implement log, warn and error methods")}const Z=/^[a-z_$][a-z0-9_$:-]*$/i;function V(te,x){const{RULES:C}=this;if((0,c.eachItem)(te,j=>{if(C.keywords[j])throw new Error(`Keyword ${j} is already defined`);if(!Z.test(j))throw new Error(`Keyword ${j} has invalid name`)}),!!x&&x.$data&&!("code"in x||"validate"in x))throw new Error('$data keyword must have "code" or "validate" function')}function le(te,x,C){var j;const P=x==null?void 0:x.post;if(C&&P)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:O}=this;let G=P?O.post:O.rules.find(({type:fe})=>fe===C);if(G||(G={type:C,rules:[]},O.rules.push(G)),O.keywords[te]=!0,!x)return;const de={keyword:te,definition:{...x,type:(0,l.getJSONTypes)(x.type),schemaType:(0,l.getJSONTypes)(x.schemaType)}};x.before?oe.call(this,G,de,x.before):G.rules.push(de),O.all[te]=de,(j=x.implements)===null||j===void 0||j.forEach(fe=>this.addKeyword(fe))}function oe(te,x,C){const j=te.rules.findIndex(P=>P.keyword===C);j>=0?te.rules.splice(j,0,x):(te.rules.push(x),this.logger.warn(`rule ${C} is not defined`))}function ve(te){let{metaSchema:x}=te;x!==void 0&&(te.$data&&this.opts.$data&&(x=ue(x)),te.validateSchema=this.compile(x,!0))}const re={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function ue(te){return{anyOf:[te,re]}}})(kQ);var Ak={},Ok={},Pk={};Object.defineProperty(Pk,"__esModule",{value:!0});const xAe={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};Pk.default=xAe;var Pd={};Object.defineProperty(Pd,"__esModule",{value:!0});Pd.callRef=Pd.getValidate=void 0;const CAe=w_,H8=qt,vs=Wt,mh=Ru,q8=As,Hv=hn,AAe={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:n,it:r}=e,{baseId:i,schemaEnv:s,validateName:o,opts:a,self:u}=r,{root:l}=s;if((n==="#"||n==="#/")&&i===l.baseId)return f();const c=q8.resolveRef.call(u,l,i,n);if(c===void 0)throw new CAe.default(r.opts.uriResolver,i,n);if(c instanceof q8.SchemaEnv)return d(c);return h(c);function f(){if(s===l)return W1(e,o,s,s.$async);const p=t.scopeValue("root",{ref:l});return W1(e,(0,vs._)`${p}.validate`,l,l.$async)}function d(p){const m=HQ(e,p);W1(e,m,p,p.$async)}function h(p){const m=t.scopeValue("schema",a.code.source===!0?{ref:p,code:(0,vs.stringify)(p)}:{ref:p}),y=t.name("valid"),g=e.subschema({schema:p,dataTypes:[],schemaPath:vs.nil,topSchemaRef:m,errSchemaPath:n},y);e.mergeEvaluated(g),e.ok(y)}}};function HQ(e,t){const{gen:n}=e;return t.validate?n.scopeValue("validate",{ref:t.validate}):(0,vs._)`${n.scopeValue("wrapper",{ref:t})}.validate`}Pd.getValidate=HQ;function W1(e,t,n,r){const{gen:i,it:s}=e,{allErrors:o,schemaEnv:a,opts:u}=s,l=u.passContext?mh.default.this:vs.nil;r?c():f();function c(){if(!a.$async)throw new Error("async schema referenced by sync schema");const p=i.let("valid");i.try(()=>{i.code((0,vs._)`await ${(0,H8.callValidateCode)(e,t,l)}`),h(t),o||i.assign(p,!0)},m=>{i.if((0,vs._)`!(${m} instanceof ${s.ValidationError})`,()=>i.throw(m)),d(m),o||i.assign(p,!1)}),e.ok(p)}function f(){e.result((0,H8.callValidateCode)(e,t,l),()=>h(t),()=>d(t))}function d(p){const m=(0,vs._)`${p}.errors`;i.assign(mh.default.vErrors,(0,vs._)`${mh.default.vErrors} === null ? ${m} : ${mh.default.vErrors}.concat(${m})`),i.assign(mh.default.errors,(0,vs._)`${mh.default.vErrors}.length`)}function h(p){var m;if(!s.opts.unevaluated)return;const y=(m=n==null?void 0:n.validate)===null||m===void 0?void 0:m.evaluated;if(s.props!==!0)if(y&&!y.dynamicProps)y.props!==void 0&&(s.props=Hv.mergeEvaluated.props(i,y.props,s.props));else{const g=i.var("props",(0,vs._)`${p}.evaluated.props`);s.props=Hv.mergeEvaluated.props(i,g,s.props,vs.Name)}if(s.items!==!0)if(y&&!y.dynamicItems)y.items!==void 0&&(s.items=Hv.mergeEvaluated.items(i,y.items,s.items));else{const g=i.var("items",(0,vs._)`${p}.evaluated.items`);s.items=Hv.mergeEvaluated.items(i,g,s.items,vs.Name)}}}Pd.callRef=W1;Pd.default=AAe;Object.defineProperty(Ok,"__esModule",{value:!0});const OAe=Pk,PAe=Pd,RAe=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",OAe.default,PAe.default];Ok.default=RAe;var Rk={},Nk={};Object.defineProperty(Nk,"__esModule",{value:!0});const Iw=Wt,Kl=Iw.operators,xw={maximum:{okStr:"<=",ok:Kl.LTE,fail:Kl.GT},minimum:{okStr:">=",ok:Kl.GTE,fail:Kl.LT},exclusiveMaximum:{okStr:"<",ok:Kl.LT,fail:Kl.GTE},exclusiveMinimum:{okStr:">",ok:Kl.GT,fail:Kl.LTE}},NAe={message:({keyword:e,schemaCode:t})=>(0,Iw.str)`must be ${xw[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,Iw._)`{comparison: ${xw[e].okStr}, limit: ${t}}`},kAe={keyword:Object.keys(xw),type:"number",schemaType:"number",$data:!0,error:NAe,code(e){const{keyword:t,data:n,schemaCode:r}=e;e.fail$data((0,Iw._)`${n} ${xw[t].fail} ${r} || isNaN(${n})`)}};Nk.default=kAe;var kk={};Object.defineProperty(kk,"__esModule",{value:!0});const Tg=Wt,DAe={message:({schemaCode:e})=>(0,Tg.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,Tg._)`{multipleOf: ${e}}`},$Ae={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:DAe,code(e){const{gen:t,data:n,schemaCode:r,it:i}=e,s=i.opts.multipleOfPrecision,o=t.let("res"),a=s?(0,Tg._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${s}`:(0,Tg._)`${o} !== parseInt(${o})`;e.fail$data((0,Tg._)`(${r} === 0 || (${o} = ${n}/${r}, ${a}))`)}};kk.default=$Ae;var Dk={},$k={};Object.defineProperty($k,"__esModule",{value:!0});function qQ(e){const t=e.length;let n=0,r=0,i;for(;r<t;)n++,i=e.charCodeAt(r++),i>=55296&&i<=56319&&r<t&&(i=e.charCodeAt(r),(i&64512)===56320&&r++);return n}$k.default=qQ;qQ.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(Dk,"__esModule",{value:!0});const jf=Wt,LAe=hn,MAe=$k,FAe={message({keyword:e,schemaCode:t}){const n=e==="maxLength"?"more":"fewer";return(0,jf.str)`must NOT have ${n} than ${t} characters`},params:({schemaCode:e})=>(0,jf._)`{limit: ${e}}`},BAe={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:FAe,code(e){const{keyword:t,data:n,schemaCode:r,it:i}=e,s=t==="maxLength"?jf.operators.GT:jf.operators.LT,o=i.opts.unicode===!1?(0,jf._)`${n}.length`:(0,jf._)`${(0,LAe.useFunc)(e.gen,MAe.default)}(${n})`;e.fail$data((0,jf._)`${o} ${s} ${r}`)}};Dk.default=BAe;var Lk={};Object.defineProperty(Lk,"__esModule",{value:!0});const jAe=qt,Cw=Wt,UAe={message:({schemaCode:e})=>(0,Cw.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,Cw._)`{pattern: ${e}}`},VAe={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:UAe,code(e){const{data:t,$data:n,schema:r,schemaCode:i,it:s}=e,o=s.opts.unicodeRegExp?"u":"",a=n?(0,Cw._)`(new RegExp(${i}, ${o}))`:(0,jAe.usePattern)(e,r);e.fail$data((0,Cw._)`!${a}.test(${t})`)}};Lk.default=VAe;var Mk={};Object.defineProperty(Mk,"__esModule",{value:!0});const Sg=Wt,zAe={message({keyword:e,schemaCode:t}){const n=e==="maxProperties"?"more":"fewer";return(0,Sg.str)`must NOT have ${n} than ${t} properties`},params:({schemaCode:e})=>(0,Sg._)`{limit: ${e}}`},HAe={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:zAe,code(e){const{keyword:t,data:n,schemaCode:r}=e,i=t==="maxProperties"?Sg.operators.GT:Sg.operators.LT;e.fail$data((0,Sg._)`Object.keys(${n}).length ${i} ${r}`)}};Mk.default=HAe;var Fk={};Object.defineProperty(Fk,"__esModule",{value:!0});const T0=qt,Ig=Wt,qAe=hn,WAe={message:({params:{missingProperty:e}})=>(0,Ig.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,Ig._)`{missingProperty: ${e}}`},YAe={keyword:"required",type:"object",schemaType:"array",$data:!0,error:WAe,code(e){const{gen:t,schema:n,schemaCode:r,data:i,$data:s,it:o}=e,{opts:a}=o;if(!s&&n.length===0)return;const u=n.length>=a.loopRequired;if(o.allErrors?l():c(),a.strictRequired){const h=e.parentSchema.properties,{definedProperties:p}=e.it;for(const m of n)if((h==null?void 0:h[m])===void 0&&!p.has(m)){const y=o.schemaEnv.baseId+o.errSchemaPath,g=`required property "${m}" is not defined at "${y}" (strictRequired)`;(0,qAe.checkStrictMode)(o,g,o.opts.strictRequired)}}function l(){if(u||s)e.block$data(Ig.nil,f);else for(const h of n)(0,T0.checkReportMissingProp)(e,h)}function c(){const h=t.let("missing");if(u||s){const p=t.let("valid",!0);e.block$data(p,()=>d(h,p)),e.ok(p)}else t.if((0,T0.checkMissingProp)(e,n,h)),(0,T0.reportMissingProp)(e,h),t.else()}function f(){t.forOf("prop",r,h=>{e.setParams({missingProperty:h}),t.if((0,T0.noPropertyInData)(t,i,h,a.ownProperties),()=>e.error())})}function d(h,p){e.setParams({missingProperty:h}),t.forOf(h,r,()=>{t.assign(p,(0,T0.propertyInData)(t,i,h,a.ownProperties)),t.if((0,Ig.not)(p),()=>{e.error(),t.break()})},Ig.nil)}}};Fk.default=YAe;var Bk={};Object.defineProperty(Bk,"__esModule",{value:!0});const xg=Wt,GAe={message({keyword:e,schemaCode:t}){const n=e==="maxItems"?"more":"fewer";return(0,xg.str)`must NOT have ${n} than ${t} items`},params:({schemaCode:e})=>(0,xg._)`{limit: ${e}}`},KAe={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:GAe,code(e){const{keyword:t,data:n,schemaCode:r}=e,i=t==="maxItems"?xg.operators.GT:xg.operators.LT;e.fail$data((0,xg._)`${n}.length ${i} ${r}`)}};Bk.default=KAe;var jk={},T_={};Object.defineProperty(T_,"__esModule",{value:!0});const WQ=Sk;WQ.code='require("ajv/dist/runtime/equal").default';T_.default=WQ;Object.defineProperty(jk,"__esModule",{value:!0});const MC=my,bi=Wt,QAe=hn,XAe=T_,JAe={message:({params:{i:e,j:t}})=>(0,bi.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,bi._)`{i: ${e}, j: ${t}}`},ZAe={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:JAe,code(e){const{gen:t,data:n,$data:r,schema:i,parentSchema:s,schemaCode:o,it:a}=e;if(!r&&!i)return;const u=t.let("valid"),l=s.items?(0,MC.getSchemaTypes)(s.items):[];e.block$data(u,c,(0,bi._)`${o} === false`),e.ok(u);function c(){const p=t.let("i",(0,bi._)`${n}.length`),m=t.let("j");e.setParams({i:p,j:m}),t.assign(u,!0),t.if((0,bi._)`${p} > 1`,()=>(f()?d:h)(p,m))}function f(){return l.length>0&&!l.some(p=>p==="object"||p==="array")}function d(p,m){const y=t.name("item"),g=(0,MC.checkDataTypes)(l,y,a.opts.strictNumbers,MC.DataType.Wrong),_=t.const("indices",(0,bi._)`{}`);t.for((0,bi._)`;${p}--;`,()=>{t.let(y,(0,bi._)`${n}[${p}]`),t.if(g,(0,bi._)`continue`),l.length>1&&t.if((0,bi._)`typeof ${y} == "string"`,(0,bi._)`${y} += "_"`),t.if((0,bi._)`typeof ${_}[${y}] == "number"`,()=>{t.assign(m,(0,bi._)`${_}[${y}]`),e.error(),t.assign(u,!1).break()}).code((0,bi._)`${_}[${y}] = ${p}`)})}function h(p,m){const y=(0,QAe.useFunc)(t,XAe.default),g=t.name("outer");t.label(g).for((0,bi._)`;${p}--;`,()=>t.for((0,bi._)`${m} = ${p}; ${m}--;`,()=>t.if((0,bi._)`${y}(${n}[${p}], ${n}[${m}])`,()=>{e.error(),t.assign(u,!1).break(g)})))}}};jk.default=ZAe;var Uk={};Object.defineProperty(Uk,"__esModule",{value:!0});const DP=Wt,eOe=hn,tOe=T_,nOe={message:"must be equal to constant",params:({schemaCode:e})=>(0,DP._)`{allowedValue: ${e}}`},rOe={keyword:"const",$data:!0,error:nOe,code(e){const{gen:t,data:n,$data:r,schemaCode:i,schema:s}=e;r||s&&typeof s=="object"?e.fail$data((0,DP._)`!${(0,eOe.useFunc)(t,tOe.default)}(${n}, ${i})`):e.fail((0,DP._)`${s} !== ${n}`)}};Uk.default=rOe;var Vk={};Object.defineProperty(Vk,"__esModule",{value:!0});const K0=Wt,iOe=hn,sOe=T_,oOe={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,K0._)`{allowedValues: ${e}}`},aOe={keyword:"enum",schemaType:"array",$data:!0,error:oOe,code(e){const{gen:t,data:n,$data:r,schema:i,schemaCode:s,it:o}=e;if(!r&&i.length===0)throw new Error("enum must have non-empty array");const a=i.length>=o.opts.loopEnum;let u;const l=()=>u??(u=(0,iOe.useFunc)(t,sOe.default));let c;if(a||r)c=t.let("valid"),e.block$data(c,f);else{if(!Array.isArray(i))throw new Error("ajv implementation error");const h=t.const("vSchema",s);c=(0,K0.or)(...i.map((p,m)=>d(h,m)))}e.pass(c);function f(){t.assign(c,!1),t.forOf("v",s,h=>t.if((0,K0._)`${l()}(${n}, ${h})`,()=>t.assign(c,!0).break()))}function d(h,p){const m=i[p];return typeof m=="object"&&m!==null?(0,K0._)`${l()}(${n}, ${h}[${p}])`:(0,K0._)`${n} === ${m}`}}};Vk.default=aOe;Object.defineProperty(Rk,"__esModule",{value:!0});const uOe=Nk,lOe=kk,cOe=Dk,fOe=Lk,dOe=Mk,hOe=Fk,pOe=Bk,mOe=jk,gOe=Uk,yOe=Vk,_Oe=[uOe.default,lOe.default,cOe.default,fOe.default,dOe.default,hOe.default,pOe.default,mOe.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},gOe.default,yOe.default];Rk.default=_Oe;var zk={},Om={};Object.defineProperty(Om,"__esModule",{value:!0});Om.validateAdditionalItems=void 0;const Uf=Wt,$P=hn,vOe={message:({params:{len:e}})=>(0,Uf.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Uf._)`{limit: ${e}}`},bOe={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:vOe,code(e){const{parentSchema:t,it:n}=e,{items:r}=t;if(!Array.isArray(r)){(0,$P.checkStrictMode)(n,'"additionalItems" is ignored when "items" is not an array of schemas');return}YQ(e,r)}};function YQ(e,t){const{gen:n,schema:r,data:i,keyword:s,it:o}=e;o.items=!0;const a=n.const("len",(0,Uf._)`${i}.length`);if(r===!1)e.setParams({len:t.length}),e.pass((0,Uf._)`${a} <= ${t.length}`);else if(typeof r=="object"&&!(0,$P.alwaysValidSchema)(o,r)){const l=n.var("valid",(0,Uf._)`${a} <= ${t.length}`);n.if((0,Uf.not)(l),()=>u(l)),e.ok(l)}function u(l){n.forRange("i",t.length,a,c=>{e.subschema({keyword:s,dataProp:c,dataPropType:$P.Type.Num},l),o.allErrors||n.if((0,Uf.not)(l),()=>n.break())})}}Om.validateAdditionalItems=YQ;Om.default=bOe;var Hk={},Pm={};Object.defineProperty(Pm,"__esModule",{value:!0});Pm.validateTuple=void 0;const W8=Wt,Y1=hn,EOe=qt,wOe={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:n}=e;if(Array.isArray(t))return GQ(e,"additionalItems",t);n.items=!0,!(0,Y1.alwaysValidSchema)(n,t)&&e.ok((0,EOe.validateArray)(e))}};function GQ(e,t,n=e.schema){const{gen:r,parentSchema:i,data:s,keyword:o,it:a}=e;c(i),a.opts.unevaluated&&n.length&&a.items!==!0&&(a.items=Y1.mergeEvaluated.items(r,n.length,a.items));const u=r.name("valid"),l=r.const("len",(0,W8._)`${s}.length`);n.forEach((f,d)=>{(0,Y1.alwaysValidSchema)(a,f)||(r.if((0,W8._)`${l} > ${d}`,()=>e.subschema({keyword:o,schemaProp:d,dataProp:d},u)),e.ok(u))});function c(f){const{opts:d,errSchemaPath:h}=a,p=n.length,m=p===f.minItems&&(p===f.maxItems||f[t]===!1);if(d.strictTuples&&!m){const y=`"${o}" is ${p}-tuple, but minItems or maxItems/${t} are not specified or different at path "${h}"`;(0,Y1.checkStrictMode)(a,y,d.strictTuples)}}}Pm.validateTuple=GQ;Pm.default=wOe;Object.defineProperty(Hk,"__esModule",{value:!0});const TOe=Pm,SOe={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,TOe.validateTuple)(e,"items")};Hk.default=SOe;var qk={};Object.defineProperty(qk,"__esModule",{value:!0});const Y8=Wt,IOe=hn,xOe=qt,COe=Om,AOe={message:({params:{len:e}})=>(0,Y8.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Y8._)`{limit: ${e}}`},OOe={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:AOe,code(e){const{schema:t,parentSchema:n,it:r}=e,{prefixItems:i}=n;r.items=!0,!(0,IOe.alwaysValidSchema)(r,t)&&(i?(0,COe.validateAdditionalItems)(e,i):e.ok((0,xOe.validateArray)(e)))}};qk.default=OOe;var Wk={};Object.defineProperty(Wk,"__esModule",{value:!0});const xo=Wt,qv=hn,POe={message:({params:{min:e,max:t}})=>t===void 0?(0,xo.str)`must contain at least ${e} valid item(s)`:(0,xo.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,xo._)`{minContains: ${e}}`:(0,xo._)`{minContains: ${e}, maxContains: ${t}}`},ROe={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:POe,code(e){const{gen:t,schema:n,parentSchema:r,data:i,it:s}=e;let o,a;const{minContains:u,maxContains:l}=r;s.opts.next?(o=u===void 0?1:u,a=l):o=1;const c=t.const("len",(0,xo._)`${i}.length`);if(e.setParams({min:o,max:a}),a===void 0&&o===0){(0,qv.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(a!==void 0&&o>a){(0,qv.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,qv.alwaysValidSchema)(s,n)){let m=(0,xo._)`${c} >= ${o}`;a!==void 0&&(m=(0,xo._)`${m} && ${c} <= ${a}`),e.pass(m);return}s.items=!0;const f=t.name("valid");a===void 0&&o===1?h(f,()=>t.if(f,()=>t.break())):o===0?(t.let(f,!0),a!==void 0&&t.if((0,xo._)`${i}.length > 0`,d)):(t.let(f,!1),d()),e.result(f,()=>e.reset());function d(){const m=t.name("_valid"),y=t.let("count",0);h(m,()=>t.if(m,()=>p(y)))}function h(m,y){t.forRange("i",0,c,g=>{e.subschema({keyword:"contains",dataProp:g,dataPropType:qv.Type.Num,compositeRule:!0},m),y()})}function p(m){t.code((0,xo._)`${m}++`),a===void 0?t.if((0,xo._)`${m} >= ${o}`,()=>t.assign(f,!0).break()):(t.if((0,xo._)`${m} > ${a}`,()=>t.assign(f,!1).break()),o===1?t.assign(f,!0):t.if((0,xo._)`${m} >= ${o}`,()=>t.assign(f,!0)))}}};Wk.default=ROe;var KQ={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=Wt,n=hn,r=qt;e.error={message:({params:{property:u,depsCount:l,deps:c}})=>{const f=l===1?"property":"properties";return(0,t.str)`must have ${f} ${c} when property ${u} is present`},params:({params:{property:u,depsCount:l,deps:c,missingProperty:f}})=>(0,t._)`{property: ${u},
    missingProperty: ${f},
    depsCount: ${l},
    deps: ${c}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(u){const[l,c]=s(u);o(u,l),a(u,c)}};function s({schema:u}){const l={},c={};for(const f in u){if(f==="__proto__")continue;const d=Array.isArray(u[f])?l:c;d[f]=u[f]}return[l,c]}function o(u,l=u.schema){const{gen:c,data:f,it:d}=u;if(Object.keys(l).length===0)return;const h=c.let("missing");for(const p in l){const m=l[p];if(m.length===0)continue;const y=(0,r.propertyInData)(c,f,p,d.opts.ownProperties);u.setParams({property:p,depsCount:m.length,deps:m.join(", ")}),d.allErrors?c.if(y,()=>{for(const g of m)(0,r.checkReportMissingProp)(u,g)}):(c.if((0,t._)`${y} && (${(0,r.checkMissingProp)(u,m,h)})`),(0,r.reportMissingProp)(u,h),c.else())}}e.validatePropertyDeps=o;function a(u,l=u.schema){const{gen:c,data:f,keyword:d,it:h}=u,p=c.name("valid");for(const m in l)(0,n.alwaysValidSchema)(h,l[m])||(c.if((0,r.propertyInData)(c,f,m,h.opts.ownProperties),()=>{const y=u.subschema({keyword:d,schemaProp:m},p);u.mergeValidEvaluated(y,p)},()=>c.var(p,!0)),u.ok(p))}e.validateSchemaDeps=a,e.default=i})(KQ);var Yk={};Object.defineProperty(Yk,"__esModule",{value:!0});const QQ=Wt,NOe=hn,kOe={message:"property name must be valid",params:({params:e})=>(0,QQ._)`{propertyName: ${e.propertyName}}`},DOe={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:kOe,code(e){const{gen:t,schema:n,data:r,it:i}=e;if((0,NOe.alwaysValidSchema)(i,n))return;const s=t.name("valid");t.forIn("key",r,o=>{e.setParams({propertyName:o}),e.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},s),t.if((0,QQ.not)(s),()=>{e.error(!0),i.allErrors||t.break()})}),e.ok(s)}};Yk.default=DOe;var ZS={};Object.defineProperty(ZS,"__esModule",{value:!0});const Wv=qt,ia=Wt,$Oe=Ru,Yv=hn,LOe={message:"must NOT have additional properties",params:({params:e})=>(0,ia._)`{additionalProperty: ${e.additionalProperty}}`},MOe={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:LOe,code(e){const{gen:t,schema:n,parentSchema:r,data:i,errsCount:s,it:o}=e;if(!s)throw new Error("ajv implementation error");const{allErrors:a,opts:u}=o;if(o.props=!0,u.removeAdditional!=="all"&&(0,Yv.alwaysValidSchema)(o,n))return;const l=(0,Wv.allSchemaProperties)(r.properties),c=(0,Wv.allSchemaProperties)(r.patternProperties);f(),e.ok((0,ia._)`${s} === ${$Oe.default.errors}`);function f(){t.forIn("key",i,y=>{!l.length&&!c.length?p(y):t.if(d(y),()=>p(y))})}function d(y){let g;if(l.length>8){const _=(0,Yv.schemaRefOrVal)(o,r.properties,"properties");g=(0,Wv.isOwnProperty)(t,_,y)}else l.length?g=(0,ia.or)(...l.map(_=>(0,ia._)`${y} === ${_}`)):g=ia.nil;return c.length&&(g=(0,ia.or)(g,...c.map(_=>(0,ia._)`${(0,Wv.usePattern)(e,_)}.test(${y})`))),(0,ia.not)(g)}function h(y){t.code((0,ia._)`delete ${i}[${y}]`)}function p(y){if(u.removeAdditional==="all"||u.removeAdditional&&n===!1){h(y);return}if(n===!1){e.setParams({additionalProperty:y}),e.error(),a||t.break();return}if(typeof n=="object"&&!(0,Yv.alwaysValidSchema)(o,n)){const g=t.name("valid");u.removeAdditional==="failing"?(m(y,g,!1),t.if((0,ia.not)(g),()=>{e.reset(),h(y)})):(m(y,g),a||t.if((0,ia.not)(g),()=>t.break()))}}function m(y,g,_){const b={keyword:"additionalProperties",dataProp:y,dataPropType:Yv.Type.Str};_===!1&&Object.assign(b,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(b,g)}}};ZS.default=MOe;var Gk={};Object.defineProperty(Gk,"__esModule",{value:!0});const FOe=QS(),G8=qt,FC=hn,K8=ZS,BOe={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,parentSchema:r,data:i,it:s}=e;s.opts.removeAdditional==="all"&&r.additionalProperties===void 0&&K8.default.code(new FOe.KeywordCxt(s,K8.default,"additionalProperties"));const o=(0,G8.allSchemaProperties)(n);for(const f of o)s.definedProperties.add(f);s.opts.unevaluated&&o.length&&s.props!==!0&&(s.props=FC.mergeEvaluated.props(t,(0,FC.toHash)(o),s.props));const a=o.filter(f=>!(0,FC.alwaysValidSchema)(s,n[f]));if(a.length===0)return;const u=t.name("valid");for(const f of a)l(f)?c(f):(t.if((0,G8.propertyInData)(t,i,f,s.opts.ownProperties)),c(f),s.allErrors||t.else().var(u,!0),t.endIf()),e.it.definedProperties.add(f),e.ok(u);function l(f){return s.opts.useDefaults&&!s.compositeRule&&n[f].default!==void 0}function c(f){e.subschema({keyword:"properties",schemaProp:f,dataProp:f},u)}}};Gk.default=BOe;var Kk={};Object.defineProperty(Kk,"__esModule",{value:!0});const Q8=qt,Gv=Wt,X8=hn,J8=hn,jOe={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,data:r,parentSchema:i,it:s}=e,{opts:o}=s,a=(0,Q8.allSchemaProperties)(n),u=a.filter(m=>(0,X8.alwaysValidSchema)(s,n[m]));if(a.length===0||u.length===a.length&&(!s.opts.unevaluated||s.props===!0))return;const l=o.strictSchema&&!o.allowMatchingProperties&&i.properties,c=t.name("valid");s.props!==!0&&!(s.props instanceof Gv.Name)&&(s.props=(0,J8.evaluatedPropsToName)(t,s.props));const{props:f}=s;d();function d(){for(const m of a)l&&h(m),s.allErrors?p(m):(t.var(c,!0),p(m),t.if(c))}function h(m){for(const y in l)new RegExp(m).test(y)&&(0,X8.checkStrictMode)(s,`property ${y} matches pattern ${m} (use allowMatchingProperties)`)}function p(m){t.forIn("key",r,y=>{t.if((0,Gv._)`${(0,Q8.usePattern)(e,m)}.test(${y})`,()=>{const g=u.includes(m);g||e.subschema({keyword:"patternProperties",schemaProp:m,dataProp:y,dataPropType:J8.Type.Str},c),s.opts.unevaluated&&f!==!0?t.assign((0,Gv._)`${f}[${y}]`,!0):!g&&!s.allErrors&&t.if((0,Gv.not)(c),()=>t.break())})})}}};Kk.default=jOe;var Qk={};Object.defineProperty(Qk,"__esModule",{value:!0});const UOe=hn,VOe={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:n,it:r}=e;if((0,UOe.alwaysValidSchema)(r,n)){e.fail();return}const i=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),e.failResult(i,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};Qk.default=VOe;var Xk={};Object.defineProperty(Xk,"__esModule",{value:!0});const zOe=qt,HOe={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:zOe.validateUnion,error:{message:"must match a schema in anyOf"}};Xk.default=HOe;var Jk={};Object.defineProperty(Jk,"__esModule",{value:!0});const G1=Wt,qOe=hn,WOe={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,G1._)`{passingSchemas: ${e.passing}}`},YOe={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:WOe,code(e){const{gen:t,schema:n,parentSchema:r,it:i}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(i.opts.discriminator&&r.discriminator)return;const s=n,o=t.let("valid",!1),a=t.let("passing",null),u=t.name("_valid");e.setParams({passing:a}),t.block(l),e.result(o,()=>e.reset(),()=>e.error(!0));function l(){s.forEach((c,f)=>{let d;(0,qOe.alwaysValidSchema)(i,c)?t.var(u,!0):d=e.subschema({keyword:"oneOf",schemaProp:f,compositeRule:!0},u),f>0&&t.if((0,G1._)`${u} && ${o}`).assign(o,!1).assign(a,(0,G1._)`[${a}, ${f}]`).else(),t.if(u,()=>{t.assign(o,!0),t.assign(a,f),d&&e.mergeEvaluated(d,G1.Name)})})}}};Jk.default=YOe;var Zk={};Object.defineProperty(Zk,"__esModule",{value:!0});const GOe=hn,KOe={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:n,it:r}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");const i=t.name("valid");n.forEach((s,o)=>{if((0,GOe.alwaysValidSchema)(r,s))return;const a=e.subschema({keyword:"allOf",schemaProp:o},i);e.ok(i),e.mergeEvaluated(a)})}};Zk.default=KOe;var eD={};Object.defineProperty(eD,"__esModule",{value:!0});const Aw=Wt,XQ=hn,QOe={message:({params:e})=>(0,Aw.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,Aw._)`{failingKeyword: ${e.ifClause}}`},XOe={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:QOe,code(e){const{gen:t,parentSchema:n,it:r}=e;n.then===void 0&&n.else===void 0&&(0,XQ.checkStrictMode)(r,'"if" without "then" and "else" is ignored');const i=Z8(r,"then"),s=Z8(r,"else");if(!i&&!s)return;const o=t.let("valid",!0),a=t.name("_valid");if(u(),e.reset(),i&&s){const c=t.let("ifClause");e.setParams({ifClause:c}),t.if(a,l("then",c),l("else",c))}else i?t.if(a,l("then")):t.if((0,Aw.not)(a),l("else"));e.pass(o,()=>e.error(!0));function u(){const c=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);e.mergeEvaluated(c)}function l(c,f){return()=>{const d=e.subschema({keyword:c},a);t.assign(o,a),e.mergeValidEvaluated(d,o),f?t.assign(f,(0,Aw._)`${c}`):e.setParams({ifClause:c})}}}};function Z8(e,t){const n=e.schema[t];return n!==void 0&&!(0,XQ.alwaysValidSchema)(e,n)}eD.default=XOe;var tD={};Object.defineProperty(tD,"__esModule",{value:!0});const JOe=hn,ZOe={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:n}){t.if===void 0&&(0,JOe.checkStrictMode)(n,`"${e}" without "if" is ignored`)}};tD.default=ZOe;Object.defineProperty(zk,"__esModule",{value:!0});const ePe=Om,tPe=Hk,nPe=Pm,rPe=qk,iPe=Wk,sPe=KQ,oPe=Yk,aPe=ZS,uPe=Gk,lPe=Kk,cPe=Qk,fPe=Xk,dPe=Jk,hPe=Zk,pPe=eD,mPe=tD;function gPe(e=!1){const t=[cPe.default,fPe.default,dPe.default,hPe.default,pPe.default,mPe.default,oPe.default,aPe.default,sPe.default,uPe.default,lPe.default];return e?t.push(tPe.default,rPe.default):t.push(ePe.default,nPe.default),t.push(iPe.default),t}zk.default=gPe;var nD={},rD={};Object.defineProperty(rD,"__esModule",{value:!0});const Pr=Wt,yPe={message:({schemaCode:e})=>(0,Pr.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,Pr._)`{format: ${e}}`},_Pe={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:yPe,code(e,t){const{gen:n,data:r,$data:i,schema:s,schemaCode:o,it:a}=e,{opts:u,errSchemaPath:l,schemaEnv:c,self:f}=a;if(!u.validateFormats)return;i?d():h();function d(){const p=n.scopeValue("formats",{ref:f.formats,code:u.code.formats}),m=n.const("fDef",(0,Pr._)`${p}[${o}]`),y=n.let("fType"),g=n.let("format");n.if((0,Pr._)`typeof ${m} == "object" && !(${m} instanceof RegExp)`,()=>n.assign(y,(0,Pr._)`${m}.type || "string"`).assign(g,(0,Pr._)`${m}.validate`),()=>n.assign(y,(0,Pr._)`"string"`).assign(g,m)),e.fail$data((0,Pr.or)(_(),b()));function _(){return u.strictSchema===!1?Pr.nil:(0,Pr._)`${o} && !${g}`}function b(){const T=c.$async?(0,Pr._)`(${m}.async ? await ${g}(${r}) : ${g}(${r}))`:(0,Pr._)`${g}(${r})`,I=(0,Pr._)`(typeof ${g} == "function" ? ${T} : ${g}.test(${r}))`;return(0,Pr._)`${g} && ${g} !== true && ${y} === ${t} && !${I}`}}function h(){const p=f.formats[s];if(!p){_();return}if(p===!0)return;const[m,y,g]=b(p);m===t&&e.pass(T());function _(){if(u.strictSchema===!1){f.logger.warn(I());return}throw new Error(I());function I(){return`unknown format "${s}" ignored in schema at path "${l}"`}}function b(I){const E=I instanceof RegExp?(0,Pr.regexpCode)(I):u.code.formats?(0,Pr._)`${u.code.formats}${(0,Pr.getProperty)(s)}`:void 0,S=n.scopeValue("formats",{key:s,ref:I,code:E});return typeof I=="object"&&!(I instanceof RegExp)?[I.type||"string",I.validate,(0,Pr._)`${S}.validate`]:["string",I,S]}function T(){if(typeof p=="object"&&!(p instanceof RegExp)&&p.async){if(!c.$async)throw new Error("async format in sync schema");return(0,Pr._)`await ${g}(${r})`}return typeof y=="function"?(0,Pr._)`${g}(${r})`:(0,Pr._)`${g}.test(${r})`}}}};rD.default=_Pe;Object.defineProperty(nD,"__esModule",{value:!0});const vPe=rD,bPe=[vPe.default];nD.default=bPe;var Yp={};Object.defineProperty(Yp,"__esModule",{value:!0});Yp.contentVocabulary=Yp.metadataVocabulary=void 0;Yp.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Yp.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(Ak,"__esModule",{value:!0});const EPe=Ok,wPe=Rk,TPe=zk,SPe=nD,e9=Yp,IPe=[EPe.default,wPe.default,(0,TPe.default)(),SPe.default,e9.metadataVocabulary,e9.contentVocabulary];Ak.default=IPe;var iD={},JQ={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))})(JQ);Object.defineProperty(iD,"__esModule",{value:!0});const Th=Wt,LP=JQ,t9=As,xPe=hn,CPe={message:({params:{discrError:e,tagName:t}})=>e===LP.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:n}})=>(0,Th._)`{error: ${e}, tag: ${n}, tagValue: ${t}}`},APe={keyword:"discriminator",type:"object",schemaType:"object",error:CPe,code(e){const{gen:t,data:n,schema:r,parentSchema:i,it:s}=e,{oneOf:o}=i;if(!s.opts.discriminator)throw new Error("discriminator: requires discriminator option");const a=r.propertyName;if(typeof a!="string")throw new Error("discriminator: requires propertyName");if(r.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");const u=t.let("valid",!1),l=t.const("tag",(0,Th._)`${n}${(0,Th.getProperty)(a)}`);t.if((0,Th._)`typeof ${l} == "string"`,()=>c(),()=>e.error(!1,{discrError:LP.DiscrError.Tag,tag:l,tagName:a})),e.ok(u);function c(){const h=d();t.if(!1);for(const p in h)t.elseIf((0,Th._)`${l} === ${p}`),t.assign(u,f(h[p]));t.else(),e.error(!1,{discrError:LP.DiscrError.Mapping,tag:l,tagName:a}),t.endIf()}function f(h){const p=t.name("valid"),m=e.subschema({keyword:"oneOf",schemaProp:h},p);return e.mergeEvaluated(m,Th.Name),p}function d(){var h;const p={},m=g(i);let y=!0;for(let T=0;T<o.length;T++){let I=o[T];I!=null&&I.$ref&&!(0,xPe.schemaHasRulesButRef)(I,s.self.RULES)&&(I=t9.resolveRef.call(s.self,s.schemaEnv.root,s.baseId,I==null?void 0:I.$ref),I instanceof t9.SchemaEnv&&(I=I.schema));const E=(h=I==null?void 0:I.properties)===null||h===void 0?void 0:h[a];if(typeof E!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);y=y&&(m||g(I)),_(E,T)}if(!y)throw new Error(`discriminator: "${a}" must be required`);return p;function g({required:T}){return Array.isArray(T)&&T.includes(a)}function _(T,I){if(T.const)b(T.const,I);else if(T.enum)for(const E of T.enum)b(E,I);else throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`)}function b(T,I){if(typeof T!="string"||T in p)throw new Error(`discriminator: "${a}" values must be unique strings`);p[T]=I}}}};iD.default=APe;const OPe="http://json-schema.org/draft-07/schema#",PPe="http://json-schema.org/draft-07/schema#",RPe="Core schema meta-schema",NPe={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},kPe=["object","boolean"],DPe={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},$Pe={$schema:OPe,$id:PPe,title:RPe,definitions:NPe,type:kPe,properties:DPe,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const n=kQ,r=Ak,i=iD,s=$Pe,o=["/properties"],a="http://json-schema.org/draft-07/schema";class u extends n.default{_addVocabularies(){super._addVocabularies(),r.default.forEach(p=>this.addVocabulary(p)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const p=this.opts.$data?this.$dataMetaSchema(s,o):s;this.addMetaSchema(p,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}e.exports=t=u,Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var l=QS();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return l.KeywordCxt}});var c=Wt;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return c._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return c.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return c.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return c.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return c.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return c.CodeGen}});var f=Ik();Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return f.default}});var d=w_;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return d.default}})})(PP,PP.exports);var LPe=PP.exports;const ZQ=Ca(LPe),MPe="#/definitions/StudyConfig",FPe="http://json-schema.org/draft-07/schema#",BPe={Answer:{additionalProperties:!1,description:"The Answer interface is used to define the properties of an answer. Answers are used to define the correct answer for a task. These are generally used in training tasks.",properties:{acceptableHigh:{description:"The acceptable high value for the answer. This is used to define a range of acceptable answers.",type:"number"},acceptableLow:{description:"The acceptable low value for the answer. This is used to define a range of acceptable answers.",type:"number"},answer:{description:"The correct answer to the question."},id:{description:"The id of the answer. This is used to identify the answer in the data file.",type:"string"}},required:["id","answer"],type:"object"},CheckboxResponse:{additionalProperties:!1,description:"The CheckboxResponse interface is used to define the properties of a checkbox response. CheckboxResponses render as a checkbox input with user specified options.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},options:{description:"The options that are displayed as checkboxes.",items:{$ref:"#/definitions/Option"},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"checkbox",type:"string"}},required:["id","location","options","prompt","required","type"],type:"object"},DropdownResponse:{additionalProperties:!1,description:"The DropdownResponse interface is used to define the properties of a dropdown response. DropdownResponses render as a select input with user specified options.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},options:{description:"The options that are displayed in the dropdown.",items:{$ref:"#/definitions/Option"},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"dropdown",type:"string"}},required:["id","location","options","prompt","required","type"],type:"object"},IFrameResponse:{additionalProperties:!1,description:"The IFrameResponse interface is used to define the properties of an iframe response. IFrameResponses render as a list, that is connected to a WebsiteComponent. When data is sent from the WebsiteComponent, it is displayed in the list.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"iframe",type:"string"}},required:["id","location","prompt","required","type"],type:"object"},ImageComponent:{additionalProperties:!1,description:"The ImageComponent interface is used to define the properties of an image component. This component is used to render an image with optional styling.",properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},path:{description:"The path to the image. This should be a relative path from the public folder.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},style:{additionalProperties:{type:"string"},description:"The style of the image. This is an object with css properties as keys and css values as values.",type:"object"},type:{const:"image",type:"string"}},required:["path","response","type"],type:"object"},IndividualComponent:{anyOf:[{$ref:"#/definitions/MarkdownComponent"},{$ref:"#/definitions/ReactComponent"},{$ref:"#/definitions/ImageComponent"},{$ref:"#/definitions/WebsiteComponent"},{$ref:"#/definitions/QuestionnaireComponent"}]},InheritedComponent:{additionalProperties:!1,description:"An InheritedComponent is a component that inherits properties from a baseComponent. This is used to avoid repeating properties in components. This also means that components in the baseComponents object can be partially defined, while components in the components object can inherit from them and must be fully defined and include all properties (after potentially merging with a base component).",properties:{baseComponent:{type:"string"},correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{anyOf:[{additionalProperties:{},description:"The parameters that are passed to the react component. These can be used within your react component to render different things.",type:"object"},{additionalProperties:{},description:"The parameters that are passed to the website (iframe). These can be used within your website to render different things.",type:"object"}],description:"The parameters that are passed to the react component. These can be used within your react component to render different things."},path:{description:"The path to the markdown file. This should be a relative path from the public folder.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},style:{additionalProperties:{type:"string"},description:"The style of the image. This is an object with css properties as keys and css values as values.",type:"object"},type:{enum:["markdown","react-component","image","website","questionnaire"],type:"string"}},required:["baseComponent"],type:"object"},LikertResponse:{additionalProperties:!1,description:"The LikertResponse interface is used to define the properties of a likert response. LikertResponses render as radio buttons with a user specified number of options, which can be controlled through the preset. For example, preset: 5 will render 5 radio buttons, and preset: 7 will render 7 radio buttons. LikertResponses can also have a description, and left and right labels. The left and right labels are used to label the left and right ends of the likert scale with values such as 'Strongly Disagree' and 'Strongly Agree'.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},desc:{description:"The description of the likert scale.",type:"string"},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},leftLabel:{description:"The left label of the likert scale. E.g Strongly Disagree",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},preset:{description:"The number of options to render.",type:"number"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},rightLabel:{description:"The right label of the likert scale. E.g Strongly Agree",type:"string"},type:{const:"likert",type:"string"}},required:["id","location","preset","prompt","required","type"],type:"object"},LongTextResponse:{additionalProperties:!1,description:"The LongTextResponse interface is used to define the properties of a long text response. LongTextResponses render as a text area that accepts any text and can optionally have a placeholder.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"longText",type:"string"}},required:["id","location","prompt","required","type"],type:"object"},MarkdownComponent:{additionalProperties:!1,description:"The MarkdownComponent interface is used to define the properties of a markdown component. The components can be used to render many different things, such as consent forms, instructions, and debriefs. Additionally, you can use the markdown component to render images, videos, and other media, with supporting text.",properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},path:{description:"The path to the markdown file. This should be a relative path from the public folder.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},type:{const:"markdown",type:"string"}},required:["path","response","type"],type:"object"},NumericalResponse:{additionalProperties:!1,description:"The NumericalResponse interface is used to define the properties of a numerical response. NumericalResponses render as a text input that only accepts numbers, and can optionally have a min and max value, or a placeholder.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},max:{description:"The maximum value that is accepted in the input.",type:"number"},min:{description:"The minimum value that is accepted in the input.",type:"number"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"numerical",type:"string"}},required:["id","location","prompt","required","type"],type:"object"},Option:{additionalProperties:!1,description:"The Option interface is used to define the options for a dropdown, slider, radio, or checkbox response. The label is the text that is displayed to the user, and the value is the value that is stored in the data file. The Option interface is used in the Response interface.",properties:{label:{description:"The label displayed to participants.",type:"string"},value:{description:"The value stored in the participant's data.",type:["string","number"]}},required:["label","value"],type:"object"},OrderObject:{additionalProperties:!1,description:"The OrderObject interface is used to define the properties of an order object. This is used to define the order of components in a study. It supports random assignment of trials using a pure random assignment and a latin square.",properties:{components:{description:"The components that are included in the order.",items:{anyOf:[{type:"string"},{$ref:"#/definitions/OrderObject"}]},type:"array"},numSamples:{description:"The number of samples to use for the random assignments. This means you can randomize across 3 components while only showing a participant 2 at a time.",type:"number"},order:{description:"The type of order. This can be random (pure random), latinSquare (random with some guarantees), or fixed.",enum:["random","latinSquare","fixed"],type:"string"}},required:["order","components"],type:"object"},QuestionnaireComponent:{additionalProperties:!1,description:"The QuestionnaireComponent interface is used to define the properties of a questionnaire component. A QuestionnaireComponent is used to render questions with different response types. The response types are also defined with these documentation. The main use case of this component type is to ask participants questions, without using markdown, websites, images, etc.",properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},type:{const:"questionnaire",type:"string"}},required:["response","type"],type:"object"},RadioResponse:{additionalProperties:!1,description:"The RadioResponse interface is used to define the properties of a radio response. RadioResponses render as a radio input with user specified options, and optionally left and right labels.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},leftLabel:{type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},options:{items:{$ref:"#/definitions/Option"},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},rightLabel:{type:"string"},type:{const:"radio",type:"string"}},required:["id","location","options","prompt","required","type"],type:"object"},ReactComponent:{additionalProperties:!1,description:"The ReactComponent interface is used to define the properties of a react component. This component is used to render react code with certain parameters. These parameters can be used within your react code to render different things.",properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{additionalProperties:{},description:"The parameters that are passed to the react component. These can be used within your react component to render different things.",type:"object"},path:{description:"The path to the react component. This should be a relative path from the src/public folder.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},type:{const:"react-component",type:"string"}},required:["path","response","type"],type:"object"},Response:{anyOf:[{$ref:"#/definitions/NumericalResponse"},{$ref:"#/definitions/ShortTextResponse"},{$ref:"#/definitions/LongTextResponse"},{$ref:"#/definitions/LikertResponse"},{$ref:"#/definitions/DropdownResponse"},{$ref:"#/definitions/SliderResponse"},{$ref:"#/definitions/RadioResponse"},{$ref:"#/definitions/CheckboxResponse"},{$ref:"#/definitions/IFrameResponse"}]},ResponseBlockLocation:{enum:["sidebar","aboveStimulus","belowStimulus"],type:"string"},ShortTextResponse:{additionalProperties:!1,description:"The ShortTextResponse interface is used to define the properties of a short text response. ShortTextResponses render as a text input that accepts any text and can optionally have a placeholder.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"shortText",type:"string"}},required:["id","location","prompt","required","type"],type:"object"},SliderResponse:{additionalProperties:!1,description:"The SliderResponse interface is used to define the properties of a slider response. SliderResponses render as a slider input with user specified steps. For example, you could have steps of 0, 50, and 100.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},leftLabel:{description:"The left label of the likert scale. E.g Strongly Disagree",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},options:{description:"This define the steps in the slider and the extent of the slider.",items:{$ref:"#/definitions/Option"},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},rightLabel:{description:"The right label of the likert scale. E.g Strongly Agree",type:"string"},type:{const:"slider",type:"string"}},required:["id","location","options","prompt","required","type"],type:"object"},StudyConfig:{additionalProperties:!1,description:"The StudyConfig interface is used to define the properties of a study configuration. These are the hjson files that live in the public folder. In our repo, one example of this would be public/cleveland/config-cleveland.json.",properties:{$schema:{description:"A required json schema property. This should point to the github link for the version of the schema you would like. See examples for more information",type:"string"},baseComponents:{additionalProperties:{anyOf:[{$ref:"#/definitions/IndividualComponent"},{additionalProperties:!1,properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{anyOf:[{additionalProperties:{},description:"The parameters that are passed to the react component. These can be used within your react component to render different things.",type:"object"},{additionalProperties:{},description:"The parameters that are passed to the website (iframe). These can be used within your website to render different things.",type:"object"}],description:"The parameters that are passed to the react component. These can be used within your react component to render different things."},path:{description:"The path to the markdown file. This should be a relative path from the public folder.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},style:{additionalProperties:{type:"string"},description:"The style of the image. This is an object with css properties as keys and css values as values.",type:"object"},type:{enum:["markdown","react-component","image","website","questionnaire"],type:"string"}},type:"object"}]},description:"The components that are used in the study (baseComponents allow PartialComponents which allows for inheriting from them in components).",type:"object"},components:{additionalProperties:{anyOf:[{$ref:"#/definitions/IndividualComponent"},{$ref:"#/definitions/InheritedComponent"}]},description:"The components that are used in the study. They must be fully defined here with all properties. Some properties may be inherited from baseComponents.",type:"object"},sequence:{$ref:"#/definitions/OrderObject",description:"The order of the components in the study. This might include some randomness."},studyMetadata:{$ref:"#/definitions/StudyMetadata",description:"The metadata for the study. This is used to identify the study and version in the data file."},uiConfig:{$ref:"#/definitions/UIConfig",description:"The UI configuration for the study. This is used to configure the UI of the app."}},required:["$schema","studyMetadata","uiConfig","components","sequence"],type:"object"},StudyMetadata:{additionalProperties:!1,description:"The StudyMetadata is used to describe certain properties of a study. Some of this data is displayed on the landing page when running the app, such as the title and description. This data is also included in the data file that is downloaded at the end of the study, to help identify the study and version.",properties:{authors:{description:"The authors of your study.",items:{type:"string"},type:"array"},date:{description:"The date of your study, may be useful for the researcher.",type:"string"},description:{description:"The description of your study, shown on the landing page.",type:"string"},organizations:{description:"The organizations that are associated with your study.",items:{type:"string"},type:"array"},title:{description:"The title of your study, shown on the landing page.",type:"string"},version:{description:"The version of your study, shown on the landing page and attached to participant data. This might be useful for seeing which version of the study a participant saw.",type:"string"}},required:["title","version","authors","date","description","organizations"],type:"object"},UIConfig:{additionalProperties:!1,description:"The UIConfig is used to configure the UI of the app. This includes the logo, contact email, and whether to show a progress bar. The UIConfig is also used to configure the sidebar, which can be used to display the task instructions and capture responses.",properties:{autoDownloadStudy:{description:"Controls whether the study data is automatically downloaded at the end of the study.",type:"boolean"},autoDownloadTime:{description:"The time in milliseconds to wait before automatically downloading the study data.",type:"number"},contactEmail:{description:"The email address that used during the study if a participant clicks contact.",type:"string"},helpTextPath:{description:"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported.",type:"string"},logoPath:{description:"The path to the logo image. This is displayed on the landing page and the header.",type:"string"},sidebar:{description:"Controls whether the left sidebar is rendered at all. Required to be true if your response's location is set to sidebar for any question.",type:"boolean"},studyEndMsg:{description:"The message to display when the study ends.",type:"string"},urlParticipantIdParam:{description:"If the participant ID is passed in the URL, this is the name of the querystring parameter that is used to capture the participant ID (e.g. PROLIFIC_ID). This will allow a user to continue a study on different devices and browsers.",type:"string"},windowEventDebounceTime:{description:"Debounce time in milliseconds for automatically tracked window events. Defaults to 100. E.g 100 here means 1000ms / 100ms = 10 times a second, 200 here means 1000ms / 200ms = 5 times per second",type:"number"},withProgressBar:{description:"Controls whether the progress bar is rendered in the study.",type:"boolean"}},required:["contactEmail","logoPath","withProgressBar","sidebar"],type:"object"},WebsiteComponent:{additionalProperties:!1,description:"The WebsiteComponent interface is used to define the properties of a website component. A WebsiteComponent is used to render an iframe with a website inside of it. This can be used to display an external website or an html file that is located in the public folder.",properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{additionalProperties:{},description:"The parameters that are passed to the website (iframe). These can be used within your website to render different things.",type:"object"},path:{description:"The path to the website. This should be a relative path from the public folder or could be an external website.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},type:{const:"website",type:"string"}},required:["path","response","type"],type:"object"}},jPe={$ref:MPe,$schema:FPe,definitions:BPe},UPe="#/definitions/GlobalConfig",VPe="http://json-schema.org/draft-07/schema#",zPe={GlobalConfig:{additionalProperties:!1,description:"The GlobalConfig is used to generate the list of available studies in the UI. This list is displayed on the landing page when running the app.",properties:{$schema:{description:"A required json schema property. This should point to the github link for the version of the schema you would like. See examples for more information",type:"string"},configs:{additionalProperties:{additionalProperties:!1,description:"The key is used to identify the study config file. This key is used in the configList property.",properties:{path:{description:"The path to the study config file. This should be a relative path from the public folder.",type:"string"}},required:["path"],type:"object"},description:"A required property that specifies the options for the configList property.",type:"object"},configsList:{description:"A required property that is used to generate the list of available studies in the UI. This list is displayed on the landing page when running the app.",items:{type:"string"},type:"array"}},required:["$schema","configs","configsList"],type:"object"}},HPe={$ref:UPe,$schema:VPe,definitions:zPe},eX=new ZQ;eX.addSchema(HPe);const n9=eX.getSchema("#/definitions/GlobalConfig"),tX=new ZQ;tX.addSchema(jPe);const r9=tX.getSchema("#/definitions/StudyConfig");function qPe(e){const t=[];return[e.configsList.every(r=>e.configs[r]===void 0?(t.push({message:`Config ${r} is not defined in configs object, but is present in configsList`}),!1):!0),t]}function eI(e){return e.baseComponent!==void 0}function WPe(e){const t=bk.parse(e),n=n9(t),r=qPe(t);if(n&&r[0])return t;throw console.error("Global config parsing errors",[...n9.errors||[],...r[1]]),Error("There was an issue validating your file global.json")}function YPe(e){const t=[];return[Object.values(e.components).every(r=>{var i;return eI(r)?!!((i=e.baseComponents)!=null&&i[r.baseComponent]):!0}),t]}function nX(e,t){const n=bk.parse(e),r=r9(n),i=YPe(n);if(r&&i[0])return n;throw console.error(`${t} parsing errors`,[...r9.errors||[],...i[1]]),Error(`There was an issue validating your file ${t}`)}function ha(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Kc(e){return!!e&&!!e[ir]}function bl(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===n2e}(e)||Array.isArray(e)||!!e[c9]||!!(!((t=e.constructor)===null||t===void 0)&&t[c9])||sD(e)||oD(e))}function Rd(e,t,n){n===void 0&&(n=!1),Rm(e)===0?(n?Object.keys:hp)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function Rm(e){var t=e[ir];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:sD(e)?2:oD(e)?3:0}function dp(e,t){return Rm(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function GPe(e,t){return Rm(e)===2?e.get(t):e[t]}function rX(e,t,n){var r=Rm(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function iX(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function sD(e){return e2e&&e instanceof Map}function oD(e){return t2e&&e instanceof Set}function Nf(e){return e.o||e.t}function aD(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=oX(e);delete t[ir];for(var n=hp(t),r=0;r<n.length;r++){var i=n[r],s=t[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function uD(e,t){return t===void 0&&(t=!1),lD(e)||Kc(e)||!bl(e)||(Rm(e)>1&&(e.set=e.add=e.clear=e.delete=KPe),Object.freeze(e),t&&Rd(e,function(n,r){return uD(r,!0)},!0)),e}function KPe(){ha(2)}function lD(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function uu(e){var t=jP[e];return t||ha(18,e),t}function QPe(e,t){jP[e]||(jP[e]=t)}function MP(){return gy}function BC(e,t){t&&(uu("Patches"),e.u=[],e.s=[],e.v=t)}function Ow(e){FP(e),e.p.forEach(XPe),e.p=null}function FP(e){e===gy&&(gy=e.l)}function i9(e){return gy={p:[],l:gy,h:e,m:!0,_:0}}function XPe(e){var t=e[ir];t.i===0||t.i===1?t.j():t.O=!0}function jC(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.g||uu("ES5").S(t,e,r),r?(n[ir].P&&(Ow(t),ha(4)),bl(e)&&(e=Pw(t,e),t.l||Rw(t,e)),t.u&&uu("Patches").M(n[ir].t,e,t.u,t.s)):e=Pw(t,n,[]),Ow(t),t.u&&t.v(t.u,t.s),e!==sX?e:void 0}function Pw(e,t,n){if(lD(t))return t;var r=t[ir];if(!r)return Rd(t,function(a,u){return s9(e,r,t,a,u,n)},!0),t;if(r.A!==e)return t;if(!r.P)return Rw(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=aD(r.k):r.o,s=i,o=!1;r.i===3&&(s=new Set(i),i.clear(),o=!0),Rd(s,function(a,u){return s9(e,r,i,a,u,n,o)}),Rw(e,i,!1),n&&e.u&&uu("Patches").N(r,n,e.u,e.s)}return r.o}function s9(e,t,n,r,i,s,o){if(Kc(i)){var a=Pw(e,i,s&&t&&t.i!==3&&!dp(t.R,r)?s.concat(r):void 0);if(rX(n,r,a),!Kc(a))return;e.m=!1}else o&&n.add(i);if(bl(i)&&!lD(i)){if(!e.h.D&&e._<1)return;Pw(e,i),t&&t.A.l||Rw(e,i)}}function Rw(e,t,n){n===void 0&&(n=!1),!e.l&&e.h.D&&e.m&&uD(t,n)}function UC(e,t){var n=e[ir];return(n?Nf(n):e)[t]}function o9(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function fc(e){e.P||(e.P=!0,e.l&&fc(e.l))}function VC(e){e.o||(e.o=aD(e.t))}function BP(e,t,n){var r=sD(t)?uu("MapSet").F(t,n):oD(t)?uu("MapSet").T(t,n):e.g?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:MP(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},u=a,l=yy;o&&(u=[a],l=Q0);var c=Proxy.revocable(u,l),f=c.revoke,d=c.proxy;return a.k=d,a.j=f,d}(t,n):uu("ES5").J(t,n);return(n?n.A:MP()).p.push(r),r}function JPe(e){return Kc(e)||ha(22,e),function t(n){if(!bl(n))return n;var r,i=n[ir],s=Rm(n);if(i){if(!i.P&&(i.i<4||!uu("ES5").K(i)))return i.t;i.I=!0,r=a9(n,s),i.I=!1}else r=a9(n,s);return Rd(r,function(o,a){i&&GPe(i.t,o)===a||rX(r,o,t(a))}),s===3?new Set(r):r}(e)}function a9(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return aD(e)}function ZPe(){function e(s,o){var a=i[s];return a?a.enumerable=o:i[s]=a={configurable:!0,enumerable:o,get:function(){var u=this[ir];return yy.get(u,s)},set:function(u){var l=this[ir];yy.set(l,s,u)}},a}function t(s){for(var o=s.length-1;o>=0;o--){var a=s[o][ir];if(!a.P)switch(a.i){case 5:r(a)&&fc(a);break;case 4:n(a)&&fc(a)}}}function n(s){for(var o=s.t,a=s.k,u=hp(a),l=u.length-1;l>=0;l--){var c=u[l];if(c!==ir){var f=o[c];if(f===void 0&&!dp(o,c))return!0;var d=a[c],h=d&&d[ir];if(h?h.t!==f:!iX(d,f))return!0}}var p=!!o[ir];return u.length!==hp(o).length+(p?0:1)}function r(s){var o=s.k;if(o.length!==s.t.length)return!0;var a=Object.getOwnPropertyDescriptor(o,o.length-1);if(a&&!a.get)return!0;for(var u=0;u<o.length;u++)if(!o.hasOwnProperty(u))return!0;return!1}var i={};QPe("ES5",{J:function(s,o){var a=Array.isArray(s),u=function(c,f){if(c){for(var d=Array(f.length),h=0;h<f.length;h++)Object.defineProperty(d,""+h,e(h,!0));return d}var p=oX(f);delete p[ir];for(var m=hp(p),y=0;y<m.length;y++){var g=m[y];p[g]=e(g,c||!!p[g].enumerable)}return Object.create(Object.getPrototypeOf(f),p)}(a,s),l={i:a?5:4,A:o?o.A:MP(),P:!1,I:!1,R:{},l:o,t:s,k:u,o:null,O:!1,C:!1};return Object.defineProperty(u,ir,{value:l,writable:!0}),u},S:function(s,o,a){a?Kc(o)&&o[ir].A===s&&t(s.p):(s.u&&function u(l){if(l&&typeof l=="object"){var c=l[ir];if(c){var f=c.t,d=c.k,h=c.R,p=c.i;if(p===4)Rd(d,function(b){b!==ir&&(f[b]!==void 0||dp(f,b)?h[b]||u(d[b]):(h[b]=!0,fc(c)))}),Rd(f,function(b){d[b]!==void 0||dp(d,b)||(h[b]=!1,fc(c))});else if(p===5){if(r(c)&&(fc(c),h.length=!0),d.length<f.length)for(var m=d.length;m<f.length;m++)h[m]=!1;else for(var y=f.length;y<d.length;y++)h[y]=!0;for(var g=Math.min(d.length,f.length),_=0;_<g;_++)d.hasOwnProperty(_)||(h[_]=!0),h[_]===void 0&&u(d[_])}}}}(s.p[0]),t(s.p))},K:function(s){return s.i===4?n(s):r(s)}})}var u9,gy,cD=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",e2e=typeof Map<"u",t2e=typeof Set<"u",l9=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",sX=cD?Symbol.for("immer-nothing"):((u9={})["immer-nothing"]=!0,u9),c9=cD?Symbol.for("immer-draftable"):"__$immer_draftable",ir=cD?Symbol.for("immer-state"):"__$immer_state",n2e=""+Object.prototype.constructor,hp=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,oX=Object.getOwnPropertyDescriptors||function(e){var t={};return hp(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},jP={},yy={get:function(e,t){if(t===ir)return e;var n=Nf(e);if(!dp(n,t))return function(i,s,o){var a,u=o9(s,o);return u?"value"in u?u.value:(a=u.get)===null||a===void 0?void 0:a.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!bl(r)?r:r===UC(e.t,t)?(VC(e),e.o[t]=BP(e.A.h,r,e)):r},has:function(e,t){return t in Nf(e)},ownKeys:function(e){return Reflect.ownKeys(Nf(e))},set:function(e,t,n){var r=o9(Nf(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=UC(Nf(e),t),s=i==null?void 0:i[ir];if(s&&s.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(iX(n,i)&&(n!==void 0||dp(e.t,t)))return!0;VC(e),fc(e)}return e.o[t]===n&&(n!==void 0||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return UC(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,VC(e),fc(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Nf(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){ha(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){ha(12)}},Q0={};Rd(yy,function(e,t){Q0[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Q0.deleteProperty=function(e,t){return Q0.set.call(this,e,t,void 0)},Q0.set=function(e,t,n){return yy.set.call(this,e[0],t,n,e[0])};var r2e=function(){function e(n){var r=this;this.g=l9,this.D=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var u=r;return function(m){var y=this;m===void 0&&(m=a);for(var g=arguments.length,_=Array(g>1?g-1:0),b=1;b<g;b++)_[b-1]=arguments[b];return u.produce(m,function(T){var I;return(I=s).call.apply(I,[y,T].concat(_))})}}var l;if(typeof s!="function"&&ha(6),o!==void 0&&typeof o!="function"&&ha(7),bl(i)){var c=i9(r),f=BP(r,i,void 0),d=!0;try{l=s(f),d=!1}finally{d?Ow(c):FP(c)}return typeof Promise<"u"&&l instanceof Promise?l.then(function(m){return BC(c,o),jC(m,c)},function(m){throw Ow(c),m}):(BC(c,o),jC(l,c))}if(!i||typeof i!="object"){if((l=s(i))===void 0&&(l=i),l===sX&&(l=void 0),r.D&&uD(l,!0),o){var h=[],p=[];uu("Patches").M(i,l,h,p),o(h,p)}return l}ha(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(l){for(var c=arguments.length,f=Array(c>1?c-1:0),d=1;d<c;d++)f[d-1]=arguments[d];return r.produceWithPatches(l,function(h){return i.apply(void 0,[h].concat(f))})};var o,a,u=r.produce(i,s,function(l,c){o=l,a=c});return typeof Promise<"u"&&u instanceof Promise?u.then(function(l){return[l,o,a]}):[u,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){bl(n)||ha(8),Kc(n)&&(n=JPe(n));var r=i9(this),i=BP(this,n,void 0);return i[ir].C=!0,FP(r),i},t.finishDraft=function(n,r){var i=n&&n[ir],s=i.A;return BC(s,r),jC(void 0,s)},t.setAutoFreeze=function(n){this.D=n},t.setUseProxies=function(n){n&&!l9&&ha(20),this.g=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=uu("Patches").$;return Kc(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},e}(),co=new r2e,aX=co.produce;co.produceWithPatches.bind(co);co.setAutoFreeze.bind(co);co.setUseProxies.bind(co);co.applyPatches.bind(co);co.createDraft.bind(co);co.finishDraft.bind(co);function _y(e){"@babel/helpers - typeof";return _y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_y(e)}function i2e(e,t){if(_y(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(_y(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function s2e(e){var t=i2e(e,"string");return _y(t)=="symbol"?t:String(t)}function o2e(e,t,n){return t=s2e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function d9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?f9(Object(n),!0).forEach(function(r){o2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ui(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var h9=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),zC=function(){return Math.random().toString(36).substring(7).split("").join(".")},Nw={INIT:"@@redux/INIT"+zC(),REPLACE:"@@redux/REPLACE"+zC(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+zC()}};function a2e(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function uX(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Ui(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Ui(1));return n(uX)(e,t)}if(typeof e!="function")throw new Error(Ui(2));var i=e,s=t,o=[],a=o,u=!1;function l(){a===o&&(a=o.slice())}function c(){if(u)throw new Error(Ui(3));return s}function f(m){if(typeof m!="function")throw new Error(Ui(4));if(u)throw new Error(Ui(5));var y=!0;return l(),a.push(m),function(){if(y){if(u)throw new Error(Ui(6));y=!1,l();var _=a.indexOf(m);a.splice(_,1),o=null}}}function d(m){if(!a2e(m))throw new Error(Ui(7));if(typeof m.type>"u")throw new Error(Ui(8));if(u)throw new Error(Ui(9));try{u=!0,s=i(s,m)}finally{u=!1}for(var y=o=a,g=0;g<y.length;g++){var _=y[g];_()}return m}function h(m){if(typeof m!="function")throw new Error(Ui(10));i=m,d({type:Nw.REPLACE})}function p(){var m,y=f;return m={subscribe:function(_){if(typeof _!="object"||_===null)throw new Error(Ui(11));function b(){_.next&&_.next(c())}b();var T=y(b);return{unsubscribe:T}}},m[h9]=function(){return this},m}return d({type:Nw.INIT}),r={dispatch:d,subscribe:f,getState:c,replaceReducer:h},r[h9]=p,r}function u2e(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:Nw.INIT});if(typeof r>"u")throw new Error(Ui(12));if(typeof n(void 0,{type:Nw.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ui(13))})}function l2e(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];typeof e[i]=="function"&&(n[i]=e[i])}var s=Object.keys(n),o;try{u2e(n)}catch(a){o=a}return function(u,l){if(u===void 0&&(u={}),o)throw o;for(var c=!1,f={},d=0;d<s.length;d++){var h=s[d],p=n[h],m=u[h],y=p(m,l);if(typeof y>"u")throw l&&l.type,new Error(Ui(14));f[h]=y,c=c||y!==m}return c=c||s.length!==Object.keys(u).length,c?f:u}}function kw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function c2e(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(Ui(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=t.map(function(u){return u(o)});return s=kw.apply(void 0,a)(i.dispatch),d9(d9({},i),{},{dispatch:s})}}}function lX(e){var t=function(r){var i=r.dispatch,s=r.getState;return function(o){return function(a){return typeof a=="function"?a(i,s,e):o(a)}}};return t}var cX=lX();cX.withExtraArgument=lX;const p9=cX;var f2e=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),S_=function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){n.label=l[1];break}if(l[0]===6&&n.label<s[1]){n.label=s[1],s=l;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(l);break}s[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(c){l=[6,c],i=0}finally{r=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},vy=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},d2e=Object.defineProperty,h2e=Object.defineProperties,p2e=Object.getOwnPropertyDescriptors,m9=Object.getOwnPropertySymbols,m2e=Object.prototype.hasOwnProperty,g2e=Object.prototype.propertyIsEnumerable,g9=function(e,t,n){return t in e?d2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Lc=function(e,t){for(var n in t||(t={}))m2e.call(t,n)&&g9(e,n,t[n]);if(m9)for(var r=0,i=m9(t);r<i.length;r++){var n=i[r];g2e.call(t,n)&&g9(e,n,t[n])}return e},HC=function(e,t){return h2e(e,p2e(t))},I_=function(e,t,n){return new Promise(function(r,i){var s=function(u){try{a(n.next(u))}catch(l){i(l)}},o=function(u){try{a(n.throw(u))}catch(l){i(l)}},a=function(u){return u.done?r(u.value):Promise.resolve(u.value).then(s,o)};a((n=n.apply(e,t)).next())})},y2e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?kw:kw.apply(null,arguments)};function _2e(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var n=t;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return t===n}var v2e=function(e){f2e(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,vy([void 0],n[0].concat(this)))):new(t.bind.apply(t,vy([void 0],n.concat(this))))},t}(Array);function UP(e){return bl(e)?aX(e,function(){}):e}function b2e(e){return typeof e=="boolean"}function E2e(){return function(t){return w2e(t)}}function w2e(e){e===void 0&&(e={});var t=e.thunk,n=t===void 0?!0:t;e.immutableCheck,e.serializableCheck;var r=new v2e;return n&&(b2e(n)?r.push(p9):r.push(p9.withExtraArgument(n.extraArgument))),r}var T2e=!0;function fX(e){var t=E2e(),n=e||{},r=n.reducer,i=r===void 0?void 0:r,s=n.middleware,o=s===void 0?t():s,a=n.devTools,u=a===void 0?!0:a,l=n.preloadedState,c=l===void 0?void 0:l,f=n.enhancers,d=f===void 0?void 0:f,h;if(typeof i=="function")h=i;else if(_2e(i))h=l2e(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var p=o;typeof p=="function"&&(p=p(t));var m=c2e.apply(void 0,p),y=kw;u&&(y=y2e(Lc({trace:!T2e},typeof u=="object"&&u)));var g=[m];Array.isArray(d)?g=vy([m],d):typeof d=="function"&&(g=d(g));var _=y.apply(void 0,g);return uX(h,c,_)}function lu(e,t){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(t){var s=t.apply(void 0,r);if(!s)throw new Error("prepareAction did not return an object");return Lc(Lc({type:e,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:e,payload:r[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(r){return r.type===e},n}function dX(e){var t={},n=[],r,i={addCase:function(s,o){var a=typeof s=="string"?s:s.type;if(a in t)throw new Error("addCase cannot be called with two reducers for the same action type");return t[a]=o,i},addMatcher:function(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase:function(s){return r=s,i}};return e(i),[t,n,r]}function S2e(e){return typeof e=="function"}function I2e(e,t,n,r){n===void 0&&(n=[]);var i=typeof t=="function"?dX(t):[t,n,r],s=i[0],o=i[1],a=i[2],u;if(S2e(e))u=function(){return UP(e())};else{var l=UP(e);u=function(){return l}}function c(f,d){f===void 0&&(f=u());var h=vy([s[d.type]],o.filter(function(p){var m=p.matcher;return m(d)}).map(function(p){var m=p.reducer;return m}));return h.filter(function(p){return!!p}).length===0&&(h=[a]),h.reduce(function(p,m){if(m)if(Kc(p)){var y=p,g=m(y,d);return g===void 0?p:g}else{if(bl(p))return aX(p,function(_){return m(_,d)});var g=m(p,d);if(g===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}return p},f)}return c.getInitialState=u,c}function x2e(e,t){return e+"/"+t}function hX(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof e.initialState=="function"?e.initialState:UP(e.initialState),r=e.reducers||{},i=Object.keys(r),s={},o={},a={};i.forEach(function(c){var f=r[c],d=x2e(t,c),h,p;"reducer"in f?(h=f.reducer,p=f.prepare):h=f,s[c]=h,o[d]=h,a[c]=p?lu(d,p):lu(d)});function u(){var c=typeof e.extraReducers=="function"?dX(e.extraReducers):[e.extraReducers],f=c[0],d=f===void 0?{}:f,h=c[1],p=h===void 0?[]:h,m=c[2],y=m===void 0?void 0:m,g=Lc(Lc({},d),o);return I2e(n,function(_){for(var b in g)_.addCase(b,g[b]);for(var T=0,I=p;T<I.length;T++){var E=I[T];_.addMatcher(E.matcher,E.reducer)}y&&_.addDefaultCase(y)})}var l;return{name:t,reducer:function(c,f){return l||(l=u()),l(c,f)},actions:a,caseReducers:s,getInitialState:function(){return l||(l=u()),l.getInitialState()}}}var C2e="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",pX=function(e){e===void 0&&(e=21);for(var t="",n=e;n--;)t+=C2e[Math.random()*64|0];return t},A2e=["name","message","stack","code"],qC=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),y9=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),O2e=function(e){if(typeof e=="object"&&e!==null){for(var t={},n=0,r=A2e;n<r.length;n++){var i=r[n];typeof e[i]=="string"&&(t[i]=e[i])}return t}return{message:String(e)}};(function(){function e(t,n,r){var i=lu(t+"/fulfilled",function(l,c,f,d){return{payload:l,meta:HC(Lc({},d||{}),{arg:f,requestId:c,requestStatus:"fulfilled"})}}),s=lu(t+"/pending",function(l,c,f){return{payload:void 0,meta:HC(Lc({},f||{}),{arg:c,requestId:l,requestStatus:"pending"})}}),o=lu(t+"/rejected",function(l,c,f,d,h){return{payload:d,error:(r&&r.serializeError||O2e)(l||"Rejected"),meta:HC(Lc({},h||{}),{arg:f,requestId:c,rejectedWithValue:!!d,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function l(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return l.prototype.abort=function(){},l}();function u(l){return function(c,f,d){var h=r!=null&&r.idGenerator?r.idGenerator(l):pX(),p=new a,m;function y(_){m=_,p.abort()}var g=function(){return I_(this,null,function(){var _,b,T,I,E,S,A;return S_(this,function(L){switch(L.label){case 0:return L.trys.push([0,4,,5]),I=(_=r==null?void 0:r.condition)==null?void 0:_.call(r,l,{getState:f,extra:d}),R2e(I)?[4,I]:[3,2];case 1:I=L.sent(),L.label=2;case 2:if(I===!1||p.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return E=new Promise(function(Y,z){return p.signal.addEventListener("abort",function(){return z({name:"AbortError",message:m||"Aborted"})})}),c(s(h,l,(b=r==null?void 0:r.getPendingMeta)==null?void 0:b.call(r,{requestId:h,arg:l},{getState:f,extra:d}))),[4,Promise.race([E,Promise.resolve(n(l,{dispatch:c,getState:f,extra:d,requestId:h,signal:p.signal,abort:y,rejectWithValue:function(Y,z){return new qC(Y,z)},fulfillWithValue:function(Y,z){return new y9(Y,z)}})).then(function(Y){if(Y instanceof qC)throw Y;return Y instanceof y9?i(Y.payload,h,l,Y.meta):i(Y,h,l)})])];case 3:return T=L.sent(),[3,5];case 4:return S=L.sent(),T=S instanceof qC?o(null,h,l,S.payload,S.meta):o(S,h,l),[3,5];case 5:return A=r&&!r.dispatchConditionRejection&&o.match(T)&&T.meta.condition,A||c(T),[2,T]}})})}();return Object.assign(g,{abort:y,requestId:h,arg:l,unwrap:function(){return g.then(P2e)}})}}return Object.assign(u,{pending:s,rejected:o,fulfilled:i,typePrefix:t})}return e.withTypes=function(){return e},e})();function P2e(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function R2e(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var N2e=function(e){return e&&typeof e.match=="function"},k2e=function(e,t){return N2e(e)?e.match(t):e(t)};function _9(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(n){return e.some(function(r){return k2e(r,n)})}}var fD=function(e,t){if(typeof e!="function")throw new TypeError(t+" is not a function")},VP=function(){},mX=function(e,t){return t===void 0&&(t=VP),e.catch(t),e},gX=function(e,t){return e.addEventListener("abort",t,{once:!0}),function(){return e.removeEventListener("abort",t)}},pp=function(e,t){var n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},D2e="task",yX="listener",_X="completed",dD="cancelled",$2e="task-"+dD,L2e="task-"+_X,vX=yX+"-"+dD,M2e=yX+"-"+_X,tI=function(){function e(t){this.code=t,this.name="TaskAbortError",this.message=D2e+" "+dD+" (reason: "+t+")"}return e}(),mp=function(e){if(e.aborted)throw new tI(e.reason)};function bX(e,t){var n=VP;return new Promise(function(r,i){var s=function(){return i(new tI(e.reason))};if(e.aborted){s();return}n=gX(e,s),t.finally(function(){return n()}).then(r,i)}).finally(function(){n=VP})}var F2e=function(e,t){return I_(void 0,null,function(){var n,r;return S_(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,4,5]),[4,Promise.resolve()];case 1:return i.sent(),[4,e()];case 2:return n=i.sent(),[2,{status:"ok",value:n}];case 3:return r=i.sent(),[2,{status:r instanceof tI?"cancelled":"rejected",error:r}];case 4:return t==null||t(),[7];case 5:return[2]}})})},Dw=function(e){return function(t){return mX(bX(e,t).then(function(n){return mp(e),n}))}},EX=function(e){var t=Dw(e);return function(n){return t(new Promise(function(r){return setTimeout(r,n)}))}},B2e=Object.assign,v9={},x_="listenerMiddleware",j2e=function(e){var t=function(n){return gX(e,function(){return pp(n,e.reason)})};return function(n){fD(n,"taskExecutor");var r=new AbortController;t(r);var i=F2e(function(){return I_(void 0,null,function(){var s;return S_(this,function(o){switch(o.label){case 0:return mp(e),mp(r.signal),[4,n({pause:Dw(r.signal),delay:EX(r.signal),signal:r.signal})];case 1:return s=o.sent(),mp(r.signal),[2,s]}})})},function(){return pp(r,L2e)});return{result:Dw(e)(i),cancel:function(){pp(r,$2e)}}}},U2e=function(e,t){var n=function(r,i){return I_(void 0,null,function(){var s,o,a,u;return S_(this,function(l){switch(l.label){case 0:mp(t),s=function(){},o=new Promise(function(c,f){var d=e({predicate:r,effect:function(h,p){p.unsubscribe(),c([h,p.getState(),p.getOriginalState()])}});s=function(){d(),f()}}),a=[o],i!=null&&a.push(new Promise(function(c){return setTimeout(c,i,null)})),l.label=1;case 1:return l.trys.push([1,,3,4]),[4,bX(t,Promise.race(a))];case 2:return u=l.sent(),mp(t),[2,u];case 3:return s(),[7];case 4:return[2]}})})};return function(r,i){return mX(n(r,i))}},wX=function(e){var t=e.type,n=e.actionCreator,r=e.matcher,i=e.predicate,s=e.effect;if(t)i=lu(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error("Creating or removing a listener requires one of the known fields for matching an action");return fD(s,"options.listener"),{predicate:i,type:t,effect:s}},V2e=function(e){var t=wX(e),n=t.type,r=t.predicate,i=t.effect,s=pX(),o={id:s,effect:i,type:n,predicate:r,pending:new Set,unsubscribe:function(){throw new Error("Unsubscribe not initialized")}};return o},zP=function(e){e.pending.forEach(function(t){pp(t,vX)})},z2e=function(e){return function(){e.forEach(zP),e.clear()}},b9=function(e,t,n){try{e(t,n)}catch(r){setTimeout(function(){throw r},0)}},H2e=lu(x_+"/add"),q2e=lu(x_+"/removeAll"),W2e=lu(x_+"/remove"),Y2e=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,vy([x_+"/error"],e))};function G2e(e){var t=this;e===void 0&&(e={});var n=new Map,r=e.extra,i=e.onError,s=i===void 0?Y2e:i;fD(s,"onError");var o=function(h){return h.unsubscribe=function(){return n.delete(h.id)},n.set(h.id,h),function(p){h.unsubscribe(),p!=null&&p.cancelActive&&zP(h)}},a=function(h){for(var p=0,m=Array.from(n.values());p<m.length;p++){var y=m[p];if(h(y))return y}},u=function(h){var p=a(function(m){return m.effect===h.effect});return p||(p=V2e(h)),o(p)},l=function(h){var p=wX(h),m=p.type,y=p.effect,g=p.predicate,_=a(function(b){var T=typeof m=="string"?b.type===m:b.predicate===g;return T&&b.effect===y});return _&&(_.unsubscribe(),h.cancelActive&&zP(_)),!!_},c=function(h,p,m,y){return I_(t,null,function(){var g,_,b;return S_(this,function(T){switch(T.label){case 0:g=new AbortController,_=U2e(u,g.signal),T.label=1;case 1:return T.trys.push([1,3,4,5]),h.pending.add(g),[4,Promise.resolve(h.effect(p,B2e({},m,{getOriginalState:y,condition:function(I,E){return _(I,E).then(Boolean)},take:_,delay:EX(g.signal),pause:Dw(g.signal),extra:r,signal:g.signal,fork:j2e(g.signal),unsubscribe:h.unsubscribe,subscribe:function(){n.set(h.id,h)},cancelActiveListeners:function(){h.pending.forEach(function(I,E,S){I!==g&&(pp(I,vX),S.delete(I))})}})))];case 2:return T.sent(),[3,5];case 3:return b=T.sent(),b instanceof tI||b9(s,b,{raisedBy:"effect"}),[3,5];case 4:return pp(g,M2e),h.pending.delete(g),[7];case 5:return[2]}})})},f=z2e(n),d=function(h){return function(p){return function(m){if(H2e.match(m))return u(m.payload);if(q2e.match(m)){f();return}if(W2e.match(m))return l(m.payload);var y=h.getState(),g=function(){if(y===v9)throw new Error(x_+": getOriginalState can only be called synchronously");return y},_;try{if(_=p(m),n.size>0)for(var b=h.getState(),T=Array.from(n.values()),I=0,E=T;I<E.length;I++){var S=E[I],A=!1;try{A=S.predicate(m,b,y)}catch(L){A=!1,b9(s,L,{raisedBy:"predicate"})}A&&c(S,m,h,g)}}finally{y=v9}return _}}};return{middleware:d,startListening:u,stopListening:l,clearListeners:f}}var E9;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);ZPe();async function K2e(e,t,n,r){const i={...n.map(c=>({[c]:{}}))},s=Object.assign({},...n.map(c=>({[c]:{aboveStimulus:{valid:!1,values:{}},belowStimulus:{valid:!1,values:{}},sidebar:{valid:!1,values:{}}}}))),o=Object.assign({},...n.map(c=>({[c]:{aboveStimulus:!0,belowStimulus:!0,sidebar:!0,values:{}}}))),a={studyId:e,answers:r||i,sequence:n,config:t,showAdmin:!1,showHelpText:!1,alertModal:{show:!1,message:""},trialValidation:r?o:s,iframeAnswers:[]},u=hX({name:"storeSlice",initialState:a,reducers:{setConfig(c,f){c.config=f.payload},toggleShowAdmin:c=>{c.showAdmin=!c.showAdmin},toggleShowHelpText:c=>{c.showHelpText=!c.showHelpText},setAlertModal:(c,f)=>{c.alertModal=f.payload},setIframeAnswers:(c,f)=>{c.iframeAnswers=f.payload},updateResponseBlockValidation:(c,{payload:f})=>{!f.currentStep||f.currentStep.length===0||(c.trialValidation[f.currentStep]||(c.trialValidation[f.currentStep]={aboveStimulus:{valid:!1,values:{}},belowStimulus:{valid:!1,values:{}},sidebar:{valid:!1,values:{}},provenanceGraph:void 0}),c.trialValidation[f.currentStep][f.location]={valid:f.status,values:f.values},f.provenanceGraph&&(c.trialValidation[f.currentStep].provenanceGraph=f.provenanceGraph))},saveTrialAnswer(c,{payload:f}){const{currentStep:d,answer:h,startTime:p,endTime:m,provenanceGraph:y,windowEvents:g}=f;c.answers[d]={answer:h,startTime:p,endTime:m,provenanceGraph:y,windowEvents:g}}}});return{store:fX({reducer:u.reducer,preloadedState:a}),actions:u.actions}}const TX=w.createContext(null);function Bl(){return w.useContext(TX).actions}const jl=OQ,Nu=eCe;function Q2e(e){return Nu(t=>{if(e===void 0||e.length===0)return!0;const n=Object.values(t.trialValidation[e]).every(r=>typeof r=="object"&&"valid"in r?r.valid:!0);return n?Object.values(n).every(r=>r):!1})}var $w={exports:{}};$w.exports;(function(e,t){var n=200,r="__lodash_hash_undefined__",i=800,s=16,o=9007199254740991,a="[object Arguments]",u="[object Array]",l="[object AsyncFunction]",c="[object Boolean]",f="[object Date]",d="[object Error]",h="[object Function]",p="[object GeneratorFunction]",m="[object Map]",y="[object Number]",g="[object Null]",_="[object Object]",b="[object Proxy]",T="[object RegExp]",I="[object Set]",E="[object String]",S="[object Undefined]",A="[object WeakMap]",L="[object ArrayBuffer]",Y="[object DataView]",z="[object Float32Array]",U="[object Float64Array]",Z="[object Int8Array]",V="[object Int16Array]",le="[object Int32Array]",oe="[object Uint8Array]",ve="[object Uint8ClampedArray]",re="[object Uint16Array]",ue="[object Uint32Array]",te=/[\\^$.*+?()[\]{}|]/g,x=/^\[object .+?Constructor\]$/,C=/^(?:0|[1-9]\d*)$/,j={};j[z]=j[U]=j[Z]=j[V]=j[le]=j[oe]=j[ve]=j[re]=j[ue]=!0,j[a]=j[u]=j[L]=j[c]=j[Y]=j[f]=j[d]=j[h]=j[m]=j[y]=j[_]=j[T]=j[I]=j[E]=j[A]=!1;var P=typeof to=="object"&&to&&to.Object===Object&&to,O=typeof self=="object"&&self&&self.Object===Object&&self,G=P||O||Function("return this")(),de=t&&!t.nodeType&&t,fe=de&&!0&&e&&!e.nodeType&&e,ye=fe&&fe.exports===de,me=ye&&P.process,W=function(){try{var q=fe&&fe.require&&fe.require("util").types;return q||me&&me.binding&&me.binding("util")}catch{}}(),M=W&&W.isTypedArray;function pe(q,se,be){switch(be.length){case 0:return q.call(se);case 1:return q.call(se,be[0]);case 2:return q.call(se,be[0],be[1]);case 3:return q.call(se,be[0],be[1],be[2])}return q.apply(se,be)}function Ee(q,se){for(var be=-1,Ke=Array(q);++be<q;)Ke[be]=se(be);return Ke}function Ce(q){return function(se){return q(se)}}function Ae(q,se){return q==null?void 0:q[se]}function qe(q,se){return function(be){return q(se(be))}}var et=Array.prototype,Bt=Function.prototype,je=Object.prototype,Me=G["__core-js_shared__"],pt=Bt.toString,Ue=je.hasOwnProperty,gt=function(){var q=/[^.]+$/.exec(Me&&Me.keys&&Me.keys.IE_PROTO||"");return q?"Symbol(src)_1."+q:""}(),Yt=je.toString,on=pt.call(Object),Wn=RegExp("^"+pt.call(Ue).replace(te,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),he=ye?G.Buffer:void 0,Ie=G.Symbol,Ve=G.Uint8Array,st=he?he.allocUnsafe:void 0,Be=qe(Object.getPrototypeOf,Object),ot=Object.create,ze=je.propertyIsEnumerable,nt=et.splice,vn=Ie?Ie.toStringTag:void 0,Ht=function(){try{var q=De(Object,"defineProperty");return q({},"",{}),q}catch{}}(),wt=he?he.isBuffer:void 0,Mn=Math.max,bn=Date.now,Zo=De(G,"Map"),lr=De(Object,"create"),$i=function(){function q(){}return function(se){if(!xf(se))return{};if(ot)return ot(se);q.prototype=se;var be=new q;return q.prototype=void 0,be}}();function yr(q){var se=-1,be=q==null?0:q.length;for(this.clear();++se<be;){var Ke=q[se];this.set(Ke[0],Ke[1])}}function kr(){this.__data__=lr?lr(null):{},this.size=0}function cr(q){var se=this.has(q)&&delete this.__data__[q];return this.size-=se?1:0,se}function Fn(q){var se=this.__data__;if(lr){var be=se[q];return be===r?void 0:be}return Ue.call(se,q)?se[q]:void 0}function Jt(q){var se=this.__data__;return lr?se[q]!==void 0:Ue.call(se,q)}function ti(q,se){var be=this.__data__;return this.size+=this.has(q)?0:1,be[q]=lr&&se===void 0?r:se,this}yr.prototype.clear=kr,yr.prototype.delete=cr,yr.prototype.get=Fn,yr.prototype.has=Jt,yr.prototype.set=ti;function _r(q){var se=-1,be=q==null?0:q.length;for(this.clear();++se<be;){var Ke=q[se];this.set(Ke[0],Ke[1])}}function Dr(){this.__data__=[],this.size=0}function mi(q){var se=this.__data__,be=Zn(se,q);if(be<0)return!1;var Ke=se.length-1;return be==Ke?se.pop():nt.call(se,be,1),--this.size,!0}function ds(q){var se=this.__data__,be=Zn(se,q);return be<0?void 0:se[be][1]}function X(q){return Zn(this.__data__,q)>-1}function H(q,se){var be=this.__data__,Ke=Zn(be,q);return Ke<0?(++this.size,be.push([q,se])):be[Ke][1]=se,this}_r.prototype.clear=Dr,_r.prototype.delete=mi,_r.prototype.get=ds,_r.prototype.has=X,_r.prototype.set=H;function ee(q){var se=-1,be=q==null?0:q.length;for(this.clear();++se<be;){var Ke=q[se];this.set(Ke[0],Ke[1])}}function _e(){this.size=0,this.__data__={hash:new yr,map:new(Zo||_r),string:new yr}}function ge(q){var se=ke(this,q).delete(q);return this.size-=se?1:0,se}function Ge(q){return ke(this,q).get(q)}function xe(q){return ke(this,q).has(q)}function We(q,se){var be=ke(this,q),Ke=be.size;return be.set(q,se),this.size+=be.size==Ke?0:1,this}ee.prototype.clear=_e,ee.prototype.delete=ge,ee.prototype.get=Ge,ee.prototype.has=xe,ee.prototype.set=We;function lt(q){var se=this.__data__=new _r(q);this.size=se.size}function tt(){this.__data__=new _r,this.size=0}function mt(q){var se=this.__data__,be=se.delete(q);return this.size=se.size,be}function Dt(q){return this.__data__.get(q)}function kn(q){return this.__data__.has(q)}function ht(q,se){var be=this.__data__;if(be instanceof _r){var Ke=be.__data__;if(!Zo||Ke.length<n-1)return Ke.push([q,se]),this.size=++be.size,this;be=this.__data__=new ee(Ke)}return be.set(q,se),this.size=be.size,this}lt.prototype.clear=tt,lt.prototype.delete=mt,lt.prototype.get=Dt,lt.prototype.has=kn,lt.prototype.set=ht;function In(q,se){var be=Ox(q),Ke=!be&&ch(q),an=!be&&!Ke&&H6(q),Bn=!be&&!Ke&&!an&&W6(q),tr=be||Ke||an||Bn,Zt=tr?Ee(q.length,String):[],nr=Zt.length;for(var Eo in q)(se||Ue.call(q,Eo))&&!(tr&&(Eo=="length"||an&&(Eo=="offset"||Eo=="parent")||Bn&&(Eo=="buffer"||Eo=="byteLength"||Eo=="byteOffset")||Mt(Eo,nr)))&&Zt.push(Eo);return Zt}function vt(q,se,be){(be!==void 0&&!lh(q[se],be)||be===void 0&&!(se in q))&&zr(q,se,be)}function pn(q,se,be){var Ke=q[se];(!(Ue.call(q,se)&&lh(Ke,be))||be===void 0&&!(se in q))&&zr(q,se,be)}function Zn(q,se){for(var be=q.length;be--;)if(lh(q[be][0],se))return be;return-1}function zr(q,se,be){se=="__proto__"&&Ht?Ht(q,se,{configurable:!0,enumerable:!0,value:be,writable:!0}):q[se]=be}var Ar=Oe();function ns(q){return q==null?q===void 0?S:g:vn&&vn in Object(q)?Fe(q):If(q)}function gi(q){return o0(q)&&ns(q)==a}function fr(q){if(!xf(q)||vr(q))return!1;var se=Rx(q)?Wn:x;return se.test(Ax(q))}function Qe(q){return o0(q)&&q6(q.length)&&!!j[ns(q)]}function Vt(q){if(!xf(q))return ps(q);var se=er(q),be=[];for(var Ke in q)Ke=="constructor"&&(se||!Ue.call(q,Ke))||be.push(Ke);return be}function Vn(q,se,be,Ke,an){q!==se&&Ar(se,function(Bn,tr){if(an||(an=new lt),xf(Bn))ni(q,se,tr,be,Vn,Ke,an);else{var Zt=Ke?Ke(i0(q,tr),Bn,tr+"",q,se,an):void 0;Zt===void 0&&(Zt=Bn),vt(q,tr,Zt)}},Y6)}function ni(q,se,be,Ke,an,Bn,tr){var Zt=i0(q,be),nr=i0(se,be),Eo=tr.get(nr);if(Eo){vt(q,be,Eo);return}var Hs=Bn?Bn(Zt,nr,be+"",q,se,tr):void 0,a0=Hs===void 0;if(a0){var Nx=Ox(nr),kx=!Nx&&H6(nr),K6=!Nx&&!kx&&W6(nr);Hs=nr,Nx||kx||K6?Ox(Zt)?Hs=Zt:Iae(Zt)?Hs=ae(Zt):kx?(a0=!1,Hs=Q(nr,!0)):K6?(a0=!1,Hs=ie(nr,!0)):Hs=[]:xae(nr)||ch(nr)?(Hs=Zt,ch(Zt)?Hs=Cae(Zt):(!xf(Zt)||Rx(Zt))&&(Hs=Je(nr))):a0=!1}a0&&(tr.set(nr,Hs),an(Hs,nr,Ke,Bn,tr),tr.delete(nr)),vt(q,be,Hs)}function hs(q,se){return s0(r0(q,se,G6),q+"")}var R=Ht?function(q,se){return Ht(q,"toString",{configurable:!0,enumerable:!1,value:Oae(se),writable:!0})}:G6;function Q(q,se){if(se)return q.slice();var be=q.length,Ke=st?st(be):new q.constructor(be);return q.copy(Ke),Ke}function F(q){var se=new q.constructor(q.byteLength);return new Ve(se).set(new Ve(q)),se}function ie(q,se){var be=se?F(q.buffer):q.buffer;return new q.constructor(be,q.byteOffset,q.length)}function ae(q,se){var be=-1,Ke=q.length;for(se||(se=Array(Ke));++be<Ke;)se[be]=q[be];return se}function ne(q,se,be,Ke){var an=!be;be||(be={});for(var Bn=-1,tr=se.length;++Bn<tr;){var Zt=se[Bn],nr=Ke?Ke(be[Zt],q[Zt],Zt,be,q):void 0;nr===void 0&&(nr=q[Zt]),an?zr(be,Zt,nr):pn(be,Zt,nr)}return be}function Te(q){return hs(function(se,be){var Ke=-1,an=be.length,Bn=an>1?be[an-1]:void 0,tr=an>2?be[2]:void 0;for(Bn=q.length>3&&typeof Bn=="function"?(an--,Bn):void 0,tr&&mn(be[0],be[1],tr)&&(Bn=an<3?void 0:Bn,an=1),se=Object(se);++Ke<an;){var Zt=be[Ke];Zt&&q(se,Zt,Ke,Bn)}return se})}function Oe(q){return function(se,be,Ke){for(var an=-1,Bn=Object(se),tr=Ke(se),Zt=tr.length;Zt--;){var nr=tr[q?Zt:++an];if(be(Bn[nr],nr,Bn)===!1)break}return se}}function ke(q,se){var be=q.__data__;return En(se)?be[typeof se=="string"?"string":"hash"]:be.map}function De(q,se){var be=Ae(q,se);return fr(be)?be:void 0}function Fe(q){var se=Ue.call(q,vn),be=q[vn];try{q[vn]=void 0;var Ke=!0}catch{}var an=Yt.call(q);return Ke&&(se?q[vn]=be:delete q[vn]),an}function Je(q){return typeof q.constructor=="function"&&!er(q)?$i(Be(q)):{}}function Mt(q,se){var be=typeof q;return se=se??o,!!se&&(be=="number"||be!="symbol"&&C.test(q))&&q>-1&&q%1==0&&q<se}function mn(q,se,be){if(!xf(be))return!1;var Ke=typeof se;return(Ke=="number"?Px(be)&&Mt(se,be.length):Ke=="string"&&se in be)?lh(be[se],q):!1}function En(q){var se=typeof q;return se=="string"||se=="number"||se=="symbol"||se=="boolean"?q!=="__proto__":q===null}function vr(q){return!!gt&&gt in q}function er(q){var se=q&&q.constructor,be=typeof se=="function"&&se.prototype||je;return q===be}function ps(q){var se=[];if(q!=null)for(var be in Object(q))se.push(be);return se}function If(q){return Yt.call(q)}function r0(q,se,be){return se=Mn(se===void 0?q.length-1:se,0),function(){for(var Ke=arguments,an=-1,Bn=Mn(Ke.length-se,0),tr=Array(Bn);++an<Bn;)tr[an]=Ke[se+an];an=-1;for(var Zt=Array(se+1);++an<se;)Zt[an]=Ke[an];return Zt[se]=be(tr),pe(q,this,Zt)}}function i0(q,se){if(!(se==="constructor"&&typeof q[se]=="function")&&se!="__proto__")return q[se]}var s0=z6(R);function z6(q){var se=0,be=0;return function(){var Ke=bn(),an=s-(Ke-be);if(be=Ke,an>0){if(++se>=i)return arguments[0]}else se=0;return q.apply(void 0,arguments)}}function Ax(q){if(q!=null){try{return pt.call(q)}catch{}try{return q+""}catch{}}return""}function lh(q,se){return q===se||q!==q&&se!==se}var ch=gi(function(){return arguments}())?gi:function(q){return o0(q)&&Ue.call(q,"callee")&&!ze.call(q,"callee")},Ox=Array.isArray;function Px(q){return q!=null&&q6(q.length)&&!Rx(q)}function Iae(q){return o0(q)&&Px(q)}var H6=wt||Pae;function Rx(q){if(!xf(q))return!1;var se=ns(q);return se==h||se==p||se==l||se==b}function q6(q){return typeof q=="number"&&q>-1&&q%1==0&&q<=o}function xf(q){var se=typeof q;return q!=null&&(se=="object"||se=="function")}function o0(q){return q!=null&&typeof q=="object"}function xae(q){if(!o0(q)||ns(q)!=_)return!1;var se=Be(q);if(se===null)return!0;var be=Ue.call(se,"constructor")&&se.constructor;return typeof be=="function"&&be instanceof be&&pt.call(be)==on}var W6=M?Ce(M):Qe;function Cae(q){return ne(q,Y6(q))}function Y6(q){return Px(q)?In(q,!0):Vt(q)}var Aae=Te(function(q,se,be){Vn(q,se,be)});function Oae(q){return function(){return q}}function G6(q){return q}function Pae(){return!1}e.exports=Aae})($w,$w.exports);var X2e=$w.exports;const hD=Ca(X2e);function SX(){return Im().pathname.split("/")[1]}function Aa(){return Im().pathname.split("/")[2]}function pD(e){return structuredClone(e)}function mD(){const{answers:e}=Nu(n=>n),t=Aa();return e[t]}const IX=w.createContext(null);function J2e(){const e=w.useContext(IX);if(!e)throw new Error("useWindowEvents must be used within a WindowEventsProvider");return e}function Z2e(){const e=Aa(),{sequence:t,trialValidation:n}=Nu(g=>g),r=mD(),i=jl(),{saveTrialAnswer:s,setIframeAnswers:o}=Bl(),{storageEngine:a}=pf(),l=!Q2e(e),c=r==null?void 0:r.answer,f=qd(),d=w.useMemo(()=>{const g=t.indexOf(e);return t[g+1]||"end"},[e,t]),h=`/${SX()}/${d}`,p=w.useMemo(()=>Date.now(),[]),m=J2e(),y=w.useCallback(()=>{const g=pD(n[e]),_=Object.values(g).reduce((E,S)=>Object.hasOwn(S,"values")?{...E,...S.values}:E,{}),{provenanceGraph:b}=g,T=Date.now(),I=m&&"current"in m&&m.current?m.current.splice(0,m.current.length):[];Object.keys(c||{}).length===0&&(i(s({currentStep:e,answer:_,startTime:p,endTime:T,provenanceGraph:b,windowEvents:I})),a&&a.saveAnswer(e,{answer:_,startTime:p,endTime:T,provenanceGraph:b,windowEvents:I}),i(o([]))),f(`${h}${window.location.search}`)},[o,a,i,c,n,f,p,e,s,h,m]);return{nextStep:d,isNextDisabled:l,goToNextStep:y}}function eRe({label:e="Next",disabled:t=!1,setCheckClicked:n=()=>{},onClick:r}){const{isNextDisabled:i,goToNextStep:s}=Z2e(),o=w.useCallback(()=>{n(!1),r&&r(),s()},[s,r,n]);return $.jsx(ll,{type:"submit",disabled:t||i,onClick:o,children:e})}function HP(e){return e===null||typeof e!="object"?{}:Object.keys(e).reduce((t,n)=>{const r=e[n];return r!=null&&r!==!1&&(t[n]=r),t},{})}var tRe=Object.defineProperty,w9=Object.getOwnPropertySymbols,nRe=Object.prototype.hasOwnProperty,rRe=Object.prototype.propertyIsEnumerable,T9=(e,t,n)=>t in e?tRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,iRe=(e,t)=>{for(var n in t||(t={}))nRe.call(t,n)&&T9(e,n,t[n]);if(w9)for(var n of w9(t))rRe.call(t,n)&&T9(e,n,t[n]);return e};function xX(e,t){if(t===null||typeof t!="object")return{};const n=iRe({},t);return Object.keys(t).forEach(r=>{r.includes(`${String(e)}.`)&&delete n[r]}),n}const sRe="__MANTINE_FORM_INDEX__";function S9(e,t){return t?typeof t=="boolean"?t:Array.isArray(t)?t.includes(e.replace(/[.][0-9]/g,`.${sRe}`)):!1:!1}function I9(e,t,n){typeof n.value=="object"&&(n.value=qh(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function qh(e){if(typeof e!="object")return e;var t=0,n,r,i,s=Object.prototype.toString.call(e);if(s==="[object Object]"?i=Object.create(e.__proto__||null):s==="[object Array]"?i=Array(e.length):s==="[object Set]"?(i=new Set,e.forEach(function(o){i.add(qh(o))})):s==="[object Map]"?(i=new Map,e.forEach(function(o,a){i.set(qh(a),qh(o))})):s==="[object Date]"?i=new Date(+e):s==="[object RegExp]"?i=new RegExp(e.source,e.flags):s==="[object DataView]"?i=new e.constructor(qh(e.buffer)):s==="[object ArrayBuffer]"?i=e.slice(0):s.slice(-6)==="Array]"&&(i=new e.constructor(e)),i){for(r=Object.getOwnPropertySymbols(e);t<r.length;t++)I9(i,r[t],Object.getOwnPropertyDescriptor(e,r[t]));for(t=0,r=Object.getOwnPropertyNames(e);t<r.length;t++)Object.hasOwnProperty.call(i,n=r[t])&&i[n]===e[n]||I9(i,n,Object.getOwnPropertyDescriptor(e,n))}return i||e}function CX(e){return typeof e!="string"?[]:e.split(".")}function nI(e,t,n){const r=CX(e);if(r.length===0)return n;const i=qh(n);if(r.length===1)return i[r[0]]=t,i;let s=i[r[0]];for(let o=1;o<r.length-1;o+=1){if(s===void 0)return i;s=s[r[o]]}return s[r[r.length-1]]=t,i}function Hu(e,t){const n=CX(e);if(n.length===0||typeof t!="object"||t===null)return;let r=t[n[0]];for(let i=1;i<n.length&&r!==void 0;i+=1)r=r[n[i]];return r}function x9(e){const t=HP(e);return{hasErrors:Object.keys(t).length>0,errors:t}}function qP(e,t,n="",r={}){return typeof e!="object"||e===null?r:Object.keys(e).reduce((i,s)=>{const o=e[s],a=`${n===""?"":`${n}.`}${s}`,u=Hu(a,t);let l=!1;return typeof o=="function"&&(i[a]=o(u,t,a)),typeof o=="object"&&Array.isArray(u)&&(l=!0,u.forEach((c,f)=>qP(o,t,`${a}.${f}`,i))),typeof o=="object"&&typeof u=="object"&&u!==null&&(l||qP(o,t,a,i)),i},r)}function WP(e,t){return x9(typeof e=="function"?e(t):qP(e,t))}function Kv(e,t,n){if(typeof e!="string")return{hasError:!1,error:null};const r=WP(t,n),i=Object.keys(r.errors).find(s=>e.split(".").every((o,a)=>o===s.split(".")[a]));return{hasError:!!i,error:i?r.errors[i]:null}}function oRe(e,{from:t,to:n},r){const i=Hu(e,r);if(!Array.isArray(i))return r;const s=[...i],o=i[t];return s.splice(t,1),s.splice(n,0,o),nI(e,s,r)}var aRe=Object.defineProperty,C9=Object.getOwnPropertySymbols,uRe=Object.prototype.hasOwnProperty,lRe=Object.prototype.propertyIsEnumerable,A9=(e,t,n)=>t in e?aRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cRe=(e,t)=>{for(var n in t||(t={}))uRe.call(t,n)&&A9(e,n,t[n]);if(C9)for(var n of C9(t))lRe.call(t,n)&&A9(e,n,t[n]);return e};function fRe(e,{from:t,to:n},r){const i=`${e}.${t}`,s=`${e}.${n}`,o=cRe({},r);return Object.keys(r).every(a=>{let u,l;if(a.startsWith(i)&&(u=a,l=a.replace(i,s)),a.startsWith(s)&&(u=a.replace(s,i),l=a),u&&l){const c=o[u],f=o[l];return f===void 0?delete o[u]:o[u]=f,c===void 0?delete o[l]:o[l]=c,!1}return!0}),o}function dRe(e,t,n){const r=Hu(e,n);return Array.isArray(r)?nI(e,r.filter((i,s)=>s!==t),n):n}var hRe=Object.defineProperty,O9=Object.getOwnPropertySymbols,pRe=Object.prototype.hasOwnProperty,mRe=Object.prototype.propertyIsEnumerable,P9=(e,t,n)=>t in e?hRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gRe=(e,t)=>{for(var n in t||(t={}))pRe.call(t,n)&&P9(e,n,t[n]);if(O9)for(var n of O9(t))mRe.call(t,n)&&P9(e,n,t[n]);return e};function R9(e,t){const n=e.substring(t.length+1).split(".")[0];return parseInt(n,10)}function N9(e,t,n,r){if(t===void 0)return n;const i=`${String(e)}`;let s=n;r===-1&&(s=xX(`${i}.${t}`,s));const o=gRe({},s),a=new Set;return Object.entries(s).filter(([u])=>{if(!u.startsWith(`${i}.`))return!1;const l=R9(u,i);return Number.isNaN(l)?!1:l>=t}).forEach(([u,l])=>{const c=R9(u,i),f=u.replace(`${i}.${c}`,`${i}.${c+r}`);o[f]=l,a.add(f),a.has(u)||delete o[u]}),o}function yRe(e,t,n,r){const i=Hu(e,r);if(!Array.isArray(i))return r;const s=[...i];return s.splice(typeof n=="number"?n:s.length,0,t),nI(e,s,r)}function k9(e,t){const n=Object.keys(e);if(typeof t=="string"){const r=n.filter(i=>i.startsWith(`${t}.`));return e[t]||r.some(i=>e[i])||!1}return n.some(r=>e[r])}function _Re(e){return t=>{if(!t)e(t);else if(typeof t=="function")e(t);else if(typeof t=="object"&&"nativeEvent"in t){const{currentTarget:n}=t;n instanceof HTMLInputElement?n.type==="checkbox"?e(n.checked):e(n.value):(n instanceof HTMLTextAreaElement||n instanceof HTMLSelectElement)&&e(n.value)}else e(t)}}var vRe=Object.defineProperty,bRe=Object.defineProperties,ERe=Object.getOwnPropertyDescriptors,D9=Object.getOwnPropertySymbols,wRe=Object.prototype.hasOwnProperty,TRe=Object.prototype.propertyIsEnumerable,$9=(e,t,n)=>t in e?vRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ql=(e,t)=>{for(var n in t||(t={}))wRe.call(t,n)&&$9(e,n,t[n]);if(D9)for(var n of D9(t))TRe.call(t,n)&&$9(e,n,t[n]);return e},WC=(e,t)=>bRe(e,ERe(t));function SRe({initialValues:e={},initialErrors:t={},initialDirty:n={},initialTouched:r={},clearInputErrorOnChange:i=!0,validateInputOnChange:s=!1,validateInputOnBlur:o=!1,transformValues:a=l=>l,validate:u}={}){const[l,c]=w.useState(r),[f,d]=w.useState(n),[h,p]=w.useState(e),[m,y]=w.useState(HP(t)),g=w.useRef(e),_=O=>{g.current=O},b=w.useCallback(()=>c({}),[]),T=O=>{const G=O?Ql(Ql({},h),O):h;_(G),d({})},I=w.useCallback(O=>y(G=>HP(typeof O=="function"?O(G):O)),[]),E=w.useCallback(()=>y({}),[]),S=w.useCallback(()=>{p(e),E(),_(e),d({}),b()},[]),A=w.useCallback((O,G)=>I(de=>WC(Ql({},de),{[O]:G})),[]),L=w.useCallback(O=>I(G=>{if(typeof O!="string")return G;const de=Ql({},G);return delete de[O],de}),[]),Y=w.useCallback(O=>d(G=>{if(typeof O!="string")return G;const de=xX(O,G);return delete de[O],de}),[]),z=w.useCallback((O,G)=>{const de=S9(O,s);Y(O),c(fe=>WC(Ql({},fe),{[O]:!0})),p(fe=>{const ye=nI(O,G,fe);if(de){const me=Kv(O,u,ye);me.hasError?A(O,me.error):L(O)}return ye}),!de&&i&&A(O,null)},[]),U=w.useCallback(O=>{p(G=>{const de=typeof O=="function"?O(G):O;return Ql(Ql({},G),de)}),i&&E()},[]),Z=w.useCallback((O,G)=>{Y(O),p(de=>oRe(O,G,de)),y(de=>fRe(O,G,de))},[]),V=w.useCallback((O,G)=>{Y(O),p(de=>dRe(O,G,de)),y(de=>N9(O,G,de,-1))},[]),le=w.useCallback((O,G,de)=>{Y(O),p(fe=>yRe(O,G,de,fe)),y(fe=>N9(O,de,fe,1))},[]),oe=w.useCallback(()=>{const O=WP(u,h);return y(O.errors),O},[h,u]),ve=w.useCallback(O=>{const G=Kv(O,u,h);return G.hasError?A(O,G.error):L(O),G},[h,u]),re=(O,{type:G="input",withError:de=!0,withFocus:fe=!0}={})=>{const me={onChange:_Re(W=>z(O,W))};return de&&(me.error=m[O]),G==="checkbox"?me.checked=Hu(O,h):me.value=Hu(O,h),fe&&(me.onFocus=()=>c(W=>WC(Ql({},W),{[O]:!0})),me.onBlur=()=>{if(S9(O,o)){const W=Kv(O,u,h);W.hasError?A(O,W.error):L(O)}}),me},ue=(O,G)=>de=>{de==null||de.preventDefault();const fe=oe();fe.hasErrors?G==null||G(fe.errors,h,de):O==null||O(a(h),de)},te=O=>a(O||h),x=w.useCallback(O=>{O.preventDefault(),S()},[]),C=O=>{if(O){const de=Hu(O,f);if(typeof de=="boolean")return de;const fe=Hu(O,h),ye=Hu(O,g.current);return!j8(fe,ye)}return Object.keys(f).length>0?k9(f):!j8(h,g.current)},j=w.useCallback(O=>k9(l,O),[l]),P=w.useCallback(O=>O?!Kv(O,u,h).hasError:!WP(u,h).hasErrors,[h,u]);return{values:h,errors:m,setValues:U,setErrors:I,setFieldValue:z,setFieldError:A,clearFieldError:L,clearErrors:E,reset:S,validate:oe,validateField:ve,reorderListItem:Z,removeListItem:V,insertListItem:le,getInputProps:re,onSubmit:ue,onReset:x,isDirty:C,isTouched:j,setTouched:c,setDirty:d,resetTouched:b,resetDirty:T,isValid:P,getTransformedValues:te}}const IRe=new URLSearchParams(window.location.search),xRe=(e,t)=>{let n={};return e.forEach(r=>{const i=t?t[r.id]:{};if(i)n={...n,[r.id]:i};else{const s=r.paramCapture?IRe.get(r.paramCapture):"";n={...n,[r.id]:r.type==="iframe"?[]:s}}}),{...n}},CRe=e=>{let t={};return e.forEach(n=>{n.required&&(t={...t,[n.id]:r=>{if(Array.isArray(r)){if(n.requiredValue!=null&&!Array.isArray(n.requiredValue))return"Incorrect required value";if(n.requiredValue!=null&&Array.isArray(n.requiredValue)){if(n.requiredValue.length!==r.length)return"Incorrect input";const i=[...n.requiredValue].sort(),s=[...r].sort();return i.every((o,a)=>o===s[a])?null:"Incorrect input"}return r.length===0?"Empty input":null}return n.required&&n.requiredValue!=null&&r!=null?r.toString()!==n.requiredValue.toString()?"Incorrect input":null:n.required?r==null||r===""?"Empty input":null:r===null?"Empty input":null}})}),t};function ARe(e,t,n){const[r,i]=w.useState(null),s=SRe({initialValues:xRe(e,n),validate:CRe(e)});return w.useEffect(()=>{r!==t&&(i(t),s.reset())},[r,s,t]),s}function Kd(e,t,n){var o;const{requiredValue:r,requiredLabel:i}=e;let s="";return t.checked&&Array.isArray(r)?s=r&&[...r].sort().toString()!==[...t.checked].sort().toString()?`Please ${n?"select":"enter"} ${i||r.toString()} to continue.`:null:s=t.value&&r&&r.toString()!==t.value.toString()?`Please ${n?"select":"enter"} ${i||(n?(o=n.find(a=>a.value===r))==null?void 0:o.label:r.toString())} to continue.`:null,s}const L9=["http","https","mailto","tel"];function ORe(e){const t=(e||"").trim(),n=t.charAt(0);if(n==="#"||n==="/")return t;const r=t.indexOf(":");if(r===-1)return t;let i=-1;for(;++i<L9.length;){const s=L9[i];if(r===s.length&&t.slice(0,s.length).toLowerCase()===s)return t}return i=t.indexOf("?"),i!==-1&&r>i||(i=t.indexOf("#"),i!==-1&&r>i)?t:"javascript:void(0)"}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var PRe=function(t){return t!=null&&t.constructor!=null&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)};const gD=Ca(PRe);function gp(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?M9(e.position):"start"in e||"end"in e?M9(e):"line"in e||"column"in e?YP(e):""}function YP(e){return F9(e&&e.line)+":"+F9(e&&e.column)}function M9(e){return YP(e&&e.start)+"-"+YP(e&&e.end)}function F9(e){return e&&typeof e=="number"?e:1}let Yo=class extends Error{constructor(t,n,r){const i=[null,null];let s={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof n=="string"&&(r=n,n=void 0),typeof r=="string"){const o=r.indexOf(":");o===-1?i[1]=r:(i[0]=r.slice(0,o),i[1]=r.slice(o+1))}n&&("type"in n||"position"in n?n.position&&(s=n.position):"start"in n||"end"in n?s=n:("line"in n||"column"in n)&&(s.start=n)),this.name=gp(n)||"1:1",this.message=typeof t=="object"?t.message:t,this.stack="",typeof t=="object"&&t.stack&&(this.stack=t.stack),this.reason=this.message,this.fatal,this.line=s.start.line,this.column=s.start.column,this.position=s,this.source=i[0],this.ruleId=i[1],this.file,this.actual,this.expected,this.url,this.note}};Yo.prototype.file="";Yo.prototype.name="";Yo.prototype.reason="";Yo.prototype.message="";Yo.prototype.stack="";Yo.prototype.fatal=null;Yo.prototype.column=null;Yo.prototype.line=null;Yo.prototype.source=null;Yo.prototype.ruleId=null;Yo.prototype.position=null;const Ma={basename:RRe,dirname:NRe,extname:kRe,join:DRe,sep:"/"};function RRe(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');C_(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.charCodeAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,a=t.length-1;for(;i--;)if(e.charCodeAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(e.charCodeAt(i)===t.charCodeAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function NRe(e){if(C_(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.charCodeAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.charCodeAt(0)===47?"/":".":t===1&&e.charCodeAt(0)===47?"//":e.slice(0,t)}function kRe(e){C_(e);let t=e.length,n=-1,r=0,i=-1,s=0,o;for(;t--;){const a=e.charCodeAt(t);if(a===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),a===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function DRe(...e){let t=-1,n;for(;++t<e.length;)C_(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":$Re(n)}function $Re(e){C_(e);const t=e.charCodeAt(0)===47;let n=LRe(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.charCodeAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function LRe(e,t){let n="",r=0,i=-1,s=0,o=-1,a,u;for(;++o<=e.length;){if(o<e.length)a=e.charCodeAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function C_(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const MRe={cwd:FRe};function FRe(){return"/"}function GP(e){return e!==null&&typeof e=="object"&&e.href&&e.origin}function BRe(e){if(typeof e=="string")e=new URL(e);else if(!GP(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return jRe(e)}function jRe(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.charCodeAt(n)===37&&t.charCodeAt(n+1)===50){const r=t.charCodeAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const YC=["history","path","basename","stem","extname","dirname"];let URe=class{constructor(t){let n;t?typeof t=="string"||gD(t)?n={value:t}:GP(t)?n={path:t}:n=t:n={},this.data={},this.messages=[],this.history=[],this.cwd=MRe.cwd(),this.value,this.stored,this.result,this.map;let r=-1;for(;++r<YC.length;){const s=YC[r];s in n&&n[s]!==void 0&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)YC.includes(i)||(this[i]=n[i])}get path(){return this.history[this.history.length-1]}set path(t){GP(t)&&(t=BRe(t)),KC(t,"path"),this.path!==t&&this.history.push(t)}get dirname(){return typeof this.path=="string"?Ma.dirname(this.path):void 0}set dirname(t){B9(this.basename,"dirname"),this.path=Ma.join(t||"",this.basename)}get basename(){return typeof this.path=="string"?Ma.basename(this.path):void 0}set basename(t){KC(t,"basename"),GC(t,"basename"),this.path=Ma.join(this.dirname||"",t)}get extname(){return typeof this.path=="string"?Ma.extname(this.path):void 0}set extname(t){if(GC(t,"extname"),B9(this.dirname,"extname"),t){if(t.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Ma.join(this.dirname,this.stem+(t||""))}get stem(){return typeof this.path=="string"?Ma.basename(this.path,this.extname):void 0}set stem(t){KC(t,"stem"),GC(t,"stem"),this.path=Ma.join(this.dirname||"",t+(this.extname||""))}toString(t){return(this.value||"").toString(t)}message(t,n,r){const i=new Yo(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=null,i}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}};function GC(e,t){if(e&&e.includes(Ma.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Ma.sep+"`")}function KC(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function B9(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function j9(e){if(e)throw e}var K1=Object.prototype.hasOwnProperty,AX=Object.prototype.toString,U9=Object.defineProperty,V9=Object.getOwnPropertyDescriptor,z9=function(t){return typeof Array.isArray=="function"?Array.isArray(t):AX.call(t)==="[object Array]"},H9=function(t){if(!t||AX.call(t)!=="[object Object]")return!1;var n=K1.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&K1.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||K1.call(t,i)},q9=function(t,n){U9&&n.name==="__proto__"?U9(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},W9=function(t,n){if(n==="__proto__")if(K1.call(t,n)){if(V9)return V9(t,n).value}else return;return t[n]},VRe=function e(){var t,n,r,i,s,o,a=arguments[0],u=1,l=arguments.length,c=!1;for(typeof a=="boolean"&&(c=a,a=arguments[1]||{},u=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});u<l;++u)if(t=arguments[u],t!=null)for(n in t)r=W9(a,n),i=W9(t,n),a!==i&&(c&&i&&(H9(i)||(s=z9(i)))?(s?(s=!1,o=r&&z9(r)?r:[]):o=r&&H9(r)?r:{},q9(a,{name:n,newValue:e(c,o,i)})):typeof i<"u"&&q9(a,{name:n,newValue:i}));return a};const Y9=Ca(VRe);function KP(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function zRe(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(u,...l){const c=e[++s];let f=-1;if(u){o(u);return}for(;++f<i.length;)(l[f]===null||l[f]===void 0)&&(l[f]=i[f]);i=l,c?HRe(c,a)(...l):o(null,...l)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function HRe(e,t){let n;return r;function r(...o){const a=e.length>o.length;let u;a&&o.push(i);try{u=e.apply(this,o)}catch(l){const c=l;if(a&&n)throw c;return i(c)}a||(u instanceof Promise?u.then(s,i):u instanceof Error?i(u):s(u))}function i(o,...a){n||(n=!0,t(o,...a))}function s(o){i(null,o)}}class Go extends Error{constructor(t,n,r){const i=[null,null];let s={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof n=="string"&&(r=n,n=void 0),typeof r=="string"){const o=r.indexOf(":");o===-1?i[1]=r:(i[0]=r.slice(0,o),i[1]=r.slice(o+1))}n&&("type"in n||"position"in n?n.position&&(s=n.position):"start"in n||"end"in n?s=n:("line"in n||"column"in n)&&(s.start=n)),this.name=gp(n)||"1:1",this.message=typeof t=="object"?t.message:t,this.stack="",typeof t=="object"&&t.stack&&(this.stack=t.stack),this.reason=this.message,this.fatal,this.line=s.start.line,this.column=s.start.column,this.position=s,this.source=i[0],this.ruleId=i[1],this.file,this.actual,this.expected,this.url,this.note}}Go.prototype.file="";Go.prototype.name="";Go.prototype.reason="";Go.prototype.message="";Go.prototype.stack="";Go.prototype.fatal=null;Go.prototype.column=null;Go.prototype.line=null;Go.prototype.source=null;Go.prototype.ruleId=null;Go.prototype.position=null;const Fa={basename:qRe,dirname:WRe,extname:YRe,join:GRe,sep:"/"};function qRe(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');A_(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.charCodeAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,a=t.length-1;for(;i--;)if(e.charCodeAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(e.charCodeAt(i)===t.charCodeAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function WRe(e){if(A_(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.charCodeAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.charCodeAt(0)===47?"/":".":t===1&&e.charCodeAt(0)===47?"//":e.slice(0,t)}function YRe(e){A_(e);let t=e.length,n=-1,r=0,i=-1,s=0,o;for(;t--;){const a=e.charCodeAt(t);if(a===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),a===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function GRe(...e){let t=-1,n;for(;++t<e.length;)A_(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":KRe(n)}function KRe(e){A_(e);const t=e.charCodeAt(0)===47;let n=QRe(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.charCodeAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function QRe(e,t){let n="",r=0,i=-1,s=0,o=-1,a,u;for(;++o<=e.length;){if(o<e.length)a=e.charCodeAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function A_(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const XRe={cwd:JRe};function JRe(){return"/"}function QP(e){return e!==null&&typeof e=="object"&&e.href&&e.origin}function ZRe(e){if(typeof e=="string")e=new URL(e);else if(!QP(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return eNe(e)}function eNe(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.charCodeAt(n)===37&&t.charCodeAt(n+1)===50){const r=t.charCodeAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const QC=["history","path","basename","stem","extname","dirname"];class tNe{constructor(t){let n;t?typeof t=="string"||gD(t)?n={value:t}:QP(t)?n={path:t}:n=t:n={},this.data={},this.messages=[],this.history=[],this.cwd=XRe.cwd(),this.value,this.stored,this.result,this.map;let r=-1;for(;++r<QC.length;){const s=QC[r];s in n&&n[s]!==void 0&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)QC.includes(i)||(this[i]=n[i])}get path(){return this.history[this.history.length-1]}set path(t){QP(t)&&(t=ZRe(t)),JC(t,"path"),this.path!==t&&this.history.push(t)}get dirname(){return typeof this.path=="string"?Fa.dirname(this.path):void 0}set dirname(t){G9(this.basename,"dirname"),this.path=Fa.join(t||"",this.basename)}get basename(){return typeof this.path=="string"?Fa.basename(this.path):void 0}set basename(t){JC(t,"basename"),XC(t,"basename"),this.path=Fa.join(this.dirname||"",t)}get extname(){return typeof this.path=="string"?Fa.extname(this.path):void 0}set extname(t){if(XC(t,"extname"),G9(this.dirname,"extname"),t){if(t.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Fa.join(this.dirname,this.stem+(t||""))}get stem(){return typeof this.path=="string"?Fa.basename(this.path,this.extname):void 0}set stem(t){JC(t,"stem"),XC(t,"stem"),this.path=Fa.join(this.dirname||"",t+(this.extname||""))}toString(t){return(this.value||"").toString(t)}message(t,n,r){const i=new Go(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=null,i}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}}function XC(e,t){if(e&&e.includes(Fa.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Fa.sep+"`")}function JC(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function G9(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}const nNe=PX().freeze(),OX={}.hasOwnProperty;function PX(){const e=zRe(),t=[];let n={},r,i=-1;return s.data=o,s.Parser=void 0,s.Compiler=void 0,s.freeze=a,s.attachers=t,s.use=u,s.parse=l,s.stringify=c,s.run=f,s.runSync=d,s.process=h,s.processSync=p,s;function s(){const m=PX();let y=-1;for(;++y<t.length;)m.use(...t[y]);return m.data(Y9(!0,{},n)),m}function o(m,y){return typeof m=="string"?arguments.length===2?(tA("data",r),n[m]=y,s):OX.call(n,m)&&n[m]||null:m?(tA("data",r),n=m,s):n}function a(){if(r)return s;for(;++i<t.length;){const[m,...y]=t[i];if(y[0]===!1)continue;y[0]===!0&&(y[0]=void 0);const g=m.call(s,...y);typeof g=="function"&&e.use(g)}return r=!0,i=Number.POSITIVE_INFINITY,s}function u(m,...y){let g;if(tA("use",r),m!=null)if(typeof m=="function")I(m,...y);else if(typeof m=="object")Array.isArray(m)?T(m):b(m);else throw new TypeError("Expected usable value, not `"+m+"`");return g&&(n.settings=Object.assign(n.settings||{},g)),s;function _(E){if(typeof E=="function")I(E);else if(typeof E=="object")if(Array.isArray(E)){const[S,...A]=E;I(S,...A)}else b(E);else throw new TypeError("Expected usable value, not `"+E+"`")}function b(E){T(E.plugins),E.settings&&(g=Object.assign(g||{},E.settings))}function T(E){let S=-1;if(E!=null)if(Array.isArray(E))for(;++S<E.length;){const A=E[S];_(A)}else throw new TypeError("Expected a list of plugins, not `"+E+"`")}function I(E,S){let A=-1,L;for(;++A<t.length;)if(t[A][0]===E){L=t[A];break}L?(KP(L[1])&&KP(S)&&(S=Y9(!0,L[1],S)),L[1]=S):t.push([...arguments])}}function l(m){s.freeze();const y=S0(m),g=s.Parser;return ZC("parse",g),K9(g,"parse")?new g(String(y),y).parse():g(String(y),y)}function c(m,y){s.freeze();const g=S0(y),_=s.Compiler;return eA("stringify",_),Q9(m),K9(_,"compile")?new _(m,g).compile():_(m,g)}function f(m,y,g){if(Q9(m),s.freeze(),!g&&typeof y=="function"&&(g=y,y=void 0),!g)return new Promise(_);_(null,g);function _(b,T){e.run(m,S0(y),I);function I(E,S,A){S=S||m,E?T(E):b?b(S):g(null,S,A)}}}function d(m,y){let g,_;return s.run(m,y,b),X9("runSync","run",_),g;function b(T,I){j9(T),g=I,_=!0}}function h(m,y){if(s.freeze(),ZC("process",s.Parser),eA("process",s.Compiler),!y)return new Promise(g);g(null,y);function g(_,b){const T=S0(m);s.run(s.parse(T),T,(E,S,A)=>{if(E||!S||!A)I(E);else{const L=s.stringify(S,A);L==null||(sNe(L)?A.value=L:A.result=L),I(E,A)}});function I(E,S){E||!S?b(E):_?_(S):y(null,S)}}}function p(m){let y;s.freeze(),ZC("processSync",s.Parser),eA("processSync",s.Compiler);const g=S0(m);return s.process(g,_),X9("processSync","process",y),g;function _(b){y=!0,j9(b)}}}function K9(e,t){return typeof e=="function"&&e.prototype&&(rNe(e.prototype)||t in e.prototype)}function rNe(e){let t;for(t in e)if(OX.call(e,t))return!0;return!1}function ZC(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `Parser`")}function eA(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `Compiler`")}function tA(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Q9(e){if(!KP(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function X9(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function S0(e){return iNe(e)?e:new tNe(e)}function iNe(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function sNe(e){return typeof e=="string"||gD(e)}function oNe(e,t){var{includeImageAlt:n=!0}=t||{};return RX(e,n)}function RX(e,t){return e&&typeof e=="object"&&(e.value||(t?e.alt:"")||"children"in e&&J9(e.children,t)||Array.isArray(e)&&J9(e,t))||""}function J9(e,t){for(var n=[],r=-1;++r<e.length;)n[r]=RX(e[r],t);return n.join("")}function vu(e,t,n,r){const i=e.length;let s=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),[].splice.apply(e,o);else for(n&&[].splice.apply(e,[t,n]);s<r.length;)o=r.slice(s,s+1e4),o.unshift(t,0),[].splice.apply(e,o),s+=1e4,t+=1e4}function Po(e,t){return e.length>0?(vu(e,e.length,0,t),e):t}const Z9={}.hasOwnProperty;function aNe(e){const t={};let n=-1;for(;++n<e.length;)uNe(t,e[n]);return t}function uNe(e,t){let n;for(n in t){const i=(Z9.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let o;for(o in s){Z9.call(i,o)||(i[o]=[]);const a=s[o];lNe(i[o],Array.isArray(a)?a:a?[a]:[])}}}function lNe(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);vu(e,0,0,r)}const cNe=/[!-/:-@[-`{-~\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,Wa=gf(/[A-Za-z]/),XP=gf(/\d/),fNe=gf(/[\dA-Fa-f]/),ro=gf(/[\dA-Za-z]/),dNe=gf(/[!-/:-@[-`{-~]/),eB=gf(/[#-'*+\--9=?A-Z^-~]/);function JP(e){return e!==null&&(e<32||e===127)}function Bo(e){return e!==null&&(e<0||e===32)}function bt(e){return e!==null&&e<-2}function Br(e){return e===-2||e===-1||e===32}const hNe=gf(/\s/),pNe=gf(cNe);function gf(e){return t;function t(n){return n!==null&&e.test(String.fromCharCode(n))}}function jn(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(u){return Br(u)?(e.enter(n),a(u)):t(u)}function a(u){return Br(u)&&s++<i?(e.consume(u),a):(e.exit(n),t(u))}}const mNe={tokenize:gNe};function gNe(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),jn(e,t,"linePrefix")}function i(a){return e.enter("paragraph"),s(a)}function s(a){const u=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=u),n=u,o(a)}function o(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return bt(a)?(e.consume(a),e.exit("chunkText"),s):(e.consume(a),o)}}const yNe={tokenize:_Ne},tB={tokenize:vNe};function _Ne(e){const t=this,n=[];let r=0,i,s,o;return a;function a(b){if(r<n.length){const T=n[r];return t.containerState=T[1],e.attempt(T[0].continuation,u,l)(b)}return l(b)}function u(b){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&_();const T=t.events.length;let I=T,E;for(;I--;)if(t.events[I][0]==="exit"&&t.events[I][1].type==="chunkFlow"){E=t.events[I][1].end;break}g(r);let S=T;for(;S<t.events.length;)t.events[S][1].end=Object.assign({},E),S++;return vu(t.events,I+1,0,t.events.slice(T)),t.events.length=S,l(b)}return a(b)}function l(b){if(r===n.length){if(!i)return d(b);if(i.currentConstruct&&i.currentConstruct.concrete)return p(b);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(tB,c,f)(b)}function c(b){return i&&_(),g(r),d(b)}function f(b){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,p(b)}function d(b){return t.containerState={},e.attempt(tB,h,p)(b)}function h(b){return r++,n.push([t.currentConstruct,t.containerState]),d(b)}function p(b){if(b===null){i&&_(),g(0),e.consume(b);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:s,_tokenizer:i}),m(b)}function m(b){if(b===null){y(e.exit("chunkFlow"),!0),g(0),e.consume(b);return}return bt(b)?(e.consume(b),y(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(b),m)}function y(b,T){const I=t.sliceStream(b);if(T&&I.push(null),b.previous=s,s&&(s.next=b),s=b,i.defineSkip(b.start),i.write(I),t.parser.lazy[b.start.line]){let E=i.events.length;for(;E--;)if(i.events[E][1].start.offset<o&&(!i.events[E][1].end||i.events[E][1].end.offset>o))return;const S=t.events.length;let A=S,L,Y;for(;A--;)if(t.events[A][0]==="exit"&&t.events[A][1].type==="chunkFlow"){if(L){Y=t.events[A][1].end;break}L=!0}for(g(r),E=S;E<t.events.length;)t.events[E][1].end=Object.assign({},Y),E++;vu(t.events,A+1,0,t.events.slice(S)),t.events.length=E}}function g(b){let T=n.length;for(;T-- >b;){const I=n[T];t.containerState=I[1],I[0].exit.call(t,e)}n.length=b}function _(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function vNe(e,t,n){return jn(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function nB(e){if(e===null||Bo(e)||hNe(e))return 1;if(pNe(e))return 2}function yD(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const ZP={name:"attention",tokenize:ENe,resolveAll:bNe};function bNe(e,t){let n=-1,r,i,s,o,a,u,l,c;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;u=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f=Object.assign({},e[r][1].end),d=Object.assign({},e[n][1].start);rB(f,-u),rB(d,u),o={type:u>1?"strongSequence":"emphasisSequence",start:f,end:Object.assign({},e[r][1].end)},a={type:u>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[n][1].start),end:d},s={type:u>1?"strongText":"emphasisText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[n][1].start)},i={type:u>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},a.end)},e[r][1].end=Object.assign({},o.start),e[n][1].start=Object.assign({},a.end),l=[],e[r][1].end.offset-e[r][1].start.offset&&(l=Po(l,[["enter",e[r][1],t],["exit",e[r][1],t]])),l=Po(l,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",s,t]]),l=Po(l,yD(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),l=Po(l,[["exit",s,t],["enter",a,t],["exit",a,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(c=2,l=Po(l,[["enter",e[n][1],t],["exit",e[n][1],t]])):c=0,vu(e,r-1,n-r+3,l),n=r+l.length-c-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function ENe(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=nB(r);let s;return o;function o(u){return e.enter("attentionSequence"),s=u,a(u)}function a(u){if(u===s)return e.consume(u),a;const l=e.exit("attentionSequence"),c=nB(u),f=!c||c===2&&i||n.includes(u),d=!i||i===2&&c||n.includes(r);return l._open=!!(s===42?f:f&&(i||!d)),l._close=!!(s===42?d:d&&(c||!f)),t(u)}}function rB(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const wNe={name:"autolink",tokenize:TNe};function TNe(e,t,n){let r=1;return i;function i(p){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(p){return Wa(p)?(e.consume(p),o):eB(p)?l(p):n(p)}function o(p){return p===43||p===45||p===46||ro(p)?a(p):l(p)}function a(p){return p===58?(e.consume(p),u):(p===43||p===45||p===46||ro(p))&&r++<32?(e.consume(p),a):l(p)}function u(p){return p===62?(e.exit("autolinkProtocol"),h(p)):p===null||p===32||p===60||JP(p)?n(p):(e.consume(p),u)}function l(p){return p===64?(e.consume(p),r=0,c):eB(p)?(e.consume(p),l):n(p)}function c(p){return ro(p)?f(p):n(p)}function f(p){return p===46?(e.consume(p),r=0,c):p===62?(e.exit("autolinkProtocol").type="autolinkEmail",h(p)):d(p)}function d(p){return(p===45||ro(p))&&r++<63?(e.consume(p),p===45?d:f):n(p)}function h(p){return e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t}}const rI={tokenize:SNe,partial:!0};function SNe(e,t,n){return jn(e,r,"linePrefix");function r(i){return i===null||bt(i)?t(i):n(i)}}const NX={name:"blockQuote",tokenize:INe,continuation:{tokenize:xNe},exit:CNe};function INe(e,t,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),s}return n(o)}function s(o){return Br(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function xNe(e,t,n){return jn(e,e.attempt(NX,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function CNe(e){e.exit("blockQuote")}const kX={name:"characterEscape",tokenize:ANe};function ANe(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return dNe(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const iB=document.createElement("i");function _D(e){const t="&"+e+";";iB.innerHTML=t;const n=iB.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}const DX={name:"characterReference",tokenize:ONe};function ONe(e,t,n){const r=this;let i=0,s,o;return a;function a(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),u}function u(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),l):(e.enter("characterReferenceValue"),s=31,o=ro,c(f))}function l(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,o=fNe,c):(e.enter("characterReferenceValue"),s=7,o=XP,c(f))}function c(f){let d;return f===59&&i?(d=e.exit("characterReferenceValue"),o===ro&&!_D(r.sliceSerialize(d))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)):o(f)&&i++<s?(e.consume(f),c):n(f)}}const sB={name:"codeFenced",tokenize:PNe,concrete:!0};function PNe(e,t,n){const r=this,i={tokenize:I,partial:!0},s={tokenize:T,partial:!0},o=this.events[this.events.length-1],a=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0;let u=0,l;return c;function c(E){return e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),l=E,f(E)}function f(E){return E===l?(e.consume(E),u++,f):(e.exit("codeFencedFenceSequence"),u<3?n(E):jn(e,d,"whitespace")(E))}function d(E){return E===null||bt(E)?y(E):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(E))}function h(E){return E===null||Bo(E)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),jn(e,p,"whitespace")(E)):E===96&&E===l?n(E):(e.consume(E),h)}function p(E){return E===null||bt(E)?y(E):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),m(E))}function m(E){return E===null||bt(E)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),y(E)):E===96&&E===l?n(E):(e.consume(E),m)}function y(E){return e.exit("codeFencedFence"),r.interrupt?t(E):g(E)}function g(E){return E===null?b(E):bt(E)?e.attempt(s,e.attempt(i,b,a?jn(e,g,"linePrefix",a+1):g),b)(E):(e.enter("codeFlowValue"),_(E))}function _(E){return E===null||bt(E)?(e.exit("codeFlowValue"),g(E)):(e.consume(E),_)}function b(E){return e.exit("codeFenced"),t(E)}function T(E,S,A){const L=this;return Y;function Y(U){return E.enter("lineEnding"),E.consume(U),E.exit("lineEnding"),z}function z(U){return L.parser.lazy[L.now().line]?A(U):S(U)}}function I(E,S,A){let L=0;return jn(E,Y,"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function Y(Z){return E.enter("codeFencedFence"),E.enter("codeFencedFenceSequence"),z(Z)}function z(Z){return Z===l?(E.consume(Z),L++,z):L<u?A(Z):(E.exit("codeFencedFenceSequence"),jn(E,U,"whitespace")(Z))}function U(Z){return Z===null||bt(Z)?(E.exit("codeFencedFence"),S(Z)):A(Z)}}}const nA={name:"codeIndented",tokenize:NNe},RNe={tokenize:kNe,partial:!0};function NNe(e,t,n){const r=this;return i;function i(l){return e.enter("codeIndented"),jn(e,s,"linePrefix",5)(l)}function s(l){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?o(l):n(l)}function o(l){return l===null?u(l):bt(l)?e.attempt(RNe,o,u)(l):(e.enter("codeFlowValue"),a(l))}function a(l){return l===null||bt(l)?(e.exit("codeFlowValue"),o(l)):(e.consume(l),a)}function u(l){return e.exit("codeIndented"),t(l)}}function kNe(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):bt(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):jn(e,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):bt(o)?i(o):n(o)}}const DNe={name:"codeText",tokenize:MNe,resolve:$Ne,previous:LNe};function $Ne(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function LNe(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function MNe(e,t,n){let r=0,i,s;return o;function o(f){return e.enter("codeText"),e.enter("codeTextSequence"),a(f)}function a(f){return f===96?(e.consume(f),r++,a):(e.exit("codeTextSequence"),u(f))}function u(f){return f===null?n(f):f===96?(s=e.enter("codeTextSequence"),i=0,c(f)):f===32?(e.enter("space"),e.consume(f),e.exit("space"),u):bt(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),u):(e.enter("codeTextData"),l(f))}function l(f){return f===null||f===32||f===96||bt(f)?(e.exit("codeTextData"),u(f)):(e.consume(f),l)}function c(f){return f===96?(e.consume(f),i++,c):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(s.type="codeTextData",l(f))}}function $X(e){const t={};let n=-1,r,i,s,o,a,u,l;for(;++n<e.length;){for(;n in t;)n=t[n];if(r=e[n],n&&r[1].type==="chunkFlow"&&e[n-1][1].type==="listItemPrefix"&&(u=r[1]._tokenizer.events,s=0,s<u.length&&u[s][1].type==="lineEndingBlank"&&(s+=2),s<u.length&&u[s][1].type==="content"))for(;++s<u.length&&u[s][1].type!=="content";)u[s][1].type==="chunkText"&&(u[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,FNe(e,n)),n=t[n],l=!0);else if(r[1]._container){for(s=n,i=void 0;s--&&(o=e[s],o[1].type==="lineEnding"||o[1].type==="lineEndingBlank");)o[0]==="enter"&&(i&&(e[i][1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);i&&(r[1].end=Object.assign({},e[i][1].start),a=e.slice(i,n),a.unshift(r),vu(e,i,n-i+1,a))}}return!l}function FNe(e,t){const n=e[t][1],r=e[t][2];let i=t-1;const s=[],o=n._tokenizer||r.parser[n.contentType](n.start),a=o.events,u=[],l={};let c,f,d=-1,h=n,p=0,m=0;const y=[m];for(;h;){for(;e[++i][1]!==h;);s.push(i),h._tokenizer||(c=r.sliceStream(h),h.next||c.push(null),f&&o.defineSkip(h.start),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(c),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=h,h=h.next}for(h=n;++d<a.length;)a[d][0]==="exit"&&a[d-1][0]==="enter"&&a[d][1].type===a[d-1][1].type&&a[d][1].start.line!==a[d][1].end.line&&(m=d+1,y.push(m),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(o.events=[],h?(h._tokenizer=void 0,h.previous=void 0):y.pop(),d=y.length;d--;){const g=a.slice(y[d],y[d+1]),_=s.pop();u.unshift([_,_+g.length-1]),vu(e,_,2,g)}for(d=-1;++d<u.length;)l[p+u[d][0]]=p+u[d][1],p+=u[d][1]-u[d][0]-1;return l}const BNe={tokenize:VNe,resolve:UNe},jNe={tokenize:zNe,partial:!0};function UNe(e){return $X(e),e}function VNe(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):bt(a)?e.check(jNe,o,s)(a):(e.consume(a),i)}function s(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function o(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function zNe(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),jn(e,s,"linePrefix")}function s(o){if(o===null||bt(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function LX(e,t,n,r,i,s,o,a,u){const l=u||Number.POSITIVE_INFINITY;let c=0;return f;function f(g){return g===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(g),e.exit(s),d):g===null||g===41||JP(g)?n(g):(e.enter(r),e.enter(o),e.enter(a),e.enter("chunkString",{contentType:"string"}),m(g))}function d(g){return g===62?(e.enter(s),e.consume(g),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),h(g))}function h(g){return g===62?(e.exit("chunkString"),e.exit(a),d(g)):g===null||g===60||bt(g)?n(g):(e.consume(g),g===92?p:h)}function p(g){return g===60||g===62||g===92?(e.consume(g),h):h(g)}function m(g){return g===40?++c>l?n(g):(e.consume(g),m):g===41?c--?(e.consume(g),m):(e.exit("chunkString"),e.exit(a),e.exit(o),e.exit(r),t(g)):g===null||Bo(g)?c?n(g):(e.exit("chunkString"),e.exit(a),e.exit(o),e.exit(r),t(g)):JP(g)?n(g):(e.consume(g),g===92?y:m)}function y(g){return g===40||g===41||g===92?(e.consume(g),m):m(g)}}function MX(e,t,n,r,i,s){const o=this;let a=0,u;return l;function l(h){return e.enter(r),e.enter(i),e.consume(h),e.exit(i),e.enter(s),c}function c(h){return h===null||h===91||h===93&&!u||h===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs||a>999?n(h):h===93?(e.exit(s),e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):bt(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),f(h))}function f(h){return h===null||h===91||h===93||bt(h)||a++>999?(e.exit("chunkString"),c(h)):(e.consume(h),u=u||!Br(h),h===92?d:f)}function d(h){return h===91||h===92||h===93?(e.consume(h),a++,f):f(h)}}function FX(e,t,n,r,i,s){let o;return a;function a(d){return e.enter(r),e.enter(i),e.consume(d),e.exit(i),o=d===40?41:d,u}function u(d){return d===o?(e.enter(i),e.consume(d),e.exit(i),e.exit(r),t):(e.enter(s),l(d))}function l(d){return d===o?(e.exit(s),u(o)):d===null?n(d):bt(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),jn(e,l,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(d))}function c(d){return d===o||d===null||bt(d)?(e.exit("chunkString"),l(d)):(e.consume(d),d===92?f:c)}function f(d){return d===o||d===92?(e.consume(d),c):c(d)}}function Cg(e,t){let n;return r;function r(i){return bt(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Br(i)?jn(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}function yp(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const HNe={name:"definition",tokenize:WNe},qNe={tokenize:YNe,partial:!0};function WNe(e,t,n){const r=this;let i;return s;function s(u){return e.enter("definition"),MX.call(r,e,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(u)}function o(u){return i=yp(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),u===58?(e.enter("definitionMarker"),e.consume(u),e.exit("definitionMarker"),Cg(e,LX(e,e.attempt(qNe,jn(e,a,"whitespace"),jn(e,a,"whitespace")),n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString"))):n(u)}function a(u){return u===null||bt(u)?(e.exit("definition"),r.parser.defined.includes(i)||r.parser.defined.push(i),t(u)):n(u)}}function YNe(e,t,n){return r;function r(o){return Bo(o)?Cg(e,i)(o):n(o)}function i(o){return o===34||o===39||o===40?FX(e,jn(e,s,"whitespace"),n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o):n(o)}function s(o){return o===null||bt(o)?t(o):n(o)}}const GNe={name:"hardBreakEscape",tokenize:KNe};function KNe(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.enter("escapeMarker"),e.consume(s),i}function i(s){return bt(s)?(e.exit("escapeMarker"),e.exit("hardBreakEscape"),t(s)):n(s)}}const QNe={name:"headingAtx",tokenize:JNe,resolve:XNe};function XNe(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},vu(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function JNe(e,t,n){const r=this;let i=0;return s;function s(c){return e.enter("atxHeading"),e.enter("atxHeadingSequence"),o(c)}function o(c){return c===35&&i++<6?(e.consume(c),o):c===null||Bo(c)?(e.exit("atxHeadingSequence"),r.interrupt?t(c):a(c)):n(c)}function a(c){return c===35?(e.enter("atxHeadingSequence"),u(c)):c===null||bt(c)?(e.exit("atxHeading"),t(c)):Br(c)?jn(e,a,"whitespace")(c):(e.enter("atxHeadingText"),l(c))}function u(c){return c===35?(e.consume(c),u):(e.exit("atxHeadingSequence"),a(c))}function l(c){return c===null||c===35||Bo(c)?(e.exit("atxHeadingText"),a(c)):(e.consume(c),l)}}const ZNe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],oB=["pre","script","style","textarea"],eke={name:"htmlFlow",tokenize:rke,resolveTo:nke,concrete:!0},tke={tokenize:ike,partial:!0};function nke(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function rke(e,t,n){const r=this;let i,s,o,a,u;return l;function l(C){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(C),c}function c(C){return C===33?(e.consume(C),f):C===47?(e.consume(C),p):C===63?(e.consume(C),i=3,r.interrupt?t:ue):Wa(C)?(e.consume(C),o=String.fromCharCode(C),s=!0,m):n(C)}function f(C){return C===45?(e.consume(C),i=2,d):C===91?(e.consume(C),i=5,o="CDATA[",a=0,h):Wa(C)?(e.consume(C),i=4,r.interrupt?t:ue):n(C)}function d(C){return C===45?(e.consume(C),r.interrupt?t:ue):n(C)}function h(C){return C===o.charCodeAt(a++)?(e.consume(C),a===o.length?r.interrupt?t:z:h):n(C)}function p(C){return Wa(C)?(e.consume(C),o=String.fromCharCode(C),m):n(C)}function m(C){return C===null||C===47||C===62||Bo(C)?C!==47&&s&&oB.includes(o.toLowerCase())?(i=1,r.interrupt?t(C):z(C)):ZNe.includes(o.toLowerCase())?(i=6,C===47?(e.consume(C),y):r.interrupt?t(C):z(C)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(C):s?_(C):g(C)):C===45||ro(C)?(e.consume(C),o+=String.fromCharCode(C),m):n(C)}function y(C){return C===62?(e.consume(C),r.interrupt?t:z):n(C)}function g(C){return Br(C)?(e.consume(C),g):L(C)}function _(C){return C===47?(e.consume(C),L):C===58||C===95||Wa(C)?(e.consume(C),b):Br(C)?(e.consume(C),_):L(C)}function b(C){return C===45||C===46||C===58||C===95||ro(C)?(e.consume(C),b):T(C)}function T(C){return C===61?(e.consume(C),I):Br(C)?(e.consume(C),T):_(C)}function I(C){return C===null||C===60||C===61||C===62||C===96?n(C):C===34||C===39?(e.consume(C),u=C,E):Br(C)?(e.consume(C),I):(u=null,S(C))}function E(C){return C===null||bt(C)?n(C):C===u?(e.consume(C),A):(e.consume(C),E)}function S(C){return C===null||C===34||C===39||C===60||C===61||C===62||C===96||Bo(C)?T(C):(e.consume(C),S)}function A(C){return C===47||C===62||Br(C)?_(C):n(C)}function L(C){return C===62?(e.consume(C),Y):n(C)}function Y(C){return Br(C)?(e.consume(C),Y):C===null||bt(C)?z(C):n(C)}function z(C){return C===45&&i===2?(e.consume(C),le):C===60&&i===1?(e.consume(C),oe):C===62&&i===4?(e.consume(C),te):C===63&&i===3?(e.consume(C),ue):C===93&&i===5?(e.consume(C),re):bt(C)&&(i===6||i===7)?e.check(tke,te,U)(C):C===null||bt(C)?U(C):(e.consume(C),z)}function U(C){return e.exit("htmlFlowData"),Z(C)}function Z(C){return C===null?x(C):bt(C)?e.attempt({tokenize:V,partial:!0},Z,x)(C):(e.enter("htmlFlowData"),z(C))}function V(C,j,P){return O;function O(de){return C.enter("lineEnding"),C.consume(de),C.exit("lineEnding"),G}function G(de){return r.parser.lazy[r.now().line]?P(de):j(de)}}function le(C){return C===45?(e.consume(C),ue):z(C)}function oe(C){return C===47?(e.consume(C),o="",ve):z(C)}function ve(C){return C===62&&oB.includes(o.toLowerCase())?(e.consume(C),te):Wa(C)&&o.length<8?(e.consume(C),o+=String.fromCharCode(C),ve):z(C)}function re(C){return C===93?(e.consume(C),ue):z(C)}function ue(C){return C===62?(e.consume(C),te):C===45&&i===2?(e.consume(C),ue):z(C)}function te(C){return C===null||bt(C)?(e.exit("htmlFlowData"),x(C)):(e.consume(C),te)}function x(C){return e.exit("htmlFlow"),t(C)}}function ike(e,t,n){return r;function r(i){return e.exit("htmlFlowData"),e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),e.attempt(rI,t,n)}}const ske={name:"htmlText",tokenize:oke};function oke(e,t,n){const r=this;let i,s,o,a;return u;function u(x){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(x),l}function l(x){return x===33?(e.consume(x),c):x===47?(e.consume(x),S):x===63?(e.consume(x),I):Wa(x)?(e.consume(x),Y):n(x)}function c(x){return x===45?(e.consume(x),f):x===91?(e.consume(x),s="CDATA[",o=0,y):Wa(x)?(e.consume(x),T):n(x)}function f(x){return x===45?(e.consume(x),d):n(x)}function d(x){return x===null||x===62?n(x):x===45?(e.consume(x),h):p(x)}function h(x){return x===null||x===62?n(x):p(x)}function p(x){return x===null?n(x):x===45?(e.consume(x),m):bt(x)?(a=p,re(x)):(e.consume(x),p)}function m(x){return x===45?(e.consume(x),te):p(x)}function y(x){return x===s.charCodeAt(o++)?(e.consume(x),o===s.length?g:y):n(x)}function g(x){return x===null?n(x):x===93?(e.consume(x),_):bt(x)?(a=g,re(x)):(e.consume(x),g)}function _(x){return x===93?(e.consume(x),b):g(x)}function b(x){return x===62?te(x):x===93?(e.consume(x),b):g(x)}function T(x){return x===null||x===62?te(x):bt(x)?(a=T,re(x)):(e.consume(x),T)}function I(x){return x===null?n(x):x===63?(e.consume(x),E):bt(x)?(a=I,re(x)):(e.consume(x),I)}function E(x){return x===62?te(x):I(x)}function S(x){return Wa(x)?(e.consume(x),A):n(x)}function A(x){return x===45||ro(x)?(e.consume(x),A):L(x)}function L(x){return bt(x)?(a=L,re(x)):Br(x)?(e.consume(x),L):te(x)}function Y(x){return x===45||ro(x)?(e.consume(x),Y):x===47||x===62||Bo(x)?z(x):n(x)}function z(x){return x===47?(e.consume(x),te):x===58||x===95||Wa(x)?(e.consume(x),U):bt(x)?(a=z,re(x)):Br(x)?(e.consume(x),z):te(x)}function U(x){return x===45||x===46||x===58||x===95||ro(x)?(e.consume(x),U):Z(x)}function Z(x){return x===61?(e.consume(x),V):bt(x)?(a=Z,re(x)):Br(x)?(e.consume(x),Z):z(x)}function V(x){return x===null||x===60||x===61||x===62||x===96?n(x):x===34||x===39?(e.consume(x),i=x,le):bt(x)?(a=V,re(x)):Br(x)?(e.consume(x),V):(e.consume(x),i=void 0,ve)}function le(x){return x===i?(e.consume(x),oe):x===null?n(x):bt(x)?(a=le,re(x)):(e.consume(x),le)}function oe(x){return x===62||x===47||Bo(x)?z(x):n(x)}function ve(x){return x===null||x===34||x===39||x===60||x===61||x===96?n(x):x===62||Bo(x)?z(x):(e.consume(x),ve)}function re(x){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(x),e.exit("lineEnding"),jn(e,ue,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function ue(x){return e.enter("htmlTextData"),a(x)}function te(x){return x===62?(e.consume(x),e.exit("htmlTextData"),e.exit("htmlText"),t):n(x)}}const vD={name:"labelEnd",tokenize:dke,resolveTo:fke,resolveAll:cke},ake={tokenize:hke},uke={tokenize:pke},lke={tokenize:mke};function cke(e){let t=-1,n;for(;++t<e.length;)n=e[t][1],(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(e.splice(t+1,n.type==="labelImage"?4:2),n.type="data",t++);return e}function fke(e,t){let n=e.length,r=0,i,s,o,a;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const u={type:e[s][1].type==="labelLink"?"link":"image",start:Object.assign({},e[s][1].start),end:Object.assign({},e[e.length-1][1].end)},l={type:"label",start:Object.assign({},e[s][1].start),end:Object.assign({},e[o][1].end)},c={type:"labelText",start:Object.assign({},e[s+r+2][1].end),end:Object.assign({},e[o-2][1].start)};return a=[["enter",u,t],["enter",l,t]],a=Po(a,e.slice(s+1,s+r+3)),a=Po(a,[["enter",c,t]]),a=Po(a,yD(t.parser.constructs.insideSpan.null,e.slice(s+r+4,o-3),t)),a=Po(a,[["exit",c,t],e[o-2],e[o-1],["exit",l,t]]),a=Po(a,e.slice(o+1)),a=Po(a,[["exit",u,t]]),vu(e,s,e.length,a),e}function dke(e,t,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(c){return s?s._inactive?l(c):(o=r.parser.defined.includes(yp(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(c),e.exit("labelMarker"),e.exit("labelEnd"),u):n(c)}function u(c){return c===40?e.attempt(ake,t,o?t:l)(c):c===91?e.attempt(uke,t,o?e.attempt(lke,t,l):l)(c):o?t(c):l(c)}function l(c){return s._balanced=!0,n(c)}}function hke(e,t,n){return r;function r(u){return e.enter("resource"),e.enter("resourceMarker"),e.consume(u),e.exit("resourceMarker"),Cg(e,i)}function i(u){return u===41?a(u):LX(e,s,n,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(u)}function s(u){return Bo(u)?Cg(e,o)(u):a(u)}function o(u){return u===34||u===39||u===40?FX(e,Cg(e,a),n,"resourceTitle","resourceTitleMarker","resourceTitleString")(u):a(u)}function a(u){return u===41?(e.enter("resourceMarker"),e.consume(u),e.exit("resourceMarker"),e.exit("resource"),t):n(u)}}function pke(e,t,n){const r=this;return i;function i(o){return MX.call(r,e,s,n,"reference","referenceMarker","referenceString")(o)}function s(o){return r.parser.defined.includes(yp(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(o):n(o)}}function mke(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const gke={name:"labelStartImage",tokenize:yke,resolveAll:vD.resolveAll};function yke(e,t,n){const r=this;return i;function i(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),s}function s(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const _ke={name:"labelStartLink",tokenize:vke,resolveAll:vD.resolveAll};function vke(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const rA={name:"lineEnding",tokenize:bke};function bke(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),jn(e,t,"linePrefix")}}const Q1={name:"thematicBreak",tokenize:Eke};function Eke(e,t,n){let r=0,i;return s;function s(u){return e.enter("thematicBreak"),i=u,o(u)}function o(u){return u===i?(e.enter("thematicBreakSequence"),a(u)):Br(u)?jn(e,o,"whitespace")(u):r<3||u!==null&&!bt(u)?n(u):(e.exit("thematicBreak"),t(u))}function a(u){return u===i?(e.consume(u),r++,a):(e.exit("thematicBreakSequence"),o(u))}}const ys={name:"list",tokenize:Ske,continuation:{tokenize:Ike},exit:Cke},wke={tokenize:Ake,partial:!0},Tke={tokenize:xke,partial:!0};function Ske(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(h){const p=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:XP(h)){if(r.containerState.type||(r.containerState.type=p,e.enter(p,{_container:!0})),p==="listUnordered")return e.enter("listItemPrefix"),h===42||h===45?e.check(Q1,n,l)(h):l(h);if(!r.interrupt||h===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),u(h)}return n(h)}function u(h){return XP(h)&&++o<10?(e.consume(h),u):(!r.interrupt||o<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(e.exit("listItemValue"),l(h)):n(h)}function l(h){return e.enter("listItemMarker"),e.consume(h),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,e.check(rI,r.interrupt?n:c,e.attempt(wke,d,f))}function c(h){return r.containerState.initialBlankLine=!0,s++,d(h)}function f(h){return Br(h)?(e.enter("listItemPrefixWhitespace"),e.consume(h),e.exit("listItemPrefixWhitespace"),d):n(h)}function d(h){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(h)}}function Ike(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(rI,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,jn(e,t,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!Br(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Tke,t,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,jn(e,e.attempt(ys,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function xke(e,t,n){const r=this;return jn(e,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(s):n(s)}}function Cke(e){e.exit(this.containerState.type)}function Ake(e,t,n){const r=this;return jn(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!Br(s)&&o&&o[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const aB={name:"setextUnderline",tokenize:Pke,resolveTo:Oke};function Oke(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",o,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end=Object.assign({},e[s][1].end)):e[r][1]=o,e.push(["exit",o,t]),e}function Pke(e,t,n){const r=this;let i=r.events.length,s,o;for(;i--;)if(r.events[i][1].type!=="lineEnding"&&r.events[i][1].type!=="linePrefix"&&r.events[i][1].type!=="content"){o=r.events[i][1].type==="paragraph";break}return a;function a(c){return!r.parser.lazy[r.now().line]&&(r.interrupt||o)?(e.enter("setextHeadingLine"),e.enter("setextHeadingLineSequence"),s=c,u(c)):n(c)}function u(c){return c===s?(e.consume(c),u):(e.exit("setextHeadingLineSequence"),jn(e,l,"lineSuffix")(c))}function l(c){return c===null||bt(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const Rke={tokenize:Nke};function Nke(e){const t=this,n=e.attempt(rI,r,e.attempt(this.parser.constructs.flowInitial,i,jn(e,e.attempt(this.parser.constructs.flow,i,e.attempt(BNe,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const kke={resolveAll:jX()},Dke=BX("string"),$ke=BX("text");function BX(e){return{tokenize:t,resolveAll:jX(e==="text"?Lke:void 0)};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,o,a);return o;function o(c){return l(c)?s(c):a(c)}function a(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),u}function u(c){return l(c)?(n.exit("data"),s(c)):(n.consume(c),u)}function l(c){if(c===null)return!0;const f=i[c];let d=-1;if(f)for(;++d<f.length;){const h=f[d];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}function jX(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function Lke(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,o=-1,a=0,u;for(;s--;){const l=i[s];if(typeof l=="string"){for(o=l.length;l.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(l===-2)u=!0,a++;else if(l!==-1){s++;break}}if(a){const l={type:n===e.length||u||a<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-a,offset:r.end.offset-a,_index:r.start._index+s,_bufferIndex:s?o:r.start._bufferIndex+o},end:Object.assign({},r.end)};r.end=Object.assign({},l.start),r.start.offset===r.end.offset?Object.assign(r,l):(e.splice(n,0,["enter",l,t],["exit",l,t]),n+=2)}n++}return e}function Mke(e,t,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},s=[];let o=[],a=[];const u={consume:_,enter:b,exit:T,attempt:S(I),check:S(E),interrupt:S(E,{interrupt:!0})},l={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:h,sliceSerialize:d,now:p,defineSkip:m,write:f};let c=t.tokenize.call(l,u);return t.resolveAll&&s.push(t),l;function f(z){return o=Po(o,z),y(),o[o.length-1]!==null?[]:(A(t,0),l.events=yD(s,l.events,l),l.events)}function d(z,U){return Bke(h(z),U)}function h(z){return Fke(o,z)}function p(){return Object.assign({},r)}function m(z){i[z.line]=z.column,Y()}function y(){let z;for(;r._index<o.length;){const U=o[r._index];if(typeof U=="string")for(z=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===z&&r._bufferIndex<U.length;)g(U.charCodeAt(r._bufferIndex));else g(U)}}function g(z){c=c(z)}function _(z){bt(z)?(r.line++,r.column=1,r.offset+=z===-3?2:1,Y()):z!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),l.previous=z}function b(z,U){const Z=U||{};return Z.type=z,Z.start=p(),l.events.push(["enter",Z,l]),a.push(Z),Z}function T(z){const U=a.pop();return U.end=p(),l.events.push(["exit",U,l]),U}function I(z,U){A(z,U.from)}function E(z,U){U.restore()}function S(z,U){return Z;function Z(V,le,oe){let ve,re,ue,te;return Array.isArray(V)?C(V):"tokenize"in V?C([V]):x(V);function x(G){return de;function de(fe){const ye=fe!==null&&G[fe],me=fe!==null&&G.null,W=[...Array.isArray(ye)?ye:ye?[ye]:[],...Array.isArray(me)?me:me?[me]:[]];return C(W)(fe)}}function C(G){return ve=G,re=0,G.length===0?oe:j(G[re])}function j(G){return de;function de(fe){return te=L(),ue=G,G.partial||(l.currentConstruct=G),G.name&&l.parser.constructs.disable.null.includes(G.name)?O():G.tokenize.call(U?Object.assign(Object.create(l),U):l,u,P,O)(fe)}}function P(G){return z(ue,te),le}function O(G){return te.restore(),++re<ve.length?j(ve[re]):oe}}}function A(z,U){z.resolveAll&&!s.includes(z)&&s.push(z),z.resolve&&vu(l.events,U,l.events.length-U,z.resolve(l.events.slice(U),l)),z.resolveTo&&(l.events=z.resolveTo(l.events,l))}function L(){const z=p(),U=l.previous,Z=l.currentConstruct,V=l.events.length,le=Array.from(a);return{restore:oe,from:V};function oe(){r=z,l.previous=U,l.currentConstruct=Z,l.events.length=V,a=le,Y()}}function Y(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Fke(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let o;return n===i?o=[e[n].slice(r,s)]:(o=e.slice(n,i),r>-1&&(o[0]=o[0].slice(r)),s>0&&o.push(e[i].slice(0,s))),o}function Bke(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}const jke={42:ys,43:ys,45:ys,48:ys,49:ys,50:ys,51:ys,52:ys,53:ys,54:ys,55:ys,56:ys,57:ys,62:NX},Uke={91:HNe},Vke={[-2]:nA,[-1]:nA,32:nA},zke={35:QNe,42:Q1,45:[aB,Q1],60:eke,61:aB,95:Q1,96:sB,126:sB},Hke={38:DX,92:kX},qke={[-5]:rA,[-4]:rA,[-3]:rA,33:gke,38:DX,42:ZP,60:[wNe,ske],91:_ke,92:[GNe,kX],93:vD,95:ZP,96:DNe},Wke={null:[ZP,kke]},Yke={null:[42,95]},Gke={null:[]},Kke=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Yke,contentInitial:Uke,disable:Gke,document:jke,flow:zke,flowInitial:Vke,insideSpan:Wke,string:Hke,text:qke},Symbol.toStringTag,{value:"Module"}));function Qke(e={}){const t=aNe([Kke].concat(e.extensions||[])),n={defined:[],lazy:{},constructs:t,content:r(mNe),document:r(yNe),flow:r(Rke),string:r(Dke),text:r($ke)};return n;function r(i){return s;function s(o){return Mke(n,i,o)}}}const uB=/[\0\t\n\r]/g;function Xke(){let e=1,t="",n=!0,r;return i;function i(s,o,a){const u=[];let l,c,f,d,h;for(s=t+s.toString(o),f=0,t="",n&&(s.charCodeAt(0)===65279&&f++,n=void 0);f<s.length;){if(uB.lastIndex=f,l=uB.exec(s),d=l&&l.index!==void 0?l.index:s.length,h=s.charCodeAt(d),!l){t=s.slice(f);break}if(h===10&&f===d&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),f<d&&(u.push(s.slice(f,d)),e+=d-f),h){case 0:{u.push(65533),e++;break}case 9:{for(c=Math.ceil(e/4)*4,u.push(-2);e++<c;)u.push(-1);break}case 10:{u.push(-4),e=1;break}default:r=!0,e=1}f=d+1}return a&&(r&&u.push(-5),t&&u.push(t),u.push(null)),u}}function Jke(e){for(;!$X(e););return e}function UX(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCharCode(n)}const Zke=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function eDe(e){return e.replace(Zke,tDe)}function tDe(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return UX(n.slice(s?2:1),s?16:10)}return _D(n)||e}const e2={}.hasOwnProperty,nDe=function(e,t,n){return typeof t!="string"&&(n=t,t=void 0),rDe(n)(Jke(Qke(n).document().write(Xke()(e,t,!0))))};function rDe(e={}){const t=VX({transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:u(Me),autolinkProtocol:U,autolinkEmail:U,atxHeading:u(qe),blockQuote:u(M),characterEscape:U,characterReference:U,codeFenced:u(pe),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:u(pe,l),codeText:u(Ee,l),codeTextData:U,data:U,codeFlowValue:U,definition:u(Ce),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:u(Ae),hardBreakEscape:u(et),hardBreakTrailing:u(et),htmlFlow:u(Bt,l),htmlFlowData:U,htmlText:u(Bt,l),htmlTextData:U,image:u(je),label:l,link:u(Me),listItem:u(Ue),listItemValue:m,listOrdered:u(pt,p),listUnordered:u(pt),paragraph:u(gt),reference:G,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:u(qe),strong:u(Yt),thematicBreak:u(Wn)},exit:{atxHeading:f(),atxHeadingSequence:A,autolink:f(),autolinkEmail:W,autolinkProtocol:me,blockQuote:f(),characterEscapeValue:Z,characterReferenceMarkerHexadecimal:fe,characterReferenceMarkerNumeric:fe,characterReferenceValue:ye,codeFenced:f(b),codeFencedFence:_,codeFencedFenceInfo:y,codeFencedFenceMeta:g,codeFlowValue:Z,codeIndented:f(T),codeText:f(re),codeTextData:Z,data:Z,definition:f(),definitionDestinationString:S,definitionLabelString:I,definitionTitleString:E,emphasis:f(),hardBreakEscape:f(le),hardBreakTrailing:f(le),htmlFlow:f(oe),htmlFlowData:Z,htmlText:f(ve),htmlTextData:Z,image:f(te),label:C,labelText:x,lineEnding:V,link:f(ue),listItem:f(),listOrdered:f(),listUnordered:f(),paragraph:f(),referenceString:de,resourceDestinationString:j,resourceTitleString:P,resource:O,setextHeading:f(z),setextHeadingLineSequence:Y,setextHeadingText:L,strong:f(),thematicBreak:f()}},e.mdastExtensions||[]),n={};return r;function r(he){let Ie={type:"root",children:[]};const Ve=[Ie],st=[],Be=[],ot={stack:Ve,tokenStack:st,config:t,enter:c,exit:d,buffer:l,resume:h,setData:s,getData:o};let ze=-1;for(;++ze<he.length;)if(he[ze][1].type==="listOrdered"||he[ze][1].type==="listUnordered")if(he[ze][0]==="enter")Be.push(ze);else{const nt=Be.pop();ze=i(he,nt,ze)}for(ze=-1;++ze<he.length;){const nt=t[he[ze][0]];e2.call(nt,he[ze][1].type)&&nt[he[ze][1].type].call(Object.assign({sliceSerialize:he[ze][2].sliceSerialize},ot),he[ze][1])}if(st.length>0){const nt=st[st.length-1];(nt[1]||lB).call(ot,void 0,nt[0])}for(Ie.position={start:a(he.length>0?he[0][1].start:{line:1,column:1,offset:0}),end:a(he.length>0?he[he.length-2][1].end:{line:1,column:1,offset:0})},ze=-1;++ze<t.transforms.length;)Ie=t.transforms[ze](Ie)||Ie;return Ie}function i(he,Ie,Ve){let st=Ie-1,Be=-1,ot=!1,ze,nt,vn,Ht;for(;++st<=Ve;){const wt=he[st];if(wt[1].type==="listUnordered"||wt[1].type==="listOrdered"||wt[1].type==="blockQuote"?(wt[0]==="enter"?Be++:Be--,Ht=void 0):wt[1].type==="lineEndingBlank"?wt[0]==="enter"&&(ze&&!Ht&&!Be&&!vn&&(vn=st),Ht=void 0):wt[1].type==="linePrefix"||wt[1].type==="listItemValue"||wt[1].type==="listItemMarker"||wt[1].type==="listItemPrefix"||wt[1].type==="listItemPrefixWhitespace"||(Ht=void 0),!Be&&wt[0]==="enter"&&wt[1].type==="listItemPrefix"||Be===-1&&wt[0]==="exit"&&(wt[1].type==="listUnordered"||wt[1].type==="listOrdered")){if(ze){let Mn=st;for(nt=void 0;Mn--;){const bn=he[Mn];if(bn[1].type==="lineEnding"||bn[1].type==="lineEndingBlank"){if(bn[0]==="exit")continue;nt&&(he[nt][1].type="lineEndingBlank",ot=!0),bn[1].type="lineEnding",nt=Mn}else if(!(bn[1].type==="linePrefix"||bn[1].type==="blockQuotePrefix"||bn[1].type==="blockQuotePrefixWhitespace"||bn[1].type==="blockQuoteMarker"||bn[1].type==="listItemIndent"))break}vn&&(!nt||vn<nt)&&(ze._spread=!0),ze.end=Object.assign({},nt?he[nt][1].start:wt[1].end),he.splice(nt||st,0,["exit",ze,wt[2]]),st++,Ve++}wt[1].type==="listItemPrefix"&&(ze={type:"listItem",_spread:!1,start:Object.assign({},wt[1].start)},he.splice(st,0,["enter",ze,wt[2]]),st++,Ve++,vn=void 0,Ht=!0)}}return he[Ie][1]._spread=ot,Ve}function s(he,Ie){n[he]=Ie}function o(he){return n[he]}function a(he){return{line:he.line,column:he.column,offset:he.offset}}function u(he,Ie){return Ve;function Ve(st){c.call(this,he(st),st),Ie&&Ie.call(this,st)}}function l(){this.stack.push({type:"fragment",children:[]})}function c(he,Ie,Ve){return this.stack[this.stack.length-1].children.push(he),this.stack.push(he),this.tokenStack.push([Ie,Ve]),he.position={start:a(Ie.start)},he}function f(he){return Ie;function Ie(Ve){he&&he.call(this,Ve),d.call(this,Ve)}}function d(he,Ie){const Ve=this.stack.pop(),st=this.tokenStack.pop();if(st)st[0].type!==he.type&&(Ie?Ie.call(this,he,st[0]):(st[1]||lB).call(this,he,st[0]));else throw new Error("Cannot close `"+he.type+"` ("+gp({start:he.start,end:he.end})+"): its not open");return Ve.position.end=a(he.end),Ve}function h(){return oNe(this.stack.pop())}function p(){s("expectingFirstListItemValue",!0)}function m(he){if(o("expectingFirstListItemValue")){const Ie=this.stack[this.stack.length-2];Ie.start=Number.parseInt(this.sliceSerialize(he),10),s("expectingFirstListItemValue")}}function y(){const he=this.resume(),Ie=this.stack[this.stack.length-1];Ie.lang=he}function g(){const he=this.resume(),Ie=this.stack[this.stack.length-1];Ie.meta=he}function _(){o("flowCodeInside")||(this.buffer(),s("flowCodeInside",!0))}function b(){const he=this.resume(),Ie=this.stack[this.stack.length-1];Ie.value=he.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),s("flowCodeInside")}function T(){const he=this.resume(),Ie=this.stack[this.stack.length-1];Ie.value=he.replace(/(\r?\n|\r)$/g,"")}function I(he){const Ie=this.resume(),Ve=this.stack[this.stack.length-1];Ve.label=Ie,Ve.identifier=yp(this.sliceSerialize(he)).toLowerCase()}function E(){const he=this.resume(),Ie=this.stack[this.stack.length-1];Ie.title=he}function S(){const he=this.resume(),Ie=this.stack[this.stack.length-1];Ie.url=he}function A(he){const Ie=this.stack[this.stack.length-1];if(!Ie.depth){const Ve=this.sliceSerialize(he).length;Ie.depth=Ve}}function L(){s("setextHeadingSlurpLineEnding",!0)}function Y(he){const Ie=this.stack[this.stack.length-1];Ie.depth=this.sliceSerialize(he).charCodeAt(0)===61?1:2}function z(){s("setextHeadingSlurpLineEnding")}function U(he){const Ie=this.stack[this.stack.length-1];let Ve=Ie.children[Ie.children.length-1];(!Ve||Ve.type!=="text")&&(Ve=on(),Ve.position={start:a(he.start)},Ie.children.push(Ve)),this.stack.push(Ve)}function Z(he){const Ie=this.stack.pop();Ie.value+=this.sliceSerialize(he),Ie.position.end=a(he.end)}function V(he){const Ie=this.stack[this.stack.length-1];if(o("atHardBreak")){const Ve=Ie.children[Ie.children.length-1];Ve.position.end=a(he.end),s("atHardBreak");return}!o("setextHeadingSlurpLineEnding")&&t.canContainEols.includes(Ie.type)&&(U.call(this,he),Z.call(this,he))}function le(){s("atHardBreak",!0)}function oe(){const he=this.resume(),Ie=this.stack[this.stack.length-1];Ie.value=he}function ve(){const he=this.resume(),Ie=this.stack[this.stack.length-1];Ie.value=he}function re(){const he=this.resume(),Ie=this.stack[this.stack.length-1];Ie.value=he}function ue(){const he=this.stack[this.stack.length-1];o("inReference")?(he.type+="Reference",he.referenceType=o("referenceType")||"shortcut",delete he.url,delete he.title):(delete he.identifier,delete he.label),s("referenceType")}function te(){const he=this.stack[this.stack.length-1];o("inReference")?(he.type+="Reference",he.referenceType=o("referenceType")||"shortcut",delete he.url,delete he.title):(delete he.identifier,delete he.label),s("referenceType")}function x(he){const Ie=this.stack[this.stack.length-2],Ve=this.sliceSerialize(he);Ie.label=eDe(Ve),Ie.identifier=yp(Ve).toLowerCase()}function C(){const he=this.stack[this.stack.length-1],Ie=this.resume(),Ve=this.stack[this.stack.length-1];s("inReference",!0),Ve.type==="link"?Ve.children=he.children:Ve.alt=Ie}function j(){const he=this.resume(),Ie=this.stack[this.stack.length-1];Ie.url=he}function P(){const he=this.resume(),Ie=this.stack[this.stack.length-1];Ie.title=he}function O(){s("inReference")}function G(){s("referenceType","collapsed")}function de(he){const Ie=this.resume(),Ve=this.stack[this.stack.length-1];Ve.label=Ie,Ve.identifier=yp(this.sliceSerialize(he)).toLowerCase(),s("referenceType","full")}function fe(he){s("characterReferenceType",he.type)}function ye(he){const Ie=this.sliceSerialize(he),Ve=o("characterReferenceType");let st;Ve?(st=UX(Ie,Ve==="characterReferenceMarkerNumeric"?10:16),s("characterReferenceType")):st=_D(Ie);const Be=this.stack.pop();Be.value+=st,Be.position.end=a(he.end)}function me(he){Z.call(this,he);const Ie=this.stack[this.stack.length-1];Ie.url=this.sliceSerialize(he)}function W(he){Z.call(this,he);const Ie=this.stack[this.stack.length-1];Ie.url="mailto:"+this.sliceSerialize(he)}function M(){return{type:"blockquote",children:[]}}function pe(){return{type:"code",lang:null,meta:null,value:""}}function Ee(){return{type:"inlineCode",value:""}}function Ce(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ae(){return{type:"emphasis",children:[]}}function qe(){return{type:"heading",depth:void 0,children:[]}}function et(){return{type:"break"}}function Bt(){return{type:"html",value:""}}function je(){return{type:"image",title:null,url:"",alt:null}}function Me(){return{type:"link",title:null,url:"",children:[]}}function pt(he){return{type:"list",ordered:he.type==="listOrdered",start:null,spread:he._spread,children:[]}}function Ue(he){return{type:"listItem",spread:he._spread,checked:null,children:[]}}function gt(){return{type:"paragraph",children:[]}}function Yt(){return{type:"strong",children:[]}}function on(){return{type:"text",value:""}}function Wn(){return{type:"thematicBreak"}}}function VX(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?VX(e,r):iDe(e,r)}return e}function iDe(e,t){let n;for(n in t)if(e2.call(t,n)){const r=n==="canContainEols"||n==="transforms",s=(e2.call(e,n)?e[n]:void 0)||(e[n]=r?[]:{}),o=t[n];o&&(r?e[n]=[...s,...o]:Object.assign(s,o))}}function lB(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+gp({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+gp({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+gp({start:t.start,end:t.end})+") is still open")}function sDe(e){Object.assign(this,{Parser:n=>{const r=this.data("settings");return nDe(n,Object.assign({},r,e,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}var Qr=function(e,t,n){var r={type:String(e)};return n==null&&(typeof t=="string"||Array.isArray(t))?n=t:Object.assign(r,t),Array.isArray(n)?r.children=n:n!=null&&(r.value=String(n)),r};const X1={}.hasOwnProperty;function oDe(e,t){const n=t.data||{};return"value"in t&&!(X1.call(n,"hName")||X1.call(n,"hProperties")||X1.call(n,"hChildren"))?e.augment(t,Qr("text",t.value)):e(t,"div",es(e,t))}function zX(e,t,n){const r=t&&t.type;let i;if(!r)throw new Error("Expected node, got `"+t+"`");return X1.call(e.handlers,r)?i=e.handlers[r]:e.passThrough&&e.passThrough.includes(r)?i=aDe:i=e.unknownHandler,(typeof i=="function"?i:oDe)(e,t,n)}function aDe(e,t){return"children"in t?{...t,children:es(e,t)}:t}function es(e,t){const n=[];if("children"in t){const r=t.children;let i=-1;for(;++i<r.length;){const s=zX(e,r[i],t);if(s){if(i&&r[i-1].type==="break"&&(!Array.isArray(s)&&s.type==="text"&&(s.value=s.value.replace(/^\s+/,"")),!Array.isArray(s)&&s.type==="element")){const o=s.children[0];o&&o.type==="text"&&(o.value=o.value.replace(/^\s+/,""))}Array.isArray(s)?n.push(...s):n.push(s)}}}return n}const HX=function(e){if(e==null)return fDe;if(typeof e=="string")return cDe(e);if(typeof e=="object")return Array.isArray(e)?uDe(e):lDe(e);if(typeof e=="function")return iI(e);throw new Error("Expected function, string, or object as test")};function uDe(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=HX(e[n]);return iI(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].call(this,...i))return!0;return!1}}function lDe(e){return iI(t);function t(n){let r;for(r in e)if(n[r]!==e[r])return!1;return!0}}function cDe(e){return iI(t);function t(n){return n&&n.type===e}}function iI(e){return t;function t(...n){return!!e.call(this,...n)}}function fDe(){return!0}const dDe=!0,hDe="skip",cB=!1,pDe=function(e,t,n,r){typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null);const i=HX(t),s=r?-1:1;o(e,null,[])();function o(a,u,l){const c=typeof a=="object"&&a!==null?a:{};let f;return typeof c.type=="string"&&(f=typeof c.tagName=="string"?c.tagName:typeof c.name=="string"?c.name:void 0,Object.defineProperty(d,"name",{value:"node ("+(c.type+(f?"<"+f+">":""))+")"})),d;function d(){let h=[],p,m,y;if((!t||i(a,u,l[l.length-1]||null))&&(h=mDe(n(a,l)),h[0]===cB))return h;if(a.children&&h[0]!==hDe)for(m=(r?a.children.length:-1)+s,y=l.concat(a);m>-1&&m<a.children.length;){if(p=o(a.children[m],m,y)(),p[0]===cB)return p;m=typeof p[1]=="number"?p[1]:m+s}return h}}};function mDe(e){return Array.isArray(e)?e:typeof e=="number"?[dDe,e]:[e]}const bD=function(e,t,n,r){typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null),pDe(e,t,i,r);function i(s,o){const a=o[o.length-1];return n(s,a?a.children.indexOf(s):null,a)}},qX=YX("start"),WX=YX("end");function YX(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};return{line:r.line||null,column:r.column||null,offset:r.offset>-1?r.offset:null}}}function gDe(e){return!e||!e.position||!e.position.start||!e.position.start.line||!e.position.start.column||!e.position.end||!e.position.end.line||!e.position.end.column}const fB={}.hasOwnProperty;function yDe(e){const t=Object.create(null);if(!e||!e.type)throw new Error("mdast-util-definitions expected node");return bD(e,"definition",r=>{const i=dB(r.identifier);i&&!fB.call(t,i)&&(t[i]=r)}),n;function n(r){const i=dB(r);return i&&fB.call(t,i)?t[i]:null}}function dB(e){return String(e||"").toUpperCase()}function Nm(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let o="";if(s===37&&ro(e.charCodeAt(n+1))&&ro(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=e.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o=""}else o=String.fromCharCode(s);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function Zu(e,t){const n=[];let r=-1;for(t&&n.push(Qr("text",`
`));++r<e.length;)r&&n.push(Qr("text",`
`)),n.push(e[r]);return t&&e.length>0&&n.push(Qr("text",`
`)),n}function _De(e){let t=-1;const n=[];for(;++t<e.footnoteOrder.length;){const r=e.footnoteById[e.footnoteOrder[t].toUpperCase()];if(!r)continue;const i=es(e,r),s=String(r.identifier),o=Nm(s.toLowerCase());let a=0;const u=[];for(;++a<=e.footnoteCounts[s];){const f={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fnref-"+o+(a>1?"-"+a:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:e.footnoteBackLabel},children:[{type:"text",value:""}]};a>1&&f.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(a)}]}),u.length>0&&u.push({type:"text",value:" "}),u.push(f)}const l=i[i.length-1];if(l&&l.type==="element"&&l.tagName==="p"){const f=l.children[l.children.length-1];f&&f.type==="text"?f.value+=" ":l.children.push({type:"text",value:" "}),l.children.push(...u)}else i.push(...u);const c={type:"element",tagName:"li",properties:{id:e.clobberPrefix+"fn-"+o},children:Zu(i,!0)};r.position&&(c.position=r.position),n.push(c)}return n.length===0?null:{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:e.footnoteLabelTagName,properties:{...JSON.parse(JSON.stringify(e.footnoteLabelProperties)),id:"footnote-label"},children:[Qr("text",e.footnoteLabel)]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:Zu(n,!0)},{type:"text",value:`
`}]}}function vDe(e,t){return e(t,"blockquote",Zu(es(e,t),!0))}function bDe(e,t){return[e(t,"br"),Qr("text",`
`)]}function EDe(e,t){const n=t.value?t.value+`
`:"",r=t.lang&&t.lang.match(/^[^ \t]+(?=[ \t]|$)/),i={};r&&(i.className=["language-"+r]);const s=e(t,"code",i,[Qr("text",n)]);return t.meta&&(s.data={meta:t.meta}),e(t.position,"pre",[s])}function wDe(e,t){return e(t,"del",es(e,t))}function TDe(e,t){return e(t,"em",es(e,t))}function GX(e,t){const n=String(t.identifier),r=Nm(n.toLowerCase()),i=e.footnoteOrder.indexOf(n);let s;i===-1?(e.footnoteOrder.push(n),e.footnoteCounts[n]=1,s=e.footnoteOrder.length):(e.footnoteCounts[n]++,s=i+1);const o=e.footnoteCounts[n];return e(t,"sup",[e(t.position,"a",{href:"#"+e.clobberPrefix+"fn-"+r,id:e.clobberPrefix+"fnref-"+r+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:"footnote-label"},[Qr("text",String(s))])])}function SDe(e,t){const n=e.footnoteById;let r=1;for(;r in n;)r++;const i=String(r);return n[i]={type:"footnoteDefinition",identifier:i,children:[{type:"paragraph",children:t.children}],position:t.position},GX(e,{type:"footnoteReference",identifier:i,position:t.position})}function IDe(e,t){return e(t,"h"+t.depth,es(e,t))}function xDe(e,t){return e.dangerous?e.augment(t,Qr("raw",t.value)):null}function KX(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return Qr("text","!["+t.alt+r);const i=es(e,t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift(Qr("text","["));const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push(Qr("text",r)),i}function CDe(e,t){const n=e.definition(t.identifier);if(!n)return KX(e,t);const r={src:Nm(n.url||""),alt:t.alt};return n.title!==null&&n.title!==void 0&&(r.title=n.title),e(t,"img",r)}function ADe(e,t){const n={src:Nm(t.url),alt:t.alt};return t.title!==null&&t.title!==void 0&&(n.title=t.title),e(t,"img",n)}function ODe(e,t){return e(t,"code",[Qr("text",t.value.replace(/\r?\n|\r/g," "))])}function PDe(e,t){const n=e.definition(t.identifier);if(!n)return KX(e,t);const r={href:Nm(n.url||"")};return n.title!==null&&n.title!==void 0&&(r.title=n.title),e(t,"a",r,es(e,t))}function RDe(e,t){const n={href:Nm(t.url)};return t.title!==null&&t.title!==void 0&&(n.title=t.title),e(t,"a",n,es(e,t))}function NDe(e,t,n){const r=es(e,t),i=n?kDe(n):QX(t),s={},o=[];if(typeof t.checked=="boolean"){let l;r[0]&&r[0].type==="element"&&r[0].tagName==="p"?l=r[0]:(l=e(null,"p",[]),r.unshift(l)),l.children.length>0&&l.children.unshift(Qr("text"," ")),l.children.unshift(e(null,"input",{type:"checkbox",checked:t.checked,disabled:!0})),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const l=r[a];(i||a!==0||l.type!=="element"||l.tagName!=="p")&&o.push(Qr("text",`
`)),l.type==="element"&&l.tagName==="p"&&!i?o.push(...l.children):o.push(l)}const u=r[r.length-1];return u&&(i||!("tagName"in u)||u.tagName!=="p")&&o.push(Qr("text",`
`)),e(t,"li",s,o)}function kDe(e){let t=e.spread;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=QX(n[r]);return!!t}function QX(e){const t=e.spread;return t??e.children.length>1}function DDe(e,t){const n={},r=t.ordered?"ol":"ul",i=es(e,t);let s=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++s<i.length;){const o=i[s];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}return e(t,r,n,Zu(i,!0))}function $De(e,t){return e(t,"p",es(e,t))}function LDe(e,t){return e.augment(t,Qr("root",Zu(es(e,t))))}function MDe(e,t){return e(t,"strong",es(e,t))}function FDe(e,t){const n=t.children;let r=-1;const i=t.align||[],s=[];for(;++r<n.length;){const o=n[r].children,a=r===0?"th":"td",u=[];let l=-1;const c=t.align?i.length:o.length;for(;++l<c;){const f=o[l];u.push(e(f,a,{align:i[l]},f?es(e,f):[]))}s[r]=e(n[r],"tr",Zu(u,!0))}return e(t,"table",Zu([e(s[0].position,"thead",Zu([s[0]],!0))].concat(s[1]?e({start:qX(s[1]),end:WX(s[s.length-1])},"tbody",Zu(s.slice(1),!0)):[]),!0))}const hB=9,pB=32;function BDe(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(mB(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(mB(t.slice(i),i>0,!1)),s.join("")}function mB(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===hB||s===pB;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===hB||s===pB;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function jDe(e,t){return e.augment(t,Qr("text",BDe(String(t.value))))}function UDe(e,t){return e(t,"hr")}const VDe={blockquote:vDe,break:bDe,code:EDe,delete:wDe,emphasis:TDe,footnoteReference:GX,footnote:SDe,heading:IDe,html:xDe,imageReference:CDe,image:ADe,inlineCode:ODe,linkReference:PDe,link:RDe,listItem:NDe,list:DDe,paragraph:$De,root:LDe,strong:MDe,table:FDe,text:jDe,thematicBreak:UDe,toml:Qv,yaml:Qv,definition:Qv,footnoteDefinition:Qv};function Qv(){return null}const zDe={}.hasOwnProperty;function HDe(e,t){const n=t||{},r=n.allowDangerousHtml||!1,i={};return o.dangerous=r,o.clobberPrefix=n.clobberPrefix===void 0||n.clobberPrefix===null?"user-content-":n.clobberPrefix,o.footnoteLabel=n.footnoteLabel||"Footnotes",o.footnoteLabelTagName=n.footnoteLabelTagName||"h2",o.footnoteLabelProperties=n.footnoteLabelProperties||{className:["sr-only"]},o.footnoteBackLabel=n.footnoteBackLabel||"Back to content",o.definition=yDe(e),o.footnoteById=i,o.footnoteOrder=[],o.footnoteCounts={},o.augment=s,o.handlers={...VDe,...n.handlers},o.unknownHandler=n.unknownHandler,o.passThrough=n.passThrough,bD(e,"footnoteDefinition",a=>{const u=String(a.identifier).toUpperCase();zDe.call(i,u)||(i[u]=a)}),o;function s(a,u){if(a&&"data"in a&&a.data){const l=a.data;l.hName&&(u.type!=="element"&&(u={type:"element",tagName:"",properties:{},children:[]}),u.tagName=l.hName),u.type==="element"&&l.hProperties&&(u.properties={...u.properties,...l.hProperties}),"children"in u&&u.children&&l.hChildren&&(u.children=l.hChildren)}if(a){const l="type"in a?a:{position:a};gDe(l)||(u.position={start:qX(l),end:WX(l)})}return u}function o(a,u,l,c){return Array.isArray(l)&&(c=l,l={}),s(a,{type:"element",tagName:u,properties:l||{},children:c||[]})}}function XX(e,t){const n=HDe(e,t),r=zX(n,e,null),i=_De(n);return i&&r.children.push(Qr("text",`
`),i),Array.isArray(r)?{type:"root",children:r}:r}const qDe=function(e,t){return e&&"run"in e?YDe(e,t):GDe(e||t)},WDe=qDe;function YDe(e,t){return(n,r,i)=>{e.run(XX(n,t),r,s=>{i(s)})}}function GDe(e){return t=>XX(t,e)}var JX={exports:{}},KDe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",QDe=KDe,XDe=QDe;function ZX(){}function eJ(){}eJ.resetWarningCache=ZX;var JDe=function(){function e(r,i,s,o,a,u){if(u!==XDe){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:eJ,resetWarningCache:ZX};return n.PropTypes=n,n};JX.exports=JDe();var ZDe=JX.exports;const ft=Ca(ZDe);let O_=class{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}};O_.prototype.property={};O_.prototype.normal={};O_.prototype.space=null;function tJ(e,t){const n={},r={};let i=-1;for(;++i<e.length;)Object.assign(n,e[i].property),Object.assign(r,e[i].normal);return new O_(n,r,t)}function by(e){return e.toLowerCase()}class Ko{constructor(t,n){this.property=t,this.attribute=n}}Ko.prototype.space=null;Ko.prototype.boolean=!1;Ko.prototype.booleanish=!1;Ko.prototype.overloadedBoolean=!1;Ko.prototype.number=!1;Ko.prototype.commaSeparated=!1;Ko.prototype.spaceSeparated=!1;Ko.prototype.commaOrSpaceSeparated=!1;Ko.prototype.mustUseProperty=!1;Ko.prototype.defined=!1;let e$e=0;const jt=Qd(),Lr=Qd(),nJ=Qd(),Le=Qd(),Gn=Qd(),_p=Qd(),Gs=Qd();function Qd(){return 2**++e$e}const t2=Object.freeze(Object.defineProperty({__proto__:null,boolean:jt,booleanish:Lr,commaOrSpaceSeparated:Gs,commaSeparated:_p,number:Le,overloadedBoolean:nJ,spaceSeparated:Gn},Symbol.toStringTag,{value:"Module"})),iA=Object.keys(t2);class ED extends Ko{constructor(t,n,r,i){let s=-1;if(super(t,n),gB(this,"space",i),typeof r=="number")for(;++s<iA.length;){const o=iA[s];gB(this,iA[s],(r&t2[o])===t2[o])}}}ED.prototype.defined=!0;function gB(e,t,n){n&&(e[t]=n)}const t$e={}.hasOwnProperty;function km(e){const t={},n={};let r;for(r in e.properties)if(t$e.call(e.properties,r)){const i=e.properties[r],s=new ED(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[by(r)]=r,n[by(s.attribute)]=r}return new O_(t,n,e.space)}const rJ=km({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),iJ=km({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function sJ(e,t){return t in e?e[t]:t}function oJ(e,t){return sJ(e,t.toLowerCase())}const aJ=km({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:oJ,properties:{xmlns:null,xmlnsXLink:null}}),uJ=km({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Lr,ariaAutoComplete:null,ariaBusy:Lr,ariaChecked:Lr,ariaColCount:Le,ariaColIndex:Le,ariaColSpan:Le,ariaControls:Gn,ariaCurrent:null,ariaDescribedBy:Gn,ariaDetails:null,ariaDisabled:Lr,ariaDropEffect:Gn,ariaErrorMessage:null,ariaExpanded:Lr,ariaFlowTo:Gn,ariaGrabbed:Lr,ariaHasPopup:null,ariaHidden:Lr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Gn,ariaLevel:Le,ariaLive:null,ariaModal:Lr,ariaMultiLine:Lr,ariaMultiSelectable:Lr,ariaOrientation:null,ariaOwns:Gn,ariaPlaceholder:null,ariaPosInSet:Le,ariaPressed:Lr,ariaReadOnly:Lr,ariaRelevant:null,ariaRequired:Lr,ariaRoleDescription:Gn,ariaRowCount:Le,ariaRowIndex:Le,ariaRowSpan:Le,ariaSelected:Lr,ariaSetSize:Le,ariaSort:null,ariaValueMax:Le,ariaValueMin:Le,ariaValueNow:Le,ariaValueText:null,role:null}}),n$e=km({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:oJ,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:_p,acceptCharset:Gn,accessKey:Gn,action:null,allow:null,allowFullScreen:jt,allowPaymentRequest:jt,allowUserMedia:jt,alt:null,as:null,async:jt,autoCapitalize:null,autoComplete:Gn,autoFocus:jt,autoPlay:jt,capture:jt,charSet:null,checked:jt,cite:null,className:Gn,cols:Le,colSpan:null,content:null,contentEditable:Lr,controls:jt,controlsList:Gn,coords:Le|_p,crossOrigin:null,data:null,dateTime:null,decoding:null,default:jt,defer:jt,dir:null,dirName:null,disabled:jt,download:nJ,draggable:Lr,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:jt,formTarget:null,headers:Gn,height:Le,hidden:jt,high:Le,href:null,hrefLang:null,htmlFor:Gn,httpEquiv:Gn,id:null,imageSizes:null,imageSrcSet:null,inputMode:null,integrity:null,is:null,isMap:jt,itemId:null,itemProp:Gn,itemRef:Gn,itemScope:jt,itemType:Gn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:jt,low:Le,manifest:null,max:null,maxLength:Le,media:null,method:null,min:null,minLength:Le,multiple:jt,muted:jt,name:null,nonce:null,noModule:jt,noValidate:jt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:jt,optimum:Le,pattern:null,ping:Gn,placeholder:null,playsInline:jt,poster:null,preload:null,readOnly:jt,referrerPolicy:null,rel:Gn,required:jt,reversed:jt,rows:Le,rowSpan:Le,sandbox:Gn,scope:null,scoped:jt,seamless:jt,selected:jt,shape:null,size:Le,sizes:null,slot:null,span:Le,spellCheck:Lr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Le,step:null,style:null,tabIndex:Le,target:null,title:null,translate:null,type:null,typeMustMatch:jt,useMap:null,value:Lr,width:Le,wrap:null,align:null,aLink:null,archive:Gn,axis:null,background:null,bgColor:null,border:Le,borderColor:null,bottomMargin:Le,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:jt,declare:jt,event:null,face:null,frame:null,frameBorder:null,hSpace:Le,leftMargin:Le,link:null,longDesc:null,lowSrc:null,marginHeight:Le,marginWidth:Le,noResize:jt,noHref:jt,noShade:jt,noWrap:jt,object:null,profile:null,prompt:null,rev:null,rightMargin:Le,rules:null,scheme:null,scrolling:Lr,standby:null,summary:null,text:null,topMargin:Le,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Le,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:jt,disableRemotePlayback:jt,prefix:null,property:null,results:Le,security:null,unselectable:null}}),r$e=km({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:sJ,properties:{about:Gs,accentHeight:Le,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Le,amplitude:Le,arabicForm:null,ascent:Le,attributeName:null,attributeType:null,azimuth:Le,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Le,by:null,calcMode:null,capHeight:Le,className:Gn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Le,diffuseConstant:Le,direction:null,display:null,dur:null,divisor:Le,dominantBaseline:null,download:jt,dx:null,dy:null,edgeMode:null,editable:null,elevation:Le,enableBackground:null,end:null,event:null,exponent:Le,externalResourcesRequired:null,fill:null,fillOpacity:Le,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:_p,g2:_p,glyphName:_p,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Le,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Le,horizOriginX:Le,horizOriginY:Le,id:null,ideographic:Le,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Le,k:Le,k1:Le,k2:Le,k3:Le,k4:Le,kernelMatrix:Gs,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Le,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Le,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Le,overlineThickness:Le,paintOrder:null,panose1:null,path:null,pathLength:Le,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Gn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Le,pointsAtY:Le,pointsAtZ:Le,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Gs,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Gs,rev:Gs,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Gs,requiredFeatures:Gs,requiredFonts:Gs,requiredFormats:Gs,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Le,specularExponent:Le,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Le,strikethroughThickness:Le,string:null,stroke:null,strokeDashArray:Gs,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Le,strokeOpacity:Le,strokeWidth:null,style:null,surfaceScale:Le,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Gs,tabIndex:Le,tableValues:null,target:null,targetX:Le,targetY:Le,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Gs,to:null,transform:null,u1:null,u2:null,underlinePosition:Le,underlineThickness:Le,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Le,values:null,vAlphabetic:Le,vMathematical:Le,vectorEffect:null,vHanging:Le,vIdeographic:Le,version:null,vertAdvY:Le,vertOriginX:Le,vertOriginY:Le,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Le,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),i$e=/^data[-\w.:]+$/i,yB=/-[a-z]/g,s$e=/[A-Z]/g;function sI(e,t){const n=by(t);let r=t,i=Ko;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&i$e.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(yB,a$e);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!yB.test(s)){let o=s.replace(s$e,o$e);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=ED}return new i(r,t)}function o$e(e){return"-"+e.toLowerCase()}function a$e(e){return e.charAt(1).toUpperCase()}const _B={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},P_=tJ([iJ,rJ,aJ,uJ,n$e],"html"),Dm=tJ([iJ,rJ,aJ,uJ,r$e],"svg");function u$e(e){if(e.allowedElements&&e.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(e.allowedElements||e.disallowedElements||e.allowElement)return t=>{bD(t,"element",(n,r,i)=>{const s=i;let o;if(e.allowedElements?o=!e.allowedElements.includes(n.tagName):e.disallowedElements&&(o=e.disallowedElements.includes(n.tagName)),!o&&e.allowElement&&typeof r=="number"&&(o=!e.allowElement(n,r,s)),o&&typeof r=="number")return e.unwrapDisallowed&&n.children?s.children.splice(r,1,...n.children):s.children.splice(r,1),r})}}var lJ={exports:{}},Nn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wD=Symbol.for("react.element"),TD=Symbol.for("react.portal"),oI=Symbol.for("react.fragment"),aI=Symbol.for("react.strict_mode"),uI=Symbol.for("react.profiler"),lI=Symbol.for("react.provider"),cI=Symbol.for("react.context"),l$e=Symbol.for("react.server_context"),fI=Symbol.for("react.forward_ref"),dI=Symbol.for("react.suspense"),hI=Symbol.for("react.suspense_list"),pI=Symbol.for("react.memo"),mI=Symbol.for("react.lazy"),c$e=Symbol.for("react.offscreen"),cJ;cJ=Symbol.for("react.module.reference");function Qo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case wD:switch(e=e.type,e){case oI:case uI:case aI:case dI:case hI:return e;default:switch(e=e&&e.$$typeof,e){case l$e:case cI:case fI:case mI:case pI:case lI:return e;default:return t}}case TD:return t}}}Nn.ContextConsumer=cI;Nn.ContextProvider=lI;Nn.Element=wD;Nn.ForwardRef=fI;Nn.Fragment=oI;Nn.Lazy=mI;Nn.Memo=pI;Nn.Portal=TD;Nn.Profiler=uI;Nn.StrictMode=aI;Nn.Suspense=dI;Nn.SuspenseList=hI;Nn.isAsyncMode=function(){return!1};Nn.isConcurrentMode=function(){return!1};Nn.isContextConsumer=function(e){return Qo(e)===cI};Nn.isContextProvider=function(e){return Qo(e)===lI};Nn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===wD};Nn.isForwardRef=function(e){return Qo(e)===fI};Nn.isFragment=function(e){return Qo(e)===oI};Nn.isLazy=function(e){return Qo(e)===mI};Nn.isMemo=function(e){return Qo(e)===pI};Nn.isPortal=function(e){return Qo(e)===TD};Nn.isProfiler=function(e){return Qo(e)===uI};Nn.isStrictMode=function(e){return Qo(e)===aI};Nn.isSuspense=function(e){return Qo(e)===dI};Nn.isSuspenseList=function(e){return Qo(e)===hI};Nn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===oI||e===uI||e===aI||e===dI||e===hI||e===c$e||typeof e=="object"&&e!==null&&(e.$$typeof===mI||e.$$typeof===pI||e.$$typeof===lI||e.$$typeof===cI||e.$$typeof===fI||e.$$typeof===cJ||e.getModuleId!==void 0)};Nn.typeOf=Qo;lJ.exports=Nn;var f$e=lJ.exports;const d$e=Ca(f$e);function h$e(e){const t=e&&typeof e=="object"&&e.type==="text"?e.value||"":e;return typeof t=="string"&&t.replace(/[ \t\n\f\r]/g,"")===""}function vB(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function fJ(e){return e.join(" ").trim()}function bB(e){const t=[],n=String(e||"");let r=n.indexOf(","),i=0,s=!1;for(;!s;){r===-1&&(r=n.length,s=!0);const o=n.slice(i,r).trim();(o||!s)&&t.push(o),i=r+1,r=n.indexOf(",",i)}return t}function dJ(e,t){const n=t||{};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}var SD={exports:{}},EB=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,p$e=/\n/g,m$e=/^\s*/,g$e=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,y$e=/^:\s*/,_$e=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,v$e=/^[;\s]*/,b$e=/^\s+|\s+$/g,E$e=`
`,wB="/",TB="*",Vf="",w$e="comment",T$e="declaration",S$e=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(p){var m=p.match(p$e);m&&(n+=m.length);var y=p.lastIndexOf(E$e);r=~y?p.length-y:r+p.length}function s(){var p={line:n,column:r};return function(m){return m.position=new o(p),l(),m}}function o(p){this.start=p,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function a(p){var m=new Error(t.source+":"+n+":"+r+": "+p);if(m.reason=p,m.filename=t.source,m.line=n,m.column=r,m.source=e,!t.silent)throw m}function u(p){var m=p.exec(e);if(m){var y=m[0];return i(y),e=e.slice(y.length),m}}function l(){u(m$e)}function c(p){var m;for(p=p||[];m=f();)m!==!1&&p.push(m);return p}function f(){var p=s();if(!(wB!=e.charAt(0)||TB!=e.charAt(1))){for(var m=2;Vf!=e.charAt(m)&&(TB!=e.charAt(m)||wB!=e.charAt(m+1));)++m;if(m+=2,Vf===e.charAt(m-1))return a("End of comment missing");var y=e.slice(2,m-2);return r+=2,i(y),e=e.slice(m),r+=2,p({type:w$e,comment:y})}}function d(){var p=s(),m=u(g$e);if(m){if(f(),!u(y$e))return a("property missing ':'");var y=u(_$e),g=p({type:T$e,property:SB(m[0].replace(EB,Vf)),value:y?SB(y[0].replace(EB,Vf)):Vf});return u(v$e),g}}function h(){var p=[];c(p);for(var m;m=d();)m!==!1&&(p.push(m),c(p));return p}return l(),h()};function SB(e){return e?e.replace(b$e,Vf):Vf}var I$e=S$e;function hJ(e,t){var n=null;if(!e||typeof e!="string")return n;for(var r,i=I$e(e),s=typeof t=="function",o,a,u=0,l=i.length;u<l;u++)r=i[u],o=r.property,a=r.value,s?t(o,a,r):a&&(n||(n={}),n[o]=a);return n}SD.exports=hJ;SD.exports.default=hJ;var x$e=SD.exports;const C$e=Ca(x$e),n2={}.hasOwnProperty,A$e=new Set(["table","thead","tbody","tfoot","tr"]);function pJ(e,t){const n=[];let r=-1,i;for(;++r<t.children.length;)i=t.children[r],i.type==="element"?n.push(O$e(e,i,r,t)):i.type==="text"?(t.type!=="element"||!A$e.has(t.tagName)||!h$e(i))&&n.push(i.value):i.type==="raw"&&!e.options.skipHtml&&n.push(i.value);return n}function O$e(e,t,n,r){const i=e.options,s=i.transformLinkUri===void 0?ORe:i.transformLinkUri,o=e.schema,a=t.tagName,u={};let l=o,c;if(o.space==="html"&&a==="svg"&&(l=Dm,e.schema=l),t.properties)for(c in t.properties)n2.call(t.properties,c)&&R$e(u,c,t.properties[c],e);(a==="ol"||a==="ul")&&e.listDepth++;const f=pJ(e,t);(a==="ol"||a==="ul")&&e.listDepth--,e.schema=o;const d=t.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},h=i.components&&n2.call(i.components,a)?i.components[a]:a,p=typeof h=="string"||h===k.Fragment;if(!d$e.isValidElementType(h))throw new TypeError(`Component for name \`${a}\` not defined or is not renderable`);if(u.key=[a,d.start.line,d.start.column,n].join("-"),a==="a"&&i.linkTarget&&(u.target=typeof i.linkTarget=="function"?i.linkTarget(String(u.href||""),t.children,typeof u.title=="string"?u.title:null):i.linkTarget),a==="a"&&s&&(u.href=s(String(u.href||""),t.children,typeof u.title=="string"?u.title:null)),!p&&a==="code"&&r.type==="element"&&r.tagName!=="pre"&&(u.inline=!0),!p&&(a==="h1"||a==="h2"||a==="h3"||a==="h4"||a==="h5"||a==="h6")&&(u.level=Number.parseInt(a.charAt(1),10)),a==="img"&&i.transformImageUri&&(u.src=i.transformImageUri(String(u.src||""),String(u.alt||""),typeof u.title=="string"?u.title:null)),!p&&a==="li"&&r.type==="element"){const m=P$e(t);u.checked=m&&m.properties?!!m.properties.checked:null,u.index=sA(r,t),u.ordered=r.tagName==="ol"}return!p&&(a==="ol"||a==="ul")&&(u.ordered=a==="ol",u.depth=e.listDepth),(a==="td"||a==="th")&&(u.align&&(u.style||(u.style={}),u.style.textAlign=u.align,delete u.align),p||(u.isHeader=a==="th")),!p&&a==="tr"&&r.type==="element"&&(u.isHeader=r.tagName==="thead"),i.sourcePos&&(u["data-sourcepos"]=D$e(d)),!p&&i.rawSourcePos&&(u.sourcePosition=t.position),!p&&i.includeElementIndex&&(u.index=sA(r,t),u.siblingCount=sA(r)),p||(u.node=t),f.length>0?k.createElement(h,u,f):k.createElement(h,u)}function P$e(e){let t=-1;for(;++t<e.children.length;){const n=e.children[t];if(n.type==="element"&&n.tagName==="input")return n}return null}function sA(e,t){let n=-1,r=0;for(;++n<e.children.length&&e.children[n]!==t;)e.children[n].type==="element"&&r++;return r}function R$e(e,t,n,r){const i=sI(r.schema,t);let s=n;s==null||s!==s||(Array.isArray(s)&&(s=i.commaSeparated?dJ(s):fJ(s)),i.property==="style"&&typeof s=="string"&&(s=N$e(s)),i.space&&i.property?e[n2.call(_B,i.property)?_B[i.property]:i.property]=s:i.attribute&&(e[i.attribute]=s))}function N$e(e){const t={};try{C$e(e,n)}catch{}return t;function n(r,i){const s=r.slice(0,4)==="-ms-"?`ms-${r.slice(4)}`:r;t[s.replace(/-([a-z])/g,k$e)]=i}}function k$e(e,t){return t.toUpperCase()}function D$e(e){return[e.start.line,":",e.start.column,"-",e.end.line,":",e.end.column].map(String).join("")}const IB={}.hasOwnProperty,$$e="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Xv={plugins:{to:"remarkPlugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function mJ(e){for(const s in Xv)if(IB.call(Xv,s)&&IB.call(e,s)){const o=Xv[s];console.warn(`[react-markdown] Warning: please ${o.to?`use \`${o.to}\` instead of`:"remove"} \`${s}\` (see <${$$e}#${o.id}> for more info)`),delete Xv[s]}const t=nNe().use(sDe).use(e.remarkPlugins||[]).use(WDe,{...e.remarkRehypeOptions,allowDangerousHtml:!0}).use(e.rehypePlugins||[]).use(u$e,e),n=new URe;typeof e.children=="string"?n.value=e.children:e.children!==void 0&&e.children!==null&&console.warn(`[react-markdown] Warning: please pass a string as \`children\` (not: \`${e.children}\`)`);const r=t.runSync(t.parse(n),n);if(r.type!=="root")throw new TypeError("Expected a `root` node");let i=k.createElement(k.Fragment,{},pJ({options:e,schema:P_,listDepth:0},r));return e.className&&(i=k.createElement("div",{className:e.className},i)),i}mJ.propTypes={children:ft.string,className:ft.string,allowElement:ft.func,allowedElements:ft.arrayOf(ft.string),disallowedElements:ft.arrayOf(ft.string),unwrapDisallowed:ft.bool,remarkPlugins:ft.arrayOf(ft.oneOfType([ft.object,ft.func,ft.arrayOf(ft.oneOfType([ft.bool,ft.string,ft.object,ft.func,ft.arrayOf(ft.any)]))])),rehypePlugins:ft.arrayOf(ft.oneOfType([ft.object,ft.func,ft.arrayOf(ft.oneOfType([ft.bool,ft.string,ft.object,ft.func,ft.arrayOf(ft.any)]))])),sourcePos:ft.bool,rawSourcePos:ft.bool,skipHtml:ft.bool,includeElementIndex:ft.bool,transformLinkUri:ft.oneOfType([ft.func,ft.bool]),linkTarget:ft.oneOfType([ft.func,ft.string]),transformImageUri:ft.func,components:ft.object};const gJ=-1,gI=0,Lw=1,Mw=2,ID=3,xD=4,CD=5,AD=6,yJ=7,_J=8,xB=typeof self=="object"?self:globalThis,L$e=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,o]=t[i];switch(s){case gI:case gJ:return n(o,i);case Lw:{const a=n([],i);for(const u of o)a.push(r(u));return a}case Mw:{const a=n({},i);for(const[u,l]of o)a[r(u)]=r(l);return a}case ID:return n(new Date(o),i);case xD:{const{source:a,flags:u}=o;return n(new RegExp(a,u),i)}case CD:{const a=n(new Map,i);for(const[u,l]of o)a.set(r(u),r(l));return a}case AD:{const a=n(new Set,i);for(const u of o)a.add(r(u));return a}case yJ:{const{name:a,message:u}=o;return n(new xB[a](u),i)}case _J:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i)}return n(new xB[s](o),i)};return r},CB=e=>L$e(new Map,e)(0),gh="",{toString:M$e}={},{keys:F$e}=Object,I0=e=>{const t=typeof e;if(t!=="object"||!e)return[gI,t];const n=M$e.call(e).slice(8,-1);switch(n){case"Array":return[Lw,gh];case"Object":return[Mw,gh];case"Date":return[ID,gh];case"RegExp":return[xD,gh];case"Map":return[CD,gh];case"Set":return[AD,gh]}return n.includes("Array")?[Lw,n]:n.includes("Error")?[yJ,n]:[Mw,n]},Jv=([e,t])=>e===gI&&(t==="function"||t==="symbol"),B$e=(e,t,n,r)=>{const i=(o,a)=>{const u=r.push(o)-1;return n.set(a,u),u},s=o=>{if(n.has(o))return n.get(o);let[a,u]=I0(o);switch(a){case gI:{let c=o;switch(u){case"bigint":a=_J,c=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+u);c=null;break;case"undefined":return i([gJ],o)}return i([a,c],o)}case Lw:{if(u)return i([u,[...o]],o);const c=[],f=i([a,c],o);for(const d of o)c.push(s(d));return f}case Mw:{if(u)switch(u){case"BigInt":return i([u,o.toString()],o);case"Boolean":case"Number":case"String":return i([u,o.valueOf()],o)}if(t&&"toJSON"in o)return s(o.toJSON());const c=[],f=i([a,c],o);for(const d of F$e(o))(e||!Jv(I0(o[d])))&&c.push([s(d),s(o[d])]);return f}case ID:return i([a,o.toISOString()],o);case xD:{const{source:c,flags:f}=o;return i([a,{source:c,flags:f}],o)}case CD:{const c=[],f=i([a,c],o);for(const[d,h]of o)(e||!(Jv(I0(d))||Jv(I0(h))))&&c.push([s(d),s(h)]);return f}case AD:{const c=[],f=i([a,c],o);for(const d of o)(e||!Jv(I0(d)))&&c.push(s(d));return f}}const{message:l}=o;return i([a,{name:u,message:l}],o)};return s},AB=(e,{json:t,lossy:n}={})=>{const r=[];return B$e(!(t||n),!!t,new Map,r)(e),r},OB=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?CB(AB(e,t)):structuredClone(e):(e,t)=>CB(AB(e,t));const PB=/[#.]/g;function j$e(e,t){const n=e||"",r={};let i=0,s,o;for(;i<n.length;){PB.lastIndex=i;const a=PB.exec(n),u=n.slice(i,a?a.index:n.length);u&&(s?s==="#"?r.id=u:Array.isArray(r.className)?r.className.push(u):r.className=[u]:o=u,i+=u.length),a&&(s=a[0],i++)}return{type:"element",tagName:o||t||"div",properties:r,children:[]}}const U$e=new Set(["button","menu","reset","submit"]),r2={}.hasOwnProperty;function vJ(e,t,n){const r=n&&q$e(n);function i(s,o,...a){let u=-1,l;if(s==null){l={type:"root",children:[]};const c=o;a.unshift(c)}else if(l=j$e(s,t),l.tagName=l.tagName.toLowerCase(),r&&r2.call(r,l.tagName)&&(l.tagName=r[l.tagName]),V$e(o,l.tagName)){let c;for(c in o)r2.call(o,c)&&z$e(e,l.properties,c,o[c])}else a.unshift(o);for(;++u<a.length;)i2(l.children,a[u]);return l.type==="element"&&l.tagName==="template"&&(l.content={type:"root",children:l.children},l.children=[]),l}return i}function V$e(e,t){return e==null||typeof e!="object"||Array.isArray(e)?!1:t==="input"||!e.type||typeof e.type!="string"?!0:"children"in e&&Array.isArray(e.children)?!1:t==="button"?U$e.has(e.type.toLowerCase()):!("value"in e)}function z$e(e,t,n,r){const i=sI(e,n);let s=-1,o;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;o=r}else typeof r=="boolean"?o=r:typeof r=="string"?i.spaceSeparated?o=vB(r):i.commaSeparated?o=bB(r):i.commaOrSpaceSeparated?o=vB(bB(r).join(" ")):o=RB(i,i.property,r):Array.isArray(r)?o=r.concat():o=i.property==="style"?H$e(r):String(r);if(Array.isArray(o)){const a=[];for(;++s<o.length;){const u=RB(i,i.property,o[s]);a[s]=u}o=a}if(i.property==="className"&&Array.isArray(t.className)){const a=o;o=t.className.concat(a)}t[i.property]=o}}function i2(e,t){let n=-1;if(t!=null)if(typeof t=="string"||typeof t=="number")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(;++n<t.length;)i2(e,t[n]);else if(typeof t=="object"&&"type"in t)t.type==="root"?i2(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function RB(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||by(n)===by(t)))return!0}return n}function H$e(e){const t=[];let n;for(n in e)r2.call(e,n)&&t.push([n,e[n]].join(": "));return t.join("; ")}function q$e(e){const t={};let n=-1;for(;++n<e.length;)t[e[n].toLowerCase()]=e[n];return t}const W$e=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],Y$e=vJ(P_,"div"),G$e=vJ(Dm,"g",W$e),oA=/\r?\n|\r/g;function K$e(e){const t=String(e),n=[];for(oA.lastIndex=0;oA.test(t);)n.push(oA.lastIndex);return n.push(t.length+1),{toPoint:r,toOffset:i};function r(s){let o=-1;if(typeof s=="number"&&s>-1&&s<n[n.length-1]){for(;++o<n.length;)if(n[o]>s)return{line:o+1,column:s-(o>0?n[o-1]:0)+1,offset:s}}}function i(s){const o=s&&s.line,a=s&&s.column;if(typeof o=="number"&&typeof a=="number"&&!Number.isNaN(o)&&!Number.isNaN(a)&&o-1 in n){const u=(n[o-2]||0)+a-1||0;if(u>-1&&u<n[n.length-1])return u}}}const Kf={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},bJ={}.hasOwnProperty,Q$e=Object.prototype;function X$e(e,t){const n=t||{};return OD({file:n.file||void 0,location:!1,schema:n.space==="svg"?Dm:P_,verbose:n.verbose||!1},e)}function OD(e,t){let n;switch(t.nodeName){case"#comment":{const r=t;return n={type:"comment",value:r.data},J1(e,r,n),n}case"#document":case"#document-fragment":{const r=t,i="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:EJ(e,t.childNodes),data:{quirksMode:i}},e.file&&e.location){const s=String(e.file),o=K$e(s),a=o.toPoint(0),u=o.toPoint(s.length);n.position={start:a,end:u}}return n}case"#documentType":{const r=t;return n={type:"doctype"},J1(e,r,n),n}case"#text":{const r=t;return n={type:"text",value:r.value},J1(e,r,n),n}default:return n=J$e(e,t),n}}function EJ(e,t){let n=-1;const r=[];for(;++n<t.length;){const i=OD(e,t[n]);r.push(i)}return r}function J$e(e,t){const n=e.schema;e.schema=t.namespaceURI===Kf.svg?Dm:P_;let r=-1;const i={};for(;++r<t.attrs.length;){const a=t.attrs[r],u=(a.prefix?a.prefix+":":"")+a.name;bJ.call(Q$e,u)||(i[u]=a.value)}const o=(e.schema.space==="svg"?G$e:Y$e)(t.tagName,i,EJ(e,t.childNodes));if(J1(e,t,o),o.tagName==="template"){const a=t,u=a.sourceCodeLocation,l=u&&u.startTag&&Wh(u.startTag),c=u&&u.endTag&&Wh(u.endTag),f=OD(e,a.content);l&&c&&e.file&&(f.position={start:l.end,end:c.start}),o.content=f}return e.schema=n,o}function J1(e,t,n){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const r=Z$e(e,n,t.sourceCodeLocation);r&&(e.location=!0,n.position=r)}}function Z$e(e,t,n){const r=Wh(n);if(t.type==="element"){const i=t.children[t.children.length-1];if(r&&!n.endTag&&i&&i.position&&i.position.end&&(r.end=Object.assign({},i.position.end)),e.verbose){const s={};let o;if(n.attrs)for(o in n.attrs)bJ.call(n.attrs,o)&&(s[sI(e.schema,o).property]=Wh(n.attrs[o]));n.startTag;const a=Wh(n.startTag),u=n.endTag?Wh(n.endTag):void 0,l={opening:a};u&&(l.closing=u),l.properties=s,t.data={position:l}}}return r}function Wh(e){const t=NB({line:e.startLine,column:e.startCol,offset:e.startOffset}),n=NB({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||n?{start:t,end:n}:void 0}function NB(e){return e.line&&e.column?e:void 0}const kB={}.hasOwnProperty;function wJ(e,t){const n=t||{};function r(i,...s){let o=r.invalid;const a=r.handlers;if(i&&kB.call(i,e)){const u=String(i[e]);o=kB.call(a,u)?a[u]:r.unknown}if(o)return o.call(this,i,...s)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const e3e={},t3e={}.hasOwnProperty,TJ=wJ("type",{handlers:{root:r3e,element:u3e,text:o3e,comment:a3e,doctype:s3e}});function n3e(e,t){const r=(t||e3e).space;return TJ(e,r==="svg"?Dm:P_)}function r3e(e,t){const n={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=PD(e.children,n,t),$m(e,n),n}function i3e(e,t){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=PD(e.children,n,t),$m(e,n),n}function s3e(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return $m(e,t),t}function o3e(e){const t={nodeName:"#text",value:e.value,parentNode:null};return $m(e,t),t}function a3e(e){const t={nodeName:"#comment",data:e.value,parentNode:null};return $m(e,t),t}function u3e(e,t){const n=t;let r=n;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&n.space==="html"&&(r=Dm);const i=[];let s;if(e.properties){for(s in e.properties)if(s!=="children"&&t3e.call(e.properties,s)){const u=l3e(r,s,e.properties[s]);u&&i.push(u)}}const o=r.space,a={nodeName:e.tagName,tagName:e.tagName,attrs:i,namespaceURI:Kf[o],childNodes:[],parentNode:null};return a.childNodes=PD(e.children,a,r),$m(e,a),e.tagName==="template"&&e.content&&(a.content=i3e(e.content,r)),a}function l3e(e,t,n){const r=sI(e,t);if(n===!1||n===null||n===void 0||typeof n=="number"&&Number.isNaN(n)||!n&&r.boolean)return;Array.isArray(n)&&(n=r.commaSeparated?dJ(n):fJ(n));const i={name:r.attribute,value:n===!0?"":String(n)};if(r.space&&r.space!=="html"&&r.space!=="svg"){const s=i.name.indexOf(":");s<0?i.prefix="":(i.name=i.name.slice(s+1),i.prefix=r.attribute.slice(0,s)),i.namespace=Kf[r.space]}return i}function PD(e,t,n){let r=-1;const i=[];if(e)for(;++r<e.length;){const s=TJ(e[r],n);s.parentNode=t,i.push(s)}return i}function $m(e,t){const n=e.position;n&&n.start&&n.end&&(n.start.offset,n.end.offset,t.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const c3e=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],f3e=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),rr="";var D;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.NUMBER_SIGN=35]="NUMBER_SIGN",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_F=70]="LATIN_CAPITAL_F",e[e.LATIN_CAPITAL_X=88]="LATIN_CAPITAL_X",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_F=102]="LATIN_SMALL_F",e[e.LATIN_SMALL_X=120]="LATIN_SMALL_X",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z",e[e.REPLACEMENT_CHARACTER=65533]="REPLACEMENT_CHARACTER"})(D=D||(D={}));const ms={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function SJ(e){return e>=55296&&e<=57343}function d3e(e){return e>=56320&&e<=57343}function h3e(e,t){return(e-55296)*1024+9216+t}function IJ(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function xJ(e){return e>=64976&&e<=65007||f3e.has(e)}var we;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(we=we||(we={}));const p3e=65536;class m3e{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=p3e,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t){const{line:n,col:r,offset:i}=this;return{code:t,startLine:n,endLine:n,startCol:r,endCol:r,startOffset:i,endOffset:i}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(d3e(n))return this.pos++,this._addGap(),h3e(t,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,D.EOF;return this._err(we.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,n){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,n){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(t,this.pos);for(let r=0;r<t.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==t.charCodeAt(r))return!1;return!0}peek(t){const n=this.pos+t;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,D.EOF;const r=this.html.charCodeAt(n);return r===D.CARRIAGE_RETURN?D.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,D.EOF;let t=this.html.charCodeAt(this.pos);return t===D.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,D.LINE_FEED):t===D.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,SJ(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===D.LINE_FEED||t===D.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){IJ(t)?this._err(we.controlCharacterInInputStream):xJ(t)&&this._err(we.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var zt;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(zt=zt||(zt={}));function CJ(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}const Zl=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),g3e=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(e=>e.charCodeAt(0)));var aA;const y3e=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),_3e=(aA=String.fromCodePoint)!==null&&aA!==void 0?aA:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function v3e(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=y3e.get(e))!==null&&t!==void 0?t:e}var li;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(li||(li={}));const b3e=32;var eu;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(eu||(eu={}));function s2(e){return e>=li.ZERO&&e<=li.NINE}function E3e(e){return e>=li.UPPER_A&&e<=li.UPPER_F||e>=li.LOWER_A&&e<=li.LOWER_F}function w3e(e){return e>=li.UPPER_A&&e<=li.UPPER_Z||e>=li.LOWER_A&&e<=li.LOWER_Z||s2(e)}function T3e(e){return e===li.EQUALS||w3e(e)}var ii;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(ii||(ii={}));var zf;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(zf||(zf={}));class S3e{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=ii.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=zf.Strict}startEntity(t){this.decodeMode=t,this.state=ii.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case ii.EntityStart:return t.charCodeAt(n)===li.NUM?(this.state=ii.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=ii.NamedEntity,this.stateNamedEntity(t,n));case ii.NumericStart:return this.stateNumericStart(t,n);case ii.NumericDecimal:return this.stateNumericDecimal(t,n);case ii.NumericHex:return this.stateNumericHex(t,n);case ii.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|b3e)===li.LOWER_X?(this.state=ii.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=ii.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,r,i){if(n!==r){const s=r-n;this.result=this.result*Math.pow(i,s)+parseInt(t.substr(n,s),i),this.consumed+=s}}stateNumericHex(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(s2(i)||E3e(i))n+=1;else return this.addToNumericResult(t,r,n,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(t,r,n,16),-1}stateNumericDecimal(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(s2(i))n+=1;else return this.addToNumericResult(t,r,n,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(t,r,n,10),-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===li.SEMI)this.consumed+=1;else if(this.decodeMode===zf.Strict)return 0;return this.emitCodePoint(v3e(this.result),this.consumed),this.errors&&(t!==li.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let i=r[this.treeIndex],s=(i&eu.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const o=t.charCodeAt(n);if(this.treeIndex=OJ(r,i,this.treeIndex+Math.max(1,s),o),this.treeIndex<0)return this.result===0||this.decodeMode===zf.Attribute&&(s===0||T3e(o))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],s=(i&eu.VALUE_LENGTH)>>14,s!==0){if(o===li.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==zf.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,i=(r[n]&eu.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,i,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:i}=this;return this.emitCodePoint(n===1?i[t]&~eu.VALUE_LENGTH:i[t+1],r),n===3&&this.emitCodePoint(i[t+2],r),r}end(){var t;switch(this.state){case ii.NamedEntity:return this.result!==0&&(this.decodeMode!==zf.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case ii.NumericDecimal:return this.emitNumericEntity(0,2);case ii.NumericHex:return this.emitNumericEntity(0,3);case ii.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case ii.EntityStart:return 0}}}function AJ(e){let t="";const n=new S3e(e,r=>t+=_3e(r));return function(i,s){let o=0,a=0;for(;(a=i.indexOf("&",a))>=0;){t+=i.slice(o,a),n.startEntity(s);const l=n.write(i,a+1);if(l<0){o=a+n.end();break}o=a+l,a=l===0?o+1:o}const u=t+i.slice(o);return t="",u}}function OJ(e,t,n,r){const i=(t&eu.BRANCH_LENGTH)>>7,s=t&eu.JUMP_TABLE;if(i===0)return s!==0&&r===s?n:-1;if(s){const u=r-s;return u<0||u>=i?-1:e[n+u]-1}let o=n,a=o+i-1;for(;o<=a;){const u=o+a>>>1,l=e[u];if(l<r)o=u+1;else if(l>r)a=u-1;else return e[u+i]}return-1}AJ(Zl);AJ(g3e);var Se;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(Se=Se||(Se={}));var Mc;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(Mc=Mc||(Mc={}));var Xs;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(Xs=Xs||(Xs={}));var ce;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(ce=ce||(ce={}));var v;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SECTION=94]="SECTION",e[e.SELECT=95]="SELECT",e[e.SOURCE=96]="SOURCE",e[e.SMALL=97]="SMALL",e[e.SPAN=98]="SPAN",e[e.STRIKE=99]="STRIKE",e[e.STRONG=100]="STRONG",e[e.STYLE=101]="STYLE",e[e.SUB=102]="SUB",e[e.SUMMARY=103]="SUMMARY",e[e.SUP=104]="SUP",e[e.TABLE=105]="TABLE",e[e.TBODY=106]="TBODY",e[e.TEMPLATE=107]="TEMPLATE",e[e.TEXTAREA=108]="TEXTAREA",e[e.TFOOT=109]="TFOOT",e[e.TD=110]="TD",e[e.TH=111]="TH",e[e.THEAD=112]="THEAD",e[e.TITLE=113]="TITLE",e[e.TR=114]="TR",e[e.TRACK=115]="TRACK",e[e.TT=116]="TT",e[e.U=117]="U",e[e.UL=118]="UL",e[e.SVG=119]="SVG",e[e.VAR=120]="VAR",e[e.WBR=121]="WBR",e[e.XMP=122]="XMP"})(v=v||(v={}));const I3e=new Map([[ce.A,v.A],[ce.ADDRESS,v.ADDRESS],[ce.ANNOTATION_XML,v.ANNOTATION_XML],[ce.APPLET,v.APPLET],[ce.AREA,v.AREA],[ce.ARTICLE,v.ARTICLE],[ce.ASIDE,v.ASIDE],[ce.B,v.B],[ce.BASE,v.BASE],[ce.BASEFONT,v.BASEFONT],[ce.BGSOUND,v.BGSOUND],[ce.BIG,v.BIG],[ce.BLOCKQUOTE,v.BLOCKQUOTE],[ce.BODY,v.BODY],[ce.BR,v.BR],[ce.BUTTON,v.BUTTON],[ce.CAPTION,v.CAPTION],[ce.CENTER,v.CENTER],[ce.CODE,v.CODE],[ce.COL,v.COL],[ce.COLGROUP,v.COLGROUP],[ce.DD,v.DD],[ce.DESC,v.DESC],[ce.DETAILS,v.DETAILS],[ce.DIALOG,v.DIALOG],[ce.DIR,v.DIR],[ce.DIV,v.DIV],[ce.DL,v.DL],[ce.DT,v.DT],[ce.EM,v.EM],[ce.EMBED,v.EMBED],[ce.FIELDSET,v.FIELDSET],[ce.FIGCAPTION,v.FIGCAPTION],[ce.FIGURE,v.FIGURE],[ce.FONT,v.FONT],[ce.FOOTER,v.FOOTER],[ce.FOREIGN_OBJECT,v.FOREIGN_OBJECT],[ce.FORM,v.FORM],[ce.FRAME,v.FRAME],[ce.FRAMESET,v.FRAMESET],[ce.H1,v.H1],[ce.H2,v.H2],[ce.H3,v.H3],[ce.H4,v.H4],[ce.H5,v.H5],[ce.H6,v.H6],[ce.HEAD,v.HEAD],[ce.HEADER,v.HEADER],[ce.HGROUP,v.HGROUP],[ce.HR,v.HR],[ce.HTML,v.HTML],[ce.I,v.I],[ce.IMG,v.IMG],[ce.IMAGE,v.IMAGE],[ce.INPUT,v.INPUT],[ce.IFRAME,v.IFRAME],[ce.KEYGEN,v.KEYGEN],[ce.LABEL,v.LABEL],[ce.LI,v.LI],[ce.LINK,v.LINK],[ce.LISTING,v.LISTING],[ce.MAIN,v.MAIN],[ce.MALIGNMARK,v.MALIGNMARK],[ce.MARQUEE,v.MARQUEE],[ce.MATH,v.MATH],[ce.MENU,v.MENU],[ce.META,v.META],[ce.MGLYPH,v.MGLYPH],[ce.MI,v.MI],[ce.MO,v.MO],[ce.MN,v.MN],[ce.MS,v.MS],[ce.MTEXT,v.MTEXT],[ce.NAV,v.NAV],[ce.NOBR,v.NOBR],[ce.NOFRAMES,v.NOFRAMES],[ce.NOEMBED,v.NOEMBED],[ce.NOSCRIPT,v.NOSCRIPT],[ce.OBJECT,v.OBJECT],[ce.OL,v.OL],[ce.OPTGROUP,v.OPTGROUP],[ce.OPTION,v.OPTION],[ce.P,v.P],[ce.PARAM,v.PARAM],[ce.PLAINTEXT,v.PLAINTEXT],[ce.PRE,v.PRE],[ce.RB,v.RB],[ce.RP,v.RP],[ce.RT,v.RT],[ce.RTC,v.RTC],[ce.RUBY,v.RUBY],[ce.S,v.S],[ce.SCRIPT,v.SCRIPT],[ce.SECTION,v.SECTION],[ce.SELECT,v.SELECT],[ce.SOURCE,v.SOURCE],[ce.SMALL,v.SMALL],[ce.SPAN,v.SPAN],[ce.STRIKE,v.STRIKE],[ce.STRONG,v.STRONG],[ce.STYLE,v.STYLE],[ce.SUB,v.SUB],[ce.SUMMARY,v.SUMMARY],[ce.SUP,v.SUP],[ce.TABLE,v.TABLE],[ce.TBODY,v.TBODY],[ce.TEMPLATE,v.TEMPLATE],[ce.TEXTAREA,v.TEXTAREA],[ce.TFOOT,v.TFOOT],[ce.TD,v.TD],[ce.TH,v.TH],[ce.THEAD,v.THEAD],[ce.TITLE,v.TITLE],[ce.TR,v.TR],[ce.TRACK,v.TRACK],[ce.TT,v.TT],[ce.U,v.U],[ce.UL,v.UL],[ce.SVG,v.SVG],[ce.VAR,v.VAR],[ce.WBR,v.WBR],[ce.XMP,v.XMP]]);function Lm(e){var t;return(t=I3e.get(e))!==null&&t!==void 0?t:v.UNKNOWN}const Ne=v,x3e={[Se.HTML]:new Set([Ne.ADDRESS,Ne.APPLET,Ne.AREA,Ne.ARTICLE,Ne.ASIDE,Ne.BASE,Ne.BASEFONT,Ne.BGSOUND,Ne.BLOCKQUOTE,Ne.BODY,Ne.BR,Ne.BUTTON,Ne.CAPTION,Ne.CENTER,Ne.COL,Ne.COLGROUP,Ne.DD,Ne.DETAILS,Ne.DIR,Ne.DIV,Ne.DL,Ne.DT,Ne.EMBED,Ne.FIELDSET,Ne.FIGCAPTION,Ne.FIGURE,Ne.FOOTER,Ne.FORM,Ne.FRAME,Ne.FRAMESET,Ne.H1,Ne.H2,Ne.H3,Ne.H4,Ne.H5,Ne.H6,Ne.HEAD,Ne.HEADER,Ne.HGROUP,Ne.HR,Ne.HTML,Ne.IFRAME,Ne.IMG,Ne.INPUT,Ne.LI,Ne.LINK,Ne.LISTING,Ne.MAIN,Ne.MARQUEE,Ne.MENU,Ne.META,Ne.NAV,Ne.NOEMBED,Ne.NOFRAMES,Ne.NOSCRIPT,Ne.OBJECT,Ne.OL,Ne.P,Ne.PARAM,Ne.PLAINTEXT,Ne.PRE,Ne.SCRIPT,Ne.SECTION,Ne.SELECT,Ne.SOURCE,Ne.STYLE,Ne.SUMMARY,Ne.TABLE,Ne.TBODY,Ne.TD,Ne.TEMPLATE,Ne.TEXTAREA,Ne.TFOOT,Ne.TH,Ne.THEAD,Ne.TITLE,Ne.TR,Ne.TRACK,Ne.UL,Ne.WBR,Ne.XMP]),[Se.MATHML]:new Set([Ne.MI,Ne.MO,Ne.MN,Ne.MS,Ne.MTEXT,Ne.ANNOTATION_XML]),[Se.SVG]:new Set([Ne.TITLE,Ne.FOREIGN_OBJECT,Ne.DESC]),[Se.XLINK]:new Set,[Se.XML]:new Set,[Se.XMLNS]:new Set};function PJ(e){return e===Ne.H1||e===Ne.H2||e===Ne.H3||e===Ne.H4||e===Ne.H5||e===Ne.H6}ce.STYLE,ce.SCRIPT,ce.XMP,ce.IFRAME,ce.NOEMBED,ce.NOFRAMES,ce.PLAINTEXT;const C3e=new Map([[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);var B;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.NAMED_CHARACTER_REFERENCE=72]="NAMED_CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=73]="AMBIGUOUS_AMPERSAND",e[e.NUMERIC_CHARACTER_REFERENCE=74]="NUMERIC_CHARACTER_REFERENCE",e[e.HEXADEMICAL_CHARACTER_REFERENCE_START=75]="HEXADEMICAL_CHARACTER_REFERENCE_START",e[e.HEXADEMICAL_CHARACTER_REFERENCE=76]="HEXADEMICAL_CHARACTER_REFERENCE",e[e.DECIMAL_CHARACTER_REFERENCE=77]="DECIMAL_CHARACTER_REFERENCE",e[e.NUMERIC_CHARACTER_REFERENCE_END=78]="NUMERIC_CHARACTER_REFERENCE_END"})(B||(B={}));const Nr={DATA:B.DATA,RCDATA:B.RCDATA,RAWTEXT:B.RAWTEXT,SCRIPT_DATA:B.SCRIPT_DATA,PLAINTEXT:B.PLAINTEXT,CDATA_SECTION:B.CDATA_SECTION};function Ag(e){return e>=D.DIGIT_0&&e<=D.DIGIT_9}function X0(e){return e>=D.LATIN_CAPITAL_A&&e<=D.LATIN_CAPITAL_Z}function A3e(e){return e>=D.LATIN_SMALL_A&&e<=D.LATIN_SMALL_Z}function ec(e){return A3e(e)||X0(e)}function o2(e){return ec(e)||Ag(e)}function RJ(e){return e>=D.LATIN_CAPITAL_A&&e<=D.LATIN_CAPITAL_F}function NJ(e){return e>=D.LATIN_SMALL_A&&e<=D.LATIN_SMALL_F}function O3e(e){return Ag(e)||RJ(e)||NJ(e)}function Zv(e){return e+32}function kJ(e){return e===D.SPACE||e===D.LINE_FEED||e===D.TABULATION||e===D.FORM_FEED}function P3e(e){return e===D.EQUALS_SIGN||o2(e)}function DB(e){return kJ(e)||e===D.SOLIDUS||e===D.GREATER_THAN_SIGN}class R3e{constructor(t,n){this.options=t,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=B.DATA,this.returnState=B.DATA,this.charRefCode=-1,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new m3e(n),this.currentLocation=this.getCurrentLocation(-1)}_err(t){var n,r;(r=(n=this.handler).onParseError)===null||r===void 0||r.call(n,this.preprocessor.getError(t))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t==null||t())}write(t,n,r){this.active=!0,this.preprocessor.write(t,n),this._runParsingLoop(),this.paused||r==null||r()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this._unconsume(this.consumedAfterSnapshot),this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_unconsume(t){this.consumedAfterSnapshot-=t,this.preprocessor.retreat(t)}_reconsumeInState(t,n){this.state=t,this._callState(n)}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let n=0;n<t;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,n){return this.preprocessor.startsWith(t,n)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:zt.START_TAG,tagName:"",tagID:v.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:zt.END_TAG,tagName:"",tagID:v.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:zt.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:zt.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,n){this.currentCharacterToken={type:t,chars:n,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,n;const r=this.currentToken;if(CJ(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const i=(t=(n=r.location).attrs)!==null&&t!==void 0?t:n.attrs=Object.create(null);i[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(we.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=Lm(t.tagName),t.type===zt.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(we.endTagWithAttributes),t.selfClosing&&this._err(we.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case zt.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case zt.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case zt.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:zt.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type!==t)this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();else{this.currentCharacterToken.chars+=n;return}this._createCharacterToken(t,n)}_emitCodePoint(t){const n=kJ(t)?zt.WHITESPACE_CHARACTER:t===D.NULL?zt.NULL_CHARACTER:zt.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(zt.CHARACTER,t)}_matchNamedCharacterReference(t){let n=null,r=0,i=!1;for(let s=0,o=Zl[0];s>=0&&(s=OJ(Zl,o,s+1,t),!(s<0));t=this._consume()){r+=1,o=Zl[s];const a=o&eu.VALUE_LENGTH;if(a){const u=(a>>14)-1;if(t!==D.SEMICOLON&&this._isCharacterReferenceInAttribute()&&P3e(this.preprocessor.peek(1))?(n=[D.AMPERSAND],s+=u):(n=u===0?[Zl[s]&~eu.VALUE_LENGTH]:u===1?[Zl[++s]]:[Zl[++s],Zl[++s]],r=0,i=t!==D.SEMICOLON),u===0){this._consume();break}}}return this._unconsume(r),i&&!this.preprocessor.endOfChunkHit&&this._err(we.missingSemicolonAfterCharacterReference),this._unconsume(1),n}_isCharacterReferenceInAttribute(){return this.returnState===B.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===B.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===B.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case B.DATA:{this._stateData(t);break}case B.RCDATA:{this._stateRcdata(t);break}case B.RAWTEXT:{this._stateRawtext(t);break}case B.SCRIPT_DATA:{this._stateScriptData(t);break}case B.PLAINTEXT:{this._statePlaintext(t);break}case B.TAG_OPEN:{this._stateTagOpen(t);break}case B.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case B.TAG_NAME:{this._stateTagName(t);break}case B.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case B.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case B.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case B.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case B.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case B.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case B.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case B.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case B.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case B.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case B.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case B.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case B.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case B.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case B.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case B.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case B.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case B.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case B.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case B.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case B.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case B.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case B.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case B.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case B.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case B.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case B.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case B.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case B.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case B.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case B.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case B.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case B.BOGUS_COMMENT:{this._stateBogusComment(t);break}case B.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case B.COMMENT_START:{this._stateCommentStart(t);break}case B.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case B.COMMENT:{this._stateComment(t);break}case B.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case B.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case B.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case B.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case B.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case B.COMMENT_END:{this._stateCommentEnd(t);break}case B.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case B.DOCTYPE:{this._stateDoctype(t);break}case B.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case B.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case B.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case B.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case B.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case B.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case B.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case B.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case B.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case B.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case B.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case B.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case B.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case B.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case B.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case B.CDATA_SECTION:{this._stateCdataSection(t);break}case B.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case B.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case B.CHARACTER_REFERENCE:{this._stateCharacterReference(t);break}case B.NAMED_CHARACTER_REFERENCE:{this._stateNamedCharacterReference(t);break}case B.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}case B.NUMERIC_CHARACTER_REFERENCE:{this._stateNumericCharacterReference(t);break}case B.HEXADEMICAL_CHARACTER_REFERENCE_START:{this._stateHexademicalCharacterReferenceStart(t);break}case B.HEXADEMICAL_CHARACTER_REFERENCE:{this._stateHexademicalCharacterReference(t);break}case B.DECIMAL_CHARACTER_REFERENCE:{this._stateDecimalCharacterReference(t);break}case B.NUMERIC_CHARACTER_REFERENCE_END:{this._stateNumericCharacterReferenceEnd(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case D.LESS_THAN_SIGN:{this.state=B.TAG_OPEN;break}case D.AMPERSAND:{this.returnState=B.DATA,this.state=B.CHARACTER_REFERENCE;break}case D.NULL:{this._err(we.unexpectedNullCharacter),this._emitCodePoint(t);break}case D.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case D.AMPERSAND:{this.returnState=B.RCDATA,this.state=B.CHARACTER_REFERENCE;break}case D.LESS_THAN_SIGN:{this.state=B.RCDATA_LESS_THAN_SIGN;break}case D.NULL:{this._err(we.unexpectedNullCharacter),this._emitChars(rr);break}case D.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case D.LESS_THAN_SIGN:{this.state=B.RAWTEXT_LESS_THAN_SIGN;break}case D.NULL:{this._err(we.unexpectedNullCharacter),this._emitChars(rr);break}case D.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case D.LESS_THAN_SIGN:{this.state=B.SCRIPT_DATA_LESS_THAN_SIGN;break}case D.NULL:{this._err(we.unexpectedNullCharacter),this._emitChars(rr);break}case D.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case D.NULL:{this._err(we.unexpectedNullCharacter),this._emitChars(rr);break}case D.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(ec(t))this._createStartTagToken(),this.state=B.TAG_NAME,this._stateTagName(t);else switch(t){case D.EXCLAMATION_MARK:{this.state=B.MARKUP_DECLARATION_OPEN;break}case D.SOLIDUS:{this.state=B.END_TAG_OPEN;break}case D.QUESTION_MARK:{this._err(we.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=B.BOGUS_COMMENT,this._stateBogusComment(t);break}case D.EOF:{this._err(we.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(we.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=B.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(ec(t))this._createEndTagToken(),this.state=B.TAG_NAME,this._stateTagName(t);else switch(t){case D.GREATER_THAN_SIGN:{this._err(we.missingEndTagName),this.state=B.DATA;break}case D.EOF:{this._err(we.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(we.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=B.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const n=this.currentToken;switch(t){case D.SPACE:case D.LINE_FEED:case D.TABULATION:case D.FORM_FEED:{this.state=B.BEFORE_ATTRIBUTE_NAME;break}case D.SOLIDUS:{this.state=B.SELF_CLOSING_START_TAG;break}case D.GREATER_THAN_SIGN:{this.state=B.DATA,this.emitCurrentTagToken();break}case D.NULL:{this._err(we.unexpectedNullCharacter),n.tagName+=rr;break}case D.EOF:{this._err(we.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(X0(t)?Zv(t):t)}}_stateRcdataLessThanSign(t){t===D.SOLIDUS?this.state=B.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=B.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){ec(t)?(this.state=B.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=B.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case D.SPACE:case D.LINE_FEED:case D.TABULATION:case D.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=B.BEFORE_ATTRIBUTE_NAME,!1;case D.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=B.SELF_CLOSING_START_TAG,!1;case D.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=B.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=B.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===D.SOLIDUS?this.state=B.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=B.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){ec(t)?(this.state=B.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=B.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=B.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case D.SOLIDUS:{this.state=B.SCRIPT_DATA_END_TAG_OPEN;break}case D.EXCLAMATION_MARK:{this.state=B.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=B.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){ec(t)?(this.state=B.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=B.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=B.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===D.HYPHEN_MINUS?(this.state=B.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=B.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===D.HYPHEN_MINUS?(this.state=B.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=B.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case D.HYPHEN_MINUS:{this.state=B.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case D.LESS_THAN_SIGN:{this.state=B.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case D.NULL:{this._err(we.unexpectedNullCharacter),this._emitChars(rr);break}case D.EOF:{this._err(we.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case D.HYPHEN_MINUS:{this.state=B.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case D.LESS_THAN_SIGN:{this.state=B.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case D.NULL:{this._err(we.unexpectedNullCharacter),this.state=B.SCRIPT_DATA_ESCAPED,this._emitChars(rr);break}case D.EOF:{this._err(we.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=B.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case D.HYPHEN_MINUS:{this._emitChars("-");break}case D.LESS_THAN_SIGN:{this.state=B.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case D.GREATER_THAN_SIGN:{this.state=B.SCRIPT_DATA,this._emitChars(">");break}case D.NULL:{this._err(we.unexpectedNullCharacter),this.state=B.SCRIPT_DATA_ESCAPED,this._emitChars(rr);break}case D.EOF:{this._err(we.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=B.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===D.SOLIDUS?this.state=B.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:ec(t)?(this._emitChars("<"),this.state=B.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=B.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){ec(t)?(this.state=B.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=B.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=B.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(ms.SCRIPT,!1)&&DB(this.preprocessor.peek(ms.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<ms.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=B.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=B.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case D.HYPHEN_MINUS:{this.state=B.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case D.LESS_THAN_SIGN:{this.state=B.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case D.NULL:{this._err(we.unexpectedNullCharacter),this._emitChars(rr);break}case D.EOF:{this._err(we.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case D.HYPHEN_MINUS:{this.state=B.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case D.LESS_THAN_SIGN:{this.state=B.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case D.NULL:{this._err(we.unexpectedNullCharacter),this.state=B.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(rr);break}case D.EOF:{this._err(we.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=B.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case D.HYPHEN_MINUS:{this._emitChars("-");break}case D.LESS_THAN_SIGN:{this.state=B.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case D.GREATER_THAN_SIGN:{this.state=B.SCRIPT_DATA,this._emitChars(">");break}case D.NULL:{this._err(we.unexpectedNullCharacter),this.state=B.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(rr);break}case D.EOF:{this._err(we.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=B.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===D.SOLIDUS?(this.state=B.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=B.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(ms.SCRIPT,!1)&&DB(this.preprocessor.peek(ms.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<ms.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=B.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=B.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case D.SPACE:case D.LINE_FEED:case D.TABULATION:case D.FORM_FEED:break;case D.SOLIDUS:case D.GREATER_THAN_SIGN:case D.EOF:{this.state=B.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case D.EQUALS_SIGN:{this._err(we.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=B.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=B.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case D.SPACE:case D.LINE_FEED:case D.TABULATION:case D.FORM_FEED:case D.SOLIDUS:case D.GREATER_THAN_SIGN:case D.EOF:{this._leaveAttrName(),this.state=B.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case D.EQUALS_SIGN:{this._leaveAttrName(),this.state=B.BEFORE_ATTRIBUTE_VALUE;break}case D.QUOTATION_MARK:case D.APOSTROPHE:case D.LESS_THAN_SIGN:{this._err(we.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case D.NULL:{this._err(we.unexpectedNullCharacter),this.currentAttr.name+=rr;break}default:this.currentAttr.name+=String.fromCodePoint(X0(t)?Zv(t):t)}}_stateAfterAttributeName(t){switch(t){case D.SPACE:case D.LINE_FEED:case D.TABULATION:case D.FORM_FEED:break;case D.SOLIDUS:{this.state=B.SELF_CLOSING_START_TAG;break}case D.EQUALS_SIGN:{this.state=B.BEFORE_ATTRIBUTE_VALUE;break}case D.GREATER_THAN_SIGN:{this.state=B.DATA,this.emitCurrentTagToken();break}case D.EOF:{this._err(we.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=B.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case D.SPACE:case D.LINE_FEED:case D.TABULATION:case D.FORM_FEED:break;case D.QUOTATION_MARK:{this.state=B.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case D.APOSTROPHE:{this.state=B.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case D.GREATER_THAN_SIGN:{this._err(we.missingAttributeValue),this.state=B.DATA,this.emitCurrentTagToken();break}default:this.state=B.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case D.QUOTATION_MARK:{this.state=B.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case D.AMPERSAND:{this.returnState=B.ATTRIBUTE_VALUE_DOUBLE_QUOTED,this.state=B.CHARACTER_REFERENCE;break}case D.NULL:{this._err(we.unexpectedNullCharacter),this.currentAttr.value+=rr;break}case D.EOF:{this._err(we.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case D.APOSTROPHE:{this.state=B.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case D.AMPERSAND:{this.returnState=B.ATTRIBUTE_VALUE_SINGLE_QUOTED,this.state=B.CHARACTER_REFERENCE;break}case D.NULL:{this._err(we.unexpectedNullCharacter),this.currentAttr.value+=rr;break}case D.EOF:{this._err(we.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case D.SPACE:case D.LINE_FEED:case D.TABULATION:case D.FORM_FEED:{this._leaveAttrValue(),this.state=B.BEFORE_ATTRIBUTE_NAME;break}case D.AMPERSAND:{this.returnState=B.ATTRIBUTE_VALUE_UNQUOTED,this.state=B.CHARACTER_REFERENCE;break}case D.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=B.DATA,this.emitCurrentTagToken();break}case D.NULL:{this._err(we.unexpectedNullCharacter),this.currentAttr.value+=rr;break}case D.QUOTATION_MARK:case D.APOSTROPHE:case D.LESS_THAN_SIGN:case D.EQUALS_SIGN:case D.GRAVE_ACCENT:{this._err(we.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case D.EOF:{this._err(we.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case D.SPACE:case D.LINE_FEED:case D.TABULATION:case D.FORM_FEED:{this._leaveAttrValue(),this.state=B.BEFORE_ATTRIBUTE_NAME;break}case D.SOLIDUS:{this._leaveAttrValue(),this.state=B.SELF_CLOSING_START_TAG;break}case D.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=B.DATA,this.emitCurrentTagToken();break}case D.EOF:{this._err(we.eofInTag),this._emitEOFToken();break}default:this._err(we.missingWhitespaceBetweenAttributes),this.state=B.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case D.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=B.DATA,this.emitCurrentTagToken();break}case D.EOF:{this._err(we.eofInTag),this._emitEOFToken();break}default:this._err(we.unexpectedSolidusInTag),this.state=B.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const n=this.currentToken;switch(t){case D.GREATER_THAN_SIGN:{this.state=B.DATA,this.emitCurrentComment(n);break}case D.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case D.NULL:{this._err(we.unexpectedNullCharacter),n.data+=rr;break}default:n.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(ms.DASH_DASH,!0)?(this._createCommentToken(ms.DASH_DASH.length+1),this.state=B.COMMENT_START):this._consumeSequenceIfMatch(ms.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(ms.DOCTYPE.length+1),this.state=B.DOCTYPE):this._consumeSequenceIfMatch(ms.CDATA_START,!0)?this.inForeignNode?this.state=B.CDATA_SECTION:(this._err(we.cdataInHtmlContent),this._createCommentToken(ms.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=B.BOGUS_COMMENT):this._ensureHibernation()||(this._err(we.incorrectlyOpenedComment),this._createCommentToken(2),this.state=B.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case D.HYPHEN_MINUS:{this.state=B.COMMENT_START_DASH;break}case D.GREATER_THAN_SIGN:{this._err(we.abruptClosingOfEmptyComment),this.state=B.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=B.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const n=this.currentToken;switch(t){case D.HYPHEN_MINUS:{this.state=B.COMMENT_END;break}case D.GREATER_THAN_SIGN:{this._err(we.abruptClosingOfEmptyComment),this.state=B.DATA,this.emitCurrentComment(n);break}case D.EOF:{this._err(we.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=B.COMMENT,this._stateComment(t)}}_stateComment(t){const n=this.currentToken;switch(t){case D.HYPHEN_MINUS:{this.state=B.COMMENT_END_DASH;break}case D.LESS_THAN_SIGN:{n.data+="<",this.state=B.COMMENT_LESS_THAN_SIGN;break}case D.NULL:{this._err(we.unexpectedNullCharacter),n.data+=rr;break}case D.EOF:{this._err(we.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const n=this.currentToken;switch(t){case D.EXCLAMATION_MARK:{n.data+="!",this.state=B.COMMENT_LESS_THAN_SIGN_BANG;break}case D.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=B.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===D.HYPHEN_MINUS?this.state=B.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=B.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===D.HYPHEN_MINUS?this.state=B.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=B.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==D.GREATER_THAN_SIGN&&t!==D.EOF&&this._err(we.nestedComment),this.state=B.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const n=this.currentToken;switch(t){case D.HYPHEN_MINUS:{this.state=B.COMMENT_END;break}case D.EOF:{this._err(we.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=B.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const n=this.currentToken;switch(t){case D.GREATER_THAN_SIGN:{this.state=B.DATA,this.emitCurrentComment(n);break}case D.EXCLAMATION_MARK:{this.state=B.COMMENT_END_BANG;break}case D.HYPHEN_MINUS:{n.data+="-";break}case D.EOF:{this._err(we.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=B.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const n=this.currentToken;switch(t){case D.HYPHEN_MINUS:{n.data+="--!",this.state=B.COMMENT_END_DASH;break}case D.GREATER_THAN_SIGN:{this._err(we.incorrectlyClosedComment),this.state=B.DATA,this.emitCurrentComment(n);break}case D.EOF:{this._err(we.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=B.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case D.SPACE:case D.LINE_FEED:case D.TABULATION:case D.FORM_FEED:{this.state=B.BEFORE_DOCTYPE_NAME;break}case D.GREATER_THAN_SIGN:{this.state=B.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case D.EOF:{this._err(we.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(we.missingWhitespaceBeforeDoctypeName),this.state=B.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(X0(t))this._createDoctypeToken(String.fromCharCode(Zv(t))),this.state=B.DOCTYPE_NAME;else switch(t){case D.SPACE:case D.LINE_FEED:case D.TABULATION:case D.FORM_FEED:break;case D.NULL:{this._err(we.unexpectedNullCharacter),this._createDoctypeToken(rr),this.state=B.DOCTYPE_NAME;break}case D.GREATER_THAN_SIGN:{this._err(we.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=B.DATA;break}case D.EOF:{this._err(we.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=B.DOCTYPE_NAME}}_stateDoctypeName(t){const n=this.currentToken;switch(t){case D.SPACE:case D.LINE_FEED:case D.TABULATION:case D.FORM_FEED:{this.state=B.AFTER_DOCTYPE_NAME;break}case D.GREATER_THAN_SIGN:{this.state=B.DATA,this.emitCurrentDoctype(n);break}case D.NULL:{this._err(we.unexpectedNullCharacter),n.name+=rr;break}case D.EOF:{this._err(we.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(X0(t)?Zv(t):t)}}_stateAfterDoctypeName(t){const n=this.currentToken;switch(t){case D.SPACE:case D.LINE_FEED:case D.TABULATION:case D.FORM_FEED:break;case D.GREATER_THAN_SIGN:{this.state=B.DATA,this.emitCurrentDoctype(n);break}case D.EOF:{this._err(we.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(ms.PUBLIC,!1)?this.state=B.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(ms.SYSTEM,!1)?this.state=B.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(we.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=B.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const n=this.currentToken;switch(t){case D.SPACE:case D.LINE_FEED:case D.TABULATION:case D.FORM_FEED:{this.state=B.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case D.QUOTATION_MARK:{this._err(we.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=B.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case D.APOSTROPHE:{this._err(we.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=B.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case D.GREATER_THAN_SIGN:{this._err(we.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=B.DATA,this.emitCurrentDoctype(n);break}case D.EOF:{this._err(we.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(we.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=B.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case D.SPACE:case D.LINE_FEED:case D.TABULATION:case D.FORM_FEED:break;case D.QUOTATION_MARK:{n.publicId="",this.state=B.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case D.APOSTROPHE:{n.publicId="",this.state=B.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case D.GREATER_THAN_SIGN:{this._err(we.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=B.DATA,this.emitCurrentDoctype(n);break}case D.EOF:{this._err(we.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(we.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=B.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case D.QUOTATION_MARK:{this.state=B.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case D.NULL:{this._err(we.unexpectedNullCharacter),n.publicId+=rr;break}case D.GREATER_THAN_SIGN:{this._err(we.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=B.DATA;break}case D.EOF:{this._err(we.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case D.APOSTROPHE:{this.state=B.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case D.NULL:{this._err(we.unexpectedNullCharacter),n.publicId+=rr;break}case D.GREATER_THAN_SIGN:{this._err(we.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=B.DATA;break}case D.EOF:{this._err(we.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case D.SPACE:case D.LINE_FEED:case D.TABULATION:case D.FORM_FEED:{this.state=B.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case D.GREATER_THAN_SIGN:{this.state=B.DATA,this.emitCurrentDoctype(n);break}case D.QUOTATION_MARK:{this._err(we.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=B.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case D.APOSTROPHE:{this._err(we.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=B.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case D.EOF:{this._err(we.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(we.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=B.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const n=this.currentToken;switch(t){case D.SPACE:case D.LINE_FEED:case D.TABULATION:case D.FORM_FEED:break;case D.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=B.DATA;break}case D.QUOTATION_MARK:{n.systemId="",this.state=B.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case D.APOSTROPHE:{n.systemId="",this.state=B.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case D.EOF:{this._err(we.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(we.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=B.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const n=this.currentToken;switch(t){case D.SPACE:case D.LINE_FEED:case D.TABULATION:case D.FORM_FEED:{this.state=B.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case D.QUOTATION_MARK:{this._err(we.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=B.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case D.APOSTROPHE:{this._err(we.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=B.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case D.GREATER_THAN_SIGN:{this._err(we.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=B.DATA,this.emitCurrentDoctype(n);break}case D.EOF:{this._err(we.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(we.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=B.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case D.SPACE:case D.LINE_FEED:case D.TABULATION:case D.FORM_FEED:break;case D.QUOTATION_MARK:{n.systemId="",this.state=B.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case D.APOSTROPHE:{n.systemId="",this.state=B.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case D.GREATER_THAN_SIGN:{this._err(we.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=B.DATA,this.emitCurrentDoctype(n);break}case D.EOF:{this._err(we.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(we.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=B.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case D.QUOTATION_MARK:{this.state=B.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case D.NULL:{this._err(we.unexpectedNullCharacter),n.systemId+=rr;break}case D.GREATER_THAN_SIGN:{this._err(we.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=B.DATA;break}case D.EOF:{this._err(we.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case D.APOSTROPHE:{this.state=B.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case D.NULL:{this._err(we.unexpectedNullCharacter),n.systemId+=rr;break}case D.GREATER_THAN_SIGN:{this._err(we.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=B.DATA;break}case D.EOF:{this._err(we.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case D.SPACE:case D.LINE_FEED:case D.TABULATION:case D.FORM_FEED:break;case D.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=B.DATA;break}case D.EOF:{this._err(we.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(we.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=B.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const n=this.currentToken;switch(t){case D.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=B.DATA;break}case D.NULL:{this._err(we.unexpectedNullCharacter);break}case D.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case D.RIGHT_SQUARE_BRACKET:{this.state=B.CDATA_SECTION_BRACKET;break}case D.EOF:{this._err(we.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===D.RIGHT_SQUARE_BRACKET?this.state=B.CDATA_SECTION_END:(this._emitChars("]"),this.state=B.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case D.GREATER_THAN_SIGN:{this.state=B.DATA;break}case D.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=B.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(t){t===D.NUMBER_SIGN?this.state=B.NUMERIC_CHARACTER_REFERENCE:o2(t)?(this.state=B.NAMED_CHARACTER_REFERENCE,this._stateNamedCharacterReference(t)):(this._flushCodePointConsumedAsCharacterReference(D.AMPERSAND),this._reconsumeInState(this.returnState,t))}_stateNamedCharacterReference(t){const n=this._matchNamedCharacterReference(t);if(!this._ensureHibernation())if(n){for(let r=0;r<n.length;r++)this._flushCodePointConsumedAsCharacterReference(n[r]);this.state=this.returnState}else this._flushCodePointConsumedAsCharacterReference(D.AMPERSAND),this.state=B.AMBIGUOUS_AMPERSAND}_stateAmbiguousAmpersand(t){o2(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===D.SEMICOLON&&this._err(we.unknownNamedCharacterReference),this._reconsumeInState(this.returnState,t))}_stateNumericCharacterReference(t){this.charRefCode=0,t===D.LATIN_SMALL_X||t===D.LATIN_CAPITAL_X?this.state=B.HEXADEMICAL_CHARACTER_REFERENCE_START:Ag(t)?(this.state=B.DECIMAL_CHARACTER_REFERENCE,this._stateDecimalCharacterReference(t)):(this._err(we.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(D.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(D.NUMBER_SIGN),this._reconsumeInState(this.returnState,t))}_stateHexademicalCharacterReferenceStart(t){O3e(t)?(this.state=B.HEXADEMICAL_CHARACTER_REFERENCE,this._stateHexademicalCharacterReference(t)):(this._err(we.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(D.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(D.NUMBER_SIGN),this._unconsume(2),this.state=this.returnState)}_stateHexademicalCharacterReference(t){RJ(t)?this.charRefCode=this.charRefCode*16+t-55:NJ(t)?this.charRefCode=this.charRefCode*16+t-87:Ag(t)?this.charRefCode=this.charRefCode*16+t-48:t===D.SEMICOLON?this.state=B.NUMERIC_CHARACTER_REFERENCE_END:(this._err(we.missingSemicolonAfterCharacterReference),this.state=B.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(t))}_stateDecimalCharacterReference(t){Ag(t)?this.charRefCode=this.charRefCode*10+t-48:t===D.SEMICOLON?this.state=B.NUMERIC_CHARACTER_REFERENCE_END:(this._err(we.missingSemicolonAfterCharacterReference),this.state=B.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(t))}_stateNumericCharacterReferenceEnd(t){if(this.charRefCode===D.NULL)this._err(we.nullCharacterReference),this.charRefCode=D.REPLACEMENT_CHARACTER;else if(this.charRefCode>1114111)this._err(we.characterReferenceOutsideUnicodeRange),this.charRefCode=D.REPLACEMENT_CHARACTER;else if(SJ(this.charRefCode))this._err(we.surrogateCharacterReference),this.charRefCode=D.REPLACEMENT_CHARACTER;else if(xJ(this.charRefCode))this._err(we.noncharacterCharacterReference);else if(IJ(this.charRefCode)||this.charRefCode===D.CARRIAGE_RETURN){this._err(we.controlCharacterReference);const n=C3e.get(this.charRefCode);n!==void 0&&(this.charRefCode=n)}this._flushCodePointConsumedAsCharacterReference(this.charRefCode),this._reconsumeInState(this.returnState,t)}}const DJ=new Set([v.DD,v.DT,v.LI,v.OPTGROUP,v.OPTION,v.P,v.RB,v.RP,v.RT,v.RTC]),$B=new Set([...DJ,v.CAPTION,v.COLGROUP,v.TBODY,v.TD,v.TFOOT,v.TH,v.THEAD,v.TR]),e1=new Map([[v.APPLET,Se.HTML],[v.CAPTION,Se.HTML],[v.HTML,Se.HTML],[v.MARQUEE,Se.HTML],[v.OBJECT,Se.HTML],[v.TABLE,Se.HTML],[v.TD,Se.HTML],[v.TEMPLATE,Se.HTML],[v.TH,Se.HTML],[v.ANNOTATION_XML,Se.MATHML],[v.MI,Se.MATHML],[v.MN,Se.MATHML],[v.MO,Se.MATHML],[v.MS,Se.MATHML],[v.MTEXT,Se.MATHML],[v.DESC,Se.SVG],[v.FOREIGN_OBJECT,Se.SVG],[v.TITLE,Se.SVG]]),N3e=[v.H1,v.H2,v.H3,v.H4,v.H5,v.H6],k3e=[v.TR,v.TEMPLATE,v.HTML],D3e=[v.TBODY,v.TFOOT,v.THEAD,v.TEMPLATE,v.HTML],$3e=[v.TABLE,v.TEMPLATE,v.HTML],L3e=[v.TD,v.TH];class M3e{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=v.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===v.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===Se.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,n){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,n,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,n){const r=this._indexOf(t);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(t,n,r){const i=this._indexOf(t)+1;this.items.splice(i,0,n),this.tagIDs.splice(i,0,r),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(t){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(t,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==Se.HTML);this.shortenToLength(n<0?0:n)}shortenToLength(t){for(;this.stackTop>=t;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<t)}}popUntilElementPopped(t){const n=this._indexOf(t);this.shortenToLength(n<0?0:n)}popUntilPopped(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r<0?0:r)}popUntilNumberedHeaderPopped(){this.popUntilPopped(N3e,Se.HTML)}popUntilTableCellPopped(){this.popUntilPopped(L3e,Se.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,n){for(let r=this.stackTop;r>=0;r--)if(t.includes(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo($3e,Se.HTML)}clearBackToTableBodyContext(){this.clearBackTo(D3e,Se.HTML)}clearBackToTableRowContext(){this.clearBackTo(k3e,Se.HTML)}remove(t){const n=this._indexOf(t);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===v.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const n=this._indexOf(t)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===v.HTML}hasInScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===t&&i===Se.HTML)return!0;if(e1.get(r)===i)return!1}return!0}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t],r=this.treeAdapter.getNamespaceURI(this.items[t]);if(PJ(n)&&r===Se.HTML)return!0;if(e1.get(n)===r)return!1}return!0}hasInListItemScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===t&&i===Se.HTML)return!0;if((r===v.UL||r===v.OL)&&i===Se.HTML||e1.get(r)===i)return!1}return!0}hasInButtonScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===t&&i===Se.HTML)return!0;if(r===v.BUTTON&&i===Se.HTML||e1.get(r)===i)return!1}return!0}hasInTableScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n];if(this.treeAdapter.getNamespaceURI(this.items[n])===Se.HTML){if(r===t)return!0;if(r===v.TABLE||r===v.TEMPLATE||r===v.HTML)return!1}}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];if(this.treeAdapter.getNamespaceURI(this.items[t])===Se.HTML){if(n===v.TBODY||n===v.THEAD||n===v.TFOOT)return!0;if(n===v.TABLE||n===v.HTML)return!1}}return!0}hasInSelectScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n];if(this.treeAdapter.getNamespaceURI(this.items[n])===Se.HTML){if(r===t)return!0;if(r!==v.OPTION&&r!==v.OPTGROUP)return!1}}return!0}generateImpliedEndTags(){for(;DJ.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;$B.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==t&&$B.has(this.currentTagId);)this.pop()}}const uA=3;var fa;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(fa=fa||(fa={}));const LB={type:fa.Marker};class F3e{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,n){const r=[],i=n.length,s=this.treeAdapter.getTagName(t),o=this.treeAdapter.getNamespaceURI(t);for(let a=0;a<this.entries.length;a++){const u=this.entries[a];if(u.type===fa.Marker)break;const{element:l}=u;if(this.treeAdapter.getTagName(l)===s&&this.treeAdapter.getNamespaceURI(l)===o){const c=this.treeAdapter.getAttrList(l);c.length===i&&r.push({idx:a,attrs:c})}}return r}_ensureNoahArkCondition(t){if(this.entries.length<uA)return;const n=this.treeAdapter.getAttrList(t),r=this._getNoahArkConditionCandidates(t,n);if(r.length<uA)return;const i=new Map(n.map(o=>[o.name,o.value]));let s=0;for(let o=0;o<r.length;o++){const a=r[o];a.attrs.every(u=>i.get(u.name)===u.value)&&(s+=1,s>=uA&&this.entries.splice(a.idx,1))}}insertMarker(){this.entries.unshift(LB)}pushElement(t,n){this._ensureNoahArkCondition(t),this.entries.unshift({type:fa.Element,element:t,token:n})}insertElementAfterBookmark(t,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:fa.Element,element:t,token:n})}removeEntry(t){const n=this.entries.indexOf(t);n>=0&&this.entries.splice(n,1)}clearToLastMarker(){const t=this.entries.indexOf(LB);t>=0?this.entries.splice(0,t+1):this.entries.length=0}getElementEntryInScopeWithTagName(t){const n=this.entries.find(r=>r.type===fa.Marker||this.treeAdapter.getTagName(r.element)===t);return n&&n.type===fa.Element?n:null}getElementEntry(t){return this.entries.find(n=>n.type===fa.Element&&n.element===t)}}function MB(e){return{nodeName:"#text",value:e,parentNode:null}}const Sh={createDocument(){return{nodeName:"#document",mode:Xs.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,n,r){const i=e.childNodes.find(s=>s.nodeName==="#documentType");if(i)i.name=t,i.publicId=n,i.systemId=r;else{const s={nodeName:"#documentType",name:t,publicId:n,systemId:r,parentNode:null};Sh.appendChild(e,s)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(Sh.isTextNode(n)){n.value+=t;return}}Sh.appendChild(e,MB(t))},insertTextBefore(e,t,n){const r=e.childNodes[e.childNodes.indexOf(n)-1];r&&Sh.isTextNode(r)?r.value+=t:Sh.insertBefore(e,MB(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map(r=>r.name));for(let r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},$J="html",B3e="about:legacy-compat",j3e="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",LJ=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],U3e=[...LJ,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],V3e=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),MJ=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],z3e=[...MJ,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function FB(e,t){return t.some(n=>e.startsWith(n))}function H3e(e){return e.name===$J&&e.publicId===null&&(e.systemId===null||e.systemId===B3e)}function q3e(e){if(e.name!==$J)return Xs.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===j3e)return Xs.QUIRKS;let{publicId:n}=e;if(n!==null){if(n=n.toLowerCase(),V3e.has(n))return Xs.QUIRKS;let r=t===null?U3e:LJ;if(FB(n,r))return Xs.QUIRKS;if(r=t===null?MJ:z3e,FB(n,r))return Xs.LIMITED_QUIRKS}return Xs.NO_QUIRKS}const BB={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},W3e="definitionurl",Y3e="definitionURL",G3e=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),K3e=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:Se.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:Se.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:Se.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:Se.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:Se.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:Se.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:Se.XLINK}],["xml:base",{prefix:"xml",name:"base",namespace:Se.XML}],["xml:lang",{prefix:"xml",name:"lang",namespace:Se.XML}],["xml:space",{prefix:"xml",name:"space",namespace:Se.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:Se.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:Se.XMLNS}]]),Q3e=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),X3e=new Set([v.B,v.BIG,v.BLOCKQUOTE,v.BODY,v.BR,v.CENTER,v.CODE,v.DD,v.DIV,v.DL,v.DT,v.EM,v.EMBED,v.H1,v.H2,v.H3,v.H4,v.H5,v.H6,v.HEAD,v.HR,v.I,v.IMG,v.LI,v.LISTING,v.MENU,v.META,v.NOBR,v.OL,v.P,v.PRE,v.RUBY,v.S,v.SMALL,v.SPAN,v.STRONG,v.STRIKE,v.SUB,v.SUP,v.TABLE,v.TT,v.U,v.UL,v.VAR]);function J3e(e){const t=e.tagID;return t===v.FONT&&e.attrs.some(({name:r})=>r===Mc.COLOR||r===Mc.SIZE||r===Mc.FACE)||X3e.has(t)}function FJ(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===W3e){e.attrs[t].name=Y3e;break}}function BJ(e){for(let t=0;t<e.attrs.length;t++){const n=G3e.get(e.attrs[t].name);n!=null&&(e.attrs[t].name=n)}}function RD(e){for(let t=0;t<e.attrs.length;t++){const n=K3e.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function Z3e(e){const t=Q3e.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=Lm(e.tagName))}function e6e(e,t){return t===Se.MATHML&&(e===v.MI||e===v.MO||e===v.MN||e===v.MS||e===v.MTEXT)}function t6e(e,t,n){if(t===Se.MATHML&&e===v.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===Mc.ENCODING){const i=n[r].value.toLowerCase();return i===BB.TEXT_HTML||i===BB.APPLICATION_XML}}return t===Se.SVG&&(e===v.FOREIGN_OBJECT||e===v.DESC||e===v.TITLE)}function n6e(e,t,n,r){return(!r||r===Se.HTML)&&t6e(e,t,n)||(!r||r===Se.MATHML)&&e6e(e,t)}const r6e="hidden",i6e=8,s6e=3;var K;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(K||(K={}));const o6e={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},jJ=new Set([v.TABLE,v.TBODY,v.TFOOT,v.THEAD,v.TR]),jB={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:Sh,onParseError:null};let UB=class{constructor(t,n,r=null,i=null){this.fragmentContext=r,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=K.INITIAL,this.originalInsertionMode=K.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...jB,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new R3e(this.options,this),this.activeFormattingElements=new F3e(this.treeAdapter),this.fragmentContextID=r?Lm(this.treeAdapter.getTagName(r)):v.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new M3e(this.document,this.treeAdapter,this)}static parse(t,n){const r=new this(n);return r.tokenizer.write(t,!0),r.document}static getFragmentParser(t,n){const r={...jB,...n};t??(t=r.treeAdapter.createElement(ce.TEMPLATE,Se.HTML,[]));const i=r.treeAdapter.createElement("documentmock",Se.HTML,[]),s=new this(r,i,t);return s.fragmentContextID===v.TEMPLATE&&s.tmplInsertionModeStack.unshift(K.IN_TEMPLATE),s._initTokenizerForFragmentParsing(),s._insertFakeRootElement(),s._resetInsertionMode(),s._findFormInFragmentContext(),s}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,n),n}_err(t,n,r){var i;if(!this.onParseError)return;const s=(i=t.location)!==null&&i!==void 0?i:o6e,o={code:n,startLine:s.startLine,startCol:s.startCol,startOffset:s.startOffset,endLine:r?s.startLine:s.endLine,endCol:r?s.startCol:s.endCol,endOffset:r?s.startOffset:s.endOffset};this.onParseError(o)}onItemPush(t,n,r){var i,s;(s=(i=this.treeAdapter).onItemPush)===null||s===void 0||s.call(i,t),r&&this.openElements.stackTop>0&&this._setContextModes(t,n)}onItemPop(t,n){var r,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(i=(r=this.treeAdapter).onItemPop)===null||i===void 0||i.call(r,t,this.openElements.current),n){let s,o;this.openElements.stackTop===0&&this.fragmentContext?(s=this.fragmentContext,o=this.fragmentContextID):{current:s,currentTagId:o}=this.openElements,this._setContextModes(s,o)}}_setContextModes(t,n){const r=t===this.document||this.treeAdapter.getNamespaceURI(t)===Se.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&!this._isIntegrationPoint(n,t)}_switchToTextParsing(t,n){this._insertElement(t,Se.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=K.TEXT}switchToPlaintextParsing(){this.insertionMode=K.TEXT,this.originalInsertionMode=K.IN_BODY,this.tokenizer.state=Nr.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===ce.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==Se.HTML))switch(this.fragmentContextID){case v.TITLE:case v.TEXTAREA:{this.tokenizer.state=Nr.RCDATA;break}case v.STYLE:case v.XMP:case v.IFRAME:case v.NOEMBED:case v.NOFRAMES:case v.NOSCRIPT:{this.tokenizer.state=Nr.RAWTEXT;break}case v.SCRIPT:{this.tokenizer.state=Nr.SCRIPT_DATA;break}case v.PLAINTEXT:{this.tokenizer.state=Nr.PLAINTEXT;break}}}_setDocumentType(t){const n=t.name||"",r=t.publicId||"",i=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,i),t.location){const o=this.treeAdapter.getChildNodes(this.document).find(a=>this.treeAdapter.isDocumentTypeNode(a));o&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}}_attachElementToTree(t,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(t,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r,t)}}_appendElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location)}_insertElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID)}_insertFakeElement(t,n){const r=this.treeAdapter.createElement(t,Se.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(t){const n=this.treeAdapter.createElement(t.tagName,Se.HTML,t.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(ce.HTML,Se.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,v.HTML)}_appendCommentNode(t,n){const r=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location)}_insertCharacters(t){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,t.chars,r):this.treeAdapter.insertText(n,t.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,t.chars)),!t.location)return;const i=this.treeAdapter.getChildNodes(n),s=r?i.lastIndexOf(r):i.length,o=i[s-1];if(this.treeAdapter.getNodeSourceCodeLocation(o)){const{endLine:u,endCol:l,endOffset:c}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(o,{endLine:u,endCol:l,endOffset:c})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}_adoptNodes(t,n){for(let r=this.treeAdapter.getFirstChild(t);r;r=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(t,n){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&n.location){const r=n.location,i=this.treeAdapter.getTagName(t),s=n.type===zt.END_TAG&&i===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,s)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,t.tagID===v.SVG&&this.treeAdapter.getTagName(n)===ce.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===Se.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===v.MGLYPH||t.tagID===v.MALIGNMARK)&&!this._isIntegrationPoint(r,n,Se.HTML)}_processToken(t){switch(t.type){case zt.CHARACTER:{this.onCharacter(t);break}case zt.NULL_CHARACTER:{this.onNullCharacter(t);break}case zt.COMMENT:{this.onComment(t);break}case zt.DOCTYPE:{this.onDoctype(t);break}case zt.START_TAG:{this._processStartTag(t);break}case zt.END_TAG:{this.onEndTag(t);break}case zt.EOF:{this.onEof(t);break}case zt.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,n,r){const i=this.treeAdapter.getNamespaceURI(n),s=this.treeAdapter.getAttrList(n);return n6e(t,i,s,r)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const n=this.activeFormattingElements.entries.findIndex(i=>i.type===fa.Marker||this.openElements.contains(i.element)),r=n<0?t-1:n-1;for(let i=r;i>=0;i--){const s=this.activeFormattingElements.entries[i];this._insertElement(s.token,this.treeAdapter.getNamespaceURI(s.element)),s.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=K.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(v.P),this.openElements.popUntilTagNamePopped(v.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case v.TR:{this.insertionMode=K.IN_ROW;return}case v.TBODY:case v.THEAD:case v.TFOOT:{this.insertionMode=K.IN_TABLE_BODY;return}case v.CAPTION:{this.insertionMode=K.IN_CAPTION;return}case v.COLGROUP:{this.insertionMode=K.IN_COLUMN_GROUP;return}case v.TABLE:{this.insertionMode=K.IN_TABLE;return}case v.BODY:{this.insertionMode=K.IN_BODY;return}case v.FRAMESET:{this.insertionMode=K.IN_FRAMESET;return}case v.SELECT:{this._resetInsertionModeForSelect(t);return}case v.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case v.HTML:{this.insertionMode=this.headElement?K.AFTER_HEAD:K.BEFORE_HEAD;return}case v.TD:case v.TH:{if(t>0){this.insertionMode=K.IN_CELL;return}break}case v.HEAD:{if(t>0){this.insertionMode=K.IN_HEAD;return}break}}this.insertionMode=K.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let n=t-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===v.TEMPLATE)break;if(r===v.TABLE){this.insertionMode=K.IN_SELECT_IN_TABLE;return}}this.insertionMode=K.IN_SELECT}_isElementCausesFosterParenting(t){return jJ.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const n=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case v.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===Se.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case v.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,t,n.beforeElement):this.treeAdapter.appendChild(n.parent,t)}_isSpecialElement(t,n){const r=this.treeAdapter.getNamespaceURI(t);return x3e[r].has(n)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){LLe(this,t);return}switch(this.insertionMode){case K.INITIAL:{x0(this,t);break}case K.BEFORE_HTML:{Og(this,t);break}case K.BEFORE_HEAD:{Pg(this,t);break}case K.IN_HEAD:{Rg(this,t);break}case K.IN_HEAD_NO_SCRIPT:{Ng(this,t);break}case K.AFTER_HEAD:{kg(this,t);break}case K.IN_BODY:case K.IN_CAPTION:case K.IN_CELL:case K.IN_TEMPLATE:{VJ(this,t);break}case K.TEXT:case K.IN_SELECT:case K.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case K.IN_TABLE:case K.IN_TABLE_BODY:case K.IN_ROW:{lA(this,t);break}case K.IN_TABLE_TEXT:{GJ(this,t);break}case K.IN_COLUMN_GROUP:{Fw(this,t);break}case K.AFTER_BODY:{Bw(this,t);break}case K.AFTER_AFTER_BODY:{Z1(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){$Le(this,t);return}switch(this.insertionMode){case K.INITIAL:{x0(this,t);break}case K.BEFORE_HTML:{Og(this,t);break}case K.BEFORE_HEAD:{Pg(this,t);break}case K.IN_HEAD:{Rg(this,t);break}case K.IN_HEAD_NO_SCRIPT:{Ng(this,t);break}case K.AFTER_HEAD:{kg(this,t);break}case K.TEXT:{this._insertCharacters(t);break}case K.IN_TABLE:case K.IN_TABLE_BODY:case K.IN_ROW:{lA(this,t);break}case K.IN_COLUMN_GROUP:{Fw(this,t);break}case K.AFTER_BODY:{Bw(this,t);break}case K.AFTER_AFTER_BODY:{Z1(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){a2(this,t);return}switch(this.insertionMode){case K.INITIAL:case K.BEFORE_HTML:case K.BEFORE_HEAD:case K.IN_HEAD:case K.IN_HEAD_NO_SCRIPT:case K.AFTER_HEAD:case K.IN_BODY:case K.IN_TABLE:case K.IN_CAPTION:case K.IN_COLUMN_GROUP:case K.IN_TABLE_BODY:case K.IN_ROW:case K.IN_CELL:case K.IN_SELECT:case K.IN_SELECT_IN_TABLE:case K.IN_TEMPLATE:case K.IN_FRAMESET:case K.AFTER_FRAMESET:{a2(this,t);break}case K.IN_TABLE_TEXT:{C0(this,t);break}case K.AFTER_BODY:{h6e(this,t);break}case K.AFTER_AFTER_BODY:case K.AFTER_AFTER_FRAMESET:{p6e(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case K.INITIAL:{m6e(this,t);break}case K.BEFORE_HEAD:case K.IN_HEAD:case K.IN_HEAD_NO_SCRIPT:case K.AFTER_HEAD:{this._err(t,we.misplacedDoctype);break}case K.IN_TABLE_TEXT:{C0(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,we.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?MLe(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case K.INITIAL:{x0(this,t);break}case K.BEFORE_HTML:{g6e(this,t);break}case K.BEFORE_HEAD:{_6e(this,t);break}case K.IN_HEAD:{Oa(this,t);break}case K.IN_HEAD_NO_SCRIPT:{E6e(this,t);break}case K.AFTER_HEAD:{T6e(this,t);break}case K.IN_BODY:{ts(this,t);break}case K.IN_TABLE:{Gp(this,t);break}case K.IN_TABLE_TEXT:{C0(this,t);break}case K.IN_CAPTION:{vLe(this,t);break}case K.IN_COLUMN_GROUP:{DD(this,t);break}case K.IN_TABLE_BODY:{vI(this,t);break}case K.IN_ROW:{bI(this,t);break}case K.IN_CELL:{wLe(this,t);break}case K.IN_SELECT:{XJ(this,t);break}case K.IN_SELECT_IN_TABLE:{SLe(this,t);break}case K.IN_TEMPLATE:{xLe(this,t);break}case K.AFTER_BODY:{ALe(this,t);break}case K.IN_FRAMESET:{OLe(this,t);break}case K.AFTER_FRAMESET:{RLe(this,t);break}case K.AFTER_AFTER_BODY:{kLe(this,t);break}case K.AFTER_AFTER_FRAMESET:{DLe(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?FLe(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case K.INITIAL:{x0(this,t);break}case K.BEFORE_HTML:{y6e(this,t);break}case K.BEFORE_HEAD:{v6e(this,t);break}case K.IN_HEAD:{b6e(this,t);break}case K.IN_HEAD_NO_SCRIPT:{w6e(this,t);break}case K.AFTER_HEAD:{S6e(this,t);break}case K.IN_BODY:{_I(this,t);break}case K.TEXT:{lLe(this,t);break}case K.IN_TABLE:{Ey(this,t);break}case K.IN_TABLE_TEXT:{C0(this,t);break}case K.IN_CAPTION:{bLe(this,t);break}case K.IN_COLUMN_GROUP:{ELe(this,t);break}case K.IN_TABLE_BODY:{u2(this,t);break}case K.IN_ROW:{QJ(this,t);break}case K.IN_CELL:{TLe(this,t);break}case K.IN_SELECT:{JJ(this,t);break}case K.IN_SELECT_IN_TABLE:{ILe(this,t);break}case K.IN_TEMPLATE:{CLe(this,t);break}case K.AFTER_BODY:{eZ(this,t);break}case K.IN_FRAMESET:{PLe(this,t);break}case K.AFTER_FRAMESET:{NLe(this,t);break}case K.AFTER_AFTER_BODY:{Z1(this,t);break}}}onEof(t){switch(this.insertionMode){case K.INITIAL:{x0(this,t);break}case K.BEFORE_HTML:{Og(this,t);break}case K.BEFORE_HEAD:{Pg(this,t);break}case K.IN_HEAD:{Rg(this,t);break}case K.IN_HEAD_NO_SCRIPT:{Ng(this,t);break}case K.AFTER_HEAD:{kg(this,t);break}case K.IN_BODY:case K.IN_TABLE:case K.IN_CAPTION:case K.IN_COLUMN_GROUP:case K.IN_TABLE_BODY:case K.IN_ROW:case K.IN_CELL:case K.IN_SELECT:case K.IN_SELECT_IN_TABLE:{WJ(this,t);break}case K.TEXT:{cLe(this,t);break}case K.IN_TABLE_TEXT:{C0(this,t);break}case K.IN_TEMPLATE:{ZJ(this,t);break}case K.AFTER_BODY:case K.IN_FRAMESET:case K.AFTER_FRAMESET:case K.AFTER_AFTER_BODY:case K.AFTER_AFTER_FRAMESET:{kD(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===D.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case K.IN_HEAD:case K.IN_HEAD_NO_SCRIPT:case K.AFTER_HEAD:case K.TEXT:case K.IN_COLUMN_GROUP:case K.IN_SELECT:case K.IN_SELECT_IN_TABLE:case K.IN_FRAMESET:case K.AFTER_FRAMESET:{this._insertCharacters(t);break}case K.IN_BODY:case K.IN_CAPTION:case K.IN_CELL:case K.IN_TEMPLATE:case K.AFTER_BODY:case K.AFTER_AFTER_BODY:case K.AFTER_AFTER_FRAMESET:{UJ(this,t);break}case K.IN_TABLE:case K.IN_TABLE_BODY:case K.IN_ROW:{lA(this,t);break}case K.IN_TABLE_TEXT:{YJ(this,t);break}}}};function a6e(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):qJ(e,t),n}function u6e(e,t){let n=null,r=e.openElements.stackTop;for(;r>=0;r--){const i=e.openElements.items[r];if(i===t.element)break;e._isSpecialElement(i,e.openElements.tagIDs[r])&&(n=i)}return n||(e.openElements.shortenToLength(r<0?0:r),e.activeFormattingElements.removeEntry(t)),n}function l6e(e,t,n){let r=t,i=e.openElements.getCommonAncestor(t);for(let s=0,o=i;o!==n;s++,o=i){i=e.openElements.getCommonAncestor(o);const a=e.activeFormattingElements.getElementEntry(o),u=a&&s>=s6e;!a||u?(u&&e.activeFormattingElements.removeEntry(a),e.openElements.remove(o)):(o=c6e(e,a),r===t&&(e.activeFormattingElements.bookmark=a),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(o,r),r=o)}return r}function c6e(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function f6e(e,t,n){const r=e.treeAdapter.getTagName(t),i=Lm(r);if(e._isElementCausesFosterParenting(i))e._fosterParentElement(n);else{const s=e.treeAdapter.getNamespaceURI(t);i===v.TEMPLATE&&s===Se.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function d6e(e,t,n){const r=e.treeAdapter.getNamespaceURI(n.element),{token:i}=n,s=e.treeAdapter.createElement(i.tagName,r,i.attrs);e._adoptNodes(t,s),e.treeAdapter.appendChild(t,s),e.activeFormattingElements.insertElementAfterBookmark(s,i),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,s,i.tagID)}function ND(e,t){for(let n=0;n<i6e;n++){const r=a6e(e,t);if(!r)break;const i=u6e(e,r);if(!i)break;e.activeFormattingElements.bookmark=r;const s=l6e(e,i,r.element),o=e.openElements.getCommonAncestor(r.element);e.treeAdapter.detachNode(s),o&&f6e(e,o,s),d6e(e,i,r)}}function a2(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function h6e(e,t){e._appendCommentNode(t,e.openElements.items[0])}function p6e(e,t){e._appendCommentNode(t,e.document)}function kD(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const r=e.openElements.items[0],i=e.treeAdapter.getNodeSourceCodeLocation(r);if(i&&!i.endTag&&(e._setEndLocation(r,t),e.openElements.stackTop>=1)){const s=e.openElements.items[1],o=e.treeAdapter.getNodeSourceCodeLocation(s);o&&!o.endTag&&e._setEndLocation(s,t)}}}}function m6e(e,t){e._setDocumentType(t);const n=t.forceQuirks?Xs.QUIRKS:q3e(t);H3e(t)||e._err(t,we.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=K.BEFORE_HTML}function x0(e,t){e._err(t,we.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,Xs.QUIRKS),e.insertionMode=K.BEFORE_HTML,e._processToken(t)}function g6e(e,t){t.tagID===v.HTML?(e._insertElement(t,Se.HTML),e.insertionMode=K.BEFORE_HEAD):Og(e,t)}function y6e(e,t){const n=t.tagID;(n===v.HTML||n===v.HEAD||n===v.BODY||n===v.BR)&&Og(e,t)}function Og(e,t){e._insertFakeRootElement(),e.insertionMode=K.BEFORE_HEAD,e._processToken(t)}function _6e(e,t){switch(t.tagID){case v.HTML:{ts(e,t);break}case v.HEAD:{e._insertElement(t,Se.HTML),e.headElement=e.openElements.current,e.insertionMode=K.IN_HEAD;break}default:Pg(e,t)}}function v6e(e,t){const n=t.tagID;n===v.HEAD||n===v.BODY||n===v.HTML||n===v.BR?Pg(e,t):e._err(t,we.endTagWithoutMatchingOpenElement)}function Pg(e,t){e._insertFakeElement(ce.HEAD,v.HEAD),e.headElement=e.openElements.current,e.insertionMode=K.IN_HEAD,e._processToken(t)}function Oa(e,t){switch(t.tagID){case v.HTML:{ts(e,t);break}case v.BASE:case v.BASEFONT:case v.BGSOUND:case v.LINK:case v.META:{e._appendElement(t,Se.HTML),t.ackSelfClosing=!0;break}case v.TITLE:{e._switchToTextParsing(t,Nr.RCDATA);break}case v.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,Nr.RAWTEXT):(e._insertElement(t,Se.HTML),e.insertionMode=K.IN_HEAD_NO_SCRIPT);break}case v.NOFRAMES:case v.STYLE:{e._switchToTextParsing(t,Nr.RAWTEXT);break}case v.SCRIPT:{e._switchToTextParsing(t,Nr.SCRIPT_DATA);break}case v.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=K.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(K.IN_TEMPLATE);break}case v.HEAD:{e._err(t,we.misplacedStartTagForHeadElement);break}default:Rg(e,t)}}function b6e(e,t){switch(t.tagID){case v.HEAD:{e.openElements.pop(),e.insertionMode=K.AFTER_HEAD;break}case v.BODY:case v.BR:case v.HTML:{Rg(e,t);break}case v.TEMPLATE:{Xd(e,t);break}default:e._err(t,we.endTagWithoutMatchingOpenElement)}}function Xd(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==v.TEMPLATE&&e._err(t,we.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(v.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,we.endTagWithoutMatchingOpenElement)}function Rg(e,t){e.openElements.pop(),e.insertionMode=K.AFTER_HEAD,e._processToken(t)}function E6e(e,t){switch(t.tagID){case v.HTML:{ts(e,t);break}case v.BASEFONT:case v.BGSOUND:case v.HEAD:case v.LINK:case v.META:case v.NOFRAMES:case v.STYLE:{Oa(e,t);break}case v.NOSCRIPT:{e._err(t,we.nestedNoscriptInHead);break}default:Ng(e,t)}}function w6e(e,t){switch(t.tagID){case v.NOSCRIPT:{e.openElements.pop(),e.insertionMode=K.IN_HEAD;break}case v.BR:{Ng(e,t);break}default:e._err(t,we.endTagWithoutMatchingOpenElement)}}function Ng(e,t){const n=t.type===zt.EOF?we.openElementsLeftAfterEof:we.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=K.IN_HEAD,e._processToken(t)}function T6e(e,t){switch(t.tagID){case v.HTML:{ts(e,t);break}case v.BODY:{e._insertElement(t,Se.HTML),e.framesetOk=!1,e.insertionMode=K.IN_BODY;break}case v.FRAMESET:{e._insertElement(t,Se.HTML),e.insertionMode=K.IN_FRAMESET;break}case v.BASE:case v.BASEFONT:case v.BGSOUND:case v.LINK:case v.META:case v.NOFRAMES:case v.SCRIPT:case v.STYLE:case v.TEMPLATE:case v.TITLE:{e._err(t,we.abandonedHeadElementChild),e.openElements.push(e.headElement,v.HEAD),Oa(e,t),e.openElements.remove(e.headElement);break}case v.HEAD:{e._err(t,we.misplacedStartTagForHeadElement);break}default:kg(e,t)}}function S6e(e,t){switch(t.tagID){case v.BODY:case v.HTML:case v.BR:{kg(e,t);break}case v.TEMPLATE:{Xd(e,t);break}default:e._err(t,we.endTagWithoutMatchingOpenElement)}}function kg(e,t){e._insertFakeElement(ce.BODY,v.BODY),e.insertionMode=K.IN_BODY,yI(e,t)}function yI(e,t){switch(t.type){case zt.CHARACTER:{VJ(e,t);break}case zt.WHITESPACE_CHARACTER:{UJ(e,t);break}case zt.COMMENT:{a2(e,t);break}case zt.START_TAG:{ts(e,t);break}case zt.END_TAG:{_I(e,t);break}case zt.EOF:{WJ(e,t);break}}}function UJ(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function VJ(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function I6e(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function x6e(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}function C6e(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,Se.HTML),e.insertionMode=K.IN_FRAMESET)}function A6e(e,t){e.openElements.hasInButtonScope(v.P)&&e._closePElement(),e._insertElement(t,Se.HTML)}function O6e(e,t){e.openElements.hasInButtonScope(v.P)&&e._closePElement(),PJ(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,Se.HTML)}function P6e(e,t){e.openElements.hasInButtonScope(v.P)&&e._closePElement(),e._insertElement(t,Se.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function R6e(e,t){const n=e.openElements.tmplCount>0;(!e.formElement||n)&&(e.openElements.hasInButtonScope(v.P)&&e._closePElement(),e._insertElement(t,Se.HTML),n||(e.formElement=e.openElements.current))}function N6e(e,t){e.framesetOk=!1;const n=t.tagID;for(let r=e.openElements.stackTop;r>=0;r--){const i=e.openElements.tagIDs[r];if(n===v.LI&&i===v.LI||(n===v.DD||n===v.DT)&&(i===v.DD||i===v.DT)){e.openElements.generateImpliedEndTagsWithExclusion(i),e.openElements.popUntilTagNamePopped(i);break}if(i!==v.ADDRESS&&i!==v.DIV&&i!==v.P&&e._isSpecialElement(e.openElements.items[r],i))break}e.openElements.hasInButtonScope(v.P)&&e._closePElement(),e._insertElement(t,Se.HTML)}function k6e(e,t){e.openElements.hasInButtonScope(v.P)&&e._closePElement(),e._insertElement(t,Se.HTML),e.tokenizer.state=Nr.PLAINTEXT}function D6e(e,t){e.openElements.hasInScope(v.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(v.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,Se.HTML),e.framesetOk=!1}function $6e(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(ce.A);n&&(ND(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,Se.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function L6e(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Se.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function M6e(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(v.NOBR)&&(ND(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,Se.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function F6e(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Se.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function B6e(e,t){e.treeAdapter.getDocumentMode(e.document)!==Xs.QUIRKS&&e.openElements.hasInButtonScope(v.P)&&e._closePElement(),e._insertElement(t,Se.HTML),e.framesetOk=!1,e.insertionMode=K.IN_TABLE}function zJ(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,Se.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function HJ(e){const t=CJ(e,Mc.TYPE);return t!=null&&t.toLowerCase()===r6e}function j6e(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,Se.HTML),HJ(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function U6e(e,t){e._appendElement(t,Se.HTML),t.ackSelfClosing=!0}function V6e(e,t){e.openElements.hasInButtonScope(v.P)&&e._closePElement(),e._appendElement(t,Se.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function z6e(e,t){t.tagName=ce.IMG,t.tagID=v.IMG,zJ(e,t)}function H6e(e,t){e._insertElement(t,Se.HTML),e.skipNextNewLine=!0,e.tokenizer.state=Nr.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=K.TEXT}function q6e(e,t){e.openElements.hasInButtonScope(v.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,Nr.RAWTEXT)}function W6e(e,t){e.framesetOk=!1,e._switchToTextParsing(t,Nr.RAWTEXT)}function VB(e,t){e._switchToTextParsing(t,Nr.RAWTEXT)}function Y6e(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Se.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===K.IN_TABLE||e.insertionMode===K.IN_CAPTION||e.insertionMode===K.IN_TABLE_BODY||e.insertionMode===K.IN_ROW||e.insertionMode===K.IN_CELL?K.IN_SELECT_IN_TABLE:K.IN_SELECT}function G6e(e,t){e.openElements.currentTagId===v.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,Se.HTML)}function K6e(e,t){e.openElements.hasInScope(v.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,Se.HTML)}function Q6e(e,t){e.openElements.hasInScope(v.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(v.RTC),e._insertElement(t,Se.HTML)}function X6e(e,t){e._reconstructActiveFormattingElements(),FJ(t),RD(t),t.selfClosing?e._appendElement(t,Se.MATHML):e._insertElement(t,Se.MATHML),t.ackSelfClosing=!0}function J6e(e,t){e._reconstructActiveFormattingElements(),BJ(t),RD(t),t.selfClosing?e._appendElement(t,Se.SVG):e._insertElement(t,Se.SVG),t.ackSelfClosing=!0}function zB(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Se.HTML)}function ts(e,t){switch(t.tagID){case v.I:case v.S:case v.B:case v.U:case v.EM:case v.TT:case v.BIG:case v.CODE:case v.FONT:case v.SMALL:case v.STRIKE:case v.STRONG:{L6e(e,t);break}case v.A:{$6e(e,t);break}case v.H1:case v.H2:case v.H3:case v.H4:case v.H5:case v.H6:{O6e(e,t);break}case v.P:case v.DL:case v.OL:case v.UL:case v.DIV:case v.DIR:case v.NAV:case v.MAIN:case v.MENU:case v.ASIDE:case v.CENTER:case v.FIGURE:case v.FOOTER:case v.HEADER:case v.HGROUP:case v.DIALOG:case v.DETAILS:case v.ADDRESS:case v.ARTICLE:case v.SECTION:case v.SUMMARY:case v.FIELDSET:case v.BLOCKQUOTE:case v.FIGCAPTION:{A6e(e,t);break}case v.LI:case v.DD:case v.DT:{N6e(e,t);break}case v.BR:case v.IMG:case v.WBR:case v.AREA:case v.EMBED:case v.KEYGEN:{zJ(e,t);break}case v.HR:{V6e(e,t);break}case v.RB:case v.RTC:{K6e(e,t);break}case v.RT:case v.RP:{Q6e(e,t);break}case v.PRE:case v.LISTING:{P6e(e,t);break}case v.XMP:{q6e(e,t);break}case v.SVG:{J6e(e,t);break}case v.HTML:{I6e(e,t);break}case v.BASE:case v.LINK:case v.META:case v.STYLE:case v.TITLE:case v.SCRIPT:case v.BGSOUND:case v.BASEFONT:case v.TEMPLATE:{Oa(e,t);break}case v.BODY:{x6e(e,t);break}case v.FORM:{R6e(e,t);break}case v.NOBR:{M6e(e,t);break}case v.MATH:{X6e(e,t);break}case v.TABLE:{B6e(e,t);break}case v.INPUT:{j6e(e,t);break}case v.PARAM:case v.TRACK:case v.SOURCE:{U6e(e,t);break}case v.IMAGE:{z6e(e,t);break}case v.BUTTON:{D6e(e,t);break}case v.APPLET:case v.OBJECT:case v.MARQUEE:{F6e(e,t);break}case v.IFRAME:{W6e(e,t);break}case v.SELECT:{Y6e(e,t);break}case v.OPTION:case v.OPTGROUP:{G6e(e,t);break}case v.NOEMBED:{VB(e,t);break}case v.FRAMESET:{C6e(e,t);break}case v.TEXTAREA:{H6e(e,t);break}case v.NOSCRIPT:{e.options.scriptingEnabled?VB(e,t):zB(e,t);break}case v.PLAINTEXT:{k6e(e,t);break}case v.COL:case v.TH:case v.TD:case v.TR:case v.HEAD:case v.FRAME:case v.TBODY:case v.TFOOT:case v.THEAD:case v.CAPTION:case v.COLGROUP:break;default:zB(e,t)}}function Z6e(e,t){if(e.openElements.hasInScope(v.BODY)&&(e.insertionMode=K.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}function eLe(e,t){e.openElements.hasInScope(v.BODY)&&(e.insertionMode=K.AFTER_BODY,eZ(e,t))}function tLe(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function nLe(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(v.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(v.FORM):n&&e.openElements.remove(n))}function rLe(e){e.openElements.hasInButtonScope(v.P)||e._insertFakeElement(ce.P,v.P),e._closePElement()}function iLe(e){e.openElements.hasInListItemScope(v.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(v.LI),e.openElements.popUntilTagNamePopped(v.LI))}function sLe(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}function oLe(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function aLe(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function uLe(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(ce.BR,v.BR),e.openElements.pop(),e.framesetOk=!1}function qJ(e,t){const n=t.tagName,r=t.tagID;for(let i=e.openElements.stackTop;i>0;i--){const s=e.openElements.items[i],o=e.openElements.tagIDs[i];if(r===o&&(r!==v.UNKNOWN||e.treeAdapter.getTagName(s)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=i&&e.openElements.shortenToLength(i);break}if(e._isSpecialElement(s,o))break}}function _I(e,t){switch(t.tagID){case v.A:case v.B:case v.I:case v.S:case v.U:case v.EM:case v.TT:case v.BIG:case v.CODE:case v.FONT:case v.NOBR:case v.SMALL:case v.STRIKE:case v.STRONG:{ND(e,t);break}case v.P:{rLe(e);break}case v.DL:case v.UL:case v.OL:case v.DIR:case v.DIV:case v.NAV:case v.PRE:case v.MAIN:case v.MENU:case v.ASIDE:case v.BUTTON:case v.CENTER:case v.FIGURE:case v.FOOTER:case v.HEADER:case v.HGROUP:case v.DIALOG:case v.ADDRESS:case v.ARTICLE:case v.DETAILS:case v.SECTION:case v.SUMMARY:case v.LISTING:case v.FIELDSET:case v.BLOCKQUOTE:case v.FIGCAPTION:{tLe(e,t);break}case v.LI:{iLe(e);break}case v.DD:case v.DT:{sLe(e,t);break}case v.H1:case v.H2:case v.H3:case v.H4:case v.H5:case v.H6:{oLe(e);break}case v.BR:{uLe(e);break}case v.BODY:{Z6e(e,t);break}case v.HTML:{eLe(e,t);break}case v.FORM:{nLe(e);break}case v.APPLET:case v.OBJECT:case v.MARQUEE:{aLe(e,t);break}case v.TEMPLATE:{Xd(e,t);break}default:qJ(e,t)}}function WJ(e,t){e.tmplInsertionModeStack.length>0?ZJ(e,t):kD(e,t)}function lLe(e,t){var n;t.tagID===v.SCRIPT&&((n=e.scriptHandler)===null||n===void 0||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function cLe(e,t){e._err(t,we.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function lA(e,t){if(jJ.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=K.IN_TABLE_TEXT,t.type){case zt.CHARACTER:{GJ(e,t);break}case zt.WHITESPACE_CHARACTER:{YJ(e,t);break}}else R_(e,t)}function fLe(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,Se.HTML),e.insertionMode=K.IN_CAPTION}function dLe(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,Se.HTML),e.insertionMode=K.IN_COLUMN_GROUP}function hLe(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(ce.COLGROUP,v.COLGROUP),e.insertionMode=K.IN_COLUMN_GROUP,DD(e,t)}function pLe(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,Se.HTML),e.insertionMode=K.IN_TABLE_BODY}function mLe(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(ce.TBODY,v.TBODY),e.insertionMode=K.IN_TABLE_BODY,vI(e,t)}function gLe(e,t){e.openElements.hasInTableScope(v.TABLE)&&(e.openElements.popUntilTagNamePopped(v.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function yLe(e,t){HJ(t)?e._appendElement(t,Se.HTML):R_(e,t),t.ackSelfClosing=!0}function _Le(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,Se.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function Gp(e,t){switch(t.tagID){case v.TD:case v.TH:case v.TR:{mLe(e,t);break}case v.STYLE:case v.SCRIPT:case v.TEMPLATE:{Oa(e,t);break}case v.COL:{hLe(e,t);break}case v.FORM:{_Le(e,t);break}case v.TABLE:{gLe(e,t);break}case v.TBODY:case v.TFOOT:case v.THEAD:{pLe(e,t);break}case v.INPUT:{yLe(e,t);break}case v.CAPTION:{fLe(e,t);break}case v.COLGROUP:{dLe(e,t);break}default:R_(e,t)}}function Ey(e,t){switch(t.tagID){case v.TABLE:{e.openElements.hasInTableScope(v.TABLE)&&(e.openElements.popUntilTagNamePopped(v.TABLE),e._resetInsertionMode());break}case v.TEMPLATE:{Xd(e,t);break}case v.BODY:case v.CAPTION:case v.COL:case v.COLGROUP:case v.HTML:case v.TBODY:case v.TD:case v.TFOOT:case v.TH:case v.THEAD:case v.TR:break;default:R_(e,t)}}function R_(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,yI(e,t),e.fosterParentingEnabled=n}function YJ(e,t){e.pendingCharacterTokens.push(t)}function GJ(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function C0(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)R_(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const KJ=new Set([v.CAPTION,v.COL,v.COLGROUP,v.TBODY,v.TD,v.TFOOT,v.TH,v.THEAD,v.TR]);function vLe(e,t){const n=t.tagID;KJ.has(n)?e.openElements.hasInTableScope(v.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(v.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=K.IN_TABLE,Gp(e,t)):ts(e,t)}function bLe(e,t){const n=t.tagID;switch(n){case v.CAPTION:case v.TABLE:{e.openElements.hasInTableScope(v.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(v.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=K.IN_TABLE,n===v.TABLE&&Ey(e,t));break}case v.BODY:case v.COL:case v.COLGROUP:case v.HTML:case v.TBODY:case v.TD:case v.TFOOT:case v.TH:case v.THEAD:case v.TR:break;default:_I(e,t)}}function DD(e,t){switch(t.tagID){case v.HTML:{ts(e,t);break}case v.COL:{e._appendElement(t,Se.HTML),t.ackSelfClosing=!0;break}case v.TEMPLATE:{Oa(e,t);break}default:Fw(e,t)}}function ELe(e,t){switch(t.tagID){case v.COLGROUP:{e.openElements.currentTagId===v.COLGROUP&&(e.openElements.pop(),e.insertionMode=K.IN_TABLE);break}case v.TEMPLATE:{Xd(e,t);break}case v.COL:break;default:Fw(e,t)}}function Fw(e,t){e.openElements.currentTagId===v.COLGROUP&&(e.openElements.pop(),e.insertionMode=K.IN_TABLE,e._processToken(t))}function vI(e,t){switch(t.tagID){case v.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,Se.HTML),e.insertionMode=K.IN_ROW;break}case v.TH:case v.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(ce.TR,v.TR),e.insertionMode=K.IN_ROW,bI(e,t);break}case v.CAPTION:case v.COL:case v.COLGROUP:case v.TBODY:case v.TFOOT:case v.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=K.IN_TABLE,Gp(e,t));break}default:Gp(e,t)}}function u2(e,t){const n=t.tagID;switch(t.tagID){case v.TBODY:case v.TFOOT:case v.THEAD:{e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=K.IN_TABLE);break}case v.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=K.IN_TABLE,Ey(e,t));break}case v.BODY:case v.CAPTION:case v.COL:case v.COLGROUP:case v.HTML:case v.TD:case v.TH:case v.TR:break;default:Ey(e,t)}}function bI(e,t){switch(t.tagID){case v.TH:case v.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,Se.HTML),e.insertionMode=K.IN_CELL,e.activeFormattingElements.insertMarker();break}case v.CAPTION:case v.COL:case v.COLGROUP:case v.TBODY:case v.TFOOT:case v.THEAD:case v.TR:{e.openElements.hasInTableScope(v.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=K.IN_TABLE_BODY,vI(e,t));break}default:Gp(e,t)}}function QJ(e,t){switch(t.tagID){case v.TR:{e.openElements.hasInTableScope(v.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=K.IN_TABLE_BODY);break}case v.TABLE:{e.openElements.hasInTableScope(v.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=K.IN_TABLE_BODY,u2(e,t));break}case v.TBODY:case v.TFOOT:case v.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(v.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=K.IN_TABLE_BODY,u2(e,t));break}case v.BODY:case v.CAPTION:case v.COL:case v.COLGROUP:case v.HTML:case v.TD:case v.TH:break;default:Ey(e,t)}}function wLe(e,t){const n=t.tagID;KJ.has(n)?(e.openElements.hasInTableScope(v.TD)||e.openElements.hasInTableScope(v.TH))&&(e._closeTableCell(),bI(e,t)):ts(e,t)}function TLe(e,t){const n=t.tagID;switch(n){case v.TD:case v.TH:{e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=K.IN_ROW);break}case v.TABLE:case v.TBODY:case v.TFOOT:case v.THEAD:case v.TR:{e.openElements.hasInTableScope(n)&&(e._closeTableCell(),QJ(e,t));break}case v.BODY:case v.CAPTION:case v.COL:case v.COLGROUP:case v.HTML:break;default:_I(e,t)}}function XJ(e,t){switch(t.tagID){case v.HTML:{ts(e,t);break}case v.OPTION:{e.openElements.currentTagId===v.OPTION&&e.openElements.pop(),e._insertElement(t,Se.HTML);break}case v.OPTGROUP:{e.openElements.currentTagId===v.OPTION&&e.openElements.pop(),e.openElements.currentTagId===v.OPTGROUP&&e.openElements.pop(),e._insertElement(t,Se.HTML);break}case v.INPUT:case v.KEYGEN:case v.TEXTAREA:case v.SELECT:{e.openElements.hasInSelectScope(v.SELECT)&&(e.openElements.popUntilTagNamePopped(v.SELECT),e._resetInsertionMode(),t.tagID!==v.SELECT&&e._processStartTag(t));break}case v.SCRIPT:case v.TEMPLATE:{Oa(e,t);break}}}function JJ(e,t){switch(t.tagID){case v.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===v.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===v.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===v.OPTGROUP&&e.openElements.pop();break}case v.OPTION:{e.openElements.currentTagId===v.OPTION&&e.openElements.pop();break}case v.SELECT:{e.openElements.hasInSelectScope(v.SELECT)&&(e.openElements.popUntilTagNamePopped(v.SELECT),e._resetInsertionMode());break}case v.TEMPLATE:{Xd(e,t);break}}}function SLe(e,t){const n=t.tagID;n===v.CAPTION||n===v.TABLE||n===v.TBODY||n===v.TFOOT||n===v.THEAD||n===v.TR||n===v.TD||n===v.TH?(e.openElements.popUntilTagNamePopped(v.SELECT),e._resetInsertionMode(),e._processStartTag(t)):XJ(e,t)}function ILe(e,t){const n=t.tagID;n===v.CAPTION||n===v.TABLE||n===v.TBODY||n===v.TFOOT||n===v.THEAD||n===v.TR||n===v.TD||n===v.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(v.SELECT),e._resetInsertionMode(),e.onEndTag(t)):JJ(e,t)}function xLe(e,t){switch(t.tagID){case v.BASE:case v.BASEFONT:case v.BGSOUND:case v.LINK:case v.META:case v.NOFRAMES:case v.SCRIPT:case v.STYLE:case v.TEMPLATE:case v.TITLE:{Oa(e,t);break}case v.CAPTION:case v.COLGROUP:case v.TBODY:case v.TFOOT:case v.THEAD:{e.tmplInsertionModeStack[0]=K.IN_TABLE,e.insertionMode=K.IN_TABLE,Gp(e,t);break}case v.COL:{e.tmplInsertionModeStack[0]=K.IN_COLUMN_GROUP,e.insertionMode=K.IN_COLUMN_GROUP,DD(e,t);break}case v.TR:{e.tmplInsertionModeStack[0]=K.IN_TABLE_BODY,e.insertionMode=K.IN_TABLE_BODY,vI(e,t);break}case v.TD:case v.TH:{e.tmplInsertionModeStack[0]=K.IN_ROW,e.insertionMode=K.IN_ROW,bI(e,t);break}default:e.tmplInsertionModeStack[0]=K.IN_BODY,e.insertionMode=K.IN_BODY,ts(e,t)}}function CLe(e,t){t.tagID===v.TEMPLATE&&Xd(e,t)}function ZJ(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(v.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):kD(e,t)}function ALe(e,t){t.tagID===v.HTML?ts(e,t):Bw(e,t)}function eZ(e,t){var n;if(t.tagID===v.HTML){if(e.fragmentContext||(e.insertionMode=K.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===v.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(!((n=e.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&e._setEndLocation(r,t)}}else Bw(e,t)}function Bw(e,t){e.insertionMode=K.IN_BODY,yI(e,t)}function OLe(e,t){switch(t.tagID){case v.HTML:{ts(e,t);break}case v.FRAMESET:{e._insertElement(t,Se.HTML);break}case v.FRAME:{e._appendElement(t,Se.HTML),t.ackSelfClosing=!0;break}case v.NOFRAMES:{Oa(e,t);break}}}function PLe(e,t){t.tagID===v.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==v.FRAMESET&&(e.insertionMode=K.AFTER_FRAMESET))}function RLe(e,t){switch(t.tagID){case v.HTML:{ts(e,t);break}case v.NOFRAMES:{Oa(e,t);break}}}function NLe(e,t){t.tagID===v.HTML&&(e.insertionMode=K.AFTER_AFTER_FRAMESET)}function kLe(e,t){t.tagID===v.HTML?ts(e,t):Z1(e,t)}function Z1(e,t){e.insertionMode=K.IN_BODY,yI(e,t)}function DLe(e,t){switch(t.tagID){case v.HTML:{ts(e,t);break}case v.NOFRAMES:{Oa(e,t);break}}}function $Le(e,t){t.chars=rr,e._insertCharacters(t)}function LLe(e,t){e._insertCharacters(t),e.framesetOk=!1}function tZ(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==Se.HTML&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function MLe(e,t){if(J3e(t))tZ(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===Se.MATHML?FJ(t):r===Se.SVG&&(Z3e(t),BJ(t)),RD(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}function FLe(e,t){if(t.tagID===v.P||t.tagID===v.BR){tZ(e),e._endTagOutsideForeignContent(t);return}for(let n=e.openElements.stackTop;n>0;n--){const r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===Se.HTML){e._endTagOutsideForeignContent(t);break}const i=e.treeAdapter.getTagName(r);if(i.toLowerCase()===t.tagName){t.tagName=i,e.openElements.shortenToLength(n);break}}}ce.AREA,ce.BASE,ce.BASEFONT,ce.BGSOUND,ce.BR,ce.COL,ce.EMBED,ce.FRAME,ce.HR,ce.IMG,ce.INPUT,ce.KEYGEN,ce.LINK,ce.META,ce.PARAM,ce.SOURCE,ce.TRACK,ce.WBR;const nZ=rZ("end"),Jd=rZ("start");function rZ(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}const iZ=function(e){if(e==null)return VLe;if(typeof e=="function")return EI(e);if(typeof e=="object")return Array.isArray(e)?BLe(e):jLe(e);if(typeof e=="string")return ULe(e);throw new Error("Expected function, string, or object as test")};function BLe(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=iZ(e[n]);return EI(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function jLe(e){const t=e;return EI(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function ULe(e){return EI(t);function t(n){return n&&n.type===e}}function EI(e){return t;function t(n,r,i){return!!(zLe(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function VLe(){return!0}function zLe(e){return e!==null&&typeof e=="object"&&"type"in e}const sZ=[],HLe=!0,HB=!1,qLe="skip";function WLe(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=iZ(i),o=r?-1:1;a(e,void 0,[])();function a(u,l,c){const f=u&&typeof u=="object"?u:{};if(typeof f.type=="string"){const h=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(d,"name",{value:"node ("+(u.type+(h?"<"+h+">":""))+")"})}return d;function d(){let h=sZ,p,m,y;if((!t||s(u,l,c[c.length-1]||void 0))&&(h=YLe(n(u,c)),h[0]===HB))return h;if("children"in u&&u.children){const g=u;if(g.children&&h[0]!==qLe)for(m=(r?g.children.length:-1)+o,y=c.concat(g);m>-1&&m<g.children.length;){const _=g.children[m];if(p=a(_,m,y)(),p[0]===HB)return p;m=typeof p[1]=="number"?p[1]:m+o}}return h}}}function YLe(e){return Array.isArray(e)?e:typeof e=="number"?[HLe,e]:e==null?sZ:[e]}function GLe(e,t,n,r){let i,s,o;typeof t=="function"&&typeof n!="function"?(s=void 0,o=t,i=n):(s=t,o=n,i=r),WLe(e,s,a,i);function a(u,l){const c=l[l.length-1],f=c?c.children.indexOf(u):void 0;return o(u,f,c)}}const KLe=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),qB={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function oZ(e,t){const n=sMe(e),r=wJ("type",{handlers:{root:QLe,element:XLe,text:JLe,comment:uZ,doctype:ZLe,raw:tMe},unknown:nMe}),i={parser:n?new UB(qB):UB.getFragmentParser(void 0,qB),handle(a){r(a,i)},stitches:!1,options:t||{}};r(e,i),Mm(i,Jd());const s=n?i.parser.document:i.parser.getFragment(),o=X$e(s,{file:i.options.file});return i.stitches&&GLe(o,"comment",function(a,u,l){const c=a;if(c.value.stitch&&l&&u!==void 0){const f=l.children;return f[u]=c.value.stitch,u}}),o.type==="root"&&o.children.length===1&&o.children[0].type===e.type?o.children[0]:o}function aZ(e,t){let n=-1;if(e)for(;++n<e.length;)t.handle(e[n])}function QLe(e,t){aZ(e.children,t)}function XLe(e,t){rMe(e,t),aZ(e.children,t),iMe(e,t)}function JLe(e,t){const n={type:zt.CHARACTER,chars:e.value,location:N_(e)};Mm(t,Jd(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function ZLe(e,t){const n={type:zt.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:N_(e)};Mm(t,Jd(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function eMe(e,t){t.stitches=!0;const n=oMe(e);if("children"in e&&"children"in n){const r=oZ({type:"root",children:e.children},t.options);n.children=r.children}uZ({type:"comment",value:{stitch:n}},t)}function uZ(e,t){const n=e.value,r={type:zt.COMMENT,data:n,location:N_(e)};Mm(t,Jd(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function tMe(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,lZ(t,Jd(e)),t.parser.tokenizer.write(e.value,!1),t.parser.tokenizer._runParsingLoop(),t.parser.tokenizer.state===72||t.parser.tokenizer.state===78){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;const n=t.parser.tokenizer._consume();t.parser.tokenizer._callState(n)}}function nMe(e,t){const n=e;if(t.options.passThrough&&t.options.passThrough.includes(n.type))eMe(n,t);else{let r="";throw KLe.has(n.type)&&(r=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+r)}}function Mm(e,t){lZ(e,t);const n=e.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=e.parser.tokenizer.preprocessor.line,n.location.endCol=e.parser.tokenizer.preprocessor.col+1,n.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=Nr.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}function lZ(e,t){if(t&&t.offset!==void 0){const n={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=-t.column+1,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=n}}function rMe(e,t){if(t.parser.tokenizer.state===Nr.PLAINTEXT)return;Mm(t,Jd(e));const n=t.parser.openElements.current;let r="namespaceURI"in n?n.namespaceURI:Kf.html;r===Kf.html&&e.tagName==="svg"&&(r=Kf.svg);const i=n3e({...e,children:[]},{space:r===Kf.svg?"svg":"html"}),s="attrs"in i?i.attrs:[],o={type:zt.START_TAG,tagName:e.tagName,tagID:Lm(e.tagName),selfClosing:!1,ackSelfClosing:!1,attrs:s,location:N_(e)};t.parser.currentToken=o,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=e.tagName}function iMe(e,t){if(!t.parser.tokenizer.inForeignNode&&c3e.includes(e.tagName)||t.parser.tokenizer.state===Nr.PLAINTEXT)return;Mm(t,nZ(e));const n={type:zt.END_TAG,tagName:e.tagName,tagID:Lm(e.tagName),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:N_(e)};t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken),n.tagName===t.parser.tokenizer.lastStartTagName&&(t.parser.tokenizer.state===Nr.RCDATA||t.parser.tokenizer.state===Nr.RAWTEXT||t.parser.tokenizer.state===Nr.SCRIPT_DATA)&&(t.parser.tokenizer.state=Nr.DATA)}function sMe(e){const t=e.type==="root"?e.children[0]:e;return!!(t&&(t.type==="doctype"||t.type==="element"&&t.tagName==="html"))}function N_(e){const t=Jd(e)||{line:void 0,column:void 0,offset:void 0},n=nZ(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function oMe(e){return"children"in e?OB({...e,children:[]}):OB(e)}function aMe(e){return function(t,n){return oZ(t,{...e,file:n})}}function Fs({text:e}){const t={img:({node:n,...r})=>$.jsx(b_,{...r}),p:({node:n,...r})=>$.jsx(It,{...r,pb:8}),h1:({node:n,...r})=>$.jsx(sc,{order:1,...r,pb:12}),h2:({node:n,...r})=>$.jsx(sc,{order:2,...r,pb:12}),h3:({node:n,...r})=>$.jsx(sc,{order:3,...r,pb:12}),h4:({node:n,...r})=>$.jsx(sc,{order:4,...r,pb:12}),h5:({node:n,...r})=>$.jsx(sc,{order:5,...r,pb:12}),h6:({node:n,...r})=>$.jsx(sc,{order:6,...r,pb:12}),a:({node:n,...r})=>$.jsx(oW,{...r}),ul:({node:n,...r})=>$.jsx(Hp,{withPadding:!0,...r,pb:8}),ol:({node:n,...r})=>$.jsx(Hp,{type:"ordered",withPadding:!0,...r,pb:8})};return $.jsx("div",{style:{display:"inherit"},children:$.jsx(mJ,{components:t,rehypePlugins:[aMe],children:e})})}function uMe({response:e,disabled:t,answer:n}){const{prompt:r,required:i,options:s}=e;return $.jsx(zp.Group,{label:$.jsx(Fs,{text:r}),withAsterisk:i,...n,error:Kd(e,n,s),size:"md",children:$.jsx(_u,{mt:"md",children:s.map(o=>$.jsx(zp,{disabled:t,value:o.value,label:o.label},o.value))})})}function lMe({response:e,disabled:t,answer:n}){const{placeholder:r,prompt:i,required:s,options:o}=e;return $.jsx(iQ,{disabled:t,label:$.jsx(Fs,{text:i}),placeholder:r,data:o,withAsterisk:s,radius:"md",size:"md",...n,error:Kd(e,n,o)})}function cMe({response:e,answer:t}){const{prompt:n}=e;return $.jsxs($.Fragment,{children:[$.jsx(It,{fz:"md",fw:500,children:$.jsx(Fs,{text:n})}),$.jsx(Hp,{children:Array.isArray(t.value)&&t.value.map(r=>$.jsx(Hp.Item,{children:r},r))})]})}function cZ({response:e,disabled:t,answer:n}){const{prompt:r,required:i,options:s,leftLabel:o,rightLabel:a}=e;return $.jsxs(hw.Group,{name:`radioInput${e.id}`,label:$.jsx(Fs,{text:r}),withAsterisk:i,size:"md",...n,error:Kd(e,n,s),children:[o?$.jsx(It,{children:o}):null,$.jsx(_u,{mt:"xs",children:s.map(u=>$.jsx(hw,{disabled:t,value:u.value,label:u.label},u.label))}),$.jsx(It,{children:a})]},e.id)}function fMe({response:e,disabled:t,answer:n}){const{preset:r}=e,i=[];for(let o=1;o<=+r;o+=1)i.push({label:`${o}`,value:`${o}`});const s={...e,type:"radio",options:i};return $.jsx(cZ,{disabled:t,response:s,answer:n})}function dMe({response:e,disabled:t,answer:n}){const{prompt:r,required:i,min:s,max:o,placeholder:a}=e;return $.jsx(NK,{disabled:t,placeholder:a,label:$.jsx(Fs,{text:r}),withAsterisk:i,radius:"md",size:"md",min:s,max:o,...n,error:Kd(e,n)})}function hMe({response:e,disabled:t,answer:n}){const{prompt:r,options:i,leftLabel:s,rightLabel:o,required:a}=e,u=Kd(e,n);return $.jsx(Ls.Wrapper,{withAsterisk:a,label:$.jsx(Fs,{text:r}),error:u,size:"md",children:$.jsxs(_u,{children:[s?$.jsx(Cd,{children:$.jsx(It,{children:s})}):null,$.jsx(dQ,{disabled:t,label:null,sx:{marginTop:"15px",marginBottom:"15px",width:"400px"},marks:i,...n,defaultValue:50,thumbSize:n.value===""?.1:17,color:n.value===""?"gray.2":"blue",min:0,max:100,showLabelOnHover:!1,styles:l=>({markFilled:{borderColor:"#E9ECEF",backgroundColor:"white"},bar:{backgroundColor:"#E9ECEF"},markLabel:{fontSize:l.fontSizes.sm,marginBottom:5,marginTop:0}})}),o?$.jsx(Cd,{children:$.jsx(It,{children:o})}):null]})})}function pMe({response:e,disabled:t,answer:n}){const{placeholder:r,prompt:i,required:s}=e;return $.jsx(pk,{disabled:t,placeholder:r,label:$.jsx(Fs,{text:i}),radius:"md",size:"md",withAsterisk:s,...n,value:n.value||"",error:Kd(e,n)})}function mMe({response:e,disabled:t,answer:n}){const{placeholder:r,prompt:i,required:s}=e;return $.jsx(VG,{disabled:t,placeholder:r,label:$.jsx(Fs,{text:i}),radius:"md",size:"md",withAsterisk:s,...n,value:n.value||"",error:Kd(e,n)})}function gMe({response:e,answer:t,storedAnswer:n}){const r=(n?{value:n}:t)||{value:void 0},i=!!n,[s]=NN(),o=w.useMemo(()=>{if(e.paramCapture){const a=s.get(e.paramCapture);return i||!!a}return i},[i,e.paramCapture,s]);return $.jsxs(ut,{sx:{margin:10,padding:5},children:[e.type==="numerical"&&$.jsx(dMe,{response:e,disabled:o,answer:r}),e.type==="shortText"&&$.jsx(pMe,{response:e,disabled:o,answer:r}),e.type==="longText"&&$.jsx(mMe,{response:e,disabled:o,answer:r}),e.type==="likert"&&$.jsx(fMe,{response:e,disabled:o,answer:r}),e.type==="dropdown"&&$.jsx(lMe,{response:e,disabled:o,answer:r}),e.type==="slider"&&$.jsx(hMe,{response:e,disabled:o,answer:r}),e.type==="radio"&&$.jsx(cZ,{response:e,disabled:o,answer:r}),e.type==="checkbox"&&$.jsx(uMe,{response:e,disabled:o,answer:r}),e.type==="iframe"&&$.jsx(cMe,{response:e,answer:r})]})}function jw({config:e,location:t,status:n,style:r}){var y,g;const i=Aa(),s=n==null?void 0:n.answer,o=e,a=((y=o==null?void 0:o.response)==null?void 0:y.filter(_=>_.location?_.location===t:t==="belowStimulus"))||[],u=jl(),{updateResponseBlockValidation:l}=Bl(),c=ARe(a,i,s||{}),[f,d]=w.useState(!1),{iframeAnswers:h}=Nu(_=>_),p=(((g=o==null?void 0:o.correctAnswer)==null?void 0:g.length)||0)>0,m=t===((o==null?void 0:o.nextButtonLocation)||"belowStimulus");return w.useEffect(()=>{const _=a.find(b=>b.type==="iframe");if(_){const b=_.id;c.setValues({...c.values,[b]:h})}},[h]),w.useEffect(()=>{u(l({location:t,currentStep:i,status:c.isValid(),values:pD(c.values)}))},[c.values,i,t]),$.jsxs("div",{style:r,children:[a.map(_=>{var b,T;return $.jsx(k.Fragment,{children:_.hidden?"":$.jsxs($.Fragment,{children:[$.jsx(gMe,{storedAnswer:s?s[_.id]:void 0,answer:{...c.getInputProps(_.id,{type:_.type==="checkbox"?"checkbox":"input"})},response:_}),p&&f&&$.jsx(It,{children:`The correct answer is: ${(T=(b=o.correctAnswer)==null?void 0:b.find(I=>I.id===_.id))==null?void 0:T.answer}`})]})},`${_.id}-${i}`)}),$.jsxs(_u,{position:"right",spacing:"xs",mt:"xl",children:[p&&m&&$.jsx(ll,{onClick:()=>d(!0),disabled:!c.isValid(),children:"Check Answer"}),m&&$.jsx(eRe,{disabled:p&&!f,setCheckClicked:d,label:o.nextButtonText||"Next"})]})]})}const t1="@REVISIT_COMMS",yMe={minHeight:"500px",width:"100%",border:0,marginTop:"-50px"};function _Me({currentConfig:e}){const{setIframeAnswers:t}=Bl(),n=jl(),r=OQ(),i=w.useRef(null),s=w.useMemo(()=>crypto.randomUUID?crypto.randomUUID():`testID-${Date.now()}`,[]),o=Aa(),a=qd(),u=w.useCallback((l,c)=>{var f,d;(d=(f=i.current)==null?void 0:f.contentWindow)==null||d.postMessage({error:!1,type:`${t1}/${l}`,iframeId:s,message:c},"*")},[i,s]);return w.useEffect(()=>{const l=c=>{const{data:f}=c;if(typeof f=="object"&&s===f.iframeId)switch(f.type){case`${t1}/WINDOW_READY`:e.parameters&&u("STUDY_DATA",e.parameters);break;case`${t1}/READY`:i.current&&(i.current.style.height=`${f.message.documentHeight}px`);break;case`${t1}/ANSWERS`:n(t(f.message.answer));break}};return window.addEventListener("message",l),()=>window.removeEventListener("message",l)},[n,o,r,s,a,e,u]),$.jsx("div",{children:$.jsx("iframe",{ref:i,src:`${Pu}${e.path}?trialid=${o}&id=${s}`,style:yMe})})}const vMe={maxWidth:"100%"};function bMe({currentConfig:e}){const t={...vMe,...e.style};return $.jsx(b_,{mx:"auto",src:`${Pu}${e.path}`,style:t})}const EMe=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),yi={Purple:"#6D3E91",DarkOrange:"#C05917",LightTeal:"#58AC8C",Blue:"#286BBB",Maroon:"#883039",Camel:"#BC8E5A",MidnightBlue:"#00295B",DustyCoral:"#C15065",DarkOliveGreen:"#18470F",DarkCopper:"#9A5129",Peach:"#E56E5A",Mauve:"#A2559C",Turquoise:"#38AABA",OliveGreen:"#578145",Cherry:"#970046",Teal:"#00847E",RustyOrange:"#B13507",Denim:"#4C6A9C",Fuchsia:"#CF0A66",TealishGreen:"#00875E",Copper:"#B16214",DarkMauve:"#8C4569",Lime:"#3B8E1D",Coral:"#D73C50"},yh={DarkOrangeDarker:"#BE5915",PeachDarker:"#C4523E",LightTealDarker:"#2C8465",TurquoiseDarker:"#008291",CamelDarker:"#996D39",LimeDarker:"#338711"},$D=[yi.DustyCoral,yh.LightTealDarker,yh.DarkOrangeDarker,yi.Purple,yi.DarkOliveGreen,yi.Blue,yi.Maroon,yh.CamelDarker,yi.MidnightBlue,yi.DarkCopper,yh.PeachDarker,yi.Mauve,yh.TurquoiseDarker,yi.OliveGreen,yi.Cherry,yi.Teal,yi.RustyOrange,yi.Denim,yi.TealishGreen,yi.Copper,yi.DarkMauve,yh.LimeDarker,yi.Coral],wMe=Object.freeze(Object.defineProperty({__proto__:null,OwidDistinctLinesPalette:$D},Symbol.toStringTag,{value:"Module"}));function vp(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function TMe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function LD(e){let t,n,r;e.length!==2?(t=vp,n=(a,u)=>vp(e(a),u),r=(a,u)=>e(a)-u):(t=e===vp||e===TMe?e:SMe,n=e,r=e);function i(a,u,l=0,c=a.length){if(l<c){if(t(u,u)!==0)return c;do{const f=l+c>>>1;n(a[f],u)<0?l=f+1:c=f}while(l<c)}return l}function s(a,u,l=0,c=a.length){if(l<c){if(t(u,u)!==0)return c;do{const f=l+c>>>1;n(a[f],u)<=0?l=f+1:c=f}while(l<c)}return l}function o(a,u,l=0,c=a.length){const f=i(a,u,l,c-1);return f>l&&r(a[f-1],u)>-r(a[f],u)?f-1:f}return{left:i,center:o,right:s}}function SMe(){return 0}function IMe(e){return e===null?NaN:+e}function*xMe(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const CMe=LD(vp),AMe=CMe.right;LD(IMe).center;const OMe=AMe;function bp(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let s of e)(s=t(s,++i,e))!=null&&(n===void 0?s>=s&&(n=r=s):(n>s&&(n=s),r<s&&(r=s)))}return[n,r]}class l2 extends Map{constructor(t,n=NMe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(WB(this,t))}has(t){return super.has(WB(this,t))}set(t,n){return super.set(PMe(this,t),n)}delete(t){return super.delete(RMe(this,t))}}function WB({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function PMe({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function RMe({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function NMe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function kMe(e){return e}function DMe(e,t,...n){return $Me(e,kMe,t,n)}function $Me(e,t,n,r){return function i(s,o){if(o>=r.length)return n(s);const a=new l2,u=r[o++];let l=-1;for(const c of s){const f=u(c,++l,s),d=a.get(f);d?d.push(c):a.set(f,[c])}for(const[c,f]of a)a.set(c,i(f,o));return t(a)}(e,0)}function LMe(e=vp){if(e===vp)return fZ;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function fZ(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const MMe=Math.sqrt(50),FMe=Math.sqrt(10),BMe=Math.sqrt(2);function Uw(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=MMe?10:s>=FMe?5:s>=BMe?2:1;let a,u,l;return i<0?(l=Math.pow(10,-i)/o,a=Math.round(e*l),u=Math.round(t*l),a/l<e&&++a,u/l>t&&--u,l=-l):(l=Math.pow(10,i)*o,a=Math.round(e/l),u=Math.round(t/l),a*l<e&&++a,u*l>t&&--u),u<a&&.5<=n&&n<2?Uw(e,t,n*2):[a,u,l]}function jMe(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,s,o]=r?Uw(t,e,n):Uw(e,t,n);if(!(s>=i))return[];const a=s-i+1,u=new Array(a);if(r)if(o<0)for(let l=0;l<a;++l)u[l]=(s-l)/-o;else for(let l=0;l<a;++l)u[l]=(s-l)*o;else if(o<0)for(let l=0;l<a;++l)u[l]=(i+l)/-o;else for(let l=0;l<a;++l)u[l]=(i+l)*o;return u}function c2(e,t,n){return t=+t,e=+e,n=+n,Uw(e,t,n)[2]}function f2(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?c2(t,e,n):c2(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Vw(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function zw(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function dZ(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?fZ:LMe(i);r>n;){if(r-n>600){const u=r-n+1,l=t-n+1,c=Math.log(u),f=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*f*(u-f)/u)*(l-u/2<0?-1:1),h=Math.max(n,Math.floor(t-l*f/u+d)),p=Math.min(r,Math.floor(t+(u-l)*f/u+d));dZ(e,t,h,p,i)}const s=e[t];let o=n,a=r;for(A0(e,n,t),i(e[r],s)>0&&A0(e,n,r);o<a;){for(A0(e,o,a),++o,--a;i(e[o],s)<0;)++o;for(;i(e[a],s)>0;)--a}i(e[n],s)===0?A0(e,n,a):(++a,A0(e,a,r)),a<=t&&(n=a+1),t<=a&&(r=a-1)}return e}function A0(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function cA(e,t,n){if(e=Float64Array.from(xMe(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return zw(e);if(t>=1)return Vw(e);var r,i=(r-1)*t,s=Math.floor(i),o=Vw(dZ(e,s).subarray(0,s+1)),a=zw(e.subarray(s+1));return o+(a-o)*(i-s)}}function MD(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function hZ(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function k_(){}var wy=.7,Hw=1/wy,Ep="\\s*([+-]?\\d+)\\s*",Ty="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",cu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",UMe=/^#([0-9a-f]{3,8})$/,VMe=new RegExp(`^rgb\\(${Ep},${Ep},${Ep}\\)$`),zMe=new RegExp(`^rgb\\(${cu},${cu},${cu}\\)$`),HMe=new RegExp(`^rgba\\(${Ep},${Ep},${Ep},${Ty}\\)$`),qMe=new RegExp(`^rgba\\(${cu},${cu},${cu},${Ty}\\)$`),WMe=new RegExp(`^hsl\\(${Ty},${cu},${cu}\\)$`),YMe=new RegExp(`^hsla\\(${Ty},${cu},${cu},${Ty}\\)$`),YB={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};MD(k_,Sy,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:GB,formatHex:GB,formatHex8:GMe,formatHsl:KMe,formatRgb:KB,toString:KB});function GB(){return this.rgb().formatHex()}function GMe(){return this.rgb().formatHex8()}function KMe(){return pZ(this).formatHsl()}function KB(){return this.rgb().formatRgb()}function Sy(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=UMe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?QB(t):n===3?new Ps(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?n1(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?n1(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=VMe.exec(e))?new Ps(t[1],t[2],t[3],1):(t=zMe.exec(e))?new Ps(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=HMe.exec(e))?n1(t[1],t[2],t[3],t[4]):(t=qMe.exec(e))?n1(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=WMe.exec(e))?ZB(t[1],t[2]/100,t[3]/100,1):(t=YMe.exec(e))?ZB(t[1],t[2]/100,t[3]/100,t[4]):YB.hasOwnProperty(e)?QB(YB[e]):e==="transparent"?new Ps(NaN,NaN,NaN,0):null}function QB(e){return new Ps(e>>16&255,e>>8&255,e&255,1)}function n1(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ps(e,t,n,r)}function QMe(e){return e instanceof k_||(e=Sy(e)),e?(e=e.rgb(),new Ps(e.r,e.g,e.b,e.opacity)):new Ps}function d2(e,t,n,r){return arguments.length===1?QMe(e):new Ps(e,t,n,r??1)}function Ps(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}MD(Ps,d2,hZ(k_,{brighter(e){return e=e==null?Hw:Math.pow(Hw,e),new Ps(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?wy:Math.pow(wy,e),new Ps(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ps(pd(this.r),pd(this.g),pd(this.b),qw(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:XB,formatHex:XB,formatHex8:XMe,formatRgb:JB,toString:JB}));function XB(){return`#${Qf(this.r)}${Qf(this.g)}${Qf(this.b)}`}function XMe(){return`#${Qf(this.r)}${Qf(this.g)}${Qf(this.b)}${Qf((isNaN(this.opacity)?1:this.opacity)*255)}`}function JB(){const e=qw(this.opacity);return`${e===1?"rgb(":"rgba("}${pd(this.r)}, ${pd(this.g)}, ${pd(this.b)}${e===1?")":`, ${e})`}`}function qw(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function pd(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Qf(e){return e=pd(e),(e<16?"0":"")+e.toString(16)}function ZB(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new pa(e,t,n,r)}function pZ(e){if(e instanceof pa)return new pa(e.h,e.s,e.l,e.opacity);if(e instanceof k_||(e=Sy(e)),!e)return new pa;if(e instanceof pa)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),o=NaN,a=s-i,u=(s+i)/2;return a?(t===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-t)/a+2:o=(t-n)/a+4,a/=u<.5?s+i:2-s-i,o*=60):a=u>0&&u<1?0:o,new pa(o,a,u,e.opacity)}function JMe(e,t,n,r){return arguments.length===1?pZ(e):new pa(e,t,n,r??1)}function pa(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}MD(pa,JMe,hZ(k_,{brighter(e){return e=e==null?Hw:Math.pow(Hw,e),new pa(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?wy:Math.pow(wy,e),new pa(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Ps(fA(e>=240?e-240:e+120,i,r),fA(e,i,r),fA(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new pa(ej(this.h),r1(this.s),r1(this.l),qw(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=qw(this.opacity);return`${e===1?"hsl(":"hsla("}${ej(this.h)}, ${r1(this.s)*100}%, ${r1(this.l)*100}%${e===1?")":`, ${e})`}`}}));function ej(e){return e=(e||0)%360,e<0?e+360:e}function r1(e){return Math.max(0,Math.min(1,e||0))}function fA(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const FD=e=>()=>e;function ZMe(e,t){return function(n){return e+n*t}}function e4e(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function t4e(e){return(e=+e)==1?mZ:function(t,n){return n-t?e4e(t,n,e):FD(isNaN(t)?n:t)}}function mZ(e,t){var n=t-e;return n?ZMe(e,n):FD(isNaN(e)?t:e)}const tj=function e(t){var n=t4e(t);function r(i,s){var o=n((i=d2(i)).r,(s=d2(s)).r),a=n(i.g,s.g),u=n(i.b,s.b),l=mZ(i.opacity,s.opacity);return function(c){return i.r=o(c),i.g=a(c),i.b=u(c),i.opacity=l(c),i+""}}return r.gamma=e,r}(1);function n4e(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=e[i]*(1-s)+t[i]*s;return r}}function r4e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function i4e(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=BD(e[o],t[o]);for(;o<n;++o)s[o]=t[o];return function(a){for(o=0;o<r;++o)s[o]=i[o](a);return s}}function s4e(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Ww(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function o4e(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=BD(e[i],t[i]):r[i]=t[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var h2=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,dA=new RegExp(h2.source,"g");function a4e(e){return function(){return e}}function u4e(e){return function(t){return e(t)+""}}function l4e(e,t){var n=h2.lastIndex=dA.lastIndex=0,r,i,s,o=-1,a=[],u=[];for(e=e+"",t=t+"";(r=h2.exec(e))&&(i=dA.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,u.push({i:o,x:Ww(r,i)})),n=dA.lastIndex;return n<t.length&&(s=t.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?u[0]?u4e(u[0].x):a4e(t):(t=u.length,function(l){for(var c=0,f;c<t;++c)a[(f=u[c]).i]=f.x(l);return a.join("")})}function BD(e,t){var n=typeof t,r;return t==null||n==="boolean"?FD(t):(n==="number"?Ww:n==="string"?(r=Sy(t))?(t=r,tj):l4e:t instanceof Sy?tj:t instanceof Date?s4e:r4e(t)?n4e:Array.isArray(t)?i4e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?o4e:Ww)(e,t)}function c4e(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}const p2=Math.PI,m2=2*p2,kf=1e-6,f4e=m2-kf;function gZ(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function d4e(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return gZ;const n=10**t;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class h4e{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?gZ:d4e(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,s,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(t,n,r,i,s){if(t=+t,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,u=r-t,l=i-n,c=o-t,f=a-n,d=c*c+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(d>kf)if(!(Math.abs(f*u-l*c)>kf)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-o,p=i-a,m=u*u+l*l,y=h*h+p*p,g=Math.sqrt(m),_=Math.sqrt(d),b=s*Math.tan((p2-Math.acos((m+d-y)/(2*g*_)))/2),T=b/_,I=b/g;Math.abs(T-1)>kf&&this._append`L${t+T*c},${n+T*f}`,this._append`A${s},${s},0,0,${+(f*h>c*p)},${this._x1=t+I*u},${this._y1=n+I*l}`}}arc(t,n,r,i,s,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),u=r*Math.sin(i),l=t+a,c=n+u,f=1^o,d=o?i-s:s-i;this._x1===null?this._append`M${l},${c}`:(Math.abs(this._x1-l)>kf||Math.abs(this._y1-c)>kf)&&this._append`L${l},${c}`,r&&(d<0&&(d=d%m2+m2),d>f4e?this._append`A${r},${r},0,1,${f},${t-a},${n-u}A${r},${r},0,1,${f},${this._x1=l},${this._y1=c}`:d>kf&&this._append`A${r},${r},0,${+(d>=p2)},${f},${this._x1=t+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}var nj={},hA={},pA=34,O0=10,mA=13;function yZ(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function p4e(e,t){var n=yZ(e);return function(r,i){return t(n(r),i,e)}}function rj(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function _s(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function m4e(e){return e<0?"-"+_s(-e,6):e>9999?"+"+_s(e,6):_s(e,4)}function g4e(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":m4e(e.getUTCFullYear())+"-"+_s(e.getUTCMonth()+1,2)+"-"+_s(e.getUTCDate(),2)+(i?"T"+_s(t,2)+":"+_s(n,2)+":"+_s(r,2)+"."+_s(i,3)+"Z":r?"T"+_s(t,2)+":"+_s(n,2)+":"+_s(r,2)+"Z":n||t?"T"+_s(t,2)+":"+_s(n,2)+"Z":"")}function y4e(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(f,d){var h,p,m=i(f,function(y,g){if(h)return h(y,g-1);p=y,h=d?p4e(y,d):yZ(y)});return m.columns=p||[],m}function i(f,d){var h=[],p=f.length,m=0,y=0,g,_=p<=0,b=!1;f.charCodeAt(p-1)===O0&&--p,f.charCodeAt(p-1)===mA&&--p;function T(){if(_)return hA;if(b)return b=!1,nj;var E,S=m,A;if(f.charCodeAt(S)===pA){for(;m++<p&&f.charCodeAt(m)!==pA||f.charCodeAt(++m)===pA;);return(E=m)>=p?_=!0:(A=f.charCodeAt(m++))===O0?b=!0:A===mA&&(b=!0,f.charCodeAt(m)===O0&&++m),f.slice(S+1,E-1).replace(/""/g,'"')}for(;m<p;){if((A=f.charCodeAt(E=m++))===O0)b=!0;else if(A===mA)b=!0,f.charCodeAt(m)===O0&&++m;else if(A!==n)continue;return f.slice(S,E)}return _=!0,f.slice(S,p)}for(;(g=T())!==hA;){for(var I=[];g!==nj&&g!==hA;)I.push(g),g=T();d&&(I=d(I,y++))==null||h.push(I)}return h}function s(f,d){return f.map(function(h){return d.map(function(p){return c(h[p])}).join(e)})}function o(f,d){return d==null&&(d=rj(f)),[d.map(c).join(e)].concat(s(f,d)).join(`
`)}function a(f,d){return d==null&&(d=rj(f)),s(f,d).join(`
`)}function u(f){return f.map(l).join(`
`)}function l(f){return f.map(c).join(e)}function c(f){return f==null?"":f instanceof Date?g4e(f):t.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:r,parseRows:i,format:o,formatBody:a,formatRows:u,formatRow:l,formatValue:c}}var _4e=y4e(","),v4e=_4e.parse;function b4e(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function E4e(e,t){return fetch(e,t).then(b4e)}function w4e(e){return function(t,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=void 0),E4e(t,n).then(function(i){return e(i,r)})}}var T4e=w4e(v4e);function S4e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Yw(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Kp(e){return e=Yw(Math.abs(e)),e?e[1]:NaN}function I4e(e,t){return function(n,r){for(var i=n.length,s=[],o=0,a=e[0],u=0;i>0&&a>0&&(u+a+1>r&&(a=Math.max(1,r-u)),s.push(n.substring(i-=a,i+a)),!((u+=a+1)>r));)a=e[o=(o+1)%e.length];return s.reverse().join(t)}}function x4e(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var C4e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Gw(e){if(!(t=C4e.exec(e)))throw new Error("invalid format: "+e);var t;return new jD({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Gw.prototype=jD.prototype;function jD(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}jD.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function A4e(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var _Z;function O4e(e,t){var n=Yw(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-(_Z=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Yw(e,Math.max(0,t+s-1))[0]}function ij(e,t){var n=Yw(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const sj={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:S4e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>ij(e*100,t),r:ij,s:O4e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function oj(e){return e}var aj=Array.prototype.map,uj=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function P4e(e){var t=e.grouping===void 0||e.thousands===void 0?oj:I4e(aj.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?oj:x4e(aj.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function l(f){f=Gw(f);var d=f.fill,h=f.align,p=f.sign,m=f.symbol,y=f.zero,g=f.width,_=f.comma,b=f.precision,T=f.trim,I=f.type;I==="n"?(_=!0,I="g"):sj[I]||(b===void 0&&(b=12),T=!0,I="g"),(y||d==="0"&&h==="=")&&(y=!0,d="0",h="=");var E=m==="$"?n:m==="#"&&/[boxX]/.test(I)?"0"+I.toLowerCase():"",S=m==="$"?r:/[%p]/.test(I)?o:"",A=sj[I],L=/[defgprs%]/.test(I);b=b===void 0?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function Y(z){var U=E,Z=S,V,le,oe;if(I==="c")Z=A(z)+Z,z="";else{z=+z;var ve=z<0||1/z<0;if(z=isNaN(z)?u:A(Math.abs(z),b),T&&(z=A4e(z)),ve&&+z==0&&p!=="+"&&(ve=!1),U=(ve?p==="("?p:a:p==="-"||p==="("?"":p)+U,Z=(I==="s"?uj[8+_Z/3]:"")+Z+(ve&&p==="("?")":""),L){for(V=-1,le=z.length;++V<le;)if(oe=z.charCodeAt(V),48>oe||oe>57){Z=(oe===46?i+z.slice(V+1):z.slice(V))+Z,z=z.slice(0,V);break}}}_&&!y&&(z=t(z,1/0));var re=U.length+z.length+Z.length,ue=re<g?new Array(g-re+1).join(d):"";switch(_&&y&&(z=t(ue+z,ue.length?g-Z.length:1/0),ue=""),h){case"<":z=U+z+Z+ue;break;case"=":z=U+ue+z+Z;break;case"^":z=ue.slice(0,re=ue.length>>1)+U+z+Z+ue.slice(re);break;default:z=ue+U+z+Z;break}return s(z)}return Y.toString=function(){return f+""},Y}function c(f,d){var h=l((f=Gw(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(Kp(d)/3)))*3,m=Math.pow(10,-p),y=uj[8+p/3];return function(g){return h(m*g)+y}}return{format:l,formatPrefix:c}}var i1,Fc,vZ;R4e({thousands:",",grouping:[3],currency:["$",""]});function R4e(e){return i1=P4e(e),Fc=i1.format,vZ=i1.formatPrefix,i1}function N4e(e){return Math.max(0,-Kp(Math.abs(e)))}function k4e(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Kp(t)/3)))*3-Kp(Math.abs(e)))}function D4e(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Kp(t)-Kp(e))+1}function UD(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const lj=Symbol("implicit");function VD(){var e=new l2,t=[],n=[],r=lj;function i(s){let o=e.get(s);if(o===void 0){if(r!==lj)return r;e.set(s,o=t.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new l2;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return VD(t,n).unknown(r)},UD.apply(i,arguments),i}function $4e(e){return function(){return e}}function L4e(e){return+e}var cj=[0,1];function Yh(e){return e}function g2(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:$4e(isNaN(t)?NaN:.5)}function M4e(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function F4e(e,t,n){var r=e[0],i=e[1],s=t[0],o=t[1];return i<r?(r=g2(i,r),s=n(o,s)):(r=g2(r,i),s=n(s,o)),function(a){return s(r(a))}}function B4e(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),s=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=g2(e[o],e[o+1]),s[o]=n(t[o],t[o+1]);return function(a){var u=OMe(e,a,1,r)-1;return s[u](i[u](a))}}function bZ(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function j4e(){var e=cj,t=cj,n=BD,r,i,s,o=Yh,a,u,l;function c(){var d=Math.min(e.length,t.length);return o!==Yh&&(o=M4e(e[0],e[d-1])),a=d>2?B4e:F4e,u=l=null,f}function f(d){return d==null||isNaN(d=+d)?s:(u||(u=a(e.map(r),t,n)))(r(o(d)))}return f.invert=function(d){return o(i((l||(l=a(t,e.map(r),Ww)))(d)))},f.domain=function(d){return arguments.length?(e=Array.from(d,L4e),c()):e.slice()},f.range=function(d){return arguments.length?(t=Array.from(d),c()):t.slice()},f.rangeRound=function(d){return t=Array.from(d),n=c4e,c()},f.clamp=function(d){return arguments.length?(o=d?!0:Yh,c()):o!==Yh},f.interpolate=function(d){return arguments.length?(n=d,c()):n},f.unknown=function(d){return arguments.length?(s=d,f):s},function(d,h){return r=d,i=h,c()}}function EZ(){return j4e()(Yh,Yh)}function U4e(e,t,n,r){var i=f2(e,t,n),s;switch(r=Gw(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=k4e(i,o))&&(r.precision=s),vZ(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=D4e(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=N4e(i))&&(r.precision=s-(r.type==="%")*2);break}}return Fc(r)}function V4e(e){var t=e.domain;return e.ticks=function(n){var r=t();return jMe(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return U4e(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,s=r.length-1,o=r[i],a=r[s],u,l,c=10;for(a<o&&(l=o,o=a,a=l,l=i,i=s,s=l);c-- >0;){if(l=c2(o,a,n),l===u)return r[i]=o,r[s]=a,t(r);if(l>0)o=Math.floor(o/l)*l,a=Math.ceil(a/l)*l;else if(l<0)o=Math.ceil(o*l)/l,a=Math.floor(a*l)/l;else break;u=l}return e},e}function wI(){var e=EZ();return e.copy=function(){return bZ(e,wI())},UD.apply(e,arguments),V4e(e)}function z4e(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],s=e[r],o;return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),e[n]=t.floor(i),e[r]=t.ceil(s),e}const gA=new Date,yA=new Date;function ei(e,t,n,r){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const o=i(s),a=i.ceil(s);return s-o<a-s?o:a},i.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,a)=>{const u=[];if(s=i.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return u;let l;do u.push(l=new Date(+s)),t(s,a),e(s);while(l<s&&s<o);return u},i.filter=s=>ei(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;t(o,-1),!s(o););else for(;--a>=0;)for(;t(o,1),!s(o););}),n&&(i.count=(s,o)=>(gA.setTime(+s),yA.setTime(+o),e(gA),e(yA),Math.floor(n(gA,yA))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?o=>r(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const Kw=ei(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Kw.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ei(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Kw);Kw.range;const el=1e3,Mo=el*60,tl=Mo*60,El=tl*24,zD=El*7,fj=El*30,_A=El*365,Gh=ei(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*el)},(e,t)=>(t-e)/el,e=>e.getUTCSeconds());Gh.range;const HD=ei(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*el)},(e,t)=>{e.setTime(+e+t*Mo)},(e,t)=>(t-e)/Mo,e=>e.getMinutes());HD.range;const H4e=ei(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Mo)},(e,t)=>(t-e)/Mo,e=>e.getUTCMinutes());H4e.range;const qD=ei(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*el-e.getMinutes()*Mo)},(e,t)=>{e.setTime(+e+t*tl)},(e,t)=>(t-e)/tl,e=>e.getHours());qD.range;const q4e=ei(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*tl)},(e,t)=>(t-e)/tl,e=>e.getUTCHours());q4e.range;const D_=ei(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Mo)/El,e=>e.getDate()-1);D_.range;const WD=ei(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/El,e=>e.getUTCDate()-1);WD.range;const W4e=ei(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/El,e=>Math.floor(e/El));W4e.range;function Zd(e){return ei(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Mo)/zD)}const TI=Zd(0),Qw=Zd(1),Y4e=Zd(2),G4e=Zd(3),Qp=Zd(4),K4e=Zd(5),Q4e=Zd(6);TI.range;Qw.range;Y4e.range;G4e.range;Qp.range;K4e.range;Q4e.range;function eh(e){return ei(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/zD)}const wZ=eh(0),Xw=eh(1),X4e=eh(2),J4e=eh(3),Xp=eh(4),Z4e=eh(5),e5e=eh(6);wZ.range;Xw.range;X4e.range;J4e.range;Xp.range;Z4e.range;e5e.range;const YD=ei(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());YD.range;const t5e=ei(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());t5e.range;const wl=ei(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());wl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ei(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});wl.range;const Nd=ei(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Nd.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ei(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Nd.range;function n5e(e,t,n,r,i,s){const o=[[Gh,1,el],[Gh,5,5*el],[Gh,15,15*el],[Gh,30,30*el],[s,1,Mo],[s,5,5*Mo],[s,15,15*Mo],[s,30,30*Mo],[i,1,tl],[i,3,3*tl],[i,6,6*tl],[i,12,12*tl],[r,1,El],[r,2,2*El],[n,1,zD],[t,1,fj],[t,3,3*fj],[e,1,_A]];function a(l,c,f){const d=c<l;d&&([l,c]=[c,l]);const h=f&&typeof f.range=="function"?f:u(l,c,f),p=h?h.range(l,+c+1):[];return d?p.reverse():p}function u(l,c,f){const d=Math.abs(c-l)/f,h=LD(([,,y])=>y).right(o,d);if(h===o.length)return e.every(f2(l/_A,c/_A,f));if(h===0)return Kw.every(Math.max(f2(l,c,f),1));const[p,m]=o[d/o[h-1][2]<o[h][2]/d?h-1:h];return p.every(m)}return[a,u]}const[r5e,i5e]=n5e(wl,YD,TI,D_,qD,HD);function vA(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function bA(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function P0(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function s5e(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,s=e.days,o=e.shortDays,a=e.months,u=e.shortMonths,l=R0(i),c=N0(i),f=R0(s),d=N0(s),h=R0(o),p=N0(o),m=R0(a),y=N0(a),g=R0(u),_=N0(u),b={a:ve,A:re,b:ue,B:te,c:null,d:yj,e:yj,f:A5e,g:F5e,G:j5e,H:I5e,I:x5e,j:C5e,L:TZ,m:O5e,M:P5e,p:x,q:C,Q:bj,s:Ej,S:R5e,u:N5e,U:k5e,V:D5e,w:$5e,W:L5e,x:null,X:null,y:M5e,Y:B5e,Z:U5e,"%":vj},T={a:j,A:P,b:O,B:G,c:null,d:_j,e:_j,f:q5e,g:tFe,G:rFe,H:V5e,I:z5e,j:H5e,L:IZ,m:W5e,M:Y5e,p:de,q:fe,Q:bj,s:Ej,S:G5e,u:K5e,U:Q5e,V:X5e,w:J5e,W:Z5e,x:null,X:null,y:eFe,Y:nFe,Z:iFe,"%":vj},I={a:Y,A:z,b:U,B:Z,c:V,d:mj,e:mj,f:E5e,g:pj,G:hj,H:gj,I:gj,j:y5e,L:b5e,m:g5e,M:_5e,p:L,q:m5e,Q:T5e,s:S5e,S:v5e,u:c5e,U:f5e,V:d5e,w:l5e,W:h5e,x:le,X:oe,y:pj,Y:hj,Z:p5e,"%":w5e};b.x=E(n,b),b.X=E(r,b),b.c=E(t,b),T.x=E(n,T),T.X=E(r,T),T.c=E(t,T);function E(ye,me){return function(W){var M=[],pe=-1,Ee=0,Ce=ye.length,Ae,qe,et;for(W instanceof Date||(W=new Date(+W));++pe<Ce;)ye.charCodeAt(pe)===37&&(M.push(ye.slice(Ee,pe)),(qe=dj[Ae=ye.charAt(++pe)])!=null?Ae=ye.charAt(++pe):qe=Ae==="e"?" ":"0",(et=me[Ae])&&(Ae=et(W,qe)),M.push(Ae),Ee=pe+1);return M.push(ye.slice(Ee,pe)),M.join("")}}function S(ye,me){return function(W){var M=P0(1900,void 0,1),pe=A(M,ye,W+="",0),Ee,Ce;if(pe!=W.length)return null;if("Q"in M)return new Date(M.Q);if("s"in M)return new Date(M.s*1e3+("L"in M?M.L:0));if(me&&!("Z"in M)&&(M.Z=0),"p"in M&&(M.H=M.H%12+M.p*12),M.m===void 0&&(M.m="q"in M?M.q:0),"V"in M){if(M.V<1||M.V>53)return null;"w"in M||(M.w=1),"Z"in M?(Ee=bA(P0(M.y,0,1)),Ce=Ee.getUTCDay(),Ee=Ce>4||Ce===0?Xw.ceil(Ee):Xw(Ee),Ee=WD.offset(Ee,(M.V-1)*7),M.y=Ee.getUTCFullYear(),M.m=Ee.getUTCMonth(),M.d=Ee.getUTCDate()+(M.w+6)%7):(Ee=vA(P0(M.y,0,1)),Ce=Ee.getDay(),Ee=Ce>4||Ce===0?Qw.ceil(Ee):Qw(Ee),Ee=D_.offset(Ee,(M.V-1)*7),M.y=Ee.getFullYear(),M.m=Ee.getMonth(),M.d=Ee.getDate()+(M.w+6)%7)}else("W"in M||"U"in M)&&("w"in M||(M.w="u"in M?M.u%7:"W"in M?1:0),Ce="Z"in M?bA(P0(M.y,0,1)).getUTCDay():vA(P0(M.y,0,1)).getDay(),M.m=0,M.d="W"in M?(M.w+6)%7+M.W*7-(Ce+5)%7:M.w+M.U*7-(Ce+6)%7);return"Z"in M?(M.H+=M.Z/100|0,M.M+=M.Z%100,bA(M)):vA(M)}}function A(ye,me,W,M){for(var pe=0,Ee=me.length,Ce=W.length,Ae,qe;pe<Ee;){if(M>=Ce)return-1;if(Ae=me.charCodeAt(pe++),Ae===37){if(Ae=me.charAt(pe++),qe=I[Ae in dj?me.charAt(pe++):Ae],!qe||(M=qe(ye,W,M))<0)return-1}else if(Ae!=W.charCodeAt(M++))return-1}return M}function L(ye,me,W){var M=l.exec(me.slice(W));return M?(ye.p=c.get(M[0].toLowerCase()),W+M[0].length):-1}function Y(ye,me,W){var M=h.exec(me.slice(W));return M?(ye.w=p.get(M[0].toLowerCase()),W+M[0].length):-1}function z(ye,me,W){var M=f.exec(me.slice(W));return M?(ye.w=d.get(M[0].toLowerCase()),W+M[0].length):-1}function U(ye,me,W){var M=g.exec(me.slice(W));return M?(ye.m=_.get(M[0].toLowerCase()),W+M[0].length):-1}function Z(ye,me,W){var M=m.exec(me.slice(W));return M?(ye.m=y.get(M[0].toLowerCase()),W+M[0].length):-1}function V(ye,me,W){return A(ye,t,me,W)}function le(ye,me,W){return A(ye,n,me,W)}function oe(ye,me,W){return A(ye,r,me,W)}function ve(ye){return o[ye.getDay()]}function re(ye){return s[ye.getDay()]}function ue(ye){return u[ye.getMonth()]}function te(ye){return a[ye.getMonth()]}function x(ye){return i[+(ye.getHours()>=12)]}function C(ye){return 1+~~(ye.getMonth()/3)}function j(ye){return o[ye.getUTCDay()]}function P(ye){return s[ye.getUTCDay()]}function O(ye){return u[ye.getUTCMonth()]}function G(ye){return a[ye.getUTCMonth()]}function de(ye){return i[+(ye.getUTCHours()>=12)]}function fe(ye){return 1+~~(ye.getUTCMonth()/3)}return{format:function(ye){var me=E(ye+="",b);return me.toString=function(){return ye},me},parse:function(ye){var me=S(ye+="",!1);return me.toString=function(){return ye},me},utcFormat:function(ye){var me=E(ye+="",T);return me.toString=function(){return ye},me},utcParse:function(ye){var me=S(ye+="",!0);return me.toString=function(){return ye},me}}}var dj={"-":"",_:" ",0:"0"},hi=/^\s*\d+/,o5e=/^%/,a5e=/[\\^$*+?|[\]().{}]/g;function _n(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(t)+i:i)}function u5e(e){return e.replace(a5e,"\\$&")}function R0(e){return new RegExp("^(?:"+e.map(u5e).join("|")+")","i")}function N0(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function l5e(e,t,n){var r=hi.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function c5e(e,t,n){var r=hi.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function f5e(e,t,n){var r=hi.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function d5e(e,t,n){var r=hi.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function h5e(e,t,n){var r=hi.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function hj(e,t,n){var r=hi.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function pj(e,t,n){var r=hi.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function p5e(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function m5e(e,t,n){var r=hi.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function g5e(e,t,n){var r=hi.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function mj(e,t,n){var r=hi.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function y5e(e,t,n){var r=hi.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function gj(e,t,n){var r=hi.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function _5e(e,t,n){var r=hi.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function v5e(e,t,n){var r=hi.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function b5e(e,t,n){var r=hi.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function E5e(e,t,n){var r=hi.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function w5e(e,t,n){var r=o5e.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function T5e(e,t,n){var r=hi.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function S5e(e,t,n){var r=hi.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function yj(e,t){return _n(e.getDate(),t,2)}function I5e(e,t){return _n(e.getHours(),t,2)}function x5e(e,t){return _n(e.getHours()%12||12,t,2)}function C5e(e,t){return _n(1+D_.count(wl(e),e),t,3)}function TZ(e,t){return _n(e.getMilliseconds(),t,3)}function A5e(e,t){return TZ(e,t)+"000"}function O5e(e,t){return _n(e.getMonth()+1,t,2)}function P5e(e,t){return _n(e.getMinutes(),t,2)}function R5e(e,t){return _n(e.getSeconds(),t,2)}function N5e(e){var t=e.getDay();return t===0?7:t}function k5e(e,t){return _n(TI.count(wl(e)-1,e),t,2)}function SZ(e){var t=e.getDay();return t>=4||t===0?Qp(e):Qp.ceil(e)}function D5e(e,t){return e=SZ(e),_n(Qp.count(wl(e),e)+(wl(e).getDay()===4),t,2)}function $5e(e){return e.getDay()}function L5e(e,t){return _n(Qw.count(wl(e)-1,e),t,2)}function M5e(e,t){return _n(e.getFullYear()%100,t,2)}function F5e(e,t){return e=SZ(e),_n(e.getFullYear()%100,t,2)}function B5e(e,t){return _n(e.getFullYear()%1e4,t,4)}function j5e(e,t){var n=e.getDay();return e=n>=4||n===0?Qp(e):Qp.ceil(e),_n(e.getFullYear()%1e4,t,4)}function U5e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+_n(t/60|0,"0",2)+_n(t%60,"0",2)}function _j(e,t){return _n(e.getUTCDate(),t,2)}function V5e(e,t){return _n(e.getUTCHours(),t,2)}function z5e(e,t){return _n(e.getUTCHours()%12||12,t,2)}function H5e(e,t){return _n(1+WD.count(Nd(e),e),t,3)}function IZ(e,t){return _n(e.getUTCMilliseconds(),t,3)}function q5e(e,t){return IZ(e,t)+"000"}function W5e(e,t){return _n(e.getUTCMonth()+1,t,2)}function Y5e(e,t){return _n(e.getUTCMinutes(),t,2)}function G5e(e,t){return _n(e.getUTCSeconds(),t,2)}function K5e(e){var t=e.getUTCDay();return t===0?7:t}function Q5e(e,t){return _n(wZ.count(Nd(e)-1,e),t,2)}function xZ(e){var t=e.getUTCDay();return t>=4||t===0?Xp(e):Xp.ceil(e)}function X5e(e,t){return e=xZ(e),_n(Xp.count(Nd(e),e)+(Nd(e).getUTCDay()===4),t,2)}function J5e(e){return e.getUTCDay()}function Z5e(e,t){return _n(Xw.count(Nd(e)-1,e),t,2)}function eFe(e,t){return _n(e.getUTCFullYear()%100,t,2)}function tFe(e,t){return e=xZ(e),_n(e.getUTCFullYear()%100,t,2)}function nFe(e,t){return _n(e.getUTCFullYear()%1e4,t,4)}function rFe(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Xp(e):Xp.ceil(e),_n(e.getUTCFullYear()%1e4,t,4)}function iFe(){return"+0000"}function vj(){return"%"}function bj(e){return+e}function Ej(e){return Math.floor(+e/1e3)}var _h,CZ,Xf,GD;sFe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function sFe(e){return _h=s5e(e),CZ=_h.format,Xf=_h.parse,GD=_h.utcFormat,_h.utcParse,_h}function oFe(e){return new Date(e)}function aFe(e){return e instanceof Date?+e:+new Date(+e)}function AZ(e,t,n,r,i,s,o,a,u,l){var c=EZ(),f=c.invert,d=c.domain,h=l(".%L"),p=l(":%S"),m=l("%I:%M"),y=l("%I %p"),g=l("%a %d"),_=l("%b %d"),b=l("%B"),T=l("%Y");function I(E){return(u(E)<E?h:a(E)<E?p:o(E)<E?m:s(E)<E?y:r(E)<E?i(E)<E?g:_:n(E)<E?b:T)(E)}return c.invert=function(E){return new Date(f(E))},c.domain=function(E){return arguments.length?d(Array.from(E,aFe)):d().map(oFe)},c.ticks=function(E){var S=d();return e(S[0],S[S.length-1],E??10)},c.tickFormat=function(E,S){return S==null?I:l(S)},c.nice=function(E){var S=d();return(!E||typeof E.range!="function")&&(E=t(S[0],S[S.length-1],E??10)),E?d(z4e(S,E)):c},c.copy=function(){return bZ(c,AZ(e,t,n,r,i,s,o,a,u,l))},c}function Iy(){return UD.apply(AZ(r5e,i5e,wl,YD,TI,D_,qD,HD,Gh,CZ).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function si(e){return function(){return e}}function OZ(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new h4e(t)}function PZ(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function RZ(e){this._context=e}RZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function NZ(e){return new RZ(e)}function kZ(e){return e[0]}function DZ(e){return e[1]}function Dg(e,t){var n=si(!0),r=null,i=NZ,s=null,o=OZ(a);e=typeof e=="function"?e:e===void 0?kZ:si(e),t=typeof t=="function"?t:t===void 0?DZ:si(t);function a(u){var l,c=(u=PZ(u)).length,f,d=!1,h;for(r==null&&(s=i(h=o())),l=0;l<=c;++l)!(l<c&&n(f=u[l],l,u))===d&&((d=!d)?s.lineStart():s.lineEnd()),d&&s.point(+e(f,l,u),+t(f,l,u));if(h)return s=null,h+""||null}return a.x=function(u){return arguments.length?(e=typeof u=="function"?u:si(+u),a):e},a.y=function(u){return arguments.length?(t=typeof u=="function"?u:si(+u),a):t},a.defined=function(u){return arguments.length?(n=typeof u=="function"?u:si(!!u),a):n},a.curve=function(u){return arguments.length?(i=u,r!=null&&(s=i(r)),a):i},a.context=function(u){return arguments.length?(u==null?r=s=null:s=i(r=u),a):r},a}function $Z(e,t,n){var r=null,i=si(!0),s=null,o=NZ,a=null,u=OZ(l);e=typeof e=="function"?e:e===void 0?kZ:si(+e),t=typeof t=="function"?t:si(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?DZ:si(+n);function l(f){var d,h,p,m=(f=PZ(f)).length,y,g=!1,_,b=new Array(m),T=new Array(m);for(s==null&&(a=o(_=u())),d=0;d<=m;++d){if(!(d<m&&i(y=f[d],d,f))===g)if(g=!g)h=d,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),p=d-1;p>=h;--p)a.point(b[p],T[p]);a.lineEnd(),a.areaEnd()}g&&(b[d]=+e(y,d,f),T[d]=+t(y,d,f),a.point(r?+r(y,d,f):b[d],n?+n(y,d,f):T[d]))}if(_)return a=null,_+""||null}function c(){return Dg().defined(i).curve(o).context(s)}return l.x=function(f){return arguments.length?(e=typeof f=="function"?f:si(+f),r=null,l):e},l.x0=function(f){return arguments.length?(e=typeof f=="function"?f:si(+f),l):e},l.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:si(+f),l):r},l.y=function(f){return arguments.length?(t=typeof f=="function"?f:si(+f),n=null,l):t},l.y0=function(f){return arguments.length?(t=typeof f=="function"?f:si(+f),l):t},l.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:si(+f),l):n},l.lineX0=l.lineY0=function(){return c().x(e).y(t)},l.lineY1=function(){return c().x(e).y(n)},l.lineX1=function(){return c().x(r).y(t)},l.defined=function(f){return arguments.length?(i=typeof f=="function"?f:si(!!f),l):i},l.curve=function(f){return arguments.length?(o=f,s!=null&&(a=o(s)),l):o},l.context=function(f){return arguments.length?(f==null?s=a=null:a=o(s=f),l):s},l}function wj(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function LZ(e){this._context=e}LZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:wj(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:wj(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Kh(e){return new LZ(e)}function J0(e,t,n){this.k=e,this.x=t,this.y=n}J0.prototype={constructor:J0,scale:function(e){return e===1?this:new J0(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new J0(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};J0.prototype;function uFe(){const e=new Map;return{listen(t,n){return e.has(t)||e.set(t,[]),e.get(t).push(n),()=>{e.set(t,(e.get(t)||[]).filter(r=>r!==n))}},fire(t,n){const r=e.get(t);r&&r.forEach(i=>i(n))}}}let s1;const lFe=new Uint8Array(16);function cFe(){if(!s1&&(s1=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!s1))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return s1(lFe)}const _i=[];for(let e=0;e<256;++e)_i.push((e+256).toString(16).slice(1));function fFe(e,t=0){return(_i[e[t+0]]+_i[e[t+1]]+_i[e[t+2]]+_i[e[t+3]]+"-"+_i[e[t+4]]+_i[e[t+5]]+"-"+_i[e[t+6]]+_i[e[t+7]]+"-"+_i[e[t+8]]+_i[e[t+9]]+"-"+_i[e[t+10]]+_i[e[t+11]]+_i[e[t+12]]+_i[e[t+13]]+_i[e[t+14]]+_i[e[t+15]]).toLowerCase()}const dFe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Tj={randomUUID:dFe};function Sj(e,t,n){if(Tj.randomUUID&&!t&&!e)return Tj.randomUUID();e=e||{};const r=e.random||(e.rng||cFe)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=r[i];return t}return fFe(r)}let fu=class{static get(){let t=Sj();for(;this.ids.has(t);)t=Sj();return this.ids.set(t,!0),t}};fu.ids=new Map;function du(e){return"parent"in e}function hFe(e){const{label:t=void 0,state:n,initialArtifact:r,initialMetadata:i}=e,s={annotation:[],bookmark:[]},o=Object.keys(i||{}).reduce((u,l)=>(u[l]=[],i&&i[l]&&u[l].push({type:l,id:fu.get(),val:i[l],createdOn:Date.now()}),u),s),a=r?[{id:fu.get(),createdOn:Date.now(),val:r}]:[];return{id:fu.get(),label:t||"Root",event:"Root",children:[],level:0,createdOn:Date.now(),meta:o,artifacts:a,state:{type:"checkpoint",val:n}}}function pFe({parent:e,state:t,label:n,sideEffects:r={do:[],undo:[]},initialMetadata:i,initialArtifact:s,event:o}){const a={annotation:[],bookmark:[]},u=Object.keys(i||{}).reduce((c,f)=>(c[f]=[],i&&i[f]&&c[f].push({type:f,id:fu.get(),val:i[f],createdOn:Date.now()}),c),a),l=s?[{id:fu.get(),createdOn:Date.now(),val:s}]:[];return{id:fu.get(),label:n,event:o,children:[],parent:e.id,createdOn:Date.now(),meta:u,artifacts:l,sideEffects:r,state:t,level:e.level+1}}function Tr(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if({}.NODE_ENV!=="production"){var i=TFe[e],s=i?typeof i=="function"?i.apply(null,n):i:"unknown error nr: "+e;throw Error("[Immer] "+s)}throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(o){return"'"+o+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function kd(e){return!!e&&!!e[fo]}function Qc(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===SFe}(e)||Array.isArray(e)||!!e[$g]||!!(!((t=e.constructor)===null||t===void 0)&&t[$g])||SI(e)||II(e))}function Jp(e,t,n){n===void 0&&(n=!1),Xc(e)===0?(n?Object.keys:e$)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function Xc(e){var t=e[fo];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:SI(e)?2:II(e)?3:0}function xy(e,t){return Xc(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function eb(e,t){return Xc(e)===2?e.get(t):e[t]}function MZ(e,t,n){var r=Xc(e);r===2?e.set(t,n):r===3?(e.delete(t),e.add(n)):e[t]=n}function mFe(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function SI(e){return EFe&&e instanceof Map}function II(e){return wFe&&e instanceof Set}function Df(e){return e.o||e.t}function KD(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=IFe(e);delete t[fo];for(var n=e$(t),r=0;r<n.length;r++){var i=n[r],s=t[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function QD(e,t){return t===void 0&&(t=!1),XD(e)||kd(e)||!Qc(e)||(Xc(e)>1&&(e.set=e.add=e.clear=e.delete=gFe),Object.freeze(e),t&&Jp(e,function(n,r){return QD(r,!0)},!0)),e}function gFe(){Tr(2)}function XD(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function hu(e){var t=b2[e];return t||Tr(18,e),t}function yFe(e,t){b2[e]||(b2[e]=t)}function Ij(){return{}.NODE_ENV==="production"||Zp||Tr(0),Zp}function EA(e,t){t&&(hu("Patches"),e.u=[],e.s=[],e.v=t)}function Jw(e){y2(e),e.p.forEach(_Fe),e.p=null}function y2(e){e===Zp&&(Zp=e.l)}function xj(e){return Zp={p:[],l:Zp,h:e,m:!0,_:0}}function _Fe(e){var t=e[fo];t.i===0||t.i===1?t.j():t.O=!0}function wA(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.g||hu("ES5").S(t,e,r),r?(n[fo].P&&(Jw(t),Tr(4)),Qc(e)&&(e=Zw(t,e),t.l||eT(t,e)),t.u&&hu("Patches").M(n[fo].t,e,t.u,t.s)):e=Zw(t,n,[]),Jw(t),t.u&&t.v(t.u,t.s),e!==ZD?e:void 0}function Zw(e,t,n){if(XD(t))return t;var r=t[fo];if(!r)return Jp(t,function(s,o){return Cj(e,r,t,s,o,n)},!0),t;if(r.A!==e)return t;if(!r.P)return eT(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=KD(r.k):r.o;Jp(r.i===3?new Set(i):i,function(s,o){return Cj(e,r,i,s,o,n)}),eT(e,i,!1),n&&e.u&&hu("Patches").R(r,n,e.u,e.s)}return r.o}function Cj(e,t,n,r,i,s){if({}.NODE_ENV!=="production"&&i===n&&Tr(5),kd(i)){var o=Zw(e,i,s&&t&&t.i!==3&&!xy(t.D,r)?s.concat(r):void 0);if(MZ(n,r,o),!kd(o))return;e.m=!1}if(Qc(i)&&!XD(i)){if(!e.h.F&&e._<1)return;Zw(e,i),t&&t.A.l||eT(e,i)}}function eT(e,t,n){n===void 0&&(n=!1),e.h.F&&e.m&&QD(t,n)}function TA(e,t){var n=e[fo];return(n?Df(n):e)[t]}function Aj(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function _2(e){e.P||(e.P=!0,e.l&&_2(e.l))}function SA(e){e.o||(e.o=KD(e.t))}function v2(e,t,n){var r=SI(t)?hu("MapSet").N(t,n):II(t)?hu("MapSet").T(t,n):e.g?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:Ij(),P:!1,I:!1,D:{},l:s,t:i,k:null,o:null,j:null,C:!1},u=a,l=E2;o&&(u=[a],l=Z0);var c=Proxy.revocable(u,l),f=c.revoke,d=c.proxy;return a.k=d,a.j=f,d}(t,n):hu("ES5").J(t,n);return(n?n.A:Ij()).p.push(r),r}function vFe(e){return kd(e)||Tr(22,e),function t(n){if(!Qc(n))return n;var r,i=n[fo],s=Xc(n);if(i){if(!i.P&&(i.i<4||!hu("ES5").K(i)))return i.t;i.I=!0,r=Oj(n,s),i.I=!1}else r=Oj(n,s);return Jp(r,function(o,a){i&&eb(i.t,o)===a||MZ(r,o,t(a))}),s===3?new Set(r):r}(e)}function Oj(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return KD(e)}function bFe(){function e(r){if(!Qc(r))return r;if(Array.isArray(r))return r.map(e);if(SI(r))return new Map(Array.from(r.entries()).map(function(o){return[o[0],e(o[1])]}));if(II(r))return new Set(Array.from(r).map(e));var i=Object.create(Object.getPrototypeOf(r));for(var s in r)i[s]=e(r[s]);return xy(r,$g)&&(i[$g]=r[$g]),i}function t(r){return kd(r)?e(r):r}var n="add";yFe("Patches",{$:function(r,i){return i.forEach(function(s){for(var o=s.path,a=s.op,u=r,l=0;l<o.length-1;l++){var c=Xc(u),f=""+o[l];c!==0&&c!==1||f!=="__proto__"&&f!=="constructor"||Tr(24),typeof u=="function"&&f==="prototype"&&Tr(24),typeof(u=eb(u,f))!="object"&&Tr(15,o.join("/"))}var d=Xc(u),h=e(s.value),p=o[o.length-1];switch(a){case"replace":switch(d){case 2:return u.set(p,h);case 3:Tr(16);default:return u[p]=h}case n:switch(d){case 1:return p==="-"?u.push(h):u.splice(p,0,h);case 2:return u.set(p,h);case 3:return u.add(h);default:return u[p]=h}case"remove":switch(d){case 1:return u.splice(p,1);case 2:return u.delete(p);case 3:return u.delete(s.value);default:return delete u[p]}default:Tr(17,a)}}),r},R:function(r,i,s,o){switch(r.i){case 0:case 4:case 2:return function(a,u,l,c){var f=a.t,d=a.o;Jp(a.D,function(h,p){var m=eb(f,h),y=eb(d,h),g=p?xy(f,h)?"replace":n:"remove";if(m!==y||g!=="replace"){var _=u.concat(h);l.push(g==="remove"?{op:g,path:_}:{op:g,path:_,value:y}),c.push(g===n?{op:"remove",path:_}:g==="remove"?{op:n,path:_,value:t(m)}:{op:"replace",path:_,value:t(m)})}})}(r,i,s,o);case 5:case 1:return function(a,u,l,c){var f=a.t,d=a.D,h=a.o;if(h.length<f.length){var p=[h,f];f=p[0],h=p[1];var m=[c,l];l=m[0],c=m[1]}for(var y=0;y<f.length;y++)if(d[y]&&h[y]!==f[y]){var g=u.concat([y]);l.push({op:"replace",path:g,value:t(h[y])}),c.push({op:"replace",path:g,value:t(f[y])})}for(var _=f.length;_<h.length;_++){var b=u.concat([_]);l.push({op:n,path:b,value:t(h[_])})}f.length<h.length&&c.push({op:"replace",path:u.concat(["length"]),value:f.length})}(r,i,s,o);case 3:return function(a,u,l,c){var f=a.t,d=a.o,h=0;f.forEach(function(p){if(!d.has(p)){var m=u.concat([h]);l.push({op:"remove",path:m,value:p}),c.unshift({op:n,path:m,value:p})}h++}),h=0,d.forEach(function(p){if(!f.has(p)){var m=u.concat([h]);l.push({op:n,path:m,value:p}),c.unshift({op:"remove",path:m,value:p})}h++})}(r,i,s,o)}},M:function(r,i,s,o){s.push({op:"replace",path:[],value:i===ZD?void 0:i}),o.push({op:"replace",path:[],value:r})}})}var Pj,Zp,JD=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",EFe=typeof Map<"u",wFe=typeof Set<"u",Rj=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",ZD=JD?Symbol.for("immer-nothing"):((Pj={})["immer-nothing"]=!0,Pj),$g=JD?Symbol.for("immer-draftable"):"__$immer_draftable",fo=JD?Symbol.for("immer-state"):"__$immer_state",TFe={0:"Illegal state",1:"Immer drafts cannot have computed properties",2:"This object has been frozen and should not be mutated",3:function(e){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+e},4:"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.",5:"Immer forbids circular references",6:"The first or second argument to `produce` must be a function",7:"The third argument to `produce` must be a function or undefined",8:"First argument to `createDraft` must be a plain object, an array, or an immerable object",9:"First argument to `finishDraft` must be a draft returned by `createDraft`",10:"The given draft is already finalized",11:"Object.defineProperty() cannot be used on an Immer draft",12:"Object.setPrototypeOf() cannot be used on an Immer draft",13:"Immer only supports deleting array indices",14:"Immer only supports setting array indices and the 'length' property",15:function(e){return"Cannot apply patch, path doesn't resolve: "+e},16:'Sets cannot have "replace" patches.',17:function(e){return"Unsupported patch operation: "+e},18:function(e){return"The plugin for '"+e+"' has not been loaded into Immer. To enable the plugin, import and call `enable"+e+"()` when initializing your application."},20:"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available",21:function(e){return"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '"+e+"'"},22:function(e){return"'current' expects a draft, got: "+e},23:function(e){return"'original' expects a draft, got: "+e},24:"Patching reserved attributes like __proto__, prototype and constructor is not allowed"},SFe=""+Object.prototype.constructor,e$=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,IFe=Object.getOwnPropertyDescriptors||function(e){var t={};return e$(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},b2={},E2={get:function(e,t){if(t===fo)return e;var n=Df(e);if(!xy(n,t))return function(i,s,o){var a,u=Aj(s,o);return u?"value"in u?u.value:(a=u.get)===null||a===void 0?void 0:a.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!Qc(r)?r:r===TA(e.t,t)?(SA(e),e.o[t]=v2(e.A.h,r,e)):r},has:function(e,t){return t in Df(e)},ownKeys:function(e){return Reflect.ownKeys(Df(e))},set:function(e,t,n){var r=Aj(Df(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=TA(Df(e),t),s=i==null?void 0:i[fo];if(s&&s.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(mFe(n,i)&&(n!==void 0||xy(e.t,t)))return!0;SA(e),_2(e)}return e.o[t]===n&&typeof n!="number"&&(n!==void 0||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return TA(e.t,t)!==void 0||t in e.t?(e.D[t]=!1,SA(e),_2(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Df(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){Tr(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Tr(12)}},Z0={};Jp(E2,function(e,t){Z0[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Z0.deleteProperty=function(e,t){return{}.NODE_ENV!=="production"&&isNaN(parseInt(t))&&Tr(13),Z0.set.call(this,e,t,void 0)},Z0.set=function(e,t,n){return{}.NODE_ENV!=="production"&&t!=="length"&&isNaN(parseInt(t))&&Tr(14),E2.set.call(this,e[0],t,n,e[0])};var xFe=function(){function e(n){var r=this;this.g=Rj,this.F=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var u=r;return function(m){var y=this;m===void 0&&(m=a);for(var g=arguments.length,_=Array(g>1?g-1:0),b=1;b<g;b++)_[b-1]=arguments[b];return u.produce(m,function(T){var I;return(I=s).call.apply(I,[y,T].concat(_))})}}var l;if(typeof s!="function"&&Tr(6),o!==void 0&&typeof o!="function"&&Tr(7),Qc(i)){var c=xj(r),f=v2(r,i,void 0),d=!0;try{l=s(f),d=!1}finally{d?Jw(c):y2(c)}return typeof Promise<"u"&&l instanceof Promise?l.then(function(m){return EA(c,o),wA(m,c)},function(m){throw Jw(c),m}):(EA(c,o),wA(l,c))}if(!i||typeof i!="object"){if((l=s(i))===void 0&&(l=i),l===ZD&&(l=void 0),r.F&&QD(l,!0),o){var h=[],p=[];hu("Patches").M(i,l,h,p),o(h,p)}return l}Tr(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(l){for(var c=arguments.length,f=Array(c>1?c-1:0),d=1;d<c;d++)f[d-1]=arguments[d];return r.produceWithPatches(l,function(h){return i.apply(void 0,[h].concat(f))})};var o,a,u=r.produce(i,s,function(l,c){o=l,a=c});return typeof Promise<"u"&&u instanceof Promise?u.then(function(l){return[l,o,a]}):[u,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){Qc(n)||Tr(8),kd(n)&&(n=vFe(n));var r=xj(this),i=v2(this,n,void 0);return i[fo].C=!0,y2(r),i},t.finishDraft=function(n,r){var i=n&&n[fo];({}).NODE_ENV!=="production"&&(i&&i.C||Tr(9),i.I&&Tr(10));var s=i.A;return EA(s,r),wA(void 0,s)},t.setAutoFreeze=function(n){this.F=n},t.setUseProxies=function(n){n&&!Rj&&Tr(20),this.g=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=hu("Patches").$;return kd(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},e}(),ho=new xFe,CFe=ho.produce;ho.produceWithPatches.bind(ho);ho.setAutoFreeze.bind(ho);ho.setUseProxies.bind(ho);ho.applyPatches.bind(ho);ho.createDraft.bind(ho);ho.finishDraft.bind(ho);function AFe(e,t={}){const{artifact:n=void 0,metadata:r=void 0,rootLabel:i="Root"}=t,s=hFe({state:e,label:i,initialArtifact:n,initialMetadata:r}),o={nodes:{[s.id]:s},root:s.id,current:s.id};return hX({name:"provenance-graph",initialState:o,reducers:{addMetadata(a,u){const{id:l,meta:c}=u.payload,f=a.nodes[l].meta,d=Object.keys(c).reduce((h,p)=>(h[p]||(h[p]=[]),h[p].push({type:p,id:fu.get(),val:c[p],createdOn:Date.now()}),h),f);a.nodes[u.payload.id].meta=d},addArtifact(a,u){a.nodes[u.payload.id].artifacts.push({id:fu.get(),createdOn:Date.now(),val:u.payload.artifact})},changeCurrent(a,u){a.current=u.payload},addNode(a,{payload:u}){a.nodes[u.id]=u,a.nodes[u.parent].children.push(u.id),a.current=u.id},load(a,{payload:u}){return u}}})}function OFe(e){const t=new Map,{reducer:n,actions:r,getInitialState:i}=AFe(e),s=G2e();s.startListening({matcher:_9(r.changeCurrent,r.addNode),effect:(a,u)=>{u.cancelActiveListeners(),t.forEach(l=>{const c=_9(r.addNode)(a),{skipOnNew:f}=l.config;f&&c||l.func(c?"new":"traversal")})}});const o=fX({reducer:n,middleware:a=>a().prepend(s.middleware)});return{initialState:i(),get backend(){return o.getState()},get current(){return o.getState().nodes[o.getState().current]},get root(){return o.getState().nodes[o.getState().root]},currentChange(a,u){const l={id:fu.get(),func:a,config:u};return t.set(l.id,l),()=>t.delete(l.id)},update:o.dispatch,...r}}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var PFe=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),RFe=Object.prototype.hasOwnProperty;function w2(e,t){return RFe.call(e,t)}function T2(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var i in e)w2(e,i)&&r.push(i);return r}function Rs(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function S2(e){for(var t=0,n=e.length,r;t<n;){if(r=e.charCodeAt(t),r>=48&&r<=57){t++;continue}return!1}return!0}function $f(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function FZ(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function I2(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(I2(e[t]))return!0}else if(typeof e=="object"){for(var r=T2(e),i=r.length,s=0;s<i;s++)if(I2(e[r[s]]))return!0}}return!1}function Nj(e,t){var n=[e];for(var r in t){var i=typeof t[r]=="object"?JSON.stringify(t[r],null,2):t[r];typeof i<"u"&&n.push(r+": "+i)}return n.join(`
`)}var BZ=function(e){PFe(t,e);function t(n,r,i,s,o){var a=this.constructor,u=e.call(this,Nj(n,{name:r,index:i,operation:s,tree:o}))||this;return u.name=r,u.index=i,u.operation=s,u.tree=o,Object.setPrototypeOf(u,a.prototype),u.message=Nj(n,{name:r,index:i,operation:s,tree:o}),u}return t}(Error),br=BZ,NFe=Rs,Qh={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=tT(n,this.path);r&&(r=Rs(r));var i=md(n,{op:"remove",path:this.from}).removed;return md(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=tT(n,this.from);return md(n,{op:"add",path:this.path,value:Rs(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:Cy(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},kFe={add:function(e,t,n){return S2(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var r=e.splice(t,1);return{newDocument:n,removed:r[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:Qh.move,copy:Qh.copy,test:Qh.test,_get:Qh._get};function tT(e,t){if(t=="")return e;var n={op:"_get",path:t};return md(e,n),n.value}function md(e,t,n,r,i,s){if(n===void 0&&(n=!1),r===void 0&&(r=!0),i===void 0&&(i=!0),s===void 0&&(s=0),n&&(typeof n=="function"?n(t,0,e,t.path):nT(t,0)),t.path===""){var o={newDocument:e};if(t.op==="add")return o.newDocument=t.value,o;if(t.op==="replace")return o.newDocument=t.value,o.removed=e,o;if(t.op==="move"||t.op==="copy")return o.newDocument=tT(e,t.from),t.op==="move"&&(o.removed=e),o;if(t.op==="test"){if(o.test=Cy(e,t.value),o.test===!1)throw new br("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o.newDocument=e,o}else{if(t.op==="remove")return o.removed=e,o.newDocument=null,o;if(t.op==="_get")return t.value=e,o;if(n)throw new br("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",s,t,e);return o}}else{r||(e=Rs(e));var a=t.path||"",u=a.split("/"),l=e,c=1,f=u.length,d=void 0,h=void 0,p=void 0;for(typeof n=="function"?p=n:p=nT;;){if(h=u[c],h&&h.indexOf("~")!=-1&&(h=FZ(h)),i&&(h=="__proto__"||h=="prototype"&&c>0&&u[c-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&d===void 0&&(l[h]===void 0?d=u.slice(0,c).join("/"):c==f-1&&(d=t.path),d!==void 0&&p(t,0,e,d)),c++,Array.isArray(l)){if(h==="-")h=l.length;else{if(n&&!S2(h))throw new br("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",s,t,e);S2(h)&&(h=~~h)}if(c>=f){if(n&&t.op==="add"&&h>l.length)throw new br("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",s,t,e);var o=kFe[t.op].call(t,l,h,e);if(o.test===!1)throw new br("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o}}else if(c>=f){var o=Qh[t.op].call(t,l,h,e);if(o.test===!1)throw new br("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o}if(l=l[h],n&&c<f&&(!l||typeof l!="object"))throw new br("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",s,t,e)}}}function xI(e,t,n,r,i){if(r===void 0&&(r=!0),i===void 0&&(i=!0),n&&!Array.isArray(t))throw new br("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=Rs(e));for(var s=new Array(t.length),o=0,a=t.length;o<a;o++)s[o]=md(e,t[o],n,!0,i,o),e=s[o].newDocument;return s.newDocument=e,s}function DFe(e,t,n){var r=md(e,t);if(r.test===!1)throw new br("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function nT(e,t,n,r){if(typeof e!="object"||e===null||Array.isArray(e))throw new br("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(Qh[e.op]){if(typeof e.path!="string")throw new br("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new br('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new br("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new br("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&I2(e.value))throw new br("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var i=e.path.split("/").length,s=r.split("/").length;if(i!==s+1&&i!==s)throw new br("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==r)throw new br("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var o={op:"_get",path:e.from,value:void 0},a=jZ([o],n);if(a&&a.name==="OPERATION_PATH_UNRESOLVABLE")throw new br("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new br("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function jZ(e,t,n){try{if(!Array.isArray(e))throw new br("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)xI(Rs(t),Rs(e),n||!0);else{n=n||nT;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(i){if(i instanceof br)return i;throw i}}function Cy(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),r=Array.isArray(t),i,s,o;if(n&&r){if(s=e.length,s!=t.length)return!1;for(i=s;i--!==0;)if(!Cy(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var a=Object.keys(e);if(s=a.length,s!==Object.keys(t).length)return!1;for(i=s;i--!==0;)if(!t.hasOwnProperty(a[i]))return!1;for(i=s;i--!==0;)if(o=a[i],!Cy(e[o],t[o]))return!1;return!0}return e!==e&&t!==t}const $Fe=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:br,_areEquals:Cy,applyOperation:md,applyPatch:xI,applyReducer:DFe,deepClone:NFe,getValueByPointer:tT,validate:jZ,validator:nT},Symbol.toStringTag,{value:"Module"}));/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var t$=new WeakMap,LFe=function(){function e(t){this.observers=new Map,this.obj=t}return e}(),MFe=function(){function e(t,n){this.callback=t,this.observer=n}return e}();function FFe(e){return t$.get(e)}function BFe(e,t){return e.observers.get(t)}function jFe(e,t){e.observers.delete(t.callback)}function UFe(e,t){t.unobserve()}function VFe(e,t){var n=[],r,i=FFe(e);if(!i)i=new LFe(e),t$.set(e,i);else{var s=BFe(i,t);r=s&&s.observer}if(r)return r;if(r={},i.value=Rs(e),t){r.callback=t,r.next=null;var o=function(){x2(r)},a=function(){clearTimeout(r.next),r.next=setTimeout(o)};typeof window<"u"&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return r.patches=n,r.object=e,r.unobserve=function(){x2(r),clearTimeout(r.next),jFe(i,r),typeof window<"u"&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},i.observers.set(t,new MFe(t,r)),r}function x2(e,t){t===void 0&&(t=!1);var n=t$.get(e.object);n$(n.value,e.object,e.patches,"",t),e.patches.length&&xI(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function n$(e,t,n,r,i){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var s=T2(t),o=T2(e),a=!1,u=o.length-1;u>=0;u--){var l=o[u],c=e[l];if(w2(t,l)&&!(t[l]===void 0&&c!==void 0&&Array.isArray(t)===!1)){var f=t[l];typeof c=="object"&&c!=null&&typeof f=="object"&&f!=null&&Array.isArray(c)===Array.isArray(f)?n$(c,f,n,r+"/"+$f(l),i):c!==f&&(i&&n.push({op:"test",path:r+"/"+$f(l),value:Rs(c)}),n.push({op:"replace",path:r+"/"+$f(l),value:Rs(f)}))}else Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+$f(l),value:Rs(c)}),n.push({op:"remove",path:r+"/"+$f(l)}),a=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}))}if(!(!a&&s.length==o.length))for(var u=0;u<s.length;u++){var l=s[u];!w2(e,l)&&t[l]!==void 0&&n.push({op:"add",path:r+"/"+$f(l),value:Rs(t[l])})}}}function UZ(e,t,n){n===void 0&&(n=!1);var r=[];return n$(e,t,r,"",n),r}const zFe=Object.freeze(Object.defineProperty({__proto__:null,compare:UZ,generate:x2,observe:VFe,unobserve:UFe},Symbol.toStringTag,{value:"Module"}));Object.assign({},$Fe,zFe,{JsonPatchError:BZ,deepClone:Rs,escapePathComponent:$f,unescapePathComponent:FZ});var eg=(e=>(e.TRAVERSAL_START="Traversal_Start",e.TRAVERSAL_END="Traversal_End",e))(eg||{});function tb(e,t){const n=e.state;if(n.type==="checkpoint")return n.val;const{checkpointRef:r}=n,i=t[r],s=VZ(i,e,t);s.shift();const o=s.map(u=>t[u]).map(u=>u.state.val).reduce((u,l)=>[...u,...l],[]),a=tb(i,t);return xI(a,Rs(o),!0,!1).newDocument}function HFe(e,t){const n=Object.keys(e).length;return new Set(t.map(r=>r.path.split("/")[0])).size<n/2?"patch":"checkpoint"}function qFe({registry:e,initialState:t}){let n=!1;const r=uFe(),i=OFe(t);function s(c){return i.backend.nodes[c]}r.listen(eg.TRAVERSAL_START,()=>{n=!0}),r.listen(eg.TRAVERSAL_END,()=>{n=!1});const o={add(c,f=i.current.id){i.update(i.addMetadata({id:f,meta:c}))},latestOfType(c,f=i.current.id){var d;return(d=i.backend.nodes[f].meta[c])==null?void 0:d.at(-1)},allOfType(c,f=i.current.id){return i.backend.nodes[f].meta[c]},latest(c=i.current.id){const f=i.backend.nodes[c].meta,d=Object.keys(f).reduce((h,p)=>{const m=f[p].at(-1);return m&&(h[p]=m),h},{});return Object.keys(d).length>0?d:void 0},all(c=i.current.id){return i.backend.nodes[c].meta},types(c=i.current.id){return Object.keys(i.backend.nodes[c].meta)}},a={add(c,f=i.current.id){i.update(i.addArtifact({id:f,artifact:c}))},latest(c=i.current.id){return i.backend.nodes[c].artifacts.at(-1)},all(c=i.current.id){return i.backend.nodes[c].artifacts}},u={add(c,f=i.current.id){o.add({annotation:c},f)},latest(c=i.current.id){var f;return(f=o.latestOfType("annotation",c))==null?void 0:f.val},all(c=i.current.id){var f;return(f=o.allOfType("annotation",c))==null?void 0:f.map(d=>d.val)}},l={add(c=i.current.id){o.add({bookmark:!0},c)},remove(c=i.current.id){o.add({bookmark:!1},c)},is(c=i.current.id){var f;return!!((f=o.latestOfType("bookmark",c))!=null&&f.val)},toggle(c=i.current.id){l.is(c)?l.remove(c):l.add(c)}};return{registry:e,get isTraversing(){return n},getState(c=i.current){return tb(c,i.backend.nodes)},graph:i,get current(){return i.current},get root(){return i.root},record({label:c,state:f,sideEffects:d,eventType:h,onlySideEffects:p=!1}){let m=null,y=null;const g=tb(this.current,this.graph.backend.nodes);if(p)y={type:"checkpoint",val:f};else{const _=UZ(g,f);if(HFe(f,_)==="checkpoint")y={type:"checkpoint",val:f};else{const b=this.current.state.type==="checkpoint"?this.current.id:this.current.state.checkpointRef;y={type:"patch",val:_,checkpointRef:b}}}if(!y)throw new Error(`Could not calculate new state. Previous state is: ${JSON.stringify(this.current.state,null,2)}`);if(m=pFe({label:c,state:y,parent:this.current,sideEffects:d,event:h}),!m)throw new Error("State Node creation failed!");i.update(i.addNode(m))},async apply(c,f){const d=e.get(f.type),h=tb(this.current,this.graph.backend.nodes);if(d.config.hasSideEffects){const{do:p=f,undo:m}=d.func(f.payload);this.record({label:c,state:h,sideEffects:{do:[p],undo:[m]},eventType:d.config.eventType})}else{const p=d.func(h,f.payload);this.record({label:c,state:p,sideEffects:{do:[],undo:[]},eventType:d.config.eventType})}},async to(c){r.fire(eg.TRAVERSAL_START);const f=VZ(i.current,i.backend.nodes[c],i.backend.nodes),d=[];for(let h=0;h<f.length-1;++h){const p=s(f[h]),m=s(f[h+1]);YFe(p,m)?du(p)&&d.push(...p.sideEffects.undo):du(m)&&d.push(...m.sideEffects.do)}for(const h of d){const p=e.get(h.type).func;await p(h.payload)}i.update(i.changeCurrent(c)),r.fire(eg.TRAVERSAL_END)},undo(){const{current:c}=i;return du(c)?this.to(c.parent):Promise.resolve(console.warn("Already at root!"))},redo(c="latest"){const{current:f}=i;return f.children.length>0?this.to(f.children[c==="oldest"?0:f.children.length-1]):Promise.resolve(console.warn("Already at latest in this branch!"))},currentChange(c,f=!1){return i.currentChange(c,{skipOnNew:f})},done(){console.log("Setup later for URL sharing.")},tree(){return zZ(i.root,i.backend.nodes)},on(c,f){r.listen(c,f)},export(){return JSON.stringify(i.backend)},exportObject(){return JSON.parse(JSON.stringify(i.backend))},import(c){const f=JSON.parse(c),d=f.current;f.current=f.root,i.update(i.load(f)),this.to(d)},importObject(c){const f=c.current;c.current=c.root,i.update(i.load(c)),this.to(f)},metadata:o,artifact:a,annotations:u,bookmarks:l}}function WFe(e,t,n){let[r,i]=[e,t];r.level>i.level&&([r,i]=[i,r]);let s=i.level-r.level;for(;du(i)&&s!==0;)i=n[i.parent],s-=1;if(r.id===i.id)return r.id;for(;r.id!==i.id;)du(r)&&(r=n[r.parent]),du(i)&&(i=n[i.parent]);return r.id}function VZ(e,t,n){const r=WFe(e,t,n),i=n[r],s=[],o=[];let[a,u]=[e,t];for(;a.id!==i.id;)s.push(a),du(a)&&(a=n[a.parent]);for(s.push(a);u.id!==i.id;)o.push(u),du(u)&&(u=n[u.parent]);const l=o.reverse();return[...s,...l].map(c=>c.id)}function YFe(e,t){if(du(e)&&e.parent===t.id)return!0;if(du(t)&&t.parent===e.id)return!1;throw new Error("Incorrect use of function. Nodes are not connected to each other.")}function zZ(e,t){return{...e,children:e.children.map(n=>zZ(t[n],t)),name:`${e.label}`}}bFe();function GFe(e){return e.length===2?CFe(e):e}class r${static create(){return new r$}constructor(){this.registry=new Map}has(t){return this.registry.has(t)}register(t,n,r){const i=n.length===2;if(n.length>2)throw new Error("Incorrect action function signature. Action function can only have two arguments at most!");if(this.has(t))throw new Error(`Already registered: ${t}`);const{label:s=t,eventType:o=t}=r||{};return this.registry.set(t,{func:GFe(n),config:{hasSideEffects:!i,label:typeof s=="string"?()=>s:s,eventType:o}}),lu(t)}get(t){const n=this.registry.get(t);if(!n)throw new Error(`Not registered: ${t}`);return n}}var KFe="Expected a function",kj=NaN,QFe="[object Symbol]",XFe=/^\s+|\s+$/g,JFe=/^[-+]0x[0-9a-f]+$/i,ZFe=/^0b[01]+$/i,e8e=/^0o[0-7]+$/i,t8e=parseInt,n8e=typeof to=="object"&&to&&to.Object===Object&&to,r8e=typeof self=="object"&&self&&self.Object===Object&&self,i8e=n8e||r8e||Function("return this")(),s8e=Object.prototype,o8e=s8e.toString,a8e=Math.max,u8e=Math.min,IA=function(){return i8e.Date.now()};function l8e(e,t,n){var r,i,s,o,a,u,l=0,c=!1,f=!1,d=!0;if(typeof e!="function")throw new TypeError(KFe);t=Dj(t)||0,C2(n)&&(c=!!n.leading,f="maxWait"in n,s=f?a8e(Dj(n.maxWait)||0,t):s,d="trailing"in n?!!n.trailing:d);function h(E){var S=r,A=i;return r=i=void 0,l=E,o=e.apply(A,S),o}function p(E){return l=E,a=setTimeout(g,t),c?h(E):o}function m(E){var S=E-u,A=E-l,L=t-S;return f?u8e(L,s-A):L}function y(E){var S=E-u,A=E-l;return u===void 0||S>=t||S<0||f&&A>=s}function g(){var E=IA();if(y(E))return _(E);a=setTimeout(g,m(E))}function _(E){return a=void 0,d&&r?h(E):(r=i=void 0,o)}function b(){a!==void 0&&clearTimeout(a),l=0,r=u=i=a=void 0}function T(){return a===void 0?o:_(IA())}function I(){var E=IA(),S=y(E);if(r=arguments,i=this,u=E,S){if(a===void 0)return p(u);if(f)return a=setTimeout(g,t),h(u)}return a===void 0&&(a=setTimeout(g,t)),o}return I.cancel=b,I.flush=T,I}function C2(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function c8e(e){return!!e&&typeof e=="object"}function f8e(e){return typeof e=="symbol"||c8e(e)&&o8e.call(e)==QFe}function Dj(e){if(typeof e=="number")return e;if(f8e(e))return kj;if(C2(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=C2(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(XFe,"");var n=ZFe.test(e);return n||e8e.test(e)?t8e(e.slice(2),n?2:8):JFe.test(e)?kj:+e}var d8e=l8e;const Da=Ca(d8e);function HZ({xScale:e,yRange:t,vertPosition:n,ticks:r,isDate:i=!1,showLines:s=!0}){const o=w.useMemo(()=>r.length>1?Math.abs(r[1].offset-r[0].offset):e.range()[0]-e.range()[1],[r,e]),a=w.useCallback(u=>(i?GD("%b%e, %Y"):Fc(".2s"))(u),[i]);return $.jsxs($.Fragment,{children:[s?$.jsx("path",{transform:`translate(0, ${t[1]})`,d:["M",e.range()[0],0,"H",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}):null,r.map(({value:u,offset:l})=>$.jsxs("g",{transform:`translate(${l}, ${n})`,children:[$.jsx("line",{y2:"6",stroke:"currentColor"}),s?$.jsx("line",{y2:`${-(t[0]-t[1])}`,stroke:"lightgray"}):null,$.jsx("foreignObject",{x:0-o/2,y:10,width:o,height:20,children:$.jsx(Cd,{children:$.jsx(VK,{withinPortal:!0,label:u,children:$.jsx(It,{px:2,size:10,style:{textAlign:"center",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},children:+u==0?0:a(i?new Date(u):u)})})})})]},u))]})}const h8e=Object.freeze(Object.defineProperty({__proto__:null,XAxis:HZ},Symbol.toStringTag,{value:"Module"}));function qZ({dataset:e,yScale:t,xRange:n,horizontalPosition:r}){const i=w.useMemo(()=>t.ticks(6).map(o=>({value:o,yOffset:t(o)})),[t]),s=w.useMemo(()=>e==="clean_stocks"?Fc(",.0%"):t.domain()[1]<5?Fc(",.2r"):Fc(",.0f"),[e,t]);return $.jsx($.Fragment,{children:i.map(({value:o,yOffset:a})=>$.jsxs("g",{transform:`translate(${r}, ${a})`,children:[$.jsx("line",{x2:`${n[1]-n[0]}`,stroke:`${o===0?"black":"gainsboro"}`,strokeWidth:o===0?1:.4}),$.jsx("text",{style:{dominantBaseline:"middle",fontSize:"10px",textAnchor:"end",transform:"translateX(-6px)",fill:"black",font:"Roboto"},children:s(o)},o)]},o))})}const p8e=Object.freeze(Object.defineProperty({__proto__:null,YAxis:qZ},Symbol.toStringTag,{value:"Module"})),Ys={top:30,left:40,right:100,bottom:50};function A2({parameters:e,data:t,items:n,selection:r,range:i,guardrail:s}){const[o,a]=w.useState(null),u=U=>r!=null&&r.includes(U)?!o||o.length===0?!0:o.includes(U):!1,l=w.useMemo(()=>{const U=n.filter(V=>r==null?void 0:r.includes(V.name)).map(V=>V.group);return n.filter(V=>U==null?void 0:U.includes(V.group)).filter(V=>!(r!=null&&r.includes(V.name))).map(V=>V.name)},[r,n]),c=w.useMemo(()=>{const U=n.map(oe=>oe.group),Z=t.filter(oe=>U==null?void 0:U.includes(oe[e.group_var]));return[...DMe(Z,oe=>({mean:cA(oe,.5,ve=>ve[e.y_var]),upperq:cA(oe,.75,ve=>ve[e.y_var]),lowerq:cA(oe,.25,ve=>ve[e.y_var])}),oe=>oe[e.x_var])].flatMap(([oe,ve])=>({date:oe,mean:ve.mean,upperq:ve.upperq,lowerq:ve.lowerq}))},[t,n,e]),[f,{height:d,width:h}]=qN(),p=w.useMemo(()=>h-Ys.left-Ys.right,[h]),m=w.useMemo(()=>d-Ys.top-Ys.bottom,[d]),{xMin:y,yMin:g,xMax:_,yMax:b}=w.useMemo(()=>{let U=[];switch(s){case"super_data":U=r==null?void 0:r.concat(l);break;default:U=r;break}const Z=t.map(j=>+j[e.x_var]).filter(j=>j!==null),[V,le]=bp(Z),oe=t.filter(j=>U.includes(j[e.cat_var])).map(j=>+j[e.y_var]).filter(j=>j!==null),[ve,re]=e.dataset==="clean_stocks"?bp(oe):[0,bp(oe)[1]],[ue,te]=[zw(c.map(j=>j.lowerq)),Vw(c.map(j=>j.upperq))],x=s==="super_summ"?zw([ve,ue]):ve,C=s==="super_summ"?Vw([re,te]):re;return{xMin:V,xMax:le,yMin:x,yMax:C}},[t,r,i,s]),T=w.useMemo(()=>i?Iy([Ys.left,p+Ys.left]).domain(i):Iy([Ys.left,p+Ys.left]).domain([new Date(e.start_date),new Date(e.end_date)]),[p,_,y,i]),I=w.useMemo(()=>wI([m+Ys.top,Ys.top]).domain([g,b]).nice(),[m,b,g]),E=w.useMemo(()=>{const U=Array.from(new Set(t.map(Z=>Z[e.cat_var])));return VD($D).domain(U)},[t]),S=w.useMemo(()=>{if(!T||!I)return;const U=Dg();return U.x(V=>T(Xf("%Y-%m-%d")(V[e.x_var]))),U.y(V=>I(V[e.y_var])),U.curve(Kh),r==null?void 0:r.map(V=>({country:V,path:U(t.filter(le=>le[e.cat_var]===V))}))},[t,T,I,r,_,s]),A=w.useMemo(()=>{if(s!=="super_data")return null;const U=Dg();return U.x(V=>T(Xf("%Y-%m-%d")(V[e.x_var]))),U.y(V=>I(V[e.y_var])),U.curve(Kh),l==null?void 0:l.map(V=>({country:V,path:U(t.filter(le=>le[e.cat_var]===V))}))},[t,T,I,r,_,s]),L=w.useMemo(()=>{if(s!=="super_summ")return null;const U=Dg();U.x(oe=>T(Xf("%Y-%m-%d")(oe.date))),U.y(oe=>I(oe.mean)),U.curve(Kh);const Z=U(c),V=$Z();V.x(oe=>T(Xf("%Y-%m-%d")(oe.date))),V.y0(oe=>I(oe.lowerq)),V.y1(oe=>I(oe.upperq)),V.curve(Kh);const le=V(c);return{meanLine:Z,confidenceBands:le,data:c}},[t,T,I,r,_,s]),Y=w.useMemo(()=>e.dataset==="clean_stocks"?"Market Index":"Average",[e]),z=w.useMemo(()=>{let Z=null;switch(s){case"super_data":Z=r==null?void 0:r.concat(A==null?void 0:A.map(le=>le.country));break;case"super_summ":Z=r==null?void 0:r.concat([Y]);break;default:Z=r;break}const V=Z==null?void 0:Z.map(le=>({country:le,label_pos:le===Y?L==null?void 0:L.data.slice(-1).map(oe=>I(oe.mean))[0]:t.filter(oe=>oe[e.cat_var]===le).slice(-1).map(oe=>I(oe[e.y_var]))[0]})).sort((le,oe)=>le.label_pos<oe.label_pos?1:-1);if(!V)return V;for(let le=0;le<(V==null?void 0:V.length);le+=1){if(!V[le-1])continue;const oe=V[le-1].label_pos-V[le].label_pos;oe>=10||(V[le].label_pos=V[le].label_pos-10+oe)}return V},[t,r,I,s]);return(r==null?void 0:r.length)===0?$.jsx(Cd,{ref:f,style:{width:"800px",height:"400px"},children:$.jsx(It,{fs:"italic",c:"dimmed",children:"Select an item to view the chart."})}):$.jsxs("svg",{id:"baseLineChart",ref:f,style:{height:"400px",width:"800px",fontFamily:'"Helvetica Neue", "Helvetica", "Arial", sans-serif'},children:[$.jsxs("g",{id:"axes",children:[$.jsx(HZ,{isDate:!0,xScale:T,yRange:I.range(),vertPosition:m+Ys.top,showLines:!1,ticks:T.ticks(6).map(U=>({value:U.toString(),offset:T(U)}))}),$.jsx(qZ,{dataset:e.dataset,yScale:I,horizontalPosition:Ys.left,xRange:T.range()})]}),$.jsx("svg",{style:{width:`${p}`},children:A==null?void 0:A.map(U=>$.jsx("g",{children:$.jsx("path",{id:`${U.country}`,fill:"none",stroke:u(U.country)?E(U.country):"gray",strokeDasharray:"4,1",strokeWidth:.5,d:U.path},`${U.country}_key`)},`${U.country}_g`))},"control_lines"),$.jsx("svg",{style:{width:`${p}`},children:L?$.jsxs("g",{children:[$.jsx("path",{id:"confidenceBands",fill:"lightgray",opacity:.25,stroke:"none",d:L.confidenceBands},"confidenceBands_key"),$.jsx("path",{id:"meanLine",fill:"none",stroke:"gray",strokeDasharray:"4,1",strokeWidth:.5,d:L.meanLine},"meanLine_key")]},"summary_g"):null},"control_bands"),$.jsxs("svg",{style:{width:`${p}`},children:[S==null?void 0:S.map(U=>$.jsx("g",{children:$.jsx("path",{id:`${U.country}`,fill:"none",stroke:u(U.country)?E(U.country):"gainsboro",strokeWidth:o!=null&&o.includes(U.country)?2:1.5,d:U.path},`${U.country}_key`)},`${U.country}_g`)),z==null?void 0:z.map(U=>$.jsx("foreignObject",{x:p+Ys.left+5,y:U.label_pos-7,width:100,height:20,children:$.jsx(It,{px:2,size:10,color:u(U.country)?E(U.country):"silver",onMouseOver:Z=>{const V=Z.target;r!=null&&r.includes(V.innerText)&&a([V.innerText])},onMouseOut:()=>a([]),children:U.country.includes("Policy")?U.country.split("(Policy")[0]:U.country})},`${U.country}_label`))]},"lines")]})}const m8e=Object.freeze(Object.defineProperty({__proto__:null,LineChart:A2,default:A2},Symbol.toStringTag,{value:"Module"})),vh={top:0,left:0,right:0,bottom:0},$j=20,xA=60;function O2({parameters:e,data:t,items:n,selection:r,setSelection:i,trackSelection:s,range:o,guardrail:a}){const u=w.useMemo(()=>o?Iy([vh.left,xA+vh.left]).domain(o):Iy([vh.left,xA+vh.left]).domain([new Date(e.start_date),new Date(e.end_date)]),[e,o]),l=w.useMemo(()=>{const d=t.filter(m=>n==null?void 0:n.map(y=>y.name).includes(m[e.cat_var])).map(m=>+m[e.y_var]).filter(m=>m!==null),[h,p]=bp(d);return wI([$j+vh.top,vh.top]).domain([h,p]).nice()},[e,t,n]),c=w.useMemo(()=>{const d=Array.from(new Set(t.map(h=>h[e.cat_var])));return VD($D).domain(d)},[e,t]),f=w.useMemo(()=>{if(a!=="juxt_data")return null;const d=$Z();d.x(m=>u(Xf("%Y-%m-%d")(m[e.x_var]))),d.y0(()=>l(0)),d.y1(m=>l(m[e.y_var])),d.curve(Kh);const h=Dg();return h.x(m=>u(Xf("%Y-%m-%d")(m[e.x_var]))),h.y(m=>l(m[e.y_var])),h.curve(Kh),n==null?void 0:n.map(m=>({country:m.name,path:h(t.filter(y=>y[e.cat_var]===m.name)),area:d(t.filter(y=>y[e.cat_var]===m.name))}))},[e,a,t,n,u,l]);return $.jsx(zp.Group,{orientation:"vertical",onChange:d=>{i(d),s(d)},spacing:0,offset:"sm",children:n==null?void 0:n.map(d=>$.jsxs($.Fragment,{children:[d.name==="Eldoril North"?$.jsx(fd,{size:"xs",label:"Policy A",labelPosition:"left",color:"black"}):null,d.name==="Eldoril West"?$.jsx(fd,{size:"xs",label:"Policy B",labelPosition:"left",color:"black"}):null,d.name==="Silvoria North"?$.jsx(fd,{size:"xs",label:"Policy C",labelPosition:"left",color:"black"}):null,$.jsxs(Ju,{grow:!0,gutter:8,columns:2,children:[$.jsx(Ju.Col,{span:1,children:$.jsx(zp,{value:d.name,label:d.name.includes("Policy")?d.name.split("(Policy")[0]:d.name,styles:a==="juxt_data"?{root:{display:"flex",alignItems:"flex-end",padding:"2px 0"}}:{},children:d.name},`${d.name}_checkbox`)},`${d.name}_grid1`),$.jsx(Ju.Col,{span:a==="juxt_data"?"auto":3,children:$.jsxs("svg",{style:{width:`${xA}`,height:`${$j}`},children:[$.jsx("path",{id:`${d.name}_sparkarea`,fill:r!=null&&r.includes(d.name)?c(d.name):"gray",stroke:"none",opacity:.25,d:f==null?void 0:f.filter(h=>h.country===d.name)[0].area},`${d.name}_sparkarea`),$.jsx("path",{id:`${d.name}_spark`,fill:"none",stroke:r!=null&&r.includes(d.name)?c(d.name):"gray",strokeWidth:.75,d:f==null?void 0:f.filter(h=>h.country===d.name)[0].path},`${d.name}_spark`)]},`${d.name}_sparksvg`)},`${d.name}_grid2`)]},`${d.name}_grid`)]}))})}const g8e=Object.freeze(Object.defineProperty({__proto__:null,Sidebar:O2,default:O2},Symbol.toStringTag,{value:"Module"}));function P2({parameters:e,setRange:t,trackRange:n}){function r(s){return Iy([0,100]).domain([new Date(e.start_date),new Date(e.end_date)]).invert(s)}function i(s){const o=r(s);return GD("%b %e, %Y")(o)}return $.jsx(mQ,{defaultValue:[0,100],label:s=>i(s),labelAlwaysOn:!0,disabled:!e.allow_time_slider,onChange:([s,o])=>{t([r(s),r(o)]),n([r(s),r(o)])}})}const y8e=Object.freeze(Object.defineProperty({__proto__:null,RangeSelector:P2,default:P2},Symbol.toStringTag,{value:"Module"}));function R2({guardrail:e,setGuardrail:t}){return $.jsxs($.Fragment,{children:[$.jsx(It,{children:"Guardrail:"}),$.jsx(tQ,{value:e,onChange:t,data:[{value:"none",label:"none"},{value:"super_data",label:"super_data"},{value:"super_summ",label:"super_summ"},{value:"juxt_data",label:"juxt_data"},{value:"juxt_summ",label:"juxt_summ"}]})]})}const _8e=Object.freeze(Object.defineProperty({__proto__:null,Selector:R2,default:R2},Symbol.toStringTag,{value:"Module"})),gn=Array.isArray;function Bs(e){return e!=null?gn(e)?e:[e]:[]}function v8e(e=0,t=1/0){return`${Lj(e)} < row_number() && row_number() <= ${Lj(t)}`}function Lj(e){return e<0?`count() + ${e}`:e}class WZ{constructor(t){t&&(this._params=t)}params(t){return arguments.length?(t&&(this._params={...this._params,...t}),this):this._params}reify(t){return this.__reify(this,t)}count(t){return this.__count(this,t)}derive(t,n){return this.__derive(this,t,n)}filter(t){return this.__filter(this,t)}slice(t,n){return this.filter(v8e(t,n)).reify()}groupby(...t){return this.__groupby(this,t.flat())}orderby(...t){return this.__orderby(this,t.flat())}relocate(t,n){return this.__relocate(this,Bs(t),n)}rename(...t){return this.__rename(this,t.flat())}rollup(t){return this.__rollup(this,t)}sample(t,n){return this.__sample(this,t,n)}select(...t){return this.__select(this,t.flat())}ungroup(){return this.__ungroup(this)}unorder(){return this.__unorder(this)}dedupe(...t){return this.__dedupe(this,t.flat())}impute(t,n){return this.__impute(this,t,n)}fold(t,n){return this.__fold(this,t,n)}pivot(t,n,r){return this.__pivot(this,t,n,r)}spread(t,n){return this.__spread(this,t,n)}unroll(t,n){return this.__unroll(this,t,n)}lookup(t,n,...r){return this.__lookup(this,t,n,r.flat())}join(t,n,r,i){return this.__join(this,t,n,r,i)}join_left(t,n,r,i){const s={...i,left:!0,right:!1};return this.__join(this,t,n,r,s)}join_right(t,n,r,i){const s={...i,left:!1,right:!0};return this.__join(this,t,n,r,s)}join_full(t,n,r,i){const s={...i,left:!0,right:!0};return this.__join(this,t,n,r,s)}cross(t,n,r){return this.__cross(this,t,n,r)}semijoin(t,n){return this.__semijoin(this,t,n)}antijoin(t,n){return this.__antijoin(this,t,n)}concat(...t){return this.__concat(this,t.flat())}union(...t){return this.__union(this,t.flat())}intersect(...t){return this.__intersect(this,t.flat())}except(...t){return this.__except(this,t.flat())}}function Ft(e){throw Error(e)}function as(e){return typeof e=="number"}function Jn(e){return typeof e=="function"}function CI(e,t){const n=Array(e);if(Jn(t))for(let r=0;r<e;++r)n[r]=t(r);else n.fill(t);return n}let b8e=class extends WZ{constructor(t,n,r,i,s,o,a){super(a),this._names=Object.freeze(t),this._data=r,this._total=n,this._nrows=i?i.count():n,this._mask=n!==this._nrows&&i||null,this._group=s||null,this._order=o||null}create(t){Ft("Not implemented")}get[Symbol.toStringTag](){if(!this._names)return"Object";const t=this.numRows()+" row"+(this.numRows()!==1?"s":"");return`Table: ${this.numCols()+" col"+(this.numCols()!==1?"s":"")} x ${t}`+(this.isFiltered()?` (${this.totalRows()} backing)`:"")+(this.isGrouped()?`, ${this._group.size} groups`:"")+(this.isOrdered()?", ordered":"")}isFiltered(){return!!this._mask}isGrouped(){return!!this._group}isOrdered(){return!!this._order}data(){return this._data}mask(){return this._mask}groups(){return this._group}comparator(){return this._order}totalRows(){return this._total}numRows(){return this._nrows}get size(){return this._nrows}numCols(){return this._names.length}columnNames(t){return t?this._names.filter(t):this._names.slice()}columnName(t){return this._names[t]}columnIndex(t){return this._names.indexOf(t)}columnArray(t,n){return this.array(t,n)}array(t,n){Ft("Not implemented")}*values(t){const n=this.getter(t),r=this.numRows();for(let i=0;i<r;++i)yield n(i)}get(t,n=0){Ft("Not implemented")}getter(t){Ft("Not implemented")}objects(t){Ft("Not implemented")}object(t){Ft("Not implemented")}[Symbol.iterator](){Ft("Not implemented")}print(t={}){as(t)?t={limit:t}:t.limit==null&&(t.limit=10);const n=this.objects({...t,grouped:!1}),r=`${this[Symbol.toStringTag]}. Showing ${n.length} rows.`;return console.log(r),console.table(n),this}indices(t=!0){if(this._index)return this._index;const n=this.numRows(),r=new Uint32Array(n),i=this.isOrdered(),s=this.mask();let o=-1;if(s)for(let a=s.next(0);a>=0;a=s.next(a+1))r[++o]=a;else for(let a=0;a<n;++a)r[++o]=a;if(t&&i){const a=this._order,u=this._data;r.sort((l,c)=>a(l,c,u))}return(t||!i)&&(this._index=r),r}partitions(t=!0){if(this._partitions)return this._partitions;if(!this.isGrouped())return[this.indices(t)];const{keys:n,size:r}=this._group,i=CI(r,()=>[]),s=this._index,o=this.mask(),a=this.numRows();if(s&&this.isOrdered())for(let u=0,l;u<a;++u)l=s[u],i[n[l]].push(l);else if(o)for(let u=o.next(0);u>=0;u=o.next(u+1))i[n[u]].push(u);else for(let u=0;u<a;++u)i[n[u]].push(u);if(t&&!s&&this.isOrdered()){const u=this._order,l=this._data;for(let c=0;c<r;++c)i[c].sort((f,d)=>u(f,d,l))}return(t||!this.isOrdered())&&(this._partitions=i),i}scan(t,n,r=1/0,i=0){const s=this._mask,o=this._nrows,a=this._data;let u=i||0;if(u>o)return;const l=Math.min(o,u+r),c=()=>u=this._total;if(n&&this.isOrdered()||s&&this._index){const f=this.indices(),d=this._data;for(;u<l;++u)t(f[u],d,c)}else if(s){let f=l-u+1;for(u=s.nth(u);--f&&u>-1;u=s.next(u+1))t(u,a,c)}else for(;u<l;++u)t(u,a,c)}slice(t=0,n=1/0){if(this.isGrouped())return super.slice(t,n);const r=[],i=this.numRows();return t=Math.max(0,t+(t<0?i:0)),n=Math.min(i,Math.max(0,n+(n<0?i:0))),this.scan(s=>r.push(s),!0,n-t,t),this.reify(r)}reduce(t){return this.__reduce(this,t)}},E8e=class{constructor(t){this.data=t}get length(){return this.data.length}get(t){return this.data[t]}[Symbol.iterator](){return this.data[Symbol.iterator]()}},w8e=function(e){return e&&Jn(e.get)?e:new E8e(e)};function Tl(e){return e instanceof Date}function Ki(e){return e===Object(e)}function rT(e){return e instanceof RegExp}function Di(e){return typeof e=="string"}function T8e(e,t){const n=r=>Ft(`Illegal argument type: ${r||typeof e}`);return e instanceof Map?Mj(e.entries(),t):Tl(e)?n("Date"):rT(e)?n("RegExp"):Di(e)?n():gn(e)?S8e(e,t):Jn(e[Symbol.iterator])?I8e(e,t):Ki(e)?Mj(Object.entries(e),t):n()}function Mj(e,t=["key","value"]){const n=[],r=[];for(const[s,o]of e)n.push(s),r.push(o);const i={};return t[0]&&(i[t[0]]=n),t[1]&&(i[t[1]]=r),i}function S8e(e,t){const n=e.length,r={},i=s=>r[s]=Array(n);if(n){t=t||Object.keys(e[0]);const s=t.map(i),o=s.length;for(let a=0;a<n;++a){const u=e[a];for(let l=0;l<o;++l)s[l][a]=u[t[l]]}}else t&&t.forEach(i);return r}function I8e(e,t){const n={},r=o=>n[o]=[];let i,s;for(const o of e){i||(t=t||Object.keys(o),i=t.map(r),s=i.length);for(let a=0;a<s;++a)i[a].push(o[t[a]])}return!i&&t&&t.forEach(r),n}const{hasOwnProperty:x8e}=Object.prototype;function Sa(e,t){return x8e.call(e,t)}function bo(e){return e?new Fj({...e.data()},e.columnNames()):new Fj}class Fj{constructor(t,n){this.data=t||{},this.names=n||[]}add(t,n){return this.has(t)||this.names.push(t+""),this.data[t]=n}has(t){return Sa(this.data,t)}new(){return this.filter=null,this.groups=this.groups||null,this.order=null,this}groupby(t){return this.groups=t,this}}const fn=void 0,C8e=Object.getPrototypeOf(Int8Array);function $_(e){return e instanceof C8e}function Jf(e){return gn(e)||$_(e)}function ga(e){return e!=null&&e===e}const k0=e=>Jf(e)||Di(e),A8e={compact:e=>Jf(e)?e.filter(t=>ga(t)):e,concat:(...e)=>[].concat(...e),includes:(e,t,n)=>k0(e)?e.includes(t,n):!1,indexof:(e,t)=>k0(e)?e.indexOf(t):-1,join:(e,t)=>Jf(e)?e.join(t):fn,lastindexof:(e,t)=>k0(e)?e.lastIndexOf(t):-1,length:e=>k0(e)?e.length:0,pluck:(e,t)=>Jf(e)?e.map(n=>ga(n)?n[t]:fn):fn,reverse:e=>Jf(e)?e.slice().reverse():Di(e)?e.split("").reverse().join(""):fn,slice:(e,t,n)=>k0(e)?e.slice(t,n):fn};function O8e(e,t,n,r,i){return e==null?null:e<t?-1/0:e>n?1/0:(e=Math.max(t,Math.min(e,n)),t+r*Math.floor(1e-14+(e-t)/r+(i||0)))}function nb(e,t,n="0"){const r=e+"",i=r.length;return i<t?Array(t-i+1).join(n)+r:r}const Na=e=>(e<10?"0":"")+e,P8e=e=>e<0?"-"+nb(-e,6):e>9999?"+"+nb(e,6):nb(e,4);function YZ(e,t,n,r,i,s,o,a,u){const l=a?"Z":"";return P8e(e)+"-"+Na(t+1)+"-"+Na(n)+(!u||o?"T"+Na(r)+":"+Na(i)+":"+Na(s)+"."+nb(o,3)+l:s?"T"+Na(r)+":"+Na(i)+":"+Na(s)+l:i||r||!a?"T"+Na(r)+":"+Na(i)+l:"")}function GZ(e,t){return isNaN(e)?"Invalid Date":YZ(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds(),!1,t)}function AI(e,t){return isNaN(e)?"Invalid Date":YZ(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds(),!0,t)}const R8e=/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/;function N8e(e){return e.match(R8e)}function k8e(e,t=Date.parse){return N8e(e)?t(e):e}const KZ=6e4,QZ=864e5,XZ=6048e5,wr=new Date,Sr=new Date,Or=e=>(wr.setTime(typeof e=="string"?k8e(e):e),wr);function D8e(e,t,n,r,i,s,o){return arguments.length?new Date(e,t||0,n??1,r||0,i||0,s||0,o||0):new Date(Date.now())}function $8e(e,t,n,r,i,s,o){return arguments.length?new Date(Date.UTC(e,t||0,n??1,r||0,i||0,s||0,o||0)):new Date(Date.now())}function L8e(e){Sr.setTime(+e),Sr.setHours(0,0,0,0),wr.setTime(+Sr),wr.setMonth(0),wr.setDate(1);const t=(Sr.getTimezoneOffset()-wr.getTimezoneOffset())*KZ;return Math.floor(1+(Sr-wr-t)/QZ)}function M8e(e){Sr.setTime(+e),Sr.setUTCHours(0,0,0,0);const t=Date.UTC(Sr.getUTCFullYear(),0,1);return Math.floor(1+(Sr-t)/QZ)}function F8e(e,t){const n=t||0;Sr.setTime(+e),Sr.setDate(Sr.getDate()-(Sr.getDay()+7-n)%7),Sr.setHours(0,0,0,0),wr.setTime(+e),wr.setMonth(0),wr.setDate(1),wr.setDate(1-(wr.getDay()+7-n)%7),wr.setHours(0,0,0,0);const r=(Sr.getTimezoneOffset()-wr.getTimezoneOffset())*KZ;return Math.floor((1+(Sr-wr)-r)/XZ)}function B8e(e,t){const n=t||0;return Sr.setTime(+e),Sr.setUTCDate(Sr.getUTCDate()-(Sr.getUTCDay()+7-n)%7),Sr.setUTCHours(0,0,0,0),wr.setTime(+e),wr.setUTCMonth(0),wr.setUTCDate(1),wr.setUTCDate(1-(wr.getUTCDay()+7-n)%7),wr.setUTCHours(0,0,0,0),Math.floor((1+(Sr-wr))/XZ)}const j8e={format_date:(e,t)=>GZ(Or(e),!t),format_utcdate:(e,t)=>AI(Or(e),!t),timestamp:e=>+Or(e),year:e=>Or(e).getFullYear(),quarter:e=>Math.floor(Or(e).getMonth()/3),month:e=>Or(e).getMonth(),date:e=>Or(e).getDate(),dayofweek:e=>Or(e).getDay(),hours:e=>Or(e).getHours(),minutes:e=>Or(e).getMinutes(),seconds:e=>Or(e).getSeconds(),milliseconds:e=>Or(e).getMilliseconds(),utcyear:e=>Or(e).getUTCFullYear(),utcquarter:e=>Math.floor(Or(e).getUTCMonth()/3),utcmonth:e=>Or(e).getUTCMonth(),utcdate:e=>Or(e).getUTCDate(),utcdayofweek:e=>Or(e).getUTCDay(),utchours:e=>Or(e).getUTCHours(),utcminutes:e=>Or(e).getUTCMinutes(),utcseconds:e=>Or(e).getUTCSeconds(),utcmilliseconds:e=>Or(e).getUTCMilliseconds(),datetime:D8e,dayofyear:L8e,week:F8e,utcdatetime:$8e,utcdayofyear:M8e,utcweek:B8e,now:Date.now};function i$(e,t){return e==null||t==null||e!==e||t!==t?!1:e===t?!0:Tl(e)||Tl(t)?+e==+t:rT(e)&&rT(t)?e+""==t+"":Ki(e)&&Ki(t)?U8e(e,t):!1}function U8e(e,t){if(Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;if(e.length||t.length)return Bj(e,t);const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length||(n.sort(),r.sort(),!Bj(n,r,(s,o)=>s===o)))return!1;const i=n.length;for(let s=0;s<i;++s){const o=n[s];if(!i$(e[o],t[o]))return!1}return!0}function Bj(e,t,n=i$){const r=e.length;if(r!==t.length)return!1;for(let i=0;i<r;++i)if(!n(e[i],t[i]))return!1;return!0}const V8e={parse_json:e=>JSON.parse(e),to_json:e=>JSON.stringify(e)};let z8e=Math.random;function Fm(){return z8e()}const H8e={random:Fm,is_nan:Number.isNaN,is_finite:Number.isFinite,abs:Math.abs,cbrt:Math.cbrt,ceil:Math.ceil,clz32:Math.clz32,exp:Math.exp,expm1:Math.expm1,floor:Math.floor,fround:Math.fround,greatest:Math.max,least:Math.min,log:Math.log,log10:Math.log10,log1p:Math.log1p,log2:Math.log2,pow:Math.pow,round:Math.round,sign:Math.sign,sqrt:Math.sqrt,trunc:Math.trunc,degrees:e=>180*e/Math.PI,radians:e=>Math.PI*e/180,acos:Math.acos,acosh:Math.acosh,asin:Math.asin,asinh:Math.asinh,atan:Math.atan,atan2:Math.atan2,atanh:Math.atanh,cos:Math.cos,cosh:Math.cosh,sin:Math.sin,sinh:Math.sinh,tan:Math.tan,tanh:Math.tanh};function s$(e){return e instanceof Map}function q8e(e){return e instanceof Set}function rb(e){return s$(e)||q8e(e)}function CA(e){return Array.from(e)}const W8e={has:(e,t)=>rb(e)?e.has(t):e!=null?Sa(e,t):!1,keys:e=>s$(e)?CA(e.keys()):e!=null?Object.keys(e):[],values:e=>rb(e)?CA(e.values()):e!=null?Object.values(e):[],entries:e=>rb(e)?CA(e.entries()):e!=null?Object.entries(e):[],object:e=>e?Object.fromEntries(e):fn};function Y8e(e,t,n){if(t instanceof Map){if(t.has(e))return t.get(e)}else if(Sa(t,e))return t[e];return n!==void 0?n:e}function G8e(e,t,n){let r=arguments.length;e=+e,t=+t,n=r<2?(t=e,e=0,1):r<3?1:+n,r=Math.max(0,Math.ceil((t-e)/n))|0;const i=new Array(r);for(let s=0;s<r;++s)i[s]=e+s*n;return i}const K8e={parse_date:e=>e==null?e:new Date(e),parse_float:e=>e==null?e:Number.parseFloat(e),parse_int:(e,t)=>e==null?e:Number.parseInt(e,t),endswith:(e,t,n)=>e==null?!1:String(e).endsWith(t,n),match:(e,t,n)=>{const r=e==null?e:String(e).match(t);return n==null||r==null?r:typeof n=="number"?r[n]:r.groups?r.groups[n]:null},normalize:(e,t)=>e==null?e:String(e).normalize(t),padend:(e,t,n)=>e==null?e:String(e).padEnd(t,n),padstart:(e,t,n)=>e==null?e:String(e).padStart(t,n),upper:e=>e==null?e:String(e).toUpperCase(),lower:e=>e==null?e:String(e).toLowerCase(),repeat:(e,t)=>e==null?e:String(e).repeat(t),replace:(e,t,n)=>e==null?e:String(e).replace(t,String(n)),substring:(e,t,n)=>e==null?e:String(e).substring(t,n),split:(e,t,n)=>e==null?[]:String(e).split(t,n),startswith:(e,t,n)=>e==null?!1:String(e).startsWith(t,n),trim:e=>e==null?e:String(e).trim()},Xh={bin:O8e,equal:i$,recode:Y8e,sequence:G8e,...A8e,...j8e,...V8e,...H8e,...W8e,...K8e};function Ay(e){return typeof e=="bigint"}function bu(e){return e===void 0?e+"":Ay(e)?e+"n":JSON.stringify(e)}function $t(e,t=[],n=[]){return new Q8e(e,Bs(t),Bs(n))}let Q8e=class{constructor(t,n,r){this.name=t,this.fields=n,this.params=r}toString(){const t=[...this.fields.map(n=>`d[${bu(n)}]`),...this.params.map(bu)];return`d => op.${this.name}(${t})`}toObject(){return{expr:this.toString(),func:!0}}};const JZ=e=>$t("any",e),ZZ=()=>$t("count"),eee=e=>$t("array_agg",e),tee=e=>$t("array_agg_distinct",e),nee=(e,t)=>$t("map_agg",[e,t]),ree=(e,t)=>$t("object_agg",[e,t]),iee=(e,t)=>$t("entries_agg",[e,t]);({...Xh});function X8e(e,t){e=rb(e)?e:new Set(e);let n=t,r=0;for(;e.has(n);)n=t+ ++r;return n}function J8e(e,t){if(!e||!t)return e;const{keys:n,rows:r,size:i}=e,s=new Int32Array(i);t.scan(c=>s[n[c]]=1);const o=s.reduce((c,f)=>c+f,0);if(o===i)return e;const a=Array(o);let u=0;for(let c=0;c<i;++c)s[c]&&(a[s[c]=u++]=r[c]);const l=new Uint32Array(n.length);return t.scan(c=>l[c]=s[n[c]]),{...e,keys:l,rows:a,size:u}}function Z8e(e,t,n,r){const{keys:i,rows:s,size:o}=e;let a=s,u=o,l=null;if(n){l=new Int32Array(o),t(p=>l[i[p]]=1);const h=l.reduce((p,m)=>p+m,0);if(h!==o){a=Array(h),u=0;for(let p=0;p<o;++p)l[p]&&(a[l[p]=u++]=s[p])}}let c=-1;const f=new Uint32Array(r);return t(u!==o?h=>f[++c]=l[i[h]]:h=>f[++c]=i[h]),{...e,keys:f,rows:a,size:u}}function e9e(e,t,n,r){const i=r==="map"||r===!0?nee:r==="entries"?iee:r==="object"?ree:Ft('groups option must be "map", "entries", or "object".'),{names:s}=e.groups(),o=X8e(e.columnNames(),"_");let a=e.select().reify(t).create({data:{[o]:n}}).rollup({[o]:eee(o)});for(let u=s.length;--u>=0;)a=a.groupby(s.slice(0,u)).rollup({[o]:i(s[u],o)});return a.get(o)}const t9e="ArrayPattern",n9e="ArrowFunctionExpression",r9e="FunctionExpression",Bc="Identifier",Bm="Literal",see="MemberExpression",i9e="ObjectExpression",oee="ObjectPattern",aee="Property",L_="Column",s9e="Constant",o9e="Dictionary",a9e="Function",u9e="Parameter",uee="Op",zn=(e,t)=>{const n=l9e[e.type];return n?n(e,t):Ft(`Unsupported expression construct: ${e.type}`)},AA=(e,t)=>"("+zn(e.left,t)+" "+e.operator+" "+zn(e.right,t)+")",OA=(e,t)=>"("+Ba(e.params,t)+")=>"+zn(e.body,t),jj=(e,t)=>zn(e.callee,t)+"("+Ba(e.arguments,t)+")",Ba=(e,t,n=",")=>e.map(r=>zn(r,t)).join(n),lee=e=>e.computed?`[${bu(e.name)}]`:`.${e.name}`,Uj=(e,t,n)=>{const r=e.table||"";return`data${r}${lee(e)}.${n}(${t.index}${r})`},l9e={Constant:e=>e.raw,Column:(e,t)=>Uj(e,t,"get"),Dictionary:(e,t)=>Uj(e,t,"key"),Function:e=>`fn.${e.name}`,Parameter:e=>`$${lee(e)}`,Op:(e,t)=>`op(${bu(e.name)},${t.op||t.index})`,Literal:e=>e.raw,Identifier:e=>e.name,TemplateLiteral:(e,t)=>{const{quasis:n,expressions:r}=e,i=r.length;let s=n[0].value.raw;for(let o=0;o<i;)s+="${"+zn(r[o],t)+"}"+n[++o].value.raw;return"`"+s+"`"},MemberExpression:(e,t)=>{const n=!e.computed,r=zn(e.object,t),i=zn(e.property,t);return r+(n?"."+i:"["+i+"]")},CallExpression:jj,NewExpression:(e,t)=>"new "+jj(e,t),ArrayExpression:(e,t)=>"["+Ba(e.elements,t)+"]",AssignmentExpression:AA,BinaryExpression:AA,LogicalExpression:AA,UnaryExpression:(e,t)=>"("+e.operator+zn(e.argument,t)+")",ConditionalExpression:(e,t)=>"("+zn(e.test,t)+"?"+zn(e.consequent,t)+":"+zn(e.alternate,t)+")",ObjectExpression:(e,t)=>"({"+Ba(e.properties,t)+"})",Property:(e,t)=>{const n=zn(e.key,t);return(e.computed?`[${n}]`:n)+":"+zn(e.value,t)},ArrowFunctionExpression:OA,FunctionExpression:OA,FunctionDeclaration:OA,ArrayPattern:(e,t)=>"["+Ba(e.elements,t)+"]",ObjectPattern:(e,t)=>"{"+Ba(e.properties,t)+"}",VariableDeclaration:(e,t)=>e.kind+" "+Ba(e.declarations,t,","),VariableDeclarator:(e,t)=>zn(e.id,t)+"="+zn(e.init,t),SpreadElement:(e,t)=>"..."+zn(e.argument,t),BlockStatement:(e,t)=>"{"+Ba(e.body,t,";")+";}",BreakStatement:()=>"break",ExpressionStatement:(e,t)=>zn(e.expression,t),IfStatement:(e,t)=>"if ("+zn(e.test,t)+")"+zn(e.consequent,t)+(e.alternate?" else "+zn(e.alternate,t):""),SwitchStatement:(e,t)=>"switch ("+zn(e.discriminant,t)+") {"+Ba(e.cases,t,"")+"}",SwitchCase:(e,t)=>(e.test?"case "+zn(e.test,t):"default")+": "+Ba(e.consequent,t,";")+";",ReturnStatement:(e,t)=>"return "+zn(e.argument,t),Program:(e,t)=>zn(e.body[0],t)};function iT(e,t={index:"row"}){return zn(e,t)}function c9e(e,t,n=15,r=!0,i=0,s){const a=Math.LN10;if(s==null){const u=Math.ceil(Math.log(n)/a),l=t-e||Math.abs(e)||1,c=[5,2];for(s=Math.max(i,Math.pow(10,Math.round(Math.log(l)/a)-u));Math.ceil(l/s)>n;)s*=10;const f=c.length;for(let d=0;d<f;++d){const h=s/c[d];h>=i&&l/h<=n&&(s=h)}}if(r){let u=Math.log(s);const l=u>=0?0:~~(-u/a)+1,c=Math.pow(10,-l-1);u=Math.floor(e/s+c)*s,e=e<u?u-s:u,t=Math.ceil(t/s)*s}return[e,t===e?e+s:t,s]}function em(e){const t=typeof e;return t==="string"?`"${e}"`:t!=="object"||!e?e:Tl(e)?+e:gn(e)||$_(e)?`[${e.map(em)}]`:rT(e)?e+"":f9e(e)}function f9e(e){let t="{",n=-1;for(const r in e)++n>0&&(t+=","),t+=`"${r}":${em(e[r])}`;return t+="}",t}function sT(e,t){const n=e.length;return n===1?(r,i)=>em(e[0](r,i)):(r,i)=>{let s="";for(let o=0;o<n;++o){o>0&&(s+="|");const a=e[o](r,i);if(t&&(a==null||a!==a))return null;s+=em(a)}return s}}function d9e(){const e=new Map;return{count(){return e.size},values(){return Array.from(e.values(),t=>t.v)},increment(t){const n=em(t),r=e.get(n);r?++r.n:e.set(n,{v:t,n:1})},decrement(t){const n=em(t),r=e.get(n);r.n===1?e.delete(n):--r.n},forEach(t){e.forEach(({v:n,n:r})=>t(n,r))}}}function zu(){}function h9e(e,t=0,n=e.length){let r=e[t++];for(let i=t;i<n;++i)r*=e[i];return r}function Hr(e){return e.init=e.init||zu,e.add=e.add||zu,e.rem=e.rem||zu,e}function Vj(e,t){return e.product_v=!1,e.product=t}const cee={count:{create:()=>Hr({value:e=>e.count}),param:[]},array_agg:{create:()=>Hr({init:e=>e.values=!0,value:e=>e.list.values(e.stream)}),param:[1]},object_agg:{create:()=>Hr({init:e=>e.values=!0,value:e=>Object.fromEntries(e.list.values())}),param:[2]},map_agg:{create:()=>Hr({init:e=>e.values=!0,value:e=>new Map(e.list.values())}),param:[2]},entries_agg:{create:()=>Hr({init:e=>e.values=!0,value:e=>e.list.values(e.stream)}),param:[2]},any:{create:()=>Hr({add:(e,t)=>{e.any==null&&(e.any=t)},value:e=>e.valid?e.any:fn}),param:[1]},valid:{create:()=>Hr({value:e=>e.valid}),param:[1]},invalid:{create:()=>Hr({value:e=>e.count-e.valid}),param:[1]},distinct:{create:()=>({init:e=>e.distinct=d9e(),value:e=>e.distinct.count()+(e.valid===e.count?0:1),add:(e,t)=>e.distinct.increment(t),rem:(e,t)=>e.distinct.decrement(t)}),param:[1]},array_agg_distinct:{create:()=>Hr({value:e=>e.distinct.values()}),param:[1],req:["distinct"]},mode:{create:()=>Hr({value:e=>{let t=fn,n=0;return e.distinct.forEach((r,i)=>{i>n&&(n=i,t=r)}),t}}),param:[1],req:["distinct"]},sum:{create:()=>({init:e=>e.sum=0,value:e=>e.valid?e.sum:fn,add:(e,t)=>Ay(t)?e.sum===0?e.sum=t:e.sum+=t:e.sum+=+t,rem:(e,t)=>e.sum-=t}),param:[1]},product:{create:()=>({init:e=>Vj(e,1),value:e=>e.valid?e.product_v?Vj(e,h9e(e.list.values())):e.product:void 0,add:(e,t)=>Ay(t)&&e.product===1?e.product=t:e.product*=t,rem:(e,t)=>t==0||t===1/0||t===-1/0?e.product_v=!0:e.product/=t}),param:[1],stream:["array_agg"]},mean:{create:()=>({init:e=>e.mean=0,value:e=>e.valid?e.mean:fn,add:(e,t)=>{e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid},rem:(e,t)=>{e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean}}),param:[1]},average:{create:()=>Hr({value:e=>e.valid?e.mean:fn}),param:[1],req:["mean"]},variance:{create:()=>({init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):fn,add:(e,t)=>e.dev+=e.mean_d*(t-e.mean),rem:(e,t)=>e.dev-=e.mean_d*(t-e.mean)}),param:[1],req:["mean"]},variancep:{create:()=>Hr({value:e=>e.valid>1?e.dev/e.valid:fn}),param:[1],req:["variance"]},stdev:{create:()=>Hr({value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):fn}),param:[1],req:["variance"]},stdevp:{create:()=>Hr({value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):fn}),param:[1],req:["variance"]},min:{create:()=>({init:e=>e.min=fn,value:e=>e.min=Number.isNaN(e.min)?e.list.min():e.min,add:(e,t)=>{(t<e.min||e.min===fn)&&(e.min=t)},rem:(e,t)=>{t<=e.min&&(e.min=NaN)}}),param:[1],stream:["array_agg"]},max:{create:()=>({init:e=>e.max=fn,value:e=>e.max=Number.isNaN(e.max)?e.list.max():e.max,add:(e,t)=>{(t>e.max||e.max===fn)&&(e.max=t)},rem:(e,t)=>{t>=e.max&&(e.max=NaN)}}),param:[1],stream:["array_agg"]},quantile:{create:e=>Hr({value:t=>t.list.quantile(e)}),param:[1,1],req:["array_agg"]},median:{create:()=>Hr({value:e=>e.list.quantile(.5)}),param:[1],req:["array_agg"]},covariance:{create:()=>({init:e=>{e.cov=e.mean_x=e.mean_y=e.dev_x=e.dev_y=0},value:e=>e.valid>1?e.cov/(e.valid-1):fn,add:(e,t,n)=>{const r=t-e.mean_x,i=n-e.mean_y;e.mean_x+=r/e.valid,e.mean_y+=i/e.valid;const s=n-e.mean_y;e.dev_x+=r*(t-e.mean_x),e.dev_y+=i*s,e.cov+=r*s},rem:(e,t,n)=>{const r=t-e.mean_x,i=n-e.mean_y;e.mean_x-=e.valid?r/e.valid:e.mean_x,e.mean_y-=e.valid?i/e.valid:e.mean_y;const s=n-e.mean_y;e.dev_x-=r*(t-e.mean_x),e.dev_y-=i*s,e.cov-=r*s}}),param:[2]},covariancep:{create:()=>Hr({value:e=>e.valid>1?e.cov/e.valid:fn}),param:[2],req:["covariance"]},corr:{create:()=>Hr({value:e=>e.valid>1?e.cov/(Math.sqrt(e.dev_x)*Math.sqrt(e.dev_y)):fn}),param:[2],req:["covariance"]},bins:{create:(e,t,n,r)=>Hr({value:i=>c9e(i.min,i.max,e,t,n,r)}),param:[1,4],req:["min","max"]}},zj={create(){let e;return{init:()=>e=1,value:t=>{const n=t.index;return n&&!t.peer(n)?e=n+1:e}}},param:[]},Hj={create(){let e;return{init:()=>e=0,value:t=>{const{index:n,peer:r,size:i}=t;let s=n;if(e<s){for(;s+1<i&&r(s+1);)++s;e=s}return(1+e)/i}}},param:[]},fee={row_number:{create(){return{init:zu,value:e=>e.index+1}},param:[]},rank:zj,avg_rank:{create(){let e,t;return{init:()=>(e=-1,t=1),value:n=>{const r=n.index;if(r>=e){for(t=e=r+1;n.peer(e);t+=++e);t/=e-r}return t}}},param:[]},dense_rank:{create(){let e;return{init:()=>e=1,value:t=>{const n=t.index;return n&&!t.peer(n)?++e:e}}},param:[]},percent_rank:{create(){const{init:e,value:t}=zj.create();return{init:e,value:n=>(t(n)-1)/(n.size-1)}},param:[]},cume_dist:Hj,ntile:{create(e){e=+e,e>0||Ft("ntile num must be greater than zero.");const{init:t,value:n}=Hj.create();return{init:t,value:r=>Math.ceil(e*n(r))}},param:[0,1]},lag:{create(e,t=fn){return e=+e||1,{init:zu,value:(n,r)=>{const i=n.index-e;return i>=0?n.value(i,r):t}}},param:[1,2]},lead:{create(e,t=fn){return e=+e||1,{init:zu,value:(n,r)=>{const i=n.index+e;return i<n.size?n.value(i,r):t}}},param:[1,2]},first_value:{create(){return{init:zu,value:(e,t)=>e.value(e.i0,t)}},param:[1]},last_value:{create(){return{init:zu,value:(e,t)=>e.value(e.i1-1,t)}},param:[1]},nth_value:{create(e){return e=+e,e>0||Ft("nth_value nth must be greater than zero."),{init:zu,value:(t,n)=>{const r=t.i0+(e-1);return r<t.i1?t.value(r,n):fn}}},param:[1,1]},fill_down:{create(e=fn){let t;return{init:()=>t=e,value:(n,r)=>{const i=n.value(n.index,r);return ga(i)?t=i:t}}},param:[1,1]},fill_up:{create(e=fn){let t,n;return{init:()=>(t=e,n=-1),value:(r,i)=>r.index<=n?t:(n=p9e(r,i,r.index))>=0?t=r.value(n,i):(n=r.size,t=e)}},param:[1,1]}};function p9e(e,t,n){for(const r=e.size;n<r;++n)if(ga(e.value(n,t)))return n;return-1}function o$(e){return Sa(cee,e)}function a$(e){return Sa(fee,e)}function dee(e){return Sa(Xh,e)||e==="row_object"}function hee(e){return o$(e)&&cee[e]}function pee(e){return a$(e)&&fee[e]}function D0(e,t,n){return e=`"use strict"; return ${e};`,Function("fn","$",e)(t,n)}const u$={escape:(e,t,n)=>D0(e,t,n),expr:(e,t)=>D0(`(row,data,op)=>${e}`,Xh,t),expr2:(e,t)=>D0(`(row0,data0,row,data)=>${e}`,Xh,t),join:(e,t)=>D0(`(row1,data1,row2,data2)=>${e}`,Xh,t),param:(e,t)=>D0(e,Xh,t)},m9e={"==":1,"!=":1,"===":1,"!==":1};function mee(e,t,n=0,r,i){if(e.type=L_,e.name=t,e.table=n,i&&r&&Jn(r.keyFor)){const s=m9e[i.operator]?i.left===e?i.right:i.left:i.callee&&i.callee.name==="equal"?i.arguments[i.arguments[0]===e?1:0]:null;s&&s.type===Bm&&g9e(i,e,s,r.keyFor(s.value))}return e}function g9e(e,t,n,r){return r<0?(e.type=Bm,e.value=!1,e.raw="false"):(t.type=o9e,n.value=r,n.raw=r+""),!0}function OI(e){return gn(e)?e:s$(e)?e.entries():e?Object.entries(e):[]}const gee="row_object";function yee(e,t){e.type=i9e;const n=e.properties=[];for(const r of OI(t)){const[i,s]=gn(r)?r:[r,r];n.push({type:aee,key:{type:Bm,raw:bu(s)},value:mee({computed:!0},i)})}return e}function _ee(e){return iT(yee({},e))}function vee(e){return u$.expr(_ee(e))}function l$(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function qu(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{l(r.next(c))}catch(f){o(f)}}function u(c){try{l(r.throw(c))}catch(f){o(f)}}function l(c){c.done?s(c.value):i(c.value).then(a,u)}l((r=r.apply(e,t||[])).next())})}function qj(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function nn(e){return this instanceof nn?(this.v=e,this):new nn(e)}function Zf(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(d){r[d]&&(i[d]=function(h){return new Promise(function(p,m){s.push([d,h,p,m])>1||a(d,h)})})}function a(d,h){try{u(r[d](h))}catch(p){f(s[0][3],p)}}function u(d){d.value instanceof nn?Promise.resolve(d.value.v).then(l,c):f(s[0][2],d)}function l(d){a("next",d)}function c(d){a("throw",d)}function f(d,h){d(h),s.shift(),s.length&&a(s[0][0],s[0][1])}}function PA(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,s){t[i]=e[i]?function(o){return(n=!n)?{value:nn(e[i](o)),done:!1}:s?s(o):o}:s}}function Lg(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof qj=="function"?qj(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(o){return new Promise(function(a,u){o=e[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}}const y9e=new TextDecoder("utf-8"),N2=e=>y9e.decode(e),_9e=new TextEncoder,c$=e=>_9e.encode(e),[gtt,bee]=(()=>{const e=()=>{throw new Error("BigInt is not available in this environment")};function t(){throw e()}return t.asIntN=()=>{throw e()},t.asUintN=()=>{throw e()},typeof BigInt<"u"?[BigInt,!0]:[t,!1]})(),[th,ytt]=(()=>{const e=()=>{throw new Error("BigInt64Array is not available in this environment")};class t{static get BYTES_PER_ELEMENT(){return 8}static of(){throw e()}static from(){throw e()}constructor(){throw e()}}return typeof BigInt64Array<"u"?[BigInt64Array,!0]:[t,!1]})(),[nh,_tt]=(()=>{const e=()=>{throw new Error("BigUint64Array is not available in this environment")};class t{static get BYTES_PER_ELEMENT(){return 8}static of(){throw e()}static from(){throw e()}constructor(){throw e()}}return typeof BigUint64Array<"u"?[BigUint64Array,!0]:[t,!1]})(),v9e=e=>typeof e=="boolean",ws=e=>typeof e=="function",yf=e=>e!=null&&Object(e)===e,PI=e=>yf(e)&&ws(e.then),f$=e=>yf(e)&&ws(e[Symbol.iterator]),RI=e=>yf(e)&&ws(e[Symbol.asyncIterator]),b9e=e=>yf(e)&&"done"in e&&"value"in e,Eee=e=>"_getDOMStream"in e&&"_getNodeStream"in e,E9e=e=>yf(e)&&ws(e.abort)&&ws(e.getWriter)&&!Eee(e),w9e=e=>yf(e)&&ws(e.end)&&ws(e.write)&&v9e(e.writable)&&!Eee(e),T9e=e=>yf(e)&&ws(e.clear)&&ws(e.bytes)&&ws(e.position)&&ws(e.setPosition)&&ws(e.capacity)&&ws(e.getBufferIdentifier)&&ws(e.createLong),d$=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:ArrayBuffer;function S9e(e){const t=e[0]?[e[0]]:[];let n,r,i,s;for(let o,a,u=0,l=0,c=e.length;++u<c;){if(o=t[l],a=e[u],!o||!a||o.buffer!==a.buffer||a.byteOffset<o.byteOffset){a&&(t[++l]=a);continue}if({byteOffset:n,byteLength:i}=o,{byteOffset:r,byteLength:s}=a,n+i<r||r+s<n){a&&(t[++l]=a);continue}t[l]=new Uint8Array(o.buffer,n,r-n+s)}return t}function oT(e,t,n=0,r=t.byteLength){const i=e.byteLength,s=new Uint8Array(e.buffer,e.byteOffset,i),o=new Uint8Array(t.buffer,t.byteOffset,Math.min(r,i));return s.set(o,n),e}function Eu(e,t){const n=S9e(e),r=n.reduce((c,f)=>c+f.byteLength,0);let i,s,o,a=0,u=-1;const l=Math.min(t||Number.POSITIVE_INFINITY,r);for(const c=n.length;++u<c;){if(i=n[u],s=i.subarray(0,Math.min(i.length,l-a)),l<=a+s.length){s.length<i.length?n[u]=i.subarray(s.length):s.length===i.length&&u++,o?oT(o,s,a):o=s;break}oT(o||(o=new Uint8Array(l)),s,a),a+=s.length}return[o||new Uint8Array(0),n.slice(u),r-(o?o.byteLength:0)]}function Ti(e,t){let n=b9e(t)?t.value:t;return n instanceof e?e===Uint8Array?new e(n.buffer,n.byteOffset,n.byteLength):n:n?(typeof n=="string"&&(n=c$(n)),n instanceof ArrayBuffer?new e(n):n instanceof d$?new e(n):T9e(n)?Ti(e,n.bytes()):ArrayBuffer.isView(n)?n.byteLength<=0?new e(0):new e(n.buffer,n.byteOffset,n.byteLength/e.BYTES_PER_ELEMENT):e.from(n)):new e(0)}const $0=e=>Ti(Int32Array,e),An=e=>Ti(Uint8Array,e),k2=e=>(e.next(),e);function*I9e(e,t){const n=function*(i){yield i},r=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof d$?n(t):f$(t)?t:n(t);return yield*k2(function*(i){let s=null;do s=i.next(yield Ti(e,s));while(!s.done)}(r[Symbol.iterator]())),new e}const x9e=e=>I9e(Uint8Array,e);function wee(e,t){return Zf(this,arguments,function*(){if(PI(t))return yield nn(yield nn(yield*PA(Lg(wee(e,yield nn(t))))));const r=function(o){return Zf(this,arguments,function*(){yield yield nn(yield nn(o))})},i=function(o){return Zf(this,arguments,function*(){yield nn(yield*PA(Lg(k2(function*(a){let u=null;do u=a.next(yield u==null?void 0:u.value);while(!u.done)}(o[Symbol.iterator]())))))})},s=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof d$?r(t):f$(t)?i(t):RI(t)?t:r(t);return yield nn(yield*PA(Lg(k2(function(o){return Zf(this,arguments,function*(){let a=null;do a=yield nn(o.next(yield yield nn(Ti(e,a))));while(!a.done)})}(s[Symbol.asyncIterator]()))))),yield nn(new e)})}const C9e=e=>wee(Uint8Array,e);function h$(e,t,n){if(e!==0){n=n.slice(0,t+1);for(let r=-1;++r<=t;)n[r]+=e}return n}function A9e(e,t){let n=0;const r=e.length;if(r!==t.length)return!1;if(r>0)do if(e[n]!==t[n])return!1;while(++n<r);return!0}const Wj={fromIterable(e){return o1(O9e(e))},fromAsyncIterable(e){return o1(P9e(e))},fromDOMStream(e){return o1(R9e(e))},fromNodeStream(e){return o1(k9e(e))},toDOMStream(e,t){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(e,t){throw new Error('"toNodeStream" not available in this environment')}},o1=e=>(e.next(),e);function*O9e(e){let t,n=!1,r=[],i,s,o,a=0;function u(){return s==="peek"?Eu(r,o)[0]:([i,r,a]=Eu(r,o),i)}({cmd:s,size:o}=yield null);const l=x9e(e)[Symbol.iterator]();try{do if({done:t,value:i}=Number.isNaN(o-a)?l.next():l.next(o-a),!t&&i.byteLength>0&&(r.push(i),a+=i.byteLength),t||o<=a)do({cmd:s,size:o}=yield u());while(o<a);while(!t)}catch(c){(n=!0)&&typeof l.throw=="function"&&l.throw(c)}finally{n===!1&&typeof l.return=="function"&&l.return(null)}return null}function P9e(e){return Zf(this,arguments,function*(){let n,r=!1,i=[],s,o,a,u=0;function l(){return o==="peek"?Eu(i,a)[0]:([s,i,u]=Eu(i,a),s)}({cmd:o,size:a}=yield yield nn(null));const c=C9e(e)[Symbol.asyncIterator]();try{do if({done:n,value:s}=Number.isNaN(a-u)?yield nn(c.next()):yield nn(c.next(a-u)),!n&&s.byteLength>0&&(i.push(s),u+=s.byteLength),n||a<=u)do({cmd:o,size:a}=yield yield nn(l()));while(a<u);while(!n)}catch(f){(r=!0)&&typeof c.throw=="function"&&(yield nn(c.throw(f)))}finally{r===!1&&typeof c.return=="function"&&(yield nn(c.return(new Uint8Array(0))))}return yield nn(null)})}function R9e(e){return Zf(this,arguments,function*(){let n=!1,r=!1,i=[],s,o,a,u=0;function l(){return o==="peek"?Eu(i,a)[0]:([s,i,u]=Eu(i,a),s)}({cmd:o,size:a}=yield yield nn(null));const c=new N9e(e);try{do if({done:n,value:s}=Number.isNaN(a-u)?yield nn(c.read()):yield nn(c.read(a-u)),!n&&s.byteLength>0&&(i.push(An(s)),u+=s.byteLength),n||a<=u)do({cmd:o,size:a}=yield yield nn(l()));while(a<u);while(!n)}catch(f){(r=!0)&&(yield nn(c.cancel(f)))}finally{r===!1?yield nn(c.cancel()):e.locked&&c.releaseLock()}return yield nn(null)})}class N9e{constructor(t){this.source=t,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(t){return qu(this,void 0,void 0,function*(){const{reader:n,source:r}=this;n&&(yield n.cancel(t).catch(()=>{})),r&&r.locked&&this.releaseLock()})}read(t){return qu(this,void 0,void 0,function*(){if(t===0)return{done:this.reader==null,value:new Uint8Array(0)};const n=yield this.reader.read();return!n.done&&(n.value=An(n)),n})}}const RA=(e,t)=>{const n=i=>r([t,i]);let r;return[t,n,new Promise(i=>(r=i)&&e.once(t,n))]};function k9e(e){return Zf(this,arguments,function*(){const n=[];let r="error",i=!1,s=null,o,a,u=0,l=[],c;function f(){return o==="peek"?Eu(l,a)[0]:([c,l,u]=Eu(l,a),c)}if({cmd:o,size:a}=yield yield nn(null),e.isTTY)return yield yield nn(new Uint8Array(0)),yield nn(null);try{n[0]=RA(e,"end"),n[1]=RA(e,"error");do{if(n[2]=RA(e,"readable"),[r,s]=yield nn(Promise.race(n.map(h=>h[2]))),r==="error")break;if((i=r==="end")||(Number.isFinite(a-u)?(c=An(e.read(a-u)),c.byteLength<a-u&&(c=An(e.read()))):c=An(e.read()),c.byteLength>0&&(l.push(c),u+=c.byteLength)),i||a<=u)do({cmd:o,size:a}=yield yield nn(f()));while(a<u)}while(!i)}finally{yield nn(d(n,r==="error"?s:null))}return yield nn(null);function d(h,p){return c=l=null,new Promise((m,y)=>{for(const[g,_]of h)e.off(g,_);try{const g=e.destroy;g&&g.call(e,p),p=void 0}catch(g){p=g||p}finally{p!=null?y(p):m()}})}})}var eo;(function(e){e[e.V1=0]="V1",e[e.V2=1]="V2",e[e.V3=2]="V3",e[e.V4=3]="V4",e[e.V5=4]="V5"})(eo||(eo={}));var Vo;(function(e){e[e.Sparse=0]="Sparse",e[e.Dense=1]="Dense"})(Vo||(Vo={}));var Pi;(function(e){e[e.HALF=0]="HALF",e[e.SINGLE=1]="SINGLE",e[e.DOUBLE=2]="DOUBLE"})(Pi||(Pi={}));var wu;(function(e){e[e.DAY=0]="DAY",e[e.MILLISECOND=1]="MILLISECOND"})(wu||(wu={}));var rn;(function(e){e[e.SECOND=0]="SECOND",e[e.MILLISECOND=1]="MILLISECOND",e[e.MICROSECOND=2]="MICROSECOND",e[e.NANOSECOND=3]="NANOSECOND"})(rn||(rn={}));var Tu;(function(e){e[e.YEAR_MONTH=0]="YEAR_MONTH",e[e.DAY_TIME=1]="DAY_TIME",e[e.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(Tu||(Tu={}));var ui;(function(e){e[e.NONE=0]="NONE",e[e.Schema=1]="Schema",e[e.DictionaryBatch=2]="DictionaryBatch",e[e.RecordBatch=3]="RecordBatch",e[e.Tensor=4]="Tensor",e[e.SparseTensor=5]="SparseTensor"})(ui||(ui={}));var J;(function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.Float=3]="Float",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct=13]="Struct",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Dictionary=-1]="Dictionary",e[e.Int8=-2]="Int8",e[e.Int16=-3]="Int16",e[e.Int32=-4]="Int32",e[e.Int64=-5]="Int64",e[e.Uint8=-6]="Uint8",e[e.Uint16=-7]="Uint16",e[e.Uint32=-8]="Uint32",e[e.Uint64=-9]="Uint64",e[e.Float16=-10]="Float16",e[e.Float32=-11]="Float32",e[e.Float64=-12]="Float64",e[e.DateDay=-13]="DateDay",e[e.DateMillisecond=-14]="DateMillisecond",e[e.TimestampSecond=-15]="TimestampSecond",e[e.TimestampMillisecond=-16]="TimestampMillisecond",e[e.TimestampMicrosecond=-17]="TimestampMicrosecond",e[e.TimestampNanosecond=-18]="TimestampNanosecond",e[e.TimeSecond=-19]="TimeSecond",e[e.TimeMillisecond=-20]="TimeMillisecond",e[e.TimeMicrosecond=-21]="TimeMicrosecond",e[e.TimeNanosecond=-22]="TimeNanosecond",e[e.DenseUnion=-23]="DenseUnion",e[e.SparseUnion=-24]="SparseUnion",e[e.IntervalDayTime=-25]="IntervalDayTime",e[e.IntervalYearMonth=-26]="IntervalYearMonth"})(J||(J={}));var ju;(function(e){e[e.OFFSET=0]="OFFSET",e[e.DATA=1]="DATA",e[e.VALIDITY=2]="VALIDITY",e[e.TYPE=3]="TYPE"})(ju||(ju={}));const D9e=void 0;function jc(e){if(e===null)return"null";if(e===D9e)return"undefined";switch(typeof e){case"number":return`${e}`;case"bigint":return`${e}`;case"string":return`"${e}"`}return typeof e[Symbol.toPrimitive]=="function"?e[Symbol.toPrimitive]("string"):ArrayBuffer.isView(e)?e instanceof th||e instanceof nh?`[${[...e].map(t=>jc(t))}]`:`[${e}]`:ArrayBuffer.isView(e)?`[${e}]`:JSON.stringify(e,(t,n)=>typeof n=="bigint"?`${n}`:n)}const $9e=Symbol.for("isArrowBigNum");function Pa(e,...t){return t.length===0?Object.setPrototypeOf(Ti(this.TypedArray,e),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(e,...t),this.constructor.prototype)}Pa.prototype[$9e]=!0;Pa.prototype.toJSON=function(){return`"${gd(this)}"`};Pa.prototype.valueOf=function(){return Tee(this)};Pa.prototype.toString=function(){return gd(this)};Pa.prototype[Symbol.toPrimitive]=function(e="default"){switch(e){case"number":return Tee(this);case"string":return gd(this);case"default":return D2(this)}return gd(this)};function wp(...e){return Pa.apply(this,e)}function Tp(...e){return Pa.apply(this,e)}function Oy(...e){return Pa.apply(this,e)}Object.setPrototypeOf(wp.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf(Tp.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(Oy.prototype,Object.create(Uint32Array.prototype));Object.assign(wp.prototype,Pa.prototype,{constructor:wp,signed:!0,TypedArray:Int32Array,BigIntArray:th});Object.assign(Tp.prototype,Pa.prototype,{constructor:Tp,signed:!1,TypedArray:Uint32Array,BigIntArray:nh});Object.assign(Oy.prototype,Pa.prototype,{constructor:Oy,signed:!0,TypedArray:Uint32Array,BigIntArray:nh});function Tee(e){const{buffer:t,byteOffset:n,length:r,signed:i}=e,s=new nh(t,n,r),o=i&&s[s.length-1]&BigInt(1)<<BigInt(63);let a=BigInt(o?1:0),u=BigInt(0);if(o){for(const l of s)a+=~l*(BigInt(1)<<BigInt(32)*u++);a*=BigInt(-1)}else for(const l of s)a+=l*(BigInt(1)<<BigInt(32)*u++);return a}let gd,D2;bee?(D2=e=>e.byteLength===8?new e.BigIntArray(e.buffer,e.byteOffset,1)[0]:NA(e),gd=e=>e.byteLength===8?`${new e.BigIntArray(e.buffer,e.byteOffset,1)[0]}`:NA(e)):(gd=NA,D2=gd);function NA(e){let t="";const n=new Uint32Array(2);let r=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2);const i=new Uint32Array((r=new Uint16Array(r).reverse()).buffer);let s=-1;const o=r.length-1;do{for(n[0]=r[s=0];s<o;)r[s++]=n[1]=n[0]/10,n[0]=(n[0]-n[1]*10<<16)+r[s];r[s]=n[1]=n[0]/10,n[0]=n[0]-n[1]*10,t=`${n[0]}${t}`}while(i[0]||i[1]||i[2]||i[3]);return t??"0"}class p${static new(t,n){switch(n){case!0:return new wp(t);case!1:return new Tp(t)}switch(t.constructor){case Int8Array:case Int16Array:case Int32Array:case th:return new wp(t)}return t.byteLength===16?new Oy(t):new Tp(t)}static signed(t){return new wp(t)}static unsigned(t){return new Tp(t)}static decimal(t){return new Oy(t)}constructor(t,n){return p$.new(t,n)}}var See,Iee,xee,Cee,Aee,Oee,Pee,Ree,Nee,kee,Dee,$ee,Lee,Mee,Fee,Bee,jee,Uee,Vee;class Kt{static isNull(t){return(t==null?void 0:t.typeId)===J.Null}static isInt(t){return(t==null?void 0:t.typeId)===J.Int}static isFloat(t){return(t==null?void 0:t.typeId)===J.Float}static isBinary(t){return(t==null?void 0:t.typeId)===J.Binary}static isUtf8(t){return(t==null?void 0:t.typeId)===J.Utf8}static isBool(t){return(t==null?void 0:t.typeId)===J.Bool}static isDecimal(t){return(t==null?void 0:t.typeId)===J.Decimal}static isDate(t){return(t==null?void 0:t.typeId)===J.Date}static isTime(t){return(t==null?void 0:t.typeId)===J.Time}static isTimestamp(t){return(t==null?void 0:t.typeId)===J.Timestamp}static isInterval(t){return(t==null?void 0:t.typeId)===J.Interval}static isList(t){return(t==null?void 0:t.typeId)===J.List}static isStruct(t){return(t==null?void 0:t.typeId)===J.Struct}static isUnion(t){return(t==null?void 0:t.typeId)===J.Union}static isFixedSizeBinary(t){return(t==null?void 0:t.typeId)===J.FixedSizeBinary}static isFixedSizeList(t){return(t==null?void 0:t.typeId)===J.FixedSizeList}static isMap(t){return(t==null?void 0:t.typeId)===J.Map}static isDictionary(t){return(t==null?void 0:t.typeId)===J.Dictionary}static isDenseUnion(t){return Kt.isUnion(t)&&t.mode===Vo.Dense}static isSparseUnion(t){return Kt.isUnion(t)&&t.mode===Vo.Sparse}get typeId(){return J.NONE}}See=Symbol.toStringTag;Kt[See]=(e=>(e.children=null,e.ArrayType=Array,e[Symbol.toStringTag]="DataType"))(Kt.prototype);let Sl=class extends Kt{toString(){return"Null"}get typeId(){return J.Null}};Iee=Symbol.toStringTag;Sl[Iee]=(e=>e[Symbol.toStringTag]="Null")(Sl.prototype);class us extends Kt{constructor(t,n){super(),this.isSigned=t,this.bitWidth=n}get typeId(){return J.Int}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?th:nh}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}xee=Symbol.toStringTag;us[xee]=(e=>(e.isSigned=null,e.bitWidth=null,e[Symbol.toStringTag]="Int"))(us.prototype);class m$ extends us{constructor(){super(!0,8)}get ArrayType(){return Int8Array}}class g$ extends us{constructor(){super(!0,16)}get ArrayType(){return Int16Array}}class Jc extends us{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}class y$ extends us{constructor(){super(!0,64)}get ArrayType(){return th}}class _$ extends us{constructor(){super(!1,8)}get ArrayType(){return Uint8Array}}class v$ extends us{constructor(){super(!1,16)}get ArrayType(){return Uint16Array}}class b$ extends us{constructor(){super(!1,32)}get ArrayType(){return Uint32Array}}class E$ extends us{constructor(){super(!1,64)}get ArrayType(){return nh}}Object.defineProperty(m$.prototype,"ArrayType",{value:Int8Array});Object.defineProperty(g$.prototype,"ArrayType",{value:Int16Array});Object.defineProperty(Jc.prototype,"ArrayType",{value:Int32Array});Object.defineProperty(y$.prototype,"ArrayType",{value:th});Object.defineProperty(_$.prototype,"ArrayType",{value:Uint8Array});Object.defineProperty(v$.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(b$.prototype,"ArrayType",{value:Uint32Array});Object.defineProperty(E$.prototype,"ArrayType",{value:nh});class Zc extends Kt{constructor(t){super(),this.precision=t}get typeId(){return J.Float}get ArrayType(){switch(this.precision){case Pi.HALF:return Uint16Array;case Pi.SINGLE:return Float32Array;case Pi.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}Cee=Symbol.toStringTag;Zc[Cee]=(e=>(e.precision=null,e[Symbol.toStringTag]="Float"))(Zc.prototype);class zee extends Zc{constructor(){super(Pi.HALF)}}class w$ extends Zc{constructor(){super(Pi.SINGLE)}}class T$ extends Zc{constructor(){super(Pi.DOUBLE)}}Object.defineProperty(zee.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(w$.prototype,"ArrayType",{value:Float32Array});Object.defineProperty(T$.prototype,"ArrayType",{value:Float64Array});let Py=class extends Kt{constructor(){super()}get typeId(){return J.Binary}toString(){return"Binary"}};Aee=Symbol.toStringTag;Py[Aee]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Binary"))(Py.prototype);let tm=class extends Kt{constructor(){super()}get typeId(){return J.Utf8}toString(){return"Utf8"}};Oee=Symbol.toStringTag;tm[Oee]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Utf8"))(tm.prototype);let Ry=class extends Kt{constructor(){super()}get typeId(){return J.Bool}toString(){return"Bool"}};Pee=Symbol.toStringTag;Ry[Pee]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Bool"))(Ry.prototype);let aT=class extends Kt{constructor(t,n,r=128){super(),this.scale=t,this.precision=n,this.bitWidth=r}get typeId(){return J.Decimal}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}};Ree=Symbol.toStringTag;aT[Ree]=(e=>(e.scale=null,e.precision=null,e.ArrayType=Uint32Array,e[Symbol.toStringTag]="Decimal"))(aT.prototype);class nm extends Kt{constructor(t){super(),this.unit=t}get typeId(){return J.Date}toString(){return`Date${(this.unit+1)*32}<${wu[this.unit]}>`}}Nee=Symbol.toStringTag;nm[Nee]=(e=>(e.unit=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Date"))(nm.prototype);class L9e extends nm{constructor(){super(wu.DAY)}}class M9e extends nm{constructor(){super(wu.MILLISECOND)}}class Il extends Kt{constructor(t,n){super(),this.unit=t,this.bitWidth=n}get typeId(){return J.Time}toString(){return`Time${this.bitWidth}<${rn[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return th}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}}kee=Symbol.toStringTag;Il[kee]=(e=>(e.unit=null,e.bitWidth=null,e[Symbol.toStringTag]="Time"))(Il.prototype);class F9e extends Il{constructor(){super(rn.SECOND,32)}}class B9e extends Il{constructor(){super(rn.MILLISECOND,32)}}class j9e extends Il{constructor(){super(rn.MICROSECOND,64)}}class U9e extends Il{constructor(){super(rn.NANOSECOND,64)}}class uT extends Kt{constructor(t,n){super(),this.unit=t,this.timezone=n}get typeId(){return J.Timestamp}toString(){return`Timestamp<${rn[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}Dee=Symbol.toStringTag;uT[Dee]=(e=>(e.unit=null,e.timezone=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Timestamp"))(uT.prototype);class rm extends Kt{constructor(t){super(),this.unit=t}get typeId(){return J.Interval}toString(){return`Interval<${Tu[this.unit]}>`}}$ee=Symbol.toStringTag;rm[$ee]=(e=>(e.unit=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Interval"))(rm.prototype);class V9e extends rm{constructor(){super(Tu.DAY_TIME)}}class z9e extends rm{constructor(){super(Tu.YEAR_MONTH)}}let im=class extends Kt{constructor(t){super(),this.children=[t]}get typeId(){return J.List}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}};Lee=Symbol.toStringTag;im[Lee]=(e=>(e.children=null,e[Symbol.toStringTag]="List"))(im.prototype);class qi extends Kt{constructor(t){super(),this.children=t}get typeId(){return J.Struct}toString(){return`Struct<{${this.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}Mee=Symbol.toStringTag;qi[Mee]=(e=>(e.children=null,e[Symbol.toStringTag]="Struct"))(qi.prototype);class Ny extends Kt{constructor(t,n,r){super(),this.mode=t,this.children=r,this.typeIds=n=Int32Array.from(n),this.typeIdToChildIndex=n.reduce((i,s,o)=>(i[s]=o)&&i||i,Object.create(null))}get typeId(){return J.Union}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(t=>`${t.type}`).join(" | ")}>`}}Fee=Symbol.toStringTag;Ny[Fee]=(e=>(e.mode=null,e.typeIds=null,e.children=null,e.typeIdToChildIndex=null,e.ArrayType=Int8Array,e[Symbol.toStringTag]="Union"))(Ny.prototype);let lT=class extends Kt{constructor(t){super(),this.byteWidth=t}get typeId(){return J.FixedSizeBinary}toString(){return`FixedSizeBinary[${this.byteWidth}]`}};Bee=Symbol.toStringTag;lT[Bee]=(e=>(e.byteWidth=null,e.ArrayType=Uint8Array,e[Symbol.toStringTag]="FixedSizeBinary"))(lT.prototype);let sm=class extends Kt{constructor(t,n){super(),this.listSize=t,this.children=[n]}get typeId(){return J.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}};jee=Symbol.toStringTag;sm[jee]=(e=>(e.children=null,e.listSize=null,e[Symbol.toStringTag]="FixedSizeList"))(sm.prototype);class ky extends Kt{constructor(t,n=!1){super(),this.children=[t],this.keysSorted=n}get typeId(){return J.Map}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}Uee=Symbol.toStringTag;ky[Uee]=(e=>(e.children=null,e.keysSorted=null,e[Symbol.toStringTag]="Map_"))(ky.prototype);const H9e=(e=>()=>++e)(-1);class ef extends Kt{constructor(t,n,r,i){super(),this.indices=n,this.dictionary=t,this.isOrdered=i||!1,this.id=r==null?H9e():typeof r=="number"?r:r.low}get typeId(){return J.Dictionary}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}Vee=Symbol.toStringTag;ef[Vee]=(e=>(e.id=null,e.indices=null,e.isOrdered=null,e.dictionary=null,e[Symbol.toStringTag]="Dictionary"))(ef.prototype);function Va(e){const t=e;switch(e.typeId){case J.Decimal:return e.bitWidth/32;case J.Timestamp:return 2;case J.Date:return 1+t.unit;case J.Interval:return 1+t.unit;case J.FixedSizeList:return t.listSize;case J.FixedSizeBinary:return t.byteWidth;default:return 1}}class sn{visitMany(t,...n){return t.map((r,i)=>this.visit(r,...n.map(s=>s[i])))}visit(...t){return this.getVisitFn(t[0],!1).apply(this,t)}getVisitFn(t,n=!0){return q9e(this,t,n)}getVisitFnByTypeId(t,n=!0){return Ih(this,t,n)}visitNull(t,...n){return null}visitBool(t,...n){return null}visitInt(t,...n){return null}visitFloat(t,...n){return null}visitUtf8(t,...n){return null}visitBinary(t,...n){return null}visitFixedSizeBinary(t,...n){return null}visitDate(t,...n){return null}visitTimestamp(t,...n){return null}visitTime(t,...n){return null}visitDecimal(t,...n){return null}visitList(t,...n){return null}visitStruct(t,...n){return null}visitUnion(t,...n){return null}visitDictionary(t,...n){return null}visitInterval(t,...n){return null}visitFixedSizeList(t,...n){return null}visitMap(t,...n){return null}}function q9e(e,t,n=!0){return typeof t=="number"?Ih(e,t,n):typeof t=="string"&&t in J?Ih(e,J[t],n):t&&t instanceof Kt?Ih(e,Yj(t),n):t!=null&&t.type&&t.type instanceof Kt?Ih(e,Yj(t.type),n):Ih(e,J.NONE,n)}function Ih(e,t,n=!0){let r=null;switch(t){case J.Null:r=e.visitNull;break;case J.Bool:r=e.visitBool;break;case J.Int:r=e.visitInt;break;case J.Int8:r=e.visitInt8||e.visitInt;break;case J.Int16:r=e.visitInt16||e.visitInt;break;case J.Int32:r=e.visitInt32||e.visitInt;break;case J.Int64:r=e.visitInt64||e.visitInt;break;case J.Uint8:r=e.visitUint8||e.visitInt;break;case J.Uint16:r=e.visitUint16||e.visitInt;break;case J.Uint32:r=e.visitUint32||e.visitInt;break;case J.Uint64:r=e.visitUint64||e.visitInt;break;case J.Float:r=e.visitFloat;break;case J.Float16:r=e.visitFloat16||e.visitFloat;break;case J.Float32:r=e.visitFloat32||e.visitFloat;break;case J.Float64:r=e.visitFloat64||e.visitFloat;break;case J.Utf8:r=e.visitUtf8;break;case J.Binary:r=e.visitBinary;break;case J.FixedSizeBinary:r=e.visitFixedSizeBinary;break;case J.Date:r=e.visitDate;break;case J.DateDay:r=e.visitDateDay||e.visitDate;break;case J.DateMillisecond:r=e.visitDateMillisecond||e.visitDate;break;case J.Timestamp:r=e.visitTimestamp;break;case J.TimestampSecond:r=e.visitTimestampSecond||e.visitTimestamp;break;case J.TimestampMillisecond:r=e.visitTimestampMillisecond||e.visitTimestamp;break;case J.TimestampMicrosecond:r=e.visitTimestampMicrosecond||e.visitTimestamp;break;case J.TimestampNanosecond:r=e.visitTimestampNanosecond||e.visitTimestamp;break;case J.Time:r=e.visitTime;break;case J.TimeSecond:r=e.visitTimeSecond||e.visitTime;break;case J.TimeMillisecond:r=e.visitTimeMillisecond||e.visitTime;break;case J.TimeMicrosecond:r=e.visitTimeMicrosecond||e.visitTime;break;case J.TimeNanosecond:r=e.visitTimeNanosecond||e.visitTime;break;case J.Decimal:r=e.visitDecimal;break;case J.List:r=e.visitList;break;case J.Struct:r=e.visitStruct;break;case J.Union:r=e.visitUnion;break;case J.DenseUnion:r=e.visitDenseUnion||e.visitUnion;break;case J.SparseUnion:r=e.visitSparseUnion||e.visitUnion;break;case J.Dictionary:r=e.visitDictionary;break;case J.Interval:r=e.visitInterval;break;case J.IntervalDayTime:r=e.visitIntervalDayTime||e.visitInterval;break;case J.IntervalYearMonth:r=e.visitIntervalYearMonth||e.visitInterval;break;case J.FixedSizeList:r=e.visitFixedSizeList;break;case J.Map:r=e.visitMap;break}if(typeof r=="function")return r;if(!n)return()=>null;throw new Error(`Unrecognized type '${J[t]}'`)}function Yj(e){switch(e.typeId){case J.Null:return J.Null;case J.Int:{const{bitWidth:t,isSigned:n}=e;switch(t){case 8:return n?J.Int8:J.Uint8;case 16:return n?J.Int16:J.Uint16;case 32:return n?J.Int32:J.Uint32;case 64:return n?J.Int64:J.Uint64}return J.Int}case J.Float:switch(e.precision){case Pi.HALF:return J.Float16;case Pi.SINGLE:return J.Float32;case Pi.DOUBLE:return J.Float64}return J.Float;case J.Binary:return J.Binary;case J.Utf8:return J.Utf8;case J.Bool:return J.Bool;case J.Decimal:return J.Decimal;case J.Time:switch(e.unit){case rn.SECOND:return J.TimeSecond;case rn.MILLISECOND:return J.TimeMillisecond;case rn.MICROSECOND:return J.TimeMicrosecond;case rn.NANOSECOND:return J.TimeNanosecond}return J.Time;case J.Timestamp:switch(e.unit){case rn.SECOND:return J.TimestampSecond;case rn.MILLISECOND:return J.TimestampMillisecond;case rn.MICROSECOND:return J.TimestampMicrosecond;case rn.NANOSECOND:return J.TimestampNanosecond}return J.Timestamp;case J.Date:switch(e.unit){case wu.DAY:return J.DateDay;case wu.MILLISECOND:return J.DateMillisecond}return J.Date;case J.Interval:switch(e.unit){case Tu.DAY_TIME:return J.IntervalDayTime;case Tu.YEAR_MONTH:return J.IntervalYearMonth}return J.Interval;case J.Map:return J.Map;case J.List:return J.List;case J.Struct:return J.Struct;case J.Union:switch(e.mode){case Vo.Dense:return J.DenseUnion;case Vo.Sparse:return J.SparseUnion}return J.Union;case J.FixedSizeBinary:return J.FixedSizeBinary;case J.FixedSizeList:return J.FixedSizeList;case J.Dictionary:return J.Dictionary}throw new Error(`Unrecognized type '${J[e.typeId]}'`)}sn.prototype.visitInt8=null;sn.prototype.visitInt16=null;sn.prototype.visitInt32=null;sn.prototype.visitInt64=null;sn.prototype.visitUint8=null;sn.prototype.visitUint16=null;sn.prototype.visitUint32=null;sn.prototype.visitUint64=null;sn.prototype.visitFloat16=null;sn.prototype.visitFloat32=null;sn.prototype.visitFloat64=null;sn.prototype.visitDateDay=null;sn.prototype.visitDateMillisecond=null;sn.prototype.visitTimestampSecond=null;sn.prototype.visitTimestampMillisecond=null;sn.prototype.visitTimestampMicrosecond=null;sn.prototype.visitTimestampNanosecond=null;sn.prototype.visitTimeSecond=null;sn.prototype.visitTimeMillisecond=null;sn.prototype.visitTimeMicrosecond=null;sn.prototype.visitTimeNanosecond=null;sn.prototype.visitDenseUnion=null;sn.prototype.visitSparseUnion=null;sn.prototype.visitIntervalDayTime=null;sn.prototype.visitIntervalYearMonth=null;const Hee=new Float64Array(1),bh=new Uint32Array(Hee.buffer);function qee(e){const t=(e&31744)>>10,n=(e&1023)/1024,r=Math.pow(-1,(e&32768)>>15);switch(t){case 31:return r*(n?Number.NaN:1/0);case 0:return r*(n?6103515625e-14*n:0)}return r*Math.pow(2,t-15)*(1+n)}function Wee(e){if(e!==e)return 32256;Hee[0]=e;const t=(bh[1]&2147483648)>>16&65535;let n=bh[1]&2146435072,r=0;return n>=1089470464?bh[0]>0?n=31744:(n=(n&2080374784)>>16,r=(bh[1]&1048575)>>10):n<=1056964608?(r=1048576+(bh[1]&1048575),r=1048576+(r<<(n>>20)-998)>>21,n=0):(n=n-1056964608>>10,r=(bh[1]&1048575)+512>>10),t|n|r&65535}class Rt extends sn{}function Lt(e){return(t,n,r)=>{if(t.setValid(n,r!=null))return e(t,n,r)}}const W9e=(e,t,n)=>{e[t]=Math.trunc(n/864e5)},S$=(e,t,n)=>{e[t]=Math.trunc(n%4294967296),e[t+1]=Math.trunc(n/4294967296)},Y9e=(e,t,n)=>{e[t]=Math.trunc(n*1e3%4294967296),e[t+1]=Math.trunc(n*1e3/4294967296)},G9e=(e,t,n)=>{e[t]=Math.trunc(n*1e6%4294967296),e[t+1]=Math.trunc(n*1e6/4294967296)},Yee=(e,t,n,r)=>{if(n+1<t.length){const{[n]:i,[n+1]:s}=t;e.set(r.subarray(0,s-i),i)}},K9e=({offset:e,values:t},n,r)=>{const i=e+n;r?t[i>>3]|=1<<i%8:t[i>>3]&=~(1<<i%8)},Ul=({values:e},t,n)=>{e[t]=n},I$=({values:e},t,n)=>{e[t]=n},Gee=({values:e},t,n)=>{e[t]=Wee(n)},Q9e=(e,t,n)=>{switch(e.type.precision){case Pi.HALF:return Gee(e,t,n);case Pi.SINGLE:case Pi.DOUBLE:return I$(e,t,n)}},x$=({values:e},t,n)=>{W9e(e,t,n.valueOf())},C$=({values:e},t,n)=>{S$(e,t*2,n.valueOf())},Kee=({stride:e,values:t},n,r)=>{t.set(r.subarray(0,e),e*n)},X9e=({values:e,valueOffsets:t},n,r)=>Yee(e,t,n,r),J9e=({values:e,valueOffsets:t},n,r)=>{Yee(e,t,n,c$(r))},Qee=(e,t,n)=>{e.type.unit===wu.DAY?x$(e,t,n):C$(e,t,n)},A$=({values:e},t,n)=>S$(e,t*2,n/1e3),O$=({values:e},t,n)=>S$(e,t*2,n),P$=({values:e},t,n)=>Y9e(e,t*2,n),R$=({values:e},t,n)=>G9e(e,t*2,n),Xee=(e,t,n)=>{switch(e.type.unit){case rn.SECOND:return A$(e,t,n);case rn.MILLISECOND:return O$(e,t,n);case rn.MICROSECOND:return P$(e,t,n);case rn.NANOSECOND:return R$(e,t,n)}},N$=({values:e},t,n)=>{e[t]=n},k$=({values:e},t,n)=>{e[t]=n},D$=({values:e},t,n)=>{e[t]=n},$$=({values:e},t,n)=>{e[t]=n},Jee=(e,t,n)=>{switch(e.type.unit){case rn.SECOND:return N$(e,t,n);case rn.MILLISECOND:return k$(e,t,n);case rn.MICROSECOND:return D$(e,t,n);case rn.NANOSECOND:return $$(e,t,n)}},Zee=({values:e,stride:t},n,r)=>{e.set(r.subarray(0,t),t*n)},Z9e=(e,t,n)=>{const r=e.children[0],i=e.valueOffsets,s=zo.getVisitFn(r);if(Array.isArray(n))for(let o=-1,a=i[t],u=i[t+1];a<u;)s(r,a++,n[++o]);else for(let o=-1,a=i[t],u=i[t+1];a<u;)s(r,a++,n.get(++o))},eBe=(e,t,n)=>{const r=e.children[0],{valueOffsets:i}=e,s=zo.getVisitFn(r);let{[t]:o,[t+1]:a}=i;const u=n instanceof Map?n.entries():Object.entries(n);for(const l of u)if(s(r,o,l),++o>=a)break},tBe=(e,t)=>(n,r,i,s)=>r&&n(r,e,t[s]),nBe=(e,t)=>(n,r,i,s)=>r&&n(r,e,t.get(s)),rBe=(e,t)=>(n,r,i,s)=>r&&n(r,e,t.get(i.name)),iBe=(e,t)=>(n,r,i,s)=>r&&n(r,e,t[i.name]),sBe=(e,t,n)=>{const r=e.type.children.map(s=>zo.getVisitFn(s.type)),i=n instanceof Map?rBe(t,n):n instanceof yn?nBe(t,n):Array.isArray(n)?tBe(t,n):iBe(t,n);e.type.children.forEach((s,o)=>i(r[o],e.children[o],s,o))},oBe=(e,t,n)=>{e.type.mode===Vo.Dense?ete(e,t,n):tte(e,t,n)},ete=(e,t,n)=>{const r=e.type.typeIdToChildIndex[e.typeIds[t]],i=e.children[r];zo.visit(i,e.valueOffsets[t],n)},tte=(e,t,n)=>{const r=e.type.typeIdToChildIndex[e.typeIds[t]],i=e.children[r];zo.visit(i,t,n)},aBe=(e,t,n)=>{var r;(r=e.dictionary)===null||r===void 0||r.set(e.values[t],n)},nte=(e,t,n)=>{e.type.unit===Tu.DAY_TIME?L$(e,t,n):M$(e,t,n)},L$=({values:e},t,n)=>{e.set(n.subarray(0,2),2*t)},M$=({values:e},t,n)=>{e[t]=n[0]*12+n[1]%12},uBe=(e,t,n)=>{const{stride:r}=e,i=e.children[0],s=zo.getVisitFn(i);if(Array.isArray(n))for(let o=-1,a=t*r;++o<r;)s(i,a+o,n[o]);else for(let o=-1,a=t*r;++o<r;)s(i,a+o,n.get(o))};Rt.prototype.visitBool=Lt(K9e);Rt.prototype.visitInt=Lt(Ul);Rt.prototype.visitInt8=Lt(Ul);Rt.prototype.visitInt16=Lt(Ul);Rt.prototype.visitInt32=Lt(Ul);Rt.prototype.visitInt64=Lt(Ul);Rt.prototype.visitUint8=Lt(Ul);Rt.prototype.visitUint16=Lt(Ul);Rt.prototype.visitUint32=Lt(Ul);Rt.prototype.visitUint64=Lt(Ul);Rt.prototype.visitFloat=Lt(Q9e);Rt.prototype.visitFloat16=Lt(Gee);Rt.prototype.visitFloat32=Lt(I$);Rt.prototype.visitFloat64=Lt(I$);Rt.prototype.visitUtf8=Lt(J9e);Rt.prototype.visitBinary=Lt(X9e);Rt.prototype.visitFixedSizeBinary=Lt(Kee);Rt.prototype.visitDate=Lt(Qee);Rt.prototype.visitDateDay=Lt(x$);Rt.prototype.visitDateMillisecond=Lt(C$);Rt.prototype.visitTimestamp=Lt(Xee);Rt.prototype.visitTimestampSecond=Lt(A$);Rt.prototype.visitTimestampMillisecond=Lt(O$);Rt.prototype.visitTimestampMicrosecond=Lt(P$);Rt.prototype.visitTimestampNanosecond=Lt(R$);Rt.prototype.visitTime=Lt(Jee);Rt.prototype.visitTimeSecond=Lt(N$);Rt.prototype.visitTimeMillisecond=Lt(k$);Rt.prototype.visitTimeMicrosecond=Lt(D$);Rt.prototype.visitTimeNanosecond=Lt($$);Rt.prototype.visitDecimal=Lt(Zee);Rt.prototype.visitList=Lt(Z9e);Rt.prototype.visitStruct=Lt(sBe);Rt.prototype.visitUnion=Lt(oBe);Rt.prototype.visitDenseUnion=Lt(ete);Rt.prototype.visitSparseUnion=Lt(tte);Rt.prototype.visitDictionary=Lt(aBe);Rt.prototype.visitInterval=Lt(nte);Rt.prototype.visitIntervalDayTime=Lt(L$);Rt.prototype.visitIntervalYearMonth=Lt(M$);Rt.prototype.visitFixedSizeList=Lt(uBe);Rt.prototype.visitMap=Lt(eBe);const zo=new Rt,la=Symbol.for("parent"),Sp=Symbol.for("rowIndex");class F${constructor(t,n){return this[la]=t,this[Sp]=n,new Proxy(this,new cBe)}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[Sp],n=this[la],r=n.type.children,i={};for(let s=-1,o=r.length;++s<o;)i[r[s].name]=js.visit(n.children[s],t);return i}toString(){return`{${[...this].map(([t,n])=>`${jc(t)}: ${jc(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new lBe(this[la],this[Sp])}}class lBe{constructor(t,n){this.childIndex=0,this.children=t.children,this.rowIndex=n,this.childFields=t.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){const t=this.childIndex;return t<this.numChildren?(this.childIndex=t+1,{done:!1,value:[this.childFields[t].name,js.visit(this.children[t],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(F$.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[la]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Sp]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class cBe{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[la].type.children.map(n=>n.name)}has(t,n){return t[la].type.children.findIndex(r=>r.name===n)!==-1}getOwnPropertyDescriptor(t,n){if(t[la].type.children.findIndex(r=>r.name===n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,n){if(Reflect.has(t,n))return t[n];const r=t[la].type.children.findIndex(i=>i.name===n);if(r!==-1){const i=js.visit(t[la].children[r],t[Sp]);return Reflect.set(t,n,i),i}}set(t,n,r){const i=t[la].type.children.findIndex(s=>s.name===n);return i!==-1?(zo.visit(t[la].children[i],t[Sp],r),Reflect.set(t,n,r)):Reflect.has(t,n)||typeof n=="symbol"?Reflect.set(t,n,r):!1}}class xt extends sn{}function Nt(e){return(t,n)=>t.getValid(n)?e(t,n):null}const fBe=(e,t)=>864e5*e[t],B$=(e,t)=>4294967296*e[t+1]+(e[t]>>>0),dBe=(e,t)=>4294967296*(e[t+1]/1e3)+(e[t]>>>0)/1e3,hBe=(e,t)=>4294967296*(e[t+1]/1e6)+(e[t]>>>0)/1e6,rte=e=>new Date(e),pBe=(e,t)=>rte(fBe(e,t)),mBe=(e,t)=>rte(B$(e,t)),gBe=(e,t)=>null,ite=(e,t,n)=>{if(n+1>=t.length)return null;const r=t[n],i=t[n+1];return e.subarray(r,i)},yBe=({offset:e,values:t},n)=>{const r=e+n;return(t[r>>3]&1<<r%8)!==0},ste=({values:e},t)=>pBe(e,t),ote=({values:e},t)=>mBe(e,t*2),_f=({stride:e,values:t},n)=>t[e*n],_Be=({stride:e,values:t},n)=>qee(t[e*n]),ate=({values:e},t)=>e[t],vBe=({stride:e,values:t},n)=>t.subarray(e*n,e*(n+1)),bBe=({values:e,valueOffsets:t},n)=>ite(e,t,n),EBe=({values:e,valueOffsets:t},n)=>{const r=ite(e,t,n);return r!==null?N2(r):null},wBe=({values:e},t)=>e[t],TBe=({type:e,values:t},n)=>e.precision!==Pi.HALF?t[n]:qee(t[n]),SBe=(e,t)=>e.type.unit===wu.DAY?ste(e,t):ote(e,t),ute=({values:e},t)=>1e3*B$(e,t*2),lte=({values:e},t)=>B$(e,t*2),cte=({values:e},t)=>dBe(e,t*2),fte=({values:e},t)=>hBe(e,t*2),IBe=(e,t)=>{switch(e.type.unit){case rn.SECOND:return ute(e,t);case rn.MILLISECOND:return lte(e,t);case rn.MICROSECOND:return cte(e,t);case rn.NANOSECOND:return fte(e,t)}},dte=({values:e},t)=>e[t],hte=({values:e},t)=>e[t],pte=({values:e},t)=>e[t],mte=({values:e},t)=>e[t],xBe=(e,t)=>{switch(e.type.unit){case rn.SECOND:return dte(e,t);case rn.MILLISECOND:return hte(e,t);case rn.MICROSECOND:return pte(e,t);case rn.NANOSECOND:return mte(e,t)}},CBe=({values:e,stride:t},n)=>p$.decimal(e.subarray(t*n,t*(n+1))),ABe=(e,t)=>{const{valueOffsets:n,stride:r,children:i}=e,{[t*r]:s,[t*r+1]:o}=n,u=i[0].slice(s,o-s);return new yn([u])},OBe=(e,t)=>{const{valueOffsets:n,children:r}=e,{[t]:i,[t+1]:s}=n,o=r[0];return new NI(o.slice(i,s-i))},PBe=(e,t)=>new F$(e,t),RBe=(e,t)=>e.type.mode===Vo.Dense?gte(e,t):yte(e,t),gte=(e,t)=>{const n=e.type.typeIdToChildIndex[e.typeIds[t]],r=e.children[n];return js.visit(r,e.valueOffsets[t])},yte=(e,t)=>{const n=e.type.typeIdToChildIndex[e.typeIds[t]],r=e.children[n];return js.visit(r,t)},NBe=(e,t)=>{var n;return(n=e.dictionary)===null||n===void 0?void 0:n.get(e.values[t])},kBe=(e,t)=>e.type.unit===Tu.DAY_TIME?_te(e,t):vte(e,t),_te=({values:e},t)=>e.subarray(2*t,2*(t+1)),vte=({values:e},t)=>{const n=e[t],r=new Int32Array(2);return r[0]=Math.trunc(n/12),r[1]=Math.trunc(n%12),r},DBe=(e,t)=>{const{stride:n,children:r}=e,s=r[0].slice(t*n,n);return new yn([s])};xt.prototype.visitNull=Nt(gBe);xt.prototype.visitBool=Nt(yBe);xt.prototype.visitInt=Nt(wBe);xt.prototype.visitInt8=Nt(_f);xt.prototype.visitInt16=Nt(_f);xt.prototype.visitInt32=Nt(_f);xt.prototype.visitInt64=Nt(ate);xt.prototype.visitUint8=Nt(_f);xt.prototype.visitUint16=Nt(_f);xt.prototype.visitUint32=Nt(_f);xt.prototype.visitUint64=Nt(ate);xt.prototype.visitFloat=Nt(TBe);xt.prototype.visitFloat16=Nt(_Be);xt.prototype.visitFloat32=Nt(_f);xt.prototype.visitFloat64=Nt(_f);xt.prototype.visitUtf8=Nt(EBe);xt.prototype.visitBinary=Nt(bBe);xt.prototype.visitFixedSizeBinary=Nt(vBe);xt.prototype.visitDate=Nt(SBe);xt.prototype.visitDateDay=Nt(ste);xt.prototype.visitDateMillisecond=Nt(ote);xt.prototype.visitTimestamp=Nt(IBe);xt.prototype.visitTimestampSecond=Nt(ute);xt.prototype.visitTimestampMillisecond=Nt(lte);xt.prototype.visitTimestampMicrosecond=Nt(cte);xt.prototype.visitTimestampNanosecond=Nt(fte);xt.prototype.visitTime=Nt(xBe);xt.prototype.visitTimeSecond=Nt(dte);xt.prototype.visitTimeMillisecond=Nt(hte);xt.prototype.visitTimeMicrosecond=Nt(pte);xt.prototype.visitTimeNanosecond=Nt(mte);xt.prototype.visitDecimal=Nt(CBe);xt.prototype.visitList=Nt(ABe);xt.prototype.visitStruct=Nt(PBe);xt.prototype.visitUnion=Nt(RBe);xt.prototype.visitDenseUnion=Nt(gte);xt.prototype.visitSparseUnion=Nt(yte);xt.prototype.visitDictionary=Nt(NBe);xt.prototype.visitInterval=Nt(kBe);xt.prototype.visitIntervalDayTime=Nt(_te);xt.prototype.visitIntervalYearMonth=Nt(vte);xt.prototype.visitFixedSizeList=Nt(DBe);xt.prototype.visitMap=Nt(OBe);const js=new xt,ma=Symbol.for("keys"),Ip=Symbol.for("vals");class NI{constructor(t){return this[ma]=new yn([t.children[0]]).memoize(),this[Ip]=t.children[1],new Proxy(this,new LBe)}[Symbol.iterator](){return new $Be(this[ma],this[Ip])}get size(){return this[ma].length}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[ma],n=this[Ip],r={};for(let i=-1,s=t.length;++i<s;)r[t.get(i)]=js.visit(n,i);return r}toString(){return`{${[...this].map(([t,n])=>`${jc(t)}: ${jc(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}class $Be{constructor(t,n){this.keys=t,this.vals=n,this.keyIndex=0,this.numKeys=t.length}[Symbol.iterator](){return this}next(){const t=this.keyIndex;return t===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(t),js.visit(this.vals,t)]})}}class LBe{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[ma].toArray().map(String)}has(t,n){return t[ma].includes(n)}getOwnPropertyDescriptor(t,n){if(t[ma].indexOf(n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,n){if(Reflect.has(t,n))return t[n];const r=t[ma].indexOf(n);if(r!==-1){const i=js.visit(Reflect.get(t,Ip),r);return Reflect.set(t,n,i),i}}set(t,n,r){const i=t[ma].indexOf(n);return i!==-1?(zo.visit(Reflect.get(t,Ip),i,r),Reflect.set(t,n,r)):Reflect.has(t,n)?Reflect.set(t,n,r):!1}}Object.defineProperties(NI.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[ma]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Ip]:{writable:!0,enumerable:!1,configurable:!1,value:null}});let Gj;function bte(e,t,n,r){const{length:i=0}=e;let s=typeof t!="number"?0:t,o=typeof n!="number"?i:n;return s<0&&(s=(s%i+i)%i),o<0&&(o=(o%i+i)%i),o<s&&(Gj=s,s=o,o=Gj),o>i&&(o=i),r?r(e,s,o):[s,o]}const Kj=e=>e!==e;function jm(e){if(typeof e!=="object"||e===null)return Kj(e)?Kj:n=>n===e;if(e instanceof Date){const n=e.valueOf();return r=>r instanceof Date?r.valueOf()===n:!1}return ArrayBuffer.isView(e)?n=>n?A9e(e,n):!1:e instanceof Map?FBe(e):Array.isArray(e)?MBe(e):e instanceof yn?BBe(e):jBe(e,!0)}function MBe(e){const t=[];for(let n=-1,r=e.length;++n<r;)t[n]=jm(e[n]);return kI(t)}function FBe(e){let t=-1;const n=[];for(const r of e.values())n[++t]=jm(r);return kI(n)}function BBe(e){const t=[];for(let n=-1,r=e.length;++n<r;)t[n]=jm(e.get(n));return kI(t)}function jBe(e,t=!1){const n=Object.keys(e);if(!t&&n.length===0)return()=>!1;const r=[];for(let i=-1,s=n.length;++i<s;)r[i]=jm(e[n[i]]);return kI(r,n)}function kI(e,t){return n=>{if(!n||typeof n!="object")return!1;switch(n.constructor){case Array:return UBe(e,n);case Map:return Qj(e,n,n.keys());case NI:case F$:case Object:case void 0:return Qj(e,n,t||Object.keys(n))}return n instanceof yn?VBe(e,n):!1}}function UBe(e,t){const n=e.length;if(t.length!==n)return!1;for(let r=-1;++r<n;)if(!e[r](t[r]))return!1;return!0}function VBe(e,t){const n=e.length;if(t.length!==n)return!1;for(let r=-1;++r<n;)if(!e[r](t.get(r)))return!1;return!0}function Qj(e,t,n){const r=n[Symbol.iterator](),i=t instanceof Map?t.keys():Object.keys(t)[Symbol.iterator](),s=t instanceof Map?t.values():Object.values(t)[Symbol.iterator]();let o=0;const a=e.length;let u=s.next(),l=r.next(),c=i.next();for(;o<a&&!l.done&&!c.done&&!u.done&&!(l.value!==c.value||!e[o](u.value));++o,l=r.next(),c=i.next(),u=s.next());return o===a&&l.done&&c.done&&u.done?!0:(r.return&&r.return(),i.return&&i.return(),s.return&&s.return(),!1)}function Ete(e,t,n,r){return(n&1<<r)!==0}function zBe(e,t,n,r){return(n&1<<r)>>r}function j$(e,t,n){const r=n.byteLength+7&-8;if(e>0||n.byteLength<r){const i=new Uint8Array(r);return i.set(e%8===0?n.subarray(e>>3):wte(new U$(n,e,t,null,Ete)).subarray(0,r)),i}return n}function wte(e){const t=[];let n=0,r=0,i=0;for(const o of e)o&&(i|=1<<r),++r===8&&(t[n++]=i,i=r=0);(n===0||r>0)&&(t[n++]=i);const s=new Uint8Array(t.length+7&-8);return s.set(t),s}class U${constructor(t,n,r,i,s){this.bytes=t,this.length=r,this.context=i,this.get=s,this.bit=n%8,this.byteIndex=n>>3,this.byte=t[this.byteIndex++],this.index=0}next(){return this.index<this.length?(this.bit===8&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}function $2(e,t,n){if(n-t<=0)return 0;if(n-t<8){let s=0;for(const o of new U$(e,t,n-t,e,zBe))s+=o;return s}const r=n>>3<<3,i=t+(t%8===0?0:8-t%8);return $2(e,t,i)+$2(e,r,n)+HBe(e,i>>3,r-i>>3)}function HBe(e,t,n){let r=0,i=Math.trunc(t);const s=new DataView(e.buffer,e.byteOffset,e.byteLength),o=n===void 0?e.byteLength:i+n;for(;o-i>=4;)r+=kA(s.getUint32(i)),i+=4;for(;o-i>=2;)r+=kA(s.getUint16(i)),i+=2;for(;o-i>=1;)r+=kA(s.getUint8(i)),i+=1;return r}function kA(e){let t=Math.trunc(e);return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),(t+(t>>>4)&252645135)*16843009>>>24}const qBe=-1;class $n{constructor(t,n,r,i,s,o=[],a){this.type=t,this.children=o,this.dictionary=a,this.offset=Math.floor(Math.max(n||0,0)),this.length=Math.floor(Math.max(r||0,0)),this._nullCount=Math.floor(Math.max(i||0,-1));let u;s instanceof $n?(this.stride=s.stride,this.values=s.values,this.typeIds=s.typeIds,this.nullBitmap=s.nullBitmap,this.valueOffsets=s.valueOffsets):(this.stride=Va(t),s&&((u=s[0])&&(this.valueOffsets=u),(u=s[1])&&(this.values=u),(u=s[2])&&(this.nullBitmap=u),(u=s[3])&&(this.typeIds=u))),this.nullable=this._nullCount!==0&&this.nullBitmap&&this.nullBitmap.byteLength>0}get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get byteLength(){let t=0;const{valueOffsets:n,values:r,nullBitmap:i,typeIds:s}=this;return n&&(t+=n.byteLength),r&&(t+=r.byteLength),i&&(t+=i.byteLength),s&&(t+=s.byteLength),this.children.reduce((o,a)=>o+a.byteLength,t)}get nullCount(){let t=this._nullCount,n;return t<=qBe&&(n=this.nullBitmap)&&(this._nullCount=t=this.length-$2(n,this.offset,this.offset+this.length)),t}getValid(t){if(this.nullable&&this.nullCount>0){const n=this.offset+t;return(this.nullBitmap[n>>3]&1<<n%8)!==0}return!0}setValid(t,n){if(!this.nullable)return n;if(!this.nullBitmap||this.nullBitmap.byteLength<=t>>3){const{nullBitmap:u}=this._changeLengthAndBackfillNullBitmap(this.length);Object.assign(this,{nullBitmap:u,_nullCount:0})}const{nullBitmap:r,offset:i}=this,s=i+t>>3,o=(i+t)%8,a=r[s]>>o&1;return n?a===0&&(r[s]|=1<<o,this._nullCount=this.nullCount+1):a===1&&(r[s]&=~(1<<o),this._nullCount=this.nullCount-1),n}clone(t=this.type,n=this.offset,r=this.length,i=this._nullCount,s=this,o=this.children){return new $n(t,n,r,i,s,o,this.dictionary)}slice(t,n){const{stride:r,typeId:i,children:s}=this,o=+(this._nullCount===0)-1,a=i===16?r:1,u=this._sliceBuffers(t,n,r,i);return this.clone(this.type,this.offset+t,n,o,u,s.length===0||this.valueOffsets?s:this._sliceChildren(s,a*t,a*n))}_changeLengthAndBackfillNullBitmap(t){if(this.typeId===J.Null)return this.clone(this.type,0,t,0);const{length:n,nullCount:r}=this,i=new Uint8Array((t+63&-64)>>3).fill(255,0,n>>3);i[n>>3]=(1<<n-(n&-8))-1,r>0&&i.set(j$(this.offset,n,this.nullBitmap),0);const s=this.buffers;return s[ju.VALIDITY]=i,this.clone(this.type,0,t,r+(t-n),s)}_sliceBuffers(t,n,r,i){let s;const{buffers:o}=this;return(s=o[ju.TYPE])&&(o[ju.TYPE]=s.subarray(t,t+n)),(s=o[ju.OFFSET])&&(o[ju.OFFSET]=s.subarray(t,t+n+1))||(s=o[ju.DATA])&&(o[ju.DATA]=i===6?s:s.subarray(r*t,r*(t+n))),o}_sliceChildren(t,n,r){return t.map(i=>i.slice(n,r))}}$n.prototype.children=Object.freeze([]);class Mg extends sn{visit(t){return this.getVisitFn(t.type).call(this,t)}visitNull(t){const{["type"]:n,["offset"]:r=0,["length"]:i=0}=t;return new $n(n,r,i,0)}visitBool(t){const{["type"]:n,["offset"]:r=0}=t,i=An(t.nullBitmap),s=Ti(n.ArrayType,t.data),{["length"]:o=s.length>>3,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new $n(n,r,o,a,[void 0,s,i])}visitInt(t){const{["type"]:n,["offset"]:r=0}=t,i=An(t.nullBitmap),s=Ti(n.ArrayType,t.data),{["length"]:o=s.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new $n(n,r,o,a,[void 0,s,i])}visitFloat(t){const{["type"]:n,["offset"]:r=0}=t,i=An(t.nullBitmap),s=Ti(n.ArrayType,t.data),{["length"]:o=s.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new $n(n,r,o,a,[void 0,s,i])}visitUtf8(t){const{["type"]:n,["offset"]:r=0}=t,i=An(t.data),s=An(t.nullBitmap),o=$0(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new $n(n,r,a,u,[o,i,s])}visitBinary(t){const{["type"]:n,["offset"]:r=0}=t,i=An(t.data),s=An(t.nullBitmap),o=$0(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new $n(n,r,a,u,[o,i,s])}visitFixedSizeBinary(t){const{["type"]:n,["offset"]:r=0}=t,i=An(t.nullBitmap),s=Ti(n.ArrayType,t.data),{["length"]:o=s.length/Va(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new $n(n,r,o,a,[void 0,s,i])}visitDate(t){const{["type"]:n,["offset"]:r=0}=t,i=An(t.nullBitmap),s=Ti(n.ArrayType,t.data),{["length"]:o=s.length/Va(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new $n(n,r,o,a,[void 0,s,i])}visitTimestamp(t){const{["type"]:n,["offset"]:r=0}=t,i=An(t.nullBitmap),s=Ti(n.ArrayType,t.data),{["length"]:o=s.length/Va(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new $n(n,r,o,a,[void 0,s,i])}visitTime(t){const{["type"]:n,["offset"]:r=0}=t,i=An(t.nullBitmap),s=Ti(n.ArrayType,t.data),{["length"]:o=s.length/Va(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new $n(n,r,o,a,[void 0,s,i])}visitDecimal(t){const{["type"]:n,["offset"]:r=0}=t,i=An(t.nullBitmap),s=Ti(n.ArrayType,t.data),{["length"]:o=s.length/Va(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new $n(n,r,o,a,[void 0,s,i])}visitList(t){const{["type"]:n,["offset"]:r=0,["child"]:i}=t,s=An(t.nullBitmap),o=$0(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new $n(n,r,a,u,[o,void 0,s],[i])}visitStruct(t){const{["type"]:n,["offset"]:r=0,["children"]:i=[]}=t,s=An(t.nullBitmap),{length:o=i.reduce((u,{length:l})=>Math.max(u,l),0),nullCount:a=t.nullBitmap?-1:0}=t;return new $n(n,r,o,a,[void 0,void 0,s],i)}visitUnion(t){const{["type"]:n,["offset"]:r=0,["children"]:i=[]}=t,s=An(t.nullBitmap),o=Ti(n.ArrayType,t.typeIds),{["length"]:a=o.length,["nullCount"]:u=t.nullBitmap?-1:0}=t;if(Kt.isSparseUnion(n))return new $n(n,r,a,u,[void 0,void 0,s,o],i);const l=$0(t.valueOffsets);return new $n(n,r,a,u,[l,void 0,s,o],i)}visitDictionary(t){const{["type"]:n,["offset"]:r=0}=t,i=An(t.nullBitmap),s=Ti(n.indices.ArrayType,t.data),{["dictionary"]:o=new yn([new Mg().visit({type:n.dictionary})])}=t,{["length"]:a=s.length,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new $n(n,r,a,u,[void 0,s,i],[],o)}visitInterval(t){const{["type"]:n,["offset"]:r=0}=t,i=An(t.nullBitmap),s=Ti(n.ArrayType,t.data),{["length"]:o=s.length/Va(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new $n(n,r,o,a,[void 0,s,i])}visitFixedSizeList(t){const{["type"]:n,["offset"]:r=0,["child"]:i=new Mg().visit({type:n.valueType})}=t,s=An(t.nullBitmap),{["length"]:o=i.length/Va(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new $n(n,r,o,a,[void 0,void 0,s],[i])}visitMap(t){const{["type"]:n,["offset"]:r=0,["child"]:i=new Mg().visit({type:n.childType})}=t,s=An(t.nullBitmap),o=$0(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new $n(n,r,a,u,[o,void 0,s],[i])}}function Vi(e){return new Mg().visit(e)}class Xj{constructor(t=0,n){this.numChunks=t,this.getChunkIterator=n,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){const t=this.chunkIterator.next();if(!t.done)return t;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}}function Tte(e){return e.reduce((t,n)=>t+n.nullCount,0)}function Ste(e){return e.reduce((t,n,r)=>(t[r+1]=t[r]+n.length,t),new Uint32Array(e.length+1))}function Ite(e,t,n,r){const i=[];for(let s=-1,o=e.length;++s<o;){const a=e[s],u=t[s],{length:l}=a;if(u>=r)break;if(n>=u+l)continue;if(u>=n&&u+l<=r){i.push(a);continue}const c=Math.max(0,n-u),f=Math.min(r-u,l);i.push(a.slice(c,f-c))}return i.length===0&&i.push(e[0].slice(0,0)),i}function V$(e,t,n,r){let i=0,s=0,o=t.length-1;do{if(i>=o-1)return n<t[o]?r(e,i,n-t[i]):null;s=i+Math.trunc((o-i)*.5),n<t[s]?o=s:i=s}while(i<o)}function z$(e,t){return e.getValid(t)}function xp(e){function t(n,r,i){return e(n[r],i)}return function(n){const r=this.data;return V$(r,this._offsets,n,t)}}function xte(e){let t;function n(r,i,s){return e(r[i],s,t)}return function(r,i){const s=this.data;t=i;const o=V$(s,this._offsets,r,n);return t=void 0,o}}function Cte(e){let t;function n(r,i,s){let o=s,a=0,u=0;for(let l=i-1,c=r.length;++l<c;){const f=r[l];if(~(a=e(f,t,o)))return u+a;o=0,u+=f.length}return-1}return function(r,i){t=r;const s=this.data,o=typeof i!="number"?n(s,0,0):V$(s,this._offsets,i,n);return t=void 0,o}}class Ct extends sn{}function WBe(e,t){return t===null&&e.length>0?0:-1}function YBe(e,t){const{nullBitmap:n}=e;if(!n||e.nullCount<=0)return-1;let r=0;for(const i of new U$(n,e.offset+(t||0),e.length,n,Ete)){if(!i)return r;++r}return-1}function Ut(e,t,n){if(t===void 0)return-1;if(t===null)return YBe(e,n);const r=js.getVisitFn(e),i=jm(t);for(let s=(n||0)-1,o=e.length;++s<o;)if(i(r(e,s)))return s;return-1}function Ate(e,t,n){const r=js.getVisitFn(e),i=jm(t);for(let s=(n||0)-1,o=e.length;++s<o;)if(i(r(e,s)))return s;return-1}Ct.prototype.visitNull=WBe;Ct.prototype.visitBool=Ut;Ct.prototype.visitInt=Ut;Ct.prototype.visitInt8=Ut;Ct.prototype.visitInt16=Ut;Ct.prototype.visitInt32=Ut;Ct.prototype.visitInt64=Ut;Ct.prototype.visitUint8=Ut;Ct.prototype.visitUint16=Ut;Ct.prototype.visitUint32=Ut;Ct.prototype.visitUint64=Ut;Ct.prototype.visitFloat=Ut;Ct.prototype.visitFloat16=Ut;Ct.prototype.visitFloat32=Ut;Ct.prototype.visitFloat64=Ut;Ct.prototype.visitUtf8=Ut;Ct.prototype.visitBinary=Ut;Ct.prototype.visitFixedSizeBinary=Ut;Ct.prototype.visitDate=Ut;Ct.prototype.visitDateDay=Ut;Ct.prototype.visitDateMillisecond=Ut;Ct.prototype.visitTimestamp=Ut;Ct.prototype.visitTimestampSecond=Ut;Ct.prototype.visitTimestampMillisecond=Ut;Ct.prototype.visitTimestampMicrosecond=Ut;Ct.prototype.visitTimestampNanosecond=Ut;Ct.prototype.visitTime=Ut;Ct.prototype.visitTimeSecond=Ut;Ct.prototype.visitTimeMillisecond=Ut;Ct.prototype.visitTimeMicrosecond=Ut;Ct.prototype.visitTimeNanosecond=Ut;Ct.prototype.visitDecimal=Ut;Ct.prototype.visitList=Ut;Ct.prototype.visitStruct=Ut;Ct.prototype.visitUnion=Ut;Ct.prototype.visitDenseUnion=Ate;Ct.prototype.visitSparseUnion=Ate;Ct.prototype.visitDictionary=Ut;Ct.prototype.visitInterval=Ut;Ct.prototype.visitIntervalDayTime=Ut;Ct.prototype.visitIntervalYearMonth=Ut;Ct.prototype.visitFixedSizeList=Ut;Ct.prototype.visitMap=Ut;const cT=new Ct;class At extends sn{}function kt(e){const{type:t}=e;if(e.nullCount===0&&e.stride===1&&(t.typeId===J.Timestamp||t instanceof us&&t.bitWidth!==64||t instanceof Il&&t.bitWidth!==64||t instanceof Zc&&t.precision!==Pi.HALF))return new Xj(e.data.length,r=>{const i=e.data[r];return i.values.subarray(0,i.length)[Symbol.iterator]()});let n=0;return new Xj(e.data.length,r=>{const s=e.data[r].length,o=e.slice(n,n+s);return n+=s,new GBe(o)})}class GBe{constructor(t){this.vector=t,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}At.prototype.visitNull=kt;At.prototype.visitBool=kt;At.prototype.visitInt=kt;At.prototype.visitInt8=kt;At.prototype.visitInt16=kt;At.prototype.visitInt32=kt;At.prototype.visitInt64=kt;At.prototype.visitUint8=kt;At.prototype.visitUint16=kt;At.prototype.visitUint32=kt;At.prototype.visitUint64=kt;At.prototype.visitFloat=kt;At.prototype.visitFloat16=kt;At.prototype.visitFloat32=kt;At.prototype.visitFloat64=kt;At.prototype.visitUtf8=kt;At.prototype.visitBinary=kt;At.prototype.visitFixedSizeBinary=kt;At.prototype.visitDate=kt;At.prototype.visitDateDay=kt;At.prototype.visitDateMillisecond=kt;At.prototype.visitTimestamp=kt;At.prototype.visitTimestampSecond=kt;At.prototype.visitTimestampMillisecond=kt;At.prototype.visitTimestampMicrosecond=kt;At.prototype.visitTimestampNanosecond=kt;At.prototype.visitTime=kt;At.prototype.visitTimeSecond=kt;At.prototype.visitTimeMillisecond=kt;At.prototype.visitTimeMicrosecond=kt;At.prototype.visitTimeNanosecond=kt;At.prototype.visitDecimal=kt;At.prototype.visitList=kt;At.prototype.visitStruct=kt;At.prototype.visitUnion=kt;At.prototype.visitDenseUnion=kt;At.prototype.visitSparseUnion=kt;At.prototype.visitDictionary=kt;At.prototype.visitInterval=kt;At.prototype.visitIntervalDayTime=kt;At.prototype.visitIntervalYearMonth=kt;At.prototype.visitFixedSizeList=kt;At.prototype.visitMap=kt;const H$=new At,KBe=(e,t)=>e+t;class vf extends sn{visitNull(t,n){return 0}visitInt(t,n){return t.type.bitWidth/8}visitFloat(t,n){return t.type.ArrayType.BYTES_PER_ELEMENT}visitBool(t,n){return 1/8}visitDecimal(t,n){return t.type.bitWidth/8}visitDate(t,n){return(t.type.unit+1)*4}visitTime(t,n){return t.type.bitWidth/8}visitTimestamp(t,n){return t.type.unit===rn.SECOND?4:8}visitInterval(t,n){return(t.type.unit+1)*4}visitStruct(t,n){return t.children.reduce((r,i)=>r+Su.visit(i,n),0)}visitFixedSizeBinary(t,n){return t.type.byteWidth}visitMap(t,n){return 8+t.children.reduce((r,i)=>r+Su.visit(i,n),0)}visitDictionary(t,n){var r;return t.type.indices.bitWidth/8+(((r=t.dictionary)===null||r===void 0?void 0:r.getByteLength(t.values[n]))||0)}}const QBe=({valueOffsets:e},t)=>8+(e[t+1]-e[t]),XBe=({valueOffsets:e},t)=>8+(e[t+1]-e[t]),JBe=({valueOffsets:e,stride:t,children:n},r)=>{const i=n[0],{[r*t]:s}=e,{[r*t+1]:o}=e,a=Su.getVisitFn(i.type),u=i.slice(s,o-s);let l=8;for(let c=-1,f=o-s;++c<f;)l+=a(u,c);return l},ZBe=({stride:e,children:t},n)=>{const r=t[0],i=r.slice(n*e,e),s=Su.getVisitFn(r.type);let o=0;for(let a=-1,u=i.length;++a<u;)o+=s(i,a);return o},eje=(e,t)=>e.type.mode===Vo.Dense?Ote(e,t):Pte(e,t),Ote=({type:e,children:t,typeIds:n,valueOffsets:r},i)=>{const s=e.typeIdToChildIndex[n[i]];return 8+Su.visit(t[s],r[i])},Pte=({children:e},t)=>4+Su.visitMany(e,e.map(()=>t)).reduce(KBe,0);vf.prototype.visitUtf8=QBe;vf.prototype.visitBinary=XBe;vf.prototype.visitList=JBe;vf.prototype.visitFixedSizeList=ZBe;vf.prototype.visitUnion=eje;vf.prototype.visitDenseUnion=Ote;vf.prototype.visitSparseUnion=Pte;const Su=new vf;var Rte;const Nte={},kte={};class yn{constructor(t){var n,r,i;const s=t[0]instanceof yn?t.flatMap(a=>a.data):t;if(s.length===0||s.some(a=>!(a instanceof $n)))throw new TypeError("Vector constructor expects an Array of Data instances.");const o=(n=s[0])===null||n===void 0?void 0:n.type;switch(s.length){case 0:this._offsets=[0];break;case 1:{const{get:a,set:u,indexOf:l,byteLength:c}=Nte[o.typeId],f=s[0];this.isValid=d=>z$(f,d),this.get=d=>a(f,d),this.set=(d,h)=>u(f,d,h),this.indexOf=d=>l(f,d),this.getByteLength=d=>c(f,d),this._offsets=[0,f.length];break}default:Object.setPrototypeOf(this,kte[o.typeId]),this._offsets=Ste(s);break}this.data=s,this.type=o,this.stride=Va(o),this.numChildren=(i=(r=o.children)===null||r===void 0?void 0:r.length)!==null&&i!==void 0?i:0,this.length=this._offsets[this._offsets.length-1]}get byteLength(){return this._byteLength===-1&&(this._byteLength=this.data.reduce((t,n)=>t+n.byteLength,0)),this._byteLength}get nullCount(){return this._nullCount===-1&&(this._nullCount=Tte(this.data)),this._nullCount}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${J[this.type.typeId]}Vector`}isValid(t){return!1}get(t){return null}set(t,n){}indexOf(t,n){return-1}includes(t,n){return this.indexOf(t,n)>0}getByteLength(t){return 0}[Symbol.iterator](){return H$.visit(this)}concat(...t){return new yn(this.data.concat(t.flatMap(n=>n.data).flat(Number.POSITIVE_INFINITY)))}slice(t,n){return new yn(bte(this,t,n,({data:r,_offsets:i},s,o)=>Ite(r,i,s,o)))}toJSON(){return[...this]}toArray(){const{type:t,data:n,length:r,stride:i,ArrayType:s}=this;switch(t.typeId){case J.Int:case J.Float:case J.Decimal:case J.Time:case J.Timestamp:switch(n.length){case 0:return new s;case 1:return n[0].values.subarray(0,r*i);default:return n.reduce((o,{values:a,length:u})=>(o.array.set(a.subarray(0,u*i),o.offset),o.offset+=u*i,o),{array:new s(r*i),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(t){var n;return this.getChildAt((n=this.type.children)===null||n===void 0?void 0:n.findIndex(r=>r.name===t))}getChildAt(t){return t>-1&&t<this.numChildren?new yn(this.data.map(({children:n})=>n[t])):null}get isMemoized(){return Kt.isDictionary(this.type)?this.data[0].dictionary.isMemoized:!1}memoize(){if(Kt.isDictionary(this.type)){const t=new fT(this.data[0].dictionary),n=this.data.map(r=>{const i=r.clone();return i.dictionary=t,i});return new yn(n)}return new fT(this)}unmemoize(){if(Kt.isDictionary(this.type)&&this.isMemoized){const t=this.data[0].dictionary.unmemoize(),n=this.data.map(r=>{const i=r.clone();return i.dictionary=t,i});return new yn(n)}return this}}Rte=Symbol.toStringTag;yn[Rte]=(e=>{e.type=Kt.prototype,e.data=[],e.length=0,e.stride=1,e.numChildren=0,e._nullCount=-1,e._byteLength=-1,e._offsets=new Uint32Array([0]),e[Symbol.isConcatSpreadable]=!0;const t=Object.keys(J).map(n=>J[n]).filter(n=>typeof n=="number"&&n!==J.NONE);for(const n of t){const r=js.getVisitFnByTypeId(n),i=zo.getVisitFnByTypeId(n),s=cT.getVisitFnByTypeId(n),o=Su.getVisitFnByTypeId(n);Nte[n]={get:r,set:i,indexOf:s,byteLength:o},kte[n]=Object.create(e,{isValid:{value:xp(z$)},get:{value:xp(js.getVisitFnByTypeId(n))},set:{value:xte(zo.getVisitFnByTypeId(n))},indexOf:{value:Cte(cT.getVisitFnByTypeId(n))},getByteLength:{value:xp(Su.getVisitFnByTypeId(n))}})}return"Vector"})(yn.prototype);class fT extends yn{constructor(t){super(t.data);const n=this.get,r=this.set,i=this.slice,s=new Array(this.length);Object.defineProperty(this,"get",{value(o){const a=s[o];if(a!==void 0)return a;const u=n.call(this,o);return s[o]=u,u}}),Object.defineProperty(this,"set",{value(o,a){r.call(this,o,a),s[o]=a}}),Object.defineProperty(this,"slice",{value:(o,a)=>new fT(i.call(this,o,a))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new yn(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}function tje(e){if(!e||e.length<=0)return function(i){return!0};let t="";const n=e.filter(r=>r===r);return n.length>0&&(t=`
    switch (x) {${n.map(r=>`
        case ${nje(r)}:`).join("")}
            return false;
    }`),e.length!==n.length&&(t=`if (x !== x) return false;
${t}`),new Function("x",`${t}
return true;`)}function nje(e){return typeof e!="bigint"?jc(e):bee?`${jc(e)}n`:`"${jc(e)}"`}const DA=(e,t)=>(Math.ceil(e)*t+63&-64||64)/t,rje=(e,t=0)=>e.length>=t?e.subarray(0,t):oT(new e.constructor(t),e,0);class DI{constructor(t,n=1){this.buffer=t,this.stride=n,this.BYTES_PER_ELEMENT=t.BYTES_PER_ELEMENT,this.ArrayType=t.constructor,this._resize(this.length=Math.ceil(t.length/n))}get byteLength(){return Math.ceil(this.length*this.stride)*this.BYTES_PER_ELEMENT}get reservedLength(){return this.buffer.length/this.stride}get reservedByteLength(){return this.buffer.byteLength}set(t,n){return this}append(t){return this.set(this.length,t)}reserve(t){if(t>0){this.length+=t;const n=this.stride,r=this.length*n,i=this.buffer.length;r>=i&&this._resize(i===0?DA(r*1,this.BYTES_PER_ELEMENT):DA(r*2,this.BYTES_PER_ELEMENT))}return this}flush(t=this.length){t=DA(t*this.stride,this.BYTES_PER_ELEMENT);const n=rje(this.buffer,t);return this.clear(),n}clear(){return this.length=0,this._resize(0),this}_resize(t){return this.buffer=oT(new this.ArrayType(t),this.buffer)}}DI.prototype.offset=0;class M_ extends DI{last(){return this.get(this.length-1)}get(t){return this.buffer[t]}set(t,n){return this.reserve(t-this.length+1),this.buffer[t*this.stride]=n,this}}class Dte extends M_{constructor(t=new Uint8Array(0)){super(t,1/8),this.numValid=0}get numInvalid(){return this.length-this.numValid}get(t){return this.buffer[t>>3]>>t%8&1}set(t,n){const{buffer:r}=this.reserve(t-this.length+1),i=t>>3,s=t%8,o=r[i]>>s&1;return n?o===0&&(r[i]|=1<<s,++this.numValid):o===1&&(r[i]&=~(1<<s),--this.numValid),this}clear(){return this.numValid=0,super.clear()}}class $te extends M_{constructor(t=new Int32Array(1)){super(t,1)}append(t){return this.set(this.length-1,t)}set(t,n){const r=this.length-1,i=this.reserve(t-r+1).buffer;return r<t++&&i.fill(i[r],r,t),i[t]=i[t-1]+n,this}flush(t=this.length-1){return t>this.length&&this.set(t-1,0),super.flush(t+1)}}let Vs=class{constructor({type:t,nullValues:n}){this.length=0,this.finished=!1,this.type=t,this.children=[],this.nullValues=n,this.stride=Va(t),this._nulls=new Dte,n&&n.length>0&&(this._isValid=tje(n))}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t){throw new Error('"throughDOM" not available in this environment')}toVector(){return new yn([this.flush()])}get ArrayType(){return this.type.ArrayType}get nullCount(){return this._nulls.numInvalid}get numChildren(){return this.children.length}get byteLength(){let t=0;const{_offsets:n,_values:r,_nulls:i,_typeIds:s,children:o}=this;return n&&(t+=n.byteLength),r&&(t+=r.byteLength),i&&(t+=i.byteLength),s&&(t+=s.byteLength),o.reduce((a,u)=>a+u.byteLength,t)}get reservedLength(){return this._nulls.reservedLength}get reservedByteLength(){let t=0;return this._offsets&&(t+=this._offsets.reservedByteLength),this._values&&(t+=this._values.reservedByteLength),this._nulls&&(t+=this._nulls.reservedByteLength),this._typeIds&&(t+=this._typeIds.reservedByteLength),this.children.reduce((n,r)=>n+r.reservedByteLength,t)}get valueOffsets(){return this._offsets?this._offsets.buffer:null}get values(){return this._values?this._values.buffer:null}get nullBitmap(){return this._nulls?this._nulls.buffer:null}get typeIds(){return this._typeIds?this._typeIds.buffer:null}append(t){return this.set(this.length,t)}isValid(t){return this._isValid(t)}set(t,n){return this.setValid(t,this.isValid(n))&&this.setValue(t,n),this}setValue(t,n){this._setValue(this,t,n)}setValid(t,n){return this.length=this._nulls.set(t,+n).length,n}addChild(t,n=`${this.numChildren}`){throw new Error(`Cannot append children to non-nested type "${this.type}"`)}getChildAt(t){return this.children[t]||null}flush(){let t,n,r,i;const{type:s,length:o,nullCount:a,_typeIds:u,_offsets:l,_values:c,_nulls:f}=this;(n=u==null?void 0:u.flush(o))?i=l==null?void 0:l.flush(o):(i=l==null?void 0:l.flush(o))?t=c==null?void 0:c.flush(l.last()):t=c==null?void 0:c.flush(o),a>0&&(r=f==null?void 0:f.flush(o));const d=this.children.map(h=>h.flush());return this.clear(),Vi({type:s,length:o,nullCount:a,children:d,child:d[0],data:t,typeIds:n,nullBitmap:r,valueOffsets:i})}finish(){this.finished=!0;for(const t of this.children)t.finish();return this}clear(){var t,n,r,i;this.length=0,(t=this._nulls)===null||t===void 0||t.clear(),(n=this._values)===null||n===void 0||n.clear(),(r=this._offsets)===null||r===void 0||r.clear(),(i=this._typeIds)===null||i===void 0||i.clear();for(const s of this.children)s.clear();return this}};Vs.prototype.length=1;Vs.prototype.stride=1;Vs.prototype.children=null;Vs.prototype.finished=!1;Vs.prototype.nullValues=null;Vs.prototype._isValid=()=>!0;class bf extends Vs{constructor(t){super(t),this._values=new M_(new this.ArrayType(0),this.stride)}setValue(t,n){const r=this._values;return r.reserve(t-r.length+1),super.setValue(t,n)}}class $I extends Vs{constructor(t){super(t),this._pendingLength=0,this._offsets=new $te}setValue(t,n){const r=this._pending||(this._pending=new Map),i=r.get(t);i&&(this._pendingLength-=i.length),this._pendingLength+=n instanceof NI?n[ma].length:n.length,r.set(t,n)}setValid(t,n){return super.setValid(t,n)?!0:((this._pending||(this._pending=new Map)).set(t,void 0),!1)}clear(){return this._pendingLength=0,this._pending=void 0,super.clear()}flush(){return this._flush(),super.flush()}finish(){return this._flush(),super.finish()}_flush(){const t=this._pending,n=this._pendingLength;return this._pendingLength=0,this._pending=void 0,t&&t.size>0&&this._flushPending(t,n),this}}class L2{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(t,n,r,i){return t.prep(8,24),t.writeInt64(i),t.pad(4),t.writeInt32(r),t.writeInt64(n),t.offset()}}const $A=2,Ya=4,Wu=4,Un=4,oc=new Int32Array(2),Jj=new Float32Array(oc.buffer),Zj=new Float64Array(oc.buffer),a1=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;let fl=class M2{constructor(t,n){this.low=t|0,this.high=n|0}static create(t,n){return t==0&&n==0?M2.ZERO:new M2(t,n)}toFloat64(){return(this.low>>>0)+this.high*4294967296}equals(t){return this.low==t.low&&this.high==t.high}};fl.ZERO=new fl(0,0);var F2;(function(e){e[e.UTF8_BYTES=1]="UTF8_BYTES",e[e.UTF16_STRING=2]="UTF16_STRING"})(F2||(F2={}));let dT=class Lte{constructor(t){this.bytes_=t,this.position_=0}static allocate(t){return new Lte(new Uint8Array(t))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(t){this.position_=t}capacity(){return this.bytes_.length}readInt8(t){return this.readUint8(t)<<24>>24}readUint8(t){return this.bytes_[t]}readInt16(t){return this.readUint16(t)<<16>>16}readUint16(t){return this.bytes_[t]|this.bytes_[t+1]<<8}readInt32(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24}readUint32(t){return this.readInt32(t)>>>0}readInt64(t){return new fl(this.readInt32(t),this.readInt32(t+4))}readUint64(t){return new fl(this.readUint32(t),this.readUint32(t+4))}readFloat32(t){return oc[0]=this.readInt32(t),Jj[0]}readFloat64(t){return oc[a1?0:1]=this.readInt32(t),oc[a1?1:0]=this.readInt32(t+4),Zj[0]}writeInt8(t,n){this.bytes_[t]=n}writeUint8(t,n){this.bytes_[t]=n}writeInt16(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8}writeUint16(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8}writeInt32(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8,this.bytes_[t+2]=n>>16,this.bytes_[t+3]=n>>24}writeUint32(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8,this.bytes_[t+2]=n>>16,this.bytes_[t+3]=n>>24}writeInt64(t,n){this.writeInt32(t,n.low),this.writeInt32(t+4,n.high)}writeUint64(t,n){this.writeUint32(t,n.low),this.writeUint32(t+4,n.high)}writeFloat32(t,n){Jj[0]=n,this.writeInt32(t,oc[0])}writeFloat64(t,n){Zj[0]=n,this.writeInt32(t,oc[a1?0:1]),this.writeInt32(t+4,oc[a1?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+Ya+Wu)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let t="";for(let n=0;n<Wu;n++)t+=String.fromCharCode(this.readInt8(this.position_+Ya+n));return t}__offset(t,n){const r=t-this.readInt32(t);return n<this.readInt16(r)?this.readInt16(r+n):0}__union(t,n){return t.bb_pos=n+this.readInt32(n),t.bb=this,t}__string(t,n){t+=this.readInt32(t);const r=this.readInt32(t);let i="",s=0;if(t+=Ya,n===F2.UTF8_BYTES)return this.bytes_.subarray(t,t+r);for(;s<r;){let o;const a=this.readUint8(t+s++);if(a<192)o=a;else{const u=this.readUint8(t+s++);if(a<224)o=(a&31)<<6|u&63;else{const l=this.readUint8(t+s++);if(a<240)o=(a&15)<<12|(u&63)<<6|l&63;else{const c=this.readUint8(t+s++);o=(a&7)<<18|(u&63)<<12|(l&63)<<6|c&63}}}o<65536?i+=String.fromCharCode(o):(o-=65536,i+=String.fromCharCode((o>>10)+55296,(o&1023)+56320))}return i}__union_with_string(t,n){return typeof t=="string"?this.__string(n):this.__union(t,n)}__indirect(t){return t+this.readInt32(t)}__vector(t){return t+this.readInt32(t)+Ya}__vector_len(t){return this.readInt32(t+this.readInt32(t))}__has_identifier(t){if(t.length!=Wu)throw new Error("FlatBuffers: file identifier must be length "+Wu);for(let n=0;n<Wu;n++)if(t.charCodeAt(n)!=this.readInt8(this.position()+Ya+n))return!1;return!0}createLong(t,n){return fl.create(t,n)}createScalarList(t,n){const r=[];for(let i=0;i<n;++i)t(i)!==null&&r.push(t(i));return r}createObjList(t,n){const r=[];for(let i=0;i<n;++i){const s=t(i);s!==null&&r.push(s.unpack())}return r}},Mte=class Fte{constructor(t){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null;let n;t?n=t:n=1024,this.bb=dT.allocate(n),this.space=n}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(t){this.force_defaults=t}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(t,n){t>this.minalign&&(this.minalign=t);const r=~(this.bb.capacity()-this.space+n)+1&t-1;for(;this.space<r+t+n;){const i=this.bb.capacity();this.bb=Fte.growByteBuffer(this.bb),this.space+=this.bb.capacity()-i}this.pad(r)}pad(t){for(let n=0;n<t;n++)this.bb.writeInt8(--this.space,0)}writeInt8(t){this.bb.writeInt8(this.space-=1,t)}writeInt16(t){this.bb.writeInt16(this.space-=2,t)}writeInt32(t){this.bb.writeInt32(this.space-=4,t)}writeInt64(t){this.bb.writeInt64(this.space-=8,t)}writeFloat32(t){this.bb.writeFloat32(this.space-=4,t)}writeFloat64(t){this.bb.writeFloat64(this.space-=8,t)}addInt8(t){this.prep(1,0),this.writeInt8(t)}addInt16(t){this.prep(2,0),this.writeInt16(t)}addInt32(t){this.prep(4,0),this.writeInt32(t)}addInt64(t){this.prep(8,0),this.writeInt64(t)}addFloat32(t){this.prep(4,0),this.writeFloat32(t)}addFloat64(t){this.prep(8,0),this.writeFloat64(t)}addFieldInt8(t,n,r){(this.force_defaults||n!=r)&&(this.addInt8(n),this.slot(t))}addFieldInt16(t,n,r){(this.force_defaults||n!=r)&&(this.addInt16(n),this.slot(t))}addFieldInt32(t,n,r){(this.force_defaults||n!=r)&&(this.addInt32(n),this.slot(t))}addFieldInt64(t,n,r){(this.force_defaults||!n.equals(r))&&(this.addInt64(n),this.slot(t))}addFieldFloat32(t,n,r){(this.force_defaults||n!=r)&&(this.addFloat32(n),this.slot(t))}addFieldFloat64(t,n,r){(this.force_defaults||n!=r)&&(this.addFloat64(n),this.slot(t))}addFieldOffset(t,n,r){(this.force_defaults||n!=r)&&(this.addOffset(n),this.slot(t))}addFieldStruct(t,n,r){n!=r&&(this.nested(n),this.slot(t))}nested(t){if(t!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")}slot(t){this.vtable!==null&&(this.vtable[t]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(t){const n=t.capacity();if(n&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const r=n<<1,i=dT.allocate(r);return i.setPosition(r-n),i.bytes().set(t.bytes(),r-n),i}addOffset(t){this.prep(Ya,0),this.writeInt32(this.offset()-t+Ya)}startObject(t){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=t;for(let n=0;n<t;n++)this.vtable[n]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const t=this.offset();let n=this.vtable_in_use-1;for(;n>=0&&this.vtable[n]==0;n--);const r=n+1;for(;n>=0;n--)this.addInt16(this.vtable[n]!=0?t-this.vtable[n]:0);const i=2;this.addInt16(t-this.object_start);const s=(r+i)*$A;this.addInt16(s);let o=0;const a=this.space;e:for(n=0;n<this.vtables.length;n++){const u=this.bb.capacity()-this.vtables[n];if(s==this.bb.readInt16(u)){for(let l=$A;l<s;l+=$A)if(this.bb.readInt16(a+l)!=this.bb.readInt16(u+l))continue e;o=this.vtables[n];break}}return o?(this.space=this.bb.capacity()-t,this.bb.writeInt32(this.space,o-t)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-t,this.offset()-t)),this.isNested=!1,t}finish(t,n,r){const i=r?Un:0;if(n){const s=n;if(this.prep(this.minalign,Ya+Wu+i),s.length!=Wu)throw new Error("FlatBuffers: file identifier must be length "+Wu);for(let o=Wu-1;o>=0;o--)this.writeInt8(s.charCodeAt(o))}this.prep(this.minalign,Ya+i),this.addOffset(t),i&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(t,n){this.finish(t,n,!0)}requiredField(t,n){const r=this.bb.capacity()-t,i=r-this.bb.readInt32(r);if(!(this.bb.readInt16(i+n)!=0))throw new Error("FlatBuffers: field "+n+" must be set")}startVector(t,n,r){this.notNested(),this.vector_num_elems=n,this.prep(Ya,t*n),this.prep(r,t*n)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(t){if(!t)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(t))return this.string_maps.get(t);const n=this.createString(t);return this.string_maps.set(t,n),n}createString(t){if(!t)return 0;let n;if(t instanceof Uint8Array)n=t;else{n=[];let r=0;for(;r<t.length;){let i;const s=t.charCodeAt(r++);if(s<55296||s>=56320)i=s;else{const o=t.charCodeAt(r++);i=(s<<10)+o+-56613888}i<128?n.push(i):(i<2048?n.push(i>>6&31|192):(i<65536?n.push(i>>12&15|224):n.push(i>>18&7|240,i>>12&63|128),n.push(i>>6&63|128)),n.push(i&63|128))}}this.addInt8(0),this.startVector(1,n.length,1),this.bb.setPosition(this.space-=n.length);for(let r=0,i=this.space,s=this.bb.bytes();r<n.length;r++)s[i++]=n[r];return this.endVector()}createLong(t,n){return fl.create(t,n)}createObjectOffset(t){return t===null?0:typeof t=="string"?this.createString(t):t.pack(this)}createObjectOffsetList(t){const n=[];for(let r=0;r<t.length;++r){const i=t[r];if(i!==null)n.push(this.createObjectOffset(i));else throw new Error("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return n}createStructOffsetList(t,n){return n(this,t.length),this.createObjectOffsetList(t),this.endVector()}};class Wr{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsKeyValue(t,n){return(n||new Wr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsKeyValue(t,n){return t.setPosition(t.position()+Un),(n||new Wr).__init(t.readInt32(t.position())+t.position(),t)}key(t){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,t):null}value(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,t):null}static startKeyValue(t){t.startObject(2)}static addKey(t,n){t.addFieldOffset(0,n,0)}static addValue(t,n){t.addFieldOffset(1,n,0)}static endKeyValue(t){return t.endObject()}static createKeyValue(t,n,r){return Wr.startKeyValue(t),Wr.addKey(t,n),Wr.addValue(t,r),Wr.endKeyValue(t)}}var om;(function(e){e[e.V1=0]="V1",e[e.V2=1]="V2",e[e.V3=2]="V3",e[e.V4=3]="V4",e[e.V5=4]="V5"})(om||(om={}));var am;(function(e){e[e.Little=0]="Little",e[e.Big=1]="Big"})(am||(am={}));var hT;(function(e){e[e.DenseArray=0]="DenseArray"})(hT||(hT={}));class Js{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsInt(t,n){return(n||new Js).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInt(t,n){return t.setPosition(t.position()+Un),(n||new Js).__init(t.readInt32(t.position())+t.position(),t)}bitWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}isSigned(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startInt(t){t.startObject(2)}static addBitWidth(t,n){t.addFieldInt32(0,n,0)}static addIsSigned(t,n){t.addFieldInt8(1,+n,0)}static endInt(t){return t.endObject()}static createInt(t,n,r){return Js.startInt(t),Js.addBitWidth(t,n),Js.addIsSigned(t,r),Js.endInt(t)}}class Yu{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDictionaryEncoding(t,n){return(n||new Yu).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryEncoding(t,n){return t.setPosition(t.position()+Un),(n||new Yu).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}indexType(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new Js).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isOrdered(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}dictionaryKind(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):hT.DenseArray}static startDictionaryEncoding(t){t.startObject(4)}static addId(t,n){t.addFieldInt64(0,n,t.createLong(0,0))}static addIndexType(t,n){t.addFieldOffset(1,n,0)}static addIsOrdered(t,n){t.addFieldInt8(2,+n,0)}static addDictionaryKind(t,n){t.addFieldInt16(3,n,hT.DenseArray)}static endDictionaryEncoding(t){return t.endObject()}}class ed{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBinary(t,n){return(n||new ed).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBinary(t,n){return t.setPosition(t.position()+Un),(n||new ed).__init(t.readInt32(t.position())+t.position(),t)}static startBinary(t){t.startObject(0)}static endBinary(t){return t.endObject()}static createBinary(t){return ed.startBinary(t),ed.endBinary(t)}}class td{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBool(t,n){return(n||new td).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBool(t,n){return t.setPosition(t.position()+Un),(n||new td).__init(t.readInt32(t.position())+t.position(),t)}static startBool(t){t.startObject(0)}static endBool(t){return t.endObject()}static createBool(t){return td.startBool(t),td.endBool(t)}}var pT;(function(e){e[e.DAY=0]="DAY",e[e.MILLISECOND=1]="MILLISECOND"})(pT||(pT={}));let ib=class xh{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDate(t,n){return(n||new xh).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDate(t,n){return t.setPosition(t.position()+Un),(n||new xh).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):pT.MILLISECOND}static startDate(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,pT.MILLISECOND)}static endDate(t){return t.endObject()}static createDate(t,n){return xh.startDate(t),xh.addUnit(t,n),xh.endDate(t)}};class Ts{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDecimal(t,n){return(n||new Ts).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDecimal(t,n){return t.setPosition(t.position()+Un),(n||new Ts).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}scale(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0}bitWidth(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):128}static startDecimal(t){t.startObject(3)}static addPrecision(t,n){t.addFieldInt32(0,n,0)}static addScale(t,n){t.addFieldInt32(1,n,0)}static addBitWidth(t,n){t.addFieldInt32(2,n,128)}static endDecimal(t){return t.endObject()}static createDecimal(t,n,r,i){return Ts.startDecimal(t),Ts.addPrecision(t,n),Ts.addScale(t,r),Ts.addBitWidth(t,i),Ts.endDecimal(t)}}var um;(function(e){e[e.SECOND=0]="SECOND",e[e.MILLISECOND=1]="MILLISECOND",e[e.MICROSECOND=2]="MICROSECOND",e[e.NANOSECOND=3]="NANOSECOND"})(um||(um={}));class Ga{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFixedSizeBinary(t,n){return(n||new Ga).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeBinary(t,n){return t.setPosition(t.position()+Un),(n||new Ga).__init(t.readInt32(t.position())+t.position(),t)}byteWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeBinary(t){t.startObject(1)}static addByteWidth(t,n){t.addFieldInt32(0,n,0)}static endFixedSizeBinary(t){return t.endObject()}static createFixedSizeBinary(t,n){return Ga.startFixedSizeBinary(t),Ga.addByteWidth(t,n),Ga.endFixedSizeBinary(t)}}class Ka{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFixedSizeList(t,n){return(n||new Ka).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeList(t,n){return t.setPosition(t.position()+Un),(n||new Ka).__init(t.readInt32(t.position())+t.position(),t)}listSize(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeList(t){t.startObject(1)}static addListSize(t,n){t.addFieldInt32(0,n,0)}static endFixedSizeList(t){return t.endObject()}static createFixedSizeList(t,n){return Ka.startFixedSizeList(t),Ka.addListSize(t,n),Ka.endFixedSizeList(t)}}var mT;(function(e){e[e.HALF=0]="HALF",e[e.SINGLE=1]="SINGLE",e[e.DOUBLE=2]="DOUBLE"})(mT||(mT={}));class Qa{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFloatingPoint(t,n){return(n||new Qa).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFloatingPoint(t,n){return t.setPosition(t.position()+Un),(n||new Qa).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):mT.HALF}static startFloatingPoint(t){t.startObject(1)}static addPrecision(t,n){t.addFieldInt16(0,n,mT.HALF)}static endFloatingPoint(t){return t.endObject()}static createFloatingPoint(t,n){return Qa.startFloatingPoint(t),Qa.addPrecision(t,n),Qa.endFloatingPoint(t)}}var gT;(function(e){e[e.YEAR_MONTH=0]="YEAR_MONTH",e[e.DAY_TIME=1]="DAY_TIME",e[e.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(gT||(gT={}));class Xa{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsInterval(t,n){return(n||new Xa).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInterval(t,n){return t.setPosition(t.position()+Un),(n||new Xa).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):gT.YEAR_MONTH}static startInterval(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,gT.YEAR_MONTH)}static endInterval(t){return t.endObject()}static createInterval(t,n){return Xa.startInterval(t),Xa.addUnit(t,n),Xa.endInterval(t)}}class nd{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsList(t,n){return(n||new nd).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsList(t,n){return t.setPosition(t.position()+Un),(n||new nd).__init(t.readInt32(t.position())+t.position(),t)}static startList(t){t.startObject(0)}static endList(t){return t.endObject()}static createList(t){return nd.startList(t),nd.endList(t)}}let sb=class Ch{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsMap(t,n){return(n||new Ch).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMap(t,n){return t.setPosition(t.position()+Un),(n||new Ch).__init(t.readInt32(t.position())+t.position(),t)}keysSorted(){const t=this.bb.__offset(this.bb_pos,4);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startMap(t){t.startObject(1)}static addKeysSorted(t,n){t.addFieldInt8(0,+n,0)}static endMap(t){return t.endObject()}static createMap(t,n){return Ch.startMap(t),Ch.addKeysSorted(t,n),Ch.endMap(t)}};class rd{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsNull(t,n){return(n||new rd).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsNull(t,n){return t.setPosition(t.position()+Un),(n||new rd).__init(t.readInt32(t.position())+t.position(),t)}static startNull(t){t.startObject(0)}static endNull(t){return t.endObject()}static createNull(t){return rd.startNull(t),rd.endNull(t)}}class id{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsStruct_(t,n){return(n||new id).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsStruct_(t,n){return t.setPosition(t.position()+Un),(n||new id).__init(t.readInt32(t.position())+t.position(),t)}static startStruct_(t){t.startObject(0)}static endStruct_(t){return t.endObject()}static createStruct_(t){return id.startStruct_(t),id.endStruct_(t)}}class Ro{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsTime(t,n){return(n||new Ro).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTime(t,n){return t.setPosition(t.position()+Un),(n||new Ro).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):um.MILLISECOND}bitWidth(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):32}static startTime(t){t.startObject(2)}static addUnit(t,n){t.addFieldInt16(0,n,um.MILLISECOND)}static addBitWidth(t,n){t.addFieldInt32(1,n,32)}static endTime(t){return t.endObject()}static createTime(t,n,r){return Ro.startTime(t),Ro.addUnit(t,n),Ro.addBitWidth(t,r),Ro.endTime(t)}}let tg=class Lf{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsTimestamp(t,n){return(n||new Lf).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTimestamp(t,n){return t.setPosition(t.position()+Un),(n||new Lf).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):um.SECOND}timezone(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,t):null}static startTimestamp(t){t.startObject(2)}static addUnit(t,n){t.addFieldInt16(0,n,um.SECOND)}static addTimezone(t,n){t.addFieldOffset(1,n,0)}static endTimestamp(t){return t.endObject()}static createTimestamp(t,n,r){return Lf.startTimestamp(t),Lf.addUnit(t,n),Lf.addTimezone(t,r),Lf.endTimestamp(t)}};var yT;(function(e){e[e.Sparse=0]="Sparse",e[e.Dense=1]="Dense"})(yT||(yT={}));class Is{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsUnion(t,n){return(n||new Is).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUnion(t,n){return t.setPosition(t.position()+Un),(n||new Is).__init(t.readInt32(t.position())+t.position(),t)}mode(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):yT.Sparse}typeIds(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.readInt32(this.bb.__vector(this.bb_pos+n)+t*4):0}typeIdsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}typeIdsArray(){const t=this.bb.__offset(this.bb_pos,6);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startUnion(t){t.startObject(2)}static addMode(t,n){t.addFieldInt16(0,n,yT.Sparse)}static addTypeIds(t,n){t.addFieldOffset(1,n,0)}static createTypeIdsVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addInt32(n[r]);return t.endVector()}static startTypeIdsVector(t,n){t.startVector(4,n,4)}static endUnion(t){return t.endObject()}static createUnion(t,n,r){return Is.startUnion(t),Is.addMode(t,n),Is.addTypeIds(t,r),Is.endUnion(t)}}class sd{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsUtf8(t,n){return(n||new sd).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUtf8(t,n){return t.setPosition(t.position()+Un),(n||new sd).__init(t.readInt32(t.position())+t.position(),t)}static startUtf8(t){t.startObject(0)}static endUtf8(t){return t.endObject()}static createUtf8(t){return sd.startUtf8(t),sd.endUtf8(t)}}var dr;(function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.FloatingPoint=3]="FloatingPoint",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct_=13]="Struct_",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Duration=18]="Duration",e[e.LargeBinary=19]="LargeBinary",e[e.LargeUtf8=20]="LargeUtf8",e[e.LargeList=21]="LargeList"})(dr||(dr={}));let So=class ob{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsField(t,n){return(n||new ob).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsField(t,n){return t.setPosition(t.position()+Un),(n||new ob).__init(t.readInt32(t.position())+t.position(),t)}name(t){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,t):null}nullable(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}typeType(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint8(this.bb_pos+t):dr.NONE}type(t){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.__union(t,this.bb_pos+n):null}dictionary(t){const n=this.bb.__offset(this.bb_pos,12);return n?(t||new Yu).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}children(t,n){const r=this.bb.__offset(this.bb_pos,14);return r?(n||new ob).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}childrenLength(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,16);return r?(n||new Wr).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}static startField(t){t.startObject(7)}static addName(t,n){t.addFieldOffset(0,n,0)}static addNullable(t,n){t.addFieldInt8(1,+n,0)}static addTypeType(t,n){t.addFieldInt8(2,n,dr.NONE)}static addType(t,n){t.addFieldOffset(3,n,0)}static addDictionary(t,n){t.addFieldOffset(4,n,0)}static addChildren(t,n){t.addFieldOffset(5,n,0)}static createChildrenVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startChildrenVector(t,n){t.startVector(4,n,4)}static addCustomMetadata(t,n){t.addFieldOffset(6,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endField(t){return t.endObject()}},ja=class Fu{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsSchema(t,n){return(n||new Fu).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsSchema(t,n){return t.setPosition(t.position()+Un),(n||new Fu).__init(t.readInt32(t.position())+t.position(),t)}endianness(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):am.Little}fields(t,n){const r=this.bb.__offset(this.bb_pos,6);return r?(n||new So).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}fieldsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new Wr).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}features(t){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.readInt64(this.bb.__vector(this.bb_pos+n)+t*8):this.bb.createLong(0,0)}featuresLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}static startSchema(t){t.startObject(4)}static addEndianness(t,n){t.addFieldInt16(0,n,am.Little)}static addFields(t,n){t.addFieldOffset(1,n,0)}static createFieldsVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startFieldsVector(t,n){t.startVector(4,n,4)}static addCustomMetadata(t,n){t.addFieldOffset(2,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static addFeatures(t,n){t.addFieldOffset(3,n,0)}static createFeaturesVector(t,n){t.startVector(8,n.length,8);for(let r=n.length-1;r>=0;r--)t.addInt64(n[r]);return t.endVector()}static startFeaturesVector(t,n){t.startVector(8,n,8)}static endSchema(t){return t.endObject()}static finishSchemaBuffer(t,n){t.finish(n)}static finishSizePrefixedSchemaBuffer(t,n){t.finish(n,void 0,!0)}static createSchema(t,n,r,i,s){return Fu.startSchema(t),Fu.addEndianness(t,n),Fu.addFields(t,r),Fu.addCustomMetadata(t,i),Fu.addFeatures(t,s),Fu.endSchema(t)}};class Ks{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFooter(t,n){return(n||new Ks).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFooter(t,n){return t.setPosition(t.position()+Un),(n||new Ks).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):om.V1}schema(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new ja).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}dictionaries(t,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new L2).__init(this.bb.__vector(this.bb_pos+r)+t*24,this.bb):null}dictionariesLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}recordBatches(t,n){const r=this.bb.__offset(this.bb_pos,10);return r?(n||new L2).__init(this.bb.__vector(this.bb_pos+r)+t*24,this.bb):null}recordBatchesLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,12);return r?(n||new Wr).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startFooter(t){t.startObject(5)}static addVersion(t,n){t.addFieldInt16(0,n,om.V1)}static addSchema(t,n){t.addFieldOffset(1,n,0)}static addDictionaries(t,n){t.addFieldOffset(2,n,0)}static startDictionariesVector(t,n){t.startVector(24,n,8)}static addRecordBatches(t,n){t.addFieldOffset(3,n,0)}static startRecordBatchesVector(t,n){t.startVector(24,n,8)}static addCustomMetadata(t,n){t.addFieldOffset(4,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endFooter(t){return t.endObject()}static finishFooterBuffer(t,n){t.finish(n)}static finishSizePrefixedFooterBuffer(t,n){t.finish(n,void 0,!0)}}class Cn{constructor(t=[],n,r){this.fields=t||[],this.metadata=n||new Map,r||(r=B2(t)),this.dictionaries=r}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(t=>t.name)}toString(){return`Schema<{ ${this.fields.map((t,n)=>`${n}: ${t}`).join(", ")} }>`}select(t){const n=new Set(t),r=this.fields.filter(i=>n.has(i.name));return new Cn(r,this.metadata)}selectAt(t){const n=t.map(r=>this.fields[r]).filter(Boolean);return new Cn(n,this.metadata)}assign(...t){const n=t[0]instanceof Cn?t[0]:Array.isArray(t[0])?new Cn(t[0]):new Cn(t),r=[...this.fields],i=u1(u1(new Map,this.metadata),n.metadata),s=n.fields.filter(a=>{const u=r.findIndex(l=>l.name===a.name);return~u?(r[u]=a.clone({metadata:u1(u1(new Map,r[u].metadata),a.metadata)}))&&!1:!0}),o=B2(s,new Map);return new Cn([...r,...s],i,new Map([...this.dictionaries,...o]))}}Cn.prototype.fields=null;Cn.prototype.metadata=null;Cn.prototype.dictionaries=null;class Sn{constructor(t,n,r=!1,i){this.name=t,this.type=n,this.nullable=r,this.metadata=i||new Map}static new(...t){let[n,r,i,s]=t;return t[0]&&typeof t[0]=="object"&&({name:n}=t[0],r===void 0&&(r=t[0].type),i===void 0&&(i=t[0].nullable),s===void 0&&(s=t[0].metadata)),new Sn(`${n}`,r,i,s)}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...t){let[n,r,i,s]=t;return!t[0]||typeof t[0]!="object"?[n=this.name,r=this.type,i=this.nullable,s=this.metadata]=t:{name:n=this.name,type:r=this.type,nullable:i=this.nullable,metadata:s=this.metadata}=t[0],Sn.new(n,r,i,s)}}Sn.prototype.type=null;Sn.prototype.name=null;Sn.prototype.nullable=null;Sn.prototype.metadata=null;function u1(e,t){return new Map([...e||new Map,...t||new Map])}function B2(e,t=new Map){for(let n=-1,r=e.length;++n<r;){const s=e[n].type;if(Kt.isDictionary(s)){if(!t.has(s.id))t.set(s.id,s.dictionary);else if(t.get(s.id)!==s.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}s.children&&s.children.length>0&&B2(s.children,t)}return t}var eU=fl,ije=Mte,sje=dT;class j2{constructor(t,n=eo.V4,r,i){this.schema=t,this.version=n,r&&(this._recordBatches=r),i&&(this._dictionaryBatches=i)}static decode(t){t=new sje(An(t));const n=Ks.getRootAsFooter(t),r=Cn.decode(n.schema());return new oje(r,n)}static encode(t){const n=new ije,r=Cn.encode(n,t.schema);Ks.startRecordBatchesVector(n,t.numRecordBatches);for(const o of[...t.recordBatches()].slice().reverse())tf.encode(n,o);const i=n.endVector();Ks.startDictionariesVector(n,t.numDictionaries);for(const o of[...t.dictionaryBatches()].slice().reverse())tf.encode(n,o);const s=n.endVector();return Ks.startFooter(n),Ks.addSchema(n,r),Ks.addVersion(n,eo.V4),Ks.addRecordBatches(n,i),Ks.addDictionaries(n,s),Ks.finishFooterBuffer(n,Ks.endFooter(n)),n.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}*recordBatches(){for(let t,n=-1,r=this.numRecordBatches;++n<r;)(t=this.getRecordBatch(n))&&(yield t)}*dictionaryBatches(){for(let t,n=-1,r=this.numDictionaries;++n<r;)(t=this.getDictionaryBatch(n))&&(yield t)}getRecordBatch(t){return t>=0&&t<this.numRecordBatches&&this._recordBatches[t]||null}getDictionaryBatch(t){return t>=0&&t<this.numDictionaries&&this._dictionaryBatches[t]||null}}class oje extends j2{constructor(t,n){super(t,n.version()),this._footer=n}get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}getRecordBatch(t){if(t>=0&&t<this.numRecordBatches){const n=this._footer.recordBatches(t);if(n)return tf.decode(n)}return null}getDictionaryBatch(t){if(t>=0&&t<this.numDictionaries){const n=this._footer.dictionaries(t);if(n)return tf.decode(n)}return null}}class tf{constructor(t,n,r){this.metaDataLength=t,this.offset=typeof r=="number"?r:r.low,this.bodyLength=typeof n=="number"?n:n.low}static decode(t){return new tf(t.metaDataLength(),t.bodyLength(),t.offset())}static encode(t,n){const{metaDataLength:r}=n,i=new eU(n.offset,0),s=new eU(n.bodyLength,0);return L2.createBlock(t,i,r,s)}}const l1=Object.freeze({done:!0,value:void 0});class Bte{tee(){return this._getDOMStream().tee()}pipe(t,n){return this._getNodeStream().pipe(t,n)}pipeTo(t,n){return this._getDOMStream().pipeTo(t,n)}pipeThrough(t,n){return this._getDOMStream().pipeThrough(t,n)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}class aje extends Bte{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise(t=>this._closedPromiseResolve=t)}get closed(){return this._closedPromise}cancel(t){return qu(this,void 0,void 0,function*(){yield this.return(t)})}write(t){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(t):this.resolvers.shift().resolve({done:!1,value:t}))}abort(t){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:t}:this.resolvers.shift().reject({done:!0,value:t}))}close(){if(this._closedPromiseResolve){const{resolvers:t}=this;for(;t.length>0;)t.shift().resolve(l1);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(t){return Wj.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,t)}toNodeStream(t){return Wj.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,t)}throw(t){return qu(this,void 0,void 0,function*(){return yield this.abort(t),l1})}return(t){return qu(this,void 0,void 0,function*(){return yield this.close(),l1})}read(t){return qu(this,void 0,void 0,function*(){return(yield this.next(t,"read")).value})}peek(t){return qu(this,void 0,void 0,function*(){return(yield this.next(t,"peek")).value})}next(...t){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((n,r)=>{this.resolvers.push({resolve:n,reject:r})}):Promise.resolve(l1)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}}class LA extends aje{write(t){if((t=An(t)).byteLength>0)return super.write(t)}toString(t=!1){return t?N2(this.toUint8Array(!0)):this.toUint8Array(!1).then(N2)}toUint8Array(t=!1){return t?Eu(this._values)[0]:qu(this,void 0,void 0,function*(){var n,r;const i=[];let s=0;try{for(var o=Lg(this),a;a=yield o.next(),!a.done;){const u=a.value;i.push(u),s+=u.byteLength}}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=o.return)&&(yield r.call(o))}finally{if(n)throw n.error}}return Eu(i,s)[0]})}}class jte extends $I{constructor(t){super(t),this._values=new DI(new Uint8Array(0))}get byteLength(){let t=this._pendingLength+this.length*4;return this._offsets&&(t+=this._offsets.byteLength),this._values&&(t+=this._values.byteLength),this._nulls&&(t+=this._nulls.byteLength),t}setValue(t,n){return super.setValue(t,An(n))}_flushPending(t,n){const r=this._offsets,i=this._values.reserve(n).buffer;let s=0;for(const[o,a]of t)if(a===void 0)r.set(o,0);else{const u=a.length;i.set(a,s),r.set(o,u),s+=u}}}class uje extends Vs{constructor(t){super(t),this._values=new Dte}setValue(t,n){this._values.set(t,+n)}}class LI extends bf{}LI.prototype._setValue=Qee;class Ute extends LI{}Ute.prototype._setValue=x$;class Vte extends LI{}Vte.prototype._setValue=C$;class zte extends bf{}zte.prototype._setValue=Zee;class lje extends Vs{constructor({type:t,nullValues:n,dictionaryHashFunction:r}){super({type:new ef(t.dictionary,t.indices,t.id,t.isOrdered)}),this._nulls=null,this._dictionaryOffset=0,this._keysToIndices=Object.create(null),this.indices=_T({type:this.type.indices,nullValues:n}),this.dictionary=_T({type:this.type.dictionary,nullValues:null}),typeof r=="function"&&(this.valueToKey=r)}get values(){return this.indices.values}get nullCount(){return this.indices.nullCount}get nullBitmap(){return this.indices.nullBitmap}get byteLength(){return this.indices.byteLength+this.dictionary.byteLength}get reservedLength(){return this.indices.reservedLength+this.dictionary.reservedLength}get reservedByteLength(){return this.indices.reservedByteLength+this.dictionary.reservedByteLength}isValid(t){return this.indices.isValid(t)}setValid(t,n){const r=this.indices;return n=r.setValid(t,n),this.length=r.length,n}setValue(t,n){const r=this._keysToIndices,i=this.valueToKey(n);let s=r[i];return s===void 0&&(r[i]=s=this._dictionaryOffset+this.dictionary.append(n).length-1),this.indices.setValue(t,s)}flush(){const t=this.type,n=this._dictionary,r=this.dictionary.toVector(),i=this.indices.flush().clone(t);return i.dictionary=n?n.concat(r):r,this.finished||(this._dictionaryOffset+=r.length),this._dictionary=i.dictionary,this.clear(),i}finish(){return this.indices.finish(),this.dictionary.finish(),this._dictionaryOffset=0,this._keysToIndices=Object.create(null),super.finish()}clear(){return this.indices.clear(),this.dictionary.clear(),super.clear()}valueToKey(t){return typeof t=="string"?t:`${t}`}}class Hte extends bf{}Hte.prototype._setValue=Kee;class cje extends Vs{setValue(t,n){const[r]=this.children,i=t*this.stride;for(let s=-1,o=n.length;++s<o;)r.set(i+s,n[s])}addChild(t,n="0"){if(this.numChildren>0)throw new Error("FixedSizeListBuilder can only have one child.");const r=this.children.push(t);return this.type=new sm(this.type.listSize,new Sn(n,t.type,!0)),r}}class MI extends bf{setValue(t,n){this._values.set(t,n)}}class fje extends MI{setValue(t,n){super.setValue(t,Wee(n))}}class dje extends MI{}class hje extends MI{}class FI extends bf{}FI.prototype._setValue=nte;class qte extends FI{}qte.prototype._setValue=L$;class Wte extends FI{}Wte.prototype._setValue=M$;class Vl extends bf{setValue(t,n){this._values.set(t,n)}}class pje extends Vl{}class mje extends Vl{}class gje extends Vl{}class yje extends Vl{}class _je extends Vl{}class vje extends Vl{}class bje extends Vl{}class Eje extends Vl{}class wje extends $I{constructor(t){super(t),this._offsets=new $te}addChild(t,n="0"){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=t,this.type=new im(new Sn(n,t.type,!0)),this.numChildren-1}_flushPending(t){const n=this._offsets,[r]=this.children;for(const[i,s]of t)if(typeof s>"u")n.set(i,0);else{const o=s.length,a=n.set(i,o).buffer[i];for(let u=-1;++u<o;)r.set(a+u,s[u])}}}class Tje extends $I{set(t,n){return super.set(t,n)}setValue(t,n){const r=n instanceof Map?n:new Map(Object.entries(n)),i=this._pending||(this._pending=new Map),s=i.get(t);s&&(this._pendingLength-=s.size),this._pendingLength+=r.size,i.set(t,r)}addChild(t,n=`${this.numChildren}`){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=t,this.type=new ky(new Sn(n,t.type,!0),this.type.keysSorted),this.numChildren-1}_flushPending(t){const n=this._offsets,[r]=this.children;for(const[i,s]of t)if(s===void 0)n.set(i,0);else{let{[i]:o,[i+1]:a}=n.set(i,s.size).buffer;for(const u of s.entries())if(r.set(o,u),++o>=a)break}}}class Sje extends Vs{setValue(t,n){}setValid(t,n){return this.length=Math.max(t+1,this.length),n}}class Ije extends Vs{setValue(t,n){const{children:r,type:i}=this;switch(Array.isArray(n)||n.constructor){case!0:return i.children.forEach((s,o)=>r[o].set(t,n[o]));case Map:return i.children.forEach((s,o)=>r[o].set(t,n.get(s.name)));default:return i.children.forEach((s,o)=>r[o].set(t,n[s.name]))}}setValid(t,n){return super.setValid(t,n)||this.children.forEach(r=>r.setValid(t,n)),n}addChild(t,n=`${this.numChildren}`){const r=this.children.push(t);return this.type=new qi([...this.type.children,new Sn(n,t.type,!0)]),r}}class Um extends bf{}Um.prototype._setValue=Xee;class Yte extends Um{}Yte.prototype._setValue=A$;class Gte extends Um{}Gte.prototype._setValue=O$;class Kte extends Um{}Kte.prototype._setValue=P$;class Qte extends Um{}Qte.prototype._setValue=R$;class Vm extends bf{}Vm.prototype._setValue=Jee;class Xte extends Vm{}Xte.prototype._setValue=N$;class Jte extends Vm{}Jte.prototype._setValue=k$;class Zte extends Vm{}Zte.prototype._setValue=D$;class ene extends Vm{}ene.prototype._setValue=$$;class q$ extends Vs{constructor(t){super(t),this._typeIds=new M_(new Int8Array(0),1),typeof t.valueToChildTypeId=="function"&&(this._valueToChildTypeId=t.valueToChildTypeId)}get typeIdToChildIndex(){return this.type.typeIdToChildIndex}append(t,n){return this.set(this.length,t,n)}set(t,n,r){return r===void 0&&(r=this._valueToChildTypeId(this,n,t)),this.setValid(t,this.isValid(n))&&this.setValue(t,n,r),this}setValue(t,n,r){this._typeIds.set(t,r);const i=this.type.typeIdToChildIndex[r],s=this.children[i];s==null||s.set(t,n)}addChild(t,n=`${this.children.length}`){const r=this.children.push(t),{type:{children:i,mode:s,typeIds:o}}=this,a=[...i,new Sn(n,t.type)];return this.type=new Ny(s,[...o,r],a),r}_valueToChildTypeId(t,n,r){throw new Error("Cannot map UnionBuilder value to child typeId. Pass the `childTypeId` as the second argument to unionBuilder.append(), or supply a `valueToChildTypeId` function as part of the UnionBuilder constructor options.")}}class xje extends q${}class Cje extends q${constructor(t){super(t),this._offsets=new M_(new Int32Array(0))}setValue(t,n,r){const i=this._typeIds.set(t,r).buffer[t],s=this.getChildAt(this.type.typeIdToChildIndex[i]),o=this._offsets.set(t,s.length).buffer[t];s==null||s.set(o,n)}}class tne extends $I{constructor(t){super(t),this._values=new DI(new Uint8Array(0))}get byteLength(){let t=this._pendingLength+this.length*4;return this._offsets&&(t+=this._offsets.byteLength),this._values&&(t+=this._values.byteLength),this._nulls&&(t+=this._nulls.byteLength),t}setValue(t,n){return super.setValue(t,c$(n))}_flushPending(t,n){}}tne.prototype._flushPending=jte.prototype._flushPending;class Aje extends sn{visitNull(){return Sje}visitBool(){return uje}visitInt(){return Vl}visitInt8(){return pje}visitInt16(){return mje}visitInt32(){return gje}visitInt64(){return yje}visitUint8(){return _je}visitUint16(){return vje}visitUint32(){return bje}visitUint64(){return Eje}visitFloat(){return MI}visitFloat16(){return fje}visitFloat32(){return dje}visitFloat64(){return hje}visitUtf8(){return tne}visitBinary(){return jte}visitFixedSizeBinary(){return Hte}visitDate(){return LI}visitDateDay(){return Ute}visitDateMillisecond(){return Vte}visitTimestamp(){return Um}visitTimestampSecond(){return Yte}visitTimestampMillisecond(){return Gte}visitTimestampMicrosecond(){return Kte}visitTimestampNanosecond(){return Qte}visitTime(){return Vm}visitTimeSecond(){return Xte}visitTimeMillisecond(){return Jte}visitTimeMicrosecond(){return Zte}visitTimeNanosecond(){return ene}visitDecimal(){return zte}visitList(){return wje}visitStruct(){return Ije}visitUnion(){return q$}visitDenseUnion(){return Cje}visitSparseUnion(){return xje}visitDictionary(){return lje}visitInterval(){return FI}visitIntervalDayTime(){return qte}visitIntervalYearMonth(){return Wte}visitFixedSizeList(){return cje}visitMap(){return Tje}}const Oje=new Aje;class Ot extends sn{compareSchemas(t,n){return t===n||n instanceof t.constructor&&this.compareManyFields(t.fields,n.fields)}compareManyFields(t,n){return t===n||Array.isArray(t)&&Array.isArray(n)&&t.length===n.length&&t.every((r,i)=>this.compareFields(r,n[i]))}compareFields(t,n){return t===n||n instanceof t.constructor&&t.name===n.name&&t.nullable===n.nullable&&this.visit(t.type,n.type)}}function zs(e,t){return t instanceof e.constructor}function F_(e,t){return e===t||zs(e,t)}function zl(e,t){return e===t||zs(e,t)&&e.bitWidth===t.bitWidth&&e.isSigned===t.isSigned}function BI(e,t){return e===t||zs(e,t)&&e.precision===t.precision}function Pje(e,t){return e===t||zs(e,t)&&e.byteWidth===t.byteWidth}function W$(e,t){return e===t||zs(e,t)&&e.unit===t.unit}function B_(e,t){return e===t||zs(e,t)&&e.unit===t.unit&&e.timezone===t.timezone}function j_(e,t){return e===t||zs(e,t)&&e.unit===t.unit&&e.bitWidth===t.bitWidth}function Rje(e,t){return e===t||zs(e,t)&&e.children.length===t.children.length&&nf.compareManyFields(e.children,t.children)}function Nje(e,t){return e===t||zs(e,t)&&e.children.length===t.children.length&&nf.compareManyFields(e.children,t.children)}function Y$(e,t){return e===t||zs(e,t)&&e.mode===t.mode&&e.typeIds.every((n,r)=>n===t.typeIds[r])&&nf.compareManyFields(e.children,t.children)}function kje(e,t){return e===t||zs(e,t)&&e.id===t.id&&e.isOrdered===t.isOrdered&&nf.visit(e.indices,t.indices)&&nf.visit(e.dictionary,t.dictionary)}function G$(e,t){return e===t||zs(e,t)&&e.unit===t.unit}function Dje(e,t){return e===t||zs(e,t)&&e.listSize===t.listSize&&e.children.length===t.children.length&&nf.compareManyFields(e.children,t.children)}function $je(e,t){return e===t||zs(e,t)&&e.keysSorted===t.keysSorted&&e.children.length===t.children.length&&nf.compareManyFields(e.children,t.children)}Ot.prototype.visitNull=F_;Ot.prototype.visitBool=F_;Ot.prototype.visitInt=zl;Ot.prototype.visitInt8=zl;Ot.prototype.visitInt16=zl;Ot.prototype.visitInt32=zl;Ot.prototype.visitInt64=zl;Ot.prototype.visitUint8=zl;Ot.prototype.visitUint16=zl;Ot.prototype.visitUint32=zl;Ot.prototype.visitUint64=zl;Ot.prototype.visitFloat=BI;Ot.prototype.visitFloat16=BI;Ot.prototype.visitFloat32=BI;Ot.prototype.visitFloat64=BI;Ot.prototype.visitUtf8=F_;Ot.prototype.visitBinary=F_;Ot.prototype.visitFixedSizeBinary=Pje;Ot.prototype.visitDate=W$;Ot.prototype.visitDateDay=W$;Ot.prototype.visitDateMillisecond=W$;Ot.prototype.visitTimestamp=B_;Ot.prototype.visitTimestampSecond=B_;Ot.prototype.visitTimestampMillisecond=B_;Ot.prototype.visitTimestampMicrosecond=B_;Ot.prototype.visitTimestampNanosecond=B_;Ot.prototype.visitTime=j_;Ot.prototype.visitTimeSecond=j_;Ot.prototype.visitTimeMillisecond=j_;Ot.prototype.visitTimeMicrosecond=j_;Ot.prototype.visitTimeNanosecond=j_;Ot.prototype.visitDecimal=F_;Ot.prototype.visitList=Rje;Ot.prototype.visitStruct=Nje;Ot.prototype.visitUnion=Y$;Ot.prototype.visitDenseUnion=Y$;Ot.prototype.visitSparseUnion=Y$;Ot.prototype.visitDictionary=kje;Ot.prototype.visitInterval=G$;Ot.prototype.visitIntervalDayTime=G$;Ot.prototype.visitIntervalYearMonth=G$;Ot.prototype.visitFixedSizeList=Dje;Ot.prototype.visitMap=$je;const nf=new Ot;function U2(e,t){return nf.compareSchemas(e,t)}function _T(e){const t=e.type,n=new(Oje.getVisitFn(t)())(e);if(t.children&&t.children.length>0){const r=e.children||[],i={nullValues:e.nullValues},s=Array.isArray(r)?(o,a)=>r[a]||i:({name:o})=>r[o]||i;for(const[o,a]of t.children.entries()){const{type:u}=a,l=s(a,o);n.children.push(_T(Object.assign(Object.assign({},l),{type:u})))}}return n}function MA(e,t){return Lje(e,t.map(n=>n.data.concat()))}function Lje(e,t){const n=[...e.fields],r=[],i={numBatches:t.reduce((f,d)=>Math.max(f,d.length),0)};let s=0,o=0,a=-1;const u=t.length;let l,c=[];for(;i.numBatches-- >0;){for(o=Number.POSITIVE_INFINITY,a=-1;++a<u;)c[a]=l=t[a].shift(),o=Math.min(o,l?l.length:o);Number.isFinite(o)&&(c=Mje(n,o,c,t,i),o>0&&(r[s++]=Vi({type:new qi(n),length:o,nullCount:0,children:c.slice()})))}return[e=e.assign(n),r.map(f=>new Zs(e,f))]}function Mje(e,t,n,r,i){var s;const o=(t+63&-64)>>3;for(let a=-1,u=r.length;++a<u;){const l=n[a],c=l==null?void 0:l.length;if(c>=t)c===t?n[a]=l:(n[a]=l.slice(0,t),i.numBatches=Math.max(i.numBatches,r[a].unshift(l.slice(t,c-t))));else{const f=e[a];e[a]=f.clone({nullable:!0}),n[a]=(s=l==null?void 0:l._changeLengthAndBackfillNullBitmap(t))!==null&&s!==void 0?s:Vi({type:f.type,length:t,nullCount:t,nullBitmap:new Uint8Array(o)})}}return n}var nne;class xs{constructor(...t){var n,r;if(t.length===0)return this.batches=[],this.schema=new Cn([]),this._offsets=[0],this;let i,s;t[0]instanceof Cn&&(i=t.shift()),t[t.length-1]instanceof Uint32Array&&(s=t.pop());const o=u=>{if(u){if(u instanceof Zs)return[u];if(u instanceof xs)return u.batches;if(u instanceof $n){if(u.type instanceof qi)return[new Zs(new Cn(u.type.children),u)]}else{if(Array.isArray(u))return u.flatMap(l=>o(l));if(typeof u[Symbol.iterator]=="function")return[...u].flatMap(l=>o(l));if(typeof u=="object"){const l=Object.keys(u),c=l.map(h=>new yn([u[h]])),f=new Cn(l.map((h,p)=>new Sn(String(h),c[p].type))),[,d]=MA(f,c);return d.length===0?[new Zs(u)]:d}}}return[]},a=t.flatMap(u=>o(u));if(i=(r=i??((n=a[0])===null||n===void 0?void 0:n.schema))!==null&&r!==void 0?r:new Cn([]),!(i instanceof Cn))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(const u of a){if(!(u instanceof Zs))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!U2(i,u.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=i,this.batches=a,this._offsets=s??Ste(this.data)}get data(){return this.batches.map(({data:t})=>t)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((t,n)=>t+n.length,0)}get nullCount(){return this._nullCount===-1&&(this._nullCount=Tte(this.data)),this._nullCount}isValid(t){return!1}get(t){return null}set(t,n){}indexOf(t,n){return-1}getByteLength(t){return 0}[Symbol.iterator](){return this.batches.length>0?H$.visit(new yn(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return`[
  ${this.toArray().join(`,
  `)}
]`}concat(...t){const n=this.schema,r=this.data.concat(t.flatMap(({data:i})=>i));return new xs(n,r.map(i=>new Zs(n,i)))}slice(t,n){const r=this.schema;[t,n]=bte({length:this.numRows},t,n);const i=Ite(this.data,this._offsets,t,n);return new xs(r,i.map(s=>new Zs(r,s)))}getChild(t){return this.getChildAt(this.schema.fields.findIndex(n=>n.name===t))}getChildAt(t){if(t>-1&&t<this.schema.fields.length){const n=this.data.map(r=>r.children[t]);if(n.length===0){const{type:r}=this.schema.fields[t],i=Vi({type:r,length:0,nullCount:0});n.push(i._changeLengthAndBackfillNullBitmap(this.numRows))}return new yn(n)}return null}setChild(t,n){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===t),n)}setChildAt(t,n){let r=this.schema,i=[...this.batches];if(t>-1&&t<this.numCols){n||(n=new yn([Vi({type:new Sl,length:this.numRows})]));const s=r.fields.slice(),o=s[t].clone({type:n.type}),a=this.schema.fields.map((u,l)=>this.getChildAt(l));[s[t],a[t]]=[o,n],[r,i]=MA(r,a)}return new xs(r,i)}select(t){const n=this.schema.fields.reduce((r,i,s)=>r.set(i.name,s),new Map);return this.selectAt(t.map(r=>n.get(r)).filter(r=>r>-1))}selectAt(t){const n=this.schema.selectAt(t),r=this.batches.map(i=>i.selectAt(t));return new xs(n,r)}assign(t){const n=this.schema.fields,[r,i]=t.schema.fields.reduce((a,u,l)=>{const[c,f]=a,d=n.findIndex(h=>h.name===u.name);return~d?f[d]=l:c.push(l),a},[[],[]]),s=this.schema.assign(t.schema),o=[...n.map((a,u)=>[u,i[u]]).map(([a,u])=>u===void 0?this.getChildAt(a):t.getChildAt(u)),...r.map(a=>t.getChildAt(a))].filter(Boolean);return new xs(...MA(s,o))}}nne=Symbol.toStringTag;xs[nne]=(e=>(e.schema=null,e.batches=[],e._offsets=new Uint32Array([0]),e._nullCount=-1,e[Symbol.isConcatSpreadable]=!0,e.isValid=xp(z$),e.get=xp(js.getVisitFn(J.Struct)),e.set=xte(zo.getVisitFn(J.Struct)),e.indexOf=Cte(cT.getVisitFn(J.Struct)),e.getByteLength=xp(Su.getVisitFn(J.Struct)),"Table"))(xs.prototype);var rne;let Zs=class ng{constructor(...t){switch(t.length){case 2:{if([this.schema]=t,!(this.schema instanceof Cn))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=Vi({nullCount:0,type:new qi(this.schema.fields),children:this.schema.fields.map(n=>Vi({type:n.type,nullCount:0}))})]=t,!(this.data instanceof $n))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=tU(this.schema,this.data.children);break}case 1:{const[n]=t,{fields:r,children:i,length:s}=Object.keys(n).reduce((u,l,c)=>(u.children[c]=n[l],u.length=Math.max(u.length,n[l].length),u.fields[c]=Sn.new({name:l,type:n[l].type,nullable:!0}),u),{length:0,fields:new Array,children:new Array}),o=new Cn(r),a=Vi({type:new qi(r),length:s,children:i,nullCount:0});[this.schema,this.data]=tU(o,a.children,s);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=ine(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(t){return this.data.getValid(t)}get(t){return js.visit(this.data,t)}set(t,n){return zo.visit(this.data,t,n)}indexOf(t,n){return cT.visit(this.data,t,n)}getByteLength(t){return Su.visit(this.data,t)}[Symbol.iterator](){return H$.visit(new yn([this.data]))}toArray(){return[...this]}concat(...t){return new xs(this.schema,[this,...t])}slice(t,n){const[r]=new yn([this.data]).slice(t,n).data;return new ng(this.schema,r)}getChild(t){var n;return this.getChildAt((n=this.schema.fields)===null||n===void 0?void 0:n.findIndex(r=>r.name===t))}getChildAt(t){return t>-1&&t<this.schema.fields.length?new yn([this.data.children[t]]):null}setChild(t,n){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===t),n)}setChildAt(t,n){let r=this.schema,i=this.data;if(t>-1&&t<this.numCols){n||(n=new yn([Vi({type:new Sl,length:this.numRows})]));const s=r.fields.slice(),o=i.children.slice(),a=s[t].clone({type:n.type});[s[t],o[t]]=[a,n.data[0]],r=new Cn(s,new Map(this.schema.metadata)),i=Vi({type:new qi(s),children:o})}return new ng(r,i)}select(t){const n=this.schema.select(t),r=new qi(n.fields),i=[];for(const s of t){const o=this.schema.fields.findIndex(a=>a.name===s);~o&&(i[o]=this.data.children[o])}return new ng(n,Vi({type:r,length:this.numRows,children:i}))}selectAt(t){const n=this.schema.selectAt(t),r=t.map(s=>this.data.children[s]).filter(Boolean),i=Vi({type:new qi(n.fields),length:this.numRows,children:r});return new ng(n,i)}};rne=Symbol.toStringTag;Zs[rne]=(e=>(e._nullCount=-1,e[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(Zs.prototype);function tU(e,t,n=t.reduce((r,i)=>Math.max(r,i.length),0)){var r;const i=[...e.fields],s=[...t],o=(n+63&-64)>>3;for(const[a,u]of e.fields.entries()){const l=t[a];(!l||l.length!==n)&&(i[a]=u.clone({nullable:!0}),s[a]=(r=l==null?void 0:l._changeLengthAndBackfillNullBitmap(n))!==null&&r!==void 0?r:Vi({type:u.type,length:n,nullCount:n,nullBitmap:new Uint8Array(o)}))}return[e.assign(i),Vi({type:new qi(i),length:n,children:s})]}function ine(e,t,n=new Map){for(let r=-1,i=e.length;++r<i;){const o=e[r].type,a=t[r];if(Kt.isDictionary(o)){if(!n.has(o.id))a.dictionary&&n.set(o.id,a.dictionary);else if(n.get(o.id)!==a.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}o.children&&o.children.length>0&&ine(o.children,a.children,n)}return n}class Fje extends Zs{constructor(t){const n=t.fields.map(i=>Vi({type:i.type})),r=Vi({type:new qi(t.fields),nullCount:0,children:n});super(t,r)}}var vT;(function(e){e[e.BUFFER=0]="BUFFER"})(vT||(vT={}));var bT;(function(e){e[e.LZ4_FRAME=0]="LZ4_FRAME",e[e.ZSTD=1]="ZSTD"})(bT||(bT={}));class ac{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBodyCompression(t,n){return(n||new ac).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBodyCompression(t,n){return t.setPosition(t.position()+Un),(n||new ac).__init(t.readInt32(t.position())+t.position(),t)}codec(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt8(this.bb_pos+t):bT.LZ4_FRAME}method(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt8(this.bb_pos+t):vT.BUFFER}static startBodyCompression(t){t.startObject(2)}static addCodec(t,n){t.addFieldInt8(0,n,bT.LZ4_FRAME)}static addMethod(t,n){t.addFieldInt8(1,n,vT.BUFFER)}static endBodyCompression(t){return t.endObject()}static createBodyCompression(t,n,r){return ac.startBodyCompression(t),ac.addCodec(t,n),ac.addMethod(t,r),ac.endBodyCompression(t)}}class sne{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(t,n,r){return t.prep(8,16),t.writeInt64(r),t.writeInt64(n),t.offset()}}let one=class{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(t,n,r){return t.prep(8,16),t.writeInt64(r),t.writeInt64(n),t.offset()}},Uu=class V2{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsRecordBatch(t,n){return(n||new V2).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsRecordBatch(t,n){return t.setPosition(t.position()+Un),(n||new V2).__init(t.readInt32(t.position())+t.position(),t)}length(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}nodes(t,n){const r=this.bb.__offset(this.bb_pos,6);return r?(n||new one).__init(this.bb.__vector(this.bb_pos+r)+t*16,this.bb):null}nodesLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}buffers(t,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new sne).__init(this.bb.__vector(this.bb_pos+r)+t*16,this.bb):null}buffersLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}compression(t){const n=this.bb.__offset(this.bb_pos,10);return n?(t||new ac).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}static startRecordBatch(t){t.startObject(4)}static addLength(t,n){t.addFieldInt64(0,n,t.createLong(0,0))}static addNodes(t,n){t.addFieldOffset(1,n,0)}static startNodesVector(t,n){t.startVector(16,n,8)}static addBuffers(t,n){t.addFieldOffset(2,n,0)}static startBuffersVector(t,n){t.startVector(16,n,8)}static addCompression(t,n){t.addFieldOffset(3,n,0)}static endRecordBatch(t){return t.endObject()}},Ah=class z2{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDictionaryBatch(t,n){return(n||new z2).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryBatch(t,n){return t.setPosition(t.position()+Un),(n||new z2).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}data(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new Uu).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isDelta(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startDictionaryBatch(t){t.startObject(3)}static addId(t,n){t.addFieldInt64(0,n,t.createLong(0,0))}static addData(t,n){t.addFieldOffset(1,n,0)}static addIsDelta(t,n){t.addFieldInt8(2,+n,0)}static endDictionaryBatch(t){return t.endObject()}};var ET;(function(e){e[e.NONE=0]="NONE",e[e.Schema=1]="Schema",e[e.DictionaryBatch=2]="DictionaryBatch",e[e.RecordBatch=3]="RecordBatch",e[e.Tensor=4]="Tensor",e[e.SparseTensor=5]="SparseTensor"})(ET||(ET={}));let Xl=class $a{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsMessage(t,n){return(n||new $a).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMessage(t,n){return t.setPosition(t.position()+Un),(n||new $a).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):om.V1}headerType(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb_pos+t):ET.NONE}header(t){const n=this.bb.__offset(this.bb_pos,8);return n?this.bb.__union(t,this.bb_pos+n):null}bodyLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,12);return r?(n||new Wr).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startMessage(t){t.startObject(5)}static addVersion(t,n){t.addFieldInt16(0,n,om.V1)}static addHeaderType(t,n){t.addFieldInt8(1,n,ET.NONE)}static addHeader(t,n){t.addFieldOffset(2,n,0)}static addBodyLength(t,n){t.addFieldInt64(3,n,t.createLong(0,0))}static addCustomMetadata(t,n){t.addFieldOffset(4,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endMessage(t){return t.endObject()}static finishMessageBuffer(t,n){t.finish(n)}static finishSizePrefixedMessageBuffer(t,n){t.finish(n,void 0,!0)}static createMessage(t,n,r,i,s,o){return $a.startMessage(t),$a.addVersion(t,n),$a.addHeaderType(t,r),$a.addHeader(t,i),$a.addBodyLength(t,s),$a.addCustomMetadata(t,o),$a.endMessage(t)}};var Bje=fl;class jje extends sn{visit(t,n){return t==null||n==null?void 0:super.visit(t,n)}visitNull(t,n){return rd.startNull(n),rd.endNull(n)}visitInt(t,n){return Js.startInt(n),Js.addBitWidth(n,t.bitWidth),Js.addIsSigned(n,t.isSigned),Js.endInt(n)}visitFloat(t,n){return Qa.startFloatingPoint(n),Qa.addPrecision(n,t.precision),Qa.endFloatingPoint(n)}visitBinary(t,n){return ed.startBinary(n),ed.endBinary(n)}visitBool(t,n){return td.startBool(n),td.endBool(n)}visitUtf8(t,n){return sd.startUtf8(n),sd.endUtf8(n)}visitDecimal(t,n){return Ts.startDecimal(n),Ts.addScale(n,t.scale),Ts.addPrecision(n,t.precision),Ts.addBitWidth(n,t.bitWidth),Ts.endDecimal(n)}visitDate(t,n){return ib.startDate(n),ib.addUnit(n,t.unit),ib.endDate(n)}visitTime(t,n){return Ro.startTime(n),Ro.addUnit(n,t.unit),Ro.addBitWidth(n,t.bitWidth),Ro.endTime(n)}visitTimestamp(t,n){const r=t.timezone&&n.createString(t.timezone)||void 0;return tg.startTimestamp(n),tg.addUnit(n,t.unit),r!==void 0&&tg.addTimezone(n,r),tg.endTimestamp(n)}visitInterval(t,n){return Xa.startInterval(n),Xa.addUnit(n,t.unit),Xa.endInterval(n)}visitList(t,n){return nd.startList(n),nd.endList(n)}visitStruct(t,n){return id.startStruct_(n),id.endStruct_(n)}visitUnion(t,n){Is.startTypeIdsVector(n,t.typeIds.length);const r=Is.createTypeIdsVector(n,t.typeIds);return Is.startUnion(n),Is.addMode(n,t.mode),Is.addTypeIds(n,r),Is.endUnion(n)}visitDictionary(t,n){const r=this.visit(t.indices,n);return Yu.startDictionaryEncoding(n),Yu.addId(n,new Bje(t.id,0)),Yu.addIsOrdered(n,t.isOrdered),r!==void 0&&Yu.addIndexType(n,r),Yu.endDictionaryEncoding(n)}visitFixedSizeBinary(t,n){return Ga.startFixedSizeBinary(n),Ga.addByteWidth(n,t.byteWidth),Ga.endFixedSizeBinary(n)}visitFixedSizeList(t,n){return Ka.startFixedSizeList(n),Ka.addListSize(n,t.listSize),Ka.endFixedSizeList(n)}visitMap(t,n){return sb.startMap(n),sb.addKeysSorted(n,t.keysSorted),sb.endMap(n)}}const FA=new jje;function Uje(e,t=new Map){return new Cn(zje(e,t),ab(e.customMetadata),t)}function ane(e){return new po(e.count,une(e.columns),lne(e.columns))}function Vje(e){return new Iu(ane(e.data),e.id,e.isDelta)}function zje(e,t){return(e.fields||[]).filter(Boolean).map(n=>Sn.fromJSON(n,t))}function nU(e,t){return(e.children||[]).filter(Boolean).map(n=>Sn.fromJSON(n,t))}function une(e){return(e||[]).reduce((t,n)=>[...t,new rh(n.count,Hje(n.VALIDITY)),...une(n.children)],[])}function lne(e,t=[]){for(let n=-1,r=(e||[]).length;++n<r;){const i=e[n];i.VALIDITY&&t.push(new tu(t.length,i.VALIDITY.length)),i.TYPE&&t.push(new tu(t.length,i.TYPE.length)),i.OFFSET&&t.push(new tu(t.length,i.OFFSET.length)),i.DATA&&t.push(new tu(t.length,i.DATA.length)),t=lne(i.children,t)}return t}function Hje(e){return(e||[]).reduce((t,n)=>t+ +(n===0),0)}function qje(e,t){let n,r,i,s,o,a;return!t||!(s=e.dictionary)?(o=iU(e,nU(e,t)),i=new Sn(e.name,o,e.nullable,ab(e.customMetadata))):t.has(n=s.id)?(r=(r=s.indexType)?rU(r):new Jc,a=new ef(t.get(n),r,n,s.isOrdered),i=new Sn(e.name,a,e.nullable,ab(e.customMetadata))):(r=(r=s.indexType)?rU(r):new Jc,t.set(n,o=iU(e,nU(e,t))),a=new ef(o,r,n,s.isOrdered),i=new Sn(e.name,a,e.nullable,ab(e.customMetadata))),i||null}function ab(e){return new Map(Object.entries(e||{}))}function rU(e){return new us(e.isSigned,e.bitWidth)}function iU(e,t){const n=e.type.name;switch(n){case"NONE":return new Sl;case"null":return new Sl;case"binary":return new Py;case"utf8":return new tm;case"bool":return new Ry;case"list":return new im((t||[])[0]);case"struct":return new qi(t||[]);case"struct_":return new qi(t||[])}switch(n){case"int":{const r=e.type;return new us(r.isSigned,r.bitWidth)}case"floatingpoint":{const r=e.type;return new Zc(Pi[r.precision])}case"decimal":{const r=e.type;return new aT(r.scale,r.precision,r.bitWidth)}case"date":{const r=e.type;return new nm(wu[r.unit])}case"time":{const r=e.type;return new Il(rn[r.unit],r.bitWidth)}case"timestamp":{const r=e.type;return new uT(rn[r.unit],r.timezone)}case"interval":{const r=e.type;return new rm(Tu[r.unit])}case"union":{const r=e.type;return new Ny(Vo[r.mode],r.typeIds||[],t||[])}case"fixedsizebinary":{const r=e.type;return new lT(r.byteWidth)}case"fixedsizelist":{const r=e.type;return new sm(r.listSize,(t||[])[0])}case"map":{const r=e.type;return new ky((t||[])[0],r.keysSorted)}}throw new Error(`Unrecognized type: "${n}"`)}var Dd=fl,Wje=Mte,Yje=dT;class Ja{constructor(t,n,r,i){this._version=n,this._headerType=r,this.body=new Uint8Array(0),i&&(this._createHeader=()=>i),this._bodyLength=typeof t=="number"?t:t.low}static fromJSON(t,n){const r=new Ja(0,eo.V4,n);return r._createHeader=Gje(t,n),r}static decode(t){t=new Yje(An(t));const n=Xl.getRootAsMessage(t),r=n.bodyLength(),i=n.version(),s=n.headerType(),o=new Ja(r,i,s);return o._createHeader=Kje(n,s),o}static encode(t){const n=new Wje;let r=-1;return t.isSchema()?r=Cn.encode(n,t.header()):t.isRecordBatch()?r=po.encode(n,t.header()):t.isDictionaryBatch()&&(r=Iu.encode(n,t.header())),Xl.startMessage(n),Xl.addVersion(n,eo.V4),Xl.addHeader(n,r),Xl.addHeaderType(n,t.headerType),Xl.addBodyLength(n,new Dd(t.bodyLength,0)),Xl.finishMessageBuffer(n,Xl.endMessage(n)),n.asUint8Array()}static from(t,n=0){if(t instanceof Cn)return new Ja(0,eo.V4,ui.Schema,t);if(t instanceof po)return new Ja(n,eo.V4,ui.RecordBatch,t);if(t instanceof Iu)return new Ja(n,eo.V4,ui.DictionaryBatch,t);throw new Error(`Unrecognized Message header: ${t}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===ui.Schema}isRecordBatch(){return this.headerType===ui.RecordBatch}isDictionaryBatch(){return this.headerType===ui.DictionaryBatch}}class po{constructor(t,n,r){this._nodes=n,this._buffers=r,this._length=typeof t=="number"?t:t.low}get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}}class Iu{constructor(t,n,r=!1){this._data=t,this._isDelta=r,this._id=typeof n=="number"?n:n.low}get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}}class tu{constructor(t,n){this.offset=typeof t=="number"?t:t.low,this.length=typeof n=="number"?n:n.low}}class rh{constructor(t,n){this.length=typeof t=="number"?t:t.low,this.nullCount=typeof n=="number"?n:n.low}}function Gje(e,t){return()=>{switch(t){case ui.Schema:return Cn.fromJSON(e);case ui.RecordBatch:return po.fromJSON(e);case ui.DictionaryBatch:return Iu.fromJSON(e)}throw new Error(`Unrecognized Message type: { name: ${ui[t]}, type: ${t} }`)}}function Kje(e,t){return()=>{switch(t){case ui.Schema:return Cn.decode(e.header(new ja));case ui.RecordBatch:return po.decode(e.header(new Uu),e.version());case ui.DictionaryBatch:return Iu.decode(e.header(new Ah),e.version())}throw new Error(`Unrecognized Message type: { name: ${ui[t]}, type: ${t} }`)}}Sn.encode=oUe;Sn.decode=iUe;Sn.fromJSON=qje;Cn.encode=sUe;Cn.decode=Qje;Cn.fromJSON=Uje;po.encode=aUe;po.decode=Xje;po.fromJSON=ane;Iu.encode=uUe;Iu.decode=Jje;Iu.fromJSON=Vje;rh.encode=lUe;rh.decode=eUe;tu.encode=cUe;tu.decode=Zje;function Qje(e,t=new Map){const n=rUe(e,t);return new Cn(n,ub(e),t)}function Xje(e,t=eo.V4){if(e.compression()!==null)throw new Error("Record batch compression not implemented");return new po(e.length(),tUe(e),nUe(e,t))}function Jje(e,t=eo.V4){return new Iu(po.decode(e.data(),t),e.id(),e.isDelta())}function Zje(e){return new tu(e.offset(),e.length())}function eUe(e){return new rh(e.length(),e.nullCount())}function tUe(e){const t=[];for(let n,r=-1,i=-1,s=e.nodesLength();++r<s;)(n=e.nodes(r))&&(t[++i]=rh.decode(n));return t}function nUe(e,t){const n=[];for(let r,i=-1,s=-1,o=e.buffersLength();++i<o;)(r=e.buffers(i))&&(t<eo.V4&&(r.bb_pos+=8*(i+1)),n[++s]=tu.decode(r));return n}function rUe(e,t){const n=[];for(let r,i=-1,s=-1,o=e.fieldsLength();++i<o;)(r=e.fields(i))&&(n[++s]=Sn.decode(r,t));return n}function sU(e,t){const n=[];for(let r,i=-1,s=-1,o=e.childrenLength();++i<o;)(r=e.children(i))&&(n[++s]=Sn.decode(r,t));return n}function iUe(e,t){let n,r,i,s,o,a;return!t||!(a=e.dictionary())?(i=aU(e,sU(e,t)),r=new Sn(e.name(),i,e.nullable(),ub(e))):t.has(n=a.id().low)?(s=(s=a.indexType())?oU(s):new Jc,o=new ef(t.get(n),s,n,a.isOrdered()),r=new Sn(e.name(),o,e.nullable(),ub(e))):(s=(s=a.indexType())?oU(s):new Jc,t.set(n,i=aU(e,sU(e,t))),o=new ef(i,s,n,a.isOrdered()),r=new Sn(e.name(),o,e.nullable(),ub(e))),r||null}function ub(e){const t=new Map;if(e)for(let n,r,i=-1,s=Math.trunc(e.customMetadataLength());++i<s;)(n=e.customMetadata(i))&&(r=n.key())!=null&&t.set(r,n.value());return t}function oU(e){return new us(e.isSigned(),e.bitWidth())}function aU(e,t){const n=e.typeType();switch(n){case dr.NONE:return new Sl;case dr.Null:return new Sl;case dr.Binary:return new Py;case dr.Utf8:return new tm;case dr.Bool:return new Ry;case dr.List:return new im((t||[])[0]);case dr.Struct_:return new qi(t||[])}switch(n){case dr.Int:{const r=e.type(new Js);return new us(r.isSigned(),r.bitWidth())}case dr.FloatingPoint:{const r=e.type(new Qa);return new Zc(r.precision())}case dr.Decimal:{const r=e.type(new Ts);return new aT(r.scale(),r.precision(),r.bitWidth())}case dr.Date:{const r=e.type(new ib);return new nm(r.unit())}case dr.Time:{const r=e.type(new Ro);return new Il(r.unit(),r.bitWidth())}case dr.Timestamp:{const r=e.type(new tg);return new uT(r.unit(),r.timezone())}case dr.Interval:{const r=e.type(new Xa);return new rm(r.unit())}case dr.Union:{const r=e.type(new Is);return new Ny(r.mode(),r.typeIdsArray()||[],t||[])}case dr.FixedSizeBinary:{const r=e.type(new Ga);return new lT(r.byteWidth())}case dr.FixedSizeList:{const r=e.type(new Ka);return new sm(r.listSize(),(t||[])[0])}case dr.Map:{const r=e.type(new sb);return new ky((t||[])[0],r.keysSorted())}}throw new Error(`Unrecognized type: "${dr[n]}" (${n})`)}function sUe(e,t){const n=t.fields.map(s=>Sn.encode(e,s));ja.startFieldsVector(e,n.length);const r=ja.createFieldsVector(e,n),i=t.metadata&&t.metadata.size>0?ja.createCustomMetadataVector(e,[...t.metadata].map(([s,o])=>{const a=e.createString(`${s}`),u=e.createString(`${o}`);return Wr.startKeyValue(e),Wr.addKey(e,a),Wr.addValue(e,u),Wr.endKeyValue(e)})):-1;return ja.startSchema(e),ja.addFields(e,r),ja.addEndianness(e,fUe?am.Little:am.Big),i!==-1&&ja.addCustomMetadata(e,i),ja.endSchema(e)}function oUe(e,t){let n=-1,r=-1,i=-1;const s=t.type;let o=t.typeId;Kt.isDictionary(s)?(o=s.dictionary.typeId,i=FA.visit(s,e),r=FA.visit(s.dictionary,e)):r=FA.visit(s,e);const a=(s.children||[]).map(c=>Sn.encode(e,c)),u=So.createChildrenVector(e,a),l=t.metadata&&t.metadata.size>0?So.createCustomMetadataVector(e,[...t.metadata].map(([c,f])=>{const d=e.createString(`${c}`),h=e.createString(`${f}`);return Wr.startKeyValue(e),Wr.addKey(e,d),Wr.addValue(e,h),Wr.endKeyValue(e)})):-1;return t.name&&(n=e.createString(t.name)),So.startField(e),So.addType(e,r),So.addTypeType(e,o),So.addChildren(e,u),So.addNullable(e,!!t.nullable),n!==-1&&So.addName(e,n),i!==-1&&So.addDictionary(e,i),l!==-1&&So.addCustomMetadata(e,l),So.endField(e)}function aUe(e,t){const n=t.nodes||[],r=t.buffers||[];Uu.startNodesVector(e,n.length);for(const o of n.slice().reverse())rh.encode(e,o);const i=e.endVector();Uu.startBuffersVector(e,r.length);for(const o of r.slice().reverse())tu.encode(e,o);const s=e.endVector();return Uu.startRecordBatch(e),Uu.addLength(e,new Dd(t.length,0)),Uu.addNodes(e,i),Uu.addBuffers(e,s),Uu.endRecordBatch(e)}function uUe(e,t){const n=po.encode(e,t.data);return Ah.startDictionaryBatch(e),Ah.addId(e,new Dd(t.id,0)),Ah.addIsDelta(e,t.isDelta),Ah.addData(e,n),Ah.endDictionaryBatch(e)}function lUe(e,t){return one.createFieldNode(e,new Dd(t.length,0),new Dd(t.nullCount,0))}function cUe(e,t){return sne.createBuffer(e,new Dd(t.offset,0),new Dd(t.length,0))}const fUe=(()=>{const e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),new Int16Array(e)[0]===256})(),H2="ARROW1",K$=new Uint8Array(H2.length);for(let e=0;e<H2.length;e+=1)K$[e]=H2.codePointAt(e);K$.length;class Vr extends sn{constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}static assemble(...t){const n=i=>i.flatMap(s=>Array.isArray(s)?n(s):s instanceof Zs?s.data.children:s.data),r=new Vr;return r.visitMany(n(t)),r}visit(t){if(t instanceof yn)return this.visitMany(t.data),this;const{type:n}=t;if(!Kt.isDictionary(n)){const{length:r,nullCount:i}=t;if(r>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");Kt.isNull(n)||ba.call(this,i<=0?new Uint8Array(0):j$(t.offset,r,t.nullBitmap)),this.nodes.push(new rh(r,i))}return super.visit(t)}visitNull(t){return this}visitDictionary(t){return this.visit(t.clone(t.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}function ba(e){const t=e.byteLength+7&-8;return this.buffers.push(e),this.bufferRegions.push(new tu(this._byteLength,t)),this._byteLength+=t,this}function dUe(e){const{type:t,length:n,typeIds:r,valueOffsets:i}=e;if(ba.call(this,r),t.mode===Vo.Sparse)return q2.call(this,e);if(t.mode===Vo.Dense){if(e.offset<=0)return ba.call(this,i),q2.call(this,e);{const s=r.reduce((c,f)=>Math.max(c,f),r[0]),o=new Int32Array(s+1),a=new Int32Array(s+1).fill(-1),u=new Int32Array(n),l=h$(-i[0],n,i);for(let c,f,d=-1;++d<n;)(f=a[c=r[d]])===-1&&(f=a[c]=l[c]),u[d]=l[d]-f,++o[c];ba.call(this,u);for(let c,f=-1,d=t.children.length;++f<d;)if(c=e.children[f]){const h=t.typeIds[f],p=Math.min(n,o[h]);this.visit(c.slice(a[h],p))}}}return this}function hUe(e){let t;return e.nullCount>=e.length?ba.call(this,new Uint8Array(0)):(t=e.values)instanceof Uint8Array?ba.call(this,j$(e.offset,e.length,t)):ba.call(this,wte(e.values))}function Ef(e){return ba.call(this,e.values.subarray(0,e.length*e.stride))}function cne(e){const{length:t,values:n,valueOffsets:r}=e,i=r[0],s=r[t],o=Math.min(s-i,n.byteLength-i);return ba.call(this,h$(-r[0],t,r)),ba.call(this,n.subarray(i,i+o)),this}function Q$(e){const{length:t,valueOffsets:n}=e;return n&&ba.call(this,h$(n[0],t,n)),this.visit(e.children[0])}function q2(e){return this.visitMany(e.type.children.map((t,n)=>e.children[n]).filter(Boolean))[0]}Vr.prototype.visitBool=hUe;Vr.prototype.visitInt=Ef;Vr.prototype.visitFloat=Ef;Vr.prototype.visitUtf8=cne;Vr.prototype.visitBinary=cne;Vr.prototype.visitFixedSizeBinary=Ef;Vr.prototype.visitDate=Ef;Vr.prototype.visitTimestamp=Ef;Vr.prototype.visitTime=Ef;Vr.prototype.visitDecimal=Ef;Vr.prototype.visitList=Q$;Vr.prototype.visitStruct=q2;Vr.prototype.visitUnion=dUe;Vr.prototype.visitInterval=Ef;Vr.prototype.visitFixedSizeList=Q$;Vr.prototype.visitMap=Q$;class fne extends Bte{constructor(t){super(),this._position=0,this._started=!1,this._sink=new LA,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,yf(t)||(t={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof t.autoDestroy=="boolean"?t.autoDestroy:!0,this._writeLegacyIpcFormat=typeof t.writeLegacyIpcFormat=="boolean"?t.writeLegacyIpcFormat:!1}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,n){throw new Error('"throughDOM" not available in this environment')}toString(t=!1){return this._sink.toString(t)}toUint8Array(t=!1){return this._sink.toUint8Array(t)}writeAll(t){return PI(t)?t.then(n=>this.writeAll(n)):RI(t)?e3(this,t):Z$(this,t)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(t){return this._sink.toDOMStream(t)}toNodeStream(t){return this._sink.toNodeStream(t)}close(){return this.reset()._sink.close()}abort(t){return this.reset()._sink.abort(t)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(t=this._sink,n=null){return t===this._sink||t instanceof LA?this._sink=t:(this._sink=new LA,t&&E9e(t)?this.toDOMStream({type:"bytes"}).pipeTo(t):t&&w9e(t)&&this.toNodeStream({objectMode:!1}).pipe(t)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,(!n||!U2(n,this._schema))&&(n==null?(this._position=0,this._schema=null):(this._started=!0,this._schema=n,this._writeSchema(n))),this}write(t){let n=null;if(this._sink){if(t==null)return this.finish()&&void 0;if(t instanceof xs&&!(n=t.schema))return this.finish()&&void 0;if(t instanceof Zs&&!(n=t.schema))return this.finish()&&void 0}else throw new Error("RecordBatchWriter is closed");if(n&&!U2(n,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,n)}t instanceof Zs?t instanceof Fje||this._writeRecordBatch(t):t instanceof xs?this.writeAll(t.batches):f$(t)&&this.writeAll(t)}_writeMessage(t,n=8){const r=n-1,i=Ja.encode(t),s=i.byteLength,o=this._writeLegacyIpcFormat?4:8,a=s+o+r&~r,u=a-s-o;return t.headerType===ui.RecordBatch?this._recordBatchBlocks.push(new tf(a,t.bodyLength,this._position)):t.headerType===ui.DictionaryBatch&&this._dictionaryBlocks.push(new tf(a,t.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(a-o)),s>0&&this._write(i),this._writePadding(u)}_write(t){if(this._started){const n=An(t);n&&n.byteLength>0&&(this._sink.write(n),this._position+=n.byteLength)}return this}_writeSchema(t){return this._writeMessage(Ja.from(t))}_writeFooter(t){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(K$)}_writePadding(t){return t>0?this._write(new Uint8Array(t)):this}_writeRecordBatch(t){const{byteLength:n,nodes:r,bufferRegions:i,buffers:s}=Vr.assemble(t),o=new po(t.numRows,r,i),a=Ja.from(o,n);return this._writeDictionaries(t)._writeMessage(a)._writeBodyBuffers(s)}_writeDictionaryBatch(t,n,r=!1){this._dictionaryDeltaOffsets.set(n,t.length+(this._dictionaryDeltaOffsets.get(n)||0));const{byteLength:i,nodes:s,bufferRegions:o,buffers:a}=Vr.assemble(new yn([t])),u=new po(t.length,s,o),l=new Iu(u,n,r),c=Ja.from(l,i);return this._writeMessage(c)._writeBodyBuffers(a)}_writeBodyBuffers(t){let n,r,i;for(let s=-1,o=t.length;++s<o;)(n=t[s])&&(r=n.byteLength)>0&&(this._write(n),(i=(r+7&-8)-r)>0&&this._writePadding(i));return this}_writeDictionaries(t){for(let[n,r]of t.dictionaries){let i=this._dictionaryDeltaOffsets.get(n)||0;if(i===0||(r=r==null?void 0:r.slice(i)).length>0)for(const s of r.data)this._writeDictionaryBatch(s,n,i>0),i+=s.length}return this}}class X$ extends fne{static writeAll(t,n){const r=new X$(n);return PI(t)?t.then(i=>r.writeAll(i)):RI(t)?e3(r,t):Z$(r,t)}}class J$ extends fne{static writeAll(t){const n=new J$;return PI(t)?t.then(r=>n.writeAll(r)):RI(t)?e3(n,t):Z$(n,t)}constructor(){super(),this._autoDestroy=!0}_writeSchema(t){return this._writeMagic()._writePadding(2)}_writeFooter(t){const n=j2.encode(new j2(t,eo.V4,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(t)._write(n)._write(Int32Array.of(n.byteLength))._writeMagic()}}function Z$(e,t){let n=t;t instanceof xs&&(n=t.batches,e.reset(void 0,t.schema));for(const r of n)e.write(r);return e.finish()}function e3(e,t){var n,r,i,s;return qu(this,void 0,void 0,function*(){try{for(n=Lg(t);r=yield n.next(),!r.done;){const o=r.value;e.write(o)}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}return e.finish()})}function pUe(e,t="stream"){return(t==="stream"?X$:J$).writeAll(e).toUint8Array(!0)}function t3(e,t=1){return(e*t+63&-64||64)/t}function rf(e,t,n=e.BYTES_PER_ELEMENT){return new e(t3(t,n))}function n3(e){return e instanceof $n?e:new $n(e.type,0,e.length,e.nulls,e.buffers,null,e.dict)}function mUe(e){return new yn([n3(e)])}const r3=new TextEncoder;function gUe(e,t,n){const r=r3.encode(n);return e.set(r,t),r.length}function yUe(e,t,n){return r3.encodeInto(n,e.subarray(t)).written}const _Ue=r3.encodeInto?yUe:gUe;function uU(e,t){const n=rf(e.ArrayType,t);return{set(r,i){n[i]=r},data:()=>({type:e,length:t,buffers:[null,n]})}}function vUe(e,t){const n=rf(e.ArrayType,t/8);return{set(r,i){r&&(n[i>>3]|=1<<i%8)},data:()=>({type:e,length:t,buffers:[null,n]})}}function bUe(e,t){const n=rf(e.ArrayType,t);return{set(r,i){n[i]=r/864e5|0},data:()=>({type:e,length:t,buffers:[null,n]})}}function EUe(e,t){const n=rf(e.ArrayType,t<<1);return{set(r,i){const s=i<<1;n[s]=r%4294967296|0,n[s+1]=r/4294967296|0},data:()=>({type:e,length:t,buffers:[null,n]})}}function wUe(e){const t=_T({type:e,nullValues:[null,void 0]});return{set(n,r){t.set(r,n)},data:()=>t.finish().flush()}}function TUe(e,t,n){const r=rf(Int32Array,t+1),i=rf(Uint8Array,3*n);let s=0;return{set(o,a){s+=_Ue(i,s,o),r[a+1]=s},data:()=>{const o=t3(s),a=i.length>o?i.subarray(0,o):i;return{type:e,length:t,buffers:[r,a]}}}}function SUe(e,t){const n=[],r=rf(e.indices.ArrayType,t),i=Object.create(null);let s=-1,o=0;return{set(a,u){const l=String(a);let c=i[l];c===void 0&&(o+=l.length,i[l]=c=++s,n.push(l)),r[u]=c},data:()=>({type:e,length:t,buffers:[null,r],dict:IUe(e.dictionary,n,o)})}}function IUe(e,t,n){const r=TUe(e,t.length,n);return t.forEach(r.set),mUe(r.data())}function xUe(e,t){const n=rf(Uint8Array,t/8);let r=0;return{set(i,s){i==null?++r:(e.set(i,s),n[s>>3]|=1<<s%8)},data:()=>{const i=e.data();return r&&(i.nulls=r,i.buffers[2]=n),i}}}function CUe(e,t,n=!0){let r;switch(e.typeId){case J.Int:r=e.bitWidth<64?uU:null;break;case J.Float:r=e.precision>0?uU:null;break;case J.Dictionary:r=e.dictionary.typeId===J.Utf8&&e.indices.typeId===J.Int&&e.indices.bitWidth<64?SUe:null;break;case J.Bool:r=vUe;break;case J.Date:r=e.unit?EUe:bUe;break}return r==null?wUe(e):n?xUe(r(e,t),t):r(e,t)}function AUe(e,t){const n=e.length,r=t3(n,e.BYTES_PER_ELEMENT);let i=e;return n!==r&&(i=new e.constructor(r),i.set(e)),n3({type:t,length:n,buffers:[null,i]})}function dne(e,t,n,r,i=!0){const s=CUe(r,e,i);return t(n,s.set),n3(s.data())}function i3(e){if(e instanceof Kt||e==null)return e;switch(e){case J.Binary:return new Py;case J.Bool:return new Ry;case J.DateDay:return new L9e;case J.DateMillisecond:case J.Date:return new M9e;case J.Dictionary:return new ef(new tm,new Jc);case J.Float16:return new zee;case J.Float32:return new w$;case J.Float64:case J.Float:return new T$;case J.Int8:return new m$;case J.Int16:return new g$;case J.Int32:case J.Int:return new Jc;case J.Int64:return new y$;case J.IntervalDayTime:return new V9e;case J.Interval:case J.IntervalYearMonth:return new z9e;case J.Null:return new Sl;case J.TimeMicrosecond:return new j9e;case J.TimeMillisecond:case J.Time:return new B9e;case J.TimeNanosecond:return new U9e;case J.TimeSecond:return new F9e;case J.Uint8:return new _$;case J.Uint16:return new v$;case J.Uint32:return new b$;case J.Uint64:return new E$;case J.Utf8:return new tm;default:Ft(`Unsupported type code: ${bu(e)}. Use a data type constructor instead?`)}}function OUe(e){return e.getUTCHours()===0&&e.getUTCMinutes()===0&&e.getUTCSeconds()===0&&e.getUTCMilliseconds()===0}function hne(e,t){const n=W2();return e(t,n.add),n}function W2(){const e={count:0,nulls:0,bools:0,nums:0,ints:0,bigints:0,min:1/0,max:-1/0,digits:0,dates:0,utcdays:0,strings:0,strlen:0,arrays:0,minlen:1/0,maxlen:0,structs:0,add(t){if(++e.count,t==null){++e.nulls;return}const n=typeof t;if(n==="string")++e.strings;else if(n==="number")++e.nums,t<e.min&&(e.min=t),t>e.max&&(e.max=t),Number.isInteger(t)&&++e.ints;else if(n==="boolean")++e.bools;else if(n==="object")if(Tl(t))++e.dates,OUe(t)&&++e.utcdays;else if(Jf(t)){++e.arrays,t.length<e.minlen&&(e.minlen=t.length),t.length>e.maxlen&&(e.maxlen=t.length);const r=e.array_prof||(e.array_prof=W2());t.forEach(r.add)}else{++e.structs;const r=e.struct_prof||(e.struct_prof={});for(const i in t)(r[i]||(r[i]=W2())).add(t[i])}else n==="bigint"&&(++e.bigints,t<e.min&&(e.min=t),t>e.max&&(e.max=t))},type(){return i3(PUe(e))}};return e}function PUe(e){const t=e.count-e.nulls;if(t===0)return J.Null;if(e.ints===t){const n=Math.max(Math.abs(e.min)-1,e.max);return e.min<0?n>=2**31?J.Float64:n<128?J.Int8:n<32768?J.Int16:J.Int32:n>=2**32?J.Float64:n<256?J.Uint8:n<65536?J.Uint16:J.Uint32}else{if(e.nums===t)return J.Float64;if(e.bigints===t){const n=-e.min>e.max?-e.min-1n:e.max;return e.min<0?n<2**63?J.Int64:Ft(`BigInt exceeds 64 bits: ${n}`):e.max<2**64?J.Uint64:Ft(`BigInt exceeds 64 bits: ${e.max}`)}else{if(e.bools===t)return J.Bool;if(e.utcdays===t)return J.DateDay;if(e.dates===t)return J.DateMillisecond;if(e.arrays===t){const n=Sn.new("value",e.array_prof.type(),!0);return e.minlen===e.maxlen?new sm(e.minlen,n):new im(n)}else if(e.structs===t){const n=e.struct_prof;return new qi(Object.keys(n).map(r=>Sn.new(r,n[r].type(),!0)))}else{if(e.strings>0)return J.Dictionary;Ft("Type inference failure")}}}}function RUe(e,t,n,r,i,s=!0){if(i=i3(i),!i){const o=hne(r,t);s=o.nulls>0,i=o.type()}return dne(n,r,t,i,s)}function NUe(e,t,n,r,i,s=!0){i=i3(i);const o=e.column(t),a=!(e.isFiltered()||e.isOrdered()),u=kUe(o);if(u&&a&&lU(u.type,i))return u;const l=o.data;if($_(l)){const c=DUe(l);if(a&&c&&lU(c,i))return AUe(l,c);i=i||c,s=!1}if(!i){const c=hne(r,o);s=c.nulls>0,i=c.type()}return dne(n,r,o,i,s)}function kUe(e){return e instanceof yn?e:e.vector instanceof yn?e.vector:null}function DUe(e){const n={Float32Array:w$,Float64Array:T$,Int8Array:m$,Int16Array:g$,Int32Array:Jc,Uint8Array:_$,Uint16Array:v$,Uint32Array:b$,BigInt64Array:y$,BigUint64Array:E$}[e.constructor.name];return n?new n:null}function lU(e,t){return!e||!t?!0:e.compareTo(t)}function $Ue(e,t,n){const r=Math.min(e.length,n+t);return(i,s)=>{for(let o=n;o<r;++o)s(e[o][i],o)}}function LUe(e,t,n){const r=n===0&&e.numRows()<=t&&!e.isFiltered()&&!e.isOrdered();return(i,s)=>{let o=-1;r&&Jf(i.data)?i.data.forEach(s):e.scan(a=>s(i.get(a),++o),!0,t,n)}}const MUe=()=>Ft("Apache Arrow not imported, see https://github.com/uwdata/arquero#usage");function FUe(){try{return xs}catch{MUe()}}function pne(e,t={}){const{types:n={}}=t,{dataFrom:r,names:i,nrows:s,scan:o}=BUe(e,t),a={};i.forEach(l=>{const c=r(e,l,s,o,n[l]);c.length!==s&&Ft("Column length mismatch"),a[l]=c});const u=FUe();return new u(a)}function BUe(e,t){const{columns:n,limit:r=1/0,offset:i=0}=t,s=Jn(n)?n(e):gn(n)?n:null;if(gn(e))return{dataFrom:RUe,names:s||Object.keys(e[0]),nrows:Math.min(r,e.length-i),scan:$Ue(e,r,i)};if(jUe(e))return{dataFrom:NUe,names:s||e.columnNames(),nrows:Math.min(r,e.numRows()-i),scan:LUe(e,r,i)};Ft("Unsupported input data type")}function jUe(e){return e&&Jn(e.reify)}function UUe(e,t={}){const{format:n,...r}=t,i=n||"stream";if(!["stream","file"].includes(i))throw Error("Unrecognised output format");return pUe(pne(e,r),n)}function VUe(e){return e.getUTCHours()===0&&e.getUTCMinutes()===0&&e.getUTCSeconds()===0&&e.getUTCMilliseconds()===0}function zUe(e,t={}){let n=0,r=0,i=0,s=0,o=0,a=0;return e(u=>{if(++n,u==null){++r;return}const l=typeof u;if(l==="object"&&Tl(u))++i,VUe(u)&&++s;else if(l==="number"&&(++o,u===u&&(u|0)!==u)){const c=u+"",f=c.indexOf(".");if(f>=0){const d=c.indexOf("e"),h=d>0?d:c.length;a=Math.max(a,h-f-1)}}}),{align:(r+o+i)/n>.5?"r":"l",format:{utc:i===s,digits:Math.min(a,t.maxdigits||6)}}}function jI(e,t){return Jn(t)?t(e):t||e.columnNames()}function mne(e,t,n){const r=n.format||{},i=n.align||{},s={},o={};return t.forEach(a=>{const u=zUe(HUe(e,a),n);o[a]=i[a]||u.align,s[a]=r[a]||u.format}),{align:o,format:s}}function HUe(e,t){const n=e.column(t);return r=>e.scan(i=>r(n.get(i)))}function s3(e,t,n=100,r,i){const s=e.data(),o=t.length;e.scan(a=>{i.row(a);for(let u=0;u<o;++u){const l=t[u];i.cell(s[t[u]].get(a),l,u)}},!0,n,r)}function qUe(e,t={}){const n=jI(e,t.columns),r=t.format||{},i=t.delimiter||",",s=new RegExp(`["${i}
\r]`),o=l=>l==null?"":Tl(l)?AI(l,!0):s.test(l+="")?'"'+l.replace(/"/g,'""')+'"':l,a=n.map(o);let u="";return s3(e,n,t.limit||1/0,t.offset,{row(){u+=a.join(i)+`
`},cell(l,c,f){a[f]=o(r[c]?r[c](l):l)}}),u+a.join(i)}function gne(e,t={}){if(Jn(t))return t(e)+"";const n=typeof e;if(n==="object"){if(Tl(e))return t.utc?AI(e):GZ(e);{const r=JSON.stringify(e,(s,o)=>$_(o)?Array.from(o):o),i=t.maxlen||30;return r.length>i?r.slice(0,28)+""+(r[0]==="["?"]":"}"):r}}else if(n==="number"){const r=t.digits||0;let i;return e!==0&&((i=Math.abs(e))>=1e18||i<Math.pow(10,-r))?e.toExponential(r):e.toFixed(r)}else return e+""}function UI(e,t,n={}){for(const r in e)n[r]=t(e[r],r);return n}function WUe(e,t={}){const n=jI(e,t.columns),{align:r,format:i}=mne(e,n,t),s=YUe(t),o=t.null,a=m=>m==="c"?"center":m==="r"?"right":"left",u=m=>m.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),l=(m,y)=>u(gne(m,y)),c=o?(m,y)=>m==null?o(m):l(m,y):l;let f=-1,d=-1;const h=(m,y,g)=>{const _=g?a(r[y]):"",b=s[m]&&s[m](y,d,f)||"",T=(_?`text-align: ${_};`+(b?" ":""):"")+b;return`<${m}${T?` style="${T}"`:""}>`};let p=h("table")+h("thead")+h("tr",f)+n.map(m=>`${h("th",m,1)}${m}</th>`).join("")+"</tr></thead>"+h("tbody");return s3(e,n,t.limit,t.offset,{row(m){f=m,p+=(++d?"</tr>":"")+h("tr")},cell(m,y){p+=h("td",y,1)+c(m,i[y])+"</td>"}}),p+"</tr></tbody></table>"}function YUe(e){return UI(e.style,t=>Jn(t)?t:()=>t)}function GUe(e,t=!0,n=!1){return e===void 0||e?t:n}const KUe=e=>Tl(e)?AI(e,!0):e;function QUe(e,t={}){const n=GUe(t.schema),r=t.format||{},i=jI(e,t.columns);let s="{";return n&&(s+='"schema":{"fields":'+JSON.stringify(i.map(o=>({name:o})))+'},"data":{'),i.forEach((o,a)=>{s+=(a?",":"")+JSON.stringify(o)+":[";const u=e.column(o),l=r[o]||KUe;let c=-1;e.scan(f=>{const d=u.get(f);s+=(++c?",":"")+JSON.stringify(l(d))},!0,t.limit,t.offset),s+="]"}),s+"}"+(n?"}":"")}function XUe(e,t={}){const n=jI(e,t.columns),{align:r,format:i}=mne(e,n,t),s=u=>u==="c"?":-:":u==="r"?"-:":":-",o=u=>u.replace(/\|/g,"\\|");let a="|"+n.map(o).join("|")+`|
|`+n.map(u=>s(r[u])).join("|")+"|";return s3(e,n,t.limit,t.offset,{row(){a+=`
|`},cell(u,l){a+=o(gne(u,i[l]))+"|"}}),a+`
`}function yne(e,t){for(const[n,r]of OI(t))e.set(n,r);return e}function JUe(e){return e.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&")}function xl(e,t,n=new Map){return t=as(t)?e.columnName(t):t,Di(t)?n.set(t,t):gn(t)?t.forEach(r=>xl(e,r,n)):Jn(t)?xl(e,t(e),n):Ki(t)?yne(n,t):Ft(`Invalid column selection: ${bu(t)}`),n}function VI(e,t){return e.toObject=t,e}function _ne(e){return gn(e)?e.map(_ne):e&&e.toObject?e.toObject():e}function lm(){return VI(e=>e.columnNames(),()=>({all:[]}))}function vne(...e){return e=e.flat(),VI(t=>{const n=xl(t,e);return t.columnNames(r=>!n.has(r))},()=>({not:_ne(e)}))}function ZUe(e,t){return VI(n=>{let r=as(e)?e:n.columnIndex(e),i=as(t)?t:n.columnIndex(t);if(i<r){const s=i;i=r,r=s}return n.columnNames().slice(r,i+1)},()=>({range:[e,t]}))}function eVe(e){return Di(e)&&(e=RegExp(JUe(e))),VI(t=>t.columnNames(n=>e.test(n)),()=>({matches:[e.source,e.flags]}))}function tVe(e){return $_(e.data)?e.data.constructor:Array}class Gu extends b8e{static from(t,n){return new Gu(T8e(t,n),n)}static new(t,n){if(t instanceof Gu)return t;const r={},i=[];for(const[s,o]of OI(t))r[s]=o,i.push(s);return new Gu(r,n||i)}constructor(t,n,r,i,s,o){UI(t,w8e,t),n=n||Object.keys(t);const a=n.length?t[n[0]].length:0;super(n,a,t,r,i,s,o)}create({data:t,names:n,filter:r,groups:i,order:s}){const o=r!==void 0?r:this.mask();return new Gu(t||this._data,n||(t?null:this._names),o,i!==void 0?i:J8e(this._group,r&&o),s!==void 0?s:this._order,this._params)}assign(...t){const n=this.numRows(),r=this.reify(),i=bo(r).groupby(r.groups());return t.forEach(s=>{s=Gu.new(s),s.numRows()!==n&&Ft("Assign row counts do not match"),s=s.reify(),s.columnNames(o=>i.add(o,s.column(o)))}),this.create(i.new())}columns(){return this._data}column(t){return this._data[t]}columnAt(t){return this._data[this._names[t]]}array(t,n=Array){const r=this.column(t),i=new n(this.numRows());let s=-1;return this.scan(o=>i[++s]=r.get(o),!0),i}get(t,n=0){const r=this.column(t);return this.isFiltered()||this.isOrdered()?r.get(this.indices()[n]):r.get(n)}getter(t){const n=this.column(t),r=this.isFiltered()||this.isOrdered()?this.indices():null;return r?i=>n.get(r[i]):n?i=>n.get(i):Ft(`Unrecognized column: ${t}`)}object(t=0){return cU(this)(t)}objects(t={}){const{grouped:n,limit:r,offset:i}=t,s=xl(this,t.columns||lm()),o=vee(s),a=[];if(this.scan((u,l)=>a.push(o(u,l)),!0,r,i),n&&this.isGrouped()){const u=[];return this.scan(l=>u.push(l),!0,r,i),e9e(this,u,a,n)}return a}*[Symbol.iterator](){const t=cU(this),n=this.numRows();for(let r=0;r<n;++r)yield t(r)}reify(t){const n=t?t.length:this.numRows(),r=this._names;let i,s;if(!t&&!this.isOrdered())if(this.isFiltered())n===this.totalRows()&&(i=this.data());else return this;if(!i){const o=t?u=>t.forEach(u):u=>this.scan(u,!0),a=r.length;i={};for(let u=0;u<a;++u){const l=r[u],c=this.column(l),f=i[l]=new(tVe(c))(n);let d=-1;o(h=>f[++d]=c.get(h))}this.isGrouped()&&(s=Z8e(this.groups(),o,!!t,n))}return this.create({data:i,names:r,groups:s,filter:null,order:null})}transform(...t){return t.flat().reduce((n,r)=>r(n),this)}toArrow(t){return pne(this,t)}toArrowBuffer(t){return UUe(this,t)}toCSV(t){return qUe(this,t)}toHTML(t){return WUe(this,t)}toJSON(t){return QUe(this,t)}toMarkdown(t){return XUe(this,t)}}function cU(e){let t=e._builder;if(!t){const n=vee(e.columnNames()),r=e.data();if(e.isOrdered()||e.isFiltered()){const i=e.indices();t=s=>n(i[s],r)}else t=i=>n(i,r);e._builder=t}return t}class nVe{constructor(t){this._outputs=t}size(){return this._outputs.length}outputs(){return this._outputs}init(){return{}}add(){}rem(){}write(){}}function ln(e,t,n,r){const i=n[e.type]||n.Default;if(i&&i(e,t,r)===!1)return;const s=rVe[e.type];s&&s(e,t,n)}const c1=(e,t,n)=>{ln(e.argument,t,n,e)},BA=(e,t,n)=>{ln(e.left,t,n,e),ln(e.right,t,n,e)},fU=(e,t,n)=>{ln(e.test,t,n,e),ln(e.consequent,t,n,e),e.alternate&&ln(e.alternate,t,n,e)},jA=(e,t,n)=>{Ua(e.params,t,n,e),ln(e.body,t,n,e)},dU=(e,t,n)=>{ln(e.callee,t,n,e),Ua(e.arguments,t,n,e)},Ua=(e,t,n,r)=>{e.forEach(i=>ln(i,t,n,r))},rVe={TemplateLiteral:(e,t,n)=>{Ua(e.expressions,t,n,e),Ua(e.quasis,t,n,e)},MemberExpression:(e,t,n)=>{ln(e.object,t,n,e),ln(e.property,t,n,e)},CallExpression:dU,NewExpression:dU,ArrayExpression:(e,t,n)=>{Ua(e.elements,t,n,e)},AssignmentExpression:BA,AwaitExpression:c1,BinaryExpression:BA,LogicalExpression:BA,UnaryExpression:c1,UpdateExpression:c1,ConditionalExpression:fU,ObjectExpression:(e,t,n)=>{Ua(e.properties,t,n,e)},Property:(e,t,n)=>{ln(e.key,t,n,e),ln(e.value,t,n,e)},ArrowFunctionExpression:jA,FunctionExpression:jA,FunctionDeclaration:jA,VariableDeclaration:(e,t,n)=>{Ua(e.declarations,t,n,e)},VariableDeclarator:(e,t,n)=>{ln(e.id,t,n,e),ln(e.init,t,n,e)},SpreadElement:(e,t,n)=>{ln(e.argument,t,n,e)},BlockStatement:(e,t,n)=>{Ua(e.body,t,n,e)},ExpressionStatement:(e,t,n)=>{ln(e.expression,t,n,e)},IfStatement:fU,ForStatement:(e,t,n)=>{ln(e.init,t,n,e),ln(e.test,t,n,e),ln(e.update,t,n,e),ln(e.body,t,n,e)},WhileStatement:(e,t,n)=>{ln(e.test,t,n,e),ln(e.body,t,n,e)},DoWhileStatement:(e,t,n)=>{ln(e.body,t,n,e),ln(e.test,t,n,e)},SwitchStatement:(e,t,n)=>{ln(e.discriminant,t,n,e),Ua(e.cases,t,n,e)},SwitchCase:(e,t,n)=>{e.test&&ln(e.test,t,n,e),Ua(e.consequent,t,n,e)},ReturnStatement:c1,Program:(e,t,n)=>{ln(e.body[0],t,n,e)}};function bne(e){delete e.start,delete e.end,delete e.optional}function hU(e){bne(e),delete e.object,delete e.property,delete e.computed,e.table||delete e.table}function iVe(e){return ln(e,null,{Column:hU,Constant:hU,Default:bne}),e}function Yr(e,t){return t&&t.type===e}function sVe(e){return Yr(r9e,e)||Yr(n9e,e)}function oVe(e){return Jn(e)?e:()=>e}const aVe="Escaped functions are not valid as rollup or pivot values.";function uVe(e,t,n){e.aggronly&&Ft(aVe);const r="(row,data)=>fn("+_ee(e.table.columnNames())+",$)";return{escape:u$.escape(r,oVe(t.expr),n)}}var lVe=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],Ene=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],cVe="-----------------------------------------------------------------------------------------------------------------------------------------------------",wne="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",UA={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},VA="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",fVe={5:VA,"5module":VA+" export import",6:VA+" const class extends export import super"},dVe=/^in(stanceof)?$/,hVe=new RegExp("["+wne+"]"),pVe=new RegExp("["+wne+cVe+"]");function Y2(e,t){for(var n=65536,r=0;r<t.length;r+=2){if(n+=t[r],n>e)return!1;if(n+=t[r+1],n>=e)return!0}return!1}function Cl(e,t){return e<65?e===36:e<91?!0:e<97?e===95:e<123?!0:e<=65535?e>=170&&hVe.test(String.fromCharCode(e)):t===!1?!1:Y2(e,Ene)}function cm(e,t){return e<48?e===36:e<58?!0:e<65?!1:e<91?!0:e<97?e===95:e<123?!0:e<=65535?e>=170&&pVe.test(String.fromCharCode(e)):t===!1?!1:Y2(e,Ene)||Y2(e,lVe)}var cn=function(t,n){n===void 0&&(n={}),this.label=t,this.keyword=n.keyword,this.beforeExpr=!!n.beforeExpr,this.startsExpr=!!n.startsExpr,this.isLoop=!!n.isLoop,this.isAssign=!!n.isAssign,this.prefix=!!n.prefix,this.postfix=!!n.postfix,this.binop=n.binop||null,this.updateContext=null};function wo(e,t){return new cn(e,{beforeExpr:!0,binop:t})}var To={beforeExpr:!0},gs={startsExpr:!0},o3={};function en(e,t){return t===void 0&&(t={}),t.keyword=e,o3[e]=new cn(e,t)}var N={num:new cn("num",gs),regexp:new cn("regexp",gs),string:new cn("string",gs),name:new cn("name",gs),privateId:new cn("privateId",gs),eof:new cn("eof"),bracketL:new cn("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new cn("]"),braceL:new cn("{",{beforeExpr:!0,startsExpr:!0}),braceR:new cn("}"),parenL:new cn("(",{beforeExpr:!0,startsExpr:!0}),parenR:new cn(")"),comma:new cn(",",To),semi:new cn(";",To),colon:new cn(":",To),dot:new cn("."),question:new cn("?",To),questionDot:new cn("?."),arrow:new cn("=>",To),template:new cn("template"),invalidTemplate:new cn("invalidTemplate"),ellipsis:new cn("...",To),backQuote:new cn("`",gs),dollarBraceL:new cn("${",{beforeExpr:!0,startsExpr:!0}),eq:new cn("=",{beforeExpr:!0,isAssign:!0}),assign:new cn("_=",{beforeExpr:!0,isAssign:!0}),incDec:new cn("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new cn("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:wo("||",1),logicalAND:wo("&&",2),bitwiseOR:wo("|",3),bitwiseXOR:wo("^",4),bitwiseAND:wo("&",5),equality:wo("==/!=/===/!==",6),relational:wo("</>/<=/>=",7),bitShift:wo("<</>>/>>>",8),plusMin:new cn("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:wo("%",10),star:wo("*",10),slash:wo("/",10),starstar:new cn("**",{beforeExpr:!0}),coalesce:wo("??",1),_break:en("break"),_case:en("case",To),_catch:en("catch"),_continue:en("continue"),_debugger:en("debugger"),_default:en("default",To),_do:en("do",{isLoop:!0,beforeExpr:!0}),_else:en("else",To),_finally:en("finally"),_for:en("for",{isLoop:!0}),_function:en("function",gs),_if:en("if"),_return:en("return",To),_switch:en("switch"),_throw:en("throw",To),_try:en("try"),_var:en("var"),_const:en("const"),_while:en("while",{isLoop:!0}),_with:en("with"),_new:en("new",{beforeExpr:!0,startsExpr:!0}),_this:en("this",gs),_super:en("super",gs),_class:en("class",gs),_extends:en("extends",To),_export:en("export"),_import:en("import",gs),_null:en("null",gs),_true:en("true",gs),_false:en("false",gs),_in:en("in",{beforeExpr:!0,binop:7}),_instanceof:en("instanceof",{beforeExpr:!0,binop:7}),_typeof:en("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:en("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:en("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},Xo=/\r\n?|\n|\u2028|\u2029/,mVe=new RegExp(Xo.source,"g");function zm(e){return e===10||e===13||e===8232||e===8233}function Tne(e,t,n){n===void 0&&(n=e.length);for(var r=t;r<n;r++){var i=e.charCodeAt(r);if(zm(i))return r<n-1&&i===13&&e.charCodeAt(r+1)===10?r+2:r+1}return-1}var Sne=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,No=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,Ine=Object.prototype,gVe=Ine.hasOwnProperty,yVe=Ine.toString,U_=Object.hasOwn||function(e,t){return gVe.call(e,t)},pU=Array.isArray||function(e){return yVe.call(e)==="[object Array]"},mU=Object.create(null);function Ec(e){return mU[e]||(mU[e]=new RegExp("^(?:"+e.replace(/ /g,"|")+")$"))}function sf(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10)+55296,(e&1023)+56320))}var _Ve=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,Dy=function(t,n){this.line=t,this.column=n};Dy.prototype.offset=function(t){return new Dy(this.line,this.column+t)};var zI=function(t,n,r){this.start=n,this.end=r,t.sourceFile!==null&&(this.source=t.sourceFile)};function xne(e,t){for(var n=1,r=0;;){var i=Tne(e,r,t);if(i<0)return new Dy(n,t-r);++n,r=i}}var G2={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},gU=!1;function vVe(e){var t={};for(var n in G2)t[n]=e&&U_(e,n)?e[n]:G2[n];if(t.ecmaVersion==="latest"?t.ecmaVersion=1e8:t.ecmaVersion==null?(!gU&&typeof console=="object"&&console.warn&&(gU=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),t.ecmaVersion=11):t.ecmaVersion>=2015&&(t.ecmaVersion-=2009),t.allowReserved==null&&(t.allowReserved=t.ecmaVersion<5),(!e||e.allowHashBang==null)&&(t.allowHashBang=t.ecmaVersion>=14),pU(t.onToken)){var r=t.onToken;t.onToken=function(i){return r.push(i)}}return pU(t.onComment)&&(t.onComment=bVe(t,t.onComment)),t}function bVe(e,t){return function(n,r,i,s,o,a){var u={type:n?"Block":"Line",value:r,start:i,end:s};e.locations&&(u.loc=new zI(this,o,a)),e.ranges&&(u.range=[i,s]),t.push(u)}}var $y=1,Hm=2,a3=4,Cne=8,Ane=16,One=32,u3=64,Pne=128,V_=256,l3=$y|Hm|V_;function c3(e,t){return Hm|(e?a3:0)|(t?Cne:0)}var wT=0,f3=1,Hl=2,Rne=3,Nne=4,kne=5,Zr=function(t,n,r){this.options=t=vVe(t),this.sourceFile=t.sourceFile,this.keywords=Ec(fVe[t.ecmaVersion>=6?6:t.sourceType==="module"?"5module":5]);var i="";t.allowReserved!==!0&&(i=UA[t.ecmaVersion>=6?6:t.ecmaVersion===5?5:3],t.sourceType==="module"&&(i+=" await")),this.reservedWords=Ec(i);var s=(i?i+" ":"")+UA.strict;this.reservedWordsStrict=Ec(s),this.reservedWordsStrictBind=Ec(s+" "+UA.strictBind),this.input=String(n),this.containsEsc=!1,r?(this.pos=r,this.lineStart=this.input.lastIndexOf(`
`,r-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(Xo).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=N.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=t.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&t.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope($y),this.regexpState=null,this.privateNameStack=[]},ku={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};Zr.prototype.parse=function(){var t=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(t)};ku.inFunction.get=function(){return(this.currentVarScope().flags&Hm)>0};ku.inGenerator.get=function(){return(this.currentVarScope().flags&Cne)>0&&!this.currentVarScope().inClassFieldInit};ku.inAsync.get=function(){return(this.currentVarScope().flags&a3)>0&&!this.currentVarScope().inClassFieldInit};ku.canAwait.get=function(){for(var e=this.scopeStack.length-1;e>=0;e--){var t=this.scopeStack[e];if(t.inClassFieldInit||t.flags&V_)return!1;if(t.flags&Hm)return(t.flags&a3)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};ku.allowSuper.get=function(){var e=this.currentThisScope(),t=e.flags,n=e.inClassFieldInit;return(t&u3)>0||n||this.options.allowSuperOutsideMethod};ku.allowDirectSuper.get=function(){return(this.currentThisScope().flags&Pne)>0};ku.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};ku.allowNewDotTarget.get=function(){var e=this.currentThisScope(),t=e.flags,n=e.inClassFieldInit;return(t&(Hm|V_))>0||n};ku.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&V_)>0};Zr.extend=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];for(var r=this,i=0;i<t.length;i++)r=t[i](r);return r};Zr.parse=function(t,n){return new this(n,t).parse()};Zr.parseExpressionAt=function(t,n,r){var i=new this(r,t,n);return i.nextToken(),i.parseExpression()};Zr.tokenizer=function(t,n){return new this(n,t)};Object.defineProperties(Zr.prototype,ku);var fs=Zr.prototype,EVe=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;fs.strictDirective=function(e){if(this.options.ecmaVersion<5)return!1;for(;;){No.lastIndex=e,e+=No.exec(this.input)[0].length;var t=EVe.exec(this.input.slice(e));if(!t)return!1;if((t[1]||t[2])==="use strict"){No.lastIndex=e+t[0].length;var n=No.exec(this.input),r=n.index+n[0].length,i=this.input.charAt(r);return i===";"||i==="}"||Xo.test(n[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(i)||i==="!"&&this.input.charAt(r+1)==="=")}e+=t[0].length,No.lastIndex=e,e+=No.exec(this.input)[0].length,this.input[e]===";"&&e++}};fs.eat=function(e){return this.type===e?(this.next(),!0):!1};fs.isContextual=function(e){return this.type===N.name&&this.value===e&&!this.containsEsc};fs.eatContextual=function(e){return this.isContextual(e)?(this.next(),!0):!1};fs.expectContextual=function(e){this.eatContextual(e)||this.unexpected()};fs.canInsertSemicolon=function(){return this.type===N.eof||this.type===N.braceR||Xo.test(this.input.slice(this.lastTokEnd,this.start))};fs.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};fs.semicolon=function(){!this.eat(N.semi)&&!this.insertSemicolon()&&this.unexpected()};fs.afterTrailingComma=function(e,t){if(this.type===e)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),t||this.next(),!0};fs.expect=function(e){this.eat(e)||this.unexpected()};fs.unexpected=function(e){this.raise(e??this.start,"Unexpected token")};var HI=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};fs.checkPatternErrors=function(e,t){if(e){e.trailingComma>-1&&this.raiseRecoverable(e.trailingComma,"Comma is not permitted after the rest element");var n=t?e.parenthesizedAssign:e.parenthesizedBind;n>-1&&this.raiseRecoverable(n,t?"Assigning to rvalue":"Parenthesized pattern")}};fs.checkExpressionErrors=function(e,t){if(!e)return!1;var n=e.shorthandAssign,r=e.doubleProto;if(!t)return n>=0||r>=0;n>=0&&this.raise(n,"Shorthand property assignments are valid only in destructuring patterns"),r>=0&&this.raiseRecoverable(r,"Redefinition of __proto__ property")};fs.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};fs.isSimpleAssignTarget=function(e){return e.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(e.expression):e.type==="Identifier"||e.type==="MemberExpression"};var it=Zr.prototype;it.parseTopLevel=function(e){var t=Object.create(null);for(e.body||(e.body=[]);this.type!==N.eof;){var n=this.parseStatement(null,!0,t);e.body.push(n)}if(this.inModule)for(var r=0,i=Object.keys(this.undefinedExports);r<i.length;r+=1){var s=i[r];this.raiseRecoverable(this.undefinedExports[s].start,"Export '"+s+"' is not defined")}return this.adaptDirectivePrologue(e.body),this.next(),e.sourceType=this.options.sourceType,this.finishNode(e,"Program")};var d3={kind:"loop"},wVe={kind:"switch"};it.isLet=function(e){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;No.lastIndex=this.pos;var t=No.exec(this.input),n=this.pos+t[0].length,r=this.input.charCodeAt(n);if(r===91||r===92)return!0;if(e)return!1;if(r===123||r>55295&&r<56320)return!0;if(Cl(r,!0)){for(var i=n+1;cm(r=this.input.charCodeAt(i),!0);)++i;if(r===92||r>55295&&r<56320)return!0;var s=this.input.slice(n,i);if(!dVe.test(s))return!0}return!1};it.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;No.lastIndex=this.pos;var e=No.exec(this.input),t=this.pos+e[0].length,n;return!Xo.test(this.input.slice(this.pos,t))&&this.input.slice(t,t+8)==="function"&&(t+8===this.input.length||!(cm(n=this.input.charCodeAt(t+8))||n>55295&&n<56320))};it.parseStatement=function(e,t,n){var r=this.type,i=this.startNode(),s;switch(this.isLet(e)&&(r=N._var,s="let"),r){case N._break:case N._continue:return this.parseBreakContinueStatement(i,r.keyword);case N._debugger:return this.parseDebuggerStatement(i);case N._do:return this.parseDoStatement(i);case N._for:return this.parseForStatement(i);case N._function:return e&&(this.strict||e!=="if"&&e!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(i,!1,!e);case N._class:return e&&this.unexpected(),this.parseClass(i,!0);case N._if:return this.parseIfStatement(i);case N._return:return this.parseReturnStatement(i);case N._switch:return this.parseSwitchStatement(i);case N._throw:return this.parseThrowStatement(i);case N._try:return this.parseTryStatement(i);case N._const:case N._var:return s=s||this.value,e&&s!=="var"&&this.unexpected(),this.parseVarStatement(i,s);case N._while:return this.parseWhileStatement(i);case N._with:return this.parseWithStatement(i);case N.braceL:return this.parseBlock(!0,i);case N.semi:return this.parseEmptyStatement(i);case N._export:case N._import:if(this.options.ecmaVersion>10&&r===N._import){No.lastIndex=this.pos;var o=No.exec(this.input),a=this.pos+o[0].length,u=this.input.charCodeAt(a);if(u===40||u===46)return this.parseExpressionStatement(i,this.parseExpression())}return this.options.allowImportExportEverywhere||(t||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),r===N._import?this.parseImport(i):this.parseExport(i,n);default:if(this.isAsyncFunction())return e&&this.unexpected(),this.next(),this.parseFunctionStatement(i,!0,!e);var l=this.value,c=this.parseExpression();return r===N.name&&c.type==="Identifier"&&this.eat(N.colon)?this.parseLabeledStatement(i,l,c,e):this.parseExpressionStatement(i,c)}};it.parseBreakContinueStatement=function(e,t){var n=t==="break";this.next(),this.eat(N.semi)||this.insertSemicolon()?e.label=null:this.type!==N.name?this.unexpected():(e.label=this.parseIdent(),this.semicolon());for(var r=0;r<this.labels.length;++r){var i=this.labels[r];if((e.label==null||i.name===e.label.name)&&(i.kind!=null&&(n||i.kind==="loop")||e.label&&n))break}return r===this.labels.length&&this.raise(e.start,"Unsyntactic "+t),this.finishNode(e,n?"BreakStatement":"ContinueStatement")};it.parseDebuggerStatement=function(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")};it.parseDoStatement=function(e){return this.next(),this.labels.push(d3),e.body=this.parseStatement("do"),this.labels.pop(),this.expect(N._while),e.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(N.semi):this.semicolon(),this.finishNode(e,"DoWhileStatement")};it.parseForStatement=function(e){this.next();var t=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(d3),this.enterScope(0),this.expect(N.parenL),this.type===N.semi)return t>-1&&this.unexpected(t),this.parseFor(e,null);var n=this.isLet();if(this.type===N._var||this.type===N._const||n){var r=this.startNode(),i=n?"let":this.value;return this.next(),this.parseVar(r,!0,i),this.finishNode(r,"VariableDeclaration"),(this.type===N._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&r.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===N._in?t>-1&&this.unexpected(t):e.await=t>-1),this.parseForIn(e,r)):(t>-1&&this.unexpected(t),this.parseFor(e,r))}var s=this.isContextual("let"),o=!1,a=new HI,u=this.parseExpression(t>-1?"await":!0,a);return this.type===N._in||(o=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===N._in?t>-1&&this.unexpected(t):e.await=t>-1),s&&o&&this.raise(u.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(u,!1,a),this.checkLValPattern(u),this.parseForIn(e,u)):(this.checkExpressionErrors(a,!0),t>-1&&this.unexpected(t),this.parseFor(e,u))};it.parseFunctionStatement=function(e,t,n){return this.next(),this.parseFunction(e,Fg|(n?0:K2),!1,t)};it.parseIfStatement=function(e){return this.next(),e.test=this.parseParenExpression(),e.consequent=this.parseStatement("if"),e.alternate=this.eat(N._else)?this.parseStatement("if"):null,this.finishNode(e,"IfStatement")};it.parseReturnStatement=function(e){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(N.semi)||this.insertSemicolon()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")};it.parseSwitchStatement=function(e){this.next(),e.discriminant=this.parseParenExpression(),e.cases=[],this.expect(N.braceL),this.labels.push(wVe),this.enterScope(0);for(var t,n=!1;this.type!==N.braceR;)if(this.type===N._case||this.type===N._default){var r=this.type===N._case;t&&this.finishNode(t,"SwitchCase"),e.cases.push(t=this.startNode()),t.consequent=[],this.next(),r?t.test=this.parseExpression():(n&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),n=!0,t.test=null),this.expect(N.colon)}else t||this.unexpected(),t.consequent.push(this.parseStatement(null));return this.exitScope(),t&&this.finishNode(t,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(e,"SwitchStatement")};it.parseThrowStatement=function(e){return this.next(),Xo.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")};var TVe=[];it.parseCatchClauseParam=function(){var e=this.parseBindingAtom(),t=e.type==="Identifier";return this.enterScope(t?One:0),this.checkLValPattern(e,t?Nne:Hl),this.expect(N.parenR),e};it.parseTryStatement=function(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.type===N._catch){var t=this.startNode();this.next(),this.eat(N.parenL)?t.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),t.param=null,this.enterScope(0)),t.body=this.parseBlock(!1),this.exitScope(),e.handler=this.finishNode(t,"CatchClause")}return e.finalizer=this.eat(N._finally)?this.parseBlock():null,!e.handler&&!e.finalizer&&this.raise(e.start,"Missing catch or finally clause"),this.finishNode(e,"TryStatement")};it.parseVarStatement=function(e,t,n){return this.next(),this.parseVar(e,!1,t,n),this.semicolon(),this.finishNode(e,"VariableDeclaration")};it.parseWhileStatement=function(e){return this.next(),e.test=this.parseParenExpression(),this.labels.push(d3),e.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(e,"WhileStatement")};it.parseWithStatement=function(e){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),e.object=this.parseParenExpression(),e.body=this.parseStatement("with"),this.finishNode(e,"WithStatement")};it.parseEmptyStatement=function(e){return this.next(),this.finishNode(e,"EmptyStatement")};it.parseLabeledStatement=function(e,t,n,r){for(var i=0,s=this.labels;i<s.length;i+=1){var o=s[i];o.name===t&&this.raise(n.start,"Label '"+t+"' is already declared")}for(var a=this.type.isLoop?"loop":this.type===N._switch?"switch":null,u=this.labels.length-1;u>=0;u--){var l=this.labels[u];if(l.statementStart===e.start)l.statementStart=this.start,l.kind=a;else break}return this.labels.push({name:t,kind:a,statementStart:this.start}),e.body=this.parseStatement(r?r.indexOf("label")===-1?r+"label":r:"label"),this.labels.pop(),e.label=n,this.finishNode(e,"LabeledStatement")};it.parseExpressionStatement=function(e,t){return e.expression=t,this.semicolon(),this.finishNode(e,"ExpressionStatement")};it.parseBlock=function(e,t,n){for(e===void 0&&(e=!0),t===void 0&&(t=this.startNode()),t.body=[],this.expect(N.braceL),e&&this.enterScope(0);this.type!==N.braceR;){var r=this.parseStatement(null);t.body.push(r)}return n&&(this.strict=!1),this.next(),e&&this.exitScope(),this.finishNode(t,"BlockStatement")};it.parseFor=function(e,t){return e.init=t,this.expect(N.semi),e.test=this.type===N.semi?null:this.parseExpression(),this.expect(N.semi),e.update=this.type===N.parenR?null:this.parseExpression(),this.expect(N.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,"ForStatement")};it.parseForIn=function(e,t){var n=this.type===N._in;return this.next(),t.type==="VariableDeclaration"&&t.declarations[0].init!=null&&(!n||this.options.ecmaVersion<8||this.strict||t.kind!=="var"||t.declarations[0].id.type!=="Identifier")&&this.raise(t.start,(n?"for-in":"for-of")+" loop variable declaration may not have an initializer"),e.left=t,e.right=n?this.parseExpression():this.parseMaybeAssign(),this.expect(N.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,n?"ForInStatement":"ForOfStatement")};it.parseVar=function(e,t,n,r){for(e.declarations=[],e.kind=n;;){var i=this.startNode();if(this.parseVarId(i,n),this.eat(N.eq)?i.init=this.parseMaybeAssign(t):!r&&n==="const"&&!(this.type===N._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!r&&i.id.type!=="Identifier"&&!(t&&(this.type===N._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):i.init=null,e.declarations.push(this.finishNode(i,"VariableDeclarator")),!this.eat(N.comma))break}return e};it.parseVarId=function(e,t){e.id=this.parseBindingAtom(),this.checkLValPattern(e.id,t==="var"?f3:Hl,!1)};var Fg=1,K2=2,Dne=4;it.parseFunction=function(e,t,n,r,i){this.initFunction(e),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!r)&&(this.type===N.star&&t&K2&&this.unexpected(),e.generator=this.eat(N.star)),this.options.ecmaVersion>=8&&(e.async=!!r),t&Fg&&(e.id=t&Dne&&this.type!==N.name?null:this.parseIdent(),e.id&&!(t&K2)&&this.checkLValSimple(e.id,this.strict||e.generator||e.async?this.treatFunctionsAsVar?f3:Hl:Rne));var s=this.yieldPos,o=this.awaitPos,a=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(c3(e.async,e.generator)),t&Fg||(e.id=this.type===N.name?this.parseIdent():null),this.parseFunctionParams(e),this.parseFunctionBody(e,n,!1,i),this.yieldPos=s,this.awaitPos=o,this.awaitIdentPos=a,this.finishNode(e,t&Fg?"FunctionDeclaration":"FunctionExpression")};it.parseFunctionParams=function(e){this.expect(N.parenL),e.params=this.parseBindingList(N.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};it.parseClass=function(e,t){this.next();var n=this.strict;this.strict=!0,this.parseClassId(e,t),this.parseClassSuper(e);var r=this.enterClassBody(),i=this.startNode(),s=!1;for(i.body=[],this.expect(N.braceL);this.type!==N.braceR;){var o=this.parseClassElement(e.superClass!==null);o&&(i.body.push(o),o.type==="MethodDefinition"&&o.kind==="constructor"?(s&&this.raiseRecoverable(o.start,"Duplicate constructor in the same class"),s=!0):o.key&&o.key.type==="PrivateIdentifier"&&SVe(r,o)&&this.raiseRecoverable(o.key.start,"Identifier '#"+o.key.name+"' has already been declared"))}return this.strict=n,this.next(),e.body=this.finishNode(i,"ClassBody"),this.exitClassBody(),this.finishNode(e,t?"ClassDeclaration":"ClassExpression")};it.parseClassElement=function(e){if(this.eat(N.semi))return null;var t=this.options.ecmaVersion,n=this.startNode(),r="",i=!1,s=!1,o="method",a=!1;if(this.eatContextual("static")){if(t>=13&&this.eat(N.braceL))return this.parseClassStaticBlock(n),n;this.isClassElementNameStart()||this.type===N.star?a=!0:r="static"}if(n.static=a,!r&&t>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===N.star)&&!this.canInsertSemicolon()?s=!0:r="async"),!r&&(t>=9||!s)&&this.eat(N.star)&&(i=!0),!r&&!s&&!i){var u=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?o=u:r=u)}if(r?(n.computed=!1,n.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),n.key.name=r,this.finishNode(n.key,"Identifier")):this.parseClassElementName(n),t<13||this.type===N.parenL||o!=="method"||i||s){var l=!n.static&&TT(n,"constructor"),c=l&&e;l&&o!=="method"&&this.raise(n.key.start,"Constructor can't have get/set modifier"),n.kind=l?"constructor":o,this.parseClassMethod(n,i,s,c)}else this.parseClassField(n);return n};it.isClassElementNameStart=function(){return this.type===N.name||this.type===N.privateId||this.type===N.num||this.type===N.string||this.type===N.bracketL||this.type.keyword};it.parseClassElementName=function(e){this.type===N.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),e.computed=!1,e.key=this.parsePrivateIdent()):this.parsePropertyName(e)};it.parseClassMethod=function(e,t,n,r){var i=e.key;e.kind==="constructor"?(t&&this.raise(i.start,"Constructor can't be a generator"),n&&this.raise(i.start,"Constructor can't be an async method")):e.static&&TT(e,"prototype")&&this.raise(i.start,"Classes may not have a static property named prototype");var s=e.value=this.parseMethod(t,n,r);return e.kind==="get"&&s.params.length!==0&&this.raiseRecoverable(s.start,"getter should have no params"),e.kind==="set"&&s.params.length!==1&&this.raiseRecoverable(s.start,"setter should have exactly one param"),e.kind==="set"&&s.params[0].type==="RestElement"&&this.raiseRecoverable(s.params[0].start,"Setter cannot use rest params"),this.finishNode(e,"MethodDefinition")};it.parseClassField=function(e){if(TT(e,"constructor")?this.raise(e.key.start,"Classes can't have a field named 'constructor'"):e.static&&TT(e,"prototype")&&this.raise(e.key.start,"Classes can't have a static field named 'prototype'"),this.eat(N.eq)){var t=this.currentThisScope(),n=t.inClassFieldInit;t.inClassFieldInit=!0,e.value=this.parseMaybeAssign(),t.inClassFieldInit=n}else e.value=null;return this.semicolon(),this.finishNode(e,"PropertyDefinition")};it.parseClassStaticBlock=function(e){e.body=[];var t=this.labels;for(this.labels=[],this.enterScope(V_|u3);this.type!==N.braceR;){var n=this.parseStatement(null);e.body.push(n)}return this.next(),this.exitScope(),this.labels=t,this.finishNode(e,"StaticBlock")};it.parseClassId=function(e,t){this.type===N.name?(e.id=this.parseIdent(),t&&this.checkLValSimple(e.id,Hl,!1)):(t===!0&&this.unexpected(),e.id=null)};it.parseClassSuper=function(e){e.superClass=this.eat(N._extends)?this.parseExprSubscripts(null,!1):null};it.enterClassBody=function(){var e={declared:Object.create(null),used:[]};return this.privateNameStack.push(e),e.declared};it.exitClassBody=function(){var e=this.privateNameStack.pop(),t=e.declared,n=e.used;if(this.options.checkPrivateFields)for(var r=this.privateNameStack.length,i=r===0?null:this.privateNameStack[r-1],s=0;s<n.length;++s){var o=n[s];U_(t,o.name)||(i?i.used.push(o):this.raiseRecoverable(o.start,"Private field '#"+o.name+"' must be declared in an enclosing class"))}};function SVe(e,t){var n=t.key.name,r=e[n],i="true";return t.type==="MethodDefinition"&&(t.kind==="get"||t.kind==="set")&&(i=(t.static?"s":"i")+t.kind),r==="iget"&&i==="iset"||r==="iset"&&i==="iget"||r==="sget"&&i==="sset"||r==="sset"&&i==="sget"?(e[n]="true",!1):r?!0:(e[n]=i,!1)}function TT(e,t){var n=e.computed,r=e.key;return!n&&(r.type==="Identifier"&&r.name===t||r.type==="Literal"&&r.value===t)}it.parseExportAllDeclaration=function(e,t){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(e.exported=this.parseModuleExportName(),this.checkExport(t,e.exported,this.lastTokStart)):e.exported=null),this.expectContextual("from"),this.type!==N.string&&this.unexpected(),e.source=this.parseExprAtom(),this.semicolon(),this.finishNode(e,"ExportAllDeclaration")};it.parseExport=function(e,t){if(this.next(),this.eat(N.star))return this.parseExportAllDeclaration(e,t);if(this.eat(N._default))return this.checkExport(t,"default",this.lastTokStart),e.declaration=this.parseExportDefaultDeclaration(),this.finishNode(e,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())e.declaration=this.parseExportDeclaration(e),e.declaration.type==="VariableDeclaration"?this.checkVariableExport(t,e.declaration.declarations):this.checkExport(t,e.declaration.id,e.declaration.id.start),e.specifiers=[],e.source=null;else{if(e.declaration=null,e.specifiers=this.parseExportSpecifiers(t),this.eatContextual("from"))this.type!==N.string&&this.unexpected(),e.source=this.parseExprAtom();else{for(var n=0,r=e.specifiers;n<r.length;n+=1){var i=r[n];this.checkUnreserved(i.local),this.checkLocalExport(i.local),i.local.type==="Literal"&&this.raise(i.local.start,"A string literal cannot be used as an exported binding without `from`.")}e.source=null}this.semicolon()}return this.finishNode(e,"ExportNamedDeclaration")};it.parseExportDeclaration=function(e){return this.parseStatement(null)};it.parseExportDefaultDeclaration=function(){var e;if(this.type===N._function||(e=this.isAsyncFunction())){var t=this.startNode();return this.next(),e&&this.next(),this.parseFunction(t,Fg|Dne,!1,e)}else if(this.type===N._class){var n=this.startNode();return this.parseClass(n,"nullableID")}else{var r=this.parseMaybeAssign();return this.semicolon(),r}};it.checkExport=function(e,t,n){e&&(typeof t!="string"&&(t=t.type==="Identifier"?t.name:t.value),U_(e,t)&&this.raiseRecoverable(n,"Duplicate export '"+t+"'"),e[t]=!0)};it.checkPatternExport=function(e,t){var n=t.type;if(n==="Identifier")this.checkExport(e,t,t.start);else if(n==="ObjectPattern")for(var r=0,i=t.properties;r<i.length;r+=1){var s=i[r];this.checkPatternExport(e,s)}else if(n==="ArrayPattern")for(var o=0,a=t.elements;o<a.length;o+=1){var u=a[o];u&&this.checkPatternExport(e,u)}else n==="Property"?this.checkPatternExport(e,t.value):n==="AssignmentPattern"?this.checkPatternExport(e,t.left):n==="RestElement"&&this.checkPatternExport(e,t.argument)};it.checkVariableExport=function(e,t){if(e)for(var n=0,r=t;n<r.length;n+=1){var i=r[n];this.checkPatternExport(e,i.id)}};it.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};it.parseExportSpecifier=function(e){var t=this.startNode();return t.local=this.parseModuleExportName(),t.exported=this.eatContextual("as")?this.parseModuleExportName():t.local,this.checkExport(e,t.exported,t.exported.start),this.finishNode(t,"ExportSpecifier")};it.parseExportSpecifiers=function(e){var t=[],n=!0;for(this.expect(N.braceL);!this.eat(N.braceR);){if(n)n=!1;else if(this.expect(N.comma),this.afterTrailingComma(N.braceR))break;t.push(this.parseExportSpecifier(e))}return t};it.parseImport=function(e){return this.next(),this.type===N.string?(e.specifiers=TVe,e.source=this.parseExprAtom()):(e.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),e.source=this.type===N.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(e,"ImportDeclaration")};it.parseImportSpecifier=function(){var e=this.startNode();return e.imported=this.parseModuleExportName(),this.eatContextual("as")?e.local=this.parseIdent():(this.checkUnreserved(e.imported),e.local=e.imported),this.checkLValSimple(e.local,Hl),this.finishNode(e,"ImportSpecifier")};it.parseImportDefaultSpecifier=function(){var e=this.startNode();return e.local=this.parseIdent(),this.checkLValSimple(e.local,Hl),this.finishNode(e,"ImportDefaultSpecifier")};it.parseImportNamespaceSpecifier=function(){var e=this.startNode();return this.next(),this.expectContextual("as"),e.local=this.parseIdent(),this.checkLValSimple(e.local,Hl),this.finishNode(e,"ImportNamespaceSpecifier")};it.parseImportSpecifiers=function(){var e=[],t=!0;if(this.type===N.name&&(e.push(this.parseImportDefaultSpecifier()),!this.eat(N.comma)))return e;if(this.type===N.star)return e.push(this.parseImportNamespaceSpecifier()),e;for(this.expect(N.braceL);!this.eat(N.braceR);){if(t)t=!1;else if(this.expect(N.comma),this.afterTrailingComma(N.braceR))break;e.push(this.parseImportSpecifier())}return e};it.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===N.string){var e=this.parseLiteral(this.value);return _Ve.test(e.value)&&this.raise(e.start,"An export name cannot include a lone surrogate."),e}return this.parseIdent(!0)};it.adaptDirectivePrologue=function(e){for(var t=0;t<e.length&&this.isDirectiveCandidate(e[t]);++t)e[t].directive=e[t].expression.raw.slice(1,-1)};it.isDirectiveCandidate=function(e){return this.options.ecmaVersion>=5&&e.type==="ExpressionStatement"&&e.expression.type==="Literal"&&typeof e.expression.value=="string"&&(this.input[e.start]==='"'||this.input[e.start]==="'")};var Jo=Zr.prototype;Jo.toAssignable=function(e,t,n){if(this.options.ecmaVersion>=6&&e)switch(e.type){case"Identifier":this.inAsync&&e.name==="await"&&this.raise(e.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":e.type="ObjectPattern",n&&this.checkPatternErrors(n,!0);for(var r=0,i=e.properties;r<i.length;r+=1){var s=i[r];this.toAssignable(s,t),s.type==="RestElement"&&(s.argument.type==="ArrayPattern"||s.argument.type==="ObjectPattern")&&this.raise(s.argument.start,"Unexpected token")}break;case"Property":e.kind!=="init"&&this.raise(e.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(e.value,t);break;case"ArrayExpression":e.type="ArrayPattern",n&&this.checkPatternErrors(n,!0),this.toAssignableList(e.elements,t);break;case"SpreadElement":e.type="RestElement",this.toAssignable(e.argument,t),e.argument.type==="AssignmentPattern"&&this.raise(e.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":e.operator!=="="&&this.raise(e.left.end,"Only '=' operator can be used for specifying default value."),e.type="AssignmentPattern",delete e.operator,this.toAssignable(e.left,t);break;case"ParenthesizedExpression":this.toAssignable(e.expression,t,n);break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!t)break;default:this.raise(e.start,"Assigning to rvalue")}else n&&this.checkPatternErrors(n,!0);return e};Jo.toAssignableList=function(e,t){for(var n=e.length,r=0;r<n;r++){var i=e[r];i&&this.toAssignable(i,t)}if(n){var s=e[n-1];this.options.ecmaVersion===6&&t&&s&&s.type==="RestElement"&&s.argument.type!=="Identifier"&&this.unexpected(s.argument.start)}return e};Jo.parseSpread=function(e){var t=this.startNode();return this.next(),t.argument=this.parseMaybeAssign(!1,e),this.finishNode(t,"SpreadElement")};Jo.parseRestBinding=function(){var e=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==N.name&&this.unexpected(),e.argument=this.parseBindingAtom(),this.finishNode(e,"RestElement")};Jo.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case N.bracketL:var e=this.startNode();return this.next(),e.elements=this.parseBindingList(N.bracketR,!0,!0),this.finishNode(e,"ArrayPattern");case N.braceL:return this.parseObj(!0)}return this.parseIdent()};Jo.parseBindingList=function(e,t,n,r){for(var i=[],s=!0;!this.eat(e);)if(s?s=!1:this.expect(N.comma),t&&this.type===N.comma)i.push(null);else{if(n&&this.afterTrailingComma(e))break;if(this.type===N.ellipsis){var o=this.parseRestBinding();this.parseBindingListItem(o),i.push(o),this.type===N.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(e);break}else i.push(this.parseAssignableListItem(r))}return i};Jo.parseAssignableListItem=function(e){var t=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(t),t};Jo.parseBindingListItem=function(e){return e};Jo.parseMaybeDefault=function(e,t,n){if(n=n||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(N.eq))return n;var r=this.startNodeAt(e,t);return r.left=n,r.right=this.parseMaybeAssign(),this.finishNode(r,"AssignmentPattern")};Jo.checkLValSimple=function(e,t,n){t===void 0&&(t=wT);var r=t!==wT;switch(e.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(e.name)&&this.raiseRecoverable(e.start,(r?"Binding ":"Assigning to ")+e.name+" in strict mode"),r&&(t===Hl&&e.name==="let"&&this.raiseRecoverable(e.start,"let is disallowed as a lexically bound name"),n&&(U_(n,e.name)&&this.raiseRecoverable(e.start,"Argument name clash"),n[e.name]=!0),t!==kne&&this.declareName(e.name,t,e.start));break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":r&&this.raiseRecoverable(e.start,"Binding member expression");break;case"ParenthesizedExpression":return r&&this.raiseRecoverable(e.start,"Binding parenthesized expression"),this.checkLValSimple(e.expression,t,n);default:this.raise(e.start,(r?"Binding":"Assigning to")+" rvalue")}};Jo.checkLValPattern=function(e,t,n){switch(t===void 0&&(t=wT),e.type){case"ObjectPattern":for(var r=0,i=e.properties;r<i.length;r+=1){var s=i[r];this.checkLValInnerPattern(s,t,n)}break;case"ArrayPattern":for(var o=0,a=e.elements;o<a.length;o+=1){var u=a[o];u&&this.checkLValInnerPattern(u,t,n)}break;default:this.checkLValSimple(e,t,n)}};Jo.checkLValInnerPattern=function(e,t,n){switch(t===void 0&&(t=wT),e.type){case"Property":this.checkLValInnerPattern(e.value,t,n);break;case"AssignmentPattern":this.checkLValPattern(e.left,t,n);break;case"RestElement":this.checkLValPattern(e.argument,t,n);break;default:this.checkLValPattern(e,t,n)}};var sa=function(t,n,r,i,s){this.token=t,this.isExpr=!!n,this.preserveSpace=!!r,this.override=i,this.generator=!!s},ar={b_stat:new sa("{",!1),b_expr:new sa("{",!0),b_tmpl:new sa("${",!1),p_stat:new sa("(",!1),p_expr:new sa("(",!0),q_tmpl:new sa("`",!0,!0,function(e){return e.tryReadTemplateToken()}),f_stat:new sa("function",!1),f_expr:new sa("function",!0),f_expr_gen:new sa("function",!0,!1,null,!0),f_gen:new sa("function",!1,!1,null,!0)},qm=Zr.prototype;qm.initialContext=function(){return[ar.b_stat]};qm.curContext=function(){return this.context[this.context.length-1]};qm.braceIsBlock=function(e){var t=this.curContext();return t===ar.f_expr||t===ar.f_stat?!0:e===N.colon&&(t===ar.b_stat||t===ar.b_expr)?!t.isExpr:e===N._return||e===N.name&&this.exprAllowed?Xo.test(this.input.slice(this.lastTokEnd,this.start)):e===N._else||e===N.semi||e===N.eof||e===N.parenR||e===N.arrow?!0:e===N.braceL?t===ar.b_stat:e===N._var||e===N._const||e===N.name?!1:!this.exprAllowed};qm.inGeneratorContext=function(){for(var e=this.context.length-1;e>=1;e--){var t=this.context[e];if(t.token==="function")return t.generator}return!1};qm.updateContext=function(e){var t,n=this.type;n.keyword&&e===N.dot?this.exprAllowed=!1:(t=n.updateContext)?t.call(this,e):this.exprAllowed=n.beforeExpr};qm.overrideContext=function(e){this.curContext()!==e&&(this.context[this.context.length-1]=e)};N.parenR.updateContext=N.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var e=this.context.pop();e===ar.b_stat&&this.curContext().token==="function"&&(e=this.context.pop()),this.exprAllowed=!e.isExpr};N.braceL.updateContext=function(e){this.context.push(this.braceIsBlock(e)?ar.b_stat:ar.b_expr),this.exprAllowed=!0};N.dollarBraceL.updateContext=function(){this.context.push(ar.b_tmpl),this.exprAllowed=!0};N.parenL.updateContext=function(e){var t=e===N._if||e===N._for||e===N._with||e===N._while;this.context.push(t?ar.p_stat:ar.p_expr),this.exprAllowed=!0};N.incDec.updateContext=function(){};N._function.updateContext=N._class.updateContext=function(e){e.beforeExpr&&e!==N._else&&!(e===N.semi&&this.curContext()!==ar.p_stat)&&!(e===N._return&&Xo.test(this.input.slice(this.lastTokEnd,this.start)))&&!((e===N.colon||e===N.braceL)&&this.curContext()===ar.b_stat)?this.context.push(ar.f_expr):this.context.push(ar.f_stat),this.exprAllowed=!1};N.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0};N.backQuote.updateContext=function(){this.curContext()===ar.q_tmpl?this.context.pop():this.context.push(ar.q_tmpl),this.exprAllowed=!1};N.star.updateContext=function(e){if(e===N._function){var t=this.context.length-1;this.context[t]===ar.f_expr?this.context[t]=ar.f_expr_gen:this.context[t]=ar.f_gen}this.exprAllowed=!0};N.name.updateContext=function(e){var t=!1;this.options.ecmaVersion>=6&&e!==N.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(t=!0),this.exprAllowed=t};var _t=Zr.prototype;_t.checkPropClash=function(e,t,n){if(!(this.options.ecmaVersion>=9&&e.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(e.computed||e.method||e.shorthand))){var r=e.key,i;switch(r.type){case"Identifier":i=r.name;break;case"Literal":i=String(r.value);break;default:return}var s=e.kind;if(this.options.ecmaVersion>=6){i==="__proto__"&&s==="init"&&(t.proto&&(n?n.doubleProto<0&&(n.doubleProto=r.start):this.raiseRecoverable(r.start,"Redefinition of __proto__ property")),t.proto=!0);return}i="$"+i;var o=t[i];if(o){var a;s==="init"?a=this.strict&&o.init||o.get||o.set:a=o.init||o[s],a&&this.raiseRecoverable(r.start,"Redefinition of property")}else o=t[i]={init:!1,get:!1,set:!1};o[s]=!0}};_t.parseExpression=function(e,t){var n=this.start,r=this.startLoc,i=this.parseMaybeAssign(e,t);if(this.type===N.comma){var s=this.startNodeAt(n,r);for(s.expressions=[i];this.eat(N.comma);)s.expressions.push(this.parseMaybeAssign(e,t));return this.finishNode(s,"SequenceExpression")}return i};_t.parseMaybeAssign=function(e,t,n){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(e);this.exprAllowed=!1}var r=!1,i=-1,s=-1,o=-1;t?(i=t.parenthesizedAssign,s=t.trailingComma,o=t.doubleProto,t.parenthesizedAssign=t.trailingComma=-1):(t=new HI,r=!0);var a=this.start,u=this.startLoc;(this.type===N.parenL||this.type===N.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=e==="await");var l=this.parseMaybeConditional(e,t);if(n&&(l=n.call(this,l,a,u)),this.type.isAssign){var c=this.startNodeAt(a,u);return c.operator=this.value,this.type===N.eq&&(l=this.toAssignable(l,!1,t)),r||(t.parenthesizedAssign=t.trailingComma=t.doubleProto=-1),t.shorthandAssign>=l.start&&(t.shorthandAssign=-1),this.type===N.eq?this.checkLValPattern(l):this.checkLValSimple(l),c.left=l,this.next(),c.right=this.parseMaybeAssign(e),o>-1&&(t.doubleProto=o),this.finishNode(c,"AssignmentExpression")}else r&&this.checkExpressionErrors(t,!0);return i>-1&&(t.parenthesizedAssign=i),s>-1&&(t.trailingComma=s),l};_t.parseMaybeConditional=function(e,t){var n=this.start,r=this.startLoc,i=this.parseExprOps(e,t);if(this.checkExpressionErrors(t))return i;if(this.eat(N.question)){var s=this.startNodeAt(n,r);return s.test=i,s.consequent=this.parseMaybeAssign(),this.expect(N.colon),s.alternate=this.parseMaybeAssign(e),this.finishNode(s,"ConditionalExpression")}return i};_t.parseExprOps=function(e,t){var n=this.start,r=this.startLoc,i=this.parseMaybeUnary(t,!1,!1,e);return this.checkExpressionErrors(t)||i.start===n&&i.type==="ArrowFunctionExpression"?i:this.parseExprOp(i,n,r,-1,e)};_t.parseExprOp=function(e,t,n,r,i){var s=this.type.binop;if(s!=null&&(!i||this.type!==N._in)&&s>r){var o=this.type===N.logicalOR||this.type===N.logicalAND,a=this.type===N.coalesce;a&&(s=N.logicalAND.binop);var u=this.value;this.next();var l=this.start,c=this.startLoc,f=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,i),l,c,s,i),d=this.buildBinary(t,n,e,f,u,o||a);return(o&&this.type===N.coalesce||a&&(this.type===N.logicalOR||this.type===N.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(d,t,n,r,i)}return e};_t.buildBinary=function(e,t,n,r,i,s){r.type==="PrivateIdentifier"&&this.raise(r.start,"Private identifier can only be left side of binary expression");var o=this.startNodeAt(e,t);return o.left=n,o.operator=i,o.right=r,this.finishNode(o,s?"LogicalExpression":"BinaryExpression")};_t.parseMaybeUnary=function(e,t,n,r){var i=this.start,s=this.startLoc,o;if(this.isContextual("await")&&this.canAwait)o=this.parseAwait(r),t=!0;else if(this.type.prefix){var a=this.startNode(),u=this.type===N.incDec;a.operator=this.value,a.prefix=!0,this.next(),a.argument=this.parseMaybeUnary(null,!0,u,r),this.checkExpressionErrors(e,!0),u?this.checkLValSimple(a.argument):this.strict&&a.operator==="delete"&&a.argument.type==="Identifier"?this.raiseRecoverable(a.start,"Deleting local variable in strict mode"):a.operator==="delete"&&$ne(a.argument)?this.raiseRecoverable(a.start,"Private fields can not be deleted"):t=!0,o=this.finishNode(a,u?"UpdateExpression":"UnaryExpression")}else if(!t&&this.type===N.privateId)(r||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),o=this.parsePrivateIdent(),this.type!==N._in&&this.unexpected();else{if(o=this.parseExprSubscripts(e,r),this.checkExpressionErrors(e))return o;for(;this.type.postfix&&!this.canInsertSemicolon();){var l=this.startNodeAt(i,s);l.operator=this.value,l.prefix=!1,l.argument=o,this.checkLValSimple(o),this.next(),o=this.finishNode(l,"UpdateExpression")}}if(!n&&this.eat(N.starstar))if(t)this.unexpected(this.lastTokStart);else return this.buildBinary(i,s,o,this.parseMaybeUnary(null,!1,!1,r),"**",!1);else return o};function $ne(e){return e.type==="MemberExpression"&&e.property.type==="PrivateIdentifier"||e.type==="ChainExpression"&&$ne(e.expression)}_t.parseExprSubscripts=function(e,t){var n=this.start,r=this.startLoc,i=this.parseExprAtom(e,t);if(i.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return i;var s=this.parseSubscripts(i,n,r,!1,t);return e&&s.type==="MemberExpression"&&(e.parenthesizedAssign>=s.start&&(e.parenthesizedAssign=-1),e.parenthesizedBind>=s.start&&(e.parenthesizedBind=-1),e.trailingComma>=s.start&&(e.trailingComma=-1)),s};_t.parseSubscripts=function(e,t,n,r,i){for(var s=this.options.ecmaVersion>=8&&e.type==="Identifier"&&e.name==="async"&&this.lastTokEnd===e.end&&!this.canInsertSemicolon()&&e.end-e.start===5&&this.potentialArrowAt===e.start,o=!1;;){var a=this.parseSubscript(e,t,n,r,s,o,i);if(a.optional&&(o=!0),a===e||a.type==="ArrowFunctionExpression"){if(o){var u=this.startNodeAt(t,n);u.expression=a,a=this.finishNode(u,"ChainExpression")}return a}e=a}};_t.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(N.arrow)};_t.parseSubscriptAsyncArrow=function(e,t,n,r){return this.parseArrowExpression(this.startNodeAt(e,t),n,!0,r)};_t.parseSubscript=function(e,t,n,r,i,s,o){var a=this.options.ecmaVersion>=11,u=a&&this.eat(N.questionDot);r&&u&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var l=this.eat(N.bracketL);if(l||u&&this.type!==N.parenL&&this.type!==N.backQuote||this.eat(N.dot)){var c=this.startNodeAt(t,n);c.object=e,l?(c.property=this.parseExpression(),this.expect(N.bracketR)):this.type===N.privateId&&e.type!=="Super"?c.property=this.parsePrivateIdent():c.property=this.parseIdent(this.options.allowReserved!=="never"),c.computed=!!l,a&&(c.optional=u),e=this.finishNode(c,"MemberExpression")}else if(!r&&this.eat(N.parenL)){var f=new HI,d=this.yieldPos,h=this.awaitPos,p=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var m=this.parseExprList(N.parenR,this.options.ecmaVersion>=8,!1,f);if(i&&!u&&this.shouldParseAsyncArrow())return this.checkPatternErrors(f,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=d,this.awaitPos=h,this.awaitIdentPos=p,this.parseSubscriptAsyncArrow(t,n,m,o);this.checkExpressionErrors(f,!0),this.yieldPos=d||this.yieldPos,this.awaitPos=h||this.awaitPos,this.awaitIdentPos=p||this.awaitIdentPos;var y=this.startNodeAt(t,n);y.callee=e,y.arguments=m,a&&(y.optional=u),e=this.finishNode(y,"CallExpression")}else if(this.type===N.backQuote){(u||s)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var g=this.startNodeAt(t,n);g.tag=e,g.quasi=this.parseTemplate({isTagged:!0}),e=this.finishNode(g,"TaggedTemplateExpression")}return e};_t.parseExprAtom=function(e,t,n){this.type===N.slash&&this.readRegexp();var r,i=this.potentialArrowAt===this.start;switch(this.type){case N._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),r=this.startNode(),this.next(),this.type===N.parenL&&!this.allowDirectSuper&&this.raise(r.start,"super() call outside constructor of a subclass"),this.type!==N.dot&&this.type!==N.bracketL&&this.type!==N.parenL&&this.unexpected(),this.finishNode(r,"Super");case N._this:return r=this.startNode(),this.next(),this.finishNode(r,"ThisExpression");case N.name:var s=this.start,o=this.startLoc,a=this.containsEsc,u=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!a&&u.name==="async"&&!this.canInsertSemicolon()&&this.eat(N._function))return this.overrideContext(ar.f_expr),this.parseFunction(this.startNodeAt(s,o),0,!1,!0,t);if(i&&!this.canInsertSemicolon()){if(this.eat(N.arrow))return this.parseArrowExpression(this.startNodeAt(s,o),[u],!1,t);if(this.options.ecmaVersion>=8&&u.name==="async"&&this.type===N.name&&!a&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return u=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(N.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(s,o),[u],!0,t)}return u;case N.regexp:var l=this.value;return r=this.parseLiteral(l.value),r.regex={pattern:l.pattern,flags:l.flags},r;case N.num:case N.string:return this.parseLiteral(this.value);case N._null:case N._true:case N._false:return r=this.startNode(),r.value=this.type===N._null?null:this.type===N._true,r.raw=this.type.keyword,this.next(),this.finishNode(r,"Literal");case N.parenL:var c=this.start,f=this.parseParenAndDistinguishExpression(i,t);return e&&(e.parenthesizedAssign<0&&!this.isSimpleAssignTarget(f)&&(e.parenthesizedAssign=c),e.parenthesizedBind<0&&(e.parenthesizedBind=c)),f;case N.bracketL:return r=this.startNode(),this.next(),r.elements=this.parseExprList(N.bracketR,!0,!0,e),this.finishNode(r,"ArrayExpression");case N.braceL:return this.overrideContext(ar.b_expr),this.parseObj(!1,e);case N._function:return r=this.startNode(),this.next(),this.parseFunction(r,0);case N._class:return this.parseClass(this.startNode(),!1);case N._new:return this.parseNew();case N.backQuote:return this.parseTemplate();case N._import:return this.options.ecmaVersion>=11?this.parseExprImport(n):this.unexpected();default:return this.parseExprAtomDefault()}};_t.parseExprAtomDefault=function(){this.unexpected()};_t.parseExprImport=function(e){var t=this.startNode();this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import");var n=this.parseIdent(!0);if(this.type===N.parenL&&!e)return this.parseDynamicImport(t);if(this.type===N.dot)return t.meta=n,this.parseImportMeta(t);this.unexpected()};_t.parseDynamicImport=function(e){if(this.next(),e.source=this.parseMaybeAssign(),!this.eat(N.parenR)){var t=this.start;this.eat(N.comma)&&this.eat(N.parenR)?this.raiseRecoverable(t,"Trailing comma is not allowed in import()"):this.unexpected(t)}return this.finishNode(e,"ImportExpression")};_t.parseImportMeta=function(e){this.next();var t=this.containsEsc;return e.property=this.parseIdent(!0),e.property.name!=="meta"&&this.raiseRecoverable(e.property.start,"The only valid meta property for import is 'import.meta'"),t&&this.raiseRecoverable(e.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(e.start,"Cannot use 'import.meta' outside a module"),this.finishNode(e,"MetaProperty")};_t.parseLiteral=function(e){var t=this.startNode();return t.value=e,t.raw=this.input.slice(this.start,this.end),t.raw.charCodeAt(t.raw.length-1)===110&&(t.bigint=t.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(t,"Literal")};_t.parseParenExpression=function(){this.expect(N.parenL);var e=this.parseExpression();return this.expect(N.parenR),e};_t.shouldParseArrow=function(e){return!this.canInsertSemicolon()};_t.parseParenAndDistinguishExpression=function(e,t){var n=this.start,r=this.startLoc,i,s=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var o=this.start,a=this.startLoc,u=[],l=!0,c=!1,f=new HI,d=this.yieldPos,h=this.awaitPos,p;for(this.yieldPos=0,this.awaitPos=0;this.type!==N.parenR;)if(l?l=!1:this.expect(N.comma),s&&this.afterTrailingComma(N.parenR,!0)){c=!0;break}else if(this.type===N.ellipsis){p=this.start,u.push(this.parseParenItem(this.parseRestBinding())),this.type===N.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else u.push(this.parseMaybeAssign(!1,f,this.parseParenItem));var m=this.lastTokEnd,y=this.lastTokEndLoc;if(this.expect(N.parenR),e&&this.shouldParseArrow(u)&&this.eat(N.arrow))return this.checkPatternErrors(f,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=d,this.awaitPos=h,this.parseParenArrowList(n,r,u,t);(!u.length||c)&&this.unexpected(this.lastTokStart),p&&this.unexpected(p),this.checkExpressionErrors(f,!0),this.yieldPos=d||this.yieldPos,this.awaitPos=h||this.awaitPos,u.length>1?(i=this.startNodeAt(o,a),i.expressions=u,this.finishNodeAt(i,"SequenceExpression",m,y)):i=u[0]}else i=this.parseParenExpression();if(this.options.preserveParens){var g=this.startNodeAt(n,r);return g.expression=i,this.finishNode(g,"ParenthesizedExpression")}else return i};_t.parseParenItem=function(e){return e};_t.parseParenArrowList=function(e,t,n,r){return this.parseArrowExpression(this.startNodeAt(e,t),n,!1,r)};var IVe=[];_t.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var e=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===N.dot){var t=this.startNodeAt(e.start,e.startLoc);t.name="new",e.meta=this.finishNode(t,"Identifier"),this.next();var n=this.containsEsc;return e.property=this.parseIdent(!0),e.property.name!=="target"&&this.raiseRecoverable(e.property.start,"The only valid meta property for new is 'new.target'"),n&&this.raiseRecoverable(e.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(e.start,"'new.target' can only be used in functions and class static block"),this.finishNode(e,"MetaProperty")}var r=this.start,i=this.startLoc;return e.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),r,i,!0,!1),this.eat(N.parenL)?e.arguments=this.parseExprList(N.parenR,this.options.ecmaVersion>=8,!1):e.arguments=IVe,this.finishNode(e,"NewExpression")};_t.parseTemplateElement=function(e){var t=e.isTagged,n=this.startNode();return this.type===N.invalidTemplate?(t||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),n.value={raw:this.value,cooked:null}):n.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),n.tail=this.type===N.backQuote,this.finishNode(n,"TemplateElement")};_t.parseTemplate=function(e){e===void 0&&(e={});var t=e.isTagged;t===void 0&&(t=!1);var n=this.startNode();this.next(),n.expressions=[];var r=this.parseTemplateElement({isTagged:t});for(n.quasis=[r];!r.tail;)this.type===N.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(N.dollarBraceL),n.expressions.push(this.parseExpression()),this.expect(N.braceR),n.quasis.push(r=this.parseTemplateElement({isTagged:t}));return this.next(),this.finishNode(n,"TemplateLiteral")};_t.isAsyncProp=function(e){return!e.computed&&e.key.type==="Identifier"&&e.key.name==="async"&&(this.type===N.name||this.type===N.num||this.type===N.string||this.type===N.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===N.star)&&!Xo.test(this.input.slice(this.lastTokEnd,this.start))};_t.parseObj=function(e,t){var n=this.startNode(),r=!0,i={};for(n.properties=[],this.next();!this.eat(N.braceR);){if(r)r=!1;else if(this.expect(N.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(N.braceR))break;var s=this.parseProperty(e,t);e||this.checkPropClash(s,i,t),n.properties.push(s)}return this.finishNode(n,e?"ObjectPattern":"ObjectExpression")};_t.parseProperty=function(e,t){var n=this.startNode(),r,i,s,o;if(this.options.ecmaVersion>=9&&this.eat(N.ellipsis))return e?(n.argument=this.parseIdent(!1),this.type===N.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(n,"RestElement")):(n.argument=this.parseMaybeAssign(!1,t),this.type===N.comma&&t&&t.trailingComma<0&&(t.trailingComma=this.start),this.finishNode(n,"SpreadElement"));this.options.ecmaVersion>=6&&(n.method=!1,n.shorthand=!1,(e||t)&&(s=this.start,o=this.startLoc),e||(r=this.eat(N.star)));var a=this.containsEsc;return this.parsePropertyName(n),!e&&!a&&this.options.ecmaVersion>=8&&!r&&this.isAsyncProp(n)?(i=!0,r=this.options.ecmaVersion>=9&&this.eat(N.star),this.parsePropertyName(n)):i=!1,this.parsePropertyValue(n,e,r,i,s,o,t,a),this.finishNode(n,"Property")};_t.parseGetterSetter=function(e){e.kind=e.key.name,this.parsePropertyName(e),e.value=this.parseMethod(!1);var t=e.kind==="get"?0:1;if(e.value.params.length!==t){var n=e.value.start;e.kind==="get"?this.raiseRecoverable(n,"getter should have no params"):this.raiseRecoverable(n,"setter should have exactly one param")}else e.kind==="set"&&e.value.params[0].type==="RestElement"&&this.raiseRecoverable(e.value.params[0].start,"Setter cannot use rest params")};_t.parsePropertyValue=function(e,t,n,r,i,s,o,a){(n||r)&&this.type===N.colon&&this.unexpected(),this.eat(N.colon)?(e.value=t?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,o),e.kind="init"):this.options.ecmaVersion>=6&&this.type===N.parenL?(t&&this.unexpected(),e.kind="init",e.method=!0,e.value=this.parseMethod(n,r)):!t&&!a&&this.options.ecmaVersion>=5&&!e.computed&&e.key.type==="Identifier"&&(e.key.name==="get"||e.key.name==="set")&&this.type!==N.comma&&this.type!==N.braceR&&this.type!==N.eq?((n||r)&&this.unexpected(),this.parseGetterSetter(e)):this.options.ecmaVersion>=6&&!e.computed&&e.key.type==="Identifier"?((n||r)&&this.unexpected(),this.checkUnreserved(e.key),e.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=i),e.kind="init",t?e.value=this.parseMaybeDefault(i,s,this.copyNode(e.key)):this.type===N.eq&&o?(o.shorthandAssign<0&&(o.shorthandAssign=this.start),e.value=this.parseMaybeDefault(i,s,this.copyNode(e.key))):e.value=this.copyNode(e.key),e.shorthand=!0):this.unexpected()};_t.parsePropertyName=function(e){if(this.options.ecmaVersion>=6){if(this.eat(N.bracketL))return e.computed=!0,e.key=this.parseMaybeAssign(),this.expect(N.bracketR),e.key;e.computed=!1}return e.key=this.type===N.num||this.type===N.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};_t.initFunction=function(e){e.id=null,this.options.ecmaVersion>=6&&(e.generator=e.expression=!1),this.options.ecmaVersion>=8&&(e.async=!1)};_t.parseMethod=function(e,t,n){var r=this.startNode(),i=this.yieldPos,s=this.awaitPos,o=this.awaitIdentPos;return this.initFunction(r),this.options.ecmaVersion>=6&&(r.generator=e),this.options.ecmaVersion>=8&&(r.async=!!t),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(c3(t,r.generator)|u3|(n?Pne:0)),this.expect(N.parenL),r.params=this.parseBindingList(N.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(r,!1,!0,!1),this.yieldPos=i,this.awaitPos=s,this.awaitIdentPos=o,this.finishNode(r,"FunctionExpression")};_t.parseArrowExpression=function(e,t,n,r){var i=this.yieldPos,s=this.awaitPos,o=this.awaitIdentPos;return this.enterScope(c3(n,!1)|Ane),this.initFunction(e),this.options.ecmaVersion>=8&&(e.async=!!n),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,e.params=this.toAssignableList(t,!0),this.parseFunctionBody(e,!0,!1,r),this.yieldPos=i,this.awaitPos=s,this.awaitIdentPos=o,this.finishNode(e,"ArrowFunctionExpression")};_t.parseFunctionBody=function(e,t,n,r){var i=t&&this.type!==N.braceL,s=this.strict,o=!1;if(i)e.body=this.parseMaybeAssign(r),e.expression=!0,this.checkParams(e,!1);else{var a=this.options.ecmaVersion>=7&&!this.isSimpleParamList(e.params);(!s||a)&&(o=this.strictDirective(this.end),o&&a&&this.raiseRecoverable(e.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var u=this.labels;this.labels=[],o&&(this.strict=!0),this.checkParams(e,!s&&!o&&!t&&!n&&this.isSimpleParamList(e.params)),this.strict&&e.id&&this.checkLValSimple(e.id,kne),e.body=this.parseBlock(!1,void 0,o&&!s),e.expression=!1,this.adaptDirectivePrologue(e.body.body),this.labels=u}this.exitScope()};_t.isSimpleParamList=function(e){for(var t=0,n=e;t<n.length;t+=1){var r=n[t];if(r.type!=="Identifier")return!1}return!0};_t.checkParams=function(e,t){for(var n=Object.create(null),r=0,i=e.params;r<i.length;r+=1){var s=i[r];this.checkLValInnerPattern(s,f3,t?null:n)}};_t.parseExprList=function(e,t,n,r){for(var i=[],s=!0;!this.eat(e);){if(s)s=!1;else if(this.expect(N.comma),t&&this.afterTrailingComma(e))break;var o=void 0;n&&this.type===N.comma?o=null:this.type===N.ellipsis?(o=this.parseSpread(r),r&&this.type===N.comma&&r.trailingComma<0&&(r.trailingComma=this.start)):o=this.parseMaybeAssign(!1,r),i.push(o)}return i};_t.checkUnreserved=function(e){var t=e.start,n=e.end,r=e.name;if(this.inGenerator&&r==="yield"&&this.raiseRecoverable(t,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&r==="await"&&this.raiseRecoverable(t,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&r==="arguments"&&this.raiseRecoverable(t,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(r==="arguments"||r==="await")&&this.raise(t,"Cannot use "+r+" in class static initialization block"),this.keywords.test(r)&&this.raise(t,"Unexpected keyword '"+r+"'"),!(this.options.ecmaVersion<6&&this.input.slice(t,n).indexOf("\\")!==-1)){var i=this.strict?this.reservedWordsStrict:this.reservedWords;i.test(r)&&(!this.inAsync&&r==="await"&&this.raiseRecoverable(t,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(t,"The keyword '"+r+"' is reserved"))}};_t.parseIdent=function(e){var t=this.parseIdentNode();return this.next(!!e),this.finishNode(t,"Identifier"),e||(this.checkUnreserved(t),t.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=t.start)),t};_t.parseIdentNode=function(){var e=this.startNode();return this.type===N.name?e.name=this.value:this.type.keyword?(e.name=this.type.keyword,(e.name==="class"||e.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=N.name):this.unexpected(),e};_t.parsePrivateIdent=function(){var e=this.startNode();return this.type===N.privateId?e.name=this.value:this.unexpected(),this.next(),this.finishNode(e,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(e.start,"Private field '#"+e.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(e)),e};_t.parseYield=function(e){this.yieldPos||(this.yieldPos=this.start);var t=this.startNode();return this.next(),this.type===N.semi||this.canInsertSemicolon()||this.type!==N.star&&!this.type.startsExpr?(t.delegate=!1,t.argument=null):(t.delegate=this.eat(N.star),t.argument=this.parseMaybeAssign(e)),this.finishNode(t,"YieldExpression")};_t.parseAwait=function(e){this.awaitPos||(this.awaitPos=this.start);var t=this.startNode();return this.next(),t.argument=this.parseMaybeUnary(null,!0,!1,e),this.finishNode(t,"AwaitExpression")};var ST=Zr.prototype;ST.raise=function(e,t){var n=xne(this.input,e);t+=" ("+n.line+":"+n.column+")";var r=new SyntaxError(t);throw r.pos=e,r.loc=n,r.raisedAt=this.pos,r};ST.raiseRecoverable=ST.raise;ST.curPosition=function(){if(this.options.locations)return new Dy(this.curLine,this.pos-this.lineStart)};var wf=Zr.prototype,xVe=function(t){this.flags=t,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};wf.enterScope=function(e){this.scopeStack.push(new xVe(e))};wf.exitScope=function(){this.scopeStack.pop()};wf.treatFunctionsAsVarInScope=function(e){return e.flags&Hm||!this.inModule&&e.flags&$y};wf.declareName=function(e,t,n){var r=!1;if(t===Hl){var i=this.currentScope();r=i.lexical.indexOf(e)>-1||i.functions.indexOf(e)>-1||i.var.indexOf(e)>-1,i.lexical.push(e),this.inModule&&i.flags&$y&&delete this.undefinedExports[e]}else if(t===Nne){var s=this.currentScope();s.lexical.push(e)}else if(t===Rne){var o=this.currentScope();this.treatFunctionsAsVar?r=o.lexical.indexOf(e)>-1:r=o.lexical.indexOf(e)>-1||o.var.indexOf(e)>-1,o.functions.push(e)}else for(var a=this.scopeStack.length-1;a>=0;--a){var u=this.scopeStack[a];if(u.lexical.indexOf(e)>-1&&!(u.flags&One&&u.lexical[0]===e)||!this.treatFunctionsAsVarInScope(u)&&u.functions.indexOf(e)>-1){r=!0;break}if(u.var.push(e),this.inModule&&u.flags&$y&&delete this.undefinedExports[e],u.flags&l3)break}r&&this.raiseRecoverable(n,"Identifier '"+e+"' has already been declared")};wf.checkLocalExport=function(e){this.scopeStack[0].lexical.indexOf(e.name)===-1&&this.scopeStack[0].var.indexOf(e.name)===-1&&(this.undefinedExports[e.name]=e)};wf.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};wf.currentVarScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&l3)return t}};wf.currentThisScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&l3&&!(t.flags&Ane))return t}};var qI=function(t,n,r){this.type="",this.start=n,this.end=0,t.options.locations&&(this.loc=new zI(t,r)),t.options.directSourceFile&&(this.sourceFile=t.options.directSourceFile),t.options.ranges&&(this.range=[n,0])},z_=Zr.prototype;z_.startNode=function(){return new qI(this,this.start,this.startLoc)};z_.startNodeAt=function(e,t){return new qI(this,e,t)};function Lne(e,t,n,r){return e.type=t,e.end=n,this.options.locations&&(e.loc.end=r),this.options.ranges&&(e.range[1]=n),e}z_.finishNode=function(e,t){return Lne.call(this,e,t,this.lastTokEnd,this.lastTokEndLoc)};z_.finishNodeAt=function(e,t,n,r){return Lne.call(this,e,t,n,r)};z_.copyNode=function(e){var t=new qI(this,e.start,this.startLoc);for(var n in e)t[n]=e[n];return t};var Mne="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",Fne=Mne+" Extended_Pictographic",Bne=Fne,jne=Bne+" EBase EComp EMod EPres ExtPict",Une=jne,CVe=Une,AVe={9:Mne,10:Fne,11:Bne,12:jne,13:Une,14:CVe},OVe="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",PVe={9:"",10:"",11:"",12:"",13:"",14:OVe},yU="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",Vne="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",zne=Vne+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",Hne=zne+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",qne=Hne+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",Wne=qne+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",RVe=Wne+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz",NVe={9:Vne,10:zne,11:Hne,12:qne,13:Wne,14:RVe},Yne={};function kVe(e){var t=Yne[e]={binary:Ec(AVe[e]+" "+yU),binaryOfStrings:Ec(PVe[e]),nonBinary:{General_Category:Ec(yU),Script:Ec(NVe[e])}};t.nonBinary.Script_Extensions=t.nonBinary.Script,t.nonBinary.gc=t.nonBinary.General_Category,t.nonBinary.sc=t.nonBinary.Script,t.nonBinary.scx=t.nonBinary.Script_Extensions}for(var zA=0,_U=[9,10,11,12,13,14];zA<_U.length;zA+=1){var DVe=_U[zA];kVe(DVe)}var Xe=Zr.prototype,Du=function(t){this.parser=t,this.validFlags="gim"+(t.options.ecmaVersion>=6?"uy":"")+(t.options.ecmaVersion>=9?"s":"")+(t.options.ecmaVersion>=13?"d":"")+(t.options.ecmaVersion>=15?"v":""),this.unicodeProperties=Yne[t.options.ecmaVersion>=14?14:t.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};Du.prototype.reset=function(t,n,r){var i=r.indexOf("v")!==-1,s=r.indexOf("u")!==-1;this.start=t|0,this.source=n+"",this.flags=r,i&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=s&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=s&&this.parser.options.ecmaVersion>=9)};Du.prototype.raise=function(t){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+t)};Du.prototype.at=function(t,n){n===void 0&&(n=!1);var r=this.source,i=r.length;if(t>=i)return-1;var s=r.charCodeAt(t);if(!(n||this.switchU)||s<=55295||s>=57344||t+1>=i)return s;var o=r.charCodeAt(t+1);return o>=56320&&o<=57343?(s<<10)+o-56613888:s};Du.prototype.nextIndex=function(t,n){n===void 0&&(n=!1);var r=this.source,i=r.length;if(t>=i)return i;var s=r.charCodeAt(t),o;return!(n||this.switchU)||s<=55295||s>=57344||t+1>=i||(o=r.charCodeAt(t+1))<56320||o>57343?t+1:t+2};Du.prototype.current=function(t){return t===void 0&&(t=!1),this.at(this.pos,t)};Du.prototype.lookahead=function(t){return t===void 0&&(t=!1),this.at(this.nextIndex(this.pos,t),t)};Du.prototype.advance=function(t){t===void 0&&(t=!1),this.pos=this.nextIndex(this.pos,t)};Du.prototype.eat=function(t,n){return n===void 0&&(n=!1),this.current(n)===t?(this.advance(n),!0):!1};Du.prototype.eatChars=function(t,n){n===void 0&&(n=!1);for(var r=this.pos,i=0,s=t;i<s.length;i+=1){var o=s[i],a=this.at(r,n);if(a===-1||a!==o)return!1;r=this.nextIndex(r,n)}return this.pos=r,!0};Xe.validateRegExpFlags=function(e){for(var t=e.validFlags,n=e.flags,r=!1,i=!1,s=0;s<n.length;s++){var o=n.charAt(s);t.indexOf(o)===-1&&this.raise(e.start,"Invalid regular expression flag"),n.indexOf(o,s+1)>-1&&this.raise(e.start,"Duplicate regular expression flag"),o==="u"&&(r=!0),o==="v"&&(i=!0)}this.options.ecmaVersion>=15&&r&&i&&this.raise(e.start,"Invalid regular expression flag")};Xe.validateRegExpPattern=function(e){this.regexp_pattern(e),!e.switchN&&this.options.ecmaVersion>=9&&e.groupNames.length>0&&(e.switchN=!0,this.regexp_pattern(e))};Xe.regexp_pattern=function(e){e.pos=0,e.lastIntValue=0,e.lastStringValue="",e.lastAssertionIsQuantifiable=!1,e.numCapturingParens=0,e.maxBackReference=0,e.groupNames.length=0,e.backReferenceNames.length=0,this.regexp_disjunction(e),e.pos!==e.source.length&&(e.eat(41)&&e.raise("Unmatched ')'"),(e.eat(93)||e.eat(125))&&e.raise("Lone quantifier brackets")),e.maxBackReference>e.numCapturingParens&&e.raise("Invalid escape");for(var t=0,n=e.backReferenceNames;t<n.length;t+=1){var r=n[t];e.groupNames.indexOf(r)===-1&&e.raise("Invalid named capture referenced")}};Xe.regexp_disjunction=function(e){for(this.regexp_alternative(e);e.eat(124);)this.regexp_alternative(e);this.regexp_eatQuantifier(e,!0)&&e.raise("Nothing to repeat"),e.eat(123)&&e.raise("Lone quantifier brackets")};Xe.regexp_alternative=function(e){for(;e.pos<e.source.length&&this.regexp_eatTerm(e););};Xe.regexp_eatTerm=function(e){return this.regexp_eatAssertion(e)?(e.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(e)&&e.switchU&&e.raise("Invalid quantifier"),!0):(e.switchU?this.regexp_eatAtom(e):this.regexp_eatExtendedAtom(e))?(this.regexp_eatQuantifier(e),!0):!1};Xe.regexp_eatAssertion=function(e){var t=e.pos;if(e.lastAssertionIsQuantifiable=!1,e.eat(94)||e.eat(36))return!0;if(e.eat(92)){if(e.eat(66)||e.eat(98))return!0;e.pos=t}if(e.eat(40)&&e.eat(63)){var n=!1;if(this.options.ecmaVersion>=9&&(n=e.eat(60)),e.eat(61)||e.eat(33))return this.regexp_disjunction(e),e.eat(41)||e.raise("Unterminated group"),e.lastAssertionIsQuantifiable=!n,!0}return e.pos=t,!1};Xe.regexp_eatQuantifier=function(e,t){return t===void 0&&(t=!1),this.regexp_eatQuantifierPrefix(e,t)?(e.eat(63),!0):!1};Xe.regexp_eatQuantifierPrefix=function(e,t){return e.eat(42)||e.eat(43)||e.eat(63)||this.regexp_eatBracedQuantifier(e,t)};Xe.regexp_eatBracedQuantifier=function(e,t){var n=e.pos;if(e.eat(123)){var r=0,i=-1;if(this.regexp_eatDecimalDigits(e)&&(r=e.lastIntValue,e.eat(44)&&this.regexp_eatDecimalDigits(e)&&(i=e.lastIntValue),e.eat(125)))return i!==-1&&i<r&&!t&&e.raise("numbers out of order in {} quantifier"),!0;e.switchU&&!t&&e.raise("Incomplete quantifier"),e.pos=n}return!1};Xe.regexp_eatAtom=function(e){return this.regexp_eatPatternCharacters(e)||e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)};Xe.regexp_eatReverseSolidusAtomEscape=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatAtomEscape(e))return!0;e.pos=t}return!1};Xe.regexp_eatUncapturingGroup=function(e){var t=e.pos;if(e.eat(40)){if(e.eat(63)&&e.eat(58)){if(this.regexp_disjunction(e),e.eat(41))return!0;e.raise("Unterminated group")}e.pos=t}return!1};Xe.regexp_eatCapturingGroup=function(e){if(e.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(e):e.current()===63&&e.raise("Invalid group"),this.regexp_disjunction(e),e.eat(41))return e.numCapturingParens+=1,!0;e.raise("Unterminated group")}return!1};Xe.regexp_eatExtendedAtom=function(e){return e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)||this.regexp_eatInvalidBracedQuantifier(e)||this.regexp_eatExtendedPatternCharacter(e)};Xe.regexp_eatInvalidBracedQuantifier=function(e){return this.regexp_eatBracedQuantifier(e,!0)&&e.raise("Nothing to repeat"),!1};Xe.regexp_eatSyntaxCharacter=function(e){var t=e.current();return Gne(t)?(e.lastIntValue=t,e.advance(),!0):!1};function Gne(e){return e===36||e>=40&&e<=43||e===46||e===63||e>=91&&e<=94||e>=123&&e<=125}Xe.regexp_eatPatternCharacters=function(e){for(var t=e.pos,n=0;(n=e.current())!==-1&&!Gne(n);)e.advance();return e.pos!==t};Xe.regexp_eatExtendedPatternCharacter=function(e){var t=e.current();return t!==-1&&t!==36&&!(t>=40&&t<=43)&&t!==46&&t!==63&&t!==91&&t!==94&&t!==124?(e.advance(),!0):!1};Xe.regexp_groupSpecifier=function(e){if(e.eat(63)){if(this.regexp_eatGroupName(e)){e.groupNames.indexOf(e.lastStringValue)!==-1&&e.raise("Duplicate capture group name"),e.groupNames.push(e.lastStringValue);return}e.raise("Invalid group")}};Xe.regexp_eatGroupName=function(e){if(e.lastStringValue="",e.eat(60)){if(this.regexp_eatRegExpIdentifierName(e)&&e.eat(62))return!0;e.raise("Invalid capture group name")}return!1};Xe.regexp_eatRegExpIdentifierName=function(e){if(e.lastStringValue="",this.regexp_eatRegExpIdentifierStart(e)){for(e.lastStringValue+=sf(e.lastIntValue);this.regexp_eatRegExpIdentifierPart(e);)e.lastStringValue+=sf(e.lastIntValue);return!0}return!1};Xe.regexp_eatRegExpIdentifierStart=function(e){var t=e.pos,n=this.options.ecmaVersion>=11,r=e.current(n);return e.advance(n),r===92&&this.regexp_eatRegExpUnicodeEscapeSequence(e,n)&&(r=e.lastIntValue),$Ve(r)?(e.lastIntValue=r,!0):(e.pos=t,!1)};function $Ve(e){return Cl(e,!0)||e===36||e===95}Xe.regexp_eatRegExpIdentifierPart=function(e){var t=e.pos,n=this.options.ecmaVersion>=11,r=e.current(n);return e.advance(n),r===92&&this.regexp_eatRegExpUnicodeEscapeSequence(e,n)&&(r=e.lastIntValue),LVe(r)?(e.lastIntValue=r,!0):(e.pos=t,!1)};function LVe(e){return cm(e,!0)||e===36||e===95||e===8204||e===8205}Xe.regexp_eatAtomEscape=function(e){return this.regexp_eatBackReference(e)||this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)||e.switchN&&this.regexp_eatKGroupName(e)?!0:(e.switchU&&(e.current()===99&&e.raise("Invalid unicode escape"),e.raise("Invalid escape")),!1)};Xe.regexp_eatBackReference=function(e){var t=e.pos;if(this.regexp_eatDecimalEscape(e)){var n=e.lastIntValue;if(e.switchU)return n>e.maxBackReference&&(e.maxBackReference=n),!0;if(n<=e.numCapturingParens)return!0;e.pos=t}return!1};Xe.regexp_eatKGroupName=function(e){if(e.eat(107)){if(this.regexp_eatGroupName(e))return e.backReferenceNames.push(e.lastStringValue),!0;e.raise("Invalid named reference")}return!1};Xe.regexp_eatCharacterEscape=function(e){return this.regexp_eatControlEscape(e)||this.regexp_eatCControlLetter(e)||this.regexp_eatZero(e)||this.regexp_eatHexEscapeSequence(e)||this.regexp_eatRegExpUnicodeEscapeSequence(e,!1)||!e.switchU&&this.regexp_eatLegacyOctalEscapeSequence(e)||this.regexp_eatIdentityEscape(e)};Xe.regexp_eatCControlLetter=function(e){var t=e.pos;if(e.eat(99)){if(this.regexp_eatControlLetter(e))return!0;e.pos=t}return!1};Xe.regexp_eatZero=function(e){return e.current()===48&&!WI(e.lookahead())?(e.lastIntValue=0,e.advance(),!0):!1};Xe.regexp_eatControlEscape=function(e){var t=e.current();return t===116?(e.lastIntValue=9,e.advance(),!0):t===110?(e.lastIntValue=10,e.advance(),!0):t===118?(e.lastIntValue=11,e.advance(),!0):t===102?(e.lastIntValue=12,e.advance(),!0):t===114?(e.lastIntValue=13,e.advance(),!0):!1};Xe.regexp_eatControlLetter=function(e){var t=e.current();return Kne(t)?(e.lastIntValue=t%32,e.advance(),!0):!1};function Kne(e){return e>=65&&e<=90||e>=97&&e<=122}Xe.regexp_eatRegExpUnicodeEscapeSequence=function(e,t){t===void 0&&(t=!1);var n=e.pos,r=t||e.switchU;if(e.eat(117)){if(this.regexp_eatFixedHexDigits(e,4)){var i=e.lastIntValue;if(r&&i>=55296&&i<=56319){var s=e.pos;if(e.eat(92)&&e.eat(117)&&this.regexp_eatFixedHexDigits(e,4)){var o=e.lastIntValue;if(o>=56320&&o<=57343)return e.lastIntValue=(i-55296)*1024+(o-56320)+65536,!0}e.pos=s,e.lastIntValue=i}return!0}if(r&&e.eat(123)&&this.regexp_eatHexDigits(e)&&e.eat(125)&&MVe(e.lastIntValue))return!0;r&&e.raise("Invalid unicode escape"),e.pos=n}return!1};function MVe(e){return e>=0&&e<=1114111}Xe.regexp_eatIdentityEscape=function(e){if(e.switchU)return this.regexp_eatSyntaxCharacter(e)?!0:e.eat(47)?(e.lastIntValue=47,!0):!1;var t=e.current();return t!==99&&(!e.switchN||t!==107)?(e.lastIntValue=t,e.advance(),!0):!1};Xe.regexp_eatDecimalEscape=function(e){e.lastIntValue=0;var t=e.current();if(t>=49&&t<=57){do e.lastIntValue=10*e.lastIntValue+(t-48),e.advance();while((t=e.current())>=48&&t<=57);return!0}return!1};var Qne=0,Al=1,ko=2;Xe.regexp_eatCharacterClassEscape=function(e){var t=e.current();if(FVe(t))return e.lastIntValue=-1,e.advance(),Al;var n=!1;if(e.switchU&&this.options.ecmaVersion>=9&&((n=t===80)||t===112)){e.lastIntValue=-1,e.advance();var r;if(e.eat(123)&&(r=this.regexp_eatUnicodePropertyValueExpression(e))&&e.eat(125))return n&&r===ko&&e.raise("Invalid property name"),r;e.raise("Invalid property name")}return Qne};function FVe(e){return e===100||e===68||e===115||e===83||e===119||e===87}Xe.regexp_eatUnicodePropertyValueExpression=function(e){var t=e.pos;if(this.regexp_eatUnicodePropertyName(e)&&e.eat(61)){var n=e.lastStringValue;if(this.regexp_eatUnicodePropertyValue(e)){var r=e.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(e,n,r),Al}}if(e.pos=t,this.regexp_eatLoneUnicodePropertyNameOrValue(e)){var i=e.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(e,i)}return Qne};Xe.regexp_validateUnicodePropertyNameAndValue=function(e,t,n){U_(e.unicodeProperties.nonBinary,t)||e.raise("Invalid property name"),e.unicodeProperties.nonBinary[t].test(n)||e.raise("Invalid property value")};Xe.regexp_validateUnicodePropertyNameOrValue=function(e,t){if(e.unicodeProperties.binary.test(t))return Al;if(e.switchV&&e.unicodeProperties.binaryOfStrings.test(t))return ko;e.raise("Invalid property name")};Xe.regexp_eatUnicodePropertyName=function(e){var t=0;for(e.lastStringValue="";Xne(t=e.current());)e.lastStringValue+=sf(t),e.advance();return e.lastStringValue!==""};function Xne(e){return Kne(e)||e===95}Xe.regexp_eatUnicodePropertyValue=function(e){var t=0;for(e.lastStringValue="";BVe(t=e.current());)e.lastStringValue+=sf(t),e.advance();return e.lastStringValue!==""};function BVe(e){return Xne(e)||WI(e)}Xe.regexp_eatLoneUnicodePropertyNameOrValue=function(e){return this.regexp_eatUnicodePropertyValue(e)};Xe.regexp_eatCharacterClass=function(e){if(e.eat(91)){var t=e.eat(94),n=this.regexp_classContents(e);return e.eat(93)||e.raise("Unterminated character class"),t&&n===ko&&e.raise("Negated character class may contain strings"),!0}return!1};Xe.regexp_classContents=function(e){return e.current()===93?Al:e.switchV?this.regexp_classSetExpression(e):(this.regexp_nonEmptyClassRanges(e),Al)};Xe.regexp_nonEmptyClassRanges=function(e){for(;this.regexp_eatClassAtom(e);){var t=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassAtom(e)){var n=e.lastIntValue;e.switchU&&(t===-1||n===-1)&&e.raise("Invalid character class"),t!==-1&&n!==-1&&t>n&&e.raise("Range out of order in character class")}}};Xe.regexp_eatClassAtom=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatClassEscape(e))return!0;if(e.switchU){var n=e.current();(n===99||ere(n))&&e.raise("Invalid class escape"),e.raise("Invalid escape")}e.pos=t}var r=e.current();return r!==93?(e.lastIntValue=r,e.advance(),!0):!1};Xe.regexp_eatClassEscape=function(e){var t=e.pos;if(e.eat(98))return e.lastIntValue=8,!0;if(e.switchU&&e.eat(45))return e.lastIntValue=45,!0;if(!e.switchU&&e.eat(99)){if(this.regexp_eatClassControlLetter(e))return!0;e.pos=t}return this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)};Xe.regexp_classSetExpression=function(e){var t=Al,n;if(!this.regexp_eatClassSetRange(e))if(n=this.regexp_eatClassSetOperand(e)){n===ko&&(t=ko);for(var r=e.pos;e.eatChars([38,38]);){if(e.current()!==38&&(n=this.regexp_eatClassSetOperand(e))){n!==ko&&(t=Al);continue}e.raise("Invalid character in character class")}if(r!==e.pos)return t;for(;e.eatChars([45,45]);)this.regexp_eatClassSetOperand(e)||e.raise("Invalid character in character class");if(r!==e.pos)return t}else e.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(e)){if(n=this.regexp_eatClassSetOperand(e),!n)return t;n===ko&&(t=ko)}};Xe.regexp_eatClassSetRange=function(e){var t=e.pos;if(this.regexp_eatClassSetCharacter(e)){var n=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassSetCharacter(e)){var r=e.lastIntValue;return n!==-1&&r!==-1&&n>r&&e.raise("Range out of order in character class"),!0}e.pos=t}return!1};Xe.regexp_eatClassSetOperand=function(e){return this.regexp_eatClassSetCharacter(e)?Al:this.regexp_eatClassStringDisjunction(e)||this.regexp_eatNestedClass(e)};Xe.regexp_eatNestedClass=function(e){var t=e.pos;if(e.eat(91)){var n=e.eat(94),r=this.regexp_classContents(e);if(e.eat(93))return n&&r===ko&&e.raise("Negated character class may contain strings"),r;e.pos=t}if(e.eat(92)){var i=this.regexp_eatCharacterClassEscape(e);if(i)return i;e.pos=t}return null};Xe.regexp_eatClassStringDisjunction=function(e){var t=e.pos;if(e.eatChars([92,113])){if(e.eat(123)){var n=this.regexp_classStringDisjunctionContents(e);if(e.eat(125))return n}else e.raise("Invalid escape");e.pos=t}return null};Xe.regexp_classStringDisjunctionContents=function(e){for(var t=this.regexp_classString(e);e.eat(124);)this.regexp_classString(e)===ko&&(t=ko);return t};Xe.regexp_classString=function(e){for(var t=0;this.regexp_eatClassSetCharacter(e);)t++;return t===1?Al:ko};Xe.regexp_eatClassSetCharacter=function(e){var t=e.pos;if(e.eat(92))return this.regexp_eatCharacterEscape(e)||this.regexp_eatClassSetReservedPunctuator(e)?!0:e.eat(98)?(e.lastIntValue=8,!0):(e.pos=t,!1);var n=e.current();return n<0||n===e.lookahead()&&jVe(n)||UVe(n)?!1:(e.advance(),e.lastIntValue=n,!0)};function jVe(e){return e===33||e>=35&&e<=38||e>=42&&e<=44||e===46||e>=58&&e<=64||e===94||e===96||e===126}function UVe(e){return e===40||e===41||e===45||e===47||e>=91&&e<=93||e>=123&&e<=125}Xe.regexp_eatClassSetReservedPunctuator=function(e){var t=e.current();return VVe(t)?(e.lastIntValue=t,e.advance(),!0):!1};function VVe(e){return e===33||e===35||e===37||e===38||e===44||e===45||e>=58&&e<=62||e===64||e===96||e===126}Xe.regexp_eatClassControlLetter=function(e){var t=e.current();return WI(t)||t===95?(e.lastIntValue=t%32,e.advance(),!0):!1};Xe.regexp_eatHexEscapeSequence=function(e){var t=e.pos;if(e.eat(120)){if(this.regexp_eatFixedHexDigits(e,2))return!0;e.switchU&&e.raise("Invalid escape"),e.pos=t}return!1};Xe.regexp_eatDecimalDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;WI(n=e.current());)e.lastIntValue=10*e.lastIntValue+(n-48),e.advance();return e.pos!==t};function WI(e){return e>=48&&e<=57}Xe.regexp_eatHexDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;Jne(n=e.current());)e.lastIntValue=16*e.lastIntValue+Zne(n),e.advance();return e.pos!==t};function Jne(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}function Zne(e){return e>=65&&e<=70?10+(e-65):e>=97&&e<=102?10+(e-97):e-48}Xe.regexp_eatLegacyOctalEscapeSequence=function(e){if(this.regexp_eatOctalDigit(e)){var t=e.lastIntValue;if(this.regexp_eatOctalDigit(e)){var n=e.lastIntValue;t<=3&&this.regexp_eatOctalDigit(e)?e.lastIntValue=t*64+n*8+e.lastIntValue:e.lastIntValue=t*8+n}else e.lastIntValue=t;return!0}return!1};Xe.regexp_eatOctalDigit=function(e){var t=e.current();return ere(t)?(e.lastIntValue=t-48,e.advance(),!0):(e.lastIntValue=0,!1)};function ere(e){return e>=48&&e<=55}Xe.regexp_eatFixedHexDigits=function(e,t){var n=e.pos;e.lastIntValue=0;for(var r=0;r<t;++r){var i=e.current();if(!Jne(i))return e.pos=n,!1;e.lastIntValue=16*e.lastIntValue+Zne(i),e.advance()}return!0};var h3=function(t){this.type=t.type,this.value=t.value,this.start=t.start,this.end=t.end,t.options.locations&&(this.loc=new zI(t,t.startLoc,t.endLoc)),t.options.ranges&&(this.range=[t.start,t.end])},Xt=Zr.prototype;Xt.next=function(e){!e&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new h3(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};Xt.getToken=function(){return this.next(),new h3(this)};typeof Symbol<"u"&&(Xt[Symbol.iterator]=function(){var e=this;return{next:function(){var t=e.getToken();return{done:t.type===N.eof,value:t}}}});Xt.nextToken=function(){var e=this.curContext();if((!e||!e.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(N.eof);if(e.override)return e.override(this);this.readToken(this.fullCharCodeAtPos())};Xt.readToken=function(e){return Cl(e,this.options.ecmaVersion>=6)||e===92?this.readWord():this.getTokenFromCode(e)};Xt.fullCharCodeAtPos=function(){var e=this.input.charCodeAt(this.pos);if(e<=55295||e>=56320)return e;var t=this.input.charCodeAt(this.pos+1);return t<=56319||t>=57344?e:(e<<10)+t-56613888};Xt.skipBlockComment=function(){var e=this.options.onComment&&this.curPosition(),t=this.pos,n=this.input.indexOf("*/",this.pos+=2);if(n===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=n+2,this.options.locations)for(var r=void 0,i=t;(r=Tne(this.input,i,this.pos))>-1;)++this.curLine,i=this.lineStart=r;this.options.onComment&&this.options.onComment(!0,this.input.slice(t+2,n),t,this.pos,e,this.curPosition())};Xt.skipLineComment=function(e){for(var t=this.pos,n=this.options.onComment&&this.curPosition(),r=this.input.charCodeAt(this.pos+=e);this.pos<this.input.length&&!zm(r);)r=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(t+e,this.pos),t,this.pos,n,this.curPosition())};Xt.skipSpace=function(){e:for(;this.pos<this.input.length;){var e=this.input.charCodeAt(this.pos);switch(e){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(e>8&&e<14||e>=5760&&Sne.test(String.fromCharCode(e)))++this.pos;else break e}}};Xt.finishToken=function(e,t){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var n=this.type;this.type=e,this.value=t,this.updateContext(n)};Xt.readToken_dot=function(){var e=this.input.charCodeAt(this.pos+1);if(e>=48&&e<=57)return this.readNumber(!0);var t=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&e===46&&t===46?(this.pos+=3,this.finishToken(N.ellipsis)):(++this.pos,this.finishToken(N.dot))};Xt.readToken_slash=function(){var e=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):e===61?this.finishOp(N.assign,2):this.finishOp(N.slash,1)};Xt.readToken_mult_modulo_exp=function(e){var t=this.input.charCodeAt(this.pos+1),n=1,r=e===42?N.star:N.modulo;return this.options.ecmaVersion>=7&&e===42&&t===42&&(++n,r=N.starstar,t=this.input.charCodeAt(this.pos+2)),t===61?this.finishOp(N.assign,n+1):this.finishOp(r,n)};Xt.readToken_pipe_amp=function(e){var t=this.input.charCodeAt(this.pos+1);if(t===e){if(this.options.ecmaVersion>=12){var n=this.input.charCodeAt(this.pos+2);if(n===61)return this.finishOp(N.assign,3)}return this.finishOp(e===124?N.logicalOR:N.logicalAND,2)}return t===61?this.finishOp(N.assign,2):this.finishOp(e===124?N.bitwiseOR:N.bitwiseAND,1)};Xt.readToken_caret=function(){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(N.assign,2):this.finishOp(N.bitwiseXOR,1)};Xt.readToken_plus_min=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?t===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||Xo.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(N.incDec,2):t===61?this.finishOp(N.assign,2):this.finishOp(N.plusMin,1)};Xt.readToken_lt_gt=function(e){var t=this.input.charCodeAt(this.pos+1),n=1;return t===e?(n=e===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+n)===61?this.finishOp(N.assign,n+1):this.finishOp(N.bitShift,n)):t===33&&e===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(t===61&&(n=2),this.finishOp(N.relational,n))};Xt.readToken_eq_excl=function(e){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(N.equality,this.input.charCodeAt(this.pos+2)===61?3:2):e===61&&t===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(N.arrow)):this.finishOp(e===61?N.eq:N.prefix,1)};Xt.readToken_question=function(){var e=this.options.ecmaVersion;if(e>=11){var t=this.input.charCodeAt(this.pos+1);if(t===46){var n=this.input.charCodeAt(this.pos+2);if(n<48||n>57)return this.finishOp(N.questionDot,2)}if(t===63){if(e>=12){var r=this.input.charCodeAt(this.pos+2);if(r===61)return this.finishOp(N.assign,3)}return this.finishOp(N.coalesce,2)}}return this.finishOp(N.question,1)};Xt.readToken_numberSign=function(){var e=this.options.ecmaVersion,t=35;if(e>=13&&(++this.pos,t=this.fullCharCodeAtPos(),Cl(t,!0)||t===92))return this.finishToken(N.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+sf(t)+"'")};Xt.getTokenFromCode=function(e){switch(e){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(N.parenL);case 41:return++this.pos,this.finishToken(N.parenR);case 59:return++this.pos,this.finishToken(N.semi);case 44:return++this.pos,this.finishToken(N.comma);case 91:return++this.pos,this.finishToken(N.bracketL);case 93:return++this.pos,this.finishToken(N.bracketR);case 123:return++this.pos,this.finishToken(N.braceL);case 125:return++this.pos,this.finishToken(N.braceR);case 58:return++this.pos,this.finishToken(N.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(N.backQuote);case 48:var t=this.input.charCodeAt(this.pos+1);if(t===120||t===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(t===111||t===79)return this.readRadixNumber(8);if(t===98||t===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(e);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(e);case 124:case 38:return this.readToken_pipe_amp(e);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(e);case 60:case 62:return this.readToken_lt_gt(e);case 61:case 33:return this.readToken_eq_excl(e);case 63:return this.readToken_question();case 126:return this.finishOp(N.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+sf(e)+"'")};Xt.finishOp=function(e,t){var n=this.input.slice(this.pos,this.pos+t);return this.pos+=t,this.finishToken(e,n)};Xt.readRegexp=function(){for(var e,t,n=this.pos;;){this.pos>=this.input.length&&this.raise(n,"Unterminated regular expression");var r=this.input.charAt(this.pos);if(Xo.test(r)&&this.raise(n,"Unterminated regular expression"),e)e=!1;else{if(r==="[")t=!0;else if(r==="]"&&t)t=!1;else if(r==="/"&&!t)break;e=r==="\\"}++this.pos}var i=this.input.slice(n,this.pos);++this.pos;var s=this.pos,o=this.readWord1();this.containsEsc&&this.unexpected(s);var a=this.regexpState||(this.regexpState=new Du(this));a.reset(n,i,o),this.validateRegExpFlags(a),this.validateRegExpPattern(a);var u=null;try{u=new RegExp(i,o)}catch{}return this.finishToken(N.regexp,{pattern:i,flags:o,value:u})};Xt.readInt=function(e,t,n){for(var r=this.options.ecmaVersion>=12&&t===void 0,i=n&&this.input.charCodeAt(this.pos)===48,s=this.pos,o=0,a=0,u=0,l=t??1/0;u<l;++u,++this.pos){var c=this.input.charCodeAt(this.pos),f=void 0;if(r&&c===95){i&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),a===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),u===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),a=c;continue}if(c>=97?f=c-97+10:c>=65?f=c-65+10:c>=48&&c<=57?f=c-48:f=1/0,f>=e)break;a=c,o=o*e+f}return r&&a===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===s||t!=null&&this.pos-s!==t?null:o};function zVe(e,t){return t?parseInt(e,8):parseFloat(e.replace(/_/g,""))}function tre(e){return typeof BigInt!="function"?null:BigInt(e.replace(/_/g,""))}Xt.readRadixNumber=function(e){var t=this.pos;this.pos+=2;var n=this.readInt(e);return n==null&&this.raise(this.start+2,"Expected number in radix "+e),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(n=tre(this.input.slice(t,this.pos)),++this.pos):Cl(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(N.num,n)};Xt.readNumber=function(e){var t=this.pos;!e&&this.readInt(10,void 0,!0)===null&&this.raise(t,"Invalid number");var n=this.pos-t>=2&&this.input.charCodeAt(t)===48;n&&this.strict&&this.raise(t,"Invalid number");var r=this.input.charCodeAt(this.pos);if(!n&&!e&&this.options.ecmaVersion>=11&&r===110){var i=tre(this.input.slice(t,this.pos));return++this.pos,Cl(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(N.num,i)}n&&/[89]/.test(this.input.slice(t,this.pos))&&(n=!1),r===46&&!n&&(++this.pos,this.readInt(10),r=this.input.charCodeAt(this.pos)),(r===69||r===101)&&!n&&(r=this.input.charCodeAt(++this.pos),(r===43||r===45)&&++this.pos,this.readInt(10)===null&&this.raise(t,"Invalid number")),Cl(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var s=zVe(this.input.slice(t,this.pos),n);return this.finishToken(N.num,s)};Xt.readCodePoint=function(){var e=this.input.charCodeAt(this.pos),t;if(e===123){this.options.ecmaVersion<6&&this.unexpected();var n=++this.pos;t=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,t>1114111&&this.invalidStringToken(n,"Code point out of bounds")}else t=this.readHexChar(4);return t};Xt.readString=function(e){for(var t="",n=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var r=this.input.charCodeAt(this.pos);if(r===e)break;r===92?(t+=this.input.slice(n,this.pos),t+=this.readEscapedChar(!1),n=this.pos):r===8232||r===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(zm(r)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return t+=this.input.slice(n,this.pos++),this.finishToken(N.string,t)};var nre={};Xt.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(e){if(e===nre)this.readInvalidTemplateToken();else throw e}this.inTemplateElement=!1};Xt.invalidStringToken=function(e,t){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw nre;this.raise(e,t)};Xt.readTmplToken=function(){for(var e="",t=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var n=this.input.charCodeAt(this.pos);if(n===96||n===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===N.template||this.type===N.invalidTemplate)?n===36?(this.pos+=2,this.finishToken(N.dollarBraceL)):(++this.pos,this.finishToken(N.backQuote)):(e+=this.input.slice(t,this.pos),this.finishToken(N.template,e));if(n===92)e+=this.input.slice(t,this.pos),e+=this.readEscapedChar(!0),t=this.pos;else if(zm(n)){switch(e+=this.input.slice(t,this.pos),++this.pos,n){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:e+=`
`;break;default:e+=String.fromCharCode(n);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),t=this.pos}else++this.pos}};Xt.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(N.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")};Xt.readEscapedChar=function(e){var t=this.input.charCodeAt(++this.pos);switch(++this.pos,t){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return sf(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),e){var n=this.pos-1;this.invalidStringToken(n,"Invalid escape sequence in template string")}default:if(t>=48&&t<=55){var r=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],i=parseInt(r,8);return i>255&&(r=r.slice(0,-1),i=parseInt(r,8)),this.pos+=r.length-1,t=this.input.charCodeAt(this.pos),(r!=="0"||t===56||t===57)&&(this.strict||e)&&this.invalidStringToken(this.pos-1-r.length,e?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(i)}return zm(t)?"":String.fromCharCode(t)}};Xt.readHexChar=function(e){var t=this.pos,n=this.readInt(16,e);return n===null&&this.invalidStringToken(t,"Bad character escape sequence"),n};Xt.readWord1=function(){this.containsEsc=!1;for(var e="",t=!0,n=this.pos,r=this.options.ecmaVersion>=6;this.pos<this.input.length;){var i=this.fullCharCodeAtPos();if(cm(i,r))this.pos+=i<=65535?1:2;else if(i===92){this.containsEsc=!0,e+=this.input.slice(n,this.pos);var s=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var o=this.readCodePoint();(t?Cl:cm)(o,r)||this.invalidStringToken(s,"Invalid Unicode escape"),e+=sf(o),n=this.pos}else break;t=!1}return e+this.input.slice(n,this.pos)};Xt.readWord=function(){var e=this.readWord1(),t=N.name;return this.keywords.test(e)&&(t=o3[e]),this.finishToken(t,e)};var HVe="8.11.2";Zr.acorn={Parser:Zr,version:HVe,defaultOptions:G2,Position:Dy,SourceLocation:zI,getLineInfo:xne,Node:qI,TokenType:cn,tokTypes:N,keywordTypes:o3,TokContext:sa,tokContexts:ar,isIdentifierChar:cm,isIdentifierStart:Cl,Token:h3,isNewLine:zm,lineBreak:Xo,lineBreakG:mVe,nonASCIIwhitespace:Sne};function qVe(e,t){return Zr.parse(e,t)}const p3={undefined:"void(0)",Infinity:"Number.POSITIVE_INFINITY",NaN:"Number.NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2"},WVe={ecmaVersion:11},vU="$",YVe="d",GVe="d1",KVe="d2",wi=e=>(t,n)=>n.error(t,e+" not allowed"),QVe=wi("Aggregate function"),XVe=wi("Window function"),JVe="Invalid argument",m3="Invalid column reference",ZVe=m3+" (must be input to an aggregate function)",rre="Invalid function call",e7e="Invalid member expression",t7e="Invalid operator parameter",n7e="Invalid param reference",r7e="Invalid variable reference",i7e="Variable not accessible in operator call",s7e="Unsupported variable declaration",o7e="Unsupported destructuring pattern",ire="Table expressions do not support closures",sre="Use aq.escape(fn) to use a function as-is (including closures)",a7e="use table.params({ name: value }) to define dynamic parameters",u7e="use aq.addFunction(name, fn) to add new op functions",l7e=`
Note: ${ire}. ${sre}, or ${a7e}.`,ore=`
Note: ${ire}. ${sre}, or ${u7e}.`,c7e=`The ${gee} method is not valid in multi-table expressions.`;function f7e(e,t){const n=d7e(t);let r=e.root=n;return e.spec=t,e.tuple=null,e.tuple1=null,e.tuple2=null,e.$param=null,e.$op=0,e.scope=new Set,e.paramsRef=new Map,e.columnRef=new Map,sVe(r)?(p7e(r,e),r=r.body):e.join?(e.scope.add(e.tuple1=GVe),e.scope.add(e.tuple2=KVe),e.scope.add(e.$param=vU)):(e.scope.add(e.tuple=YVe),e.scope.add(e.$param=vU)),ln(r,e,g3),e.root}function d7e(e){try{const t=e.field?h7e(e):gn(e)?bu(e):e;return qVe(`expr=(${t})`,WVe).body[0].expression.right}catch{Ft(`Expression parse error: ${e+""}`)}}function h7e(e){const t=JSON.stringify(e+"");return e.table?`(a,b)=>b[${t}]`:`d=>d[${t}]`}const g3={FunctionDeclaration:wi("Function definitions"),ForStatement:wi("For loops"),ForOfStatement:wi("For-of loops"),ForInStatement:wi("For-in loops"),WhileStatement:wi("While loops"),DoWhileStatement:wi("Do-while loops"),AwaitExpression:wi("Await expressions"),ArrowFunctionExpression:wi("Function definitions"),AssignmentExpression:wi("Assignments"),FunctionExpression:wi("Function definitions"),NewExpression:wi('Use of "new"'),UpdateExpression:wi("Update expressions"),VariableDeclarator(e,t){J2(e.id,t)},Identifier(e,t,n){lre(e,t,n)&&!t.scope.has(e.name)&&t.error(e,r7e,l7e)},CallExpression(e,t){const n=are(e.callee),r=hee(n)||pee(n);if(r){if((t.join||t.aggregate===!1)&&o$(n)&&QVe(e,t),(t.join||t.window===!1)&&a$(n)&&XVe(e,t),t.$op=1,t.ast)X2(e,n,t),e.arguments.forEach(i=>ln(i,t,Q2));else{const i=t.op(m7e(t,r,n,e.arguments));Object.assign(e,{type:uee,name:i.id})}return t.$op=0,!1}else dee(n)?X2(e,n,t):t.error(e,rre,ore)},MemberExpression(e,t,n){const{object:r,property:i}=e;if(!Yr(Bc,r))return;const{name:s}=r;if(ure(e)&&Yr(Bc,i)&&Sa(p3,i.name)){dre(e,i.name);return}const o=s===t.tuple?0:s===t.tuple1?1:s===t.tuple2?2:-1;if(o>=0)return bU(e,o,t,cre,n);if(s===t.$param)return bU(e,o,t,y7e);t.paramsRef.has(s)?Ly(e,t.paramsRef.get(s)):t.columnRef.has(s)?fre(r,s,t,e):Sa(t.params,s)&&Ly(r,s)}};function bU(e,t,n,r,i){const{property:s,computed:o}=e;let a;if(!o)a=s.name;else if(Yr(Bm,s))a=s.value;else try{ln(s,n,g3,e),a=n.param(s)}catch{n.error(e,e7e)}return r(e,a,t,n,i),!1}const Q2={...g3,VariableDeclarator:wi("Variable declaration in operator call"),Identifier(e,t,n){lre(e,t,n)&&t.error(e,i7e)},CallExpression(e,t){const n=are(e.callee);dee(n)?X2(e,n,t):t.error(e,rre,ore)}};function p7e(e,t){e.generator&&wi("Generator functions")(e,t),e.async&&wi("Async functions")(e,t);const{params:n}=e,r=n.length,i=o=>(a,u)=>t.columnRef.set(a,[u,o]),s=(o,a)=>t.paramsRef.set(o,a);r&&(t.join?(L0(t,n[0],"tuple1",i(1)),r>1&&L0(t,n[1],"tuple2",i(2)),r>2&&L0(t,n[2],"$param",s)):(L0(t,n[0],"tuple",i(0)),r>1&&L0(t,n[1],"$param",s))),t.root=e.body}function L0(e,t,n,r){Yr(Bc,t)?(e.scope.add(t.name),e[n]=t.name):Yr(oee,t)&&t.properties.forEach(i=>{const s=Yr(Bc,i.key)?i.key.name:Yr(Bm,i.key)?i.key.value:e.error(i,JVe);Yr(Bc,i.value)||e.error(i.value,o7e),r(i.value.name,s)})}function m7e(e,t,n,r){const i=[],s=[],o=t.param[0]||0,a=o+(t.param[1]||0);return r.forEach((u,l)=>{l<o?(ln(u,e,Q2),i.push(e.field(u))):l<a?(ln(u,e,Q2),s.push(e.param(u))):e.error(u,t7e)}),{name:n,fields:i,params:s,...e.spec.window||{}}}function are(e){return Yr(Bc,e)?e.name:Yr(see,e)?ure(e)?g7e(e.property.name):e.property.name:null}function ure(e){return Yr(Bc,e.object)&&e.object.name==="Math"}function g7e(e){return e==="max"?"greatest":e==="min"?"least":e}function lre(e,t,n){const{name:r}=e;if(!(Yr(see,n)&&n.property===e)){if(!(Yr(aee,n)&&n.key===e))if(t.paramsRef.has(r))Ly(e,t.paramsRef.get(r));else if(t.columnRef.has(r))fre(e,r,t,n);else if(Sa(t.params,r))Ly(e,r);else if(Sa(p3,r))dre(e,r);else return!0}}function cre(e,t,n,r,i){const s=n===0?r.table:n>0?r.join[n-1]:null,o=s&&s.column(t);s&&!o&&r.error(e,m3),r.aggronly&&!r.$op&&r.error(e,ZVe),mee(e,t,n,o,i)}function fre(e,t,n,r){const[i,s]=n.columnRef.get(t);cre(e,i,s,n,r)}function y7e(e,t,n,r){r.params&&!Sa(r.params,t)&&r.error(e,n7e),Ly(e,t)}function Ly(e,t){e.type=u9e,e.name=t}function dre(e,t){e.type=s9e,e.name=t,e.raw=p3[t]}function X2(e,t,n){if(t===gee){const r=n.table;r||n.error(e,c7e),yee(e,e.arguments.length?e.arguments.map(i=>{const s=n.param(i),o=as(s)?r.columnName(s):s;return r.column(o)||n.error(i,m3),o}):r.columnNames())}else e.callee={type:a9e,name:t}}function J2(e,t){Yr(Bc,e)?t.scope.add(e.name):Yr(t9e,e)?e.elements.forEach(n=>J2(n,t)):Yr(oee,e)?e.properties.forEach(n=>J2(n.value,t)):t.error(e.id,s7e)}const _7e={[L_]:1,[uee]:1};function Us(e,t={}){const n=t.generate||iT,r=t.compiler||u$,i=b7e(t),s={},o={},a=[],u=[];let l=0,c=-1;const f=t.join?r.join:t.index==1?r.expr2:r.expr,d={op(m){const y=v7e(m);return o[y]||(m.id=++c,o[y]=m)},field(m){const y=n(m);return s[y]||(s[y]=++l)},param(m){return Yr(Bm,m)?m.value:r.param(n(m),i)},value(m,y){a.push(m);const g=y.escape||(t.ast?iVe(y):f(n(y),i));u.push(g),_7e[y.type]&&g!==y&&Ki(g)&&(g.field=y.name)},error(m,y,g=""){const _=m.start-6,b=m.end-6,T=String(d.spec).slice(_,b);Ft(`${y}: "${T}"${g}`)}};Object.assign(d,t,{params:i});for(const[m,y]of OI(e))d.value(m+"",y.escape?uVe(d,y,i):f7e(d,y));if(t.ast)return{names:a,exprs:u};const h=[];for(const m in s)h[s[m]]=r.expr(m,i);const p=Object.values(o);return p.forEach(m=>m.fields=m.fields.map(y=>h[y])),{names:a,exprs:u,ops:p}}function v7e(e){let t=`${e.name}(${e.fields.concat(e.params).join(",")})`;if(e.frame){const n=e.frame.map(r=>Number.isFinite(r)?Math.abs(r):-1);t+=`[${n},${!!e.peers}]`}return t}function b7e(e){return(e.table?HA(e.table):e.join?{...HA(e.join[1]),...HA(e.join[0])}:{})||{}}function HA(e){return e&&Jn(e.params)?e.params():{}}const hre="Expr",oa="ExprList",pre="ExprNumber",rg="ExprObject",Jh="JoinKeys",IT="JoinValues",Io="Options",y3="OrderKeys",tc="SelectionList",Hf="TableRef",Zh="TableRefList",E7e="Descending",w7e="Query",T7e="Selection",S7e="Verb",I7e="Window";function YI(e,t){return e&&e.expr?new EU({...e,...t}):new EU(t,e)}class EU{constructor(t,n){this.expr=n,Object.assign(this,t)}toString(){return String(this.expr)}toObject(){return{...this,expr:this.toString(),...Jn(this.expr)?{func:!0}:{}}}}function x7e(e){return YI(e,{desc:!0})}function $d(e,t,n=0){const r=n?{field:!0,table:n}:{field:!0};return YI(e,t?{expr:t,...r}:r)}function C7e(e,t,n){return YI(e,{window:{frame:t||[-1/0,0],peers:!!n}})}function A7e(e){const t=n=>n;return t.toString=()=>e,t}function wU(e,t){return t=t&&Jn(t.query)?t.query():t,t&&Jn(t.evaluate)?t.evaluate(null,e):e(t)}function mre(e){return Ki(e)&&(gn(e.all)||gn(e.matches)||gn(e.not)||gn(e.range))}function My(e){return e&&Jn(e.toObject)?e.toObject():Jn(e)?{expr:String(e),func:!0}:gn(e)?e.map(My):Ki(e)?UI(e,t=>My(t)):e}function _3(e){return gn(e)?e.map(_3):Ki(e)?gn(e.verbs)?b3.from(e):gn(e.all)?lm():gn(e.range)?ZUe(...e.range):gn(e.match)?eVe(RegExp(...e.match)):gn(e.not)?vne(e.not.map(My)):O7e(e):e}function O7e(e){let t=e,n=e.expr;if(n!=null){if(e.field===!0?t=n=$d(n):e.func===!0&&(t=n=A7e(n)),Ki(e.window)){const{frame:r,peers:i}=e.window;t=n=C7e(n,r,i)}e.desc===!0&&(t=x7e(n))}return e===t?UI(e,r=>_3(r)):t}function P7e(e){return gn(e)?e.map(R7e):e}function R7e(e){const t=[];return Bs(e).forEach(n=>{as(n)?t.push(n):Di(n)?t.push($d(n,null)):Ki(n)&&n.expr||Jn(n)?t.push(n):Ft(`Invalid key value: ${n+""}`)}),t}function N7e(e){return gn(e)?e.map(k7e):e}function k7e(e,t){return t<2?Bs(e):e}function D7e(e){const t=[];return e.forEach(n=>{const r=n.expr!=null?n.expr:n;if(Ki(r)&&!Jn(r))for(const i in r)t.push(r[i]);else n=as(r)?r:Di(r)?$d(n):Jn(r)?n:Ft(`Invalid orderby field: ${n+""}`),t.push(n)}),t}const $7e={[hre]:vre,[oa]:fm,[pre]:U7e,[rg]:of,[Jh]:V7e,[IT]:z7e,[y3]:fm,[tc]:B7e};function L7e(e,t,n){return t===Hf?TU(e):t===Zh?e.map(TU):gre(My(e),t,n)}function gre(e,t,n){return t===Io?e&&M7e(e,n):$7e[t](e)}function M7e(e,t={}){const n={};for(const r in e){const i=e[r];n[r]=t[r]?gre(i,t[r]):i}return n}function F7e(e,t){return Us({expr:e},{...t,ast:!0}).exprs[0]}function v3(e){return{type:L_,name:e}}function yre(e){return{type:L_,index:e}}function of(e,t){if(Di(e))return F7e(e,t);if(e.expr){let n;if(e.field===!0?n=v3(e.expr):e.func===!0&&(n=of(e.expr,t)),n)return e.desc&&(n={type:E7e,expr:n}),e.window&&(n={type:I7e,expr:n,...e.window}),n}return Object.keys(e).map(n=>({...of(e[n],t),as:n}))}function _re(e){const t=T7e;return e.all?{type:t,operator:"all"}:e.not?{type:t,operator:"not",arguments:fm(e.not)}:e.range?{type:t,operator:"range",arguments:fm(e.range)}:e.matches?{type:t,operator:"matches",arguments:e.matches}:Ft("Invalid input")}function B7e(e){return Bs(e).map(j7e).flat()}function j7e(e){return mre(e)?_re(e):as(e)?yre(e):Di(e)?v3(e):Ki(e)?Object.keys(e).map(t=>({type:L_,name:t,as:e[t]})):Ft("Invalid input")}function vre(e){return mre(e)?_re(e):as(e)?yre(e):Di(e)?v3(e):Ki(e)?of(e):Ft("Invalid input")}function fm(e){return Bs(e).map(vre).flat()}function U7e(e){return as(e)?e:of(e)}function V7e(e){return gn(e)?e.map(fm):of(e,{join:!0})}function z7e(e){return gn(e)?e.map((t,n)=>n<2?fm(t):of(t,{join:!0})):of(e,{join:!0})}function TU(e){return e&&Jn(e.toAST)?e.toAST():e}class bre{constructor(t,n=[],r=[]){this.verb=t,this.schema=n,n.forEach((i,s)=>{const o=i.type,a=r[s],u=o===Jh?P7e(a):o===IT?N7e(a):o===y3?D7e(a):a;this[i.name]=u!==void 0?u:i.default})}static from(t){const n=Z2[t.verb],r=(n.schema||[]).map(({name:i})=>_3(t[i]));return n(...r)}evaluate(t,n){const r=this.schema.map(({name:i,type:s})=>{const o=this[i];return s===Hf?wU(n,o):s===Zh?o.map(a=>wU(n,a)):o});return t[this.verb](...r)}toObject(){const t={verb:this.verb};return this.schema.forEach(({name:n})=>{t[n]=My(this[n])}),t}toAST(){const t={type:S7e,verb:this.verb};return this.schema.forEach(({name:n,type:r,props:i})=>{t[n]=L7e(this[n],r,i)}),t}}function Dn(e,t){return Object.assign((...n)=>new bre(e,t,n),{schema:t})}const Z2={count:Dn("count",[{name:"options",type:Io}]),derive:Dn("derive",[{name:"values",type:rg},{name:"options",type:Io,props:{before:tc,after:tc}}]),filter:Dn("filter",[{name:"criteria",type:rg}]),groupby:Dn("groupby",[{name:"keys",type:oa}]),orderby:Dn("orderby",[{name:"keys",type:y3}]),relocate:Dn("relocate",[{name:"columns",type:tc},{name:"options",type:Io,props:{before:tc,after:tc}}]),rename:Dn("rename",[{name:"columns",type:tc}]),rollup:Dn("rollup",[{name:"values",type:rg}]),sample:Dn("sample",[{name:"size",type:pre},{name:"options",type:Io,props:{weight:hre}}]),select:Dn("select",[{name:"columns",type:tc}]),ungroup:Dn("ungroup"),unorder:Dn("unorder"),reify:Dn("reify"),dedupe:Dn("dedupe",[{name:"keys",type:oa,default:[]}]),impute:Dn("impute",[{name:"values",type:rg},{name:"options",type:Io,props:{expand:oa}}]),fold:Dn("fold",[{name:"values",type:oa},{name:"options",type:Io}]),pivot:Dn("pivot",[{name:"keys",type:oa},{name:"values",type:oa},{name:"options",type:Io}]),spread:Dn("spread",[{name:"values",type:oa},{name:"options",type:Io}]),unroll:Dn("unroll",[{name:"values",type:oa},{name:"options",type:Io,props:{drop:oa}}]),lookup:Dn("lookup",[{name:"table",type:Hf},{name:"on",type:Jh},{name:"values",type:oa}]),join:Dn("join",[{name:"table",type:Hf},{name:"on",type:Jh},{name:"values",type:IT},{name:"options",type:Io}]),cross:Dn("cross",[{name:"table",type:Hf},{name:"values",type:IT},{name:"options",type:Io}]),semijoin:Dn("semijoin",[{name:"table",type:Hf},{name:"on",type:Jh}]),antijoin:Dn("antijoin",[{name:"table",type:Hf},{name:"on",type:Jh}]),concat:Dn("concat",[{name:"tables",type:Zh}]),union:Dn("union",[{name:"tables",type:Zh}]),intersect:Dn("intersect",[{name:"tables",type:Zh}]),except:Dn("except",[{name:"tables",type:Zh}])};let b3=class Ere extends WZ{constructor(t,n,r){super(n),this._verbs=t||[],this._table=r}static from({verbs:t,table:n,params:r}){return new Ere(t.map(bre.from),r,n)}get[Symbol.toStringTag](){return this._verbs?`Query: ${this._verbs.length} verbs`+(this._table?` on '${this._table}'`:""):"Object"}get length(){return this._verbs.length}get tableName(){return this._table}params(t){return arguments.length?(this._params={...this._params,...t},this):this._params}evaluate(t,n){t=t||n(this._table);for(const r of this._verbs)t=r.evaluate(t.params(this._params),n);return t}toObject(){return SU(this,"toObject")}toJSON(){return this.toObject()}toAST(){return SU(this,"toAST",{type:w7e})}};function SU(e,t,n){return{...n,verbs:e._verbs.map(r=>r[t]()),...e._params?{params:e._params}:null,...e._table?{table:e._table}:null}}function H7e(e,t){return new b3(e._verbs.concat(t),e._params,e._table)}for(const e in Z2){const t=Z2[e];b3.prototype["__"+e]=function(n,...r){return H7e(n,t(...r))}}function Wm(e,t,...n){const r=["_","$"],i=r.slice(0,n.length);return i.push('"use strict"; const '+n.map((s,o)=>s.map((a,u)=>`${r[o]}${u} = ${r[o]}[${u}]`).join(", ")).join(", ")+`; return (${e}) => ${t};`),Function(...i)(...n)}function q7e(e,t=[]){return e.groupby(t.length?t:e.columnNames()).filter("row_number() === 1").ungroup().reify()}function E3(e,t){const n=bo();return t.forEach((r,i)=>{const s=Di(r)?r:i;if(s){const o=e.column(i)||Ft(`Unrecognized column: ${i}`);n.add(s,o)}}),e.create(n)}function wre(e,t,{before:n,after:r}={}){const i=n!=null,s=r!=null;i||s||Ft("relocate requires a before or after option."),i&&s&&Ft("relocate accepts only one of the before or after options."),t=xl(e,t);const o=[...xl(e,i?n:r).keys()],a=i?o[0]:o.pop(),u=new Map;return e.columnNames().forEach(l=>{const c=!t.has(l);if(l===a){s&&c&&u.set(l,l);for(const[f,d]of t)u.set(f,d);if(s)return}c&&u.set(l,l)}),E3(e,u)}function H_(e,t=r=>r,n=""){const r=e.length;if(!r)return"";let i=t(e[0],0);for(let s=1;s<r;++s)i+=n+t(e[s],s);return i}function w3(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function W7e(e,t=0,n=e.length){let r=n?e[t++]:fn;for(let i=t;i<n;++i)r>e[i]&&(r=e[i]);return r}function Y7e(e,t=0,n=e.length){let r=n?e[t++]:fn;for(let i=t;i<n;++i)r<e[i]&&(r=e[i]);return r}function f1(e){return Ay(e)?e:+e}function G7e(e,t){const n=e.length;if(!n)return fn;if((t=+t)<=0||n<2)return f1(e[0]);if(t>=1)return f1(e[n-1]);const r=(n-1)*t,i=Math.floor(r),s=f1(e[i]);return Ay(s)?s:s+(f1(e[i+1])-s)*(r-i)}class K7e{constructor(t){this._values=t||[],this._sorted=null,this._start=0}values(t){return this._start&&(this._values=this._values.slice(this._start),this._start=0),t?this._values.slice():this._values}add(t){this._values.push(t),this._sorted=null}rem(){this._start+=1,this._sorted=null}min(){return this._sorted&&this._sorted.length?this._sorted[0]:W7e(this._values,this._start)}max(){return this._sorted&&this._sorted.length?this._sorted[this._sorted.length-1]:Y7e(this._values,this._start)}quantile(t){return this._sorted||(this._sorted=this.values(!0),this._sorted.sort(w3)),G7e(this._sorted,t)}}const xT=(e,t,n)=>Wm(t,"{"+H_(e,(r,i)=>`_${i}.${n}(${t});`)+"}",e);function Q7e(e,t){const{ops:n,output:r}=X7e(e,t),i=e[0].fields,s=i.length,o=s===0?T3:s===1?J7e:s===2?Z7e:Ft("Unsupported field count: "+s);return new o(i,n,r,t)}function X7e(e,t){const n={},r=[];function i(o,a=[]){const u=o+":"+a;if(n[u])return n[u];const l=hee(o),c=l.create(...a);return t<0&&l.stream&&l.stream.forEach(f=>i(f,[])),l.req&&l.req.forEach(f=>i(f,[])),n[u]=c,r.push(c),c}const s=e.map(o=>{const a=i(o.name,o.params);return a.output=o.id,a});return{ops:r,output:s}}class T3 extends nVe{constructor(t,n,r,i){super(r),this._op=n,this._fields=t,this._stream=!!i}init(){const t={count:0,valid:0,stream:this._stream};return this._op.forEach(n=>n.init(t)),t.values&&(t.list=new K7e),t}write(t,n,r){const i=this._outputs,s=i.length;for(let o=0;o<s;++o)n[i[o].output][r]=i[o].value(t);return 1}_add(){}_rem(){}add(t){++t.count}rem(t){--t.count}}class J7e extends T3{constructor(t,n,r,i){super(t,n,r,i);const s=["state","v1","v2"];this._add=xT(n,s,"add"),this._rem=xT(n,s,"rem")}add(t,n,r){const i=this._fields[0](n,r);++t.count,ga(i)&&(++t.valid,t.list&&t.list.add(i),this._add(t,i))}rem(t,n,r){const i=this._fields[0](n,r);--t.count,ga(i)&&(--t.valid,t.list&&t.list.rem(),this._rem(t,i))}}class Z7e extends T3{constructor(t,n,r,i){super(t,n,r,i);const s=["state","v1","v2"];this._add=xT(n,s,"add"),this._rem=xT(n,s,"rem")}add(t,n,r){const i=this._fields[0](n,r),s=this._fields[1](n,r);++t.count,ga(i)&&ga(s)&&(++t.valid,t.list&&t.list.add([i,s]),this._add(t,i,s))}rem(t,n,r){const i=this._fields[0](n,r),s=this._fields[1](n,r);--t.count,ga(i)&&ga(s)&&(--t.valid,t.list&&t.list.rem(),this._rem(t,i,s))}}function ih(e,t,n){if(t.length){const r=e.data(),{keys:i}=e.groups()||{},s=Ym(e,t),o=i?(a,u)=>s[a][i[u]]:a=>s[a][0];n=n.map(a=>u=>a(u,r,o))}return n}function Ym(e,t,n){if(!t.length)return n;const r=Tre(t),i=e.groups(),s=i?i.size:1;return n=n||CI(t.length,()=>Array(s)),s>1?r.forEach(o=>{const a=Ire(e,o,i);for(let u=0;u<s;++u)o.write(a[u],n,u)}):r.forEach(o=>{const a=Sre(e,o);o.write(a,n,0)}),n}function Tre(e,t){const n=[],r={};for(const i of e){const s=i.fields.map(o=>o+"").join(",");(r[s]||(r[s]=[])).push(i)}for(const i in r)n.push(Q7e(r[i],t));return n}function Sre(e,t){const n=t.init(),r=e.totalRows(),i=e.data(),s=e.mask();if(e.isOrdered()){const o=e.indices();for(let a=0;a<r;++a)t.add(n,o[a],i)}else if(s)for(let o=s.next(0);o>=0;o=s.next(o+1))t.add(n,o,i);else for(let o=0;o<r;++o)t.add(n,o,i);return n}function Ire(e,t,n){const{keys:r,size:i}=n,s=CI(i,()=>t.init()),o=e.data();if(e.isOrdered()){const a=e.indices(),u=a.length;for(let l=0;l<u;++l){const c=a[l];t.add(s[r[c]],c,o)}}else if(e.isFiltered()){const a=e.mask();for(let u=a.next(0);u>=0;u=a.next(u+1))t.add(s[r[u]],u,o)}else{const a=e.totalRows();for(let u=0;u<a;++u)t.add(s[r[u]],u,o)}return s}function xre(e,t){const{get:n,names:r,rows:i,size:s}=t,o=r.length;for(let a=0;a<o;++a){const u=e.add(r[a],Array(s)),l=n[a];for(let c=0;c<s;++c)u[c]=l(i[c])}}function Cre(e){return{left(t,n,r,i){for(r==null&&(r=0),i==null&&(i=t.length);r<i;){const s=r+i>>>1;e(t[s],n)<0?r=s+1:i=s}return r},right(t,n,r,i){for(r==null&&(r=0),i==null&&(i=t.length);r<i;){const s=r+i>>>1;e(t[s],n)>0?i=s:r=s+1}return r}}}const IU=Cre(w3);function eze(e,t,n,r,i){let s,o,a,u,l;const c=m=>o[m-1]===o[m],f=r.length,d=i.length,h=r.length?Wm(["w","r","k"],"{"+H_(r,(m,y)=>`r[_${y}.id][k]=_${y}.value(w,_${y}.get);`)+"}",r):()=>{},p={i0:0,i1:0,index:0,size:0,peer:c,init(m,y,g,_){p.index=p.i0=p.i1=0,p.size=y.length,s=m,o=y,u=g,l=_,a=i?i.map(b=>b.init()):null;for(let b=0;b<f;++b)r[b].init();return p},value(m,y){return y(s[m],e)},step(m){const[y,g]=t,_=p.size,b=p.i0,T=p.i1;p.i0=y!=null?Math.max(0,m-Math.abs(y)):0,p.i1=g!=null?Math.min(_,m+Math.abs(g)+1):_,p.index=m,n&&(p.i0>0&&c(p.i0)&&(p.i0=IU.left(o,o[p.i0])),p.i1<_&&c(p.i1)&&(p.i1=IU.right(o,o[p.i1-1])));for(let I=0;I<d;++I){const E=i[I],S=a[I];for(let A=b;A<p.i0;++A)E.rem(S,s[A],e);for(let A=T;A<p.i1;++A)E.add(S,s[A],e);E.write(S,u,l)}return h(p,u,l),u}};return p}const tze=e=>(e.frame||[null,null]).map(t=>Number.isFinite(t)?Math.abs(t):null),nze=e=>!!e.peers;function rze(e){const{id:t,name:n,fields:r=[],params:i=[]}=e,s=pee(n).create(...i);return r.length&&(s.get=r[0]),s.id=t,s}function ize(e,t,n,r={},i){const s=e.data(),o=sze(i,s),a=o.length,u=Wm(["r","d","op"],"{"+H_(t,(l,c)=>`_${c}[r] = $${c}(r, d, op);`)+"}",t,n);e.partitions().forEach((l,c)=>{const f=l.length,d=oze(e,l);for(let p=0;p<a;++p)o[p].init(l,d,r,c);const h=p=>r[p][c];for(let p=0;p<f;++p){for(let m=0;m<a;++m)o[m].step(p);u(l[p],s,h)}})}function sze(e,t){const n={};return e.forEach(r=>{const i=tze(r),s=nze(r),o=`${i},${s}`,{aggOps:a,winOps:u}=n[o]||(n[o]={frame:i,peers:s,aggOps:[],winOps:[]});o$(r.name)?a.push(r):u.push(rze(r))}),Object.values(n).map(r=>eze(t,r.frame,r.peers,r.winOps,Tre(r.aggOps,r.frame[0]!=null?-1:1)))}function oze(e,t){if(e.isOrdered()){const n=e.comparator(),r=e.data(),i=t.length,s=new Uint32Array(i);for(let o=1,a=0;o<i;++o)s[o]=n(t[o-1],t[o],r)?++a:a;return s}else return t}function aze(e){return a$(e.name)||e.frame&&(Number.isFinite(e.frame[0])||Number.isFinite(e.frame[1]))}function S3(e,{names:t,exprs:n,ops:r},i={}){const s=e.totalRows(),o=bo(i.drop?null:e),a=t.map(d=>o.add(d,Array(s))),[u,l]=uze(r),c=e.isGrouped()?e.groups().size:1,f=Ym(e,u,CI(r.length,()=>Array(c)));return l.length?ize(e,a,n,f,l):lze(e,a,n,f),e.create(o)}function uze(e){const t=[],n=[],r=e.length;for(let i=0;i<r;++i){const s=e[i];s.id=i,(aze(s)?n:t).push(s)}return[t,n]}function lze(e,t,n,r){const i=e.mask(),s=e.data(),{keys:o}=e.groups()||{},a=o?(l,c)=>r[l][o[c]]:l=>r[l][0],u=t.length;for(let l=0;l<u;++l){const c=n[l],f=t[l];if(i)for(let d=i.next(0);d>=0;d=i.next(d+1))f[d]=c(d,s,a);else{const d=e.totalRows();for(let h=0;h<d;++h)f[h]=c(h,s,a)}}}function cze(e,t,n={}){const r=S3(e,Us(t,{table:e}),n);return n.drop||n.before==null&&n.after==null?r:wre(r,Object.keys(t).filter(i=>!e.column(i)),n)}function fze(e,t){if(t.length===0)return e;const n=e.columnNames();return t.reduce((r,i)=>r.antijoin(i.select(n)),e).dedupe()}const d1=2147483648,dze=4294967295;class Are{constructor(t){this._size=t,this._bits=new Uint32Array(Math.ceil(t/32))}get length(){return this._size}count(){const t=this._bits.length;let n=0;for(let r=0;r<t;++r)for(let i=this._bits[r];i;++n)i&=i-1;return n}get(t){return this._bits[t>>5]&d1>>>t}set(t){this._bits[t>>5]|=d1>>>t}clear(t){this._bits[t>>5]&=~(d1>>>t)}scan(t){for(let n=this.next(0);n>=0;n=this.next(n+1))t(n)}next(t){const n=this._bits,r=n.length;let i=t>>5,s=n[i]&dze>>>t;for(;i<r;s=n[++i])if(s!==0)return(i<<5)+Math.clz32(s);return-1}nth(t){let n=this.next(0);for(;t--&&n>=0;)n=this.next(n+1);return n}not(){const t=this._bits,n=t.length;for(let i=0;i<n;++i)t[i]=~t[i];const r=this._size%32;return r&&(t[n-1]&=d1>>r-1),this}and(t){if(t){const n=this._bits,r=t._bits,i=n.length;for(let s=0;s<i;++s)n[s]&=r[s]}return this}or(t){if(t){const n=this._bits,r=t._bits,i=n.length;for(let s=0;s<i;++s)n[s]|=r[s]}return this}}function hze(e,t){const n=e.totalRows(),r=e.mask(),i=e.data(),s=new Are(n);if(r)for(let o=r.next(0);o>=0;o=r.next(o+1))t(o,i)&&s.set(o);else for(let o=0;o<n;++o)t(o,i)&&s.set(o);return e.create({filter:s})}function pze(e,t){const n=Us({p:t},{table:e});let r=n.exprs[0];if(n.ops.length){const{data:i}=S3(e,n,{drop:!0}).column("p");r=s=>i[s]}return hze(e,r)}function Ore(e,{names:t=[],exprs:n=[],ops:r=[]},i={}){if(!t.length)return e;const s=i.limit>0?+i.limit:1/0,o=i.index?i.index===!0?"index":i.index+"":null,a=new Set(i.drop),u=ih(e,r,n),l=bo(),c=new Set(t),f=[],d=[],h=[];e.columnNames().forEach(T=>{if(!a.has(T)){const I=l.add(T,[]);c.has(T)||(f.push(e.column(T)),d.push(I))}}),t.forEach(T=>{a.has(T)||(l.has(T)||l.add(T,[]),h.push(l.data[T]))});const p=o?l.add(o,[]):null;let m=0;const y=f.length,g=h.length,_=(T,I)=>{for(let E=0;E<y;++E)d[E].length=m+I,d[E].fill(f[E].get(T),m,m+I)},b=p?(T,I)=>{for(let E=0;E<I;++E)p[T+E]=E}:()=>{};if(g===1){const T=u[0],I=h[0];e.scan((E,S)=>{const A=Bs(T(E,S)),L=Math.min(A.length,s);_(E,L);for(let Y=0;Y<L;++Y)I[m+Y]=A[Y];b(m,L),m+=L})}else e.scan((T,I)=>{let E=0;const S=u.map(A=>{const L=Bs(A(T,I));return E=Math.min(Math.max(E,L.length),s),L});_(T,E);for(let A=0;A<g;++A){const L=h[A],Y=S[A];for(let z=0;z<E;++z)L[m+z]=Y[z]}b(m,E),m+=E});return e.create(l.new())}function mze(e,{names:t=[],exprs:n=[],ops:r=[]},i={}){if(t.length===0)return e;const[s="key",o="value"]=i.as||[],a=ih(e,r,n);return Ore(e,{names:[s,o],exprs:[()=>t,(u,l)=>a.map(c=>c(u,l))]},{...i,drop:t})}function Ia(e,t,n,r={window:!1}){const i=new Map,s=o=>{o=as(o)?t.columnName(o):o,Di(o)?i.set(o,$d(o)):Jn(o)?xl(t,o).forEach(s):Ki(o)?yne(i,o):Ft(`Invalid ${e} value: ${o+""}`)};return Bs(n).forEach(s),r.preparse&&r.preparse(i),Us(i,{table:t,...r})}function gze(e,t,n){return mze(e,Ia("fold",e,t),n)}function xU(e,t,n,r){const i=n&&n.length;return yze(i?_ze(e,n,r):e,t,i)}function yze(e,{names:t,exprs:n,ops:r},i){const s=ih(e,r,n),o=i?null:bo(e),a=e.totalRows();return t.forEach((u,l)=>{const c=e.column(u),f=i?c.data:o.add(u,Array(a)),d=s[l];e.scan(h=>{const p=c.get(h);f[h]=ga(p)?p:d(h)})}),i?e:e.create(o)}function _ze(e,t,n){const r=e.groups(),i=e.data(),s=(r?r.names:[]).concat(t),o=(r?r.get:[]).concat(t.map(p=>e.getter(p))),a=new Set,u=sT(o);e.scan((p,m)=>a.add(u(p,m)));const l=e.columnNames(),c=bo(),f=l.map(p=>c.add(p,[]));l.forEach((p,m)=>{const y=i[p],g=f[m];e.scan(_=>g.push(y.get(_)))});const d=sT(o.map((p,m)=>y=>y[m])),h=Wm("v","{"+f.map((p,m)=>`_${m}.push(v[$${m}]);`).join("")+"}",f,l.map(p=>s.indexOf(p)));if(r){let p=r.keys.length;const m=n.reduce((g,_)=>g*_.length,r.size),y=new Uint32Array(m+(p-a.size));y.set(r.keys),CU(r,n,(g,_)=>{a.has(d(g))||(h(g),y[p++]=_[0])}),c.groupby({...r,keys:y})}else CU(r,n,p=>{a.has(d(p))||h(p)});return e.create(c.new())}function CU(e,t,n){const r=e?e.get.length:0,i=e?1:0,s=i+t.length,o=new Int32Array(s),a=new Int32Array(s),u=[];if(e){const{get:c,rows:f,size:d}=e;o[0]=d,u.push((h,p)=>{const m=f[p];for(let y=0;y<r;++y)h[y]=c[y](m)})}t.forEach((c,f)=>{const d=f+r;o[f+i]=c.length,u.push((h,p)=>h[d]=c[p])});const l=Array(r+t.length);for(let c=0;c<s;++c)u[c](l,0);n(l,a);for(let c=s-1;c>=0;){const f=++a[c];f<o[c]?(u[c](l,f),n(l,a),c=s-1):(a[c]=0,u[c](l,0),--c)}}function I3(e,{names:t,exprs:n,ops:r}){const i=bo(),s=e.groups();return s&&xre(i,s),vze(t,n,s,Ym(e,r),i),e.create(i.new())}function vze(e,t,n,r=[],i){if(!t.length)return;const s=n?n.size:1,o=(u,l)=>r[u][l],a=e.length;for(let u=0;u<a;++u){const l=t[u];if(l.field!=null)i.add(e[u],r[l.field]);else if(s>1){const c=i.add(e[u],Array(s));for(let f=0;f<s;++f)c[f]=l(f,null,o)}else i.add(e[u],[l(0,null,o)])}}function bze(e,t,n={}){if(t=Us(t,{table:e}),t.names.forEach(r=>e.column(r)?0:Ft(`Invalid impute column ${bu(r)}`)),n.expand){const r={preparse:Eze,aggronly:!0},i=Ia("impute",e,n.expand,r),s=I3(e.ungroup(),i);return xU(e,t,i.names,i.names.map(o=>s.get(o,0)))}else return xU(e,t)}function Eze(e){e.forEach((t,n)=>t.field?e.set(n,tee(t+"")):0)}function wze(e,t){const n=e.columnNames();return t.length?t.reduce((r,i)=>r.semijoin(i.select(n)),e).dedupe():e.reify([])}function Pre(e,t){const n=new Map;return e.scan((r,i)=>{const s=t(r,i);s!=null&&s===s&&n.set(s,r)}),n}function Tze(e,t,n){const r=new Map,i=e.length;for(let s=0;s<i;++s){const o=e[s],a=n(o,t);a!=null&&a===a&&(r.has(a)?r.get(a).push(s):r.set(a,[s]))}return r}function Sze(e,t){const n=["i","a","j","b"];return Wm(n,"{"+H_(e,(r,i)=>`_${i}.push($${i}(${n}));`)+"}",e,t)}function Ize(e,t,n,{names:r,exprs:i},s={}){const o=e.data(),a=e.indices(!1),u=a.length,l=new Int32Array(u),c=t.data(),f=t.indices(!1),d=f.length,h=new Int32Array(d),p=r.length,m=bo(),y=Array(p),g=Array(p);for(let T=0;T<r.length;++T)y[T]=m.add(r[T],[]),g[T]=i[T];const _=Sze(y,g);if((gn(n)?Cze:xze)(_,n,o,c,a,f,l,h,u,d),s.left)for(let T=0;T<u;++T)l[T]||_(a[T],o,-1,c);if(s.right)for(let T=0;T<d;++T)h[T]||_(-1,o,f[T],c);return e.create(m.new())}function xze(e,t,n,r,i,s,o,a,u,l){for(let c=0;c<u;++c){const f=i[c];for(let d=0;d<l;++d){const h=s[d];t(f,n,h,r)&&(e(f,n,h,r),o[c]=1,a[d]=1)}}}function Cze(e,[t,n],r,i,s,o,a,u,l,c){let f,d,h,p,m,y,g,_,b=e;l>=c?(f=r,d=t,h=a,p=s,m=i,y=n,g=u,_=o):(f=i,d=n,h=u,p=o,m=r,y=t,g=a,_=s,b=(E,S,A,L)=>e(A,L,E,S));const T=Tze(_,m,y),I=p.length;for(let E=0;E<I;++E){const S=p[E],A=T.get(d(S,f));if(A){const L=A.length;for(let Y=0;Y<L;++Y){const z=A[Y];b(S,f,_[z],m),g[z]=1}h[E]=1}}}function CT(e,t,n){const r=new Map;Bs(n).forEach((s,o)=>{s=as(s)?t.columnName(s):s,Di(s)?r.set(o,$d(s)):Jn(s)||Ki(s)&&s.expr?r.set(o,s):Ft(`Invalid ${e} key value: ${s+""}`)});const i=Us(r,{table:t,aggregate:!1,window:!1});return sT(i.exprs,!0)}function Aze(e,t){const n=new Set(t);return e.filter(r=>n.has(r))}function x3(e,t,n){if(n)Di(n)?n=[n,n]:gn(n)&&n.length===1&&(n=[n[0],n[0]]);else{const r=Aze(e.columnNames(),t.columnNames());r.length||Ft("Natural join requires shared column names."),n=[r,r]}return n}function Rre(e,t,n,r){return n.length!==r.length&&Ft("Mismatched number of join keys"),[CT("join",e,n),CT("join",t,r)]}const Oze={aggregate:!1,window:!1},Pze={...Oze,index:1};function AU(e,t,n,r,i={}){n=x3(e,t,n);const s={join:[e,t]};let o;if(gn(n)){const[a,u]=n.map(Bs);o=Rre(e,t,a,u),r||(r=Rze(e,a,u,i))}else o=Us({on:n},s).exprs[0],r||(r=[lm(),lm()]);return Ize(e,t,o,Nze(e,t,r,s,i&&i.suffix),i)}function Rze(e,t,n,r){const i=[];t.forEach((o,a)=>Di(o)&&o===n[a]?i.push(o):0);const s=vne(i);if(r.left&&r.right){const o=new Set(i);return[e.columnNames().map(a=>{const u=`[${bu(a)}]`;return o.has(a)?{[a]:`(a, b) => a${u} == null ? b${u} : a${u}`}:a}),s]}return r.right?[s,lm()]:[lm(),s]}function Nze(e,t,n,r,i=[]){if(gn(n)){let s,o,a,u=n.length;s=o=a={names:[],exprs:[]},u--&&(s=Ia("join",e,n[0],r)),u--&&(o=Ia("join",t,n[1],Pze)),u--&&(a=Us(n[2],r));const l=new Set,c=new Set(s.names);return o.names.forEach(f=>{c.has(f)&&l.add(f)}),l.size&&(OU(s.names,l,i[0]||"_1"),OU(o.names,l,i[1]||"_2")),{names:s.names.concat(o.names,a.names),exprs:s.exprs.concat(o.exprs,a.exprs)}}else return Us(n,r)}function OU(e,t,n){e.forEach((r,i)=>t.has(r)?e[i]=r+n:0)}function kze(e,t,n,r={}){const i=new Are(e.totalRows());return(gn(n)?Dze:$ze)(i,e,t,n),r.anti&&i.not().and(e.mask()),e.create({filter:i})}function Dze(e,t,n,[r,i]){const s=Pre(n,i);t.scan((o,a)=>{s.get(r(o,a))>=0&&e.set(o)})}function $ze(e,t,n,r){const i=t.numRows(),s=n.numRows(),o=t.data(),a=n.data();if(t.isFiltered()||n.isFiltered()){const u=t.indices(!1),l=n.indices(!1);for(let c=0;c<i;++c){const f=u[c];for(let d=0;d<s;++d)if(r(f,o,l[d],a)){e.set(f);break}}}else for(let u=0;u<i;++u)for(let l=0;l<s;++l)if(r(u,o,l,a)){e.set(u);break}}function PU(e,t,n,r){n=x3(e,t,n);const i=gn(n)?Rre(e,t,...n.map(Bs)):Us({on:n},{join:[e,t]}).exprs[0];return kze(e,t,i,r)}function Lze(e,t,[n,r],{names:i,exprs:s,ops:o}){const a=bo(e),u=e.totalRows();i.forEach(d=>a.add(d,Array(u).fill(fn)));const l=Pre(t,r),c=Wm(["lr","rr","data"],"{"+H_(i,(d,h)=>`_[${h}][lr] = $[${h}](rr, data);`)+"}",i.map(d=>a.data[d]),ih(t,o,s)),f=t.data();return e.scan((d,h)=>{const p=l.get(n(d,h));p>=0&&c(d,p,f)}),e.create(a)}function Mze(e,t,n,r){return n=x3(e,t,n),Lze(e,t,[CT("lookup",e,n[0]),CT("lookup",t,n[1])],Ia("lookup",t,r))}const eR=(e,t)=>e??t;function Fze(e,t,n,r={}){const{keys:i,keyColumn:s}=Bze(e,t,r),o=eR(r.valueSeparator,"_"),a=n.names.length>1?(l,c)=>c+o+i[l]:l=>i[l],u=i.map(l=>Ym(e,n.ops.map(c=>{if(c.name==="count"){const d=h=>l===s[h]?1:NaN;return d.toString=()=>l+":1",{...c,name:"sum",fields:[d]}}const f=c.fields.map(d=>{const h=(p,m)=>l===s[p]?d(p,m):NaN;return h.toString=()=>l+":"+d,h});return{...c,fields:f}})));return e.create(jze(n,a,e.groups(),u))}function Bze(e,t,n){const r=n.limit>0?+n.limit:1/0,i=eR(n.sort,!0),s=eR(n.keySeparator,"_"),o=ih(e,t.ops,t.exprs),a=o.length===1?o[0]:(f,d)=>o.map(h=>h(f,d)).join(s),u=Array(e.totalRows());e.scan((f,d)=>u[f]=a(f,d));const l=Ym(e.ungroup(),[{id:0,name:"array_agg_distinct",fields:[f=>u[f]],params:[]}])[0][0],c=i?l.sort():l;return{keys:Number.isFinite(r)?c.slice(0,r):c,keyColumn:u}}function jze({names:e,exprs:t},n,r,i){const s=r?r.size:1,o=bo(),a=i.length,u=e.length;let l;const c=(f,d)=>l[f][d];r&&xre(o,r);for(let f=0;f<u;++f){const d=t[f];if(d.field!=null)for(let h=0;h<a;++h)o.add(n(h,e[f]),i[h][d.field]);else if(s>1)for(let h=0;h<a;++h){l=i[h];const p=o.add(n(h,e[f]),Array(s));for(let m=0;m<s;++m)p[m]=d(m,null,c)}else for(let h=0;h<a;++h)l=i[h],o.add(n(h,e[f]),[d(0,null,c)])}return o.new()}function Uze(e,t,n,r){return Fze(e,Ia("fold",e,t),Ia("fold",e,n,{preparse:Vze,aggronly:!0}),r)}function Vze(e){e.forEach((t,n)=>t.field?e.set(n,JZ(t+"")):0)}function zze(e,t){const n=new Map;return e.columnNames(r=>(n.set(r,r),0)),E3(e,xl(e,t,n))}function RU(e,t){return I3(e,Us(t,{table:e,aggronly:!0,window:!1}))}function Hze(e,t,n,r){return(t?r?Wze:qze:r?Gze:Yze)(e.length,e,n,r)}function qze(e,t,n){const r=n.length;for(let i=0;i<e;++i)t[i]=n[r*Fm()|0];return t}function Wze(e,t,n,r){const i=n.length,s=new Float64Array(i);let o=0;for(let u=0;u<i;++u)s[u]=o+=r(n[u]);const a=Cre(w3).right;for(let u=0;u<e;++u)t[u]=n[a(s,o*Fm())];return t}function Yze(e,t,n){const r=n.length;if(e>=r)return n;for(let i=0;i<e;++i)t[i]=n[i];for(let i=e;i<r;++i){const s=i*Fm();s<e&&(t[s|0]=n[i])}return t}function Gze(e,t,n,r){const i=n.length;if(e>=i)return n;const s=new Float32Array(i),o=new Uint32Array(i);for(let a=0;a<i;++a)o[a]=a,s[a]=-Math.log(Fm())/r(n[a]);o.sort((a,u)=>s[a]-s[u]);for(let a=0;a<e;++a)t[a]=n[o[a]];return t}function Kze(e,t=0,n=e.length){let r=n-(t=+t);for(;r;){const i=Fm()*r--|0,s=e[r+t];e[r+t]=e[i+t],e[i+t]=s}return e}function Qze(e,t,n,r={}){const{replace:i,shuffle:s}=r,o=e.partitions(!1);let a=0;t=o.map((c,f)=>{let d=t(f);return a+=d=i?d:Math.min(c.length,d),d});const u=new Uint32Array(a);let l=0;return o.forEach((c,f)=>{const d=t[f],h=u.subarray(l,l+=d);!i&&d===c.length?h.set(c):Hze(h,i,c,n)}),s!==!1&&(o.length>1||!i)&&Kze(u),e.reify(u)}function Xze(e,t,n={}){return Qze(e,Jze(e,t),Zze(e,n.weight),n)}const Nre=e=>t=>e.get(t)||0;function Jze(e,t){return as(t)?()=>t:Nre(I3(e,Us({size:t},{table:e,window:!1})).column("size"))}function Zze(e,t){return t==null?null:(t=as(t)?e.columnName(t):t,Nre(Di(t)?e.column(t):S3(e,Us({w:t},{table:e}),{drop:!0}).column("w")))}function eHe(e,t){return E3(e,xl(e,t))}function tHe(e,{names:t,exprs:n,ops:r=[]},i={}){if(t.length===0)return e;const s=t.length===1&&i.as||[],o=i.drop==null?!0:!!i.drop,a=i.limit==null?s.length||1/0:Math.max(1,+i.limit||1),u=ih(e,r,n),l=bo(),c=t.reduce((d,h,p)=>d.set(h,p),new Map),f=(d,h)=>{const p=nHe(e,u[d],a),m=p.length;for(let y=0;y<m;++y)l.add(s[y]||`${h}_${y+1}`,p[y])};return e.columnNames().forEach(d=>{c.has(d)?(o||l.add(d,e.column(d)),f(c.get(d),d),c.delete(d)):l.add(d,e.column(d))}),c.forEach(f),e.create(l)}function nHe(e,t,n){const r=e.totalRows(),i=[];return e.scan((s,o)=>{const a=Bs(t(s,o)),u=Math.min(a.length,n);for(;i.length<u;)i.push(Array(r).fill(fn));for(let l=0;l<u;++l)i[l][s]=a[l]}),i}function rHe(e,t,n){return tHe(e,Ia("spread",e,t),n)}function iHe(e,t){return e.concat(t).dedupe()}function sHe(e,t,n){return Ore(e,Ia("unroll",e,t),n&&n.drop?{...n,drop:Ia("unroll",e,n.drop).names}:n)}function oHe(e,t){return e.create({groups:aHe(e,t)})}function aHe(e,{names:t=[],exprs:n=[],ops:r=[]}){const i=t.length;if(i===0)return null;if(i===1&&!e.isFiltered()&&n[0].field){const h=e.column(n[0].field);if(h.groups)return h.groups(t)}let s=ih(e,r,n);const o=sT(s),a=e.totalRows(),u=new Uint32Array(a),l={},c=[],f=e.data(),d=e.mask();if(d)for(let h=d.next(0);h>=0;h=d.next(h+1)){const p=o(h,f)+"",m=l[p];u[h]=m??(l[p]=c.push(h)-1)}else for(let h=0;h<a;++h){const p=o(h,f)+"",m=l[p];u[h]=m??(l[p]=c.push(h)-1)}return r.length||(s=s.map(h=>p=>h(p,f))),{keys:u,get:s,names:t,rows:c,size:c.length}}function uHe(e,t){return oHe(e,Ia("groupby",e,t))}function lHe(e,t){return e.create({order:t})}const cHe=(e,t,n,r)=>`((u = ${e}) < (v = ${t}) || u == null) && v != null ? ${n}
    : (u > v || v == null) && u != null ? ${r}
    : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${n}
    : v !== v && u === u ? ${r} : `;function fHe(e,t){const n=[],r=[],i=[];let s=null,o="0",a="0";e.isGrouped()&&(s=e.groups().keys,o="ka",a="kb");const{ops:u}=Us(t,{table:e,value:(h,p)=>{if(n.push(h),p.escape){const m=y=>`fn[${i.length}](${y}, data)`;r.push([m("a"),m("b")]),i.push(p.escape)}else r.push([iT(p,{index:"a",op:o}),iT(p,{index:"b",op:a})])},window:!1}),l=Ym(e,u),c=(h,p)=>l[h][p],f=n.length;let d="return (a, b) => {"+(c&&e.isGrouped()?"const ka = keys[a], kb = keys[b];":"")+"let u, v; return ";for(let h=0;h<f;++h){const p=t.get(n[h]).desc?-1:1,[m,y]=r[h];d+=cHe(m,y,-p,p)}return d+="0;};",Function("op","keys","fn","data",d)(c,s,i,e.data())}function dHe(e,t){return lHe(e,hHe(e,t))}function hHe(e,t){let n=-1;const r=new Map,i=s=>r.set(++n+"",s);return t.forEach(s=>{const o=s.expr!=null?s.expr:s;if(Ki(o)&&!Jn(o))for(const a in o)i(o[a]);else i(as(o)?$d(s,e.columnName(o)):Di(o)?$d(s):Jn(o)?s:Ft(`Invalid orderby field: ${s+""}`))}),fHe(e,r)}function pHe(e,t){const n=e.numRows(),r=n+t.reduce((o,a)=>o+a.numRows(),0);if(n===r)return e;const i=[e,...t],s=bo();return e.columnNames().forEach(o=>{const a=Array(r);let u=0;i.forEach(l=>{const c=l.column(o)||{get:()=>fn};l.scan(f=>a[u++]=c.get(f))}),s.add(o,a)}),e.create(s.new())}function mHe(e,t){const n=bo(),r=e.groups(),{get:i,names:s=[],rows:o,size:a=1}=r||{},u=new Uint32Array(a+1);s.forEach(d=>n.add(d,null));const l=r?Ire(e,t,r):[Sre(e,t)];t.outputs().map(d=>n.add(d,[]));const c=u.length-1;let f=0;for(let d=0;d<c;++d)f+=u[d+1]=t.write(l[d],n.data,u[d]);if(r){const d=e.data();s.forEach((h,p)=>{const m=n.data[h]=Array(f),y=i[p];for(let g=0,_=0;g<a;++g)m.fill(y(o[g],d),_,_+=u[g+1])})}return e.create(n.new())}function gHe(e){return e.isGrouped()?e.create({groups:null}):e}function yHe(e){return e.isOrdered()?e.create({order:null}):e}const _He={__antijoin:(e,t,n)=>PU(e,t,n,{anti:!0}),__count:(e,t={})=>RU(e,{[t.as||"count"]:ZZ()}),__cross:(e,t,n,r)=>AU(e,t,()=>!0,n,{...r,left:!0,right:!0}),__concat:pHe,__dedupe:q7e,__derive:cze,__except:fze,__filter:pze,__fold:gze,__impute:bze,__intersect:wze,__join:AU,__lookup:Mze,__pivot:Uze,__relocate:wre,__rename:zze,__rollup:RU,__sample:Xze,__select:eHe,__semijoin:PU,__spread:rHe,__union:iHe,__unroll:sHe,__groupby:uHe,__orderby:dHe,__ungroup:gHe,__unorder:yHe,__reduce:mHe};Object.assign(Gu.prototype,_He);function vHe(e,t){return Gu.from(e,t)}function bHe(e){return YI(e,{escape:!0,toString(){Ft("Escaped values can not be serialized.")}})}Gu.prototype;const ra={top:30,left:60,right:80,bottom:50};function kre({data:e,selection:t,parameters:n}){const[r,{width:i,height:s}]=qN(),o=w.useMemo(()=>{const c=e.map(f=>({...f,value:+f[n.y_var]}));return vHe(c)},[e,n]),a=w.useMemo(()=>{const c=bp(o.filter(bHe(f=>t.includes(f[n.cat_var]))).array("value"));return n.dataset==="clean_stocks"?c:[0,c[1]]},[o,t,n]),u=w.useMemo(()=>wI([ra.top,s-ra.bottom]).domain(bp(o.array("value")).reverse()),[o,s]),l=n.dataset==="clean_stocks"?Fc(".0%"):Fc(",.0f");return(t==null?void 0:t.length)===0?null:$.jsxs("svg",{ref:r,style:{height:"400px",width:"60px",overflow:"visible"},children:[$.jsx("rect",{y:u(a[1]),height:u(a[0])-u(a[1]),x:ra.left-10,width:10,opacity:.1,fill:"black"}),$.jsx("text",{style:{fontSize:10,dominantBaseline:"middle",textAnchor:"middle",fontFamily:'"Helvetica Neue", Helvetica, Arial, sans-serif'},x:25,y:ra.top-5,children:l(u.domain()[0])}),$.jsx("text",{style:{fontSize:10,dominantBaseline:"middle",textAnchor:"middle",fontFamily:'"Helvetica Neue", Helvetica, Arial, sans-serif'},x:25,y:s-ra.bottom+8,children:l(u.domain()[1])}),$.jsx("text",{style:{fontSize:10,dominantBaseline:"middle",fontFamily:'"Helvetica Neue", Helvetica, Arial, sans-serif'},x:ra.left-5,y:u(a[0]),children:l(a[0])}),$.jsx("text",{style:{fontSize:10,dominantBaseline:"middle",fontFamily:'"Helvetica Neue", Helvetica, Arial, sans-serif'},x:ra.left-5,y:u(a[1]),children:l(a[1])}),e.map(c=>$.jsx("rect",{opacity:.2,fill:+c[n.y_var]>0?"steelblue":"firebrick",x:0,width:50,y:u(+c[n.y_var]),height:1},"strip")),$.jsx("line",{strokeWidth:2,stroke:"black",style:{fontSize:10,dominantBaseline:"middle"},x1:0,x2:50,y1:u(a[0]),y2:u(a[0])}),$.jsx("line",{strokeWidth:2,stroke:"black",x1:0,x2:50,y1:u(a[1]),y2:u(a[1])}),$.jsx("line",{strokeWidth:2,stroke:"black",x1:0,x2:0,y1:u(a[1]),y2:u(a[0])}),$.jsx("line",{strokeWidth:2,stroke:"black",x1:50,x2:50,y1:u(a[1]),y2:u(a[0])}),$.jsx("path",{fill:"black",opacity:"0.1",d:`M${ra.left}, ${u(a[1])} L ${i+20+33}, ${ra.top} L ${i+20+33}, ${s-ra.bottom} L ${ra.left}, ${u(a[0])}`})]})}const EHe=Object.freeze(Object.defineProperty({__proto__:null,StripPlot:kre},Symbol.toStringTag,{value:"Module"}));function NU({parameters:e,setAnswer:t}){const[n,r]=w.useState(null),[i,s]=w.useState([]),[o,a]=w.useState(null),[u,l]=w.useState([new Date(e.start_date),new Date(e.end_date)]),[c,f]=w.useState(e.guardrail);w.useEffect(()=>{T4e(`./data/${e.dataset}.csv`).then(_=>{r(_),a(Array.from(new Set(_.map(b=>JSON.stringify({name:b[e.cat_var],group:b[e.group_var]})))).map(b=>JSON.parse(b)))})},[e]);const d=w.useMemo(()=>n&&u?n.filter(_=>new Date(_[e.x_var]).getTime()>=u[0].getTime()).filter(_=>new Date(_[e.x_var]).getTime()<=u[1].getTime()):null,[n,u]),{actions:h,trrack:p}=w.useMemo(()=>{const _=r$.create(),b=_.register("selection",(E,S)=>(E.selection=S,E)),T=_.register("range",(E,S)=>(E.range=S,E)),I=qFe({registry:_,initialState:{selection:[],range:[e.start_date,e.end_date]}});return{actions:{selection:b,range:T},trrack:I}},[]),m=w.useCallback(_=>{p.apply("Change daterange",h.range([_[0].toISOString().slice(0,10),_[1].toISOString().slice(0,10)]))},[p,h,l]),y=w.useMemo(()=>Da(m,200),[m]),g=w.useCallback(_=>{p.apply("Change selection",h.selection(_)),t({status:!0,provenanceGraph:p.graph.backend,answers:{}})},[p,h,t]);return d&&o&&u&&i?$.jsxs($c,{children:[e.allow_guardrail_selector?$.jsx(hd,{shadow:"sm",radius:"md",p:"md",style:{width:"500px"},children:$.jsx(R2,{guardrail:c,setGuardrail:f})}):null,$.jsx(Ad,{children:$.jsx(hd,{shadow:"md",radius:"md",p:"md",withBorder:!0,children:$.jsxs(_u,{children:[$.jsx(O2,{parameters:e,data:d,items:o,selection:i,setSelection:s,trackSelection:g,range:u,guardrail:c}),$.jsx(fd,{orientation:"vertical",size:"xs"}),$.jsxs("g",{children:[$.jsx(It,{fw:500,children:e.dataset==="clean_stocks"?"Percent change in stock price":"Infections per million people"}),c==="super_summ"?$.jsx(It,{fz:"xs",c:"dimmed",children:"Shaded area represents the middle 50% of all values."}):null,c==="juxt_summ"?$.jsx(It,{fz:"xs",c:"dimmed",children:"Bar on the left highlights the range of selection among all data."}):null,$.jsxs($c,{children:[$.jsxs(_u,{children:[c==="juxt_summ"?$.jsx(kre,{parameters:e,data:d,selection:i}):null,$.jsx(A2,{parameters:e,data:d,items:o,selection:i,range:u,guardrail:c})]}),e.allow_time_slider?$.jsx("div",{style:{width:"500px"},children:$.jsx(P2,{parameters:e,setRange:l,trackRange:y})}):null]})]})]})})})]}):$.jsx(Cm,{})}const wHe=Object.freeze(Object.defineProperty({__proto__:null,DataExplorer:NU,default:NU},Symbol.toStringTag,{value:"Module"})),THe=Object.assign({"../public/brush-interactions/types.ts":EMe,"../public/viz-guardrails/Color.tsx":wMe,"../public/viz-guardrails/DataExplorer.tsx":wHe,"../public/viz-guardrails/LineChart.tsx":m8e,"../public/viz-guardrails/RangeSelector.tsx":y8e,"../public/viz-guardrails/Selector.tsx":_8e,"../public/viz-guardrails/Sidebar.tsx":g8e,"../public/viz-guardrails/StripPlot.tsx":EHe,"../public/viz-guardrails/XAxis.tsx":h8e,"../public/viz-guardrails/YAxis.tsx":p8e});function SHe({currentConfig:e}){const t=Aa(),n=`../public/${e.path}`,r=THe[n].default,i=jl(),{updateResponseBlockValidation:s,setIframeAnswers:o}=Bl();function a({status:u,provenanceGraph:l,answers:c}){i(s({location:"sidebar",currentStep:t,status:u,values:c,provenanceGraph:l})),i(o(Object.values(c).map(f=>f)))}return $.jsx(w.Suspense,{fallback:$.jsx("div",{children:"Loading..."}),children:$.jsx(r,{parameters:e.parameters,setAnswer:a})})}function IHe({currentConfig:e}){const[t,n]=w.useState(null);return w.useEffect(()=>{fetch(`${Pu}${e.path}`).then(r=>r.text()).then(r=>n(r))},[e]),t===null?null:$.jsx(Fs,{text:t})}function dm(){return Nu(e=>e.config)}function Dre(){const e=Aa(),{setAlertModal:t}=Bl(),n=jl();w.useEffect(()=>{(new URLSearchParams(window.location.search).get("admin")||"f")==="t"||(window.history.pushState(null,"",window.location.href),window.onpopstate=()=>{window.history.pushState(null,"",window.location.href),n(t({show:!0,message:"Using the browser's back button is prohibited during the study."}))})},[e,t,n])}function xHe(){var f;const e=dm(),t=Aa(),n=e.components[t],r=mD(),i=eI(n)&&e.baseComponents?hD({},(f=e.baseComponents)==null?void 0:f[n.baseComponent],n):n,s=i.instruction||"",{instructionLocation:o}=i,a=e.uiConfig.sidebar&&(o==="sidebar"||o===void 0);Dre();const{storageEngine:u}=pf(),l=jl(),{setAlertModal:c}=Bl();return w.useEffect(()=>{(u==null?void 0:u.getEngine())!=="firebase"&&l(c({show:!0,message:"There was an issue connecting to the firebase database. This could be caused by a network issue or your adblocker. If you are using an adblocker, please disable it for this website and refresh."}))},[c,u,l]),$.jsxs($.Fragment,{children:[o==="aboveStimulus"&&$.jsx(Fs,{text:s}),$.jsx(jw,{status:r,config:i,location:"aboveStimulus"},`${t}-above-response-block`),$.jsxs(w.Suspense,{fallback:$.jsx("div",{children:"Loading..."}),children:[i.type==="markdown"&&$.jsx(IHe,{currentConfig:i}),i.type==="website"&&$.jsx(_Me,{currentConfig:i}),i.type==="image"&&$.jsx(bMe,{currentConfig:i}),i.type==="react-component"&&$.jsx(SHe,{currentConfig:i})]},`${t}-stimulus`),(o==="belowStimulus"||o===void 0&&!a)&&$.jsx(Fs,{text:s}),$.jsx(jw,{status:r,config:i,location:"belowStimulus"},`${t}-below-response-block`)]})}function CHe(e){const[t]=NN();return $.jsx(efe,{...e,to:{pathname:e.to,search:t.toString()}})}var AHe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},OHe=Object.defineProperty,PHe=Object.defineProperties,RHe=Object.getOwnPropertyDescriptors,AT=Object.getOwnPropertySymbols,$re=Object.prototype.hasOwnProperty,Lre=Object.prototype.propertyIsEnumerable,kU=(e,t,n)=>t in e?OHe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,DU=(e,t)=>{for(var n in t||(t={}))$re.call(t,n)&&kU(e,n,t[n]);if(AT)for(var n of AT(t))Lre.call(t,n)&&kU(e,n,t[n]);return e},NHe=(e,t)=>PHe(e,RHe(t)),kHe=(e,t)=>{var n={};for(var r in e)$re.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&AT)for(var r of AT(e))t.indexOf(r)<0&&Lre.call(e,r)&&(n[r]=e[r]);return n},ql=(e,t,n)=>{const r=w.forwardRef((i,s)=>{var o=i,{color:a="currentColor",size:u=24,stroke:l=2,children:c}=o,f=kHe(o,["color","size","stroke","children"]);return w.createElement("svg",DU(NHe(DU({ref:s},AHe),{width:u,height:u,stroke:a,strokeWidth:l,className:`tabler-icon tabler-icon-${e}`}),f),[...n.map(([d,h])=>w.createElement(d,h)),...c||[]])});return r.propTypes={color:ft.string,size:ft.oneOfType([ft.string,ft.number]),stroke:ft.oneOfType([ft.string,ft.number])},r.displayName=`${t}`,r},DHe=ql("alert-circle","IconAlertCircle",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 8v4",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]]),$He=ql("arrow-right","IconArrowRight",[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M13 18l6 -6",key:"svg-1"}],["path",{d:"M13 6l6 6",key:"svg-2"}]]),LHe=ql("arrows-shuffle","IconArrowsShuffle",[["path",{d:"M18 4l3 3l-3 3",key:"svg-0"}],["path",{d:"M18 20l3 -3l-3 -3",key:"svg-1"}],["path",{d:"M3 7h3a5 5 0 0 1 5 5a5 5 0 0 0 5 5h5",key:"svg-2"}],["path",{d:"M21 7h-5a4.978 4.978 0 0 0 -3 1m-4 8a4.984 4.984 0 0 1 -3 1h-3",key:"svg-3"}]]),MHe=ql("code-dots","IconCodeDots",[["path",{d:"M15 12h.01",key:"svg-0"}],["path",{d:"M12 12h.01",key:"svg-1"}],["path",{d:"M9 12h.01",key:"svg-2"}],["path",{d:"M6 19a2 2 0 0 1 -2 -2v-4l-1 -1l1 -1v-4a2 2 0 0 1 2 -2",key:"svg-3"}],["path",{d:"M18 19a2 2 0 0 0 2 -2v-4l1 -1l-1 -1v-4a2 2 0 0 0 -2 -2",key:"svg-4"}]]),FHe=ql("code-plus","IconCodePlus",[["path",{d:"M9 12h6",key:"svg-0"}],["path",{d:"M12 9v6",key:"svg-1"}],["path",{d:"M6 19a2 2 0 0 1 -2 -2v-4l-1 -1l1 -1v-4a2 2 0 0 1 2 -2",key:"svg-2"}],["path",{d:"M18 19a2 2 0 0 0 2 -2v-4l1 -1l-1 -1v-4a2 2 0 0 0 -2 -2",key:"svg-3"}]]),BHe=ql("dots-vertical","IconDotsVertical",[["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]),jHe=ql("mail","IconMail",[["path",{d:"M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10z",key:"svg-0"}],["path",{d:"M3 7l9 6l9 -6",key:"svg-1"}]]),$U=ql("schema","IconSchema",[["path",{d:"M5 2h5v4h-5z",key:"svg-0"}],["path",{d:"M15 10h5v4h-5z",key:"svg-1"}],["path",{d:"M5 18h5v4h-5z",key:"svg-2"}],["path",{d:"M5 10h5v4h-5z",key:"svg-3"}],["path",{d:"M10 12h5",key:"svg-4"}],["path",{d:"M7.5 6v4",key:"svg-5"}],["path",{d:"M7.5 14v4",key:"svg-6"}]]),Mre=ql("table","IconTable",[["path",{d:"M3 5a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-14z",key:"svg-0"}],["path",{d:"M3 10h18",key:"svg-1"}],["path",{d:"M10 3v18",key:"svg-2"}]]);const tR=["description","instruction","answer","correctAnswer","startTime","endTime","duration","taskOrder"],lb=["participantId","trialId","responseId"];function cb(e,t){const n=`data:text/json;charset=utf-8,${encodeURIComponent(e)}`,r=document.createElement("a");r.setAttribute("href",n),r.setAttribute("download",t),document.body.appendChild(r),r.click(),r.remove()}function UHe(e,t,n){return Object.entries(t.components).map(([r,i])=>{const s=eI(i)&&i.baseComponent&&t.baseComponents?hD({},t.baseComponents[i.baseComponent],i):i,o=e.answers[r],a=o!==void 0?o:{answer:{},startTime:-1,endTime:-1,windowEvents:[]},u=a.endTime-a.startTime;return Object.entries(a.answer).map(([c,f])=>{const d={participantId:e.participantId,trialId:r,responseId:c,startTime:new Date(a.startTime).toUTCString(),endTime:new Date(a.endTime).toUTCString(),duration:u};return n.includes("description")&&(d.description=s.description),n.includes("instruction")&&(d.instruction=s.instruction),n.includes("answer")&&(d.answer=f),n.includes("correctAnswer")&&(d.correctAnswer=s.correctAnswer),n.includes("taskOrder")&&(d.taskOrder=e.sequence.indexOf(r)),d}).flat()}).flat()}async function VHe(e,t,n,r=[...lb,...tR]){const s=(await t.getAllParticipantsData()).map(l=>UHe(l,n,r)).flat(),o=l=>l.replace(/"/g,'""'),a=s.map(l=>r.map(c=>l===null?"":typeof l[c]=="string"?`"${o(l[c])}"`:JSON.stringify(l[c])).join(",")),u=[r.join(","),...a].join(`
`);cb(u,e)}function zHe({opened:e,close:t,filename:n,studyConfig:r}){const[i,s]=jhe([...lb,...tR]),o=w.useCallback(l=>{lb.every(c=>l.includes(c))&&s(l)},[s]),a=w.useMemo(()=>[...lb,...tR],[]),{storageEngine:u}=pf();return u?$.jsxs(LS,{opened:e,size:"lg",onClose:t,title:$.jsx(It,{size:"xl",children:"Download Tidy CSV"}),centered:!0,radius:"md",padding:"xl",children:[$.jsx(ut,{children:$.jsx(xK,{searchable:!0,limit:30,nothingFound:"Property not found",data:a,value:i,onChange:o,label:$.jsx(It,{fw:"bold",size:"lg",children:"Select properties to include in tidy csv:"}),placeholder:"Select atleast one property"})}),$.jsxs(Ad,{mt:"xl",direction:{base:"column",sm:"row"},gap:{base:"sm",sm:"lg"},justify:{sm:"space-around"},children:[$.jsx(ll,{leftIcon:$.jsx(Mre,{}),onClick:()=>VHe(n,u,r,i),children:"Download"}),$.jsx(ll,{onClick:t,color:"red",children:"Close"})]})]}):null}function HHe({studyConfig:e}){const{storageEngine:t}=pf(),[n,{open:r,close:i}]=Uhe(!1),[s,o]=w.useState(),[a,u]=w.useState(""),l=e.studyMetadata.title.replace(" ","_");w.useEffect(()=>{async function m(){if(t){const y=await t.getCurrentParticipantId(),g=await t.getParticipantData();u(y),o(g)}}m()},[t]);const c=w.useCallback(async()=>{cb(JSON.stringify(s,null,2),`${l}_${a}.json`)},[s]),f=e.uiConfig.autoDownloadStudy||!1,d=f&&e.uiConfig.autoDownloadTime||-1,[h,p]=w.useState(Math.floor(d/1e3));return w.useEffect(()=>{const m=setInterval(()=>{p(y=>y-1)},1e3);return h<=0?(c(),clearInterval(m),()=>clearInterval(m)):()=>clearInterval(m)},[h]),$.jsxs($c,{children:[$.jsx(ll,{leftIcon:$.jsx(MHe,{}),mt:"1em",mr:"0.5em",onClick:()=>cb(JSON.stringify(s,null,2),`${l}_${a}.json`),display:"block",children:"Download Current (JSON)"}),$.jsx(ll,{disabled:!(t!=null&&t.isConnected()),leftIcon:$.jsx(FHe,{}),mt:"1em",mr:"0.5em",onClick:async()=>{if(!t)return;const m=await t.getAllParticipantsData();cb(JSON.stringify(m,null,2),`${l}_all.json`)},display:"block",children:"Download All (JSON)"}),$.jsx(ll,{disabled:!(t!=null&&t.isConnected()),leftIcon:$.jsx(Mre,{}),mt:"1em",mr:"0.5em",onClick:r,display:"block",children:"Download All (Tidy)"}),f&&$.jsxs(It,{size:"lg",children:["Study results will be downloaded in"," ",h," ","seconds. If the download does not start automatically, click above to download."]}),$.jsx(zHe,{opened:n,close:i,filename:`${l}_${a}.csv`,studyConfig:e})]})}function Fre({order:e}){const{studyId:t=null}=RN(),n=Aa(),r=qd();return $.jsx($c,{spacing:"xs",children:e.components.map((i,s)=>typeof i=="string"?$.jsx(_u,{children:$.jsx(Eve,{style:{cursor:"pointer"},color:i===n?"red":"blue",onClick:()=>r(`/${t}/${i}`),size:"xs",children:i},i)},s):$.jsx($c,{spacing:"xs",children:$.jsxs(_u,{spacing:"xs",style:{width:"100%"},noWrap:!0,align:"center",position:"center",children:[i.order==="random"||i.order==="latinSquare"?$.jsx(LHe,{textAnchor:"middle"}):null,$.jsx($c,{style:{width:"100%"},children:$.jsx(Fre,{order:i})})]})},s))})}function qHe(){const{showAdmin:e,sequence:t}=Nu(a=>a),n=qd(),{studyId:r=null}=RN(),i=Aa(),s=dm(),o=t.map(a=>({...s.components[a],id:a}));return e||i==="end"&&s.uiConfig.autoDownloadStudy?$.jsx(Hh,{p:"0",width:{base:300},style:{zIndex:0},children:$.jsxs(G0,{p:"0",children:[$.jsx(Hh.Section,{grow:!0,component:G0,px:"xs",my:"lg",children:$.jsx(Fre,{order:s.sequence})}),$.jsx(Hh.Section,{grow:!0,component:G0,px:"xs",my:"lg",children:i==="end"&&$.jsx(HHe,{studyConfig:s})}),$.jsx(Hh.Section,{grow:!0,component:G0,px:"xs",my:"lg",children:o.map((a,u)=>$.jsxs(k.Fragment,{children:[$.jsxs(hd,{radius:0,p:0,withBorder:!0,children:[$.jsx(hd,{radius:0,p:"xl",children:$.jsxs(Ad,{style:{justifyContent:"space-between"},children:[$.jsxs(It,{c:"gray.9",children:[$.jsxs(It,{span:!0,fw:700,inherit:!0,children:["Task"," ",u+1,":"]})," ",a.id]}),$.jsx(qp,{}),$.jsx(YN,{bg:"white",onClick:()=>n(`/${r}/${a.id}`),children:$.jsx($He,{size:"1.125rem"})})]})}),$.jsxs(hd,{radius:0,p:"xl",children:[a.description&&$.jsxs(It,{fw:900,children:["Description:"," ",$.jsx(It,{fw:400,component:"span",children:a.description})]}),a.meta&&$.jsx(It,{fw:900,children:"Task Meta:"}),a.meta&&Object.keys(a.meta).map(l=>$.jsxs(It,{children:[l,":",a.meta[l]]},l))]})]}),$.jsx(qp,{h:"md"})]},`admin_${a.id}`))})]})}):null}function WHe(){const{config:e,sequence:t}=Nu(b=>b),n=jl(),{toggleShowHelpText:r,toggleShowAdmin:i}=Bl(),{storageEngine:s}=pf(),o=Aa(),a=e!==null?t.indexOf(o):0,u=t.length-1,l=a/u*100,[c,f]=w.useState(!1),d=e==null?void 0:e.uiConfig.logoPath,h=e==null?void 0:e.uiConfig.withProgressBar,[p]=w.useState(new URLSearchParams(window.location.search)),m=p.get("admin")||"f",y=SX(),g=Vce(`/${y}`);function _(){s==null||s.nextParticipant(e).then(()=>{window.location.href=g}).catch(b=>{console.error(b)})}return $.jsx(_W,{height:"70",p:"md",children:$.jsxs(Ju,{mt:-7,align:"center",children:[$.jsx(Ju.Col,{span:4,children:$.jsxs(Ad,{align:"center",children:[$.jsx(b_,{maw:40,src:`${Pu}${d}`,alt:"Study Logo"}),$.jsx(qp,{w:"md"}),$.jsx(sc,{order:4,children:e==null?void 0:e.studyMetadata.title})]})}),$.jsx(Ju.Col,{span:4,children:h&&$.jsx(WK,{radius:"md",size:"lg",value:l})}),$.jsx(Ju.Col,{span:4,children:$.jsxs(Ad,{align:"center",justify:"flex-end",children:[(e==null?void 0:e.uiConfig.helpTextPath)!==void 0&&$.jsx(ll,{variant:"outline",onClick:()=>n(r()),children:"Help"}),$.jsx(qp,{w:"md"}),m==="t"&&$.jsxs(Oo,{shadow:"md",width:200,zIndex:1,opened:c,onChange:f,children:[$.jsx(Oo.Target,{children:$.jsx(YN,{size:"lg",children:$.jsx(BHe,{})})}),$.jsxs(Oo.Dropdown,{children:[$.jsx(Oo.Item,{icon:$.jsx($U,{size:14}),onClick:()=>n(i()),children:"Admin Mode"}),$.jsx(Oo.Item,{component:"a",href:e!==null?`mailto:${e.uiConfig.contactEmail}`:void 0,icon:$.jsx(jHe,{size:14}),children:"Contact"}),$.jsx(Oo.Item,{icon:$.jsx($U,{size:14}),onClick:()=>_(),children:"Next Participant"})]})]})]})})]})})}function YHe(){var u;const e=(u=dm())==null?void 0:u.uiConfig.sidebar,t=dm(),n=Aa(),r=t.components[n],i=w.useMemo(()=>{var l;return r?eI(r)&&t.baseComponents?hD({},(l=t.baseComponents)==null?void 0:l[r.baseComponent],r):r:null},[r]),s=mD(),o=(i==null?void 0:i.instruction)||"",a=(i==null?void 0:i.instructionLocation)==="sidebar"||(i==null?void 0:i.instructionLocation)===void 0;return e&&i?$.jsxs(_g,{bg:"gray.1",display:"block",width:{base:300},style:{zIndex:0,overflowY:"scroll"},children:[a&&o!==""&&$.jsx(_g.Section,{bg:"gray.3",p:"xl",children:$.jsxs(It,{c:"gray.9",children:[$.jsx(It,{span:!0,c:"orange.8",fw:700,inherit:!0,children:"Task:"}),$.jsx(Fs,{text:o})]})}),$.jsx(_g.Section,{p:"xl",children:$.jsx(jw,{status:s,config:i,location:"sidebar"},`${n}-sidebar-response-block`)})]}):$.jsx(jw,{status:s,config:i,location:"sidebar",style:{display:"hidden"}},`${n}-sidebar-response-block`)}function GHe(){const{showHelpText:e,config:t}=Nu(o=>o),n=jl(),{toggleShowHelpText:r}=Bl(),[i,s]=w.useState("");return w.useEffect(()=>{t&&t.uiConfig.helpTextPath&&fetch(`${Pu}${t.uiConfig.helpTextPath}`).then(o=>o.text()).then(o=>s(o))},[t]),$.jsx(LS,{size:"70%",opened:e,withCloseButton:!1,onClose:()=>n(r()),children:$.jsx(Fs,{text:i})})}function KHe(){const{alertModal:e}=Nu(o=>o),{setAlertModal:t}=Bl(),n=jl(),[r,i]=w.useState(e.show),s=w.useCallback(()=>n(t({...e,show:!1})),[e,t,n]);return w.useEffect(()=>i(e.show),[e.show]),$.jsx(LS,{opened:r,centered:!0,size:"lg",withCloseButton:!1,styles:{modal:{padding:"0 !important"}},onClose:s,children:$.jsxs(Zq,{color:"red",radius:"xs",p:"lg",title:"Alert",icon:$.jsx(DHe,{}),onClose:s,styles:{root:{backgroundColor:"unset"}},children:[$.jsx(It,{my:"md",children:e.message}),$.jsx(ut,{style:{float:"right"},color:"red",children:$.jsx(ll,{onClick:s,color:"red",variant:"filled",children:"Continue Study"})})]})})}function QHe(){const e=w.useRef([]),n=dm().uiConfig.windowEventDebounceTime??100;return w.useEffect(()=>{const r=Da(d=>{e.current.push([Date.now(),"focus",d.target instanceof HTMLElement?d.target.tagName:""])},n,{maxWait:n}),i=Da(d=>{e.current.push([Date.now(),"input",d.data??""])},n,{maxWait:n}),s=Da(d=>{e.current.push([Date.now(),"keypress",d.key])},n,{maxWait:n}),o=Da(d=>{e.current.push([Date.now(),"mousedown",[d.clientX,d.clientY]])},n,{maxWait:n}),a=Da(d=>{e.current.push([Date.now(),"mouseup",[d.clientX,d.clientY]])},n,{maxWait:n}),u=Da(()=>{e.current.push([Date.now(),"resize",[window.innerWidth,window.innerHeight]])},n,{maxWait:n}),l=Da(d=>{e.current.push([Date.now(),"mousemove",[d.clientX,d.clientY]])},n,{maxWait:n}),c=Da(()=>{e.current.push([Date.now(),"scroll",[window.scrollX,window.scrollY]])},n,{maxWait:n}),f=Da(()=>{e.current.push([Date.now(),"visibility",document.visibilityState])},n,{maxWait:n});return window.addEventListener("focus",r,!0),window.addEventListener("input",i),window.addEventListener("keypress",s),window.addEventListener("mousedown",o),window.addEventListener("mouseup",a),window.addEventListener("resize",u),window.addEventListener("mousemove",l),window.addEventListener("scroll",c),document.addEventListener("visibilitychange",f),()=>{window.removeEventListener("focus",r,!0),window.removeEventListener("input",i),window.removeEventListener("keypress",s),window.addEventListener("mousedown",o),window.addEventListener("mouseup",a),window.removeEventListener("resize",u),window.removeEventListener("mousemove",l),window.removeEventListener("scroll",c),document.removeEventListener("visibilitychange",f)}},[]),$.jsx(IX.Provider,{value:e,children:$.jsxs(EW,{navbar:$.jsx(YHe,{}),aside:$.jsx(qHe,{}),header:$.jsx(WHe,{}),children:[$.jsx(GHe,{}),$.jsx(KHe,{}),$.jsx(tfe,{})]})})}function XHe(){const e=dm(),{storageEngine:t}=pf(),{answers:n}=Nu(s=>s),[r,i]=w.useState(!1);return w.useEffect(()=>{const s=setInterval(async()=>{await t.verifyCompletion(n)&&(i(!0),clearInterval(s))},1e3)},[]),Dre(),$.jsx(Cd,{style:{height:"100%"},children:$.jsx(Ad,{direction:"column",children:r?$.jsx(It,{size:"xl",display:"block",children:e.uiConfig.studyEndMsg?$.jsx(Fs,{text:e.uiConfig.studyEndMsg}):"Thank you for completing the study. You may close this window now."}):$.jsxs($.Fragment,{children:[$.jsx(It,{size:"xl",display:"block",children:"Please wait while your answers are uploaded."}),$.jsx(qp,{h:"lg"}),$.jsx(Cd,{children:$.jsx(Cm,{color:"blue"})})]})})})}function JHe(e,t=!1){return typeof e=="number"?LU(e,t):LU(e.length,t).map(r=>r.map(i=>e[i]))}function LU(e,t){if(e<0)throw new Error("Latin square size must be > 0");if(e==0)return[];if(e==1)return[[0]];let n=new Array(e);for(let s=0;s<e;s++)s<2?n[s]=s:s%2==0?n[s]=e-s/2:n[s]=Math.floor(s/2)+1;let r=[n],i=n;for(let s=1;s<e;s+=1){let o=i.map(a=>(a+1)%e);r.push(o),i=o}if(t&&e%2>0)for(let s=0;s<e;s+=1)r.push(r[s].slice().reverse());return r}function Bre(e,t,n){for(let r=0;r<e.components.length;r++){const i=e.components[r];typeof i!="string"&&(e.components[r]=Bre(i,t,`${n}-${r}`))}if(e.order==="random"){const r=e.components.sort(()=>.5-Math.random());e.components=r}else e.order==="latinSquare"&&t&&(e.components=t[n].pop().map(r=>r.startsWith("_orderObj")?e.components[+r.slice(9)]:r));return e.components.slice(0,e.numSamples?e.numSamples:void 0).flat()}function ZHe(e,t){const n=pD(e);return Bre(n,t,"root"),n.components.slice(0,e.numSamples?e.numSamples:void 0).flat()}function jre(e,t,n,r=0){const i=n.length>0?`${n}-${r}`:"root";e.order==="latinSquare"&&t.push(i),e.components.forEach((s,o)=>{typeof s!="string"&&jre(s,t,i,o)})}function eqe(e){const t=[];return jre(e,t,"",0),t}function MU(e,t){const n=t.split("-");let r={};n.forEach(o=>{o==="root"?r=e.sequence:r=r.components[+o]});const i=r.components.map((o,a)=>typeof o=="string"?o:`_orderObj${a}`);return JHe(i.sort(()=>.5-Math.random()),!0)}function tqe(e,t=1e3){const r=eqe(e.sequence).map(s=>({[s]:MU(e,s)})).reduce((s,o)=>({...s,...o}),{}),i=[];return Array.from({length:t}).forEach(()=>{const s=ZHe(e.sequence,r);s.push("end"),i.push(s),Object.entries(r).forEach(([o,a])=>{a.length===0&&(r[o]=MU(e,o))})}),i}async function nqe(e,t){const n=await(await fetch(`${Pu}${e}`)).text();return nX(n,t)}function rqe(e,t,n){const r=[];if(e&&t&&n){const i=[];i.push({path:"/",element:$.jsx(CHe,{to:`${n[0]}`,replace:!0})}),n.forEach(o=>{o==="end"?i.push({path:"/end",element:$.jsx(XHe,{})}):i.push({path:`/${o}`,element:$.jsx(xHe,{})})});const s={element:$.jsx(QHe,{}),children:i};r.push(s)}return r}function iqe({globalConfig:e}){const{studyId:t}=RN();if(!t||!e.configsList.find(f=>CP(f)))throw new Error("Study id invalid");const[n,r]=w.useState(null);w.useEffect(()=>{const f=e.configsList.find(d=>CP(d)===t);if(f){const d=e.configs[f];nqe(`${d.path}`,f).then(h=>{r(h)})}},[e,t]);const[i,s]=w.useState([]),[o,a]=w.useState(null),{storageEngine:u}=pf(),[l]=NN();w.useEffect(()=>{async function f(){if(!u||!n||!t)return;await u.initializeStudyDb(t,n),await u.getSequenceArray()||await u.setSequenceArray(await tqe(n));const h=n.uiConfig.urlParticipantIdParam&&l.get(n.uiConfig.urlParticipantIdParam)||void 0,p=Object.fromEntries(l.entries()),m=await u.initializeParticipantSession(p,n,h),y=await K2e(t,n,m.sequence,m.answers);a(y),s(rqe(t,n,m.sequence))}f()},[u,n,t,l]);const c=UH(i);return!c||!o?$.jsx(ut,{style:{height:"100vh"},children:$.jsx(Cd,{style:{height:"100%"},children:$.jsx(Cm,{style:{height:"100%"},size:60})})}):$.jsx(TX.Provider,{value:o,children:$.jsx(aCe,{store:o.store,children:c})})}async function sqe(){const t=await(await fetch(`${Pu}configs/global.json`)).text();return WPe(t)}async function oqe(e){const t={},n=e.configsList.map(i=>`${Pu}${e.configs[i].path}`),r=await Promise.all(n.map(i=>fetch(i))).then(i=>Promise.all(i.map(s=>s.text()))).then(i=>Promise.all(i.map((s,o)=>nX(s,e.configsList[o]))));return e.configsList.forEach((i,s)=>{t[i]=r[s]}),t}function aqe(){const[e,t]=w.useState(null),[n,r]=w.useState({});return w.useEffect(()=>{async function i(){e&&r(await oqe(e))}i()},[e]),w.useEffect(()=>{e||sqe().then(i=>{t(i)})},[e]),e?$.jsx(sfe,{basename:Pu,children:$.jsxs(rfe,{children:[$.jsx(uP,{path:"/",element:$.jsx(Cxe,{globalConfig:e,studyConfigs:n})}),$.jsx(uP,{path:"/:studyId/*",element:$.jsx(iqe,{globalConfig:e})})]})}):null}function h1(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ure={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,s){function o(l,c){if(!i[l]){if(!r[l]){var f=typeof h1=="function"&&h1;if(!c&&f)return f(l,!0);if(a)return a(l,!0);var d=new Error("Cannot find module '"+l+"'");throw d.code="MODULE_NOT_FOUND",d}var h=i[l]={exports:{}};r[l][0].call(h.exports,function(p){var m=r[l][1][p];return o(m||p)},h,h.exports,n,r,i,s)}return i[l].exports}for(var a=typeof h1=="function"&&h1,u=0;u<s.length;u++)o(s[u]);return o}({1:[function(n,r,i){(function(s){var o=s.MutationObserver||s.WebKitMutationObserver,a;if(o){var u=0,l=new o(p),c=s.document.createTextNode("");l.observe(c,{characterData:!0}),a=function(){c.data=u=++u%2}}else if(!s.setImmediate&&typeof s.MessageChannel<"u"){var f=new s.MessageChannel;f.port1.onmessage=p,a=function(){f.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?a=function(){var y=s.document.createElement("script");y.onreadystatechange=function(){p(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},s.document.documentElement.appendChild(y)}:a=function(){setTimeout(p,0)};var d,h=[];function p(){d=!0;for(var y,g,_=h.length;_;){for(g=h,h=[],y=-1;++y<_;)g[y]();_=h.length}d=!1}r.exports=m;function m(y){h.push(y)===1&&!d&&a()}}).call(this,typeof to<"u"?to:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,i){var s=n(1);function o(){}var a={},u=["REJECTED"],l=["FULFILLED"],c=["PENDING"];r.exports=f;function f(I){if(typeof I!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,I!==o&&m(this,I)}f.prototype.catch=function(I){return this.then(null,I)},f.prototype.then=function(I,E){if(typeof I!="function"&&this.state===l||typeof E!="function"&&this.state===u)return this;var S=new this.constructor(o);if(this.state!==c){var A=this.state===l?I:E;h(S,A,this.outcome)}else this.queue.push(new d(S,I,E));return S};function d(I,E,S){this.promise=I,typeof E=="function"&&(this.onFulfilled=E,this.callFulfilled=this.otherCallFulfilled),typeof S=="function"&&(this.onRejected=S,this.callRejected=this.otherCallRejected)}d.prototype.callFulfilled=function(I){a.resolve(this.promise,I)},d.prototype.otherCallFulfilled=function(I){h(this.promise,this.onFulfilled,I)},d.prototype.callRejected=function(I){a.reject(this.promise,I)},d.prototype.otherCallRejected=function(I){h(this.promise,this.onRejected,I)};function h(I,E,S){s(function(){var A;try{A=E(S)}catch(L){return a.reject(I,L)}A===I?a.reject(I,new TypeError("Cannot resolve promise with itself")):a.resolve(I,A)})}a.resolve=function(I,E){var S=y(p,E);if(S.status==="error")return a.reject(I,S.value);var A=S.value;if(A)m(I,A);else{I.state=l,I.outcome=E;for(var L=-1,Y=I.queue.length;++L<Y;)I.queue[L].callFulfilled(E)}return I},a.reject=function(I,E){I.state=u,I.outcome=E;for(var S=-1,A=I.queue.length;++S<A;)I.queue[S].callRejected(E);return I};function p(I){var E=I&&I.then;if(I&&(typeof I=="object"||typeof I=="function")&&typeof E=="function")return function(){E.apply(I,arguments)}}function m(I,E){var S=!1;function A(U){S||(S=!0,a.reject(I,U))}function L(U){S||(S=!0,a.resolve(I,U))}function Y(){E(L,A)}var z=y(Y);z.status==="error"&&A(z.value)}function y(I,E){var S={};try{S.value=I(E),S.status="success"}catch(A){S.status="error",S.value=A}return S}f.resolve=g;function g(I){return I instanceof this?I:a.resolve(new this(o),I)}f.reject=_;function _(I){var E=new this(o);return a.reject(E,I)}f.all=b;function b(I){var E=this;if(Object.prototype.toString.call(I)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=I.length,A=!1;if(!S)return this.resolve([]);for(var L=new Array(S),Y=0,z=-1,U=new this(o);++z<S;)Z(I[z],z);return U;function Z(V,le){E.resolve(V).then(oe,function(ve){A||(A=!0,a.reject(U,ve))});function oe(ve){L[le]=ve,++Y===S&&!A&&(A=!0,a.resolve(U,L))}}}f.race=T;function T(I){var E=this;if(Object.prototype.toString.call(I)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=I.length,A=!1;if(!S)return this.resolve([]);for(var L=-1,Y=new this(o);++L<S;)z(I[L]);return Y;function z(U){E.resolve(U).then(function(Z){A||(A=!0,a.resolve(Y,Z))},function(Z){A||(A=!0,a.reject(Y,Z))})}}},{1:1}],3:[function(n,r,i){(function(s){typeof s.Promise!="function"&&(s.Promise=n(2))}).call(this,typeof to<"u"?to:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,i){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R};function o(R,Q){if(!(R instanceof Q))throw new TypeError("Cannot call a class as a function")}function a(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var u=a();function l(){try{if(!u||!u.open)return!1;var R=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),Q=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!R||Q)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function c(R,Q){R=R||[],Q=Q||{};try{return new Blob(R,Q)}catch(ne){if(ne.name!=="TypeError")throw ne;for(var F=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,ie=new F,ae=0;ae<R.length;ae+=1)ie.append(R[ae]);return ie.getBlob(Q.type)}}typeof Promise>"u"&&n(3);var f=Promise;function d(R,Q){Q&&R.then(function(F){Q(null,F)},function(F){Q(F)})}function h(R,Q,F){typeof Q=="function"&&R.then(Q),typeof F=="function"&&R.catch(F)}function p(R){return typeof R!="string"&&(console.warn(R+" used as a key, but it is not a string."),R=String(R)),R}function m(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var y="local-forage-detect-blob-support",g=void 0,_={},b=Object.prototype.toString,T="readonly",I="readwrite";function E(R){for(var Q=R.length,F=new ArrayBuffer(Q),ie=new Uint8Array(F),ae=0;ae<Q;ae++)ie[ae]=R.charCodeAt(ae);return F}function S(R){return new f(function(Q){var F=R.transaction(y,I),ie=c([""]);F.objectStore(y).put(ie,"key"),F.onabort=function(ae){ae.preventDefault(),ae.stopPropagation(),Q(!1)},F.oncomplete=function(){var ae=navigator.userAgent.match(/Chrome\/(\d+)/),ne=navigator.userAgent.match(/Edge\//);Q(ne||!ae||parseInt(ae[1],10)>=43)}}).catch(function(){return!1})}function A(R){return typeof g=="boolean"?f.resolve(g):S(R).then(function(Q){return g=Q,g})}function L(R){var Q=_[R.name],F={};F.promise=new f(function(ie,ae){F.resolve=ie,F.reject=ae}),Q.deferredOperations.push(F),Q.dbReady?Q.dbReady=Q.dbReady.then(function(){return F.promise}):Q.dbReady=F.promise}function Y(R){var Q=_[R.name],F=Q.deferredOperations.pop();if(F)return F.resolve(),F.promise}function z(R,Q){var F=_[R.name],ie=F.deferredOperations.pop();if(ie)return ie.reject(Q),ie.promise}function U(R,Q){return new f(function(F,ie){if(_[R.name]=_[R.name]||C(),R.db)if(Q)L(R),R.db.close();else return F(R.db);var ae=[R.name];Q&&ae.push(R.version);var ne=u.open.apply(u,ae);Q&&(ne.onupgradeneeded=function(Te){var Oe=ne.result;try{Oe.createObjectStore(R.storeName),Te.oldVersion<=1&&Oe.createObjectStore(y)}catch(ke){if(ke.name==="ConstraintError")console.warn('The database "'+R.name+'" has been upgraded from version '+Te.oldVersion+" to version "+Te.newVersion+', but the storage "'+R.storeName+'" already exists.');else throw ke}}),ne.onerror=function(Te){Te.preventDefault(),ie(ne.error)},ne.onsuccess=function(){var Te=ne.result;Te.onversionchange=function(Oe){Oe.target.close()},F(Te),Y(R)}})}function Z(R){return U(R,!1)}function V(R){return U(R,!0)}function le(R,Q){if(!R.db)return!0;var F=!R.db.objectStoreNames.contains(R.storeName),ie=R.version<R.db.version,ae=R.version>R.db.version;if(ie&&(R.version!==Q&&console.warn('The database "'+R.name+`" can't be downgraded from version `+R.db.version+" to version "+R.version+"."),R.version=R.db.version),ae||F){if(F){var ne=R.db.version+1;ne>R.version&&(R.version=ne)}return!0}return!1}function oe(R){return new f(function(Q,F){var ie=new FileReader;ie.onerror=F,ie.onloadend=function(ae){var ne=btoa(ae.target.result||"");Q({__local_forage_encoded_blob:!0,data:ne,type:R.type})},ie.readAsBinaryString(R)})}function ve(R){var Q=E(atob(R.data));return c([Q],{type:R.type})}function re(R){return R&&R.__local_forage_encoded_blob}function ue(R){var Q=this,F=Q._initReady().then(function(){var ie=_[Q._dbInfo.name];if(ie&&ie.dbReady)return ie.dbReady});return h(F,R,R),F}function te(R){L(R);for(var Q=_[R.name],F=Q.forages,ie=0;ie<F.length;ie++){var ae=F[ie];ae._dbInfo.db&&(ae._dbInfo.db.close(),ae._dbInfo.db=null)}return R.db=null,Z(R).then(function(ne){return R.db=ne,le(R)?V(R):ne}).then(function(ne){R.db=Q.db=ne;for(var Te=0;Te<F.length;Te++)F[Te]._dbInfo.db=ne}).catch(function(ne){throw z(R,ne),ne})}function x(R,Q,F,ie){ie===void 0&&(ie=1);try{var ae=R.db.transaction(R.storeName,Q);F(null,ae)}catch(ne){if(ie>0&&(!R.db||ne.name==="InvalidStateError"||ne.name==="NotFoundError"))return f.resolve().then(function(){if(!R.db||ne.name==="NotFoundError"&&!R.db.objectStoreNames.contains(R.storeName)&&R.version<=R.db.version)return R.db&&(R.version=R.db.version+1),V(R)}).then(function(){return te(R).then(function(){x(R,Q,F,ie-1)})}).catch(F);F(ne)}}function C(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function j(R){var Q=this,F={db:null};if(R)for(var ie in R)F[ie]=R[ie];var ae=_[F.name];ae||(ae=C(),_[F.name]=ae),ae.forages.push(Q),Q._initReady||(Q._initReady=Q.ready,Q.ready=ue);var ne=[];function Te(){return f.resolve()}for(var Oe=0;Oe<ae.forages.length;Oe++){var ke=ae.forages[Oe];ke!==Q&&ne.push(ke._initReady().catch(Te))}var De=ae.forages.slice(0);return f.all(ne).then(function(){return F.db=ae.db,Z(F)}).then(function(Fe){return F.db=Fe,le(F,Q._defaultConfig.version)?V(F):Fe}).then(function(Fe){F.db=ae.db=Fe,Q._dbInfo=F;for(var Je=0;Je<De.length;Je++){var Mt=De[Je];Mt!==Q&&(Mt._dbInfo.db=F.db,Mt._dbInfo.version=F.version)}})}function P(R,Q){var F=this;R=p(R);var ie=new f(function(ae,ne){F.ready().then(function(){x(F._dbInfo,T,function(Te,Oe){if(Te)return ne(Te);try{var ke=Oe.objectStore(F._dbInfo.storeName),De=ke.get(R);De.onsuccess=function(){var Fe=De.result;Fe===void 0&&(Fe=null),re(Fe)&&(Fe=ve(Fe)),ae(Fe)},De.onerror=function(){ne(De.error)}}catch(Fe){ne(Fe)}})}).catch(ne)});return d(ie,Q),ie}function O(R,Q){var F=this,ie=new f(function(ae,ne){F.ready().then(function(){x(F._dbInfo,T,function(Te,Oe){if(Te)return ne(Te);try{var ke=Oe.objectStore(F._dbInfo.storeName),De=ke.openCursor(),Fe=1;De.onsuccess=function(){var Je=De.result;if(Je){var Mt=Je.value;re(Mt)&&(Mt=ve(Mt));var mn=R(Mt,Je.key,Fe++);mn!==void 0?ae(mn):Je.continue()}else ae()},De.onerror=function(){ne(De.error)}}catch(Je){ne(Je)}})}).catch(ne)});return d(ie,Q),ie}function G(R,Q,F){var ie=this;R=p(R);var ae=new f(function(ne,Te){var Oe;ie.ready().then(function(){return Oe=ie._dbInfo,b.call(Q)==="[object Blob]"?A(Oe.db).then(function(ke){return ke?Q:oe(Q)}):Q}).then(function(ke){x(ie._dbInfo,I,function(De,Fe){if(De)return Te(De);try{var Je=Fe.objectStore(ie._dbInfo.storeName);ke===null&&(ke=void 0);var Mt=Je.put(ke,R);Fe.oncomplete=function(){ke===void 0&&(ke=null),ne(ke)},Fe.onabort=Fe.onerror=function(){var mn=Mt.error?Mt.error:Mt.transaction.error;Te(mn)}}catch(mn){Te(mn)}})}).catch(Te)});return d(ae,F),ae}function de(R,Q){var F=this;R=p(R);var ie=new f(function(ae,ne){F.ready().then(function(){x(F._dbInfo,I,function(Te,Oe){if(Te)return ne(Te);try{var ke=Oe.objectStore(F._dbInfo.storeName),De=ke.delete(R);Oe.oncomplete=function(){ae()},Oe.onerror=function(){ne(De.error)},Oe.onabort=function(){var Fe=De.error?De.error:De.transaction.error;ne(Fe)}}catch(Fe){ne(Fe)}})}).catch(ne)});return d(ie,Q),ie}function fe(R){var Q=this,F=new f(function(ie,ae){Q.ready().then(function(){x(Q._dbInfo,I,function(ne,Te){if(ne)return ae(ne);try{var Oe=Te.objectStore(Q._dbInfo.storeName),ke=Oe.clear();Te.oncomplete=function(){ie()},Te.onabort=Te.onerror=function(){var De=ke.error?ke.error:ke.transaction.error;ae(De)}}catch(De){ae(De)}})}).catch(ae)});return d(F,R),F}function ye(R){var Q=this,F=new f(function(ie,ae){Q.ready().then(function(){x(Q._dbInfo,T,function(ne,Te){if(ne)return ae(ne);try{var Oe=Te.objectStore(Q._dbInfo.storeName),ke=Oe.count();ke.onsuccess=function(){ie(ke.result)},ke.onerror=function(){ae(ke.error)}}catch(De){ae(De)}})}).catch(ae)});return d(F,R),F}function me(R,Q){var F=this,ie=new f(function(ae,ne){if(R<0){ae(null);return}F.ready().then(function(){x(F._dbInfo,T,function(Te,Oe){if(Te)return ne(Te);try{var ke=Oe.objectStore(F._dbInfo.storeName),De=!1,Fe=ke.openKeyCursor();Fe.onsuccess=function(){var Je=Fe.result;if(!Je){ae(null);return}R===0||De?ae(Je.key):(De=!0,Je.advance(R))},Fe.onerror=function(){ne(Fe.error)}}catch(Je){ne(Je)}})}).catch(ne)});return d(ie,Q),ie}function W(R){var Q=this,F=new f(function(ie,ae){Q.ready().then(function(){x(Q._dbInfo,T,function(ne,Te){if(ne)return ae(ne);try{var Oe=Te.objectStore(Q._dbInfo.storeName),ke=Oe.openKeyCursor(),De=[];ke.onsuccess=function(){var Fe=ke.result;if(!Fe){ie(De);return}De.push(Fe.key),Fe.continue()},ke.onerror=function(){ae(ke.error)}}catch(Fe){ae(Fe)}})}).catch(ae)});return d(F,R),F}function M(R,Q){Q=m.apply(this,arguments);var F=this.config();R=typeof R!="function"&&R||{},R.name||(R.name=R.name||F.name,R.storeName=R.storeName||F.storeName);var ie=this,ae;if(!R.name)ae=f.reject("Invalid arguments");else{var ne=R.name===F.name&&ie._dbInfo.db,Te=ne?f.resolve(ie._dbInfo.db):Z(R).then(function(Oe){var ke=_[R.name],De=ke.forages;ke.db=Oe;for(var Fe=0;Fe<De.length;Fe++)De[Fe]._dbInfo.db=Oe;return Oe});R.storeName?ae=Te.then(function(Oe){if(Oe.objectStoreNames.contains(R.storeName)){var ke=Oe.version+1;L(R);var De=_[R.name],Fe=De.forages;Oe.close();for(var Je=0;Je<Fe.length;Je++){var Mt=Fe[Je];Mt._dbInfo.db=null,Mt._dbInfo.version=ke}var mn=new f(function(En,vr){var er=u.open(R.name,ke);er.onerror=function(ps){var If=er.result;If.close(),vr(ps)},er.onupgradeneeded=function(){var ps=er.result;ps.deleteObjectStore(R.storeName)},er.onsuccess=function(){var ps=er.result;ps.close(),En(ps)}});return mn.then(function(En){De.db=En;for(var vr=0;vr<Fe.length;vr++){var er=Fe[vr];er._dbInfo.db=En,Y(er._dbInfo)}}).catch(function(En){throw(z(R,En)||f.resolve()).catch(function(){}),En})}}):ae=Te.then(function(Oe){L(R);var ke=_[R.name],De=ke.forages;Oe.close();for(var Fe=0;Fe<De.length;Fe++){var Je=De[Fe];Je._dbInfo.db=null}var Mt=new f(function(mn,En){var vr=u.deleteDatabase(R.name);vr.onerror=function(){var er=vr.result;er&&er.close(),En(vr.error)},vr.onblocked=function(){console.warn('dropInstance blocked for database "'+R.name+'" until all open connections are closed')},vr.onsuccess=function(){var er=vr.result;er&&er.close(),mn(er)}});return Mt.then(function(mn){ke.db=mn;for(var En=0;En<De.length;En++){var vr=De[En];Y(vr._dbInfo)}}).catch(function(mn){throw(z(R,mn)||f.resolve()).catch(function(){}),mn})})}return d(ae,Q),ae}var pe={_driver:"asyncStorage",_initStorage:j,_support:l(),iterate:O,getItem:P,setItem:G,removeItem:de,clear:fe,length:ye,key:me,keys:W,dropInstance:M};function Ee(){return typeof openDatabase=="function"}var Ce="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ae="~~local_forage_type~",qe=/^~~local_forage_type~([^~]+)~/,et="__lfsc__:",Bt=et.length,je="arbf",Me="blob",pt="si08",Ue="ui08",gt="uic8",Yt="si16",on="si32",Wn="ur16",he="ui32",Ie="fl32",Ve="fl64",st=Bt+je.length,Be=Object.prototype.toString;function ot(R){var Q=R.length*.75,F=R.length,ie,ae=0,ne,Te,Oe,ke;R[R.length-1]==="="&&(Q--,R[R.length-2]==="="&&Q--);var De=new ArrayBuffer(Q),Fe=new Uint8Array(De);for(ie=0;ie<F;ie+=4)ne=Ce.indexOf(R[ie]),Te=Ce.indexOf(R[ie+1]),Oe=Ce.indexOf(R[ie+2]),ke=Ce.indexOf(R[ie+3]),Fe[ae++]=ne<<2|Te>>4,Fe[ae++]=(Te&15)<<4|Oe>>2,Fe[ae++]=(Oe&3)<<6|ke&63;return De}function ze(R){var Q=new Uint8Array(R),F="",ie;for(ie=0;ie<Q.length;ie+=3)F+=Ce[Q[ie]>>2],F+=Ce[(Q[ie]&3)<<4|Q[ie+1]>>4],F+=Ce[(Q[ie+1]&15)<<2|Q[ie+2]>>6],F+=Ce[Q[ie+2]&63];return Q.length%3===2?F=F.substring(0,F.length-1)+"=":Q.length%3===1&&(F=F.substring(0,F.length-2)+"=="),F}function nt(R,Q){var F="";if(R&&(F=Be.call(R)),R&&(F==="[object ArrayBuffer]"||R.buffer&&Be.call(R.buffer)==="[object ArrayBuffer]")){var ie,ae=et;R instanceof ArrayBuffer?(ie=R,ae+=je):(ie=R.buffer,F==="[object Int8Array]"?ae+=pt:F==="[object Uint8Array]"?ae+=Ue:F==="[object Uint8ClampedArray]"?ae+=gt:F==="[object Int16Array]"?ae+=Yt:F==="[object Uint16Array]"?ae+=Wn:F==="[object Int32Array]"?ae+=on:F==="[object Uint32Array]"?ae+=he:F==="[object Float32Array]"?ae+=Ie:F==="[object Float64Array]"?ae+=Ve:Q(new Error("Failed to get type for BinaryArray"))),Q(ae+ze(ie))}else if(F==="[object Blob]"){var ne=new FileReader;ne.onload=function(){var Te=Ae+R.type+"~"+ze(this.result);Q(et+Me+Te)},ne.readAsArrayBuffer(R)}else try{Q(JSON.stringify(R))}catch(Te){console.error("Couldn't convert value into a JSON string: ",R),Q(null,Te)}}function vn(R){if(R.substring(0,Bt)!==et)return JSON.parse(R);var Q=R.substring(st),F=R.substring(Bt,st),ie;if(F===Me&&qe.test(Q)){var ae=Q.match(qe);ie=ae[1],Q=Q.substring(ae[0].length)}var ne=ot(Q);switch(F){case je:return ne;case Me:return c([ne],{type:ie});case pt:return new Int8Array(ne);case Ue:return new Uint8Array(ne);case gt:return new Uint8ClampedArray(ne);case Yt:return new Int16Array(ne);case Wn:return new Uint16Array(ne);case on:return new Int32Array(ne);case he:return new Uint32Array(ne);case Ie:return new Float32Array(ne);case Ve:return new Float64Array(ne);default:throw new Error("Unkown type: "+F)}}var Ht={serialize:nt,deserialize:vn,stringToBuffer:ot,bufferToString:ze};function wt(R,Q,F,ie){R.executeSql("CREATE TABLE IF NOT EXISTS "+Q.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],F,ie)}function Mn(R){var Q=this,F={db:null};if(R)for(var ie in R)F[ie]=typeof R[ie]!="string"?R[ie].toString():R[ie];var ae=new f(function(ne,Te){try{F.db=openDatabase(F.name,String(F.version),F.description,F.size)}catch(Oe){return Te(Oe)}F.db.transaction(function(Oe){wt(Oe,F,function(){Q._dbInfo=F,ne()},function(ke,De){Te(De)})},Te)});return F.serializer=Ht,ae}function bn(R,Q,F,ie,ae,ne){R.executeSql(F,ie,ae,function(Te,Oe){Oe.code===Oe.SYNTAX_ERR?Te.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[Q.storeName],function(ke,De){De.rows.length?ne(ke,Oe):wt(ke,Q,function(){ke.executeSql(F,ie,ae,ne)},ne)},ne):ne(Te,Oe)},ne)}function Zo(R,Q){var F=this;R=p(R);var ie=new f(function(ae,ne){F.ready().then(function(){var Te=F._dbInfo;Te.db.transaction(function(Oe){bn(Oe,Te,"SELECT * FROM "+Te.storeName+" WHERE key = ? LIMIT 1",[R],function(ke,De){var Fe=De.rows.length?De.rows.item(0).value:null;Fe&&(Fe=Te.serializer.deserialize(Fe)),ae(Fe)},function(ke,De){ne(De)})})}).catch(ne)});return d(ie,Q),ie}function lr(R,Q){var F=this,ie=new f(function(ae,ne){F.ready().then(function(){var Te=F._dbInfo;Te.db.transaction(function(Oe){bn(Oe,Te,"SELECT * FROM "+Te.storeName,[],function(ke,De){for(var Fe=De.rows,Je=Fe.length,Mt=0;Mt<Je;Mt++){var mn=Fe.item(Mt),En=mn.value;if(En&&(En=Te.serializer.deserialize(En)),En=R(En,mn.key,Mt+1),En!==void 0){ae(En);return}}ae()},function(ke,De){ne(De)})})}).catch(ne)});return d(ie,Q),ie}function $i(R,Q,F,ie){var ae=this;R=p(R);var ne=new f(function(Te,Oe){ae.ready().then(function(){Q===void 0&&(Q=null);var ke=Q,De=ae._dbInfo;De.serializer.serialize(Q,function(Fe,Je){Je?Oe(Je):De.db.transaction(function(Mt){bn(Mt,De,"INSERT OR REPLACE INTO "+De.storeName+" (key, value) VALUES (?, ?)",[R,Fe],function(){Te(ke)},function(mn,En){Oe(En)})},function(Mt){if(Mt.code===Mt.QUOTA_ERR){if(ie>0){Te($i.apply(ae,[R,ke,F,ie-1]));return}Oe(Mt)}})})}).catch(Oe)});return d(ne,F),ne}function yr(R,Q,F){return $i.apply(this,[R,Q,F,1])}function kr(R,Q){var F=this;R=p(R);var ie=new f(function(ae,ne){F.ready().then(function(){var Te=F._dbInfo;Te.db.transaction(function(Oe){bn(Oe,Te,"DELETE FROM "+Te.storeName+" WHERE key = ?",[R],function(){ae()},function(ke,De){ne(De)})})}).catch(ne)});return d(ie,Q),ie}function cr(R){var Q=this,F=new f(function(ie,ae){Q.ready().then(function(){var ne=Q._dbInfo;ne.db.transaction(function(Te){bn(Te,ne,"DELETE FROM "+ne.storeName,[],function(){ie()},function(Oe,ke){ae(ke)})})}).catch(ae)});return d(F,R),F}function Fn(R){var Q=this,F=new f(function(ie,ae){Q.ready().then(function(){var ne=Q._dbInfo;ne.db.transaction(function(Te){bn(Te,ne,"SELECT COUNT(key) as c FROM "+ne.storeName,[],function(Oe,ke){var De=ke.rows.item(0).c;ie(De)},function(Oe,ke){ae(ke)})})}).catch(ae)});return d(F,R),F}function Jt(R,Q){var F=this,ie=new f(function(ae,ne){F.ready().then(function(){var Te=F._dbInfo;Te.db.transaction(function(Oe){bn(Oe,Te,"SELECT key FROM "+Te.storeName+" WHERE id = ? LIMIT 1",[R+1],function(ke,De){var Fe=De.rows.length?De.rows.item(0).key:null;ae(Fe)},function(ke,De){ne(De)})})}).catch(ne)});return d(ie,Q),ie}function ti(R){var Q=this,F=new f(function(ie,ae){Q.ready().then(function(){var ne=Q._dbInfo;ne.db.transaction(function(Te){bn(Te,ne,"SELECT key FROM "+ne.storeName,[],function(Oe,ke){for(var De=[],Fe=0;Fe<ke.rows.length;Fe++)De.push(ke.rows.item(Fe).key);ie(De)},function(Oe,ke){ae(ke)})})}).catch(ae)});return d(F,R),F}function _r(R){return new f(function(Q,F){R.transaction(function(ie){ie.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(ae,ne){for(var Te=[],Oe=0;Oe<ne.rows.length;Oe++)Te.push(ne.rows.item(Oe).name);Q({db:R,storeNames:Te})},function(ae,ne){F(ne)})},function(ie){F(ie)})})}function Dr(R,Q){Q=m.apply(this,arguments);var F=this.config();R=typeof R!="function"&&R||{},R.name||(R.name=R.name||F.name,R.storeName=R.storeName||F.storeName);var ie=this,ae;return R.name?ae=new f(function(ne){var Te;R.name===F.name?Te=ie._dbInfo.db:Te=openDatabase(R.name,"","",0),R.storeName?ne({db:Te,storeNames:[R.storeName]}):ne(_r(Te))}).then(function(ne){return new f(function(Te,Oe){ne.db.transaction(function(ke){function De(mn){return new f(function(En,vr){ke.executeSql("DROP TABLE IF EXISTS "+mn,[],function(){En()},function(er,ps){vr(ps)})})}for(var Fe=[],Je=0,Mt=ne.storeNames.length;Je<Mt;Je++)Fe.push(De(ne.storeNames[Je]));f.all(Fe).then(function(){Te()}).catch(function(mn){Oe(mn)})},function(ke){Oe(ke)})})}):ae=f.reject("Invalid arguments"),d(ae,Q),ae}var mi={_driver:"webSQLStorage",_initStorage:Mn,_support:Ee(),iterate:lr,getItem:Zo,setItem:yr,removeItem:kr,clear:cr,length:Fn,key:Jt,keys:ti,dropInstance:Dr};function ds(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function X(R,Q){var F=R.name+"/";return R.storeName!==Q.storeName&&(F+=R.storeName+"/"),F}function H(){var R="_localforage_support_test";try{return localStorage.setItem(R,!0),localStorage.removeItem(R),!1}catch{return!0}}function ee(){return!H()||localStorage.length>0}function _e(R){var Q=this,F={};if(R)for(var ie in R)F[ie]=R[ie];return F.keyPrefix=X(R,Q._defaultConfig),ee()?(Q._dbInfo=F,F.serializer=Ht,f.resolve()):f.reject()}function ge(R){var Q=this,F=Q.ready().then(function(){for(var ie=Q._dbInfo.keyPrefix,ae=localStorage.length-1;ae>=0;ae--){var ne=localStorage.key(ae);ne.indexOf(ie)===0&&localStorage.removeItem(ne)}});return d(F,R),F}function Ge(R,Q){var F=this;R=p(R);var ie=F.ready().then(function(){var ae=F._dbInfo,ne=localStorage.getItem(ae.keyPrefix+R);return ne&&(ne=ae.serializer.deserialize(ne)),ne});return d(ie,Q),ie}function xe(R,Q){var F=this,ie=F.ready().then(function(){for(var ae=F._dbInfo,ne=ae.keyPrefix,Te=ne.length,Oe=localStorage.length,ke=1,De=0;De<Oe;De++){var Fe=localStorage.key(De);if(Fe.indexOf(ne)===0){var Je=localStorage.getItem(Fe);if(Je&&(Je=ae.serializer.deserialize(Je)),Je=R(Je,Fe.substring(Te),ke++),Je!==void 0)return Je}}});return d(ie,Q),ie}function We(R,Q){var F=this,ie=F.ready().then(function(){var ae=F._dbInfo,ne;try{ne=localStorage.key(R)}catch{ne=null}return ne&&(ne=ne.substring(ae.keyPrefix.length)),ne});return d(ie,Q),ie}function lt(R){var Q=this,F=Q.ready().then(function(){for(var ie=Q._dbInfo,ae=localStorage.length,ne=[],Te=0;Te<ae;Te++){var Oe=localStorage.key(Te);Oe.indexOf(ie.keyPrefix)===0&&ne.push(Oe.substring(ie.keyPrefix.length))}return ne});return d(F,R),F}function tt(R){var Q=this,F=Q.keys().then(function(ie){return ie.length});return d(F,R),F}function mt(R,Q){var F=this;R=p(R);var ie=F.ready().then(function(){var ae=F._dbInfo;localStorage.removeItem(ae.keyPrefix+R)});return d(ie,Q),ie}function Dt(R,Q,F){var ie=this;R=p(R);var ae=ie.ready().then(function(){Q===void 0&&(Q=null);var ne=Q;return new f(function(Te,Oe){var ke=ie._dbInfo;ke.serializer.serialize(Q,function(De,Fe){if(Fe)Oe(Fe);else try{localStorage.setItem(ke.keyPrefix+R,De),Te(ne)}catch(Je){(Je.name==="QuotaExceededError"||Je.name==="NS_ERROR_DOM_QUOTA_REACHED")&&Oe(Je),Oe(Je)}})})});return d(ae,F),ae}function kn(R,Q){if(Q=m.apply(this,arguments),R=typeof R!="function"&&R||{},!R.name){var F=this.config();R.name=R.name||F.name,R.storeName=R.storeName||F.storeName}var ie=this,ae;return R.name?ae=new f(function(ne){R.storeName?ne(X(R,ie._defaultConfig)):ne(R.name+"/")}).then(function(ne){for(var Te=localStorage.length-1;Te>=0;Te--){var Oe=localStorage.key(Te);Oe.indexOf(ne)===0&&localStorage.removeItem(Oe)}}):ae=f.reject("Invalid arguments"),d(ae,Q),ae}var ht={_driver:"localStorageWrapper",_initStorage:_e,_support:ds(),iterate:xe,getItem:Ge,setItem:Dt,removeItem:mt,clear:ge,length:tt,key:We,keys:lt,dropInstance:kn},In=function(Q,F){return Q===F||typeof Q=="number"&&typeof F=="number"&&isNaN(Q)&&isNaN(F)},vt=function(Q,F){for(var ie=Q.length,ae=0;ae<ie;){if(In(Q[ae],F))return!0;ae++}return!1},pn=Array.isArray||function(R){return Object.prototype.toString.call(R)==="[object Array]"},Zn={},zr={},Ar={INDEXEDDB:pe,WEBSQL:mi,LOCALSTORAGE:ht},ns=[Ar.INDEXEDDB._driver,Ar.WEBSQL._driver,Ar.LOCALSTORAGE._driver],gi=["dropInstance"],fr=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(gi),Qe={description:"",driver:ns.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Vt(R,Q){R[Q]=function(){var F=arguments;return R.ready().then(function(){return R[Q].apply(R,F)})}}function Vn(){for(var R=1;R<arguments.length;R++){var Q=arguments[R];if(Q)for(var F in Q)Q.hasOwnProperty(F)&&(pn(Q[F])?arguments[0][F]=Q[F].slice():arguments[0][F]=Q[F])}return arguments[0]}var ni=function(){function R(Q){o(this,R);for(var F in Ar)if(Ar.hasOwnProperty(F)){var ie=Ar[F],ae=ie._driver;this[F]=ae,Zn[ae]||this.defineDriver(ie)}this._defaultConfig=Vn({},Qe),this._config=Vn({},this._defaultConfig,Q),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return R.prototype.config=function(F){if((typeof F>"u"?"undefined":s(F))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var ie in F){if(ie==="storeName"&&(F[ie]=F[ie].replace(/\W/g,"_")),ie==="version"&&typeof F[ie]!="number")return new Error("Database version must be a number.");this._config[ie]=F[ie]}return"driver"in F&&F.driver?this.setDriver(this._config.driver):!0}else return typeof F=="string"?this._config[F]:this._config},R.prototype.defineDriver=function(F,ie,ae){var ne=new f(function(Te,Oe){try{var ke=F._driver,De=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!F._driver){Oe(De);return}for(var Fe=fr.concat("_initStorage"),Je=0,Mt=Fe.length;Je<Mt;Je++){var mn=Fe[Je],En=!vt(gi,mn);if((En||F[mn])&&typeof F[mn]!="function"){Oe(De);return}}var vr=function(){for(var If=function(Ax){return function(){var lh=new Error("Method "+Ax+" is not implemented by the current driver"),ch=f.reject(lh);return d(ch,arguments[arguments.length-1]),ch}},r0=0,i0=gi.length;r0<i0;r0++){var s0=gi[r0];F[s0]||(F[s0]=If(s0))}};vr();var er=function(If){Zn[ke]&&console.info("Redefining LocalForage driver: "+ke),Zn[ke]=F,zr[ke]=If,Te()};"_support"in F?F._support&&typeof F._support=="function"?F._support().then(er,Oe):er(!!F._support):er(!0)}catch(ps){Oe(ps)}});return h(ne,ie,ae),ne},R.prototype.driver=function(){return this._driver||null},R.prototype.getDriver=function(F,ie,ae){var ne=Zn[F]?f.resolve(Zn[F]):f.reject(new Error("Driver not found."));return h(ne,ie,ae),ne},R.prototype.getSerializer=function(F){var ie=f.resolve(Ht);return h(ie,F),ie},R.prototype.ready=function(F){var ie=this,ae=ie._driverSet.then(function(){return ie._ready===null&&(ie._ready=ie._initDriver()),ie._ready});return h(ae,F,F),ae},R.prototype.setDriver=function(F,ie,ae){var ne=this;pn(F)||(F=[F]);var Te=this._getSupportedDrivers(F);function Oe(){ne._config.driver=ne.driver()}function ke(Je){return ne._extend(Je),Oe(),ne._ready=ne._initStorage(ne._config),ne._ready}function De(Je){return function(){var Mt=0;function mn(){for(;Mt<Je.length;){var En=Je[Mt];return Mt++,ne._dbInfo=null,ne._ready=null,ne.getDriver(En).then(ke).catch(mn)}Oe();var vr=new Error("No available storage method found.");return ne._driverSet=f.reject(vr),ne._driverSet}return mn()}}var Fe=this._driverSet!==null?this._driverSet.catch(function(){return f.resolve()}):f.resolve();return this._driverSet=Fe.then(function(){var Je=Te[0];return ne._dbInfo=null,ne._ready=null,ne.getDriver(Je).then(function(Mt){ne._driver=Mt._driver,Oe(),ne._wrapLibraryMethodsWithReady(),ne._initDriver=De(Te)})}).catch(function(){Oe();var Je=new Error("No available storage method found.");return ne._driverSet=f.reject(Je),ne._driverSet}),h(this._driverSet,ie,ae),this._driverSet},R.prototype.supports=function(F){return!!zr[F]},R.prototype._extend=function(F){Vn(this,F)},R.prototype._getSupportedDrivers=function(F){for(var ie=[],ae=0,ne=F.length;ae<ne;ae++){var Te=F[ae];this.supports(Te)&&ie.push(Te)}return ie},R.prototype._wrapLibraryMethodsWithReady=function(){for(var F=0,ie=fr.length;F<ie;F++)Vt(this,fr[F])},R.prototype.createInstance=function(F){return new R(F)},R}(),hs=new ni;r.exports=hs},{3:3}]},{},[4])(4)})})(Ure);var uqe=Ure.exports;const Vre=Ca(uqe);let p1;const lqe=new Uint8Array(16);function cqe(){if(!p1&&(p1=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!p1))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return p1(lqe)}const vi=[];for(let e=0;e<256;++e)vi.push((e+256).toString(16).slice(1));function fqe(e,t=0){return vi[e[t+0]]+vi[e[t+1]]+vi[e[t+2]]+vi[e[t+3]]+"-"+vi[e[t+4]]+vi[e[t+5]]+"-"+vi[e[t+6]]+vi[e[t+7]]+"-"+vi[e[t+8]]+vi[e[t+9]]+"-"+vi[e[t+10]]+vi[e[t+11]]+vi[e[t+12]]+vi[e[t+13]]+vi[e[t+14]]+vi[e[t+15]]}const dqe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),FU={randomUUID:dqe};function BU(e,t,n){if(FU.randomUUID&&!t&&!e)return FU.randomUUID();e=e||{};const r=e.random||(e.rng||cqe)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=r[i];return t}return fqe(r)}class zre{constructor(t){qs(this,"engine");qs(this,"connected",!1);qs(this,"currentParticipantId",null);this.engine=t}isConnected(){return this.connected}getEngine(){return this.engine}}async function Cp(e){const t=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(s=>s.toString(16).padStart(2,"0")).join("")}class hqe extends zre{constructor(){super("localStorage");qs(this,"studyDatabase")}async connect(){this.connected=!0}async initializeStudyDb(n,r){this.studyDatabase=await Vre.createInstance({name:n});const i=await Cp(JSON.stringify(r)),s=await this.studyDatabase.getItem("configs");await this.studyDatabase.setItem("configs",{...s,[i]:r})}async initializeParticipantSession(n,r,i){var u;if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");if(await this.getCurrentParticipantId(i),!this.currentParticipantId)throw new Error("Participant not initialized");const s=await this.studyDatabase.getItem(this.currentParticipantId);if(s)return s;const o=await Cp(JSON.stringify(r)),a={participantId:this.currentParticipantId,participantConfigHash:o,sequence:await this.getSequence(),answers:{},searchParams:n};return await((u=this.studyDatabase)==null?void 0:u.setItem(this.currentParticipantId,a)),a}async getCurrentParticipantId(n){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const r=await this.studyDatabase.getItem("currentParticipant");if(n)return this.currentParticipantId=n,await this.studyDatabase.setItem("currentParticipant",n),n;if(r)return this.currentParticipantId=r,r;const i=BU();return await this.studyDatabase.setItem("currentParticipant",i),this.currentParticipantId=i,i}async clearCurrentParticipantId(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");await this.studyDatabase.removeItem("currentParticipant")}async saveAnswer(n,r){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");if(!this.currentParticipantId)throw new Error("Participant not initialized");const i=await this.studyDatabase.getItem(this.currentParticipantId);if(!i)throw new Error("Participant not initialized");i.answers[n]=r,await this.studyDatabase.setItem(this.currentParticipantId,i)}async setSequenceArray(n){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");this.studyDatabase.setItem("sequenceArray",n)}async getSequence(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=await this.studyDatabase.getItem("sequenceArray");if(!n)throw new Error("Latin square not initialized");const r=n.pop();if(!r)throw new Error("Latin square is empty");return await this.studyDatabase.setItem("sequenceArray",n),r}async getSequenceArray(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");return await this.studyDatabase.getItem("sequenceArray")}async getAllParticipantsData(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=[];return await this.studyDatabase.iterate((r,i)=>{i!=="config"&&i!=="currentParticipant"&&i!=="sequenceArray"&&n.push(r)}),n}async getParticipantData(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=await this.studyDatabase.getItem("currentParticipant");return n?await this.studyDatabase.getItem(n):null}async nextParticipant(n){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const r=BU();this.studyDatabase.setItem("currentParticipant",r),this.currentParticipantId=r;let i=await this.studyDatabase.getItem(r);if(!i){const s=await Cp(JSON.stringify(n)),o={participantId:r,participantConfigHash:s,sequence:await this.getSequence(),answers:{},searchParams:{}};await this.studyDatabase.setItem(r,o),i=o}return i}async verifyCompletion(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=await this.getParticipantData();if(!n)throw new Error("Participant not initialized");return n.sequence.every(i=>i==="end"?!0:n.answers[i]!==void 0)}_verifyStudyDatabase(n){return n!==void 0}}var jU={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hre=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},pqe=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],a=e[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(u>>10)),t[r++]=String.fromCharCode(56320+(u&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},C3={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,a=o?e[i+1]:0,u=i+2<e.length,l=u?e[i+2]:0,c=s>>2,f=(s&3)<<4|a>>4;let d=(a&15)<<2|l>>6,h=l&63;u||(h=64,o||(d=64)),r.push(n[c],n[f],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Hre(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):pqe(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const l=i<e.length?n[e.charAt(i)]:64;++i;const f=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||a==null||l==null||f==null)throw new mqe;const d=s<<2|a>>4;if(r.push(d),l!==64){const h=a<<4&240|l>>2;if(r.push(h),f!==64){const p=l<<6&192|f;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class mqe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gqe=function(e){const t=Hre(e);return C3.encodeByteArray(t,!0)},OT=function(e){return gqe(e).replace(/\./g,"")},qre=function(e){try{return C3.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wre(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yqe=()=>Wre().__FIREBASE_DEFAULTS__,_qe=()=>{if(typeof process>"u"||typeof jU>"u")return;const e=jU.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},vqe=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&qre(e[1]);return t&&JSON.parse(t)},A3=()=>{try{return yqe()||_qe()||vqe()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Yre=e=>{var t,n;return(n=(t=A3())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},bqe=e=>{const t=Yre(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Gre=()=>{var e;return(e=A3())===null||e===void 0?void 0:e.config},Kre=e=>{var t;return(t=A3())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eqe(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[OT(JSON.stringify(n)),OT(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wqe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qi())}function Tqe(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Sqe(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Iqe(){const e=Qi();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function O3(){try{return typeof indexedDB=="object"}catch{return!1}}function xqe(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cqe="FirebaseError";class $u extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=Cqe,Object.setPrototypeOf(this,$u.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gm.prototype.create)}}class Gm{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?Aqe(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new $u(i,a,r)}}function Aqe(e,t){return e.replace(Oqe,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const Oqe=/\{\$([^}]+)}/g;function Pqe(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function By(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(UU(s)&&UU(o)){if(!By(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function UU(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Rqe(e,t){const n=new Nqe(e,t);return n.subscribe.bind(n)}class Nqe{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");kqe(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=qA),i.error===void 0&&(i.error=qA),i.complete===void 0&&(i.complete=qA);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kqe(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function qA(){}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dqe=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $qe=1e3,Lqe=2,Mqe=4*60*60*1e3,Fqe=.5;function Bqe(e,t=$qe,n=Lqe){const r=t*Math.pow(n,e),i=Math.round(Fqe*r*(Math.random()-.5)*2);return Math.min(Mqe,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xi(e){return e&&e._delegate?e._delegate:e}class xu{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mf="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jqe{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new Fy;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Vqe(t))try{this.getOrInitializeService({instanceIdentifier:Mf})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=Mf){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Mf){return this.instances.has(t)}getOptions(t=Mf){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Uqe(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Mf){return this.component?this.component.multipleInstances?t:Mf:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Uqe(e){return e===Mf?void 0:e}function Vqe(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zqe{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new jqe(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tn;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(tn||(tn={}));const Hqe={debug:tn.DEBUG,verbose:tn.VERBOSE,info:tn.INFO,warn:tn.WARN,error:tn.ERROR,silent:tn.SILENT},qqe=tn.INFO,Wqe={[tn.DEBUG]:"log",[tn.VERBOSE]:"log",[tn.INFO]:"info",[tn.WARN]:"warn",[tn.ERROR]:"error"},Yqe=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=Wqe[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class GI{constructor(t){this.name=t,this._logLevel=qqe,this._logHandler=Yqe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in tn))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Hqe[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,tn.DEBUG,...t),this._logHandler(this,tn.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,tn.VERBOSE,...t),this._logHandler(this,tn.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,tn.INFO,...t),this._logHandler(this,tn.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,tn.WARN,...t),this._logHandler(this,tn.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,tn.ERROR,...t),this._logHandler(this,tn.ERROR,...t)}}const Gqe=(e,t)=>t.some(n=>e instanceof n);let VU,zU;function Kqe(){return VU||(VU=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Qqe(){return zU||(zU=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Qre=new WeakMap,nR=new WeakMap,Xre=new WeakMap,WA=new WeakMap,P3=new WeakMap;function Xqe(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(Uc(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&Qre.set(n,e)}).catch(()=>{}),P3.set(t,e),t}function Jqe(e){if(nR.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});nR.set(e,t)}let rR={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return nR.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Xre.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Uc(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Zqe(e){rR=e(rR)}function eWe(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(YA(this),t,...n);return Xre.set(r,t.sort?t.sort():[t]),Uc(r)}:Qqe().includes(e)?function(...t){return e.apply(YA(this),t),Uc(Qre.get(this))}:function(...t){return Uc(e.apply(YA(this),t))}}function tWe(e){return typeof e=="function"?eWe(e):(e instanceof IDBTransaction&&Jqe(e),Gqe(e,Kqe())?new Proxy(e,rR):e)}function Uc(e){if(e instanceof IDBRequest)return Xqe(e);if(WA.has(e))return WA.get(e);const t=tWe(e);return t!==e&&(WA.set(e,t),P3.set(t,e)),t}const YA=e=>P3.get(e);function nWe(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=Uc(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Uc(o.result),u.oldVersion,u.newVersion,Uc(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const rWe=["get","getKey","getAll","getAllKeys","count"],iWe=["put","add","delete","clear"],GA=new Map;function HU(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(GA.get(t))return GA.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=iWe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||rWe.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),i&&u.done]))[0]};return GA.set(t,s),s}Zqe(e=>({...e,get:(t,n,r)=>HU(t,n)||e.get(t,n,r),has:(t,n)=>!!HU(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sWe{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(oWe(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function oWe(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const iR="@firebase/app",qU="0.9.24";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld=new GI("@firebase/app"),aWe="@firebase/app-compat",uWe="@firebase/analytics-compat",lWe="@firebase/analytics",cWe="@firebase/app-check-compat",fWe="@firebase/app-check",dWe="@firebase/auth",hWe="@firebase/auth-compat",pWe="@firebase/database",mWe="@firebase/database-compat",gWe="@firebase/functions",yWe="@firebase/functions-compat",_We="@firebase/installations",vWe="@firebase/installations-compat",bWe="@firebase/messaging",EWe="@firebase/messaging-compat",wWe="@firebase/performance",TWe="@firebase/performance-compat",SWe="@firebase/remote-config",IWe="@firebase/remote-config-compat",xWe="@firebase/storage",CWe="@firebase/storage-compat",AWe="@firebase/firestore",OWe="@firebase/firestore-compat",PWe="firebase",RWe="10.7.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR="[DEFAULT]",NWe={[iR]:"fire-core",[aWe]:"fire-core-compat",[lWe]:"fire-analytics",[uWe]:"fire-analytics-compat",[fWe]:"fire-app-check",[cWe]:"fire-app-check-compat",[dWe]:"fire-auth",[hWe]:"fire-auth-compat",[pWe]:"fire-rtdb",[mWe]:"fire-rtdb-compat",[gWe]:"fire-fn",[yWe]:"fire-fn-compat",[_We]:"fire-iid",[vWe]:"fire-iid-compat",[bWe]:"fire-fcm",[EWe]:"fire-fcm-compat",[wWe]:"fire-perf",[TWe]:"fire-perf-compat",[SWe]:"fire-rc",[IWe]:"fire-rc-compat",[xWe]:"fire-gcs",[CWe]:"fire-gcs-compat",[AWe]:"fire-fst",[OWe]:"fire-fst-compat","fire-js":"fire-js",[PWe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT=new Map,oR=new Map;function kWe(e,t){try{e.container.addComponent(t)}catch(n){Ld.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Ol(e){const t=e.name;if(oR.has(t))return Ld.debug(`There were multiple attempts to register component ${t}.`),!1;oR.set(t,e);for(const n of PT.values())kWe(n,e);return!0}function Km(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DWe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Vc=new Gm("app","Firebase",DWe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $We{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new xu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Vc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sh=RWe;function Jre(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:sR,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw Vc.create("bad-app-name",{appName:String(i)});if(n||(n=Gre()),!n)throw Vc.create("no-options");const s=PT.get(i);if(s){if(By(n,s.options)&&By(r,s.config))return s;throw Vc.create("duplicate-app",{appName:i})}const o=new zqe(i);for(const u of oR.values())o.addComponent(u);const a=new $We(n,r,o);return PT.set(i,a),a}function R3(e=sR){const t=PT.get(e);if(!t&&e===sR&&Gre())return Jre();if(!t)throw Vc.create("no-app",{appName:e});return t}function Ea(e,t,n){var r;let i=(r=NWe[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${t}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ld.warn(a.join(" "));return}Ol(new xu(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LWe="firebase-heartbeat-database",MWe=1,jy="firebase-heartbeat-store";let KA=null;function Zre(){return KA||(KA=nWe(LWe,MWe,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(jy)}}}).catch(e=>{throw Vc.create("idb-open",{originalErrorMessage:e.message})})),KA}async function FWe(e){try{return await(await Zre()).transaction(jy).objectStore(jy).get(eie(e))}catch(t){if(t instanceof $u)Ld.warn(t.message);else{const n=Vc.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ld.warn(n.message)}}}async function WU(e,t){try{const r=(await Zre()).transaction(jy,"readwrite");await r.objectStore(jy).put(t,eie(e)),await r.done}catch(n){if(n instanceof $u)Ld.warn(n.message);else{const r=Vc.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ld.warn(r.message)}}}function eie(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BWe=1024,jWe=30*24*60*60*1e3;class UWe{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new zWe(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=YU();if(!(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=jWe}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=YU(),{heartbeatsToSend:r,unsentEntries:i}=VWe(this._heartbeatsCache.heartbeats),s=OT(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function YU(){return new Date().toISOString().substring(0,10)}function VWe(e,t=BWe){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),GU(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),GU(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class zWe{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return O3()?xqe().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await FWe(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return WU(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return WU(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function GU(e){return OT(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HWe(e){Ol(new xu("platform-logger",t=>new sWe(t),"PRIVATE")),Ol(new xu("heartbeat",t=>new UWe(t),"PRIVATE")),Ea(iR,qU,e),Ea(iR,qU,"esm2017"),Ea("fire-js","")}HWe("");var qWe="firebase",WWe="10.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ea(qWe,WWe,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tie="firebasestorage.googleapis.com",nie="storageBucket",YWe=2*60*1e3,GWe=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr extends $u{constructor(t,n,r=0){super(QA(t),`Firebase Storage: ${n} (${QA(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Cr.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return QA(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ir;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ir||(Ir={}));function QA(e){return"storage/"+e}function N3(){const e="An unknown error occurred, please check the error payload for server response.";return new Cr(Ir.UNKNOWN,e)}function KWe(e){return new Cr(Ir.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function QWe(e){return new Cr(Ir.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function XWe(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Cr(Ir.UNAUTHENTICATED,e)}function JWe(){return new Cr(Ir.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function ZWe(e){return new Cr(Ir.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function eYe(){return new Cr(Ir.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function tYe(){return new Cr(Ir.CANCELED,"User canceled the upload/download.")}function nYe(e){return new Cr(Ir.INVALID_URL,"Invalid URL '"+e+"'.")}function rYe(e){return new Cr(Ir.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function iYe(){return new Cr(Ir.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+nie+"' property when initializing the app?")}function sYe(){return new Cr(Ir.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function oYe(){return new Cr(Ir.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function aYe(e){return new Cr(Ir.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function aR(e){return new Cr(Ir.INVALID_ARGUMENT,e)}function rie(){return new Cr(Ir.APP_DELETED,"The Firebase app was deleted.")}function uYe(e){return new Cr(Ir.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Bg(e,t){return new Cr(Ir.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function M0(e){throw new Cr(Ir.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=io.makeFromUrl(t,n)}catch{return new io(t,"")}if(r.path==="")return r;throw rYe(t)}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(T){T.path.charAt(T.path.length-1)==="/"&&(T.path_=T.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function l(T){T.path_=decodeURIComponent(T.path)}const c="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",h=new RegExp(`^https?://${f}/${c}/b/${i}/o${d}`,"i"),p={bucket:1,path:3},m=n===tie?"(?:storage.googleapis.com|storage.cloud.google.com)":n,y="([^?#]*)",g=new RegExp(`^https?://${m}/${i}/${y}`,"i"),b=[{regex:a,indices:u,postModify:s},{regex:h,indices:p,postModify:l},{regex:g,indices:{bucket:1,path:2},postModify:l}];for(let T=0;T<b.length;T++){const I=b[T],E=I.regex.exec(t);if(E){const S=E[I.indices.bucket];let A=E[I.indices.path];A||(A=""),r=new io(S,A),I.postModify(r);break}}if(r==null)throw nYe(t);return r}}class lYe{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cYe(e,t,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return a===2}let l=!1;function c(...y){l||(l=!0,t.apply(null,y))}function f(y){i=setTimeout(()=>{i=null,e(h,u())},y)}function d(){s&&clearTimeout(s)}function h(y,...g){if(l){d();return}if(y){d(),c.call(null,y,...g);return}if(u()||o){d(),c.call(null,y,...g);return}r<64&&(r*=2);let b;a===1?(a=2,b=0):b=(r+Math.random())*1e3,f(b)}let p=!1;function m(y){p||(p=!0,d(),!l&&(i!==null?(y||(a=2),clearTimeout(i),f(0)):y||(a=1)))}return f(0),s=setTimeout(()=>{o=!0,m(!0)},n),m}function fYe(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dYe(e){return e!==void 0}function hYe(e){return typeof e=="object"&&!Array.isArray(e)}function k3(e){return typeof e=="string"||e instanceof String}function KU(e){return D3()&&e instanceof Blob}function D3(){return typeof Blob<"u"}function QU(e,t,n,r){if(r<t)throw aR(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw aR(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $3(e,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function iie(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yd;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(yd||(yd={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pYe(e,t){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,s=t.indexOf(e)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mYe{constructor(t,n,r,i,s,o,a,u,l,c,f,d=!0){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=f,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,p)=>{this.resolve_=h,this.reject_=p,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new m1(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const u=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,l)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===yd.NO_ERROR,u=s.getStatus();if(!a||pYe(u,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===yd.ABORT;r(!1,new m1(!1,null,c));return}const l=this.successCodes_.indexOf(u)!==-1;r(!0,new m1(l,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());dYe(u)?s(u):s()}catch(u){o(u)}else if(a!==null){const u=N3();u.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,u)):o(u)}else if(i.canceled){const u=this.appDelete_?rie():tYe();o(u)}else{const u=eYe();o(u)}};this.canceled_?n(!1,new m1(!1,null,!0)):this.backoffId_=cYe(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&fYe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class m1{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function gYe(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function yYe(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function _Ye(e,t){t&&(e["X-Firebase-GMPID"]=t)}function vYe(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function bYe(e,t,n,r,i,s,o=!0){const a=iie(e.urlParams),u=e.url+a,l=Object.assign({},e.headers);return _Ye(l,t),gYe(l,n),yYe(l,s),vYe(l,r),new mYe(u,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EYe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function wYe(...e){const t=EYe();if(t!==void 0){const n=new t;for(let r=0;r<e.length;r++)n.append(e[r]);return n.getBlob()}else{if(D3())return new Blob(e);throw new Cr(Ir.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function TYe(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SYe(e){if(typeof atob>"u")throw aYe("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nu={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class XA{constructor(t,n){this.data=t,this.contentType=n||null}}function IYe(e,t){switch(e){case nu.RAW:return new XA(sie(t));case nu.BASE64:case nu.BASE64URL:return new XA(oie(e,t));case nu.DATA_URL:return new XA(CYe(t),AYe(t))}throw N3()}function sie(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const s=r,o=e.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function xYe(e){let t;try{t=decodeURIComponent(e)}catch{throw Bg(nu.DATA_URL,"Malformed data URL.")}return sie(t)}function oie(e,t){switch(e){case nu.BASE64:{const i=t.indexOf("-")!==-1,s=t.indexOf("_")!==-1;if(i||s)throw Bg(e,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case nu.BASE64URL:{const i=t.indexOf("+")!==-1,s=t.indexOf("/")!==-1;if(i||s)throw Bg(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=SYe(t)}catch(i){throw i.message.includes("polyfill")?i:Bg(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class aie{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw Bg(nu.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=OYe(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function CYe(e){const t=new aie(e);return t.base64?oie(nu.BASE64,t.rest):xYe(t.rest)}function AYe(e){return new aie(e).contentType}function OYe(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(t,n){let r=0,i="";KU(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(t,n){if(KU(this.data_)){const r=this.data_,i=TYe(r,t,n);return i===null?null:new dc(i)}else{const r=new Uint8Array(this.data_.buffer,t,n-t);return new dc(r,!0)}}static getBlob(...t){if(D3()){const n=t.map(r=>r instanceof dc?r.data_:r);return new dc(wYe.apply(null,n))}else{const n=t.map(o=>k3(o)?IYe(nu.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new dc(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uie(e){let t;try{t=JSON.parse(e)}catch{return null}return hYe(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PYe(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function RYe(e,t){const n=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?n:e+"/"+n}function lie(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NYe(e,t){return t}class rs{constructor(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||NYe}}let g1=null;function kYe(e){return!k3(e)||e.length<2?e:lie(e)}function cie(){if(g1)return g1;const e=[];e.push(new rs("bucket")),e.push(new rs("generation")),e.push(new rs("metageneration")),e.push(new rs("name","fullPath",!0));function t(s,o){return kYe(o)}const n=new rs("name");n.xform=t,e.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new rs("size");return i.xform=r,e.push(i),e.push(new rs("timeCreated")),e.push(new rs("updated")),e.push(new rs("md5Hash",null,!0)),e.push(new rs("cacheControl",null,!0)),e.push(new rs("contentDisposition",null,!0)),e.push(new rs("contentEncoding",null,!0)),e.push(new rs("contentLanguage",null,!0)),e.push(new rs("contentType",null,!0)),e.push(new rs("metadata","customMetadata",!0)),g1=e,g1}function DYe(e,t){function n(){const r=e.bucket,i=e.fullPath,s=new io(r,i);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function $Ye(e,t,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,t[o.server])}return DYe(r,e),r}function fie(e,t,n){const r=uie(t);return r===null?null:$Ye(e,r,n)}function LYe(e,t,n,r){const i=uie(t);if(i===null||!k3(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(l=>{const c=e.bucket,f=e.fullPath,d="/b/"+o(c)+"/o/"+o(f),h=$3(d,n,r),p=iie({alt:"media",token:l});return h+p})[0]}function MYe(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const s=t[i];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}class die{constructor(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hie(e){if(!e)throw N3()}function FYe(e,t){function n(r,i){const s=fie(e,i,t);return hie(s!==null),s}return n}function BYe(e,t){function n(r,i){const s=fie(e,i,t);return hie(s!==null),LYe(s,i,e.host,e._protocol)}return n}function pie(e){function t(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=JWe():i=XWe():n.getStatus()===402?i=QWe(e.bucket):n.getStatus()===403?i=ZWe(e.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return t}function jYe(e){const t=pie(e);function n(r,i){let s=t(r,i);return r.getStatus()===404&&(s=KWe(e.path)),s.serverResponse=i.serverResponse,s}return n}function UYe(e,t,n){const r=t.fullServerUrl(),i=$3(r,e.host,e._protocol),s="GET",o=e.maxOperationRetryTime,a=new die(i,s,BYe(e,n),o);return a.errorHandler=jYe(t),a}function VYe(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function zYe(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=VYe(null,t)),r}function HYe(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let b="";for(let T=0;T<2;T++)b=b+Math.random().toString().slice(2);return b}const u=a();o["Content-Type"]="multipart/related; boundary="+u;const l=zYe(t,r,i),c=MYe(l,n),f="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+u+`\r
Content-Type: `+l.contentType+`\r
\r
`,d=`\r
--`+u+"--",h=dc.getBlob(f,r,d);if(h===null)throw sYe();const p={name:l.fullPath},m=$3(s,e.host,e._protocol),y="POST",g=e.maxUploadRetryTime,_=new die(m,y,FYe(e,n),g);return _.urlParams=p,_.headers=o,_.body=h.uploadData(),_.errorHandler=pie(t),_}class qYe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=yd.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=yd.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=yd.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,i){if(this.sent_)throw M0("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw M0("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw M0("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw M0("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw M0("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class WYe extends qYe{initXhr(){this.xhr_.responseType="text"}}function mie(){return new WYe}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(t,n){this._service=t,n instanceof io?this._location=n:this._location=io.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new Md(t,n)}get root(){const t=new io(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return lie(this._location.path)}get storage(){return this._service}get parent(){const t=PYe(this._location.path);if(t===null)return null;const n=new io(this._location.bucket,t);return new Md(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw uYe(t)}}function YYe(e,t,n){e._throwIfRoot("uploadBytes");const r=HYe(e.storage,e._location,cie(),new dc(t,!0),n);return e.storage.makeRequestWithTokens(r,mie).then(i=>({metadata:i,ref:e}))}function GYe(e){e._throwIfRoot("getDownloadURL");const t=UYe(e.storage,e._location,cie());return e.storage.makeRequestWithTokens(t,mie).then(n=>{if(n===null)throw oYe();return n})}function KYe(e,t){const n=RYe(e._location.path,t),r=new io(e._location.bucket,n);return new Md(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QYe(e){return/^[A-Za-z]+:\/\//.test(e)}function XYe(e,t){return new Md(e,t)}function gie(e,t){if(e instanceof L3){const n=e;if(n._bucket==null)throw iYe();const r=new Md(n,n._bucket);return t!=null?gie(r,t):r}else return t!==void 0?KYe(e,t):e}function JYe(e,t){if(t&&QYe(t)){if(e instanceof L3)return XYe(e,t);throw aR("To use ref(service, url), the first argument must be a Storage instance.")}else return gie(e,t)}function XU(e,t){const n=t==null?void 0:t[nie];return n==null?null:io.makeFromBucketSpec(n,e)}function ZYe(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken=typeof i=="string"?i:Eqe(i,e.app.options.projectId))}class L3{constructor(t,n,r,i,s){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=tie,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=YWe,this._maxUploadRetryTime=GWe,this._requests=new Set,i!=null?this._bucket=io.makeFromBucketSpec(i,this._host):this._bucket=XU(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=io.makeFromBucketSpec(this._url,t):this._bucket=XU(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){QU("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){QU("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Md(this,t)}_makeRequest(t,n,r,i,s=!0){if(this._deleted)return new lYe(rie());{const o=bYe(t,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()}}const JU="@firebase/storage",ZU="0.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yie="storage";function eGe(e,t,n){return e=Xi(e),YYe(e,t,n)}function tGe(e){return e=Xi(e),GYe(e)}function eV(e,t){return e=Xi(e),JYe(e,t)}function tV(e=R3(),t){e=Xi(e);const r=Km(e,yie).getImmediate({identifier:t}),i=bqe("storage");return i&&nGe(r,...i),r}function nGe(e,t,n,r={}){ZYe(e,t,n,r)}function rGe(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new L3(n,r,i,t,sh)}function iGe(){Ol(new xu(yie,rGe,"PUBLIC").setMultipleInstances(!0)),Ea(JU,ZU,""),Ea(JU,ZU,"esm2017")}iGe();var sGe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},He,M3=M3||{},Et=sGe||self;function KI(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function W_(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function oGe(e){return Object.prototype.hasOwnProperty.call(e,JA)&&e[JA]||(e[JA]=++aGe)}var JA="closure_uid_"+(1e9*Math.random()>>>0),aGe=0;function uGe(e,t,n){return e.call.apply(e.bind,arguments)}function lGe(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function Wi(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Wi=uGe:Wi=lGe,Wi.apply(null,arguments)}function y1(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function pi(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[i].apply(r,o)}}function Tf(){this.s=this.s,this.o=this.o}var cGe=0;Tf.prototype.s=!1;Tf.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),cGe!=0)&&oGe(this)};Tf.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const _ie=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function F3(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function nV(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(KI(r)){const i=e.length||0,s=r.length||0;e.length=i+s;for(let o=0;o<s;o++)e[i+o]=r[o]}else e.push(r)}}function Yi(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Yi.prototype.h=function(){this.defaultPrevented=!0};var fGe=function(){if(!Et.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const n=()=>{};Et.addEventListener("test",n,t),Et.removeEventListener("test",n,t)}catch{}return e}();function Uy(e){return/^[\s\xa0]*$/.test(e)}function QI(){var e=Et.navigator;return e&&(e=e.userAgent)?e:""}function Za(e){return QI().indexOf(e)!=-1}function B3(e){return B3[" "](e),e}B3[" "]=function(){};function dGe(e,t){var n=iKe;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var hGe=Za("Opera"),hm=Za("Trident")||Za("MSIE"),vie=Za("Edge"),uR=vie||hm,bie=Za("Gecko")&&!(QI().toLowerCase().indexOf("webkit")!=-1&&!Za("Edge"))&&!(Za("Trident")||Za("MSIE"))&&!Za("Edge"),pGe=QI().toLowerCase().indexOf("webkit")!=-1&&!Za("Edge");function Eie(){var e=Et.document;return e?e.documentMode:void 0}var lR;e:{var ZA="",eO=function(){var e=QI();if(bie)return/rv:([^\);]+)(\)|;)/.exec(e);if(vie)return/Edge\/([\d\.]+)/.exec(e);if(hm)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(pGe)return/WebKit\/(\S+)/.exec(e);if(hGe)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(eO&&(ZA=eO?eO[1]:""),hm){var tO=Eie();if(tO!=null&&tO>parseFloat(ZA)){lR=String(tO);break e}}lR=ZA}var cR;if(Et.document&&hm){var rV=Eie();cR=rV||parseInt(lR,10)||void 0}else cR=void 0;var mGe=cR;function Vy(e,t){if(Yi.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(bie){e:{try{B3(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:gGe[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Vy.$.h.call(this)}}pi(Vy,Yi);var gGe={2:"touch",3:"pen",4:"mouse"};Vy.prototype.h=function(){Vy.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Y_="closure_listenable_"+(1e6*Math.random()|0),yGe=0;function _Ge(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++yGe,this.fa=this.ia=!1}function XI(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function j3(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function vGe(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function wie(e){const t={};for(const n in e)t[n]=e[n];return t}const iV="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Tie(e,t){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(let s=0;s<iV.length;s++)n=iV[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function JI(e){this.src=e,this.g={},this.h=0}JI.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var o=dR(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):(t=new _Ge(t,this.src,s,!!r,i),t.ia=n,e.push(t)),t};function fR(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=_ie(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(XI(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function dR(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}var U3="closure_lm_"+(1e6*Math.random()|0),nO={};function Sie(e,t,n,r,i){if(r&&r.once)return xie(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Sie(e,t[s],n,r,i);return null}return n=H3(n),e&&e[Y_]?e.O(t,n,W_(r)?!!r.capture:!!r,i):Iie(e,t,n,!1,r,i)}function Iie(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=W_(i)?!!i.capture:!!i,a=z3(e);if(a||(e[U3]=a=new JI(e)),n=a.add(t,n,r,o,s),n.proxy)return n;if(r=bGe(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)fGe||(i=o),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Aie(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function bGe(){function e(n){return t.call(e.src,e.listener,n)}const t=EGe;return e}function xie(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)xie(e,t[s],n,r,i);return null}return n=H3(n),e&&e[Y_]?e.P(t,n,W_(r)?!!r.capture:!!r,i):Iie(e,t,n,!0,r,i)}function Cie(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Cie(e,t[s],n,r,i);else r=W_(r)?!!r.capture:!!r,n=H3(n),e&&e[Y_]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=dR(s,n,r,i),-1<n&&(XI(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=z3(e))&&(t=e.g[t.toString()],e=-1,t&&(e=dR(t,n,r,i)),(n=-1<e?t[e]:null)&&V3(n))}function V3(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[Y_])fR(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Aie(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=z3(t))?(fR(n,e),n.h==0&&(n.src=null,t[U3]=null)):XI(e)}}}function Aie(e){return e in nO?nO[e]:nO[e]="on"+e}function EGe(e,t){if(e.fa)e=!0;else{t=new Vy(t,this);var n=e.listener,r=e.la||e.src;e.ia&&V3(e),e=n.call(r,t)}return e}function z3(e){return e=e[U3],e instanceof JI?e:null}var rO="__closure_events_fn_"+(1e9*Math.random()>>>0);function H3(e){return typeof e=="function"?e:(e[rO]||(e[rO]=function(t){return e.handleEvent(t)}),e[rO])}function fi(){Tf.call(this),this.i=new JI(this),this.S=this,this.J=null}pi(fi,Tf);fi.prototype[Y_]=!0;fi.prototype.removeEventListener=function(e,t,n,r){Cie(this,e,t,n,r)};function Ri(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,typeof t=="string")t=new Yi(t,e);else if(t instanceof Yi)t.target=t.target||e;else{var i=t;t=new Yi(r,e),Tie(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=_1(o,r,!0,t)&&i}if(o=t.g=e,i=_1(o,r,!0,t)&&i,i=_1(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)o=t.g=n[s],i=_1(o,r,!1,t)&&i}fi.prototype.N=function(){if(fi.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)XI(n[r]);delete e.g[t],e.h--}}this.J=null};fi.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};fi.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function _1(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&fR(e.i,o),i=a.call(u,r)!==!1&&i}}return i&&!r.defaultPrevented}var q3=Et.JSON.stringify;class wGe{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function TGe(){var e=W3;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class SGe{constructor(){this.h=this.g=null}add(t,n){const r=Oie.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Oie=new wGe(()=>new IGe,e=>e.reset());class IGe{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function xGe(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function CGe(e){Et.setTimeout(()=>{throw e},0)}let zy,Hy=!1,W3=new SGe,Pie=()=>{const e=Et.Promise.resolve(void 0);zy=()=>{e.then(AGe)}};var AGe=()=>{for(var e;e=TGe();){try{e.h.call(e.g)}catch(n){CGe(n)}var t=Oie;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Hy=!1};function ZI(e,t){fi.call(this),this.h=e||1,this.g=t||Et,this.j=Wi(this.qb,this),this.l=Date.now()}pi(ZI,fi);He=ZI.prototype;He.ga=!1;He.T=null;He.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ri(this,"tick"),this.ga&&(Y3(this),this.start()))}};He.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Y3(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}He.N=function(){ZI.$.N.call(this),Y3(this),delete this.g};function G3(e,t,n){if(typeof e=="function")n&&(e=Wi(e,n));else if(e&&typeof e.handleEvent=="function")e=Wi(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:Et.setTimeout(e,t||0)}function Rie(e){e.g=G3(()=>{e.g=null,e.i&&(e.i=!1,Rie(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class OGe extends Tf{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:Rie(this)}N(){super.N(),this.g&&(Et.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qy(e){Tf.call(this),this.h=e,this.g={}}pi(qy,Tf);var sV=[];function Nie(e,t,n,r){Array.isArray(n)||(n&&(sV[0]=n.toString()),n=sV);for(var i=0;i<n.length;i++){var s=Sie(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function kie(e){j3(e.g,function(t,n){this.g.hasOwnProperty(n)&&V3(t)},e),e.g={}}qy.prototype.N=function(){qy.$.N.call(this),kie(this)};qy.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function ex(){this.g=!0}ex.prototype.Ea=function(){this.g=!1};function PGe(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var f=c.split("_");o=2<=f.length&&f[1]=="type"?o+(c+"="+l+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+o})}function RGe(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+o})}function ep(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+kGe(e,n)+(r?" "+r:"")})}function NGe(e,t){e.info(function(){return"TIMEOUT: "+t})}ex.prototype.info=function(){};function kGe(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return q3(n)}catch{return t}}var oh={},oV=null;function tx(){return oV=oV||new fi}oh.Ta="serverreachability";function Die(e){Yi.call(this,oh.Ta,e)}pi(Die,Yi);function Wy(e){const t=tx();Ri(t,new Die(t))}oh.STAT_EVENT="statevent";function $ie(e,t){Yi.call(this,oh.STAT_EVENT,e),this.stat=t}pi($ie,Yi);function ss(e){const t=tx();Ri(t,new $ie(t,e))}oh.Ua="timingevent";function Lie(e,t){Yi.call(this,oh.Ua,e),this.size=t}pi(Lie,Yi);function G_(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return Et.setTimeout(function(){e()},t)}var nx={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Mie={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function K3(){}K3.prototype.h=null;function aV(e){return e.h||(e.h=e.i())}function Fie(){}var K_={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Q3(){Yi.call(this,"d")}pi(Q3,Yi);function X3(){Yi.call(this,"c")}pi(X3,Yi);var hR;function rx(){}pi(rx,K3);rx.prototype.g=function(){return new XMLHttpRequest};rx.prototype.i=function(){return{}};hR=new rx;function Q_(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new qy(this),this.P=DGe,e=uR?125:void 0,this.V=new ZI(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Bie}function Bie(){this.i=null,this.g="",this.h=!1}var DGe=45e3,jie={},pR={};He=Q_.prototype;He.setTimeout=function(e){this.P=e};function mR(e,t,n){e.L=1,e.A=sx(Pl(t)),e.u=n,e.S=!0,Uie(e,null)}function Uie(e,t){e.G=Date.now(),X_(e),e.B=Pl(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),Kie(n.i,"t",r),e.o=0,n=e.l.J,e.h=new Bie,e.g=gse(e.l,n?t:null,!e.u),0<e.O&&(e.M=new OGe(Wi(e.Pa,e,e.g),e.O)),Nie(e.U,e.g,"readystatechange",e.nb),t=e.I?wie(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),Wy(),PGe(e.j,e.v,e.B,e.m,e.W,e.u)}He.nb=function(e){e=e.target;const t=this.M;t&&ru(e)==3?t.l():this.Pa(e)};He.Pa=function(e){try{if(e==this.g)e:{const c=ru(this.g);var t=this.g.Ia();const f=this.g.da();if(!(3>c)&&(c!=3||uR||this.g&&(this.h.h||this.g.ja()||fV(this.g)))){this.J||c!=4||t==7||(t==8||0>=f?Wy(3):Wy(2)),ix(this);var n=this.g.da();this.ca=n;t:if(Vie(this)){var r=fV(this.g);e="";var i=r.length,s=ru(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){od(this),jg(this);var o="";break t}this.h.i=new Et.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.length=0,this.h.g+=e,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,RGe(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Uy(a)){var l=a;break t}}l=null}if(n=l)ep(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gR(this,n);else{this.i=!1,this.s=3,ss(12),od(this),jg(this);break e}}this.S?(zie(this,c,o),uR&&this.i&&c==3&&(Nie(this.U,this.V,"tick",this.mb),this.V.start())):(ep(this.j,this.m,o,null),gR(this,o)),c==4&&od(this),this.i&&!this.J&&(c==4?dse(this.l,this):(this.i=!1,X_(this)))}else tKe(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,ss(12)):(this.s=0,ss(13)),od(this),jg(this)}}}catch{}finally{}};function Vie(e){return e.g?e.v=="GET"&&e.L!=2&&e.l.Ha:!1}function zie(e,t,n){let r=!0,i;for(;!e.J&&e.o<n.length;)if(i=$Ge(e,n),i==pR){t==4&&(e.s=4,ss(14),r=!1),ep(e.j,e.m,null,"[Incomplete Response]");break}else if(i==jie){e.s=4,ss(15),ep(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else ep(e.j,e.m,i,null),gR(e,i);Vie(e)&&e.o!=0&&(e.h.g=e.h.g.slice(e.o),e.o=0),t!=4||n.length!=0||e.h.h||(e.s=1,ss(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),r6(t),t.M=!0,ss(11))):(ep(e.j,e.m,n,"[Invalid Chunked Response]"),od(e),jg(e))}He.mb=function(){if(this.g){var e=ru(this.g),t=this.g.ja();this.o<t.length&&(ix(this),zie(this,e,t),this.i&&e!=4&&X_(this))}};function $Ge(e,t){var n=e.o,r=t.indexOf(`
`,n);return r==-1?pR:(n=Number(t.substring(n,r)),isNaN(n)?jie:(r+=1,r+n>t.length?pR:(t=t.slice(r,r+n),e.o=r+n,t)))}He.cancel=function(){this.J=!0,od(this)};function X_(e){e.Y=Date.now()+e.P,Hie(e,e.P)}function Hie(e,t){if(e.C!=null)throw Error("WatchDog timer not null");e.C=G_(Wi(e.lb,e),t)}function ix(e){e.C&&(Et.clearTimeout(e.C),e.C=null)}He.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(NGe(this.j,this.B),this.L!=2&&(Wy(),ss(17)),od(this),this.s=2,jg(this)):Hie(this,this.Y-e)};function jg(e){e.l.H==0||e.J||dse(e.l,e)}function od(e){ix(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,Y3(e.V),kie(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function gR(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||yR(n.i,e))){if(!e.K&&yR(n.i,e)&&n.H==3){try{var r=n.Ja.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)kT(n),lx(n);else break e;n6(n),ss(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=G_(Wi(n.ib,n),6e3));if(1>=Jie(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ad(n,11)}else if((e.K||n.g==e)&&kT(n),!Uy(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let l=i[t];if(n.V=l[0],l=l[1],n.H==2)if(l[0]=="c"){n.K=l[1],n.pa=l[2];const c=l[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const f=l[4];f!=null&&(n.Ga=f,n.l.info("SVER="+n.Ga));const d=l[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const p=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(J3(s,s.h),s.h=null))}if(r.F){const m=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,Qn(r.I,r.F,m))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=e;if(r.wa=mse(r,r.J?r.pa:null,r.Y),o.K){Zie(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.C&&(ix(a),X_(a)),r.g=o}else cse(r);0<n.j.length&&cx(n)}else l[0]!="stop"&&l[0]!="close"||ad(n,7);else n.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?ad(n,7):t6(n):l[0]!="noop"&&n.h&&n.h.Aa(l),n.A=0)}}Wy(4)}catch{}}function LGe(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(KI(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function MGe(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(KI(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function qie(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(KI(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=MGe(e),r=LGe(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}var Wie=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function FGe(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function _d(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof _d){this.h=e.h,RT(this,e.j),this.s=e.s,this.g=e.g,NT(this,e.m),this.l=e.l;var t=e.i,n=new Yy;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),uV(this,n),this.o=e.o}else e&&(t=String(e).match(Wie))?(this.h=!1,RT(this,t[1]||"",!0),this.s=ig(t[2]||""),this.g=ig(t[3]||"",!0),NT(this,t[4]),this.l=ig(t[5]||"",!0),uV(this,t[6]||"",!0),this.o=ig(t[7]||"")):(this.h=!1,this.i=new Yy(null,this.h))}_d.prototype.toString=function(){var e=[],t=this.j;t&&e.push(sg(t,lV,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(sg(t,lV,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(sg(n,n.charAt(0)=="/"?UGe:jGe,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",sg(n,zGe)),e.join("")};function Pl(e){return new _d(e)}function RT(e,t,n){e.j=n?ig(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function NT(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function uV(e,t,n){t instanceof Yy?(e.i=t,HGe(e.i,e.h)):(n||(t=sg(t,VGe)),e.i=new Yy(t,e.h))}function Qn(e,t,n){e.i.set(t,n)}function sx(e){return Qn(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ig(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function sg(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,BGe),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function BGe(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var lV=/[#\/\?@]/g,jGe=/[#\?:]/g,UGe=/[#\?]/g,VGe=/[#\?@]/g,zGe=/#/g;function Yy(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Sf(e){e.g||(e.g=new Map,e.h=0,e.i&&FGe(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}He=Yy.prototype;He.add=function(e,t){Sf(this),this.i=null,e=Qm(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function Yie(e,t){Sf(e),t=Qm(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Gie(e,t){return Sf(e),t=Qm(e,t),e.g.has(t)}He.forEach=function(e,t){Sf(this),this.g.forEach(function(n,r){n.forEach(function(i){e.call(t,i,r,this)},this)},this)};He.ta=function(){Sf(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let s=0;s<i.length;s++)n.push(t[r])}return n};He.Z=function(e){Sf(this);let t=[];if(typeof e=="string")Gie(this,e)&&(t=t.concat(this.g.get(Qm(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};He.set=function(e,t){return Sf(this),this.i=null,e=Qm(this,e),Gie(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};He.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function Kie(e,t,n){Yie(e,t),0<n.length&&(e.i=null,e.g.set(Qm(e,t),F3(n)),e.h+=n.length)}He.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};function Qm(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function HGe(e,t){t&&!e.j&&(Sf(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(Yie(this,r),Kie(this,i,n))},e)),e.j=t}var qGe=class{constructor(e,t){this.g=e,this.map=t}};function Qie(e){this.l=e||WGe,Et.PerformanceNavigationTiming?(e=Et.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(Et.g&&Et.g.Ka&&Et.g.Ka()&&Et.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var WGe=10;function Xie(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function Jie(e){return e.h?1:e.g?e.g.size:0}function yR(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function J3(e,t){e.g?e.g.add(t):e.h=t}function Zie(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}Qie.prototype.cancel=function(){if(this.i=ese(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function ese(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return F3(e.i)}var YGe=class{stringify(e){return Et.JSON.stringify(e,void 0)}parse(e){return Et.JSON.parse(e,void 0)}};function GGe(){this.g=new YGe}function KGe(e,t,n){const r=n||"";try{qie(e,function(i,s){let o=i;W_(i)&&(o=q3(i)),t.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function QGe(e,t){const n=new ex;if(Et.Image){const r=new Image;r.onload=y1(v1,n,r,"TestLoadImage: loaded",!0,t),r.onerror=y1(v1,n,r,"TestLoadImage: error",!1,t),r.onabort=y1(v1,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=y1(v1,n,r,"TestLoadImage: timeout",!1,t),Et.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function v1(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function ox(e){this.l=e.ec||null,this.j=e.ob||!1}pi(ox,K3);ox.prototype.g=function(){return new ax(this.l,this.j)};ox.prototype.i=function(e){return function(){return e}}({});function ax(e,t){fi.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Z3,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}pi(ax,fi);var Z3=0;He=ax.prototype;He.open=function(e,t){if(this.readyState!=Z3)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Gy(this)};He.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Et).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};He.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,J_(this)),this.readyState=Z3};He.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Gy(this)),this.g&&(this.readyState=3,Gy(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Et.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;tse(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function tse(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}He.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?J_(this):Gy(this),this.readyState==3&&tse(this)}};He.Za=function(e){this.g&&(this.response=this.responseText=e,J_(this))};He.Ya=function(e){this.g&&(this.response=e,J_(this))};He.ka=function(){this.g&&J_(this)};function J_(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Gy(e)}He.setRequestHeader=function(e,t){this.v.append(e,t)};He.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};He.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function Gy(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(ax.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var XGe=Et.JSON.parse;function xr(e){fi.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=nse,this.L=this.M=!1}pi(xr,fi);var nse="",JGe=/^https?$/i,ZGe=["POST","PUT"];He=xr.prototype;He.Oa=function(e){this.M=e};He.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():hR.g(),this.C=this.u?aV(this.u):aV(hR),this.g.onreadystatechange=Wi(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){cV(this,s);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Et.FormData&&e instanceof Et.FormData,!(0<=_ie(ZGe,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{sse(this),0<this.B&&((this.L=eKe(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Wi(this.ua,this)):this.A=G3(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){cV(this,s)}};function eKe(e){return hm&&typeof e.timeout=="number"&&e.ontimeout!==void 0}He.ua=function(){typeof M3<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ri(this,"timeout"),this.abort(8))};function cV(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,rse(e),ux(e)}function rse(e){e.F||(e.F=!0,Ri(e,"complete"),Ri(e,"error"))}He.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ri(this,"complete"),Ri(this,"abort"),ux(this))};He.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ux(this,!0)),xr.$.N.call(this)};He.La=function(){this.s||(this.G||this.v||this.l?ise(this):this.kb())};He.kb=function(){ise(this)};function ise(e){if(e.h&&typeof M3<"u"&&(!e.C[1]||ru(e)!=4||e.da()!=2)){if(e.v&&ru(e)==4)G3(e.La,0,e);else if(Ri(e,"readystatechange"),ru(e)==4){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=o===0){var i=String(e.I).match(Wie)[1]||null;!i&&Et.self&&Et.self.location&&(i=Et.self.location.protocol.slice(0,-1)),r=!JGe.test(i?i.toLowerCase():"")}n=r}if(n)Ri(e,"complete"),Ri(e,"success");else{e.m=6;try{var s=2<ru(e)?e.g.statusText:""}catch{s=""}e.j=s+" ["+e.da()+"]",rse(e)}}finally{ux(e)}}}}function ux(e,t){if(e.g){sse(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Ri(e,"ready");try{n.onreadystatechange=r}catch{}}}function sse(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Et.clearTimeout(e.A),e.A=null)}He.isActive=function(){return!!this.g};function ru(e){return e.g?e.g.readyState:0}He.da=function(){try{return 2<ru(this)?this.g.status:-1}catch{return-1}};He.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};He.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),XGe(t)}};function fV(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case nse:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function tKe(e){const t={};e=(e.g&&2<=ru(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<e.length;r++){if(Uy(e[r]))continue;var n=xGe(e[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}vGe(t,function(r){return r.join(", ")})}He.Ia=function(){return this.m};He.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function ose(e){let t="";return j3(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function e6(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=ose(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Qn(e,t,n))}function F0(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function ase(e){this.Ga=0,this.j=[],this.l=new ex,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=F0("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=F0("baseRetryDelayMs",5e3,e),this.hb=F0("retryDelaySeedMs",1e4,e),this.eb=F0("forwardChannelMaxRetries",2,e),this.xa=F0("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Qie(e&&e.concurrentRequestLimit),this.Ja=new GGe,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}He=ase.prototype;He.ra=8;He.H=1;function t6(e){if(use(e),e.H==3){var t=e.W++,n=Pl(e.I);if(Qn(n,"SID",e.K),Qn(n,"RID",t),Qn(n,"TYPE","terminate"),Z_(e,n),t=new Q_(e,e.l,t),t.L=2,t.A=sx(Pl(n)),n=!1,Et.navigator&&Et.navigator.sendBeacon)try{n=Et.navigator.sendBeacon(t.A.toString(),"")}catch{}!n&&Et.Image&&(new Image().src=t.A,n=!0),n||(t.g=gse(t.l,null),t.g.ha(t.A)),t.G=Date.now(),X_(t)}pse(e)}function lx(e){e.g&&(r6(e),e.g.cancel(),e.g=null)}function use(e){lx(e),e.u&&(Et.clearTimeout(e.u),e.u=null),kT(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&Et.clearTimeout(e.m),e.m=null)}function cx(e){if(!Xie(e.i)&&!e.m){e.m=!0;var t=e.Na;zy||Pie(),Hy||(zy(),Hy=!0),W3.add(t,e),e.C=0}}function nKe(e,t){return Jie(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=G_(Wi(e.Na,e,t),hse(e,e.C)),e.C++,!0)}He.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Q_(this,this.l,e);let s=this.s;if(this.U&&(s?(s=wie(s),Tie(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break e}if(t===4096||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=lse(this,i,t),n=Pl(this.I),Qn(n,"RID",e),Qn(n,"CVER",22),this.F&&Qn(n,"X-HTTP-Session-Id",this.F),Z_(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(ose(s)))+"&"+t:this.o&&e6(n,this.o,s)),J3(this.i,i),this.bb&&Qn(n,"TYPE","init"),this.P?(Qn(n,"$req",t),Qn(n,"SID","null"),i.aa=!0,mR(i,n,null)):mR(i,n,t),this.H=2}}else this.H==3&&(e?dV(this,e):this.j.length==0||Xie(this.i)||dV(this))};function dV(e,t){var n;t?n=t.m:n=e.W++;const r=Pl(e.I);Qn(r,"SID",e.K),Qn(r,"RID",n),Qn(r,"AID",e.V),Z_(e,r),e.o&&e.s&&e6(r,e.o,e.s),n=new Q_(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=lse(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),J3(e.i,n),mR(n,r,t)}function Z_(e,t){e.na&&j3(e.na,function(n,r){Qn(t,r,n)}),e.h&&qie({},function(n,r){Qn(t,r,n)})}function lse(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Wi(e.h.Va,e.h,e):null;e:{var i=e.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let l=i[u].g;const c=i[u].map;if(l-=s,0>l)s=Math.max(0,i[u].g-100),a=!1;else try{KGe(c,o,"req"+l+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function cse(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;zy||Pie(),Hy||(zy(),Hy=!0),W3.add(t,e),e.A=0}}function n6(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=G_(Wi(e.Ma,e),hse(e,e.A)),e.A++,!0)}He.Ma=function(){if(this.u=null,fse(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=G_(Wi(this.jb,this),e)}};He.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ss(10),lx(this),fse(this))};function r6(e){e.B!=null&&(Et.clearTimeout(e.B),e.B=null)}function fse(e){e.g=new Q_(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=Pl(e.wa);Qn(t,"RID","rpc"),Qn(t,"SID",e.K),Qn(t,"AID",e.V),Qn(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Qn(t,"TO",e.qa),Qn(t,"TYPE","xmlhttp"),Z_(e,t),e.o&&e.s&&e6(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=sx(Pl(t)),n.u=null,n.S=!0,Uie(n,e)}He.ib=function(){this.v!=null&&(this.v=null,lx(this),n6(this),ss(19))};function kT(e){e.v!=null&&(Et.clearTimeout(e.v),e.v=null)}function dse(e,t){var n=null;if(e.g==t){kT(e),r6(e),e.g=null;var r=2}else if(yR(e.i,t))n=t.F,Zie(e.i,t),r=1;else return;if(e.H!=0){if(t.i)if(r==1){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;r=tx(),Ri(r,new Lie(r,n)),cx(e)}else cse(e);else if(i=t.s,i==3||i==0&&0<t.ca||!(r==1&&nKe(e,t)||r==2&&n6(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:ad(e,5);break;case 4:ad(e,10);break;case 3:ad(e,6);break;default:ad(e,2)}}}function hse(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function ad(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var r=Wi(e.pb,e);n||(n=new _d("//www.google.com/images/cleardot.gif"),Et.location&&Et.location.protocol=="http"||RT(n,"https"),sx(n)),QGe(n.toString(),r)}else ss(2);e.H=0,e.h&&e.h.za(t),pse(e),use(e)}He.pb=function(e){e?(this.l.info("Successfully pinged google.com"),ss(2)):(this.l.info("Failed to ping google.com"),ss(1))};function pse(e){if(e.H=0,e.ma=[],e.h){const t=ese(e.i);(t.length!=0||e.j.length!=0)&&(nV(e.ma,t),nV(e.ma,e.j),e.i.i.length=0,F3(e.j),e.j.length=0),e.h.ya()}}function mse(e,t,n){var r=n instanceof _d?Pl(n):new _d(n);if(r.g!="")t&&(r.g=t+"."+r.g),NT(r,r.m);else{var i=Et.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new _d(null);r&&RT(s,r),t&&(s.g=t),i&&NT(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&Qn(r,n,t),Qn(r,"VER",e.ra),Z_(e,r),r}function gse(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=e.Ha&&!e.va?new xr(new ox({ob:n})):new xr(e.va),t.Oa(e.J),t}He.isActive=function(){return!!this.h&&this.h.isActive(this)};function yse(){}He=yse.prototype;He.Ba=function(){};He.Aa=function(){};He.za=function(){};He.ya=function(){};He.isActive=function(){return!0};He.Va=function(){};function DT(){if(hm&&!(10<=Number(mGe)))throw Error("Environmental error: no available transport.")}DT.prototype.g=function(e,t){return new mo(e,t)};function mo(e,t){fi.call(this),this.g=new ase(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Uy(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Uy(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Xm(this)}pi(mo,fi);mo.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;ss(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=mse(e,null,e.Y),cx(e)};mo.prototype.close=function(){t6(this.g)};mo.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=q3(e),e=n);t.j.push(new qGe(t.fb++,e)),t.H==3&&cx(t)};mo.prototype.N=function(){this.g.h=null,delete this.j,t6(this.g),delete this.g,mo.$.N.call(this)};function _se(e){Q3.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}pi(_se,Q3);function vse(){X3.call(this),this.status=1}pi(vse,X3);function Xm(e){this.g=e}pi(Xm,yse);Xm.prototype.Ba=function(){Ri(this.g,"a")};Xm.prototype.Aa=function(e){Ri(this.g,new _se(e))};Xm.prototype.za=function(e){Ri(this.g,new vse)};Xm.prototype.ya=function(){Ri(this.g,"b")};function rKe(){this.blockSize=-1}function xa(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}pi(xa,rKe);xa.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function iO(e,t,n){n||(n=0);var r=Array(16);if(typeof t=="string")for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[1]+3905402710&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[5]+1200080426&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[9]+2336552879&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[13]+4254626195&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(i^s&(n^i))+r[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[6]+3225465664&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[10]+38016083&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[14]+3275163606&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[2]+4243563512&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(n^i^s)+r[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[8]+2272392833&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[4]+1272893353&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[0]+3936430074&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[12]+3873151461&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(i^(n|~s))+r[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[7]+1126891415&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[3]+2399980690&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[15]+4264355552&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[11]+3174756917&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}xa.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(i==0)for(;s<=n;)iO(this,e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){iO(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){iO(this,r),i=0;break}}this.h=i,this.i+=t};xa.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};function Pn(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=e[i]|0;r&&s==t||(n[i]=s,r=!1)}this.g=n}var iKe={};function i6(e){return-128<=e&&128>e?dGe(e,function(t){return new Pn([t|0],0>t?-1:0)}):new Pn([e|0],0>e?-1:0)}function iu(e){if(isNaN(e)||!isFinite(e))return Ap;if(0>e)return Ci(iu(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=_R;return new Pn(t,0)}function bse(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return Ci(bse(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=iu(Math.pow(t,8)),r=Ap,i=0;i<e.length;i+=8){var s=Math.min(8,e.length-i),o=parseInt(e.substring(i,i+s),t);8>s?(s=iu(Math.pow(t,s)),r=r.R(s).add(iu(o))):(r=r.R(n),r=r.add(iu(o)))}return r}var _R=4294967296,Ap=i6(0),vR=i6(1),hV=i6(16777216);He=Pn.prototype;He.ea=function(){if(Do(this))return-Ci(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:_R+r)*t,t*=_R}return e};He.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(nl(this))return"0";if(Do(this))return"-"+Ci(this).toString(e);for(var t=iu(Math.pow(e,6)),n=this,r="";;){var i=LT(n,t).g;n=$T(n,i.R(t));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=i,nl(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};He.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function nl(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function Do(e){return e.h==-1}He.X=function(e){return e=$T(this,e),Do(e)?-1:nl(e)?0:1};function Ci(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Pn(n,~e.h).add(vR)}He.abs=function(){return Do(this)?Ci(this):this};He.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(this.D(i)&65535)+(e.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Pn(n,n[n.length-1]&-2147483648?-1:0)};function $T(e,t){return e.add(Ci(t))}He.R=function(e){if(nl(this)||nl(e))return Ap;if(Do(this))return Do(e)?Ci(this).R(Ci(e)):Ci(Ci(this).R(e));if(Do(e))return Ci(this.R(Ci(e)));if(0>this.X(hV)&&0>e.X(hV))return iu(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=e.D(i)>>>16,u=e.D(i)&65535;n[2*r+2*i]+=o*u,b1(n,2*r+2*i),n[2*r+2*i+1]+=s*u,b1(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,b1(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,b1(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Pn(n,0)};function b1(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function B0(e,t){this.g=e,this.h=t}function LT(e,t){if(nl(t))throw Error("division by zero");if(nl(e))return new B0(Ap,Ap);if(Do(e))return t=LT(Ci(e),t),new B0(Ci(t.g),Ci(t.h));if(Do(t))return t=LT(e,Ci(t)),new B0(Ci(t.g),t.h);if(30<e.g.length){if(Do(e)||Do(t))throw Error("slowDivide_ only works with positive integers.");for(var n=vR,r=t;0>=r.X(e);)n=pV(n),r=pV(r);var i=Eh(n,1),s=Eh(r,1);for(r=Eh(r,2),n=Eh(n,2);!nl(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=Eh(r,1),n=Eh(n,1)}return t=$T(e,i.R(t)),new B0(i,t)}for(i=Ap;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=iu(n),o=s.R(t);Do(o)||0<o.X(e);)n-=r,s=iu(n),o=s.R(t);nl(s)&&(s=vR),i=i.add(s),e=$T(e,o)}return new B0(i,e)}He.gb=function(e){return LT(this,e).h};He.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Pn(n,this.h&e.h)};He.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Pn(n,this.h|e.h)};He.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Pn(n,this.h^e.h)};function pV(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Pn(n,e.h)}function Eh(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new Pn(i,e.h)}DT.prototype.createWebChannel=DT.prototype.g;mo.prototype.send=mo.prototype.u;mo.prototype.open=mo.prototype.m;mo.prototype.close=mo.prototype.close;nx.NO_ERROR=0;nx.TIMEOUT=8;nx.HTTP_ERROR=6;Mie.COMPLETE="complete";Fie.EventType=K_;K_.OPEN="a";K_.CLOSE="b";K_.ERROR="c";K_.MESSAGE="d";fi.prototype.listen=fi.prototype.O;xr.prototype.listenOnce=xr.prototype.P;xr.prototype.getLastError=xr.prototype.Sa;xr.prototype.getLastErrorCode=xr.prototype.Ia;xr.prototype.getStatus=xr.prototype.da;xr.prototype.getResponseJson=xr.prototype.Wa;xr.prototype.getResponseText=xr.prototype.ja;xr.prototype.send=xr.prototype.ha;xr.prototype.setWithCredentials=xr.prototype.Oa;xa.prototype.digest=xa.prototype.l;xa.prototype.reset=xa.prototype.reset;xa.prototype.update=xa.prototype.j;Pn.prototype.add=Pn.prototype.add;Pn.prototype.multiply=Pn.prototype.R;Pn.prototype.modulo=Pn.prototype.gb;Pn.prototype.compare=Pn.prototype.X;Pn.prototype.toNumber=Pn.prototype.ea;Pn.prototype.toString=Pn.prototype.toString;Pn.prototype.getBits=Pn.prototype.D;Pn.fromNumber=iu;Pn.fromString=bse;var sKe=function(){return new DT},oKe=function(){return tx()},sO=nx,aKe=Mie,uKe=oh,mV={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},E1=Fie,lKe=xr,cKe=xa,Op=Pn;const gV="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}bs.UNAUTHENTICATED=new bs(null),bs.GOOGLE_CREDENTIALS=new bs("google-credentials-uid"),bs.FIRST_PARTY=new bs("first-party-uid"),bs.MOCK_USER=new bs("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jm="10.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd=new GI("@firebase/firestore");function j0(){return Fd.logLevel}function Ze(e,...t){if(Fd.logLevel<=tn.DEBUG){const n=t.map(s6);Fd.debug(`Firestore (${Jm}): ${e}`,...n)}}function Rl(e,...t){if(Fd.logLevel<=tn.ERROR){const n=t.map(s6);Fd.error(`Firestore (${Jm}): ${e}`,...n)}}function Ky(e,...t){if(Fd.logLevel<=tn.WARN){const n=t.map(s6);Fd.warn(`Firestore (${Jm}): ${e}`,...n)}}function s6(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(e="Unexpected state"){const t=`FIRESTORE (${Jm}) INTERNAL ASSERTION FAILED: `+e;throw Rl(t),new Error(t)}function qn(e,t){e||yt()}function Pt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends $u{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fKe{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class dKe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(bs.UNAUTHENTICATED))}shutdown(){}}class hKe{constructor(t){this.t=t,this.currentUser=bs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new dl;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new dl,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;t.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{Ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(Ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new dl)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(Ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qn(typeof r.accessToken=="string"),new fKe(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return qn(t===null||typeof t=="string"),new bs(t)}}class pKe{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=bs.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class mKe{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new pKe(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(bs.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gKe{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yKe{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const r=s=>{s.error!=null&&Ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Ze("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{Ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(qn(typeof n.token=="string"),this.R=n.token,new gKe(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _Ke(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ese{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=_Ke(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length))}return r}}function Tn(e,t){return e<t?-1:e>t?1:0}function pm(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new rt(Pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new rt(Pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new rt(Pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new rt(Pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Xr.fromMillis(Date.now())}static fromDate(t){return Xr.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new Xr(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Tn(this.nanoseconds,t.nanoseconds):Tn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new Xr(0,0))}static max(){return new Tt(new Xr(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(t,n,r){n===void 0?n=0:n>t.length&&yt(),r===void 0?r=t.length-n:r>t.length-n&&yt(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Qy.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Qy?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const s=t.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class or extends Qy{construct(t,n,r){return new or(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new rt(Pe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new or(n)}static emptyPath(){return new or([])}}const vKe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ai extends Qy{construct(t,n,r){return new Ai(t,n,r)}static isValidIdentifier(t){return vKe.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ai.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ai(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new rt(Pe.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new rt(Pe.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new rt(Pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new rt(Pe.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ai(n)}static emptyPath(){return new Ai([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(t){this.path=t}static fromPath(t){return new ct(or.fromString(t))}static fromName(t){return new ct(or.fromString(t).popFirst(5))}static empty(){return new ct(or.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&or.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return or.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ct(new or(t.slice()))}}function bKe(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Tt.fromTimestamp(r===1e9?new Xr(n+1,0):new Xr(n,r));return new af(i,ct.empty(),t)}function EKe(e){return new af(e.readTime,e.key,-1)}class af{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new af(Tt.min(),ct.empty(),-1)}static max(){return new af(Tt.max(),ct.empty(),-1)}}function wKe(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=ct.comparator(e.documentKey,t.documentKey),n!==0?n:Tn(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TKe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SKe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ev(e){if(e.code!==Pe.FAILED_PRECONDITION||e.message!==TKe)throw e;Ze("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&yt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Re((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof Re?n:Re.resolve(n)}catch(n){return Re.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):Re.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):Re.reject(n)}static resolve(t){return new Re((n,r)=>{n(t)})}static reject(t){return new Re((n,r)=>{r(t)})}static waitFor(t){return new Re((n,r)=>{let i=0,s=0,o=!1;t.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(t){let n=Re.resolve(!1);for(const r of t)n=n.next(i=>i?Re.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(t,n){return new Re((r,i)=>{const s=t.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const l=u;n(t[l]).next(c=>{o[l]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(t,n){return new Re((r,i)=>{const s=()=>{t()===!0?n().next(()=>{s()},i):r()};s()})}}function tv(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}o6._e=-1;function fx(e){return e==null}function MT(e){return e===0&&1/e==-1/0}function IKe(e){return typeof e=="number"&&Number.isInteger(e)&&!MT(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yV(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Zm(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function wse(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(t,n){this.comparator=t,this.root=n||Si.EMPTY}insert(t,n){return new gr(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Si.BLACK,null,null))}remove(t){return new gr(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Si.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new w1(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new w1(this.root,t,this.comparator,!1)}getReverseIterator(){return new w1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new w1(this.root,t,this.comparator,!0)}}class w1{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,n&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Si{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??Si.RED,this.left=i??Si.EMPTY,this.right=s??Si.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,s){return new Si(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Si.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return Si.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Si.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Si.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw yt();const t=this.left.check();if(t!==this.right.check())throw yt();return t+(this.isRed()?0:1)}}Si.EMPTY=null,Si.RED=!0,Si.BLACK=!1;Si.EMPTY=new class{constructor(){this.size=0}get key(){throw yt()}get value(){throw yt()}get color(){throw yt()}get left(){throw yt()}get right(){throw yt()}copy(t,n,r,i,s){return this}insert(t,n,r){return new Si(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(t){this.comparator=t,this.data=new gr(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new _V(this.data.getIterator())}getIteratorFrom(t){return new _V(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof Ni)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Ni(this.comparator);return n.data=t,n}}class _V{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(t){this.fields=t,t.sort(Ai.comparator)}static empty(){return new ya([])}unionWith(t){let n=new Ni(Ai.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new ya(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return pm(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tse extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Tse("Invalid base64 string: "+s):s}}(t);return new Ji(n)}static fromUint8Array(t){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(t);return new Ji(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Tn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ji.EMPTY_BYTE_STRING=new Ji("");const xKe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function uf(e){if(qn(!!e),typeof e=="string"){let t=0;const n=xKe.exec(e);if(qn(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Mr(e.seconds),nanos:Mr(e.nanos)}}function Mr(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Bd(e){return typeof e=="string"?Ji.fromBase64String(e):Ji.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a6(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function u6(e){const t=e.mapValue.fields.__previous_value__;return a6(t)?u6(t):t}function Xy(e){const t=uf(e.mapValue.fields.__local_write_time__.timestampValue);return new Xr(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CKe{constructor(t,n,r,i,s,o,a,u,l){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}}class Jy{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new Jy("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Jy&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function jd(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?a6(e)?4:AKe(e)?9007199254740991:10:yt()}function Cu(e,t){if(e===t)return!0;const n=jd(e);if(n!==jd(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Xy(e).isEqual(Xy(t));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=uf(i.timestampValue),a=uf(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,s){return Bd(i.bytesValue).isEqual(Bd(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,s){return Mr(i.geoPointValue.latitude)===Mr(s.geoPointValue.latitude)&&Mr(i.geoPointValue.longitude)===Mr(s.geoPointValue.longitude)}(e,t);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Mr(i.integerValue)===Mr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Mr(i.doubleValue),a=Mr(s.doubleValue);return o===a?MT(o)===MT(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return pm(e.arrayValue.values||[],t.arrayValue.values||[],Cu);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(yV(o)!==yV(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Cu(o[u],a[u])))return!1;return!0}(e,t);default:return yt()}}function Zy(e,t){return(e.values||[]).find(n=>Cu(n,t))!==void 0}function mm(e,t){if(e===t)return 0;const n=jd(e),r=jd(t);if(n!==r)return Tn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Tn(e.booleanValue,t.booleanValue);case 2:return function(s,o){const a=Mr(s.integerValue||s.doubleValue),u=Mr(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(e,t);case 3:return vV(e.timestampValue,t.timestampValue);case 4:return vV(Xy(e),Xy(t));case 5:return Tn(e.stringValue,t.stringValue);case 6:return function(s,o){const a=Bd(s),u=Bd(o);return a.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){const c=Tn(a[l],u[l]);if(c!==0)return c}return Tn(a.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,o){const a=Tn(Mr(s.latitude),Mr(o.latitude));return a!==0?a:Tn(Mr(s.longitude),Mr(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(s,o){const a=s.values||[],u=o.values||[];for(let l=0;l<a.length&&l<u.length;++l){const c=mm(a[l],u[l]);if(c)return c}return Tn(a.length,u.length)}(e.arrayValue,t.arrayValue);case 10:return function(s,o){if(s===T1.mapValue&&o===T1.mapValue)return 0;if(s===T1.mapValue)return 1;if(o===T1.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),l=o.fields||{},c=Object.keys(l);u.sort(),c.sort();for(let f=0;f<u.length&&f<c.length;++f){const d=Tn(u[f],c[f]);if(d!==0)return d;const h=mm(a[u[f]],l[c[f]]);if(h!==0)return h}return Tn(u.length,c.length)}(e.mapValue,t.mapValue);default:throw yt()}}function vV(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Tn(e,t);const n=uf(e),r=uf(t),i=Tn(n.seconds,r.seconds);return i!==0?i:Tn(n.nanos,r.nanos)}function gm(e){return bR(e)}function bR(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=uf(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Bd(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return ct.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=bR(s);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${bR(n.fields[o])}`;return i+"}"}(e.mapValue):yt()}function ER(e){return!!e&&"integerValue"in e}function l6(e){return!!e&&"arrayValue"in e}function bV(e){return!!e&&"nullValue"in e}function EV(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function fb(e){return!!e&&"mapValue"in e}function Ug(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Zm(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Ug(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ug(e.arrayValue.values[n]);return t}return Object.assign({},e)}function AKe(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(t){this.value=t}static empty(){return new $o({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!fb(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ug(n)}setAll(t){let n=Ai.emptyPath(),r={},i=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ug(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(t){const n=this.field(t.popLast());fb(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Cu(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];fb(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){Zm(n,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new $o(Ug(this.value))}}function Sse(e){const t=[];return Zm(e.fields,(n,r)=>{const i=new Ai([n]);if(fb(r)){const s=Sse(r.mapValue).fields;if(s.length===0)t.push(i);else for(const o of s)t.push(i.child(o))}else t.push(i)}),new ya(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(t,n,r,i,s,o,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new Hi(t,0,Tt.min(),Tt.min(),Tt.min(),$o.empty(),0)}static newFoundDocument(t,n,r,i){return new Hi(t,1,n,Tt.min(),r,i,0)}static newNoDocument(t,n){return new Hi(t,2,n,Tt.min(),Tt.min(),$o.empty(),0)}static newUnknownDocument(t,n){return new Hi(t,3,n,Tt.min(),Tt.min(),$o.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=$o.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=$o.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Hi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Hi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(t,n){this.position=t,this.inclusive=n}}function wV(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(s.field.isKeyField()?r=ct.comparator(ct.fromName(o.referenceValue),n.key):r=mm(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function TV(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Cu(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(t,n="asc"){this.field=t,this.dir=n}}function OKe(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ise{}class Gr extends Ise{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new RKe(t,n,r):n==="array-contains"?new DKe(t,r):n==="in"?new $Ke(t,r):n==="not-in"?new LKe(t,r):n==="array-contains-any"?new MKe(t,r):new Gr(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new NKe(t,r):new kKe(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(mm(n,this.value)):n!==null&&jd(this.value)===jd(n)&&this.matchesComparison(mm(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Au extends Ise{constructor(t,n){super(),this.filters=t,this.op=n,this.ue=null}static create(t,n){return new Au(t,n)}matches(t){return xse(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function xse(e){return e.op==="and"}function Cse(e){return PKe(e)&&xse(e)}function PKe(e){for(const t of e.filters)if(t instanceof Au)return!1;return!0}function wR(e){if(e instanceof Gr)return e.field.canonicalString()+e.op.toString()+gm(e.value);if(Cse(e))return e.filters.map(t=>wR(t)).join(",");{const t=e.filters.map(n=>wR(n)).join(",");return`${e.op}(${t})`}}function Ase(e,t){return e instanceof Gr?function(r,i){return i instanceof Gr&&r.op===i.op&&r.field.isEqual(i.field)&&Cu(r.value,i.value)}(e,t):e instanceof Au?function(r,i){return i instanceof Au&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&Ase(o,i.filters[a]),!0):!1}(e,t):void yt()}function Ose(e){return e instanceof Gr?function(n){return`${n.field.canonicalString()} ${n.op} ${gm(n.value)}`}(e):e instanceof Au?function(n){return n.op.toString()+" {"+n.getFilters().map(Ose).join(" ,")+"}"}(e):"Filter"}class RKe extends Gr{constructor(t,n,r){super(t,n,r),this.key=ct.fromName(r.referenceValue)}matches(t){const n=ct.comparator(t.key,this.key);return this.matchesComparison(n)}}class NKe extends Gr{constructor(t,n){super(t,"in",n),this.keys=Pse("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class kKe extends Gr{constructor(t,n){super(t,"not-in",n),this.keys=Pse("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function Pse(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ct.fromName(r.referenceValue))}class DKe extends Gr{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return l6(n)&&Zy(n.arrayValue,this.value)}}class $Ke extends Gr{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Zy(this.value.arrayValue,n)}}class LKe extends Gr{constructor(t,n){super(t,"not-in",n)}matches(t){if(Zy(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Zy(this.value.arrayValue,n)}}class MKe extends Gr{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!l6(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Zy(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FKe{constructor(t,n=null,r=[],i=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function SV(e,t=null,n=[],r=[],i=null,s=null,o=null){return new FKe(e,t,n,r,i,s,o)}function c6(e){const t=Pt(e);if(t.ce===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>wR(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),fx(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>gm(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>gm(r)).join(",")),t.ce=n}return t.ce}function f6(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!OKe(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Ase(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!TV(e.startAt,t.startAt)&&TV(e.endAt,t.endAt)}function TR(e){return ct.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(t,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function BKe(e,t,n,r,i,s,o,a){return new dx(e,t,n,r,i,s,o,a)}function d6(e){return new dx(e)}function IV(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function jKe(e){return e.collectionGroup!==null}function Vg(e){const t=Pt(e);if(t.le===null){t.le=[];const n=new Set;for(const s of t.explicitOrderBy)t.le.push(s),n.add(s.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ni(Ai.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.le.push(new BT(s,r))}),n.has(Ai.keyField().canonicalString())||t.le.push(new BT(Ai.keyField(),r))}return t.le}function pu(e){const t=Pt(e);return t.he||(t.he=UKe(t,Vg(e))),t.he}function UKe(e,t){if(e.limitType==="F")return SV(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new BT(i.field,s)});const n=e.endAt?new FT(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new FT(e.startAt.position,e.startAt.inclusive):null;return SV(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function SR(e,t,n){return new dx(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function hx(e,t){return f6(pu(e),pu(t))&&e.limitType===t.limitType}function Rse(e){return`${c6(pu(e))}|lt:${e.limitType}`}function Oh(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Ose(i)).join(", ")}]`),fx(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>gm(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>gm(i)).join(",")),`Target(${r})`}(pu(e))}; limitType=${e.limitType})`}function px(e,t){return t.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ct.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(e,t)&&function(r,i){for(const s of Vg(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(o,a,u){const l=wV(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,Vg(r),i)||r.endAt&&!function(o,a,u){const l=wV(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,Vg(r),i))}(e,t)}function VKe(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Nse(e){return(t,n)=>{let r=!1;for(const i of Vg(e)){const s=zKe(i,t,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function zKe(e,t,n){const r=e.field.isKeyField()?ct.comparator(t.key,n.key):function(s,o,a){const u=o.data.field(s),l=a.data.field(s);return u!==null&&l!==null?mm(u,l):yt()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return yt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Zm(this.inner,(n,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return wse(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HKe=new gr(ct.comparator);function Nl(){return HKe}const kse=new gr(ct.comparator);function og(...e){let t=kse;for(const n of e)t=t.insert(n.key,n);return t}function Dse(e){let t=kse;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function ud(){return zg()}function $se(){return zg()}function zg(){return new e0(e=>e.toString(),(e,t)=>e.isEqual(t))}const qKe=new gr(ct.comparator),WKe=new Ni(ct.comparator);function Gt(...e){let t=WKe;for(const n of e)t=t.add(n);return t}const YKe=new Ni(Tn);function GKe(){return YKe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lse(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:MT(t)?"-0":t}}function Mse(e){return{integerValue:""+e}}function KKe(e,t){return IKe(t)?Mse(t):Lse(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(){this._=void 0}}function QKe(e,t,n){return e instanceof jT?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&a6(s)&&(s=u6(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,t):e instanceof e_?Bse(e,t):e instanceof t_?jse(e,t):function(i,s){const o=Fse(i,s),a=xV(o)+xV(i.Ie);return ER(o)&&ER(i.Ie)?Mse(a):Lse(i.serializer,a)}(e,t)}function XKe(e,t,n){return e instanceof e_?Bse(e,t):e instanceof t_?jse(e,t):n}function Fse(e,t){return e instanceof UT?function(r){return ER(r)||function(s){return!!s&&"doubleValue"in s}(r)}(t)?t:{integerValue:0}:null}class jT extends mx{}class e_ extends mx{constructor(t){super(),this.elements=t}}function Bse(e,t){const n=Use(t);for(const r of e.elements)n.some(i=>Cu(i,r))||n.push(r);return{arrayValue:{values:n}}}class t_ extends mx{constructor(t){super(),this.elements=t}}function jse(e,t){let n=Use(t);for(const r of e.elements)n=n.filter(i=>!Cu(i,r));return{arrayValue:{values:n}}}class UT extends mx{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function xV(e){return Mr(e.integerValue||e.doubleValue)}function Use(e){return l6(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function JKe(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof e_&&i instanceof e_||r instanceof t_&&i instanceof t_?pm(r.elements,i.elements,Cu):r instanceof UT&&i instanceof UT?Cu(r.Ie,i.Ie):r instanceof jT&&i instanceof jT}(e.transform,t.transform)}class ZKe{constructor(t,n){this.version=t,this.transformResults=n}}class hl{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new hl}static exists(t){return new hl(void 0,t)}static updateTime(t){return new hl(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function db(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class gx{}function Vse(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Hse(e.key,hl.none()):new nv(e.key,e.data,hl.none());{const n=e.data,r=$o.empty();let i=new Ni(Ai.comparator);for(let s of t.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ah(e.key,r,new ya(i.toArray()),hl.none())}}function eQe(e,t,n){e instanceof nv?function(i,s,o){const a=i.value.clone(),u=AV(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof ah?function(i,s,o){if(!db(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=AV(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(zse(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(e,t,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function Hg(e,t,n,r){return e instanceof nv?function(s,o,a,u){if(!db(s.precondition,o))return a;const l=s.value.clone(),c=OV(s.fieldTransforms,u,o);return l.setAll(c),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(e,t,n,r):e instanceof ah?function(s,o,a,u){if(!db(s.precondition,o))return a;const l=OV(s.fieldTransforms,u,o),c=o.data;return c.setAll(zse(s)),c.setAll(l),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(e,t,n,r):function(s,o,a){return db(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function tQe(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),s=Fse(r.transform,i||null);s!=null&&(n===null&&(n=$o.empty()),n.set(r.field,s))}return n||null}function CV(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&pm(r,i,(s,o)=>JKe(s,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class nv extends gx{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ah extends gx{constructor(t,n,r,i,s=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function zse(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function AV(e,t,n){const r=new Map;qn(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,XKe(o,a,n[i]))}return r}function OV(e,t,n){const r=new Map;for(const i of e){const s=i.transform,o=n.data.field(i.field);r.set(i.field,QKe(s,o,t))}return r}class Hse extends gx{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nQe extends gx{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rQe{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&eQe(s,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Hg(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Hg(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=$se();return this.mutations.forEach(i=>{const s=t.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=Vse(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Tt.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Gt())}isEqual(t){return this.batchId===t.batchId&&pm(this.mutations,t.mutations,(n,r)=>CV(n,r))&&pm(this.baseMutations,t.baseMutations,(n,r)=>CV(n,r))}}class h6{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){qn(t.mutations.length===r.length);let i=function(){return qKe}();const s=t.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new h6(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iQe{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sQe{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $r,un;function oQe(e){switch(e){default:return yt();case Pe.CANCELLED:case Pe.UNKNOWN:case Pe.DEADLINE_EXCEEDED:case Pe.RESOURCE_EXHAUSTED:case Pe.INTERNAL:case Pe.UNAVAILABLE:case Pe.UNAUTHENTICATED:return!1;case Pe.INVALID_ARGUMENT:case Pe.NOT_FOUND:case Pe.ALREADY_EXISTS:case Pe.PERMISSION_DENIED:case Pe.FAILED_PRECONDITION:case Pe.ABORTED:case Pe.OUT_OF_RANGE:case Pe.UNIMPLEMENTED:case Pe.DATA_LOSS:return!0}}function qse(e){if(e===void 0)return Rl("GRPC error has no .code"),Pe.UNKNOWN;switch(e){case $r.OK:return Pe.OK;case $r.CANCELLED:return Pe.CANCELLED;case $r.UNKNOWN:return Pe.UNKNOWN;case $r.DEADLINE_EXCEEDED:return Pe.DEADLINE_EXCEEDED;case $r.RESOURCE_EXHAUSTED:return Pe.RESOURCE_EXHAUSTED;case $r.INTERNAL:return Pe.INTERNAL;case $r.UNAVAILABLE:return Pe.UNAVAILABLE;case $r.UNAUTHENTICATED:return Pe.UNAUTHENTICATED;case $r.INVALID_ARGUMENT:return Pe.INVALID_ARGUMENT;case $r.NOT_FOUND:return Pe.NOT_FOUND;case $r.ALREADY_EXISTS:return Pe.ALREADY_EXISTS;case $r.PERMISSION_DENIED:return Pe.PERMISSION_DENIED;case $r.FAILED_PRECONDITION:return Pe.FAILED_PRECONDITION;case $r.ABORTED:return Pe.ABORTED;case $r.OUT_OF_RANGE:return Pe.OUT_OF_RANGE;case $r.UNIMPLEMENTED:return Pe.UNIMPLEMENTED;case $r.DATA_LOSS:return Pe.DATA_LOSS;default:return yt()}}(un=$r||($r={}))[un.OK=0]="OK",un[un.CANCELLED=1]="CANCELLED",un[un.UNKNOWN=2]="UNKNOWN",un[un.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",un[un.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",un[un.NOT_FOUND=5]="NOT_FOUND",un[un.ALREADY_EXISTS=6]="ALREADY_EXISTS",un[un.PERMISSION_DENIED=7]="PERMISSION_DENIED",un[un.UNAUTHENTICATED=16]="UNAUTHENTICATED",un[un.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",un[un.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",un[un.ABORTED=10]="ABORTED",un[un.OUT_OF_RANGE=11]="OUT_OF_RANGE",un[un.UNIMPLEMENTED=12]="UNIMPLEMENTED",un[un.INTERNAL=13]="INTERNAL",un[un.UNAVAILABLE=14]="UNAVAILABLE",un[un.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aQe(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uQe=new Op([4294967295,4294967295],0);function PV(e){const t=aQe().encode(e),n=new cKe;return n.update(t),new Uint8Array(n.digest())}function RV(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Op([n,r],0),new Op([i,s],0)]}class p6{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ag(`Invalid padding: ${n}`);if(r<0)throw new ag(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new ag(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new ag(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*t.length-n,this.Ee=Op.fromNumber(this.Te)}de(t,n,r){let i=t.add(n.multiply(Op.fromNumber(r)));return i.compare(uQe)===1&&(i=new Op([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Te===0)return!1;const n=PV(t),[r,i]=RV(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new p6(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(t){if(this.Te===0)return;const n=PV(t),[r,i]=RV(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class ag extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,rv.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new yx(Tt.min(),i,new gr(Tn),Nl(),Gt())}}class rv{constructor(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new rv(r,n,Gt(),Gt(),Gt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(t,n,r,i){this.Ve=t,this.removedTargetIds=n,this.key=r,this.me=i}}class Wse{constructor(t,n){this.targetId=t,this.fe=n}}class Yse{constructor(t,n,r=Ji.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class NV{constructor(){this.ge=0,this.pe=DV(),this.ye=Ji.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=Gt(),n=Gt(),r=Gt();return this.pe.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:yt()}}),new rv(this.ye,this.we,t,n,r)}Fe(){this.Se=!1,this.pe=DV()}Me(t,n){this.Se=!0,this.pe=this.pe.insert(t,n)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1,qn(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class lQe{constructor(t){this.Le=t,this.ke=new Map,this.qe=Nl(),this.Qe=kV(),this.Ke=new gr(Tn)}$e(t){for(const n of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(n,t.me):this.We(n,t.key,t.me);for(const n of t.removedTargetIds)this.We(n,t.key,t.me)}Ge(t){this.forEachTarget(t,n=>{const r=this.ze(n);switch(t.state){case 0:this.je(n)&&r.Ce(t.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(t.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(t.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(t.resumeToken));break;default:yt()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(t){const n=t.targetId,r=t.fe.count,i=this.Ye(n);if(i){const s=i.target;if(TR(s))if(r===0){const o=new ct(s.path);this.We(n,o,Hi.newNoDocument(o,Tt.min()))}else qn(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(t),u=a?this.et(a,t,o):1;if(u!==0){this.He(n);const l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,l)}}}}}Xe(t){const n=t.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Bd(r).toUint8Array()}catch(u){if(u instanceof Tse)return Ky("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new p6(o,i,s)}catch(u){return Ky(u instanceof ag?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Te===0?null:a}et(t,n,r){return n.fe.count===r-this.rt(t,n.targetId)?0:2}rt(t,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(a)||(this.We(n,s,null),i++)}),i}it(t){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&TR(a.target)){const u=new ct(a.target.path);this.qe.get(u)!==null||this.st(o,u)||this.We(o,u,Hi.newNoDocument(u,t))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=Gt();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const l=this.Ye(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(t));const i=new yx(t,n,this.Ke,this.qe,r);return this.qe=Nl(),this.Qe=kV(),this.Ke=new gr(Tn),i}Ue(t,n){if(!this.je(t))return;const r=this.st(t,n.key)?2:0;this.ze(t).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(t))}We(t,n,r){if(!this.je(t))return;const i=this.ze(t);this.st(t,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(t)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(t){this.ke.delete(t)}Ze(t){const n=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let n=this.ke.get(t);return n||(n=new NV,this.ke.set(t,n)),n}ot(t){let n=this.Qe.get(t);return n||(n=new Ni(Tn),this.Qe=this.Qe.insert(t,n)),n}je(t){const n=this.Ye(t)!==null;return n||Ze("WatchChangeAggregator","Detected inactive target",t),n}Ye(t){const n=this.ke.get(t);return n&&n.be?null:this.Le._t(t)}He(t){this.ke.set(t,new NV),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.We(t,n,null)})}st(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function kV(){return new gr(ct.comparator)}function DV(){return new gr(ct.comparator)}const cQe={asc:"ASCENDING",desc:"DESCENDING"},fQe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dQe={and:"AND",or:"OR"};class hQe{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function IR(e,t){return e.useProto3Json||fx(t)?t:{value:t}}function VT(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Gse(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function pQe(e,t){return VT(e,t.toTimestamp())}function mu(e){return qn(!!e),Tt.fromTimestamp(function(n){const r=uf(n);return new Xr(r.seconds,r.nanos)}(e))}function m6(e,t){return function(r){return new or(["projects",r.projectId,"databases",r.database])}(e).child("documents").child(t).canonicalString()}function Kse(e){const t=or.fromString(e);return qn(Zse(t)),t}function xR(e,t){return m6(e.databaseId,t.path)}function oO(e,t){const n=Kse(t);if(n.get(1)!==e.databaseId.projectId)throw new rt(Pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new rt(Pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ct(Qse(n))}function CR(e,t){return m6(e.databaseId,t)}function mQe(e){const t=Kse(e);return t.length===4?or.emptyPath():Qse(t)}function AR(e){return new or(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Qse(e){return qn(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function $V(e,t,n){return{name:xR(e,t),fields:n.value.mapValue.fields}}function gQe(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:yt()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(l,c){return l.useProto3Json?(qn(c===void 0||typeof c=="string"),Ji.fromBase64String(c||"")):(qn(c===void 0||c instanceof Uint8Array),Ji.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(l){const c=l.code===void 0?Pe.UNKNOWN:qse(l.code);return new rt(c,l.message||"")}(o);n=new Yse(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=oO(e,r.document.name),s=mu(r.document.updateTime),o=r.document.createTime?mu(r.document.createTime):Tt.min(),a=new $o({mapValue:{fields:r.document.fields}}),u=Hi.newFoundDocument(i,s,o,a),l=r.targetIds||[],c=r.removedTargetIds||[];n=new hb(l,c,u.key,u)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=oO(e,r.document),s=r.readTime?mu(r.readTime):Tt.min(),o=Hi.newNoDocument(i,s),a=r.removedTargetIds||[];n=new hb([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=oO(e,r.document),s=r.removedTargetIds||[];n=new hb([],s,i,null)}else{if(!("filter"in t))return yt();{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new sQe(i,s),a=r.targetId;n=new Wse(a,o)}}return n}function yQe(e,t){let n;if(t instanceof nv)n={update:$V(e,t.key,t.value)};else if(t instanceof Hse)n={delete:xR(e,t.key)};else if(t instanceof ah)n={update:$V(e,t.key,t.data),updateMask:xQe(t.fieldMask)};else{if(!(t instanceof nQe))return yt();n={verify:xR(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof jT)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof e_)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof t_)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof UT)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw yt()}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:pQe(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:yt()}(e,t.precondition)),n}function _Qe(e,t){return e&&e.length>0?(qn(t!==void 0),e.map(n=>function(i,s){let o=i.updateTime?mu(i.updateTime):mu(s);return o.isEqual(Tt.min())&&(o=mu(s)),new ZKe(o,i.transformResults||[])}(n,t))):[]}function vQe(e,t){return{documents:[CR(e,t.path)]}}function bQe(e,t){const n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=CR(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=CR(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(u.length!==0)return Jse(Au.create(u,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(u.length!==0)return u.map(l=>function(f){return{field:Ph(f.field),direction:TQe(f.dir)}}(l))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=IR(e,t.limit);return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(t.endAt)),n}function EQe(e){let t=mQe(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){qn(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let s=[];n.where&&(s=function(f){const d=Xse(f);return d instanceof Au&&Cse(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(d=>function(p){return new BT(Rh(p.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(f){let d;return d=typeof f=="object"?f.value:f,fx(d)?null:d}(n.limit));let u=null;n.startAt&&(u=function(f){const d=!!f.before,h=f.values||[];return new FT(h,d)}(n.startAt));let l=null;return n.endAt&&(l=function(f){const d=!f.before,h=f.values||[];return new FT(h,d)}(n.endAt)),BKe(t,i,o,s,a,"F",u,l)}function wQe(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function Xse(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Rh(n.unaryFilter.field);return Gr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Rh(n.unaryFilter.field);return Gr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Rh(n.unaryFilter.field);return Gr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Rh(n.unaryFilter.field);return Gr.create(o,"!=",{nullValue:"NULL_VALUE"});default:return yt()}}(e):e.fieldFilter!==void 0?function(n){return Gr.create(Rh(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return yt()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Au.create(n.compositeFilter.filters.map(r=>Xse(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return yt()}}(n.compositeFilter.op))}(e):yt()}function TQe(e){return cQe[e]}function SQe(e){return fQe[e]}function IQe(e){return dQe[e]}function Ph(e){return{fieldPath:e.canonicalString()}}function Rh(e){return Ai.fromServerFormat(e.fieldPath)}function Jse(e){return e instanceof Gr?function(n){if(n.op==="=="){if(EV(n.value))return{unaryFilter:{field:Ph(n.field),op:"IS_NAN"}};if(bV(n.value))return{unaryFilter:{field:Ph(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(EV(n.value))return{unaryFilter:{field:Ph(n.field),op:"IS_NOT_NAN"}};if(bV(n.value))return{unaryFilter:{field:Ph(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ph(n.field),op:SQe(n.op),value:n.value}}}(e):e instanceof Au?function(n){const r=n.getFilters().map(i=>Jse(i));return r.length===1?r[0]:{compositeFilter:{op:IQe(n.op),filters:r}}}(e):yt()}function xQe(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function Zse(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(t,n,r,i,s=Tt.min(),o=Tt.min(),a=Ji.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(t){return new wc(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new wc(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new wc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new wc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CQe{constructor(t){this.ut=t}}function AQe(e){const t=EQe({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?SR(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OQe{constructor(){this.on=new PQe}addToCollectionParentIndex(t,n){return this.on.add(n),Re.resolve()}getCollectionParents(t,n){return Re.resolve(this.on.getEntries(n))}addFieldIndex(t,n){return Re.resolve()}deleteFieldIndex(t,n){return Re.resolve()}deleteAllFieldIndexes(t){return Re.resolve()}createTargetIndexes(t,n){return Re.resolve()}getDocumentsMatchingTarget(t,n){return Re.resolve(null)}getIndexType(t,n){return Re.resolve(0)}getFieldIndexes(t,n){return Re.resolve([])}getNextCollectionGroupToUpdate(t){return Re.resolve(null)}getMinOffset(t,n){return Re.resolve(af.min())}getMinOffsetFromCollectionGroup(t,n){return Re.resolve(af.min())}updateCollectionGroup(t,n,r){return Re.resolve()}updateIndexEntries(t,n){return Re.resolve()}}class PQe{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new Ni(or.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new Ni(or.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(t){this.xn=t}next(){return this.xn+=2,this.xn}static On(){return new ym(0)}static Nn(){return new ym(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RQe{constructor(){this.changes=new e0(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Hi.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Re.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NQe{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kQe{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&Hg(r.mutation,i,ya.empty(),Xr.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,Gt()).next(()=>r))}getLocalViewOfDocuments(t,n,r=Gt()){const i=ud();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(s=>{let o=og();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=ud();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,Gt()))}populateOverlays(t,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,r,i){let s=Nl();const o=zg(),a=function(){return zg()}();return n.forEach((u,l)=>{const c=r.get(l.key);i.has(l.key)&&(c===void 0||c.mutation instanceof ah)?s=s.insert(l.key,l):c!==void 0?(o.set(l.key,c.mutation.getFieldMask()),Hg(c.mutation,l,c.mutation.getFieldMask(),Xr.now())):o.set(l.key,ya.empty())}),this.recalculateAndSaveOverlays(t,s).next(u=>(u.forEach((l,c)=>o.set(l,c)),n.forEach((l,c)=>{var f;return a.set(l,new NQe(c,(f=o.get(l))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(t,n){const r=zg();let i=new gr((o,a)=>o-a),s=Gt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const l=n.get(u);if(l===null)return;let c=r.get(u)||ya.empty();c=a.applyToLocalView(l,c),r.set(u,c);const f=(i.get(a.batchId)||Gt()).add(u);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),l=u.key,c=u.value,f=$se();c.forEach(d=>{if(!s.has(d)){const h=Vse(n.get(d),r.get(d));h!==null&&f.set(d,h),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(t,l,f))}return Re.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return function(o){return ct.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):jKe(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-s.size):Re.resolve(ud());let a=-1,u=s;return o.next(l=>Re.forEach(l,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(c)?Re.resolve():this.remoteDocumentCache.getEntry(t,c).next(d=>{u=u.insert(c,d)}))).next(()=>this.populateOverlays(t,l,s)).next(()=>this.computeViews(t,u,l,Gt())).next(c=>({batchId:a,changes:Dse(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new ct(n)).next(r=>{let i=og();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const s=n.collectionGroup;let o=og();return this.indexManager.getCollectionParents(t,s).next(a=>Re.forEach(a,u=>{const l=function(f,d){return new dx(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(t,l,r,i).next(c=>{c.forEach((f,d)=>{o=o.insert(f,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,s,i))).next(o=>{s.forEach((u,l)=>{const c=l.getKey();o.get(c)===null&&(o=o.insert(c,Hi.newInvalidDocument(c)))});let a=og();return o.forEach((u,l)=>{const c=s.get(u);c!==void 0&&Hg(c.mutation,l,ya.empty(),Xr.now()),px(n,l)&&(a=a.insert(u,l))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DQe{constructor(t){this.serializer=t,this.ur=new Map,this.cr=new Map}getBundleMetadata(t,n){return Re.resolve(this.ur.get(n))}saveBundleMetadata(t,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:mu(i.createTime)}}(n)),Re.resolve()}getNamedQuery(t,n){return Re.resolve(this.cr.get(n))}saveNamedQuery(t,n){return this.cr.set(n.name,function(i){return{name:i.name,query:AQe(i.bundledQuery),readTime:mu(i.readTime)}}(n)),Re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Qe{constructor(){this.overlays=new gr(ct.comparator),this.lr=new Map}getOverlay(t,n){return Re.resolve(this.overlays.get(n))}getOverlays(t,n){const r=ud();return Re.forEach(n,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,s)=>{this.lt(t,n,s)}),Re.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),Re.resolve()}getOverlaysForCollection(t,n,r){const i=ud(),s=n.length+1,o=new ct(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return Re.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let s=new gr((l,c)=>l-c);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let c=s.get(l.largestBatchId);c===null&&(c=ud(),s=s.insert(l.largestBatchId,c)),c.set(l.getKey(),l)}}const a=ud(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,c)=>a.set(l,c)),!(a.size()>=i)););return Re.resolve(a)}lt(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new iQe(n,r));let s=this.lr.get(n);s===void 0&&(s=Gt(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(){this.hr=new Ni(oi.Pr),this.Ir=new Ni(oi.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(t,n){const r=new oi(t,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.dr(new oi(t,n))}Ar(t,n){t.forEach(r=>this.removeReference(r,n))}Rr(t){const n=new ct(new or([])),r=new oi(n,t),i=new oi(n,t+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(t=>this.dr(t))}dr(t){this.hr=this.hr.delete(t),this.Ir=this.Ir.delete(t)}mr(t){const n=new ct(new or([])),r=new oi(n,t),i=new oi(n,t+1);let s=Gt();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new oi(t,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class oi{constructor(t,n){this.key=t,this.gr=n}static Pr(t,n){return ct.comparator(t.key,n.key)||Tn(t.gr,n.gr)}static Tr(t,n){return Tn(t.gr,n.gr)||ct.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LQe{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Ni(oi.Pr)}checkEmpty(t){return Re.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new rQe(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new oi(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return Re.resolve(o)}lookupMutationBatch(t,n){return Re.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.Sr(r),s=i<0?0:i;return Re.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Re.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(t){return Re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new oi(n,0),i=new oi(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),Re.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Ni(Tn);return n.forEach(i=>{const s=new oi(i,0),o=new oi(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),Re.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let s=r;ct.isDocumentKey(s)||(s=s.child(""));const o=new oi(new ct(s),0);let a=new Ni(Tn);return this.yr.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.gr)),!0)},o),Re.resolve(this.br(a))}br(t){const n=[];return t.forEach(r=>{const i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){qn(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return Re.forEach(n.mutations,i=>{const s=new oi(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.yr=r})}Fn(t){}containsKey(t,n){const r=new oi(n,0),i=this.yr.firstAfterOrEqual(r);return Re.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,Re.resolve()}Dr(t,n){return this.Sr(t)}Sr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}wr(t){const n=this.Sr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MQe{constructor(t){this.Cr=t,this.docs=function(){return new gr(ct.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return Re.resolve(r?r.document.mutableCopy():Hi.newInvalidDocument(n))}getEntries(t,n){let r=Nl();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Hi.newInvalidDocument(i))}),Re.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let s=Nl();const o=n.path,a=new ct(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:l,value:{document:c}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||wKe(EKe(c),r)<=0||(i.has(c.key)||px(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return Re.resolve(s)}getAllFromCollectionGroup(t,n,r,i){yt()}vr(t,n){return Re.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new FQe(this)}getSize(t){return Re.resolve(this.size)}}class FQe extends RQe{constructor(t){super(),this._r=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(t,i)):this._r.removeEntry(r)}),Re.waitFor(n)}getFromCache(t,n){return this._r.getEntry(t,n)}getAllFromCache(t,n){return this._r.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BQe{constructor(t){this.persistence=t,this.Fr=new e0(n=>c6(n),f6),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.Mr=0,this.Or=new g6,this.targetCount=0,this.Nr=ym.On()}forEachTarget(t,n){return this.Fr.forEach((r,i)=>n(i)),Re.resolve()}getLastRemoteSnapshotVersion(t){return Re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Re.resolve(this.Mr)}allocateTargetId(t){return this.highestTargetId=this.Nr.next(),Re.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),Re.resolve()}kn(t){this.Fr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Nr=new ym(n),this.highestTargetId=n),t.sequenceNumber>this.Mr&&(this.Mr=t.sequenceNumber)}addTargetData(t,n){return this.kn(n),this.targetCount+=1,Re.resolve()}updateTargetData(t,n){return this.kn(n),Re.resolve()}removeTargetData(t,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,Re.resolve()}removeTargets(t,n,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),Re.waitFor(s).next(()=>i)}getTargetCount(t){return Re.resolve(this.targetCount)}getTargetData(t,n){const r=this.Fr.get(n)||null;return Re.resolve(r)}addMatchingKeys(t,n,r){return this.Or.Er(n,r),Re.resolve()}removeMatchingKeys(t,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(t,o))}),Re.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.Or.Rr(n),Re.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Or.mr(n);return Re.resolve(r)}containsKey(t,n){return Re.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jQe{constructor(t,n){this.Br={},this.overlays={},this.Lr=new o6(0),this.kr=!1,this.kr=!0,this.referenceDelegate=t(this),this.qr=new BQe(this),this.indexManager=new OQe,this.remoteDocumentCache=function(i){return new MQe(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new CQe(n),this.Kr=new DQe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new $Qe,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Br[t.toKey()];return r||(r=new LQe(n,this.referenceDelegate),this.Br[t.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(t,n,r){Ze("MemoryPersistence","Starting transaction:",t);const i=new UQe(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(t,n){return Re.or(Object.values(this.Br).map(r=>()=>r.containsKey(t,n)))}}class UQe extends SKe{constructor(t){super(),this.currentSequenceNumber=t}}class y6{constructor(t){this.persistence=t,this.Gr=new g6,this.zr=null}static jr(t){return new y6(t)}get Hr(){if(this.zr)return this.zr;throw yt()}addReference(t,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),Re.resolve()}removeReference(t,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),Re.resolve()}markPotentiallyOrphaned(t,n){return this.Hr.add(n.toString()),Re.resolve()}removeTarget(t,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(t,n))}$r(){this.zr=new Set}Ur(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Re.forEach(this.Hr,r=>{const i=ct.fromPath(r);return this.Jr(t,i).next(s=>{s||n.removeEntry(i,Tt.min())})}).next(()=>(this.zr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Jr(t,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(t){return 0}Jr(t,n){return Re.or([()=>Re.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Wr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.ki=r,this.qi=i}static Qi(t,n){let r=Gt(),i=Gt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new _6(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VQe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zQe{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(t,n){this.Gi=t,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(t,n,r,i){const s={result:null};return this.zi(t,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(t,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new VQe;return this.Hi(t,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(t,n,o,a.size)})}).next(()=>s.result)}Ji(t,n,r,i){return r.documentReadCount<this.Ui?(j0()<=tn.DEBUG&&Ze("QueryEngine","SDK will not create cache indexes for query:",Oh(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),Re.resolve()):(j0()<=tn.DEBUG&&Ze("QueryEngine","Query:",Oh(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(j0()<=tn.DEBUG&&Ze("QueryEngine","The SDK decides to create cache indexes for query:",Oh(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,pu(n))):Re.resolve())}zi(t,n){if(IV(n))return Re.resolve(null);let r=pu(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=SR(n,null,"F"),r=pu(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const o=Gt(...s);return this.Gi.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,r).next(u=>{const l=this.Yi(n,a);return this.Zi(n,l,o,u.readTime)?this.zi(t,SR(n,null,"F")):this.Xi(t,l,n,u)}))})))}ji(t,n,r,i){return IV(n)||i.isEqual(Tt.min())?Re.resolve(null):this.Gi.getDocuments(t,r).next(s=>{const o=this.Yi(n,s);return this.Zi(n,o,r,i)?Re.resolve(null):(j0()<=tn.DEBUG&&Ze("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Oh(n)),this.Xi(t,o,n,bKe(i,-1)).next(a=>a))})}Yi(t,n){let r=new Ni(Nse(t));return n.forEach((i,s)=>{px(t,s)&&(r=r.add(s))}),r}Zi(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(t,n,r){return j0()<=tn.DEBUG&&Ze("QueryEngine","Using full collection scan to execute query:",Oh(n)),this.Gi.getDocumentsMatchingQuery(t,n,af.min(),r)}Xi(t,n,r,i){return this.Gi.getDocumentsMatchingQuery(t,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HQe{constructor(t,n,r,i){this.persistence=t,this.es=n,this.serializer=i,this.ts=new gr(Tn),this.ns=new e0(s=>c6(s),f6),this.rs=new Map,this.ss=t.getRemoteDocumentCache(),this.qr=t.getTargetCache(),this.Kr=t.getBundleCache(),this.os(r)}os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new kQe(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.ts))}}function qQe(e,t,n,r){return new HQe(e,t,n,r)}async function eoe(e,t){const n=Pt(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(t),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=Gt();for(const l of i){o.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}for(const l of s){a.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}return n.localDocuments.getDocuments(r,u).next(l=>({_s:l,removedBatchIds:o,addedBatchIds:a}))})})}function WQe(e,t){const n=Pt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,u,l,c){const f=l.batch,d=f.keys();let h=Re.resolve();return d.forEach(p=>{h=h.next(()=>c.getEntry(u,p)).next(m=>{const y=l.docVersions.get(p);qn(y!==null),m.version.compareTo(y)<0&&(f.applyToRemoteDocument(m,l),m.isValidDocument()&&(m.setReadTime(l.commitVersion),c.addEntry(m)))})}),h.next(()=>a.mutationQueue.removeMutationBatch(u,f))}(n,r,t,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=Gt();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function toe(e){const t=Pt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.qr.getLastRemoteSnapshotVersion(n))}function YQe(e,t){const n=Pt(e),r=t.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];t.targetChanges.forEach((c,f)=>{const d=i.get(f);if(!d)return;a.push(n.qr.removeMatchingKeys(s,c.removedDocuments,f).next(()=>n.qr.addMatchingKeys(s,c.addedDocuments,f)));let h=d.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(f)!==null?h=h.withResumeToken(Ji.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):c.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(c.resumeToken,r)),i=i.insert(f,h),function(m,y,g){return m.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(d,h,c)&&a.push(n.qr.updateTargetData(s,h))});let u=Nl(),l=Gt();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(GQe(s,o,t.documentUpdates).next(c=>{u=c.us,l=c.cs})),!r.isEqual(Tt.min())){const c=n.qr.getLastRemoteSnapshotVersion(s).next(f=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return Re.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.ts=i,s))}function GQe(e,t,n){let r=Gt(),i=Gt();return n.forEach(s=>r=r.add(s)),t.getEntries(e,r).next(s=>{let o=Nl();return n.forEach((a,u)=>{const l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(Tt.min())?(t.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(t.addEntry(u),o=o.insert(a,u)):Ze("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{us:o,cs:i}})}function KQe(e,t){const n=Pt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function QQe(e,t){const n=Pt(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,t).next(s=>s?(i=s,Re.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new wc(t,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(t,r.targetId)),r})}async function OR(e,t,n){const r=Pt(e),i=r.ts.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!tv(o))throw o;Ze("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.ts=r.ts.remove(t),r.ns.delete(i.target)}function LV(e,t,n){const r=Pt(e);let i=Tt.min(),s=Gt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,c){const f=Pt(u),d=f.ns.get(c);return d!==void 0?Re.resolve(f.ts.get(d)):f.qr.getTargetData(l,c)}(r,o,pu(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.es.getDocumentsMatchingQuery(o,t,n?i:Tt.min(),n?s:Gt())).next(a=>(XQe(r,VKe(t),a),{documents:a,ls:s})))}function XQe(e,t,n){let r=e.rs.get(t)||Tt.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),e.rs.set(t,r)}class MV{constructor(){this.activeTargetIds=GKe()}ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}As(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Es(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class JQe{constructor(){this.eo=new MV,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.eo.ds(t),this.no[t]||"not-current"}updateQueryState(t,n,r){this.no[t]=n}removeLocalQueryTarget(t){this.eo.As(t)}isLocalQueryTarget(t){return this.eo.activeTargetIds.has(t)}clearQueryState(t){delete this.no[t]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(t){return this.eo.activeTargetIds.has(t)}start(){return this.eo=new MV,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZQe{ro(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(t){this.ao.push(t)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){Ze("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ao)t(0)}_o(){Ze("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ao)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let S1=null;function aO(){return S1===null?S1=function(){return 268435456+Math.round(2147483648*Math.random())}():S1++,"0x"+S1.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eXe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tXe{constructor(t){this.co=t.co,this.lo=t.lo}ho(t){this.Po=t}Io(t){this.To=t}onMessage(t){this.Eo=t}close(){this.lo()}send(t){this.co(t)}Ao(){this.Po()}Ro(t){this.To(t)}Vo(t){this.Eo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi="WebChannelConnection";class nXe extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${s}`,this.po=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(n,r,i,s,o){const a=aO(),u=this.So(n,r);Ze("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const l={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(l,s,o),this.Do(n,u,l,i).then(c=>(Ze("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw Ky("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",u,"request:",i),c})}Co(n,r,i,s,o,a){return this.wo(n,r,i,s,o)}bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Jm}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}So(n,r){const i=eXe[n];return`${this.mo}/v1/${r}:${i}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Do(t,n,r,i){const s=aO();return new Promise((o,a)=>{const u=new lKe;u.setWithCredentials(!0),u.listenOnce(aKe.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case sO.NO_ERROR:const c=u.getResponseJson();Ze(Bi,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(c)),o(c);break;case sO.TIMEOUT:Ze(Bi,`RPC '${t}' ${s} timed out`),a(new rt(Pe.DEADLINE_EXCEEDED,"Request time out"));break;case sO.HTTP_ERROR:const f=u.getStatus();if(Ze(Bi,`RPC '${t}' ${s} failed with status:`,f,"response text:",u.getResponseText()),f>0){let d=u.getResponseJson();Array.isArray(d)&&(d=d[0]);const h=d==null?void 0:d.error;if(h&&h.status&&h.message){const p=function(y){const g=y.toLowerCase().replace(/_/g,"-");return Object.values(Pe).indexOf(g)>=0?g:Pe.UNKNOWN}(h.status);a(new rt(p,h.message))}else a(new rt(Pe.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new rt(Pe.UNAVAILABLE,"Connection failed."));break;default:yt()}}finally{Ze(Bi,`RPC '${t}' ${s} completed.`)}});const l=JSON.stringify(i);Ze(Bi,`RPC '${t}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}vo(t,n,r){const i=aO(),s=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=sKe(),a=oKe(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.bo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const c=s.join("");Ze(Bi,`Creating RPC '${t}' stream ${i}: ${c}`,u);const f=o.createWebChannel(c,u);let d=!1,h=!1;const p=new tXe({co:y=>{h?Ze(Bi,`Not sending because RPC '${t}' stream ${i} is closed:`,y):(d||(Ze(Bi,`Opening RPC '${t}' stream ${i} transport.`),f.open(),d=!0),Ze(Bi,`RPC '${t}' stream ${i} sending:`,y),f.send(y))},lo:()=>f.close()}),m=(y,g,_)=>{y.listen(g,b=>{try{_(b)}catch(T){setTimeout(()=>{throw T},0)}})};return m(f,E1.EventType.OPEN,()=>{h||Ze(Bi,`RPC '${t}' stream ${i} transport opened.`)}),m(f,E1.EventType.CLOSE,()=>{h||(h=!0,Ze(Bi,`RPC '${t}' stream ${i} transport closed`),p.Ro())}),m(f,E1.EventType.ERROR,y=>{h||(h=!0,Ky(Bi,`RPC '${t}' stream ${i} transport errored:`,y),p.Ro(new rt(Pe.UNAVAILABLE,"The operation could not be completed")))}),m(f,E1.EventType.MESSAGE,y=>{var g;if(!h){const _=y.data[0];qn(!!_);const b=_,T=b.error||((g=b[0])===null||g===void 0?void 0:g.error);if(T){Ze(Bi,`RPC '${t}' stream ${i} received error:`,T);const I=T.status;let E=function(L){const Y=$r[L];if(Y!==void 0)return qse(Y)}(I),S=T.message;E===void 0&&(E=Pe.INTERNAL,S="Unknown error status: "+I+" with message "+T.message),h=!0,p.Ro(new rt(E,S)),f.close()}else Ze(Bi,`RPC '${t}' stream ${i} received:`,_),p.Vo(_)}}),m(a,uKe.STAT_EVENT,y=>{y.stat===mV.PROXY?Ze(Bi,`RPC '${t}' stream ${i} detected buffering proxy`):y.stat===mV.NOPROXY&&Ze(Bi,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Ao()},0),p}}function uO(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _x(e){return new hQe(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class noe{constructor(t,n,r=1e3,i=1.5,s=6e4){this.si=t,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(t){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&Ze("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),t())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class roe{constructor(t,n,r,i,s,o,a,u){this.si=t,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new noe(t,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(t){this.t_(),this.stream.send(t)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(t,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,t!==4?this.zo.reset():n&&n.code===Pe.RESOURCE_EXHAUSTED?(Rl(n.toString()),Rl("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===Pe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Io(n)}r_(){}auth(){this.state=1;const t=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{t(()=>{const i=new rt(Pe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(t,n){const r=this.i_(this.Uo);this.stream=this.__(t,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(t){return Ze("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}i_(t){return n=>{this.si.enqueueAndForget(()=>this.Uo===t?n():(Ze("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rXe extends roe{constructor(t,n,r,i,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}__(t,n){return this.connection.vo("Listen",t,n)}onMessage(t){this.zo.reset();const n=gQe(this.serializer,t),r=function(s){if(!("targetChange"in s))return Tt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Tt.min():o.readTime?mu(o.readTime):Tt.min()}(t);return this.listener.a_(n,r)}u_(t){const n={};n.database=AR(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=TR(u)?{documents:vQe(s,u)}:{query:bQe(s,u)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Gse(s,o.resumeToken);const l=IR(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(Tt.min())>0){a.readTime=VT(s,o.snapshotVersion.toTimestamp());const l=IR(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,t);const r=wQe(this.serializer,t);r&&(n.labels=r),this.e_(n)}c_(t){const n={};n.database=AR(this.serializer),n.removeTarget=t,this.e_(n)}}class iXe extends roe{constructor(t,n,r,i,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(t,n){return this.connection.vo("Write",t,n)}onMessage(t){if(qn(!!t.streamToken),this.lastStreamToken=t.streamToken,this.l_){this.zo.reset();const n=_Qe(t.writeResults,t.commitTime),r=mu(t.commitTime);return this.listener.I_(r,n)}return qn(!t.writeResults||t.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const t={};t.database=AR(this.serializer),this.e_(t)}P_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>yQe(this.serializer,r))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sXe extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new rt(Pe.FAILED_PRECONDITION,"The client has already been terminated.")}wo(t,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(t,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===Pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new rt(Pe.UNKNOWN,i.toString())})}Co(t,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(t,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new rt(Pe.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class oXe{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(t){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.p_("Offline")))}set(t){this.S_(),this.V_=0,t==="Online"&&(this.f_=!1),this.p_(t)}p_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}y_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Rl(n),this.f_=!1):Ze("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aXe{constructor(t,n,r,i,s){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(o=>{r.enqueueAndForget(async()=>{uh(this)&&(Ze("RemoteStore","Restarting streams for network reachability change."),await async function(u){const l=Pt(u);l.C_.add(4),await sv(l),l.M_.set("Unknown"),l.C_.delete(4),await iv(l)}(this))})}),this.M_=new oXe(r,i)}}async function iv(e){if(uh(e))for(const t of e.v_)await t(!0)}async function sv(e){for(const t of e.v_)await t(!1)}function ioe(e,t){const n=Pt(e);n.D_.has(t.targetId)||(n.D_.set(t.targetId,t),E6(n)?b6(n):t0(n).Ho()&&v6(n,t))}function soe(e,t){const n=Pt(e),r=t0(n);n.D_.delete(t),r.Ho()&&ooe(n,t),n.D_.size===0&&(r.Ho()?r.Zo():uh(n)&&n.M_.set("Unknown"))}function v6(e,t){if(e.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}t0(e).u_(t)}function ooe(e,t){e.x_.Oe(t),t0(e).c_(t)}function b6(e){e.x_=new lQe({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.D_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),t0(e).start(),e.M_.g_()}function E6(e){return uh(e)&&!t0(e).jo()&&e.D_.size>0}function uh(e){return Pt(e).C_.size===0}function aoe(e){e.x_=void 0}async function uXe(e){e.D_.forEach((t,n)=>{v6(e,t)})}async function lXe(e,t){aoe(e),E6(e)?(e.M_.w_(t),b6(e)):e.M_.set("Unknown")}async function cXe(e,t,n){if(e.M_.set("Online"),t instanceof Yse&&t.state===2&&t.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.D_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.D_.delete(a),i.x_.removeTarget(a))}(e,t)}catch(r){Ze("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await zT(e,r)}else if(t instanceof hb?e.x_.$e(t):t instanceof Wse?e.x_.Je(t):e.x_.Ge(t),!n.isEqual(Tt.min()))try{const r=await toe(e.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){const c=s.D_.get(l);c&&s.D_.set(l,c.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,l)=>{const c=s.D_.get(u);if(!c)return;s.D_.set(u,c.withResumeToken(Ji.EMPTY_BYTE_STRING,c.snapshotVersion)),ooe(s,u);const f=new wc(c.target,u,l,c.sequenceNumber);v6(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){Ze("RemoteStore","Failed to raise snapshot:",r),await zT(e,r)}}async function zT(e,t,n){if(!tv(t))throw t;e.C_.add(1),await sv(e),e.M_.set("Offline"),n||(n=()=>toe(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Ze("RemoteStore","Retrying IndexedDB access"),await n(),e.C_.delete(1),await iv(e)})}function uoe(e,t){return t().catch(n=>zT(e,n,t))}async function vx(e){const t=Pt(e),n=lf(t);let r=t.b_.length>0?t.b_[t.b_.length-1].batchId:-1;for(;fXe(t);)try{const i=await KQe(t.localStore,r);if(i===null){t.b_.length===0&&n.Zo();break}r=i.batchId,dXe(t,i)}catch(i){await zT(t,i)}loe(t)&&coe(t)}function fXe(e){return uh(e)&&e.b_.length<10}function dXe(e,t){e.b_.push(t);const n=lf(e);n.Ho()&&n.h_&&n.P_(t.mutations)}function loe(e){return uh(e)&&!lf(e).jo()&&e.b_.length>0}function coe(e){lf(e).start()}async function hXe(e){lf(e).E_()}async function pXe(e){const t=lf(e);for(const n of e.b_)t.P_(n.mutations)}async function mXe(e,t,n){const r=e.b_.shift(),i=h6.from(r,t,n);await uoe(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await vx(e)}async function gXe(e,t){t&&lf(e).h_&&await async function(r,i){if(function(o){return oQe(o)&&o!==Pe.ABORTED}(i.code)){const s=r.b_.shift();lf(r).Yo(),await uoe(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await vx(r)}}(e,t),loe(e)&&coe(e)}async function BV(e,t){const n=Pt(e);n.asyncQueue.verifyOperationInProgress(),Ze("RemoteStore","RemoteStore received new credentials");const r=uh(n);n.C_.add(3),await sv(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.C_.delete(3),await iv(n)}async function yXe(e,t){const n=Pt(e);t?(n.C_.delete(2),await iv(n)):t||(n.C_.add(2),await sv(n),n.M_.set("Unknown"))}function t0(e){return e.O_||(e.O_=function(n,r,i){const s=Pt(n);return s.A_(),new rXe(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{ho:uXe.bind(null,e),Io:lXe.bind(null,e),a_:cXe.bind(null,e)}),e.v_.push(async t=>{t?(e.O_.Yo(),E6(e)?b6(e):e.M_.set("Unknown")):(await e.O_.stop(),aoe(e))})),e.O_}function lf(e){return e.N_||(e.N_=function(n,r,i){const s=Pt(n);return s.A_(),new iXe(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{ho:hXe.bind(null,e),Io:gXe.bind(null,e),T_:pXe.bind(null,e),I_:mXe.bind(null,e)}),e.v_.push(async t=>{t?(e.N_.Yo(),await vx(e)):(await e.N_.stop(),e.b_.length>0&&(Ze("RemoteStore",`Stopping write stream with ${e.b_.length} pending writes`),e.b_=[]))})),e.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new dl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,a=new w6(t,n,o,i,s);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(Pe.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function T6(e,t){if(Rl("AsyncQueue",`${t}: ${e}`),tv(e))return new rt(Pe.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(t){this.comparator=t?(n,r)=>t(n,r)||ct.comparator(n.key,r.key):(n,r)=>ct.comparator(n.key,r.key),this.keyedMap=og(),this.sortedSet=new gr(this.comparator)}static emptySet(t){return new Pp(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Pp)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Pp;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(){this.B_=new gr(ct.comparator)}track(t){const n=t.doc.key,r=this.B_.get(n);r?t.type!==0&&r.type===3?this.B_=this.B_.insert(n,t):t.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.B_=this.B_.remove(n):t.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):yt():this.B_=this.B_.insert(n,t)}L_(){const t=[];return this.B_.inorderTraversal((n,r)=>{t.push(r)}),t}}class _m{constructor(t,n,r,i,s,o,a,u,l){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(t,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new _m(t,n,Pp.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&hx(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Xe{constructor(){this.k_=void 0,this.listeners=[]}}class vXe{constructor(){this.queries=new e0(t=>Rse(t),hx),this.onlineState="Unknown",this.q_=new Set}}async function foe(e,t){const n=Pt(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new _Xe),i)try{s.k_=await n.onListen(r)}catch(o){const a=T6(o,`Initialization of query '${Oh(t.query)}' failed`);return void t.onError(a)}n.queries.set(r,s),s.listeners.push(t),t.Q_(n.onlineState),s.k_&&t.K_(s.k_)&&S6(n)}async function doe(e,t){const n=Pt(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(t);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function bXe(e,t){const n=Pt(e);let r=!1;for(const i of t){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&S6(n)}function EXe(e,t,n){const r=Pt(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function S6(e){e.q_.forEach(t=>{t.next()})}class hoe{constructor(t,n,r){this.query=t,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new _m(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.W_?this.z_(t)&&(this.U_.next(t),n=!0):this.j_(t,this.onlineState)&&(this.H_(t),n=!0),this.G_=t,n}onError(t){this.U_.error(t)}Q_(t){this.onlineState=t;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,t)&&(this.H_(this.G_),n=!0),n}j_(t,n){if(!t.fromCache)return!0;const r=n!=="Offline";return(!this.options.J_||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}z_(t){if(t.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(t){t=_m.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.W_=!0,this.U_.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class poe{constructor(t){this.key=t}}class moe{constructor(t){this.key=t}}class wXe{constructor(t,n){this.query=t,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Gt(),this.mutatedKeys=Gt(),this._a=Nse(t),this.aa=new Pp(this._a)}get ua(){return this.ia}ca(t,n){const r=n?n.la:new jV,i=n?n.aa:this.aa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,f)=>{const d=i.get(c),h=px(this.query,f)?f:null,p=!!d&&this.mutatedKeys.has(d.key),m=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let y=!1;d&&h?d.data.isEqual(h.data)?p!==m&&(r.track({type:3,doc:h}),y=!0):this.ha(d,h)||(r.track({type:2,doc:h}),y=!0,(u&&this._a(h,u)>0||l&&this._a(h,l)<0)&&(a=!0)):!d&&h?(r.track({type:0,doc:h}),y=!0):d&&!h&&(r.track({type:1,doc:d}),y=!0,(u||l)&&(a=!0)),y&&(h?(o=o.add(h),s=m?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,i){const s=this.aa;this.aa=t.aa,this.mutatedKeys=t.mutatedKeys;const o=t.la.L_();o.sort((c,f)=>function(h,p){const m=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt()}};return m(h)-m(p)}(c.type,f.type)||this._a(c.doc,f.doc)),this.Pa(r),i=i!=null&&i;const a=n&&!i?this.Ia():[],u=this.oa.size===0&&this.current&&!i?1:0,l=u!==this.sa;return this.sa=u,o.length!==0||l?{snapshot:new _m(this.query,t.aa,s,o,t.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new jV,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(t){return!this.ia.has(t)&&!!this.aa.has(t)&&!this.aa.get(t).hasLocalMutations}Pa(t){t&&(t.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=t.current)}Ia(){if(!this.current)return[];const t=this.oa;this.oa=Gt(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return t.forEach(r=>{this.oa.has(r)||n.push(new moe(r))}),this.oa.forEach(r=>{t.has(r)||n.push(new poe(r))}),n}da(t){this.ia=t.ls,this.oa=Gt();const n=this.ca(t.documents);return this.applyChanges(n,!0)}Aa(){return _m.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class TXe{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class SXe{constructor(t){this.key=t,this.Ra=!1}}class IXe{constructor(t,n,r,i,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new e0(a=>Rse(a),hx),this.fa=new Map,this.ga=new Set,this.pa=new gr(ct.comparator),this.ya=new Map,this.wa=new g6,this.Sa={},this.ba=new Map,this.Da=ym.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function xXe(e,t){const n=LXe(e);let r,i;const s=n.ma.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=await QQe(n.localStore,pu(t)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await CXe(n,t,r,a==="current",o.resumeToken),n.isPrimaryClient&&ioe(n.remoteStore,o)}return i}async function CXe(e,t,n,r,i){e.va=(f,d,h)=>async function(m,y,g,_){let b=y.view.ca(g);b.Zi&&(b=await LV(m.localStore,y.query,!1).then(({documents:S})=>y.view.ca(S,b)));const T=_&&_.targetChanges.get(y.targetId),I=_&&_.targetMismatches.get(y.targetId)!=null,E=y.view.applyChanges(b,m.isPrimaryClient,T,I);return VV(m,y.targetId,E.Ta),E.snapshot}(e,f,d,h);const s=await LV(e.localStore,t,!0),o=new wXe(t,s.ls),a=o.ca(s.documents),u=rv.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),l=o.applyChanges(a,e.isPrimaryClient,u);VV(e,n,l.Ta);const c=new TXe(t,n,o);return e.ma.set(t,c),e.fa.has(n)?e.fa.get(n).push(t):e.fa.set(n,[t]),l.snapshot}async function AXe(e,t){const n=Pt(e),r=n.ma.get(t),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(s=>!hx(s,t))),void n.ma.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await OR(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),soe(n.remoteStore,r.targetId),PR(n,r.targetId)}).catch(ev)):(PR(n,r.targetId),await OR(n.localStore,r.targetId,!0))}async function OXe(e,t,n){const r=MXe(e);try{const i=await function(o,a){const u=Pt(o),l=Xr.now(),c=a.reduce((h,p)=>h.add(p.key),Gt());let f,d;return u.persistence.runTransaction("Locally write mutations","readwrite",h=>{let p=Nl(),m=Gt();return u.ss.getEntries(h,c).next(y=>{p=y,p.forEach((g,_)=>{_.isValidDocument()||(m=m.add(g))})}).next(()=>u.localDocuments.getOverlayedDocuments(h,p)).next(y=>{f=y;const g=[];for(const _ of a){const b=tQe(_,f.get(_.key).overlayedDocument);b!=null&&g.push(new ah(_.key,b,Sse(b.value.mapValue),hl.exists(!0)))}return u.mutationQueue.addMutationBatch(h,l,g,a)}).next(y=>{d=y;const g=y.applyToLocalDocumentSet(f,m);return u.documentOverlayCache.saveOverlays(h,y.batchId,g)})}).then(()=>({batchId:d.batchId,changes:Dse(f)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.Sa[o.currentUser.toKey()];l||(l=new gr(Tn)),l=l.insert(a,u),o.Sa[o.currentUser.toKey()]=l}(r,i.batchId,n),await ov(r,i.changes),await vx(r.remoteStore)}catch(i){const s=T6(i,"Failed to persist write");n.reject(s)}}async function goe(e,t){const n=Pt(e);try{const r=await YQe(n.localStore,t);t.targetChanges.forEach((i,s)=>{const o=n.ya.get(s);o&&(qn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?qn(o.Ra):i.removedDocuments.size>0&&(qn(o.Ra),o.Ra=!1))}),await ov(n,r,t)}catch(r){await ev(r)}}function UV(e,t,n){const r=Pt(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ma.forEach((s,o)=>{const a=o.view.Q_(t);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=Pt(o);u.onlineState=a;let l=!1;u.queries.forEach((c,f)=>{for(const d of f.listeners)d.Q_(a)&&(l=!0)}),l&&S6(u)}(r.eventManager,t),i.length&&r.Va.a_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function PXe(e,t,n){const r=Pt(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.ya.get(t),s=i&&i.key;if(s){let o=new gr(ct.comparator);o=o.insert(s,Hi.newNoDocument(s,Tt.min()));const a=Gt().add(s),u=new yx(Tt.min(),new Map,new gr(Tn),o,a);await goe(r,u),r.pa=r.pa.remove(s),r.ya.delete(t),I6(r)}else await OR(r.localStore,t,!1).then(()=>PR(r,t,n)).catch(ev)}async function RXe(e,t){const n=Pt(e),r=t.batch.batchId;try{const i=await WQe(n.localStore,t);_oe(n,r,null),yoe(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ov(n,i)}catch(i){await ev(i)}}async function NXe(e,t,n){const r=Pt(e);try{const i=await function(o,a){const u=Pt(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return u.mutationQueue.lookupMutationBatch(l,a).next(f=>(qn(f!==null),c=f.keys(),u.mutationQueue.removeMutationBatch(l,f))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,c,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>u.localDocuments.getDocuments(l,c))})}(r.localStore,t);_oe(r,t,n),yoe(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await ov(r,i)}catch(i){await ev(i)}}function yoe(e,t){(e.ba.get(t)||[]).forEach(n=>{n.resolve()}),e.ba.delete(t)}function _oe(e,t,n){const r=Pt(e);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.Sa[r.currentUser.toKey()]=i}}function PR(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.fa.get(t))e.ma.delete(r),n&&e.Va.Fa(r,n);e.fa.delete(t),e.isPrimaryClient&&e.wa.Rr(t).forEach(r=>{e.wa.containsKey(r)||voe(e,r)})}function voe(e,t){e.ga.delete(t.path.canonicalString());const n=e.pa.get(t);n!==null&&(soe(e.remoteStore,n),e.pa=e.pa.remove(t),e.ya.delete(n),I6(e))}function VV(e,t,n){for(const r of n)r instanceof poe?(e.wa.addReference(r.key,t),kXe(e,r)):r instanceof moe?(Ze("SyncEngine","Document no longer in limbo: "+r.key),e.wa.removeReference(r.key,t),e.wa.containsKey(r.key)||voe(e,r.key)):yt()}function kXe(e,t){const n=t.key,r=n.path.canonicalString();e.pa.get(n)||e.ga.has(r)||(Ze("SyncEngine","New document in limbo: "+n),e.ga.add(r),I6(e))}function I6(e){for(;e.ga.size>0&&e.pa.size<e.maxConcurrentLimboResolutions;){const t=e.ga.values().next().value;e.ga.delete(t);const n=new ct(or.fromString(t)),r=e.Da.next();e.ya.set(r,new SXe(n)),e.pa=e.pa.insert(n,r),ioe(e.remoteStore,new wc(pu(d6(n.path)),r,"TargetPurposeLimboResolution",o6._e))}}async function ov(e,t,n){const r=Pt(e),i=[],s=[],o=[];r.ma.isEmpty()||(r.ma.forEach((a,u)=>{o.push(r.va(u,t,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,l!=null&&l.fromCache?"not-current":"current"),l){i.push(l);const c=_6.Qi(u.targetId,l);s.push(c)}}))}),await Promise.all(o),r.Va.a_(i),await async function(u,l){const c=Pt(u);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Re.forEach(l,d=>Re.forEach(d.ki,h=>c.persistence.referenceDelegate.addReference(f,d.targetId,h)).next(()=>Re.forEach(d.qi,h=>c.persistence.referenceDelegate.removeReference(f,d.targetId,h)))))}catch(f){if(!tv(f))throw f;Ze("LocalStore","Failed to update sequence numbers: "+f)}for(const f of l){const d=f.targetId;if(!f.fromCache){const h=c.ts.get(d),p=h.snapshotVersion,m=h.withLastLimboFreeSnapshotVersion(p);c.ts=c.ts.insert(d,m)}}}(r.localStore,s))}async function DXe(e,t){const n=Pt(e);if(!n.currentUser.isEqual(t)){Ze("SyncEngine","User change. New user:",t.toKey());const r=await eoe(n.localStore,t);n.currentUser=t,function(s,o){s.ba.forEach(a=>{a.forEach(u=>{u.reject(new rt(Pe.CANCELLED,o))})}),s.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await ov(n,r._s)}}function $Xe(e,t){const n=Pt(e),r=n.ya.get(t);if(r&&r.Ra)return Gt().add(r.key);{let i=Gt();const s=n.fa.get(t);if(!s)return i;for(const o of s){const a=n.ma.get(o);i=i.unionWith(a.view.ua)}return i}}function LXe(e){const t=Pt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=goe.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=$Xe.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=PXe.bind(null,t),t.Va.a_=bXe.bind(null,t.eventManager),t.Va.Fa=EXe.bind(null,t.eventManager),t}function MXe(e){const t=Pt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=RXe.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=NXe.bind(null,t),t}class zV{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=_x(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return qQe(this.persistence,new zQe,t.initialUser,this.serializer)}createPersistence(t){return new jQe(y6.jr,this.serializer)}createSharedClientState(t){return new JQe}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class FXe{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>UV(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=DXe.bind(null,this.syncEngine),await yXe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new vXe}()}createDatastore(t){const n=_x(t.databaseInfo.databaseId),r=function(s){return new nXe(s)}(t.databaseInfo);return function(s,o,a,u){return new sXe(s,o,a,u)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,s,o,a){return new aXe(r,i,s,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>UV(this.syncEngine,n,0),function(){return FV.D()?new FV:new ZQe}())}createSyncEngine(t,n){return function(i,s,o,a,u,l,c){const f=new IXe(i,s,o,a,u,l);return c&&(f.Ca=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=Pt(n);Ze("RemoteStore","RemoteStore shutting down."),r.C_.add(5),await sv(r),r.F_.shutdown(),r.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class boe{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Oa(this.observer.next,t)}error(t){this.observer.error?this.Oa(this.observer.error,t):Rl("Uncaught Error in snapshot listener:",t.toString())}Na(){this.muted=!0}Oa(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BXe{constructor(t,n,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=bs.UNAUTHENTICATED,this.clientId=Ese.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{Ze("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Ze("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new rt(Pe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new dl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=T6(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function lO(e,t){e.asyncQueue.verifyOperationInProgress(),Ze("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await eoe(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function HV(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Eoe(e);Ze("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(i=>BV(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,s)=>BV(t.remoteStore,s)),e._onlineComponents=t}function jXe(e){return e.name==="FirebaseError"?e.code===Pe.FAILED_PRECONDITION||e.code===Pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function Eoe(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Ze("FirestoreClient","Using user provided OfflineComponentProvider");try{await lO(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!jXe(n))throw n;Ky("Error using user provided cache. Falling back to memory cache: "+n),await lO(e,new zV)}}else Ze("FirestoreClient","Using default OfflineComponentProvider"),await lO(e,new zV);return e._offlineComponents}async function x6(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Ze("FirestoreClient","Using user provided OnlineComponentProvider"),await HV(e,e._uninitializedComponentsProvider._online)):(Ze("FirestoreClient","Using default OnlineComponentProvider"),await HV(e,new FXe))),e._onlineComponents}function UXe(e){return Eoe(e).then(t=>t.persistence)}function VXe(e){return x6(e).then(t=>t.remoteStore)}function zXe(e){return x6(e).then(t=>t.syncEngine)}async function woe(e){const t=await x6(e),n=t.eventManager;return n.onListen=xXe.bind(null,t.syncEngine),n.onUnlisten=AXe.bind(null,t.syncEngine),n}function HXe(e){return e.asyncQueue.enqueue(async()=>{const t=await UXe(e),n=await VXe(e);return t.setNetworkEnabled(!0),function(i){const s=Pt(i);return s.C_.delete(0),iv(s)}(n)})}function qXe(e,t,n={}){const r=new dl;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,l){const c=new boe({next:d=>{o.enqueueAndForget(()=>doe(s,f));const h=d.docs.has(a);!h&&d.fromCache?l.reject(new rt(Pe.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&u&&u.source==="server"?l.reject(new rt(Pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),f=new hoe(d6(a.path),c,{includeMetadataChanges:!0,J_:!0});return foe(s,f)}(await woe(e),e.asyncQueue,t,n,r)),r.promise}function WXe(e,t,n={}){const r=new dl;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,l){const c=new boe({next:d=>{o.enqueueAndForget(()=>doe(s,f)),d.fromCache&&u.source==="server"?l.reject(new rt(Pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),f=new hoe(a,c,{includeMetadataChanges:!0,J_:!0});return foe(s,f)}(await woe(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Toe(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qV=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Soe(e,t,n){if(!n)throw new rt(Pe.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function YXe(e,t,n,r){if(t===!0&&r===!0)throw new rt(Pe.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function WV(e){if(!ct.isDocumentKey(e))throw new rt(Pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function YV(e){if(ct.isDocumentKey(e))throw new rt(Pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function C6(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":yt()}function Ud(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new rt(Pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=C6(e);throw new rt(Pe.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new rt(Pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new rt(Pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}YXe("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Toe((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new rt(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new rt(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new rt(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class A6{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new GV({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new rt(Pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new rt(Pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new GV(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new dKe;switch(r.type){case"firstParty":return new mKe(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new rt(Pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=qV.get(n);r&&(Ze("ComponentProvider","Removing Datastore"),qV.delete(n),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new bx(this.firestore,t,this._query)}}class uo{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new uo(this.firestore,t,this._key)}}class zc extends bx{constructor(t,n,r){super(t,n,d6(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new uo(this.firestore,null,new ct(t))}withConverter(t){return new zc(this.firestore,t,this._path)}}function KV(e,t,...n){if(e=Xi(e),Soe("collection","path",t),e instanceof A6){const r=or.fromString(t,...n);return YV(r),new zc(e,null,r)}{if(!(e instanceof uo||e instanceof zc))throw new rt(Pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(or.fromString(t,...n));return YV(r),new zc(e.firestore,null,r)}}function ka(e,t,...n){if(e=Xi(e),arguments.length===1&&(t=Ese.newId()),Soe("doc","path",t),e instanceof A6){const r=or.fromString(t,...n);return WV(r),new uo(e,null,new ct(r))}{if(!(e instanceof uo||e instanceof zc))throw new rt(Pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(or.fromString(t,...n));return WV(r),new uo(e.firestore,e instanceof zc?e.converter:null,new ct(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GXe{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new noe(this,"async_queue_retry"),this.iu=()=>{const n=uO();n&&Ze("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const t=uO();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.su(),this.ou(t)}enterRestrictedMode(t){if(!this.Za){this.Za=!0,this.nu=t||!1;const n=uO();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(t){if(this.su(),this.Za)return new Promise(()=>{});const n=new dl;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ya.push(t),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(t){if(!tv(t))throw t;Ze("AsyncQueue","Operation failed with retryable error: "+t)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(t){const n=this.Ja.then(()=>(this.tu=!0,t().catch(r=>{this.eu=r,this.tu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Rl("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(t,n,r){this.su(),this.ru.indexOf(t)>-1&&(n=0);const i=w6.createAndSchedule(this,t,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&yt()}verifyOperationInProgress(){}async uu(){let t;do t=this.Ja,await t;while(t!==this.Ja)}cu(t){for(const n of this.Xa)if(n.timerId===t)return!0;return!1}lu(t){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.uu()})}hu(t){this.ru.push(t)}au(t){const n=this.Xa.indexOf(t);this.Xa.splice(n,1)}}class av extends A6{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=function(){return new GXe}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Ioe(this),this._firestoreClient.terminate()}}function KXe(e,t,n){n||(n="(default)");const r=Km(e,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),s=r.getOptions(n);if(By(s,t))return i;throw new rt(Pe.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(t.cacheSizeBytes!==void 0&&t.localCache!==void 0)throw new rt(Pe.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(t.cacheSizeBytes!==void 0&&t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new rt(Pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:t,instanceIdentifier:n})}function Ex(e){return e._firestoreClient||Ioe(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Ioe(e){var t,n,r;const i=e._freezeSettings(),s=function(a,u,l,c){return new CKe(a,u,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,Toe(c.experimentalLongPollingOptions),c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new BXe(e._authCredentials,e._appCheckCredentials,e._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function QXe(e){return HXe(Ex(e=Ud(e,av)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(t){this._byteString=t}static fromBase64String(t){try{return new vm(Ji.fromBase64String(t))}catch(n){throw new rt(Pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new vm(Ji.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new rt(Pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ai(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xoe{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new rt(Pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new rt(Pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Tn(this._lat,t._lat)||Tn(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XXe=/^__.*__$/;class JXe{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new ah(t,this.data,this.fieldMask,n,this.fieldTransforms):new nv(t,this.data,n,this.fieldTransforms)}}function Coe(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt()}}class R6{constructor(t,n,r,i,s,o){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(t){return new R6(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Tu({path:r,du:!1});return i.Au(t),i}Ru(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(t){return this.Tu({path:void 0,du:!0})}mu(t){return HT(t,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Au(this.path.get(t))}Au(t){if(t.length===0)throw this.mu("Document fields must not be empty");if(Coe(this.Iu)&&XXe.test(t))throw this.mu('Document fields cannot begin and end with "__"')}}class ZXe{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||_x(t)}pu(t,n,r,i=!1){return new R6({Iu:t,methodName:n,gu:r,path:Ai.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function eJe(e){const t=e._freezeSettings(),n=_x(e._databaseId);return new ZXe(e._databaseId,!!t.ignoreUndefinedProperties,n)}function tJe(e,t,n,r,i,s={}){const o=e.pu(s.merge||s.mergeFields?2:0,t,n,i);Roe("Data must be an object, but it was:",o,r);const a=Ooe(r,o);let u,l;if(s.merge)u=new ya(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const f of s.mergeFields){const d=nJe(t,f,n);if(!o.contains(d))throw new rt(Pe.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);iJe(c,d)||c.push(d)}u=new ya(c),l=o.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,l=o.fieldTransforms;return new JXe(new $o(a),u,l)}function Aoe(e,t){if(Poe(e=Xi(e)))return Roe("Unsupported field value:",t,e),Ooe(e,t);if(e instanceof xoe)return function(r,i){if(!Coe(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.du&&t.Iu!==4)throw t.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=Aoe(a,i.Vu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(e,t)}return function(r,i){if((r=Xi(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return KKe(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Xr.fromDate(r);return{timestampValue:VT(i.serializer,s)}}if(r instanceof Xr){const s=new Xr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:VT(i.serializer,s)}}if(r instanceof P6)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof vm)return{bytesValue:Gse(i.serializer,r._byteString)};if(r instanceof uo){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:m6(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${C6(r)}`)}(e,t)}function Ooe(e,t){const n={};return wse(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Zm(e,(r,i)=>{const s=Aoe(i,t.Eu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Poe(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Xr||e instanceof P6||e instanceof vm||e instanceof uo||e instanceof xoe)}function Roe(e,t,n){if(!Poe(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=C6(n);throw r==="an object"?t.mu(e+" a custom object"):t.mu(e+" "+r)}}function nJe(e,t,n){if((t=Xi(t))instanceof O6)return t._internalPath;if(typeof t=="string")return Noe(e,t);throw HT("Field path arguments must be of type string or ",e,!1,void 0,n)}const rJe=new RegExp("[~\\*/\\[\\]]");function Noe(e,t,n){if(t.search(rJe)>=0)throw HT(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new O6(...t.split("."))._internalPath}catch{throw HT(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function HT(e,t,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new rt(Pe.INVALID_ARGUMENT,a+e+u)}function iJe(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class koe{constructor(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new uo(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new sJe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Doe("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class sJe extends koe{data(){return super.data()}}function Doe(e,t){return typeof t=="string"?Noe(e,t):t instanceof O6?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oJe(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new rt(Pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class aJe{convertValue(t,n="none"){switch(jd(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Mr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Bd(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw yt()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Zm(t,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(t){return new P6(Mr(t.latitude),Mr(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=u6(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Xy(t));default:return null}}convertTimestamp(t){const n=uf(t);return new Xr(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=or.fromString(t);qn(Zse(r));const i=new Jy(r.get(1),r.get(3)),s=new ct(r.popFirst(5));return i.isEqual(n)||Rl(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uJe(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class $oe extends koe{constructor(t,n,r,i,s,o){super(t,n,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new pb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(Doe("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class pb extends $oe{data(t={}){return super.data(t)}}class lJe{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new ug(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new pb(this._firestore,this._userDataWriter,r.key,r,new ug(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new rt(Pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const u=new pb(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ug(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const u=new pb(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ug(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,c=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:cJe(a.type),doc:u,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function cJe(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(e){e=Ud(e,uo);const t=Ud(e.firestore,av);return qXe(Ex(t),e._key).then(n=>hJe(t,e,n))}class Loe extends aJe{constructor(t){super(),this.firestore=t}convertBytes(t){return new vm(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new uo(this.firestore,null,n)}}function fJe(e){e=Ud(e,bx);const t=Ud(e.firestore,av),n=Ex(t),r=new Loe(t);return oJe(e._query),WXe(n,e._query).then(i=>new lJe(t,r,e,i))}function V0(e,t,n){e=Ud(e,uo);const r=Ud(e.firestore,av),i=uJe(e.converter,t,n);return dJe(r,[tJe(eJe(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,hl.none())])}function dJe(e,t){return function(r,i){const s=new dl;return r.asyncQueue.enqueueAndForget(async()=>OXe(await zXe(r),i,s)),s.promise}(Ex(e),t)}function hJe(e,t,n){const r=n.docs.get(t._key),i=new Loe(e);return new $oe(e,i,t._key,r,new ug(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(i){Jm=i})(sh),Ol(new xu("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new av(new hKe(r.getProvider("auth-internal")),new yKe(r.getProvider("app-check-internal")),function(l,c){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new rt(Pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jy(l.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ea(gV,"4.4.0",t),Ea(gV,"4.4.0","esm2017")})();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=new Map,Moe={activated:!1,tokenObservers:[]},pJe={initialized:!1,enabled:!1};function Jr(e){return RR.get(e)||Object.assign({},Moe)}function mJe(e,t){return RR.set(e,t),RR.get(e)}function wx(){return pJe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Foe="https://content-firebaseappcheck.googleapis.com/v1",gJe="exchangeRecaptchaV3Token",yJe="exchangeDebugToken",QV={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},_Je=24*60*60*1e3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vJe{constructor(t,n,r,i,s){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(t){this.stop();try{this.pending=new Fy,await bJe(this.getNextRun(t)),this.pending.resolve(),await this.pending.promise,this.pending=new Fy,await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function bJe(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EJe={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Ns=new Gm("appCheck","AppCheck",EJe);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XV(e=!1){var t;return e?(t=self.grecaptcha)===null||t===void 0?void 0:t.enterprise:self.grecaptcha}function N6(e){if(!Jr(e).activated)throw Ns.create("use-before-activation",{appName:e.name})}function Boe(e){const t=Math.round(e/1e3),n=Math.floor(t/(3600*24)),r=Math.floor((t-n*3600*24)/3600),i=Math.floor((t-n*3600*24-r*3600)/60),s=t-n*3600*24-r*3600-i*60;let o="";return n&&(o+=I1(n)+"d:"),r&&(o+=I1(r)+"h:"),o+=I1(i)+"m:"+I1(s)+"s",o}function I1(e){return e===0?"00":e>=10?e.toString():"0"+e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k6({url:e,body:t},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const f=await i.getHeartbeatsHeader();f&&(r["X-Firebase-Client"]=f)}const s={method:"POST",body:JSON.stringify(t),headers:r};let o;try{o=await fetch(e,s)}catch(f){throw Ns.create("fetch-network-error",{originalErrorMessage:f==null?void 0:f.message})}if(o.status!==200)throw Ns.create("fetch-status-error",{httpStatus:o.status});let a;try{a=await o.json()}catch(f){throw Ns.create("fetch-parse-error",{originalErrorMessage:f==null?void 0:f.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Ns.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=Number(u[1])*1e3,c=Date.now();return{token:a.token,expireTimeMillis:c+l,issuedAtTimeMillis:c}}function wJe(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${Foe}/projects/${n}/apps/${r}:${gJe}?key=${i}`,body:{recaptcha_v3_token:t}}}function joe(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${Foe}/projects/${n}/apps/${r}:${yJe}?key=${i}`,body:{debug_token:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TJe="firebase-app-check-database",SJe=1,n_="firebase-app-check-store",Uoe="debug-token";let x1=null;function Voe(){return x1||(x1=new Promise((e,t)=>{try{const n=indexedDB.open(TJe,SJe);n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{var i;t(Ns.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(n_,{keyPath:"compositeKey"})}}}catch(n){t(Ns.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),x1)}function IJe(e){return Hoe(qoe(e))}function xJe(e,t){return zoe(qoe(e),t)}function CJe(e){return zoe(Uoe,e)}function AJe(){return Hoe(Uoe)}async function zoe(e,t){const r=(await Voe()).transaction(n_,"readwrite"),s=r.objectStore(n_).put({compositeKey:e,value:t});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var l;a(Ns.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})}async function Hoe(e){const n=(await Voe()).transaction(n_,"readonly"),i=n.objectStore(n_).get(e);return new Promise((s,o)=>{i.onsuccess=a=>{const u=a.target.result;s(u?u.value:void 0)},n.onerror=a=>{var u;o(Ns.create("storage-get",{originalErrorMessage:(u=a.target.error)===null||u===void 0?void 0:u.message}))}})}function qoe(e){return`${e.options.appId}-${e.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_=new GI("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OJe(e){if(O3()){let t;try{t=await IJe(e)}catch(n){r_.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return t}}function cO(e,t){return O3()?xJe(e,t).catch(n=>{r_.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}async function PJe(){let e;try{e=await AJe()}catch{}if(e)return e;{const t=Dqe();return CJe(t).catch(n=>r_.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D6(){return wx().enabled}async function $6(){const e=wx();if(e.enabled&&e.token)return e.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}function RJe(){const e=Wre(),t=wx();if(t.initialized=!0,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&e.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;t.enabled=!0;const n=new Fy;t.token=n,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(PJe())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NJe={error:"UNKNOWN_ERROR"};function kJe(e){return C3.encodeString(JSON.stringify(e),!1)}async function NR(e,t=!1){const n=e.app;N6(n);const r=Jr(n);let i=r.token,s;if(i&&!tp(i)&&(r.token=void 0,i=void 0),!i){const u=await r.cachedTokenPromise;u&&(tp(u)?i=u:await cO(n,void 0))}if(!t&&i&&tp(i))return{token:i.token};let o=!1;if(D6()){r.exchangeTokenPromise||(r.exchangeTokenPromise=k6(joe(n,await $6()),e.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=await r.exchangeTokenPromise;return await cO(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=await Jr(n).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"?r_.warn(u.message):r_.error(u),s=u}let a;return i?s?tp(i)?a={token:i.token,internalError:s}:a=ZV(s):(a={token:i.token},r.token=i,await cO(n,i)):a=ZV(s),o&&Goe(n,a),a}async function DJe(e){const t=e.app;N6(t);const{provider:n}=Jr(t);if(D6()){const r=await $6(),{token:i}=await k6(joe(t,r),e.heartbeatServiceProvider);return{token:i}}else{const{token:r}=await n.getToken();return{token:r}}}function Woe(e,t,n,r){const{app:i}=e,s=Jr(i),o={next:n,error:r,type:t};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&tp(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),JV(e)}).catch(()=>{})}s.cachedTokenPromise.then(()=>JV(e))}function Yoe(e,t){const n=Jr(e),r=n.tokenObservers.filter(i=>i.next!==t);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function JV(e){const{app:t}=e,n=Jr(t);let r=n.tokenRefresher;r||(r=$Je(e),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function $Je(e){const{app:t}=e;return new vJe(async()=>{const n=Jr(t);let r;if(n.token?r=await NR(e,!0):r=await NR(e),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{const n=Jr(t);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},QV.RETRIAL_MIN_WAIT,QV.RETRIAL_MAX_WAIT)}function Goe(e,t){const n=Jr(e).tokenObservers;for(const r of n)try{r.type==="EXTERNAL"&&t.error!=null?r.error(t.error):r.next(t)}catch{}}function tp(e){return e.expireTimeMillis-Date.now()>0}function ZV(e){return{token:kJe(NJe),error:e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LJe{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:t}=Jr(this.app);for(const n of t)Yoe(this.app,n.next);return Promise.resolve()}}function MJe(e,t){return new LJe(e,t)}function FJe(e){return{getToken:t=>NR(e,t),getLimitedUseToken:()=>DJe(e),addTokenListener:t=>Woe(e,"INTERNAL",t),removeTokenListener:t=>Yoe(e.app,t)}}const BJe="@firebase/app-check",jJe="0.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UJe="https://www.google.com/recaptcha/api.js";function VJe(e,t){const n=new Fy,r=Jr(e);r.reCAPTCHAState={initialized:n};const i=zJe(e),s=XV(!1);return s?e7(e,t,s,i,n):WJe(()=>{const o=XV(!1);if(!o)throw new Error("no recaptcha");e7(e,t,o,i,n)}),n.promise}function e7(e,t,n,r,i){n.ready(()=>{qJe(e,t,n,r),i.resolve(n)})}function zJe(e){const t=`fire_app_check_${e.name}`,n=document.createElement("div");return n.id=t,n.style.display="none",document.body.appendChild(n),t}async function HJe(e){N6(e);const n=await Jr(e).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const s=Jr(e).reCAPTCHAState;n.ready(()=>{r(n.execute(s.widgetId,{action:"fire_app_check"}))})})}function qJe(e,t,n,r){const i=n.render(r,{sitekey:t,size:"invisible",callback:()=>{Jr(e).reCAPTCHAState.succeeded=!0},"error-callback":()=>{Jr(e).reCAPTCHAState.succeeded=!1}}),s=Jr(e);s.reCAPTCHAState=Object.assign(Object.assign({},s.reCAPTCHAState),{widgetId:i})}function WJe(e){const t=document.createElement("script");t.src=UJe,t.onload=e,document.head.appendChild(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{constructor(t){this._siteKey=t,this._throttleData=null}async getToken(){var t,n,r;GJe(this._throttleData);const i=await HJe(this._app).catch(o=>{throw Ns.create("recaptcha-error")});if(!(!((t=Jr(this._app).reCAPTCHAState)===null||t===void 0)&&t.succeeded))throw Ns.create("recaptcha-error");let s;try{s=await k6(wJe(this._app,i),this._heartbeatServiceProvider)}catch(o){throw!((n=o.code)===null||n===void 0)&&n.includes("fetch-status-error")?(this._throttleData=YJe(Number((r=o.customData)===null||r===void 0?void 0:r.httpStatus),this._throttleData),Ns.create("throttled",{time:Boe(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):o}return this._throttleData=null,s}initialize(t){this._app=t,this._heartbeatServiceProvider=Km(t,"heartbeat"),VJe(t,this._siteKey).catch(()=>{})}isEqual(t){return t instanceof L6?this._siteKey===t._siteKey:!1}}function YJe(e,t){if(e===404||e===403)return{backoffCount:1,allowRequestsAfter:Date.now()+_Je,httpStatus:e};{const n=t?t.backoffCount:0,r=Bqe(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:e}}}function GJe(e){if(e&&Date.now()-e.allowRequestsAfter<=0)throw Ns.create("throttled",{time:Boe(e.allowRequestsAfter-Date.now()),httpStatus:e.httpStatus})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KJe(e=R3(),t){e=Xi(e);const n=Km(e,"app-check");if(wx().initialized||RJe(),D6()&&$6().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(s.isTokenAutoRefreshEnabled===t.isTokenAutoRefreshEnabled&&s.provider.isEqual(t.provider))return i;throw Ns.create("already-initialized",{appName:e.name})}const r=n.initialize({options:t});return QJe(e,t.provider,t.isTokenAutoRefreshEnabled),Jr(e).isTokenAutoRefreshEnabled&&Woe(r,"INTERNAL",()=>{}),r}function QJe(e,t,n){const r=mJe(e,Object.assign({},Moe));r.activated=!0,r.provider=t,r.cachedTokenPromise=OJe(e).then(i=>(i&&tp(i)&&(r.token=i,Goe(e,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=n===void 0?e.automaticDataCollectionEnabled:n,r.provider.initialize(e)}const XJe="app-check",t7="app-check-internal";function JJe(){Ol(new xu(XJe,e=>{const t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return MJe(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(t7).initialize()})),Ol(new xu(t7,e=>{const t=e.getProvider("app-check").getImmediate();return FJe(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),Ea(BJe,jJe)}JJe();function Koe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ZJe=Koe,Qoe=new Gm("auth","Firebase",Koe());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT=new GI("@firebase/auth");function eZe(e,...t){qT.logLevel<=tn.WARN&&qT.warn(`Auth (${sh}): ${e}`,...t)}function mb(e,...t){qT.logLevel<=tn.ERROR&&qT.error(`Auth (${sh}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kl(e,...t){throw M6(e,...t)}function gu(e,...t){return M6(e,...t)}function tZe(e,t,n){const r=Object.assign(Object.assign({},ZJe()),{[t]:n});return new Gm("auth","Firebase",r).create(t,{appName:e.name})}function M6(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return Qoe.create(e,...t)}function St(e,t,...n){if(!e)throw M6(t,...n)}function rl(e){const t="INTERNAL ASSERTION FAILED: "+e;throw mb(t),new Error(t)}function Dl(e,t){e||rl(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function nZe(){return n7()==="http:"||n7()==="https:"}function n7(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rZe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nZe()||Tqe()||"connection"in navigator)?navigator.onLine:!0}function iZe(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(t,n){this.shortDelay=t,this.longDelay=n,Dl(n>t,"Short delay should be less than long delay!"),this.isMobile=wqe()||Sqe()}get(){return rZe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F6(e,t){Dl(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xoe{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sZe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oZe=new uv(3e4,6e4);function Tx(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function n0(e,t,n,r,i={}){return Joe(e,i,async()=>{let s={},o={};r&&(t==="GET"?o=r:s={body:JSON.stringify(r)});const a=q_(Object.assign({key:e.config.apiKey},o)).slice(1),u=await e._getAdditionalHeaders();return u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode),Xoe.fetch()(eae(e,e.config.apiHost,n,a),Object.assign({method:t,headers:u,referrerPolicy:"no-referrer"},s))})}async function Joe(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},sZe),t);try{const i=new aZe(e),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw C1(e,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw C1(e,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw C1(e,"email-already-in-use",o);if(u==="USER_DISABLED")throw C1(e,"user-disabled",o);const c=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw tZe(e,c,l);kl(e,c)}}catch(i){if(i instanceof $u)throw i;kl(e,"network-request-failed",{message:String(i)})}}async function Zoe(e,t,n,r,i={}){const s=await n0(e,t,n,r,i);return"mfaPendingCredential"in s&&kl(e,"multi-factor-auth-required",{_serverResponse:s}),s}function eae(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?F6(e.config,i):`${e.config.apiScheme}://${i}`}class aZe{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(gu(this.auth,"network-request-failed")),oZe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function C1(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=gu(e,t,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uZe(e,t){return n0(e,"POST","/v1/accounts:delete",t)}async function lZe(e,t){return n0(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qg(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function cZe(e,t=!1){const n=Xi(e),r=await n.getIdToken(t),i=B6(r);St(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:qg(fO(i.auth_time)),issuedAtTime:qg(fO(i.iat)),expirationTime:qg(fO(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function fO(e){return Number(e)*1e3}function B6(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return mb("JWT malformed, contained fewer than 3 sections"),null;try{const i=qre(n);return i?JSON.parse(i):(mb("Failed to decode base64 JWT payload"),null)}catch(i){return mb("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function fZe(e){const t=B6(e);return St(t,"internal-error"),St(typeof t.exp<"u","internal-error"),St(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i_(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof $u&&dZe(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function dZe({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hZe{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tae{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=qg(this.lastLoginAt),this.creationTime=qg(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WT(e){var t;const n=e.auth,r=await e.getIdToken(),i=await i_(e,lZe(n,{idToken:r}));St(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?gZe(s.providerUserInfo):[],a=mZe(e.providerData,o),u=e.isAnonymous,l=!(e.email&&s.passwordHash)&&!(a!=null&&a.length),c=u?l:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new tae(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(e,f)}async function pZe(e){const t=Xi(e);await WT(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function mZe(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function gZe(e){return e.map(t=>{var{providerId:n}=t,r=l$(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yZe(e,t){const n=await Joe(e,{},async()=>{const r=q_({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=e.config,o=eae(e,i,"/v1/token",`key=${s}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Xoe.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function _Ze(e,t){return n0(e,"POST","/v2/accounts:revokeToken",Tx(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){St(t.idToken,"internal-error"),St(typeof t.idToken<"u","internal-error"),St(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):fZe(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}async getToken(t,n=!1){return St(!this.accessToken||this.refreshToken,t,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await yZe(t,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new s_;return r&&(St(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),i&&(St(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),s&&(St(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new s_,this.toJSON())}_performRefresh(){return rl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(e,t){St(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class vd{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,s=l$(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hZe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new tae(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await i_(this,this.stsTokenManager.getToken(this.auth,t));return St(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return cZe(this,t)}reload(){return pZe(this)}_assign(t){this!==t&&(St(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new vd(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){St(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await WT(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await i_(this,uZe(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,s,o,a,u,l,c;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,h=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,g=(l=n.createdAt)!==null&&l!==void 0?l:void 0,_=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:b,emailVerified:T,isAnonymous:I,providerData:E,stsTokenManager:S}=n;St(b&&S,t,"internal-error");const A=s_.fromJSON(this.name,S);St(typeof b=="string",t,"internal-error"),Jl(f,t.name),Jl(d,t.name),St(typeof T=="boolean",t,"internal-error"),St(typeof I=="boolean",t,"internal-error"),Jl(h,t.name),Jl(p,t.name),Jl(m,t.name),Jl(y,t.name),Jl(g,t.name),Jl(_,t.name);const L=new vd({uid:b,auth:t,email:d,emailVerified:T,displayName:f,isAnonymous:I,photoURL:p,phoneNumber:h,tenantId:m,stsTokenManager:A,createdAt:g,lastLoginAt:_});return E&&Array.isArray(E)&&(L.providerData=E.map(Y=>Object.assign({},Y))),y&&(L._redirectEventId=y),L}static async _fromIdTokenResponse(t,n,r=!1){const i=new s_;i.updateFromServerResponse(n);const s=new vd({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await WT(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r7=new Map;function il(e){Dl(e instanceof Function,"Expected a class definition");let t=r7.get(e);return t?(Dl(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,r7.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nae{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}nae.type="NONE";const i7=nae;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(e,t,n){return`firebase:${e}:${t}:${n}`}class Rp{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=gb(this.userKey,i.apiKey,s),this.fullPersistenceKey=gb("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?vd._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new Rp(il(i7),t,r);const i=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let s=i[0]||il(i7);const o=gb(r,t.config.apiKey,t.name);let a=null;for(const l of n)try{const c=await l._get(o);if(c){const f=vd._fromJSON(t,c);l!==s&&(a=f),s=l;break}}catch{}const u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Rp(s,t,r):(s=u[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==s)try{await l._remove(o)}catch{}})),new Rp(s,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s7(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(sae(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(rae(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(aae(t))return"Blackberry";if(uae(t))return"Webos";if(j6(t))return"Safari";if((t.includes("chrome/")||iae(t))&&!t.includes("edge/"))return"Chrome";if(oae(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function rae(e=Qi()){return/firefox\//i.test(e)}function j6(e=Qi()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function iae(e=Qi()){return/crios\//i.test(e)}function sae(e=Qi()){return/iemobile/i.test(e)}function oae(e=Qi()){return/android/i.test(e)}function aae(e=Qi()){return/blackberry/i.test(e)}function uae(e=Qi()){return/webos/i.test(e)}function Sx(e=Qi()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function vZe(e=Qi()){var t;return Sx(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function bZe(){return Iqe()&&document.documentMode===10}function lae(e=Qi()){return Sx(e)||oae(e)||uae(e)||aae(e)||/windows phone/i.test(e)||sae(e)}function EZe(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cae(e,t=[]){let n;switch(e){case"Browser":n=s7(Qi());break;case"Worker":n=`${s7(Qi())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${sh}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wZe{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=s=>new Promise((o,a)=>{try{const u=t(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TZe(e,t={}){return n0(e,"GET","/v2/passwordPolicy",Tx(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SZe=6;class IZe{constructor(t){var n,r,i,s;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:SZe,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,i,s,o,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,u),this.validatePasswordCharacterOptions(t,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xZe{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new o7(this),this.idTokenSubscription=new o7(this),this.beforeStateQueue=new wZe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Qoe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=il(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Rp.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(t);(!o||o===a)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return St(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await WT(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=iZe()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const n=t?Xi(t):null;return n&&St(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&St(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(il(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await TZe(this),n=new IZe(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Gm("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await _Ze(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&il(t)||this._popupRedirectResolver;St(n,this,"argument-error"),this.redirectPersistenceManager=await Rp.create(this,[il(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(St(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=t.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=t.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return St(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=cae(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&eZe(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ix(e){return Xi(e)}class o7{constructor(t){this.auth=t,this.observer=null,this.addObserver=Rqe(n=>this.observer=n)}get next(){return St(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CZe(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}function AZe(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const s=gu("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",CZe().appendChild(r)})}function OZe(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PZe(e,t){const n=Km(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(By(s,t??{}))return i;kl(i,"already-initialized")}return n.initialize({options:t})}function RZe(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(il);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function NZe(e,t,n){const r=Ix(e);St(r._canInitEmulator,r,"emulator-config-failed"),St(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=fae(t),{host:o,port:a}=kZe(t),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||DZe()}function fae(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function kZe(e){const t=fae(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:a7(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:a7(o)}}}function a7(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function DZe(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dae{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return rl("not implemented")}_getIdTokenResponse(t){return rl("not implemented")}_linkToIdToken(t,n){return rl("not implemented")}_getReauthenticationResolver(t){return rl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Np(e,t){return Zoe(e,"POST","/v1/accounts:signInWithIdp",Tx(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $Ze="http://localhost";class Vd extends dae{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Vd(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):kl("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i}=n,s=l$(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Vd(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return Np(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Np(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Np(t,n)}buildRequest(){const t={requestUri:$Ze,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=q_(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hae{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv extends hae{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc extends lv{constructor(){super("facebook.com")}static credential(t){return Vd._fromParams({providerId:hc.PROVIDER_ID,signInMethod:hc.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return hc.credentialFromTaggedObject(t)}static credentialFromError(t){return hc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return hc.credential(t.oauthAccessToken)}catch{return null}}}hc.FACEBOOK_SIGN_IN_METHOD="facebook.com";hc.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc extends lv{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Vd._fromParams({providerId:pc.PROVIDER_ID,signInMethod:pc.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return pc.credentialFromTaggedObject(t)}static credentialFromError(t){return pc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return pc.credential(n,r)}catch{return null}}}pc.GOOGLE_SIGN_IN_METHOD="google.com";pc.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc extends lv{constructor(){super("github.com")}static credential(t){return Vd._fromParams({providerId:mc.PROVIDER_ID,signInMethod:mc.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return mc.credentialFromTaggedObject(t)}static credentialFromError(t){return mc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return mc.credential(t.oauthAccessToken)}catch{return null}}}mc.GITHUB_SIGN_IN_METHOD="github.com";mc.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc extends lv{constructor(){super("twitter.com")}static credential(t,n){return Vd._fromParams({providerId:gc.PROVIDER_ID,signInMethod:gc.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return gc.credentialFromTaggedObject(t)}static credentialFromError(t){return gc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return gc.credential(n,r)}catch{return null}}}gc.TWITTER_SIGN_IN_METHOD="twitter.com";gc.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LZe(e,t){return Zoe(e,"POST","/v1/accounts:signUp",Tx(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const s=await vd._fromIdTokenResponse(t,r,i),o=u7(r);return new cf({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=u7(r);return new cf({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function u7(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MZe(e){var t;const n=Ix(e);if(await n._initializationPromise,!((t=n.currentUser)===null||t===void 0)&&t.isAnonymous)return new cf({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await LZe(n,{returnSecureToken:!0}),i=await cf._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT extends $u{constructor(t,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,YT.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new YT(t,n,r,i)}}function pae(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?YT._fromErrorAndOperation(e,s,t,r):s})}async function FZe(e,t,n=!1){const r=await i_(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return cf._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BZe(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const s=await i_(e,pae(r,i,t,e),n);St(s.idToken,r,"internal-error");const o=B6(s.idToken);St(o,r,"internal-error");const{sub:a}=o;return St(e.uid===a,r,"user-mismatch"),cf._forOperation(e,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&kl(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jZe(e,t,n=!1){const r="signIn",i=await pae(e,r,t),s=await cf._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}function UZe(e,t,n,r){return Xi(e).onIdTokenChanged(t,n,r)}function VZe(e,t,n){return Xi(e).beforeAuthStateChanged(t,n)}const GT="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mae{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(GT,"1"),this.storage.removeItem(GT),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zZe(){const e=Qi();return j6(e)||Sx(e)}const HZe=1e3,qZe=10;class gae extends mae{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=zZe()&&EZe(),this.fallbackToPolling=lae(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(t.newValue!==o)t.newValue!==null?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);bZe()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,qZe):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},HZe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}gae.type="LOCAL";const WZe=gae;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yae extends mae{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}yae.type="SESSION";const _ae=yae;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YZe(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new xx(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async l=>l(n.origin,s)),u=await YZe(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xx.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U6(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GZe{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{const l=U6("",20);i.port1.start();const c=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const d=f;if(d.data.eventId===l)switch(d.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(d.data.response);break;default:clearTimeout(c),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yu(){return window}function KZe(e){yu().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vae(){return typeof yu().WorkerGlobalScope<"u"&&typeof yu().importScripts=="function"}async function QZe(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function XZe(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function JZe(){return vae()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bae="firebaseLocalStorageDb",ZZe=1,KT="firebaseLocalStorage",Eae="fbase_key";class cv{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Cx(e,t){return e.transaction([KT],t?"readwrite":"readonly").objectStore(KT)}function eet(){const e=indexedDB.deleteDatabase(bae);return new cv(e).toPromise()}function DR(){const e=indexedDB.open(bae,ZZe);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(KT,{keyPath:Eae})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(KT)?t(r):(r.close(),await eet(),t(await DR()))})})}async function l7(e,t,n){const r=Cx(e,!0).put({[Eae]:t,value:n});return new cv(r).toPromise()}async function tet(e,t){const n=Cx(e,!1).get(t),r=await new cv(n).toPromise();return r===void 0?null:r.value}function c7(e,t){const n=Cx(e,!0).delete(t);return new cv(n).toPromise()}const net=800,ret=3;class wae{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await DR(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>ret)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vae()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xx._getInstance(JZe()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await QZe(),!this.activeServiceWorker)return;this.sender=new GZe(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||XZe()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await DR();return await l7(t,GT,"1"),await c7(t,GT),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>l7(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>tet(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>c7(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const s=Cx(i,!1).getAll();return new cv(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),net)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}wae.type="LOCAL";const iet=wae;new uv(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function set(e,t){return t?il(t):(St(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6 extends dae{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Np(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Np(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Np(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function oet(e){return jZe(e.auth,new V6(e),e.bypassAuthState)}function aet(e){const{auth:t,user:n}=e;return St(n,t,"internal-error"),BZe(n,new V6(e),e.bypassAuthState)}async function uet(e){const{auth:t,user:n}=e;return St(n,t,"internal-error"),FZe(n,new V6(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tae{constructor(t,n,r,i,s=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=t;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(l){this.reject(l)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return oet;case"linkViaPopup":case"linkViaRedirect":return uet;case"reauthViaPopup":case"reauthViaRedirect":return aet;default:kl(this.auth,"internal-error")}}resolve(t){Dl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Dl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cet=new uv(2e3,1e4);class np extends Tae{constructor(t,n,r,i,s){super(t,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,np.currentPopupAction&&np.currentPopupAction.cancel(),np.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return St(t,this.auth,"internal-error"),t}async onExecution(){Dl(this.filter.length===1,"Popup operations only handle one event");const t=U6();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(gu(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(gu(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,np.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gu(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,cet.get())};t()}}np.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fet="pendingRedirect",yb=new Map;class det extends Tae{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=yb.get(this.auth._key());if(!t){try{const r=await het(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}yb.set(this.auth._key(),t)}return this.bypassAuthState||yb.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function het(e,t){const n=get(t),r=met(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function pet(e,t){yb.set(e._key(),t)}function met(e){return il(e._redirectPersistence)}function get(e){return gb(fet,e.config.apiKey,e.name)}async function yet(e,t,n=!1){const r=Ix(e),i=set(r,t),o=await new det(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _et=10*60*1e3;class vet{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!bet(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!Sae(t)){const i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(gu(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=_et&&this.cachedEventUids.clear(),this.cachedEventUids.has(f7(t))}saveEventToCache(t){this.cachedEventUids.add(f7(t)),this.lastProcessedEventTime=Date.now()}}function f7(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function Sae({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function bet(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Sae(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eet(e,t={}){return n0(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wet=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Tet=/^https?/;async function Iet(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Eet(e);for(const n of t)try{if(xet(n))return}catch{}kl(e,"unauthorized-domain")}function xet(e){const t=kR(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Tet.test(n))return!1;if(wet.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cet=new uv(3e4,6e4);function d7(){const e=yu().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function Aet(e){return new Promise((t,n)=>{var r,i,s;function o(){d7(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{d7(),n(gu(e,"network-request-failed"))},timeout:Cet.get()})}if(!((i=(r=yu().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((s=yu().gapi)===null||s===void 0)&&s.load)o();else{const a=OZe("iframefcb");return yu()[a]=()=>{gapi.load?o():n(gu(e,"network-request-failed"))},AZe(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}}).catch(t=>{throw _b=null,t})}let _b=null;function Oet(e){return _b=_b||Aet(e),_b}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pet=new uv(5e3,15e3),Ret="__/auth/iframe",Net="emulator/auth/iframe",ket={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Det=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $et(e){const t=e.config;St(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?F6(t,Net):`https://${e.config.authDomain}/${Ret}`,r={apiKey:t.apiKey,appName:e.name,v:sh},i=Det.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${q_(r).slice(1)}`}async function Let(e){const t=await Oet(e),n=yu().gapi;return St(n,e,"internal-error"),t.open({where:document.body,url:$et(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ket,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=gu(e,"network-request-failed"),a=yu().setTimeout(()=>{s(o)},Pet.get());function u(){yu().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Met={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Fet=500,Bet=600,jet="_blank",Uet="http://localhost";class h7{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Vet(e,t,n,r=Fet,i=Bet){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},Met),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Qi().toLowerCase();n&&(a=iae(l)?jet:n),rae(l)&&(t=t||Uet,u.scrollbars="yes");const c=Object.entries(u).reduce((d,[h,p])=>`${d}${h}=${p},`,"");if(vZe(l)&&a!=="_self")return zet(t||"",a),new h7(null);const f=window.open(t||"",a,c);St(f,e,"popup-blocked");try{f.focus()}catch{}return new h7(f)}function zet(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Het="__/auth/handler",qet="emulator/auth/handler",Wet=encodeURIComponent("fac");async function p7(e,t,n,r,i,s){St(e.config.authDomain,e,"auth-domain-config-required"),St(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:sh,eventId:i};if(t instanceof hae){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",Pqe(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[c,f]of Object.entries(s||{}))o[c]=f}if(t instanceof lv){const c=t.getScopes().filter(f=>f!=="");c.length>0&&(o.scopes=c.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const u=await e._getAppCheckToken(),l=u?`#${Wet}=${encodeURIComponent(u)}`:"";return`${Yet(e)}?${q_(a).slice(1)}${l}`}function Yet({config:e}){return e.emulator?F6(e,qet):`https://${e.authDomain}/${Het}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO="webStorageSupport";class Get{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_ae,this._completeRedirectFn=yet,this._overrideRedirectResult=pet}async _openPopup(t,n,r,i){var s;Dl((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await p7(t,n,r,kR(),i);return Vet(t,o,U6())}async _openRedirect(t,n,r,i){await this._originValidation(t);const s=await p7(t,n,r,kR(),i);return KZe(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Dl(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await Let(t),r=new vet(t);return n.register("authEvent",i=>(St(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(dO,{type:dO},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[dO];o!==void 0&&n(!!o),kl(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Iet(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return lae()||j6()||Sx()}}const Ket=Get;var m7="@firebase/auth",g7="1.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qet{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){St(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xet(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function Jet(e){Ol(new xu("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;St(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cae(e)},l=new xZe(r,i,s,u);return RZe(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Ol(new xu("auth-internal",t=>{const n=Ix(t.getProvider("auth").getImmediate());return(r=>new Qet(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ea(m7,g7,Xet(e)),Ea(m7,g7,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zet=5*60,ett=Kre("authIdTokenMaxAge")||Zet;let y7=null;const ttt=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>ett)return;const i=n==null?void 0:n.token;y7!==i&&(y7=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function ntt(e=R3()){const t=Km(e,"auth");if(t.isInitialized())return t.getImmediate();const n=PZe(e,{popupRedirectResolver:Ket,persistence:[iet,WZe,_ae]}),r=Kre("authTokenSyncURL");if(r){const s=ttt(r);VZe(n,s,()=>s(n.currentUser)),UZe(n,o=>s(o))}const i=Yre("auth");return i&&NZe(n,`http://${i}`),n}Jet("Browser");class rtt extends zre{constructor(){super("firebase");qs(this,"RECAPTCHAV3TOKEN","6Ldz_WQpAAAAAITx1qzoXnBDQMP8Zpub5MVyMl0k");qs(this,"firestore");qs(this,"collectionPrefix","prod-");qs(this,"studyCollection");qs(this,"studyId","");qs(this,"localForage",Vre.createInstance({name:"currentParticipantId"}));qs(this,"localProvenanceCopy",{});qs(this,"localWindowEvents",{});const n=bk.parse(`
{
  apiKey: "AIzaSyBWe6l3RbrOhakYL3k4vVId26UCKVIOX0U",
  authDomain: "viz-guardrails.firebaseapp.com",
  projectId: "viz-guardrails",
  storageBucket: "viz-guardrails.appspot.com",
  messagingSenderId: "975745336400",
  appId: "1:975745336400:web:e7607abb512ff88d36bd55",
  measurementId: "G-6KWR7L44G0"
}
`),r=Jre(n);this.firestore=KXe(r,{});try{KJe(r,{provider:new L6(this.RECAPTCHAV3TOKEN),isTokenAutoRefreshEnabled:!1})}catch{console.warn("Failed to initialize Firebase App Check")}}async connect(){try{const n=ntt();if(await MZe(n),!n.currentUser)throw new Error("Login failed with firebase");await QXe(this.firestore);const r=await ka(this.firestore,".info/connected");await U0(r),this.connected=!0}catch{console.warn("Failed to connect to Firebase")}}async initializeStudyDb(n,r){const i=await Cp(JSON.stringify(r));this.studyCollection=KV(this.firestore,`${this.collectionPrefix}${n}`),this.studyId=n;const s=ka(this.studyCollection,"configs"),o=KV(s,"configs"),a=ka(o,i);return await V0(a,r)}async initializeParticipantSession(n,r,i){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");if(await this.getCurrentParticipantId(i),!this.currentParticipantId)throw new Error("Participant not initialized");const s=ka(this.studyCollection,this.currentParticipantId),o=(await U0(s)).data();if(this.localProvenanceCopy=await this._getFromFirebaseStorage(this.currentParticipantId,"provenance"),this.localWindowEvents=await this._getFromFirebaseStorage(this.currentParticipantId,"windowEvents"),Object.entries(this.localWindowEvents).forEach(([l,c])=>{o!==null&&(c===void 0||c.length===0?o.answers[l].windowEvents=[]:o.answers[l].windowEvents=c)}),o)return o;const a=await Cp(JSON.stringify(r)),u={participantId:this.currentParticipantId,participantConfigHash:a,sequence:await this.getSequence(),answers:{},searchParams:n};return await V0(s,u),u}async getCurrentParticipantId(n){const r=await this.localForage.getItem("currentParticipantId");if(n)return this.currentParticipantId=n,await this.localForage.setItem("currentParticipantId",n),n;if(r)return this.currentParticipantId=r,r;if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const i=ka(this.studyCollection);return this.currentParticipantId=i.id,await this.localForage.setItem("currentParticipantId",this.currentParticipantId),this.currentParticipantId}async clearCurrentParticipantId(){return await this.localForage.removeItem("currentParticipantId")}async saveAnswer(n,r){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");if(!this.currentParticipantId)throw new Error("Participant not initialized");const i=ka(this.studyCollection,this.currentParticipantId),s={answer:r.answer,startTime:r.startTime,endTime:r.endTime};await V0(i,{answers:{[n]:s}},{merge:!0}),r.provenanceGraph&&(this.localProvenanceCopy[n]=r.provenanceGraph,await this._pushToFirebaseStorage("provenance")),this.localWindowEvents[n]=r.windowEvents,await this._pushToFirebaseStorage("windowEvents")}async setSequenceArray(n){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const r=n.map(o=>o.join(",")),i=ka(this.studyCollection,"sequenceArray");return await V0(i,{sequenceArray:r})}async getSequenceArray(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=ka(this.studyCollection,"sequenceArray"),r=(await U0(n)).data();return r===void 0?null:r.sequenceArray.map(i=>i.split(","))}async getSequence(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=await this.getSequenceArray();if(!n)throw new Error("Latin square not initialized");const r=n.pop();if(!r)throw new Error("Latin square is empty");return await this.setSequenceArray(n),r}async getAllParticipantsData(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=await fJe(this.studyCollection),r=[],i=n.docs.map(async s=>{if(s.id==="config"||s.id==="sequenceArray")return;const o=s.data(),a=await this._getFromFirebaseStorage(o.participantId,"provenance"),u=await this._getFromFirebaseStorage(o.participantId,"windowEvents");o.answers=Object.fromEntries(Object.entries(o.answers).map(([l,c])=>{if(c===void 0)return[l,c];const f=a[l],d=u[l];return[l,{...c,provenanceGraph:f,windowEvents:d}]})),r.push(o)});return await Promise.all(i),r}async getParticipantData(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");await this.getCurrentParticipantId();let n=null;if(this.currentParticipantId!==null){const r=ka(this.studyCollection,this.currentParticipantId);if(n=(await U0(r)).data(),n!==null){const i=await this._getFromFirebaseStorage(this.currentParticipantId,"provenance"),s=await this._getFromFirebaseStorage(this.currentParticipantId,"windowEvents");Object.entries(n.answers).forEach(([o,a])=>{a!==void 0&&(a.provenanceGraph=i[o],a.windowEvents=s[o])})}}return n}async nextParticipant(n){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const r=ka(this.studyCollection),i=r.id;await this.localForage.setItem("currentParticipantId",i),this.currentParticipantId=i;let s=null;if(this.currentParticipantId!==null&&(s=(await U0(r)).data()),!s){const o=await Cp(JSON.stringify(n)),a={participantId:i,participantConfigHash:o,sequence:await this.getSequence(),answers:{},searchParams:{}};await V0(r,a),s=a}return s}async verifyCompletion(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=await this.getParticipantData();if(!n)throw new Error("Participant not initialized");return n.sequence.every(i=>i==="end"?!0:n.answers[i]!==void 0)}_verifyStudyDatabase(n){return n!==void 0}async _getFromFirebaseStorage(n,r){const i=tV(),s=eV(i,`${this.studyId}/${n}_${r}`);let o={};try{const a=await tGe(s),l=await(await fetch(a)).text();o=JSON.parse(l)}catch{console.warn(`Participant ${n} does not have ${r} for ${this.studyId}.`)}return o}async _pushToFirebaseStorage(n){const r=n==="provenance"?this.localProvenanceCopy:this.localWindowEvents;if(Object.keys(r).length>0){const i=tV(),s=eV(i,`${this.studyId}/${this.currentParticipantId}_${n}`),o=new Blob([JSON.stringify(r)],{type:"application/json"});await eGe(s,o)}}}async function itt(){let e,t=!1;{const n=new rtt;await n.connect(),n.isConnected()?e=n:t=!0}if(t){const n=new hqe;await n.connect(),e=n}return e}function stt(){const{storageEngine:e,setStorageEngine:t}=pf();return w.useEffect(()=>{if(e!==void 0)return;async function n(){const r=await itt();t(r)}n()},[t,e]),$.jsx(aqe,{})}hO.createRoot(document.getElementById("root")).render($.jsx(k.StrictMode,{children:$.jsx(sce,{children:$.jsx(stt,{})})}));
