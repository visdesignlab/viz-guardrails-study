var Ice=Object.defineProperty;var Ace=(e,t,n)=>t in e?Ice(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var eo=(e,t,n)=>(Ace(e,typeof t!="symbol"?t+"":t,n),n);function Cce(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var co=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ja(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Oce(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var IH={exports:{}},WS={},AH={exports:{}},Xt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k_=Symbol.for("react.element"),Pce=Symbol.for("react.portal"),Rce=Symbol.for("react.fragment"),Nce=Symbol.for("react.strict_mode"),kce=Symbol.for("react.profiler"),Dce=Symbol.for("react.provider"),$ce=Symbol.for("react.context"),Lce=Symbol.for("react.forward_ref"),Mce=Symbol.for("react.suspense"),Fce=Symbol.for("react.memo"),Bce=Symbol.for("react.lazy"),CM=Symbol.iterator;function jce(e){return e===null||typeof e!="object"?null:(e=CM&&e[CM]||e["@@iterator"],typeof e=="function"?e:null)}var CH={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},OH=Object.assign,PH={};function Vm(e,t,n){this.props=e,this.context=t,this.refs=PH,this.updater=n||CH}Vm.prototype.isReactComponent={};Vm.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Vm.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function RH(){}RH.prototype=Vm.prototype;function ik(e,t,n){this.props=e,this.context=t,this.refs=PH,this.updater=n||CH}var sk=ik.prototype=new RH;sk.constructor=ik;OH(sk,Vm.prototype);sk.isPureReactComponent=!0;var OM=Array.isArray,NH=Object.prototype.hasOwnProperty,ok={current:null},kH={key:!0,ref:!0,__self:!0,__source:!0};function DH(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)NH.call(t,r)&&!kH.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+2];i.children=u}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:k_,type:e,key:s,ref:o,props:i,_owner:ok.current}}function Uce(e,t){return{$$typeof:k_,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ak(e){return typeof e=="object"&&e!==null&&e.$$typeof===k_}function Vce(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var PM=/\/+/g;function $A(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Vce(""+e.key):t.toString(36)}function lb(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case k_:case Pce:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+$A(o,0):r,OM(i)?(n="",e!=null&&(n=e.replace(PM,"$&/")+"/"),lb(i,t,n,"",function(l){return l})):i!=null&&(ak(i)&&(i=Uce(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(PM,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",OM(e))for(var a=0;a<e.length;a++){s=e[a];var u=r+$A(s,a);o+=lb(s,t,n,u,i)}else if(u=jce(e),typeof u=="function")for(e=u.call(e),a=0;!(s=e.next()).done;)s=s.value,u=r+$A(s,a++),o+=lb(s,t,n,u,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function zv(e,t,n){if(e==null)return e;var r=[],i=0;return lb(e,r,"","",function(s){return t.call(n,s,i++)}),r}function zce(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ys={current:null},cb={transition:null},Hce={ReactCurrentDispatcher:ys,ReactCurrentBatchConfig:cb,ReactCurrentOwner:ok};Xt.Children={map:zv,forEach:function(e,t,n){zv(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return zv(e,function(){t++}),t},toArray:function(e){return zv(e,function(t){return t})||[]},only:function(e){if(!ak(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Xt.Component=Vm;Xt.Fragment=Rce;Xt.Profiler=kce;Xt.PureComponent=ik;Xt.StrictMode=Nce;Xt.Suspense=Mce;Xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hce;Xt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=OH({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=ok.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)NH.call(t,u)&&!kH.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var l=0;l<u;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:k_,type:e.type,key:i,ref:s,props:r,_owner:o}};Xt.createContext=function(e){return e={$$typeof:$ce,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Dce,_context:e},e.Consumer=e};Xt.createElement=DH;Xt.createFactory=function(e){var t=DH.bind(null,e);return t.type=e,t};Xt.createRef=function(){return{current:null}};Xt.forwardRef=function(e){return{$$typeof:Lce,render:e}};Xt.isValidElement=ak;Xt.lazy=function(e){return{$$typeof:Bce,_payload:{_status:-1,_result:e},_init:zce}};Xt.memo=function(e,t){return{$$typeof:Fce,type:e,compare:t===void 0?null:t}};Xt.startTransition=function(e){var t=cb.transition;cb.transition={};try{e()}finally{cb.transition=t}};Xt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Xt.useCallback=function(e,t){return ys.current.useCallback(e,t)};Xt.useContext=function(e){return ys.current.useContext(e)};Xt.useDebugValue=function(){};Xt.useDeferredValue=function(e){return ys.current.useDeferredValue(e)};Xt.useEffect=function(e,t){return ys.current.useEffect(e,t)};Xt.useId=function(){return ys.current.useId()};Xt.useImperativeHandle=function(e,t,n){return ys.current.useImperativeHandle(e,t,n)};Xt.useInsertionEffect=function(e,t){return ys.current.useInsertionEffect(e,t)};Xt.useLayoutEffect=function(e,t){return ys.current.useLayoutEffect(e,t)};Xt.useMemo=function(e,t){return ys.current.useMemo(e,t)};Xt.useReducer=function(e,t,n){return ys.current.useReducer(e,t,n)};Xt.useRef=function(e){return ys.current.useRef(e)};Xt.useState=function(e){return ys.current.useState(e)};Xt.useSyncExternalStore=function(e,t,n){return ys.current.useSyncExternalStore(e,t,n)};Xt.useTransition=function(){return ys.current.useTransition()};Xt.version="18.2.0";AH.exports=Xt;var E=AH.exports;const M=ja(E),Fd=Cce({__proto__:null,default:M},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wce=E,qce=Symbol.for("react.element"),Yce=Symbol.for("react.fragment"),Gce=Object.prototype.hasOwnProperty,Kce=Wce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Qce={key:!0,ref:!0,__self:!0,__source:!0};function $H(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Gce.call(t,r)&&!Qce.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:qce,type:e,key:s,ref:o,props:i,_owner:Kce.current}}WS.Fragment=Yce;WS.jsx=$H;WS.jsxs=$H;IH.exports=WS;var O=IH.exports,EP={},LH={exports:{}},Io={},MH={exports:{}},FH={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(ee,ie){var K=ee.length;ee.push(ie);e:for(;0<K;){var I=K-1>>>1,C=ee[I];if(0<i(C,ie))ee[I]=ie,ee[K]=C,K=I;else break e}}function n(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var ie=ee[0],K=ee.pop();if(K!==ie){ee[0]=K;e:for(var I=0,C=ee.length,H=C>>>1;I<H;){var N=2*(I+1)-1,R=ee[N],Y=N+1,ae=ee[Y];if(0>i(R,K))Y<C&&0>i(ae,R)?(ee[I]=ae,ee[Y]=K,I=Y):(ee[I]=R,ee[N]=K,I=N);else if(Y<C&&0>i(ae,K))ee[I]=ae,ee[Y]=K,I=Y;else break e}}return ie}function i(ee,ie){var K=ee.sortIndex-ie.sortIndex;return K!==0?K:ee.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var u=[],l=[],c=1,f=null,d=3,h=!1,p=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(ee){for(var ie=n(l);ie!==null;){if(ie.callback===null)r(l);else if(ie.startTime<=ee)r(l),ie.sortIndex=ie.expirationTime,t(u,ie);else break;ie=n(l)}}function T(ee){if(g=!1,v(ee),!p)if(n(u)!==null)p=!0,oe(S);else{var ie=n(l);ie!==null&&ce(T,ie.startTime-ee)}}function S(ee,ie){p=!1,g&&(g=!1,m(A),A=-1),h=!0;var K=d;try{for(v(ie),f=n(u);f!==null&&(!(f.expirationTime>ie)||ee&&!P());){var I=f.callback;if(typeof I=="function"){f.callback=null,d=f.priorityLevel;var C=I(f.expirationTime<=ie);ie=e.unstable_now(),typeof C=="function"?f.callback=C:f===n(u)&&r(u),v(ie)}else r(u);f=n(u)}if(f!==null)var H=!0;else{var N=n(l);N!==null&&ce(T,N.startTime-ie),H=!1}return H}finally{f=null,d=K,h=!1}}var w=!1,x=null,A=-1,$=5,D=-1;function P(){return!(e.unstable_now()-D<$)}function q(){if(x!==null){var ee=e.unstable_now();D=ee;var ie=!0;try{ie=x(!0,ee)}finally{ie?V():(w=!1,x=null)}}else w=!1}var V;if(typeof _=="function")V=function(){_(q)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,se=U.port2;U.port1.onmessage=q,V=function(){se.postMessage(null)}}else V=function(){y(q,0)};function oe(ee){x=ee,w||(w=!0,V())}function ce(ee,ie){A=y(function(){ee(e.unstable_now())},ie)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ee){ee.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,oe(S))},e.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<ee?Math.floor(1e3/ee):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(ee){switch(d){case 1:case 2:case 3:var ie=3;break;default:ie=d}var K=d;d=ie;try{return ee()}finally{d=K}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ee,ie){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var K=d;d=ee;try{return ie()}finally{d=K}},e.unstable_scheduleCallback=function(ee,ie,K){var I=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?I+K:I):K=I,ee){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=K+C,ee={id:c++,callback:ie,priorityLevel:ee,startTime:K,expirationTime:C,sortIndex:-1},K>I?(ee.sortIndex=K,t(l,ee),n(u)===null&&ee===n(l)&&(g?(m(A),A=-1):g=!0,ce(T,K-I))):(ee.sortIndex=C,t(u,ee),p||h||(p=!0,oe(S))),ee},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(ee){var ie=d;return function(){var K=d;d=ie;try{return ee.apply(this,arguments)}finally{d=K}}}})(FH);MH.exports=FH;var Xce=MH.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BH=E,bo=Xce;function Ne(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jH=new Set,vy={};function ah(e,t){Qp(e,t),Qp(e+"Capture",t)}function Qp(e,t){for(vy[e]=t,e=0;e<t.length;e++)jH.add(t[e])}var Rl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),TP=Object.prototype.hasOwnProperty,Jce=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,RM={},NM={};function Zce(e){return TP.call(NM,e)?!0:TP.call(RM,e)?!1:Jce.test(e)?NM[e]=!0:(RM[e]=!0,!1)}function efe(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function tfe(e,t,n,r){if(t===null||typeof t>"u"||efe(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function _s(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Li={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Li[e]=new _s(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Li[t]=new _s(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Li[e]=new _s(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Li[e]=new _s(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Li[e]=new _s(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Li[e]=new _s(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Li[e]=new _s(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Li[e]=new _s(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Li[e]=new _s(e,5,!1,e.toLowerCase(),null,!1,!1)});var uk=/[\-:]([a-z])/g;function lk(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(uk,lk);Li[t]=new _s(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(uk,lk);Li[t]=new _s(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(uk,lk);Li[t]=new _s(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Li[e]=new _s(e,1,!1,e.toLowerCase(),null,!1,!1)});Li.xlinkHref=new _s("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Li[e]=new _s(e,1,!1,e.toLowerCase(),null,!0,!0)});function ck(e,t,n,r){var i=Li.hasOwnProperty(t)?Li[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(tfe(t,n,i,r)&&(n=null),r||i===null?Zce(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var tc=BH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hv=Symbol.for("react.element"),Xh=Symbol.for("react.portal"),Jh=Symbol.for("react.fragment"),fk=Symbol.for("react.strict_mode"),SP=Symbol.for("react.profiler"),UH=Symbol.for("react.provider"),VH=Symbol.for("react.context"),dk=Symbol.for("react.forward_ref"),xP=Symbol.for("react.suspense"),IP=Symbol.for("react.suspense_list"),hk=Symbol.for("react.memo"),wc=Symbol.for("react.lazy"),zH=Symbol.for("react.offscreen"),kM=Symbol.iterator;function Rg(e){return e===null||typeof e!="object"?null:(e=kM&&e[kM]||e["@@iterator"],typeof e=="function"?e:null)}var vr=Object.assign,LA;function h0(e){if(LA===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);LA=t&&t[1]||""}return`
`+LA+e}var MA=!1;function FA(e,t){if(!e||MA)return"";MA=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=a);break}}}finally{MA=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?h0(e):""}function nfe(e){switch(e.tag){case 5:return h0(e.type);case 16:return h0("Lazy");case 13:return h0("Suspense");case 19:return h0("SuspenseList");case 0:case 2:case 15:return e=FA(e.type,!1),e;case 11:return e=FA(e.type.render,!1),e;case 1:return e=FA(e.type,!0),e;default:return""}}function AP(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Jh:return"Fragment";case Xh:return"Portal";case SP:return"Profiler";case fk:return"StrictMode";case xP:return"Suspense";case IP:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case VH:return(e.displayName||"Context")+".Consumer";case UH:return(e._context.displayName||"Context")+".Provider";case dk:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case hk:return t=e.displayName||null,t!==null?t:AP(e.type)||"Memo";case wc:t=e._payload,e=e._init;try{return AP(e(t))}catch{}}return null}function rfe(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return AP(t);case 8:return t===fk?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function cf(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function HH(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ife(e){var t=HH(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Wv(e){e._valueTracker||(e._valueTracker=ife(e))}function WH(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=HH(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ow(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function CP(e,t){var n=t.checked;return vr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function DM(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=cf(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function qH(e,t){t=t.checked,t!=null&&ck(e,"checked",t,!1)}function OP(e,t){qH(e,t);var n=cf(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?PP(e,t.type,n):t.hasOwnProperty("defaultValue")&&PP(e,t.type,cf(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function $M(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function PP(e,t,n){(t!=="number"||ow(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var p0=Array.isArray;function Ep(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+cf(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function RP(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ne(91));return vr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function LM(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Ne(92));if(p0(n)){if(1<n.length)throw Error(Ne(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:cf(n)}}function YH(e,t){var n=cf(t.value),r=cf(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function MM(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function GH(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function NP(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?GH(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var qv,KH=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(qv=qv||document.createElement("div"),qv.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=qv.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function by(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var L0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sfe=["Webkit","ms","Moz","O"];Object.keys(L0).forEach(function(e){sfe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),L0[t]=L0[e]})});function QH(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||L0.hasOwnProperty(e)&&L0[e]?(""+t).trim():t+"px"}function XH(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=QH(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var ofe=vr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kP(e,t){if(t){if(ofe[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ne(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ne(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ne(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ne(62))}}function DP(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $P=null;function pk(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var LP=null,Tp=null,Sp=null;function FM(e){if(e=L_(e)){if(typeof LP!="function")throw Error(Ne(280));var t=e.stateNode;t&&(t=QS(t),LP(e.stateNode,e.type,t))}}function JH(e){Tp?Sp?Sp.push(e):Sp=[e]:Tp=e}function ZH(){if(Tp){var e=Tp,t=Sp;if(Sp=Tp=null,FM(e),t)for(e=0;e<t.length;e++)FM(t[e])}}function eW(e,t){return e(t)}function tW(){}var BA=!1;function nW(e,t,n){if(BA)return e(t,n);BA=!0;try{return eW(e,t,n)}finally{BA=!1,(Tp!==null||Sp!==null)&&(tW(),ZH())}}function wy(e,t){var n=e.stateNode;if(n===null)return null;var r=QS(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Ne(231,t,typeof n));return n}var MP=!1;if(Rl)try{var Ng={};Object.defineProperty(Ng,"passive",{get:function(){MP=!0}}),window.addEventListener("test",Ng,Ng),window.removeEventListener("test",Ng,Ng)}catch{MP=!1}function afe(e,t,n,r,i,s,o,a,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var M0=!1,aw=null,uw=!1,FP=null,ufe={onError:function(e){M0=!0,aw=e}};function lfe(e,t,n,r,i,s,o,a,u){M0=!1,aw=null,afe.apply(ufe,arguments)}function cfe(e,t,n,r,i,s,o,a,u){if(lfe.apply(this,arguments),M0){if(M0){var l=aw;M0=!1,aw=null}else throw Error(Ne(198));uw||(uw=!0,FP=l)}}function uh(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function rW(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function BM(e){if(uh(e)!==e)throw Error(Ne(188))}function ffe(e){var t=e.alternate;if(!t){if(t=uh(e),t===null)throw Error(Ne(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return BM(i),e;if(s===r)return BM(i),t;s=s.sibling}throw Error(Ne(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Ne(189))}}if(n.alternate!==r)throw Error(Ne(190))}if(n.tag!==3)throw Error(Ne(188));return n.stateNode.current===n?e:t}function iW(e){return e=ffe(e),e!==null?sW(e):null}function sW(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=sW(e);if(t!==null)return t;e=e.sibling}return null}var oW=bo.unstable_scheduleCallback,jM=bo.unstable_cancelCallback,dfe=bo.unstable_shouldYield,hfe=bo.unstable_requestPaint,$r=bo.unstable_now,pfe=bo.unstable_getCurrentPriorityLevel,mk=bo.unstable_ImmediatePriority,aW=bo.unstable_UserBlockingPriority,lw=bo.unstable_NormalPriority,mfe=bo.unstable_LowPriority,uW=bo.unstable_IdlePriority,qS=null,bu=null;function gfe(e){if(bu&&typeof bu.onCommitFiberRoot=="function")try{bu.onCommitFiberRoot(qS,e,void 0,(e.current.flags&128)===128)}catch{}}var Pa=Math.clz32?Math.clz32:vfe,yfe=Math.log,_fe=Math.LN2;function vfe(e){return e>>>=0,e===0?32:31-(yfe(e)/_fe|0)|0}var Yv=64,Gv=4194304;function m0(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function cw(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=m0(a):(s&=o,s!==0&&(r=m0(s)))}else o=n&~i,o!==0?r=m0(o):s!==0&&(r=m0(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Pa(t),i=1<<n,r|=e[n],t&=~i;return r}function bfe(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wfe(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Pa(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=bfe(a,t)):u<=t&&(e.expiredLanes|=a),s&=~a}}function BP(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function lW(){var e=Yv;return Yv<<=1,!(Yv&4194240)&&(Yv=64),e}function jA(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function D_(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Pa(t),e[t]=n}function Efe(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Pa(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function gk(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Pa(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Rn=0;function cW(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var fW,yk,dW,hW,pW,jP=!1,Kv=[],Vc=null,zc=null,Hc=null,Ey=new Map,Ty=new Map,Ac=[],Tfe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function UM(e,t){switch(e){case"focusin":case"focusout":Vc=null;break;case"dragenter":case"dragleave":zc=null;break;case"mouseover":case"mouseout":Hc=null;break;case"pointerover":case"pointerout":Ey.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ty.delete(t.pointerId)}}function kg(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=L_(t),t!==null&&yk(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Sfe(e,t,n,r,i){switch(t){case"focusin":return Vc=kg(Vc,e,t,n,r,i),!0;case"dragenter":return zc=kg(zc,e,t,n,r,i),!0;case"mouseover":return Hc=kg(Hc,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ey.set(s,kg(Ey.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ty.set(s,kg(Ty.get(s)||null,e,t,n,r,i)),!0}return!1}function mW(e){var t=dd(e.target);if(t!==null){var n=uh(t);if(n!==null){if(t=n.tag,t===13){if(t=rW(n),t!==null){e.blockedOn=t,pW(e.priority,function(){dW(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fb(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=UP(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);$P=r,n.target.dispatchEvent(r),$P=null}else return t=L_(n),t!==null&&yk(t),e.blockedOn=n,!1;t.shift()}return!0}function VM(e,t,n){fb(e)&&n.delete(t)}function xfe(){jP=!1,Vc!==null&&fb(Vc)&&(Vc=null),zc!==null&&fb(zc)&&(zc=null),Hc!==null&&fb(Hc)&&(Hc=null),Ey.forEach(VM),Ty.forEach(VM)}function Dg(e,t){e.blockedOn===t&&(e.blockedOn=null,jP||(jP=!0,bo.unstable_scheduleCallback(bo.unstable_NormalPriority,xfe)))}function Sy(e){function t(i){return Dg(i,e)}if(0<Kv.length){Dg(Kv[0],e);for(var n=1;n<Kv.length;n++){var r=Kv[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Vc!==null&&Dg(Vc,e),zc!==null&&Dg(zc,e),Hc!==null&&Dg(Hc,e),Ey.forEach(t),Ty.forEach(t),n=0;n<Ac.length;n++)r=Ac[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ac.length&&(n=Ac[0],n.blockedOn===null);)mW(n),n.blockedOn===null&&Ac.shift()}var xp=tc.ReactCurrentBatchConfig,fw=!0;function Ife(e,t,n,r){var i=Rn,s=xp.transition;xp.transition=null;try{Rn=1,_k(e,t,n,r)}finally{Rn=i,xp.transition=s}}function Afe(e,t,n,r){var i=Rn,s=xp.transition;xp.transition=null;try{Rn=4,_k(e,t,n,r)}finally{Rn=i,xp.transition=s}}function _k(e,t,n,r){if(fw){var i=UP(e,t,n,r);if(i===null)QA(e,t,r,dw,n),UM(e,r);else if(Sfe(i,e,t,n,r))r.stopPropagation();else if(UM(e,r),t&4&&-1<Tfe.indexOf(e)){for(;i!==null;){var s=L_(i);if(s!==null&&fW(s),s=UP(e,t,n,r),s===null&&QA(e,t,r,dw,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else QA(e,t,r,null,n)}}var dw=null;function UP(e,t,n,r){if(dw=null,e=pk(r),e=dd(e),e!==null)if(t=uh(e),t===null)e=null;else if(n=t.tag,n===13){if(e=rW(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return dw=e,null}function gW(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pfe()){case mk:return 1;case aW:return 4;case lw:case mfe:return 16;case uW:return 536870912;default:return 16}default:return 16}}var Lc=null,vk=null,db=null;function yW(){if(db)return db;var e,t=vk,n=t.length,r,i="value"in Lc?Lc.value:Lc.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return db=i.slice(e,1<r?1-r:void 0)}function hb(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Qv(){return!0}function zM(){return!1}function Ao(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Qv:zM,this.isPropagationStopped=zM,this}return vr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Qv)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Qv)},persist:function(){},isPersistent:Qv}),t}var zm={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bk=Ao(zm),$_=vr({},zm,{view:0,detail:0}),Cfe=Ao($_),UA,VA,$g,YS=vr({},$_,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wk,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$g&&($g&&e.type==="mousemove"?(UA=e.screenX-$g.screenX,VA=e.screenY-$g.screenY):VA=UA=0,$g=e),UA)},movementY:function(e){return"movementY"in e?e.movementY:VA}}),HM=Ao(YS),Ofe=vr({},YS,{dataTransfer:0}),Pfe=Ao(Ofe),Rfe=vr({},$_,{relatedTarget:0}),zA=Ao(Rfe),Nfe=vr({},zm,{animationName:0,elapsedTime:0,pseudoElement:0}),kfe=Ao(Nfe),Dfe=vr({},zm,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$fe=Ao(Dfe),Lfe=vr({},zm,{data:0}),WM=Ao(Lfe),Mfe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ffe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bfe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jfe(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Bfe[e])?!!t[e]:!1}function wk(){return jfe}var Ufe=vr({},$_,{key:function(e){if(e.key){var t=Mfe[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=hb(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ffe[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wk,charCode:function(e){return e.type==="keypress"?hb(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?hb(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Vfe=Ao(Ufe),zfe=vr({},YS,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qM=Ao(zfe),Hfe=vr({},$_,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wk}),Wfe=Ao(Hfe),qfe=vr({},zm,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yfe=Ao(qfe),Gfe=vr({},YS,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Kfe=Ao(Gfe),Qfe=[9,13,27,32],Ek=Rl&&"CompositionEvent"in window,F0=null;Rl&&"documentMode"in document&&(F0=document.documentMode);var Xfe=Rl&&"TextEvent"in window&&!F0,_W=Rl&&(!Ek||F0&&8<F0&&11>=F0),YM=" ",GM=!1;function vW(e,t){switch(e){case"keyup":return Qfe.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bW(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Zh=!1;function Jfe(e,t){switch(e){case"compositionend":return bW(t);case"keypress":return t.which!==32?null:(GM=!0,YM);case"textInput":return e=t.data,e===YM&&GM?null:e;default:return null}}function Zfe(e,t){if(Zh)return e==="compositionend"||!Ek&&vW(e,t)?(e=yW(),db=vk=Lc=null,Zh=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _W&&t.locale!=="ko"?null:t.data;default:return null}}var ede={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function KM(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ede[e.type]:t==="textarea"}function wW(e,t,n,r){JH(r),t=hw(t,"onChange"),0<t.length&&(n=new bk("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var B0=null,xy=null;function tde(e){NW(e,0)}function GS(e){var t=np(e);if(WH(t))return e}function nde(e,t){if(e==="change")return t}var EW=!1;if(Rl){var HA;if(Rl){var WA="oninput"in document;if(!WA){var QM=document.createElement("div");QM.setAttribute("oninput","return;"),WA=typeof QM.oninput=="function"}HA=WA}else HA=!1;EW=HA&&(!document.documentMode||9<document.documentMode)}function XM(){B0&&(B0.detachEvent("onpropertychange",TW),xy=B0=null)}function TW(e){if(e.propertyName==="value"&&GS(xy)){var t=[];wW(t,xy,e,pk(e)),nW(tde,t)}}function rde(e,t,n){e==="focusin"?(XM(),B0=t,xy=n,B0.attachEvent("onpropertychange",TW)):e==="focusout"&&XM()}function ide(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return GS(xy)}function sde(e,t){if(e==="click")return GS(t)}function ode(e,t){if(e==="input"||e==="change")return GS(t)}function ade(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $a=typeof Object.is=="function"?Object.is:ade;function Iy(e,t){if($a(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!TP.call(t,i)||!$a(e[i],t[i]))return!1}return!0}function JM(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ZM(e,t){var n=JM(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=JM(n)}}function SW(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?SW(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function xW(){for(var e=window,t=ow();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ow(e.document)}return t}function Tk(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ude(e){var t=xW(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&SW(n.ownerDocument.documentElement,n)){if(r!==null&&Tk(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ZM(n,s);var o=ZM(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var lde=Rl&&"documentMode"in document&&11>=document.documentMode,ep=null,VP=null,j0=null,zP=!1;function e4(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;zP||ep==null||ep!==ow(r)||(r=ep,"selectionStart"in r&&Tk(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),j0&&Iy(j0,r)||(j0=r,r=hw(VP,"onSelect"),0<r.length&&(t=new bk("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ep)))}function Xv(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var tp={animationend:Xv("Animation","AnimationEnd"),animationiteration:Xv("Animation","AnimationIteration"),animationstart:Xv("Animation","AnimationStart"),transitionend:Xv("Transition","TransitionEnd")},qA={},IW={};Rl&&(IW=document.createElement("div").style,"AnimationEvent"in window||(delete tp.animationend.animation,delete tp.animationiteration.animation,delete tp.animationstart.animation),"TransitionEvent"in window||delete tp.transitionend.transition);function KS(e){if(qA[e])return qA[e];if(!tp[e])return e;var t=tp[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in IW)return qA[e]=t[n];return e}var AW=KS("animationend"),CW=KS("animationiteration"),OW=KS("animationstart"),PW=KS("transitionend"),RW=new Map,t4="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pf(e,t){RW.set(e,t),ah(t,[e])}for(var YA=0;YA<t4.length;YA++){var GA=t4[YA],cde=GA.toLowerCase(),fde=GA[0].toUpperCase()+GA.slice(1);Pf(cde,"on"+fde)}Pf(AW,"onAnimationEnd");Pf(CW,"onAnimationIteration");Pf(OW,"onAnimationStart");Pf("dblclick","onDoubleClick");Pf("focusin","onFocus");Pf("focusout","onBlur");Pf(PW,"onTransitionEnd");Qp("onMouseEnter",["mouseout","mouseover"]);Qp("onMouseLeave",["mouseout","mouseover"]);Qp("onPointerEnter",["pointerout","pointerover"]);Qp("onPointerLeave",["pointerout","pointerover"]);ah("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ah("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ah("onBeforeInput",["compositionend","keypress","textInput","paste"]);ah("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ah("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ah("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var g0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dde=new Set("cancel close invalid load scroll toggle".split(" ").concat(g0));function n4(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,cfe(r,t,void 0,e),e.currentTarget=null}function NW(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,l=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;n4(i,a,l),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,l=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;n4(i,a,l),s=u}}}if(uw)throw e=FP,uw=!1,FP=null,e}function Kn(e,t){var n=t[GP];n===void 0&&(n=t[GP]=new Set);var r=e+"__bubble";n.has(r)||(kW(t,e,2,!1),n.add(r))}function KA(e,t,n){var r=0;t&&(r|=4),kW(n,e,r,t)}var Jv="_reactListening"+Math.random().toString(36).slice(2);function Ay(e){if(!e[Jv]){e[Jv]=!0,jH.forEach(function(n){n!=="selectionchange"&&(dde.has(n)||KA(n,!1,e),KA(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Jv]||(t[Jv]=!0,KA("selectionchange",!1,t))}}function kW(e,t,n,r){switch(gW(t)){case 1:var i=Ife;break;case 4:i=Afe;break;default:i=_k}n=i.bind(null,t,n,e),i=void 0,!MP||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function QA(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=dd(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}nW(function(){var l=s,c=pk(n),f=[];e:{var d=RW.get(e);if(d!==void 0){var h=bk,p=e;switch(e){case"keypress":if(hb(n)===0)break e;case"keydown":case"keyup":h=Vfe;break;case"focusin":p="focus",h=zA;break;case"focusout":p="blur",h=zA;break;case"beforeblur":case"afterblur":h=zA;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=HM;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Pfe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=Wfe;break;case AW:case CW:case OW:h=kfe;break;case PW:h=Yfe;break;case"scroll":h=Cfe;break;case"wheel":h=Kfe;break;case"copy":case"cut":case"paste":h=$fe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=qM}var g=(t&4)!==0,y=!g&&e==="scroll",m=g?d!==null?d+"Capture":null:d;g=[];for(var _=l,v;_!==null;){v=_;var T=v.stateNode;if(v.tag===5&&T!==null&&(v=T,m!==null&&(T=wy(_,m),T!=null&&g.push(Cy(_,T,v)))),y)break;_=_.return}0<g.length&&(d=new h(d,p,null,n,c),f.push({event:d,listeners:g}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",d&&n!==$P&&(p=n.relatedTarget||n.fromElement)&&(dd(p)||p[Nl]))break e;if((h||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=l,p=p?dd(p):null,p!==null&&(y=uh(p),p!==y||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=l),h!==p)){if(g=HM,T="onMouseLeave",m="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(g=qM,T="onPointerLeave",m="onPointerEnter",_="pointer"),y=h==null?d:np(h),v=p==null?d:np(p),d=new g(T,_+"leave",h,n,c),d.target=y,d.relatedTarget=v,T=null,dd(c)===l&&(g=new g(m,_+"enter",p,n,c),g.target=v,g.relatedTarget=y,T=g),y=T,h&&p)t:{for(g=h,m=p,_=0,v=g;v;v=Oh(v))_++;for(v=0,T=m;T;T=Oh(T))v++;for(;0<_-v;)g=Oh(g),_--;for(;0<v-_;)m=Oh(m),v--;for(;_--;){if(g===m||m!==null&&g===m.alternate)break t;g=Oh(g),m=Oh(m)}g=null}else g=null;h!==null&&r4(f,d,h,g,!1),p!==null&&y!==null&&r4(f,y,p,g,!0)}}e:{if(d=l?np(l):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var S=nde;else if(KM(d))if(EW)S=ode;else{S=ide;var w=rde}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(S=sde);if(S&&(S=S(e,l))){wW(f,S,n,c);break e}w&&w(e,d,l),e==="focusout"&&(w=d._wrapperState)&&w.controlled&&d.type==="number"&&PP(d,"number",d.value)}switch(w=l?np(l):window,e){case"focusin":(KM(w)||w.contentEditable==="true")&&(ep=w,VP=l,j0=null);break;case"focusout":j0=VP=ep=null;break;case"mousedown":zP=!0;break;case"contextmenu":case"mouseup":case"dragend":zP=!1,e4(f,n,c);break;case"selectionchange":if(lde)break;case"keydown":case"keyup":e4(f,n,c)}var x;if(Ek)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Zh?vW(e,n)&&(A="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(_W&&n.locale!=="ko"&&(Zh||A!=="onCompositionStart"?A==="onCompositionEnd"&&Zh&&(x=yW()):(Lc=c,vk="value"in Lc?Lc.value:Lc.textContent,Zh=!0)),w=hw(l,A),0<w.length&&(A=new WM(A,e,null,n,c),f.push({event:A,listeners:w}),x?A.data=x:(x=bW(n),x!==null&&(A.data=x)))),(x=Xfe?Jfe(e,n):Zfe(e,n))&&(l=hw(l,"onBeforeInput"),0<l.length&&(c=new WM("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:l}),c.data=x))}NW(f,t)})}function Cy(e,t,n){return{instance:e,listener:t,currentTarget:n}}function hw(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=wy(e,n),s!=null&&r.unshift(Cy(e,s,i)),s=wy(e,t),s!=null&&r.push(Cy(e,s,i))),e=e.return}return r}function Oh(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function r4(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,l=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&l!==null&&(a=l,i?(u=wy(n,s),u!=null&&o.unshift(Cy(n,u,a))):i||(u=wy(n,s),u!=null&&o.push(Cy(n,u,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var hde=/\r\n?/g,pde=/\u0000|\uFFFD/g;function i4(e){return(typeof e=="string"?e:""+e).replace(hde,`
`).replace(pde,"")}function Zv(e,t,n){if(t=i4(t),i4(e)!==t&&n)throw Error(Ne(425))}function pw(){}var HP=null,WP=null;function qP(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var YP=typeof setTimeout=="function"?setTimeout:void 0,mde=typeof clearTimeout=="function"?clearTimeout:void 0,s4=typeof Promise=="function"?Promise:void 0,gde=typeof queueMicrotask=="function"?queueMicrotask:typeof s4<"u"?function(e){return s4.resolve(null).then(e).catch(yde)}:YP;function yde(e){setTimeout(function(){throw e})}function XA(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Sy(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Sy(t)}function Wc(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function o4(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Hm=Math.random().toString(36).slice(2),iu="__reactFiber$"+Hm,Oy="__reactProps$"+Hm,Nl="__reactContainer$"+Hm,GP="__reactEvents$"+Hm,_de="__reactListeners$"+Hm,vde="__reactHandles$"+Hm;function dd(e){var t=e[iu];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Nl]||n[iu]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=o4(e);e!==null;){if(n=e[iu])return n;e=o4(e)}return t}e=n,n=e.parentNode}return null}function L_(e){return e=e[iu]||e[Nl],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function np(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ne(33))}function QS(e){return e[Oy]||null}var KP=[],rp=-1;function Rf(e){return{current:e}}function er(e){0>rp||(e.current=KP[rp],KP[rp]=null,rp--)}function qn(e,t){rp++,KP[rp]=e.current,e.current=t}var ff={},es=Rf(ff),zs=Rf(!1),Bd=ff;function Xp(e,t){var n=e.type.contextTypes;if(!n)return ff;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Hs(e){return e=e.childContextTypes,e!=null}function mw(){er(zs),er(es)}function a4(e,t,n){if(es.current!==ff)throw Error(Ne(168));qn(es,t),qn(zs,n)}function DW(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Ne(108,rfe(e)||"Unknown",i));return vr({},n,r)}function gw(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ff,Bd=es.current,qn(es,e),qn(zs,zs.current),!0}function u4(e,t,n){var r=e.stateNode;if(!r)throw Error(Ne(169));n?(e=DW(e,t,Bd),r.__reactInternalMemoizedMergedChildContext=e,er(zs),er(es),qn(es,e)):er(zs),qn(zs,n)}var sl=null,XS=!1,JA=!1;function $W(e){sl===null?sl=[e]:sl.push(e)}function bde(e){XS=!0,$W(e)}function Nf(){if(!JA&&sl!==null){JA=!0;var e=0,t=Rn;try{var n=sl;for(Rn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}sl=null,XS=!1}catch(i){throw sl!==null&&(sl=sl.slice(e+1)),oW(mk,Nf),i}finally{Rn=t,JA=!1}}return null}var ip=[],sp=0,yw=null,_w=0,Bo=[],jo=0,jd=null,dl=1,hl="";function Qf(e,t){ip[sp++]=_w,ip[sp++]=yw,yw=e,_w=t}function LW(e,t,n){Bo[jo++]=dl,Bo[jo++]=hl,Bo[jo++]=jd,jd=e;var r=dl;e=hl;var i=32-Pa(r)-1;r&=~(1<<i),n+=1;var s=32-Pa(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,dl=1<<32-Pa(t)+i|n<<i|r,hl=s+e}else dl=1<<s|n<<i|r,hl=e}function Sk(e){e.return!==null&&(Qf(e,1),LW(e,1,0))}function xk(e){for(;e===yw;)yw=ip[--sp],ip[sp]=null,_w=ip[--sp],ip[sp]=null;for(;e===jd;)jd=Bo[--jo],Bo[jo]=null,hl=Bo[--jo],Bo[jo]=null,dl=Bo[--jo],Bo[jo]=null}var mo=null,fo=null,lr=!1,wa=null;function MW(e,t){var n=Go(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function l4(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,mo=e,fo=Wc(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,mo=e,fo=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=jd!==null?{id:dl,overflow:hl}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Go(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,mo=e,fo=null,!0):!1;default:return!1}}function QP(e){return(e.mode&1)!==0&&(e.flags&128)===0}function XP(e){if(lr){var t=fo;if(t){var n=t;if(!l4(e,t)){if(QP(e))throw Error(Ne(418));t=Wc(n.nextSibling);var r=mo;t&&l4(e,t)?MW(r,n):(e.flags=e.flags&-4097|2,lr=!1,mo=e)}}else{if(QP(e))throw Error(Ne(418));e.flags=e.flags&-4097|2,lr=!1,mo=e}}}function c4(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;mo=e}function e1(e){if(e!==mo)return!1;if(!lr)return c4(e),lr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!qP(e.type,e.memoizedProps)),t&&(t=fo)){if(QP(e))throw FW(),Error(Ne(418));for(;t;)MW(e,t),t=Wc(t.nextSibling)}if(c4(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ne(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){fo=Wc(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}fo=null}}else fo=mo?Wc(e.stateNode.nextSibling):null;return!0}function FW(){for(var e=fo;e;)e=Wc(e.nextSibling)}function Jp(){fo=mo=null,lr=!1}function Ik(e){wa===null?wa=[e]:wa.push(e)}var wde=tc.ReactCurrentBatchConfig;function _a(e,t){if(e&&e.defaultProps){t=vr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var vw=Rf(null),bw=null,op=null,Ak=null;function Ck(){Ak=op=bw=null}function Ok(e){var t=vw.current;er(vw),e._currentValue=t}function JP(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ip(e,t){bw=e,Ak=op=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Fs=!0),e.firstContext=null)}function Zo(e){var t=e._currentValue;if(Ak!==e)if(e={context:e,memoizedValue:t,next:null},op===null){if(bw===null)throw Error(Ne(308));op=e,bw.dependencies={lanes:0,firstContext:e}}else op=op.next=e;return t}var hd=null;function Pk(e){hd===null?hd=[e]:hd.push(e)}function BW(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Pk(t)):(n.next=i.next,i.next=n),t.interleaved=n,kl(e,r)}function kl(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ec=!1;function Rk(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jW(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function El(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function qc(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,pn&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,kl(e,n)}return i=r.interleaved,i===null?(t.next=t,Pk(r)):(t.next=i.next,i.next=t),r.interleaved=t,kl(e,n)}function pb(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,gk(e,n)}}function f4(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ww(e,t,n,r){var i=e.updateQueue;Ec=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,l=u.next;u.next=null,o===null?s=l:o.next=l,o=u;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=l:a.next=l,c.lastBaseUpdate=u))}if(s!==null){var f=i.baseState;o=0,c=l=u=null,a=s;do{var d=a.lane,h=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,g=a;switch(d=t,h=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,d=typeof p=="function"?p.call(h,f,d):p,d==null)break e;f=vr({},f,d);break e;case 2:Ec=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else h={eventTime:h,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(l=c=h,u=f):c=c.next=h,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(u=f),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Vd|=o,e.lanes=o,e.memoizedState=f}}function d4(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ne(191,i));i.call(r)}}}var UW=new BH.Component().refs;function ZP(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:vr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var JS={isMounted:function(e){return(e=e._reactInternals)?uh(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hs(),i=Gc(e),s=El(r,i);s.payload=t,n!=null&&(s.callback=n),t=qc(e,s,i),t!==null&&(Ra(t,e,i,r),pb(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hs(),i=Gc(e),s=El(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=qc(e,s,i),t!==null&&(Ra(t,e,i,r),pb(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hs(),r=Gc(e),i=El(n,r);i.tag=2,t!=null&&(i.callback=t),t=qc(e,i,r),t!==null&&(Ra(t,e,r,n),pb(t,e,r))}};function h4(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Iy(n,r)||!Iy(i,s):!0}function VW(e,t,n){var r=!1,i=ff,s=t.contextType;return typeof s=="object"&&s!==null?s=Zo(s):(i=Hs(t)?Bd:es.current,r=t.contextTypes,s=(r=r!=null)?Xp(e,i):ff),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=JS,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function p4(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&JS.enqueueReplaceState(t,t.state,null)}function e2(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=UW,Rk(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Zo(s):(s=Hs(t)?Bd:es.current,i.context=Xp(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(ZP(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&JS.enqueueReplaceState(i,i.state,null),ww(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Lg(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ne(309));var r=n.stateNode}if(!r)throw Error(Ne(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;a===UW&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(Ne(284));if(!n._owner)throw Error(Ne(290,e))}return e}function t1(e,t){throw e=Object.prototype.toString.call(t),Error(Ne(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function m4(e){var t=e._init;return t(e._payload)}function zW(e){function t(m,_){if(e){var v=m.deletions;v===null?(m.deletions=[_],m.flags|=16):v.push(_)}}function n(m,_){if(!e)return null;for(;_!==null;)t(m,_),_=_.sibling;return null}function r(m,_){for(m=new Map;_!==null;)_.key!==null?m.set(_.key,_):m.set(_.index,_),_=_.sibling;return m}function i(m,_){return m=Kc(m,_),m.index=0,m.sibling=null,m}function s(m,_,v){return m.index=v,e?(v=m.alternate,v!==null?(v=v.index,v<_?(m.flags|=2,_):v):(m.flags|=2,_)):(m.flags|=1048576,_)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,_,v,T){return _===null||_.tag!==6?(_=sC(v,m.mode,T),_.return=m,_):(_=i(_,v),_.return=m,_)}function u(m,_,v,T){var S=v.type;return S===Jh?c(m,_,v.props.children,T,v.key):_!==null&&(_.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===wc&&m4(S)===_.type)?(T=i(_,v.props),T.ref=Lg(m,_,v),T.return=m,T):(T=bb(v.type,v.key,v.props,null,m.mode,T),T.ref=Lg(m,_,v),T.return=m,T)}function l(m,_,v,T){return _===null||_.tag!==4||_.stateNode.containerInfo!==v.containerInfo||_.stateNode.implementation!==v.implementation?(_=oC(v,m.mode,T),_.return=m,_):(_=i(_,v.children||[]),_.return=m,_)}function c(m,_,v,T,S){return _===null||_.tag!==7?(_=Pd(v,m.mode,T,S),_.return=m,_):(_=i(_,v),_.return=m,_)}function f(m,_,v){if(typeof _=="string"&&_!==""||typeof _=="number")return _=sC(""+_,m.mode,v),_.return=m,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Hv:return v=bb(_.type,_.key,_.props,null,m.mode,v),v.ref=Lg(m,null,_),v.return=m,v;case Xh:return _=oC(_,m.mode,v),_.return=m,_;case wc:var T=_._init;return f(m,T(_._payload),v)}if(p0(_)||Rg(_))return _=Pd(_,m.mode,v,null),_.return=m,_;t1(m,_)}return null}function d(m,_,v,T){var S=_!==null?_.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return S!==null?null:a(m,_,""+v,T);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Hv:return v.key===S?u(m,_,v,T):null;case Xh:return v.key===S?l(m,_,v,T):null;case wc:return S=v._init,d(m,_,S(v._payload),T)}if(p0(v)||Rg(v))return S!==null?null:c(m,_,v,T,null);t1(m,v)}return null}function h(m,_,v,T,S){if(typeof T=="string"&&T!==""||typeof T=="number")return m=m.get(v)||null,a(_,m,""+T,S);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Hv:return m=m.get(T.key===null?v:T.key)||null,u(_,m,T,S);case Xh:return m=m.get(T.key===null?v:T.key)||null,l(_,m,T,S);case wc:var w=T._init;return h(m,_,v,w(T._payload),S)}if(p0(T)||Rg(T))return m=m.get(v)||null,c(_,m,T,S,null);t1(_,T)}return null}function p(m,_,v,T){for(var S=null,w=null,x=_,A=_=0,$=null;x!==null&&A<v.length;A++){x.index>A?($=x,x=null):$=x.sibling;var D=d(m,x,v[A],T);if(D===null){x===null&&(x=$);break}e&&x&&D.alternate===null&&t(m,x),_=s(D,_,A),w===null?S=D:w.sibling=D,w=D,x=$}if(A===v.length)return n(m,x),lr&&Qf(m,A),S;if(x===null){for(;A<v.length;A++)x=f(m,v[A],T),x!==null&&(_=s(x,_,A),w===null?S=x:w.sibling=x,w=x);return lr&&Qf(m,A),S}for(x=r(m,x);A<v.length;A++)$=h(x,m,A,v[A],T),$!==null&&(e&&$.alternate!==null&&x.delete($.key===null?A:$.key),_=s($,_,A),w===null?S=$:w.sibling=$,w=$);return e&&x.forEach(function(P){return t(m,P)}),lr&&Qf(m,A),S}function g(m,_,v,T){var S=Rg(v);if(typeof S!="function")throw Error(Ne(150));if(v=S.call(v),v==null)throw Error(Ne(151));for(var w=S=null,x=_,A=_=0,$=null,D=v.next();x!==null&&!D.done;A++,D=v.next()){x.index>A?($=x,x=null):$=x.sibling;var P=d(m,x,D.value,T);if(P===null){x===null&&(x=$);break}e&&x&&P.alternate===null&&t(m,x),_=s(P,_,A),w===null?S=P:w.sibling=P,w=P,x=$}if(D.done)return n(m,x),lr&&Qf(m,A),S;if(x===null){for(;!D.done;A++,D=v.next())D=f(m,D.value,T),D!==null&&(_=s(D,_,A),w===null?S=D:w.sibling=D,w=D);return lr&&Qf(m,A),S}for(x=r(m,x);!D.done;A++,D=v.next())D=h(x,m,A,D.value,T),D!==null&&(e&&D.alternate!==null&&x.delete(D.key===null?A:D.key),_=s(D,_,A),w===null?S=D:w.sibling=D,w=D);return e&&x.forEach(function(q){return t(m,q)}),lr&&Qf(m,A),S}function y(m,_,v,T){if(typeof v=="object"&&v!==null&&v.type===Jh&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Hv:e:{for(var S=v.key,w=_;w!==null;){if(w.key===S){if(S=v.type,S===Jh){if(w.tag===7){n(m,w.sibling),_=i(w,v.props.children),_.return=m,m=_;break e}}else if(w.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===wc&&m4(S)===w.type){n(m,w.sibling),_=i(w,v.props),_.ref=Lg(m,w,v),_.return=m,m=_;break e}n(m,w);break}else t(m,w);w=w.sibling}v.type===Jh?(_=Pd(v.props.children,m.mode,T,v.key),_.return=m,m=_):(T=bb(v.type,v.key,v.props,null,m.mode,T),T.ref=Lg(m,_,v),T.return=m,m=T)}return o(m);case Xh:e:{for(w=v.key;_!==null;){if(_.key===w)if(_.tag===4&&_.stateNode.containerInfo===v.containerInfo&&_.stateNode.implementation===v.implementation){n(m,_.sibling),_=i(_,v.children||[]),_.return=m,m=_;break e}else{n(m,_);break}else t(m,_);_=_.sibling}_=oC(v,m.mode,T),_.return=m,m=_}return o(m);case wc:return w=v._init,y(m,_,w(v._payload),T)}if(p0(v))return p(m,_,v,T);if(Rg(v))return g(m,_,v,T);t1(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,_!==null&&_.tag===6?(n(m,_.sibling),_=i(_,v),_.return=m,m=_):(n(m,_),_=sC(v,m.mode,T),_.return=m,m=_),o(m)):n(m,_)}return y}var Zp=zW(!0),HW=zW(!1),M_={},wu=Rf(M_),Py=Rf(M_),Ry=Rf(M_);function pd(e){if(e===M_)throw Error(Ne(174));return e}function Nk(e,t){switch(qn(Ry,t),qn(Py,e),qn(wu,M_),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:NP(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=NP(t,e)}er(wu),qn(wu,t)}function em(){er(wu),er(Py),er(Ry)}function WW(e){pd(Ry.current);var t=pd(wu.current),n=NP(t,e.type);t!==n&&(qn(Py,e),qn(wu,n))}function kk(e){Py.current===e&&(er(wu),er(Py))}var yr=Rf(0);function Ew(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ZA=[];function Dk(){for(var e=0;e<ZA.length;e++)ZA[e]._workInProgressVersionPrimary=null;ZA.length=0}var mb=tc.ReactCurrentDispatcher,eC=tc.ReactCurrentBatchConfig,Ud=0,_r=null,Qr=null,fi=null,Tw=!1,U0=!1,Ny=0,Ede=0;function Bi(){throw Error(Ne(321))}function $k(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!$a(e[n],t[n]))return!1;return!0}function Lk(e,t,n,r,i,s){if(Ud=s,_r=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,mb.current=e===null||e.memoizedState===null?Ide:Ade,e=n(r,i),U0){s=0;do{if(U0=!1,Ny=0,25<=s)throw Error(Ne(301));s+=1,fi=Qr=null,t.updateQueue=null,mb.current=Cde,e=n(r,i)}while(U0)}if(mb.current=Sw,t=Qr!==null&&Qr.next!==null,Ud=0,fi=Qr=_r=null,Tw=!1,t)throw Error(Ne(300));return e}function Mk(){var e=Ny!==0;return Ny=0,e}function Ka(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fi===null?_r.memoizedState=fi=e:fi=fi.next=e,fi}function ea(){if(Qr===null){var e=_r.alternate;e=e!==null?e.memoizedState:null}else e=Qr.next;var t=fi===null?_r.memoizedState:fi.next;if(t!==null)fi=t,Qr=e;else{if(e===null)throw Error(Ne(310));Qr=e,e={memoizedState:Qr.memoizedState,baseState:Qr.baseState,baseQueue:Qr.baseQueue,queue:Qr.queue,next:null},fi===null?_r.memoizedState=fi=e:fi=fi.next=e}return fi}function ky(e,t){return typeof t=="function"?t(e):t}function tC(e){var t=ea(),n=t.queue;if(n===null)throw Error(Ne(311));n.lastRenderedReducer=e;var r=Qr,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,l=s;do{var c=l.lane;if((Ud&c)===c)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var f={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(a=u=f,o=r):u=u.next=f,_r.lanes|=c,Vd|=c}l=l.next}while(l!==null&&l!==s);u===null?o=r:u.next=a,$a(r,t.memoizedState)||(Fs=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,_r.lanes|=s,Vd|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function nC(e){var t=ea(),n=t.queue;if(n===null)throw Error(Ne(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);$a(s,t.memoizedState)||(Fs=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function qW(){}function YW(e,t){var n=_r,r=ea(),i=t(),s=!$a(r.memoizedState,i);if(s&&(r.memoizedState=i,Fs=!0),r=r.queue,Fk(QW.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||fi!==null&&fi.memoizedState.tag&1){if(n.flags|=2048,Dy(9,KW.bind(null,n,r,i,t),void 0,null),pi===null)throw Error(Ne(349));Ud&30||GW(n,t,i)}return i}function GW(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=_r.updateQueue,t===null?(t={lastEffect:null,stores:null},_r.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function KW(e,t,n,r){t.value=n,t.getSnapshot=r,XW(t)&&JW(e)}function QW(e,t,n){return n(function(){XW(t)&&JW(e)})}function XW(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!$a(e,n)}catch{return!0}}function JW(e){var t=kl(e,1);t!==null&&Ra(t,e,1,-1)}function g4(e){var t=Ka();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ky,lastRenderedState:e},t.queue=e,e=e.dispatch=xde.bind(null,_r,e),[t.memoizedState,e]}function Dy(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=_r.updateQueue,t===null?(t={lastEffect:null,stores:null},_r.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function ZW(){return ea().memoizedState}function gb(e,t,n,r){var i=Ka();_r.flags|=e,i.memoizedState=Dy(1|t,n,void 0,r===void 0?null:r)}function ZS(e,t,n,r){var i=ea();r=r===void 0?null:r;var s=void 0;if(Qr!==null){var o=Qr.memoizedState;if(s=o.destroy,r!==null&&$k(r,o.deps)){i.memoizedState=Dy(t,n,s,r);return}}_r.flags|=e,i.memoizedState=Dy(1|t,n,s,r)}function y4(e,t){return gb(8390656,8,e,t)}function Fk(e,t){return ZS(2048,8,e,t)}function eq(e,t){return ZS(4,2,e,t)}function tq(e,t){return ZS(4,4,e,t)}function nq(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function rq(e,t,n){return n=n!=null?n.concat([e]):null,ZS(4,4,nq.bind(null,t,e),n)}function Bk(){}function iq(e,t){var n=ea();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&$k(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function sq(e,t){var n=ea();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&$k(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function oq(e,t,n){return Ud&21?($a(n,t)||(n=lW(),_r.lanes|=n,Vd|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Fs=!0),e.memoizedState=n)}function Tde(e,t){var n=Rn;Rn=n!==0&&4>n?n:4,e(!0);var r=eC.transition;eC.transition={};try{e(!1),t()}finally{Rn=n,eC.transition=r}}function aq(){return ea().memoizedState}function Sde(e,t,n){var r=Gc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},uq(e))lq(t,n);else if(n=BW(e,t,n,r),n!==null){var i=hs();Ra(n,e,r,i),cq(n,t,r)}}function xde(e,t,n){var r=Gc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(uq(e))lq(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,$a(a,o)){var u=t.interleaved;u===null?(i.next=i,Pk(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}n=BW(e,t,i,r),n!==null&&(i=hs(),Ra(n,e,r,i),cq(n,t,r))}}function uq(e){var t=e.alternate;return e===_r||t!==null&&t===_r}function lq(e,t){U0=Tw=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function cq(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,gk(e,n)}}var Sw={readContext:Zo,useCallback:Bi,useContext:Bi,useEffect:Bi,useImperativeHandle:Bi,useInsertionEffect:Bi,useLayoutEffect:Bi,useMemo:Bi,useReducer:Bi,useRef:Bi,useState:Bi,useDebugValue:Bi,useDeferredValue:Bi,useTransition:Bi,useMutableSource:Bi,useSyncExternalStore:Bi,useId:Bi,unstable_isNewReconciler:!1},Ide={readContext:Zo,useCallback:function(e,t){return Ka().memoizedState=[e,t===void 0?null:t],e},useContext:Zo,useEffect:y4,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,gb(4194308,4,nq.bind(null,t,e),n)},useLayoutEffect:function(e,t){return gb(4194308,4,e,t)},useInsertionEffect:function(e,t){return gb(4,2,e,t)},useMemo:function(e,t){var n=Ka();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ka();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Sde.bind(null,_r,e),[r.memoizedState,e]},useRef:function(e){var t=Ka();return e={current:e},t.memoizedState=e},useState:g4,useDebugValue:Bk,useDeferredValue:function(e){return Ka().memoizedState=e},useTransition:function(){var e=g4(!1),t=e[0];return e=Tde.bind(null,e[1]),Ka().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=_r,i=Ka();if(lr){if(n===void 0)throw Error(Ne(407));n=n()}else{if(n=t(),pi===null)throw Error(Ne(349));Ud&30||GW(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,y4(QW.bind(null,r,s,e),[e]),r.flags|=2048,Dy(9,KW.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Ka(),t=pi.identifierPrefix;if(lr){var n=hl,r=dl;n=(r&~(1<<32-Pa(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ny++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Ede++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ade={readContext:Zo,useCallback:iq,useContext:Zo,useEffect:Fk,useImperativeHandle:rq,useInsertionEffect:eq,useLayoutEffect:tq,useMemo:sq,useReducer:tC,useRef:ZW,useState:function(){return tC(ky)},useDebugValue:Bk,useDeferredValue:function(e){var t=ea();return oq(t,Qr.memoizedState,e)},useTransition:function(){var e=tC(ky)[0],t=ea().memoizedState;return[e,t]},useMutableSource:qW,useSyncExternalStore:YW,useId:aq,unstable_isNewReconciler:!1},Cde={readContext:Zo,useCallback:iq,useContext:Zo,useEffect:Fk,useImperativeHandle:rq,useInsertionEffect:eq,useLayoutEffect:tq,useMemo:sq,useReducer:nC,useRef:ZW,useState:function(){return nC(ky)},useDebugValue:Bk,useDeferredValue:function(e){var t=ea();return Qr===null?t.memoizedState=e:oq(t,Qr.memoizedState,e)},useTransition:function(){var e=nC(ky)[0],t=ea().memoizedState;return[e,t]},useMutableSource:qW,useSyncExternalStore:YW,useId:aq,unstable_isNewReconciler:!1};function tm(e,t){try{var n="",r=t;do n+=nfe(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function rC(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function t2(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Ode=typeof WeakMap=="function"?WeakMap:Map;function fq(e,t,n){n=El(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Iw||(Iw=!0,f2=r),t2(e,t)},n}function dq(e,t,n){n=El(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){t2(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){t2(e,t),typeof r!="function"&&(Yc===null?Yc=new Set([this]):Yc.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function _4(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Ode;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=zde.bind(null,e,t,n),t.then(e,e))}function v4(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function b4(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=El(-1,1),t.tag=2,qc(n,t,1))),n.lanes|=1),e)}var Pde=tc.ReactCurrentOwner,Fs=!1;function cs(e,t,n,r){t.child=e===null?HW(t,null,n,r):Zp(t,e.child,n,r)}function w4(e,t,n,r,i){n=n.render;var s=t.ref;return Ip(t,i),r=Lk(e,t,n,r,s,i),n=Mk(),e!==null&&!Fs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Dl(e,t,i)):(lr&&n&&Sk(t),t.flags|=1,cs(e,t,r,i),t.child)}function E4(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Yk(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,hq(e,t,s,r,i)):(e=bb(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Iy,n(o,r)&&e.ref===t.ref)return Dl(e,t,i)}return t.flags|=1,e=Kc(s,r),e.ref=t.ref,e.return=t,t.child=e}function hq(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Iy(s,r)&&e.ref===t.ref)if(Fs=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Fs=!0);else return t.lanes=e.lanes,Dl(e,t,i)}return n2(e,t,n,r,i)}function pq(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},qn(up,so),so|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,qn(up,so),so|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,qn(up,so),so|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,qn(up,so),so|=r;return cs(e,t,i,n),t.child}function mq(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function n2(e,t,n,r,i){var s=Hs(n)?Bd:es.current;return s=Xp(t,s),Ip(t,i),n=Lk(e,t,n,r,s,i),r=Mk(),e!==null&&!Fs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Dl(e,t,i)):(lr&&r&&Sk(t),t.flags|=1,cs(e,t,n,i),t.child)}function T4(e,t,n,r,i){if(Hs(n)){var s=!0;gw(t)}else s=!1;if(Ip(t,i),t.stateNode===null)yb(e,t),VW(t,n,r),e2(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var u=o.context,l=n.contextType;typeof l=="object"&&l!==null?l=Zo(l):(l=Hs(n)?Bd:es.current,l=Xp(t,l));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==l)&&p4(t,o,r,l),Ec=!1;var d=t.memoizedState;o.state=d,ww(t,r,o,i),u=t.memoizedState,a!==r||d!==u||zs.current||Ec?(typeof c=="function"&&(ZP(t,n,c,r),u=t.memoizedState),(a=Ec||h4(t,n,a,r,d,u,l))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,jW(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:_a(t.type,a),o.props=l,f=t.pendingProps,d=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Zo(u):(u=Hs(n)?Bd:es.current,u=Xp(t,u));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||d!==u)&&p4(t,o,r,u),Ec=!1,d=t.memoizedState,o.state=d,ww(t,r,o,i);var p=t.memoizedState;a!==f||d!==p||zs.current||Ec?(typeof h=="function"&&(ZP(t,n,h,r),p=t.memoizedState),(l=Ec||h4(t,n,l,r,d,p,u)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=l):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return r2(e,t,n,r,s,i)}function r2(e,t,n,r,i,s){mq(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&u4(t,n,!1),Dl(e,t,s);r=t.stateNode,Pde.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Zp(t,e.child,null,s),t.child=Zp(t,null,a,s)):cs(e,t,a,s),t.memoizedState=r.state,i&&u4(t,n,!0),t.child}function gq(e){var t=e.stateNode;t.pendingContext?a4(e,t.pendingContext,t.pendingContext!==t.context):t.context&&a4(e,t.context,!1),Nk(e,t.containerInfo)}function S4(e,t,n,r,i){return Jp(),Ik(i),t.flags|=256,cs(e,t,n,r),t.child}var i2={dehydrated:null,treeContext:null,retryLane:0};function s2(e){return{baseLanes:e,cachePool:null,transitions:null}}function yq(e,t,n){var r=t.pendingProps,i=yr.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),qn(yr,i&1),e===null)return XP(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=nx(o,r,0,null),e=Pd(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=s2(n),t.memoizedState=i2,e):jk(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Rde(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Kc(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Kc(a,s):(s=Pd(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?s2(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=i2,r}return s=e.child,e=s.sibling,r=Kc(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function jk(e,t){return t=nx({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function n1(e,t,n,r){return r!==null&&Ik(r),Zp(t,e.child,null,n),e=jk(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Rde(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=rC(Error(Ne(422))),n1(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=nx({mode:"visible",children:r.children},i,0,null),s=Pd(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Zp(t,e.child,null,o),t.child.memoizedState=s2(o),t.memoizedState=i2,s);if(!(t.mode&1))return n1(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Ne(419)),r=rC(s,r,void 0),n1(e,t,o,r)}if(a=(o&e.childLanes)!==0,Fs||a){if(r=pi,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,kl(e,i),Ra(r,e,i,-1))}return qk(),r=rC(Error(Ne(421))),n1(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Hde.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,fo=Wc(i.nextSibling),mo=t,lr=!0,wa=null,e!==null&&(Bo[jo++]=dl,Bo[jo++]=hl,Bo[jo++]=jd,dl=e.id,hl=e.overflow,jd=t),t=jk(t,r.children),t.flags|=4096,t)}function x4(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),JP(e.return,t,n)}function iC(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function _q(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(cs(e,t,r.children,n),r=yr.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&x4(e,n,t);else if(e.tag===19)x4(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(qn(yr,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Ew(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),iC(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Ew(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}iC(t,!0,n,null,s);break;case"together":iC(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function yb(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Dl(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Vd|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ne(153));if(t.child!==null){for(e=t.child,n=Kc(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Kc(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Nde(e,t,n){switch(t.tag){case 3:gq(t),Jp();break;case 5:WW(t);break;case 1:Hs(t.type)&&gw(t);break;case 4:Nk(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;qn(vw,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(qn(yr,yr.current&1),t.flags|=128,null):n&t.child.childLanes?yq(e,t,n):(qn(yr,yr.current&1),e=Dl(e,t,n),e!==null?e.sibling:null);qn(yr,yr.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return _q(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),qn(yr,yr.current),r)break;return null;case 22:case 23:return t.lanes=0,pq(e,t,n)}return Dl(e,t,n)}var vq,o2,bq,wq;vq=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};o2=function(){};bq=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,pd(wu.current);var s=null;switch(n){case"input":i=CP(e,i),r=CP(e,r),s=[];break;case"select":i=vr({},i,{value:void 0}),r=vr({},r,{value:void 0}),s=[];break;case"textarea":i=RP(e,i),r=RP(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=pw)}kP(n,r);var o;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(vy.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in r){var u=r[l];if(a=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&u!==a&&(u!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(l,n)),n=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(vy.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&Kn("scroll",e),s||a===u||(s=[])):(s=s||[]).push(l,u))}n&&(s=s||[]).push("style",n);var l=s;(t.updateQueue=l)&&(t.flags|=4)}};wq=function(e,t,n,r){n!==r&&(t.flags|=4)};function Mg(e,t){if(!lr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ji(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function kde(e,t,n){var r=t.pendingProps;switch(xk(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ji(t),null;case 1:return Hs(t.type)&&mw(),ji(t),null;case 3:return r=t.stateNode,em(),er(zs),er(es),Dk(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(e1(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,wa!==null&&(p2(wa),wa=null))),o2(e,t),ji(t),null;case 5:kk(t);var i=pd(Ry.current);if(n=t.type,e!==null&&t.stateNode!=null)bq(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Ne(166));return ji(t),null}if(e=pd(wu.current),e1(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[iu]=t,r[Oy]=s,e=(t.mode&1)!==0,n){case"dialog":Kn("cancel",r),Kn("close",r);break;case"iframe":case"object":case"embed":Kn("load",r);break;case"video":case"audio":for(i=0;i<g0.length;i++)Kn(g0[i],r);break;case"source":Kn("error",r);break;case"img":case"image":case"link":Kn("error",r),Kn("load",r);break;case"details":Kn("toggle",r);break;case"input":DM(r,s),Kn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Kn("invalid",r);break;case"textarea":LM(r,s),Kn("invalid",r)}kP(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Zv(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Zv(r.textContent,a,e),i=["children",""+a]):vy.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Kn("scroll",r)}switch(n){case"input":Wv(r),$M(r,s,!0);break;case"textarea":Wv(r),MM(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=pw)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=GH(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[iu]=t,e[Oy]=r,vq(e,t,!1,!1),t.stateNode=e;e:{switch(o=DP(n,r),n){case"dialog":Kn("cancel",e),Kn("close",e),i=r;break;case"iframe":case"object":case"embed":Kn("load",e),i=r;break;case"video":case"audio":for(i=0;i<g0.length;i++)Kn(g0[i],e);i=r;break;case"source":Kn("error",e),i=r;break;case"img":case"image":case"link":Kn("error",e),Kn("load",e),i=r;break;case"details":Kn("toggle",e),i=r;break;case"input":DM(e,r),i=CP(e,r),Kn("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=vr({},r,{value:void 0}),Kn("invalid",e);break;case"textarea":LM(e,r),i=RP(e,r),Kn("invalid",e);break;default:i=r}kP(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?XH(e,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&KH(e,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&by(e,u):typeof u=="number"&&by(e,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(vy.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Kn("scroll",e):u!=null&&ck(e,s,u,o))}switch(n){case"input":Wv(e),$M(e,r,!1);break;case"textarea":Wv(e),MM(e);break;case"option":r.value!=null&&e.setAttribute("value",""+cf(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Ep(e,!!r.multiple,s,!1):r.defaultValue!=null&&Ep(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=pw)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ji(t),null;case 6:if(e&&t.stateNode!=null)wq(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Ne(166));if(n=pd(Ry.current),pd(wu.current),e1(t)){if(r=t.stateNode,n=t.memoizedProps,r[iu]=t,(s=r.nodeValue!==n)&&(e=mo,e!==null))switch(e.tag){case 3:Zv(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Zv(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[iu]=t,t.stateNode=r}return ji(t),null;case 13:if(er(yr),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(lr&&fo!==null&&t.mode&1&&!(t.flags&128))FW(),Jp(),t.flags|=98560,s=!1;else if(s=e1(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(Ne(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ne(317));s[iu]=t}else Jp(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ji(t),s=!1}else wa!==null&&(p2(wa),wa=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||yr.current&1?ei===0&&(ei=3):qk())),t.updateQueue!==null&&(t.flags|=4),ji(t),null);case 4:return em(),o2(e,t),e===null&&Ay(t.stateNode.containerInfo),ji(t),null;case 10:return Ok(t.type._context),ji(t),null;case 17:return Hs(t.type)&&mw(),ji(t),null;case 19:if(er(yr),s=t.memoizedState,s===null)return ji(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)Mg(s,!1);else{if(ei!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ew(e),o!==null){for(t.flags|=128,Mg(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return qn(yr,yr.current&1|2),t.child}e=e.sibling}s.tail!==null&&$r()>nm&&(t.flags|=128,r=!0,Mg(s,!1),t.lanes=4194304)}else{if(!r)if(e=Ew(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Mg(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!lr)return ji(t),null}else 2*$r()-s.renderingStartTime>nm&&n!==1073741824&&(t.flags|=128,r=!0,Mg(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=$r(),t.sibling=null,n=yr.current,qn(yr,r?n&1|2:n&1),t):(ji(t),null);case 22:case 23:return Wk(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?so&1073741824&&(ji(t),t.subtreeFlags&6&&(t.flags|=8192)):ji(t),null;case 24:return null;case 25:return null}throw Error(Ne(156,t.tag))}function Dde(e,t){switch(xk(t),t.tag){case 1:return Hs(t.type)&&mw(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return em(),er(zs),er(es),Dk(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return kk(t),null;case 13:if(er(yr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ne(340));Jp()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return er(yr),null;case 4:return em(),null;case 10:return Ok(t.type._context),null;case 22:case 23:return Wk(),null;case 24:return null;default:return null}}var r1=!1,Ki=!1,$de=typeof WeakSet=="function"?WeakSet:Set,qe=null;function ap(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){xr(e,t,r)}else n.current=null}function a2(e,t,n){try{n()}catch(r){xr(e,t,r)}}var I4=!1;function Lde(e,t){if(HP=fw,e=xW(),Tk(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,l=0,c=0,f=e,d=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===e)break t;if(d===n&&++l===i&&(a=o),d===s&&++c===r&&(u=o),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(WP={focusedElem:e,selectionRange:n},fw=!1,qe=t;qe!==null;)if(t=qe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,qe=e;else for(;qe!==null;){t=qe;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,y=p.memoizedState,m=t.stateNode,_=m.getSnapshotBeforeUpdate(t.elementType===t.type?g:_a(t.type,g),y);m.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ne(163))}}catch(T){xr(t,t.return,T)}if(e=t.sibling,e!==null){e.return=t.return,qe=e;break}qe=t.return}return p=I4,I4=!1,p}function V0(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&a2(t,n,s)}i=i.next}while(i!==r)}}function ex(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function u2(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Eq(e){var t=e.alternate;t!==null&&(e.alternate=null,Eq(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[iu],delete t[Oy],delete t[GP],delete t[_de],delete t[vde])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Tq(e){return e.tag===5||e.tag===3||e.tag===4}function A4(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Tq(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function l2(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=pw));else if(r!==4&&(e=e.child,e!==null))for(l2(e,t,n),e=e.sibling;e!==null;)l2(e,t,n),e=e.sibling}function c2(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(c2(e,t,n),e=e.sibling;e!==null;)c2(e,t,n),e=e.sibling}var Si=null,va=!1;function fc(e,t,n){for(n=n.child;n!==null;)Sq(e,t,n),n=n.sibling}function Sq(e,t,n){if(bu&&typeof bu.onCommitFiberUnmount=="function")try{bu.onCommitFiberUnmount(qS,n)}catch{}switch(n.tag){case 5:Ki||ap(n,t);case 6:var r=Si,i=va;Si=null,fc(e,t,n),Si=r,va=i,Si!==null&&(va?(e=Si,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Si.removeChild(n.stateNode));break;case 18:Si!==null&&(va?(e=Si,n=n.stateNode,e.nodeType===8?XA(e.parentNode,n):e.nodeType===1&&XA(e,n),Sy(e)):XA(Si,n.stateNode));break;case 4:r=Si,i=va,Si=n.stateNode.containerInfo,va=!0,fc(e,t,n),Si=r,va=i;break;case 0:case 11:case 14:case 15:if(!Ki&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&a2(n,t,o),i=i.next}while(i!==r)}fc(e,t,n);break;case 1:if(!Ki&&(ap(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){xr(n,t,a)}fc(e,t,n);break;case 21:fc(e,t,n);break;case 22:n.mode&1?(Ki=(r=Ki)||n.memoizedState!==null,fc(e,t,n),Ki=r):fc(e,t,n);break;default:fc(e,t,n)}}function C4(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new $de),t.forEach(function(r){var i=Wde.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ha(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Si=a.stateNode,va=!1;break e;case 3:Si=a.stateNode.containerInfo,va=!0;break e;case 4:Si=a.stateNode.containerInfo,va=!0;break e}a=a.return}if(Si===null)throw Error(Ne(160));Sq(s,o,i),Si=null,va=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(l){xr(i,t,l)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)xq(t,e),t=t.sibling}function xq(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ha(t,e),Ha(e),r&4){try{V0(3,e,e.return),ex(3,e)}catch(g){xr(e,e.return,g)}try{V0(5,e,e.return)}catch(g){xr(e,e.return,g)}}break;case 1:ha(t,e),Ha(e),r&512&&n!==null&&ap(n,n.return);break;case 5:if(ha(t,e),Ha(e),r&512&&n!==null&&ap(n,n.return),e.flags&32){var i=e.stateNode;try{by(i,"")}catch(g){xr(e,e.return,g)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&qH(i,s),DP(a,o);var l=DP(a,s);for(o=0;o<u.length;o+=2){var c=u[o],f=u[o+1];c==="style"?XH(i,f):c==="dangerouslySetInnerHTML"?KH(i,f):c==="children"?by(i,f):ck(i,c,f,l)}switch(a){case"input":OP(i,s);break;case"textarea":YH(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?Ep(i,!!s.multiple,h,!1):d!==!!s.multiple&&(s.defaultValue!=null?Ep(i,!!s.multiple,s.defaultValue,!0):Ep(i,!!s.multiple,s.multiple?[]:"",!1))}i[Oy]=s}catch(g){xr(e,e.return,g)}}break;case 6:if(ha(t,e),Ha(e),r&4){if(e.stateNode===null)throw Error(Ne(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(g){xr(e,e.return,g)}}break;case 3:if(ha(t,e),Ha(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Sy(t.containerInfo)}catch(g){xr(e,e.return,g)}break;case 4:ha(t,e),Ha(e);break;case 13:ha(t,e),Ha(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(zk=$r())),r&4&&C4(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Ki=(l=Ki)||c,ha(t,e),Ki=l):ha(t,e),Ha(e),r&8192){if(l=e.memoizedState!==null,(e.stateNode.isHidden=l)&&!c&&e.mode&1)for(qe=e,c=e.child;c!==null;){for(f=qe=c;qe!==null;){switch(d=qe,h=d.child,d.tag){case 0:case 11:case 14:case 15:V0(4,d,d.return);break;case 1:ap(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){xr(r,n,g)}}break;case 5:ap(d,d.return);break;case 22:if(d.memoizedState!==null){P4(f);continue}}h!==null?(h.return=d,qe=h):P4(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,l?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=QH("display",o))}catch(g){xr(e,e.return,g)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(g){xr(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ha(t,e),Ha(e),r&4&&C4(e);break;case 21:break;default:ha(t,e),Ha(e)}}function Ha(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Tq(n)){var r=n;break e}n=n.return}throw Error(Ne(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(by(i,""),r.flags&=-33);var s=A4(e);c2(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=A4(e);l2(e,a,o);break;default:throw Error(Ne(161))}}catch(u){xr(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Mde(e,t,n){qe=e,Iq(e)}function Iq(e,t,n){for(var r=(e.mode&1)!==0;qe!==null;){var i=qe,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||r1;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||Ki;a=r1;var l=Ki;if(r1=o,(Ki=u)&&!l)for(qe=i;qe!==null;)o=qe,u=o.child,o.tag===22&&o.memoizedState!==null?R4(i):u!==null?(u.return=o,qe=u):R4(i);for(;s!==null;)qe=s,Iq(s),s=s.sibling;qe=i,r1=a,Ki=l}O4(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,qe=s):O4(e)}}function O4(e){for(;qe!==null;){var t=qe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ki||ex(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ki)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:_a(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&d4(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}d4(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var l=t.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Sy(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ne(163))}Ki||t.flags&512&&u2(t)}catch(d){xr(t,t.return,d)}}if(t===e){qe=null;break}if(n=t.sibling,n!==null){n.return=t.return,qe=n;break}qe=t.return}}function P4(e){for(;qe!==null;){var t=qe;if(t===e){qe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,qe=n;break}qe=t.return}}function R4(e){for(;qe!==null;){var t=qe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ex(4,t)}catch(u){xr(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(u){xr(t,i,u)}}var s=t.return;try{u2(t)}catch(u){xr(t,s,u)}break;case 5:var o=t.return;try{u2(t)}catch(u){xr(t,o,u)}}}catch(u){xr(t,t.return,u)}if(t===e){qe=null;break}var a=t.sibling;if(a!==null){a.return=t.return,qe=a;break}qe=t.return}}var Fde=Math.ceil,xw=tc.ReactCurrentDispatcher,Uk=tc.ReactCurrentOwner,Qo=tc.ReactCurrentBatchConfig,pn=0,pi=null,Wr=null,Ni=0,so=0,up=Rf(0),ei=0,$y=null,Vd=0,tx=0,Vk=0,z0=null,ks=null,zk=0,nm=1/0,nl=null,Iw=!1,f2=null,Yc=null,i1=!1,Mc=null,Aw=0,H0=0,d2=null,_b=-1,vb=0;function hs(){return pn&6?$r():_b!==-1?_b:_b=$r()}function Gc(e){return e.mode&1?pn&2&&Ni!==0?Ni&-Ni:wde.transition!==null?(vb===0&&(vb=lW()),vb):(e=Rn,e!==0||(e=window.event,e=e===void 0?16:gW(e.type)),e):1}function Ra(e,t,n,r){if(50<H0)throw H0=0,d2=null,Error(Ne(185));D_(e,n,r),(!(pn&2)||e!==pi)&&(e===pi&&(!(pn&2)&&(tx|=n),ei===4&&Cc(e,Ni)),Ws(e,r),n===1&&pn===0&&!(t.mode&1)&&(nm=$r()+500,XS&&Nf()))}function Ws(e,t){var n=e.callbackNode;wfe(e,t);var r=cw(e,e===pi?Ni:0);if(r===0)n!==null&&jM(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&jM(n),t===1)e.tag===0?bde(N4.bind(null,e)):$W(N4.bind(null,e)),gde(function(){!(pn&6)&&Nf()}),n=null;else{switch(cW(r)){case 1:n=mk;break;case 4:n=aW;break;case 16:n=lw;break;case 536870912:n=uW;break;default:n=lw}n=Dq(n,Aq.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Aq(e,t){if(_b=-1,vb=0,pn&6)throw Error(Ne(327));var n=e.callbackNode;if(Ap()&&e.callbackNode!==n)return null;var r=cw(e,e===pi?Ni:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Cw(e,r);else{t=r;var i=pn;pn|=2;var s=Oq();(pi!==e||Ni!==t)&&(nl=null,nm=$r()+500,Od(e,t));do try{Ude();break}catch(a){Cq(e,a)}while(!0);Ck(),xw.current=s,pn=i,Wr!==null?t=0:(pi=null,Ni=0,t=ei)}if(t!==0){if(t===2&&(i=BP(e),i!==0&&(r=i,t=h2(e,i))),t===1)throw n=$y,Od(e,0),Cc(e,r),Ws(e,$r()),n;if(t===6)Cc(e,r);else{if(i=e.current.alternate,!(r&30)&&!Bde(i)&&(t=Cw(e,r),t===2&&(s=BP(e),s!==0&&(r=s,t=h2(e,s))),t===1))throw n=$y,Od(e,0),Cc(e,r),Ws(e,$r()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Ne(345));case 2:Xf(e,ks,nl);break;case 3:if(Cc(e,r),(r&130023424)===r&&(t=zk+500-$r(),10<t)){if(cw(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){hs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=YP(Xf.bind(null,e,ks,nl),t);break}Xf(e,ks,nl);break;case 4:if(Cc(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Pa(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=$r()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Fde(r/1960))-r,10<r){e.timeoutHandle=YP(Xf.bind(null,e,ks,nl),r);break}Xf(e,ks,nl);break;case 5:Xf(e,ks,nl);break;default:throw Error(Ne(329))}}}return Ws(e,$r()),e.callbackNode===n?Aq.bind(null,e):null}function h2(e,t){var n=z0;return e.current.memoizedState.isDehydrated&&(Od(e,t).flags|=256),e=Cw(e,t),e!==2&&(t=ks,ks=n,t!==null&&p2(t)),e}function p2(e){ks===null?ks=e:ks.push.apply(ks,e)}function Bde(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!$a(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Cc(e,t){for(t&=~Vk,t&=~tx,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Pa(t),r=1<<n;e[n]=-1,t&=~r}}function N4(e){if(pn&6)throw Error(Ne(327));Ap();var t=cw(e,0);if(!(t&1))return Ws(e,$r()),null;var n=Cw(e,t);if(e.tag!==0&&n===2){var r=BP(e);r!==0&&(t=r,n=h2(e,r))}if(n===1)throw n=$y,Od(e,0),Cc(e,t),Ws(e,$r()),n;if(n===6)throw Error(Ne(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Xf(e,ks,nl),Ws(e,$r()),null}function Hk(e,t){var n=pn;pn|=1;try{return e(t)}finally{pn=n,pn===0&&(nm=$r()+500,XS&&Nf())}}function zd(e){Mc!==null&&Mc.tag===0&&!(pn&6)&&Ap();var t=pn;pn|=1;var n=Qo.transition,r=Rn;try{if(Qo.transition=null,Rn=1,e)return e()}finally{Rn=r,Qo.transition=n,pn=t,!(pn&6)&&Nf()}}function Wk(){so=up.current,er(up)}function Od(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,mde(n)),Wr!==null)for(n=Wr.return;n!==null;){var r=n;switch(xk(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&mw();break;case 3:em(),er(zs),er(es),Dk();break;case 5:kk(r);break;case 4:em();break;case 13:er(yr);break;case 19:er(yr);break;case 10:Ok(r.type._context);break;case 22:case 23:Wk()}n=n.return}if(pi=e,Wr=e=Kc(e.current,null),Ni=so=t,ei=0,$y=null,Vk=tx=Vd=0,ks=z0=null,hd!==null){for(t=0;t<hd.length;t++)if(n=hd[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}hd=null}return e}function Cq(e,t){do{var n=Wr;try{if(Ck(),mb.current=Sw,Tw){for(var r=_r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Tw=!1}if(Ud=0,fi=Qr=_r=null,U0=!1,Ny=0,Uk.current=null,n===null||n.return===null){ei=1,$y=t,Wr=null;break}e:{var s=e,o=n.return,a=n,u=t;if(t=Ni,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=v4(o);if(h!==null){h.flags&=-257,b4(h,o,a,s,t),h.mode&1&&_4(s,l,t),t=h,u=l;var p=t.updateQueue;if(p===null){var g=new Set;g.add(u),t.updateQueue=g}else p.add(u);break e}else{if(!(t&1)){_4(s,l,t),qk();break e}u=Error(Ne(426))}}else if(lr&&a.mode&1){var y=v4(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),b4(y,o,a,s,t),Ik(tm(u,a));break e}}s=u=tm(u,a),ei!==4&&(ei=2),z0===null?z0=[s]:z0.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var m=fq(s,u,t);f4(s,m);break e;case 1:a=u;var _=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Yc===null||!Yc.has(v)))){s.flags|=65536,t&=-t,s.lanes|=t;var T=dq(s,a,t);f4(s,T);break e}}s=s.return}while(s!==null)}Rq(n)}catch(S){t=S,Wr===n&&n!==null&&(Wr=n=n.return);continue}break}while(!0)}function Oq(){var e=xw.current;return xw.current=Sw,e===null?Sw:e}function qk(){(ei===0||ei===3||ei===2)&&(ei=4),pi===null||!(Vd&268435455)&&!(tx&268435455)||Cc(pi,Ni)}function Cw(e,t){var n=pn;pn|=2;var r=Oq();(pi!==e||Ni!==t)&&(nl=null,Od(e,t));do try{jde();break}catch(i){Cq(e,i)}while(!0);if(Ck(),pn=n,xw.current=r,Wr!==null)throw Error(Ne(261));return pi=null,Ni=0,ei}function jde(){for(;Wr!==null;)Pq(Wr)}function Ude(){for(;Wr!==null&&!dfe();)Pq(Wr)}function Pq(e){var t=kq(e.alternate,e,so);e.memoizedProps=e.pendingProps,t===null?Rq(e):Wr=t,Uk.current=null}function Rq(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Dde(n,t),n!==null){n.flags&=32767,Wr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ei=6,Wr=null;return}}else if(n=kde(n,t,so),n!==null){Wr=n;return}if(t=t.sibling,t!==null){Wr=t;return}Wr=t=e}while(t!==null);ei===0&&(ei=5)}function Xf(e,t,n){var r=Rn,i=Qo.transition;try{Qo.transition=null,Rn=1,Vde(e,t,n,r)}finally{Qo.transition=i,Rn=r}return null}function Vde(e,t,n,r){do Ap();while(Mc!==null);if(pn&6)throw Error(Ne(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Ne(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(Efe(e,s),e===pi&&(Wr=pi=null,Ni=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||i1||(i1=!0,Dq(lw,function(){return Ap(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Qo.transition,Qo.transition=null;var o=Rn;Rn=1;var a=pn;pn|=4,Uk.current=null,Lde(e,n),xq(n,e),ude(WP),fw=!!HP,WP=HP=null,e.current=n,Mde(n),hfe(),pn=a,Rn=o,Qo.transition=s}else e.current=n;if(i1&&(i1=!1,Mc=e,Aw=i),s=e.pendingLanes,s===0&&(Yc=null),gfe(n.stateNode),Ws(e,$r()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Iw)throw Iw=!1,e=f2,f2=null,e;return Aw&1&&e.tag!==0&&Ap(),s=e.pendingLanes,s&1?e===d2?H0++:(H0=0,d2=e):H0=0,Nf(),null}function Ap(){if(Mc!==null){var e=cW(Aw),t=Qo.transition,n=Rn;try{if(Qo.transition=null,Rn=16>e?16:e,Mc===null)var r=!1;else{if(e=Mc,Mc=null,Aw=0,pn&6)throw Error(Ne(331));var i=pn;for(pn|=4,qe=e.current;qe!==null;){var s=qe,o=s.child;if(qe.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var l=a[u];for(qe=l;qe!==null;){var c=qe;switch(c.tag){case 0:case 11:case 15:V0(8,c,s)}var f=c.child;if(f!==null)f.return=c,qe=f;else for(;qe!==null;){c=qe;var d=c.sibling,h=c.return;if(Eq(c),c===l){qe=null;break}if(d!==null){d.return=h,qe=d;break}qe=h}}}var p=s.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}qe=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,qe=o;else e:for(;qe!==null;){if(s=qe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:V0(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,qe=m;break e}qe=s.return}}var _=e.current;for(qe=_;qe!==null;){o=qe;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,qe=v;else e:for(o=_;qe!==null;){if(a=qe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ex(9,a)}}catch(S){xr(a,a.return,S)}if(a===o){qe=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,qe=T;break e}qe=a.return}}if(pn=i,Nf(),bu&&typeof bu.onPostCommitFiberRoot=="function")try{bu.onPostCommitFiberRoot(qS,e)}catch{}r=!0}return r}finally{Rn=n,Qo.transition=t}}return!1}function k4(e,t,n){t=tm(n,t),t=fq(e,t,1),e=qc(e,t,1),t=hs(),e!==null&&(D_(e,1,t),Ws(e,t))}function xr(e,t,n){if(e.tag===3)k4(e,e,n);else for(;t!==null;){if(t.tag===3){k4(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Yc===null||!Yc.has(r))){e=tm(n,e),e=dq(t,e,1),t=qc(t,e,1),e=hs(),t!==null&&(D_(t,1,e),Ws(t,e));break}}t=t.return}}function zde(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=hs(),e.pingedLanes|=e.suspendedLanes&n,pi===e&&(Ni&n)===n&&(ei===4||ei===3&&(Ni&130023424)===Ni&&500>$r()-zk?Od(e,0):Vk|=n),Ws(e,t)}function Nq(e,t){t===0&&(e.mode&1?(t=Gv,Gv<<=1,!(Gv&130023424)&&(Gv=4194304)):t=1);var n=hs();e=kl(e,t),e!==null&&(D_(e,t,n),Ws(e,n))}function Hde(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Nq(e,n)}function Wde(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Ne(314))}r!==null&&r.delete(t),Nq(e,n)}var kq;kq=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||zs.current)Fs=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Fs=!1,Nde(e,t,n);Fs=!!(e.flags&131072)}else Fs=!1,lr&&t.flags&1048576&&LW(t,_w,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;yb(e,t),e=t.pendingProps;var i=Xp(t,es.current);Ip(t,n),i=Lk(null,t,r,e,i,n);var s=Mk();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Hs(r)?(s=!0,gw(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Rk(t),i.updater=JS,t.stateNode=i,i._reactInternals=t,e2(t,r,e,n),t=r2(null,t,r,!0,s,n)):(t.tag=0,lr&&s&&Sk(t),cs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(yb(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Yde(r),e=_a(r,e),i){case 0:t=n2(null,t,r,e,n);break e;case 1:t=T4(null,t,r,e,n);break e;case 11:t=w4(null,t,r,e,n);break e;case 14:t=E4(null,t,r,_a(r.type,e),n);break e}throw Error(Ne(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:_a(r,i),n2(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:_a(r,i),T4(e,t,r,i,n);case 3:e:{if(gq(t),e===null)throw Error(Ne(387));r=t.pendingProps,s=t.memoizedState,i=s.element,jW(e,t),ww(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=tm(Error(Ne(423)),t),t=S4(e,t,r,n,i);break e}else if(r!==i){i=tm(Error(Ne(424)),t),t=S4(e,t,r,n,i);break e}else for(fo=Wc(t.stateNode.containerInfo.firstChild),mo=t,lr=!0,wa=null,n=HW(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Jp(),r===i){t=Dl(e,t,n);break e}cs(e,t,r,n)}t=t.child}return t;case 5:return WW(t),e===null&&XP(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,qP(r,i)?o=null:s!==null&&qP(r,s)&&(t.flags|=32),mq(e,t),cs(e,t,o,n),t.child;case 6:return e===null&&XP(t),null;case 13:return yq(e,t,n);case 4:return Nk(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Zp(t,null,r,n):cs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:_a(r,i),w4(e,t,r,i,n);case 7:return cs(e,t,t.pendingProps,n),t.child;case 8:return cs(e,t,t.pendingProps.children,n),t.child;case 12:return cs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,qn(vw,r._currentValue),r._currentValue=o,s!==null)if($a(s.value,o)){if(s.children===i.children&&!zs.current){t=Dl(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=El(-1,n&-n),u.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?u.next=u:(u.next=c.next,c.next=u),l.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),JP(s.return,n,t),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ne(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),JP(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}cs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ip(t,n),i=Zo(i),r=r(i),t.flags|=1,cs(e,t,r,n),t.child;case 14:return r=t.type,i=_a(r,t.pendingProps),i=_a(r.type,i),E4(e,t,r,i,n);case 15:return hq(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:_a(r,i),yb(e,t),t.tag=1,Hs(r)?(e=!0,gw(t)):e=!1,Ip(t,n),VW(t,r,i),e2(t,r,i,n),r2(null,t,r,!0,e,n);case 19:return _q(e,t,n);case 22:return pq(e,t,n)}throw Error(Ne(156,t.tag))};function Dq(e,t){return oW(e,t)}function qde(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Go(e,t,n,r){return new qde(e,t,n,r)}function Yk(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Yde(e){if(typeof e=="function")return Yk(e)?1:0;if(e!=null){if(e=e.$$typeof,e===dk)return 11;if(e===hk)return 14}return 2}function Kc(e,t){var n=e.alternate;return n===null?(n=Go(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function bb(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")Yk(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Jh:return Pd(n.children,i,s,t);case fk:o=8,i|=8;break;case SP:return e=Go(12,n,t,i|2),e.elementType=SP,e.lanes=s,e;case xP:return e=Go(13,n,t,i),e.elementType=xP,e.lanes=s,e;case IP:return e=Go(19,n,t,i),e.elementType=IP,e.lanes=s,e;case zH:return nx(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case UH:o=10;break e;case VH:o=9;break e;case dk:o=11;break e;case hk:o=14;break e;case wc:o=16,r=null;break e}throw Error(Ne(130,e==null?e:typeof e,""))}return t=Go(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Pd(e,t,n,r){return e=Go(7,e,r,t),e.lanes=n,e}function nx(e,t,n,r){return e=Go(22,e,r,t),e.elementType=zH,e.lanes=n,e.stateNode={isHidden:!1},e}function sC(e,t,n){return e=Go(6,e,null,t),e.lanes=n,e}function oC(e,t,n){return t=Go(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Gde(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jA(0),this.expirationTimes=jA(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jA(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Gk(e,t,n,r,i,s,o,a,u){return e=new Gde(e,t,n,a,u),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Go(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rk(s),e}function Kde(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xh,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function $q(e){if(!e)return ff;e=e._reactInternals;e:{if(uh(e)!==e||e.tag!==1)throw Error(Ne(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Hs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ne(171))}if(e.tag===1){var n=e.type;if(Hs(n))return DW(e,n,t)}return t}function Lq(e,t,n,r,i,s,o,a,u){return e=Gk(n,r,!0,e,i,s,o,a,u),e.context=$q(null),n=e.current,r=hs(),i=Gc(n),s=El(r,i),s.callback=t??null,qc(n,s,i),e.current.lanes=i,D_(e,i,r),Ws(e,r),e}function rx(e,t,n,r){var i=t.current,s=hs(),o=Gc(i);return n=$q(n),t.context===null?t.context=n:t.pendingContext=n,t=El(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=qc(i,t,o),e!==null&&(Ra(e,i,o,s),pb(e,i,o)),o}function Ow(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function D4(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Kk(e,t){D4(e,t),(e=e.alternate)&&D4(e,t)}function Qde(){return null}var Mq=typeof reportError=="function"?reportError:function(e){console.error(e)};function Qk(e){this._internalRoot=e}ix.prototype.render=Qk.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ne(409));rx(e,t,null,null)};ix.prototype.unmount=Qk.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;zd(function(){rx(null,e,null,null)}),t[Nl]=null}};function ix(e){this._internalRoot=e}ix.prototype.unstable_scheduleHydration=function(e){if(e){var t=hW();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ac.length&&t!==0&&t<Ac[n].priority;n++);Ac.splice(n,0,e),n===0&&mW(e)}};function Xk(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function sx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function $4(){}function Xde(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var l=Ow(o);s.call(l)}}var o=Lq(t,r,e,0,null,!1,!1,"",$4);return e._reactRootContainer=o,e[Nl]=o.current,Ay(e.nodeType===8?e.parentNode:e),zd(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var l=Ow(u);a.call(l)}}var u=Gk(e,0,!1,null,null,!1,!1,"",$4);return e._reactRootContainer=u,e[Nl]=u.current,Ay(e.nodeType===8?e.parentNode:e),zd(function(){rx(t,u,n,r)}),u}function ox(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=Ow(o);a.call(u)}}rx(t,o,e,i)}else o=Xde(n,t,e,i,r);return Ow(o)}fW=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=m0(t.pendingLanes);n!==0&&(gk(t,n|1),Ws(t,$r()),!(pn&6)&&(nm=$r()+500,Nf()))}break;case 13:zd(function(){var r=kl(e,1);if(r!==null){var i=hs();Ra(r,e,1,i)}}),Kk(e,1)}};yk=function(e){if(e.tag===13){var t=kl(e,134217728);if(t!==null){var n=hs();Ra(t,e,134217728,n)}Kk(e,134217728)}};dW=function(e){if(e.tag===13){var t=Gc(e),n=kl(e,t);if(n!==null){var r=hs();Ra(n,e,t,r)}Kk(e,t)}};hW=function(){return Rn};pW=function(e,t){var n=Rn;try{return Rn=e,t()}finally{Rn=n}};LP=function(e,t,n){switch(t){case"input":if(OP(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=QS(r);if(!i)throw Error(Ne(90));WH(r),OP(r,i)}}}break;case"textarea":YH(e,n);break;case"select":t=n.value,t!=null&&Ep(e,!!n.multiple,t,!1)}};eW=Hk;tW=zd;var Jde={usingClientEntryPoint:!1,Events:[L_,np,QS,JH,ZH,Hk]},Fg={findFiberByHostInstance:dd,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Zde={bundleType:Fg.bundleType,version:Fg.version,rendererPackageName:Fg.rendererPackageName,rendererConfig:Fg.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:tc.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=iW(e),e===null?null:e.stateNode},findFiberByHostInstance:Fg.findFiberByHostInstance||Qde,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var s1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!s1.isDisabled&&s1.supportsFiber)try{qS=s1.inject(Zde),bu=s1}catch{}}Io.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jde;Io.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xk(t))throw Error(Ne(200));return Kde(e,t,null,n)};Io.createRoot=function(e,t){if(!Xk(e))throw Error(Ne(299));var n=!1,r="",i=Mq;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Gk(e,1,!1,null,null,n,!1,r,i),e[Nl]=t.current,Ay(e.nodeType===8?e.parentNode:e),new Qk(t)};Io.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ne(188)):(e=Object.keys(e).join(","),Error(Ne(268,e)));return e=iW(t),e=e===null?null:e.stateNode,e};Io.flushSync=function(e){return zd(e)};Io.hydrate=function(e,t,n){if(!sx(t))throw Error(Ne(200));return ox(null,e,t,!0,n)};Io.hydrateRoot=function(e,t,n){if(!Xk(e))throw Error(Ne(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Mq;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Lq(t,null,e,1,n??null,i,!1,s,o),e[Nl]=t.current,Ay(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new ix(t)};Io.render=function(e,t,n){if(!sx(t))throw Error(Ne(200));return ox(null,e,t,!1,n)};Io.unmountComponentAtNode=function(e){if(!sx(e))throw Error(Ne(40));return e._reactRootContainer?(zd(function(){ox(null,null,e,!1,function(){e._reactRootContainer=null,e[Nl]=null})}),!0):!1};Io.unstable_batchedUpdates=Hk;Io.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!sx(n))throw Error(Ne(200));if(e==null||e._reactInternals===void 0)throw Error(Ne(38));return ox(e,t,n,!1,r)};Io.version="18.2.0-next-9e3b772b8-20220608";function Fq(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Fq)}catch(e){console.error(e)}}Fq(),LH.exports=Io;var F_=LH.exports,L4=F_;EP.createRoot=L4.createRoot,EP.hydrateRoot=L4.hydrateRoot;const Bq=E.createContext({storageEngine:void 0,setStorageEngine:()=>{}}),kf=()=>E.useContext(Bq),ehe=({children:e})=>{const[t,n]=M.useState(void 0),r=M.useMemo(()=>({storageEngine:t,setStorageEngine:n}),[t]);return O.jsx(Bq.Provider,{value:r,children:e})};/**
 * @remix-run/router v1.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ly(){return Ly=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ly.apply(this,arguments)}var Fc;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Fc||(Fc={}));const M4="popstate";function the(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return m2("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:jq(i)}return rhe(t,n,null,e)}function qr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Jk(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function nhe(){return Math.random().toString(36).substr(2,8)}function F4(e,t){return{usr:e.state,key:e.key,idx:t}}function m2(e,t,n,r){return n===void 0&&(n=null),Ly({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Wm(t):t,{state:n,key:t&&t.key||r||nhe()})}function jq(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Wm(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function rhe(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Fc.Pop,u=null,l=c();l==null&&(l=0,o.replaceState(Ly({},o.state,{idx:l}),""));function c(){return(o.state||{idx:null}).idx}function f(){a=Fc.Pop;let y=c(),m=y==null?null:y-l;l=y,u&&u({action:a,location:g.location,delta:m})}function d(y,m){a=Fc.Push;let _=m2(g.location,y,m);n&&n(_,y),l=c()+1;let v=F4(_,l),T=g.createHref(_);try{o.pushState(v,"",T)}catch{i.location.assign(T)}s&&u&&u({action:a,location:g.location,delta:1})}function h(y,m){a=Fc.Replace;let _=m2(g.location,y,m);n&&n(_,y),l=c();let v=F4(_,l),T=g.createHref(_);o.replaceState(v,"",T),s&&u&&u({action:a,location:g.location,delta:0})}function p(y){let m=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof y=="string"?y:jq(y);return qr(m,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,m)}let g={get action(){return a},get location(){return e(i,o)},listen(y){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(M4,f),u=y,()=>{i.removeEventListener(M4,f),u=null}},createHref(y){return t(i,y)},createURL:p,encodeLocation(y){let m=p(y);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:d,replace:h,go(y){return o.go(y)}};return g}var B4;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(B4||(B4={}));function ihe(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?Wm(t):t,i=zq(r.pathname||"/",n);if(i==null)return null;let s=Uq(e);she(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=phe(s[a],yhe(i));return o}function Uq(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(qr(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let l=Qc([r,u.relativePath]),c=n.concat(u);s.children&&s.children.length>0&&(qr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),Uq(s.children,t,c,l)),!(s.path==null&&!s.index)&&t.push({path:l,score:dhe(l,s.index),routesMeta:c})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let u of Vq(s.path))i(s,o,u)}),t}function Vq(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Vq(r.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>e.startsWith("/")&&u===""?"/":u)}function she(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:hhe(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const ohe=/^:\w+$/,ahe=3,uhe=2,lhe=1,che=10,fhe=-2,j4=e=>e==="*";function dhe(e,t){let n=e.split("/"),r=n.length;return n.some(j4)&&(r+=fhe),t&&(r+=uhe),n.filter(i=>!j4(i)).reduce((i,s)=>i+(ohe.test(s)?ahe:s===""?lhe:che),r)}function hhe(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function phe(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],u=o===n.length-1,l=i==="/"?t:t.slice(i.length)||"/",c=mhe({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},l);if(!c)return null;Object.assign(r,c.params);let f=a.route;s.push({params:r,pathname:Qc([i,c.pathname]),pathnameBase:whe(Qc([i,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(i=Qc([i,c.pathnameBase]))}return s}function mhe(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=ghe(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((l,c,f)=>{if(c==="*"){let d=a[f]||"";o=s.slice(0,s.length-d.length).replace(/(.)\/+$/,"$1")}return l[c]=_he(a[f]||"",c),l},{}),pathname:s,pathnameBase:o,pattern:e}}function ghe(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Jk(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return e.endsWith("*")?(r.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function yhe(e){try{return decodeURI(e)}catch(t){return Jk(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function _he(e,t){try{return decodeURIComponent(e)}catch(n){return Jk(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function zq(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function vhe(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Wm(e):e;return{pathname:n?n.startsWith("/")?n:bhe(n,t):t,search:Ehe(r),hash:The(i)}}function bhe(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function aC(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Hq(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Wq(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Wm(e):(i=Ly({},e),qr(!i.pathname||!i.pathname.includes("?"),aC("?","pathname","search",i)),qr(!i.pathname||!i.pathname.includes("#"),aC("#","pathname","hash",i)),qr(!i.search||!i.search.includes("#"),aC("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let f=t.length-1;if(o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}a=f>=0?t[f]:"/"}let u=vhe(i,a),l=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(l||c)&&(u.pathname+="/"),u}const Qc=e=>e.join("/").replace(/\/\/+/g,"/"),whe=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ehe=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,The=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function She(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const qq=["post","put","patch","delete"];new Set(qq);const xhe=["get",...qq];new Set(xhe);/**
 * React Router v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ihe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const Ahe=typeof Object.is=="function"?Object.is:Ihe,{useState:Che,useEffect:Ohe,useLayoutEffect:Phe,useDebugValue:Rhe}=Fd;function Nhe(e,t,n){const r=t(),[{inst:i},s]=Che({inst:{value:r,getSnapshot:t}});return Phe(()=>{i.value=r,i.getSnapshot=t,uC(i)&&s({inst:i})},[e,r,t]),Ohe(()=>(uC(i)&&s({inst:i}),e(()=>{uC(i)&&s({inst:i})})),[e]),Rhe(r),r}function uC(e){const t=e.getSnapshot,n=e.value;try{const r=t();return!Ahe(n,r)}catch{return!0}}function khe(e,t,n){return t()}const Dhe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$he=!Dhe,Lhe=$he?khe:Nhe;"useSyncExternalStore"in Fd&&(e=>e.useSyncExternalStore)(Fd);const Yq=E.createContext(null),Zk=E.createContext(null),ax=E.createContext(null),ux=E.createContext(null),Df=E.createContext({outlet:null,matches:[]}),Gq=E.createContext(null);function g2(){return g2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g2.apply(this,arguments)}function Mhe(e,t){let{relative:n}=t===void 0?{}:t;qm()||qr(!1);let{basename:r,navigator:i}=E.useContext(ax),{hash:s,pathname:o,search:a}=jhe(e,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:Qc([r,o])),i.createHref({pathname:u,search:a,hash:s})}function qm(){return E.useContext(ux)!=null}function Ym(){return qm()||qr(!1),E.useContext(ux).location}function lh(){qm()||qr(!1);let{basename:e,navigator:t}=E.useContext(ax),{matches:n}=E.useContext(Df),{pathname:r}=Ym(),i=JSON.stringify(Hq(n).map(a=>a.pathnameBase)),s=E.useRef(!1);return E.useEffect(()=>{s.current=!0}),E.useCallback(function(a,u){if(u===void 0&&(u={}),!s.current)return;if(typeof a=="number"){t.go(a);return}let l=Wq(a,JSON.parse(i),r,u.relative==="path");e!=="/"&&(l.pathname=l.pathname==="/"?e:Qc([e,l.pathname])),(u.replace?t.replace:t.push)(l,u.state,u)},[e,t,i,r])}const Fhe=E.createContext(null);function Bhe(e){let t=E.useContext(Df).outlet;return t&&E.createElement(Fhe.Provider,{value:e},t)}function eD(){let{matches:e}=E.useContext(Df),t=e[e.length-1];return t?t.params:{}}function jhe(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=E.useContext(Df),{pathname:i}=Ym(),s=JSON.stringify(Hq(r).map(o=>o.pathnameBase));return E.useMemo(()=>Wq(e,JSON.parse(s),i,n==="path"),[e,s,i,n])}function Kq(e,t){qm()||qr(!1);let{navigator:n}=E.useContext(ax),r=E.useContext(Zk),{matches:i}=E.useContext(Df),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let u=Ym(),l;if(t){var c;let g=typeof t=="string"?Wm(t):t;a==="/"||(c=g.pathname)!=null&&c.startsWith(a)||qr(!1),l=g}else l=u;let f=l.pathname||"/",d=a==="/"?f:f.slice(a.length)||"/",h=ihe(e,{pathname:d}),p=Hhe(h&&h.map(g=>Object.assign({},g,{params:Object.assign({},o,g.params),pathname:Qc([a,n.encodeLocation?n.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?a:Qc([a,n.encodeLocation?n.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),i,r||void 0);return t&&p?E.createElement(ux.Provider,{value:{location:g2({pathname:"/",search:"",hash:"",state:null,key:"default"},l),navigationType:Fc.Pop}},p):p}function Uhe(){let e=Ghe(),t=She(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},t),n?E.createElement("pre",{style:i},n):null,s)}class Vhe extends E.Component{constructor(t){super(t),this.state={location:t.location,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location?{error:t.error,location:t.location}:{error:t.error||n.error,location:n.location}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?E.createElement(Df.Provider,{value:this.props.routeContext},E.createElement(Gq.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function zhe(e){let{routeContext:t,match:n,children:r}=e,i=E.useContext(Yq);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement(Df.Provider,{value:t},r)}function Hhe(e,t,n){if(t===void 0&&(t=[]),e==null)if(n!=null&&n.errors)e=n.matches;else return null;let r=e,i=n==null?void 0:n.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));s>=0||qr(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,a)=>{let u=o.route.id?i==null?void 0:i[o.route.id]:null,l=null;n&&(o.route.ErrorBoundary?l=E.createElement(o.route.ErrorBoundary,null):o.route.errorElement?l=o.route.errorElement:l=E.createElement(Uhe,null));let c=t.concat(r.slice(0,a+1)),f=()=>{let d=s;return u?d=l:o.route.Component?d=E.createElement(o.route.Component,null):o.route.element&&(d=o.route.element),E.createElement(zhe,{match:o,routeContext:{outlet:s,matches:c},children:d})};return n&&(o.route.ErrorBoundary||o.route.errorElement||a===0)?E.createElement(Vhe,{location:n.location,component:l,error:u,children:f(),routeContext:{outlet:null,matches:c}}):f()},null)}var U4;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"})(U4||(U4={}));var Pw;(function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"})(Pw||(Pw={}));function Whe(e){let t=E.useContext(Zk);return t||qr(!1),t}function qhe(e){let t=E.useContext(Df);return t||qr(!1),t}function Yhe(e){let t=qhe(),n=t.matches[t.matches.length-1];return n.route.id||qr(!1),n.route.id}function Ghe(){var e;let t=E.useContext(Gq),n=Whe(Pw.UseRouteError),r=Yhe(Pw.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function Khe(e){let{to:t,replace:n,state:r,relative:i}=e;qm()||qr(!1);let s=E.useContext(Zk),o=lh();return E.useEffect(()=>{s&&s.navigation.state!=="idle"||o(t,{replace:n,state:r,relative:i})}),null}function Qhe(e){return Bhe(e.context)}function y2(e){qr(!1)}function Xhe(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Fc.Pop,navigator:s,static:o=!1}=e;qm()&&qr(!1);let a=t.replace(/^\/*/,"/"),u=E.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=Wm(r));let{pathname:l="/",search:c="",hash:f="",state:d=null,key:h="default"}=r,p=E.useMemo(()=>{let g=zq(l,a);return g==null?null:{location:{pathname:g,search:c,hash:f,state:d,key:h},navigationType:i}},[a,l,c,f,d,h,i]);return p==null?null:E.createElement(ax.Provider,{value:u},E.createElement(ux.Provider,{children:n,value:p}))}function Jhe(e){let{children:t,location:n}=e,r=E.useContext(Yq),i=r&&!t?r.router.routes:_2(t);return Kq(i,n)}var V4;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(V4||(V4={}));new Promise(()=>{});function _2(e,t){t===void 0&&(t=[]);let n=[];return E.Children.forEach(e,(r,i)=>{if(!E.isValidElement(r))return;let s=[...t,i];if(r.type===E.Fragment){n.push.apply(n,_2(r.props.children,s));return}r.type!==y2&&qr(!1),!r.props.index||!r.props.children||qr(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=_2(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function v2(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function Zhe(e,t){let n=v2(e);if(t)for(let r of t.keys())n.has(r)||t.getAll(r).forEach(i=>{n.append(r,i)});return n}function epe(e){let{basename:t,children:n,window:r}=e,i=E.useRef();i.current==null&&(i.current=the({window:r,v5Compat:!0}));let s=i.current,[o,a]=E.useState({action:s.action,location:s.location});return E.useLayoutEffect(()=>s.listen(a),[s]),E.createElement(Xhe,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:s})}var z4;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(z4||(z4={}));var H4;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(H4||(H4={}));function Qq(e){let t=E.useRef(v2(e)),n=E.useRef(!1),r=Ym(),i=E.useMemo(()=>Zhe(r.search,n.current?null:t.current),[r.search]),s=lh(),o=E.useCallback((a,u)=>{const l=v2(typeof a=="function"?a(i):a);n.current=!0,s("?"+l,u)},[s,i]);return[i,o]}function Rw(e,t){let n=e;for(;(n=n.parentElement)&&!n.matches(t););return n}function tpe(e,t,n){for(let r=e-1;r>=0;r-=1)if(!t[r].disabled)return r;if(n){for(let r=t.length-1;r>-1;r-=1)if(!t[r].disabled)return r}return e}function npe(e,t,n){for(let r=e+1;r<t.length;r+=1)if(!t[r].disabled)return r;if(n){for(let r=0;r<t.length;r+=1)if(!t[r].disabled)return r}return e}function rpe(e,t,n){return Rw(e,n)===Rw(t,n)}function ipe({parentSelector:e,siblingSelector:t,onKeyDown:n,loop:r=!0,activateOnFocus:i=!1,dir:s="rtl",orientation:o}){return a=>{var u;n==null||n(a);const l=Array.from(((u=Rw(a.currentTarget,e))==null?void 0:u.querySelectorAll(t))||[]).filter(g=>rpe(a.currentTarget,g,e)),c=l.findIndex(g=>a.currentTarget===g),f=npe(c,l,r),d=tpe(c,l,r),h=s==="rtl"?d:f,p=s==="rtl"?f:d;switch(a.key){case"ArrowRight":{o==="horizontal"&&(a.stopPropagation(),a.preventDefault(),l[h].focus(),i&&l[h].click());break}case"ArrowLeft":{o==="horizontal"&&(a.stopPropagation(),a.preventDefault(),l[p].focus(),i&&l[p].click());break}case"ArrowUp":{o==="vertical"&&(a.stopPropagation(),a.preventDefault(),l[d].focus(),i&&l[d].click());break}case"ArrowDown":{o==="vertical"&&(a.stopPropagation(),a.preventDefault(),l[f].focus(),i&&l[f].click());break}case"Home":{a.stopPropagation(),a.preventDefault(),!l[0].disabled&&l[0].focus();break}case"End":{a.stopPropagation(),a.preventDefault();const g=l.length-1;!l[g].disabled&&l[g].focus();break}}}}function spe(e,t,n){var r;return n?Array.from(((r=Rw(n,t))==null?void 0:r.querySelectorAll(e))||[]).findIndex(i=>i===n):null}function Xq(e){const t=E.createContext(null);return[({children:i,value:s})=>M.createElement(t.Provider,{value:s},i),()=>{const i=E.useContext(t);if(i===null)throw new Error(e);return i}]}function Hd(e){return Array.isArray(e)?e:[e]}const ope=()=>{};function ape(e,t={active:!0}){return typeof e!="function"||!t.active?t.onKeyDown||ope:n=>{var r;n.key==="Escape"&&(e(n),(r=t.onTrigger)==null||r.call(t))}}function pl(e,t){return n=>{e==null||e(n),t==null||t(n)}}function upe(){const[e,t]=E.useState(-1);return[e,{setHovered:t,resetHovered:()=>t(-1)}]}function Jq({data:e}){const t=[],n=[],r=e.reduce((i,s,o)=>(s.group?i[s.group]?i[s.group].push(o):i[s.group]=[o]:n.push(o),i),{});return Object.keys(r).forEach(i=>{t.push(...r[i].map(s=>e[s]))}),t.push(...n.map(i=>e[i])),t}function B_(e){return Array.isArray(e)||e===null?!1:typeof e=="object"?e.type!==M.Fragment:!1}function Zq(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Zq(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function eY(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=Zq(t))&&(r&&(r+=" "),r+=n);return r}const lpe={dark:["#C1C2C5","#A6A7AB","#909296","#5c5f66","#373A40","#2C2E33","#25262b","#1A1B1E","#141517","#101113"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]};function cpe(e){return()=>({fontFamily:e.fontFamily||"sans-serif"})}var fpe=Object.defineProperty,W4=Object.getOwnPropertySymbols,dpe=Object.prototype.hasOwnProperty,hpe=Object.prototype.propertyIsEnumerable,q4=(e,t,n)=>t in e?fpe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Y4=(e,t)=>{for(var n in t||(t={}))dpe.call(t,n)&&q4(e,n,t[n]);if(W4)for(var n of W4(t))hpe.call(t,n)&&q4(e,n,t[n]);return e};function ppe(e){return t=>({WebkitTapHighlightColor:"transparent",[t||"&:focus"]:Y4({},e.focusRing==="always"||e.focusRing==="auto"?e.focusRingStyles.styles(e):e.focusRingStyles.resetStyles(e)),[t?t.replace(":focus",":focus:not(:focus-visible)"):"&:focus:not(:focus-visible)"]:Y4({},e.focusRing==="auto"||e.focusRing==="never"?e.focusRingStyles.resetStyles(e):null)})}function j_(e){return t=>typeof e.primaryShade=="number"?e.primaryShade:e.primaryShade[t||e.colorScheme]}function tD(e){const t=j_(e);return(n,r,i=!0,s=!0)=>{if(typeof n=="string"&&n.includes(".")){const[a,u]=n.split("."),l=parseInt(u,10);if(a in e.colors&&l>=0&&l<10)return e.colors[a][typeof r=="number"&&!s?r:l]}const o=typeof r=="number"?r:t();return n in e.colors?e.colors[n][o]:i?e.colors[e.primaryColor][o]:n}}function tY(e){let t="";for(let n=1;n<e.length-1;n+=1)t+=`${e[n]} ${n/(e.length-1)*100}%, `;return`${e[0]} 0%, ${t}${e[e.length-1]} 100%`}function mpe(e,...t){return`linear-gradient(${e}deg, ${tY(t)})`}function gpe(...e){return`radial-gradient(circle, ${tY(e)})`}function nY(e){const t=tD(e),n=j_(e);return r=>{const i={from:(r==null?void 0:r.from)||e.defaultGradient.from,to:(r==null?void 0:r.to)||e.defaultGradient.to,deg:(r==null?void 0:r.deg)||e.defaultGradient.deg};return`linear-gradient(${i.deg}deg, ${t(i.from,n(),!1)} 0%, ${t(i.to,n(),!1)} 100%)`}}function nD(e){if(typeof e.size=="number")return e.size;const t=e.sizes[e.size];return t!==void 0?t:e.size||e.sizes.md}function ype(e){return t=>`@media (min-width: ${nD({size:t,sizes:e.breakpoints})}px)`}function _pe(e){return t=>`@media (max-width: ${nD({size:t,sizes:e.breakpoints})-1}px)`}function vpe(e){return/^#?([0-9A-F]{3}){1,2}$/i.test(e)}function bpe(e){let t=e.replace("#","");if(t.length===3){const o=t.split("");t=[o[0],o[0],o[1],o[1],o[2],o[2]].join("")}const n=parseInt(t,16),r=n>>16&255,i=n>>8&255,s=n&255;return{r,g:i,b:s,a:1}}function wpe(e){const[t,n,r,i]=e.replace(/[^0-9,.]/g,"").split(",").map(Number);return{r:t,g:n,b:r,a:i||1}}function rD(e){return vpe(e)?bpe(e):e.startsWith("rgb")?wpe(e):{r:0,g:0,b:0,a:1}}function Uh(e,t){if(typeof e!="string"||t>1||t<0)return"rgba(0, 0, 0, 1)";const{r:n,g:r,b:i}=rD(e);return`rgba(${n}, ${r}, ${i}, ${t})`}function Epe(e=0){return{position:"absolute",top:e,right:e,left:e,bottom:e}}function Tpe(e,t){const{r:n,g:r,b:i,a:s}=rD(e),o=1-t,a=u=>Math.round(u*o);return`rgba(${a(n)}, ${a(r)}, ${a(i)}, ${s})`}function Spe(e,t){const{r:n,g:r,b:i,a:s}=rD(e),o=a=>Math.round(a+(255-a)*t);return`rgba(${o(n)}, ${o(r)}, ${o(i)}, ${s})`}function xpe(e){return t=>{if(typeof t=="number")return t;const n=typeof e.defaultRadius=="number"?e.defaultRadius:e.radius[e.defaultRadius]||e.defaultRadius;return e.radius[t]||t||n}}function Ipe(e,t){if(typeof e=="string"&&e.includes(".")){const[n,r]=e.split("."),i=parseInt(r,10);if(n in t.colors&&i>=0&&i<10)return{isSplittedColor:!0,key:n,shade:i}}return{isSplittedColor:!1}}function Ape(e){const t=tD(e),n=j_(e),r=nY(e);return({variant:i,color:s,gradient:o,primaryFallback:a})=>{const u=Ipe(s,e);switch(i){case"light":return{border:"transparent",background:Uh(t(s,e.colorScheme==="dark"?8:0,a,!1),e.colorScheme==="dark"?.2:1),color:s==="dark"?e.colorScheme==="dark"?e.colors.dark[0]:e.colors.dark[9]:t(s,e.colorScheme==="dark"?2:n("light")),hover:Uh(t(s,e.colorScheme==="dark"?7:1,a,!1),e.colorScheme==="dark"?.25:.65)};case"subtle":return{border:"transparent",background:"transparent",color:s==="dark"?e.colorScheme==="dark"?e.colors.dark[0]:e.colors.dark[9]:t(s,e.colorScheme==="dark"?2:n("light")),hover:Uh(t(s,e.colorScheme==="dark"?8:0,a,!1),e.colorScheme==="dark"?.2:1)};case"outline":return{border:t(s,e.colorScheme==="dark"?5:n("light")),background:"transparent",color:t(s,e.colorScheme==="dark"?5:n("light")),hover:e.colorScheme==="dark"?Uh(t(s,5,a,!1),.05):Uh(t(s,0,a,!1),.35)};case"default":return{border:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4],background:e.colorScheme==="dark"?e.colors.dark[6]:e.white,color:e.colorScheme==="dark"?e.white:e.black,hover:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[0]};case"white":return{border:"transparent",background:e.white,color:t(s,n()),hover:null};case"transparent":return{border:"transparent",color:s==="dark"?e.colorScheme==="dark"?e.colors.dark[0]:e.colors.dark[9]:t(s,e.colorScheme==="dark"?2:n("light")),background:"transparent",hover:null};case"gradient":return{background:r(o),color:e.white,border:"transparent",hover:null};default:{const l=n(),c=u.isSplittedColor?u.shade:l,f=u.isSplittedColor?u.key:s;return{border:"transparent",background:t(f,c,a),color:e.white,hover:t(f,c===9?8:c+1)}}}}}function Cpe(e){return t=>{const n=j_(e)(t);return e.colors[e.primaryColor][n]}}function Ope(e){return{"@media (hover: hover)":{"&:hover":e},"@media (hover: none)":{"&:active":e}}}const ui={fontStyles:cpe,themeColor:tD,focusStyles:ppe,linearGradient:mpe,radialGradient:gpe,smallerThan:_pe,largerThan:ype,rgba:Uh,size:nD,cover:Epe,darken:Tpe,lighten:Spe,radius:xpe,variant:Ape,primaryShade:j_,hover:Ope,gradient:nY,primaryColor:Cpe};var Ppe=Object.defineProperty,Rpe=Object.defineProperties,Npe=Object.getOwnPropertyDescriptors,G4=Object.getOwnPropertySymbols,kpe=Object.prototype.hasOwnProperty,Dpe=Object.prototype.propertyIsEnumerable,K4=(e,t,n)=>t in e?Ppe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$pe=(e,t)=>{for(var n in t||(t={}))kpe.call(t,n)&&K4(e,n,t[n]);if(G4)for(var n of G4(t))Dpe.call(t,n)&&K4(e,n,t[n]);return e},Lpe=(e,t)=>Rpe(e,Npe(t));function Mpe(e){return Lpe($pe({},e),{fn:{fontStyles:ui.fontStyles(e),themeColor:ui.themeColor(e),focusStyles:ui.focusStyles(e),largerThan:ui.largerThan(e),smallerThan:ui.smallerThan(e),radialGradient:ui.radialGradient,linearGradient:ui.linearGradient,gradient:ui.gradient(e),rgba:ui.rgba,size:ui.size,cover:ui.cover,lighten:ui.lighten,darken:ui.darken,primaryShade:ui.primaryShade(e),radius:ui.radius(e),variant:ui.variant(e),hover:ui.hover,primaryColor:ui.primaryColor(e)}})}const Fpe=["xs","sm","md","lg","xl"],Bpe={dir:"ltr",primaryShade:{light:6,dark:8},focusRing:"auto",loader:"oval",dateFormat:"MMMM D, YYYY",colorScheme:"light",white:"#fff",black:"#000",defaultRadius:"sm",transitionTimingFunction:"ease",colors:lpe,lineHeight:1.55,fontFamily:"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",primaryColor:"blue",respectReducedMotion:!0,cursorType:"default",defaultGradient:{from:"indigo",to:"cyan",deg:45},shadows:{xs:"0 1px 3px rgba(0, 0, 0, 0.05), 0 1px 2px rgba(0, 0, 0, 0.1)",sm:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 10px 15px -5px, rgba(0, 0, 0, 0.04) 0px 7px 7px -5px",md:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 20px 25px -5px, rgba(0, 0, 0, 0.04) 0px 10px 10px -5px",lg:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 28px 23px -7px, rgba(0, 0, 0, 0.04) 0px 12px 12px -7px",xl:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 36px 28px -7px, rgba(0, 0, 0, 0.04) 0px 17px 17px -7px"},fontSizes:{xs:12,sm:14,md:16,lg:18,xl:20},radius:{xs:2,sm:4,md:8,lg:16,xl:32},spacing:{xs:10,sm:12,md:16,lg:20,xl:24},breakpoints:{xs:576,sm:768,md:992,lg:1200,xl:1400},headings:{fontFamily:"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",fontWeight:700,sizes:{h1:{fontSize:34,lineHeight:1.3,fontWeight:void 0},h2:{fontSize:26,lineHeight:1.35,fontWeight:void 0},h3:{fontSize:22,lineHeight:1.4,fontWeight:void 0},h4:{fontSize:18,lineHeight:1.45,fontWeight:void 0},h5:{fontSize:16,lineHeight:1.5,fontWeight:void 0},h6:{fontSize:14,lineHeight:1.5,fontWeight:void 0}}},other:{},components:{},activeStyles:{transform:"translateY(1px)"},datesLocale:"en",globalStyles:void 0,focusRingStyles:{styles:e=>({outlineOffset:2,outline:`2px solid ${e.colors[e.primaryColor][e.colorScheme==="dark"?7:5]}`}),resetStyles:()=>({outline:"none"}),inputStyles:e=>({outline:"none",borderColor:e.colors[e.primaryColor][typeof e.primaryShade=="object"?e.primaryShade[e.colorScheme]:e.primaryShade]})}},rY=Mpe(Bpe);function jpe(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function Upe(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var Vpe=function(){function e(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Upe(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=jpe(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},e}(),qi="-ms-",Nw="-moz-",Sn="-webkit-",iY="comm",iD="rule",sD="decl",zpe="@import",sY="@keyframes",Hpe=Math.abs,lx=String.fromCharCode,Wpe=Object.assign;function qpe(e,t){return Ci(e,0)^45?(((t<<2^Ci(e,0))<<2^Ci(e,1))<<2^Ci(e,2))<<2^Ci(e,3):0}function oY(e){return e.trim()}function Ype(e,t){return(e=t.exec(e))?e[0]:e}function Cn(e,t,n){return e.replace(t,n)}function b2(e,t){return e.indexOf(t)}function Ci(e,t){return e.charCodeAt(t)|0}function My(e,t,n){return e.slice(t,n)}function nu(e){return e.length}function oD(e){return e.length}function o1(e,t){return t.push(e),e}function Gpe(e,t){return e.map(t).join("")}var cx=1,rm=1,aY=0,qs=0,zr=0,Gm="";function fx(e,t,n,r,i,s,o){return{value:e,root:t,parent:n,type:r,props:i,children:s,line:cx,column:rm,length:o,return:""}}function Bg(e,t){return Wpe(fx("",null,null,"",null,null,0),e,{length:-e.length},t)}function Kpe(){return zr}function Qpe(){return zr=qs>0?Ci(Gm,--qs):0,rm--,zr===10&&(rm=1,cx--),zr}function go(){return zr=qs<aY?Ci(Gm,qs++):0,rm++,zr===10&&(rm=1,cx++),zr}function Eu(){return Ci(Gm,qs)}function wb(){return qs}function U_(e,t){return My(Gm,e,t)}function Fy(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function uY(e){return cx=rm=1,aY=nu(Gm=e),qs=0,[]}function lY(e){return Gm="",e}function Eb(e){return oY(U_(qs-1,w2(e===91?e+2:e===40?e+1:e)))}function Xpe(e){for(;(zr=Eu())&&zr<33;)go();return Fy(e)>2||Fy(zr)>3?"":" "}function Jpe(e,t){for(;--t&&go()&&!(zr<48||zr>102||zr>57&&zr<65||zr>70&&zr<97););return U_(e,wb()+(t<6&&Eu()==32&&go()==32))}function w2(e){for(;go();)switch(zr){case e:return qs;case 34:case 39:e!==34&&e!==39&&w2(zr);break;case 40:e===41&&w2(e);break;case 92:go();break}return qs}function Zpe(e,t){for(;go()&&e+zr!==57;)if(e+zr===84&&Eu()===47)break;return"/*"+U_(t,qs-1)+"*"+lx(e===47?e:go())}function eme(e){for(;!Fy(Eu());)go();return U_(e,qs)}function tme(e){return lY(Tb("",null,null,null,[""],e=uY(e),0,[0],e))}function Tb(e,t,n,r,i,s,o,a,u){for(var l=0,c=0,f=o,d=0,h=0,p=0,g=1,y=1,m=1,_=0,v="",T=i,S=s,w=r,x=v;y;)switch(p=_,_=go()){case 40:if(p!=108&&Ci(x,f-1)==58){b2(x+=Cn(Eb(_),"&","&\f"),"&\f")!=-1&&(m=-1);break}case 34:case 39:case 91:x+=Eb(_);break;case 9:case 10:case 13:case 32:x+=Xpe(p);break;case 92:x+=Jpe(wb()-1,7);continue;case 47:switch(Eu()){case 42:case 47:o1(nme(Zpe(go(),wb()),t,n),u);break;default:x+="/"}break;case 123*g:a[l++]=nu(x)*m;case 125*g:case 59:case 0:switch(_){case 0:case 125:y=0;case 59+c:h>0&&nu(x)-f&&o1(h>32?X4(x+";",r,n,f-1):X4(Cn(x," ","")+";",r,n,f-2),u);break;case 59:x+=";";default:if(o1(w=Q4(x,t,n,l,c,i,a,v,T=[],S=[],f),s),_===123)if(c===0)Tb(x,t,w,w,T,s,f,a,S);else switch(d===99&&Ci(x,3)===110?100:d){case 100:case 109:case 115:Tb(e,w,w,r&&o1(Q4(e,w,w,0,0,i,a,v,i,T=[],f),S),i,S,f,a,r?T:S);break;default:Tb(x,w,w,w,[""],S,0,a,S)}}l=c=h=0,g=m=1,v=x="",f=o;break;case 58:f=1+nu(x),h=p;default:if(g<1){if(_==123)--g;else if(_==125&&g++==0&&Qpe()==125)continue}switch(x+=lx(_),_*g){case 38:m=c>0?1:(x+="\f",-1);break;case 44:a[l++]=(nu(x)-1)*m,m=1;break;case 64:Eu()===45&&(x+=Eb(go())),d=Eu(),c=f=nu(v=x+=eme(wb())),_++;break;case 45:p===45&&nu(x)==2&&(g=0)}}return s}function Q4(e,t,n,r,i,s,o,a,u,l,c){for(var f=i-1,d=i===0?s:[""],h=oD(d),p=0,g=0,y=0;p<r;++p)for(var m=0,_=My(e,f+1,f=Hpe(g=o[p])),v=e;m<h;++m)(v=oY(g>0?d[m]+" "+_:Cn(_,/&\f/g,d[m])))&&(u[y++]=v);return fx(e,t,n,i===0?iD:a,u,l,c)}function nme(e,t,n){return fx(e,t,n,iY,lx(Kpe()),My(e,2,-2),0)}function X4(e,t,n,r){return fx(e,t,n,sD,My(e,0,r),My(e,r+1,-1),r)}function Cp(e,t){for(var n="",r=oD(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function rme(e,t,n,r){switch(e.type){case zpe:case sD:return e.return=e.return||e.value;case iY:return"";case sY:return e.return=e.value+"{"+Cp(e.children,r)+"}";case iD:e.value=e.props.join(",")}return nu(n=Cp(e.children,r))?e.return=e.value+"{"+n+"}":""}function ime(e){var t=oD(e);return function(n,r,i,s){for(var o="",a=0;a<t;a++)o+=e[a](n,r,i,s)||"";return o}}function sme(e){return function(t){t.root||(t=t.return)&&e(t)}}function ome(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var ame=function(t,n,r){for(var i=0,s=0;i=s,s=Eu(),i===38&&s===12&&(n[r]=1),!Fy(s);)go();return U_(t,qs)},ume=function(t,n){var r=-1,i=44;do switch(Fy(i)){case 0:i===38&&Eu()===12&&(n[r]=1),t[r]+=ame(qs-1,n,r);break;case 2:t[r]+=Eb(i);break;case 4:if(i===44){t[++r]=Eu()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=lx(i)}while(i=go());return t},lme=function(t,n){return lY(ume(uY(t),n))},J4=new WeakMap,cme=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!J4.get(r))&&!i){J4.set(t,!0);for(var s=[],o=lme(n,s),a=r.props,u=0,l=0;u<o.length;u++)for(var c=0;c<a.length;c++,l++)t.props[l]=s[u]?o[u].replace(/&\f/g,a[c]):a[c]+" "+o[u]}}},fme=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function cY(e,t){switch(qpe(e,t)){case 5103:return Sn+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Sn+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Sn+e+Nw+e+qi+e+e;case 6828:case 4268:return Sn+e+qi+e+e;case 6165:return Sn+e+qi+"flex-"+e+e;case 5187:return Sn+e+Cn(e,/(\w+).+(:[^]+)/,Sn+"box-$1$2"+qi+"flex-$1$2")+e;case 5443:return Sn+e+qi+"flex-item-"+Cn(e,/flex-|-self/,"")+e;case 4675:return Sn+e+qi+"flex-line-pack"+Cn(e,/align-content|flex-|-self/,"")+e;case 5548:return Sn+e+qi+Cn(e,"shrink","negative")+e;case 5292:return Sn+e+qi+Cn(e,"basis","preferred-size")+e;case 6060:return Sn+"box-"+Cn(e,"-grow","")+Sn+e+qi+Cn(e,"grow","positive")+e;case 4554:return Sn+Cn(e,/([^-])(transform)/g,"$1"+Sn+"$2")+e;case 6187:return Cn(Cn(Cn(e,/(zoom-|grab)/,Sn+"$1"),/(image-set)/,Sn+"$1"),e,"")+e;case 5495:case 3959:return Cn(e,/(image-set\([^]*)/,Sn+"$1$`$1");case 4968:return Cn(Cn(e,/(.+:)(flex-)?(.*)/,Sn+"box-pack:$3"+qi+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Sn+e+e;case 4095:case 3583:case 4068:case 2532:return Cn(e,/(.+)-inline(.+)/,Sn+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(nu(e)-1-t>6)switch(Ci(e,t+1)){case 109:if(Ci(e,t+4)!==45)break;case 102:return Cn(e,/(.+:)(.+)-([^]+)/,"$1"+Sn+"$2-$3$1"+Nw+(Ci(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~b2(e,"stretch")?cY(Cn(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Ci(e,t+1)!==115)break;case 6444:switch(Ci(e,nu(e)-3-(~b2(e,"!important")&&10))){case 107:return Cn(e,":",":"+Sn)+e;case 101:return Cn(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Sn+(Ci(e,14)===45?"inline-":"")+"box$3$1"+Sn+"$2$3$1"+qi+"$2box$3")+e}break;case 5936:switch(Ci(e,t+11)){case 114:return Sn+e+qi+Cn(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Sn+e+qi+Cn(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Sn+e+qi+Cn(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Sn+e+qi+e+e}return e}var dme=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case sD:t.return=cY(t.value,t.length);break;case sY:return Cp([Bg(t,{value:Cn(t.value,"@","@"+Sn)})],i);case iD:if(t.length)return Gpe(t.props,function(s){switch(Ype(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Cp([Bg(t,{props:[Cn(s,/:(read-\w+)/,":"+Nw+"$1")]})],i);case"::placeholder":return Cp([Bg(t,{props:[Cn(s,/:(plac\w+)/,":"+Sn+"input-$1")]}),Bg(t,{props:[Cn(s,/:(plac\w+)/,":"+Nw+"$1")]}),Bg(t,{props:[Cn(s,/:(plac\w+)/,qi+"input-$1")]})],i)}return""})}},hme=[dme],pme=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(g){var y=g.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var i=t.stylisPlugins||hme,s={},o,a=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(g){for(var y=g.getAttribute("data-emotion").split(" "),m=1;m<y.length;m++)s[y[m]]=!0;a.push(g)});var u,l=[cme,fme];{var c,f=[rme,sme(function(g){c.insert(g)})],d=ime(l.concat(i,f)),h=function(y){return Cp(tme(y),d)};u=function(y,m,_,v){c=_,h(y?y+"{"+m.styles+"}":m.styles),v&&(p.inserted[m.name]=!0)}}var p={key:n,sheet:new Vpe({key:n,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:s,registered:{},insert:u};return p.sheet.hydrate(a),p};const fY=pme;function dr(){return dr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dr.apply(this,arguments)}var dY={exports:{}},kn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gi=typeof Symbol=="function"&&Symbol.for,aD=gi?Symbol.for("react.element"):60103,uD=gi?Symbol.for("react.portal"):60106,dx=gi?Symbol.for("react.fragment"):60107,hx=gi?Symbol.for("react.strict_mode"):60108,px=gi?Symbol.for("react.profiler"):60114,mx=gi?Symbol.for("react.provider"):60109,gx=gi?Symbol.for("react.context"):60110,lD=gi?Symbol.for("react.async_mode"):60111,yx=gi?Symbol.for("react.concurrent_mode"):60111,_x=gi?Symbol.for("react.forward_ref"):60112,vx=gi?Symbol.for("react.suspense"):60113,mme=gi?Symbol.for("react.suspense_list"):60120,bx=gi?Symbol.for("react.memo"):60115,wx=gi?Symbol.for("react.lazy"):60116,gme=gi?Symbol.for("react.block"):60121,yme=gi?Symbol.for("react.fundamental"):60117,_me=gi?Symbol.for("react.responder"):60118,vme=gi?Symbol.for("react.scope"):60119;function Co(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case aD:switch(e=e.type,e){case lD:case yx:case dx:case px:case hx:case vx:return e;default:switch(e=e&&e.$$typeof,e){case gx:case _x:case wx:case bx:case mx:return e;default:return t}}case uD:return t}}}function hY(e){return Co(e)===yx}kn.AsyncMode=lD;kn.ConcurrentMode=yx;kn.ContextConsumer=gx;kn.ContextProvider=mx;kn.Element=aD;kn.ForwardRef=_x;kn.Fragment=dx;kn.Lazy=wx;kn.Memo=bx;kn.Portal=uD;kn.Profiler=px;kn.StrictMode=hx;kn.Suspense=vx;kn.isAsyncMode=function(e){return hY(e)||Co(e)===lD};kn.isConcurrentMode=hY;kn.isContextConsumer=function(e){return Co(e)===gx};kn.isContextProvider=function(e){return Co(e)===mx};kn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===aD};kn.isForwardRef=function(e){return Co(e)===_x};kn.isFragment=function(e){return Co(e)===dx};kn.isLazy=function(e){return Co(e)===wx};kn.isMemo=function(e){return Co(e)===bx};kn.isPortal=function(e){return Co(e)===uD};kn.isProfiler=function(e){return Co(e)===px};kn.isStrictMode=function(e){return Co(e)===hx};kn.isSuspense=function(e){return Co(e)===vx};kn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===dx||e===yx||e===px||e===hx||e===vx||e===mme||typeof e=="object"&&e!==null&&(e.$$typeof===wx||e.$$typeof===bx||e.$$typeof===mx||e.$$typeof===gx||e.$$typeof===_x||e.$$typeof===yme||e.$$typeof===_me||e.$$typeof===vme||e.$$typeof===gme)};kn.typeOf=Co;dY.exports=kn;var bme=dY.exports,pY=bme,wme={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Eme={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},mY={};mY[pY.ForwardRef]=wme;mY[pY.Memo]=Eme;var Tme=!0;function Sme(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):r+=i+" "}),r}var xme=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||Tme===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},gY=function(t,n,r){xme(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var s=n;do t.insert(n===s?"."+i:"",s,t.sheet,!0),s=s.next;while(s!==void 0)}};function Ime(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var Ame={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Cme=/[A-Z]|^ms/g,Ome=/_EMO_([^_]+?)_([^]*?)_EMO_/g,yY=function(t){return t.charCodeAt(1)===45},Z4=function(t){return t!=null&&typeof t!="boolean"},lC=ome(function(e){return yY(e)?e:e.replace(Cme,"-$&").toLowerCase()}),e5=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(Ome,function(r,i,s){return ru={name:i,styles:s,next:ru},i})}return Ame[t]!==1&&!yY(t)&&typeof n=="number"&&n!==0?n+"px":n};function By(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return ru={name:n.name,styles:n.styles,next:ru},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)ru={name:r.name,styles:r.styles,next:ru},r=r.next;var i=n.styles+";";return i}return Pme(e,t,n)}case"function":{if(e!==void 0){var s=ru,o=n(e);return ru=s,By(e,t,o)}break}}if(t==null)return n;var a=t[n];return a!==void 0?a:n}function Pme(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=By(e,t,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")t!=null&&t[o]!==void 0?r+=s+"{"+t[o]+"}":Z4(o)&&(r+=lC(s)+":"+e5(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(t==null||t[o[0]]===void 0))for(var a=0;a<o.length;a++)Z4(o[a])&&(r+=lC(s)+":"+e5(s,o[a])+";");else{var u=By(e,t,o);switch(s){case"animation":case"animationName":{r+=lC(s)+":"+u+";";break}default:r+=s+"{"+u+"}"}}}return r}var t5=/label:\s*([^\s;\n{]+)\s*(;|$)/g,ru,cD=function(t,n,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,s="";ru=void 0;var o=t[0];o==null||o.raw===void 0?(i=!1,s+=By(r,n,o)):s+=o[0];for(var a=1;a<t.length;a++)s+=By(r,n,t[a]),i&&(s+=o[a]);t5.lastIndex=0;for(var u="",l;(l=t5.exec(s))!==null;)u+="-"+l[1];var c=Ime(s)+u;return{name:c,styles:s,next:ru}},Rme=Fd.useInsertionEffect?Fd.useInsertionEffect:!1,n5=Rme||E.useLayoutEffect,_Y=E.createContext(typeof HTMLElement<"u"?fY({key:"css"}):null);_Y.Provider;var Nme=function(t){return E.forwardRef(function(n,r){var i=E.useContext(_Y);return t(n,i,r)})},kme=E.createContext({}),Dme=Nme(function(e,t){var n=e.styles,r=cD([n],void 0,E.useContext(kme)),i=E.useRef();return n5(function(){var s=t.key+"-global",o=new t.sheet.constructor({key:s,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),a=!1,u=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return t.sheet.tags.length&&(o.before=t.sheet.tags[0]),u!==null&&(a=!0,u.setAttribute("data-emotion",s),o.hydrate([u])),i.current=[o,a],function(){o.flush()}},[t]),n5(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&gY(t,r.next,!0),o.tags.length){var u=o.tags[o.tags.length-1].nextElementSibling;o.before=u,o.flush()}t.insert("",r,o,!1)},[t,r.name]),null});function vY(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return cD(t)}var $me=function(){var t=vY.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function bY(e){return Object.keys(e).reduce((t,n)=>(e[n]!==void 0&&(t[n]=e[n]),t),{})}var Lme=Object.defineProperty,r5=Object.getOwnPropertySymbols,Mme=Object.prototype.hasOwnProperty,Fme=Object.prototype.propertyIsEnumerable,i5=(e,t,n)=>t in e?Lme(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cC=(e,t)=>{for(var n in t||(t={}))Mme.call(t,n)&&i5(e,n,t[n]);if(r5)for(var n of r5(t))Fme.call(t,n)&&i5(e,n,t[n]);return e};const wY=E.createContext({theme:rY});function ss(){var e;return((e=E.useContext(wY))==null?void 0:e.theme)||rY}function Bme(e){const t=ss(),n=r=>{var i,s;return{styles:((i=t.components[r])==null?void 0:i.styles)||{},classNames:((s=t.components[r])==null?void 0:s.classNames)||{}}};return Array.isArray(e)?e.map(n):[n(e)]}function EY(){var e;return(e=E.useContext(wY))==null?void 0:e.emotionCache}function ht(e,t,n){var r;const s=(r=ss().components[e])==null?void 0:r.defaultProps;return cC(cC(cC({},t),s),bY(n))}const TY=E.createContext({classNames:{},styles:{},unstyled:!1});function SY({children:e,classNames:t,unstyled:n,styles:r,staticSelector:i}){return M.createElement(TY.Provider,{value:{classNames:t,styles:r,unstyled:n,staticSelector:i}},e)}function V_(){return E.useContext(TY)}const jme={app:100,modal:200,popover:300,overlay:400,max:9999};function Oo(e){return jme[e]}function Ume(e,t){const n=E.useRef();return(!n.current||t.length!==n.current.prevDeps.length||n.current.prevDeps.map((r,i)=>r===t[i]).indexOf(!1)>=0)&&(n.current={v:e(),prevDeps:[...t]}),n.current.v}const Vme=fY({key:"mantine",prepend:!0});function zme(){return EY()||Vme}var Hme=Object.defineProperty,s5=Object.getOwnPropertySymbols,Wme=Object.prototype.hasOwnProperty,qme=Object.prototype.propertyIsEnumerable,o5=(e,t,n)=>t in e?Hme(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Yme=(e,t)=>{for(var n in t||(t={}))Wme.call(t,n)&&o5(e,n,t[n]);if(s5)for(var n of s5(t))qme.call(t,n)&&o5(e,n,t[n]);return e};const fC="ref";function Gme(e){let t;if(e.length!==1)return{args:e,ref:t};const[n]=e;if(!(n instanceof Object))return{args:e,ref:t};if(!(fC in n))return{args:e,ref:t};t=n[fC];const r=Yme({},n);return delete r[fC],{args:[r],ref:t}}const{cssFactory:Kme}=(()=>{function e(n,r,i){const s=[],o=Sme(n,s,i);return s.length<2?i:o+r(s)}function t(n){const{cache:r}=n,i=(...o)=>{const{ref:a,args:u}=Gme(o),l=cD(u,r.registered);return gY(r,l,!1),`${r.key}-${l.name}${a===void 0?"":` ${a}`}`};return{css:i,cx:(...o)=>e(r.registered,i,eY(o))}}return{cssFactory:t}})();function xY(){const e=zme();return Ume(()=>Kme({cache:e}),[e])}function Qme({cx:e,classes:t,context:n,classNames:r,name:i,cache:s}){const o=n.reduce((a,u)=>(Object.keys(u.classNames).forEach(l=>{typeof a[l]!="string"?a[l]=`${u.classNames[l]}`:a[l]=`${a[l]} ${u.classNames[l]}`}),a),{});return Object.keys(t).reduce((a,u)=>(a[u]=e(t[u],o[u],r!=null&&r[u],Array.isArray(i)?i.filter(Boolean).map(l=>`${(s==null?void 0:s.key)||"mantine"}-${l}-${u}`).join(" "):i?`${(s==null?void 0:s.key)||"mantine"}-${i}-${u}`:null),a),{})}var Xme=Object.defineProperty,a5=Object.getOwnPropertySymbols,Jme=Object.prototype.hasOwnProperty,Zme=Object.prototype.propertyIsEnumerable,u5=(e,t,n)=>t in e?Xme(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,dC=(e,t)=>{for(var n in t||(t={}))Jme.call(t,n)&&u5(e,n,t[n]);if(a5)for(var n of a5(t))Zme.call(t,n)&&u5(e,n,t[n]);return e};function ege(e){return`__mantine-ref-${e||""}`}function l5(e,t,n){const r=i=>typeof i=="function"?i(t,n||{}):i||{};return Array.isArray(e)?e.map(i=>r(i.styles)).reduce((i,s)=>(Object.keys(s).forEach(o=>{i[o]?i[o]=dC(dC({},i[o]),s[o]):i[o]=dC({},s[o])}),i),{}):r(e)}function lt(e){const t=typeof e=="function"?e:()=>e;function n(r,i){const s=ss(),o=Bme(i==null?void 0:i.name),a=EY(),{css:u,cx:l}=xY(),c=t(s,r,ege),f=l5(i==null?void 0:i.styles,s,r),d=l5(o,s,r),h=Object.fromEntries(Object.keys(c).map(p=>{const g=l({[u(c[p])]:!(i!=null&&i.unstyled)},u(d[p]),u(f[p]));return[p,g]}));return{classes:Qme({cx:l,classes:h,context:o,classNames:i==null?void 0:i.classNames,name:i==null?void 0:i.name,cache:a}),cx:l,theme:s}}return n}function IY({styles:e}){const t=ss();return M.createElement(Dme,{styles:vY(typeof e=="function"?e(t):e)})}var tge=Object.defineProperty,nge=Object.defineProperties,rge=Object.getOwnPropertyDescriptors,c5=Object.getOwnPropertySymbols,ige=Object.prototype.hasOwnProperty,sge=Object.prototype.propertyIsEnumerable,f5=(e,t,n)=>t in e?tge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jg=(e,t)=>{for(var n in t||(t={}))ige.call(t,n)&&f5(e,n,t[n]);if(c5)for(var n of c5(t))sge.call(t,n)&&f5(e,n,t[n]);return e},Ug=(e,t)=>nge(e,rge(t));const Vg={in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(.9) translateY(10px)"},transitionProperty:"transform, opacity"},a1={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:Ug(jg({},Vg),{common:{transformOrigin:"center center"}}),"pop-bottom-left":Ug(jg({},Vg),{common:{transformOrigin:"bottom left"}}),"pop-bottom-right":Ug(jg({},Vg),{common:{transformOrigin:"bottom right"}}),"pop-top-left":Ug(jg({},Vg),{common:{transformOrigin:"top left"}}),"pop-top-right":Ug(jg({},Vg),{common:{transformOrigin:"top right"}})},d5=["mousedown","touchstart"];function oge(e,t,n){const r=E.useRef();return E.useEffect(()=>{const i=s=>{const{target:o}=s??{};if(Array.isArray(n)){const a=(o==null?void 0:o.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(o);n.every(l=>!!l&&!l.contains(o))&&!a&&e()}else r.current&&!r.current.contains(o)&&e()};return(t||d5).forEach(s=>document.addEventListener(s,i)),()=>{(t||d5).forEach(s=>document.removeEventListener(s,i))}},[r,e,n]),r}function age(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch{return e.addListener(t),()=>e.removeListener(t)}}function uge(e,t){return typeof t=="boolean"?t:typeof window<"u"&&"matchMedia"in window?window.matchMedia(e).matches:!1}function lge(e,t,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[r,i]=E.useState(n?!1:uge(e,t)),s=E.useRef();return E.useEffect(()=>{if("matchMedia"in window)return s.current=window.matchMedia(e),i(s.current.matches),age(s.current,o=>i(o.matches))},[e]),r}function Xc(e,t,n){return Math.min(Math.max(e,t),n)}const fD=typeof document<"u"?E.useLayoutEffect:E.useEffect;function yo(e,t){const n=E.useRef(!1);E.useEffect(()=>()=>{n.current=!1},[]),E.useEffect(()=>{if(n.current)return e();n.current=!0},t)}function AY({opened:e,shouldReturnFocus:t=!0}){const n=E.useRef(),r=()=>{var i;n.current&&"focus"in n.current&&typeof n.current.focus=="function"&&((i=n.current)==null||i.focus({preventScroll:!0}))};return yo(()=>{let i=-1;const s=o=>{o.key==="Tab"&&window.clearTimeout(i)};return document.addEventListener("keydown",s),e?n.current=document.activeElement:t&&(i=window.setTimeout(r,10)),()=>{window.clearTimeout(i),document.removeEventListener("keydown",s)}},[e,t]),r}const cge=/input|select|textarea|button|object/,CY="a, input, select, textarea, button, object, [tabindex]";function fge(e){return e.style.display==="none"}function dge(e){if(e.getAttribute("aria-hidden")||e.getAttribute("hidden")||e.getAttribute("type")==="hidden")return!1;let n=e;for(;n&&n!==document.body;){if(fge(n))return!1;n=n.parentNode}return!0}function OY(e){let t=e.getAttribute("tabindex");return t===null&&(t=void 0),parseInt(t,10)}function E2(e){const t=e.nodeName.toLowerCase(),n=!Number.isNaN(OY(e));return(cge.test(t)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||n)&&dge(e)}function PY(e){const t=OY(e);return(Number.isNaN(t)||t>=0)&&E2(e)}function hge(e){return Array.from(e.querySelectorAll(CY)).filter(PY)}function pge(e,t){const n=hge(e);if(!n.length){t.preventDefault();return}if(!(n[t.shiftKey?0:n.length-1]===document.activeElement||e===document.activeElement))return;t.preventDefault();const s=n[t.shiftKey?n.length-1:0];s&&s.focus()}function mge(e,t="body > :not(script)"){const n=Array.from(document.querySelectorAll(t)).map(r=>{if(r.contains(e))return;const i=r.getAttribute("aria-hidden");return(i===null||i==="false")&&r.setAttribute("aria-hidden","true"),{node:r,ariaHidden:i}});return()=>{n.forEach(r=>{r&&(r.ariaHidden===null?r.node.removeAttribute("aria-hidden"):r.node.setAttribute("aria-hidden",r.ariaHidden))})}}function RY(e=!0){const t=E.useRef(),n=E.useRef(null),r=E.useCallback(i=>{if(e&&i!==null&&(n.current=mge(i),t.current!==i))if(i){const s=()=>{let o=i.querySelector("[data-autofocus]");if(!o){const a=Array.from(i.querySelectorAll(CY));o=a.find(PY)||a.find(E2)||null,!o&&E2(i)&&(o=i)}o&&o.focus({preventScroll:!0})};setTimeout(()=>{i.ownerDocument&&s()}),t.current=i}else t.current=null},[e]);return E.useEffect(()=>{if(!e)return;const i=s=>{s.key==="Tab"&&t.current&&pge(t.current,s)};return document.addEventListener("keydown",i),()=>{document.removeEventListener("keydown",i),n.current&&n.current()}},[e]),r}const gge=()=>`mantine-${Math.random().toString(36).slice(2,11)}`,yge=M.useId||(()=>{});function _ge(){const[e,t]=E.useState("");return fD(()=>{t(gge())},[]),e}function vge(){const e=yge();return e?`mantine-${e.replace(/:/g,"")}`:""}function zu(e){return typeof e=="string"?e:vge()||_ge()}function T2(e,t,n){E.useEffect(()=>(window.addEventListener(e,t,n),()=>window.removeEventListener(e,t,n)),[e,t])}function NY(e,t){typeof e=="function"?e(t):typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function bge(...e){return t=>{e.forEach(n=>NY(n,t))}}function ra(...e){return E.useCallback(bge(...e),e)}function kY(e,t,n="ltr"){const r=E.useRef(),i=E.useRef(!1),s=E.useRef(!1),o=E.useRef(0),[a,u]=E.useState(!1);return E.useEffect(()=>{i.current=!0},[]),E.useEffect(()=>{const l=({x:_,y:v})=>{cancelAnimationFrame(o.current),o.current=requestAnimationFrame(()=>{if(i.current&&r.current){r.current.style.userSelect="none";const T=r.current.getBoundingClientRect();if(T.width&&T.height){const S=Xc((_-T.left)/T.width,0,1);e({x:n==="ltr"?S:1-S,y:Xc((v-T.top)/T.height,0,1)})}}})},c=()=>{document.addEventListener("mousemove",g),document.addEventListener("mouseup",h),document.addEventListener("touchmove",m),document.addEventListener("touchend",h)},f=()=>{document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",h),document.removeEventListener("touchmove",m),document.removeEventListener("touchend",h)},d=()=>{!s.current&&i.current&&(s.current=!0,typeof(t==null?void 0:t.onScrubStart)=="function"&&t.onScrubStart(),u(!0),c())},h=()=>{s.current&&i.current&&(s.current=!1,u(!1),f(),setTimeout(()=>{typeof(t==null?void 0:t.onScrubEnd)=="function"&&t.onScrubEnd()},0))},p=_=>{d(),g(_)},g=_=>l({x:_.clientX,y:_.clientY}),y=_=>{_.cancelable&&_.preventDefault(),d(),m(_)},m=_=>{_.cancelable&&_.preventDefault(),l({x:_.changedTouches[0].clientX,y:_.changedTouches[0].clientY})};return r.current.addEventListener("mousedown",p),r.current.addEventListener("touchstart",y,{passive:!1}),()=>{r.current&&(r.current.removeEventListener("mousedown",p),r.current.removeEventListener("touchstart",y))}},[n,e]),{ref:r,active:a}}function La({value:e,defaultValue:t,finalValue:n,onChange:r=()=>{}}){const[i,s]=E.useState(t!==void 0?t:n),o=a=>{s(a),r==null||r(a)};return e!==void 0?[e,r,!0]:[i,o,!1]}function dD(e,t){return lge("(prefers-reduced-motion: reduce)",e,t)}const wge=e=>e<.5?2*e*e:-1+(4-2*e)*e,Ege=({axis:e,target:t,parent:n,alignment:r,offset:i,isList:s})=>{if(!t||!n&&typeof document>"u")return 0;const o=!!n,u=(n||document.body).getBoundingClientRect(),l=t.getBoundingClientRect(),c=f=>l[f]-u[f];if(e==="y"){const f=c("top");if(f===0)return 0;if(r==="start"){const h=f-i;return h<=l.height*(s?0:1)||!s?h:0}const d=o?u.height:window.innerHeight;if(r==="end"){const h=f+i-d+l.height;return h>=-l.height*(s?0:1)||!s?h:0}return r==="center"?f-d/2+l.height/2:0}if(e==="x"){const f=c("left");if(f===0)return 0;if(r==="start"){const h=f-i;return h<=l.width||!s?h:0}const d=o?u.width:window.innerWidth;if(r==="end"){const h=f+i-d+l.width;return h>=-l.width||!s?h:0}return r==="center"?f-d/2+l.width/2:0}return 0},Tge=({axis:e,parent:t})=>{if(!t&&typeof document>"u")return 0;const n=e==="y"?"scrollTop":"scrollLeft";if(t)return t[n];const{body:r,documentElement:i}=document;return r[n]+i[n]},Sge=({axis:e,parent:t,distance:n})=>{if(!t&&typeof document>"u")return;const r=e==="y"?"scrollTop":"scrollLeft";if(t)t[r]=n;else{const{body:i,documentElement:s}=document;i[r]=n,s[r]=n}};function DY({duration:e=1250,axis:t="y",onScrollFinish:n,easing:r=wge,offset:i=0,cancelable:s=!0,isList:o=!1}={}){const a=E.useRef(0),u=E.useRef(0),l=E.useRef(!1),c=E.useRef(null),f=E.useRef(null),d=dD(),h=()=>{a.current&&cancelAnimationFrame(a.current)},p=E.useCallback(({alignment:y="start"}={})=>{var m;l.current=!1,a.current&&h();const _=(m=Tge({parent:c.current,axis:t}))!=null?m:0,v=Ege({parent:c.current,target:f.current,axis:t,alignment:y,offset:i,isList:o})-(c.current?0:_);function T(){u.current===0&&(u.current=performance.now());const w=performance.now()-u.current,x=d||e===0?1:w/e,A=_+v*r(x);Sge({parent:c.current,axis:t,distance:A}),!l.current&&x<1?a.current=requestAnimationFrame(T):(typeof n=="function"&&n(),u.current=0,a.current=0,h())}T()},[t,e,r,o,i,n,d]),g=()=>{s&&(l.current=!0)};return T2("wheel",g,{passive:!0}),T2("touchmove",g,{passive:!0}),E.useEffect(()=>h,[]),{scrollableRef:c,targetRef:f,scrollIntoView:p,cancel:h}}const xge={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};function Op(){const e=E.useRef(0),t=E.useRef(null),[n,r]=E.useState(xge),i=E.useMemo(()=>typeof window<"u"?new ResizeObserver(s=>{const o=s[0];o&&(cancelAnimationFrame(e.current),e.current=requestAnimationFrame(()=>{t.current&&r(o.contentRect)}))}):null,[]);return E.useEffect(()=>(t.current&&i.observe(t.current),()=>{i.disconnect(),e.current&&cancelAnimationFrame(e.current)}),[t.current]),[t,n]}function Ige(){if(typeof window>"u"||typeof document>"u")return 0;const e=parseInt(window.getComputedStyle(document.body).paddingRight,10),t=window.innerWidth-document.documentElement.clientWidth;return e+t}const Age=({disableBodyPadding:e})=>{const t=e?null:Ige();return`body {
        --removed-scroll-width: ${t}px;
        touch-action: none;
        overflow: hidden !important;
        position: relative !important;
        ${t?"padding-right: var(--removed-scroll-width) !important;":""}
        `};function Cge(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Oge(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}function Pge(){const e=document.createElement("style");return e.type="text/css",e.setAttribute("mantine-scroll-lock",""),e}function Rge(e,t={disableBodyPadding:!1}){const[n,r]=E.useState(e||!1),i=E.useRef(0),{disableBodyPadding:s}=t,o=E.useRef(null),a=()=>{i.current=window.scrollY;const l=Age({disableBodyPadding:s}),c=Pge();Cge(c,l),Oge(c),o.current=c},u=()=>{o!=null&&o.current&&(o.current.parentNode.removeChild(o.current),o.current=null)};return E.useEffect(()=>(n?a():u(),u),[n]),E.useEffect(()=>{e!==void 0&&r(e)},[e]),E.useEffect(()=>{e===void 0&&typeof window<"u"&&window.document.body.style.overflow==="hidden"&&r(!0)},[r]),[n,r]}var Nge=Object.defineProperty,kge=Object.defineProperties,Dge=Object.getOwnPropertyDescriptors,h5=Object.getOwnPropertySymbols,$ge=Object.prototype.hasOwnProperty,Lge=Object.prototype.propertyIsEnumerable,p5=(e,t,n)=>t in e?Nge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Mge=(e,t)=>{for(var n in t||(t={}))$ge.call(t,n)&&p5(e,n,t[n]);if(h5)for(var n of h5(t))Lge.call(t,n)&&p5(e,n,t[n]);return e},Fge=(e,t)=>kge(e,Dge(t));function Bge(e){const t=e.toLowerCase().split("+").map(s=>s.trim()),n={alt:t.includes("alt"),ctrl:t.includes("ctrl"),meta:t.includes("meta"),mod:t.includes("mod"),shift:t.includes("shift")},r=["alt","ctrl","meta","shift","mod"],i=t.find(s=>!r.includes(s));return Fge(Mge({},n),{key:i})}function jge(e,t){const{alt:n,ctrl:r,meta:i,mod:s,shift:o,key:a}=e,{altKey:u,ctrlKey:l,metaKey:c,shiftKey:f,key:d}=t;if(n!==u)return!1;if(s){if(!l&&!c)return!1}else if(r!==l||i!==c)return!1;return o!==f?!1:!!(a&&(d.toLowerCase()===a.toLowerCase()||t.code.replace("Key","").toLowerCase()===a.toLowerCase()))}function Uge(e){return t=>jge(Bge(e),t)}function Vge(e){return t=>{const n="nativeEvent"in t?t.nativeEvent:t;e.forEach(([r,i])=>{Uge(r)(n)&&(t.preventDefault(),i(n))})}}function zge(){const{userAgent:e}=window.navigator,t=/(Macintosh)|(MacIntel)|(MacPPC)|(Mac68K)/i,n=/(Win32)|(Win64)|(Windows)|(WinCE)/i,r=/(iPhone)|(iPad)|(iPod)/i;return t.test(e)?"macos":r.test(e)?"ios":n.test(e)?"windows":/Android/i.test(e)?"android":/Linux/i.test(e)?"linux":"undetermined"}function Hge(){return typeof window<"u"?zge():"undetermined"}function Wge(e){return t=>{if(!t)e(t);else if(typeof t=="function")e(t);else if(typeof t=="object"&&"nativeEvent"in t){const{currentTarget:n}=t;n.type==="checkbox"?e(n.checked):e(n.value)}else e(t)}}function qge(e){const[t,n]=E.useState(e);return[t,Wge(n)]}function Yge(e,t){const[n,r]=E.useState(e),i=()=>{var a;n||(r(!0),(a=t==null?void 0:t.onOpen)==null||a.call(t))},s=()=>{var a;n&&(r(!1),(a=t==null?void 0:t.onClose)==null||a.call(t))};return[n,{open:i,close:s,toggle:()=>{n?s():i()}}]}function Gge(){return`mantine-${Math.random().toString(36).slice(2,11)}`}var m5=Object.getOwnPropertySymbols,Kge=Object.prototype.hasOwnProperty,Qge=Object.prototype.propertyIsEnumerable,Xge=(e,t)=>{var n={};for(var r in e)Kge.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&m5)for(var r of m5(e))t.indexOf(r)<0&&Qge.call(e,r)&&(n[r]=e[r]);return n};function ch(e){const t=e,{m:n,mx:r,my:i,mt:s,mb:o,ml:a,mr:u,p:l,px:c,py:f,pt:d,pb:h,pl:p,pr:g,bg:y,c:m,opacity:_,ff:v,fz:T,fw:S,lts:w,ta:x,lh:A,fs:$,tt:D,td:P,w:q,miw:V,maw:U,h:se,mih:oe,mah:ce,bgsz:ee,bgp:ie,bgr:K,bga:I,pos:C,top:H,left:N,bottom:R,right:Y,inset:ae,display:le}=t,pe=Xge(t,["m","mx","my","mt","mb","ml","mr","p","px","py","pt","pb","pl","pr","bg","c","opacity","ff","fz","fw","lts","ta","lh","fs","tt","td","w","miw","maw","h","mih","mah","bgsz","bgp","bgr","bga","pos","top","left","bottom","right","inset","display"]);return{systemStyles:bY({m:n,mx:r,my:i,mt:s,mb:o,ml:a,mr:u,p:l,px:c,py:f,pt:d,pb:h,pl:p,pr:g,bg:y,c:m,opacity:_,ff:v,fz:T,fw:S,lts:w,ta:x,lh:A,fs:$,tt:D,td:P,w:q,miw:V,maw:U,h:se,mih:oe,mah:ce,bgsz:ee,bgp:ie,bgr:K,bga:I,pos:C,top:H,left:N,bottom:R,right:Y,inset:ae,display:le}),rest:pe}}function Jge(e,t){const n=Object.keys(e).filter(r=>r!=="base").sort((r,i)=>t.fn.size({size:r,sizes:t.breakpoints})-t.fn.size({size:i,sizes:t.breakpoints}));return"base"in e?["base",...n]:n}function Zge({value:e,theme:t,getValue:n,property:r}){if(e==null)return;if(typeof e=="object")return Jge(e,t).reduce((o,a)=>{if(a==="base"&&e.base!==void 0){const l=n(e.base,t);return Array.isArray(r)?(r.forEach(c=>{o[c]=l}),o):(o[r]=l,o)}const u=n(e[a],t);return Array.isArray(r)?(o[t.fn.largerThan(a)]={},r.forEach(l=>{o[t.fn.largerThan(a)][l]=u}),o):(o[t.fn.largerThan(a)]={[r]:u},o)},{});const i=n(e,t);return Array.isArray(r)?r.reduce((s,o)=>(s[o]=i,s),{}):{[r]:i}}function e0e(e,t){return e==="dimmed"?t.colorScheme==="dark"?t.colors.dark[2]:t.colors.gray[6]:t.fn.variant({variant:"filled",color:e,primaryFallback:!1}).background}function t0e(e){return e}function n0e(e,t){return t.fn.size({size:e,sizes:t.fontSizes})}const r0e=["-xs","-sm","-md","-lg","-xl"];function i0e(e,t){return r0e.includes(e)?t.fn.size({size:e.replace("-",""),sizes:t.spacing})*-1:t.fn.size({size:e,sizes:t.spacing})}const s0e={color:e0e,default:t0e,fontSize:n0e,spacing:i0e},o0e={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},mx:{type:"spacing",property:["marginRight","marginLeft"]},my:{type:"spacing",property:["marginTop","marginBottom"]},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},px:{type:"spacing",property:["paddingRight","paddingLeft"]},py:{type:"spacing",property:["paddingTop","paddingBottom"]},bg:{type:"color",property:"background"},c:{type:"color",property:"color"},opacity:{type:"default",property:"opacity"},ff:{type:"default",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"default",property:"fontWeight"},lts:{type:"default",property:"letterSpacing"},ta:{type:"default",property:"textAlign"},lh:{type:"default",property:"lineHeight"},fs:{type:"default",property:"fontStyle"},tt:{type:"default",property:"textTransform"},td:{type:"default",property:"textDecoration"},w:{type:"default",property:"width"},miw:{type:"default",property:"minWidth"},maw:{type:"default",property:"maxWidth"},h:{type:"default",property:"height"},mih:{type:"default",property:"minHeight"},mah:{type:"default",property:"maxHeight"},bgsz:{type:"default",property:"background-size"},bgp:{type:"default",property:"background-position"},bgr:{type:"default",property:"background-repeat"},bga:{type:"default",property:"background-attachment"},pos:{type:"default",property:"position"},top:{type:"default",property:"top"},left:{type:"default",property:"left"},bottom:{type:"default",property:"bottom"},right:{type:"default",property:"right"},inset:{type:"default",property:"inset"},display:{type:"default",property:"display"}};var a0e=Object.defineProperty,g5=Object.getOwnPropertySymbols,u0e=Object.prototype.hasOwnProperty,l0e=Object.prototype.propertyIsEnumerable,y5=(e,t,n)=>t in e?a0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_5=(e,t)=>{for(var n in t||(t={}))u0e.call(t,n)&&y5(e,n,t[n]);if(g5)for(var n of g5(t))l0e.call(t,n)&&y5(e,n,t[n]);return e};function S2(e,t,n=o0e){return Object.keys(n).reduce((i,s)=>(s in e&&e[s]!==void 0&&i.push(Zge({value:e[s],getValue:s0e[n[s].type],property:n[s].property,theme:t})),i),[]).reduce((i,s)=>(Object.keys(s).forEach(o=>{typeof s[o]=="object"&&s[o]!==null&&o in i?i[o]=_5(_5({},i[o]),s[o]):i[o]=s[o]}),i),{})}function v5(e,t){return typeof e=="function"?e(t):e}function c0e(e,t,n){const r=ss(),{css:i,cx:s}=xY();return Array.isArray(e)?s(n,i(S2(t,r)),e.map(o=>i(v5(o,r)))):s(n,i(v5(e,r)),i(S2(t,r)))}var f0e=Object.defineProperty,kw=Object.getOwnPropertySymbols,$Y=Object.prototype.hasOwnProperty,LY=Object.prototype.propertyIsEnumerable,b5=(e,t,n)=>t in e?f0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,d0e=(e,t)=>{for(var n in t||(t={}))$Y.call(t,n)&&b5(e,n,t[n]);if(kw)for(var n of kw(t))LY.call(t,n)&&b5(e,n,t[n]);return e},h0e=(e,t)=>{var n={};for(var r in e)$Y.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&kw)for(var r of kw(e))t.indexOf(r)<0&&LY.call(e,r)&&(n[r]=e[r]);return n};const MY=E.forwardRef((e,t)=>{var n=e,{className:r,component:i,style:s,sx:o}=n,a=h0e(n,["className","component","style","sx"]);const{systemStyles:u,rest:l}=ch(a),c=i||"div";return M.createElement(c,d0e({ref:t,className:c0e(o,u,r),style:s},l))});MY.displayName="@mantine/core/Box";const ut=MY;var p0e=Object.defineProperty,m0e=Object.defineProperties,g0e=Object.getOwnPropertyDescriptors,w5=Object.getOwnPropertySymbols,y0e=Object.prototype.hasOwnProperty,_0e=Object.prototype.propertyIsEnumerable,E5=(e,t,n)=>t in e?p0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,T5=(e,t)=>{for(var n in t||(t={}))y0e.call(t,n)&&E5(e,n,t[n]);if(w5)for(var n of w5(t))_0e.call(t,n)&&E5(e,n,t[n]);return e},v0e=(e,t)=>m0e(e,g0e(t)),b0e=lt(e=>({root:v0e(T5(T5({},e.fn.focusStyles()),e.fn.fontStyles()),{cursor:"pointer",border:0,padding:0,appearance:"none",fontSize:e.fontSizes.md,backgroundColor:"transparent",textAlign:"left",color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,textDecoration:"none",boxSizing:"border-box"})}));const w0e=b0e;var E0e=Object.defineProperty,Dw=Object.getOwnPropertySymbols,FY=Object.prototype.hasOwnProperty,BY=Object.prototype.propertyIsEnumerable,S5=(e,t,n)=>t in e?E0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,T0e=(e,t)=>{for(var n in t||(t={}))FY.call(t,n)&&S5(e,n,t[n]);if(Dw)for(var n of Dw(t))BY.call(t,n)&&S5(e,n,t[n]);return e},S0e=(e,t)=>{var n={};for(var r in e)FY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Dw)for(var r of Dw(e))t.indexOf(r)<0&&BY.call(e,r)&&(n[r]=e[r]);return n};const jY=E.forwardRef((e,t)=>{const n=ht("UnstyledButton",{},e),{className:r,component:i="button",unstyled:s}=n,o=S0e(n,["className","component","unstyled"]),{classes:a,cx:u}=w0e(null,{name:"UnstyledButton",unstyled:s});return M.createElement(ut,T0e({component:i,ref:t,className:u(a.root,r),type:i==="button"?"button":void 0},o))});jY.displayName="@mantine/core/UnstyledButton";const hD=jY;var x0e=Object.defineProperty,I0e=Object.defineProperties,A0e=Object.getOwnPropertyDescriptors,x5=Object.getOwnPropertySymbols,C0e=Object.prototype.hasOwnProperty,O0e=Object.prototype.propertyIsEnumerable,I5=(e,t,n)=>t in e?x0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,UY=(e,t)=>{for(var n in t||(t={}))C0e.call(t,n)&&I5(e,n,t[n]);if(x5)for(var n of x5(t))O0e.call(t,n)&&I5(e,n,t[n]);return e},P0e=(e,t)=>I0e(e,A0e(t));const y0={xs:18,sm:22,md:28,lg:34,xl:44};function R0e({variant:e,theme:t,color:n,gradient:r}){const i=t.fn.variant({color:n,variant:e,gradient:r});return e==="gradient"?{border:0,backgroundImage:i.background,color:i.color,"&:hover":t.fn.hover({backgroundSize:"200%"})}:UY({border:`1px solid ${i.border}`,backgroundColor:i.background,color:i.color},t.fn.hover({backgroundColor:i.hover}))}var N0e=lt((e,{color:t,size:n,radius:r,variant:i,gradient:s})=>({root:P0e(UY({},R0e({variant:i,theme:e,color:t,gradient:s})),{position:"relative",height:e.fn.size({size:n,sizes:y0}),minHeight:e.fn.size({size:n,sizes:y0}),width:e.fn.size({size:n,sizes:y0}),minWidth:e.fn.size({size:n,sizes:y0}),borderRadius:e.fn.radius(r),padding:0,lineHeight:1,display:"flex",alignItems:"center",justifyContent:"center","&:active":e.activeStyles,"&:disabled, &[data-disabled]":{color:e.colors.gray[e.colorScheme==="dark"?6:4],cursor:"not-allowed",backgroundColor:i==="transparent"?void 0:e.fn.themeColor("gray",e.colorScheme==="dark"?8:1),borderColor:i==="transparent"?void 0:e.fn.themeColor("gray",e.colorScheme==="dark"?8:1),backgroundImage:"none",pointerEvents:"none","&:active":{transform:"none"}},"&[data-loading]":{pointerEvents:"none","&::before":{content:'""',position:"absolute",top:-1,left:-1,right:-1,bottom:-1,backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.colors.dark[7],.5):"rgba(255, 255, 255, .5)",borderRadius:e.fn.radius(r),cursor:"not-allowed"}}})}));const k0e=N0e;var D0e=Object.defineProperty,$w=Object.getOwnPropertySymbols,VY=Object.prototype.hasOwnProperty,zY=Object.prototype.propertyIsEnumerable,A5=(e,t,n)=>t in e?D0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$0e=(e,t)=>{for(var n in t||(t={}))VY.call(t,n)&&A5(e,n,t[n]);if($w)for(var n of $w(t))zY.call(t,n)&&A5(e,n,t[n]);return e},L0e=(e,t)=>{var n={};for(var r in e)VY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&$w)for(var r of $w(e))t.indexOf(r)<0&&zY.call(e,r)&&(n[r]=e[r]);return n};function M0e(e){var t=e,{size:n,color:r}=t,i=L0e(t,["size","color"]);return M.createElement("svg",$0e({viewBox:"0 0 135 140",xmlns:"http://www.w3.org/2000/svg",fill:r,width:`${n}px`},i),M.createElement("rect",{y:"10",width:"15",height:"120",rx:"6"},M.createElement("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),M.createElement("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),M.createElement("rect",{x:"30",y:"10",width:"15",height:"120",rx:"6"},M.createElement("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),M.createElement("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),M.createElement("rect",{x:"60",width:"15",height:"140",rx:"6"},M.createElement("animate",{attributeName:"height",begin:"0s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),M.createElement("animate",{attributeName:"y",begin:"0s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),M.createElement("rect",{x:"90",y:"10",width:"15",height:"120",rx:"6"},M.createElement("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),M.createElement("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),M.createElement("rect",{x:"120",y:"10",width:"15",height:"120",rx:"6"},M.createElement("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),M.createElement("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})))}var F0e=Object.defineProperty,Lw=Object.getOwnPropertySymbols,HY=Object.prototype.hasOwnProperty,WY=Object.prototype.propertyIsEnumerable,C5=(e,t,n)=>t in e?F0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,B0e=(e,t)=>{for(var n in t||(t={}))HY.call(t,n)&&C5(e,n,t[n]);if(Lw)for(var n of Lw(t))WY.call(t,n)&&C5(e,n,t[n]);return e},j0e=(e,t)=>{var n={};for(var r in e)HY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Lw)for(var r of Lw(e))t.indexOf(r)<0&&WY.call(e,r)&&(n[r]=e[r]);return n};function U0e(e){var t=e,{size:n,color:r}=t,i=j0e(t,["size","color"]);return M.createElement("svg",B0e({width:`${n}px`,height:`${n}px`,viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",stroke:r},i),M.createElement("g",{fill:"none",fillRule:"evenodd"},M.createElement("g",{transform:"translate(2.5 2.5)",strokeWidth:"5"},M.createElement("circle",{strokeOpacity:".5",cx:"16",cy:"16",r:"16"}),M.createElement("path",{d:"M32 16c0-9.94-8.06-16-16-16"},M.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 16 16",to:"360 16 16",dur:"1s",repeatCount:"indefinite"})))))}var V0e=Object.defineProperty,Mw=Object.getOwnPropertySymbols,qY=Object.prototype.hasOwnProperty,YY=Object.prototype.propertyIsEnumerable,O5=(e,t,n)=>t in e?V0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,z0e=(e,t)=>{for(var n in t||(t={}))qY.call(t,n)&&O5(e,n,t[n]);if(Mw)for(var n of Mw(t))YY.call(t,n)&&O5(e,n,t[n]);return e},H0e=(e,t)=>{var n={};for(var r in e)qY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Mw)for(var r of Mw(e))t.indexOf(r)<0&&YY.call(e,r)&&(n[r]=e[r]);return n};function W0e(e){var t=e,{size:n,color:r}=t,i=H0e(t,["size","color"]);return M.createElement("svg",z0e({width:`${n}px`,height:`${n/4}px`,viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",fill:r},i),M.createElement("circle",{cx:"15",cy:"15",r:"15"},M.createElement("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),M.createElement("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})),M.createElement("circle",{cx:"60",cy:"15",r:"9",fillOpacity:"0.3"},M.createElement("animate",{attributeName:"r",from:"9",to:"9",begin:"0s",dur:"0.8s",values:"9;15;9",calcMode:"linear",repeatCount:"indefinite"}),M.createElement("animate",{attributeName:"fill-opacity",from:"0.5",to:"0.5",begin:"0s",dur:"0.8s",values:".5;1;.5",calcMode:"linear",repeatCount:"indefinite"})),M.createElement("circle",{cx:"105",cy:"15",r:"15"},M.createElement("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),M.createElement("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})))}var q0e=Object.defineProperty,Fw=Object.getOwnPropertySymbols,GY=Object.prototype.hasOwnProperty,KY=Object.prototype.propertyIsEnumerable,P5=(e,t,n)=>t in e?q0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Y0e=(e,t)=>{for(var n in t||(t={}))GY.call(t,n)&&P5(e,n,t[n]);if(Fw)for(var n of Fw(t))KY.call(t,n)&&P5(e,n,t[n]);return e},G0e=(e,t)=>{var n={};for(var r in e)GY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Fw)for(var r of Fw(e))t.indexOf(r)<0&&KY.call(e,r)&&(n[r]=e[r]);return n};const hC={bars:M0e,oval:U0e,dots:W0e},K0e={xs:18,sm:22,md:36,lg:44,xl:58},Q0e={size:"md"};function $f(e){const t=ht("Loader",Q0e,e),{size:n,color:r,variant:i}=t,s=G0e(t,["size","color","variant"]),o=ss(),a=i in hC?i:o.loader;return M.createElement(ut,Y0e({role:"presentation",component:hC[a]||hC.bars,size:o.fn.size({size:n,sizes:K0e}),color:o.fn.variant({variant:"filled",primaryFallback:!1,color:r||o.primaryColor}).background},s))}$f.displayName="@mantine/core/Loader";var X0e=Object.defineProperty,Bw=Object.getOwnPropertySymbols,QY=Object.prototype.hasOwnProperty,XY=Object.prototype.propertyIsEnumerable,R5=(e,t,n)=>t in e?X0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,N5=(e,t)=>{for(var n in t||(t={}))QY.call(t,n)&&R5(e,n,t[n]);if(Bw)for(var n of Bw(t))XY.call(t,n)&&R5(e,n,t[n]);return e},J0e=(e,t)=>{var n={};for(var r in e)QY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Bw)for(var r of Bw(e))t.indexOf(r)<0&&XY.call(e,r)&&(n[r]=e[r]);return n};const Z0e={color:"gray",size:"md",variant:"subtle",loading:!1},JY=E.forwardRef((e,t)=>{const n=ht("ActionIcon",Z0e,e),{className:r,color:i,children:s,radius:o,size:a,variant:u,gradient:l,disabled:c,loaderProps:f,loading:d,unstyled:h}=n,p=J0e(n,["className","color","children","radius","size","variant","gradient","disabled","loaderProps","loading","unstyled"]),{classes:g,cx:y,theme:m}=k0e({size:a,radius:o,color:i,variant:u,gradient:l},{name:"ActionIcon",unstyled:h}),_=m.fn.variant({color:i,variant:u}),v=M.createElement($f,N5({color:_.color,size:m.fn.size({size:a,sizes:y0})-12},f));return M.createElement(hD,N5({className:y(g.root,r),ref:t,disabled:c,"data-disabled":c||void 0,"data-loading":d||void 0,unstyled:h},p),d?v:s)});JY.displayName="@mantine/core/ActionIcon";const pD=JY;function ZY(e){const{children:t,target:n,className:r}=ht("Portal",{},e),i=ss(),[s,o]=E.useState(!1),a=E.useRef();return fD(()=>(o(!0),a.current=n?typeof n=="string"?document.querySelector(n):n:document.createElement("div"),n||document.body.appendChild(a.current),()=>{!n&&document.body.removeChild(a.current)}),[n]),s?F_.createPortal(M.createElement("div",{className:r,dir:i.dir},t),a.current):null}ZY.displayName="@mantine/core/Portal";var eye=Object.defineProperty,jw=Object.getOwnPropertySymbols,eG=Object.prototype.hasOwnProperty,tG=Object.prototype.propertyIsEnumerable,k5=(e,t,n)=>t in e?eye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tye=(e,t)=>{for(var n in t||(t={}))eG.call(t,n)&&k5(e,n,t[n]);if(jw)for(var n of jw(t))tG.call(t,n)&&k5(e,n,t[n]);return e},nye=(e,t)=>{var n={};for(var r in e)eG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&jw)for(var r of jw(e))t.indexOf(r)<0&&tG.call(e,r)&&(n[r]=e[r]);return n};function z_(e){var t=e,{withinPortal:n=!0,children:r}=t,i=nye(t,["withinPortal","children"]);return n?M.createElement(ZY,tye({},i),r):M.createElement(M.Fragment,null,r)}z_.displayName="@mantine/core/OptionalPortal";var rye=Object.defineProperty,iye=Object.defineProperties,sye=Object.getOwnPropertyDescriptors,D5=Object.getOwnPropertySymbols,oye=Object.prototype.hasOwnProperty,aye=Object.prototype.propertyIsEnumerable,$5=(e,t,n)=>t in e?rye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pC=(e,t)=>{for(var n in t||(t={}))oye.call(t,n)&&$5(e,n,t[n]);if(D5)for(var n of D5(t))aye.call(t,n)&&$5(e,n,t[n]);return e},L5=(e,t)=>iye(e,sye(t));function uye({variant:e,color:t,theme:n}){if(e==="filled")return{backgroundColor:n.fn.variant({variant:"filled",color:t}).background,color:n.white};if(e==="outline"){const i=n.fn.variant({variant:"outline",color:t});return{color:i.color,borderColor:i.border,backgroundColor:n.colorScheme==="dark"?n.colors.dark[6]:n.white}}const r=n.fn.variant({variant:"light",color:t});return{backgroundColor:r.background,color:r.color}}var lye=lt((e,{color:t,radius:n,variant:r})=>({root:pC(L5(pC({},e.fn.fontStyles()),{position:"relative",overflow:"hidden",padding:`${e.spacing.sm}px ${e.spacing.md}px`,borderRadius:e.fn.radius(n),border:"1px solid transparent"}),uye({variant:r,color:t,theme:e})),wrapper:{display:"flex"},body:{flex:1},title:{boxSizing:"border-box",margin:0,marginBottom:7,display:"flex",alignItems:"center",justifyContent:"space-between",lineHeight:e.lineHeight,fontSize:e.fontSizes.sm,fontWeight:700,"&[data-with-close-button]":{paddingRight:e.spacing.md}},label:{display:"block",overflow:"hidden",textOverflow:"ellipsis"},icon:{lineHeight:1,width:20,height:20,display:"flex",alignItems:"center",justifyContent:"flex-start",marginRight:e.spacing.md,marginTop:1},message:L5(pC({},e.fn.fontStyles()),{lineHeight:e.lineHeight,textOverflow:"ellipsis",overflow:"hidden",fontSize:e.fontSizes.sm,color:r==="filled"?e.white:e.colorScheme==="dark"?r==="light"?e.white:e.colors.dark[0]:e.black}),closeButton:{position:"absolute",top:e.spacing.sm,right:e.spacing.sm,color:"inherit"}}));const cye=lye;var fye=Object.defineProperty,M5=Object.getOwnPropertySymbols,dye=Object.prototype.hasOwnProperty,hye=Object.prototype.propertyIsEnumerable,F5=(e,t,n)=>t in e?fye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pye=(e,t)=>{for(var n in t||(t={}))dye.call(t,n)&&F5(e,n,t[n]);if(M5)for(var n of M5(t))hye.call(t,n)&&F5(e,n,t[n]);return e};function nG(e){return M.createElement("svg",pye({viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),M.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}nG.displayName="@mantine/core/CloseIcon";var mye=Object.defineProperty,Uw=Object.getOwnPropertySymbols,rG=Object.prototype.hasOwnProperty,iG=Object.prototype.propertyIsEnumerable,B5=(e,t,n)=>t in e?mye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gye=(e,t)=>{for(var n in t||(t={}))rG.call(t,n)&&B5(e,n,t[n]);if(Uw)for(var n of Uw(t))iG.call(t,n)&&B5(e,n,t[n]);return e},yye=(e,t)=>{var n={};for(var r in e)rG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Uw)for(var r of Uw(e))t.indexOf(r)<0&&iG.call(e,r)&&(n[r]=e[r]);return n};const _ye={xs:12,sm:14,md:16,lg:20,xl:24},vye={size:"md"},sG=E.forwardRef((e,t)=>{const n=ht("CloseButton",vye,e),{iconSize:r,size:i="md"}=n,s=yye(n,["iconSize","size"]),o=ss(),a=r||o.fn.size({size:i,sizes:_ye});return M.createElement(pD,gye({size:i,ref:t},s),M.createElement(nG,{width:a,height:a}))});sG.displayName="@mantine/core/CloseButton";const Ex=sG;var bye=Object.defineProperty,Vw=Object.getOwnPropertySymbols,oG=Object.prototype.hasOwnProperty,aG=Object.prototype.propertyIsEnumerable,j5=(e,t,n)=>t in e?bye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wye=(e,t)=>{for(var n in t||(t={}))oG.call(t,n)&&j5(e,n,t[n]);if(Vw)for(var n of Vw(t))aG.call(t,n)&&j5(e,n,t[n]);return e},Eye=(e,t)=>{var n={};for(var r in e)oG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Vw)for(var r of Vw(e))t.indexOf(r)<0&&aG.call(e,r)&&(n[r]=e[r]);return n};const Tye={variant:"light"},uG=E.forwardRef((e,t)=>{const n=ht("Alert",Tye,e),{id:r,className:i,title:s,variant:o,children:a,color:u,classNames:l,icon:c,styles:f,onClose:d,radius:h,withCloseButton:p,closeButtonLabel:g,unstyled:y}=n,m=Eye(n,["id","className","title","variant","children","color","classNames","icon","styles","onClose","radius","withCloseButton","closeButtonLabel","unstyled"]),{classes:_,cx:v}=cye({color:u,radius:h,variant:o},{classNames:l,styles:f,unstyled:y,name:"Alert"}),T=zu(r),S=s&&`${T}-title`,w=`${T}-body`;return M.createElement(ut,wye({id:T,role:"alert","aria-labelledby":S,"aria-describedby":w,className:v(_.root,_[o],i),ref:t},m),M.createElement("div",{className:_.wrapper},c&&M.createElement("div",{className:_.icon},c),M.createElement("div",{className:_.body},s&&M.createElement("div",{className:_.title,"data-with-close-button":p||void 0},M.createElement("span",{id:S,className:_.label},s)),p&&M.createElement(Ex,{className:_.closeButton,onClick:d,variant:"transparent",size:16,iconSize:16,"aria-label":g}),M.createElement("div",{id:w,className:_.message},a))))});uG.displayName="@mantine/core/Alert";var Sye=Object.defineProperty,xye=Object.defineProperties,Iye=Object.getOwnPropertyDescriptors,U5=Object.getOwnPropertySymbols,Aye=Object.prototype.hasOwnProperty,Cye=Object.prototype.propertyIsEnumerable,V5=(e,t,n)=>t in e?Sye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u1=(e,t)=>{for(var n in t||(t={}))Aye.call(t,n)&&V5(e,n,t[n]);if(U5)for(var n of U5(t))Cye.call(t,n)&&V5(e,n,t[n]);return e},Oye=(e,t)=>xye(e,Iye(t));function Pye({underline:e,strikethrough:t}){const n=[];return e&&n.push("underline"),t&&n.push("line-through"),n.length>0?n.join(" "):"none"}function Rye({theme:e,color:t,variant:n}){return t==="dimmed"?e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6]:typeof t=="string"&&(t in e.colors||t.split(".")[0]in e.colors)?e.fn.variant({variant:"filled",color:t}).background:n==="link"?e.colors[e.primaryColor][e.colorScheme==="dark"?4:7]:t||"inherit"}function Nye(e){return typeof e=="number"?{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:e,WebkitBoxOrient:"vertical"}:null}var kye=lt((e,{color:t,variant:n,size:r,lineClamp:i,inline:s,inherit:o,underline:a,gradient:u,weight:l,transform:c,align:f,strikethrough:d,italic:h})=>{const p=e.fn.variant({variant:"gradient",gradient:u});return{root:u1(Oye(u1(u1(u1({},e.fn.fontStyles()),e.fn.focusStyles()),Nye(i)),{color:Rye({color:t,theme:e,variant:n}),fontFamily:o?"inherit":e.fontFamily,fontSize:o||r===void 0?"inherit":e.fn.size({size:r,sizes:e.fontSizes}),lineHeight:o?"inherit":s?1:e.lineHeight,textDecoration:Pye({underline:a,strikethrough:d}),WebkitTapHighlightColor:"transparent",fontWeight:o?"inherit":l,textTransform:c,textAlign:f,fontStyle:h?"italic":void 0}),e.fn.hover(n==="link"&&a===void 0?{textDecoration:"underline"}:void 0)),gradient:{backgroundImage:p.background,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"}}});const Dye=kye;var $ye=Object.defineProperty,zw=Object.getOwnPropertySymbols,lG=Object.prototype.hasOwnProperty,cG=Object.prototype.propertyIsEnumerable,z5=(e,t,n)=>t in e?$ye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Lye=(e,t)=>{for(var n in t||(t={}))lG.call(t,n)&&z5(e,n,t[n]);if(zw)for(var n of zw(t))cG.call(t,n)&&z5(e,n,t[n]);return e},Mye=(e,t)=>{var n={};for(var r in e)lG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&zw)for(var r of zw(e))t.indexOf(r)<0&&cG.call(e,r)&&(n[r]=e[r]);return n};const Fye={variant:"text"},fG=E.forwardRef((e,t)=>{const n=ht("Text",Fye,e),{className:r,size:i,weight:s,transform:o,color:a,align:u,variant:l,lineClamp:c,gradient:f,inline:d,inherit:h,underline:p,strikethrough:g,italic:y,classNames:m,styles:_,unstyled:v,span:T}=n,S=Mye(n,["className","size","weight","transform","color","align","variant","lineClamp","gradient","inline","inherit","underline","strikethrough","italic","classNames","styles","unstyled","span"]),{classes:w,cx:x}=Dye({variant:l,color:a,size:i,lineClamp:c,inline:d,inherit:h,underline:p,strikethrough:g,italic:y,weight:s,transform:o,align:u,gradient:f},{unstyled:v,name:"Text"});return M.createElement(ut,Lye({ref:t,className:x(w.root,{[w.gradient]:l==="gradient"},r),component:T?"span":"div"},S))});fG.displayName="@mantine/core/Text";const mt=fG;var Bye=lt(()=>({root:{backgroundColor:"transparent",cursor:"pointer",padding:0,border:0}}));const jye=Bye;var Uye=Object.defineProperty,Hw=Object.getOwnPropertySymbols,dG=Object.prototype.hasOwnProperty,hG=Object.prototype.propertyIsEnumerable,H5=(e,t,n)=>t in e?Uye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,W5=(e,t)=>{for(var n in t||(t={}))dG.call(t,n)&&H5(e,n,t[n]);if(Hw)for(var n of Hw(t))hG.call(t,n)&&H5(e,n,t[n]);return e},Vye=(e,t)=>{var n={};for(var r in e)dG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Hw)for(var r of Hw(e))t.indexOf(r)<0&&hG.call(e,r)&&(n[r]=e[r]);return n};const zye={},pG=E.forwardRef((e,t)=>{const n=ht("Anchor",zye,e),{component:r,className:i,unstyled:s}=n,o=Vye(n,["component","className","unstyled"]),{classes:a,cx:u}=jye(null,{name:"Anchor",unstyled:s}),l=r==="button"?{type:"button"}:null;return M.createElement(mt,W5(W5({component:r||"a",variant:"link",ref:t,className:u(a.root,i)},l),o))});pG.displayName="@mantine/core/Anchor";const mG=pG,gG=E.createContext({}),Hye=gG.Provider;function yG(){return E.useContext(gG)}function Tx(e,t){if(!e)return[];const n=Object.keys(e).filter(r=>r!=="base").map(r=>[t.fn.size({size:r,sizes:t.breakpoints}),e[r]]);return n.sort((r,i)=>r[0]-i[0]),n}var Wye=Object.defineProperty,qye=Object.defineProperties,Yye=Object.getOwnPropertyDescriptors,q5=Object.getOwnPropertySymbols,Gye=Object.prototype.hasOwnProperty,Kye=Object.prototype.propertyIsEnumerable,Y5=(e,t,n)=>t in e?Wye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,l1=(e,t)=>{for(var n in t||(t={}))Gye.call(t,n)&&Y5(e,n,t[n]);if(q5)for(var n of q5(t))Kye.call(t,n)&&Y5(e,n,t[n]);return e},G5=(e,t)=>qye(e,Yye(t)),Qye=lt((e,{height:t,width:n,fixed:r,position:i,hiddenBreakpoint:s,zIndex:o,section:a,withBorder:u})=>{const l=typeof n=="object"&&n!==null?Tx(n,e).reduce((f,[d,h])=>(f[`@media (min-width: ${d}px)`]={width:h,minWidth:h},f),{}):null,c=u?{[a==="navbar"?"borderRight":"borderLeft"]:`1px solid ${e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[2]}`}:{};return{root:G5(l1(l1(G5(l1(l1({},e.fn.fontStyles()),i),{top:(i==null?void 0:i.top)||"var(--mantine-header-height)",bottom:0,zIndex:o,height:t||"calc(100vh - var(--mantine-header-height, 0px) - var(--mantine-footer-height, 0px))",width:(n==null?void 0:n.base)||"100%",position:r?"fixed":"static",boxSizing:"border-box",display:"flex",flexDirection:"column",backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white}),c),l),{"&[data-hidden]":{[`@media (max-width: ${e.fn.size({size:s,sizes:e.breakpoints})-1}px)`]:{display:"none"}}})}});const Xye=Qye;var Jye=Object.defineProperty,Ww=Object.getOwnPropertySymbols,_G=Object.prototype.hasOwnProperty,vG=Object.prototype.propertyIsEnumerable,K5=(e,t,n)=>t in e?Jye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Q5=(e,t)=>{for(var n in t||(t={}))_G.call(t,n)&&K5(e,n,t[n]);if(Ww)for(var n of Ww(t))vG.call(t,n)&&K5(e,n,t[n]);return e},Zye=(e,t)=>{var n={};for(var r in e)_G.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Ww)for(var r of Ww(e))t.indexOf(r)<0&&vG.call(e,r)&&(n[r]=e[r]);return n};const mD=E.forwardRef((e,t)=>{var n=e,{width:r,height:i,fixed:s=!1,position:o,zIndex:a=Oo("app"),hiddenBreakpoint:u="md",hidden:l=!1,withBorder:c=!0,className:f,classNames:d,styles:h,children:p,section:g,__staticSelector:y,unstyled:m}=n,_=Zye(n,["width","height","fixed","position","zIndex","hiddenBreakpoint","hidden","withBorder","className","classNames","styles","children","section","__staticSelector","unstyled"]);const v=yG(),{classes:T,cx:S,theme:w}=Xye({width:r,height:i,fixed:v.fixed||s,position:o,hiddenBreakpoint:u,zIndex:v.zIndex||a,section:g,withBorder:c},{classNames:d,styles:h,name:y,unstyled:m}),x=Tx(r,w).reduce((A,[$,D])=>(A[`@media (min-width: ${$}px)`]={[`--mantine-${g}-width`]:`${D}px`},A),{});return M.createElement(ut,Q5({component:g==="navbar"?"nav":"aside",ref:t,"data-hidden":l||void 0,className:S(T.root,f)},_),p,M.createElement(IY,{styles:()=>({":root":Q5({[`--mantine-${g}-width`]:r!=null&&r.base?`${r.base}px`:"0px"},x)})}))});mD.displayName="@mantine/core/HorizontalSection";var e_e=Object.defineProperty,qw=Object.getOwnPropertySymbols,bG=Object.prototype.hasOwnProperty,wG=Object.prototype.propertyIsEnumerable,X5=(e,t,n)=>t in e?e_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,t_e=(e,t)=>{for(var n in t||(t={}))bG.call(t,n)&&X5(e,n,t[n]);if(qw)for(var n of qw(t))wG.call(t,n)&&X5(e,n,t[n]);return e},n_e=(e,t)=>{var n={};for(var r in e)bG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&qw)for(var r of qw(e))t.indexOf(r)<0&&wG.call(e,r)&&(n[r]=e[r]);return n};const EG=E.forwardRef((e,t)=>{var n=e,{children:r,grow:i=!1,sx:s}=n,o=n_e(n,["children","grow","sx"]);return M.createElement(ut,t_e({ref:t,sx:[{flex:i?1:0,boxSizing:"border-box"},...Hd(s)]},o),r)});EG.displayName="@mantine/core/Section";const TG=EG;var r_e=Object.defineProperty,J5=Object.getOwnPropertySymbols,i_e=Object.prototype.hasOwnProperty,s_e=Object.prototype.propertyIsEnumerable,Z5=(e,t,n)=>t in e?r_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,o_e=(e,t)=>{for(var n in t||(t={}))i_e.call(t,n)&&Z5(e,n,t[n]);if(J5)for(var n of J5(t))s_e.call(t,n)&&Z5(e,n,t[n]);return e};const a_e={fixed:!1,position:{top:0,left:0},zIndex:Oo("app"),hiddenBreakpoint:"md",hidden:!1},W0=E.forwardRef((e,t)=>{const n=ht("Navbar",a_e,e);return M.createElement(mD,o_e({section:"navbar",__staticSelector:"Navbar",ref:t},n))});W0.Section=TG;W0.displayName="@mantine/core/Navbar";var u_e=Object.defineProperty,l_e=Object.defineProperties,c_e=Object.getOwnPropertyDescriptors,eF=Object.getOwnPropertySymbols,f_e=Object.prototype.hasOwnProperty,d_e=Object.prototype.propertyIsEnumerable,tF=(e,t,n)=>t in e?u_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mC=(e,t)=>{for(var n in t||(t={}))f_e.call(t,n)&&tF(e,n,t[n]);if(eF)for(var n of eF(t))d_e.call(t,n)&&tF(e,n,t[n]);return e},nF=(e,t)=>l_e(e,c_e(t)),h_e=lt((e,{height:t,fixed:n,position:r,zIndex:i,borderPosition:s})=>{const o=typeof t=="object"&&t!==null?Tx(t,e).reduce((a,[u,l])=>(a[`@media (min-width: ${u}px)`]={height:l,minHeight:l},a),{}):null;return{root:nF(mC(nF(mC(mC({},e.fn.fontStyles()),r),{zIndex:i,height:typeof t=="object"?(t==null?void 0:t.base)||"100%":t,maxHeight:typeof t=="object"?(t==null?void 0:t.base)||"100%":t,position:n?"fixed":"static",boxSizing:"border-box",backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white}),o),{borderBottom:s==="bottom"?`1px solid ${e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[2]}`:void 0,borderTop:s==="top"?`1px solid ${e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[2]}`:void 0})}});const p_e=h_e;var m_e=Object.defineProperty,Yw=Object.getOwnPropertySymbols,SG=Object.prototype.hasOwnProperty,xG=Object.prototype.propertyIsEnumerable,rF=(e,t,n)=>t in e?m_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,iF=(e,t)=>{for(var n in t||(t={}))SG.call(t,n)&&rF(e,n,t[n]);if(Yw)for(var n of Yw(t))xG.call(t,n)&&rF(e,n,t[n]);return e},g_e=(e,t)=>{var n={};for(var r in e)SG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Yw)for(var r of Yw(e))t.indexOf(r)<0&&xG.call(e,r)&&(n[r]=e[r]);return n};const IG=E.forwardRef((e,t)=>{var n=e,{children:r,className:i,classNames:s,styles:o,height:a,fixed:u=!1,withBorder:l=!0,position:c,zIndex:f=Oo("app"),section:d,unstyled:h,__staticSelector:p}=n,g=g_e(n,["children","className","classNames","styles","height","fixed","withBorder","position","zIndex","section","unstyled","__staticSelector"]);const y=yG(),{classes:m,cx:_,theme:v}=p_e({height:a,fixed:y.fixed||u,position:c,zIndex:y.zIndex||f,borderPosition:l?d==="header"?"bottom":"top":"none"},{name:p,classNames:s,styles:o,unstyled:h}),T=typeof a=="object"&&a!==null?Tx(a,v).reduce((S,[w,x])=>(S[`@media (min-width: ${w}px)`]={[`--mantine-${d}-height`]:`${x}px`},S),{}):null;return M.createElement(ut,iF({component:d==="header"?"header":"footer",className:_(m.root,i),ref:t},g),r,M.createElement(IY,{styles:()=>({":root":iF({[`--mantine-${d}-height`]:typeof a=="object"?`${a==null?void 0:a.base}px`||"100%":`${a}px`},T)})}))});IG.displayName="@mantine/core/VerticalSection";var y_e=Object.defineProperty,__e=Object.defineProperties,v_e=Object.getOwnPropertyDescriptors,sF=Object.getOwnPropertySymbols,b_e=Object.prototype.hasOwnProperty,w_e=Object.prototype.propertyIsEnumerable,oF=(e,t,n)=>t in e?y_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,E_e=(e,t)=>{for(var n in t||(t={}))b_e.call(t,n)&&oF(e,n,t[n]);if(sF)for(var n of sF(t))w_e.call(t,n)&&oF(e,n,t[n]);return e},T_e=(e,t)=>__e(e,v_e(t));const S_e={fixed:!1,position:{top:0,left:0,right:0},zIndex:Oo("app")},AG=E.forwardRef((e,t)=>{const n=ht("Header",S_e,e);return M.createElement(IG,T_e(E_e({section:"header",__staticSelector:"Header"},n),{ref:t}))});AG.displayName="@mantine/core/Header";var x_e=Object.defineProperty,aF=Object.getOwnPropertySymbols,I_e=Object.prototype.hasOwnProperty,A_e=Object.prototype.propertyIsEnumerable,uF=(e,t,n)=>t in e?x_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,C_e=(e,t)=>{for(var n in t||(t={}))I_e.call(t,n)&&uF(e,n,t[n]);if(aF)for(var n of aF(t))A_e.call(t,n)&&uF(e,n,t[n]);return e};const O_e={fixed:!1,position:{top:0,right:0},zIndex:Oo("app"),hiddenBreakpoint:"md",hidden:!1},lp=E.forwardRef((e,t)=>{const n=ht("Aside",O_e,e);return M.createElement(mD,C_e({section:"aside",__staticSelector:"Aside",ref:t},n))});lp.Section=TG;lp.displayName="@mantine/core/Aside";var P_e=Object.defineProperty,lF=Object.getOwnPropertySymbols,R_e=Object.prototype.hasOwnProperty,N_e=Object.prototype.propertyIsEnumerable,cF=(e,t,n)=>t in e?P_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,k_e=(e,t)=>{for(var n in t||(t={}))R_e.call(t,n)&&cF(e,n,t[n]);if(lF)for(var n of lF(t))N_e.call(t,n)&&cF(e,n,t[n]);return e};function D_e(e,t){const n=t.fn.size({size:e.padding,sizes:t.spacing}),r=e.navbarOffsetBreakpoint?t.fn.size({size:e.navbarOffsetBreakpoint,sizes:t.breakpoints}):null,i=e.asideOffsetBreakpoint?t.fn.size({size:e.asideOffsetBreakpoint,sizes:t.breakpoints}):null;return e.fixed?{minHeight:"100vh",paddingTop:`calc(var(--mantine-header-height, 0px) + ${n}px)`,paddingBottom:`calc(var(--mantine-footer-height, 0px) + ${n}px)`,paddingLeft:`calc(var(--mantine-navbar-width, 0px) + ${n}px)`,paddingRight:`calc(var(--mantine-aside-width, 0px) + ${n}px)`,[`@media (max-width: ${r-1}px)`]:{paddingLeft:n},[`@media (max-width: ${i-1}px)`]:{paddingRight:n}}:{padding:n}}var $_e=lt((e,t)=>({root:{boxSizing:"border-box"},body:{display:"flex",boxSizing:"border-box"},main:k_e({flex:1,width:"100vw",boxSizing:"border-box"},D_e(t,e))}));const L_e=$_e;var M_e=Object.defineProperty,Gw=Object.getOwnPropertySymbols,CG=Object.prototype.hasOwnProperty,OG=Object.prototype.propertyIsEnumerable,fF=(e,t,n)=>t in e?M_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,F_e=(e,t)=>{for(var n in t||(t={}))CG.call(t,n)&&fF(e,n,t[n]);if(Gw)for(var n of Gw(t))OG.call(t,n)&&fF(e,n,t[n]);return e},B_e=(e,t)=>{var n={};for(var r in e)CG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Gw)for(var r of Gw(e))t.indexOf(r)<0&&OG.call(e,r)&&(n[r]=e[r]);return n};const j_e={fixed:!0,zIndex:Oo("app"),padding:"md"},PG=E.forwardRef((e,t)=>{const n=ht("AppShell",j_e,e),{children:r,navbar:i,header:s,footer:o,aside:a,fixed:u,zIndex:l,padding:c,navbarOffsetBreakpoint:f,asideOffsetBreakpoint:d,className:h,styles:p,classNames:g,unstyled:y,hidden:m}=n,_=B_e(n,["children","navbar","header","footer","aside","fixed","zIndex","padding","navbarOffsetBreakpoint","asideOffsetBreakpoint","className","styles","classNames","unstyled","hidden"]),{classes:v,cx:T}=L_e({padding:c,fixed:u,navbarOffsetBreakpoint:f,asideOffsetBreakpoint:d},{styles:p,classNames:g,unstyled:y,name:"AppShell"});return m?M.createElement(M.Fragment,null,r):M.createElement(Hye,{value:{fixed:u,zIndex:l}},M.createElement(ut,F_e({className:T(v.root,h),ref:t},_),s,M.createElement("div",{className:v.body},i,M.createElement("main",{className:v.main},r),a),o))});PG.displayName="@mantine/core/AppShell";const c1={xs:1,sm:2,md:3,lg:4,xl:5};function f1(e,t){const n=e.fn.variant({variant:"outline",color:t}).border;return typeof t=="string"&&(t in e.colors||t.split(".")[0]in e.colors)?n:t===void 0?e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]:t}var U_e=lt((e,{size:t,variant:n,color:r})=>({root:{},withLabel:{borderTop:"0 !important"},left:{"&::before":{display:"none"}},right:{"&::after":{display:"none"}},label:{display:"flex",alignItems:"center","&::before":{content:'""',flex:1,height:1,borderTop:`${e.fn.size({size:t,sizes:c1})}px ${n} ${f1(e,r)}`,marginRight:e.spacing.xs},"&::after":{content:'""',flex:1,borderTop:`${e.fn.size({size:t,sizes:c1})}px ${n} ${f1(e,r)}`,marginLeft:e.spacing.xs}},labelDefaultStyles:{color:r==="dark"?e.colors.dark[1]:e.fn.themeColor(r,e.colorScheme==="dark"?5:e.fn.primaryShade(),!1)},horizontal:{border:0,borderTopWidth:e.fn.size({size:t,sizes:c1}),borderTopColor:f1(e,r),borderTopStyle:n,margin:0},vertical:{border:0,alignSelf:"stretch",height:"auto",borderLeftWidth:e.fn.size({size:t,sizes:c1}),borderLeftColor:f1(e,r),borderLeftStyle:n}}));const V_e=U_e;var z_e=Object.defineProperty,H_e=Object.defineProperties,W_e=Object.getOwnPropertyDescriptors,Kw=Object.getOwnPropertySymbols,RG=Object.prototype.hasOwnProperty,NG=Object.prototype.propertyIsEnumerable,dF=(e,t,n)=>t in e?z_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hF=(e,t)=>{for(var n in t||(t={}))RG.call(t,n)&&dF(e,n,t[n]);if(Kw)for(var n of Kw(t))NG.call(t,n)&&dF(e,n,t[n]);return e},q_e=(e,t)=>H_e(e,W_e(t)),Y_e=(e,t)=>{var n={};for(var r in e)RG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Kw)for(var r of Kw(e))t.indexOf(r)<0&&NG.call(e,r)&&(n[r]=e[r]);return n};const G_e={orientation:"horizontal",size:"xs",labelPosition:"left",variant:"solid"},x2=E.forwardRef((e,t)=>{const n=ht("Divider",G_e,e),{className:r,color:i,orientation:s,size:o,label:a,labelPosition:u,labelProps:l,variant:c,styles:f,classNames:d,unstyled:h}=n,p=Y_e(n,["className","color","orientation","size","label","labelPosition","labelProps","variant","styles","classNames","unstyled"]),{classes:g,cx:y}=V_e({color:i,size:o,variant:c},{classNames:d,styles:f,unstyled:h,name:"Divider"}),m=s==="vertical",_=s==="horizontal",v=!!a&&_,T=!(l!=null&&l.color);return M.createElement(ut,hF({ref:t,className:y(g.root,{[g.vertical]:m,[g.horizontal]:_,[g.withLabel]:v},r),role:"separator"},p),v&&M.createElement(mt,q_e(hF({},l),{size:(l==null?void 0:l.size)||"xs",sx:{marginTop:2},className:y(g.label,g[u],{[g.labelDefaultStyles]:T})}),a))});x2.displayName="@mantine/core/Divider";var K_e=Object.defineProperty,Q_e=Object.defineProperties,X_e=Object.getOwnPropertyDescriptors,pF=Object.getOwnPropertySymbols,J_e=Object.prototype.hasOwnProperty,Z_e=Object.prototype.propertyIsEnumerable,mF=(e,t,n)=>t in e?K_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gF=(e,t)=>{for(var n in t||(t={}))J_e.call(t,n)&&mF(e,n,t[n]);if(pF)for(var n of pF(t))Z_e.call(t,n)&&mF(e,n,t[n]);return e},eve=(e,t)=>Q_e(e,X_e(t)),tve=lt((e,{size:t})=>({item:eve(gF({},e.fn.fontStyles()),{boxSizing:"border-box",textAlign:"left",width:"100%",padding:`${e.fn.size({size:t,sizes:e.spacing})/1.5}px ${e.fn.size({size:t,sizes:e.spacing})}px`,cursor:"pointer",fontSize:e.fn.size({size:t,sizes:e.fontSizes}),color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,borderRadius:e.radius.sm,"&[data-hovered]":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[1]},"&[data-selected]":gF({backgroundColor:e.fn.variant({variant:"filled"}).background,color:e.fn.variant({variant:"filled"}).color},e.fn.hover({backgroundColor:e.fn.variant({variant:"filled"}).hover})),"&[data-disabled]":{cursor:"default",color:e.colors.dark[2]}}),nothingFound:{boxSizing:"border-box",color:e.colors.gray[6],paddingTop:e.fn.size({size:t,sizes:e.spacing})/2,paddingBottom:e.fn.size({size:t,sizes:e.spacing})/2,textAlign:"center"},separator:{boxSizing:"border-box",textAlign:"left",width:"100%",padding:`${e.fn.size({size:t,sizes:e.spacing})/1.5}px ${e.fn.size({size:t,sizes:e.spacing})}px`},separatorLabel:{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]}}));const nve=tve;var rve=Object.defineProperty,yF=Object.getOwnPropertySymbols,ive=Object.prototype.hasOwnProperty,sve=Object.prototype.propertyIsEnumerable,_F=(e,t,n)=>t in e?rve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ove=(e,t)=>{for(var n in t||(t={}))ive.call(t,n)&&_F(e,n,t[n]);if(yF)for(var n of yF(t))sve.call(t,n)&&_F(e,n,t[n]);return e};function gD({data:e,hovered:t,classNames:n,styles:r,isItemSelected:i,uuid:s,__staticSelector:o,onItemHover:a,onItemSelect:u,itemsRefs:l,itemComponent:c,size:f,nothingFound:d,creatable:h,createLabel:p,unstyled:g}){const{classes:y}=nve({size:f},{classNames:n,styles:r,unstyled:g,name:o}),m=[],_=[];let v=null;const T=(w,x)=>{const A=typeof i=="function"?i(w.value):!1;return M.createElement(c,ove({key:w.value,className:y.item,"data-disabled":w.disabled||void 0,"data-hovered":!w.disabled&&t===x||void 0,"data-selected":!w.disabled&&A||void 0,onMouseEnter:()=>a(x),id:`${s}-${x}`,role:"option",tabIndex:-1,"aria-selected":t===x,ref:$=>{l&&l.current&&(l.current[w.value]=$)},onMouseDown:w.disabled?null:$=>{$.preventDefault(),u(w)},disabled:w.disabled},w))};let S=null;if(e.forEach((w,x)=>{w.creatable?v=x:w.group?(S!==w.group&&(S=w.group,_.push(M.createElement("div",{className:y.separator,key:`__mantine-divider-${x}`},M.createElement(x2,{classNames:{label:y.separatorLabel},label:w.group})))),_.push(T(w,x))):m.push(T(w,x))}),h){const w=e[v];m.push(M.createElement("div",{key:Gge(),className:y.item,"data-hovered":t===v||void 0,onMouseEnter:()=>a(v),onMouseDown:x=>{x.preventDefault(),u(w)},tabIndex:-1,ref:x=>{l&&l.current&&(l.current[w.value]=x)}},p))}return _.length>0&&m.length>0&&m.unshift(M.createElement("div",{className:y.separator,key:"empty-group-separator"},M.createElement(x2,null))),_.length>0||m.length>0?M.createElement(M.Fragment,null,_,m):M.createElement(mt,{size:f,unstyled:g,className:y.nothingFound},d)}gD.displayName="@mantine/core/SelectItems";var ave=Object.defineProperty,Qw=Object.getOwnPropertySymbols,kG=Object.prototype.hasOwnProperty,DG=Object.prototype.propertyIsEnumerable,vF=(e,t,n)=>t in e?ave(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,uve=(e,t)=>{for(var n in t||(t={}))kG.call(t,n)&&vF(e,n,t[n]);if(Qw)for(var n of Qw(t))DG.call(t,n)&&vF(e,n,t[n]);return e},lve=(e,t)=>{var n={};for(var r in e)kG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Qw)for(var r of Qw(e))t.indexOf(r)<0&&DG.call(e,r)&&(n[r]=e[r]);return n};const yD=E.forwardRef((e,t)=>{var n=e,{label:r,value:i}=n,s=lve(n,["label","value"]);return M.createElement("div",uve({ref:t},s),r||i)});yD.displayName="@mantine/core/DefaultItem";function cve(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function $G(...e){return t=>e.forEach(n=>cve(n,t))}function fh(...e){return E.useCallback($G(...e),e)}const LG=E.forwardRef((e,t)=>{const{children:n,...r}=e,i=E.Children.toArray(n),s=i.find(dve);if(s){const o=s.props.children,a=i.map(u=>u===s?E.Children.count(o)>1?E.Children.only(null):E.isValidElement(o)?o.props.children:null:u);return E.createElement(I2,dr({},r,{ref:t}),E.isValidElement(o)?E.cloneElement(o,void 0,a):null)}return E.createElement(I2,dr({},r,{ref:t}),n)});LG.displayName="Slot";const I2=E.forwardRef((e,t)=>{const{children:n,...r}=e;return E.isValidElement(n)?E.cloneElement(n,{...hve(r,n.props),ref:$G(t,n.ref)}):E.Children.count(n)>1?E.Children.only(null):null});I2.displayName="SlotClone";const fve=({children:e})=>E.createElement(E.Fragment,null,e);function dve(e){return E.isValidElement(e)&&e.type===fve}function hve(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?n[r]=(...a)=>{s==null||s(...a),i==null||i(...a)}:r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}const pve=["a","button","div","h2","h3","img","li","nav","ol","p","span","svg","ul"],H_=pve.reduce((e,t)=>{const n=E.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?LG:t;return E.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),E.createElement(a,dr({},o,{ref:i}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),A2=globalThis!=null&&globalThis.document?E.useLayoutEffect:()=>{};function mve(e,t){return E.useReducer((n,r)=>{const i=t[n][r];return i??n},e)}const W_=e=>{const{present:t,children:n}=e,r=gve(t),i=typeof n=="function"?n({present:r.isPresent}):E.Children.only(n),s=fh(r.ref,i.ref);return typeof n=="function"||r.isPresent?E.cloneElement(i,{ref:s}):null};W_.displayName="Presence";function gve(e){const[t,n]=E.useState(),r=E.useRef({}),i=E.useRef(e),s=E.useRef("none"),o=e?"mounted":"unmounted",[a,u]=mve(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const l=d1(r.current);s.current=a==="mounted"?l:"none"},[a]),A2(()=>{const l=r.current,c=i.current;if(c!==e){const d=s.current,h=d1(l);e?u("MOUNT"):h==="none"||(l==null?void 0:l.display)==="none"?u("UNMOUNT"):u(c&&d!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,u]),A2(()=>{if(t){const l=f=>{const h=d1(r.current).includes(f.animationName);f.target===t&&h&&F_.flushSync(()=>u("ANIMATION_END"))},c=f=>{f.target===t&&(s.current=d1(r.current))};return t.addEventListener("animationstart",c),t.addEventListener("animationcancel",l),t.addEventListener("animationend",l),()=>{t.removeEventListener("animationstart",c),t.removeEventListener("animationcancel",l),t.removeEventListener("animationend",l)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:E.useCallback(l=>{l&&(r.current=getComputedStyle(l)),n(l)},[])}}function d1(e){return(e==null?void 0:e.animationName)||"none"}function yve(e,t=[]){let n=[];function r(s,o){const a=E.createContext(o),u=n.length;n=[...n,o];function l(f){const{scope:d,children:h,...p}=f,g=(d==null?void 0:d[e][u])||a,y=E.useMemo(()=>p,Object.values(p));return E.createElement(g.Provider,{value:y},h)}function c(f,d){const h=(d==null?void 0:d[e][u])||a,p=E.useContext(h);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return l.displayName=s+"Provider",[l,c]}const i=()=>{const s=n.map(o=>E.createContext(o));return function(a){const u=(a==null?void 0:a[e])||s;return E.useMemo(()=>({[`__scope${e}`]:{...a,[e]:u}}),[a,u])}};return i.scopeName=e,[r,_ve(i,...t)]}function _ve(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:u,scopeName:l})=>{const f=u(s)[`__scope${l}`];return{...a,...f}},{});return E.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function id(e){const t=E.useRef(e);return E.useEffect(()=>{t.current=e}),E.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}const vve=E.createContext(void 0);function bve(e){const t=E.useContext(vve);return e||t||"ltr"}function wve(e,[t,n]){return Math.min(n,Math.max(t,e))}function Rd(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function Eve(e,t){return E.useReducer((n,r)=>{const i=t[n][r];return i??n},e)}const MG="ScrollArea",[FG,Llt]=yve(MG),[Tve,ia]=FG(MG),Sve=E.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:s=600,...o}=e,[a,u]=E.useState(null),[l,c]=E.useState(null),[f,d]=E.useState(null),[h,p]=E.useState(null),[g,y]=E.useState(null),[m,_]=E.useState(0),[v,T]=E.useState(0),[S,w]=E.useState(!1),[x,A]=E.useState(!1),$=fh(t,P=>u(P)),D=bve(i);return E.createElement(Tve,{scope:n,type:r,dir:D,scrollHideDelay:s,scrollArea:a,viewport:l,onViewportChange:c,content:f,onContentChange:d,scrollbarX:h,onScrollbarXChange:p,scrollbarXEnabled:S,onScrollbarXEnabledChange:w,scrollbarY:g,onScrollbarYChange:y,scrollbarYEnabled:x,onScrollbarYEnabledChange:A,onCornerWidthChange:_,onCornerHeightChange:T},E.createElement(H_.div,dr({dir:D},o,{ref:$,style:{position:"relative","--radix-scroll-area-corner-width":m+"px","--radix-scroll-area-corner-height":v+"px",...e.style}})))}),xve="ScrollAreaViewport",Ive=E.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,...i}=e,s=ia(xve,n),o=E.useRef(null),a=fh(t,o,s.onViewportChange);return E.createElement(E.Fragment,null,E.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"}}),E.createElement(H_.div,dr({"data-radix-scroll-area-viewport":""},i,{ref:a,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...e.style}}),E.createElement("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"}},r)))}),nc="ScrollAreaScrollbar",Ave=E.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=ia(nc,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=i,a=e.orientation==="horizontal";return E.useEffect(()=>(a?s(!0):o(!0),()=>{a?s(!1):o(!1)}),[a,s,o]),i.type==="hover"?E.createElement(Cve,dr({},r,{ref:t,forceMount:n})):i.type==="scroll"?E.createElement(Ove,dr({},r,{ref:t,forceMount:n})):i.type==="auto"?E.createElement(BG,dr({},r,{ref:t,forceMount:n})):i.type==="always"?E.createElement(_D,dr({},r,{ref:t})):null}),Cve=E.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=ia(nc,e.__scopeScrollArea),[s,o]=E.useState(!1);return E.useEffect(()=>{const a=i.scrollArea;let u=0;if(a){const l=()=>{window.clearTimeout(u),o(!0)},c=()=>{u=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",l),a.addEventListener("pointerleave",c),()=>{window.clearTimeout(u),a.removeEventListener("pointerenter",l),a.removeEventListener("pointerleave",c)}}},[i.scrollArea,i.scrollHideDelay]),E.createElement(W_,{present:n||s},E.createElement(BG,dr({"data-state":s?"visible":"hidden"},r,{ref:t})))}),Ove=E.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=ia(nc,e.__scopeScrollArea),s=e.orientation==="horizontal",o=xx(()=>u("SCROLL_END"),100),[a,u]=Eve("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return E.useEffect(()=>{if(a==="idle"){const l=window.setTimeout(()=>u("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(l)}},[a,i.scrollHideDelay,u]),E.useEffect(()=>{const l=i.viewport,c=s?"scrollLeft":"scrollTop";if(l){let f=l[c];const d=()=>{const h=l[c];f!==h&&(u("SCROLL"),o()),f=h};return l.addEventListener("scroll",d),()=>l.removeEventListener("scroll",d)}},[i.viewport,s,u,o]),E.createElement(W_,{present:n||a!=="hidden"},E.createElement(_D,dr({"data-state":a==="hidden"?"hidden":"visible"},r,{ref:t,onPointerEnter:Rd(e.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:Rd(e.onPointerLeave,()=>u("POINTER_LEAVE"))})))}),BG=E.forwardRef((e,t)=>{const n=ia(nc,e.__scopeScrollArea),{forceMount:r,...i}=e,[s,o]=E.useState(!1),a=e.orientation==="horizontal",u=xx(()=>{if(n.viewport){const l=n.viewport.offsetWidth<n.viewport.scrollWidth,c=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?l:c)}},10);return im(n.viewport,u),im(n.content,u),E.createElement(W_,{present:r||s},E.createElement(_D,dr({"data-state":s?"visible":"hidden"},i,{ref:t})))}),_D=E.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,i=ia(nc,e.__scopeScrollArea),s=E.useRef(null),o=E.useRef(0),[a,u]=E.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),l=zG(a.viewport,a.content),c={...r,sizes:a,onSizesChange:u,hasThumb:l>0&&l<1,onThumbChange:d=>s.current=d,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:d=>o.current=d};function f(d,h){return Mve(d,o.current,a,h)}return n==="horizontal"?E.createElement(Pve,dr({},c,{ref:t,onThumbPositionChange:()=>{if(i.viewport&&s.current){const d=i.viewport.scrollLeft,h=bF(d,a,i.dir);s.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:d=>{i.viewport&&(i.viewport.scrollLeft=d)},onDragScroll:d=>{i.viewport&&(i.viewport.scrollLeft=f(d,i.dir))}})):n==="vertical"?E.createElement(Rve,dr({},c,{ref:t,onThumbPositionChange:()=>{if(i.viewport&&s.current){const d=i.viewport.scrollTop,h=bF(d,a);s.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:d=>{i.viewport&&(i.viewport.scrollTop=d)},onDragScroll:d=>{i.viewport&&(i.viewport.scrollTop=f(d))}})):null}),Pve=E.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,s=ia(nc,e.__scopeScrollArea),[o,a]=E.useState(),u=E.useRef(null),l=fh(t,u,s.onScrollbarXChange);return E.useEffect(()=>{u.current&&a(getComputedStyle(u.current))},[u]),E.createElement(UG,dr({"data-orientation":"horizontal"},i,{ref:l,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Sx(n)+"px",...e.style},onThumbPointerDown:c=>e.onThumbPointerDown(c.x),onDragScroll:c=>e.onDragScroll(c.x),onWheelScroll:(c,f)=>{if(s.viewport){const d=s.viewport.scrollLeft+c.deltaX;e.onWheelScroll(d),WG(d,f)&&c.preventDefault()}},onResize:()=>{u.current&&s.viewport&&o&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:Xw(o.paddingLeft),paddingEnd:Xw(o.paddingRight)}})}}))}),Rve=E.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,s=ia(nc,e.__scopeScrollArea),[o,a]=E.useState(),u=E.useRef(null),l=fh(t,u,s.onScrollbarYChange);return E.useEffect(()=>{u.current&&a(getComputedStyle(u.current))},[u]),E.createElement(UG,dr({"data-orientation":"vertical"},i,{ref:l,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Sx(n)+"px",...e.style},onThumbPointerDown:c=>e.onThumbPointerDown(c.y),onDragScroll:c=>e.onDragScroll(c.y),onWheelScroll:(c,f)=>{if(s.viewport){const d=s.viewport.scrollTop+c.deltaY;e.onWheelScroll(d),WG(d,f)&&c.preventDefault()}},onResize:()=>{u.current&&s.viewport&&o&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:Xw(o.paddingTop),paddingEnd:Xw(o.paddingBottom)}})}}))}),[Nve,jG]=FG(nc),UG=E.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:u,onDragScroll:l,onWheelScroll:c,onResize:f,...d}=e,h=ia(nc,n),[p,g]=E.useState(null),y=fh(t,$=>g($)),m=E.useRef(null),_=E.useRef(""),v=h.viewport,T=r.content-r.viewport,S=id(c),w=id(u),x=xx(f,10);function A($){if(m.current){const D=$.clientX-m.current.left,P=$.clientY-m.current.top;l({x:D,y:P})}}return E.useEffect(()=>{const $=D=>{const P=D.target;(p==null?void 0:p.contains(P))&&S(D,T)};return document.addEventListener("wheel",$,{passive:!1}),()=>document.removeEventListener("wheel",$,{passive:!1})},[v,p,T,S]),E.useEffect(w,[r,w]),im(p,x),im(h.content,x),E.createElement(Nve,{scope:n,scrollbar:p,hasThumb:i,onThumbChange:id(s),onThumbPointerUp:id(o),onThumbPositionChange:w,onThumbPointerDown:id(a)},E.createElement(H_.div,dr({},d,{ref:y,style:{position:"absolute",...d.style},onPointerDown:Rd(e.onPointerDown,$=>{$.button===0&&($.target.setPointerCapture($.pointerId),m.current=p.getBoundingClientRect(),_.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",A($))}),onPointerMove:Rd(e.onPointerMove,A),onPointerUp:Rd(e.onPointerUp,$=>{$.target.releasePointerCapture($.pointerId),document.body.style.webkitUserSelect=_.current,m.current=null})})))}),C2="ScrollAreaThumb",kve=E.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=jG(C2,e.__scopeScrollArea);return E.createElement(W_,{present:n||i.hasThumb},E.createElement(Dve,dr({ref:t},r)))}),Dve=E.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...i}=e,s=ia(C2,n),o=jG(C2,n),{onThumbPositionChange:a}=o,u=fh(t,f=>o.onThumbChange(f)),l=E.useRef(),c=xx(()=>{l.current&&(l.current(),l.current=void 0)},100);return E.useEffect(()=>{const f=s.viewport;if(f){const d=()=>{if(c(),!l.current){const h=Fve(f,a);l.current=h,a()}};return a(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[s.viewport,c,a]),E.createElement(H_.div,dr({"data-state":o.hasThumb?"visible":"hidden"},i,{ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Rd(e.onPointerDownCapture,f=>{const h=f.target.getBoundingClientRect(),p=f.clientX-h.left,g=f.clientY-h.top;o.onThumbPointerDown({x:p,y:g})}),onPointerUp:Rd(e.onPointerUp,o.onThumbPointerUp)}))}),VG="ScrollAreaCorner",$ve=E.forwardRef((e,t)=>{const n=ia(VG,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?E.createElement(Lve,dr({},e,{ref:t})):null}),Lve=E.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,i=ia(VG,n),[s,o]=E.useState(0),[a,u]=E.useState(0),l=!!(s&&a);return im(i.scrollbarX,()=>{var c;const f=((c=i.scrollbarX)===null||c===void 0?void 0:c.offsetHeight)||0;i.onCornerHeightChange(f),u(f)}),im(i.scrollbarY,()=>{var c;const f=((c=i.scrollbarY)===null||c===void 0?void 0:c.offsetWidth)||0;i.onCornerWidthChange(f),o(f)}),l?E.createElement(H_.div,dr({},r,{ref:t,style:{width:s,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}})):null});function Xw(e){return e?parseInt(e,10):0}function zG(e,t){const n=e/t;return isNaN(n)?0:n}function Sx(e){const t=zG(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function Mve(e,t,n,r="ltr"){const i=Sx(n),s=i/2,o=t||s,a=i-o,u=n.scrollbar.paddingStart+o,l=n.scrollbar.size-n.scrollbar.paddingEnd-a,c=n.content-n.viewport,f=r==="ltr"?[0,c]:[c*-1,0];return HG([u,l],f)(e)}function bF(e,t,n="ltr"){const r=Sx(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-i,o=t.content-t.viewport,a=s-r,u=n==="ltr"?[0,o]:[o*-1,0],l=wve(e,u);return HG([0,o],[0,a])(l)}function HG(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function WG(e,t){return e>0&&e<t}const Fve=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function i(){const s={left:e.scrollLeft,top:e.scrollTop},o=n.left!==s.left,a=n.top!==s.top;(o||a)&&t(),n=s,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function xx(e,t){const n=id(e),r=E.useRef(0);return E.useEffect(()=>()=>window.clearTimeout(r.current),[]),E.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function im(e,t){const n=id(t);A2(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}const Bve=Sve,jve=Ive,wF=Ave,EF=kve,Uve=$ve;var Vve=lt((e,{scrollbarSize:t,offsetScrollbars:n,scrollbarHovered:r,hidden:i},s)=>({root:{overflow:"hidden"},viewport:{width:"100%",height:"100%",paddingRight:n?t:void 0,paddingBottom:n?t:void 0},scrollbar:{display:i?"none":"flex",userSelect:"none",touchAction:"none",boxSizing:"border-box",padding:t/5,transition:"background-color 150ms ease, opacity 150ms ease","&:hover":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[8]:e.colors.gray[0],[`& .${s("thumb")}`]:{backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.white,.5):e.fn.rgba(e.black,.5)}},'&[data-orientation="vertical"]':{width:t},'&[data-orientation="horizontal"]':{flexDirection:"column",height:t},'&[data-state="hidden"]':{display:"none",opacity:0}},thumb:{ref:s("thumb"),flex:1,backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.white,.4):e.fn.rgba(e.black,.4),borderRadius:t,position:"relative",transition:"background-color 150ms ease",display:i?"none":void 0,"&::before":{content:'""',position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"100%",height:"100%"}},corner:{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[0],transition:"opacity 150ms ease",opacity:r?1:0,display:i?"none":void 0}}));const zve=Vve;var Hve=Object.defineProperty,Wve=Object.defineProperties,qve=Object.getOwnPropertyDescriptors,Jw=Object.getOwnPropertySymbols,qG=Object.prototype.hasOwnProperty,YG=Object.prototype.propertyIsEnumerable,TF=(e,t,n)=>t in e?Hve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,GG=(e,t)=>{for(var n in t||(t={}))qG.call(t,n)&&TF(e,n,t[n]);if(Jw)for(var n of Jw(t))YG.call(t,n)&&TF(e,n,t[n]);return e},Yve=(e,t)=>Wve(e,qve(t)),KG=(e,t)=>{var n={};for(var r in e)qG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Jw)for(var r of Jw(e))t.indexOf(r)<0&&YG.call(e,r)&&(n[r]=e[r]);return n};const QG={scrollbarSize:12,scrollHideDelay:1e3,type:"hover",offsetScrollbars:!1},Ix=E.forwardRef((e,t)=>{const n=ht("ScrollArea",QG,e),{children:r,className:i,classNames:s,styles:o,scrollbarSize:a,scrollHideDelay:u,type:l,dir:c,offsetScrollbars:f,viewportRef:d,onScrollPositionChange:h,unstyled:p}=n,g=KG(n,["children","className","classNames","styles","scrollbarSize","scrollHideDelay","type","dir","offsetScrollbars","viewportRef","onScrollPositionChange","unstyled"]),[y,m]=E.useState(!1),_=ss(),{classes:v,cx:T}=zve({scrollbarSize:a,offsetScrollbars:f,scrollbarHovered:y,hidden:l==="never"},{name:"ScrollArea",classNames:s,styles:o,unstyled:p});return M.createElement(Bve,{type:l==="never"?"always":l,scrollHideDelay:u,dir:c||_.dir,ref:t,asChild:!0},M.createElement(ut,GG({className:T(v.root,i)},g),M.createElement(jve,{className:v.viewport,ref:d,onScroll:typeof h=="function"?({currentTarget:S})=>h({x:S.scrollLeft,y:S.scrollTop}):void 0},r),M.createElement(wF,{orientation:"horizontal",className:v.scrollbar,forceMount:!0,onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1)},M.createElement(EF,{className:v.thumb})),M.createElement(wF,{orientation:"vertical",className:v.scrollbar,forceMount:!0,onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1)},M.createElement(EF,{className:v.thumb})),M.createElement(Uve,{className:v.corner})))}),XG=E.forwardRef((e,t)=>{const n=ht("ScrollAreaAutosize",QG,e),{maxHeight:r,children:i,classNames:s,styles:o,scrollbarSize:a,scrollHideDelay:u,type:l,dir:c,offsetScrollbars:f,viewportRef:d,onScrollPositionChange:h,unstyled:p,sx:g}=n,y=KG(n,["maxHeight","children","classNames","styles","scrollbarSize","scrollHideDelay","type","dir","offsetScrollbars","viewportRef","onScrollPositionChange","unstyled","sx"]);return M.createElement(ut,Yve(GG({},y),{ref:t,sx:[{display:"flex",maxHeight:r},...Hd(g)]}),M.createElement(ut,{sx:{display:"flex",flexDirection:"column",flex:1}},M.createElement(Ix,{classNames:s,styles:o,scrollHideDelay:u,scrollbarSize:a,type:l,dir:c,offsetScrollbars:f,viewportRef:d,onScrollPositionChange:h,unstyled:p},i)))});XG.displayName="@mantine/core/ScrollAreaAutosize";Ix.displayName="@mantine/core/ScrollArea";Ix.Autosize=XG;const _0=Ix;var Gve=Object.defineProperty,Kve=Object.defineProperties,Qve=Object.getOwnPropertyDescriptors,Zw=Object.getOwnPropertySymbols,JG=Object.prototype.hasOwnProperty,ZG=Object.prototype.propertyIsEnumerable,SF=(e,t,n)=>t in e?Gve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xF=(e,t)=>{for(var n in t||(t={}))JG.call(t,n)&&SF(e,n,t[n]);if(Zw)for(var n of Zw(t))ZG.call(t,n)&&SF(e,n,t[n]);return e},Xve=(e,t)=>Kve(e,Qve(t)),Jve=(e,t)=>{var n={};for(var r in e)JG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Zw)for(var r of Zw(e))t.indexOf(r)<0&&ZG.call(e,r)&&(n[r]=e[r]);return n};const Ax=E.forwardRef((e,t)=>{var n=e,{style:r}=n,i=Jve(n,["style"]);return M.createElement(_0,Xve(xF({},i),{style:xF({width:"100%"},r),viewportRef:t}),i.children)});Ax.displayName="@mantine/core/SelectScrollArea";var Zve=lt(()=>({dropdown:{},itemsWrapper:{padding:4,display:"flex",width:"100%",boxSizing:"border-box"}}));const e1e=Zve;function $l(e){return e.split("-")[0]}function q_(e){return e.split("-")[1]}function dh(e){return["top","bottom"].includes($l(e))?"x":"y"}function vD(e){return e==="y"?"height":"width"}function IF(e,t,n){let{reference:r,floating:i}=e;const s=r.x+r.width/2-i.width/2,o=r.y+r.height/2-i.height/2,a=dh(t),u=vD(a),l=r[u]/2-i[u]/2,c=a==="x";let f;switch($l(t)){case"top":f={x:s,y:r.y-i.height};break;case"bottom":f={x:s,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:o};break;case"left":f={x:r.x-i.width,y:o};break;default:f={x:r.x,y:r.y}}switch(q_(t)){case"start":f[a]-=l*(n&&c?-1:1);break;case"end":f[a]+=l*(n&&c?-1:1)}return f}const t1e=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(t));let l=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:c,y:f}=IF(l,r,u),d=r,h={},p=0;for(let g=0;g<a.length;g++){const{name:y,fn:m}=a[g],{x:_,y:v,data:T,reset:S}=await m({x:c,y:f,initialPlacement:r,placement:d,strategy:i,middlewareData:h,rects:l,platform:o,elements:{reference:e,floating:t}});c=_??c,f=v??f,h={...h,[y]:{...h[y],...T}},S&&p<=50&&(p++,typeof S=="object"&&(S.placement&&(d=S.placement),S.rects&&(l=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):S.rects),{x:c,y:f}=IF(l,d,u)),g=-1)}return{x:c,y:f,placement:d,strategy:i,middlewareData:h}};function bD(e){return typeof e!="number"?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(e):{top:e,right:e,bottom:e,left:e}}function jy(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function wD(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:u}=e,{boundary:l="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:d=!1,padding:h=0}=t,p=bD(h),g=a[d?f==="floating"?"reference":"floating":f],y=jy(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(g)))==null||n?g:g.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:l,rootBoundary:c,strategy:u})),m=jy(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({rect:f==="floating"?{...o.floating,x:r,y:i}:o.reference,offsetParent:await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),strategy:u}):o[f]);return{top:y.top-m.top+p.top,bottom:m.bottom-y.bottom+p.bottom,left:y.left-m.left+p.left,right:m.right-y.right+p.right}}const eK=Math.min,Tc=Math.max;function O2(e,t,n){return Tc(e,eK(t,n))}const AF=e=>({name:"arrow",options:e,async fn(t){const{element:n,padding:r=0}=e??{},{x:i,y:s,placement:o,rects:a,platform:u}=t;if(n==null)return{};const l=bD(r),c={x:i,y:s},f=dh(o),d=q_(o),h=vD(f),p=await u.getDimensions(n),g=f==="y"?"top":"left",y=f==="y"?"bottom":"right",m=a.reference[h]+a.reference[f]-c[f]-a.floating[h],_=c[f]-a.reference[f],v=await(u.getOffsetParent==null?void 0:u.getOffsetParent(n));let T=v?f==="y"?v.clientHeight||0:v.clientWidth||0:0;T===0&&(T=a.floating[h]);const S=m/2-_/2,w=l[g],x=T-p[h]-l[y],A=T/2-p[h]/2+S,$=O2(w,A,x),D=(d==="start"?l[g]:l[y])>0&&A!==$&&a.reference[h]<=a.floating[h];return{[f]:c[f]-(D?A<w?w-A:x-A:0),data:{[f]:$,centerOffset:A-$}}}}),n1e={left:"right",right:"left",bottom:"top",top:"bottom"};function eE(e){return e.replace(/left|right|bottom|top/g,t=>n1e[t])}function r1e(e,t,n){n===void 0&&(n=!1);const r=q_(e),i=dh(e),s=vD(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=eE(o)),{main:o,cross:eE(o)}}const i1e={start:"end",end:"start"};function CF(e){return e.replace(/start|end/g,t=>i1e[t])}const s1e=["top","right","bottom","left"];s1e.reduce((e,t)=>e.concat(t,t+"-start",t+"-end"),[]);const tK=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n;const{placement:r,middlewareData:i,rects:s,initialPlacement:o,platform:a,elements:u}=t,{mainAxis:l=!0,crossAxis:c=!0,fallbackPlacements:f,fallbackStrategy:d="bestFit",flipAlignment:h=!0,...p}=e,g=$l(r),y=f||(g===o||!h?[eE(o)]:function(A){const $=eE(A);return[CF(A),$,CF($)]}(o)),m=[o,...y],_=await wD(t,p),v=[];let T=((n=i.flip)==null?void 0:n.overflows)||[];if(l&&v.push(_[g]),c){const{main:A,cross:$}=r1e(r,s,await(a.isRTL==null?void 0:a.isRTL(u.floating)));v.push(_[A],_[$])}if(T=[...T,{placement:r,overflows:v}],!v.every(A=>A<=0)){var S,w;const A=((S=(w=i.flip)==null?void 0:w.index)!=null?S:0)+1,$=m[A];if($)return{data:{index:A,overflows:T},reset:{placement:$}};let D="bottom";switch(d){case"bestFit":{var x;const P=(x=T.map(q=>[q,q.overflows.filter(V=>V>0).reduce((V,U)=>V+U,0)]).sort((q,V)=>q[1]-V[1])[0])==null?void 0:x[0].placement;P&&(D=P);break}case"initialPlacement":D=o}if(r!==D)return{reset:{placement:D}}}return{}}}},nK=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:r}=t,i=await async function(s,o){const{placement:a,platform:u,elements:l}=s,c=await(u.isRTL==null?void 0:u.isRTL(l.floating)),f=$l(a),d=q_(a),h=dh(a)==="x",p=["left","top"].includes(f)?-1:1,g=c&&h?-1:1,y=typeof o=="function"?o(s):o;let{mainAxis:m,crossAxis:_,alignmentAxis:v}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...y};return d&&typeof v=="number"&&(_=d==="end"?-1*v:v),h?{x:_*g,y:m*p}:{x:m*p,y:_*g}}(t,e);return{x:n+i.x,y:r+i.y,data:i}}}};function rK(e){return e==="x"?"y":"x"}const ED=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x:m,y:_}=y;return{x:m,y:_}}},...u}=e,l={x:n,y:r},c=await wD(t,u),f=dh($l(i)),d=rK(f);let h=l[f],p=l[d];if(s){const y=f==="y"?"bottom":"right";h=O2(h+c[f==="y"?"top":"left"],h,h-c[y])}if(o){const y=d==="y"?"bottom":"right";p=O2(p+c[d==="y"?"top":"left"],p,p-c[y])}const g=a.fn({...t,[f]:h,[d]:p});return{...g,data:{x:g.x-n,y:g.y-r}}}}},o1e=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=t,{offset:a=0,mainAxis:u=!0,crossAxis:l=!0}=e,c={x:n,y:r},f=dh(i),d=rK(f);let h=c[f],p=c[d];const g=typeof a=="function"?a(t):a,y=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(u){const S=f==="y"?"height":"width",w=s.reference[f]-s.floating[S]+y.mainAxis,x=s.reference[f]+s.reference[S]-y.mainAxis;h<w?h=w:h>x&&(h=x)}if(l){var m,_,v,T;const S=f==="y"?"width":"height",w=["top","left"].includes($l(i)),x=s.reference[d]-s.floating[S]+(w&&(m=(_=o.offset)==null?void 0:_[d])!=null?m:0)+(w?0:y.crossAxis),A=s.reference[d]+s.reference[S]+(w?0:(v=(T=o.offset)==null?void 0:T[d])!=null?v:0)-(w?y.crossAxis:0);p<x?p=x:p>A&&(p=A)}return{[f]:h,[d]:p}}}},a1e=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:i,elements:s}=t,{apply:o=()=>{},...a}=e,u=await wD(t,a),l=$l(n),c=q_(n);let f,d;l==="top"||l==="bottom"?(f=l,d=c===(await(i.isRTL==null?void 0:i.isRTL(s.floating))?"start":"end")?"left":"right"):(d=l,f=c==="end"?"top":"bottom");const h=Tc(u.left,0),p=Tc(u.right,0),g=Tc(u.top,0),y=Tc(u.bottom,0),m={availableHeight:r.floating.height-(["left","right"].includes(n)?2*(g!==0||y!==0?g+y:Tc(u.top,u.bottom)):u[f]),availableWidth:r.floating.width-(["top","bottom"].includes(n)?2*(h!==0||p!==0?h+p:Tc(u.left,u.right)):u[d])};await o({...t,...m});const _=await i.getDimensions(s.floating);return r.floating.width!==_.width||r.floating.height!==_.height?{reset:{rects:!0}}:{}}}},iK=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){var n;const{placement:r,elements:i,rects:s,platform:o,strategy:a}=t,{padding:u=2,x:l,y:c}=e,f=jy(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({rect:s.reference,offsetParent:await(o.getOffsetParent==null?void 0:o.getOffsetParent(i.floating)),strategy:a}):s.reference),d=(n=await(o.getClientRects==null?void 0:o.getClientRects(i.reference)))!=null?n:[],h=bD(u),p=await o.getElementRects({reference:{getBoundingClientRect:function(){var g;if(d.length===2&&d[0].left>d[1].right&&l!=null&&c!=null)return(g=d.find(y=>l>y.left-h.left&&l<y.right+h.right&&c>y.top-h.top&&c<y.bottom+h.bottom))!=null?g:f;if(d.length>=2){if(dh(r)==="x"){const w=d[0],x=d[d.length-1],A=$l(r)==="top",$=w.top,D=x.bottom,P=A?w.left:x.left,q=A?w.right:x.right;return{top:$,bottom:D,left:P,right:q,width:q-P,height:D-$,x:P,y:$}}const y=$l(r)==="left",m=Tc(...d.map(w=>w.right)),_=eK(...d.map(w=>w.left)),v=d.filter(w=>y?w.left===_:w.right===m),T=v[0].top,S=v[v.length-1].bottom;return{top:T,bottom:S,left:_,right:m,width:m-_,height:S-T,x:_,y:T}}return f}},floating:i.floating,strategy:a});return s.reference.x!==p.reference.x||s.reference.y!==p.reference.y||s.reference.width!==p.reference.width||s.reference.height!==p.reference.height?{reset:{rects:p}}:{}}}};function sK(e){return e&&e.document&&e.location&&e.alert&&e.setInterval}function rc(e){if(e==null)return window;if(!sK(e)){const t=e.ownerDocument;return t&&t.defaultView||window}return e}function df(e){return rc(e).getComputedStyle(e)}function hf(e){return sK(e)?"":e?(e.nodeName||"").toLowerCase():""}function oK(){const e=navigator.userAgentData;return e!=null&&e.brands?e.brands.map(t=>t.brand+"/"+t.version).join(" "):navigator.userAgent}function Ll(e){return e instanceof rc(e).HTMLElement}function Tl(e){return e instanceof rc(e).Element}function OF(e){return typeof ShadowRoot>"u"?!1:e instanceof rc(e).ShadowRoot||e instanceof ShadowRoot}function Cx(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=df(e);return/auto|scroll|overlay|hidden/.test(t+r+n)&&!["inline","contents"].includes(i)}function u1e(e){return["table","td","th"].includes(hf(e))}function P2(e){const t=/firefox/i.test(oK()),n=df(e),r=n.backdropFilter||n.WebkitBackdropFilter;return n.transform!=="none"||n.perspective!=="none"||!!r&&r!=="none"||t&&n.willChange==="filter"||t&&!!n.filter&&n.filter!=="none"||["transform","perspective"].some(i=>n.willChange.includes(i))||["paint","layout","strict","content"].some(i=>{const s=n.contain;return s!=null&&s.includes(i)})}function aK(){return!/^((?!chrome|android).)*safari/i.test(oK())}function TD(e){return["html","body","#document"].includes(hf(e))}const PF=Math.min,q0=Math.max,tE=Math.round;function Sl(e,t,n){var r,i,s,o;t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect();let u=1,l=1;t&&Ll(e)&&(u=e.offsetWidth>0&&tE(a.width)/e.offsetWidth||1,l=e.offsetHeight>0&&tE(a.height)/e.offsetHeight||1);const c=Tl(e)?rc(e):window,f=!aK()&&n,d=(a.left+(f&&(r=(i=c.visualViewport)==null?void 0:i.offsetLeft)!=null?r:0))/u,h=(a.top+(f&&(s=(o=c.visualViewport)==null?void 0:o.offsetTop)!=null?s:0))/l,p=a.width/u,g=a.height/l;return{width:p,height:g,top:h,right:d+p,bottom:h+g,left:d,x:d,y:h}}function Jc(e){return(t=e,(t instanceof rc(t).Node?e.ownerDocument:e.document)||window.document).documentElement;var t}function Ox(e){return Tl(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function uK(e){return Sl(Jc(e)).left+Ox(e).scrollLeft}function l1e(e,t,n){const r=Ll(t),i=Jc(t),s=Sl(e,r&&function(u){const l=Sl(u);return tE(l.width)!==u.offsetWidth||tE(l.height)!==u.offsetHeight}(t),n==="fixed");let o={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if(r||!r&&n!=="fixed")if((hf(t)!=="body"||Cx(i))&&(o=Ox(t)),Ll(t)){const u=Sl(t,!0);a.x=u.x+t.clientLeft,a.y=u.y+t.clientTop}else i&&(a.x=uK(i));return{x:s.left+o.scrollLeft-a.x,y:s.top+o.scrollTop-a.y,width:s.width,height:s.height}}function nE(e){if(hf(e)==="html")return e;const t=e.assignedSlot||e.parentNode||(OF(e)?e.host:null)||Jc(e);return OF(t)?t.host:t}function RF(e){return Ll(e)&&df(e).position!=="fixed"?e.offsetParent:null}function NF(e){const t=rc(e);let n=RF(e);for(;n&&u1e(n)&&df(n).position==="static";)n=RF(n);return n&&(hf(n)==="html"||hf(n)==="body"&&df(n).position==="static"&&!P2(n))?t:n||function(r){let i=nE(r);for(;Ll(i)&&!TD(i);){if(P2(i))return i;i=nE(i)}return null}(e)||t}function kF(e){if(Ll(e))return{width:e.offsetWidth,height:e.offsetHeight};const t=Sl(e);return{width:t.width,height:t.height}}function lK(e){const t=nE(e);return TD(t)?e.ownerDocument.body:Ll(t)&&Cx(t)?t:lK(t)}function xl(e,t){var n;t===void 0&&(t=[]);const r=lK(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),s=rc(r),o=i?[s].concat(s.visualViewport||[],Cx(r)?r:[]):r,a=t.concat(o);return i?a:a.concat(xl(o))}function DF(e,t,n){return t==="viewport"?jy(function(r,i){const s=rc(r),o=Jc(r),a=s.visualViewport;let u=o.clientWidth,l=o.clientHeight,c=0,f=0;if(a){u=a.width,l=a.height;const d=aK();(d||!d&&i==="fixed")&&(c=a.offsetLeft,f=a.offsetTop)}return{width:u,height:l,x:c,y:f}}(e,n)):Tl(t)?function(r,i){const s=Sl(r,!1,i==="fixed"),o=s.top+r.clientTop,a=s.left+r.clientLeft;return{top:o,left:a,x:a,y:o,right:a+r.clientWidth,bottom:o+r.clientHeight,width:r.clientWidth,height:r.clientHeight}}(t,n):jy(function(r){var i;const s=Jc(r),o=Ox(r),a=(i=r.ownerDocument)==null?void 0:i.body,u=q0(s.scrollWidth,s.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),l=q0(s.scrollHeight,s.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0);let c=-o.scrollLeft+uK(r);const f=-o.scrollTop;return df(a||s).direction==="rtl"&&(c+=q0(s.clientWidth,a?a.clientWidth:0)-u),{width:u,height:l,x:c,y:f}}(Jc(e)))}const c1e={getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const s=n==="clippingAncestors"?function(l){let c=xl(l).filter(h=>Tl(h)&&hf(h)!=="body"),f=l,d=null;for(;Tl(f)&&!TD(f);){const h=df(f);h.position==="static"&&d&&["absolute","fixed"].includes(d.position)&&!P2(f)?c=c.filter(p=>p!==f):d=h,f=nE(f)}return c}(t):[].concat(n),o=[...s,r],a=o[0],u=o.reduce((l,c)=>{const f=DF(t,c,i);return l.top=q0(f.top,l.top),l.right=PF(f.right,l.right),l.bottom=PF(f.bottom,l.bottom),l.left=q0(f.left,l.left),l},DF(t,a,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{rect:t,offsetParent:n,strategy:r}=e;const i=Ll(n),s=Jc(n);if(n===s)return t;let o={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if((i||!i&&r!=="fixed")&&((hf(n)!=="body"||Cx(s))&&(o=Ox(n)),Ll(n))){const u=Sl(n,!0);a.x=u.x+n.clientLeft,a.y=u.y+n.clientTop}return{...t,x:t.x-o.scrollLeft+a.x,y:t.y-o.scrollTop+a.y}},isElement:Tl,getDimensions:kF,getOffsetParent:NF,getDocumentElement:Jc,getElementRects:e=>{let{reference:t,floating:n,strategy:r}=e;return{reference:l1e(t,NF(n),r),floating:{...kF(n),x:0,y:0}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>df(e).direction==="rtl"};function f1e(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=!0,animationFrame:a=!1}=r,u=i&&!a,l=u||s?[...Tl(e)?xl(e):e.contextElement?xl(e.contextElement):[],...xl(t)]:[];l.forEach(h=>{u&&h.addEventListener("scroll",n,{passive:!0}),s&&h.addEventListener("resize",n)});let c,f=null;if(o){let h=!0;f=new ResizeObserver(()=>{h||n(),h=!1}),Tl(e)&&!a&&f.observe(e),Tl(e)||!e.contextElement||a||f.observe(e.contextElement),f.observe(t)}let d=a?Sl(e):null;return a&&function h(){const p=Sl(e);!d||p.x===d.x&&p.y===d.y&&p.width===d.width&&p.height===d.height||n(),d=p,c=requestAnimationFrame(h)}(),n(),()=>{var h;l.forEach(p=>{u&&p.removeEventListener("scroll",n),s&&p.removeEventListener("resize",n)}),(h=f)==null||h.disconnect(),f=null,a&&cancelAnimationFrame(c)}}const d1e=(e,t,n)=>t1e(e,t,{platform:c1e,...n});var R2=typeof document<"u"?E.useLayoutEffect:E.useEffect;function rE(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!rE(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&e.$$typeof)&&!rE(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function h1e(e){const t=E.useRef(e);return R2(()=>{t.current=e}),t}function p1e(e){let{middleware:t=[],placement:n="bottom",strategy:r="absolute",whileElementsMounted:i}=e===void 0?{}:e;const[s,o]=E.useState({x:null,y:null,strategy:r,placement:n,middlewareData:{}}),[a,u]=E.useState(t);rE(a,t)||u(t);const l=E.useRef(null),c=E.useRef(null),f=E.useRef(null),d=E.useRef(s),h=h1e(i),p=E.useCallback(()=>{!l.current||!c.current||d1e(l.current,c.current,{middleware:a,placement:n,strategy:r}).then(T=>{g.current&&!rE(d.current,T)&&(d.current=T,F_.flushSync(()=>{o(T)}))})},[a,n,r]);R2(()=>{g.current&&p()},[p]);const g=E.useRef(!1);R2(()=>(g.current=!0,()=>{g.current=!1}),[]);const y=E.useCallback(()=>{if(typeof f.current=="function"&&(f.current(),f.current=null),l.current&&c.current)if(h.current){const T=h.current(l.current,c.current,p);f.current=T}else p()},[p,h]),m=E.useCallback(T=>{l.current=T,y()},[y]),_=E.useCallback(T=>{c.current=T,y()},[y]),v=E.useMemo(()=>({reference:l,floating:c}),[]);return E.useMemo(()=>({...s,update:p,refs:v,reference:m,floating:_}),[s,p,v,m,_])}const cK=e=>{const{element:t,padding:n}=e;function r(i){return Object.prototype.hasOwnProperty.call(i,"current")}return{name:"arrow",options:e,fn(i){return r(t)?t.current!=null?AF({element:t.current,padding:n}).fn(i):{}:t?AF({element:t,padding:n}).fn(i):{}}}};var sm=typeof document<"u"?E.useLayoutEffect:E.useEffect;function m1e(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(i=>i(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){e.set(t,(e.get(t)||[]).filter(r=>r!==n))}}}let gC=!1,g1e=0;const $F=()=>"floating-ui-"+g1e++;function y1e(){const[e,t]=E.useState(()=>gC?$F():void 0);return sm(()=>{e==null&&t($F())},[]),E.useEffect(()=>{gC||(gC=!0)},[]),e}const LF=Fd.useId,MF=LF??y1e,_1e=E.createContext(null),v1e=E.createContext(null),fK=()=>{var e,t;return(e=(t=E.useContext(_1e))==null?void 0:t.id)!=null?e:null},SD=()=>E.useContext(v1e);function Oc(e){var t;return(t=e==null?void 0:e.ownerDocument)!=null?t:document}function dK(e){var t;return(t=Oc(e).defaultView)!=null?t:window}function md(e){return e?e instanceof dK(e).Element:!1}function b1e(e){return e?e instanceof dK(e).HTMLElement:!1}const FF=Fd.useInsertionEffect;function w1e(e){const t=E.useRef(()=>{});return FF?FF(()=>{t.current=e}):t.current=e,E.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function xD(e){let{open:t=!1,onOpenChange:n,whileElementsMounted:r,placement:i,middleware:s,strategy:o,nodeId:a}=e===void 0?{}:e;const[u,l]=E.useState(null),c=SD(),f=E.useRef(null),d=E.useRef({}),h=E.useState(()=>m1e())[0],p=p1e({placement:i,middleware:s,strategy:o,whileElementsMounted:r}),g=w1e(n),y=E.useMemo(()=>({...p.refs,domReference:f}),[p.refs]),m=E.useMemo(()=>({...p,refs:y,dataRef:d,nodeId:a,events:h,open:t,onOpenChange:g,_:{domReference:u}}),[p,a,h,t,g,y,u]);sm(()=>{const T=c==null?void 0:c.nodesRef.current.find(S=>S.id===a);T&&(T.context=m)});const{reference:_}=p,v=E.useCallback(T=>{(md(T)||T===null)&&(m.refs.domReference.current=T,l(T)),_(T)},[_,m.refs]);return E.useMemo(()=>({...p,context:m,refs:y,reference:v}),[p,y,m,v])}function yC(e,t,n){const r=new Map;return{...n==="floating"&&{tabIndex:-1},...e,...t.map(i=>i?i[n]:null).concat(e).reduce((i,s)=>(s&&Object.entries(s).forEach(o=>{let[a,u]=o;if(a.indexOf("on")===0){if(r.has(a)||r.set(a,[]),typeof u=="function"){var l;(l=r.get(a))==null||l.push(u),i[a]=function(){for(var c,f=arguments.length,d=new Array(f),h=0;h<f;h++)d[h]=arguments[h];(c=r.get(a))==null||c.forEach(p=>p(...d))}}}else i[a]=u}),i),{})}}const E1e=function(e){e===void 0&&(e=[]);const t=e,n=E.useCallback(s=>yC(s,e,"reference"),t),r=E.useCallback(s=>yC(s,e,"floating"),t),i=E.useCallback(s=>yC(s,e,"item"),t);return E.useMemo(()=>({getReferenceProps:n,getFloatingProps:r,getItemProps:i}),[n,r,i])};function _C(e,t){var n;let r=(n=e.filter(o=>{var a;return o.parentId===t&&((a=o.context)==null?void 0:a.open)}))!=null?n:[],i=r;for(;i.length;){var s;i=(s=e.filter(o=>{var a;return(a=i)==null?void 0:a.some(u=>{var l;return o.parentId===u.id&&((l=o.context)==null?void 0:l.open)})}))!=null?s:[],r=r.concat(i)}return r}function T1e(e){return"composedPath"in e?e.composedPath()[0]:e.target}function BF(e){const t=E.useRef(e);return sm(()=>{t.current=e}),t}function S1e(e){const t=E.useRef();return sm(()=>{t.current=e},[e]),t.current}function Sb(e,t,n){return n&&n!=="mouse"?0:typeof e=="number"?e:e==null?void 0:e[t]}const x1e=function(e,t){let{enabled:n=!0,delay:r=0,handleClose:i=null,mouseOnly:s=!1,restMs:o=0,move:a=!0}=t===void 0?{}:t;const{open:u,onOpenChange:l,dataRef:c,events:f,refs:d,_:h}=e,p=SD(),g=fK(),y=BF(i),m=BF(r),_=S1e(u),v=E.useRef(),T=E.useRef(),S=E.useRef(),w=E.useRef(),x=E.useRef(!0),A=E.useRef(!1),$=E.useCallback(()=>{var V;const U=(V=c.current.openEvent)==null?void 0:V.type;return(U==null?void 0:U.includes("mouse"))&&U!=="mousedown"},[c]);E.useEffect(()=>{if(!n)return;function V(){clearTimeout(T.current),clearTimeout(w.current),x.current=!0}return f.on("dismiss",V),()=>{f.off("dismiss",V)}},[n,f,d]),E.useEffect(()=>{if(!n||!y.current)return;function V(){$()&&l(!1)}const U=Oc(d.floating.current).documentElement;return U.addEventListener("mouseleave",V),()=>{U.removeEventListener("mouseleave",V)}},[d,l,n,y,c,$]);const D=E.useCallback(function(V){V===void 0&&(V=!0);const U=Sb(m.current,"close",v.current);U&&!S.current?(clearTimeout(T.current),T.current=setTimeout(()=>l(!1),U)):V&&(clearTimeout(T.current),l(!1))},[m,l]),P=E.useCallback(()=>{S.current&&(Oc(d.floating.current).removeEventListener("pointermove",S.current),S.current=void 0)},[d]),q=E.useCallback(()=>{Oc(d.floating.current).body.style.pointerEvents="",A.current=!1},[d]);return E.useEffect(()=>{if(!n)return;function V(){return c.current.openEvent?["click","mousedown"].includes(c.current.openEvent.type):!1}function U(ie){if(clearTimeout(T.current),x.current=!1,s&&v.current!=="mouse"||o>0&&Sb(m.current,"open")===0)return;c.current.openEvent=ie;const K=Sb(m.current,"open",v.current);K?T.current=setTimeout(()=>{l(!0)},K):l(!0)}function se(ie){if(V())return;const K=Oc(d.floating.current);if(clearTimeout(w.current),y.current){clearTimeout(T.current),S.current&&K.removeEventListener("pointermove",S.current),S.current=y.current({...e,tree:p,x:ie.clientX,y:ie.clientY,onClose(){q(),P(),D()}}),K.addEventListener("pointermove",S.current);return}D()}function oe(ie){V()||y.current==null||y.current({...e,tree:p,x:ie.clientX,y:ie.clientY,leave:!0,onClose(){q(),P(),D()}})(ie)}const ce=d.floating.current,ee=d.domReference.current;if(md(ee))return u&&ee.addEventListener("mouseleave",oe),ce==null||ce.addEventListener("mouseleave",oe),a&&ee.addEventListener("mousemove",U,{once:!0}),ee.addEventListener("mouseenter",U),ee.addEventListener("mouseleave",se),()=>{u&&ee.removeEventListener("mouseleave",oe),ce==null||ce.removeEventListener("mouseleave",oe),a&&ee.removeEventListener("mousemove",U),ee.removeEventListener("mouseenter",U),ee.removeEventListener("mouseleave",se)}},[h.domReference,n,e,s,o,a,D,P,q,l,u,p,d,m,y,c]),sm(()=>{if(n&&u&&y.current&&y.current.__options.blockPointerEvents&&$()){Oc(d.floating.current).body.style.pointerEvents="none",A.current=!0;const se=d.domReference.current,oe=d.floating.current;if(md(se)&&oe){var V,U;const ce=p==null||(V=p.nodesRef.current.find(ee=>ee.id===g))==null||(U=V.context)==null?void 0:U.refs.floating.current;return ce&&(ce.style.pointerEvents=""),se.style.pointerEvents="auto",oe.style.pointerEvents="auto",()=>{se.style.pointerEvents="",oe.style.pointerEvents=""}}}},[n,u,g,d,p,y,c,$]),sm(()=>{_&&!u&&(v.current=void 0,P(),q())}),E.useEffect(()=>()=>{P(),clearTimeout(T.current),clearTimeout(w.current),A.current&&q()},[n,P,q]),E.useMemo(()=>{if(!n)return{};function V(U){v.current=U.pointerType}return{reference:{onPointerDown:V,onPointerEnter:V,onMouseMove(){u||o===0||(clearTimeout(w.current),w.current=setTimeout(()=>{x.current||l(!0)},o))}},floating:{onMouseEnter(){clearTimeout(T.current)},onMouseLeave(){D(!1)}}}},[n,o,u,l,D])},hK=E.createContext({delay:1e3,initialDelay:1e3,currentId:null,setCurrentId:()=>{},setState:()=>{}}),pK=()=>E.useContext(hK),I1e=e=>{let{children:t,delay:n}=e;const[r,i]=E.useState({delay:n,initialDelay:n,currentId:null}),s=E.useCallback(o=>{i(a=>({...a,currentId:o}))},[]);return E.createElement(hK.Provider,{value:E.useMemo(()=>({...r,setState:i,setCurrentId:s}),[r,i,s])},t)},A1e=(e,t)=>{let{open:n,onOpenChange:r}=e,{id:i}=t;const{currentId:s,initialDelay:o,setState:a}=pK();E.useEffect(()=>{s&&(a(u=>({...u,delay:{open:1,close:Sb(o,"close")}})),s!==i&&r(!1))},[i,r,a,s,o]),E.useEffect(()=>{!n&&s===i&&(r(!1),a(u=>({...u,delay:o,currentId:null})))},[n,a,s,i,r,o])},C1e=function(e,t){let{open:n}=e,{enabled:r=!0,role:i="dialog"}=t===void 0?{}:t;const s=MF(),o=MF();return E.useMemo(()=>{const a={id:s,role:i};return r?i==="tooltip"?{reference:{"aria-describedby":n?s:void 0},floating:a}:{reference:{"aria-expanded":n?"true":"false","aria-haspopup":i==="alertdialog"?"dialog":i,"aria-controls":n?s:void 0,...i==="listbox"&&{role:"combobox"},...i==="menu"&&{id:o}},floating:{...a,...i==="menu"&&{"aria-labelledby":o}}}:{}},[r,i,n,s,o])};function vC(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}const O1e={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},P1e={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},R1e=function(e,t){let{open:n,onOpenChange:r,refs:i,events:s,nodeId:o}=e,{enabled:a=!0,escapeKey:u=!0,outsidePress:l=!0,outsidePressEvent:c="pointerdown",referencePress:f=!1,referencePressEvent:d="pointerdown",ancestorScroll:h=!1,bubbles:p=!0}=t===void 0?{}:t;const g=SD(),y=fK()!=null,m=E.useRef(!1);return E.useEffect(()=>{if(!n||!a)return;function _(x){if(x.key==="Escape"){if(!p&&g&&_C(g.nodesRef.current,o).length>0)return;s.emit("dismiss",{preventScroll:!1}),r(!1)}}function v(x){const A=m.current;if(m.current=!1,A)return;const $=T1e(x);if(md($)&&i.floating.current){var D;const q=(D=i.floating.current.ownerDocument.defaultView)!=null?D:window,V=$.scrollWidth>$.clientWidth,U=$.scrollHeight>$.clientHeight;let se=U&&x.offsetX>$.clientWidth;if(U&&q.getComputedStyle($).direction==="rtl"&&(se=x.offsetX<=$.offsetWidth-$.clientWidth),se||V&&x.offsetY>$.clientHeight)return}const P=g&&_C(g.nodesRef.current,o).some(q=>{var V;return vC(x,(V=q.context)==null?void 0:V.refs.floating.current)});vC(x,i.floating.current)||vC(x,i.domReference.current)||P||!p&&g&&_C(g.nodesRef.current,o).length>0||(s.emit("dismiss",y?{preventScroll:!0}:!1),r(!1))}function T(){r(!1)}const S=Oc(i.floating.current);u&&S.addEventListener("keydown",_),l&&S.addEventListener(c,v);let w=[];return h&&(md(i.domReference.current)&&(w=xl(i.domReference.current)),md(i.floating.current)&&(w=w.concat(xl(i.floating.current))),!md(i.reference.current)&&i.reference.current&&i.reference.current.contextElement&&(w=w.concat(xl(i.reference.current.contextElement)))),w=w.filter(x=>{var A;return x!==((A=S.defaultView)==null?void 0:A.visualViewport)}),w.forEach(x=>{x.addEventListener("scroll",T,{passive:!0})}),()=>{u&&S.removeEventListener("keydown",_),l&&S.removeEventListener(c,v),w.forEach(x=>{x.removeEventListener("scroll",T)})}},[u,l,c,s,g,o,n,r,h,a,p,i,y]),E.useEffect(()=>{m.current=!1},[l,c]),E.useMemo(()=>a?{reference:{[O1e[d]]:()=>{f&&(s.emit("dismiss"),r(!1))}},floating:{[P1e[c]]:()=>{m.current=!0}}}:{},[a,s,f,c,d,r])},N1e=function(e,t){let{open:n,onOpenChange:r,dataRef:i,refs:s,events:o}=e,{enabled:a=!0,keyboardOnly:u=!0}=t===void 0?{}:t;const l=E.useRef(""),c=E.useRef(!1),f=E.useRef();return E.useEffect(()=>{var d;if(!a)return;const p=(d=Oc(s.floating.current).defaultView)!=null?d:window;function g(){!n&&b1e(s.domReference.current)&&s.domReference.current.blur()}return p.addEventListener("blur",g),()=>{p.removeEventListener("blur",g)}},[s,n,a]),E.useEffect(()=>{if(!a)return;function d(){c.current=!0}return o.on("dismiss",d),()=>{o.off("dismiss",d)}},[o,a]),E.useEffect(()=>()=>{clearTimeout(f.current)},[]),E.useMemo(()=>a?{reference:{onPointerDown(d){let{pointerType:h}=d;l.current=h,c.current=!!(h&&u)},onPointerLeave(){c.current=!1},onFocus(d){var h,p,g;c.current||d.type==="focus"&&((h=i.current.openEvent)==null?void 0:h.type)==="mousedown"&&(p=s.domReference.current)!=null&&p.contains((g=i.current.openEvent)==null?void 0:g.target)||(i.current.openEvent=d.nativeEvent,r(!0))},onBlur(d){const h=d.relatedTarget;f.current=setTimeout(()=>{var p,g;(p=s.floating.current)!=null&&p.contains(h)||(g=s.domReference.current)!=null&&g.contains(h)||(c.current=!1,r(!1))})}}}:{},[a,u,s,i,r])};function mK({opened:e,floating:t,positionDependencies:n}){const[r,i]=E.useState(0);E.useEffect(()=>{if(t.refs.reference.current&&t.refs.floating.current)return f1e(t.refs.reference.current,t.refs.floating.current,t.update)},[t.refs.reference,t.refs.floating,e,r]),yo(()=>{t.update()},n),yo(()=>{i(s=>s+1)},[e])}function k1e(e){const t=[nK(e.offset)];return e.middlewares.shift&&t.push(ED({limiter:o1e()})),e.middlewares.flip&&t.push(tK()),e.middlewares.inline&&t.push(iK()),t.push(cK({element:e.arrowRef})),t}function D1e(e){const[t,n]=La({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),r=()=>{var o;(o=e.onClose)==null||o.call(e),n(!1)},i=()=>{var o,a;t?((o=e.onClose)==null||o.call(e),n(!1)):((a=e.onOpen)==null||a.call(e),n(!0))},s=xD({placement:e.position,middleware:[...k1e(e),...e.width==="target"?[a1e({apply({rects:o}){var a,u;Object.assign((u=(a=s.refs.floating.current)==null?void 0:a.style)!=null?u:{},{width:`${o.reference.width}px`})}})]:[]]});return mK({opened:e.opened,positionDependencies:e.positionDependencies,floating:s}),yo(()=>{var o;(o=e.onPositionChange)==null||o.call(e,s.placement)},[s.placement]),{floating:s,controlled:typeof e.opened=="boolean",opened:t,onClose:r,onToggle:i}}const gK={context:"Popover component was not found in the tree",children:"Popover.Target component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported"},[$1e,yK]=Xq(gK.context);var L1e=Object.defineProperty,M1e=Object.defineProperties,F1e=Object.getOwnPropertyDescriptors,iE=Object.getOwnPropertySymbols,_K=Object.prototype.hasOwnProperty,vK=Object.prototype.propertyIsEnumerable,jF=(e,t,n)=>t in e?L1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,h1=(e,t)=>{for(var n in t||(t={}))_K.call(t,n)&&jF(e,n,t[n]);if(iE)for(var n of iE(t))vK.call(t,n)&&jF(e,n,t[n]);return e},B1e=(e,t)=>M1e(e,F1e(t)),j1e=(e,t)=>{var n={};for(var r in e)_K.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&iE)for(var r of iE(e))t.indexOf(r)<0&&vK.call(e,r)&&(n[r]=e[r]);return n};const bK=E.forwardRef((e,t)=>{var n=e,{children:r,refProp:i="ref",popupType:s="dialog"}=n,o=j1e(n,["children","refProp","popupType"]);if(!B_(r))throw new Error(gK.children);const a=o,u=yK(),l=ra(u.reference,r.ref,t),c=u.withRoles?{"aria-haspopup":s,"aria-expanded":u.opened,"aria-controls":u.getDropdownId(),id:u.getTargetId()}:{};return E.cloneElement(r,h1(B1e(h1(h1(h1({},a),c),u.targetProps),{className:eY(u.targetProps.className,a.className,r.props.className),[i]:l}),u.controlled?null:{onClick:u.onToggle}))});bK.displayName="@mantine/core/PopoverTarget";var U1e=lt((e,{radius:t,shadow:n})=>({dropdown:{position:"absolute",backgroundColor:e.white,background:e.colorScheme==="dark"?e.colors.dark[6]:e.white,border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]}`,padding:`${e.spacing.sm}px ${e.spacing.md}px`,boxShadow:e.shadows[n]||n||"none",borderRadius:e.fn.radius(t),"&:focus":{outline:0}},arrow:{backgroundColor:"inherit",border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]}`,zIndex:1}}));const V1e=U1e;var z1e=Object.defineProperty,UF=Object.getOwnPropertySymbols,H1e=Object.prototype.hasOwnProperty,W1e=Object.prototype.propertyIsEnumerable,VF=(e,t,n)=>t in e?z1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ph=(e,t)=>{for(var n in t||(t={}))H1e.call(t,n)&&VF(e,n,t[n]);if(UF)for(var n of UF(t))W1e.call(t,n)&&VF(e,n,t[n]);return e};const zF={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function wK({transition:e,state:t,duration:n,timingFunction:r}){const i={transitionDuration:`${n}ms`,transitionTimingFunction:r};return typeof e=="string"?e in a1?Ph(Ph(Ph({transitionProperty:a1[e].transitionProperty},i),a1[e].common),a1[e][zF[t]]):null:Ph(Ph(Ph({transitionProperty:e.transitionProperty},i),e.common),e[zF[t]])}function EK({duration:e,exitDuration:t,timingFunction:n,mounted:r,onEnter:i,onExit:s,onEntered:o,onExited:a}){const u=ss(),l=dD(),c=u.respectReducedMotion?l:!1,[f,d]=E.useState(r?"entered":"exited");let h=c?0:e;const p=E.useRef(-1),g=y=>{const m=y?i:s,_=y?o:a;if(d(y?"pre-entering":"pre-exiting"),window.clearTimeout(p.current),h=c?0:y?e:t,h===0)typeof m=="function"&&m(),typeof _=="function"&&_(),d(y?"entered":"exited");else{const v=window.setTimeout(()=>{typeof m=="function"&&m(),d(y?"entering":"exiting")},10);p.current=window.setTimeout(()=>{window.clearTimeout(v),typeof _=="function"&&_(),d(y?"entered":"exited")},h)}};return yo(()=>{g(r)},[r]),E.useEffect(()=>()=>window.clearTimeout(p.current),[]),{transitionDuration:h,transitionStatus:f,transitionTimingFunction:n||u.transitionTimingFunction}}function Px({transition:e,duration:t=250,exitDuration:n=t,mounted:r,children:i,timingFunction:s,onExit:o,onEntered:a,onEnter:u,onExited:l}){const{transitionDuration:c,transitionStatus:f,transitionTimingFunction:d}=EK({mounted:r,exitDuration:n,duration:t,timingFunction:s,onExit:o,onEntered:a,onEnter:u,onExited:l});return c===0?r?M.createElement(M.Fragment,null,i({})):null:f==="exited"?null:M.createElement(M.Fragment,null,i(wK({transition:e,duration:c,state:f,timingFunction:d})))}Px.displayName="@mantine/core/Transition";function TK({children:e,active:t=!0,refProp:n="ref"}){const r=RY(t),i=ra(r,e==null?void 0:e.ref);return B_(e)?E.cloneElement(e,{[n]:i}):e}TK.displayName="@mantine/core/FocusTrap";var q1e=Object.defineProperty,Y1e=Object.defineProperties,G1e=Object.getOwnPropertyDescriptors,HF=Object.getOwnPropertySymbols,K1e=Object.prototype.hasOwnProperty,Q1e=Object.prototype.propertyIsEnumerable,WF=(e,t,n)=>t in e?q1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,dc=(e,t)=>{for(var n in t||(t={}))K1e.call(t,n)&&WF(e,n,t[n]);if(HF)for(var n of HF(t))Q1e.call(t,n)&&WF(e,n,t[n]);return e},p1=(e,t)=>Y1e(e,G1e(t));function qF(e,t,n){return e==="center"?{top:t}:e==="end"?{bottom:n}:e==="start"?{top:n}:{}}function YF(e,t,n,r){return e==="center"?{[r==="ltr"?"left":"right"]:t}:e==="end"?{[r==="ltr"?"right":"left"]:n}:e==="start"?{[r==="ltr"?"left":"right"]:n}:{}}const X1e={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function J1e({position:e,withBorder:t,arrowSize:n,arrowOffset:r,arrowRadius:i,arrowX:s,arrowY:o,dir:a}){const[u,l="center"]=e.split("-"),c={width:n,height:n,transform:"rotate(45deg)",position:"absolute",[X1e[u]]:i},f=t?-n/2-1:-n/2;return u==="left"?p1(dc(dc({},c),qF(l,o,r)),{right:f,borderLeft:0,borderBottom:0}):u==="right"?p1(dc(dc({},c),qF(l,o,r)),{left:f,borderRight:0,borderTop:0}):u==="top"?p1(dc(dc({},c),YF(l,s,r,a)),{bottom:f,borderTop:0,[a==="ltr"?"borderLeft":"borderRight"]:0}):u==="bottom"?p1(dc(dc({},c),YF(l,s,r,a)),{top:f,borderBottom:0,[a==="ltr"?"borderRight":"borderLeft"]:0}):{}}var Z1e=Object.defineProperty,ebe=Object.defineProperties,tbe=Object.getOwnPropertyDescriptors,sE=Object.getOwnPropertySymbols,SK=Object.prototype.hasOwnProperty,xK=Object.prototype.propertyIsEnumerable,GF=(e,t,n)=>t in e?Z1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nbe=(e,t)=>{for(var n in t||(t={}))SK.call(t,n)&&GF(e,n,t[n]);if(sE)for(var n of sE(t))xK.call(t,n)&&GF(e,n,t[n]);return e},rbe=(e,t)=>ebe(e,tbe(t)),ibe=(e,t)=>{var n={};for(var r in e)SK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&sE)for(var r of sE(e))t.indexOf(r)<0&&xK.call(e,r)&&(n[r]=e[r]);return n};const ID=E.forwardRef((e,t)=>{var n=e,{withBorder:r,position:i,arrowSize:s,arrowOffset:o,arrowRadius:a,visible:u,arrowX:l,arrowY:c}=n,f=ibe(n,["withBorder","position","arrowSize","arrowOffset","arrowRadius","visible","arrowX","arrowY"]);const d=ss();return u?M.createElement("div",rbe(nbe({},f),{ref:t,style:J1e({withBorder:r,position:i,arrowSize:s,arrowOffset:o,arrowRadius:a,dir:d.dir,arrowX:l,arrowY:c})})):null});ID.displayName="@mantine/core/FloatingArrow";var sbe=Object.defineProperty,obe=Object.defineProperties,abe=Object.getOwnPropertyDescriptors,oE=Object.getOwnPropertySymbols,IK=Object.prototype.hasOwnProperty,AK=Object.prototype.propertyIsEnumerable,KF=(e,t,n)=>t in e?sbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m1=(e,t)=>{for(var n in t||(t={}))IK.call(t,n)&&KF(e,n,t[n]);if(oE)for(var n of oE(t))AK.call(t,n)&&KF(e,n,t[n]);return e},QF=(e,t)=>obe(e,abe(t)),ube=(e,t)=>{var n={};for(var r in e)IK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&oE)for(var r of oE(e))t.indexOf(r)<0&&AK.call(e,r)&&(n[r]=e[r]);return n};function CK(e){var t=e,{style:n,className:r,children:i,onKeyDownCapture:s}=t,o=ube(t,["style","className","children","onKeyDownCapture"]);const{classNames:a,styles:u,unstyled:l,staticSelector:c}=V_(),f=yK(),{classes:d,cx:h}=V1e({radius:f.radius,shadow:f.shadow},{name:c,classNames:a,styles:u,unstyled:l}),p=AY({opened:f.opened,shouldReturnFocus:f.returnFocus}),g=f.withRoles?{"aria-labelledby":f.getTargetId(),id:f.getDropdownId(),role:"dialog"}:{};return f.disabled?null:M.createElement(z_,{withinPortal:f.withinPortal},M.createElement(Px,{mounted:f.opened,transition:f.transition,duration:f.transitionDuration,exitDuration:typeof f.exitTransitionDuration=="number"?f.exitTransitionDuration:f.transitionDuration},y=>{var m,_;return M.createElement(TK,{active:f.trapFocus},M.createElement(ut,m1(QF(m1({},g),{tabIndex:-1,ref:f.floating,style:QF(m1(m1({},n),y),{zIndex:f.zIndex,top:(m=f.y)!=null?m:0,left:(_=f.x)!=null?_:0,width:f.width==="target"?void 0:f.width}),className:h(d.dropdown,r),onKeyDownCapture:ape(f.onClose,{active:f.closeOnEscape,onTrigger:p,onKeyDown:s}),"data-position":f.placement}),o),i,M.createElement(ID,{ref:f.arrowRef,arrowX:f.arrowX,arrowY:f.arrowY,visible:f.withArrow,withBorder:!0,position:f.placement,arrowSize:f.arrowSize,arrowRadius:f.arrowRadius,arrowOffset:f.arrowOffset,className:d.arrow})))}))}CK.displayName="@mantine/core/PopoverDropdown";function OK(e,t){if(e==="rtl"&&(t.includes("right")||t.includes("left"))){const[n,r]=t.split("-"),i=n==="right"?"left":"right";return r===void 0?i:`${i}-${r}`}return t}var XF=Object.getOwnPropertySymbols,lbe=Object.prototype.hasOwnProperty,cbe=Object.prototype.propertyIsEnumerable,fbe=(e,t)=>{var n={};for(var r in e)lbe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&XF)for(var r of XF(e))t.indexOf(r)<0&&cbe.call(e,r)&&(n[r]=e[r]);return n};const dbe={position:"bottom",offset:8,positionDependencies:[],transition:"fade",transitionDuration:150,middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,closeOnClickOutside:!0,withinPortal:!1,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:Oo("popover"),__staticSelector:"Popover",width:"max-content"};function ic(e){var t,n,r,i,s,o;const a=E.useRef(null),u=ht("Popover",dbe,e),{children:l,position:c,offset:f,onPositionChange:d,positionDependencies:h,opened:p,transition:g,transitionDuration:y,width:m,middlewares:_,withArrow:v,arrowSize:T,arrowOffset:S,arrowRadius:w,unstyled:x,classNames:A,styles:$,closeOnClickOutside:D,withinPortal:P,closeOnEscape:q,clickOutsideEvents:V,trapFocus:U,onClose:se,onOpen:oe,onChange:ce,zIndex:ee,radius:ie,shadow:K,id:I,defaultOpened:C,exitTransitionDuration:H,__staticSelector:N,withRoles:R,disabled:Y,returnFocus:ae}=u,le=fbe(u,["children","position","offset","onPositionChange","positionDependencies","opened","transition","transitionDuration","width","middlewares","withArrow","arrowSize","arrowOffset","arrowRadius","unstyled","classNames","styles","closeOnClickOutside","withinPortal","closeOnEscape","clickOutsideEvents","trapFocus","onClose","onOpen","onChange","zIndex","radius","shadow","id","defaultOpened","exitTransitionDuration","__staticSelector","withRoles","disabled","returnFocus"]),[pe,he]=E.useState(null),[Se,me]=E.useState(null),Xe=zu(I),Ye=ss(),He=D1e({middlewares:_,width:m,position:OK(Ye.dir,c),offset:f+(v?T/2:0),arrowRef:a,onPositionChange:d,positionDependencies:h,opened:p,defaultOpened:C,onChange:ce,onOpen:oe,onClose:se});oge(()=>D&&He.onClose(),V,[pe,Se]);const Le=E.useCallback(Ve=>{he(Ve),He.floating.reference(Ve)},[He.floating.reference]),Ae=E.useCallback(Ve=>{me(Ve),He.floating.floating(Ve)},[He.floating.floating]);return M.createElement(SY,{classNames:A,styles:$,unstyled:x,staticSelector:N},M.createElement($1e,{value:{returnFocus:ae,disabled:Y,controlled:He.controlled,reference:Le,floating:Ae,x:He.floating.x,y:He.floating.y,arrowX:(r=(n=(t=He.floating)==null?void 0:t.middlewareData)==null?void 0:n.arrow)==null?void 0:r.x,arrowY:(o=(s=(i=He.floating)==null?void 0:i.middlewareData)==null?void 0:s.arrow)==null?void 0:o.y,opened:He.opened,arrowRef:a,transition:g,transitionDuration:y,exitTransitionDuration:H,width:m,withArrow:v,arrowSize:T,arrowOffset:S,arrowRadius:w,placement:He.floating.placement,trapFocus:U,withinPortal:P,zIndex:ee,radius:ie,shadow:K,closeOnEscape:q,onClose:He.onClose,onToggle:He.onToggle,getTargetId:()=>`${Xe}-target`,getDropdownId:()=>`${Xe}-dropdown`,withRoles:R,targetProps:le}},l))}ic.Target=bK;ic.Dropdown=CK;ic.displayName="@mantine/core/Popover";var hbe=Object.defineProperty,aE=Object.getOwnPropertySymbols,PK=Object.prototype.hasOwnProperty,RK=Object.prototype.propertyIsEnumerable,JF=(e,t,n)=>t in e?hbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pbe=(e,t)=>{for(var n in t||(t={}))PK.call(t,n)&&JF(e,n,t[n]);if(aE)for(var n of aE(t))RK.call(t,n)&&JF(e,n,t[n]);return e},mbe=(e,t)=>{var n={};for(var r in e)PK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&aE)for(var r of aE(e))t.indexOf(r)<0&&RK.call(e,r)&&(n[r]=e[r]);return n};function gbe(e){var t=e,{children:n,component:r="div",maxHeight:i=220,direction:s="column",id:o,innerRef:a,__staticSelector:u,styles:l,classNames:c,unstyled:f}=t,d=mbe(t,["children","component","maxHeight","direction","id","innerRef","__staticSelector","styles","classNames","unstyled"]);const{classes:h}=e1e(null,{name:u,styles:l,classNames:c,unstyled:f});return M.createElement(ic.Dropdown,pbe({p:0,onMouseDown:p=>p.preventDefault()},d),M.createElement("div",{style:{maxHeight:i,display:"flex"}},M.createElement(ut,{component:r||"div",id:`${o}-items`,"aria-labelledby":`${o}-label`,role:"listbox",onMouseDown:p=>p.preventDefault(),style:{flex:1,overflowY:r!==Ax?"auto":void 0},"data-combobox-popover":!0,ref:a},M.createElement("div",{className:h.itemsWrapper,style:{flexDirection:s}},n))))}function Zc({opened:e,transition:t="fade",transitionDuration:n=0,shadow:r,withinPortal:i,children:s,__staticSelector:o,onDirectionChange:a,switchDirectionOnFlip:u,zIndex:l,dropdownPosition:c,positionDependencies:f=[],classNames:d,styles:h,unstyled:p,readOnly:g}){return M.createElement(ic,{unstyled:p,classNames:d,styles:h,width:"target",withRoles:!1,opened:e,middlewares:{flip:c==="flip",shift:!1},position:c==="flip"?"bottom":c,positionDependencies:f,zIndex:l,__staticSelector:o,withinPortal:i,transition:t,transitionDuration:n,shadow:r,disabled:g,onPositionChange:y=>u&&(a==null?void 0:a(y==="top"?"column-reverse":"column"))},s)}Zc.Target=ic.Target;Zc.Dropdown=gbe;var ybe=Object.defineProperty,_be=Object.defineProperties,vbe=Object.getOwnPropertyDescriptors,uE=Object.getOwnPropertySymbols,NK=Object.prototype.hasOwnProperty,kK=Object.prototype.propertyIsEnumerable,ZF=(e,t,n)=>t in e?ybe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bC=(e,t)=>{for(var n in t||(t={}))NK.call(t,n)&&ZF(e,n,t[n]);if(uE)for(var n of uE(t))kK.call(t,n)&&ZF(e,n,t[n]);return e},bbe=(e,t)=>_be(e,vbe(t)),wbe=(e,t)=>{var n={};for(var r in e)NK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&uE)for(var r of uE(e))t.indexOf(r)<0&&kK.call(e,r)&&(n[r]=e[r]);return n};function DK(e,t,n){const r=ht(e,t,n),{label:i,description:s,error:o,required:a,classNames:u,styles:l,className:c,unstyled:f,__staticSelector:d,sx:h,errorProps:p,labelProps:g,descriptionProps:y,wrapperProps:m,id:_,size:v,style:T,inputContainer:S,inputWrapperOrder:w,withAsterisk:x}=r,A=wbe(r,["label","description","error","required","classNames","styles","className","unstyled","__staticSelector","sx","errorProps","labelProps","descriptionProps","wrapperProps","id","size","style","inputContainer","inputWrapperOrder","withAsterisk"]),$=zu(_),{systemStyles:D,rest:P}=ch(A);return bbe(bC({},P),{classNames:u,styles:l,unstyled:f,wrapperProps:bC(bC({label:i,description:s,error:o,required:a,classNames:u,className:c,__staticSelector:d,sx:h,errorProps:p,labelProps:g,descriptionProps:y,unstyled:f,styles:l,id:$,size:v,style:T,inputContainer:S,inputWrapperOrder:w,withAsterisk:x},m),D),inputProps:{required:a,classNames:u,styles:l,unstyled:f,id:$,size:v,__staticSelector:d,invalid:!!o}})}var Ebe=lt((e,{size:t})=>({label:{display:"inline-block",fontSize:e.fn.size({size:t,sizes:e.fontSizes}),fontWeight:500,color:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[9],wordBreak:"break-word",cursor:"default",WebkitTapHighlightColor:"transparent"},required:{color:e.fn.variant({variant:"filled",color:"red"}).background}}));const Tbe=Ebe;var Sbe=Object.defineProperty,lE=Object.getOwnPropertySymbols,$K=Object.prototype.hasOwnProperty,LK=Object.prototype.propertyIsEnumerable,e8=(e,t,n)=>t in e?Sbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xbe=(e,t)=>{for(var n in t||(t={}))$K.call(t,n)&&e8(e,n,t[n]);if(lE)for(var n of lE(t))LK.call(t,n)&&e8(e,n,t[n]);return e},Ibe=(e,t)=>{var n={};for(var r in e)$K.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&lE)for(var r of lE(e))t.indexOf(r)<0&&LK.call(e,r)&&(n[r]=e[r]);return n};const AD=E.forwardRef((e,t)=>{var n=e,{labelElement:r="label",children:i,required:s,size:o="sm",classNames:a,styles:u,unstyled:l,className:c,htmlFor:f,__staticSelector:d}=n,h=Ibe(n,["labelElement","children","required","size","classNames","styles","unstyled","className","htmlFor","__staticSelector"]);const{classes:p,cx:g}=Tbe({size:o},{name:["InputWrapper",d],classNames:a,styles:u,unstyled:l});return M.createElement(ut,xbe({component:r,ref:t,className:g(p.label,c),htmlFor:r==="label"?f:void 0},h),i,s&&M.createElement("span",{className:p.required,"aria-hidden":!0}," *"))});AD.displayName="@mantine/core/InputLabel";var Abe=lt((e,{size:t})=>({error:{wordBreak:"break-word",color:e.fn.variant({variant:"filled",color:"red"}).background,fontSize:e.fn.size({size:t,sizes:e.fontSizes})-2,lineHeight:1.2,display:"block"}}));const Cbe=Abe;var Obe=Object.defineProperty,cE=Object.getOwnPropertySymbols,MK=Object.prototype.hasOwnProperty,FK=Object.prototype.propertyIsEnumerable,t8=(e,t,n)=>t in e?Obe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Pbe=(e,t)=>{for(var n in t||(t={}))MK.call(t,n)&&t8(e,n,t[n]);if(cE)for(var n of cE(t))FK.call(t,n)&&t8(e,n,t[n]);return e},Rbe=(e,t)=>{var n={};for(var r in e)MK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&cE)for(var r of cE(e))t.indexOf(r)<0&&FK.call(e,r)&&(n[r]=e[r]);return n};const CD=E.forwardRef((e,t)=>{var n=e,{children:r,className:i,classNames:s,styles:o,unstyled:a,size:u="sm",__staticSelector:l}=n,c=Rbe(n,["children","className","classNames","styles","unstyled","size","__staticSelector"]);const{classes:f,cx:d}=Cbe({size:u},{name:["InputWrapper",l],classNames:s,styles:o,unstyled:a});return M.createElement(mt,Pbe({className:d(f.error,i),ref:t,role:"alert"},c),r)});CD.displayName="@mantine/core/InputError";var Nbe=lt((e,{size:t})=>({description:{wordBreak:"break-word",color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],fontSize:e.fn.size({size:t,sizes:e.fontSizes})-2,lineHeight:1.2,display:"block"}}));const kbe=Nbe;var Dbe=Object.defineProperty,fE=Object.getOwnPropertySymbols,BK=Object.prototype.hasOwnProperty,jK=Object.prototype.propertyIsEnumerable,n8=(e,t,n)=>t in e?Dbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$be=(e,t)=>{for(var n in t||(t={}))BK.call(t,n)&&n8(e,n,t[n]);if(fE)for(var n of fE(t))jK.call(t,n)&&n8(e,n,t[n]);return e},Lbe=(e,t)=>{var n={};for(var r in e)BK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&fE)for(var r of fE(e))t.indexOf(r)<0&&jK.call(e,r)&&(n[r]=e[r]);return n};const OD=E.forwardRef((e,t)=>{var n=e,{children:r,className:i,classNames:s,styles:o,unstyled:a,size:u="sm",__staticSelector:l}=n,c=Lbe(n,["children","className","classNames","styles","unstyled","size","__staticSelector"]);const{classes:f,cx:d}=kbe({size:u},{name:["InputWrapper",l],classNames:s,styles:o,unstyled:a});return M.createElement(mt,$be({color:"dimmed",className:d(f.description,i),ref:t,unstyled:a},c),r)});OD.displayName="@mantine/core/InputDescription";const UK=E.createContext({offsetBottom:!1,offsetTop:!1}),Mbe=UK.Provider,Fbe=()=>E.useContext(UK);function Bbe(e,{hasDescription:t,hasError:n}){const r=e.findIndex(u=>u==="input"),i=e[r-1],s=e[r+1];return{offsetBottom:t&&s==="description"||n&&s==="error",offsetTop:t&&i==="description"||n&&i==="error"}}var jbe=Object.defineProperty,Ube=Object.defineProperties,Vbe=Object.getOwnPropertyDescriptors,r8=Object.getOwnPropertySymbols,zbe=Object.prototype.hasOwnProperty,Hbe=Object.prototype.propertyIsEnumerable,i8=(e,t,n)=>t in e?jbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Wbe=(e,t)=>{for(var n in t||(t={}))zbe.call(t,n)&&i8(e,n,t[n]);if(r8)for(var n of r8(t))Hbe.call(t,n)&&i8(e,n,t[n]);return e},qbe=(e,t)=>Ube(e,Vbe(t)),Ybe=lt(e=>({root:qbe(Wbe({},e.fn.fontStyles()),{lineHeight:e.lineHeight})}));const Gbe=Ybe;var Kbe=Object.defineProperty,Qbe=Object.defineProperties,Xbe=Object.getOwnPropertyDescriptors,dE=Object.getOwnPropertySymbols,VK=Object.prototype.hasOwnProperty,zK=Object.prototype.propertyIsEnumerable,s8=(e,t,n)=>t in e?Kbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Yf=(e,t)=>{for(var n in t||(t={}))VK.call(t,n)&&s8(e,n,t[n]);if(dE)for(var n of dE(t))zK.call(t,n)&&s8(e,n,t[n]);return e},o8=(e,t)=>Qbe(e,Xbe(t)),Jbe=(e,t)=>{var n={};for(var r in e)VK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&dE)for(var r of dE(e))t.indexOf(r)<0&&zK.call(e,r)&&(n[r]=e[r]);return n};const Zbe={labelElement:"label",size:"sm",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},HK=E.forwardRef((e,t)=>{const n=ht("InputWrapper",Zbe,e),{className:r,label:i,children:s,required:o,id:a,error:u,description:l,labelElement:c,labelProps:f,descriptionProps:d,errorProps:h,classNames:p,styles:g,size:y,inputContainer:m,__staticSelector:_,unstyled:v,inputWrapperOrder:T,withAsterisk:S}=n,w=Jbe(n,["className","label","children","required","id","error","description","labelElement","labelProps","descriptionProps","errorProps","classNames","styles","size","inputContainer","__staticSelector","unstyled","inputWrapperOrder","withAsterisk"]),{classes:x,cx:A}=Gbe(null,{classNames:p,styles:g,name:["InputWrapper",_],unstyled:v}),$={classNames:p,styles:g,unstyled:v,size:y,__staticSelector:_},D=typeof S=="boolean"?S:o,P=i&&M.createElement(AD,Yf(Yf({key:"label",labelElement:c,id:a?`${a}-label`:void 0,htmlFor:a,required:D},$),f),i),q=l&&M.createElement(OD,o8(Yf(Yf({key:"description"},d),$),{size:(d==null?void 0:d.size)||$.size}),l),V=M.createElement(E.Fragment,{key:"input"},m(s)),U=typeof u!="boolean"&&u&&M.createElement(CD,o8(Yf(Yf({},h),$),{size:(h==null?void 0:h.size)||$.size,key:"error"}),u),se=T.map(oe=>{switch(oe){case"label":return P;case"input":return V;case"description":return q;case"error":return U;default:return null}});return M.createElement(Mbe,{value:Bbe(T,{hasDescription:!!q,hasError:!!U})},M.createElement(ut,Yf({className:A(x.root,r),ref:t},w),se))});HK.displayName="@mantine/core/InputWrapper";var ewe=Object.defineProperty,twe=Object.defineProperties,nwe=Object.getOwnPropertyDescriptors,a8=Object.getOwnPropertySymbols,rwe=Object.prototype.hasOwnProperty,iwe=Object.prototype.propertyIsEnumerable,u8=(e,t,n)=>t in e?ewe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wC=(e,t)=>{for(var n in t||(t={}))rwe.call(t,n)&&u8(e,n,t[n]);if(a8)for(var n of a8(t))iwe.call(t,n)&&u8(e,n,t[n]);return e},l8=(e,t)=>twe(e,nwe(t));const Ps={xs:30,sm:36,md:42,lg:50,xl:60};function swe({theme:e,variant:t}){return t==="default"?{border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white,transition:"border-color 100ms ease","&:focus, &:focus-within":e.focusRingStyles.inputStyles(e)}:t==="filled"?{border:"1px solid transparent",backgroundColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[1],"&:focus, &:focus-within":e.focusRingStyles.inputStyles(e)}:{borderWidth:0,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,backgroundColor:"transparent",minHeight:28,outline:0,"&:focus, &:focus-within":{outline:"none",borderColor:"transparent"},"&:disabled":{backgroundColor:"transparent","&:focus, &:focus-within":{outline:"none",borderColor:"transparent"}}}}var owe=lt((e,{size:t,multiline:n,radius:r,variant:i,invalid:s,rightSectionWidth:o,withRightSection:a,iconWidth:u,offsetBottom:l,offsetTop:c,pointer:f})=>{const d=e.fn.variant({variant:"filled",color:"red"}).background,h=i==="default"||i==="filled"?{minHeight:e.fn.size({size:t,sizes:Ps}),paddingLeft:e.fn.size({size:t,sizes:Ps})/3,paddingRight:a?o:e.fn.size({size:t,sizes:Ps})/3,borderRadius:e.fn.radius(r)}:null;return{wrapper:{position:"relative",marginTop:c?`calc(${e.spacing.xs}px / 2)`:void 0,marginBottom:l?`calc(${e.spacing.xs}px / 2)`:void 0},input:wC(l8(wC(l8(wC({},e.fn.fontStyles()),{height:n?i==="unstyled"?void 0:"auto":e.fn.size({size:t,sizes:Ps}),WebkitTapHighlightColor:"transparent",lineHeight:n?e.lineHeight:`${e.fn.size({size:t,sizes:Ps})-2}px`,appearance:"none",resize:"none",boxSizing:"border-box",fontSize:e.fn.size({size:t,sizes:e.fontSizes}),width:"100%",color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,display:"block",textAlign:"left",cursor:f?"pointer":void 0}),h),{"&:disabled":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[1],color:e.colors.dark[2],opacity:.6,cursor:"not-allowed","&::placeholder":{color:e.colors.dark[2]}},"&::placeholder":{opacity:1,userSelect:"none",color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]},"&::-webkit-inner-spin-button, &::-webkit-outer-spin-button, &::-webkit-search-decoration, &::-webkit-search-cancel-button, &::-webkit-search-results-button, &::-webkit-search-results-decoration":{appearance:"none"},"&[type=number]":{MozAppearance:"textfield"}}),swe({theme:e,variant:i})),withIcon:{paddingLeft:typeof u=="number"?u:e.fn.size({size:t,sizes:Ps})},invalid:{color:d,borderColor:d,"&::placeholder":{opacity:1,color:d}},disabled:{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[1],color:e.colors.dark[2],opacity:.6,cursor:"not-allowed","&::placeholder":{color:e.colors.dark[2]}},icon:{pointerEvents:"none",position:"absolute",zIndex:1,left:0,top:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",width:typeof u=="number"?u:e.fn.size({size:t,sizes:Ps}),color:s?e.colors.red[e.colorScheme==="dark"?6:7]:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[5]},rightSection:{position:"absolute",top:0,bottom:0,right:0,display:"flex",alignItems:"center",justifyContent:"center",width:o}}});const awe=owe;var uwe=Object.defineProperty,lwe=Object.defineProperties,cwe=Object.getOwnPropertyDescriptors,hE=Object.getOwnPropertySymbols,WK=Object.prototype.hasOwnProperty,qK=Object.prototype.propertyIsEnumerable,c8=(e,t,n)=>t in e?uwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,g1=(e,t)=>{for(var n in t||(t={}))WK.call(t,n)&&c8(e,n,t[n]);if(hE)for(var n of hE(t))qK.call(t,n)&&c8(e,n,t[n]);return e},f8=(e,t)=>lwe(e,cwe(t)),fwe=(e,t)=>{var n={};for(var r in e)WK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&hE)for(var r of hE(e))t.indexOf(r)<0&&qK.call(e,r)&&(n[r]=e[r]);return n};const dwe={rightSectionWidth:36,size:"sm",variant:"default"},Km=E.forwardRef((e,t)=>{const n=ht("Input",dwe,e),{className:r,invalid:i,required:s,disabled:o,variant:a,icon:u,style:l,rightSectionWidth:c,iconWidth:f,rightSection:d,rightSectionProps:h,radius:p,size:g,wrapperProps:y,classNames:m,styles:_,__staticSelector:v,multiline:T,sx:S,unstyled:w,pointer:x}=n,A=fwe(n,["className","invalid","required","disabled","variant","icon","style","rightSectionWidth","iconWidth","rightSection","rightSectionProps","radius","size","wrapperProps","classNames","styles","__staticSelector","multiline","sx","unstyled","pointer"]),{offsetBottom:$,offsetTop:D}=Fbe(),{classes:P,cx:q}=awe({radius:p,size:g,multiline:T,variant:a,invalid:i,rightSectionWidth:c,iconWidth:f,withRightSection:!!d,offsetBottom:$,offsetTop:D,pointer:x},{classNames:m,styles:_,name:["Input",v],unstyled:w}),{systemStyles:V,rest:U}=ch(A);return M.createElement(ut,g1(g1({className:q(P.wrapper,r),sx:S,style:l},V),y),u&&M.createElement("div",{className:P.icon},u),M.createElement(ut,f8(g1({component:"input"},U),{ref:t,required:s,"aria-invalid":i,disabled:o,className:q(P[`${a}Variant`],P.input,{[P.withIcon]:u,[P.invalid]:i,[P.disabled]:o})})),d&&M.createElement("div",f8(g1({},h),{className:P.rightSection}),d))});Km.displayName="@mantine/core/Input";Km.Wrapper=HK;Km.Label=AD;Km.Description=OD;Km.Error=CD;const _o=Km;var hwe=Object.defineProperty,pwe=Object.defineProperties,mwe=Object.getOwnPropertyDescriptors,d8=Object.getOwnPropertySymbols,gwe=Object.prototype.hasOwnProperty,ywe=Object.prototype.propertyIsEnumerable,h8=(e,t,n)=>t in e?hwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,EC=(e,t)=>{for(var n in t||(t={}))gwe.call(t,n)&&h8(e,n,t[n]);if(d8)for(var n of d8(t))ywe.call(t,n)&&h8(e,n,t[n]);return e},_we=(e,t)=>pwe(e,mwe(t));const TC={xs:{fontSize:9,height:16},sm:{fontSize:10,height:18},md:{fontSize:11,height:20},lg:{fontSize:13,height:26},xl:{fontSize:16,height:32}},vwe={xs:4,sm:4,md:6,lg:8,xl:10};function bwe({theme:e,variant:t,color:n,size:r,gradient:i}){if(t==="dot"){const o=e.fn.size({size:r,sizes:vwe});return{backgroundColor:"transparent",color:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[7],border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[3]}`,paddingLeft:e.fn.size({size:r,sizes:e.spacing})/1.5-o/2,"&::before":{content:'""',display:"block",width:o,height:o,borderRadius:o,backgroundColor:e.fn.themeColor(n,e.colorScheme==="dark"?4:e.fn.primaryShade("light"),!0),marginRight:o}}}const s=e.fn.variant({color:n,variant:t,gradient:i});return{background:s.background,color:s.color,border:`${t==="gradient"?0:1}px solid ${s.border}`}}var wwe=lt((e,{color:t,size:n,radius:r,gradient:i,fullWidth:s,variant:o})=>{const{fontSize:a,height:u}=n in TC?TC[n]:TC.md;return{leftSection:{marginRight:`calc(${e.spacing.xs}px / 2)`},rightSection:{marginLeft:`calc(${e.spacing.xs}px / 2)`},inner:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},root:EC(_we(EC(EC({},e.fn.focusStyles()),e.fn.fontStyles()),{fontSize:a,height:u,WebkitTapHighlightColor:"transparent",lineHeight:`${u-2}px`,textDecoration:"none",padding:`0 ${e.fn.size({size:n,sizes:e.spacing})/1.5}px`,boxSizing:"border-box",display:s?"flex":"inline-flex",alignItems:"center",justifyContent:"center",width:s?"100%":"auto",textTransform:"uppercase",borderRadius:e.fn.radius(r),fontWeight:700,letterSpacing:.25,cursor:"inherit",textOverflow:"ellipsis",overflow:"hidden"}),bwe({theme:e,variant:o,color:t,size:n,gradient:i}))}});const Ewe=wwe;var Twe=Object.defineProperty,pE=Object.getOwnPropertySymbols,YK=Object.prototype.hasOwnProperty,GK=Object.prototype.propertyIsEnumerable,p8=(e,t,n)=>t in e?Twe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Swe=(e,t)=>{for(var n in t||(t={}))YK.call(t,n)&&p8(e,n,t[n]);if(pE)for(var n of pE(t))GK.call(t,n)&&p8(e,n,t[n]);return e},xwe=(e,t)=>{var n={};for(var r in e)YK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&pE)for(var r of pE(e))t.indexOf(r)<0&&GK.call(e,r)&&(n[r]=e[r]);return n};const Iwe={variant:"light",size:"md",radius:"xl"},KK=E.forwardRef((e,t)=>{const n=ht("Badge",Iwe,e),{className:r,color:i,variant:s,fullWidth:o,children:a,size:u,leftSection:l,rightSection:c,radius:f,gradient:d,classNames:h,styles:p,unstyled:g}=n,y=xwe(n,["className","color","variant","fullWidth","children","size","leftSection","rightSection","radius","gradient","classNames","styles","unstyled"]),{classes:m,cx:_}=Ewe({size:u,fullWidth:o,color:i,radius:f,variant:s,gradient:d},{classNames:h,styles:p,name:"Badge",unstyled:g});return M.createElement(ut,Swe({className:_(m.root,r),ref:t},y),l&&M.createElement("span",{className:m.leftSection},l),M.createElement("span",{className:m.inner},a),c&&M.createElement("span",{className:m.rightSection},c))});KK.displayName="@mantine/core/Badge";const Awe=KK;var Cwe=lt((e,{orientation:t,buttonBorderWidth:n})=>({root:{display:"flex",flexDirection:t==="vertical"?"column":"row","& [data-button]":{"&:first-of-type":{borderBottomRightRadius:0,[t==="vertical"?"borderBottomLeftRadius":"borderTopRightRadius"]:0,[t==="vertical"?"borderBottomWidth":"borderRightWidth"]:n/2},"&:last-of-type":{borderTopLeftRadius:0,[t==="vertical"?"borderTopRightRadius":"borderBottomLeftRadius"]:0,[t==="vertical"?"borderTopWidth":"borderLeftWidth"]:n/2},"&:not(:first-of-type):not(:last-of-type)":{borderRadius:0,[t==="vertical"?"borderTopWidth":"borderLeftWidth"]:n/2,[t==="vertical"?"borderBottomWidth":"borderRightWidth"]:n/2},"& + [data-button]":{[t==="vertical"?"marginTop":"marginLeft"]:-n,"@media (min-resolution: 192dpi)":{[t==="vertical"?"marginTop":"marginLeft"]:0}}}}}));const Owe=Cwe;var Pwe=Object.defineProperty,mE=Object.getOwnPropertySymbols,QK=Object.prototype.hasOwnProperty,XK=Object.prototype.propertyIsEnumerable,m8=(e,t,n)=>t in e?Pwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Rwe=(e,t)=>{for(var n in t||(t={}))QK.call(t,n)&&m8(e,n,t[n]);if(mE)for(var n of mE(t))XK.call(t,n)&&m8(e,n,t[n]);return e},Nwe=(e,t)=>{var n={};for(var r in e)QK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&mE)for(var r of mE(e))t.indexOf(r)<0&&XK.call(e,r)&&(n[r]=e[r]);return n};const kwe={orientation:"horizontal",buttonBorderWidth:1},JK=E.forwardRef((e,t)=>{const n=ht("ButtonGroup",kwe,e),{className:r,orientation:i,buttonBorderWidth:s,unstyled:o}=n,a=Nwe(n,["className","orientation","buttonBorderWidth","unstyled"]),{classes:u,cx:l}=Owe({orientation:i,buttonBorderWidth:s},{name:"ButtonGroup",unstyled:o});return M.createElement(ut,Rwe({className:l(u.root,r),ref:t},a))});JK.displayName="@mantine/core/ButtonGroup";var Dwe=Object.defineProperty,$we=Object.defineProperties,Lwe=Object.getOwnPropertyDescriptors,g8=Object.getOwnPropertySymbols,Mwe=Object.prototype.hasOwnProperty,Fwe=Object.prototype.propertyIsEnumerable,y8=(e,t,n)=>t in e?Dwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sd=(e,t)=>{for(var n in t||(t={}))Mwe.call(t,n)&&y8(e,n,t[n]);if(g8)for(var n of g8(t))Fwe.call(t,n)&&y8(e,n,t[n]);return e},N2=(e,t)=>$we(e,Lwe(t));const k2={xs:{height:Ps.xs,paddingLeft:14,paddingRight:14},sm:{height:Ps.sm,paddingLeft:18,paddingRight:18},md:{height:Ps.md,paddingLeft:22,paddingRight:22},lg:{height:Ps.lg,paddingLeft:26,paddingRight:26},xl:{height:Ps.xl,paddingLeft:32,paddingRight:32},"compact-xs":{height:22,paddingLeft:7,paddingRight:7},"compact-sm":{height:26,paddingLeft:8,paddingRight:8},"compact-md":{height:30,paddingLeft:10,paddingRight:10},"compact-lg":{height:34,paddingLeft:12,paddingRight:12},"compact-xl":{height:40,paddingLeft:14,paddingRight:14}};function Bwe({compact:e,size:t,withLeftIcon:n,withRightIcon:r}){if(e)return k2[`compact-${t}`];const i=k2[t];return N2(sd({},i),{paddingLeft:n?i.paddingLeft/1.5:i.paddingLeft,paddingRight:r?i.paddingRight/1.5:i.paddingRight})}const jwe=e=>({display:e?"block":"inline-block",width:e?"100%":"auto"});function Uwe({variant:e,theme:t,color:n,gradient:r}){const i=t.fn.variant({color:n,variant:e,gradient:r});return e==="gradient"?{border:0,backgroundImage:i.background,color:i.color,"&:hover":t.fn.hover({backgroundSize:"200%"})}:sd({border:`1px solid ${i.border}`,backgroundColor:i.background,color:i.color},t.fn.hover({backgroundColor:i.hover}))}var Vwe=lt((e,{color:t,size:n,radius:r,fullWidth:i,compact:s,gradient:o,variant:a,withLeftIcon:u,withRightIcon:l})=>({root:N2(sd(N2(sd(sd(sd(sd({},Bwe({compact:s,size:n,withLeftIcon:u,withRightIcon:l})),e.fn.fontStyles()),e.fn.focusStyles()),jwe(i)),{borderRadius:e.fn.radius(r),fontWeight:600,position:"relative",lineHeight:1,fontSize:e.fn.size({size:n,sizes:e.fontSizes}),userSelect:"none",cursor:"pointer"}),Uwe({variant:a,theme:e,color:t,gradient:o})),{"&:active":e.activeStyles,"&:disabled, &[data-disabled]":{borderColor:"transparent",backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],color:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[5],cursor:"not-allowed",backgroundImage:"none",pointerEvents:"none","&:active":{transform:"none"}},"&[data-loading]":{pointerEvents:"none","&::before":{content:'""',position:"absolute",top:-1,left:-1,right:-1,bottom:-1,backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.colors.dark[7],.5):"rgba(255, 255, 255, .5)",borderRadius:e.fn.radius(r),cursor:"not-allowed"}}}),icon:{display:"flex",alignItems:"center"},leftIcon:{marginRight:10},rightIcon:{marginLeft:10},centerLoader:{position:"absolute",left:"50%",transform:"translateX(-50%)",opacity:.5},inner:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",overflow:"visible"},label:{whiteSpace:"nowrap",height:"100%",overflow:"hidden",display:"flex",alignItems:"center"}}));const zwe=Vwe;var Hwe=Object.defineProperty,gE=Object.getOwnPropertySymbols,ZK=Object.prototype.hasOwnProperty,eQ=Object.prototype.propertyIsEnumerable,_8=(e,t,n)=>t in e?Hwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,v8=(e,t)=>{for(var n in t||(t={}))ZK.call(t,n)&&_8(e,n,t[n]);if(gE)for(var n of gE(t))eQ.call(t,n)&&_8(e,n,t[n]);return e},Wwe=(e,t)=>{var n={};for(var r in e)ZK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&gE)for(var r of gE(e))t.indexOf(r)<0&&eQ.call(e,r)&&(n[r]=e[r]);return n};const qwe={size:"sm",type:"button",variant:"filled",loaderPosition:"left"},PD=E.forwardRef((e,t)=>{const n=ht("Button",qwe,e),{className:r,size:i,color:s,type:o,disabled:a,children:u,leftIcon:l,rightIcon:c,fullWidth:f,variant:d,radius:h,uppercase:p,compact:g,loading:y,loaderPosition:m,loaderProps:_,gradient:v,classNames:T,styles:S,unstyled:w}=n,x=Wwe(n,["className","size","color","type","disabled","children","leftIcon","rightIcon","fullWidth","variant","radius","uppercase","compact","loading","loaderPosition","loaderProps","gradient","classNames","styles","unstyled"]),{classes:A,cx:$,theme:D}=zwe({radius:h,color:s,size:i,fullWidth:f,compact:g,gradient:v,variant:d,withLeftIcon:!!l,withRightIcon:!!c},{name:"Button",unstyled:w,classNames:T,styles:S}),P=D.fn.variant({color:s,variant:d}),q=M.createElement($f,v8({color:P.color,size:D.fn.size({size:i,sizes:k2}).height/2},_));return M.createElement(hD,v8({className:$(A.root,r),type:o,disabled:a,"data-button":!0,"data-disabled":a||void 0,"data-loading":y||void 0,ref:t,unstyled:w},x),M.createElement("div",{className:A.inner},(l||y&&m==="left")&&M.createElement("span",{className:$(A.icon,A.leftIcon)},y&&m==="left"?q:l),y&&m==="center"&&M.createElement("span",{className:A.centerLoader},q),M.createElement("span",{className:A.label,style:{textTransform:p?"uppercase":void 0}},u),(c||y&&m==="right")&&M.createElement("span",{className:$(A.icon,A.rightIcon)},y&&m==="right"?q:c)))});PD.displayName="@mantine/core/Button";PD.Group=JK;const Xo=PD;var Ywe=lt((e,{radius:t,shadow:n,withBorder:r})=>({root:{outline:0,WebkitTapHighlightColor:"transparent",display:"block",textDecoration:"none",color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white,boxSizing:"border-box",borderRadius:e.fn.radius(t),boxShadow:e.shadows[n]||n||"none",border:r?`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3]}`:void 0}}));const Gwe=Ywe;var Kwe=Object.defineProperty,yE=Object.getOwnPropertySymbols,tQ=Object.prototype.hasOwnProperty,nQ=Object.prototype.propertyIsEnumerable,b8=(e,t,n)=>t in e?Kwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Qwe=(e,t)=>{for(var n in t||(t={}))tQ.call(t,n)&&b8(e,n,t[n]);if(yE)for(var n of yE(t))nQ.call(t,n)&&b8(e,n,t[n]);return e},Xwe=(e,t)=>{var n={};for(var r in e)tQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&yE)for(var r of yE(e))t.indexOf(r)<0&&nQ.call(e,r)&&(n[r]=e[r]);return n};const Jwe={},rQ=E.forwardRef((e,t)=>{const n=ht("Paper",Jwe,e),{className:r,children:i,radius:s,withBorder:o,shadow:a,unstyled:u}=n,l=Xwe(n,["className","children","radius","withBorder","shadow","unstyled"]),{classes:c,cx:f}=Gwe({radius:s,shadow:a,withBorder:o},{name:"Paper",unstyled:u});return M.createElement(ut,Qwe({className:f(c.root,r),ref:t},l),i)});rQ.displayName="@mantine/core/Paper";const ef=rQ,iQ=E.createContext({padding:0}),Zwe=iQ.Provider,eEe=()=>E.useContext(iQ).padding;var tEe=lt((e,{padding:t,withBorder:n,inheritPadding:r})=>{const i=e.fn.size({size:t,sizes:e.spacing}),s=-1*i,o=e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3];return{cardSection:{display:"block",marginLeft:s,marginRight:s,paddingLeft:r?i:void 0,paddingRight:r?i:void 0,borderTop:n&&`1px solid ${o}`,borderBottom:n&&`1px solid ${o}`,"& + &":{borderTop:0},"&[data-first]":{marginTop:s,borderTop:0,borderBottom:n&&`1px solid ${o}`},"&[data-last]":{marginBottom:s,borderBottom:0}}}});const nEe=tEe;var rEe=Object.defineProperty,_E=Object.getOwnPropertySymbols,sQ=Object.prototype.hasOwnProperty,oQ=Object.prototype.propertyIsEnumerable,w8=(e,t,n)=>t in e?rEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,iEe=(e,t)=>{for(var n in t||(t={}))sQ.call(t,n)&&w8(e,n,t[n]);if(_E)for(var n of _E(t))oQ.call(t,n)&&w8(e,n,t[n]);return e},sEe=(e,t)=>{var n={};for(var r in e)sQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&_E)for(var r of _E(e))t.indexOf(r)<0&&oQ.call(e,r)&&(n[r]=e[r]);return n};const aQ=E.forwardRef((e,t)=>{var n=e,{className:r,withBorder:i=!1,inheritPadding:s=!1,unstyled:o}=n,a=sEe(n,["className","withBorder","inheritPadding","unstyled"]);const{classes:u,cx:l}=nEe({padding:eEe(),withBorder:i,inheritPadding:s},{name:"Card",unstyled:o});return M.createElement(ut,iEe({className:l(u.cardSection,r),ref:t},a))});aQ.displayName="@mantine/core/CardSection";const uQ=aQ;var oEe=lt(e=>({root:{position:"relative",overflow:"hidden",backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white}}));const aEe=oEe;var uEe=Object.defineProperty,vE=Object.getOwnPropertySymbols,lQ=Object.prototype.hasOwnProperty,cQ=Object.prototype.propertyIsEnumerable,E8=(e,t,n)=>t in e?uEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lEe=(e,t)=>{for(var n in t||(t={}))lQ.call(t,n)&&E8(e,n,t[n]);if(vE)for(var n of vE(t))cQ.call(t,n)&&E8(e,n,t[n]);return e},cEe=(e,t)=>{var n={};for(var r in e)lQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&vE)for(var r of vE(e))t.indexOf(r)<0&&cQ.call(e,r)&&(n[r]=e[r]);return n};const fEe={p:"md"},RD=E.forwardRef((e,t)=>{const n=ht("Card",fEe,e),{className:r,p:i,radius:s,children:o,unstyled:a}=n,u=cEe(n,["className","p","radius","children","unstyled"]),{classes:l,cx:c}=aEe(null,{name:"Card",unstyled:a}),f=E.Children.toArray(o),d=f.map((h,p)=>typeof h=="object"&&h&&"type"in h&&h.type===uQ?E.cloneElement(h,{padding:i,"data-first":p===0||void 0,"data-last":p===f.length-1||void 0}):h);return M.createElement(Zwe,{value:{padding:i}},M.createElement(ef,lEe({className:c(l.root,r),radius:s,p:i,ref:t},u),d))});RD.Section=uQ;RD.displayName="@mantine/core/Card";const dEe=RD;var hEe=Object.defineProperty,bE=Object.getOwnPropertySymbols,fQ=Object.prototype.hasOwnProperty,dQ=Object.prototype.propertyIsEnumerable,T8=(e,t,n)=>t in e?hEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pEe=(e,t)=>{for(var n in t||(t={}))fQ.call(t,n)&&T8(e,n,t[n]);if(bE)for(var n of bE(t))dQ.call(t,n)&&T8(e,n,t[n]);return e},mEe=(e,t)=>{var n={};for(var r in e)fQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&bE)for(var r of bE(e))t.indexOf(r)<0&&dQ.call(e,r)&&(n[r]=e[r]);return n};const hQ=E.forwardRef((e,t)=>{const n=ht("Center",{},e),{inline:r,sx:i}=n,s=mEe(n,["inline","sx"]);return M.createElement(ut,pEe({ref:t,sx:[{display:r?"inline-flex":"flex",alignItems:"center",justifyContent:"center"},...Hd(i)]},s))});hQ.displayName="@mantine/core/Center";const Ml=hQ,pQ=E.createContext(null),gEe=pQ.Provider,yEe=()=>E.useContext(pQ);function _Ee(e){return E.Children.toArray(e).filter(Boolean)}const vEe={left:"flex-start",center:"center",right:"flex-end",apart:"space-between"};var bEe=lt((e,{spacing:t,position:n,noWrap:r,grow:i,align:s,count:o})=>({root:{boxSizing:"border-box",display:"flex",flexDirection:"row",alignItems:s||"center",flexWrap:r?"nowrap":"wrap",justifyContent:vEe[n],gap:e.fn.size({size:t,sizes:e.spacing}),"& > *":{boxSizing:"border-box",maxWidth:i?`calc(${100/o}% - ${e.fn.size({size:t,sizes:e.spacing})-e.fn.size({size:t,sizes:e.spacing})/o}px)`:void 0,flexGrow:i?1:0}}}));const wEe=bEe;var EEe=Object.defineProperty,wE=Object.getOwnPropertySymbols,mQ=Object.prototype.hasOwnProperty,gQ=Object.prototype.propertyIsEnumerable,S8=(e,t,n)=>t in e?EEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,TEe=(e,t)=>{for(var n in t||(t={}))mQ.call(t,n)&&S8(e,n,t[n]);if(wE)for(var n of wE(t))gQ.call(t,n)&&S8(e,n,t[n]);return e},SEe=(e,t)=>{var n={};for(var r in e)mQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&wE)for(var r of wE(e))t.indexOf(r)<0&&gQ.call(e,r)&&(n[r]=e[r]);return n};const xEe={position:"left",spacing:"md"},Ys=E.forwardRef((e,t)=>{const n=ht("Group",xEe,e),{className:r,position:i,align:s,children:o,noWrap:a,grow:u,spacing:l,unstyled:c}=n,f=SEe(n,["className","position","align","children","noWrap","grow","spacing","unstyled"]),d=_Ee(o),{classes:h,cx:p}=wEe({align:s,grow:u,noWrap:a,spacing:l,position:i,count:d.length},{unstyled:c,name:"Group"});return M.createElement(ut,TEe({className:p(h.root,r),ref:t},f),d)});Ys.displayName="@mantine/core/Group";var IEe=lt((e,{spacing:t,align:n,justify:r})=>({root:{display:"flex",flexDirection:"column",alignItems:n,justifyContent:r,gap:e.fn.size({size:t,sizes:e.spacing})}}));const AEe=IEe;var CEe=Object.defineProperty,EE=Object.getOwnPropertySymbols,yQ=Object.prototype.hasOwnProperty,_Q=Object.prototype.propertyIsEnumerable,x8=(e,t,n)=>t in e?CEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,OEe=(e,t)=>{for(var n in t||(t={}))yQ.call(t,n)&&x8(e,n,t[n]);if(EE)for(var n of EE(t))_Q.call(t,n)&&x8(e,n,t[n]);return e},PEe=(e,t)=>{var n={};for(var r in e)yQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&EE)for(var r of EE(e))t.indexOf(r)<0&&_Q.call(e,r)&&(n[r]=e[r]);return n};const REe={spacing:"md",align:"stretch",justify:"top"},Bs=E.forwardRef((e,t)=>{const n=ht("Stack",REe,e),{spacing:r,className:i,align:s,justify:o,unstyled:a}=n,u=PEe(n,["spacing","className","align","justify","unstyled"]),{classes:l,cx:c}=AEe({spacing:r,align:s,justify:o},{name:"Stack",unstyled:a});return M.createElement(ut,OEe({className:c(l.root,i),ref:t},u))});Bs.displayName="@mantine/core/Stack";function vQ({spacing:e,offset:t,orientation:n,children:r,role:i,unstyled:s}){return n==="horizontal"?M.createElement(Ys,{pt:t,spacing:e,role:i,unstyled:s},r):M.createElement(Bs,{pt:t,spacing:e,role:i,unstyled:s},r)}var NEe=Object.defineProperty,TE=Object.getOwnPropertySymbols,bQ=Object.prototype.hasOwnProperty,wQ=Object.prototype.propertyIsEnumerable,I8=(e,t,n)=>t in e?NEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,A8=(e,t)=>{for(var n in t||(t={}))bQ.call(t,n)&&I8(e,n,t[n]);if(TE)for(var n of TE(t))wQ.call(t,n)&&I8(e,n,t[n]);return e},kEe=(e,t)=>{var n={};for(var r in e)bQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&TE)for(var r of TE(e))t.indexOf(r)<0&&wQ.call(e,r)&&(n[r]=e[r]);return n};const DEe={orientation:"horizontal",spacing:"lg",size:"sm",offset:"xs"},EQ=E.forwardRef((e,t)=>{const n=ht("CheckboxGroup",DEe,e),{children:r,value:i,defaultValue:s,onChange:o,orientation:a,spacing:u,size:l,wrapperProps:c,offset:f}=n,d=kEe(n,["children","value","defaultValue","onChange","orientation","spacing","size","wrapperProps","offset"]),[h,p]=La({value:i,defaultValue:s,finalValue:[],onChange:o}),g=y=>{const m=y.currentTarget.value;p(h.includes(m)?h.filter(_=>_!==m):[...h,m])};return M.createElement(gEe,{value:{value:h,onChange:g,size:l}},M.createElement(_o.Wrapper,A8(A8({labelElement:"div",size:l,__staticSelector:"CheckboxGroup",ref:t},c),d),M.createElement(vQ,{spacing:u,orientation:a,offset:f},r)))});EQ.displayName="@mantine/core/CheckboxGroup";var $Ee=Object.defineProperty,SE=Object.getOwnPropertySymbols,TQ=Object.prototype.hasOwnProperty,SQ=Object.prototype.propertyIsEnumerable,C8=(e,t,n)=>t in e?$Ee(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,D2=(e,t)=>{for(var n in t||(t={}))TQ.call(t,n)&&C8(e,n,t[n]);if(SE)for(var n of SE(t))SQ.call(t,n)&&C8(e,n,t[n]);return e},LEe=(e,t)=>{var n={};for(var r in e)TQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&SE)for(var r of SE(e))t.indexOf(r)<0&&SQ.call(e,r)&&(n[r]=e[r]);return n};function MEe(e){return M.createElement("svg",D2({viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),M.createElement("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function FEe(e){var t=e,{indeterminate:n}=t,r=LEe(t,["indeterminate"]);return n?M.createElement("svg",D2({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 6"},r),M.createElement("rect",{width:"32",height:"6",fill:"currentColor",rx:"3"})):M.createElement(MEe,D2({},r))}var BEe=Object.defineProperty,jEe=Object.defineProperties,UEe=Object.getOwnPropertyDescriptors,O8=Object.getOwnPropertySymbols,VEe=Object.prototype.hasOwnProperty,zEe=Object.prototype.propertyIsEnumerable,P8=(e,t,n)=>t in e?BEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,HEe=(e,t)=>{for(var n in t||(t={}))VEe.call(t,n)&&P8(e,n,t[n]);if(O8)for(var n of O8(t))zEe.call(t,n)&&P8(e,n,t[n]);return e},WEe=(e,t)=>jEe(e,UEe(t));const qEe={xs:16,sm:20,md:24,lg:30,xl:36},YEe={xs:8,sm:10,md:14,lg:16,xl:20};var GEe=lt((e,{size:t,radius:n,color:r,transitionDuration:i,labelPosition:s,error:o,indeterminate:a},u)=>{const l=e.fn.size({size:t,sizes:qEe}),c=e.fn.variant({variant:"filled",color:r}),f=e.fn.variant({variant:"filled",color:"red"}).background;return{icon:{ref:u("icon"),color:a?"inherit":e.white,transform:a?"none":"translateY(5px) scale(0.5)",opacity:a?1:0,transitionProperty:"opacity, transform",transitionTimingFunction:"ease",transitionDuration:`${i}ms`,pointerEvents:"none",width:e.fn.size({size:t,sizes:YEe}),position:"absolute",zIndex:1,top:0,bottom:0,left:0,right:0,margin:"auto","@media (prefers-reduced-motion)":{transitionDuration:e.respectReducedMotion?"0ms":void 0}},inner:{position:"relative",width:l,height:l,order:s==="left"?2:1},input:WEe(HEe({},e.fn.focusStyles()),{appearance:"none",backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white,border:`1px solid ${o?f:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,width:l,height:l,borderRadius:e.fn.radius(n),padding:0,display:"block",margin:0,transition:`border-color ${i}ms ease, background-color ${i}ms ease`,cursor:e.cursorType,"&:checked":{backgroundColor:c.background,borderColor:c.background,[`& + .${u("icon")}`]:{opacity:1,color:e.white,transform:"translateY(0) scale(1)"}},"&:disabled":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],borderColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[3],cursor:"not-allowed",[`& + .${u("icon")}`]:{color:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[5]}}})}});const KEe=GEe;var QEe=Object.defineProperty,XEe=Object.defineProperties,JEe=Object.getOwnPropertyDescriptors,R8=Object.getOwnPropertySymbols,ZEe=Object.prototype.hasOwnProperty,eTe=Object.prototype.propertyIsEnumerable,N8=(e,t,n)=>t in e?QEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tTe=(e,t)=>{for(var n in t||(t={}))ZEe.call(t,n)&&N8(e,n,t[n]);if(R8)for(var n of R8(t))eTe.call(t,n)&&N8(e,n,t[n]);return e},nTe=(e,t)=>XEe(e,JEe(t));const rTe={xs:16,sm:20,md:24,lg:30,xl:36};var iTe=lt((e,{labelPosition:t,size:n})=>({root:{},body:{display:"inline-flex"},labelWrapper:nTe(tTe({},e.fn.fontStyles()),{display:"inline-flex",flexDirection:"column",WebkitTapHighlightColor:"transparent",fontSize:e.fn.size({size:n,sizes:e.fontSizes}),lineHeight:`${e.fn.size({size:n,sizes:rTe})}px`,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,cursor:e.cursorType,order:t==="left"?1:2}),description:{marginTop:`calc(${e.spacing.xs}px / 2)`,[t==="left"?"paddingRight":"paddingLeft"]:e.spacing.sm},error:{marginTop:`calc(${e.spacing.xs}px / 2)`,[t==="left"?"paddingRight":"paddingLeft"]:e.spacing.sm},label:{cursor:e.cursorType,[t==="left"?"paddingRight":"paddingLeft"]:e.spacing.sm,"&[data-disabled]":{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]}}}));const sTe=iTe;var oTe=Object.defineProperty,xE=Object.getOwnPropertySymbols,xQ=Object.prototype.hasOwnProperty,IQ=Object.prototype.propertyIsEnumerable,k8=(e,t,n)=>t in e?oTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,aTe=(e,t)=>{for(var n in t||(t={}))xQ.call(t,n)&&k8(e,n,t[n]);if(xE)for(var n of xE(t))IQ.call(t,n)&&k8(e,n,t[n]);return e},uTe=(e,t)=>{var n={};for(var r in e)xQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&xE)for(var r of xE(e))t.indexOf(r)<0&&IQ.call(e,r)&&(n[r]=e[r]);return n};function ND(e){var t=e,{__staticSelector:n,className:r,classNames:i,styles:s,unstyled:o,children:a,label:u,description:l,id:c,disabled:f,error:d,size:h,labelPosition:p}=t,g=uTe(t,["__staticSelector","className","classNames","styles","unstyled","children","label","description","id","disabled","error","size","labelPosition"]);const{classes:y,cx:m}=sTe({size:h,labelPosition:p},{name:n,styles:s,classNames:i,unstyled:o});return M.createElement(ut,aTe({className:m(y.root,r)},g),M.createElement("div",{className:m(y.body)},a,M.createElement("div",{className:y.labelWrapper},u&&M.createElement("label",{className:y.label,"data-disabled":f||void 0,htmlFor:c},u),l&&M.createElement(_o.Description,{className:y.description},l),d&&d!=="boolean"&&M.createElement(_o.Error,{className:y.error},d))))}ND.displayName="@mantine/core/InlineInput";var lTe=Object.defineProperty,IE=Object.getOwnPropertySymbols,AQ=Object.prototype.hasOwnProperty,CQ=Object.prototype.propertyIsEnumerable,D8=(e,t,n)=>t in e?lTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,y1=(e,t)=>{for(var n in t||(t={}))AQ.call(t,n)&&D8(e,n,t[n]);if(IE)for(var n of IE(t))CQ.call(t,n)&&D8(e,n,t[n]);return e},cTe=(e,t)=>{var n={};for(var r in e)AQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&IE)for(var r of IE(e))t.indexOf(r)<0&&CQ.call(e,r)&&(n[r]=e[r]);return n};const fTe={size:"sm",transitionDuration:100,icon:FEe,labelPosition:"right"},om=E.forwardRef((e,t)=>{const n=ht("Checkbox",fTe,e),{className:r,style:i,sx:s,checked:o,disabled:a,color:u,label:l,indeterminate:c,id:f,size:d,radius:h,wrapperProps:p,children:g,classNames:y,styles:m,transitionDuration:_,icon:v,unstyled:T,labelPosition:S,description:w,error:x}=n,A=cTe(n,["className","style","sx","checked","disabled","color","label","indeterminate","id","size","radius","wrapperProps","children","classNames","styles","transitionDuration","icon","unstyled","labelPosition","description","error"]),$=yEe(),D=zu(f),{systemStyles:P,rest:q}=ch(A),{classes:V}=KEe({size:($==null?void 0:$.size)||d,radius:h,color:u,transitionDuration:_,labelPosition:S,error:!!x,indeterminate:c},{name:"Checkbox",classNames:y,styles:m,unstyled:T}),U=$?{checked:$.value.includes(q.value),onChange:$.onChange}:{};return M.createElement(ND,y1(y1({className:r,sx:s,style:i,id:D,size:($==null?void 0:$.size)||d,labelPosition:S,label:l,description:w,error:x,disabled:a,__staticSelector:"Checkbox",classNames:y,styles:m,unstyled:T,"data-checked":U.checked||void 0},P),p),M.createElement("div",{className:V.inner},M.createElement("input",y1(y1({id:D,ref:t,type:"checkbox",className:V.input,checked:o,disabled:a},q),U)),M.createElement(v,{indeterminate:c,className:V.icon})))});om.displayName="@mantine/core/Checkbox";om.Group=EQ;var dTe=lt((e,{fluid:t,size:n,sizes:r})=>({root:{paddingLeft:e.spacing.md,paddingRight:e.spacing.md,maxWidth:t?"100%":e.fn.size({size:n,sizes:r}),marginLeft:"auto",marginRight:"auto"}}));const hTe=dTe;var pTe=Object.defineProperty,AE=Object.getOwnPropertySymbols,OQ=Object.prototype.hasOwnProperty,PQ=Object.prototype.propertyIsEnumerable,$8=(e,t,n)=>t in e?pTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mTe=(e,t)=>{for(var n in t||(t={}))OQ.call(t,n)&&$8(e,n,t[n]);if(AE)for(var n of AE(t))PQ.call(t,n)&&$8(e,n,t[n]);return e},gTe=(e,t)=>{var n={};for(var r in e)OQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&AE)for(var r of AE(e))t.indexOf(r)<0&&PQ.call(e,r)&&(n[r]=e[r]);return n};const yTe={sizes:{xs:540,sm:720,md:960,lg:1140,xl:1320}},RQ=E.forwardRef((e,t)=>{const n=ht("Container",yTe,e),{className:r,fluid:i,size:s,unstyled:o,sizes:a}=n,u=gTe(n,["className","fluid","size","unstyled","sizes"]),{classes:l,cx:c}=hTe({fluid:i,size:s,sizes:a},{unstyled:o,name:"Container"});return M.createElement(ut,mTe({className:c(l.root,r),ref:t},u))});RQ.displayName="@mantine/core/Container";function NQ({transitions:e,duration:t=250,exitDuration:n=t,mounted:r,children:i,timingFunction:s,onExit:o,onEntered:a,onEnter:u,onExited:l}){const{transitionDuration:c,transitionStatus:f,transitionTimingFunction:d}=EK({mounted:r,duration:t,exitDuration:n,timingFunction:s,onExit:o,onEntered:a,onEnter:u,onExited:l});if(c===0)return r?M.createElement(M.Fragment,null,i({})):null;if(f==="exited")return null;const h=Object.keys(e).reduce((p,g)=>(p[g]=wK({duration:e[g].duration,transition:e[g].transition,timingFunction:e[g].timingFunction||d,state:f}),p),{});return M.createElement(M.Fragment,null,i(h))}NQ.displayName="@mantine/core/GroupedTransition";var _Te=lt((e,{zIndex:t})=>({root:{position:"absolute",top:0,bottom:0,left:0,right:0,zIndex:t}}));const vTe=_Te;var bTe=Object.defineProperty,wTe=Object.defineProperties,ETe=Object.getOwnPropertyDescriptors,CE=Object.getOwnPropertySymbols,kQ=Object.prototype.hasOwnProperty,DQ=Object.prototype.propertyIsEnumerable,L8=(e,t,n)=>t in e?bTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,SC=(e,t)=>{for(var n in t||(t={}))kQ.call(t,n)&&L8(e,n,t[n]);if(CE)for(var n of CE(t))DQ.call(t,n)&&L8(e,n,t[n]);return e},TTe=(e,t)=>wTe(e,ETe(t)),STe=(e,t)=>{var n={};for(var r in e)kQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&CE)for(var r of CE(e))t.indexOf(r)<0&&DQ.call(e,r)&&(n[r]=e[r]);return n};const xTe={opacity:.6,color:"#fff",zIndex:Oo("modal"),radius:0,blur:0},$Q=E.forwardRef((e,t)=>{const n=ht("Overlay",xTe,e),{opacity:r,blur:i,color:s,gradient:o,zIndex:a,radius:u,sx:l,unstyled:c,className:f}=n,d=STe(n,["opacity","blur","color","gradient","zIndex","radius","sx","unstyled","className"]),{classes:h,cx:p}=vTe({zIndex:a},{name:"Overlay",unstyled:c}),g=o?{backgroundImage:o}:{backgroundColor:s},y=m=>M.createElement(ut,SC({ref:t,className:p(h.root,f),sx:[_=>TTe(SC({},g),{opacity:r,borderRadius:_.fn.size({size:u,sizes:_.radius})}),...Hd(l)]},m));return i?M.createElement(ut,SC({className:p(h.root,f),sx:[{backdropFilter:`blur(${i}px)`},...Hd(l)]},d),y()):y(d)});$Q.displayName="@mantine/core/Overlay";const ITe=$Q,ATe={gap:{type:"spacing",property:"gap"},rowGap:{type:"spacing",property:"rowGap"},columnGap:{type:"spacing",property:"columnGap"},align:{type:"default",property:"alignItems"},justify:{type:"default",property:"justifyContent"},wrap:{type:"default",property:"flexWrap"},direction:{type:"default",property:"flexDirection"}};var CTe=Object.defineProperty,OTe=Object.defineProperties,PTe=Object.getOwnPropertyDescriptors,OE=Object.getOwnPropertySymbols,LQ=Object.prototype.hasOwnProperty,MQ=Object.prototype.propertyIsEnumerable,M8=(e,t,n)=>t in e?CTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,RTe=(e,t)=>{for(var n in t||(t={}))LQ.call(t,n)&&M8(e,n,t[n]);if(OE)for(var n of OE(t))MQ.call(t,n)&&M8(e,n,t[n]);return e},NTe=(e,t)=>OTe(e,PTe(t)),kTe=(e,t)=>{var n={};for(var r in e)LQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&OE)for(var r of OE(e))t.indexOf(r)<0&&MQ.call(e,r)&&(n[r]=e[r]);return n};const DTe={},am=E.forwardRef((e,t)=>{const n=ht("Flex",DTe,e),{gap:r,rowGap:i,columnGap:s,align:o,justify:a,wrap:u,direction:l,sx:c}=n,f=kTe(n,["gap","rowGap","columnGap","align","justify","wrap","direction","sx"]);return M.createElement(ut,NTe(RTe({},f),{sx:[{display:"flex"},d=>S2({gap:r,rowGap:i,columnGap:s,align:o,justify:a,wrap:u,direction:l},d,ATe),...Hd(c)],ref:t}))});am.displayName="@mantine/core/Flex";const FQ=E.createContext(null),$Te=FQ.Provider,LTe=()=>E.useContext(FQ);var MTe=Object.defineProperty,F8=Object.getOwnPropertySymbols,FTe=Object.prototype.hasOwnProperty,BTe=Object.prototype.propertyIsEnumerable,B8=(e,t,n)=>t in e?MTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jTe=(e,t)=>{for(var n in t||(t={}))FTe.call(t,n)&&B8(e,n,t[n]);if(F8)for(var n of F8(t))BTe.call(t,n)&&B8(e,n,t[n]);return e};const kD=(e,t)=>e==="content"?"auto":e==="auto"?"0px":e?`${100/(t/e)}%`:void 0,BQ=(e,t,n)=>n||e==="auto"||e==="content"?"unset":kD(e,t),jQ=(e,t)=>{if(e)return e==="auto"||t?1:0},UQ=(e,t)=>e===0?0:e?`${100/(t/e)}%`:void 0;function UTe({sizes:e,offsets:t,orders:n,theme:r,columns:i,grow:s}){return Fpe.reduce((o,a)=>(o[`@media (min-width: ${r.breakpoints[a]}px)`]={order:n[a],flexBasis:kD(e[a],i),flexShrink:0,width:e[a]==="content"?"auto":void 0,maxWidth:BQ(e[a],i,s),marginLeft:UQ(t[a],i),flexGrow:jQ(e[a],s)},o),{})}var VTe=lt((e,{gutter:t,grow:n,offset:r,offsetXs:i,offsetSm:s,offsetMd:o,offsetLg:a,offsetXl:u,columns:l,span:c,xs:f,sm:d,md:h,lg:p,xl:g,order:y,orderXs:m,orderSm:_,orderMd:v,orderLg:T,orderXl:S})=>({root:jTe({boxSizing:"border-box",flexGrow:jQ(c,n),order:y,padding:e.fn.size({size:t,sizes:e.spacing})/2,marginLeft:UQ(r,l),flexBasis:kD(c,l),flexShrink:0,width:c==="content"?"auto":void 0,maxWidth:BQ(c,l,n)},UTe({sizes:{xs:f,sm:d,md:h,lg:p,xl:g},offsets:{xs:i,sm:s,md:o,lg:a,xl:u},orders:{xs:m,sm:_,md:v,lg:T,xl:S},theme:e,columns:l,grow:n}))}));const zTe=VTe;var HTe=Object.defineProperty,PE=Object.getOwnPropertySymbols,VQ=Object.prototype.hasOwnProperty,zQ=Object.prototype.propertyIsEnumerable,j8=(e,t,n)=>t in e?HTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,WTe=(e,t)=>{for(var n in t||(t={}))VQ.call(t,n)&&j8(e,n,t[n]);if(PE)for(var n of PE(t))zQ.call(t,n)&&j8(e,n,t[n]);return e},qTe=(e,t)=>{var n={};for(var r in e)VQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&PE)for(var r of PE(e))t.indexOf(r)<0&&zQ.call(e,r)&&(n[r]=e[r]);return n};const YTe={};function GTe(e){return e==="auto"||e==="content"?!0:typeof e=="number"&&e>0&&e%1===0}const HQ=E.forwardRef((e,t)=>{const n=ht("Grid.Col",YTe,e),{children:r,span:i,offset:s,offsetXs:o,offsetSm:a,offsetMd:u,offsetLg:l,offsetXl:c,xs:f,sm:d,md:h,lg:p,xl:g,order:y,orderXs:m,orderSm:_,orderMd:v,orderLg:T,orderXl:S,className:w,id:x,unstyled:A}=n,$=qTe(n,["children","span","offset","offsetXs","offsetSm","offsetMd","offsetLg","offsetXl","xs","sm","md","lg","xl","order","orderXs","orderSm","orderMd","orderLg","orderXl","className","id","unstyled"]),D=LTe();if(!D)throw new Error("[@mantine/core] Grid.Col was used outside of Grid context");const P=i||D.columns,{classes:q,cx:V}=zTe({gutter:D.gutter,offset:s,offsetXs:o,offsetSm:a,offsetMd:u,offsetLg:l,offsetXl:c,xs:f,sm:d,md:h,lg:p,xl:g,order:y,orderXs:m,orderSm:_,orderMd:v,orderLg:T,orderXl:S,grow:D.grow,columns:D.columns,span:P},{unstyled:A,name:"Col"});return!GTe(P)||P>D.columns?null:M.createElement(ut,WTe({className:V(q.root,w),ref:t},$),r)});HQ.displayName="@mantine/core/Col";var KTe=lt((e,{justify:t,align:n,gutter:r})=>({root:{margin:-e.fn.size({size:r,sizes:e.spacing})/2,display:"flex",flexWrap:"wrap",justifyContent:t,alignItems:n}}));const QTe=KTe;var XTe=Object.defineProperty,RE=Object.getOwnPropertySymbols,WQ=Object.prototype.hasOwnProperty,qQ=Object.prototype.propertyIsEnumerable,U8=(e,t,n)=>t in e?XTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,JTe=(e,t)=>{for(var n in t||(t={}))WQ.call(t,n)&&U8(e,n,t[n]);if(RE)for(var n of RE(t))qQ.call(t,n)&&U8(e,n,t[n]);return e},ZTe=(e,t)=>{var n={};for(var r in e)WQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&RE)for(var r of RE(e))t.indexOf(r)<0&&qQ.call(e,r)&&(n[r]=e[r]);return n};const eSe={gutter:"md",justify:"flex-start",align:"stretch",columns:12},ml=E.forwardRef((e,t)=>{const n=ht("Grid",eSe,e),{gutter:r,children:i,grow:s,justify:o,align:a,columns:u,className:l,id:c,unstyled:f}=n,d=ZTe(n,["gutter","children","grow","justify","align","columns","className","id","unstyled"]),{classes:h,cx:p}=QTe({gutter:r,justify:o,align:a},{unstyled:f,name:"Grid"});return M.createElement($Te,{value:{gutter:r,grow:s,columns:u}},M.createElement(ut,JTe({className:p(h.root,l),ref:t},d),i))});ml.Col=HQ;ml.displayName="@mantine/core/Grid";function tSe({open:e,close:t,openDelay:n,closeDelay:r}){const i=E.useRef(-1),s=E.useRef(-1),o=()=>{window.clearTimeout(i.current),window.clearTimeout(s.current)},a=()=>{o(),n===0?e():i.current=window.setTimeout(e,n)},u=()=>{o(),r===0?t():s.current=window.setTimeout(t,r)};return E.useEffect(()=>o,[]),{openDropdown:a,closeDropdown:u}}var nSe=Object.defineProperty,V8=Object.getOwnPropertySymbols,rSe=Object.prototype.hasOwnProperty,iSe=Object.prototype.propertyIsEnumerable,z8=(e,t,n)=>t in e?nSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sSe=(e,t)=>{for(var n in t||(t={}))rSe.call(t,n)&&z8(e,n,t[n]);if(V8)for(var n of V8(t))iSe.call(t,n)&&z8(e,n,t[n]);return e};function oSe(e){return M.createElement("svg",sSe({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),M.createElement("path",{d:"M2.5 1H12.5C13.3284 1 14 1.67157 14 2.5V12.5C14 13.3284 13.3284 14 12.5 14H2.5C1.67157 14 1 13.3284 1 12.5V2.5C1 1.67157 1.67157 1 2.5 1ZM2.5 2C2.22386 2 2 2.22386 2 2.5V8.3636L3.6818 6.6818C3.76809 6.59551 3.88572 6.54797 4.00774 6.55007C4.12975 6.55216 4.24568 6.60372 4.32895 6.69293L7.87355 10.4901L10.6818 7.6818C10.8575 7.50607 11.1425 7.50607 11.3182 7.6818L13 9.3636V2.5C13 2.22386 12.7761 2 12.5 2H2.5ZM2 12.5V9.6364L3.98887 7.64753L7.5311 11.4421L8.94113 13H2.5C2.22386 13 2 12.7761 2 12.5ZM12.5 13H10.155L8.48336 11.153L11 8.6364L13 10.6364V12.5C13 12.7761 12.7761 13 12.5 13ZM6.64922 5.5C6.64922 5.03013 7.03013 4.64922 7.5 4.64922C7.96987 4.64922 8.35078 5.03013 8.35078 5.5C8.35078 5.96987 7.96987 6.35078 7.5 6.35078C7.03013 6.35078 6.64922 5.96987 6.64922 5.5ZM7.5 3.74922C6.53307 3.74922 5.74922 4.53307 5.74922 5.5C5.74922 6.46693 6.53307 7.25078 7.5 7.25078C8.46693 7.25078 9.25078 6.46693 9.25078 5.5C9.25078 4.53307 8.46693 3.74922 7.5 3.74922Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}var aSe=Object.defineProperty,uSe=Object.defineProperties,lSe=Object.getOwnPropertyDescriptors,H8=Object.getOwnPropertySymbols,cSe=Object.prototype.hasOwnProperty,fSe=Object.prototype.propertyIsEnumerable,W8=(e,t,n)=>t in e?aSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,q8=(e,t)=>{for(var n in t||(t={}))cSe.call(t,n)&&W8(e,n,t[n]);if(H8)for(var n of H8(t))fSe.call(t,n)&&W8(e,n,t[n]);return e},Y8=(e,t)=>uSe(e,lSe(t)),dSe=lt((e,{radius:t})=>({root:{},imageWrapper:{position:"relative"},figure:{margin:0},image:Y8(q8({},e.fn.fontStyles()),{display:"block",width:"100%",height:"100%",border:0,borderRadius:e.fn.size({size:t,sizes:e.radius})}),caption:{color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[7],marginTop:e.spacing.xs},placeholder:Y8(q8({},e.fn.cover()),{display:"flex",alignItems:"center",justifyContent:"center",color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],backgroundColor:e.colorScheme==="dark"?e.colors.dark[8]:e.colors.gray[0],borderRadius:e.fn.size({size:t,sizes:e.radius})})}));const hSe=dSe;var pSe=Object.defineProperty,NE=Object.getOwnPropertySymbols,YQ=Object.prototype.hasOwnProperty,GQ=Object.prototype.propertyIsEnumerable,G8=(e,t,n)=>t in e?pSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xC=(e,t)=>{for(var n in t||(t={}))YQ.call(t,n)&&G8(e,n,t[n]);if(NE)for(var n of NE(t))GQ.call(t,n)&&G8(e,n,t[n]);return e},mSe=(e,t)=>{var n={};for(var r in e)YQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&NE)for(var r of NE(e))t.indexOf(r)<0&&GQ.call(e,r)&&(n[r]=e[r]);return n};const gSe={fit:"cover",width:"100%",height:"auto",radius:0},Y_=E.forwardRef((e,t)=>{const n=ht("Image",gSe,e),{className:r,alt:i,src:s,fit:o,width:a,height:u,radius:l,imageProps:c,withPlaceholder:f,placeholder:d,imageRef:h,classNames:p,styles:g,caption:y,unstyled:m,style:_}=n,v=mSe(n,["className","alt","src","fit","width","height","radius","imageProps","withPlaceholder","placeholder","imageRef","classNames","styles","caption","unstyled","style"]),{classes:T,cx:S}=hSe({radius:l},{classNames:p,styles:g,unstyled:m,name:"Image"}),[w,x]=E.useState(!s),A=f&&w;return yo(()=>{x(!1)},[s]),M.createElement(ut,xC({className:S(T.root,r),ref:t,style:xC({width:a},_)},v),M.createElement("figure",{className:T.figure},M.createElement("div",{className:T.imageWrapper},M.createElement("img",xC({className:T.image,src:s,alt:i,style:{objectFit:o,width:a,height:u},ref:h,onError:$=>{x(!0),typeof(c==null?void 0:c.onError)=="function"&&c.onError($)}},c)),A&&M.createElement("div",{className:T.placeholder,title:i},d||M.createElement("div",null,M.createElement(oSe,{style:{width:40,height:40}})))),!!y&&M.createElement(mt,{component:"figcaption",size:"sm",align:"center",className:T.caption},y)))});Y_.displayName="@mantine/core/Image";function ySe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var _Se=E.useLayoutEffect,vSe=function(t){var n=E.useRef(t);return _Se(function(){n.current=t}),n},K8=function(t,n){if(typeof t=="function"){t(n);return}t.current=n},bSe=function(t,n){var r=E.useRef();return E.useCallback(function(i){t.current=i,r.current&&K8(r.current,null),r.current=n,n&&K8(n,i)},[n])},Q8={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},X8=function(t){Object.keys(Q8).forEach(function(n){t.style.setProperty(n,Q8[n],"important")})},to=null,wSe=function(t,n){var r=t.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function ESe(e,t,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),to||(to=document.createElement("textarea"),to.setAttribute("tabindex","-1"),to.setAttribute("aria-hidden","true"),X8(to)),to.parentNode===null&&document.body.appendChild(to);var i=e.paddingSize,s=e.borderSize,o=e.sizingStyle,a=o.boxSizing;Object.keys(o).forEach(function(d){var h=d;to.style[h]=o[h]}),X8(to),to.value=t;var u=wSe(to,e);to.value="x";var l=to.scrollHeight-i,c=l*n;a==="border-box"&&(c=c+i+s),u=Math.max(c,u);var f=l*r;return a==="border-box"&&(f=f+i+s),u=Math.min(f,u),[u,l]}var J8=function(){},TSe=function(t,n){return t.reduce(function(r,i){return r[i]=n[i],r},{})},SSe=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],xSe=!!document.documentElement.currentStyle,ISe=function(t){var n=window.getComputedStyle(t);if(n===null)return null;var r=TSe(SSe,n),i=r.boxSizing;if(i==="")return null;xSe&&i==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var s=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),o=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:s,borderSize:o}},ASe=function(t){var n=vSe(t);E.useLayoutEffect(function(){var r=function(s){n.current(s)};return window.addEventListener("resize",r),function(){window.removeEventListener("resize",r)}},[])},CSe=function(t,n){var r=t.cacheMeasurements,i=t.maxRows,s=t.minRows,o=t.onChange,a=o===void 0?J8:o,u=t.onHeightChange,l=u===void 0?J8:u,c=ySe(t,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]),f=c.value!==void 0,d=E.useRef(null),h=bSe(d,n),p=E.useRef(0),g=E.useRef(),y=function(){var v=d.current,T=r&&g.current?g.current:ISe(v);if(T){g.current=T;var S=ESe(T,v.value||v.placeholder||"x",s,i),w=S[0],x=S[1];p.current!==w&&(p.current=w,v.style.setProperty("height",w+"px","important"),l(w,{rowHeight:x}))}},m=function(v){f||y(),a(v)};return E.useLayoutEffect(y),ASe(y),E.createElement("textarea",dr({},c,{onChange:m,ref:h}))},OSe=E.forwardRef(CSe);const PSe=OSe;var RSe=lt(e=>({input:{paddingTop:e.spacing.xs,paddingBottom:e.spacing.xs}}));const NSe=RSe;var kSe=Object.defineProperty,DSe=Object.defineProperties,$Se=Object.getOwnPropertyDescriptors,kE=Object.getOwnPropertySymbols,KQ=Object.prototype.hasOwnProperty,QQ=Object.prototype.propertyIsEnumerable,Z8=(e,t,n)=>t in e?kSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Rh=(e,t)=>{for(var n in t||(t={}))KQ.call(t,n)&&Z8(e,n,t[n]);if(kE)for(var n of kE(t))QQ.call(t,n)&&Z8(e,n,t[n]);return e},IC=(e,t)=>DSe(e,$Se(t)),LSe=(e,t)=>{var n={};for(var r in e)KQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&kE)for(var r of kE(e))t.indexOf(r)<0&&QQ.call(e,r)&&(n[r]=e[r]);return n};const MSe={autosize:!1,size:"sm",__staticSelector:"Textarea"},XQ=E.forwardRef((e,t)=>{const n=ht("Textarea",MSe,e),{autosize:r,maxRows:i,minRows:s,label:o,error:a,description:u,id:l,className:c,required:f,style:d,wrapperProps:h,classNames:p,styles:g,size:y,__staticSelector:m,sx:_,errorProps:v,descriptionProps:T,labelProps:S,inputWrapperOrder:w,inputContainer:x,unstyled:A,withAsterisk:$}=n,D=LSe(n,["autosize","maxRows","minRows","label","error","description","id","className","required","style","wrapperProps","classNames","styles","size","__staticSelector","sx","errorProps","descriptionProps","labelProps","inputWrapperOrder","inputContainer","unstyled","withAsterisk"]),P=zu(l),{classes:q,cx:V}=NSe(),{systemStyles:U,rest:se}=ch(D),oe=Rh({required:f,ref:t,invalid:!!a,id:P,classNames:IC(Rh({},p),{input:V(q.input,p==null?void 0:p.input)}),styles:g,__staticSelector:m,size:y,multiline:!0,unstyled:A},se);return M.createElement(_o.Wrapper,Rh(Rh({label:o,error:a,id:P,description:u,required:f,style:d,className:c,classNames:p,styles:g,size:y,__staticSelector:m,sx:_,errorProps:v,labelProps:S,descriptionProps:T,inputContainer:x,inputWrapperOrder:w,unstyled:A,withAsterisk:$},U),h),r?M.createElement(_o,IC(Rh({},oe),{component:PSe,maxRows:i,minRows:s})):M.createElement(_o,IC(Rh({},oe),{component:"textarea",rows:s})))});XQ.displayName="@mantine/core/Textarea";const JQ=E.createContext(null);function FSe(){return E.useContext(JQ)||{}}var BSe=lt((e,{spacing:t,center:n},r)=>({itemWrapper:{ref:r("itemWrapper"),display:"inline-flex",flexDirection:"column",whiteSpace:"normal"},item:{whiteSpace:"nowrap",lineHeight:n?1:e.lineHeight,"&:not(:first-of-type)":{marginTop:e.fn.size({size:t,sizes:e.spacing})}},withIcon:{listStyle:"none",[`& .${r("itemWrapper")}`]:{display:"inline-flex",alignItems:n?"center":"flex-start",flexDirection:"row"}},itemIcon:{display:"inline-block",verticalAlign:"middle",marginRight:e.spacing.sm}}));const jSe=BSe;var USe=Object.defineProperty,DE=Object.getOwnPropertySymbols,ZQ=Object.prototype.hasOwnProperty,eX=Object.prototype.propertyIsEnumerable,e9=(e,t,n)=>t in e?USe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,VSe=(e,t)=>{for(var n in t||(t={}))ZQ.call(t,n)&&e9(e,n,t[n]);if(DE)for(var n of DE(t))eX.call(t,n)&&e9(e,n,t[n]);return e},zSe=(e,t)=>{var n={};for(var r in e)ZQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&DE)for(var r of DE(e))t.indexOf(r)<0&&eX.call(e,r)&&(n[r]=e[r]);return n};function tX(e){var t=e,{className:n,children:r,icon:i}=t,s=zSe(t,["className","children","icon"]);const{icon:o,spacing:a,center:u,listStyleType:l,size:c,withPadding:f}=FSe(),{classNames:d,styles:h,unstyled:p}=V_(),g=i||o,{classes:y,cx:m}=jSe({withPadding:f,size:c,listStyleType:l,center:u,spacing:a},{classNames:d,styles:h,unstyled:p,name:"List"});return M.createElement(ut,VSe({component:"li",className:m(y.item,{[y.withIcon]:g},n)},s),M.createElement("div",{className:y.itemWrapper},g&&M.createElement("span",{className:y.itemIcon},g),M.createElement("span",null,r)))}tX.displayName="@mantine/core/ListItem";var HSe=Object.defineProperty,WSe=Object.defineProperties,qSe=Object.getOwnPropertyDescriptors,t9=Object.getOwnPropertySymbols,YSe=Object.prototype.hasOwnProperty,GSe=Object.prototype.propertyIsEnumerable,n9=(e,t,n)=>t in e?HSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,KSe=(e,t)=>{for(var n in t||(t={}))YSe.call(t,n)&&n9(e,n,t[n]);if(t9)for(var n of t9(t))GSe.call(t,n)&&n9(e,n,t[n]);return e},QSe=(e,t)=>WSe(e,qSe(t)),XSe=lt((e,{withPadding:t,size:n,listStyleType:r})=>({root:QSe(KSe({},e.fn.fontStyles()),{listStyleType:r,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,fontSize:e.fn.size({size:n,sizes:e.fontSizes}),lineHeight:e.lineHeight,margin:0,paddingLeft:t?e.spacing.xl:0,listStylePosition:"inside"})}));const JSe=XSe;var ZSe=Object.defineProperty,$E=Object.getOwnPropertySymbols,nX=Object.prototype.hasOwnProperty,rX=Object.prototype.propertyIsEnumerable,r9=(e,t,n)=>t in e?ZSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,exe=(e,t)=>{for(var n in t||(t={}))nX.call(t,n)&&r9(e,n,t[n]);if($E)for(var n of $E(t))rX.call(t,n)&&r9(e,n,t[n]);return e},txe=(e,t)=>{var n={};for(var r in e)nX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&$E)for(var r of $E(e))t.indexOf(r)<0&&rX.call(e,r)&&(n[r]=e[r]);return n};const nxe={type:"unordered",size:"md",spacing:0},um=E.forwardRef((e,t)=>{const n=ht("List",nxe,e),{children:r,type:i,size:s,listStyleType:o,withPadding:a,center:u,spacing:l,icon:c,className:f,styles:d,classNames:h,unstyled:p}=n,g=txe(n,["children","type","size","listStyleType","withPadding","center","spacing","icon","className","styles","classNames","unstyled"]),{classes:y,cx:m}=JSe({withPadding:a,size:s,listStyleType:o,center:u,spacing:l},{classNames:h,styles:d,name:"List",unstyled:p});return M.createElement(SY,{classNames:h,styles:d,unstyled:p},M.createElement(JQ.Provider,{value:{spacing:l,center:u,icon:c,listStyleType:o,size:s,withPadding:a}},M.createElement(ut,exe({component:i==="unordered"?"ul":"ol",className:m(y.root,f),ref:t},g),r)))});um.Item=tX;um.displayName="@mantine/core/List";var rxe=lt(e=>({divider:{margin:`calc(${e.spacing.xs}px / 2) -5px`,borderTop:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]}`}}));const ixe=rxe;var sxe=Object.defineProperty,LE=Object.getOwnPropertySymbols,iX=Object.prototype.hasOwnProperty,sX=Object.prototype.propertyIsEnumerable,i9=(e,t,n)=>t in e?sxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,oxe=(e,t)=>{for(var n in t||(t={}))iX.call(t,n)&&i9(e,n,t[n]);if(LE)for(var n of LE(t))sX.call(t,n)&&i9(e,n,t[n]);return e},axe=(e,t)=>{var n={};for(var r in e)iX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&LE)for(var r of LE(e))t.indexOf(r)<0&&sX.call(e,r)&&(n[r]=e[r]);return n};function oX(e){var t=e,{children:n,className:r}=t,i=axe(t,["children","className"]);const{classNames:s,styles:o,unstyled:a}=V_(),{classes:u,cx:l}=ixe(null,{name:"Menu",classNames:s,styles:o,unstyled:a});return M.createElement(ut,oxe({className:l(u.divider,r)},i))}oX.displayName="@mantine/core/MenuDivider";const aX={context:"Menu component was not found in the tree",children:"Menu.Target component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported"},[uxe,DD]=Xq(aX.context);var lxe=Object.defineProperty,ME=Object.getOwnPropertySymbols,uX=Object.prototype.hasOwnProperty,lX=Object.prototype.propertyIsEnumerable,s9=(e,t,n)=>t in e?lxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cxe=(e,t)=>{for(var n in t||(t={}))uX.call(t,n)&&s9(e,n,t[n]);if(ME)for(var n of ME(t))lX.call(t,n)&&s9(e,n,t[n]);return e},fxe=(e,t)=>{var n={};for(var r in e)uX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ME)for(var r of ME(e))t.indexOf(r)<0&&lX.call(e,r)&&(n[r]=e[r]);return n};function cX(e){var t=e,{children:n,onMouseEnter:r,onMouseLeave:i}=t,s=fxe(t,["children","onMouseEnter","onMouseLeave"]);const o=E.useRef(),a=DD(),u=f=>{(f.key==="ArrowUp"||f.key==="ArrowDown")&&(f.preventDefault(),o.current.querySelectorAll("[data-menu-item]")[0].focus())},l=pl(r,()=>a.trigger==="hover"&&a.openDropdown()),c=pl(i,()=>a.trigger==="hover"&&a.closeDropdown());return M.createElement(ic.Dropdown,cxe({onMouseEnter:l,onMouseLeave:c,role:"menu","aria-orientation":"vertical"},s),M.createElement("div",{tabIndex:-1,"data-menu-dropdown":!0,"data-autofocus":!0,onKeyDown:u,ref:o,style:{outline:0}},n))}cX.displayName="@mantine/core/MenuDropdown";var dxe=Object.defineProperty,hxe=Object.defineProperties,pxe=Object.getOwnPropertyDescriptors,o9=Object.getOwnPropertySymbols,mxe=Object.prototype.hasOwnProperty,gxe=Object.prototype.propertyIsEnumerable,a9=(e,t,n)=>t in e?dxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yxe=(e,t)=>{for(var n in t||(t={}))mxe.call(t,n)&&a9(e,n,t[n]);if(o9)for(var n of o9(t))gxe.call(t,n)&&a9(e,n,t[n]);return e},_xe=(e,t)=>hxe(e,pxe(t)),vxe=lt((e,{color:t,radius:n})=>({item:_xe(yxe({},e.fn.fontStyles()),{WebkitTapHighlightColor:"transparent",fontSize:e.fontSizes.sm,border:0,backgroundColor:"transparent",outline:0,width:"100%",textAlign:"left",textDecoration:"none",boxSizing:"border-box",padding:`${e.spacing.xs}px ${e.spacing.sm}px`,cursor:"pointer",borderRadius:e.fn.radius(n),color:t?e.fn.variant({variant:"filled",primaryFallback:!1,color:t}).background:e.colorScheme==="dark"?e.colors.dark[0]:e.black,display:"flex",alignItems:"center","&:disabled":{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5],pointerEvents:"none",userSelect:"none"},"&[data-hovered]":{backgroundColor:t?e.fn.variant({variant:"light",color:t}).background:e.colorScheme==="dark"?e.fn.rgba(e.colors.dark[3],.35):e.colors.gray[0]}}),itemLabel:{flex:1},itemIcon:{display:"flex",justifyContent:"center",alignItems:"center",marginRight:e.spacing.xs},itemRightSection:{}}));const bxe=vxe;var wxe=Object.defineProperty,Exe=Object.defineProperties,Txe=Object.getOwnPropertyDescriptors,FE=Object.getOwnPropertySymbols,fX=Object.prototype.hasOwnProperty,dX=Object.prototype.propertyIsEnumerable,u9=(e,t,n)=>t in e?wxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Sxe=(e,t)=>{for(var n in t||(t={}))fX.call(t,n)&&u9(e,n,t[n]);if(FE)for(var n of FE(t))dX.call(t,n)&&u9(e,n,t[n]);return e},xxe=(e,t)=>Exe(e,Txe(t)),Ixe=(e,t)=>{var n={};for(var r in e)fX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&FE)for(var r of FE(e))t.indexOf(r)<0&&dX.call(e,r)&&(n[r]=e[r]);return n};const hX=E.forwardRef((e,t)=>{var n=e,{children:r,className:i,color:s,closeMenuOnClick:o,icon:a,rightSection:u}=n,l=Ixe(n,["children","className","color","closeMenuOnClick","icon","rightSection"]);const c=DD(),{classNames:f,styles:d,unstyled:h}=V_(),{classes:p,cx:g,theme:y}=bxe({radius:c.radius,color:s},{name:"Menu",classNames:f,styles:d,unstyled:h}),m=E.useRef(),_=c.getItemIndex(m.current),v=l,T=pl(v.onMouseLeave,()=>c.setHovered(-1)),S=pl(v.onMouseEnter,()=>c.setHovered(c.getItemIndex(m.current))),w=pl(v.onClick,()=>{typeof o=="boolean"?o&&c.closeDropdownImmediately():c.closeOnItemClick&&c.closeDropdownImmediately()}),x=pl(v.onFocus,()=>c.setHovered(c.getItemIndex(m.current)));return M.createElement(ut,xxe(Sxe({component:"button",type:"button"},l),{tabIndex:-1,onFocus:x,className:g(p.item,i),ref:ra(m,t),role:"menuitem","data-menu-item":!0,"data-hovered":c.hovered===_?!0:void 0,onMouseEnter:S,onMouseLeave:T,onClick:w,onKeyDown:ipe({siblingSelector:"[data-menu-item]",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:c.loop,dir:y.dir,orientation:"vertical",onKeyDown:v.onKeydown})}),a&&M.createElement("div",{className:p.itemIcon},a),r&&M.createElement("div",{className:p.itemLabel},r),u&&M.createElement("div",{className:p.itemRightSection},u))});hX.displayName="@mantine/core/MenuItem";const Axe=hX;var Cxe=lt(e=>({label:{color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],fontWeight:500,fontSize:e.fontSizes.xs,padding:`calc(${e.spacing.xs}px / 2) ${e.spacing.sm}px`,cursor:"default"}}));const Oxe=Cxe;var Pxe=Object.defineProperty,BE=Object.getOwnPropertySymbols,pX=Object.prototype.hasOwnProperty,mX=Object.prototype.propertyIsEnumerable,l9=(e,t,n)=>t in e?Pxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Rxe=(e,t)=>{for(var n in t||(t={}))pX.call(t,n)&&l9(e,n,t[n]);if(BE)for(var n of BE(t))mX.call(t,n)&&l9(e,n,t[n]);return e},Nxe=(e,t)=>{var n={};for(var r in e)pX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&BE)for(var r of BE(e))t.indexOf(r)<0&&mX.call(e,r)&&(n[r]=e[r]);return n};function gX(e){var t=e,{children:n,className:r}=t,i=Nxe(t,["children","className"]);const{classNames:s,styles:o,unstyled:a}=V_(),{classes:u,cx:l}=Oxe(null,{name:"Menu",classNames:s,styles:o,unstyled:a});return M.createElement(mt,Rxe({className:l(u.label,r)},i),n)}gX.displayName="@mantine/core/MenuLabel";var kxe=Object.defineProperty,jE=Object.getOwnPropertySymbols,yX=Object.prototype.hasOwnProperty,_X=Object.prototype.propertyIsEnumerable,c9=(e,t,n)=>t in e?kxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Dxe=(e,t)=>{for(var n in t||(t={}))yX.call(t,n)&&c9(e,n,t[n]);if(jE)for(var n of jE(t))_X.call(t,n)&&c9(e,n,t[n]);return e},$xe=(e,t)=>{var n={};for(var r in e)yX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&jE)for(var r of jE(e))t.indexOf(r)<0&&_X.call(e,r)&&(n[r]=e[r]);return n};const vX=E.forwardRef((e,t)=>{var n=e,{children:r,refProp:i="ref"}=n,s=$xe(n,["children","refProp"]);if(!B_(r))throw new Error(aX.children);const o=DD(),a=pl(r.props.onClick,()=>o.trigger==="click"&&o.toggleDropdown()),u=pl(r.props.onMouseEnter,()=>o.trigger==="hover"&&o.openDropdown()),l=pl(r.props.onMouseLeave,()=>o.trigger==="hover"&&o.closeDropdown());return M.createElement(ic.Target,Dxe({refProp:i,popupType:"menu",ref:t},s),E.cloneElement(r,{onClick:a,onMouseEnter:u,onMouseLeave:l,"data-expanded":o.opened?!0:void 0}))});vX.displayName="@mantine/core/MenuTarget";var Lxe=lt({dropdown:{padding:4}});const Mxe=Lxe;var Fxe=Object.defineProperty,Bxe=Object.defineProperties,jxe=Object.getOwnPropertyDescriptors,UE=Object.getOwnPropertySymbols,bX=Object.prototype.hasOwnProperty,wX=Object.prototype.propertyIsEnumerable,f9=(e,t,n)=>t in e?Fxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,d9=(e,t)=>{for(var n in t||(t={}))bX.call(t,n)&&f9(e,n,t[n]);if(UE)for(var n of UE(t))wX.call(t,n)&&f9(e,n,t[n]);return e},h9=(e,t)=>Bxe(e,jxe(t)),Uxe=(e,t)=>{var n={};for(var r in e)bX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&UE)for(var r of UE(e))t.indexOf(r)<0&&wX.call(e,r)&&(n[r]=e[r]);return n};const Vxe={closeOnItemClick:!0,loop:!0,trigger:"click",openDelay:0,closeDelay:100};function Uo(e){const t=ht("Menu",Vxe,e),{children:n,onOpen:r,onClose:i,opened:s,defaultOpened:o,onChange:a,closeOnItemClick:u,loop:l,closeOnEscape:c,trigger:f,openDelay:d,closeDelay:h,classNames:p,styles:g,unstyled:y,radius:m}=t,_=Uxe(t,["children","onOpen","onClose","opened","defaultOpened","onChange","closeOnItemClick","loop","closeOnEscape","trigger","openDelay","closeDelay","classNames","styles","unstyled","radius"]),{classes:v,cx:T}=Mxe(),[S,{setHovered:w,resetHovered:x}]=upe(),[A,$]=La({value:s,defaultValue:o,finalValue:!1,onChange:a}),D=()=>{$(!1),A&&(i==null||i())},P=()=>{$(!0),!A&&(r==null||r())},q=()=>A?D():P(),{openDropdown:V,closeDropdown:U}=tSe({open:P,close:D,closeDelay:h,openDelay:d}),se=oe=>spe("[data-menu-item]","[data-menu-dropdown]",oe);return yo(()=>{x()},[A]),M.createElement(uxe,{value:{opened:A,toggleDropdown:q,getItemIndex:se,hovered:S,setHovered:w,closeOnItemClick:u,closeDropdown:f==="click"?D:U,openDropdown:f==="click"?P:V,closeDropdownImmediately:D,loop:l,trigger:f,radius:m}},M.createElement(ic,h9(d9({},_),{radius:m,opened:A,onChange:$,defaultOpened:o,trapFocus:f==="click",closeOnEscape:c&&f==="click",__staticSelector:"Menu",classNames:h9(d9({},p),{dropdown:T(v.dropdown,p==null?void 0:p.dropdown)}),styles:g,unstyled:y,onClose:D,onOpen:P}),n))}Uo.displayName="@mantine/core/Menu";Uo.Item=Axe;Uo.Label=gX;Uo.Dropdown=cX;Uo.Target=vX;Uo.Divider=oX;var zxe=Object.defineProperty,p9=Object.getOwnPropertySymbols,Hxe=Object.prototype.hasOwnProperty,Wxe=Object.prototype.propertyIsEnumerable,m9=(e,t,n)=>t in e?zxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qxe=(e,t)=>{for(var n in t||(t={}))Hxe.call(t,n)&&m9(e,n,t[n]);if(p9)for(var n of p9(t))Wxe.call(t,n)&&m9(e,n,t[n]);return e};const Yxe={xs:320,sm:380,md:440,lg:620,xl:780};function Gxe(e){return e?{position:"absolute",top:0,left:0,right:0,bottom:0,maxHeight:"100vh",overflowY:"auto"}:{}}var Kxe=lt((e,{overflow:t,size:n,centered:r,zIndex:i,fullScreen:s})=>({close:{},overlay:{display:s?"none":void 0},root:{position:"fixed",zIndex:i,top:0,left:0,right:0,bottom:0},inner:{position:"absolute",top:0,left:0,right:0,bottom:0,overflowY:"auto",padding:s?0:`${e.spacing.xl*2}px ${e.spacing.md}px`,display:"flex",justifyContent:"center",alignItems:r?"center":"flex-start"},title:{marginRight:e.spacing.md,textOverflow:"ellipsis",display:"block",wordBreak:"break-word"},modal:qxe({position:"relative",width:s?"100vw":e.fn.size({sizes:Yxe,size:n}),borderRadius:s?0:void 0,outline:0,backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white,marginTop:r?"auto":void 0,marginBottom:r?"auto":void 0,zIndex:1},Gxe(s)),header:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:e.spacing.md,marginRight:-9},body:{maxHeight:t==="inside"?"calc(100vh - 185px)":null,overflowY:t==="inside"?"auto":null,wordBreak:"break-word"}}));const Qxe=Kxe;var Xxe=Object.defineProperty,VE=Object.getOwnPropertySymbols,EX=Object.prototype.hasOwnProperty,TX=Object.prototype.propertyIsEnumerable,g9=(e,t,n)=>t in e?Xxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Jxe=(e,t)=>{for(var n in t||(t={}))EX.call(t,n)&&g9(e,n,t[n]);if(VE)for(var n of VE(t))TX.call(t,n)&&g9(e,n,t[n]);return e},Zxe=(e,t)=>{var n={};for(var r in e)EX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&VE)for(var r of VE(e))t.indexOf(r)<0&&TX.call(e,r)&&(n[r]=e[r]);return n};const eIe={size:"md",transitionDuration:250,overflow:"outside",padding:"lg",shadow:"lg",closeOnClickOutside:!0,closeOnEscape:!0,trapFocus:!0,withCloseButton:!0,withinPortal:!0,lockScroll:!0,withFocusReturn:!0,overlayBlur:0,zIndex:Oo("modal"),exitTransitionDuration:0};function Rx(e){const t=ht("Modal",eIe,e),{className:n,opened:r,title:i,onClose:s,children:o,withCloseButton:a,overlayOpacity:u,size:l,transitionDuration:c,exitTransitionDuration:f,closeButtonLabel:d,overlayColor:h,overflow:p,transition:g,padding:y,shadow:m,radius:_,id:v,classNames:T,styles:S,closeOnClickOutside:w,trapFocus:x,closeOnEscape:A,centered:$,target:D,withinPortal:P,zIndex:q,overlayBlur:V,transitionTimingFunction:U,fullScreen:se,unstyled:oe,lockScroll:ce,withFocusReturn:ee}=t,ie=Zxe(t,["className","opened","title","onClose","children","withCloseButton","overlayOpacity","size","transitionDuration","exitTransitionDuration","closeButtonLabel","overlayColor","overflow","transition","padding","shadow","radius","id","classNames","styles","closeOnClickOutside","trapFocus","closeOnEscape","centered","target","withinPortal","zIndex","overlayBlur","transitionTimingFunction","fullScreen","unstyled","lockScroll","withFocusReturn"]),K=zu(v),I=`${K}-title`,C=`${K}-body`,{classes:H,cx:N,theme:R}=Qxe({size:l,overflow:p,centered:$,zIndex:q,fullScreen:se},{unstyled:oe,classNames:T,styles:S,name:"Modal"}),Y=RY(x&&r),ae=E.useRef(null),le=ra(Y,ae),pe=typeof u=="number"?u:R.colorScheme==="dark"?.85:.75;Rge(ce&&r);const he=Xe=>{!x&&Xe.key==="Escape"&&A&&s()};E.useEffect(()=>{if(!x)return window.addEventListener("keydown",he),()=>window.removeEventListener("keydown",he)},[x]),AY({opened:r,shouldReturnFocus:x&&ee});const Se=E.useRef(null);T2("mousedown",Xe=>{Se.current=Xe.target});const me=()=>{Se.current===ae.current&&w&&s()};return M.createElement(z_,{withinPortal:P,target:D},M.createElement(NQ,{mounted:r,duration:c,exitDuration:f,timingFunction:U,transitions:{modal:{duration:c,transition:g||(se?"fade":"pop")},overlay:{duration:c/2,transition:"fade",timingFunction:"ease"}}},Xe=>M.createElement(M.Fragment,null,M.createElement(ut,Jxe({id:K,className:N(H.root,n)},ie),M.createElement("div",{style:Xe.overlay},M.createElement(ITe,{className:H.overlay,sx:{position:"fixed"},zIndex:0,blur:V,color:h||(R.colorScheme==="dark"?R.colors.dark[9]:R.black),opacity:pe,unstyled:oe})),M.createElement("div",{role:"presentation",className:H.inner,onClick:me,onKeyDown:Ye=>{var He;((He=Ye.target)==null?void 0:He.getAttribute("data-mantine-stop-propagation"))!=="true"&&Ye.key==="Escape"&&A&&s()},ref:le},M.createElement(ef,{className:H.modal,shadow:m,p:y,radius:_,role:"dialog","aria-labelledby":I,"aria-describedby":C,"aria-modal":!0,tabIndex:-1,style:Xe.modal,unstyled:oe,onClick:Ye=>Ye.stopPropagation()},(i||a)&&M.createElement("div",{className:H.header},M.createElement(mt,{id:I,className:H.title},i),a&&M.createElement(Ex,{iconSize:16,onClick:s,"aria-label":d,className:H.close})),M.createElement("div",{id:C,className:H.body},o)))))))}Rx.displayName="@mantine/core/Modal";const tIe={xs:16,sm:22,md:26,lg:30,xl:36},nIe={xs:10,sm:12,md:14,lg:16,xl:18};var rIe=lt((e,{size:t,disabled:n,radius:r,readOnly:i,variant:s})=>({defaultValue:{display:"flex",alignItems:"center",backgroundColor:n?e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[3]:e.colorScheme==="dark"?e.colors.dark[7]:s==="filled"?e.white:e.colors.gray[1],color:n?e.colorScheme==="dark"?e.colors.dark[1]:e.colors.gray[7]:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[7],height:e.fn.size({size:t,sizes:tIe}),paddingLeft:e.fn.size({size:t,sizes:e.spacing}),paddingRight:n||i?e.fn.size({size:t,sizes:e.spacing}):0,fontWeight:500,fontSize:e.fn.size({size:t,sizes:nIe}),borderRadius:e.fn.size({size:r,sizes:e.radius}),cursor:n?"not-allowed":"default",userSelect:"none",maxWidth:"calc(100% - 20px)"},defaultValueRemove:{color:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[7],marginLeft:e.fn.size({size:t,sizes:e.spacing})/6},defaultValueLabel:{display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}));const iIe=rIe;var sIe=Object.defineProperty,zE=Object.getOwnPropertySymbols,SX=Object.prototype.hasOwnProperty,xX=Object.prototype.propertyIsEnumerable,y9=(e,t,n)=>t in e?sIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,oIe=(e,t)=>{for(var n in t||(t={}))SX.call(t,n)&&y9(e,n,t[n]);if(zE)for(var n of zE(t))xX.call(t,n)&&y9(e,n,t[n]);return e},aIe=(e,t)=>{var n={};for(var r in e)SX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&zE)for(var r of zE(e))t.indexOf(r)<0&&xX.call(e,r)&&(n[r]=e[r]);return n};const _9={xs:16,sm:22,md:24,lg:26,xl:30};function IX(e){var t=e,{label:n,classNames:r,styles:i,className:s,onRemove:o,disabled:a,readOnly:u,size:l,radius:c="sm",variant:f}=t,d=aIe(t,["label","classNames","styles","className","onRemove","disabled","readOnly","size","radius","variant"]);const{classes:h,cx:p}=iIe({size:l,disabled:a,readOnly:u,radius:c,variant:f},{classNames:r,styles:i,name:"MultiSelect"});return M.createElement("div",oIe({className:p(h.defaultValue,s)},d),M.createElement("span",{className:h.defaultValueLabel},n),!a&&!u&&M.createElement(Ex,{"aria-hidden":!0,onMouseDown:o,size:_9[l],radius:2,color:"blue",variant:"transparent",iconSize:_9[l]/2,className:h.defaultValueRemove,tabIndex:-1}))}IX.displayName="@mantine/core/MultiSelect/DefaultValue";function uIe({data:e,searchable:t,limit:n,searchValue:r,filter:i,value:s}){if(!t&&s.length===0)return e;if(!t){const a=[];for(let u=0;u<e.length;u+=1)s.some(l=>l===e[u].value&&!e[u].disabled)||a.push(e[u]);return a}const o=[];for(let a=0;a<e.length&&(i(r,s.some(u=>u===e[a].value&&!e[a].disabled),e[a])&&o.push(e[a]),!(o.length>=n));a+=1);return o}var lIe=Object.defineProperty,HE=Object.getOwnPropertySymbols,AX=Object.prototype.hasOwnProperty,CX=Object.prototype.propertyIsEnumerable,v9=(e,t,n)=>t in e?lIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,b9=(e,t)=>{for(var n in t||(t={}))AX.call(t,n)&&v9(e,n,t[n]);if(HE)for(var n of HE(t))CX.call(t,n)&&v9(e,n,t[n]);return e},cIe=(e,t)=>{var n={};for(var r in e)AX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&HE)for(var r of HE(e))t.indexOf(r)<0&&CX.call(e,r)&&(n[r]=e[r]);return n};const fIe={xs:14,sm:18,md:20,lg:24,xl:28};function dIe(e){var t=e,{size:n,error:r,style:i}=t,s=cIe(t,["size","error","style"]);const o=ss(),a=o.fn.size({size:n,sizes:fIe});return M.createElement("svg",b9({width:a,height:a,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:b9({color:r?o.colors.red[6]:o.colors.gray[6]},i),"data-chevron":!0},s),M.createElement("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function OX({shouldClear:e,clearButtonLabel:t,onClear:n,size:r,error:i,clearButtonTabIndex:s}){return e?M.createElement(Ex,{variant:"transparent","aria-label":t,onClick:n,size:r,tabIndex:s,onMouseDown:o=>o.preventDefault()}):M.createElement(dIe,{error:i,size:r})}OX.displayName="@mantine/core/SelectRightSection";var hIe=Object.defineProperty,pIe=Object.defineProperties,mIe=Object.getOwnPropertyDescriptors,WE=Object.getOwnPropertySymbols,PX=Object.prototype.hasOwnProperty,RX=Object.prototype.propertyIsEnumerable,w9=(e,t,n)=>t in e?hIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,AC=(e,t)=>{for(var n in t||(t={}))PX.call(t,n)&&w9(e,n,t[n]);if(WE)for(var n of WE(t))RX.call(t,n)&&w9(e,n,t[n]);return e},E9=(e,t)=>pIe(e,mIe(t)),gIe=(e,t)=>{var n={};for(var r in e)PX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&WE)for(var r of WE(e))t.indexOf(r)<0&&RX.call(e,r)&&(n[r]=e[r]);return n};const yIe={xs:24,sm:30,md:34,lg:44,xl:54};function NX(e){var t=e,{styles:n,rightSection:r,rightSectionWidth:i,theme:s}=t,o=gIe(t,["styles","rightSection","rightSectionWidth","theme"]);if(r)return{rightSection:r,rightSectionWidth:i,styles:n};const a=typeof n=="function"?n(s):n;return{rightSectionWidth:s.fn.size({size:o.size,sizes:yIe}),rightSection:!o.readOnly&&!(o.disabled&&o.shouldClear)&&M.createElement(OX,AC({},o)),styles:E9(AC({},a),{rightSection:E9(AC({},a==null?void 0:a.rightSection),{pointerEvents:o.shouldClear?void 0:"none"})})}}var _Ie=Object.defineProperty,vIe=Object.defineProperties,bIe=Object.getOwnPropertyDescriptors,T9=Object.getOwnPropertySymbols,wIe=Object.prototype.hasOwnProperty,EIe=Object.prototype.propertyIsEnumerable,S9=(e,t,n)=>t in e?_Ie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,TIe=(e,t)=>{for(var n in t||(t={}))wIe.call(t,n)&&S9(e,n,t[n]);if(T9)for(var n of T9(t))EIe.call(t,n)&&S9(e,n,t[n]);return e},SIe=(e,t)=>vIe(e,bIe(t)),xIe=lt((e,{size:t,invalid:n})=>({wrapper:{position:"relative"},values:{minHeight:e.fn.size({size:t,sizes:Ps})-2,display:"flex",alignItems:"center",flexWrap:"wrap",marginLeft:`calc(${-e.spacing.xs}px / 2)`,boxSizing:"border-box"},value:{margin:`calc(${e.spacing.xs}px / 2 - 2px) calc(${e.spacing.xs}px / 2)`},searchInput:SIe(TIe({},e.fn.fontStyles()),{flex:1,minWidth:60,backgroundColor:"transparent",border:0,outline:0,fontSize:e.fn.size({size:t,sizes:e.fontSizes}),padding:0,marginLeft:`calc(${e.spacing.xs}px / 2)`,appearance:"none",color:"inherit",lineHeight:`${e.fn.size({size:t,sizes:Ps})-2}px`,"&::placeholder":{opacity:1,color:n?e.colors.red[e.colorScheme==="dark"?6:7]:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]},"&:disabled":{cursor:"not-allowed"}}),searchInputEmpty:{width:"100%"},searchInputInputHidden:{width:0,height:0,margin:0,overflow:"hidden"},searchInputPointer:{cursor:"pointer","&:disabled":{cursor:"not-allowed"}},input:{cursor:"pointer","&:disabled":{cursor:"not-allowed"}}}));const IIe=xIe;var AIe=Object.defineProperty,CIe=Object.defineProperties,OIe=Object.getOwnPropertyDescriptors,qE=Object.getOwnPropertySymbols,kX=Object.prototype.hasOwnProperty,DX=Object.prototype.propertyIsEnumerable,x9=(e,t,n)=>t in e?AIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Nh=(e,t)=>{for(var n in t||(t={}))kX.call(t,n)&&x9(e,n,t[n]);if(qE)for(var n of qE(t))DX.call(t,n)&&x9(e,n,t[n]);return e},I9=(e,t)=>CIe(e,OIe(t)),PIe=(e,t)=>{var n={};for(var r in e)kX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&qE)for(var r of qE(e))t.indexOf(r)<0&&DX.call(e,r)&&(n[r]=e[r]);return n};function RIe(e,t,n){return t?!1:n.label.toLowerCase().trim().includes(e.toLowerCase().trim())}function NIe(e,t){return!!e&&!t.some(n=>n.value.toLowerCase()===e.toLowerCase())}function A9(e,t){if(!Array.isArray(e))return;if(t.length===0)return[];const n=typeof t[0]=="object"?t.map(r=>r.value):t;return e.filter(r=>n.includes(r))}const kIe={size:"sm",valueComponent:IX,itemComponent:yD,transition:"pop-top-left",transitionDuration:0,maxDropdownHeight:220,shadow:"sm",searchable:!1,filter:RIe,limit:1/0,clearSearchOnChange:!0,clearable:!1,clearSearchOnBlur:!1,disabled:!1,initiallyOpened:!1,creatable:!1,shouldCreate:NIe,switchDirectionOnFlip:!1,zIndex:Oo("popover"),selectOnBlur:!1,clearButtonTabIndex:0,positionDependencies:[]},$X=E.forwardRef((e,t)=>{const n=ht("MultiSelect",kIe,e),{className:r,style:i,required:s,label:o,description:a,size:u,error:l,classNames:c,styles:f,wrapperProps:d,value:h,defaultValue:p,data:g,onChange:y,valueComponent:m,itemComponent:_,id:v,transition:T,transitionDuration:S,transitionTimingFunction:w,maxDropdownHeight:x,shadow:A,nothingFound:$,onFocus:D,onBlur:P,searchable:q,placeholder:V,filter:U,limit:se,clearSearchOnChange:oe,clearable:ce,clearSearchOnBlur:ee,clearButtonLabel:ie,variant:K,onSearchChange:I,searchValue:C,disabled:H,initiallyOpened:N,radius:R,icon:Y,rightSection:ae,rightSectionWidth:le,creatable:pe,getCreateLabel:he,shouldCreate:Se,onCreate:me,sx:Xe,dropdownComponent:Ye,onDropdownClose:He,onDropdownOpen:Le,maxSelectedValues:Ae,withinPortal:Ve,switchDirectionOnFlip:Zt,zIndex:Me,selectOnBlur:Ue,name:wt,dropdownPosition:ze,errorProps:yt,labelProps:Gt,descriptionProps:un,clearButtonTabIndex:Gn,form:de,positionDependencies:Ee,onKeyDown:Fe,unstyled:ot,inputContainer:$e,inputWrapperOrder:at,readOnly:Be,withAsterisk:nt}=n,wn=PIe(n,["className","style","required","label","description","size","error","classNames","styles","wrapperProps","value","defaultValue","data","onChange","valueComponent","itemComponent","id","transition","transitionDuration","transitionTimingFunction","maxDropdownHeight","shadow","nothingFound","onFocus","onBlur","searchable","placeholder","filter","limit","clearSearchOnChange","clearable","clearSearchOnBlur","clearButtonLabel","variant","onSearchChange","searchValue","disabled","initiallyOpened","radius","icon","rightSection","rightSectionWidth","creatable","getCreateLabel","shouldCreate","onCreate","sx","dropdownComponent","onDropdownClose","onDropdownOpen","maxSelectedValues","withinPortal","switchDirectionOnFlip","zIndex","selectOnBlur","name","dropdownPosition","errorProps","labelProps","descriptionProps","clearButtonTabIndex","form","positionDependencies","onKeyDown","unstyled","inputContainer","inputWrapperOrder","readOnly","withAsterisk"]),{classes:Wt,cx:xt,theme:Bn}=IIe({size:u,invalid:!!l},{classNames:c,styles:f,unstyled:ot,name:"MultiSelect"}),{systemStyles:En,rest:da}=ch(wn),hr=E.useRef(),Fi=E.useRef(),wr=E.useRef({}),Mr=zu(v),[pr,jn]=E.useState(N),[en,oi]=E.useState(-1),[Er,Fr]=E.useState("column"),[vi,bs]=La({value:C,defaultValue:"",finalValue:void 0,onChange:I}),[X,z]=E.useState(!1),{scrollIntoView:Z,targetRef:ye,scrollableRef:ge}=DY({duration:0,offset:5,cancelable:!1,isList:!0}),Ge=pe&&typeof he=="function";let Te=null;const We=g.map(Qe=>typeof Qe=="string"?{label:Qe,value:Qe}:Qe),ct=Jq({data:We}),[tt,gt]=La({value:A9(h,g),defaultValue:A9(p,g),finalValue:[],onChange:y}),Lt=E.useRef(!!Ae&&Ae<tt.length),$n=Qe=>{if(!Be){const zt=tt.filter(Hn=>Hn!==Qe);gt(zt),Ae&&zt.length<Ae&&(Lt.current=!1)}},pt=Qe=>{bs(Qe.currentTarget.value),!H&&!Lt.current&&q&&jn(!0)},An=Qe=>{typeof D=="function"&&D(Qe),!H&&!Lt.current&&q&&jn(!0)},Et=uIe({data:ct,searchable:q,searchValue:vi,limit:se,filter:U,value:tt}),gn=(Qe,zt,Hn)=>{let ai=Qe;for(;Hn(ai);)if(ai=zt(ai),!Et[ai].disabled)return ai;return Qe};yo(()=>{oi(-1)},[vi]),yo(()=>{!H&&tt.length>g.length&&jn(!1),Ae&&tt.length<Ae&&(Lt.current=!1),Ae&&tt.length>=Ae&&(Lt.current=!0,jn(!1))},[tt]);const nr=Qe=>{if(!Be)if(oe&&bs(""),tt.includes(Qe.value))$n(Qe.value);else{if(Qe.creatable&&typeof me=="function"){const zt=me(Qe.value);typeof zt<"u"&&zt!==null&&gt(typeof zt=="string"?[...tt,zt]:[...tt,zt.value])}else gt([...tt,Qe.value]);tt.length===Ae-1&&(Lt.current=!0,jn(!1)),en===Et.length-1&&oi(Et.length-2),Et.length===1&&jn(!1)}},Gr=Qe=>{typeof P=="function"&&P(Qe),Ue&&Et[en]&&pr&&nr(Et[en]),ee&&bs(""),jn(!1)},Nr=Qe=>{if(X||(Fe==null||Fe(Qe),Be)||Qe.key!=="Backspace"&&Ae&&Lt.current)return;const zt=Er==="column",Hn=()=>{oi(ws=>{var k;const Q=gn(ws,B=>B+1,B=>B<Et.length-1);return pr&&(ye.current=wr.current[(k=Et[Q])==null?void 0:k.value],Z({alignment:zt?"end":"start"})),Q})},ai=()=>{oi(ws=>{var k;const Q=gn(ws,B=>B-1,B=>B>0);return pr&&(ye.current=wr.current[(k=Et[Q])==null?void 0:k.value],Z({alignment:zt?"start":"end"})),Q})};switch(Qe.key){case"ArrowUp":{Qe.preventDefault(),jn(!0),zt?ai():Hn();break}case"ArrowDown":{Qe.preventDefault(),jn(!0),zt?Hn():ai();break}case"Enter":{Qe.preventDefault(),Et[en]&&pr?nr(Et[en]):jn(!0);break}case" ":{q||(Qe.preventDefault(),Et[en]&&pr?nr(Et[en]):jn(!0));break}case"Backspace":{tt.length>0&&vi.length===0&&(gt(tt.slice(0,-1)),jn(!0),Ae&&(Lt.current=!1));break}case"Home":{if(!q){Qe.preventDefault(),pr||jn(!0);const ws=Et.findIndex(k=>!k.disabled);oi(ws),Z({alignment:zt?"end":"start"})}break}case"End":{if(!q){Qe.preventDefault(),pr||jn(!0);const ws=Et.map(k=>!!k.disabled).lastIndexOf(!1);oi(ws),Z({alignment:zt?"end":"start"})}break}case"Escape":jn(!1)}},us=tt.map(Qe=>{let zt=ct.find(Hn=>Hn.value===Qe&&!Hn.disabled);return!zt&&Ge&&(zt={value:Qe,label:Qe}),zt}).filter(Qe=>!!Qe).map(Qe=>M.createElement(m,I9(Nh({},Qe),{variant:K,disabled:H,className:Wt.value,readOnly:Be,onRemove:zt=>{zt.preventDefault(),zt.stopPropagation(),$n(Qe.value)},key:Qe.value,size:u,styles:f,classNames:c,radius:R}))),bi=()=>{var Qe;bs(""),gt([]),(Qe=hr.current)==null||Qe.focus(),Ae&&(Lt.current=!1)};Ge&&Se(vi,ct)&&(Te=he(vi),Et.push({label:vi,value:vi,creatable:!0}));const mr=!Be&&(Et.length>0?pr:pr&&!!$);return yo(()=>{const Qe=mr?Le:He;typeof Qe=="function"&&Qe()},[mr]),M.createElement(_o.Wrapper,Nh(Nh({required:s,id:Mr,label:o,error:l,description:a,size:u,className:r,style:i,classNames:c,styles:f,__staticSelector:"MultiSelect",sx:Xe,errorProps:yt,descriptionProps:un,labelProps:Gt,inputContainer:$e,inputWrapperOrder:at,unstyled:ot,withAsterisk:nt},En),d),M.createElement(Zc,{opened:mr,transition:T,transitionDuration:S,shadow:"sm",withinPortal:Ve,__staticSelector:"MultiSelect",onDirectionChange:Fr,switchDirectionOnFlip:Zt,zIndex:Me,dropdownPosition:ze,positionDependencies:Ee,classNames:c,styles:f,unstyled:ot},M.createElement(Zc.Target,null,M.createElement("div",{className:Wt.wrapper,role:"combobox","aria-haspopup":"listbox","aria-owns":pr&&mr?`${Mr}-items`:null,"aria-controls":Mr,"aria-expanded":pr,onMouseLeave:()=>oi(-1),tabIndex:-1,ref:Fi},M.createElement("input",{type:"hidden",name:wt,value:tt.join(","),form:de,disabled:H}),M.createElement(_o,Nh({__staticSelector:"MultiSelect",style:{overflow:"hidden"},component:"div",multiline:!0,size:u,variant:K,disabled:H,invalid:!!l,required:s,radius:R,icon:Y,unstyled:ot,onMouseDown:Qe=>{var zt;Qe.preventDefault(),!H&&!Lt.current&&jn(!pr),(zt=hr.current)==null||zt.focus()},classNames:I9(Nh({},c),{input:xt({[Wt.input]:!q},c==null?void 0:c.input)})},NX({theme:Bn,rightSection:ae,rightSectionWidth:le,styles:f,size:u,shouldClear:ce&&tt.length>0,clearButtonLabel:ie,onClear:bi,error:l,disabled:H,clearButtonTabIndex:Gn,readOnly:Be})),M.createElement("div",{className:Wt.values},us,M.createElement("input",Nh({ref:ra(t,hr),type:"search",id:Mr,className:xt(Wt.searchInput,{[Wt.searchInputPointer]:!q,[Wt.searchInputInputHidden]:!pr&&tt.length>0||!q&&tt.length>0,[Wt.searchInputEmpty]:tt.length===0}),onKeyDown:Nr,value:vi,onChange:pt,onFocus:An,onBlur:Gr,readOnly:!q||Lt.current||Be,placeholder:tt.length===0?V:void 0,disabled:H,"data-mantine-stop-propagation":pr,autoComplete:"off",onCompositionStart:()=>z(!0),onCompositionEnd:()=>z(!1)},da)))))),M.createElement(Zc.Dropdown,{component:Ye||Ax,maxHeight:x,direction:Er,id:Mr,innerRef:ge,__staticSelector:"MultiSelect",classNames:c,styles:f},M.createElement(gD,{data:Et,hovered:en,classNames:c,styles:f,uuid:Mr,__staticSelector:"MultiSelect",onItemHover:oi,onItemSelect:nr,itemsRefs:wr,itemComponent:_,size:u,nothingFound:$,creatable:pe&&!!Te,createLabel:Te,unstyled:ot}))))});$X.displayName="@mantine/core/MultiSelect";const DIe=(e,t,n)=>Number.isInteger(e)&&e>=0&&t===0?"numeric":!Number.isInteger(e)&&e>=0&&t!==0?"decimal":Number.isInteger(e)&&e<0&&t===0||!Number.isInteger(e)&&e<0&&t!==0?n==="ios"?"text":"decimal":"numeric";function C9({direction:e,size:t}){return M.createElement("svg",{style:{transform:e==="up"?"rotate(180deg)":void 0},width:t,height:t,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},M.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}const LX={xs:20,sm:24,md:30,lg:34,xl:36};var $Ie=lt((e,{radius:t,size:n})=>({rightSection:{display:"flex",flexDirection:"column",height:"calc(100% - 2px)",margin:1,marginRight:1,overflow:"hidden",borderTopRightRadius:e.fn.radius(t),borderBottomRightRadius:e.fn.radius(t)},control:{margin:0,position:"relative",flex:"0 0 50%",display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",width:e.fn.size({size:n,sizes:LX}),padding:0,WebkitTapHighlightColor:"transparent",borderBottom:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,borderLeft:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,borderTop:0,borderRight:0,backgroundColor:"transparent",marginRight:1,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,"&:not(:disabled):hover":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[0]},"&:disabled":{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4]}},controlUp:{},controlDown:{borderBottom:0}}));const LIe=$Ie;var MIe=Object.defineProperty,FIe=Object.defineProperties,BIe=Object.getOwnPropertyDescriptors,YE=Object.getOwnPropertySymbols,MX=Object.prototype.hasOwnProperty,FX=Object.prototype.propertyIsEnumerable,O9=(e,t,n)=>t in e?MIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,CC=(e,t)=>{for(var n in t||(t={}))MX.call(t,n)&&O9(e,n,t[n]);if(YE)for(var n of YE(t))FX.call(t,n)&&O9(e,n,t[n]);return e},jIe=(e,t)=>FIe(e,BIe(t)),UIe=(e,t)=>{var n={};for(var r in e)MX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&YE)for(var r of YE(e))t.indexOf(r)<0&&FX.call(e,r)&&(n[r]=e[r]);return n};const VIe={type:"text",size:"sm",__staticSelector:"TextInput"},$D=E.forwardRef((e,t)=>{const n=DK("TextInput",VIe,e),{inputProps:r,wrapperProps:i}=n,s=UIe(n,["inputProps","wrapperProps"]);return M.createElement(_o.Wrapper,CC({},i),M.createElement(_o,jIe(CC(CC({},r),s),{ref:t})))});$D.displayName="@mantine/core/TextInput";var zIe=Object.defineProperty,HIe=Object.defineProperties,WIe=Object.getOwnPropertyDescriptors,GE=Object.getOwnPropertySymbols,BX=Object.prototype.hasOwnProperty,jX=Object.prototype.propertyIsEnumerable,P9=(e,t,n)=>t in e?zIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qIe=(e,t)=>{for(var n in t||(t={}))BX.call(t,n)&&P9(e,n,t[n]);if(GE)for(var n of GE(t))jX.call(t,n)&&P9(e,n,t[n]);return e},YIe=(e,t)=>HIe(e,WIe(t)),GIe=(e,t)=>{var n={};for(var r in e)BX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&GE)for(var r of GE(e))t.indexOf(r)<0&&jX.call(e,r)&&(n[r]=e[r]);return n};const KIe=e=>e||"",QIe=e=>{if(e==="-")return e;let t=e;t[0]==="."&&(t=`0${e}`);const n=parseFloat(t);if(!Number.isNaN(n))return e},R9={xs:10,sm:14,md:16,lg:18,xl:20},XIe={step:1,hideControls:!1,size:"sm",precision:0,noClampOnBlur:!1,removeTrailingZeros:!1,formatter:KIe,parser:QIe,type:"text"},UX=E.forwardRef((e,t)=>{const n=ht("NumberInput",XIe,e),{disabled:r,value:i,onChange:s,decimalSeparator:o,min:a,max:u,startValue:l,step:c,stepHoldInterval:f,stepHoldDelay:d,onBlur:h,onFocus:p,onKeyDown:g,onKeyUp:y,hideControls:m,radius:_,variant:v,precision:T,removeTrailingZeros:S,defaultValue:w,noClampOnBlur:x,handlersRef:A,classNames:$,styles:D,size:P,rightSection:q,rightSectionWidth:V,formatter:U,parser:se,inputMode:oe,unstyled:ce,type:ee}=n,ie=GIe(n,["disabled","value","onChange","decimalSeparator","min","max","startValue","step","stepHoldInterval","stepHoldDelay","onBlur","onFocus","onKeyDown","onKeyUp","hideControls","radius","variant","precision","removeTrailingZeros","defaultValue","noClampOnBlur","handlersRef","classNames","styles","size","rightSection","rightSectionWidth","formatter","parser","inputMode","unstyled","type"]),{classes:K,cx:I,theme:C}=LIe({radius:_,size:P},{classNames:$,styles:D,unstyled:ce,name:"NumberInput"}),H=$e=>{if($e===void 0)return;let at=$e.toFixed(T);return S&&T>0&&(at=at.replace(new RegExp(`[0]{0,${T}}$`),""),(at.endsWith(".")||at.endsWith(o))&&(at=at.slice(0,-1))),at},[N,R]=E.useState(!1),[Y,ae]=E.useState(typeof i=="number"?i:typeof w=="number"?w:void 0),le=typeof i=="number"?i:Y,[pe,he]=E.useState(typeof le=="number"?H(le):""),Se=E.useRef(),me=$e=>{$e!==Y&&!Number.isNaN($e)&&(typeof s=="function"&&s($e),ae($e))},Xe=($e="")=>{let at=typeof $e=="number"?String($e):$e;return o&&(at=at.replace(/\./g,o)),U(at)},Ye=$e=>{let at=$e;return o&&(at=at.replace(new RegExp(`\\${o}`,"g"),".")),se(at)},He=typeof a=="number"?a:-1/0,Le=typeof u=="number"?u:1/0,Ae=E.useRef();Ae.current=()=>{var $e,at,Be;if(Y===void 0)me(($e=l??a)!=null?$e:0),he((Be=(at=H(l))!=null?at:H(a))!=null?Be:"0");else{const nt=H(Xc(Y+c,He,Le));me(parseFloat(nt)),he(nt)}};const Ve=E.useRef();Ve.current=()=>{var $e,at,Be;if(Y===void 0)me(($e=l??a)!=null?$e:0),he((Be=(at=H(l))!=null?at:H(a))!=null?Be:"0");else{const nt=H(Xc(Y-c,He,Le));me(parseFloat(nt)),he(nt)}},NY(A,{increment:Ae.current,decrement:Ve.current}),E.useEffect(()=>{typeof i=="number"&&!N&&(ae(i),he(H(i))),w===void 0&&i===void 0&&!N&&(ae(i),he(""))},[i]);const Zt=d!==void 0&&f!==void 0,Me=E.useRef(null),Ue=E.useRef(0),wt=()=>{Me.current&&window.clearTimeout(Me.current),Me.current=null,Ue.current=0},ze=$e=>{$e?Ae.current():Ve.current(),Ue.current+=1},yt=$e=>{if(ze($e),Zt){const at=typeof f=="number"?f:f(Ue.current);Me.current=window.setTimeout(()=>yt($e),at)}},Gt=($e,at)=>{$e.preventDefault(),Se.current.focus(),ze(at),Zt&&(Me.current=window.setTimeout(()=>yt(at),d))};E.useEffect(()=>(wt(),wt),[]);const un=M.createElement("div",{className:K.rightSection},M.createElement("button",{type:"button",tabIndex:-1,"aria-hidden":!0,disabled:le>=u,className:I(K.control,K.controlUp),onPointerDown:$e=>{Gt($e,!0)},onPointerUp:wt,onPointerLeave:wt},M.createElement(C9,{size:C.fn.size({size:P,sizes:R9}),direction:"up"})),M.createElement("button",{type:"button",tabIndex:-1,"aria-hidden":!0,disabled:le<=a,className:I(K.control,K.controlDown),onPointerDown:$e=>{Gt($e,!1)},onPointerUp:wt,onPointerLeave:wt},M.createElement(C9,{size:C.fn.size({size:P,sizes:R9}),direction:"down"}))),Gn=$e=>{if($e.nativeEvent.isComposing)return;const Be=$e.target.value,nt=Ye(Be);he(nt),Be===""||Be==="-"?me(void 0):Be.trim()!==""&&!Number.isNaN(nt)&&me(parseFloat(nt))},de=$e=>{var at;if($e.target.value==="")he(""),me(void 0);else{let Be=$e.target.value;(Be[0]===`${o}`||Be[0]===".")&&(Be=`0${Be}`);const nt=Ye(Be),wn=Xc(parseFloat(nt),He,Le);Number.isNaN(wn)?he((at=H(le))!=null?at:""):x||(he(H(wn)),me(parseFloat(H(wn))))}R(!1),typeof h=="function"&&h($e)},Ee=$e=>{R(!0),typeof p=="function"&&p($e)},Fe=$e=>{if(typeof g=="function"&&g($e),$e.repeat&&Zt&&($e.key==="ArrowUp"||$e.key==="ArrowDown")){$e.preventDefault();return}$e.key==="ArrowUp"?Gt($e,!0):$e.key==="ArrowDown"&&Gt($e,!1)},ot=$e=>{typeof y=="function"&&y($e),($e.key==="ArrowUp"||$e.key==="ArrowDown")&&wt()};return M.createElement($D,YIe(qIe({},ie),{type:ee,variant:v,value:Xe(pe),disabled:r,ref:ra(Se,t),onChange:Gn,onBlur:de,onFocus:Ee,onKeyDown:Fe,onKeyUp:ot,rightSection:q||(r||m||v==="unstyled"?null:un),rightSectionWidth:V||C.fn.size({size:P,sizes:LX})+1,radius:_,max:u,min:a,step:c,size:P,styles:D,classNames:$,inputMode:oe||DIe(c,T,Hge()),__staticSelector:"NumberInput",unstyled:ce}))});UX.displayName="@mantine/core/NumberInput";const N9={xs:3,sm:5,md:8,lg:12,xl:16},JIe=$me({from:{backgroundPosition:"0 0"},to:{backgroundPosition:"40px 0"}});var ZIe=lt((e,{color:t,radius:n,size:r,striped:i,animate:s})=>({root:{position:"relative",height:e.fn.size({size:r,sizes:N9}),backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],borderRadius:e.fn.size({size:n,sizes:e.radius}),overflow:"hidden"},bar:{position:"absolute",top:0,bottom:0,left:0,height:"100%",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:e.fn.variant({variant:"filled",primaryFallback:!1,color:t||e.primaryColor}).background,transition:"width 100ms linear",animation:s?`${JIe} 1000ms linear infinite`:"none",backgroundSize:"20px 20px",backgroundImage:i?"linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent)":"none","&:last-of-type":{borderTopRightRadius:e.fn.size({size:n,sizes:e.radius}),borderBottomRightRadius:e.fn.size({size:n,sizes:e.radius})},"&:first-of-type":{borderTopLeftRadius:e.fn.size({size:n,sizes:e.radius}),borderBottomLeftRadius:e.fn.size({size:n,sizes:e.radius})},"@media (prefers-reduced-motion)":{transitionDuration:e.respectReducedMotion?"0ms":void 0}},label:{color:e.white,fontSize:e.fn.size({size:r,sizes:N9})*.65,fontWeight:700,userSelect:"none",overflow:"hidden",whiteSpace:"nowrap"}}));const eAe=ZIe,VX=E.createContext(!1),tAe=VX.Provider,nAe=()=>E.useContext(VX);function zX({children:e,openDelay:t=0,closeDelay:n=0}){return M.createElement(tAe,{value:!0},M.createElement(I1e,{delay:{open:t,close:n}},e))}zX.displayName="@mantine/core/TooltipGroup";var rAe=Object.defineProperty,iAe=Object.defineProperties,sAe=Object.getOwnPropertyDescriptors,k9=Object.getOwnPropertySymbols,oAe=Object.prototype.hasOwnProperty,aAe=Object.prototype.propertyIsEnumerable,D9=(e,t,n)=>t in e?rAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$9=(e,t)=>{for(var n in t||(t={}))oAe.call(t,n)&&D9(e,n,t[n]);if(k9)for(var n of k9(t))aAe.call(t,n)&&D9(e,n,t[n]);return e},uAe=(e,t)=>iAe(e,sAe(t));function lAe(e,t){if(!t)return{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[9],color:e.white};const n=e.fn.variant({variant:"filled",color:t,primaryFallback:!1});return{backgroundColor:n.background,color:n.color}}var cAe=lt((e,{color:t,radius:n,width:r,multiline:i})=>({tooltip:uAe($9($9({},e.fn.fontStyles()),lAe(e,t)),{lineHeight:e.lineHeight,fontSize:e.fontSizes.sm,borderRadius:e.fn.radius(n),padding:`calc(${e.spacing.xs}px / 2) ${e.spacing.xs}px`,position:"absolute",whiteSpace:i?"unset":"nowrap",pointerEvents:"none",width:r}),arrow:{backgroundColor:"inherit",border:0,zIndex:1}}));const HX=cAe,WX={children:"Tooltip component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported"};function fAe({offset:e,position:t}){const[n,r]=E.useState(!1),i=E.useRef(),{x:s,y:o,reference:a,floating:u,refs:l,update:c,placement:f}=xD({placement:t,middleware:[ED({crossAxis:!0,padding:5,rootBoundary:"document"})]}),d=f.includes("right")?e:t.includes("left")?e*-1:0,h=f.includes("bottom")?e:t.includes("top")?e*-1:0,p=E.useCallback(({clientX:g,clientY:y})=>{a({getBoundingClientRect(){return{width:0,height:0,x:g,y,left:g+d,top:y+h,right:g,bottom:y}}})},[a]);return E.useEffect(()=>{if(l.floating.current){const g=i.current;g.addEventListener("mousemove",p);const y=xl(l.floating.current);return y.forEach(m=>{m.addEventListener("scroll",c)}),()=>{g.removeEventListener("mousemove",p),y.forEach(m=>{m.removeEventListener("scroll",c)})}}},[a,l.floating,c,p,n]),{handleMouseMove:p,x:s,y:o,opened:n,setOpened:r,boundaryRef:i,floating:u}}var dAe=Object.defineProperty,hAe=Object.defineProperties,pAe=Object.getOwnPropertyDescriptors,KE=Object.getOwnPropertySymbols,qX=Object.prototype.hasOwnProperty,YX=Object.prototype.propertyIsEnumerable,L9=(e,t,n)=>t in e?dAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,OC=(e,t)=>{for(var n in t||(t={}))qX.call(t,n)&&L9(e,n,t[n]);if(KE)for(var n of KE(t))YX.call(t,n)&&L9(e,n,t[n]);return e},PC=(e,t)=>hAe(e,pAe(t)),mAe=(e,t)=>{var n={};for(var r in e)qX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&KE)for(var r of KE(e))t.indexOf(r)<0&&YX.call(e,r)&&(n[r]=e[r]);return n};const gAe={refProp:"ref",withinPortal:!0,offset:10,position:"right",zIndex:Oo("popover")};function GX(e){var t;const n=ht("TooltipFloating",gAe,e),{children:r,refProp:i,withinPortal:s,style:o,className:a,classNames:u,styles:l,unstyled:c,radius:f,color:d,label:h,offset:p,position:g,multiline:y,width:m,zIndex:_,disabled:v}=n,T=mAe(n,["children","refProp","withinPortal","style","className","classNames","styles","unstyled","radius","color","label","offset","position","multiline","width","zIndex","disabled"]),{handleMouseMove:S,x:w,y:x,opened:A,boundaryRef:$,floating:D,setOpened:P}=fAe({offset:p,position:g}),{classes:q,cx:V}=HX({radius:f,color:d,multiline:y,width:m},{name:"Tooltip",classNames:u,styles:l,unstyled:c});if(!B_(r))throw new Error(WX.children);const U=ra($,r.ref),se=ce=>{var ee,ie;(ie=(ee=r.props).onMouseEnter)==null||ie.call(ee,ce),S(ce),P(!0)},oe=ce=>{var ee,ie;(ie=(ee=r.props).onMouseLeave)==null||ie.call(ee,ce),P(!1)};return v?M.createElement(M.Fragment,null,r):M.createElement(M.Fragment,null,M.createElement(z_,{withinPortal:s},M.createElement(ut,PC(OC({},T),{ref:D,className:V(q.tooltip,a),style:PC(OC({},o),{zIndex:_,display:A?"block":"none",top:x??"",left:(t=Math.round(w))!=null?t:""})}),h)),E.cloneElement(r,PC(OC({},r.props),{[i]:U,onMouseEnter:se,onMouseLeave:oe})))}GX.displayName="@mantine/core/TooltipFloating";function yAe(e){const[t,n]=E.useState(!1),i=typeof e.opened=="boolean"?e.opened:t,s=nAe(),o=zu(),{delay:a,currentId:u,setCurrentId:l}=pK(),c=E.useCallback(A=>{n(A),A&&l(o)},[l,o]),{x:f,y:d,reference:h,floating:p,context:g,refs:y,update:m,placement:_,middlewareData:{arrow:{x:v,y:T}={}}}=xD({placement:e.position,open:i,onOpenChange:c,middleware:[nK(e.offset),ED({padding:8}),tK(),cK({element:e.arrowRef}),...e.inline?[iK()]:[]]}),{getReferenceProps:S,getFloatingProps:w}=E1e([x1e(g,{enabled:e.events.hover,delay:s?a:{open:e.openDelay,close:e.closeDelay},mouseOnly:!e.events.touch}),N1e(g,{enabled:e.events.focus,keyboardOnly:!0}),C1e(g,{role:"tooltip"}),R1e(g,{enabled:typeof e.opened===void 0}),A1e(g,{id:o})]);return mK({opened:i,positionDependencies:e.positionDependencies,floating:{refs:y,update:m}}),yo(()=>{var A;(A=e.onPositionChange)==null||A.call(e,_)},[_]),{x:f,y:d,arrowX:v,arrowY:T,reference:h,floating:p,getFloatingProps:w,getReferenceProps:S,isGroupPhase:i&&u&&u!==o,opened:i,placement:_}}var _Ae=Object.defineProperty,vAe=Object.defineProperties,bAe=Object.getOwnPropertyDescriptors,QE=Object.getOwnPropertySymbols,KX=Object.prototype.hasOwnProperty,QX=Object.prototype.propertyIsEnumerable,M9=(e,t,n)=>t in e?_Ae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zg=(e,t)=>{for(var n in t||(t={}))KX.call(t,n)&&M9(e,n,t[n]);if(QE)for(var n of QE(t))QX.call(t,n)&&M9(e,n,t[n]);return e},wAe=(e,t)=>vAe(e,bAe(t)),EAe=(e,t)=>{var n={};for(var r in e)KX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&QE)for(var r of QE(e))t.indexOf(r)<0&&QX.call(e,r)&&(n[r]=e[r]);return n};const TAe={position:"top",refProp:"ref",withinPortal:!1,inline:!1,arrowSize:4,arrowOffset:5,arrowRadius:0,offset:5,transition:"fade",transitionDuration:100,width:"auto",events:{hover:!0,focus:!1,touch:!1},zIndex:Oo("popover"),positionDependencies:[]},Nx=E.forwardRef((e,t)=>{const n=E.useRef(null),r=ht("Tooltip",TAe,e),{children:i,position:s,refProp:o,label:a,openDelay:u,closeDelay:l,onPositionChange:c,opened:f,withinPortal:d,radius:h,color:p,classNames:g,styles:y,unstyled:m,style:_,className:v,withArrow:T,arrowSize:S,arrowOffset:w,arrowRadius:x,offset:A,transition:$,transitionDuration:D,multiline:P,width:q,events:V,zIndex:U,disabled:se,positionDependencies:oe,onClick:ce,onMouseEnter:ee,onMouseLeave:ie,inline:K}=r,I=EAe(r,["children","position","refProp","label","openDelay","closeDelay","onPositionChange","opened","withinPortal","radius","color","classNames","styles","unstyled","style","className","withArrow","arrowSize","arrowOffset","arrowRadius","offset","transition","transitionDuration","multiline","width","events","zIndex","disabled","positionDependencies","onClick","onMouseEnter","onMouseLeave","inline"]),{classes:C,cx:H,theme:N}=HX({radius:h,color:p,width:q,multiline:P},{name:"Tooltip",classNames:g,styles:y,unstyled:m}),R=yAe({position:OK(N.dir,s),closeDelay:l,openDelay:u,onPositionChange:c,opened:f,events:V,arrowRef:n,offset:A+(T?S/2:0),positionDependencies:[...oe,i],inline:K});if(!B_(i))throw new Error(WX.children);const Y=ra(R.reference,i.ref,t);return M.createElement(M.Fragment,null,M.createElement(z_,{withinPortal:d},M.createElement(Px,{mounted:!se&&R.opened,transition:$,duration:R.isGroupPhase?10:D},ae=>{var le,pe;return M.createElement(ut,zg(zg({},I),R.getFloatingProps({ref:R.floating,className:C.tooltip,style:wAe(zg(zg({},_),ae),{zIndex:U,top:(le=R.y)!=null?le:0,left:(pe=R.x)!=null?pe:0})})),a,M.createElement(ID,{ref:n,arrowX:R.arrowX,arrowY:R.arrowY,visible:T,withBorder:!1,position:R.placement,arrowSize:S,arrowOffset:w,arrowRadius:x,className:C.arrow}))})),E.cloneElement(i,R.getReferenceProps(zg({onClick:ce,onMouseEnter:ee,onMouseLeave:ie,onMouseMove:e.onMouseMove,onPointerDown:e.onPointerDown,onPointerEnter:e.onPointerEnter,[o]:Y,className:H(v,i.props.className)},i.props))))});Nx.Group=zX;Nx.Floating=GX;Nx.displayName="@mantine/core/Tooltip";const LD=Nx;var SAe=Object.defineProperty,xAe=Object.defineProperties,IAe=Object.getOwnPropertyDescriptors,XE=Object.getOwnPropertySymbols,XX=Object.prototype.hasOwnProperty,JX=Object.prototype.propertyIsEnumerable,F9=(e,t,n)=>t in e?SAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$2=(e,t)=>{for(var n in t||(t={}))XX.call(t,n)&&F9(e,n,t[n]);if(XE)for(var n of XE(t))JX.call(t,n)&&F9(e,n,t[n]);return e},ZX=(e,t)=>xAe(e,IAe(t)),B9=(e,t)=>{var n={};for(var r in e)XX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&XE)for(var r of XE(e))t.indexOf(r)<0&&JX.call(e,r)&&(n[r]=e[r]);return n};function AAe(e){return e.reduce((t,n)=>(t.sections.push(ZX($2({},n),{accumulated:t.accumulated})),t.accumulated+=n.value,t),{accumulated:0,sections:[]}).sections}const CAe={size:"md",radius:"sm",striped:!1,animate:!1,label:""},eJ=E.forwardRef((e,t)=>{const n=ht("Progress",CAe,e),{className:r,value:i,color:s,size:o,radius:a,striped:u,animate:l,label:c,"aria-label":f,classNames:d,styles:h,sections:p,unstyled:g}=n,y=B9(n,["className","value","color","size","radius","striped","animate","label","aria-label","classNames","styles","sections","unstyled"]),{classes:m,cx:_,theme:v}=eAe({color:s,size:o,radius:a,striped:u||l,animate:l},{classNames:d,styles:h,unstyled:g,name:"Progress"}),T=Array.isArray(p)?AAe(p).map((S,w)=>{var x=S,{tooltip:A,accumulated:$,value:D,label:P,color:q}=x,V=B9(x,["tooltip","accumulated","value","label","color"]);return M.createElement(LD.Floating,{label:A,disabled:!A,key:w},M.createElement(ut,ZX($2({},V),{className:_(m.bar,V.className),sx:{width:`${D}%`,left:`${$}%`,backgroundColor:v.fn.variant({variant:"filled",primaryFallback:!1,color:q||v.primaryColor}).background}}),P&&M.createElement(mt,{className:m.label},P)))}):null;return M.createElement(ut,$2({className:_(m.root,r),ref:t},y),T||M.createElement("div",{role:"progressbar","aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":i,"aria-label":f,className:m.bar,style:{width:`${i}%`}},c?M.createElement(mt,{className:m.label},c):""))});eJ.displayName="@mantine/core/Progress";var OAe=Object.defineProperty,j9=Object.getOwnPropertySymbols,PAe=Object.prototype.hasOwnProperty,RAe=Object.prototype.propertyIsEnumerable,U9=(e,t,n)=>t in e?OAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,NAe=(e,t)=>{for(var n in t||(t={}))PAe.call(t,n)&&U9(e,n,t[n]);if(j9)for(var n of j9(t))RAe.call(t,n)&&U9(e,n,t[n]);return e};function kAe(e){return M.createElement("svg",NAe({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 5 5"},e),M.createElement("path",{fill:"currentColor",d:"M0 2.5a2.5 2.5 0 115 0 2.5 2.5 0 01-5 0z"}))}const tJ=E.createContext(null),DAe=tJ.Provider,$Ae=()=>E.useContext(tJ);var LAe=Object.defineProperty,JE=Object.getOwnPropertySymbols,nJ=Object.prototype.hasOwnProperty,rJ=Object.prototype.propertyIsEnumerable,V9=(e,t,n)=>t in e?LAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,z9=(e,t)=>{for(var n in t||(t={}))nJ.call(t,n)&&V9(e,n,t[n]);if(JE)for(var n of JE(t))rJ.call(t,n)&&V9(e,n,t[n]);return e},MAe=(e,t)=>{var n={};for(var r in e)nJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&JE)for(var r of JE(e))t.indexOf(r)<0&&rJ.call(e,r)&&(n[r]=e[r]);return n};const FAe={orientation:"horizontal",spacing:"lg",offset:"xs",size:"sm"},iJ=E.forwardRef((e,t)=>{const n=ht("RadioGroup",FAe,e),{children:r,value:i,defaultValue:s,onChange:o,orientation:a,spacing:u,size:l,wrapperProps:c,unstyled:f,offset:d,name:h}=n,p=MAe(n,["children","value","defaultValue","onChange","orientation","spacing","size","wrapperProps","unstyled","offset","name"]),[g,y]=La({value:i,defaultValue:s,finalValue:"",onChange:o}),m=_=>y(_.currentTarget.value);return M.createElement(DAe,{value:{value:g,onChange:m,size:l,name:h}},M.createElement(_o.Wrapper,z9(z9({labelElement:"div",size:l,__staticSelector:"RadioGroup",ref:t,unstyled:f},c),p),M.createElement(vQ,{spacing:u,orientation:a,unstyled:f,role:"radiogroup",offset:d},r)))});iJ.displayName="@mantine/core/RadioGroup";var BAe=Object.defineProperty,jAe=Object.defineProperties,UAe=Object.getOwnPropertyDescriptors,H9=Object.getOwnPropertySymbols,VAe=Object.prototype.hasOwnProperty,zAe=Object.prototype.propertyIsEnumerable,W9=(e,t,n)=>t in e?BAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,HAe=(e,t)=>{for(var n in t||(t={}))VAe.call(t,n)&&W9(e,n,t[n]);if(H9)for(var n of H9(t))zAe.call(t,n)&&W9(e,n,t[n]);return e},WAe=(e,t)=>jAe(e,UAe(t));const RC={xs:16,sm:20,md:24,lg:30,xl:36},_1={xs:6,sm:8,md:10,lg:14,xl:16};var qAe=lt((e,{size:t,color:n,transitionDuration:r,labelPosition:i,error:s},o)=>{const a=e.fn.variant({variant:"filled",color:n}),u=e.fn.variant({variant:"filled",color:"red"}).background;return{inner:{order:i==="left"?2:1,position:"relative",alignSelf:"flex-start"},icon:{ref:o("icon"),color:e.white,opacity:0,transform:"scale(0.75) translateY(2px)",transition:`opacity ${r}ms ${e.transitionTimingFunction}`,pointerEvents:"none",width:e.fn.size({sizes:_1,size:t}),height:e.fn.size({sizes:_1,size:t}),position:"absolute",top:`calc(50% - ${e.fn.size({sizes:_1,size:t})/2}px)`,left:`calc(50% - ${e.fn.size({sizes:_1,size:t})/2}px)`},radio:WAe(HAe({},e.fn.focusStyles()),{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white,border:`1px solid ${s?u:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,position:"relative",appearance:"none",width:e.fn.size({sizes:RC,size:t}),height:e.fn.size({sizes:RC,size:t}),borderRadius:e.fn.size({sizes:RC,size:t}),margin:0,display:"flex",alignItems:"center",justifyContent:"center",transitionProperty:"background-color, border-color",transitionTimingFunction:e.transitionTimingFunction,transitionDuration:`${r}ms`,cursor:e.cursorType,"&:checked":{background:a.background,borderColor:a.background,[`& + .${o("icon")}`]:{opacity:1,transform:"scale(1)"}},"&:disabled":{borderColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[4],backgroundColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[1],[`& + .${o("icon")}`]:{color:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[4]}}})}});const YAe=qAe;var GAe=Object.defineProperty,ZE=Object.getOwnPropertySymbols,sJ=Object.prototype.hasOwnProperty,oJ=Object.prototype.propertyIsEnumerable,q9=(e,t,n)=>t in e?GAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,v1=(e,t)=>{for(var n in t||(t={}))sJ.call(t,n)&&q9(e,n,t[n]);if(ZE)for(var n of ZE(t))oJ.call(t,n)&&q9(e,n,t[n]);return e},KAe=(e,t)=>{var n={};for(var r in e)sJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ZE)for(var r of ZE(e))t.indexOf(r)<0&&oJ.call(e,r)&&(n[r]=e[r]);return n};const QAe={icon:kAe,transitionDuration:100,size:"sm",labelPosition:"right"},eT=E.forwardRef((e,t)=>{var n,r;const i=ht("Radio",QAe,e),{className:s,style:o,id:a,label:u,size:l,title:c,disabled:f,color:d,classNames:h,styles:p,sx:g,icon:y,transitionDuration:m,wrapperProps:_,unstyled:v,labelPosition:T,description:S,error:w}=i,x=KAe(i,["className","style","id","label","size","title","disabled","color","classNames","styles","sx","icon","transitionDuration","wrapperProps","unstyled","labelPosition","description","error"]),A=$Ae(),$=(n=A==null?void 0:A.size)!=null?n:l,D=e.size?l:$,{classes:P}=YAe({color:d,size:D,transitionDuration:m,labelPosition:T,error:!!w},{classNames:h,styles:p,unstyled:v,name:"Radio"}),{systemStyles:q,rest:V}=ch(x),U=zu(a),se=A?{checked:A.value===V.value,name:(r=V.name)!=null?r:A.name,onChange:A.onChange}:{};return M.createElement(ND,v1(v1({className:s,sx:g,style:o,id:U,size:D,labelPosition:T,label:u,description:S,error:w,disabled:f,__staticSelector:"Radio",classNames:h,styles:p,unstyled:v,"data-checked":se.checked||void 0},q),_),M.createElement("div",{className:P.inner},M.createElement("input",v1(v1({ref:t,className:P.radio,type:"radio",id:U,disabled:f},V),se)),M.createElement(y,{className:P.icon,"aria-hidden":!0})))});eT.displayName="@mantine/core/Radio";eT.Group=iJ;var XAe=Object.defineProperty,JAe=Object.defineProperties,ZAe=Object.getOwnPropertyDescriptors,Y9=Object.getOwnPropertySymbols,eCe=Object.prototype.hasOwnProperty,tCe=Object.prototype.propertyIsEnumerable,G9=(e,t,n)=>t in e?XAe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,b1=(e,t)=>{for(var n in t||(t={}))eCe.call(t,n)&&G9(e,n,t[n]);if(Y9)for(var n of Y9(t))tCe.call(t,n)&&G9(e,n,t[n]);return e},nCe=(e,t)=>JAe(e,ZAe(t));const xb=4,K9={xs:"3px 6px",sm:"5px 10px",md:"7px 14px",lg:"9px 16px",xl:"12px 20px"};var rCe=lt((e,{fullWidth:t,color:n,radius:r,shouldAnimate:i,transitionDuration:s,transitionTimingFunction:o,size:a,orientation:u},l)=>{const c=u==="vertical",f=e.fn.variant({variant:"filled",color:n});return{label:nCe(b1(b1({ref:l("label")},e.fn.focusStyles()),e.fn.fontStyles()),{WebkitTapHighlightColor:"transparent",borderRadius:e.fn.radius(r),fontWeight:500,fontSize:a in e.fontSizes?e.fontSizes[a]:e.fontSizes.sm,cursor:"pointer",display:"block",textAlign:"center",padding:K9[a in K9?a:"sm"],whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",userSelect:"none",color:e.colorScheme==="dark"?e.colors.dark[1]:e.colors.gray[7],transition:`color ${i?0:s}ms ${o||e.transitionTimingFunction}`,"&:hover":{color:e.colorScheme==="dark"?e.colors.dark[0]:e.black}}),control:{ref:l("control"),position:"relative",boxSizing:"border-box",flex:1,zIndex:2,transition:`border-left-color ${i?0:s}ms ${o||e.transitionTimingFunction}`,"&:not(:first-of-type)":{borderStyle:"solid",borderWidth:c?"1px 0 0 0":"0 0 0 1px",borderColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3]}},input:{height:0,width:0,position:"absolute",overflow:"hidden",whiteSpace:"nowrap",opacity:0,"&:focus":{outline:"none",[`& + .${l("label")}`]:b1({},e.focusRing==="always"||e.focusRing==="auto"?e.focusRingStyles.styles(e):e.focusRingStyles.resetStyles(e)),"&:focus:not(:focus-visible)":{[`& + .${l("label")}`]:b1({},e.focusRing==="auto"||e.focusRing==="never"?e.focusRingStyles.resetStyles(e):null)}}},root:{position:"relative",display:t||c?"flex":"inline-flex",width:c&&!t?"max-content":"auto",flexDirection:c?"column":"row",backgroundColor:e.colorScheme==="dark"?e.colors.dark[8]:e.colors.gray[1],borderRadius:e.fn.radius(r),overflow:"hidden",padding:xb},controlActive:{borderLeftColor:"transparent !important",borderTopColor:"transparent !important",[`& + .${l("control")}`]:{borderLeftColor:"transparent !important",borderTopColor:"transparent !important"},borderRadius:e.fn.radius(r),boxShadow:i?n||e.colorScheme==="dark"?"none":e.shadows.xs:void 0,backgroundColor:i?n?f.background:e.colorScheme==="dark"?e.colors.dark[5]:e.white:void 0},labelActive:{"&, &:hover":{color:n||e.colorScheme==="dark"?e.white:e.black}},disabled:{"&, &:hover":{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5],cursor:"not-allowed"}},active:{boxSizing:"border-box",borderRadius:e.fn.radius(r),position:"absolute",zIndex:1,boxShadow:n||e.colorScheme==="dark"?"none":e.shadows.xs,transition:`transform ${i?0:s}ms ${e.transitionTimingFunction}, width ${i?0:s/2}ms ${o||e.transitionTimingFunction}`,backgroundColor:n?f.background:e.colorScheme==="dark"?e.colors.dark[5]:e.white}}});const iCe=rCe;var sCe=Object.defineProperty,tT=Object.getOwnPropertySymbols,aJ=Object.prototype.hasOwnProperty,uJ=Object.prototype.propertyIsEnumerable,Q9=(e,t,n)=>t in e?sCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,oCe=(e,t)=>{for(var n in t||(t={}))aJ.call(t,n)&&Q9(e,n,t[n]);if(tT)for(var n of tT(t))uJ.call(t,n)&&Q9(e,n,t[n]);return e},aCe=(e,t)=>{var n={};for(var r in e)aJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&tT)for(var r of tT(e))t.indexOf(r)<0&&uJ.call(e,r)&&(n[r]=e[r]);return n};const uCe={disabled:!1,size:"sm",transitionDuration:200},MD=E.forwardRef((e,t)=>{var n,r,i,s;const o=ht("SegmentedControl",uCe,e),{className:a,disabled:u,data:l,name:c,value:f,onChange:d,color:h,fullWidth:p,radius:g,size:y,transitionDuration:m,transitionTimingFunction:_,classNames:v,styles:T,defaultValue:S,orientation:w,unstyled:x}=o,A=aCe(o,["className","disabled","data","name","value","onChange","color","fullWidth","radius","size","transitionDuration","transitionTimingFunction","classNames","styles","defaultValue","orientation","unstyled"]),$=ss(),D=dD(),P=$.respectReducedMotion?D:!1,q=l.map(le=>typeof le=="string"?{label:le,value:le}:le),V=E.useRef(),[U,se]=E.useState(!1),[oe,ce]=La({value:f,defaultValue:S,finalValue:Array.isArray(q)&&(s=(i=(n=q.find(le=>!le.disabled))==null?void 0:n.value)!=null?i:(r=q[0])==null?void 0:r.value)!=null?s:null,onChange:d}),{classes:ee,cx:ie}=iCe({size:y,fullWidth:p,color:h,radius:g,shouldAnimate:P||!U,transitionDuration:m,transitionTimingFunction:_,orientation:w},{classNames:v,styles:T,unstyled:x,name:"SegmentedControl"}),[K,I]=E.useState({width:0,height:0,translate:[0,0]}),C=zu(c),H=E.useRef({}),[N,R]=Op();fD(()=>{V.current?se(!0):(V.current=!0,se(!1))}),E.useEffect(()=>{if(oe in H.current&&N.current){const le=H.current[oe],pe=le.getBoundingClientRect(),he=le.offsetWidth/pe.width,Se=pe.width*he||0,me=pe.height*he||0,Xe=R.width-le.parentElement.offsetLeft+xb-Se,Ye=le.parentElement.offsetLeft-xb;I({width:Se,height:me,translate:[$.dir==="rtl"?Xe:Ye,le.parentElement.offsetTop-xb]})}},[oe,R]);const Y=q.map(le=>M.createElement("div",{className:ie(ee.control,{[ee.controlActive]:oe===le.value}),key:le.value},M.createElement("input",{className:ee.input,disabled:u||le.disabled,type:"radio",name:C,value:le.value,id:`${C}-${le.value}`,checked:oe===le.value,onChange:()=>ce(le.value)}),M.createElement("label",{className:ie(ee.label,{[ee.labelActive]:oe===le.value,[ee.disabled]:u||le.disabled}),htmlFor:`${C}-${le.value}`,ref:pe=>{H.current[le.value]=pe}},le.label))),ae=ra(N,t);return q.length===0?null:M.createElement(ut,oCe({className:ie(ee.root,a),ref:ae},A),typeof oe=="string"&&U&&M.createElement(ut,{component:"span",className:ee.active,sx:{width:K.width,height:K.height,transform:`translate(${K.translate[0]}px, ${K.translate[1]}px )`}}),Y)});MD.displayName="@mantine/core/SegmentedControl";function lCe({data:e,searchable:t,limit:n,searchValue:r,filter:i,value:s,filterDataOnExactSearchMatch:o}){if(!t)return e;const a=s!=null&&e.find(l=>l.value===s)||null;if(a&&!o&&(a==null?void 0:a.label)===r)return e;const u=[];for(let l=0;l<e.length&&(i(r,e[l])&&u.push(e[l]),!(u.length>=n));l+=1);return u}var cCe=lt(()=>({input:{"&:not(:disabled)":{cursor:"pointer","&::selection":{backgroundColor:"transparent"}}}}));const fCe=cCe;var dCe=Object.defineProperty,hCe=Object.defineProperties,pCe=Object.getOwnPropertyDescriptors,nT=Object.getOwnPropertySymbols,lJ=Object.prototype.hasOwnProperty,cJ=Object.prototype.propertyIsEnumerable,X9=(e,t,n)=>t in e?dCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Hg=(e,t)=>{for(var n in t||(t={}))lJ.call(t,n)&&X9(e,n,t[n]);if(nT)for(var n of nT(t))cJ.call(t,n)&&X9(e,n,t[n]);return e},NC=(e,t)=>hCe(e,pCe(t)),mCe=(e,t)=>{var n={};for(var r in e)lJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&nT)for(var r of nT(e))t.indexOf(r)<0&&cJ.call(e,r)&&(n[r]=e[r]);return n};function gCe(e,t){return t.label.toLowerCase().trim().includes(e.toLowerCase().trim())}function yCe(e,t){return!!e&&!t.some(n=>n.label.toLowerCase()===e.toLowerCase())}const _Ce={required:!1,size:"sm",shadow:"sm",itemComponent:yD,transition:"fade",transitionDuration:0,initiallyOpened:!1,filter:gCe,maxDropdownHeight:220,searchable:!1,clearable:!1,limit:1/0,disabled:!1,creatable:!1,shouldCreate:yCe,selectOnBlur:!1,switchDirectionOnFlip:!1,filterDataOnExactSearchMatch:!1,zIndex:Oo("popover"),clearButtonTabIndex:0,positionDependencies:[],dropdownPosition:"flip"},fJ=E.forwardRef((e,t)=>{const n=DK("Select",_Ce,e),{inputProps:r,wrapperProps:i,shadow:s,data:o,value:a,defaultValue:u,onChange:l,itemComponent:c,onKeyDown:f,onBlur:d,onFocus:h,transition:p,transitionDuration:g,initiallyOpened:y,transitionTimingFunction:m,unstyled:_,classNames:v,styles:T,filter:S,maxDropdownHeight:w,searchable:x,clearable:A,nothingFound:$,clearButtonLabel:D,limit:P,disabled:q,onSearchChange:V,searchValue:U,rightSection:se,rightSectionWidth:oe,creatable:ce,getCreateLabel:ee,shouldCreate:ie,selectOnBlur:K,onCreate:I,dropdownComponent:C,onDropdownClose:H,onDropdownOpen:N,withinPortal:R,switchDirectionOnFlip:Y,zIndex:ae,name:le,dropdownPosition:pe,allowDeselect:he,placeholder:Se,filterDataOnExactSearchMatch:me,clearButtonTabIndex:Xe,form:Ye,positionDependencies:He,readOnly:Le}=n,Ae=mCe(n,["inputProps","wrapperProps","shadow","data","value","defaultValue","onChange","itemComponent","onKeyDown","onBlur","onFocus","transition","transitionDuration","initiallyOpened","transitionTimingFunction","unstyled","classNames","styles","filter","maxDropdownHeight","searchable","clearable","nothingFound","clearButtonLabel","limit","disabled","onSearchChange","searchValue","rightSection","rightSectionWidth","creatable","getCreateLabel","shouldCreate","selectOnBlur","onCreate","dropdownComponent","onDropdownClose","onDropdownOpen","withinPortal","switchDirectionOnFlip","zIndex","name","dropdownPosition","allowDeselect","placeholder","filterDataOnExactSearchMatch","clearButtonTabIndex","form","positionDependencies","readOnly"]),{classes:Ve,cx:Zt,theme:Me}=fCe(),[Ue,wt]=E.useState(y),[ze,yt]=E.useState(-1),Gt=E.useRef(),un=E.useRef({}),[Gn,de]=E.useState("column"),Ee=Gn==="column",{scrollIntoView:Fe,targetRef:ot,scrollableRef:$e}=DY({duration:0,offset:5,cancelable:!1,isList:!0}),at=he===void 0?A:he,Be=Te=>{if(Ue!==Te){wt(Te);const We=Te?N:H;typeof We=="function"&&We()}},nt=ce&&typeof ee=="function";let wn=null;const Wt=o.map(Te=>typeof Te=="string"?{label:Te,value:Te}:Te),xt=Jq({data:Wt}),[Bn,En,da]=La({value:a,defaultValue:u,finalValue:null,onChange:l}),hr=xt.find(Te=>Te.value===Bn),[Fi,wr]=La({value:U,defaultValue:(hr==null?void 0:hr.label)||"",finalValue:void 0,onChange:V}),Mr=Te=>{wr(Te),x&&typeof V=="function"&&V(Te)},pr=()=>{var Te;Le||(En(null),da||Mr(""),(Te=Gt.current)==null||Te.focus())};E.useEffect(()=>{const Te=xt.find(We=>We.value===Bn);Te?Mr(Te.label):(!nt||!Bn)&&Mr("")},[Bn]),E.useEffect(()=>{hr&&(!x||!Ue)&&Mr(hr.label)},[hr==null?void 0:hr.label]);const jn=Te=>{if(!Le)if(at&&(hr==null?void 0:hr.value)===Te.value)En(null),Be(!1);else{if(Te.creatable&&typeof I=="function"){const We=I(Te.value);typeof We<"u"&&We!==null&&En(typeof We=="string"?We:We.value)}else En(Te.value);da||Mr(Te.label),yt(-1),Be(!1),Gt.current.focus()}},en=lCe({data:xt,searchable:x,limit:P,searchValue:Fi,filter:S,filterDataOnExactSearchMatch:me,value:Bn});nt&&ie(Fi,en)&&(wn=ee(Fi),en.push({label:Fi,value:Fi,creatable:!0}));const oi=(Te,We,ct)=>{let tt=Te;for(;ct(tt);)if(tt=We(tt),!en[tt].disabled)return tt;return Te};yo(()=>{yt(-1)},[Fi]);const Er=Bn?en.findIndex(Te=>Te.value===Bn):0,Fr=!Le&&(en.length>0?Ue:Ue&&!!$),vi=()=>{yt(Te=>{var We;const ct=oi(Te,tt=>tt-1,tt=>tt>0);return ot.current=un.current[(We=en[ct])==null?void 0:We.value],Fr&&Fe({alignment:Ee?"start":"end"}),ct})},bs=()=>{yt(Te=>{var We;const ct=oi(Te,tt=>tt+1,tt=>tt<en.length-1);return ot.current=un.current[(We=en[ct])==null?void 0:We.value],Fr&&Fe({alignment:Ee?"end":"start"}),ct})},X=()=>window.setTimeout(()=>{var Te;ot.current=un.current[(Te=en[Er])==null?void 0:Te.value],Fe({alignment:Ee?"end":"start"})},0);yo(()=>{Fr&&X()},[Fr]);const z=Te=>{switch(typeof f=="function"&&f(Te),Te.key){case"ArrowUp":{Te.preventDefault(),Ue?Ee?vi():bs():(yt(Er),Be(!0),X());break}case"ArrowDown":{Te.preventDefault(),Ue?Ee?bs():vi():(yt(Er),Be(!0),X());break}case"Home":{if(!x){Te.preventDefault(),Ue||Be(!0);const We=en.findIndex(ct=>!ct.disabled);yt(We),Fr&&Fe({alignment:Ee?"end":"start"})}break}case"End":{if(!x){Te.preventDefault(),Ue||Be(!0);const We=en.map(ct=>!!ct.disabled).lastIndexOf(!1);yt(We),Fr&&Fe({alignment:Ee?"end":"start"})}break}case"Escape":{Te.preventDefault(),Be(!1),yt(-1);break}case" ":{x||(Te.preventDefault(),en[ze]&&Ue?jn(en[ze]):(Be(!0),yt(Er),X()));break}case"Enter":x||Te.preventDefault(),en[ze]&&Ue&&(Te.preventDefault(),jn(en[ze]))}},Z=Te=>{typeof d=="function"&&d(Te);const We=xt.find(ct=>ct.value===Bn);K&&en[ze]&&Ue&&jn(en[ze]),Mr((We==null?void 0:We.label)||""),Be(!1)},ye=Te=>{typeof h=="function"&&h(Te),x&&Be(!0)},ge=Te=>{Le||(Mr(Te.currentTarget.value),A&&Te.currentTarget.value===""&&En(null),yt(-1),Be(!0))},Ge=()=>{Le||(Be(!Ue),Bn&&!Ue&&yt(Er))};return M.createElement(_o.Wrapper,NC(Hg({},i),{__staticSelector:"Select"}),M.createElement(Zc,{opened:Fr,transition:p,transitionDuration:g,shadow:"sm",withinPortal:R,__staticSelector:"Select",onDirectionChange:de,switchDirectionOnFlip:Y,zIndex:ae,dropdownPosition:pe,positionDependencies:He,classNames:v,styles:T,unstyled:_},M.createElement(Zc.Target,null,M.createElement("div",{role:"combobox","aria-haspopup":"listbox","aria-owns":Fr?`${r.id}-items`:null,"aria-controls":r.id,"aria-expanded":Fr,onMouseLeave:()=>yt(-1),tabIndex:-1},M.createElement("input",{type:"hidden",name:le,value:Bn||"",form:Ye,disabled:q}),M.createElement(_o,Hg(NC(Hg(Hg({autoComplete:"off",type:"search"},r),Ae),{ref:ra(t,Gt),onKeyDown:z,__staticSelector:"Select",value:Fi,placeholder:Se,onChange:ge,"aria-autocomplete":"list","aria-controls":Fr?`${r.id}-items`:null,"aria-activedescendant":ze>=0?`${r.id}-${ze}`:null,onMouseDown:Ge,onBlur:Z,onFocus:ye,readOnly:!x||Le,disabled:q,"data-mantine-stop-propagation":Fr,name:null,classNames:NC(Hg({},v),{input:Zt({[Ve.input]:!x},v==null?void 0:v.input)})}),NX({theme:Me,rightSection:se,rightSectionWidth:oe,styles:T,size:r.size,shouldClear:A&&!!hr,clearButtonLabel:D,onClear:pr,error:i.error,clearButtonTabIndex:Xe,disabled:q,readOnly:Le}))))),M.createElement(Zc.Dropdown,{component:C||Ax,maxHeight:w,direction:Gn,id:r.id,innerRef:$e,__staticSelector:"Select",classNames:v,styles:T},M.createElement(gD,{data:en,hovered:ze,classNames:v,styles:T,isItemSelected:Te=>Te===Bn,uuid:r.id,__staticSelector:"Select",onItemHover:yt,onItemSelect:jn,itemsRefs:un,itemComponent:c,size:r.size,nothingFound:$,creatable:nt&&!!wn,createLabel:wn,"aria-label":i.label,unstyled:_}))))});fJ.displayName="@mantine/core/Select";function rT({value:e,min:t,max:n}){const r=(e-t)/(n-t)*100;return Math.min(Math.max(r,0),100)}function L2({value:e,containerWidth:t,min:n,max:r,step:i,precision:s}){const a=(t?Math.min(Math.max(e,0),t)/t:e)*(r-n),u=(a!==0?Math.round(a/i)*i:0)+n,l=Math.max(u,n);return s!==void 0?Number(l.toFixed(s)):l}var vCe=Object.defineProperty,bCe=Object.defineProperties,wCe=Object.getOwnPropertyDescriptors,J9=Object.getOwnPropertySymbols,ECe=Object.prototype.hasOwnProperty,TCe=Object.prototype.propertyIsEnumerable,Z9=(e,t,n)=>t in e?vCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,SCe=(e,t)=>{for(var n in t||(t={}))ECe.call(t,n)&&Z9(e,n,t[n]);if(J9)for(var n of J9(t))TCe.call(t,n)&&Z9(e,n,t[n]);return e},xCe=(e,t)=>bCe(e,wCe(t));const Ls={xs:4,sm:6,md:8,lg:10,xl:12};var ICe=lt((e,{size:t,disabled:n})=>({root:xCe(SCe({},e.fn.fontStyles()),{WebkitTapHighlightColor:"transparent",outline:0,height:e.fn.size({sizes:Ls,size:t})*2,display:"flex",alignItems:"center",cursor:n?"not-allowed":"pointer",touchAction:"none"})}));const ACe=ICe;var CCe=Object.defineProperty,OCe=Object.defineProperties,PCe=Object.getOwnPropertyDescriptors,eB=Object.getOwnPropertySymbols,RCe=Object.prototype.hasOwnProperty,NCe=Object.prototype.propertyIsEnumerable,tB=(e,t,n)=>t in e?CCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kCe=(e,t)=>{for(var n in t||(t={}))RCe.call(t,n)&&tB(e,n,t[n]);if(eB)for(var n of eB(t))NCe.call(t,n)&&tB(e,n,t[n]);return e},DCe=(e,t)=>OCe(e,PCe(t)),$Ce=lt((e,{color:t,size:n,disabled:r,thumbSize:i})=>({label:{position:"absolute",top:-36,backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[9],fontSize:e.fontSizes.xs,color:e.white,padding:`calc(${e.spacing.xs}px / 2)`,borderRadius:e.radius.sm,whiteSpace:"nowrap",pointerEvents:"none",userSelect:"none",touchAction:"none"},thumb:DCe(kCe({},e.fn.focusStyles()),{boxSizing:"border-box",position:"absolute",display:r?"none":"flex",height:i||e.fn.size({sizes:Ls,size:n})*2,width:i||e.fn.size({sizes:Ls,size:n})*2,backgroundColor:e.colorScheme==="dark"?e.fn.themeColor(t,e.fn.primaryShade()):e.white,border:`4px solid ${e.colorScheme==="dark"?e.white:e.fn.themeColor(t,e.fn.primaryShade())}`,color:e.colorScheme==="dark"?e.white:e.fn.themeColor(t,e.fn.primaryShade()),transform:"translate(-50%, -50%)",top:"50%",cursor:"pointer",borderRadius:1e3,alignItems:"center",justifyContent:"center",transitionDuration:"100ms",transitionProperty:"box-shadow, transform",transitionTimingFunction:e.transitionTimingFunction,zIndex:3,userSelect:"none",touchAction:"none"}),dragging:{transform:"translate(-50%, -50%) scale(1.05)",boxShadow:e.shadows.sm}}));const LCe=$Ce,iT=E.forwardRef(({max:e,min:t,value:n,position:r,label:i,dragging:s,onMouseDown:o,color:a,classNames:u,styles:l,size:c,labelTransition:f,labelTransitionDuration:d,labelTransitionTimingFunction:h,labelAlwaysOn:p,thumbLabel:g,onFocus:y,onBlur:m,showLabelOnHover:_,children:v=null,disabled:T,unstyled:S,thumbSize:w},x)=>{const{classes:A,cx:$,theme:D}=LCe({color:a,size:c,disabled:T,thumbSize:w},{classNames:u,styles:l,unstyled:S,name:"Slider"}),[P,q]=E.useState(!1),V=p||s||P||_;return M.createElement(ut,{tabIndex:0,role:"slider","aria-label":g,"aria-valuemax":e,"aria-valuemin":t,"aria-valuenow":n,ref:x,className:$(A.thumb,{[A.dragging]:s}),onFocus:()=>{q(!0),typeof y=="function"&&y()},onBlur:()=>{q(!1),typeof m=="function"&&m()},onTouchStart:o,onMouseDown:o,onClick:U=>U.stopPropagation(),style:{[D.dir==="rtl"?"right":"left"]:`${r}%`}},v,M.createElement(Px,{mounted:i!=null&&V,duration:d,transition:f,timingFunction:h||D.transitionTimingFunction},U=>M.createElement("div",{style:U,className:A.label},i)))});iT.displayName="@mantine/core/SliderThumb";function MCe({mark:e,offset:t,value:n,inverted:r=!1}){return r?typeof t=="number"&&e.value<=t||e.value>=n:typeof t=="number"?e.value>=t&&e.value<=n:e.value<=n}var FCe=lt((e,{size:t,color:n,disabled:r})=>({markWrapper:{position:"absolute",top:0,zIndex:2},mark:{boxSizing:"border-box",border:`${e.fn.size({size:t,sizes:Ls})>=8?"2px":"1px"} solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]}`,height:e.fn.size({sizes:Ls,size:t}),width:e.fn.size({sizes:Ls,size:t}),borderRadius:1e3,transform:`translateX(-${e.fn.size({sizes:Ls,size:t})/2}px)`,backgroundColor:e.white},markFilled:{borderColor:r?e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4]:e.fn.variant({variant:"filled",color:n}).background},markLabel:{transform:"translate(-50%, 0)",fontSize:e.fontSizes.sm,color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],marginTop:`calc(${e.spacing.xs}px / 2)`,whiteSpace:"nowrap"}}));const BCe=FCe;function dJ({marks:e,color:t,size:n,min:r,max:i,value:s,classNames:o,styles:a,offset:u,onChange:l,disabled:c,unstyled:f,inverted:d}){const{classes:h,cx:p}=BCe({size:n,color:t,disabled:c},{classNames:o,styles:a,unstyled:f,name:"Slider"}),g=e.map((y,m)=>M.createElement(ut,{className:h.markWrapper,sx:{left:`${rT({value:y.value,min:r,max:i})}%`},key:m},M.createElement("div",{className:p(h.mark,{[h.markFilled]:MCe({mark:y,value:s,offset:u,inverted:d})})}),y.label&&M.createElement("div",{className:h.markLabel,onMouseDown:_=>{_.stopPropagation(),l(y.value)},onTouchStart:_=>{_.stopPropagation(),l(y.value)}},y.label)));return M.createElement("div",null,g)}dJ.displayName="@mantine/core/SliderMarks";var jCe=lt((e,{radius:t,size:n,color:r,disabled:i,inverted:s})=>({track:{position:"relative",height:e.fn.size({sizes:Ls,size:n}),width:"100%",marginRight:e.fn.size({size:n,sizes:Ls}),marginLeft:e.fn.size({size:n,sizes:Ls}),"&::before":{content:'""',position:"absolute",top:0,bottom:0,borderRadius:e.fn.size({size:t,sizes:e.radius}),right:-e.fn.size({size:n,sizes:Ls}),left:-e.fn.size({size:n,sizes:Ls}),backgroundColor:s?i?e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4]:e.fn.variant({variant:"filled",color:r}).background:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],zIndex:0}},bar:{position:"absolute",zIndex:1,top:0,bottom:0,backgroundColor:s?e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]:i?e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4]:e.fn.variant({variant:"filled",color:r}).background,borderRadius:e.fn.size({size:t,sizes:e.radius})}}));const UCe=jCe;var VCe=Object.defineProperty,zCe=Object.defineProperties,HCe=Object.getOwnPropertyDescriptors,sT=Object.getOwnPropertySymbols,hJ=Object.prototype.hasOwnProperty,pJ=Object.prototype.propertyIsEnumerable,nB=(e,t,n)=>t in e?VCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,WCe=(e,t)=>{for(var n in t||(t={}))hJ.call(t,n)&&nB(e,n,t[n]);if(sT)for(var n of sT(t))pJ.call(t,n)&&nB(e,n,t[n]);return e},qCe=(e,t)=>zCe(e,HCe(t)),YCe=(e,t)=>{var n={};for(var r in e)hJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&sT)for(var r of sT(e))t.indexOf(r)<0&&pJ.call(e,r)&&(n[r]=e[r]);return n};function FD(e){var t=e,{filled:n,size:r,color:i,classNames:s,styles:o,radius:a,children:u,offset:l,onMouseLeave:c,onMouseEnter:f,disabled:d,marksOffset:h,unstyled:p,inverted:g}=t,y=YCe(t,["filled","size","color","classNames","styles","radius","children","offset","onMouseLeave","onMouseEnter","disabled","marksOffset","unstyled","inverted"]);const{classes:m}=UCe({color:i,size:r,radius:a,disabled:d,inverted:g},{classNames:s,styles:o,unstyled:p,name:"Slider"});return M.createElement("div",{className:m.track,onMouseLeave:c,onMouseEnter:f},M.createElement(ut,{className:m.bar,sx:_=>({left:`calc(${l}% - ${_.fn.size({size:r,sizes:Ls})}px)`,width:`calc(${n}% + ${_.fn.size({size:r,sizes:Ls})}px)`})}),u,M.createElement(dJ,qCe(WCe({},y),{size:r,color:i,offset:h,classNames:s,styles:o,disabled:d,unstyled:p,inverted:g})))}FD.displayName="@mantine/core/SliderTrack";var GCe=Object.defineProperty,KCe=Object.defineProperties,QCe=Object.getOwnPropertyDescriptors,oT=Object.getOwnPropertySymbols,mJ=Object.prototype.hasOwnProperty,gJ=Object.prototype.propertyIsEnumerable,rB=(e,t,n)=>t in e?GCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,XCe=(e,t)=>{for(var n in t||(t={}))mJ.call(t,n)&&rB(e,n,t[n]);if(oT)for(var n of oT(t))gJ.call(t,n)&&rB(e,n,t[n]);return e},JCe=(e,t)=>KCe(e,QCe(t)),ZCe=(e,t)=>{var n={};for(var r in e)mJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&oT)for(var r of oT(e))t.indexOf(r)<0&&gJ.call(e,r)&&(n[r]=e[r]);return n};const BD=E.forwardRef((e,t)=>{var n=e,{className:r,size:i,classNames:s,styles:o,disabled:a,unstyled:u}=n,l=ZCe(n,["className","size","classNames","styles","disabled","unstyled"]);const{classes:c,cx:f}=ACe({size:i,disabled:a},{classNames:s,styles:o,unstyled:u,name:"Slider"});return M.createElement(ut,JCe(XCe({},l),{tabIndex:-1,className:f(c.root,r),ref:t}))});BD.displayName="@mantine/core/SliderRoot";var eOe=Object.defineProperty,tOe=Object.defineProperties,nOe=Object.getOwnPropertyDescriptors,aT=Object.getOwnPropertySymbols,yJ=Object.prototype.hasOwnProperty,_J=Object.prototype.propertyIsEnumerable,iB=(e,t,n)=>t in e?eOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rOe=(e,t)=>{for(var n in t||(t={}))yJ.call(t,n)&&iB(e,n,t[n]);if(aT)for(var n of aT(t))_J.call(t,n)&&iB(e,n,t[n]);return e},iOe=(e,t)=>tOe(e,nOe(t)),sOe=(e,t)=>{var n={};for(var r in e)yJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&aT)for(var r of aT(e))t.indexOf(r)<0&&_J.call(e,r)&&(n[r]=e[r]);return n};const oOe={size:"md",radius:"xl",min:0,max:100,step:1,marks:[],label:e=>e,labelTransition:"skew-down",labelTransitionDuration:0,labelAlwaysOn:!1,thumbLabel:"",showLabelOnHover:!0,disabled:!1,scale:e=>e},jD=E.forwardRef((e,t)=>{const n=ht("Slider",oOe,e),{classNames:r,styles:i,color:s,value:o,onChange:a,onChangeEnd:u,size:l,radius:c,min:f,max:d,step:h,precision:p,defaultValue:g,name:y,marks:m,label:_,labelTransition:v,labelTransitionDuration:T,labelTransitionTimingFunction:S,labelAlwaysOn:w,thumbLabel:x,showLabelOnHover:A,thumbChildren:$,disabled:D,unstyled:P,thumbSize:q,scale:V,inverted:U}=n,se=sOe(n,["classNames","styles","color","value","onChange","onChangeEnd","size","radius","min","max","step","precision","defaultValue","name","marks","label","labelTransition","labelTransitionDuration","labelTransitionTimingFunction","labelAlwaysOn","thumbLabel","showLabelOnHover","thumbChildren","disabled","unstyled","thumbSize","scale","inverted"]),oe=ss(),[ce,ee]=E.useState(!1),[ie,K]=La({value:typeof o=="number"?Xc(o,f,d):o,defaultValue:typeof g=="number"?Xc(g,f,d):g,finalValue:Xc(0,f,d),onChange:a}),I=E.useRef(ie),C=E.useRef(),H=rT({value:ie,min:f,max:d}),N=V(ie),R=typeof _=="function"?_(N):_,Y=E.useCallback(({x:Se})=>{if(!D){const me=L2({value:Se,min:f,max:d,step:h,precision:p});K(me),I.current=me}},[D,f,d,h,p]),{ref:ae,active:le}=kY(Y,{onScrubEnd:()=>u==null?void 0:u(I.current)},oe.dir),pe=Se=>{Se.stopPropagation()},he=Se=>{if(!D)switch(Se.key){case"ArrowUp":{Se.preventDefault(),C.current.focus();const me=Math.min(Math.max(ie+h,f),d);u==null||u(me),K(me);break}case"ArrowRight":{Se.preventDefault(),C.current.focus();const me=Math.min(Math.max(oe.dir==="rtl"?ie-h:ie+h,f),d);u==null||u(me),K(me);break}case"ArrowDown":{Se.preventDefault(),C.current.focus();const me=Math.min(Math.max(ie-h,f),d);u==null||u(me),K(me);break}case"ArrowLeft":{Se.preventDefault(),C.current.focus();const me=Math.min(Math.max(oe.dir==="rtl"?ie+h:ie-h,f),d);u==null||u(me),K(me);break}case"Home":{Se.preventDefault(),C.current.focus(),u==null||u(f),K(f);break}case"End":{Se.preventDefault(),C.current.focus(),u==null||u(d),K(d);break}}};return M.createElement(BD,iOe(rOe({},se),{size:l,ref:ra(ae,t),onKeyDownCapture:he,onMouseDownCapture:()=>{var Se;return(Se=ae.current)==null?void 0:Se.focus()},classNames:r,styles:i,disabled:D,unstyled:P}),M.createElement(FD,{inverted:U,offset:0,filled:H,marks:m,size:l,radius:c,color:s,min:f,max:d,value:N,onChange:K,onMouseEnter:A?()=>ee(!0):void 0,onMouseLeave:A?()=>ee(!1):void 0,classNames:r,styles:i,disabled:D,unstyled:P},M.createElement(iT,{max:d,min:f,value:N,position:H,dragging:le,color:s,size:l,label:R,ref:C,onMouseDown:pe,labelTransition:v,labelTransitionDuration:T,labelTransitionTimingFunction:S,labelAlwaysOn:w,classNames:r,styles:i,thumbLabel:x,showLabelOnHover:A&&ce,disabled:D,unstyled:P,thumbSize:q},$)),M.createElement("input",{type:"hidden",name:y,value:N}))});jD.displayName="@mantine/core/Slider";function aOe(e){return"TouchEvent"in window&&e instanceof window.TouchEvent?e.touches[0].clientX:e.clientX}var uOe=Object.defineProperty,lOe=Object.defineProperties,cOe=Object.getOwnPropertyDescriptors,uT=Object.getOwnPropertySymbols,vJ=Object.prototype.hasOwnProperty,bJ=Object.prototype.propertyIsEnumerable,sB=(e,t,n)=>t in e?uOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kC=(e,t)=>{for(var n in t||(t={}))vJ.call(t,n)&&sB(e,n,t[n]);if(uT)for(var n of uT(t))bJ.call(t,n)&&sB(e,n,t[n]);return e},DC=(e,t)=>lOe(e,cOe(t)),fOe=(e,t)=>{var n={};for(var r in e)vJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&uT)for(var r of uT(e))t.indexOf(r)<0&&bJ.call(e,r)&&(n[r]=e[r]);return n};const dOe={size:"md",radius:"xl",min:0,max:100,minRange:10,step:1,marks:[],label:e=>e,labelTransition:"skew-down",labelTransitionDuration:0,labelAlwaysOn:!1,thumbFromLabel:"",thumbToLabel:"",showLabelOnHover:!0,disabled:!1,scale:e=>e},lT=E.forwardRef((e,t)=>{const n=ht("RangeSlider",dOe,e),{classNames:r,styles:i,color:s,value:o,onChange:a,onChangeEnd:u,size:l,radius:c,min:f,max:d,minRange:h,step:p,precision:g,defaultValue:y,name:m,marks:_,label:v,labelTransition:T,labelTransitionDuration:S,labelTransitionTimingFunction:w,labelAlwaysOn:x,thumbFromLabel:A,thumbToLabel:$,showLabelOnHover:D,thumbChildren:P,disabled:q,unstyled:V,thumbSize:U,scale:se,inverted:oe}=n,ce=fOe(n,["classNames","styles","color","value","onChange","onChangeEnd","size","radius","min","max","minRange","step","precision","defaultValue","name","marks","label","labelTransition","labelTransitionDuration","labelTransitionTimingFunction","labelAlwaysOn","thumbFromLabel","thumbToLabel","showLabelOnHover","thumbChildren","disabled","unstyled","thumbSize","scale","inverted"]),ee=ss(),[ie,K]=E.useState(-1),[I,C]=E.useState(!1),[H,N]=La({value:o,defaultValue:y,finalValue:[f,d],onChange:a}),R=E.useRef(H),Y=E.useRef([]),ae=E.useRef(void 0),le=[rT({value:H[0],min:f,max:d}),rT({value:H[1],min:f,max:d})],pe=Me=>{N(Me),R.current=Me};E.useEffect(()=>{Array.isArray(o)&&(R.current=o)},Array.isArray(o)?[o[0],o[1]]:[null,null]);const he=(Me,Ue,wt)=>{const ze=[...R.current];ze[Ue]=Me,Ue===0&&(Me>ze[1]-(h-1e-9)&&(ze[1]=Math.min(Me+h,d)),Me>(d-(h-1e-9)||f)&&(ze[Ue]=R.current[Ue])),Ue===1&&(Me<ze[0]+h&&(ze[0]=Math.max(Me-h,f)),Me<ze[0]+h&&(ze[Ue]=R.current[Ue])),pe(ze),wt&&(u==null||u(R.current))},Se=Me=>{if(!q){const Ue=L2({value:Me,min:f,max:d,step:p,precision:g});he(Ue,ae.current,!1)}},{ref:me,active:Xe}=kY(({x:Me})=>Se(Me),{onScrubEnd:()=>u==null?void 0:u(R.current)},ee.dir);function Ye(Me,Ue){Me.stopPropagation(),ae.current=Ue}const He=Me=>{me.current.focus();const Ue=me.current.getBoundingClientRect(),wt=aOe(Me.nativeEvent),ze=L2({value:wt-Ue.left,max:d,min:f,step:p,containerWidth:Ue.width}),yt=Math.abs(H[0]-ze)>Math.abs(H[1]-ze)?1:0,Gt=ee.dir==="ltr"?yt:yt===1?0:1;ae.current=Gt},Le=()=>ie!==1&&ie!==0?(K(0),0):ie,Ae=Me=>{if(!q)switch(Me.key){case"ArrowUp":{Me.preventDefault();const Ue=Le();Y.current[Ue].focus(),he(Math.min(Math.max(R.current[Ue]+p,f),d),Ue,!0);break}case"ArrowRight":{Me.preventDefault();const Ue=Le();Y.current[Ue].focus(),he(Math.min(Math.max(ee.dir==="rtl"?R.current[Ue]-p:R.current[Ue]+p,f),d),Ue,!0);break}case"ArrowDown":{Me.preventDefault();const Ue=Le();Y.current[Ue].focus(),he(Math.min(Math.max(R.current[Ue]-p,f),d),Ue,!0);break}case"ArrowLeft":{Me.preventDefault();const Ue=Le();Y.current[Ue].focus(),he(Math.min(Math.max(ee.dir==="rtl"?R.current[Ue]+p:R.current[Ue]-p,f),d),Ue,!0);break}}},Ve={max:d,min:f,color:s,size:l,labelTransition:T,labelTransitionDuration:S,labelTransitionTimingFunction:w,labelAlwaysOn:x,onBlur:()=>K(-1),classNames:r,styles:i},Zt=Array.isArray(P);return M.createElement(BD,DC(kC({},ce),{size:l,ref:ra(me,t),onTouchStartCapture:He,onTouchEndCapture:()=>{ae.current=-1},onMouseDownCapture:He,onMouseUpCapture:()=>{ae.current=-1},onKeyDownCapture:Ae,styles:i,classNames:r,disabled:q,unstyled:V}),M.createElement(FD,{offset:le[0],marksOffset:H[0],filled:le[1]-le[0],marks:_,inverted:oe,size:l,radius:c,color:s,min:f,max:d,value:H[1],styles:i,classNames:r,onMouseEnter:D?()=>C(!0):void 0,onMouseLeave:D?()=>C(!1):void 0,onChange:Me=>{const Ue=Math.abs(H[0]-Me)>Math.abs(H[1]-Me)?1:0,wt=[...H];wt[Ue]=Me,pe(wt)},disabled:q,unstyled:V},M.createElement(iT,DC(kC({},Ve),{value:se(H[0]),position:le[0],dragging:Xe,label:typeof v=="function"?v(se(H[0])):v,ref:Me=>{Y.current[0]=Me},thumbLabel:A,onMouseDown:Me=>Ye(Me,0),onFocus:()=>K(0),showLabelOnHover:D&&I,disabled:q,unstyled:V,thumbSize:U}),Zt?P[0]:P),M.createElement(iT,DC(kC({},Ve),{thumbLabel:$,value:se(H[1]),position:le[1],dragging:Xe,label:typeof v=="function"?v(se(H[1])):v,ref:Me=>{Y.current[1]=Me},onMouseDown:Me=>Ye(Me,1),onFocus:()=>K(1),showLabelOnHover:D&&I,disabled:q,unstyled:V,thumbSize:U}),Zt?P[1]:P)),M.createElement("input",{type:"hidden",name:`${m}_from`,value:H[0]}),M.createElement("input",{type:"hidden",name:`${m}_to`,value:H[1]}))});lT.displayName="@mantine/core/RangeSlider";var hOe=Object.defineProperty,cT=Object.getOwnPropertySymbols,wJ=Object.prototype.hasOwnProperty,EJ=Object.prototype.propertyIsEnumerable,oB=(e,t,n)=>t in e?hOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pOe=(e,t)=>{for(var n in t||(t={}))wJ.call(t,n)&&oB(e,n,t[n]);if(cT)for(var n of cT(t))EJ.call(t,n)&&oB(e,n,t[n]);return e},mOe=(e,t)=>{var n={};for(var r in e)wJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&cT)for(var r of cT(e))t.indexOf(r)<0&&EJ.call(e,r)&&(n[r]=e[r]);return n};const gOe={w:0,h:0},lm=E.forwardRef((e,t)=>{const n=ht("Space",gOe,e),{w:r,h:i,sx:s}=n,o=mOe(n,["w","h","sx"]);return M.createElement(ut,pOe({ref:t,sx:[a=>{const u=a.fn.size({size:r,sizes:a.spacing}),l=a.fn.size({size:i,sizes:a.spacing});return{width:u,height:l,minWidth:u,minHeight:l}},...Hd(s)]},o))});lm.displayName="@mantine/core/Space";var yOe=Object.defineProperty,_Oe=Object.defineProperties,vOe=Object.getOwnPropertyDescriptors,aB=Object.getOwnPropertySymbols,bOe=Object.prototype.hasOwnProperty,wOe=Object.prototype.propertyIsEnumerable,uB=(e,t,n)=>t in e?yOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,EOe=(e,t)=>{for(var n in t||(t={}))bOe.call(t,n)&&uB(e,n,t[n]);if(aB)for(var n of aB(t))wOe.call(t,n)&&uB(e,n,t[n]);return e},TOe=(e,t)=>_Oe(e,vOe(t));function SOe(e,t,n){return typeof e<"u"?e in n.headings.sizes?n.headings.sizes[e].fontSize:e:n.headings.sizes[t].fontSize}function xOe(e,t,n){return typeof e<"u"&&e in n.headings.sizes?n.headings.sizes[e].lineHeight:n.headings.sizes[t].lineHeight}var IOe=lt((e,{element:t,weight:n,size:r,inline:i})=>({root:TOe(EOe({},e.fn.fontStyles()),{fontFamily:e.headings.fontFamily,fontWeight:n||e.headings.sizes[t].fontWeight||e.headings.fontWeight,fontSize:SOe(r,t,e),lineHeight:i?1:xOe(r,t,e),margin:0})}));const AOe=IOe;var COe=Object.defineProperty,fT=Object.getOwnPropertySymbols,TJ=Object.prototype.hasOwnProperty,SJ=Object.prototype.propertyIsEnumerable,lB=(e,t,n)=>t in e?COe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,OOe=(e,t)=>{for(var n in t||(t={}))TJ.call(t,n)&&lB(e,n,t[n]);if(fT)for(var n of fT(t))SJ.call(t,n)&&lB(e,n,t[n]);return e},POe=(e,t)=>{var n={};for(var r in e)TJ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&fT)for(var r of fT(e))t.indexOf(r)<0&&SJ.call(e,r)&&(n[r]=e[r]);return n};const ROe={order:1},Sc=E.forwardRef((e,t)=>{const n=ht("Title",ROe,e),{className:r,order:i,children:s,unstyled:o,size:a,weight:u,inline:l}=n,c=POe(n,["className","order","children","unstyled","size","weight","inline"]),{classes:f,cx:d}=AOe({element:`h${i}`,weight:u,size:a,inline:l},{name:"Title",unstyled:o});return[1,2,3,4,5,6].includes(i)?M.createElement(mt,OOe({component:`h${i}`,ref:t,className:d(f.root,r)},c),s):null});Sc.displayName="@mantine/core/Title";function M2(e){const t=e.split("/")||[];return t[(t==null?void 0:t.length)-1].replace(/\.[^\.]+$/,"").replace(".","_").replace(" ","_").replace("/","_")}const NOe="https://github.com/revisit-studies/study/tree/main/public/",kOe=({globalConfig:e,studyConfigs:t})=>{const{configsList:n}=e,r=lh();return O.jsxs(RQ,{size:"xs",px:"xs",style:{marginTop:100,marginBottom:100},children:[O.jsx(Y_,{maw:150,mx:"auto",mb:"xl",radius:"md",src:`${Qu}assets/revisitLogoSquare.svg`,alt:"reVISit"}),O.jsx(mt,{children:"Select an experiment to launch:"}),n.map(i=>{const s=t[i];if(!s)return null;const o=M2(i);return O.jsx(hD,{onClick:()=>{r(`/${o}`)},my:"sm",style:{width:"100%"},children:O.jsxs(dEe,{shadow:"sm",radius:"md",withBorder:!0,children:[O.jsx(mt,{fw:"bold",children:s.studyMetadata.title}),O.jsxs(mt,{c:"dimmed",children:["Authors: ",s.studyMetadata.authors]}),O.jsx(mt,{c:"dimmed",children:s.studyMetadata.description}),O.jsx(mt,{c:"dimmed",ta:"right",style:{paddingRight:5},children:O.jsxs(mG,{target:"_blank",onClick:a=>a.stopPropagation(),href:`${NOe}${o}`,children:["View source: ",o]})})]})},i)})]})};var xJ={exports:{}},IJ={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cm=E;function DOe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $Oe=typeof Object.is=="function"?Object.is:DOe,LOe=cm.useState,MOe=cm.useEffect,FOe=cm.useLayoutEffect,BOe=cm.useDebugValue;function jOe(e,t){var n=t(),r=LOe({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return FOe(function(){i.value=n,i.getSnapshot=t,$C(i)&&s({inst:i})},[e,n,t]),MOe(function(){return $C(i)&&s({inst:i}),e(function(){$C(i)&&s({inst:i})})},[e]),BOe(n),n}function $C(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!$Oe(e,n)}catch{return!0}}function UOe(e,t){return t()}var VOe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?UOe:jOe;IJ.useSyncExternalStore=cm.useSyncExternalStore!==void 0?cm.useSyncExternalStore:VOe;xJ.exports=IJ;var zOe=xJ.exports,AJ={exports:{}},CJ={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kx=E,HOe=zOe;function WOe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qOe=typeof Object.is=="function"?Object.is:WOe,YOe=HOe.useSyncExternalStore,GOe=kx.useRef,KOe=kx.useEffect,QOe=kx.useMemo,XOe=kx.useDebugValue;CJ.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var s=GOe(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=QOe(function(){function u(h){if(!l){if(l=!0,c=h,h=r(h),i!==void 0&&o.hasValue){var p=o.value;if(i(p,h))return f=p}return f=h}if(p=f,qOe(c,h))return p;var g=r(h);return i!==void 0&&i(p,g)?p:(c=h,f=g)}var l=!1,c,f,d=n===void 0?null:n;return[function(){return u(t())},d===null?void 0:function(){return u(d())}]},[t,n,r,i]);var a=YOe(e,s[0],s[1]);return KOe(function(){o.hasValue=!0,o.value=a},[a]),XOe(a),a};AJ.exports=CJ;var JOe=AJ.exports;function ZOe(e){e()}let OJ=ZOe;const ePe=e=>OJ=e,tPe=()=>OJ,pf=E.createContext(null);function PJ(){return E.useContext(pf)}const nPe=()=>{throw new Error("uSES not initialized!")};let RJ=nPe;const rPe=e=>{RJ=e},iPe=(e,t)=>e===t;function sPe(e=pf){const t=e===pf?PJ:()=>E.useContext(e);return function(r,i=iPe){const{store:s,subscription:o,getServerState:a}=t(),u=RJ(o.addNestedSub,s.getState,a||s.getState,r,i);return E.useDebugValue(u),u}}const oPe=sPe();var Fn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UD=Symbol.for("react.element"),VD=Symbol.for("react.portal"),Dx=Symbol.for("react.fragment"),$x=Symbol.for("react.strict_mode"),Lx=Symbol.for("react.profiler"),Mx=Symbol.for("react.provider"),Fx=Symbol.for("react.context"),aPe=Symbol.for("react.server_context"),Bx=Symbol.for("react.forward_ref"),jx=Symbol.for("react.suspense"),Ux=Symbol.for("react.suspense_list"),Vx=Symbol.for("react.memo"),zx=Symbol.for("react.lazy"),uPe=Symbol.for("react.offscreen"),NJ;NJ=Symbol.for("react.module.reference");function sa(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case UD:switch(e=e.type,e){case Dx:case Lx:case $x:case jx:case Ux:return e;default:switch(e=e&&e.$$typeof,e){case aPe:case Fx:case Bx:case zx:case Vx:case Mx:return e;default:return t}}case VD:return t}}}Fn.ContextConsumer=Fx;Fn.ContextProvider=Mx;Fn.Element=UD;Fn.ForwardRef=Bx;Fn.Fragment=Dx;Fn.Lazy=zx;Fn.Memo=Vx;Fn.Portal=VD;Fn.Profiler=Lx;Fn.StrictMode=$x;Fn.Suspense=jx;Fn.SuspenseList=Ux;Fn.isAsyncMode=function(){return!1};Fn.isConcurrentMode=function(){return!1};Fn.isContextConsumer=function(e){return sa(e)===Fx};Fn.isContextProvider=function(e){return sa(e)===Mx};Fn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===UD};Fn.isForwardRef=function(e){return sa(e)===Bx};Fn.isFragment=function(e){return sa(e)===Dx};Fn.isLazy=function(e){return sa(e)===zx};Fn.isMemo=function(e){return sa(e)===Vx};Fn.isPortal=function(e){return sa(e)===VD};Fn.isProfiler=function(e){return sa(e)===Lx};Fn.isStrictMode=function(e){return sa(e)===$x};Fn.isSuspense=function(e){return sa(e)===jx};Fn.isSuspenseList=function(e){return sa(e)===Ux};Fn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Dx||e===Lx||e===$x||e===jx||e===Ux||e===uPe||typeof e=="object"&&e!==null&&(e.$$typeof===zx||e.$$typeof===Vx||e.$$typeof===Mx||e.$$typeof===Fx||e.$$typeof===Bx||e.$$typeof===NJ||e.getModuleId!==void 0)};Fn.typeOf=sa;function lPe(){const e=tPe();let t=null,n=null;return{clear(){t=null,n=null},notify(){e(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=t;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,s=n={callback:r,next:null,prev:n};return s.prev?s.prev.next=s:t=s,function(){!i||t===null||(i=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}const cB={notify(){},get:()=>[]};function cPe(e,t){let n,r=cB;function i(f){return u(),r.subscribe(f)}function s(){r.notify()}function o(){c.onStateChange&&c.onStateChange()}function a(){return!!n}function u(){n||(n=t?t.addNestedSub(o):e.subscribe(o),r=lPe())}function l(){n&&(n(),n=void 0,r.clear(),r=cB)}const c={addNestedSub:i,notifyNestedSubs:s,handleChangeWrapper:o,isSubscribed:a,trySubscribe:u,tryUnsubscribe:l,getListeners:()=>r};return c}const fPe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dPe=fPe?E.useLayoutEffect:E.useEffect;function hPe({store:e,context:t,children:n,serverState:r}){const i=E.useMemo(()=>{const a=cPe(e);return{store:e,subscription:a,getServerState:r?()=>r:void 0}},[e,r]),s=E.useMemo(()=>e.getState(),[e]);dPe(()=>{const{subscription:a}=i;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),s!==e.getState()&&a.notifyNestedSubs(),()=>{a.tryUnsubscribe(),a.onStateChange=void 0}},[i,s]);const o=t||pf;return M.createElement(o.Provider,{value:i},n)}function kJ(e=pf){const t=e===pf?PJ:()=>E.useContext(e);return function(){const{store:r}=t();return r}}const pPe=kJ();function mPe(e=pf){const t=e===pf?pPe:kJ(e);return function(){return t().dispatch}}const DJ=mPe();rPe(JOe.useSyncExternalStoreWithSelector);ePe(F_.unstable_batchedUpdates);const gPe={},yPe=Object.freeze(Object.defineProperty({__proto__:null,default:gPe},Symbol.toStringTag,{value:"Module"})),_Pe=Oce(yPe);var vPe=_Pe;function bPe(e,t){var n,r="",i=0,s=!0,o=0,a;function u(){return a=e.charAt(o),o++,a}for(u(),a==="-"&&(r="-",u());a>="0"&&a<="9";)s&&(a=="0"?i++:s=!1),r+=a,u();if(s&&i--,a===".")for(r+=".";u()&&a>="0"&&a<="9";)r+=a;if(a==="e"||a==="E")for(r+=a,u(),(a==="-"||a==="+")&&(r+=a,u());a>="0"&&a<="9";)r+=a,u();for(;a&&a<=" ";)u();if(t&&(a===","||a==="}"||a==="]"||a==="#"||a==="/"&&(e[o]==="/"||e[o]==="*"))&&(a=0),n=+r,!(a||i||!isFinite(n)))return n}function wPe(e,t){return Object.defineProperty&&Object.defineProperty(e,"__COMMENTS__",{enumerable:!1,writable:!0}),e.__COMMENTS__=t||{}}function EPe(e){Object.defineProperty(e,"__COMMENTS__",{value:void 0})}function TPe(e){return e.__COMMENTS__}function SPe(e){if(!e)return"";var t=e.split(`
`),n,r,i,s;for(i=0;i<t.length;i++)for(n=t[i],s=n.length,r=0;r<s;r++){var o=n[r];if(o==="#")break;if(o==="/"&&(n[r+1]==="/"||n[r+1]==="*")){n[r+1]==="*"&&(i=t.length);break}else if(o>" "){t[i]="# "+n;break}}return t.join(`
`)}var Hx={EOL:vPe.EOL||`
`,tryParseNumber:bPe,createComment:wPe,removeComment:EPe,getComment:TPe,forceComment:SPe},xPe="3.2.1";function IPe(e,t){if(Object.prototype.toString.apply(e)!=="[object Array]"){if(e)throw new Error("dsf option must contain an array!");return fB}else if(e.length===0)return fB;var n=[];function r(i){return{}.toString.call(i)==="[object Function]"}return e.forEach(function(i){if(!i.name||!r(i.parse)||!r(i.stringify))throw new Error("extension does not match the DSF interface");n.push(function(){try{if(t=="parse")return i.parse.apply(null,arguments);if(t=="stringify"){var s=i.stringify.apply(null,arguments);if(s!==void 0&&(typeof s!="string"||s.length===0||s[0]==='"'||[].some.call(s,function(o){return CPe(o)})))throw new Error("value may not be empty, start with a quote or contain a punctuator character except colon: "+s);return s}else throw new Error("Invalid type")}catch(o){throw new Error("DSF-"+i.name+" failed; "+o.message)}})}),APe.bind(null,n)}function APe(e,t){if(e)for(var n=0;n<e.length;n++){var r=e[n](t);if(r!==void 0)return r}}function fB(){}function CPe(e){return e==="{"||e==="}"||e==="["||e==="]"||e===","}function $J(){return{name:"math",parse:function(e){switch(e){case"+inf":case"inf":case"+Inf":case"Inf":return 1/0;case"-inf":case"-Inf":return-1/0;case"nan":case"NaN":return NaN}},stringify:function(e){if(typeof e=="number"){if(1/e===-1/0)return"-0";if(e===1/0)return"Inf";if(e===-1/0)return"-Inf";if(isNaN(e))return"NaN"}}}}$J.description="support for Inf/inf, -Inf/-inf, Nan/naN and -0";function LJ(e){var t=e&&e.out;return{name:"hex",parse:function(n){if(/^0x[0-9A-Fa-f]+$/.test(n))return parseInt(n,16)},stringify:function(n){if(t&&Number.isInteger(n))return"0x"+n.toString(16)}}}LJ.description="parse hexadecimal numbers prefixed with 0x";function MJ(){return{name:"date",parse:function(e){if(/^\d{4}-\d{2}-\d{2}$/.test(e)||/^\d{4}-\d{2}-\d{2}T\d{2}\:\d{2}\:\d{2}(?:.\d+)(?:Z|[+-]\d{2}:\d{2})$/.test(e)){var t=Date.parse(e);if(!isNaN(t))return new Date(t)}},stringify:function(e){if(Object.prototype.toString.call(e)==="[object Date]"){var t=e.toISOString();return t.indexOf("T00:00:00.000Z",t.length-14)!==-1?t.substr(0,10):t}}}}MJ.description="support ISO dates";var zD={loadDsf:IPe,std:{math:$J,hex:LJ,date:MJ}},OPe=function(e,t){var n=Hx,r=zD,i,s,o,a={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},u,l;function c(){s=0,o=" "}function f(U){return U==="{"||U==="}"||U==="["||U==="]"||U===","||U===":"}function d(U){var se,oe=0,ce=1;for(se=s-1;se>0&&i[se]!==`
`;se--,oe++);for(;se>0;se--)i[se]===`
`&&ce++;throw new Error(U+" at line "+ce+","+oe+" >>>"+i.substr(s-oe,20)+" ...")}function h(){return o=i.charAt(s),s++,o}function p(U){return i.charAt(s+U)}function g(U){for(var se="",oe=o;h();){if(o===oe)return h(),U&&oe==="'"&&o==="'"&&se.length===0?(h(),y()):se;if(o==="\\")if(h(),o==="u"){for(var ce=0,ee=0;ee<4;ee++){h();var ie=o.charCodeAt(0),K;o>="0"&&o<="9"?K=ie-48:o>="a"&&o<="f"?K=ie-97+10:o>="A"&&o<="F"?K=ie-65+10:d("Bad \\u char "+o),ce=ce*16+K}se+=String.fromCharCode(ce)}else if(typeof a[o]=="string")se+=a[o];else break;else o===`
`||o==="\r"?d("Bad string containing newline"):se+=o}d("Bad string")}function y(){for(var U="",se=0,oe=0;;){var ce=p(-oe-5);if(!ce||ce===`
`)break;oe++}function ee(){for(var ie=oe;o&&o<=" "&&o!==`
`&&ie-- >0;)h()}for(;o&&o<=" "&&o!==`
`;)h();for(o===`
`&&(h(),ee());;){if(!o)d("Bad multiline string");else if(o==="'"){if(se++,h(),se===3)return U.slice(-1)===`
`&&(U=U.slice(0,-1)),U;continue}else for(;se>0;)U+="'",se--;o===`
`?(U+=`
`,h(),ee()):(o!=="\r"&&(U+=o),h())}}function m(){if(o==='"'||o==="'")return g(!1);for(var U="",se=s,oe=-1;;){if(o===":")return U?oe>=0&&oe!==U.length&&(s=se+oe,d("Found whitespace in your key name (use quotes to include)")):d("Found ':' but no key name (for an empty key name use quotes)"),U;o<=" "?o?oe<0&&(oe=U.length):d("Found EOF while looking for a key name (check your syntax)"):f(o)?d("Found '"+o+"' where a key name was expected (check your syntax or use quotes if the key name includes {}[],: or whitespace)"):U+=o,h()}}function _(){for(;o;){for(;o&&o<=" ";)h();if(o==="#"||o==="/"&&p(0)==="/")for(;o&&o!==`
`;)h();else if(o==="/"&&p(0)==="*"){for(h(),h();o&&!(o==="*"&&p(0)==="/");)h();o&&(h(),h())}else break}}function v(){var U=o;for(f(o)&&d("Found a punctuator character '"+o+"' when expecting a quoteless string (check your syntax)");;){h();var se=o==="\r"||o===`
`||o==="";if(se||o===","||o==="}"||o==="]"||o==="#"||o==="/"&&(p(0)==="/"||p(0)==="*")){var oe=U[0];switch(oe){case"f":if(U.trim()==="false")return!1;break;case"n":if(U.trim()==="null")return null;break;case"t":if(U.trim()==="true")return!0;break;default:if(oe==="-"||oe>="0"&&oe<="9"){var ce=n.tryParseNumber(U);if(ce!==void 0)return ce}}if(se){U=U.trim();var ee=l(U);return ee!==void 0?ee:U}}U+=o}}function T(U,se){var oe;for(U--,oe=s-2;oe>U&&i[oe]<=" "&&i[oe]!==`
`;oe--);i[oe]===`
`&&oe--,i[oe]==="\r"&&oe--;var ce=i.substr(U,oe-U+1);for(oe=0;oe<ce.length;oe++)if(ce[oe]>" "){var ee=ce.indexOf(`
`);if(ee>=0){var ie=[ce.substr(0,ee),ce.substr(ee+1)];return se&&ie[0].trim().length===0&&ie.shift(),ie}else return[ce]}return[]}function S(U){function se(ce,ee){var ie,K,I,C;switch(typeof ce){case"string":ce.indexOf(ee)>=0&&(C=ce);break;case"object":if(Object.prototype.toString.apply(ce)==="[object Array]")for(ie=0,I=ce.length;ie<I;ie++)C=se(ce[ie],ee)||C;else for(K in ce)Object.prototype.hasOwnProperty.call(ce,K)&&(C=se(ce[K],ee)||C)}return C}function oe(ce){var ee=se(U,ce);return ee?"found '"+ce+`' in a string value, your mistake could be with:
  > `+ee+`
  (unquoted strings contain everything up to the next line!)`:""}return oe("}")||oe("]")}function w(){var U=[],se,oe,ce;try{if(u&&(se=n.createComment(U,{a:[]})),h(),oe=s,_(),se&&(ce=T(oe,!0).join(`
`)),o==="]")return h(),se&&(se.e=[ce]),U;for(;o;){if(U.push(A()),oe=s,_(),o===","&&(h(),oe=s,_()),se){var ee=T(oe);se.a.push([ce||"",ee[0]||""]),ce=ee[1]}if(o==="]")return h(),se&&(se.a[se.a.length-1][1]+=ce||""),U;_()}d("End of input while parsing an array (missing ']')")}catch(ie){throw ie.hint=ie.hint||S(U),ie}}function x(U){var se="",oe={},ce,ee,ie;try{if(u&&(ce=n.createComment(oe,{c:{},o:[]})),U?ee=1:(h(),ee=s),_(),ce&&(ie=T(ee,!0).join(`
`)),o==="}"&&!U)return ce&&(ce.e=[ie]),h(),oe;for(;o;){if(se=m(),_(),o!==":"&&d("Expected ':' instead of '"+o+"'"),h(),oe[se]=A(),ee=s,_(),o===","&&(h(),ee=s,_()),ce){var K=T(ee);ce.c[se]=[ie||"",K[0]||""],ie=K[1],ce.o.push(se)}if(o==="}"&&!U)return h(),ce&&(ce.c[se][1]+=ie||""),oe;_()}if(U)return oe;d("End of input while parsing an object (missing '}')")}catch(I){throw I.hint=I.hint||S(oe),I}}function A(){switch(_(),o){case"{":return x();case"[":return w();case"'":case'"':return g(!0);default:return v()}}function $(U,se){var oe=s;if(_(),o&&d("Syntax error, found trailing characters"),u){var ce=se.join(`
`),ee=T(oe).join(`
`);if(ee||ce){var ie=n.createComment(U,n.getComment(U));ie.r=[ce,ee]}}return U}function D(){_();var U=u?T(1):null;switch(o){case"{":return $(x(),U);case"[":return $(w(),U);default:return $(A(),U)}}function P(){_();var U=u?T(1):null;switch(o){case"{":return $(x(),U);case"[":return $(w(),U)}try{return $(x(!0),U)}catch(se){c();try{return $(A(),U)}catch{throw se}}}if(typeof e!="string")throw new Error("source is not a string");var q=null,V=!0;return t&&typeof t=="object"&&(u=t.keepWsc,q=t.dsf,V=t.legacyRoot!==!1),l=r.loadDsf(q,"parse"),i=e,c(),V?P():D()},PPe=function(e,t){var n=Hx,r=zD,i={obj:["{","}"],arr:["[","]"],key:["",""],qkey:['"','"'],col:[":",""],com:[",",""],str:["",""],qstr:['"','"'],mstr:["'''","'''"],num:["",""],lit:["",""],dsf:["",""],esc:["\\",""],uni:["\\u",""],rem:["",""]},s=n.EOL,o="  ",a=!1,u=!1,l=!1,c=!1,f=0,d=1,h="",p=null,g=!1,y=i;if(t&&typeof t=="object"){t.quotes=t.quotes==="always"?"strings":t.quotes,(t.eol===`
`||t.eol===`\r
`)&&(s=t.eol),a=t.keepWsc,f=t.condense||0,u=t.bracesSameLine,l=t.quotes==="all"||t.quotes==="keys",c=t.quotes==="all"||t.quotes==="strings"||t.separator===!0,c||t.multiline=="off"?d=0:d=t.multiline=="no-tabs"?2:1,h=t.separator===!0?y.com[0]:"",p=t.dsf,g=t.sortProps,typeof t.space=="number"?o=new Array(t.space+1).join(" "):typeof t.space=="string"&&(o=t.space),t.colors===!0&&(y={obj:["\x1B[37m{\x1B[0m","\x1B[37m}\x1B[0m"],arr:["\x1B[37m[\x1B[0m","\x1B[37m]\x1B[0m"],key:["\x1B[33m","\x1B[0m"],qkey:['\x1B[33m"','"\x1B[0m'],col:["\x1B[37m:\x1B[0m",""],com:["\x1B[37m,\x1B[0m",""],str:["\x1B[37;1m","\x1B[0m"],qstr:['\x1B[37;1m"','"\x1B[0m'],mstr:["\x1B[37;1m'''","'''\x1B[0m"],num:["\x1B[36;1m","\x1B[0m"],lit:["\x1B[36m","\x1B[0m"],dsf:["\x1B[37m","\x1B[0m"],esc:["\x1B[31m\\","\x1B[0m"],uni:["\x1B[31m\\u","\x1B[0m"],rem:["\x1B[35m","\x1B[0m"]});var m,_=Object.keys(i);for(m=_.length-1;m>=0;m--){var v=_[m];y[v].push(i[v][0].length,i[v][1].length)}}var T,S="---\u2028--\uFEFF-",w=new RegExp('[\\\\\\"\0-'+S+"]","g"),x=new RegExp(`^\\s|^"|^'|^#|^\\/\\*|^\\/\\/|^\\{|^\\}|^\\[|^\\]|^:|^,|\\s$|[\0-`+S+"]","g"),A=new RegExp("'''|^[\\s]+$|[\0-"+(d===2?"	":"\b")+"\v\f-"+S+"]","g"),$=new RegExp("^(true|false|null)\\s*((,|\\]|\\}|#|//|/\\*).*)?$"),D={"\b":"b","	":"t","\n":"n","\f":"f","\r":"r",'"':'"',"\\":"\\"},P=/[,\{\[\}\]\s:#"']|\/\/|\/\*/,q="",V=0;function U(C,H){return V+=C[0].length+C[1].length-C[2]-C[3],C[0]+H+C[1]}function se(C){return C.replace(w,function(H){var N=D[H];return typeof N=="string"?U(y.esc,N):U(y.uni,("0000"+H.charCodeAt(0).toString(16)).slice(-4))})}function oe(C,H,N,R){return C?(x.lastIndex=0,$.lastIndex=0,c||N||x.test(C)||n.tryParseNumber(C,!0)!==void 0||$.test(C)?(w.lastIndex=0,A.lastIndex=0,w.test(C)?!A.test(C)&&!R&&d?ce(C,H):U(y.qstr,se(C)):U(y.qstr,C)):U(y.str,C)):U(y.qstr,"")}function ce(C,H){var N,R=C.replace(/\r/g,"").split(`
`);if(H+=o,R.length===1)return U(y.mstr,R[0]);var Y=s+H+y.mstr[0];for(N=0;N<R.length;N++)Y+=s,R[N]&&(Y+=H+R[N]);return Y+s+H+y.mstr[1]}function ee(C){return C?l||P.test(C)?(w.lastIndex=0,U(y.qkey,w.test(C)?se(C):C)):U(y.key,C):'""'}function ie(C,H,N,R){function Y(nt){return nt&&nt[nt[0]==="\r"?1:0]===`
`}function ae(nt){return nt&&!Y(nt)}function le(nt,wn,Wt){if(!nt)return"";nt=n.forceComment(nt);var xt,Bn=nt.length;for(xt=0;xt<Bn&&nt[xt]<=" ";xt++);return Wt&&xt>0&&(nt=nt.substr(xt)),xt<Bn?wn+U(y.rem,nt):nt}var pe=T(C);if(pe!==void 0)return U(y.dsf,pe);switch(typeof C){case"string":return oe(C,q,H,R);case"number":return isFinite(C)?U(y.num,String(C)):U(y.lit,"null");case"boolean":return U(y.lit,String(C));case"object":if(!C)return U(y.lit,"null");var he;a&&(he=n.getComment(C));var Se=Object.prototype.toString.apply(C)==="[object Array]",me=q;q+=o;var Xe=s+me,Ye=s+q,He=N||u?"":Xe,Le=[],Ae,Ve=f?[]:null,Zt=c,Me=d,Ue=h?"":y.com[0],wt=0,ze,yt,Gt,un,Gn,de,Ee,Fe,ot;if(Se){for(ze=0,yt=C.length;ze<yt;ze++){if(Ae=ze<yt-1,he?(de=he.a[ze]||[],Ee=ae(de[1]),Le.push(le(de[0],`
`)+Ye),Ve&&(de[0]||de[1]||Ee)&&(Ve=null)):Le.push(Ye),V=0,un=C[ze],Le.push(ie(un,he?Ee:!1,!0)+(Ae?h:"")),Ve){switch(typeof un){case"string":V=0,c=!0,d=0,Ve.push(ie(un,!1,!0)+(Ae?y.com[0]:"")),c=Zt,d=Me;break;case"object":if(un){Ve=null;break}default:Ve.push(Le[Le.length-1]+(Ae?Ue:""));break}Ae&&(V+=y.com[0].length-y.com[2]),wt+=V}he&&de[1]&&Le.push(le(de[1],Ee?" ":`
`,Ee))}yt===0?he&&he.e&&Le.push(le(he.e[0],`
`)+Xe):Le.push(Xe),Le.length===0?Fe=U(y.arr,""):(Fe=He+U(y.arr,Le.join("")),Ve&&(ot=Ve.join(" "),ot.length-wt<=f&&(Fe=U(y.arr,ot))))}else{var $e=he?he.o.slice():[],at=[];for(Gt in C)Object.prototype.hasOwnProperty.call(C,Gt)&&$e.indexOf(Gt)<0&&at.push(Gt);g&&at.sort();var Be=$e.concat(at);for(ze=0,yt=Be.length;ze<yt;ze++)if(Ae=ze<yt-1,Gt=Be[ze],he?(de=he.c[Gt]||[],Ee=ae(de[1]),Le.push(le(de[0],`
`)+Ye),Ve&&(de[0]||de[1]||Ee)&&(Ve=null)):Le.push(Ye),V=0,un=C[Gt],Gn=ie(un,he&&Ee),Le.push(ee(Gt)+y.col[0]+(Y(Gn)?"":" ")+Gn+(Ae?h:"")),he&&de[1]&&Le.push(le(de[1],Ee?" ":`
`,Ee)),Ve){switch(typeof un){case"string":V=0,c=!0,d=0,Gn=ie(un,!1),c=Zt,d=Me,Ve.push(ee(Gt)+y.col[0]+" "+Gn+(Ae?y.com[0]:""));break;case"object":if(un){Ve=null;break}default:Ve.push(Le[Le.length-1]+(Ae?Ue:""));break}V+=y.col[0].length-y.col[2],Ae&&(V+=y.com[0].length-y.com[2]),wt+=V}yt===0?he&&he.e&&Le.push(le(he.e[0],`
`)+Xe):Le.push(Xe),Le.length===0?Fe=U(y.obj,""):(Fe=He+U(y.obj,Le.join("")),Ve&&(ot=Ve.join(" "),ot.length-wt<=f&&(Fe=U(y.obj,ot))))}return q=me,Fe}}T=r.loadDsf(p,"stringify");var K="",I=a?I=(n.getComment(e)||{}).r:null;return I&&I[0]&&(K=I[0]+`
`),K+=ie(e,null,!0,!0),I&&(K+=I[1]||""),K},Pp=Hx;function Y0(e,t,n){var r;return e&&(r={b:e}),t&&((r=r||{}).a=t),n&&((r=r||{}).x=n),r}function F2(e,t){if(!(e===null||typeof e!="object")){var n=Pp.getComment(e);n&&Pp.removeComment(e);var r,i,s,o;if(Object.prototype.toString.apply(e)==="[object Array]"){for(o={a:{}},r=0,i=e.length;r<i;r++)dB(o.a,r,n.a[r],F2(e[r]))&&(s=!0);!s&&n.e&&(o.e=Y0(n.e[0],n.e[1]),s=!0)}else{o={s:{}};var a,u=Object.keys(e);for(n&&n.o?(a=[],n.o.concat(u).forEach(function(c){Object.prototype.hasOwnProperty.call(e,c)&&a.indexOf(c)<0&&a.push(c)})):a=u,o.o=a,r=0,i=a.length;r<i;r++){var l=a[r];dB(o.s,l,n.c[l],F2(e[l]))&&(s=!0)}!s&&n.e&&(o.e=Y0(n.e[0],n.e[1]),s=!0)}return t&&n&&n.r&&(o.r=Y0(n.r[0],n.r[1])),s?o:void 0}}function RPe(){var e="";return[].forEach.call(arguments,function(t){t&&t.trim()!==""&&(e&&(e+="; "),e+=t.trim())}),e}function NPe(e,t){var n=[];if(B2(e,t,n,[]),n.length>0){var r=dT(t,null,1);r+=`
# Orphaned comments:
`,n.forEach(function(i){r+=("# "+i.path.join("/")+": "+RPe(i.b,i.a,i.e)).replace(`
`,"\\n ")+`
`}),dT(t,r,1)}}function dB(e,t,n,r){var i=Y0(n?n[0]:void 0,n?n[1]:void 0,r);return i&&(e[t]=i),i}function G0(e,t){var n=Y0(t.b,t.a);return n.path=e,n}function K0(e,t,n){if(e){var r,i;if(e.a)for(r=0,i=e.a.length;r<i;r++){var s=n.slice().concat([r]),o=e.a[r];o&&(t.push(G0(s,o)),K0(o.x,t,s))}else e.o&&e.o.forEach(function(a){var u=n.slice().concat([a]),l=e.s[a];l&&(t.push(G0(u,l)),K0(l.x,t,u))});e.e&&t.push(G0(n,e.e))}}function B2(e,t,n,r){if(e){if(t===null||typeof t!="object"){K0(e,n,r);return}var i,s=Pp.createComment(t);if(r.length===0&&e.r&&(s.r=[e.r.b,e.r.a]),Object.prototype.toString.apply(t)==="[object Array]"){s.a=[];var o=e.a||{};for(var a in o)if(o.hasOwnProperty(a)){i=parseInt(a);var u=e.a[a];if(u){var l=r.slice().concat([i]);i<t.length?(s.a[i]=[u.b,u.a],B2(u.x,t[i],n,l)):(n.push(G0(l,u)),K0(u.x,n,l))}}i===0&&e.e&&(s.e=[e.e.b,e.e.a])}else s.c={},s.o=[],(e.o||[]).forEach(function(c){var f=r.slice().concat([c]),d=e.s[c];Object.prototype.hasOwnProperty.call(t,c)?(s.o.push(c),d&&(s.c[c]=[d.b,d.a],B2(d.x,t[c],n,f))):d&&(n.push(G0(f,d)),K0(d.x,n,f))}),e.e&&(s.e=[e.e.b,e.e.a])}}function dT(e,t,n){var r=Pp.createComment(e,Pp.getComment(e));return r.r||(r.r=["",""]),(t||t==="")&&(r.r[n]=Pp.forceComment(t)),r.r[n]||""}var kPe={extract:function(e){return F2(e,!0)},merge:NPe,header:function(e,t){return dT(e,t,0)},footer:function(e,t){return dT(e,t,1)}};/*!
 * Hjson v3.2.1
 * https://hjson.github.io
 *
 * Copyright 2014-2017 Christian Zangl, MIT license
 * Details and documentation:
 * https://github.com/hjson/hjson-js
 *
 * This code is based on the the JSON version by Douglas Crockford:
 * https://github.com/douglascrockford/JSON-js (json_parse.js, json2.js)
 */var hB=Hx,DPe=xPe,pB=OPe,mB=PPe,$Pe=kPe,LPe=zD,HD={parse:pB,stringify:mB,endOfLine:function(){return hB.EOL},setEndOfLine:function(e){(e===`
`||e===`\r
`)&&(hB.EOL=e)},version:DPe,rt:{parse:function(e,t){return(t=t||{}).keepWsc=!0,pB(e,t)},stringify:function(e,t){return(t=t||{}).keepWsc=!0,mB(e,t)}},comments:$Pe,dsf:LPe.std},j2={exports:{}},FJ={},Na={},fm={},G_={},Yt={},Uy={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends t{constructor(_){if(super(),!e.IDENTIFIER.test(_))throw new Error("CodeGen: name must be a valid identifier");this.str=_}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=n;class r extends t{constructor(_){super(),this._items=typeof _=="string"?[_]:_}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const _=this._items[0];return _===""||_==='""'}get str(){var _;return(_=this._str)!==null&&_!==void 0?_:this._str=this._items.reduce((v,T)=>`${v}${T}`,"")}get names(){var _;return(_=this._names)!==null&&_!==void 0?_:this._names=this._items.reduce((v,T)=>(T instanceof n&&(v[T.str]=(v[T.str]||0)+1),v),{})}}e._Code=r,e.nil=new r("");function i(m,..._){const v=[m[0]];let T=0;for(;T<_.length;)a(v,_[T]),v.push(m[++T]);return new r(v)}e._=i;const s=new r("+");function o(m,..._){const v=[h(m[0])];let T=0;for(;T<_.length;)v.push(s),a(v,_[T]),v.push(s,h(m[++T]));return u(v),new r(v)}e.str=o;function a(m,_){_ instanceof r?m.push(..._._items):_ instanceof n?m.push(_):m.push(f(_))}e.addCodeArg=a;function u(m){let _=1;for(;_<m.length-1;){if(m[_]===s){const v=l(m[_-1],m[_+1]);if(v!==void 0){m.splice(_-1,3,v);continue}m[_++]="+"}_++}}function l(m,_){if(_==='""')return m;if(m==='""')return _;if(typeof m=="string")return _ instanceof n||m[m.length-1]!=='"'?void 0:typeof _!="string"?`${m.slice(0,-1)}${_}"`:_[0]==='"'?m.slice(0,-1)+_.slice(1):void 0;if(typeof _=="string"&&_[0]==='"'&&!(m instanceof n))return`"${m}${_.slice(1)}`}function c(m,_){return _.emptyStr()?m:m.emptyStr()?_:o`${m}${_}`}e.strConcat=c;function f(m){return typeof m=="number"||typeof m=="boolean"||m===null?m:h(Array.isArray(m)?m.join(","):m)}function d(m){return new r(h(m))}e.stringify=d;function h(m){return JSON.stringify(m).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=h;function p(m){return typeof m=="string"&&e.IDENTIFIER.test(m)?new r(`.${m}`):i`[${m}]`}e.getProperty=p;function g(m){if(typeof m=="string"&&e.IDENTIFIER.test(m))return new r(`${m}`);throw new Error(`CodeGen: invalid export name: ${m}, use explicit $id name mapping`)}e.getEsmExportName=g;function y(m){return new r(m.toString())}e.regexpCode=y})(Uy);var U2={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=Uy;class n extends Error{constructor(l){super(`CodeGen: "code" for ${l} not defined`),this.value=l.value}}var r;(function(u){u[u.Started=0]="Started",u[u.Completed=1]="Completed"})(r=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class i{constructor({prefixes:l,parent:c}={}){this._names={},this._prefixes=l,this._parent=c}toName(l){return l instanceof t.Name?l:this.name(l)}name(l){return new t.Name(this._newName(l))}_newName(l){const c=this._names[l]||this._nameGroup(l);return`${l}${c.index++}`}_nameGroup(l){var c,f;if(!((f=(c=this._parent)===null||c===void 0?void 0:c._prefixes)===null||f===void 0)&&f.has(l)||this._prefixes&&!this._prefixes.has(l))throw new Error(`CodeGen: prefix "${l}" is not allowed in this scope`);return this._names[l]={prefix:l,index:0}}}e.Scope=i;class s extends t.Name{constructor(l,c){super(c),this.prefix=l}setValue(l,{property:c,itemIndex:f}){this.value=l,this.scopePath=(0,t._)`.${new t.Name(c)}[${f}]`}}e.ValueScopeName=s;const o=(0,t._)`\n`;class a extends i{constructor(l){super(l),this._values={},this._scope=l.scope,this.opts={...l,_n:l.lines?o:t.nil}}get(){return this._scope}name(l){return new s(l,this._newName(l))}value(l,c){var f;if(c.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const d=this.toName(l),{prefix:h}=d,p=(f=c.key)!==null&&f!==void 0?f:c.ref;let g=this._values[h];if(g){const _=g.get(p);if(_)return _}else g=this._values[h]=new Map;g.set(p,d);const y=this._scope[h]||(this._scope[h]=[]),m=y.length;return y[m]=c.ref,d.setValue(c,{property:h,itemIndex:m}),d}getValue(l,c){const f=this._values[l];if(f)return f.get(c)}scopeRefs(l,c=this._values){return this._reduceValues(c,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,t._)`${l}${f.scopePath}`})}scopeCode(l=this._values,c,f){return this._reduceValues(l,d=>{if(d.value===void 0)throw new Error(`CodeGen: name "${d}" has no value`);return d.value.code},c,f)}_reduceValues(l,c,f={},d){let h=t.nil;for(const p in l){const g=l[p];if(!g)continue;const y=f[p]=f[p]||new Map;g.forEach(m=>{if(y.has(m))return;y.set(m,r.Started);let _=c(m);if(_){const v=this.opts.es5?e.varKinds.var:e.varKinds.const;h=(0,t._)`${h}${v} ${m} = ${_};${this.opts._n}`}else if(_=d==null?void 0:d(m))h=(0,t._)`${h}${_}${this.opts._n}`;else throw new n(m);y.set(m,r.Completed)})}return h}}e.ValueScope=a})(U2);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=Uy,n=U2;var r=Uy;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return r.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return r.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return r.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}});var i=U2;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class s{optimizeNodes(){return this}optimizeNames(N,R){return this}}class o extends s{constructor(N,R,Y){super(),this.varKind=N,this.name=R,this.rhs=Y}render({es5:N,_n:R}){const Y=N?n.varKinds.var:this.varKind,ae=this.rhs===void 0?"":` = ${this.rhs}`;return`${Y} ${this.name}${ae};`+R}optimizeNames(N,R){if(N[this.name.str])return this.rhs&&(this.rhs=U(this.rhs,N,R)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class a extends s{constructor(N,R,Y){super(),this.lhs=N,this.rhs=R,this.sideEffects=Y}render({_n:N}){return`${this.lhs} = ${this.rhs};`+N}optimizeNames(N,R){if(!(this.lhs instanceof t.Name&&!N[this.lhs.str]&&!this.sideEffects))return this.rhs=U(this.rhs,N,R),this}get names(){const N=this.lhs instanceof t.Name?{}:{...this.lhs.names};return V(N,this.rhs)}}class u extends a{constructor(N,R,Y,ae){super(N,Y,ae),this.op=R}render({_n:N}){return`${this.lhs} ${this.op}= ${this.rhs};`+N}}class l extends s{constructor(N){super(),this.label=N,this.names={}}render({_n:N}){return`${this.label}:`+N}}class c extends s{constructor(N){super(),this.label=N,this.names={}}render({_n:N}){return`break${this.label?` ${this.label}`:""};`+N}}class f extends s{constructor(N){super(),this.error=N}render({_n:N}){return`throw ${this.error};`+N}get names(){return this.error.names}}class d extends s{constructor(N){super(),this.code=N}render({_n:N}){return`${this.code};`+N}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(N,R){return this.code=U(this.code,N,R),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class h extends s{constructor(N=[]){super(),this.nodes=N}render(N){return this.nodes.reduce((R,Y)=>R+Y.render(N),"")}optimizeNodes(){const{nodes:N}=this;let R=N.length;for(;R--;){const Y=N[R].optimizeNodes();Array.isArray(Y)?N.splice(R,1,...Y):Y?N[R]=Y:N.splice(R,1)}return N.length>0?this:void 0}optimizeNames(N,R){const{nodes:Y}=this;let ae=Y.length;for(;ae--;){const le=Y[ae];le.optimizeNames(N,R)||(se(N,le.names),Y.splice(ae,1))}return Y.length>0?this:void 0}get names(){return this.nodes.reduce((N,R)=>q(N,R.names),{})}}class p extends h{render(N){return"{"+N._n+super.render(N)+"}"+N._n}}class g extends h{}class y extends p{}y.kind="else";class m extends p{constructor(N,R){super(R),this.condition=N}render(N){let R=`if(${this.condition})`+super.render(N);return this.else&&(R+="else "+this.else.render(N)),R}optimizeNodes(){super.optimizeNodes();const N=this.condition;if(N===!0)return this.nodes;let R=this.else;if(R){const Y=R.optimizeNodes();R=this.else=Array.isArray(Y)?new y(Y):Y}if(R)return N===!1?R instanceof m?R:R.nodes:this.nodes.length?this:new m(oe(N),R instanceof m?[R]:R.nodes);if(!(N===!1||!this.nodes.length))return this}optimizeNames(N,R){var Y;if(this.else=(Y=this.else)===null||Y===void 0?void 0:Y.optimizeNames(N,R),!!(super.optimizeNames(N,R)||this.else))return this.condition=U(this.condition,N,R),this}get names(){const N=super.names;return V(N,this.condition),this.else&&q(N,this.else.names),N}}m.kind="if";class _ extends p{}_.kind="for";class v extends _{constructor(N){super(),this.iteration=N}render(N){return`for(${this.iteration})`+super.render(N)}optimizeNames(N,R){if(super.optimizeNames(N,R))return this.iteration=U(this.iteration,N,R),this}get names(){return q(super.names,this.iteration.names)}}class T extends _{constructor(N,R,Y,ae){super(),this.varKind=N,this.name=R,this.from=Y,this.to=ae}render(N){const R=N.es5?n.varKinds.var:this.varKind,{name:Y,from:ae,to:le}=this;return`for(${R} ${Y}=${ae}; ${Y}<${le}; ${Y}++)`+super.render(N)}get names(){const N=V(super.names,this.from);return V(N,this.to)}}class S extends _{constructor(N,R,Y,ae){super(),this.loop=N,this.varKind=R,this.name=Y,this.iterable=ae}render(N){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(N)}optimizeNames(N,R){if(super.optimizeNames(N,R))return this.iterable=U(this.iterable,N,R),this}get names(){return q(super.names,this.iterable.names)}}class w extends p{constructor(N,R,Y){super(),this.name=N,this.args=R,this.async=Y}render(N){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(N)}}w.kind="func";class x extends h{render(N){return"return "+super.render(N)}}x.kind="return";class A extends p{render(N){let R="try"+super.render(N);return this.catch&&(R+=this.catch.render(N)),this.finally&&(R+=this.finally.render(N)),R}optimizeNodes(){var N,R;return super.optimizeNodes(),(N=this.catch)===null||N===void 0||N.optimizeNodes(),(R=this.finally)===null||R===void 0||R.optimizeNodes(),this}optimizeNames(N,R){var Y,ae;return super.optimizeNames(N,R),(Y=this.catch)===null||Y===void 0||Y.optimizeNames(N,R),(ae=this.finally)===null||ae===void 0||ae.optimizeNames(N,R),this}get names(){const N=super.names;return this.catch&&q(N,this.catch.names),this.finally&&q(N,this.finally.names),N}}class $ extends p{constructor(N){super(),this.error=N}render(N){return`catch(${this.error})`+super.render(N)}}$.kind="catch";class D extends p{render(N){return"finally"+super.render(N)}}D.kind="finally";class P{constructor(N,R={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...R,_n:R.lines?`
`:""},this._extScope=N,this._scope=new n.Scope({parent:N}),this._nodes=[new g]}toString(){return this._root.render(this.opts)}name(N){return this._scope.name(N)}scopeName(N){return this._extScope.name(N)}scopeValue(N,R){const Y=this._extScope.value(N,R);return(this._values[Y.prefix]||(this._values[Y.prefix]=new Set)).add(Y),Y}getScopeValue(N,R){return this._extScope.getValue(N,R)}scopeRefs(N){return this._extScope.scopeRefs(N,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(N,R,Y,ae){const le=this._scope.toName(R);return Y!==void 0&&ae&&(this._constants[le.str]=Y),this._leafNode(new o(N,le,Y)),le}const(N,R,Y){return this._def(n.varKinds.const,N,R,Y)}let(N,R,Y){return this._def(n.varKinds.let,N,R,Y)}var(N,R,Y){return this._def(n.varKinds.var,N,R,Y)}assign(N,R,Y){return this._leafNode(new a(N,R,Y))}add(N,R){return this._leafNode(new u(N,e.operators.ADD,R))}code(N){return typeof N=="function"?N():N!==t.nil&&this._leafNode(new d(N)),this}object(...N){const R=["{"];for(const[Y,ae]of N)R.length>1&&R.push(","),R.push(Y),(Y!==ae||this.opts.es5)&&(R.push(":"),(0,t.addCodeArg)(R,ae));return R.push("}"),new t._Code(R)}if(N,R,Y){if(this._blockNode(new m(N)),R&&Y)this.code(R).else().code(Y).endIf();else if(R)this.code(R).endIf();else if(Y)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(N){return this._elseNode(new m(N))}else(){return this._elseNode(new y)}endIf(){return this._endBlockNode(m,y)}_for(N,R){return this._blockNode(N),R&&this.code(R).endFor(),this}for(N,R){return this._for(new v(N),R)}forRange(N,R,Y,ae,le=this.opts.es5?n.varKinds.var:n.varKinds.let){const pe=this._scope.toName(N);return this._for(new T(le,pe,R,Y),()=>ae(pe))}forOf(N,R,Y,ae=n.varKinds.const){const le=this._scope.toName(N);if(this.opts.es5){const pe=R instanceof t.Name?R:this.var("_arr",R);return this.forRange("_i",0,(0,t._)`${pe}.length`,he=>{this.var(le,(0,t._)`${pe}[${he}]`),Y(le)})}return this._for(new S("of",ae,le,R),()=>Y(le))}forIn(N,R,Y,ae=this.opts.es5?n.varKinds.var:n.varKinds.const){if(this.opts.ownProperties)return this.forOf(N,(0,t._)`Object.keys(${R})`,Y);const le=this._scope.toName(N);return this._for(new S("in",ae,le,R),()=>Y(le))}endFor(){return this._endBlockNode(_)}label(N){return this._leafNode(new l(N))}break(N){return this._leafNode(new c(N))}return(N){const R=new x;if(this._blockNode(R),this.code(N),R.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(x)}try(N,R,Y){if(!R&&!Y)throw new Error('CodeGen: "try" without "catch" and "finally"');const ae=new A;if(this._blockNode(ae),this.code(N),R){const le=this.name("e");this._currNode=ae.catch=new $(le),R(le)}return Y&&(this._currNode=ae.finally=new D,this.code(Y)),this._endBlockNode($,D)}throw(N){return this._leafNode(new f(N))}block(N,R){return this._blockStarts.push(this._nodes.length),N&&this.code(N).endBlock(R),this}endBlock(N){const R=this._blockStarts.pop();if(R===void 0)throw new Error("CodeGen: not in self-balancing block");const Y=this._nodes.length-R;if(Y<0||N!==void 0&&Y!==N)throw new Error(`CodeGen: wrong number of nodes: ${Y} vs ${N} expected`);return this._nodes.length=R,this}func(N,R=t.nil,Y,ae){return this._blockNode(new w(N,R,Y)),ae&&this.code(ae).endFunc(),this}endFunc(){return this._endBlockNode(w)}optimize(N=1){for(;N-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(N){return this._currNode.nodes.push(N),this}_blockNode(N){this._currNode.nodes.push(N),this._nodes.push(N)}_endBlockNode(N,R){const Y=this._currNode;if(Y instanceof N||R&&Y instanceof R)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${R?`${N.kind}/${R.kind}`:N.kind}"`)}_elseNode(N){const R=this._currNode;if(!(R instanceof m))throw new Error('CodeGen: "else" without "if"');return this._currNode=R.else=N,this}get _root(){return this._nodes[0]}get _currNode(){const N=this._nodes;return N[N.length-1]}set _currNode(N){const R=this._nodes;R[R.length-1]=N}}e.CodeGen=P;function q(H,N){for(const R in N)H[R]=(H[R]||0)+(N[R]||0);return H}function V(H,N){return N instanceof t._CodeOrName?q(H,N.names):H}function U(H,N,R){if(H instanceof t.Name)return Y(H);if(!ae(H))return H;return new t._Code(H._items.reduce((le,pe)=>(pe instanceof t.Name&&(pe=Y(pe)),pe instanceof t._Code?le.push(...pe._items):le.push(pe),le),[]));function Y(le){const pe=R[le.str];return pe===void 0||N[le.str]!==1?le:(delete N[le.str],pe)}function ae(le){return le instanceof t._Code&&le._items.some(pe=>pe instanceof t.Name&&N[pe.str]===1&&R[pe.str]!==void 0)}}function se(H,N){for(const R in N)H[R]=(H[R]||0)-(N[R]||0)}function oe(H){return typeof H=="boolean"||typeof H=="number"||H===null?!H:(0,t._)`!${C(H)}`}e.not=oe;const ce=I(e.operators.AND);function ee(...H){return H.reduce(ce)}e.and=ee;const ie=I(e.operators.OR);function K(...H){return H.reduce(ie)}e.or=K;function I(H){return(N,R)=>N===t.nil?R:R===t.nil?N:(0,t._)`${C(N)} ${H} ${C(R)}`}function C(H){return H instanceof t.Name?H:(0,t._)`(${H})`}})(Yt);var mn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;const t=Yt,n=Uy;function r(w){const x={};for(const A of w)x[A]=!0;return x}e.toHash=r;function i(w,x){return typeof x=="boolean"?x:Object.keys(x).length===0?!0:(s(w,x),!o(x,w.self.RULES.all))}e.alwaysValidSchema=i;function s(w,x=w.schema){const{opts:A,self:$}=w;if(!A.strictSchema||typeof x=="boolean")return;const D=$.RULES.keywords;for(const P in x)D[P]||S(w,`unknown keyword: "${P}"`)}e.checkUnknownRules=s;function o(w,x){if(typeof w=="boolean")return!w;for(const A in w)if(x[A])return!0;return!1}e.schemaHasRules=o;function a(w,x){if(typeof w=="boolean")return!w;for(const A in w)if(A!=="$ref"&&x.all[A])return!0;return!1}e.schemaHasRulesButRef=a;function u({topSchemaRef:w,schemaPath:x},A,$,D){if(!D){if(typeof A=="number"||typeof A=="boolean")return A;if(typeof A=="string")return(0,t._)`${A}`}return(0,t._)`${w}${x}${(0,t.getProperty)($)}`}e.schemaRefOrVal=u;function l(w){return d(decodeURIComponent(w))}e.unescapeFragment=l;function c(w){return encodeURIComponent(f(w))}e.escapeFragment=c;function f(w){return typeof w=="number"?`${w}`:w.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=f;function d(w){return w.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=d;function h(w,x){if(Array.isArray(w))for(const A of w)x(A);else x(w)}e.eachItem=h;function p({mergeNames:w,mergeToName:x,mergeValues:A,resultToName:$}){return(D,P,q,V)=>{const U=q===void 0?P:q instanceof t.Name?(P instanceof t.Name?w(D,P,q):x(D,P,q),q):P instanceof t.Name?(x(D,q,P),P):A(P,q);return V===t.Name&&!(U instanceof t.Name)?$(D,U):U}}e.mergeEvaluated={props:p({mergeNames:(w,x,A)=>w.if((0,t._)`${A} !== true && ${x} !== undefined`,()=>{w.if((0,t._)`${x} === true`,()=>w.assign(A,!0),()=>w.assign(A,(0,t._)`${A} || {}`).code((0,t._)`Object.assign(${A}, ${x})`))}),mergeToName:(w,x,A)=>w.if((0,t._)`${A} !== true`,()=>{x===!0?w.assign(A,!0):(w.assign(A,(0,t._)`${A} || {}`),y(w,A,x))}),mergeValues:(w,x)=>w===!0?!0:{...w,...x},resultToName:g}),items:p({mergeNames:(w,x,A)=>w.if((0,t._)`${A} !== true && ${x} !== undefined`,()=>w.assign(A,(0,t._)`${x} === true ? true : ${A} > ${x} ? ${A} : ${x}`)),mergeToName:(w,x,A)=>w.if((0,t._)`${A} !== true`,()=>w.assign(A,x===!0?!0:(0,t._)`${A} > ${x} ? ${A} : ${x}`)),mergeValues:(w,x)=>w===!0?!0:Math.max(w,x),resultToName:(w,x)=>w.var("items",x)})};function g(w,x){if(x===!0)return w.var("props",!0);const A=w.var("props",(0,t._)`{}`);return x!==void 0&&y(w,A,x),A}e.evaluatedPropsToName=g;function y(w,x,A){Object.keys(A).forEach($=>w.assign((0,t._)`${x}${(0,t.getProperty)($)}`,!0))}e.setEvaluated=y;const m={};function _(w,x){return w.scopeValue("func",{ref:x,code:m[x.code]||(m[x.code]=new n._Code(x.code))})}e.useFunc=_;var v;(function(w){w[w.Num=0]="Num",w[w.Str=1]="Str"})(v=e.Type||(e.Type={}));function T(w,x,A){if(w instanceof t.Name){const $=x===v.Num;return A?$?(0,t._)`"[" + ${w} + "]"`:(0,t._)`"['" + ${w} + "']"`:$?(0,t._)`"/" + ${w}`:(0,t._)`"/" + ${w}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return A?(0,t.getProperty)(w).toString():"/"+f(w)}e.getErrorPath=T;function S(w,x,A=w.opts.strictSchema){if(A){if(x=`strict mode: ${x}`,A===!0)throw new Error(x);w.self.logger.warn(x)}}e.checkStrictMode=S})(mn);var Hu={};Object.defineProperty(Hu,"__esModule",{value:!0});const Ui=Yt,MPe={data:new Ui.Name("data"),valCxt:new Ui.Name("valCxt"),instancePath:new Ui.Name("instancePath"),parentData:new Ui.Name("parentData"),parentDataProperty:new Ui.Name("parentDataProperty"),rootData:new Ui.Name("rootData"),dynamicAnchors:new Ui.Name("dynamicAnchors"),vErrors:new Ui.Name("vErrors"),errors:new Ui.Name("errors"),this:new Ui.Name("this"),self:new Ui.Name("self"),scope:new Ui.Name("scope"),json:new Ui.Name("json"),jsonPos:new Ui.Name("jsonPos"),jsonLen:new Ui.Name("jsonLen"),jsonPart:new Ui.Name("jsonPart")};Hu.default=MPe;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=Yt,n=mn,r=Hu;e.keywordError={message:({keyword:y})=>(0,t.str)`must pass "${y}" keyword validation`},e.keyword$DataError={message:({keyword:y,schemaType:m})=>m?(0,t.str)`"${y}" keyword must be ${m} ($data)`:(0,t.str)`"${y}" keyword is invalid ($data)`};function i(y,m=e.keywordError,_,v){const{it:T}=y,{gen:S,compositeRule:w,allErrors:x}=T,A=f(y,m,_);v??(w||x)?u(S,A):l(T,(0,t._)`[${A}]`)}e.reportError=i;function s(y,m=e.keywordError,_){const{it:v}=y,{gen:T,compositeRule:S,allErrors:w}=v,x=f(y,m,_);u(T,x),S||w||l(v,r.default.vErrors)}e.reportExtraError=s;function o(y,m){y.assign(r.default.errors,m),y.if((0,t._)`${r.default.vErrors} !== null`,()=>y.if(m,()=>y.assign((0,t._)`${r.default.vErrors}.length`,m),()=>y.assign(r.default.vErrors,null)))}e.resetErrorsCount=o;function a({gen:y,keyword:m,schemaValue:_,data:v,errsCount:T,it:S}){if(T===void 0)throw new Error("ajv implementation error");const w=y.name("err");y.forRange("i",T,r.default.errors,x=>{y.const(w,(0,t._)`${r.default.vErrors}[${x}]`),y.if((0,t._)`${w}.instancePath === undefined`,()=>y.assign((0,t._)`${w}.instancePath`,(0,t.strConcat)(r.default.instancePath,S.errorPath))),y.assign((0,t._)`${w}.schemaPath`,(0,t.str)`${S.errSchemaPath}/${m}`),S.opts.verbose&&(y.assign((0,t._)`${w}.schema`,_),y.assign((0,t._)`${w}.data`,v))})}e.extendErrors=a;function u(y,m){const _=y.const("err",m);y.if((0,t._)`${r.default.vErrors} === null`,()=>y.assign(r.default.vErrors,(0,t._)`[${_}]`),(0,t._)`${r.default.vErrors}.push(${_})`),y.code((0,t._)`${r.default.errors}++`)}function l(y,m){const{gen:_,validateName:v,schemaEnv:T}=y;T.$async?_.throw((0,t._)`new ${y.ValidationError}(${m})`):(_.assign((0,t._)`${v}.errors`,m),_.return(!1))}const c={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function f(y,m,_){const{createErrors:v}=y.it;return v===!1?(0,t._)`{}`:d(y,m,_)}function d(y,m,_={}){const{gen:v,it:T}=y,S=[h(T,_),p(y,_)];return g(y,m,S),v.object(...S)}function h({errorPath:y},{instancePath:m}){const _=m?(0,t.str)`${y}${(0,n.getErrorPath)(m,n.Type.Str)}`:y;return[r.default.instancePath,(0,t.strConcat)(r.default.instancePath,_)]}function p({keyword:y,it:{errSchemaPath:m}},{schemaPath:_,parentSchema:v}){let T=v?m:(0,t.str)`${m}/${y}`;return _&&(T=(0,t.str)`${T}${(0,n.getErrorPath)(_,n.Type.Str)}`),[c.schemaPath,T]}function g(y,{params:m,message:_},v){const{keyword:T,data:S,schemaValue:w,it:x}=y,{opts:A,propertyName:$,topSchemaRef:D,schemaPath:P}=x;v.push([c.keyword,T],[c.params,typeof m=="function"?m(y):m||(0,t._)`{}`]),A.messages&&v.push([c.message,typeof _=="function"?_(y):_]),A.verbose&&v.push([c.schema,w],[c.parentSchema,(0,t._)`${D}${P}`],[r.default.data,S]),$&&v.push([c.propertyName,$])}})(G_);Object.defineProperty(fm,"__esModule",{value:!0});fm.boolOrEmptySchema=fm.topBoolOrEmptySchema=void 0;const FPe=G_,BPe=Yt,jPe=Hu,UPe={message:"boolean schema is false"};function VPe(e){const{gen:t,schema:n,validateName:r}=e;n===!1?BJ(e,!1):typeof n=="object"&&n.$async===!0?t.return(jPe.default.data):(t.assign((0,BPe._)`${r}.errors`,null),t.return(!0))}fm.topBoolOrEmptySchema=VPe;function zPe(e,t){const{gen:n,schema:r}=e;r===!1?(n.var(t,!1),BJ(e)):n.var(t,!0)}fm.boolOrEmptySchema=zPe;function BJ(e,t){const{gen:n,data:r}=e,i={gen:n,keyword:"false schema",data:r,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,FPe.reportError)(i,UPe,void 0,t)}var K_={},Wd={};Object.defineProperty(Wd,"__esModule",{value:!0});Wd.getRules=Wd.isJSONType=void 0;const HPe=["string","number","integer","boolean","null","object","array"],WPe=new Set(HPe);function qPe(e){return typeof e=="string"&&WPe.has(e)}Wd.isJSONType=qPe;function YPe(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}Wd.getRules=YPe;var Il={};Object.defineProperty(Il,"__esModule",{value:!0});Il.shouldUseRule=Il.shouldUseGroup=Il.schemaHasRulesForType=void 0;function GPe({schema:e,self:t},n){const r=t.RULES.types[n];return r&&r!==!0&&jJ(e,r)}Il.schemaHasRulesForType=GPe;function jJ(e,t){return t.rules.some(n=>UJ(e,n))}Il.shouldUseGroup=jJ;function UJ(e,t){var n;return e[t.keyword]!==void 0||((n=t.definition.implements)===null||n===void 0?void 0:n.some(r=>e[r]!==void 0))}Il.shouldUseRule=UJ;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;const t=Wd,n=Il,r=G_,i=Yt,s=mn;var o;(function(v){v[v.Correct=0]="Correct",v[v.Wrong=1]="Wrong"})(o=e.DataType||(e.DataType={}));function a(v){const T=u(v.type);if(T.includes("null")){if(v.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!T.length&&v.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');v.nullable===!0&&T.push("null")}return T}e.getSchemaTypes=a;function u(v){const T=Array.isArray(v)?v:v?[v]:[];if(T.every(t.isJSONType))return T;throw new Error("type must be JSONType or JSONType[]: "+T.join(","))}e.getJSONTypes=u;function l(v,T){const{gen:S,data:w,opts:x}=v,A=f(T,x.coerceTypes),$=T.length>0&&!(A.length===0&&T.length===1&&(0,n.schemaHasRulesForType)(v,T[0]));if($){const D=g(T,w,x.strictNumbers,o.Wrong);S.if(D,()=>{A.length?d(v,T,A):m(v)})}return $}e.coerceAndCheckDataType=l;const c=new Set(["string","number","integer","boolean","null"]);function f(v,T){return T?v.filter(S=>c.has(S)||T==="array"&&S==="array"):[]}function d(v,T,S){const{gen:w,data:x,opts:A}=v,$=w.let("dataType",(0,i._)`typeof ${x}`),D=w.let("coerced",(0,i._)`undefined`);A.coerceTypes==="array"&&w.if((0,i._)`${$} == 'object' && Array.isArray(${x}) && ${x}.length == 1`,()=>w.assign(x,(0,i._)`${x}[0]`).assign($,(0,i._)`typeof ${x}`).if(g(T,x,A.strictNumbers),()=>w.assign(D,x))),w.if((0,i._)`${D} !== undefined`);for(const q of S)(c.has(q)||q==="array"&&A.coerceTypes==="array")&&P(q);w.else(),m(v),w.endIf(),w.if((0,i._)`${D} !== undefined`,()=>{w.assign(x,D),h(v,D)});function P(q){switch(q){case"string":w.elseIf((0,i._)`${$} == "number" || ${$} == "boolean"`).assign(D,(0,i._)`"" + ${x}`).elseIf((0,i._)`${x} === null`).assign(D,(0,i._)`""`);return;case"number":w.elseIf((0,i._)`${$} == "boolean" || ${x} === null
              || (${$} == "string" && ${x} && ${x} == +${x})`).assign(D,(0,i._)`+${x}`);return;case"integer":w.elseIf((0,i._)`${$} === "boolean" || ${x} === null
              || (${$} === "string" && ${x} && ${x} == +${x} && !(${x} % 1))`).assign(D,(0,i._)`+${x}`);return;case"boolean":w.elseIf((0,i._)`${x} === "false" || ${x} === 0 || ${x} === null`).assign(D,!1).elseIf((0,i._)`${x} === "true" || ${x} === 1`).assign(D,!0);return;case"null":w.elseIf((0,i._)`${x} === "" || ${x} === 0 || ${x} === false`),w.assign(D,null);return;case"array":w.elseIf((0,i._)`${$} === "string" || ${$} === "number"
              || ${$} === "boolean" || ${x} === null`).assign(D,(0,i._)`[${x}]`)}}}function h({gen:v,parentData:T,parentDataProperty:S},w){v.if((0,i._)`${T} !== undefined`,()=>v.assign((0,i._)`${T}[${S}]`,w))}function p(v,T,S,w=o.Correct){const x=w===o.Correct?i.operators.EQ:i.operators.NEQ;let A;switch(v){case"null":return(0,i._)`${T} ${x} null`;case"array":A=(0,i._)`Array.isArray(${T})`;break;case"object":A=(0,i._)`${T} && typeof ${T} == "object" && !Array.isArray(${T})`;break;case"integer":A=$((0,i._)`!(${T} % 1) && !isNaN(${T})`);break;case"number":A=$();break;default:return(0,i._)`typeof ${T} ${x} ${v}`}return w===o.Correct?A:(0,i.not)(A);function $(D=i.nil){return(0,i.and)((0,i._)`typeof ${T} == "number"`,D,S?(0,i._)`isFinite(${T})`:i.nil)}}e.checkDataType=p;function g(v,T,S,w){if(v.length===1)return p(v[0],T,S,w);let x;const A=(0,s.toHash)(v);if(A.array&&A.object){const $=(0,i._)`typeof ${T} != "object"`;x=A.null?$:(0,i._)`!${T} || ${$}`,delete A.null,delete A.array,delete A.object}else x=i.nil;A.number&&delete A.integer;for(const $ in A)x=(0,i.and)(x,p($,T,S,w));return x}e.checkDataTypes=g;const y={message:({schema:v})=>`must be ${v}`,params:({schema:v,schemaValue:T})=>typeof v=="string"?(0,i._)`{type: ${v}}`:(0,i._)`{type: ${T}}`};function m(v){const T=_(v);(0,r.reportError)(T,y)}e.reportTypeError=m;function _(v){const{gen:T,data:S,schema:w}=v,x=(0,s.schemaRefOrVal)(v,w,"type");return{gen:T,keyword:"type",data:S,schema:w.type,schemaCode:x,schemaValue:x,parentSchema:w,params:{},it:v}}})(K_);var Wx={};Object.defineProperty(Wx,"__esModule",{value:!0});Wx.assignDefaults=void 0;const kh=Yt,KPe=mn;function QPe(e,t){const{properties:n,items:r}=e.schema;if(t==="object"&&n)for(const i in n)gB(e,i,n[i].default);else t==="array"&&Array.isArray(r)&&r.forEach((i,s)=>gB(e,s,i.default))}Wx.assignDefaults=QPe;function gB(e,t,n){const{gen:r,compositeRule:i,data:s,opts:o}=e;if(n===void 0)return;const a=(0,kh._)`${s}${(0,kh.getProperty)(t)}`;if(i){(0,KPe.checkStrictMode)(e,`default is ignored for: ${a}`);return}let u=(0,kh._)`${a} === undefined`;o.useDefaults==="empty"&&(u=(0,kh._)`${u} || ${a} === null || ${a} === ""`),r.if(u,(0,kh._)`${a} = ${(0,kh.stringify)(n)}`)}var pu={},qt={};Object.defineProperty(qt,"__esModule",{value:!0});qt.validateUnion=qt.validateArray=qt.usePattern=qt.callValidateCode=qt.schemaProperties=qt.allSchemaProperties=qt.noPropertyInData=qt.propertyInData=qt.isOwnProperty=qt.hasPropFunc=qt.reportMissingProp=qt.checkMissingProp=qt.checkReportMissingProp=void 0;const Jn=Yt,WD=mn,hc=Hu,XPe=mn;function JPe(e,t){const{gen:n,data:r,it:i}=e;n.if(YD(n,r,t,i.opts.ownProperties),()=>{e.setParams({missingProperty:(0,Jn._)`${t}`},!0),e.error()})}qt.checkReportMissingProp=JPe;function ZPe({gen:e,data:t,it:{opts:n}},r,i){return(0,Jn.or)(...r.map(s=>(0,Jn.and)(YD(e,t,s,n.ownProperties),(0,Jn._)`${i} = ${s}`)))}qt.checkMissingProp=ZPe;function e2e(e,t){e.setParams({missingProperty:t},!0),e.error()}qt.reportMissingProp=e2e;function VJ(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,Jn._)`Object.prototype.hasOwnProperty`})}qt.hasPropFunc=VJ;function qD(e,t,n){return(0,Jn._)`${VJ(e)}.call(${t}, ${n})`}qt.isOwnProperty=qD;function t2e(e,t,n,r){const i=(0,Jn._)`${t}${(0,Jn.getProperty)(n)} !== undefined`;return r?(0,Jn._)`${i} && ${qD(e,t,n)}`:i}qt.propertyInData=t2e;function YD(e,t,n,r){const i=(0,Jn._)`${t}${(0,Jn.getProperty)(n)} === undefined`;return r?(0,Jn.or)(i,(0,Jn.not)(qD(e,t,n))):i}qt.noPropertyInData=YD;function zJ(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}qt.allSchemaProperties=zJ;function n2e(e,t){return zJ(t).filter(n=>!(0,WD.alwaysValidSchema)(e,t[n]))}qt.schemaProperties=n2e;function r2e({schemaCode:e,data:t,it:{gen:n,topSchemaRef:r,schemaPath:i,errorPath:s},it:o},a,u,l){const c=l?(0,Jn._)`${e}, ${t}, ${r}${i}`:t,f=[[hc.default.instancePath,(0,Jn.strConcat)(hc.default.instancePath,s)],[hc.default.parentData,o.parentData],[hc.default.parentDataProperty,o.parentDataProperty],[hc.default.rootData,hc.default.rootData]];o.opts.dynamicRef&&f.push([hc.default.dynamicAnchors,hc.default.dynamicAnchors]);const d=(0,Jn._)`${c}, ${n.object(...f)}`;return u!==Jn.nil?(0,Jn._)`${a}.call(${u}, ${d})`:(0,Jn._)`${a}(${d})`}qt.callValidateCode=r2e;const i2e=(0,Jn._)`new RegExp`;function s2e({gen:e,it:{opts:t}},n){const r=t.unicodeRegExp?"u":"",{regExp:i}=t.code,s=i(n,r);return e.scopeValue("pattern",{key:s.toString(),ref:s,code:(0,Jn._)`${i.code==="new RegExp"?i2e:(0,XPe.useFunc)(e,i)}(${n}, ${r})`})}qt.usePattern=s2e;function o2e(e){const{gen:t,data:n,keyword:r,it:i}=e,s=t.name("valid");if(i.allErrors){const a=t.let("valid",!0);return o(()=>t.assign(a,!1)),a}return t.var(s,!0),o(()=>t.break()),s;function o(a){const u=t.const("len",(0,Jn._)`${n}.length`);t.forRange("i",0,u,l=>{e.subschema({keyword:r,dataProp:l,dataPropType:WD.Type.Num},s),t.if((0,Jn.not)(s),a)})}}qt.validateArray=o2e;function a2e(e){const{gen:t,schema:n,keyword:r,it:i}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(n.some(u=>(0,WD.alwaysValidSchema)(i,u))&&!i.opts.unevaluated)return;const o=t.let("valid",!1),a=t.name("_valid");t.block(()=>n.forEach((u,l)=>{const c=e.subschema({keyword:r,schemaProp:l,compositeRule:!0},a);t.assign(o,(0,Jn._)`${o} || ${a}`),e.mergeValidEvaluated(c,a)||t.if((0,Jn.not)(o))})),e.result(o,()=>e.reset(),()=>e.error(!0))}qt.validateUnion=a2e;Object.defineProperty(pu,"__esModule",{value:!0});pu.validateKeywordUsage=pu.validSchemaType=pu.funcKeywordCode=pu.macroKeywordCode=void 0;const fs=Yt,od=Hu,u2e=qt,l2e=G_;function c2e(e,t){const{gen:n,keyword:r,schema:i,parentSchema:s,it:o}=e,a=t.macro.call(o.self,i,s,o),u=HJ(n,r,a);o.opts.validateSchema!==!1&&o.self.validateSchema(a,!0);const l=n.name("valid");e.subschema({schema:a,schemaPath:fs.nil,errSchemaPath:`${o.errSchemaPath}/${r}`,topSchemaRef:u,compositeRule:!0},l),e.pass(l,()=>e.error(!0))}pu.macroKeywordCode=c2e;function f2e(e,t){var n;const{gen:r,keyword:i,schema:s,parentSchema:o,$data:a,it:u}=e;h2e(u,t);const l=!a&&t.compile?t.compile.call(u.self,s,o,u):t.validate,c=HJ(r,i,l),f=r.let("valid");e.block$data(f,d),e.ok((n=t.valid)!==null&&n!==void 0?n:f);function d(){if(t.errors===!1)g(),t.modifying&&yB(e),y(()=>e.error());else{const m=t.async?h():p();t.modifying&&yB(e),y(()=>d2e(e,m))}}function h(){const m=r.let("ruleErrs",null);return r.try(()=>g((0,fs._)`await `),_=>r.assign(f,!1).if((0,fs._)`${_} instanceof ${u.ValidationError}`,()=>r.assign(m,(0,fs._)`${_}.errors`),()=>r.throw(_))),m}function p(){const m=(0,fs._)`${c}.errors`;return r.assign(m,null),g(fs.nil),m}function g(m=t.async?(0,fs._)`await `:fs.nil){const _=u.opts.passContext?od.default.this:od.default.self,v=!("compile"in t&&!a||t.schema===!1);r.assign(f,(0,fs._)`${m}${(0,u2e.callValidateCode)(e,c,_,v)}`,t.modifying)}function y(m){var _;r.if((0,fs.not)((_=t.valid)!==null&&_!==void 0?_:f),m)}}pu.funcKeywordCode=f2e;function yB(e){const{gen:t,data:n,it:r}=e;t.if(r.parentData,()=>t.assign(n,(0,fs._)`${r.parentData}[${r.parentDataProperty}]`))}function d2e(e,t){const{gen:n}=e;n.if((0,fs._)`Array.isArray(${t})`,()=>{n.assign(od.default.vErrors,(0,fs._)`${od.default.vErrors} === null ? ${t} : ${od.default.vErrors}.concat(${t})`).assign(od.default.errors,(0,fs._)`${od.default.vErrors}.length`),(0,l2e.extendErrors)(e)},()=>e.error())}function h2e({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function HJ(e,t,n){if(n===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof n=="function"?{ref:n}:{ref:n,code:(0,fs.stringify)(n)})}function p2e(e,t,n=!1){return!t.length||t.some(r=>r==="array"?Array.isArray(e):r==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==r||n&&typeof e>"u")}pu.validSchemaType=p2e;function m2e({schema:e,opts:t,self:n,errSchemaPath:r},i,s){if(Array.isArray(i.keyword)?!i.keyword.includes(s):i.keyword!==s)throw new Error("ajv implementation error");const o=i.dependencies;if(o!=null&&o.some(a=>!Object.prototype.hasOwnProperty.call(e,a)))throw new Error(`parent schema must have dependencies of ${s}: ${o.join(",")}`);if(i.validateSchema&&!i.validateSchema(e[s])){const u=`keyword "${s}" value is invalid at path "${r}": `+n.errorsText(i.validateSchema.errors);if(t.validateSchema==="log")n.logger.error(u);else throw new Error(u)}}pu.validateKeywordUsage=m2e;var tf={};Object.defineProperty(tf,"__esModule",{value:!0});tf.extendSubschemaMode=tf.extendSubschemaData=tf.getSubschema=void 0;const su=Yt,WJ=mn;function g2e(e,{keyword:t,schemaProp:n,schema:r,schemaPath:i,errSchemaPath:s,topSchemaRef:o}){if(t!==void 0&&r!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const a=e.schema[t];return n===void 0?{schema:a,schemaPath:(0,su._)`${e.schemaPath}${(0,su.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:a[n],schemaPath:(0,su._)`${e.schemaPath}${(0,su.getProperty)(t)}${(0,su.getProperty)(n)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,WJ.escapeFragment)(n)}`}}if(r!==void 0){if(i===void 0||s===void 0||o===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:r,schemaPath:i,topSchemaRef:o,errSchemaPath:s}}throw new Error('either "keyword" or "schema" must be passed')}tf.getSubschema=g2e;function y2e(e,t,{dataProp:n,dataPropType:r,data:i,dataTypes:s,propertyName:o}){if(i!==void 0&&n!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:a}=t;if(n!==void 0){const{errorPath:l,dataPathArr:c,opts:f}=t,d=a.let("data",(0,su._)`${t.data}${(0,su.getProperty)(n)}`,!0);u(d),e.errorPath=(0,su.str)`${l}${(0,WJ.getErrorPath)(n,r,f.jsPropertySyntax)}`,e.parentDataProperty=(0,su._)`${n}`,e.dataPathArr=[...c,e.parentDataProperty]}if(i!==void 0){const l=i instanceof su.Name?i:a.let("data",i,!0);u(l),o!==void 0&&(e.propertyName=o)}s&&(e.dataTypes=s);function u(l){e.data=l,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,l]}}tf.extendSubschemaData=y2e;function _2e(e,{jtdDiscriminator:t,jtdMetadata:n,compositeRule:r,createErrors:i,allErrors:s}){r!==void 0&&(e.compositeRule=r),i!==void 0&&(e.createErrors=i),s!==void 0&&(e.allErrors=s),e.jtdDiscriminator=t,e.jtdMetadata=n}tf.extendSubschemaMode=_2e;var Oi={},GD=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(s=Object.keys(t),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n};const _B=ja(GD);var qJ={exports:{}},Bc=qJ.exports=function(e,t,n){typeof t=="function"&&(n=t,t={}),n=t.cb||n;var r=typeof n=="function"?n:n.pre||function(){},i=n.post||function(){};Ib(t,r,i,e,"",e)};Bc.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Bc.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Bc.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Bc.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Ib(e,t,n,r,i,s,o,a,u,l){if(r&&typeof r=="object"&&!Array.isArray(r)){t(r,i,s,o,a,u,l);for(var c in r){var f=r[c];if(Array.isArray(f)){if(c in Bc.arrayKeywords)for(var d=0;d<f.length;d++)Ib(e,t,n,f[d],i+"/"+c+"/"+d,s,i,c,r,d)}else if(c in Bc.propsKeywords){if(f&&typeof f=="object")for(var h in f)Ib(e,t,n,f[h],i+"/"+c+"/"+v2e(h),s,i,c,r,h)}else(c in Bc.keywords||e.allKeys&&!(c in Bc.skipKeywords))&&Ib(e,t,n,f,i+"/"+c,s,i,c,r)}n(r,i,s,o,a,u,l)}}function v2e(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var b2e=qJ.exports;Object.defineProperty(Oi,"__esModule",{value:!0});Oi.getSchemaRefs=Oi.resolveUrl=Oi.normalizeId=Oi._getFullPath=Oi.getFullPath=Oi.inlineRef=void 0;const w2e=mn,E2e=GD,T2e=b2e,S2e=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function x2e(e,t=!0){return typeof e=="boolean"?!0:t===!0?!V2(e):t?YJ(e)<=t:!1}Oi.inlineRef=x2e;const I2e=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function V2(e){for(const t in e){if(I2e.has(t))return!0;const n=e[t];if(Array.isArray(n)&&n.some(V2)||typeof n=="object"&&V2(n))return!0}return!1}function YJ(e){let t=0;for(const n in e){if(n==="$ref")return 1/0;if(t++,!S2e.has(n)&&(typeof e[n]=="object"&&(0,w2e.eachItem)(e[n],r=>t+=YJ(r)),t===1/0))return 1/0}return t}function GJ(e,t="",n){n!==!1&&(t=Rp(t));const r=e.parse(t);return KJ(e,r)}Oi.getFullPath=GJ;function KJ(e,t){return e.serialize(t).split("#")[0]+"#"}Oi._getFullPath=KJ;const A2e=/#\/?$/;function Rp(e){return e?e.replace(A2e,""):""}Oi.normalizeId=Rp;function C2e(e,t,n){return n=Rp(n),e.resolve(t,n)}Oi.resolveUrl=C2e;const O2e=/^[a-z_][-a-z0-9._]*$/i;function P2e(e,t){if(typeof e=="boolean")return{};const{schemaId:n,uriResolver:r}=this.opts,i=Rp(e[n]||t),s={"":i},o=GJ(r,i,!1),a={},u=new Set;return T2e(e,{allKeys:!0},(f,d,h,p)=>{if(p===void 0)return;const g=o+d;let y=s[p];typeof f[n]=="string"&&(y=m.call(this,f[n])),_.call(this,f.$anchor),_.call(this,f.$dynamicAnchor),s[d]=y;function m(v){const T=this.opts.uriResolver.resolve;if(v=Rp(y?T(y,v):v),u.has(v))throw c(v);u.add(v);let S=this.refs[v];return typeof S=="string"&&(S=this.refs[S]),typeof S=="object"?l(f,S.schema,v):v!==Rp(g)&&(v[0]==="#"?(l(f,a[v],v),a[v]=f):this.refs[v]=g),v}function _(v){if(typeof v=="string"){if(!O2e.test(v))throw new Error(`invalid anchor "${v}"`);m.call(this,`#${v}`)}}}),a;function l(f,d,h){if(d!==void 0&&!E2e(f,d))throw c(h)}function c(f){return new Error(`reference "${f}" resolves to more than one schema`)}}Oi.getSchemaRefs=P2e;Object.defineProperty(Na,"__esModule",{value:!0});Na.getData=Na.KeywordCxt=Na.validateFunctionCode=void 0;const QJ=fm,vB=K_,KD=Il,hT=K_,R2e=Wx,Q0=pu,LC=tf,rt=Yt,_t=Hu,N2e=Oi,Al=mn,Wg=G_;function k2e(e){if(ZJ(e)&&(eZ(e),JJ(e))){L2e(e);return}XJ(e,()=>(0,QJ.topBoolOrEmptySchema)(e))}Na.validateFunctionCode=k2e;function XJ({gen:e,validateName:t,schema:n,schemaEnv:r,opts:i},s){i.code.es5?e.func(t,(0,rt._)`${_t.default.data}, ${_t.default.valCxt}`,r.$async,()=>{e.code((0,rt._)`"use strict"; ${bB(n,i)}`),$2e(e,i),e.code(s)}):e.func(t,(0,rt._)`${_t.default.data}, ${D2e(i)}`,r.$async,()=>e.code(bB(n,i)).code(s))}function D2e(e){return(0,rt._)`{${_t.default.instancePath}="", ${_t.default.parentData}, ${_t.default.parentDataProperty}, ${_t.default.rootData}=${_t.default.data}${e.dynamicRef?(0,rt._)`, ${_t.default.dynamicAnchors}={}`:rt.nil}}={}`}function $2e(e,t){e.if(_t.default.valCxt,()=>{e.var(_t.default.instancePath,(0,rt._)`${_t.default.valCxt}.${_t.default.instancePath}`),e.var(_t.default.parentData,(0,rt._)`${_t.default.valCxt}.${_t.default.parentData}`),e.var(_t.default.parentDataProperty,(0,rt._)`${_t.default.valCxt}.${_t.default.parentDataProperty}`),e.var(_t.default.rootData,(0,rt._)`${_t.default.valCxt}.${_t.default.rootData}`),t.dynamicRef&&e.var(_t.default.dynamicAnchors,(0,rt._)`${_t.default.valCxt}.${_t.default.dynamicAnchors}`)},()=>{e.var(_t.default.instancePath,(0,rt._)`""`),e.var(_t.default.parentData,(0,rt._)`undefined`),e.var(_t.default.parentDataProperty,(0,rt._)`undefined`),e.var(_t.default.rootData,_t.default.data),t.dynamicRef&&e.var(_t.default.dynamicAnchors,(0,rt._)`{}`)})}function L2e(e){const{schema:t,opts:n,gen:r}=e;XJ(e,()=>{n.$comment&&t.$comment&&nZ(e),U2e(e),r.let(_t.default.vErrors,null),r.let(_t.default.errors,0),n.unevaluated&&M2e(e),tZ(e),H2e(e)})}function M2e(e){const{gen:t,validateName:n}=e;e.evaluated=t.const("evaluated",(0,rt._)`${n}.evaluated`),t.if((0,rt._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,rt._)`${e.evaluated}.props`,(0,rt._)`undefined`)),t.if((0,rt._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,rt._)`${e.evaluated}.items`,(0,rt._)`undefined`))}function bB(e,t){const n=typeof e=="object"&&e[t.schemaId];return n&&(t.code.source||t.code.process)?(0,rt._)`/*# sourceURL=${n} */`:rt.nil}function F2e(e,t){if(ZJ(e)&&(eZ(e),JJ(e))){B2e(e,t);return}(0,QJ.boolOrEmptySchema)(e,t)}function JJ({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const n in e)if(t.RULES.all[n])return!0;return!1}function ZJ(e){return typeof e.schema!="boolean"}function B2e(e,t){const{schema:n,gen:r,opts:i}=e;i.$comment&&n.$comment&&nZ(e),V2e(e),z2e(e);const s=r.const("_errs",_t.default.errors);tZ(e,s),r.var(t,(0,rt._)`${s} === ${_t.default.errors}`)}function eZ(e){(0,Al.checkUnknownRules)(e),j2e(e)}function tZ(e,t){if(e.opts.jtd)return wB(e,[],!1,t);const n=(0,vB.getSchemaTypes)(e.schema),r=(0,vB.coerceAndCheckDataType)(e,n);wB(e,n,!r,t)}function j2e(e){const{schema:t,errSchemaPath:n,opts:r,self:i}=e;t.$ref&&r.ignoreKeywordsWithRef&&(0,Al.schemaHasRulesButRef)(t,i.RULES)&&i.logger.warn(`$ref: keywords ignored in schema at path "${n}"`)}function U2e(e){const{schema:t,opts:n}=e;t.default!==void 0&&n.useDefaults&&n.strictSchema&&(0,Al.checkStrictMode)(e,"default is ignored in the schema root")}function V2e(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,N2e.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function z2e(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function nZ({gen:e,schemaEnv:t,schema:n,errSchemaPath:r,opts:i}){const s=n.$comment;if(i.$comment===!0)e.code((0,rt._)`${_t.default.self}.logger.log(${s})`);else if(typeof i.$comment=="function"){const o=(0,rt.str)`${r}/$comment`,a=e.scopeValue("root",{ref:t.root});e.code((0,rt._)`${_t.default.self}.opts.$comment(${s}, ${o}, ${a}.schema)`)}}function H2e(e){const{gen:t,schemaEnv:n,validateName:r,ValidationError:i,opts:s}=e;n.$async?t.if((0,rt._)`${_t.default.errors} === 0`,()=>t.return(_t.default.data),()=>t.throw((0,rt._)`new ${i}(${_t.default.vErrors})`)):(t.assign((0,rt._)`${r}.errors`,_t.default.vErrors),s.unevaluated&&W2e(e),t.return((0,rt._)`${_t.default.errors} === 0`))}function W2e({gen:e,evaluated:t,props:n,items:r}){n instanceof rt.Name&&e.assign((0,rt._)`${t}.props`,n),r instanceof rt.Name&&e.assign((0,rt._)`${t}.items`,r)}function wB(e,t,n,r){const{gen:i,schema:s,data:o,allErrors:a,opts:u,self:l}=e,{RULES:c}=l;if(s.$ref&&(u.ignoreKeywordsWithRef||!(0,Al.schemaHasRulesButRef)(s,c))){i.block(()=>sZ(e,"$ref",c.all.$ref.definition));return}u.jtd||q2e(e,t),i.block(()=>{for(const d of c.rules)f(d);f(c.post)});function f(d){(0,KD.shouldUseGroup)(s,d)&&(d.type?(i.if((0,hT.checkDataType)(d.type,o,u.strictNumbers)),EB(e,d),t.length===1&&t[0]===d.type&&n&&(i.else(),(0,hT.reportTypeError)(e)),i.endIf()):EB(e,d),a||i.if((0,rt._)`${_t.default.errors} === ${r||0}`))}}function EB(e,t){const{gen:n,schema:r,opts:{useDefaults:i}}=e;i&&(0,R2e.assignDefaults)(e,t.type),n.block(()=>{for(const s of t.rules)(0,KD.shouldUseRule)(r,s)&&sZ(e,s.keyword,s.definition,t.type)})}function q2e(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(Y2e(e,t),e.opts.allowUnionTypes||G2e(e,t),K2e(e,e.dataTypes))}function Y2e(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(n=>{rZ(e.dataTypes,n)||QD(e,`type "${n}" not allowed by context "${e.dataTypes.join(",")}"`)}),X2e(e,t)}}function G2e(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&QD(e,"use allowUnionTypes to allow union type keyword")}function K2e(e,t){const n=e.self.RULES.all;for(const r in n){const i=n[r];if(typeof i=="object"&&(0,KD.shouldUseRule)(e.schema,i)){const{type:s}=i.definition;s.length&&!s.some(o=>Q2e(t,o))&&QD(e,`missing type "${s.join(",")}" for keyword "${r}"`)}}}function Q2e(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function rZ(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function X2e(e,t){const n=[];for(const r of e.dataTypes)rZ(t,r)?n.push(r):t.includes("integer")&&r==="number"&&n.push("integer");e.dataTypes=n}function QD(e,t){const n=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${n}" (strictTypes)`,(0,Al.checkStrictMode)(e,t,e.opts.strictTypes)}class iZ{constructor(t,n,r){if((0,Q0.validateKeywordUsage)(t,n,r),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=r,this.data=t.data,this.schema=t.schema[r],this.$data=n.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Al.schemaRefOrVal)(t,this.schema,r,this.$data),this.schemaType=n.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=n,this.$data)this.schemaCode=t.gen.const("vSchema",oZ(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,Q0.validSchemaType)(this.schema,n.schemaType,n.allowUndefined))throw new Error(`${r} value must be ${JSON.stringify(n.schemaType)}`);("code"in n?n.trackErrors:n.errors!==!1)&&(this.errsCount=t.gen.const("_errs",_t.default.errors))}result(t,n,r){this.failResult((0,rt.not)(t),n,r)}failResult(t,n,r){this.gen.if(t),r?r():this.error(),n?(this.gen.else(),n(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,n){this.failResult((0,rt.not)(t),void 0,n)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:n}=this;this.fail((0,rt._)`${n} !== undefined && (${(0,rt.or)(this.invalid$data(),t)})`)}error(t,n,r){if(n){this.setParams(n),this._error(t,r),this.setParams({});return}this._error(t,r)}_error(t,n){(t?Wg.reportExtraError:Wg.reportError)(this,this.def.error,n)}$dataError(){(0,Wg.reportError)(this,this.def.$dataError||Wg.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Wg.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,n){n?Object.assign(this.params,t):this.params=t}block$data(t,n,r=rt.nil){this.gen.block(()=>{this.check$data(t,r),n()})}check$data(t=rt.nil,n=rt.nil){if(!this.$data)return;const{gen:r,schemaCode:i,schemaType:s,def:o}=this;r.if((0,rt.or)((0,rt._)`${i} === undefined`,n)),t!==rt.nil&&r.assign(t,!0),(s.length||o.validateSchema)&&(r.elseIf(this.invalid$data()),this.$dataError(),t!==rt.nil&&r.assign(t,!1)),r.else()}invalid$data(){const{gen:t,schemaCode:n,schemaType:r,def:i,it:s}=this;return(0,rt.or)(o(),a());function o(){if(r.length){if(!(n instanceof rt.Name))throw new Error("ajv implementation error");const u=Array.isArray(r)?r:[r];return(0,rt._)`${(0,hT.checkDataTypes)(u,n,s.opts.strictNumbers,hT.DataType.Wrong)}`}return rt.nil}function a(){if(i.validateSchema){const u=t.scopeValue("validate$data",{ref:i.validateSchema});return(0,rt._)`!${u}(${n})`}return rt.nil}}subschema(t,n){const r=(0,LC.getSubschema)(this.it,t);(0,LC.extendSubschemaData)(r,this.it,t),(0,LC.extendSubschemaMode)(r,t);const i={...this.it,...r,items:void 0,props:void 0};return F2e(i,n),i}mergeEvaluated(t,n){const{it:r,gen:i}=this;r.opts.unevaluated&&(r.props!==!0&&t.props!==void 0&&(r.props=Al.mergeEvaluated.props(i,t.props,r.props,n)),r.items!==!0&&t.items!==void 0&&(r.items=Al.mergeEvaluated.items(i,t.items,r.items,n)))}mergeValidEvaluated(t,n){const{it:r,gen:i}=this;if(r.opts.unevaluated&&(r.props!==!0||r.items!==!0))return i.if(n,()=>this.mergeEvaluated(t,rt.Name)),!0}}Na.KeywordCxt=iZ;function sZ(e,t,n,r){const i=new iZ(e,n,t);"code"in n?n.code(i,r):i.$data&&n.validate?(0,Q0.funcKeywordCode)(i,n):"macro"in n?(0,Q0.macroKeywordCode)(i,n):(n.compile||n.validate)&&(0,Q0.funcKeywordCode)(i,n)}const J2e=/^\/(?:[^~]|~0|~1)*$/,Z2e=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function oZ(e,{dataLevel:t,dataNames:n,dataPathArr:r}){let i,s;if(e==="")return _t.default.rootData;if(e[0]==="/"){if(!J2e.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);i=e,s=_t.default.rootData}else{const l=Z2e.exec(e);if(!l)throw new Error(`Invalid JSON-pointer: ${e}`);const c=+l[1];if(i=l[2],i==="#"){if(c>=t)throw new Error(u("property/index",c));return r[t-c]}if(c>t)throw new Error(u("data",c));if(s=n[t-c],!i)return s}let o=s;const a=i.split("/");for(const l of a)l&&(s=(0,rt._)`${s}${(0,rt.getProperty)((0,Al.unescapeJsonPointer)(l))}`,o=(0,rt._)`${o} && ${s}`);return o;function u(l,c){return`Cannot access ${l} ${c} levels up, current level is ${t}`}}Na.getData=oZ;var Q_={};Object.defineProperty(Q_,"__esModule",{value:!0});class eRe extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}Q_.default=eRe;var X_={};Object.defineProperty(X_,"__esModule",{value:!0});const MC=Oi;class tRe extends Error{constructor(t,n,r,i){super(i||`can't resolve reference ${r} from id ${n}`),this.missingRef=(0,MC.resolveUrl)(t,n,r),this.missingSchema=(0,MC.normalizeId)((0,MC.getFullPath)(t,this.missingRef))}}X_.default=tRe;var Ms={};Object.defineProperty(Ms,"__esModule",{value:!0});Ms.resolveSchema=Ms.getCompilingSchema=Ms.resolveRef=Ms.compileSchema=Ms.SchemaEnv=void 0;const pa=Yt,nRe=Q_,Gf=Hu,Sa=Oi,TB=mn,rRe=Na;class qx{constructor(t){var n;this.refs={},this.dynamicAnchors={};let r;typeof t.schema=="object"&&(r=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(n=t.baseId)!==null&&n!==void 0?n:(0,Sa.normalizeId)(r==null?void 0:r[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=r==null?void 0:r.$async,this.refs={}}}Ms.SchemaEnv=qx;function XD(e){const t=aZ.call(this,e);if(t)return t;const n=(0,Sa.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:r,lines:i}=this.opts.code,{ownProperties:s}=this.opts,o=new pa.CodeGen(this.scope,{es5:r,lines:i,ownProperties:s});let a;e.$async&&(a=o.scopeValue("Error",{ref:nRe.default,code:(0,pa._)`require("ajv/dist/runtime/validation_error").default`}));const u=o.scopeName("validate");e.validateName=u;const l={gen:o,allErrors:this.opts.allErrors,data:Gf.default.data,parentData:Gf.default.parentData,parentDataProperty:Gf.default.parentDataProperty,dataNames:[Gf.default.data],dataPathArr:[pa.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,pa.stringify)(e.schema)}:{ref:e.schema}),validateName:u,ValidationError:a,schema:e.schema,schemaEnv:e,rootId:n,baseId:e.baseId||n,schemaPath:pa.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,pa._)`""`,opts:this.opts,self:this};let c;try{this._compilations.add(e),(0,rRe.validateFunctionCode)(l),o.optimize(this.opts.code.optimize);const f=o.toString();c=`${o.scopeRefs(Gf.default.scope)}return ${f}`,this.opts.code.process&&(c=this.opts.code.process(c,e));const h=new Function(`${Gf.default.self}`,`${Gf.default.scope}`,c)(this,this.scope.get());if(this.scope.value(u,{ref:h}),h.errors=null,h.schema=e.schema,h.schemaEnv=e,e.$async&&(h.$async=!0),this.opts.code.source===!0&&(h.source={validateName:u,validateCode:f,scopeValues:o._values}),this.opts.unevaluated){const{props:p,items:g}=l;h.evaluated={props:p instanceof pa.Name?void 0:p,items:g instanceof pa.Name?void 0:g,dynamicProps:p instanceof pa.Name,dynamicItems:g instanceof pa.Name},h.source&&(h.source.evaluated=(0,pa.stringify)(h.evaluated))}return e.validate=h,e}catch(f){throw delete e.validate,delete e.validateName,c&&this.logger.error("Error compiling schema, function code:",c),f}finally{this._compilations.delete(e)}}Ms.compileSchema=XD;function iRe(e,t,n){var r;n=(0,Sa.resolveUrl)(this.opts.uriResolver,t,n);const i=e.refs[n];if(i)return i;let s=aRe.call(this,e,n);if(s===void 0){const o=(r=e.localRefs)===null||r===void 0?void 0:r[n],{schemaId:a}=this.opts;o&&(s=new qx({schema:o,schemaId:a,root:e,baseId:t}))}if(s!==void 0)return e.refs[n]=sRe.call(this,s)}Ms.resolveRef=iRe;function sRe(e){return(0,Sa.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:XD.call(this,e)}function aZ(e){for(const t of this._compilations)if(oRe(t,e))return t}Ms.getCompilingSchema=aZ;function oRe(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function aRe(e,t){let n;for(;typeof(n=this.refs[t])=="string";)t=n;return n||this.schemas[t]||Yx.call(this,e,t)}function Yx(e,t){const n=this.opts.uriResolver.parse(t),r=(0,Sa._getFullPath)(this.opts.uriResolver,n);let i=(0,Sa.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&r===i)return FC.call(this,n,e);const s=(0,Sa.normalizeId)(r),o=this.refs[s]||this.schemas[s];if(typeof o=="string"){const a=Yx.call(this,e,o);return typeof(a==null?void 0:a.schema)!="object"?void 0:FC.call(this,n,a)}if(typeof(o==null?void 0:o.schema)=="object"){if(o.validate||XD.call(this,o),s===(0,Sa.normalizeId)(t)){const{schema:a}=o,{schemaId:u}=this.opts,l=a[u];return l&&(i=(0,Sa.resolveUrl)(this.opts.uriResolver,i,l)),new qx({schema:a,schemaId:u,root:e,baseId:i})}return FC.call(this,n,o)}}Ms.resolveSchema=Yx;const uRe=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function FC(e,{baseId:t,schema:n,root:r}){var i;if(((i=e.fragment)===null||i===void 0?void 0:i[0])!=="/")return;for(const a of e.fragment.slice(1).split("/")){if(typeof n=="boolean")return;const u=n[(0,TB.unescapeFragment)(a)];if(u===void 0)return;n=u;const l=typeof n=="object"&&n[this.opts.schemaId];!uRe.has(a)&&l&&(t=(0,Sa.resolveUrl)(this.opts.uriResolver,t,l))}let s;if(typeof n!="boolean"&&n.$ref&&!(0,TB.schemaHasRulesButRef)(n,this.RULES)){const a=(0,Sa.resolveUrl)(this.opts.uriResolver,t,n.$ref);s=Yx.call(this,r,a)}const{schemaId:o}=this.opts;if(s=s||new qx({schema:n,schemaId:o,root:r,baseId:t}),s.schema!==s.root.schema)return s}const lRe="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",cRe="Meta-schema for $data reference (JSON AnySchema extension proposal)",fRe="object",dRe=["$data"],hRe={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},pRe=!1,mRe={$id:lRe,description:cRe,type:fRe,required:dRe,properties:hRe,additionalProperties:pRe};var JD={},z2={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(n,r){r(t)})(co,function(n){function r(){for(var X=arguments.length,z=Array(X),Z=0;Z<X;Z++)z[Z]=arguments[Z];if(z.length>1){z[0]=z[0].slice(0,-1);for(var ye=z.length-1,ge=1;ge<ye;++ge)z[ge]=z[ge].slice(1,-1);return z[ye]=z[ye].slice(1),z.join("")}else return z[0]}function i(X){return"(?:"+X+")"}function s(X){return X===void 0?"undefined":X===null?"null":Object.prototype.toString.call(X).split(" ").pop().split("]").shift().toLowerCase()}function o(X){return X.toUpperCase()}function a(X){return X!=null?X instanceof Array?X:typeof X.length!="number"||X.split||X.setInterval||X.call?[X]:Array.prototype.slice.call(X):[]}function u(X,z){var Z=X;if(z)for(var ye in z)Z[ye]=z[ye];return Z}function l(X){var z="[A-Za-z]",Z="[0-9]",ye=r(Z,"[A-Fa-f]"),ge=i(i("%[EFef]"+ye+"%"+ye+ye+"%"+ye+ye)+"|"+i("%[89A-Fa-f]"+ye+"%"+ye+ye)+"|"+i("%"+ye+ye)),Ge="[\\:\\/\\?\\#\\[\\]\\@]",Te="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",We=r(Ge,Te),ct=X?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",tt=X?"[\\uE000-\\uF8FF]":"[]",gt=r(z,Z,"[\\-\\.\\_\\~]",ct);i(z+r(z,Z,"[\\+\\-\\.]")+"*"),i(i(ge+"|"+r(gt,Te,"[\\:]"))+"*");var Lt=i(i("25[0-5]")+"|"+i("2[0-4]"+Z)+"|"+i("1"+Z+Z)+"|"+i("0?[1-9]"+Z)+"|0?0?"+Z),$n=i(Lt+"\\."+Lt+"\\."+Lt+"\\."+Lt),pt=i(ye+"{1,4}"),An=i(i(pt+"\\:"+pt)+"|"+$n),Et=i(i(pt+"\\:")+"{6}"+An),gn=i("\\:\\:"+i(pt+"\\:")+"{5}"+An),nr=i(i(pt)+"?\\:\\:"+i(pt+"\\:")+"{4}"+An),Gr=i(i(i(pt+"\\:")+"{0,1}"+pt)+"?\\:\\:"+i(pt+"\\:")+"{3}"+An),Nr=i(i(i(pt+"\\:")+"{0,2}"+pt)+"?\\:\\:"+i(pt+"\\:")+"{2}"+An),us=i(i(i(pt+"\\:")+"{0,3}"+pt)+"?\\:\\:"+pt+"\\:"+An),bi=i(i(i(pt+"\\:")+"{0,4}"+pt)+"?\\:\\:"+An),mr=i(i(i(pt+"\\:")+"{0,5}"+pt)+"?\\:\\:"+pt),Qe=i(i(i(pt+"\\:")+"{0,6}"+pt)+"?\\:\\:"),zt=i([Et,gn,nr,Gr,Nr,us,bi,mr,Qe].join("|")),Hn=i(i(gt+"|"+ge)+"+");i("[vV]"+ye+"+\\."+r(gt,Te,"[\\:]")+"+"),i(i(ge+"|"+r(gt,Te))+"*");var ai=i(ge+"|"+r(gt,Te,"[\\:\\@]"));return i(i(ge+"|"+r(gt,Te,"[\\@]"))+"+"),i(i(ai+"|"+r("[\\/\\?]",tt))+"*"),{NOT_SCHEME:new RegExp(r("[^]",z,Z,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(r("[^\\%\\:]",gt,Te),"g"),NOT_HOST:new RegExp(r("[^\\%\\[\\]\\:]",gt,Te),"g"),NOT_PATH:new RegExp(r("[^\\%\\/\\:\\@]",gt,Te),"g"),NOT_PATH_NOSCHEME:new RegExp(r("[^\\%\\/\\@]",gt,Te),"g"),NOT_QUERY:new RegExp(r("[^\\%]",gt,Te,"[\\:\\@\\/\\?]",tt),"g"),NOT_FRAGMENT:new RegExp(r("[^\\%]",gt,Te,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(r("[^]",gt,Te),"g"),UNRESERVED:new RegExp(gt,"g"),OTHER_CHARS:new RegExp(r("[^\\%]",gt,We),"g"),PCT_ENCODED:new RegExp(ge,"g"),IPV4ADDRESS:new RegExp("^("+$n+")$"),IPV6ADDRESS:new RegExp("^\\[?("+zt+")"+i(i("\\%25|\\%(?!"+ye+"{2})")+"("+Hn+")")+"?\\]?$")}}var c=l(!1),f=l(!0),d=function(){function X(z,Z){var ye=[],ge=!0,Ge=!1,Te=void 0;try{for(var We=z[Symbol.iterator](),ct;!(ge=(ct=We.next()).done)&&(ye.push(ct.value),!(Z&&ye.length===Z));ge=!0);}catch(tt){Ge=!0,Te=tt}finally{try{!ge&&We.return&&We.return()}finally{if(Ge)throw Te}}return ye}return function(z,Z){if(Array.isArray(z))return z;if(Symbol.iterator in Object(z))return X(z,Z);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(X){if(Array.isArray(X)){for(var z=0,Z=Array(X.length);z<X.length;z++)Z[z]=X[z];return Z}else return Array.from(X)},p=2147483647,g=36,y=1,m=26,_=38,v=700,T=72,S=128,w="-",x=/^xn--/,A=/[^\0-\x7E]/,$=/[\x2E\u3002\uFF0E\uFF61]/g,D={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},P=g-y,q=Math.floor,V=String.fromCharCode;function U(X){throw new RangeError(D[X])}function se(X,z){for(var Z=[],ye=X.length;ye--;)Z[ye]=z(X[ye]);return Z}function oe(X,z){var Z=X.split("@"),ye="";Z.length>1&&(ye=Z[0]+"@",X=Z[1]),X=X.replace($,".");var ge=X.split("."),Ge=se(ge,z).join(".");return ye+Ge}function ce(X){for(var z=[],Z=0,ye=X.length;Z<ye;){var ge=X.charCodeAt(Z++);if(ge>=55296&&ge<=56319&&Z<ye){var Ge=X.charCodeAt(Z++);(Ge&64512)==56320?z.push(((ge&1023)<<10)+(Ge&1023)+65536):(z.push(ge),Z--)}else z.push(ge)}return z}var ee=function(z){return String.fromCodePoint.apply(String,h(z))},ie=function(z){return z-48<10?z-22:z-65<26?z-65:z-97<26?z-97:g},K=function(z,Z){return z+22+75*(z<26)-((Z!=0)<<5)},I=function(z,Z,ye){var ge=0;for(z=ye?q(z/v):z>>1,z+=q(z/Z);z>P*m>>1;ge+=g)z=q(z/P);return q(ge+(P+1)*z/(z+_))},C=function(z){var Z=[],ye=z.length,ge=0,Ge=S,Te=T,We=z.lastIndexOf(w);We<0&&(We=0);for(var ct=0;ct<We;++ct)z.charCodeAt(ct)>=128&&U("not-basic"),Z.push(z.charCodeAt(ct));for(var tt=We>0?We+1:0;tt<ye;){for(var gt=ge,Lt=1,$n=g;;$n+=g){tt>=ye&&U("invalid-input");var pt=ie(z.charCodeAt(tt++));(pt>=g||pt>q((p-ge)/Lt))&&U("overflow"),ge+=pt*Lt;var An=$n<=Te?y:$n>=Te+m?m:$n-Te;if(pt<An)break;var Et=g-An;Lt>q(p/Et)&&U("overflow"),Lt*=Et}var gn=Z.length+1;Te=I(ge-gt,gn,gt==0),q(ge/gn)>p-Ge&&U("overflow"),Ge+=q(ge/gn),ge%=gn,Z.splice(ge++,0,Ge)}return String.fromCodePoint.apply(String,Z)},H=function(z){var Z=[];z=ce(z);var ye=z.length,ge=S,Ge=0,Te=T,We=!0,ct=!1,tt=void 0;try{for(var gt=z[Symbol.iterator](),Lt;!(We=(Lt=gt.next()).done);We=!0){var $n=Lt.value;$n<128&&Z.push(V($n))}}catch(be){ct=!0,tt=be}finally{try{!We&&gt.return&&gt.return()}finally{if(ct)throw tt}}var pt=Z.length,An=pt;for(pt&&Z.push(w);An<ye;){var Et=p,gn=!0,nr=!1,Gr=void 0;try{for(var Nr=z[Symbol.iterator](),us;!(gn=(us=Nr.next()).done);gn=!0){var bi=us.value;bi>=ge&&bi<Et&&(Et=bi)}}catch(be){nr=!0,Gr=be}finally{try{!gn&&Nr.return&&Nr.return()}finally{if(nr)throw Gr}}var mr=An+1;Et-ge>q((p-Ge)/mr)&&U("overflow"),Ge+=(Et-ge)*mr,ge=Et;var Qe=!0,zt=!1,Hn=void 0;try{for(var ai=z[Symbol.iterator](),ws;!(Qe=(ws=ai.next()).done);Qe=!0){var k=ws.value;if(k<ge&&++Ge>p&&U("overflow"),k==ge){for(var Q=Ge,B=g;;B+=g){var ne=B<=Te?y:B>=Te+m?m:B-Te;if(Q<ne)break;var ue=Q-ne,te=g-ne;Z.push(V(K(ne+ue%te,0))),Q=q(ue/te)}Z.push(V(K(Q,0))),Te=I(Ge,mr,An==pt),Ge=0,++An}}}catch(be){zt=!0,Hn=be}finally{try{!Qe&&ai.return&&ai.return()}finally{if(zt)throw Hn}}++Ge,++ge}return Z.join("")},N=function(z){return oe(z,function(Z){return x.test(Z)?C(Z.slice(4).toLowerCase()):Z})},R=function(z){return oe(z,function(Z){return A.test(Z)?"xn--"+H(Z):Z})},Y={version:"2.1.0",ucs2:{decode:ce,encode:ee},decode:C,encode:H,toASCII:R,toUnicode:N},ae={};function le(X){var z=X.charCodeAt(0),Z=void 0;return z<16?Z="%0"+z.toString(16).toUpperCase():z<128?Z="%"+z.toString(16).toUpperCase():z<2048?Z="%"+(z>>6|192).toString(16).toUpperCase()+"%"+(z&63|128).toString(16).toUpperCase():Z="%"+(z>>12|224).toString(16).toUpperCase()+"%"+(z>>6&63|128).toString(16).toUpperCase()+"%"+(z&63|128).toString(16).toUpperCase(),Z}function pe(X){for(var z="",Z=0,ye=X.length;Z<ye;){var ge=parseInt(X.substr(Z+1,2),16);if(ge<128)z+=String.fromCharCode(ge),Z+=3;else if(ge>=194&&ge<224){if(ye-Z>=6){var Ge=parseInt(X.substr(Z+4,2),16);z+=String.fromCharCode((ge&31)<<6|Ge&63)}else z+=X.substr(Z,6);Z+=6}else if(ge>=224){if(ye-Z>=9){var Te=parseInt(X.substr(Z+4,2),16),We=parseInt(X.substr(Z+7,2),16);z+=String.fromCharCode((ge&15)<<12|(Te&63)<<6|We&63)}else z+=X.substr(Z,9);Z+=9}else z+=X.substr(Z,3),Z+=3}return z}function he(X,z){function Z(ye){var ge=pe(ye);return ge.match(z.UNRESERVED)?ge:ye}return X.scheme&&(X.scheme=String(X.scheme).replace(z.PCT_ENCODED,Z).toLowerCase().replace(z.NOT_SCHEME,"")),X.userinfo!==void 0&&(X.userinfo=String(X.userinfo).replace(z.PCT_ENCODED,Z).replace(z.NOT_USERINFO,le).replace(z.PCT_ENCODED,o)),X.host!==void 0&&(X.host=String(X.host).replace(z.PCT_ENCODED,Z).toLowerCase().replace(z.NOT_HOST,le).replace(z.PCT_ENCODED,o)),X.path!==void 0&&(X.path=String(X.path).replace(z.PCT_ENCODED,Z).replace(X.scheme?z.NOT_PATH:z.NOT_PATH_NOSCHEME,le).replace(z.PCT_ENCODED,o)),X.query!==void 0&&(X.query=String(X.query).replace(z.PCT_ENCODED,Z).replace(z.NOT_QUERY,le).replace(z.PCT_ENCODED,o)),X.fragment!==void 0&&(X.fragment=String(X.fragment).replace(z.PCT_ENCODED,Z).replace(z.NOT_FRAGMENT,le).replace(z.PCT_ENCODED,o)),X}function Se(X){return X.replace(/^0*(.*)/,"$1")||"0"}function me(X,z){var Z=X.match(z.IPV4ADDRESS)||[],ye=d(Z,2),ge=ye[1];return ge?ge.split(".").map(Se).join("."):X}function Xe(X,z){var Z=X.match(z.IPV6ADDRESS)||[],ye=d(Z,3),ge=ye[1],Ge=ye[2];if(ge){for(var Te=ge.toLowerCase().split("::").reverse(),We=d(Te,2),ct=We[0],tt=We[1],gt=tt?tt.split(":").map(Se):[],Lt=ct.split(":").map(Se),$n=z.IPV4ADDRESS.test(Lt[Lt.length-1]),pt=$n?7:8,An=Lt.length-pt,Et=Array(pt),gn=0;gn<pt;++gn)Et[gn]=gt[gn]||Lt[An+gn]||"";$n&&(Et[pt-1]=me(Et[pt-1],z));var nr=Et.reduce(function(mr,Qe,zt){if(!Qe||Qe==="0"){var Hn=mr[mr.length-1];Hn&&Hn.index+Hn.length===zt?Hn.length++:mr.push({index:zt,length:1})}return mr},[]),Gr=nr.sort(function(mr,Qe){return Qe.length-mr.length})[0],Nr=void 0;if(Gr&&Gr.length>1){var us=Et.slice(0,Gr.index),bi=Et.slice(Gr.index+Gr.length);Nr=us.join(":")+"::"+bi.join(":")}else Nr=Et.join(":");return Ge&&(Nr+="%"+Ge),Nr}else return X}var Ye=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,He="".match(/(){0}/)[1]===void 0;function Le(X){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Z={},ye=z.iri!==!1?f:c;z.reference==="suffix"&&(X=(z.scheme?z.scheme+":":"")+"//"+X);var ge=X.match(Ye);if(ge){He?(Z.scheme=ge[1],Z.userinfo=ge[3],Z.host=ge[4],Z.port=parseInt(ge[5],10),Z.path=ge[6]||"",Z.query=ge[7],Z.fragment=ge[8],isNaN(Z.port)&&(Z.port=ge[5])):(Z.scheme=ge[1]||void 0,Z.userinfo=X.indexOf("@")!==-1?ge[3]:void 0,Z.host=X.indexOf("//")!==-1?ge[4]:void 0,Z.port=parseInt(ge[5],10),Z.path=ge[6]||"",Z.query=X.indexOf("?")!==-1?ge[7]:void 0,Z.fragment=X.indexOf("#")!==-1?ge[8]:void 0,isNaN(Z.port)&&(Z.port=X.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?ge[4]:void 0)),Z.host&&(Z.host=Xe(me(Z.host,ye),ye)),Z.scheme===void 0&&Z.userinfo===void 0&&Z.host===void 0&&Z.port===void 0&&!Z.path&&Z.query===void 0?Z.reference="same-document":Z.scheme===void 0?Z.reference="relative":Z.fragment===void 0?Z.reference="absolute":Z.reference="uri",z.reference&&z.reference!=="suffix"&&z.reference!==Z.reference&&(Z.error=Z.error||"URI is not a "+z.reference+" reference.");var Ge=ae[(z.scheme||Z.scheme||"").toLowerCase()];if(!z.unicodeSupport&&(!Ge||!Ge.unicodeSupport)){if(Z.host&&(z.domainHost||Ge&&Ge.domainHost))try{Z.host=Y.toASCII(Z.host.replace(ye.PCT_ENCODED,pe).toLowerCase())}catch(Te){Z.error=Z.error||"Host's domain name can not be converted to ASCII via punycode: "+Te}he(Z,c)}else he(Z,ye);Ge&&Ge.parse&&Ge.parse(Z,z)}else Z.error=Z.error||"URI can not be parsed.";return Z}function Ae(X,z){var Z=z.iri!==!1?f:c,ye=[];return X.userinfo!==void 0&&(ye.push(X.userinfo),ye.push("@")),X.host!==void 0&&ye.push(Xe(me(String(X.host),Z),Z).replace(Z.IPV6ADDRESS,function(ge,Ge,Te){return"["+Ge+(Te?"%25"+Te:"")+"]"})),(typeof X.port=="number"||typeof X.port=="string")&&(ye.push(":"),ye.push(String(X.port))),ye.length?ye.join(""):void 0}var Ve=/^\.\.?\//,Zt=/^\/\.(\/|$)/,Me=/^\/\.\.(\/|$)/,Ue=/^\/?(?:.|\n)*?(?=\/|$)/;function wt(X){for(var z=[];X.length;)if(X.match(Ve))X=X.replace(Ve,"");else if(X.match(Zt))X=X.replace(Zt,"/");else if(X.match(Me))X=X.replace(Me,"/"),z.pop();else if(X==="."||X==="..")X="";else{var Z=X.match(Ue);if(Z){var ye=Z[0];X=X.slice(ye.length),z.push(ye)}else throw new Error("Unexpected dot segment condition")}return z.join("")}function ze(X){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Z=z.iri?f:c,ye=[],ge=ae[(z.scheme||X.scheme||"").toLowerCase()];if(ge&&ge.serialize&&ge.serialize(X,z),X.host&&!Z.IPV6ADDRESS.test(X.host)){if(z.domainHost||ge&&ge.domainHost)try{X.host=z.iri?Y.toUnicode(X.host):Y.toASCII(X.host.replace(Z.PCT_ENCODED,pe).toLowerCase())}catch(We){X.error=X.error||"Host's domain name can not be converted to "+(z.iri?"Unicode":"ASCII")+" via punycode: "+We}}he(X,Z),z.reference!=="suffix"&&X.scheme&&(ye.push(X.scheme),ye.push(":"));var Ge=Ae(X,z);if(Ge!==void 0&&(z.reference!=="suffix"&&ye.push("//"),ye.push(Ge),X.path&&X.path.charAt(0)!=="/"&&ye.push("/")),X.path!==void 0){var Te=X.path;!z.absolutePath&&(!ge||!ge.absolutePath)&&(Te=wt(Te)),Ge===void 0&&(Te=Te.replace(/^\/\//,"/%2F")),ye.push(Te)}return X.query!==void 0&&(ye.push("?"),ye.push(X.query)),X.fragment!==void 0&&(ye.push("#"),ye.push(X.fragment)),ye.join("")}function yt(X,z){var Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ye=arguments[3],ge={};return ye||(X=Le(ze(X,Z),Z),z=Le(ze(z,Z),Z)),Z=Z||{},!Z.tolerant&&z.scheme?(ge.scheme=z.scheme,ge.userinfo=z.userinfo,ge.host=z.host,ge.port=z.port,ge.path=wt(z.path||""),ge.query=z.query):(z.userinfo!==void 0||z.host!==void 0||z.port!==void 0?(ge.userinfo=z.userinfo,ge.host=z.host,ge.port=z.port,ge.path=wt(z.path||""),ge.query=z.query):(z.path?(z.path.charAt(0)==="/"?ge.path=wt(z.path):((X.userinfo!==void 0||X.host!==void 0||X.port!==void 0)&&!X.path?ge.path="/"+z.path:X.path?ge.path=X.path.slice(0,X.path.lastIndexOf("/")+1)+z.path:ge.path=z.path,ge.path=wt(ge.path)),ge.query=z.query):(ge.path=X.path,z.query!==void 0?ge.query=z.query:ge.query=X.query),ge.userinfo=X.userinfo,ge.host=X.host,ge.port=X.port),ge.scheme=X.scheme),ge.fragment=z.fragment,ge}function Gt(X,z,Z){var ye=u({scheme:"null"},Z);return ze(yt(Le(X,ye),Le(z,ye),ye,!0),ye)}function un(X,z){return typeof X=="string"?X=ze(Le(X,z),z):s(X)==="object"&&(X=Le(ze(X,z),z)),X}function Gn(X,z,Z){return typeof X=="string"?X=ze(Le(X,Z),Z):s(X)==="object"&&(X=ze(X,Z)),typeof z=="string"?z=ze(Le(z,Z),Z):s(z)==="object"&&(z=ze(z,Z)),X===z}function de(X,z){return X&&X.toString().replace(!z||!z.iri?c.ESCAPE:f.ESCAPE,le)}function Ee(X,z){return X&&X.toString().replace(!z||!z.iri?c.PCT_ENCODED:f.PCT_ENCODED,pe)}var Fe={scheme:"http",domainHost:!0,parse:function(z,Z){return z.host||(z.error=z.error||"HTTP URIs must have a host."),z},serialize:function(z,Z){var ye=String(z.scheme).toLowerCase()==="https";return(z.port===(ye?443:80)||z.port==="")&&(z.port=void 0),z.path||(z.path="/"),z}},ot={scheme:"https",domainHost:Fe.domainHost,parse:Fe.parse,serialize:Fe.serialize};function $e(X){return typeof X.secure=="boolean"?X.secure:String(X.scheme).toLowerCase()==="wss"}var at={scheme:"ws",domainHost:!0,parse:function(z,Z){var ye=z;return ye.secure=$e(ye),ye.resourceName=(ye.path||"/")+(ye.query?"?"+ye.query:""),ye.path=void 0,ye.query=void 0,ye},serialize:function(z,Z){if((z.port===($e(z)?443:80)||z.port==="")&&(z.port=void 0),typeof z.secure=="boolean"&&(z.scheme=z.secure?"wss":"ws",z.secure=void 0),z.resourceName){var ye=z.resourceName.split("?"),ge=d(ye,2),Ge=ge[0],Te=ge[1];z.path=Ge&&Ge!=="/"?Ge:void 0,z.query=Te,z.resourceName=void 0}return z.fragment=void 0,z}},Be={scheme:"wss",domainHost:at.domainHost,parse:at.parse,serialize:at.serialize},nt={},wn="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Wt="[0-9A-Fa-f]",xt=i(i("%[EFef]"+Wt+"%"+Wt+Wt+"%"+Wt+Wt)+"|"+i("%[89A-Fa-f]"+Wt+"%"+Wt+Wt)+"|"+i("%"+Wt+Wt)),Bn="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",En="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",da=r(En,'[\\"\\\\]'),hr="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",Fi=new RegExp(wn,"g"),wr=new RegExp(xt,"g"),Mr=new RegExp(r("[^]",Bn,"[\\.]",'[\\"]',da),"g"),pr=new RegExp(r("[^]",wn,hr),"g"),jn=pr;function en(X){var z=pe(X);return z.match(Fi)?z:X}var oi={scheme:"mailto",parse:function(z,Z){var ye=z,ge=ye.to=ye.path?ye.path.split(","):[];if(ye.path=void 0,ye.query){for(var Ge=!1,Te={},We=ye.query.split("&"),ct=0,tt=We.length;ct<tt;++ct){var gt=We[ct].split("=");switch(gt[0]){case"to":for(var Lt=gt[1].split(","),$n=0,pt=Lt.length;$n<pt;++$n)ge.push(Lt[$n]);break;case"subject":ye.subject=Ee(gt[1],Z);break;case"body":ye.body=Ee(gt[1],Z);break;default:Ge=!0,Te[Ee(gt[0],Z)]=Ee(gt[1],Z);break}}Ge&&(ye.headers=Te)}ye.query=void 0;for(var An=0,Et=ge.length;An<Et;++An){var gn=ge[An].split("@");if(gn[0]=Ee(gn[0]),Z.unicodeSupport)gn[1]=Ee(gn[1],Z).toLowerCase();else try{gn[1]=Y.toASCII(Ee(gn[1],Z).toLowerCase())}catch(nr){ye.error=ye.error||"Email address's domain name can not be converted to ASCII via punycode: "+nr}ge[An]=gn.join("@")}return ye},serialize:function(z,Z){var ye=z,ge=a(z.to);if(ge){for(var Ge=0,Te=ge.length;Ge<Te;++Ge){var We=String(ge[Ge]),ct=We.lastIndexOf("@"),tt=We.slice(0,ct).replace(wr,en).replace(wr,o).replace(Mr,le),gt=We.slice(ct+1);try{gt=Z.iri?Y.toUnicode(gt):Y.toASCII(Ee(gt,Z).toLowerCase())}catch(An){ye.error=ye.error||"Email address's domain name can not be converted to "+(Z.iri?"Unicode":"ASCII")+" via punycode: "+An}ge[Ge]=tt+"@"+gt}ye.path=ge.join(",")}var Lt=z.headers=z.headers||{};z.subject&&(Lt.subject=z.subject),z.body&&(Lt.body=z.body);var $n=[];for(var pt in Lt)Lt[pt]!==nt[pt]&&$n.push(pt.replace(wr,en).replace(wr,o).replace(pr,le)+"="+Lt[pt].replace(wr,en).replace(wr,o).replace(jn,le));return $n.length&&(ye.query=$n.join("&")),ye}},Er=/^([^\:]+)\:(.*)/,Fr={scheme:"urn",parse:function(z,Z){var ye=z.path&&z.path.match(Er),ge=z;if(ye){var Ge=Z.scheme||ge.scheme||"urn",Te=ye[1].toLowerCase(),We=ye[2],ct=Ge+":"+(Z.nid||Te),tt=ae[ct];ge.nid=Te,ge.nss=We,ge.path=void 0,tt&&(ge=tt.parse(ge,Z))}else ge.error=ge.error||"URN can not be parsed.";return ge},serialize:function(z,Z){var ye=Z.scheme||z.scheme||"urn",ge=z.nid,Ge=ye+":"+(Z.nid||ge),Te=ae[Ge];Te&&(z=Te.serialize(z,Z));var We=z,ct=z.nss;return We.path=(ge||Z.nid)+":"+ct,We}},vi=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,bs={scheme:"urn:uuid",parse:function(z,Z){var ye=z;return ye.uuid=ye.nss,ye.nss=void 0,!Z.tolerant&&(!ye.uuid||!ye.uuid.match(vi))&&(ye.error=ye.error||"UUID is not valid."),ye},serialize:function(z,Z){var ye=z;return ye.nss=(z.uuid||"").toLowerCase(),ye}};ae[Fe.scheme]=Fe,ae[ot.scheme]=ot,ae[at.scheme]=at,ae[Be.scheme]=Be,ae[oi.scheme]=oi,ae[Fr.scheme]=Fr,ae[bs.scheme]=bs,n.SCHEMES=ae,n.pctEncChar=le,n.pctDecChars=pe,n.parse=Le,n.removeDotSegments=wt,n.serialize=ze,n.resolveComponents=yt,n.resolve=Gt,n.normalize=un,n.equal=Gn,n.escapeComponent=de,n.unescapeComponent=Ee,Object.defineProperty(n,"__esModule",{value:!0})})})(z2,z2.exports);var gRe=z2.exports;Object.defineProperty(JD,"__esModule",{value:!0});const uZ=gRe;uZ.code='require("ajv/dist/runtime/uri").default';JD.default=uZ;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=Na;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var n=Yt;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return n.CodeGen}});const r=Q_,i=X_,s=Wd,o=Ms,a=Yt,u=Oi,l=K_,c=mn,f=mRe,d=JD,h=(K,I)=>new RegExp(K,I);h.code="new RegExp";const p=["removeAdditional","useDefaults","coerceTypes"],g=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),y={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},m={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},_=200;function v(K){var I,C,H,N,R,Y,ae,le,pe,he,Se,me,Xe,Ye,He,Le,Ae,Ve,Zt,Me,Ue,wt,ze,yt,Gt;const un=K.strict,Gn=(I=K.code)===null||I===void 0?void 0:I.optimize,de=Gn===!0||Gn===void 0?1:Gn||0,Ee=(H=(C=K.code)===null||C===void 0?void 0:C.regExp)!==null&&H!==void 0?H:h,Fe=(N=K.uriResolver)!==null&&N!==void 0?N:d.default;return{strictSchema:(Y=(R=K.strictSchema)!==null&&R!==void 0?R:un)!==null&&Y!==void 0?Y:!0,strictNumbers:(le=(ae=K.strictNumbers)!==null&&ae!==void 0?ae:un)!==null&&le!==void 0?le:!0,strictTypes:(he=(pe=K.strictTypes)!==null&&pe!==void 0?pe:un)!==null&&he!==void 0?he:"log",strictTuples:(me=(Se=K.strictTuples)!==null&&Se!==void 0?Se:un)!==null&&me!==void 0?me:"log",strictRequired:(Ye=(Xe=K.strictRequired)!==null&&Xe!==void 0?Xe:un)!==null&&Ye!==void 0?Ye:!1,code:K.code?{...K.code,optimize:de,regExp:Ee}:{optimize:de,regExp:Ee},loopRequired:(He=K.loopRequired)!==null&&He!==void 0?He:_,loopEnum:(Le=K.loopEnum)!==null&&Le!==void 0?Le:_,meta:(Ae=K.meta)!==null&&Ae!==void 0?Ae:!0,messages:(Ve=K.messages)!==null&&Ve!==void 0?Ve:!0,inlineRefs:(Zt=K.inlineRefs)!==null&&Zt!==void 0?Zt:!0,schemaId:(Me=K.schemaId)!==null&&Me!==void 0?Me:"$id",addUsedSchema:(Ue=K.addUsedSchema)!==null&&Ue!==void 0?Ue:!0,validateSchema:(wt=K.validateSchema)!==null&&wt!==void 0?wt:!0,validateFormats:(ze=K.validateFormats)!==null&&ze!==void 0?ze:!0,unicodeRegExp:(yt=K.unicodeRegExp)!==null&&yt!==void 0?yt:!0,int32range:(Gt=K.int32range)!==null&&Gt!==void 0?Gt:!0,uriResolver:Fe}}class T{constructor(I={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,I=this.opts={...I,...v(I)};const{es5:C,lines:H}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:g,es5:C,lines:H}),this.logger=q(I.logger);const N=I.validateFormats;I.validateFormats=!1,this.RULES=(0,s.getRules)(),S.call(this,y,I,"NOT SUPPORTED"),S.call(this,m,I,"DEPRECATED","warn"),this._metaOpts=D.call(this),I.formats&&A.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),I.keywords&&$.call(this,I.keywords),typeof I.meta=="object"&&this.addMetaSchema(I.meta),x.call(this),I.validateFormats=N}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:I,meta:C,schemaId:H}=this.opts;let N=f;H==="id"&&(N={...f},N.id=N.$id,delete N.$id),C&&I&&this.addMetaSchema(N,N[H],!1)}defaultMeta(){const{meta:I,schemaId:C}=this.opts;return this.opts.defaultMeta=typeof I=="object"?I[C]||I:void 0}validate(I,C){let H;if(typeof I=="string"){if(H=this.getSchema(I),!H)throw new Error(`no schema with key or ref "${I}"`)}else H=this.compile(I);const N=H(C);return"$async"in H||(this.errors=H.errors),N}compile(I,C){const H=this._addSchema(I,C);return H.validate||this._compileSchemaEnv(H)}compileAsync(I,C){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:H}=this.opts;return N.call(this,I,C);async function N(he,Se){await R.call(this,he.$schema);const me=this._addSchema(he,Se);return me.validate||Y.call(this,me)}async function R(he){he&&!this.getSchema(he)&&await N.call(this,{$ref:he},!0)}async function Y(he){try{return this._compileSchemaEnv(he)}catch(Se){if(!(Se instanceof i.default))throw Se;return ae.call(this,Se),await le.call(this,Se.missingSchema),Y.call(this,he)}}function ae({missingSchema:he,missingRef:Se}){if(this.refs[he])throw new Error(`AnySchema ${he} is loaded but ${Se} cannot be resolved`)}async function le(he){const Se=await pe.call(this,he);this.refs[he]||await R.call(this,Se.$schema),this.refs[he]||this.addSchema(Se,he,C)}async function pe(he){const Se=this._loading[he];if(Se)return Se;try{return await(this._loading[he]=H(he))}finally{delete this._loading[he]}}}addSchema(I,C,H,N=this.opts.validateSchema){if(Array.isArray(I)){for(const Y of I)this.addSchema(Y,void 0,H,N);return this}let R;if(typeof I=="object"){const{schemaId:Y}=this.opts;if(R=I[Y],R!==void 0&&typeof R!="string")throw new Error(`schema ${Y} must be string`)}return C=(0,u.normalizeId)(C||R),this._checkUnique(C),this.schemas[C]=this._addSchema(I,H,C,N,!0),this}addMetaSchema(I,C,H=this.opts.validateSchema){return this.addSchema(I,C,!0,H),this}validateSchema(I,C){if(typeof I=="boolean")return!0;let H;if(H=I.$schema,H!==void 0&&typeof H!="string")throw new Error("$schema must be a string");if(H=H||this.opts.defaultMeta||this.defaultMeta(),!H)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const N=this.validate(H,I);if(!N&&C){const R="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(R);else throw new Error(R)}return N}getSchema(I){let C;for(;typeof(C=w.call(this,I))=="string";)I=C;if(C===void 0){const{schemaId:H}=this.opts,N=new o.SchemaEnv({schema:{},schemaId:H});if(C=o.resolveSchema.call(this,N,I),!C)return;this.refs[I]=C}return C.validate||this._compileSchemaEnv(C)}removeSchema(I){if(I instanceof RegExp)return this._removeAllSchemas(this.schemas,I),this._removeAllSchemas(this.refs,I),this;switch(typeof I){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const C=w.call(this,I);return typeof C=="object"&&this._cache.delete(C.schema),delete this.schemas[I],delete this.refs[I],this}case"object":{const C=I;this._cache.delete(C);let H=I[this.opts.schemaId];return H&&(H=(0,u.normalizeId)(H),delete this.schemas[H],delete this.refs[H]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(I){for(const C of I)this.addKeyword(C);return this}addKeyword(I,C){let H;if(typeof I=="string")H=I,typeof C=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),C.keyword=H);else if(typeof I=="object"&&C===void 0){if(C=I,H=C.keyword,Array.isArray(H)&&!H.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(U.call(this,H,C),!C)return(0,c.eachItem)(H,R=>se.call(this,R)),this;ce.call(this,C);const N={...C,type:(0,l.getJSONTypes)(C.type),schemaType:(0,l.getJSONTypes)(C.schemaType)};return(0,c.eachItem)(H,N.type.length===0?R=>se.call(this,R,N):R=>N.type.forEach(Y=>se.call(this,R,N,Y))),this}getKeyword(I){const C=this.RULES.all[I];return typeof C=="object"?C.definition:!!C}removeKeyword(I){const{RULES:C}=this;delete C.keywords[I],delete C.all[I];for(const H of C.rules){const N=H.rules.findIndex(R=>R.keyword===I);N>=0&&H.rules.splice(N,1)}return this}addFormat(I,C){return typeof C=="string"&&(C=new RegExp(C)),this.formats[I]=C,this}errorsText(I=this.errors,{separator:C=", ",dataVar:H="data"}={}){return!I||I.length===0?"No errors":I.map(N=>`${H}${N.instancePath} ${N.message}`).reduce((N,R)=>N+C+R)}$dataMetaSchema(I,C){const H=this.RULES.all;I=JSON.parse(JSON.stringify(I));for(const N of C){const R=N.split("/").slice(1);let Y=I;for(const ae of R)Y=Y[ae];for(const ae in H){const le=H[ae];if(typeof le!="object")continue;const{$data:pe}=le.definition,he=Y[ae];pe&&he&&(Y[ae]=ie(he))}}return I}_removeAllSchemas(I,C){for(const H in I){const N=I[H];(!C||C.test(H))&&(typeof N=="string"?delete I[H]:N&&!N.meta&&(this._cache.delete(N.schema),delete I[H]))}}_addSchema(I,C,H,N=this.opts.validateSchema,R=this.opts.addUsedSchema){let Y;const{schemaId:ae}=this.opts;if(typeof I=="object")Y=I[ae];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof I!="boolean")throw new Error("schema must be object or boolean")}let le=this._cache.get(I);if(le!==void 0)return le;H=(0,u.normalizeId)(Y||H);const pe=u.getSchemaRefs.call(this,I,H);return le=new o.SchemaEnv({schema:I,schemaId:ae,meta:C,baseId:H,localRefs:pe}),this._cache.set(le.schema,le),R&&!H.startsWith("#")&&(H&&this._checkUnique(H),this.refs[H]=le),N&&this.validateSchema(I,!0),le}_checkUnique(I){if(this.schemas[I]||this.refs[I])throw new Error(`schema with key or id "${I}" already exists`)}_compileSchemaEnv(I){if(I.meta?this._compileMetaSchema(I):o.compileSchema.call(this,I),!I.validate)throw new Error("ajv implementation error");return I.validate}_compileMetaSchema(I){const C=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,I)}finally{this.opts=C}}}e.default=T,T.ValidationError=r.default,T.MissingRefError=i.default;function S(K,I,C,H="error"){for(const N in K){const R=N;R in I&&this.logger[H](`${C}: option ${N}. ${K[R]}`)}}function w(K){return K=(0,u.normalizeId)(K),this.schemas[K]||this.refs[K]}function x(){const K=this.opts.schemas;if(K)if(Array.isArray(K))this.addSchema(K);else for(const I in K)this.addSchema(K[I],I)}function A(){for(const K in this.opts.formats){const I=this.opts.formats[K];I&&this.addFormat(K,I)}}function $(K){if(Array.isArray(K)){this.addVocabulary(K);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const I in K){const C=K[I];C.keyword||(C.keyword=I),this.addKeyword(C)}}function D(){const K={...this.opts};for(const I of p)delete K[I];return K}const P={log(){},warn(){},error(){}};function q(K){if(K===!1)return P;if(K===void 0)return console;if(K.log&&K.warn&&K.error)return K;throw new Error("logger must implement log, warn and error methods")}const V=/^[a-z_$][a-z0-9_$:-]*$/i;function U(K,I){const{RULES:C}=this;if((0,c.eachItem)(K,H=>{if(C.keywords[H])throw new Error(`Keyword ${H} is already defined`);if(!V.test(H))throw new Error(`Keyword ${H} has invalid name`)}),!!I&&I.$data&&!("code"in I||"validate"in I))throw new Error('$data keyword must have "code" or "validate" function')}function se(K,I,C){var H;const N=I==null?void 0:I.post;if(C&&N)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:R}=this;let Y=N?R.post:R.rules.find(({type:le})=>le===C);if(Y||(Y={type:C,rules:[]},R.rules.push(Y)),R.keywords[K]=!0,!I)return;const ae={keyword:K,definition:{...I,type:(0,l.getJSONTypes)(I.type),schemaType:(0,l.getJSONTypes)(I.schemaType)}};I.before?oe.call(this,Y,ae,I.before):Y.rules.push(ae),R.all[K]=ae,(H=I.implements)===null||H===void 0||H.forEach(le=>this.addKeyword(le))}function oe(K,I,C){const H=K.rules.findIndex(N=>N.keyword===C);H>=0?K.rules.splice(H,0,I):(K.rules.push(I),this.logger.warn(`rule ${C} is not defined`))}function ce(K){let{metaSchema:I}=K;I!==void 0&&(K.$data&&this.opts.$data&&(I=ie(I)),K.validateSchema=this.compile(I,!0))}const ee={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function ie(K){return{anyOf:[K,ee]}}})(FJ);var ZD={},e$={},t$={};Object.defineProperty(t$,"__esModule",{value:!0});const yRe={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};t$.default=yRe;var qd={};Object.defineProperty(qd,"__esModule",{value:!0});qd.callRef=qd.getValidate=void 0;const _Re=X_,SB=qt,Cs=Yt,Dh=Hu,xB=Ms,w1=mn,vRe={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:n,it:r}=e,{baseId:i,schemaEnv:s,validateName:o,opts:a,self:u}=r,{root:l}=s;if((n==="#"||n==="#/")&&i===l.baseId)return f();const c=xB.resolveRef.call(u,l,i,n);if(c===void 0)throw new _Re.default(r.opts.uriResolver,i,n);if(c instanceof xB.SchemaEnv)return d(c);return h(c);function f(){if(s===l)return Ab(e,o,s,s.$async);const p=t.scopeValue("root",{ref:l});return Ab(e,(0,Cs._)`${p}.validate`,l,l.$async)}function d(p){const g=lZ(e,p);Ab(e,g,p,p.$async)}function h(p){const g=t.scopeValue("schema",a.code.source===!0?{ref:p,code:(0,Cs.stringify)(p)}:{ref:p}),y=t.name("valid"),m=e.subschema({schema:p,dataTypes:[],schemaPath:Cs.nil,topSchemaRef:g,errSchemaPath:n},y);e.mergeEvaluated(m),e.ok(y)}}};function lZ(e,t){const{gen:n}=e;return t.validate?n.scopeValue("validate",{ref:t.validate}):(0,Cs._)`${n.scopeValue("wrapper",{ref:t})}.validate`}qd.getValidate=lZ;function Ab(e,t,n,r){const{gen:i,it:s}=e,{allErrors:o,schemaEnv:a,opts:u}=s,l=u.passContext?Dh.default.this:Cs.nil;r?c():f();function c(){if(!a.$async)throw new Error("async schema referenced by sync schema");const p=i.let("valid");i.try(()=>{i.code((0,Cs._)`await ${(0,SB.callValidateCode)(e,t,l)}`),h(t),o||i.assign(p,!0)},g=>{i.if((0,Cs._)`!(${g} instanceof ${s.ValidationError})`,()=>i.throw(g)),d(g),o||i.assign(p,!1)}),e.ok(p)}function f(){e.result((0,SB.callValidateCode)(e,t,l),()=>h(t),()=>d(t))}function d(p){const g=(0,Cs._)`${p}.errors`;i.assign(Dh.default.vErrors,(0,Cs._)`${Dh.default.vErrors} === null ? ${g} : ${Dh.default.vErrors}.concat(${g})`),i.assign(Dh.default.errors,(0,Cs._)`${Dh.default.vErrors}.length`)}function h(p){var g;if(!s.opts.unevaluated)return;const y=(g=n==null?void 0:n.validate)===null||g===void 0?void 0:g.evaluated;if(s.props!==!0)if(y&&!y.dynamicProps)y.props!==void 0&&(s.props=w1.mergeEvaluated.props(i,y.props,s.props));else{const m=i.var("props",(0,Cs._)`${p}.evaluated.props`);s.props=w1.mergeEvaluated.props(i,m,s.props,Cs.Name)}if(s.items!==!0)if(y&&!y.dynamicItems)y.items!==void 0&&(s.items=w1.mergeEvaluated.items(i,y.items,s.items));else{const m=i.var("items",(0,Cs._)`${p}.evaluated.items`);s.items=w1.mergeEvaluated.items(i,m,s.items,Cs.Name)}}}qd.callRef=Ab;qd.default=vRe;Object.defineProperty(e$,"__esModule",{value:!0});const bRe=t$,wRe=qd,ERe=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",bRe.default,wRe.default];e$.default=ERe;var n$={},r$={};Object.defineProperty(r$,"__esModule",{value:!0});const pT=Yt,pc=pT.operators,mT={maximum:{okStr:"<=",ok:pc.LTE,fail:pc.GT},minimum:{okStr:">=",ok:pc.GTE,fail:pc.LT},exclusiveMaximum:{okStr:"<",ok:pc.LT,fail:pc.GTE},exclusiveMinimum:{okStr:">",ok:pc.GT,fail:pc.LTE}},TRe={message:({keyword:e,schemaCode:t})=>(0,pT.str)`must be ${mT[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,pT._)`{comparison: ${mT[e].okStr}, limit: ${t}}`},SRe={keyword:Object.keys(mT),type:"number",schemaType:"number",$data:!0,error:TRe,code(e){const{keyword:t,data:n,schemaCode:r}=e;e.fail$data((0,pT._)`${n} ${mT[t].fail} ${r} || isNaN(${n})`)}};r$.default=SRe;var i$={};Object.defineProperty(i$,"__esModule",{value:!0});const X0=Yt,xRe={message:({schemaCode:e})=>(0,X0.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,X0._)`{multipleOf: ${e}}`},IRe={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:xRe,code(e){const{gen:t,data:n,schemaCode:r,it:i}=e,s=i.opts.multipleOfPrecision,o=t.let("res"),a=s?(0,X0._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${s}`:(0,X0._)`${o} !== parseInt(${o})`;e.fail$data((0,X0._)`(${r} === 0 || (${o} = ${n}/${r}, ${a}))`)}};i$.default=IRe;var s$={},o$={};Object.defineProperty(o$,"__esModule",{value:!0});function cZ(e){const t=e.length;let n=0,r=0,i;for(;r<t;)n++,i=e.charCodeAt(r++),i>=55296&&i<=56319&&r<t&&(i=e.charCodeAt(r),(i&64512)===56320&&r++);return n}o$.default=cZ;cZ.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(s$,"__esModule",{value:!0});const ad=Yt,ARe=mn,CRe=o$,ORe={message({keyword:e,schemaCode:t}){const n=e==="maxLength"?"more":"fewer";return(0,ad.str)`must NOT have ${n} than ${t} characters`},params:({schemaCode:e})=>(0,ad._)`{limit: ${e}}`},PRe={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:ORe,code(e){const{keyword:t,data:n,schemaCode:r,it:i}=e,s=t==="maxLength"?ad.operators.GT:ad.operators.LT,o=i.opts.unicode===!1?(0,ad._)`${n}.length`:(0,ad._)`${(0,ARe.useFunc)(e.gen,CRe.default)}(${n})`;e.fail$data((0,ad._)`${o} ${s} ${r}`)}};s$.default=PRe;var a$={};Object.defineProperty(a$,"__esModule",{value:!0});const RRe=qt,gT=Yt,NRe={message:({schemaCode:e})=>(0,gT.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,gT._)`{pattern: ${e}}`},kRe={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:NRe,code(e){const{data:t,$data:n,schema:r,schemaCode:i,it:s}=e,o=s.opts.unicodeRegExp?"u":"",a=n?(0,gT._)`(new RegExp(${i}, ${o}))`:(0,RRe.usePattern)(e,r);e.fail$data((0,gT._)`!${a}.test(${t})`)}};a$.default=kRe;var u$={};Object.defineProperty(u$,"__esModule",{value:!0});const J0=Yt,DRe={message({keyword:e,schemaCode:t}){const n=e==="maxProperties"?"more":"fewer";return(0,J0.str)`must NOT have ${n} than ${t} properties`},params:({schemaCode:e})=>(0,J0._)`{limit: ${e}}`},$Re={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:DRe,code(e){const{keyword:t,data:n,schemaCode:r}=e,i=t==="maxProperties"?J0.operators.GT:J0.operators.LT;e.fail$data((0,J0._)`Object.keys(${n}).length ${i} ${r}`)}};u$.default=$Re;var l$={};Object.defineProperty(l$,"__esModule",{value:!0});const qg=qt,Z0=Yt,LRe=mn,MRe={message:({params:{missingProperty:e}})=>(0,Z0.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,Z0._)`{missingProperty: ${e}}`},FRe={keyword:"required",type:"object",schemaType:"array",$data:!0,error:MRe,code(e){const{gen:t,schema:n,schemaCode:r,data:i,$data:s,it:o}=e,{opts:a}=o;if(!s&&n.length===0)return;const u=n.length>=a.loopRequired;if(o.allErrors?l():c(),a.strictRequired){const h=e.parentSchema.properties,{definedProperties:p}=e.it;for(const g of n)if((h==null?void 0:h[g])===void 0&&!p.has(g)){const y=o.schemaEnv.baseId+o.errSchemaPath,m=`required property "${g}" is not defined at "${y}" (strictRequired)`;(0,LRe.checkStrictMode)(o,m,o.opts.strictRequired)}}function l(){if(u||s)e.block$data(Z0.nil,f);else for(const h of n)(0,qg.checkReportMissingProp)(e,h)}function c(){const h=t.let("missing");if(u||s){const p=t.let("valid",!0);e.block$data(p,()=>d(h,p)),e.ok(p)}else t.if((0,qg.checkMissingProp)(e,n,h)),(0,qg.reportMissingProp)(e,h),t.else()}function f(){t.forOf("prop",r,h=>{e.setParams({missingProperty:h}),t.if((0,qg.noPropertyInData)(t,i,h,a.ownProperties),()=>e.error())})}function d(h,p){e.setParams({missingProperty:h}),t.forOf(h,r,()=>{t.assign(p,(0,qg.propertyInData)(t,i,h,a.ownProperties)),t.if((0,Z0.not)(p),()=>{e.error(),t.break()})},Z0.nil)}}};l$.default=FRe;var c$={};Object.defineProperty(c$,"__esModule",{value:!0});const ey=Yt,BRe={message({keyword:e,schemaCode:t}){const n=e==="maxItems"?"more":"fewer";return(0,ey.str)`must NOT have ${n} than ${t} items`},params:({schemaCode:e})=>(0,ey._)`{limit: ${e}}`},jRe={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:BRe,code(e){const{keyword:t,data:n,schemaCode:r}=e,i=t==="maxItems"?ey.operators.GT:ey.operators.LT;e.fail$data((0,ey._)`${n}.length ${i} ${r}`)}};c$.default=jRe;var f$={},J_={};Object.defineProperty(J_,"__esModule",{value:!0});const fZ=GD;fZ.code='require("ajv/dist/runtime/equal").default';J_.default=fZ;Object.defineProperty(f$,"__esModule",{value:!0});const BC=K_,Ti=Yt,URe=mn,VRe=J_,zRe={message:({params:{i:e,j:t}})=>(0,Ti.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,Ti._)`{i: ${e}, j: ${t}}`},HRe={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:zRe,code(e){const{gen:t,data:n,$data:r,schema:i,parentSchema:s,schemaCode:o,it:a}=e;if(!r&&!i)return;const u=t.let("valid"),l=s.items?(0,BC.getSchemaTypes)(s.items):[];e.block$data(u,c,(0,Ti._)`${o} === false`),e.ok(u);function c(){const p=t.let("i",(0,Ti._)`${n}.length`),g=t.let("j");e.setParams({i:p,j:g}),t.assign(u,!0),t.if((0,Ti._)`${p} > 1`,()=>(f()?d:h)(p,g))}function f(){return l.length>0&&!l.some(p=>p==="object"||p==="array")}function d(p,g){const y=t.name("item"),m=(0,BC.checkDataTypes)(l,y,a.opts.strictNumbers,BC.DataType.Wrong),_=t.const("indices",(0,Ti._)`{}`);t.for((0,Ti._)`;${p}--;`,()=>{t.let(y,(0,Ti._)`${n}[${p}]`),t.if(m,(0,Ti._)`continue`),l.length>1&&t.if((0,Ti._)`typeof ${y} == "string"`,(0,Ti._)`${y} += "_"`),t.if((0,Ti._)`typeof ${_}[${y}] == "number"`,()=>{t.assign(g,(0,Ti._)`${_}[${y}]`),e.error(),t.assign(u,!1).break()}).code((0,Ti._)`${_}[${y}] = ${p}`)})}function h(p,g){const y=(0,URe.useFunc)(t,VRe.default),m=t.name("outer");t.label(m).for((0,Ti._)`;${p}--;`,()=>t.for((0,Ti._)`${g} = ${p}; ${g}--;`,()=>t.if((0,Ti._)`${y}(${n}[${p}], ${n}[${g}])`,()=>{e.error(),t.assign(u,!1).break(m)})))}}};f$.default=HRe;var d$={};Object.defineProperty(d$,"__esModule",{value:!0});const H2=Yt,WRe=mn,qRe=J_,YRe={message:"must be equal to constant",params:({schemaCode:e})=>(0,H2._)`{allowedValue: ${e}}`},GRe={keyword:"const",$data:!0,error:YRe,code(e){const{gen:t,data:n,$data:r,schemaCode:i,schema:s}=e;r||s&&typeof s=="object"?e.fail$data((0,H2._)`!${(0,WRe.useFunc)(t,qRe.default)}(${n}, ${i})`):e.fail((0,H2._)`${s} !== ${n}`)}};d$.default=GRe;var h$={};Object.defineProperty(h$,"__esModule",{value:!0});const v0=Yt,KRe=mn,QRe=J_,XRe={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,v0._)`{allowedValues: ${e}}`},JRe={keyword:"enum",schemaType:"array",$data:!0,error:XRe,code(e){const{gen:t,data:n,$data:r,schema:i,schemaCode:s,it:o}=e;if(!r&&i.length===0)throw new Error("enum must have non-empty array");const a=i.length>=o.opts.loopEnum;let u;const l=()=>u??(u=(0,KRe.useFunc)(t,QRe.default));let c;if(a||r)c=t.let("valid"),e.block$data(c,f);else{if(!Array.isArray(i))throw new Error("ajv implementation error");const h=t.const("vSchema",s);c=(0,v0.or)(...i.map((p,g)=>d(h,g)))}e.pass(c);function f(){t.assign(c,!1),t.forOf("v",s,h=>t.if((0,v0._)`${l()}(${n}, ${h})`,()=>t.assign(c,!0).break()))}function d(h,p){const g=i[p];return typeof g=="object"&&g!==null?(0,v0._)`${l()}(${n}, ${h}[${p}])`:(0,v0._)`${n} === ${g}`}}};h$.default=JRe;Object.defineProperty(n$,"__esModule",{value:!0});const ZRe=r$,eNe=i$,tNe=s$,nNe=a$,rNe=u$,iNe=l$,sNe=c$,oNe=f$,aNe=d$,uNe=h$,lNe=[ZRe.default,eNe.default,tNe.default,nNe.default,rNe.default,iNe.default,sNe.default,oNe.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},aNe.default,uNe.default];n$.default=lNe;var p$={},Qm={};Object.defineProperty(Qm,"__esModule",{value:!0});Qm.validateAdditionalItems=void 0;const ud=Yt,W2=mn,cNe={message:({params:{len:e}})=>(0,ud.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,ud._)`{limit: ${e}}`},fNe={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:cNe,code(e){const{parentSchema:t,it:n}=e,{items:r}=t;if(!Array.isArray(r)){(0,W2.checkStrictMode)(n,'"additionalItems" is ignored when "items" is not an array of schemas');return}dZ(e,r)}};function dZ(e,t){const{gen:n,schema:r,data:i,keyword:s,it:o}=e;o.items=!0;const a=n.const("len",(0,ud._)`${i}.length`);if(r===!1)e.setParams({len:t.length}),e.pass((0,ud._)`${a} <= ${t.length}`);else if(typeof r=="object"&&!(0,W2.alwaysValidSchema)(o,r)){const l=n.var("valid",(0,ud._)`${a} <= ${t.length}`);n.if((0,ud.not)(l),()=>u(l)),e.ok(l)}function u(l){n.forRange("i",t.length,a,c=>{e.subschema({keyword:s,dataProp:c,dataPropType:W2.Type.Num},l),o.allErrors||n.if((0,ud.not)(l),()=>n.break())})}}Qm.validateAdditionalItems=dZ;Qm.default=fNe;var m$={},Xm={};Object.defineProperty(Xm,"__esModule",{value:!0});Xm.validateTuple=void 0;const IB=Yt,Cb=mn,dNe=qt,hNe={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:n}=e;if(Array.isArray(t))return hZ(e,"additionalItems",t);n.items=!0,!(0,Cb.alwaysValidSchema)(n,t)&&e.ok((0,dNe.validateArray)(e))}};function hZ(e,t,n=e.schema){const{gen:r,parentSchema:i,data:s,keyword:o,it:a}=e;c(i),a.opts.unevaluated&&n.length&&a.items!==!0&&(a.items=Cb.mergeEvaluated.items(r,n.length,a.items));const u=r.name("valid"),l=r.const("len",(0,IB._)`${s}.length`);n.forEach((f,d)=>{(0,Cb.alwaysValidSchema)(a,f)||(r.if((0,IB._)`${l} > ${d}`,()=>e.subschema({keyword:o,schemaProp:d,dataProp:d},u)),e.ok(u))});function c(f){const{opts:d,errSchemaPath:h}=a,p=n.length,g=p===f.minItems&&(p===f.maxItems||f[t]===!1);if(d.strictTuples&&!g){const y=`"${o}" is ${p}-tuple, but minItems or maxItems/${t} are not specified or different at path "${h}"`;(0,Cb.checkStrictMode)(a,y,d.strictTuples)}}}Xm.validateTuple=hZ;Xm.default=hNe;Object.defineProperty(m$,"__esModule",{value:!0});const pNe=Xm,mNe={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,pNe.validateTuple)(e,"items")};m$.default=mNe;var g$={};Object.defineProperty(g$,"__esModule",{value:!0});const AB=Yt,gNe=mn,yNe=qt,_Ne=Qm,vNe={message:({params:{len:e}})=>(0,AB.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,AB._)`{limit: ${e}}`},bNe={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:vNe,code(e){const{schema:t,parentSchema:n,it:r}=e,{prefixItems:i}=n;r.items=!0,!(0,gNe.alwaysValidSchema)(r,t)&&(i?(0,_Ne.validateAdditionalItems)(e,i):e.ok((0,yNe.validateArray)(e)))}};g$.default=bNe;var y$={};Object.defineProperty(y$,"__esModule",{value:!0});const Fo=Yt,E1=mn,wNe={message:({params:{min:e,max:t}})=>t===void 0?(0,Fo.str)`must contain at least ${e} valid item(s)`:(0,Fo.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,Fo._)`{minContains: ${e}}`:(0,Fo._)`{minContains: ${e}, maxContains: ${t}}`},ENe={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:wNe,code(e){const{gen:t,schema:n,parentSchema:r,data:i,it:s}=e;let o,a;const{minContains:u,maxContains:l}=r;s.opts.next?(o=u===void 0?1:u,a=l):o=1;const c=t.const("len",(0,Fo._)`${i}.length`);if(e.setParams({min:o,max:a}),a===void 0&&o===0){(0,E1.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(a!==void 0&&o>a){(0,E1.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,E1.alwaysValidSchema)(s,n)){let g=(0,Fo._)`${c} >= ${o}`;a!==void 0&&(g=(0,Fo._)`${g} && ${c} <= ${a}`),e.pass(g);return}s.items=!0;const f=t.name("valid");a===void 0&&o===1?h(f,()=>t.if(f,()=>t.break())):o===0?(t.let(f,!0),a!==void 0&&t.if((0,Fo._)`${i}.length > 0`,d)):(t.let(f,!1),d()),e.result(f,()=>e.reset());function d(){const g=t.name("_valid"),y=t.let("count",0);h(g,()=>t.if(g,()=>p(y)))}function h(g,y){t.forRange("i",0,c,m=>{e.subschema({keyword:"contains",dataProp:m,dataPropType:E1.Type.Num,compositeRule:!0},g),y()})}function p(g){t.code((0,Fo._)`${g}++`),a===void 0?t.if((0,Fo._)`${g} >= ${o}`,()=>t.assign(f,!0).break()):(t.if((0,Fo._)`${g} > ${a}`,()=>t.assign(f,!1).break()),o===1?t.assign(f,!0):t.if((0,Fo._)`${g} >= ${o}`,()=>t.assign(f,!0)))}}};y$.default=ENe;var pZ={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=Yt,n=mn,r=qt;e.error={message:({params:{property:u,depsCount:l,deps:c}})=>{const f=l===1?"property":"properties";return(0,t.str)`must have ${f} ${c} when property ${u} is present`},params:({params:{property:u,depsCount:l,deps:c,missingProperty:f}})=>(0,t._)`{property: ${u},
    missingProperty: ${f},
    depsCount: ${l},
    deps: ${c}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(u){const[l,c]=s(u);o(u,l),a(u,c)}};function s({schema:u}){const l={},c={};for(const f in u){if(f==="__proto__")continue;const d=Array.isArray(u[f])?l:c;d[f]=u[f]}return[l,c]}function o(u,l=u.schema){const{gen:c,data:f,it:d}=u;if(Object.keys(l).length===0)return;const h=c.let("missing");for(const p in l){const g=l[p];if(g.length===0)continue;const y=(0,r.propertyInData)(c,f,p,d.opts.ownProperties);u.setParams({property:p,depsCount:g.length,deps:g.join(", ")}),d.allErrors?c.if(y,()=>{for(const m of g)(0,r.checkReportMissingProp)(u,m)}):(c.if((0,t._)`${y} && (${(0,r.checkMissingProp)(u,g,h)})`),(0,r.reportMissingProp)(u,h),c.else())}}e.validatePropertyDeps=o;function a(u,l=u.schema){const{gen:c,data:f,keyword:d,it:h}=u,p=c.name("valid");for(const g in l)(0,n.alwaysValidSchema)(h,l[g])||(c.if((0,r.propertyInData)(c,f,g,h.opts.ownProperties),()=>{const y=u.subschema({keyword:d,schemaProp:g},p);u.mergeValidEvaluated(y,p)},()=>c.var(p,!0)),u.ok(p))}e.validateSchemaDeps=a,e.default=i})(pZ);var _$={};Object.defineProperty(_$,"__esModule",{value:!0});const mZ=Yt,TNe=mn,SNe={message:"property name must be valid",params:({params:e})=>(0,mZ._)`{propertyName: ${e.propertyName}}`},xNe={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:SNe,code(e){const{gen:t,schema:n,data:r,it:i}=e;if((0,TNe.alwaysValidSchema)(i,n))return;const s=t.name("valid");t.forIn("key",r,o=>{e.setParams({propertyName:o}),e.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},s),t.if((0,mZ.not)(s),()=>{e.error(!0),i.allErrors||t.break()})}),e.ok(s)}};_$.default=xNe;var Gx={};Object.defineProperty(Gx,"__esModule",{value:!0});const T1=qt,ma=Yt,INe=Hu,S1=mn,ANe={message:"must NOT have additional properties",params:({params:e})=>(0,ma._)`{additionalProperty: ${e.additionalProperty}}`},CNe={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:ANe,code(e){const{gen:t,schema:n,parentSchema:r,data:i,errsCount:s,it:o}=e;if(!s)throw new Error("ajv implementation error");const{allErrors:a,opts:u}=o;if(o.props=!0,u.removeAdditional!=="all"&&(0,S1.alwaysValidSchema)(o,n))return;const l=(0,T1.allSchemaProperties)(r.properties),c=(0,T1.allSchemaProperties)(r.patternProperties);f(),e.ok((0,ma._)`${s} === ${INe.default.errors}`);function f(){t.forIn("key",i,y=>{!l.length&&!c.length?p(y):t.if(d(y),()=>p(y))})}function d(y){let m;if(l.length>8){const _=(0,S1.schemaRefOrVal)(o,r.properties,"properties");m=(0,T1.isOwnProperty)(t,_,y)}else l.length?m=(0,ma.or)(...l.map(_=>(0,ma._)`${y} === ${_}`)):m=ma.nil;return c.length&&(m=(0,ma.or)(m,...c.map(_=>(0,ma._)`${(0,T1.usePattern)(e,_)}.test(${y})`))),(0,ma.not)(m)}function h(y){t.code((0,ma._)`delete ${i}[${y}]`)}function p(y){if(u.removeAdditional==="all"||u.removeAdditional&&n===!1){h(y);return}if(n===!1){e.setParams({additionalProperty:y}),e.error(),a||t.break();return}if(typeof n=="object"&&!(0,S1.alwaysValidSchema)(o,n)){const m=t.name("valid");u.removeAdditional==="failing"?(g(y,m,!1),t.if((0,ma.not)(m),()=>{e.reset(),h(y)})):(g(y,m),a||t.if((0,ma.not)(m),()=>t.break()))}}function g(y,m,_){const v={keyword:"additionalProperties",dataProp:y,dataPropType:S1.Type.Str};_===!1&&Object.assign(v,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(v,m)}}};Gx.default=CNe;var v$={};Object.defineProperty(v$,"__esModule",{value:!0});const ONe=Na,CB=qt,jC=mn,OB=Gx,PNe={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,parentSchema:r,data:i,it:s}=e;s.opts.removeAdditional==="all"&&r.additionalProperties===void 0&&OB.default.code(new ONe.KeywordCxt(s,OB.default,"additionalProperties"));const o=(0,CB.allSchemaProperties)(n);for(const f of o)s.definedProperties.add(f);s.opts.unevaluated&&o.length&&s.props!==!0&&(s.props=jC.mergeEvaluated.props(t,(0,jC.toHash)(o),s.props));const a=o.filter(f=>!(0,jC.alwaysValidSchema)(s,n[f]));if(a.length===0)return;const u=t.name("valid");for(const f of a)l(f)?c(f):(t.if((0,CB.propertyInData)(t,i,f,s.opts.ownProperties)),c(f),s.allErrors||t.else().var(u,!0),t.endIf()),e.it.definedProperties.add(f),e.ok(u);function l(f){return s.opts.useDefaults&&!s.compositeRule&&n[f].default!==void 0}function c(f){e.subschema({keyword:"properties",schemaProp:f,dataProp:f},u)}}};v$.default=PNe;var b$={};Object.defineProperty(b$,"__esModule",{value:!0});const PB=qt,x1=Yt,RB=mn,NB=mn,RNe={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,data:r,parentSchema:i,it:s}=e,{opts:o}=s,a=(0,PB.allSchemaProperties)(n),u=a.filter(g=>(0,RB.alwaysValidSchema)(s,n[g]));if(a.length===0||u.length===a.length&&(!s.opts.unevaluated||s.props===!0))return;const l=o.strictSchema&&!o.allowMatchingProperties&&i.properties,c=t.name("valid");s.props!==!0&&!(s.props instanceof x1.Name)&&(s.props=(0,NB.evaluatedPropsToName)(t,s.props));const{props:f}=s;d();function d(){for(const g of a)l&&h(g),s.allErrors?p(g):(t.var(c,!0),p(g),t.if(c))}function h(g){for(const y in l)new RegExp(g).test(y)&&(0,RB.checkStrictMode)(s,`property ${y} matches pattern ${g} (use allowMatchingProperties)`)}function p(g){t.forIn("key",r,y=>{t.if((0,x1._)`${(0,PB.usePattern)(e,g)}.test(${y})`,()=>{const m=u.includes(g);m||e.subschema({keyword:"patternProperties",schemaProp:g,dataProp:y,dataPropType:NB.Type.Str},c),s.opts.unevaluated&&f!==!0?t.assign((0,x1._)`${f}[${y}]`,!0):!m&&!s.allErrors&&t.if((0,x1.not)(c),()=>t.break())})})}}};b$.default=RNe;var w$={};Object.defineProperty(w$,"__esModule",{value:!0});const NNe=mn,kNe={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:n,it:r}=e;if((0,NNe.alwaysValidSchema)(r,n)){e.fail();return}const i=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),e.failResult(i,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};w$.default=kNe;var E$={};Object.defineProperty(E$,"__esModule",{value:!0});const DNe=qt,$Ne={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:DNe.validateUnion,error:{message:"must match a schema in anyOf"}};E$.default=$Ne;var T$={};Object.defineProperty(T$,"__esModule",{value:!0});const Ob=Yt,LNe=mn,MNe={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,Ob._)`{passingSchemas: ${e.passing}}`},FNe={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:MNe,code(e){const{gen:t,schema:n,parentSchema:r,it:i}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(i.opts.discriminator&&r.discriminator)return;const s=n,o=t.let("valid",!1),a=t.let("passing",null),u=t.name("_valid");e.setParams({passing:a}),t.block(l),e.result(o,()=>e.reset(),()=>e.error(!0));function l(){s.forEach((c,f)=>{let d;(0,LNe.alwaysValidSchema)(i,c)?t.var(u,!0):d=e.subschema({keyword:"oneOf",schemaProp:f,compositeRule:!0},u),f>0&&t.if((0,Ob._)`${u} && ${o}`).assign(o,!1).assign(a,(0,Ob._)`[${a}, ${f}]`).else(),t.if(u,()=>{t.assign(o,!0),t.assign(a,f),d&&e.mergeEvaluated(d,Ob.Name)})})}}};T$.default=FNe;var S$={};Object.defineProperty(S$,"__esModule",{value:!0});const BNe=mn,jNe={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:n,it:r}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");const i=t.name("valid");n.forEach((s,o)=>{if((0,BNe.alwaysValidSchema)(r,s))return;const a=e.subschema({keyword:"allOf",schemaProp:o},i);e.ok(i),e.mergeEvaluated(a)})}};S$.default=jNe;var x$={};Object.defineProperty(x$,"__esModule",{value:!0});const yT=Yt,gZ=mn,UNe={message:({params:e})=>(0,yT.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,yT._)`{failingKeyword: ${e.ifClause}}`},VNe={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:UNe,code(e){const{gen:t,parentSchema:n,it:r}=e;n.then===void 0&&n.else===void 0&&(0,gZ.checkStrictMode)(r,'"if" without "then" and "else" is ignored');const i=kB(r,"then"),s=kB(r,"else");if(!i&&!s)return;const o=t.let("valid",!0),a=t.name("_valid");if(u(),e.reset(),i&&s){const c=t.let("ifClause");e.setParams({ifClause:c}),t.if(a,l("then",c),l("else",c))}else i?t.if(a,l("then")):t.if((0,yT.not)(a),l("else"));e.pass(o,()=>e.error(!0));function u(){const c=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);e.mergeEvaluated(c)}function l(c,f){return()=>{const d=e.subschema({keyword:c},a);t.assign(o,a),e.mergeValidEvaluated(d,o),f?t.assign(f,(0,yT._)`${c}`):e.setParams({ifClause:c})}}}};function kB(e,t){const n=e.schema[t];return n!==void 0&&!(0,gZ.alwaysValidSchema)(e,n)}x$.default=VNe;var I$={};Object.defineProperty(I$,"__esModule",{value:!0});const zNe=mn,HNe={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:n}){t.if===void 0&&(0,zNe.checkStrictMode)(n,`"${e}" without "if" is ignored`)}};I$.default=HNe;Object.defineProperty(p$,"__esModule",{value:!0});const WNe=Qm,qNe=m$,YNe=Xm,GNe=g$,KNe=y$,QNe=pZ,XNe=_$,JNe=Gx,ZNe=v$,eke=b$,tke=w$,nke=E$,rke=T$,ike=S$,ske=x$,oke=I$;function ake(e=!1){const t=[tke.default,nke.default,rke.default,ike.default,ske.default,oke.default,XNe.default,JNe.default,QNe.default,ZNe.default,eke.default];return e?t.push(qNe.default,GNe.default):t.push(WNe.default,YNe.default),t.push(KNe.default),t}p$.default=ake;var A$={},C$={};Object.defineProperty(C$,"__esModule",{value:!0});const Dr=Yt,uke={message:({schemaCode:e})=>(0,Dr.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,Dr._)`{format: ${e}}`},lke={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:uke,code(e,t){const{gen:n,data:r,$data:i,schema:s,schemaCode:o,it:a}=e,{opts:u,errSchemaPath:l,schemaEnv:c,self:f}=a;if(!u.validateFormats)return;i?d():h();function d(){const p=n.scopeValue("formats",{ref:f.formats,code:u.code.formats}),g=n.const("fDef",(0,Dr._)`${p}[${o}]`),y=n.let("fType"),m=n.let("format");n.if((0,Dr._)`typeof ${g} == "object" && !(${g} instanceof RegExp)`,()=>n.assign(y,(0,Dr._)`${g}.type || "string"`).assign(m,(0,Dr._)`${g}.validate`),()=>n.assign(y,(0,Dr._)`"string"`).assign(m,g)),e.fail$data((0,Dr.or)(_(),v()));function _(){return u.strictSchema===!1?Dr.nil:(0,Dr._)`${o} && !${m}`}function v(){const T=c.$async?(0,Dr._)`(${g}.async ? await ${m}(${r}) : ${m}(${r}))`:(0,Dr._)`${m}(${r})`,S=(0,Dr._)`(typeof ${m} == "function" ? ${T} : ${m}.test(${r}))`;return(0,Dr._)`${m} && ${m} !== true && ${y} === ${t} && !${S}`}}function h(){const p=f.formats[s];if(!p){_();return}if(p===!0)return;const[g,y,m]=v(p);g===t&&e.pass(T());function _(){if(u.strictSchema===!1){f.logger.warn(S());return}throw new Error(S());function S(){return`unknown format "${s}" ignored in schema at path "${l}"`}}function v(S){const w=S instanceof RegExp?(0,Dr.regexpCode)(S):u.code.formats?(0,Dr._)`${u.code.formats}${(0,Dr.getProperty)(s)}`:void 0,x=n.scopeValue("formats",{key:s,ref:S,code:w});return typeof S=="object"&&!(S instanceof RegExp)?[S.type||"string",S.validate,(0,Dr._)`${x}.validate`]:["string",S,x]}function T(){if(typeof p=="object"&&!(p instanceof RegExp)&&p.async){if(!c.$async)throw new Error("async format in sync schema");return(0,Dr._)`await ${m}(${r})`}return typeof y=="function"?(0,Dr._)`${m}(${r})`:(0,Dr._)`${m}.test(${r})`}}}};C$.default=lke;Object.defineProperty(A$,"__esModule",{value:!0});const cke=C$,fke=[cke.default];A$.default=fke;var dm={};Object.defineProperty(dm,"__esModule",{value:!0});dm.contentVocabulary=dm.metadataVocabulary=void 0;dm.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];dm.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(ZD,"__esModule",{value:!0});const dke=e$,hke=n$,pke=p$,mke=A$,DB=dm,gke=[dke.default,hke.default,(0,pke.default)(),mke.default,DB.metadataVocabulary,DB.contentVocabulary];ZD.default=gke;var O$={},yZ={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))})(yZ);Object.defineProperty(O$,"__esModule",{value:!0});const Vh=Yt,q2=yZ,$B=Ms,yke=mn,_ke={message:({params:{discrError:e,tagName:t}})=>e===q2.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:n}})=>(0,Vh._)`{error: ${e}, tag: ${n}, tagValue: ${t}}`},vke={keyword:"discriminator",type:"object",schemaType:"object",error:_ke,code(e){const{gen:t,data:n,schema:r,parentSchema:i,it:s}=e,{oneOf:o}=i;if(!s.opts.discriminator)throw new Error("discriminator: requires discriminator option");const a=r.propertyName;if(typeof a!="string")throw new Error("discriminator: requires propertyName");if(r.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");const u=t.let("valid",!1),l=t.const("tag",(0,Vh._)`${n}${(0,Vh.getProperty)(a)}`);t.if((0,Vh._)`typeof ${l} == "string"`,()=>c(),()=>e.error(!1,{discrError:q2.DiscrError.Tag,tag:l,tagName:a})),e.ok(u);function c(){const h=d();t.if(!1);for(const p in h)t.elseIf((0,Vh._)`${l} === ${p}`),t.assign(u,f(h[p]));t.else(),e.error(!1,{discrError:q2.DiscrError.Mapping,tag:l,tagName:a}),t.endIf()}function f(h){const p=t.name("valid"),g=e.subschema({keyword:"oneOf",schemaProp:h},p);return e.mergeEvaluated(g,Vh.Name),p}function d(){var h;const p={},g=m(i);let y=!0;for(let T=0;T<o.length;T++){let S=o[T];S!=null&&S.$ref&&!(0,yke.schemaHasRulesButRef)(S,s.self.RULES)&&(S=$B.resolveRef.call(s.self,s.schemaEnv.root,s.baseId,S==null?void 0:S.$ref),S instanceof $B.SchemaEnv&&(S=S.schema));const w=(h=S==null?void 0:S.properties)===null||h===void 0?void 0:h[a];if(typeof w!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);y=y&&(g||m(S)),_(w,T)}if(!y)throw new Error(`discriminator: "${a}" must be required`);return p;function m({required:T}){return Array.isArray(T)&&T.includes(a)}function _(T,S){if(T.const)v(T.const,S);else if(T.enum)for(const w of T.enum)v(w,S);else throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`)}function v(T,S){if(typeof T!="string"||T in p)throw new Error(`discriminator: "${a}" values must be unique strings`);p[T]=S}}}};O$.default=vke;const bke="http://json-schema.org/draft-07/schema#",wke="http://json-schema.org/draft-07/schema#",Eke="Core schema meta-schema",Tke={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},Ske=["object","boolean"],xke={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},Ike={$schema:bke,$id:wke,title:Eke,definitions:Tke,type:Ske,properties:xke,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const n=FJ,r=ZD,i=O$,s=Ike,o=["/properties"],a="http://json-schema.org/draft-07/schema";class u extends n.default{_addVocabularies(){super._addVocabularies(),r.default.forEach(p=>this.addVocabulary(p)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const p=this.opts.$data?this.$dataMetaSchema(s,o):s;this.addMetaSchema(p,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}e.exports=t=u,Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var l=Na;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return l.KeywordCxt}});var c=Yt;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return c._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return c.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return c.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return c.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return c.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return c.CodeGen}});var f=Q_;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return f.default}});var d=X_;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return d.default}})})(j2,j2.exports);var Ake=j2.exports;const _Z=ja(Ake),Cke="#/definitions/StudyConfig",Oke="http://json-schema.org/draft-07/schema#",Pke={Answer:{additionalProperties:!1,description:"The Answer interface is used to define the properties of an answer. Answers are used to define the correct answer for a task. These are generally used in training tasks.",properties:{acceptableHigh:{description:"The acceptable high value for the answer. This is used to define a range of acceptable answers.",type:"number"},acceptableLow:{description:"The acceptable low value for the answer. This is used to define a range of acceptable answers.",type:"number"},answer:{description:"The correct answer to the question."},id:{description:"The id of the answer. This is used to identify the answer in the data file.",type:"string"}},required:["id","answer"],type:"object"},CheckboxResponse:{additionalProperties:!1,description:"The CheckboxResponse interface is used to define the properties of a checkbox response. CheckboxResponses render as a checkbox input with user specified options.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},options:{description:"The options that are displayed as checkboxes.",items:{$ref:"#/definitions/Option"},type:"array"},paramCapture:{description:"Use to capture querystring parameters such as PROLIFIC_ID. See the examples for how this is used.",type:"string"},prompt:{description:"The prompt that is displayed to the participant.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"checkbox",type:"string"}},required:["id","location","options","prompt","required","type"],type:"object"},DropdownResponse:{additionalProperties:!1,description:"The DropdownResponse interface is used to define the properties of a dropdown response. DropdownResponses render as a select input with user specified options.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},options:{description:"The options that are displayed in the dropdown.",items:{$ref:"#/definitions/Option"},type:"array"},paramCapture:{description:"Use to capture querystring parameters such as PROLIFIC_ID. See the examples for how this is used.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"dropdown",type:"string"}},required:["id","location","options","prompt","required","type"],type:"object"},IFrameResponse:{additionalProperties:!1,description:"The IFrameResponse interface is used to define the properties of an iframe response. IFrameResponses render as a list, that is connected to a WebsiteComponent. When data is sent from the WebsiteComponent, it is displayed in the list.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},paramCapture:{description:"Use to capture querystring parameters such as PROLIFIC_ID. See the examples for how this is used.",type:"string"},prompt:{description:"The prompt that is displayed to the participant.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"iframe",type:"string"}},required:["id","location","prompt","required","type"],type:"object"},ImageComponent:{additionalProperties:!1,description:"The ImageComponent interface is used to define the properties of an image component. This component is used to render an image with optional styling.",properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},path:{description:"The path to the image. This should be a relative path from the public folder.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},style:{additionalProperties:{type:"string"},description:"The style of the image. This is an object with css properties as keys and css values as values.",type:"object"},type:{const:"image",type:"string"}},required:["path","response","type"],type:"object"},IndividualComponent:{anyOf:[{$ref:"#/definitions/MarkdownComponent"},{$ref:"#/definitions/ReactComponent"},{$ref:"#/definitions/ImageComponent"},{$ref:"#/definitions/WebsiteComponent"},{$ref:"#/definitions/QuestionnaireComponent"}]},InheritedComponent:{additionalProperties:!1,description:"An InheritedComponent is a component that inherits properties from a baseComponent. This is used to avoid repeating properties in components. This also means that components in the baseComponents object can be partially defined, while components in the components object can inherit from them and must be fully defined and include all properties (after potentially merging with a base component).",properties:{baseComponent:{type:"string"},correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{anyOf:[{additionalProperties:{},description:"The parameters that are passed to the react component. These can be used within your react component to render different things.",type:"object"},{additionalProperties:{},description:"The parameters that are passed to the website (iframe). These can be used within your website to render different things.",type:"object"}],description:"The parameters that are passed to the react component. These can be used within your react component to render different things."},path:{description:"The path to the markdown file. This should be a relative path from the public folder.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},style:{additionalProperties:{type:"string"},description:"The style of the image. This is an object with css properties as keys and css values as values.",type:"object"},type:{enum:["markdown","react-component","image","website","questionnaire"],type:"string"}},required:["baseComponent"],type:"object"},LikertResponse:{additionalProperties:!1,description:"The LikertResponse interface is used to define the properties of a likert response. LikertResponses render as radio buttons with a user specified number of options, which can be controlled through the preset. For example, preset: 5 will render 5 radio buttons, and preset: 7 will render 7 radio buttons. LikertResponses can also have a description, and left and right labels. The left and right labels are used to label the left and right ends of the likert scale with values such as 'Strongly Disagree' and 'Strongly Agree'.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},desc:{description:"The description of the likert scale.",type:"string"},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},leftLabel:{description:"The left label of the likert scale. E.g Strongly Disagree",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},paramCapture:{description:"Use to capture querystring parameters such as PROLIFIC_ID. See the examples for how this is used.",type:"string"},preset:{description:"The number of options to render.",type:"number"},prompt:{description:"The prompt that is displayed to the participant.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},rightLabel:{description:"The right label of the likert scale. E.g Strongly Agree",type:"string"},type:{const:"likert",type:"string"}},required:["id","location","preset","prompt","required","type"],type:"object"},LongTextResponse:{additionalProperties:!1,description:"The LongTextResponse interface is used to define the properties of a long text response. LongTextResponses render as a text area that accepts any text and can optionally have a placeholder.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},paramCapture:{description:"Use to capture querystring parameters such as PROLIFIC_ID. See the examples for how this is used.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"longText",type:"string"}},required:["id","location","prompt","required","type"],type:"object"},MarkdownComponent:{additionalProperties:!1,description:"The MarkdownComponent interface is used to define the properties of a markdown component. The components can be used to render many different things, such as consent forms, instructions, and debriefs. Additionally, you can use the markdown component to render images, videos, and other media, with supporting text.",properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},path:{description:"The path to the markdown file. This should be a relative path from the public folder.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},type:{const:"markdown",type:"string"}},required:["path","response","type"],type:"object"},NumericalResponse:{additionalProperties:!1,description:"The NumericalResponse interface is used to define the properties of a numerical response. NumericalResponses render as a text input that only accepts numbers, and can optionally have a min and max value, or a placeholder.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},max:{description:"The maximum value that is accepted in the input.",type:"number"},min:{description:"The minimum value that is accepted in the input.",type:"number"},paramCapture:{description:"Use to capture querystring parameters such as PROLIFIC_ID. See the examples for how this is used.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"numerical",type:"string"}},required:["id","location","prompt","required","type"],type:"object"},Option:{additionalProperties:!1,description:"The Option interface is used to define the options for a dropdown, slider, radio, or checkbox response. The label is the text that is displayed to the user, and the value is the value that is stored in the data file. The Option interface is used in the Response interface.",properties:{label:{description:"The label displayed to participants.",type:"string"},value:{description:"The value stored in the participant's data.",type:["string","number"]}},required:["label","value"],type:"object"},OrderObject:{additionalProperties:!1,description:"The OrderObject interface is used to define the properties of an order object. This is used to define the order of components in a study. It supports random assignment of trials using a pure random assignment and a latin square.",properties:{components:{description:"The components that are included in the order.",items:{anyOf:[{type:"string"},{$ref:"#/definitions/OrderObject"}]},type:"array"},numSamples:{description:"The number of samples to use for the random assignments. This means you can randomize across 3 components while only showing a participant 2 at a time.",type:"number"},order:{description:"The type of order. This can be random (pure random), latinSquare (random with some guarantees), or fixed.",enum:["random","latinSquare","fixed"],type:"string"}},required:["order","components"],type:"object"},QuestionnaireComponent:{additionalProperties:!1,description:"The QuestionnaireComponent interface is used to define the properties of a questionnaire component. A QuestionnaireComponent is used to render questions with different response types. The response types are also defined with these documentation. The main use case of this component type is to ask participants questions, without using markdown, websites, images, etc.",properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},type:{const:"questionnaire",type:"string"}},required:["response","type"],type:"object"},RadioResponse:{additionalProperties:!1,description:"The RadioResponse interface is used to define the properties of a radio response. RadioResponses render as a radio input with user specified options, and optionally left and right labels.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},leftLabel:{type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},options:{items:{$ref:"#/definitions/Option"},type:"array"},paramCapture:{description:"Use to capture querystring parameters such as PROLIFIC_ID. See the examples for how this is used.",type:"string"},prompt:{description:"The prompt that is displayed to the participant.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},rightLabel:{type:"string"},type:{const:"radio",type:"string"}},required:["id","location","options","prompt","required","type"],type:"object"},ReactComponent:{additionalProperties:!1,description:"The ReactComponent interface is used to define the properties of a react component. This component is used to render react code with certain parameters. These parameters can be used within your react code to render different things.",properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{additionalProperties:{},description:"The parameters that are passed to the react component. These can be used within your react component to render different things.",type:"object"},path:{description:"The path to the react component. This should be a relative path from the src/public folder.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},type:{const:"react-component",type:"string"}},required:["path","response","type"],type:"object"},Response:{anyOf:[{$ref:"#/definitions/NumericalResponse"},{$ref:"#/definitions/ShortTextResponse"},{$ref:"#/definitions/LongTextResponse"},{$ref:"#/definitions/LikertResponse"},{$ref:"#/definitions/DropdownResponse"},{$ref:"#/definitions/SliderResponse"},{$ref:"#/definitions/RadioResponse"},{$ref:"#/definitions/CheckboxResponse"},{$ref:"#/definitions/IFrameResponse"}]},ResponseBlockLocation:{enum:["sidebar","aboveStimulus","belowStimulus"],type:"string"},ShortTextResponse:{additionalProperties:!1,description:"The ShortTextResponse interface is used to define the properties of a short text response. ShortTextResponses render as a text input that accepts any text and can optionally have a placeholder.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},paramCapture:{description:"Use to capture querystring parameters such as PROLIFIC_ID. See the examples for how this is used.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"shortText",type:"string"}},required:["id","location","prompt","required","type"],type:"object"},SliderResponse:{additionalProperties:!1,description:"The SliderResponse interface is used to define the properties of a slider response. SliderResponses render as a slider input with user specified steps. For example, you could have steps of 0, 50, and 100.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},options:{description:"This define the steps in the slider and the extent of the slider.",items:{$ref:"#/definitions/Option"},type:"array"},paramCapture:{description:"Use to capture querystring parameters such as PROLIFIC_ID. See the examples for how this is used.",type:"string"},prompt:{description:"The prompt that is displayed to the participant.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"slider",type:"string"}},required:["id","location","options","prompt","required","type"],type:"object"},StudyConfig:{additionalProperties:!1,description:"The StudyConfig interface is used to define the properties of a study configuration. These are the hjson files that live in the public folder. In our repo, one example of this would be public/cleveland/config-cleveland.hjson.",properties:{$schema:{description:"A required json schema property. This should point to the github link for the version of the schema you would like. See examples for more information",type:"string"},baseComponents:{additionalProperties:{anyOf:[{$ref:"#/definitions/IndividualComponent"},{additionalProperties:!1,properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{anyOf:[{additionalProperties:{},description:"The parameters that are passed to the react component. These can be used within your react component to render different things.",type:"object"},{additionalProperties:{},description:"The parameters that are passed to the website (iframe). These can be used within your website to render different things.",type:"object"}],description:"The parameters that are passed to the react component. These can be used within your react component to render different things."},path:{description:"The path to the markdown file. This should be a relative path from the public folder.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},style:{additionalProperties:{type:"string"},description:"The style of the image. This is an object with css properties as keys and css values as values.",type:"object"},type:{enum:["markdown","react-component","image","website","questionnaire"],type:"string"}},type:"object"}]},description:"The components that are used in the study (baseComponents allow PartialComponents which allows for inheriting from them in components).",type:"object"},components:{additionalProperties:{anyOf:[{$ref:"#/definitions/IndividualComponent"},{$ref:"#/definitions/InheritedComponent"}]},description:"The components that are used in the study. They must be fully defined here with all properties. Some properties may be inherited from baseComponents.",type:"object"},sequence:{$ref:"#/definitions/OrderObject",description:"The order of the components in the study. This might include some randomness."},studyMetadata:{$ref:"#/definitions/StudyMetadata",description:"The metadata for the study. This is used to identify the study and version in the data file."},uiConfig:{$ref:"#/definitions/UIConfig",description:"The UI configuration for the study. This is used to configure the UI of the app."}},required:["$schema","studyMetadata","uiConfig","components","sequence"],type:"object"},StudyMetadata:{additionalProperties:!1,description:"The StudyMetadata is used to describe certain properties of a study. Some of this data is displayed on the landing page when running the app, such as the title and description. This data is also included in the data file that is downloaded at the end of the study, to help identify the study and version.",properties:{authors:{description:"The authors of your study.",items:{type:"string"},type:"array"},date:{description:"The date of your study, may be useful for the researcher.",type:"string"},description:{description:"The description of your study, shown on the landing page.",type:"string"},organizations:{description:"The organizations that are associated with your study.",items:{type:"string"},type:"array"},title:{description:"The title of your study, shown on the landing page.",type:"string"},version:{description:"The version of your study, shown on the landing page and attached to participant data. This might be useful for seeing which version of the study a participant saw.",type:"string"}},required:["title","version","authors","date","description","organizations"],type:"object"},UIConfig:{additionalProperties:!1,description:"The UIConfig is used to configure the UI of the app. This includes the logo, contact email, and whether to show a progress bar. The UIConfig is also used to configure the sidebar, which can be used to display the task instructions and capture responses.",properties:{autoDownloadStudy:{description:"Controls whether the study data is automatically downloaded at the end of the study.",type:"boolean"},autoDownloadTime:{description:"The time in milliseconds to wait before automatically downloading the study data.",type:"number"},contactEmail:{description:"The email address that used during the study if a participant clicks contact.",type:"string"},helpTextPath:{description:"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported.",type:"string"},logoPath:{description:"The path to the logo image. This is displayed on the landing page and the header.",type:"string"},sidebar:{description:"Controls whether the left sidebar is rendered at all. Required to be true if your response's location is set to sidebar for any question.",type:"boolean"},studyEndMsg:{description:"The message to display when the study ends.",type:"string"},windowEventDebounceTime:{description:"Debounce time in milliseconds for automatically tracked window events. Defaults to 100. E.g 100 here means 1000ms / 100ms = 10 times a second, 200 here means 1000ms / 200ms = 5 times per second",type:"number"},withProgressBar:{description:"Controls whether the progress bar is rendered in the study.",type:"boolean"}},required:["contactEmail","logoPath","withProgressBar","sidebar"],type:"object"},WebsiteComponent:{additionalProperties:!1,description:"The WebsiteComponent interface is used to define the properties of a website component. A WebsiteComponent is used to render an iframe with a website inside of it. This can be used to display an external website or an html file that is located in the public folder.",properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{additionalProperties:{},description:"The parameters that are passed to the website (iframe). These can be used within your website to render different things.",type:"object"},path:{description:"The path to the website. This should be a relative path from the public folder or could be an external website.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},type:{const:"website",type:"string"}},required:["path","response","type"],type:"object"}},Rke={$ref:Cke,$schema:Oke,definitions:Pke},Nke="#/definitions/GlobalConfig",kke="http://json-schema.org/draft-07/schema#",Dke={GlobalConfig:{additionalProperties:!1,description:"The GlobalConfig is used to generate the list of available studies in the UI. This list is displayed on the landing page when running the app.",properties:{$schema:{description:"A required json schema property. This should point to the github link for the version of the schema you would like. See examples for more information",type:"string"},configs:{additionalProperties:{additionalProperties:!1,description:"The key is used to identify the study config file. This key is used in the configList property.",properties:{path:{description:"The path to the study config file. This should be a relative path from the public folder.",type:"string"}},required:["path"],type:"object"},description:"A required property that specifies the options for the configList property.",type:"object"},configsList:{description:"A required property that is used to generate the list of available studies in the UI. This list is displayed on the landing page when running the app.",items:{type:"string"},type:"array"}},required:["$schema","configs","configsList"],type:"object"}},$ke={$ref:Nke,$schema:kke,definitions:Dke},vZ=new _Z;vZ.addSchema($ke);const LB=vZ.getSchema("#/definitions/GlobalConfig"),bZ=new _Z;bZ.addSchema(Rke);const MB=bZ.getSchema("#/definitions/StudyConfig");function Lke(e){const t=[];return[e.configsList.every(r=>e.configs[r]===void 0?(t.push({message:`Config ${r} is not defined in configs object, but is present in configsList`}),!1):!0),t]}function Kx(e){return e.baseComponent!==void 0}function Mke(e){const t=HD.parse(e),n=LB(t),r=Lke(t);if(n&&r[0])return t;throw console.error("Global config parsing errors",[...LB.errors||[],...r[1]]),Error("There was an issue validating your file global.hjson")}function Fke(e){const t=[];return[Object.values(e.components).every(r=>{var i;return Kx(r)?!!((i=e.baseComponents)!=null&&i[r.baseComponent]):!0}),t]}function wZ(e,t){const n=HD.parse(e),r=MB(n),i=Fke(n);if(r&&i[0])return n;throw console.error(`${t} parsing errors`,[...MB.errors||[],...i[1]]),Error(`There was an issue validating your file ${t}`)}function xa(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function mf(e){return!!e&&!!e[ur]}function Fl(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===Yke}(e)||Array.isArray(e)||!!e[HB]||!!(!((t=e.constructor)===null||t===void 0)&&t[HB])||P$(e)||R$(e))}function Yd(e,t,n){n===void 0&&(n=!1),Jm(e)===0?(n?Object.keys:kp)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function Jm(e){var t=e[ur];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:P$(e)?2:R$(e)?3:0}function Np(e,t){return Jm(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Bke(e,t){return Jm(e)===2?e.get(t):e[t]}function EZ(e,t,n){var r=Jm(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function TZ(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function P$(e){return Wke&&e instanceof Map}function R$(e){return qke&&e instanceof Set}function Jf(e){return e.o||e.t}function N$(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=xZ(e);delete t[ur];for(var n=kp(t),r=0;r<n.length;r++){var i=n[r],s=t[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function k$(e,t){return t===void 0&&(t=!1),D$(e)||mf(e)||!Fl(e)||(Jm(e)>1&&(e.set=e.add=e.clear=e.delete=jke),Object.freeze(e),t&&Yd(e,function(n,r){return k$(r,!0)},!0)),e}function jke(){xa(2)}function D$(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Tu(e){var t=Q2[e];return t||xa(18,e),t}function Uke(e,t){Q2[e]||(Q2[e]=t)}function Y2(){return Vy}function UC(e,t){t&&(Tu("Patches"),e.u=[],e.s=[],e.v=t)}function _T(e){G2(e),e.p.forEach(Vke),e.p=null}function G2(e){e===Vy&&(Vy=e.l)}function FB(e){return Vy={p:[],l:Vy,h:e,m:!0,_:0}}function Vke(e){var t=e[ur];t.i===0||t.i===1?t.j():t.O=!0}function VC(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.g||Tu("ES5").S(t,e,r),r?(n[ur].P&&(_T(t),xa(4)),Fl(e)&&(e=vT(t,e),t.l||bT(t,e)),t.u&&Tu("Patches").M(n[ur].t,e,t.u,t.s)):e=vT(t,n,[]),_T(t),t.u&&t.v(t.u,t.s),e!==SZ?e:void 0}function vT(e,t,n){if(D$(t))return t;var r=t[ur];if(!r)return Yd(t,function(a,u){return BB(e,r,t,a,u,n)},!0),t;if(r.A!==e)return t;if(!r.P)return bT(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=N$(r.k):r.o,s=i,o=!1;r.i===3&&(s=new Set(i),i.clear(),o=!0),Yd(s,function(a,u){return BB(e,r,i,a,u,n,o)}),bT(e,i,!1),n&&e.u&&Tu("Patches").N(r,n,e.u,e.s)}return r.o}function BB(e,t,n,r,i,s,o){if(mf(i)){var a=vT(e,i,s&&t&&t.i!==3&&!Np(t.R,r)?s.concat(r):void 0);if(EZ(n,r,a),!mf(a))return;e.m=!1}else o&&n.add(i);if(Fl(i)&&!D$(i)){if(!e.h.D&&e._<1)return;vT(e,i),t&&t.A.l||bT(e,i)}}function bT(e,t,n){n===void 0&&(n=!1),!e.l&&e.h.D&&e.m&&k$(t,n)}function zC(e,t){var n=e[ur];return(n?Jf(n):e)[t]}function jB(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Pc(e){e.P||(e.P=!0,e.l&&Pc(e.l))}function HC(e){e.o||(e.o=N$(e.t))}function K2(e,t,n){var r=P$(t)?Tu("MapSet").F(t,n):R$(t)?Tu("MapSet").T(t,n):e.g?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:Y2(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},u=a,l=zy;o&&(u=[a],l=b0);var c=Proxy.revocable(u,l),f=c.revoke,d=c.proxy;return a.k=d,a.j=f,d}(t,n):Tu("ES5").J(t,n);return(n?n.A:Y2()).p.push(r),r}function zke(e){return mf(e)||xa(22,e),function t(n){if(!Fl(n))return n;var r,i=n[ur],s=Jm(n);if(i){if(!i.P&&(i.i<4||!Tu("ES5").K(i)))return i.t;i.I=!0,r=UB(n,s),i.I=!1}else r=UB(n,s);return Yd(r,function(o,a){i&&Bke(i.t,o)===a||EZ(r,o,t(a))}),s===3?new Set(r):r}(e)}function UB(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return N$(e)}function Hke(){function e(s,o){var a=i[s];return a?a.enumerable=o:i[s]=a={configurable:!0,enumerable:o,get:function(){var u=this[ur];return zy.get(u,s)},set:function(u){var l=this[ur];zy.set(l,s,u)}},a}function t(s){for(var o=s.length-1;o>=0;o--){var a=s[o][ur];if(!a.P)switch(a.i){case 5:r(a)&&Pc(a);break;case 4:n(a)&&Pc(a)}}}function n(s){for(var o=s.t,a=s.k,u=kp(a),l=u.length-1;l>=0;l--){var c=u[l];if(c!==ur){var f=o[c];if(f===void 0&&!Np(o,c))return!0;var d=a[c],h=d&&d[ur];if(h?h.t!==f:!TZ(d,f))return!0}}var p=!!o[ur];return u.length!==kp(o).length+(p?0:1)}function r(s){var o=s.k;if(o.length!==s.t.length)return!0;var a=Object.getOwnPropertyDescriptor(o,o.length-1);if(a&&!a.get)return!0;for(var u=0;u<o.length;u++)if(!o.hasOwnProperty(u))return!0;return!1}var i={};Uke("ES5",{J:function(s,o){var a=Array.isArray(s),u=function(c,f){if(c){for(var d=Array(f.length),h=0;h<f.length;h++)Object.defineProperty(d,""+h,e(h,!0));return d}var p=xZ(f);delete p[ur];for(var g=kp(p),y=0;y<g.length;y++){var m=g[y];p[m]=e(m,c||!!p[m].enumerable)}return Object.create(Object.getPrototypeOf(f),p)}(a,s),l={i:a?5:4,A:o?o.A:Y2(),P:!1,I:!1,R:{},l:o,t:s,k:u,o:null,O:!1,C:!1};return Object.defineProperty(u,ur,{value:l,writable:!0}),u},S:function(s,o,a){a?mf(o)&&o[ur].A===s&&t(s.p):(s.u&&function u(l){if(l&&typeof l=="object"){var c=l[ur];if(c){var f=c.t,d=c.k,h=c.R,p=c.i;if(p===4)Yd(d,function(v){v!==ur&&(f[v]!==void 0||Np(f,v)?h[v]||u(d[v]):(h[v]=!0,Pc(c)))}),Yd(f,function(v){d[v]!==void 0||Np(d,v)||(h[v]=!1,Pc(c))});else if(p===5){if(r(c)&&(Pc(c),h.length=!0),d.length<f.length)for(var g=d.length;g<f.length;g++)h[g]=!1;else for(var y=f.length;y<d.length;y++)h[y]=!0;for(var m=Math.min(d.length,f.length),_=0;_<m;_++)d.hasOwnProperty(_)||(h[_]=!0),h[_]===void 0&&u(d[_])}}}}(s.p[0]),t(s.p))},K:function(s){return s.i===4?n(s):r(s)}})}var VB,Vy,$$=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Wke=typeof Map<"u",qke=typeof Set<"u",zB=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",SZ=$$?Symbol.for("immer-nothing"):((VB={})["immer-nothing"]=!0,VB),HB=$$?Symbol.for("immer-draftable"):"__$immer_draftable",ur=$$?Symbol.for("immer-state"):"__$immer_state",Yke=""+Object.prototype.constructor,kp=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,xZ=Object.getOwnPropertyDescriptors||function(e){var t={};return kp(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},Q2={},zy={get:function(e,t){if(t===ur)return e;var n=Jf(e);if(!Np(n,t))return function(i,s,o){var a,u=jB(s,o);return u?"value"in u?u.value:(a=u.get)===null||a===void 0?void 0:a.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!Fl(r)?r:r===zC(e.t,t)?(HC(e),e.o[t]=K2(e.A.h,r,e)):r},has:function(e,t){return t in Jf(e)},ownKeys:function(e){return Reflect.ownKeys(Jf(e))},set:function(e,t,n){var r=jB(Jf(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=zC(Jf(e),t),s=i==null?void 0:i[ur];if(s&&s.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(TZ(n,i)&&(n!==void 0||Np(e.t,t)))return!0;HC(e),Pc(e)}return e.o[t]===n&&(n!==void 0||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return zC(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,HC(e),Pc(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Jf(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){xa(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){xa(12)}},b0={};Yd(zy,function(e,t){b0[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),b0.deleteProperty=function(e,t){return b0.set.call(this,e,t,void 0)},b0.set=function(e,t,n){return zy.set.call(this,e[0],t,n,e[0])};var Gke=function(){function e(n){var r=this;this.g=zB,this.D=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var u=r;return function(g){var y=this;g===void 0&&(g=a);for(var m=arguments.length,_=Array(m>1?m-1:0),v=1;v<m;v++)_[v-1]=arguments[v];return u.produce(g,function(T){var S;return(S=s).call.apply(S,[y,T].concat(_))})}}var l;if(typeof s!="function"&&xa(6),o!==void 0&&typeof o!="function"&&xa(7),Fl(i)){var c=FB(r),f=K2(r,i,void 0),d=!0;try{l=s(f),d=!1}finally{d?_T(c):G2(c)}return typeof Promise<"u"&&l instanceof Promise?l.then(function(g){return UC(c,o),VC(g,c)},function(g){throw _T(c),g}):(UC(c,o),VC(l,c))}if(!i||typeof i!="object"){if((l=s(i))===void 0&&(l=i),l===SZ&&(l=void 0),r.D&&k$(l,!0),o){var h=[],p=[];Tu("Patches").M(i,l,h,p),o(h,p)}return l}xa(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(l){for(var c=arguments.length,f=Array(c>1?c-1:0),d=1;d<c;d++)f[d-1]=arguments[d];return r.produceWithPatches(l,function(h){return i.apply(void 0,[h].concat(f))})};var o,a,u=r.produce(i,s,function(l,c){o=l,a=c});return typeof Promise<"u"&&u instanceof Promise?u.then(function(l){return[l,o,a]}):[u,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){Fl(n)||xa(8),mf(n)&&(n=zke(n));var r=FB(this),i=K2(this,n,void 0);return i[ur].C=!0,G2(r),i},t.finishDraft=function(n,r){var i=n&&n[ur],s=i.A;return UC(s,r),VC(void 0,s)},t.setAutoFreeze=function(n){this.D=n},t.setUseProxies=function(n){n&&!zB&&xa(20),this.g=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=Tu("Patches").$;return mf(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},e}(),wo=new Gke,IZ=wo.produce;wo.produceWithPatches.bind(wo);wo.setAutoFreeze.bind(wo);wo.setUseProxies.bind(wo);wo.applyPatches.bind(wo);wo.createDraft.bind(wo);wo.finishDraft.bind(wo);function Hy(e){"@babel/helpers - typeof";return Hy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hy(e)}function Kke(e,t){if(Hy(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Hy(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qke(e){var t=Kke(e,"string");return Hy(t)==="symbol"?t:String(t)}function Xke(e,t,n){return t=Qke(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WB(Object(n),!0).forEach(function(r){Xke(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Yi(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var YB=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),WC=function(){return Math.random().toString(36).substring(7).split("").join(".")},wT={INIT:"@@redux/INIT"+WC(),REPLACE:"@@redux/REPLACE"+WC(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+WC()}};function Jke(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function AZ(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Yi(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Yi(1));return n(AZ)(e,t)}if(typeof e!="function")throw new Error(Yi(2));var i=e,s=t,o=[],a=o,u=!1;function l(){a===o&&(a=o.slice())}function c(){if(u)throw new Error(Yi(3));return s}function f(g){if(typeof g!="function")throw new Error(Yi(4));if(u)throw new Error(Yi(5));var y=!0;return l(),a.push(g),function(){if(y){if(u)throw new Error(Yi(6));y=!1,l();var _=a.indexOf(g);a.splice(_,1),o=null}}}function d(g){if(!Jke(g))throw new Error(Yi(7));if(typeof g.type>"u")throw new Error(Yi(8));if(u)throw new Error(Yi(9));try{u=!0,s=i(s,g)}finally{u=!1}for(var y=o=a,m=0;m<y.length;m++){var _=y[m];_()}return g}function h(g){if(typeof g!="function")throw new Error(Yi(10));i=g,d({type:wT.REPLACE})}function p(){var g,y=f;return g={subscribe:function(_){if(typeof _!="object"||_===null)throw new Error(Yi(11));function v(){_.next&&_.next(c())}v();var T=y(v);return{unsubscribe:T}}},g[YB]=function(){return this},g}return d({type:wT.INIT}),r={dispatch:d,subscribe:f,getState:c,replaceReducer:h},r[YB]=p,r}function Zke(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:wT.INIT});if(typeof r>"u")throw new Error(Yi(12));if(typeof n(void 0,{type:wT.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Yi(13))})}function eDe(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];typeof e[i]=="function"&&(n[i]=e[i])}var s=Object.keys(n),o;try{Zke(n)}catch(a){o=a}return function(u,l){if(u===void 0&&(u={}),o)throw o;for(var c=!1,f={},d=0;d<s.length;d++){var h=s[d],p=n[h],g=u[h],y=p(g,l);if(typeof y>"u")throw l&&l.type,new Error(Yi(14));f[h]=y,c=c||y!==g}return c=c||s.length!==Object.keys(u).length,c?f:u}}function ET(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function tDe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(Yi(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=t.map(function(u){return u(o)});return s=ET.apply(void 0,a)(i.dispatch),qB(qB({},i),{},{dispatch:s})}}}function CZ(e){var t=function(r){var i=r.dispatch,s=r.getState;return function(o){return function(a){return typeof a=="function"?a(i,s,e):o(a)}}};return t}var OZ=CZ();OZ.withExtraArgument=CZ;const GB=OZ;var nDe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Z_=function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){n.label=l[1];break}if(l[0]===6&&n.label<s[1]){n.label=s[1],s=l;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(l);break}s[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(c){l=[6,c],i=0}finally{r=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},Wy=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},rDe=Object.defineProperty,iDe=Object.defineProperties,sDe=Object.getOwnPropertyDescriptors,KB=Object.getOwnPropertySymbols,oDe=Object.prototype.hasOwnProperty,aDe=Object.prototype.propertyIsEnumerable,QB=function(e,t,n){return t in e?rDe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},nf=function(e,t){for(var n in t||(t={}))oDe.call(t,n)&&QB(e,n,t[n]);if(KB)for(var r=0,i=KB(t);r<i.length;r++){var n=i[r];aDe.call(t,n)&&QB(e,n,t[n])}return e},qC=function(e,t){return iDe(e,sDe(t))},ev=function(e,t,n){return new Promise(function(r,i){var s=function(u){try{a(n.next(u))}catch(l){i(l)}},o=function(u){try{a(n.throw(u))}catch(l){i(l)}},a=function(u){return u.done?r(u.value):Promise.resolve(u.value).then(s,o)};a((n=n.apply(e,t)).next())})},uDe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ET:ET.apply(null,arguments)};function lDe(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var n=t;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return t===n}var cDe=function(e){nDe(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,Wy([void 0],n[0].concat(this)))):new(t.bind.apply(t,Wy([void 0],n.concat(this))))},t}(Array);function X2(e){return Fl(e)?IZ(e,function(){}):e}function fDe(e){return typeof e=="boolean"}function dDe(){return function(t){return hDe(t)}}function hDe(e){e===void 0&&(e={});var t=e.thunk,n=t===void 0?!0:t;e.immutableCheck,e.serializableCheck;var r=new cDe;return n&&(fDe(n)?r.push(GB):r.push(GB.withExtraArgument(n.extraArgument))),r}var pDe=!0;function PZ(e){var t=dDe(),n=e||{},r=n.reducer,i=r===void 0?void 0:r,s=n.middleware,o=s===void 0?t():s,a=n.devTools,u=a===void 0?!0:a,l=n.preloadedState,c=l===void 0?void 0:l,f=n.enhancers,d=f===void 0?void 0:f,h;if(typeof i=="function")h=i;else if(lDe(i))h=eDe(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var p=o;typeof p=="function"&&(p=p(t));var g=tDe.apply(void 0,p),y=ET;u&&(y=uDe(nf({trace:!pDe},typeof u=="object"&&u)));var m=[g];Array.isArray(d)?m=Wy([g],d):typeof d=="function"&&(m=d(m));var _=y.apply(void 0,m);return AZ(h,c,_)}function Su(e,t){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(t){var s=t.apply(void 0,r);if(!s)throw new Error("prepareAction did not return an object");return nf(nf({type:e,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:e,payload:r[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(r){return r.type===e},n}function RZ(e){var t={},n=[],r,i={addCase:function(s,o){var a=typeof s=="string"?s:s.type;if(a in t)throw new Error("addCase cannot be called with two reducers for the same action type");return t[a]=o,i},addMatcher:function(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase:function(s){return r=s,i}};return e(i),[t,n,r]}function mDe(e){return typeof e=="function"}function gDe(e,t,n,r){n===void 0&&(n=[]);var i=typeof t=="function"?RZ(t):[t,n,r],s=i[0],o=i[1],a=i[2],u;if(mDe(e))u=function(){return X2(e())};else{var l=X2(e);u=function(){return l}}function c(f,d){f===void 0&&(f=u());var h=Wy([s[d.type]],o.filter(function(p){var g=p.matcher;return g(d)}).map(function(p){var g=p.reducer;return g}));return h.filter(function(p){return!!p}).length===0&&(h=[a]),h.reduce(function(p,g){if(g)if(mf(p)){var y=p,m=g(y,d);return m===void 0?p:m}else{if(Fl(p))return IZ(p,function(_){return g(_,d)});var m=g(p,d);if(m===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}return p},f)}return c.getInitialState=u,c}function yDe(e,t){return e+"/"+t}function NZ(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof e.initialState=="function"?e.initialState:X2(e.initialState),r=e.reducers||{},i=Object.keys(r),s={},o={},a={};i.forEach(function(c){var f=r[c],d=yDe(t,c),h,p;"reducer"in f?(h=f.reducer,p=f.prepare):h=f,s[c]=h,o[d]=h,a[c]=p?Su(d,p):Su(d)});function u(){var c=typeof e.extraReducers=="function"?RZ(e.extraReducers):[e.extraReducers],f=c[0],d=f===void 0?{}:f,h=c[1],p=h===void 0?[]:h,g=c[2],y=g===void 0?void 0:g,m=nf(nf({},d),o);return gDe(n,function(_){for(var v in m)_.addCase(v,m[v]);for(var T=0,S=p;T<S.length;T++){var w=S[T];_.addMatcher(w.matcher,w.reducer)}y&&_.addDefaultCase(y)})}var l;return{name:t,reducer:function(c,f){return l||(l=u()),l(c,f)},actions:a,caseReducers:s,getInitialState:function(){return l||(l=u()),l.getInitialState()}}}var _De="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",kZ=function(e){e===void 0&&(e=21);for(var t="",n=e;n--;)t+=_De[Math.random()*64|0];return t},vDe=["name","message","stack","code"],YC=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),XB=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),bDe=function(e){if(typeof e=="object"&&e!==null){for(var t={},n=0,r=vDe;n<r.length;n++){var i=r[n];typeof e[i]=="string"&&(t[i]=e[i])}return t}return{message:String(e)}};(function(){function e(t,n,r){var i=Su(t+"/fulfilled",function(l,c,f,d){return{payload:l,meta:qC(nf({},d||{}),{arg:f,requestId:c,requestStatus:"fulfilled"})}}),s=Su(t+"/pending",function(l,c,f){return{payload:void 0,meta:qC(nf({},f||{}),{arg:c,requestId:l,requestStatus:"pending"})}}),o=Su(t+"/rejected",function(l,c,f,d,h){return{payload:d,error:(r&&r.serializeError||bDe)(l||"Rejected"),meta:qC(nf({},h||{}),{arg:f,requestId:c,rejectedWithValue:!!d,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function l(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return l.prototype.abort=function(){},l}();function u(l){return function(c,f,d){var h=r!=null&&r.idGenerator?r.idGenerator(l):kZ(),p=new a,g;function y(_){g=_,p.abort()}var m=function(){return ev(this,null,function(){var _,v,T,S,w,x,A;return Z_(this,function($){switch($.label){case 0:return $.trys.push([0,4,,5]),S=(_=r==null?void 0:r.condition)==null?void 0:_.call(r,l,{getState:f,extra:d}),EDe(S)?[4,S]:[3,2];case 1:S=$.sent(),$.label=2;case 2:if(S===!1||p.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return w=new Promise(function(D,P){return p.signal.addEventListener("abort",function(){return P({name:"AbortError",message:g||"Aborted"})})}),c(s(h,l,(v=r==null?void 0:r.getPendingMeta)==null?void 0:v.call(r,{requestId:h,arg:l},{getState:f,extra:d}))),[4,Promise.race([w,Promise.resolve(n(l,{dispatch:c,getState:f,extra:d,requestId:h,signal:p.signal,abort:y,rejectWithValue:function(D,P){return new YC(D,P)},fulfillWithValue:function(D,P){return new XB(D,P)}})).then(function(D){if(D instanceof YC)throw D;return D instanceof XB?i(D.payload,h,l,D.meta):i(D,h,l)})])];case 3:return T=$.sent(),[3,5];case 4:return x=$.sent(),T=x instanceof YC?o(null,h,l,x.payload,x.meta):o(x,h,l),[3,5];case 5:return A=r&&!r.dispatchConditionRejection&&o.match(T)&&T.meta.condition,A||c(T),[2,T]}})})}();return Object.assign(m,{abort:y,requestId:h,arg:l,unwrap:function(){return m.then(wDe)}})}}return Object.assign(u,{pending:s,rejected:o,fulfilled:i,typePrefix:t})}return e.withTypes=function(){return e},e})();function wDe(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function EDe(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var TDe=function(e){return e&&typeof e.match=="function"},SDe=function(e,t){return TDe(e)?e.match(t):e(t)};function JB(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(n){return e.some(function(r){return SDe(r,n)})}}var L$=function(e,t){if(typeof e!="function")throw new TypeError(t+" is not a function")},J2=function(){},DZ=function(e,t){return t===void 0&&(t=J2),e.catch(t),e},$Z=function(e,t){return e.addEventListener("abort",t,{once:!0}),function(){return e.removeEventListener("abort",t)}},Dp=function(e,t){var n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},xDe="task",LZ="listener",MZ="completed",M$="cancelled",IDe="task-"+M$,ADe="task-"+MZ,FZ=LZ+"-"+M$,CDe=LZ+"-"+MZ,Qx=function(){function e(t){this.code=t,this.name="TaskAbortError",this.message=xDe+" "+M$+" (reason: "+t+")"}return e}(),$p=function(e){if(e.aborted)throw new Qx(e.reason)};function BZ(e,t){var n=J2;return new Promise(function(r,i){var s=function(){return i(new Qx(e.reason))};if(e.aborted){s();return}n=$Z(e,s),t.finally(function(){return n()}).then(r,i)}).finally(function(){n=J2})}var ODe=function(e,t){return ev(void 0,null,function(){var n,r;return Z_(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,4,5]),[4,Promise.resolve()];case 1:return i.sent(),[4,e()];case 2:return n=i.sent(),[2,{status:"ok",value:n}];case 3:return r=i.sent(),[2,{status:r instanceof Qx?"cancelled":"rejected",error:r}];case 4:return t==null||t(),[7];case 5:return[2]}})})},TT=function(e){return function(t){return DZ(BZ(e,t).then(function(n){return $p(e),n}))}},jZ=function(e){var t=TT(e);return function(n){return t(new Promise(function(r){return setTimeout(r,n)}))}},PDe=Object.assign,ZB={},tv="listenerMiddleware",RDe=function(e){var t=function(n){return $Z(e,function(){return Dp(n,e.reason)})};return function(n){L$(n,"taskExecutor");var r=new AbortController;t(r);var i=ODe(function(){return ev(void 0,null,function(){var s;return Z_(this,function(o){switch(o.label){case 0:return $p(e),$p(r.signal),[4,n({pause:TT(r.signal),delay:jZ(r.signal),signal:r.signal})];case 1:return s=o.sent(),$p(r.signal),[2,s]}})})},function(){return Dp(r,ADe)});return{result:TT(e)(i),cancel:function(){Dp(r,IDe)}}}},NDe=function(e,t){var n=function(r,i){return ev(void 0,null,function(){var s,o,a,u;return Z_(this,function(l){switch(l.label){case 0:$p(t),s=function(){},o=new Promise(function(c,f){var d=e({predicate:r,effect:function(h,p){p.unsubscribe(),c([h,p.getState(),p.getOriginalState()])}});s=function(){d(),f()}}),a=[o],i!=null&&a.push(new Promise(function(c){return setTimeout(c,i,null)})),l.label=1;case 1:return l.trys.push([1,,3,4]),[4,BZ(t,Promise.race(a))];case 2:return u=l.sent(),$p(t),[2,u];case 3:return s(),[7];case 4:return[2]}})})};return function(r,i){return DZ(n(r,i))}},UZ=function(e){var t=e.type,n=e.actionCreator,r=e.matcher,i=e.predicate,s=e.effect;if(t)i=Su(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error("Creating or removing a listener requires one of the known fields for matching an action");return L$(s,"options.listener"),{predicate:i,type:t,effect:s}},kDe=function(e){var t=UZ(e),n=t.type,r=t.predicate,i=t.effect,s=kZ(),o={id:s,effect:i,type:n,predicate:r,pending:new Set,unsubscribe:function(){throw new Error("Unsubscribe not initialized")}};return o},Z2=function(e){e.pending.forEach(function(t){Dp(t,FZ)})},DDe=function(e){return function(){e.forEach(Z2),e.clear()}},ej=function(e,t,n){try{e(t,n)}catch(r){setTimeout(function(){throw r},0)}},$De=Su(tv+"/add"),LDe=Su(tv+"/removeAll"),MDe=Su(tv+"/remove"),FDe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,Wy([tv+"/error"],e))};function BDe(e){var t=this;e===void 0&&(e={});var n=new Map,r=e.extra,i=e.onError,s=i===void 0?FDe:i;L$(s,"onError");var o=function(h){return h.unsubscribe=function(){return n.delete(h.id)},n.set(h.id,h),function(p){h.unsubscribe(),p!=null&&p.cancelActive&&Z2(h)}},a=function(h){for(var p=0,g=Array.from(n.values());p<g.length;p++){var y=g[p];if(h(y))return y}},u=function(h){var p=a(function(g){return g.effect===h.effect});return p||(p=kDe(h)),o(p)},l=function(h){var p=UZ(h),g=p.type,y=p.effect,m=p.predicate,_=a(function(v){var T=typeof g=="string"?v.type===g:v.predicate===m;return T&&v.effect===y});return _&&(_.unsubscribe(),h.cancelActive&&Z2(_)),!!_},c=function(h,p,g,y){return ev(t,null,function(){var m,_,v;return Z_(this,function(T){switch(T.label){case 0:m=new AbortController,_=NDe(u,m.signal),T.label=1;case 1:return T.trys.push([1,3,4,5]),h.pending.add(m),[4,Promise.resolve(h.effect(p,PDe({},g,{getOriginalState:y,condition:function(S,w){return _(S,w).then(Boolean)},take:_,delay:jZ(m.signal),pause:TT(m.signal),extra:r,signal:m.signal,fork:RDe(m.signal),unsubscribe:h.unsubscribe,subscribe:function(){n.set(h.id,h)},cancelActiveListeners:function(){h.pending.forEach(function(S,w,x){S!==m&&(Dp(S,FZ),x.delete(S))})}})))];case 2:return T.sent(),[3,5];case 3:return v=T.sent(),v instanceof Qx||ej(s,v,{raisedBy:"effect"}),[3,5];case 4:return Dp(m,CDe),h.pending.delete(m),[7];case 5:return[2]}})})},f=DDe(n),d=function(h){return function(p){return function(g){if($De.match(g))return u(g.payload);if(LDe.match(g)){f();return}if(MDe.match(g))return l(g.payload);var y=h.getState(),m=function(){if(y===ZB)throw new Error(tv+": getOriginalState can only be called synchronously");return y},_;try{if(_=p(g),n.size>0)for(var v=h.getState(),T=Array.from(n.values()),S=0,w=T;S<w.length;S++){var x=w[S],A=!1;try{A=x.predicate(g,v,y)}catch($){A=!1,ej(s,$,{raisedBy:"predicate"})}A&&c(x,g,h,m)}}finally{y=ZB}return _}}};return{middleware:d,startListening:u,stopListening:l,clearListeners:f}}var tj;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);Hke();async function jDe(e,t,n,r){const i=Object.assign({},n.map(c=>({[c]:{}}))),s=Object.assign({},...n.map(c=>({[c]:{aboveStimulus:{valid:!1,values:{}},belowStimulus:{valid:!1,values:{}},sidebar:{valid:!1,values:{}}}}))),o=Object.assign({},...n.map(c=>({[c]:{aboveStimulus:!0,belowStimulus:!0,sidebar:!0,values:{}}}))),a={studyId:e,answers:r||i,sequence:n,config:t,showAdmin:!1,showHelpText:!1,alertModal:{show:!1,message:""},trialValidation:r?o:s,iframeAnswers:[]},u=NZ({name:"storeSlice",initialState:a,reducers:{setConfig(c,f){c.config=f.payload},toggleShowAdmin:c=>{c.showAdmin=!c.showAdmin},toggleShowHelpText:c=>{c.showHelpText=!c.showHelpText},setAlertModal:(c,f)=>{c.alertModal=f.payload},setIframeAnswers:(c,f)=>{c.iframeAnswers=f.payload},updateResponseBlockValidation:(c,{payload:f})=>{if(!f.currentStep||f.currentStep.length===0)return c;c.trialValidation[f.currentStep]||(c.trialValidation[f.currentStep]={aboveStimulus:{valid:!1,values:{}},belowStimulus:{valid:!1,values:{}},sidebar:{valid:!1,values:{}},provenanceGraph:void 0}),c.trialValidation[f.currentStep][f.location]={valid:f.status,values:f.values},f.provenanceGraph&&(c.trialValidation[f.currentStep].provenanceGraph=f.provenanceGraph)},saveTrialAnswer(c,{payload:f}){const{currentStep:d,answer:h,startTime:p,endTime:g,provenanceGraph:y,windowEvents:m}=f;c.answers[d]={answer:h,startTime:p,endTime:g,provenanceGraph:y,windowEvents:m}}}});return{store:PZ({reducer:u.reducer,preloadedState:a}),actions:u.actions}}const VZ=E.createContext(null);function sc(){return E.useContext(VZ).actions}const oc=DJ,Wu=oPe;function UDe(e){return Wu(t=>{if(e===void 0||e.length===0)return!0;const n=Object.values(t.trialValidation[e]).every(r=>typeof r=="object"&&"valid"in r?r.valid:!0);return n?Object.values(n).every(r=>r):!1})}function zZ(){return Ym().pathname.split("/")[1]}function Po(){return Ym().pathname.split("/")[2]}function F$(e){return structuredClone(e)}function B$(){const{answers:e}=Wu(n=>n),t=Po();return e[t]}var HZ={exports:{}},VDe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",zDe=VDe,HDe=zDe;function WZ(){}function qZ(){}qZ.resetWarningCache=WZ;var WDe=function(){function e(r,i,s,o,a,u){if(u!==HDe){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:qZ,resetWarningCache:WZ};return n.PropTypes=n,n};HZ.exports=WDe();var qDe=HZ.exports;const dt=ja(qDe);var YDe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},GDe=Object.defineProperty,KDe=Object.defineProperties,QDe=Object.getOwnPropertyDescriptors,ST=Object.getOwnPropertySymbols,YZ=Object.prototype.hasOwnProperty,GZ=Object.prototype.propertyIsEnumerable,nj=(e,t,n)=>t in e?GDe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rj=(e,t)=>{for(var n in t||(t={}))YZ.call(t,n)&&nj(e,n,t[n]);if(ST)for(var n of ST(t))GZ.call(t,n)&&nj(e,n,t[n]);return e},XDe=(e,t)=>KDe(e,QDe(t)),JDe=(e,t)=>{var n={};for(var r in e)YZ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ST)for(var r of ST(e))t.indexOf(r)<0&&GZ.call(e,r)&&(n[r]=e[r]);return n},qu=(e,t,n)=>{const r=E.forwardRef((i,s)=>{var o=i,{color:a="currentColor",size:u=24,stroke:l=2,children:c}=o,f=JDe(o,["color","size","stroke","children"]);return E.createElement("svg",rj(XDe(rj({ref:s},YDe),{width:u,height:u,stroke:a,strokeWidth:l,className:`tabler-icon tabler-icon-${e}`}),f),[...n.map(([d,h])=>E.createElement(d,h)),...c||[]])});return r.propTypes={color:dt.string,size:dt.oneOfType([dt.string,dt.number]),stroke:dt.oneOfType([dt.string,dt.number])},r.displayName=`${t}`,r},ZDe=qu("alert-circle","IconAlertCircle",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 8v4",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]]),e$e=qu("arrow-right","IconArrowRight",[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M13 18l6 -6",key:"svg-1"}],["path",{d:"M13 6l6 6",key:"svg-2"}]]),t$e=qu("arrows-shuffle","IconArrowsShuffle",[["path",{d:"M18 4l3 3l-3 3",key:"svg-0"}],["path",{d:"M18 20l3 -3l-3 -3",key:"svg-1"}],["path",{d:"M3 7h3a5 5 0 0 1 5 5a5 5 0 0 0 5 5h5",key:"svg-2"}],["path",{d:"M21 7h-5a4.978 4.978 0 0 0 -3 1m-4 8a4.984 4.984 0 0 1 -3 1h-3",key:"svg-3"}]]),ij=qu("circle-check","IconCircleCheck",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M9 12l2 2l4 -4",key:"svg-1"}]]),n$e=qu("code-dots","IconCodeDots",[["path",{d:"M15 12h.01",key:"svg-0"}],["path",{d:"M12 12h.01",key:"svg-1"}],["path",{d:"M9 12h.01",key:"svg-2"}],["path",{d:"M6 19a2 2 0 0 1 -2 -2v-4l-1 -1l1 -1v-4a2 2 0 0 1 2 -2",key:"svg-3"}],["path",{d:"M18 19a2 2 0 0 0 2 -2v-4l1 -1l-1 -1v-4a2 2 0 0 0 -2 -2",key:"svg-4"}]]),r$e=qu("code-plus","IconCodePlus",[["path",{d:"M9 12h6",key:"svg-0"}],["path",{d:"M12 9v6",key:"svg-1"}],["path",{d:"M6 19a2 2 0 0 1 -2 -2v-4l-1 -1l1 -1v-4a2 2 0 0 1 2 -2",key:"svg-2"}],["path",{d:"M18 19a2 2 0 0 0 2 -2v-4l1 -1l-1 -1v-4a2 2 0 0 0 -2 -2",key:"svg-3"}]]),i$e=qu("dots-vertical","IconDotsVertical",[["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]),s$e=qu("mail","IconMail",[["path",{d:"M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10z",key:"svg-0"}],["path",{d:"M3 7l9 6l9 -6",key:"svg-1"}]]),sj=qu("schema","IconSchema",[["path",{d:"M5 2h5v4h-5z",key:"svg-0"}],["path",{d:"M15 10h5v4h-5z",key:"svg-1"}],["path",{d:"M5 18h5v4h-5z",key:"svg-2"}],["path",{d:"M5 10h5v4h-5z",key:"svg-3"}],["path",{d:"M10 12h5",key:"svg-4"}],["path",{d:"M7.5 6v4",key:"svg-5"}],["path",{d:"M7.5 14v4",key:"svg-6"}]]),KZ=qu("table","IconTable",[["path",{d:"M3 5a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-14z",key:"svg-0"}],["path",{d:"M3 10h18",key:"svg-1"}],["path",{d:"M10 3v18",key:"svg-2"}]]),xT={exports:{}};xT.exports;(function(e,t){var n=200,r="__lodash_hash_undefined__",i=800,s=16,o=9007199254740991,a="[object Arguments]",u="[object Array]",l="[object AsyncFunction]",c="[object Boolean]",f="[object Date]",d="[object Error]",h="[object Function]",p="[object GeneratorFunction]",g="[object Map]",y="[object Number]",m="[object Null]",_="[object Object]",v="[object Proxy]",T="[object RegExp]",S="[object Set]",w="[object String]",x="[object Undefined]",A="[object WeakMap]",$="[object ArrayBuffer]",D="[object DataView]",P="[object Float32Array]",q="[object Float64Array]",V="[object Int8Array]",U="[object Int16Array]",se="[object Int32Array]",oe="[object Uint8Array]",ce="[object Uint8ClampedArray]",ee="[object Uint16Array]",ie="[object Uint32Array]",K=/[\\^$.*+?()[\]{}|]/g,I=/^\[object .+?Constructor\]$/,C=/^(?:0|[1-9]\d*)$/,H={};H[P]=H[q]=H[V]=H[U]=H[se]=H[oe]=H[ce]=H[ee]=H[ie]=!0,H[a]=H[u]=H[$]=H[c]=H[D]=H[f]=H[d]=H[h]=H[g]=H[y]=H[_]=H[T]=H[S]=H[w]=H[A]=!1;var N=typeof co=="object"&&co&&co.Object===Object&&co,R=typeof self=="object"&&self&&self.Object===Object&&self,Y=N||R||Function("return this")(),ae=t&&!t.nodeType&&t,le=ae&&!0&&e&&!e.nodeType&&e,pe=le&&le.exports===ae,he=pe&&N.process,Se=function(){try{var W=le&&le.require&&le.require("util").types;return W||he&&he.binding&&he.binding("util")}catch{}}(),me=Se&&Se.isTypedArray;function Xe(W,re,_e){switch(_e.length){case 0:return W.call(re);case 1:return W.call(re,_e[0]);case 2:return W.call(re,_e[0],_e[1]);case 3:return W.call(re,_e[0],_e[1],_e[2])}return W.apply(re,_e)}function Ye(W,re){for(var _e=-1,Ke=Array(W);++_e<W;)Ke[_e]=re(_e);return Ke}function He(W){return function(re){return W(re)}}function Le(W,re){return W==null?void 0:W[re]}function Ae(W,re){return function(_e){return W(re(_e))}}var Ve=Array.prototype,Zt=Function.prototype,Me=Object.prototype,Ue=Y["__core-js_shared__"],wt=Zt.toString,ze=Me.hasOwnProperty,yt=function(){var W=/[^.]+$/.exec(Ue&&Ue.keys&&Ue.keys.IE_PROTO||"");return W?"Symbol(src)_1."+W:""}(),Gt=Me.toString,un=wt.call(Object),Gn=RegExp("^"+wt.call(ze).replace(K,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),de=pe?Y.Buffer:void 0,Ee=Y.Symbol,Fe=Y.Uint8Array,ot=de?de.allocUnsafe:void 0,$e=Ae(Object.getPrototypeOf,Object),at=Object.create,Be=Me.propertyIsEnumerable,nt=Ve.splice,wn=Ee?Ee.toStringTag:void 0,Wt=function(){try{var W=Re(Object,"defineProperty");return W({},"",{}),W}catch{}}(),xt=de?de.isBuffer:void 0,Bn=Math.max,En=Date.now,da=Re(Y,"Map"),hr=Re(Object,"create"),Fi=function(){function W(){}return function(re){if(!qf(re))return{};if(at)return at(re);W.prototype=re;var _e=new W;return W.prototype=void 0,_e}}();function wr(W){var re=-1,_e=W==null?0:W.length;for(this.clear();++re<_e;){var Ke=W[re];this.set(Ke[0],Ke[1])}}function Mr(){this.__data__=hr?hr(null):{},this.size=0}function pr(W){var re=this.has(W)&&delete this.__data__[W];return this.size-=re?1:0,re}function jn(W){var re=this.__data__;if(hr){var _e=re[W];return _e===r?void 0:_e}return ze.call(re,W)?re[W]:void 0}function en(W){var re=this.__data__;return hr?re[W]!==void 0:ze.call(re,W)}function oi(W,re){var _e=this.__data__;return this.size+=this.has(W)?0:1,_e[W]=hr&&re===void 0?r:re,this}wr.prototype.clear=Mr,wr.prototype.delete=pr,wr.prototype.get=jn,wr.prototype.has=en,wr.prototype.set=oi;function Er(W){var re=-1,_e=W==null?0:W.length;for(this.clear();++re<_e;){var Ke=W[re];this.set(Ke[0],Ke[1])}}function Fr(){this.__data__=[],this.size=0}function vi(W){var re=this.__data__,_e=nr(re,W);if(_e<0)return!1;var Ke=re.length-1;return _e==Ke?re.pop():nt.call(re,_e,1),--this.size,!0}function bs(W){var re=this.__data__,_e=nr(re,W);return _e<0?void 0:re[_e][1]}function X(W){return nr(this.__data__,W)>-1}function z(W,re){var _e=this.__data__,Ke=nr(_e,W);return Ke<0?(++this.size,_e.push([W,re])):_e[Ke][1]=re,this}Er.prototype.clear=Fr,Er.prototype.delete=vi,Er.prototype.get=bs,Er.prototype.has=X,Er.prototype.set=z;function Z(W){var re=-1,_e=W==null?0:W.length;for(this.clear();++re<_e;){var Ke=W[re];this.set(Ke[0],Ke[1])}}function ye(){this.size=0,this.__data__={hash:new wr,map:new(da||Er),string:new wr}}function ge(W){var re=Pe(this,W).delete(W);return this.size-=re?1:0,re}function Ge(W){return Pe(this,W).get(W)}function Te(W){return Pe(this,W).has(W)}function We(W,re){var _e=Pe(this,W),Ke=_e.size;return _e.set(W,re),this.size+=_e.size==Ke?0:1,this}Z.prototype.clear=ye,Z.prototype.delete=ge,Z.prototype.get=Ge,Z.prototype.has=Te,Z.prototype.set=We;function ct(W){var re=this.__data__=new Er(W);this.size=re.size}function tt(){this.__data__=new Er,this.size=0}function gt(W){var re=this.__data__,_e=re.delete(W);return this.size=re.size,_e}function Lt(W){return this.__data__.get(W)}function $n(W){return this.__data__.has(W)}function pt(W,re){var _e=this.__data__;if(_e instanceof Er){var Ke=_e.__data__;if(!da||Ke.length<n-1)return Ke.push([W,re]),this.size=++_e.size,this;_e=this.__data__=new Z(Ke)}return _e.set(W,re),this.size=_e.size,this}ct.prototype.clear=tt,ct.prototype.delete=gt,ct.prototype.get=Lt,ct.prototype.has=$n,ct.prototype.set=pt;function An(W,re){var _e=PA(W),Ke=!_e&&Ch(W),ln=!_e&&!Ke&&EM(W),Un=!_e&&!Ke&&!ln&&SM(W),ir=_e||Ke||ln||Un,tn=ir?Ye(W.length,String):[],sr=tn.length;for(var No in W)(re||ze.call(W,No))&&!(ir&&(No=="length"||ln&&(No=="offset"||No=="parent")||Un&&(No=="buffer"||No=="byteLength"||No=="byteOffset")||Bt(No,sr)))&&tn.push(No);return tn}function Et(W,re,_e){(_e!==void 0&&!Ah(W[re],_e)||_e===void 0&&!(re in W))&&Gr(W,re,_e)}function gn(W,re,_e){var Ke=W[re];(!(ze.call(W,re)&&Ah(Ke,_e))||_e===void 0&&!(re in W))&&Gr(W,re,_e)}function nr(W,re){for(var _e=W.length;_e--;)if(Ah(W[_e][0],re))return _e;return-1}function Gr(W,re,_e){re=="__proto__"&&Wt?Wt(W,re,{configurable:!0,enumerable:!0,value:_e,writable:!0}):W[re]=_e}var Nr=xe();function us(W){return W==null?W===void 0?x:m:wn&&wn in Object(W)?De(W):Wf(W)}function bi(W){return Og(W)&&us(W)==a}function mr(W){if(!qf(W)||Tr(W))return!1;var re=NA(W)?Gn:I;return re.test(OA(W))}function Qe(W){return Og(W)&&TM(W.length)&&!!H[us(W)]}function zt(W){if(!qf(W))return Es(W);var re=rr(W),_e=[];for(var Ke in W)Ke=="constructor"&&(re||!ze.call(W,Ke))||_e.push(Ke);return _e}function Hn(W,re,_e,Ke,ln){W!==re&&Nr(re,function(Un,ir){if(ln||(ln=new ct),qf(Un))ai(W,re,ir,_e,Hn,Ke,ln);else{var tn=Ke?Ke(Ag(W,ir),Un,ir+"",W,re,ln):void 0;tn===void 0&&(tn=Un),Et(W,ir,tn)}},xM)}function ai(W,re,_e,Ke,ln,Un,ir){var tn=Ag(W,_e),sr=Ag(re,_e),No=ir.get(sr);if(No){Et(W,_e,No);return}var Zs=Un?Un(tn,sr,_e+"",W,re,ir):void 0,Pg=Zs===void 0;if(Pg){var kA=PA(sr),DA=!kA&&EM(sr),AM=!kA&&!DA&&SM(sr);Zs=sr,kA||DA||AM?PA(tn)?Zs=tn:bce(tn)?Zs=ue(tn):DA?(Pg=!1,Zs=Q(sr,!0)):AM?(Pg=!1,Zs=ne(sr,!0)):Zs=[]:wce(sr)||Ch(sr)?(Zs=tn,Ch(tn)?Zs=Ece(tn):(!qf(tn)||NA(tn))&&(Zs=Ze(sr))):Pg=!1}Pg&&(ir.set(sr,Zs),ln(Zs,sr,Ke,Un,ir),ir.delete(sr)),Et(W,_e,Zs)}function ws(W,re){return Cg(Ig(W,re,IM),W+"")}var k=Wt?function(W,re){return Wt(W,"toString",{configurable:!0,enumerable:!1,value:Sce(re),writable:!0})}:IM;function Q(W,re){if(re)return W.slice();var _e=W.length,Ke=ot?ot(_e):new W.constructor(_e);return W.copy(Ke),Ke}function B(W){var re=new W.constructor(W.byteLength);return new Fe(re).set(new Fe(W)),re}function ne(W,re){var _e=re?B(W.buffer):W.buffer;return new W.constructor(_e,W.byteOffset,W.length)}function ue(W,re){var _e=-1,Ke=W.length;for(re||(re=Array(Ke));++_e<Ke;)re[_e]=W[_e];return re}function te(W,re,_e,Ke){var ln=!_e;_e||(_e={});for(var Un=-1,ir=re.length;++Un<ir;){var tn=re[Un],sr=Ke?Ke(_e[tn],W[tn],tn,_e,W):void 0;sr===void 0&&(sr=W[tn]),ln?Gr(_e,tn,sr):gn(_e,tn,sr)}return _e}function be(W){return ws(function(re,_e){var Ke=-1,ln=_e.length,Un=ln>1?_e[ln-1]:void 0,ir=ln>2?_e[2]:void 0;for(Un=W.length>3&&typeof Un=="function"?(ln--,Un):void 0,ir&&yn(_e[0],_e[1],ir)&&(Un=ln<3?void 0:Un,ln=1),re=Object(re);++Ke<ln;){var tn=_e[Ke];tn&&W(re,tn,Ke,Un)}return re})}function xe(W){return function(re,_e,Ke){for(var ln=-1,Un=Object(re),ir=Ke(re),tn=ir.length;tn--;){var sr=ir[W?tn:++ln];if(_e(Un[sr],sr,Un)===!1)break}return re}}function Pe(W,re){var _e=W.__data__;return Tn(re)?_e[typeof re=="string"?"string":"hash"]:_e.map}function Re(W,re){var _e=Le(W,re);return mr(_e)?_e:void 0}function De(W){var re=ze.call(W,wn),_e=W[wn];try{W[wn]=void 0;var Ke=!0}catch{}var ln=Gt.call(W);return Ke&&(re?W[wn]=_e:delete W[wn]),ln}function Ze(W){return typeof W.constructor=="function"&&!rr(W)?Fi($e(W)):{}}function Bt(W,re){var _e=typeof W;return re=re??o,!!re&&(_e=="number"||_e!="symbol"&&C.test(W))&&W>-1&&W%1==0&&W<re}function yn(W,re,_e){if(!qf(_e))return!1;var Ke=typeof re;return(Ke=="number"?RA(_e)&&Bt(re,_e.length):Ke=="string"&&re in _e)?Ah(_e[re],W):!1}function Tn(W){var re=typeof W;return re=="string"||re=="number"||re=="symbol"||re=="boolean"?W!=="__proto__":W===null}function Tr(W){return!!yt&&yt in W}function rr(W){var re=W&&W.constructor,_e=typeof re=="function"&&re.prototype||Me;return W===_e}function Es(W){var re=[];if(W!=null)for(var _e in Object(W))re.push(_e);return re}function Wf(W){return Gt.call(W)}function Ig(W,re,_e){return re=Bn(re===void 0?W.length-1:re,0),function(){for(var Ke=arguments,ln=-1,Un=Bn(Ke.length-re,0),ir=Array(Un);++ln<Un;)ir[ln]=Ke[re+ln];ln=-1;for(var tn=Array(re+1);++ln<re;)tn[ln]=Ke[ln];return tn[re]=_e(ir),Xe(W,this,tn)}}function Ag(W,re){if(!(re==="constructor"&&typeof W[re]=="function")&&re!="__proto__")return W[re]}var Cg=wM(k);function wM(W){var re=0,_e=0;return function(){var Ke=En(),ln=s-(Ke-_e);if(_e=Ke,ln>0){if(++re>=i)return arguments[0]}else re=0;return W.apply(void 0,arguments)}}function OA(W){if(W!=null){try{return wt.call(W)}catch{}try{return W+""}catch{}}return""}function Ah(W,re){return W===re||W!==W&&re!==re}var Ch=bi(function(){return arguments}())?bi:function(W){return Og(W)&&ze.call(W,"callee")&&!Be.call(W,"callee")},PA=Array.isArray;function RA(W){return W!=null&&TM(W.length)&&!NA(W)}function bce(W){return Og(W)&&RA(W)}var EM=xt||xce;function NA(W){if(!qf(W))return!1;var re=us(W);return re==h||re==p||re==l||re==v}function TM(W){return typeof W=="number"&&W>-1&&W%1==0&&W<=o}function qf(W){var re=typeof W;return W!=null&&(re=="object"||re=="function")}function Og(W){return W!=null&&typeof W=="object"}function wce(W){if(!Og(W)||us(W)!=_)return!1;var re=$e(W);if(re===null)return!0;var _e=ze.call(re,"constructor")&&re.constructor;return typeof _e=="function"&&_e instanceof _e&&wt.call(_e)==un}var SM=me?He(me):Qe;function Ece(W){return te(W,xM(W))}function xM(W){return RA(W)?An(W,!0):zt(W)}var Tce=be(function(W,re,_e){Hn(W,re,_e)});function Sce(W){return function(){return W}}function IM(W){return W}function xce(){return!1}e.exports=Tce})(xT,xT.exports);var o$e=xT.exports;const j$=ja(o$e),eR=["description","instruction","answer","correctAnswer","startTime","endTime","duration","taskOrder"],Pb=["participantId","trialId","responseId"];async function a$e(e=[...Pb,...eR],t,n,r){const s=(await n.getAllParticipantsData()).map(l=>u$e(l,r,e)).flat(),o=l=>l.replace(/"/g,'""'),a=s.map(l=>e.map(c=>l===null?"":typeof l[c]=="string"?`"${o(l[c])}"`:JSON.stringify(l[c])).join(",")),u=[e.join(","),...a].join(`
`);tR(u,t)}function u$e(e,t,n){return Object.entries(t.components).map(([r,i])=>{const s=Kx(i)&&i.baseComponent&&t.baseComponents?j$({},t.baseComponents[i.baseComponent],i):i,o=e.answers[r],a=o!==void 0?o:{answer:{},startTime:-1,endTime:-1,windowEvents:[]},u=a.endTime-a.startTime;return Object.entries(a.answer).map(([c,f])=>{const d={participantId:e.participantId,trialId:r,responseId:c,startTime:new Date(a.startTime).toUTCString(),endTime:new Date(a.endTime).toUTCString(),duration:u};return n.includes("description")&&(d.description=s.description),n.includes("instruction")&&(d.instruction=s.instruction),n.includes("answer")&&(d.answer=f),n.includes("correctAnswer")&&(d.correctAnswer=s.correctAnswer),n.includes("taskOrder")&&(d.taskOrder=e.sequence.indexOf(r)),d}).flat()}).flat()}function l$e({opened:e,close:t,filename:n,studyConfig:r}){const[i,s]=qge([...Pb,...eR]),o=E.useCallback(l=>{Pb.every(c=>l.includes(c))&&s(l)},[s]),a=E.useMemo(()=>[...Pb,...eR],[]),{storageEngine:u}=kf();return u?O.jsxs(Rx,{opened:e,size:"lg",onClose:t,title:O.jsx(mt,{size:"xl",children:"Download Tidy CSV"}),centered:!0,radius:"md",padding:"xl",children:[O.jsx(ut,{children:O.jsx($X,{searchable:!0,limit:30,nothingFound:"Property not found",data:a,value:i,onChange:o,label:O.jsx(mt,{fw:"bold",size:"lg",children:"Select properties to include in tidy csv:"}),placeholder:"Select atleast one property"})}),O.jsxs(am,{mt:"xl",direction:{base:"column",sm:"row"},gap:{base:"sm",sm:"lg"},justify:{sm:"space-around"},children:[O.jsx(Xo,{leftIcon:O.jsx(KZ,{}),onClick:()=>a$e(i,n,u,r),children:"Download"}),O.jsx(Xo,{onClick:t,color:"red",children:"Close"})]})]}):null}function tR(e,t){const n="data:text/json;charset=utf-8,"+encodeURIComponent(e),r=document.createElement("a");r.setAttribute("href",n),r.setAttribute("download",t),document.body.appendChild(r),r.click(),r.remove()}function c$e({studyConfig:e}){const{storageEngine:t}=kf(),[n,{open:r,close:i}]=Yge(!1),s=e.uiConfig.autoDownloadStudy||!1,o=s&&e.uiConfig.autoDownloadTime||-1,[a,u]=E.useState(Math.floor(o/1e3));E.useEffect(()=>{if(a<=0)return;const p=setInterval(()=>{u(g=>g-1)},1e3);return()=>clearInterval(p)},[a]);const[l,c]=E.useState(),[f,d]=E.useState(""),h=e.studyMetadata.title.replace(" ","_");return E.useEffect(()=>{async function p(){if(t){const g=await t.getCurrentParticipantId(),y=await t.getParticipantData();d(g),c(y)}}p()},[t]),O.jsxs(Bs,{children:[O.jsx(Xo,{leftIcon:O.jsx(n$e,{}),mt:"1em",mr:"0.5em",onClick:()=>tR(JSON.stringify(l,null,2),`${h}_${f}.json`),display:"block",children:"Download Current (JSON)"}),O.jsx(Xo,{disabled:!(t!=null&&t.isConnected()),leftIcon:O.jsx(r$e,{}),mt:"1em",mr:"0.5em",onClick:async()=>{if(!t)return;const p=await t.getAllParticipantsData();tR(JSON.stringify(p,null,2),`${h}_all.json`)},display:"block",children:"Download All (JSON)"}),O.jsx(Xo,{disabled:!(t!=null&&t.isConnected()),leftIcon:O.jsx(KZ,{}),mt:"1em",mr:"0.5em",onClick:r,display:"block",children:"Download All (Tidy)"}),s&&O.jsxs(mt,{size:"lg",children:["Study results will be downloaded in ",a," seconds. If the download does not start automatically, click above to download."]}),O.jsx(l$e,{opened:n,close:i,filename:`${h}_${f}.csv`,studyConfig:e})]})}function QZ({order:e}){const{studyId:t=null}=eD(),n=Po(),r=lh();return O.jsx(Bs,{spacing:"xs",children:e.components.map((i,s)=>typeof i=="string"?O.jsx(Ys,{children:O.jsx(Awe,{style:{cursor:"pointer"},color:i===n?"red":"blue",onClick:()=>r(`/${t}/${i}`),size:"xs",children:i},i)},s):O.jsx(Bs,{spacing:"xs",children:O.jsxs(Ys,{spacing:"xs",style:{width:"100%"},noWrap:!0,align:"center",position:"center",children:[i.order==="random"||i.order==="latinSquare"?O.jsx(t$e,{textAnchor:"middle"}):null,O.jsx(Bs,{style:{width:"100%"},children:O.jsx(QZ,{order:i})})]})},s))})}function hm(){return Wu(e=>e.config)}function f$e(){const{showAdmin:e,sequence:t}=Wu(a=>a),n=lh(),{studyId:r=null}=eD(),i=Po(),s=hm(),o=t.map(a=>({...s.components[a],id:a}));return e?O.jsx(lp,{p:"0",width:{base:300},style:{zIndex:0},children:O.jsxs(_0,{p:"0",children:[O.jsx(lp.Section,{grow:!0,component:_0,px:"xs",my:"lg",children:O.jsx(QZ,{order:s.sequence})}),O.jsx(lp.Section,{grow:!0,component:_0,px:"xs",my:"lg",children:i==="end"&&O.jsx(c$e,{studyConfig:s})}),O.jsx(lp.Section,{grow:!0,component:_0,px:"xs",my:"lg",children:o.map((a,u)=>O.jsxs(M.Fragment,{children:[O.jsxs(ef,{radius:0,p:0,withBorder:!0,children:[O.jsx(ef,{radius:0,p:"xl",children:O.jsxs(am,{style:{justifyContent:"space-between"},children:[O.jsxs(mt,{c:"gray.9",children:[O.jsxs(mt,{span:!0,fw:700,inherit:!0,children:["Task ",u+1,":"]})," ",a.id]}),O.jsx(lm,{}),O.jsx(pD,{bg:"white",onClick:()=>n(`/${r}/${a.id}`),children:O.jsx(e$e,{size:"1.125rem"})})]})}),O.jsxs(ef,{radius:0,p:"xl",children:[a.description&&O.jsxs(mt,{fw:900,children:["Description:"," ",O.jsx(mt,{fw:400,component:"span",children:a.description})]}),a.meta&&O.jsx(mt,{fw:900,children:"Task Meta:"}),a.meta&&Object.keys(a.meta).map(l=>O.jsxs(mt,{children:[l,": ",a.meta[l]]},l))]})]}),O.jsx(lm,{h:"md"})]},`admin_${a.id}`))})]})}):null}function d$e(){const{config:e,sequence:t}=Wu(v=>v),n=oc(),{toggleShowHelpText:r,toggleShowAdmin:i}=sc(),{storageEngine:s}=kf(),o=Po(),a=e!==null?t.indexOf(o):0,u=t.length-1,l=a/u*100,[c,f]=E.useState(!1),d=e==null?void 0:e.uiConfig.logoPath,h=e==null?void 0:e.uiConfig.withProgressBar,[p]=E.useState(new URLSearchParams(window.location.search)),g=p.get("admin")||"f",y=zZ(),m=Mhe(`/${y}`);function _(){s==null||s.nextParticipant().then(()=>{window.location.href=m}).catch(v=>{console.error(v)})}return O.jsx(AG,{height:"70",p:"md",children:O.jsxs(ml,{mt:-7,align:"center",children:[O.jsx(ml.Col,{span:4,children:O.jsxs(am,{align:"center",children:[O.jsx(Y_,{maw:40,src:`${Qu}${d}`,alt:"Study Logo"}),O.jsx(lm,{w:"md"}),O.jsx(Sc,{order:4,children:e==null?void 0:e.studyMetadata.title})]})}),O.jsx(ml.Col,{span:4,children:h&&O.jsx(eJ,{radius:"md",size:"lg",value:l})}),O.jsx(ml.Col,{span:4,children:O.jsxs(am,{align:"center",justify:"flex-end",children:[(e==null?void 0:e.uiConfig.helpTextPath)!==void 0&&O.jsx(Xo,{variant:"outline",onClick:()=>n(r()),children:"Help"}),O.jsx(lm,{w:"md"}),g==="t"&&O.jsxs(Uo,{shadow:"md",width:200,zIndex:1,opened:c,onChange:f,children:[O.jsx(Uo.Target,{children:O.jsx(pD,{size:"lg",children:O.jsx(i$e,{})})}),O.jsxs(Uo.Dropdown,{children:[O.jsx(Uo.Item,{icon:O.jsx(sj,{size:14}),onClick:()=>n(i()),children:"Admin Mode"}),O.jsx(Uo.Item,{component:"a",href:e!==null?`mailto:${e.uiConfig.contactEmail}`:void 0,icon:O.jsx(s$e,{size:14}),children:"Contact"}),O.jsx(Uo.Item,{icon:O.jsx(sj,{size:14}),onClick:()=>_(),children:"Next Participant"})]})]})]})})]})})}const oj=["http","https","mailto","tel"];function h$e(e){const t=(e||"").trim(),n=t.charAt(0);if(n==="#"||n==="/")return t;const r=t.indexOf(":");if(r===-1)return t;let i=-1;for(;++i<oj.length;){const s=oj[i];if(r===s.length&&t.slice(0,s.length).toLowerCase()===s)return t}return i=t.indexOf("?"),i!==-1&&r>i||(i=t.indexOf("#"),i!==-1&&r>i)?t:"javascript:void(0)"}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var p$e=function(t){return t!=null&&t.constructor!=null&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)};const U$=ja(p$e);function Lp(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?aj(e.position):"start"in e||"end"in e?aj(e):"line"in e||"column"in e?nR(e):""}function nR(e){return uj(e&&e.line)+":"+uj(e&&e.column)}function aj(e){return nR(e&&e.start)+"-"+nR(e&&e.end)}function uj(e){return e&&typeof e=="number"?e:1}let oa=class extends Error{constructor(t,n,r){const i=[null,null];let s={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof n=="string"&&(r=n,n=void 0),typeof r=="string"){const o=r.indexOf(":");o===-1?i[1]=r:(i[0]=r.slice(0,o),i[1]=r.slice(o+1))}n&&("type"in n||"position"in n?n.position&&(s=n.position):"start"in n||"end"in n?s=n:("line"in n||"column"in n)&&(s.start=n)),this.name=Lp(n)||"1:1",this.message=typeof t=="object"?t.message:t,this.stack="",typeof t=="object"&&t.stack&&(this.stack=t.stack),this.reason=this.message,this.fatal,this.line=s.start.line,this.column=s.start.column,this.position=s,this.source=i[0],this.ruleId=i[1],this.file,this.actual,this.expected,this.url,this.note}};oa.prototype.file="";oa.prototype.name="";oa.prototype.reason="";oa.prototype.message="";oa.prototype.stack="";oa.prototype.fatal=null;oa.prototype.column=null;oa.prototype.line=null;oa.prototype.source=null;oa.prototype.ruleId=null;oa.prototype.position=null;const Qa={basename:m$e,dirname:g$e,extname:y$e,join:_$e,sep:"/"};function m$e(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');nv(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.charCodeAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,a=t.length-1;for(;i--;)if(e.charCodeAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(e.charCodeAt(i)===t.charCodeAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function g$e(e){if(nv(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.charCodeAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.charCodeAt(0)===47?"/":".":t===1&&e.charCodeAt(0)===47?"//":e.slice(0,t)}function y$e(e){nv(e);let t=e.length,n=-1,r=0,i=-1,s=0,o;for(;t--;){const a=e.charCodeAt(t);if(a===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),a===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function _$e(...e){let t=-1,n;for(;++t<e.length;)nv(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":v$e(n)}function v$e(e){nv(e);const t=e.charCodeAt(0)===47;let n=b$e(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.charCodeAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function b$e(e,t){let n="",r=0,i=-1,s=0,o=-1,a,u;for(;++o<=e.length;){if(o<e.length)a=e.charCodeAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function nv(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const w$e={cwd:E$e};function E$e(){return"/"}function rR(e){return e!==null&&typeof e=="object"&&e.href&&e.origin}function T$e(e){if(typeof e=="string")e=new URL(e);else if(!rR(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return S$e(e)}function S$e(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.charCodeAt(n)===37&&t.charCodeAt(n+1)===50){const r=t.charCodeAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const GC=["history","path","basename","stem","extname","dirname"];let x$e=class{constructor(t){let n;t?typeof t=="string"||U$(t)?n={value:t}:rR(t)?n={path:t}:n=t:n={},this.data={},this.messages=[],this.history=[],this.cwd=w$e.cwd(),this.value,this.stored,this.result,this.map;let r=-1;for(;++r<GC.length;){const s=GC[r];s in n&&n[s]!==void 0&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)GC.includes(i)||(this[i]=n[i])}get path(){return this.history[this.history.length-1]}set path(t){rR(t)&&(t=T$e(t)),QC(t,"path"),this.path!==t&&this.history.push(t)}get dirname(){return typeof this.path=="string"?Qa.dirname(this.path):void 0}set dirname(t){lj(this.basename,"dirname"),this.path=Qa.join(t||"",this.basename)}get basename(){return typeof this.path=="string"?Qa.basename(this.path):void 0}set basename(t){QC(t,"basename"),KC(t,"basename"),this.path=Qa.join(this.dirname||"",t)}get extname(){return typeof this.path=="string"?Qa.extname(this.path):void 0}set extname(t){if(KC(t,"extname"),lj(this.dirname,"extname"),t){if(t.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Qa.join(this.dirname,this.stem+(t||""))}get stem(){return typeof this.path=="string"?Qa.basename(this.path,this.extname):void 0}set stem(t){QC(t,"stem"),KC(t,"stem"),this.path=Qa.join(this.dirname||"",t+(this.extname||""))}toString(t){return(this.value||"").toString(t)}message(t,n,r){const i=new oa(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=null,i}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}};function KC(e,t){if(e&&e.includes(Qa.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Qa.sep+"`")}function QC(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function lj(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function cj(e){if(e)throw e}var Rb=Object.prototype.hasOwnProperty,XZ=Object.prototype.toString,fj=Object.defineProperty,dj=Object.getOwnPropertyDescriptor,hj=function(t){return typeof Array.isArray=="function"?Array.isArray(t):XZ.call(t)==="[object Array]"},pj=function(t){if(!t||XZ.call(t)!=="[object Object]")return!1;var n=Rb.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&Rb.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||Rb.call(t,i)},mj=function(t,n){fj&&n.name==="__proto__"?fj(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},gj=function(t,n){if(n==="__proto__")if(Rb.call(t,n)){if(dj)return dj(t,n).value}else return;return t[n]},I$e=function e(){var t,n,r,i,s,o,a=arguments[0],u=1,l=arguments.length,c=!1;for(typeof a=="boolean"&&(c=a,a=arguments[1]||{},u=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});u<l;++u)if(t=arguments[u],t!=null)for(n in t)r=gj(a,n),i=gj(t,n),a!==i&&(c&&i&&(pj(i)||(s=hj(i)))?(s?(s=!1,o=r&&hj(r)?r:[]):o=r&&pj(r)?r:{},mj(a,{name:n,newValue:e(c,o,i)})):typeof i<"u"&&mj(a,{name:n,newValue:i}));return a};const yj=ja(I$e);function iR(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function A$e(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(u,...l){const c=e[++s];let f=-1;if(u){o(u);return}for(;++f<i.length;)(l[f]===null||l[f]===void 0)&&(l[f]=i[f]);i=l,c?C$e(c,a)(...l):o(null,...l)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function C$e(e,t){let n;return r;function r(...o){const a=e.length>o.length;let u;a&&o.push(i);try{u=e.apply(this,o)}catch(l){const c=l;if(a&&n)throw c;return i(c)}a||(u instanceof Promise?u.then(s,i):u instanceof Error?i(u):s(u))}function i(o,...a){n||(n=!0,t(o,...a))}function s(o){i(null,o)}}class aa extends Error{constructor(t,n,r){const i=[null,null];let s={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof n=="string"&&(r=n,n=void 0),typeof r=="string"){const o=r.indexOf(":");o===-1?i[1]=r:(i[0]=r.slice(0,o),i[1]=r.slice(o+1))}n&&("type"in n||"position"in n?n.position&&(s=n.position):"start"in n||"end"in n?s=n:("line"in n||"column"in n)&&(s.start=n)),this.name=Lp(n)||"1:1",this.message=typeof t=="object"?t.message:t,this.stack="",typeof t=="object"&&t.stack&&(this.stack=t.stack),this.reason=this.message,this.fatal,this.line=s.start.line,this.column=s.start.column,this.position=s,this.source=i[0],this.ruleId=i[1],this.file,this.actual,this.expected,this.url,this.note}}aa.prototype.file="";aa.prototype.name="";aa.prototype.reason="";aa.prototype.message="";aa.prototype.stack="";aa.prototype.fatal=null;aa.prototype.column=null;aa.prototype.line=null;aa.prototype.source=null;aa.prototype.ruleId=null;aa.prototype.position=null;const Xa={basename:O$e,dirname:P$e,extname:R$e,join:N$e,sep:"/"};function O$e(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');rv(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.charCodeAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,a=t.length-1;for(;i--;)if(e.charCodeAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(e.charCodeAt(i)===t.charCodeAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function P$e(e){if(rv(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.charCodeAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.charCodeAt(0)===47?"/":".":t===1&&e.charCodeAt(0)===47?"//":e.slice(0,t)}function R$e(e){rv(e);let t=e.length,n=-1,r=0,i=-1,s=0,o;for(;t--;){const a=e.charCodeAt(t);if(a===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),a===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function N$e(...e){let t=-1,n;for(;++t<e.length;)rv(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":k$e(n)}function k$e(e){rv(e);const t=e.charCodeAt(0)===47;let n=D$e(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.charCodeAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function D$e(e,t){let n="",r=0,i=-1,s=0,o=-1,a,u;for(;++o<=e.length;){if(o<e.length)a=e.charCodeAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function rv(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const $$e={cwd:L$e};function L$e(){return"/"}function sR(e){return e!==null&&typeof e=="object"&&e.href&&e.origin}function M$e(e){if(typeof e=="string")e=new URL(e);else if(!sR(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return F$e(e)}function F$e(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.charCodeAt(n)===37&&t.charCodeAt(n+1)===50){const r=t.charCodeAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const XC=["history","path","basename","stem","extname","dirname"];class B$e{constructor(t){let n;t?typeof t=="string"||U$(t)?n={value:t}:sR(t)?n={path:t}:n=t:n={},this.data={},this.messages=[],this.history=[],this.cwd=$$e.cwd(),this.value,this.stored,this.result,this.map;let r=-1;for(;++r<XC.length;){const s=XC[r];s in n&&n[s]!==void 0&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)XC.includes(i)||(this[i]=n[i])}get path(){return this.history[this.history.length-1]}set path(t){sR(t)&&(t=M$e(t)),ZC(t,"path"),this.path!==t&&this.history.push(t)}get dirname(){return typeof this.path=="string"?Xa.dirname(this.path):void 0}set dirname(t){_j(this.basename,"dirname"),this.path=Xa.join(t||"",this.basename)}get basename(){return typeof this.path=="string"?Xa.basename(this.path):void 0}set basename(t){ZC(t,"basename"),JC(t,"basename"),this.path=Xa.join(this.dirname||"",t)}get extname(){return typeof this.path=="string"?Xa.extname(this.path):void 0}set extname(t){if(JC(t,"extname"),_j(this.dirname,"extname"),t){if(t.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Xa.join(this.dirname,this.stem+(t||""))}get stem(){return typeof this.path=="string"?Xa.basename(this.path,this.extname):void 0}set stem(t){ZC(t,"stem"),JC(t,"stem"),this.path=Xa.join(this.dirname||"",t+(this.extname||""))}toString(t){return(this.value||"").toString(t)}message(t,n,r){const i=new aa(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=null,i}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}}function JC(e,t){if(e&&e.includes(Xa.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Xa.sep+"`")}function ZC(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function _j(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}const j$e=ZZ().freeze(),JZ={}.hasOwnProperty;function ZZ(){const e=A$e(),t=[];let n={},r,i=-1;return s.data=o,s.Parser=void 0,s.Compiler=void 0,s.freeze=a,s.attachers=t,s.use=u,s.parse=l,s.stringify=c,s.run=f,s.runSync=d,s.process=h,s.processSync=p,s;function s(){const g=ZZ();let y=-1;for(;++y<t.length;)g.use(...t[y]);return g.data(yj(!0,{},n)),g}function o(g,y){return typeof g=="string"?arguments.length===2?(nO("data",r),n[g]=y,s):JZ.call(n,g)&&n[g]||null:g?(nO("data",r),n=g,s):n}function a(){if(r)return s;for(;++i<t.length;){const[g,...y]=t[i];if(y[0]===!1)continue;y[0]===!0&&(y[0]=void 0);const m=g.call(s,...y);typeof m=="function"&&e.use(m)}return r=!0,i=Number.POSITIVE_INFINITY,s}function u(g,...y){let m;if(nO("use",r),g!=null)if(typeof g=="function")S(g,...y);else if(typeof g=="object")Array.isArray(g)?T(g):v(g);else throw new TypeError("Expected usable value, not `"+g+"`");return m&&(n.settings=Object.assign(n.settings||{},m)),s;function _(w){if(typeof w=="function")S(w);else if(typeof w=="object")if(Array.isArray(w)){const[x,...A]=w;S(x,...A)}else v(w);else throw new TypeError("Expected usable value, not `"+w+"`")}function v(w){T(w.plugins),w.settings&&(m=Object.assign(m||{},w.settings))}function T(w){let x=-1;if(w!=null)if(Array.isArray(w))for(;++x<w.length;){const A=w[x];_(A)}else throw new TypeError("Expected a list of plugins, not `"+w+"`")}function S(w,x){let A=-1,$;for(;++A<t.length;)if(t[A][0]===w){$=t[A];break}$?(iR($[1])&&iR(x)&&(x=yj(!0,$[1],x)),$[1]=x):t.push([...arguments])}}function l(g){s.freeze();const y=Yg(g),m=s.Parser;return eO("parse",m),vj(m,"parse")?new m(String(y),y).parse():m(String(y),y)}function c(g,y){s.freeze();const m=Yg(y),_=s.Compiler;return tO("stringify",_),bj(g),vj(_,"compile")?new _(g,m).compile():_(g,m)}function f(g,y,m){if(bj(g),s.freeze(),!m&&typeof y=="function"&&(m=y,y=void 0),!m)return new Promise(_);_(null,m);function _(v,T){e.run(g,Yg(y),S);function S(w,x,A){x=x||g,w?T(w):v?v(x):m(null,x,A)}}}function d(g,y){let m,_;return s.run(g,y,v),wj("runSync","run",_),m;function v(T,S){cj(T),m=S,_=!0}}function h(g,y){if(s.freeze(),eO("process",s.Parser),tO("process",s.Compiler),!y)return new Promise(m);m(null,y);function m(_,v){const T=Yg(g);s.run(s.parse(T),T,(w,x,A)=>{if(w||!x||!A)S(w);else{const $=s.stringify(x,A);$==null||(z$e($)?A.value=$:A.result=$),S(w,A)}});function S(w,x){w||!x?v(w):_?_(x):y(null,x)}}}function p(g){let y;s.freeze(),eO("processSync",s.Parser),tO("processSync",s.Compiler);const m=Yg(g);return s.process(m,_),wj("processSync","process",y),m;function _(v){y=!0,cj(v)}}}function vj(e,t){return typeof e=="function"&&e.prototype&&(U$e(e.prototype)||t in e.prototype)}function U$e(e){let t;for(t in e)if(JZ.call(e,t))return!0;return!1}function eO(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `Parser`")}function tO(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `Compiler`")}function nO(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function bj(e){if(!iR(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function wj(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Yg(e){return V$e(e)?e:new B$e(e)}function V$e(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function z$e(e){return typeof e=="string"||U$(e)}function H$e(e,t){var{includeImageAlt:n=!0}=t||{};return eee(e,n)}function eee(e,t){return e&&typeof e=="object"&&(e.value||(t?e.alt:"")||"children"in e&&Ej(e.children,t)||Array.isArray(e)&&Ej(e,t))||""}function Ej(e,t){for(var n=[],r=-1;++r<e.length;)n[r]=eee(e[r],t);return n.join("")}function ku(e,t,n,r){const i=e.length;let s=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),[].splice.apply(e,o);else for(n&&[].splice.apply(e,[t,n]);s<r.length;)o=r.slice(s,s+1e4),o.unshift(t,0),[].splice.apply(e,o),s+=1e4,t+=1e4}function Vo(e,t){return e.length>0?(ku(e,e.length,0,t),e):t}const Tj={}.hasOwnProperty;function W$e(e){const t={};let n=-1;for(;++n<e.length;)q$e(t,e[n]);return t}function q$e(e,t){let n;for(n in t){const i=(Tj.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let o;for(o in s){Tj.call(i,o)||(i[o]=[]);const a=s[o];Y$e(i[o],Array.isArray(a)?a:a?[a]:[])}}}function Y$e(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);ku(e,0,0,r)}const G$e=/[!-/:-@[-`{-~\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,ou=Lf(/[A-Za-z]/),oR=Lf(/\d/),K$e=Lf(/[\dA-Fa-f]/),ho=Lf(/[\dA-Za-z]/),Q$e=Lf(/[!-/:-@[-`{-~]/),Sj=Lf(/[#-'*+\--9=?A-Z^-~]/);function aR(e){return e!==null&&(e<32||e===127)}function Jo(e){return e!==null&&(e<0||e===32)}function Tt(e){return e!==null&&e<-2}function Hr(e){return e===-2||e===-1||e===32}const X$e=Lf(/\s/),J$e=Lf(G$e);function Lf(e){return t;function t(n){return n!==null&&e.test(String.fromCharCode(n))}}function Vn(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(u){return Hr(u)?(e.enter(n),a(u)):t(u)}function a(u){return Hr(u)&&s++<i?(e.consume(u),a):(e.exit(n),t(u))}}const Z$e={tokenize:e3e};function e3e(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),Vn(e,t,"linePrefix")}function i(a){return e.enter("paragraph"),s(a)}function s(a){const u=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=u),n=u,o(a)}function o(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return Tt(a)?(e.consume(a),e.exit("chunkText"),s):(e.consume(a),o)}}const t3e={tokenize:n3e},xj={tokenize:r3e};function n3e(e){const t=this,n=[];let r=0,i,s,o;return a;function a(v){if(r<n.length){const T=n[r];return t.containerState=T[1],e.attempt(T[0].continuation,u,l)(v)}return l(v)}function u(v){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&_();const T=t.events.length;let S=T,w;for(;S--;)if(t.events[S][0]==="exit"&&t.events[S][1].type==="chunkFlow"){w=t.events[S][1].end;break}m(r);let x=T;for(;x<t.events.length;)t.events[x][1].end=Object.assign({},w),x++;return ku(t.events,S+1,0,t.events.slice(T)),t.events.length=x,l(v)}return a(v)}function l(v){if(r===n.length){if(!i)return d(v);if(i.currentConstruct&&i.currentConstruct.concrete)return p(v);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(xj,c,f)(v)}function c(v){return i&&_(),m(r),d(v)}function f(v){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,p(v)}function d(v){return t.containerState={},e.attempt(xj,h,p)(v)}function h(v){return r++,n.push([t.currentConstruct,t.containerState]),d(v)}function p(v){if(v===null){i&&_(),m(0),e.consume(v);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:s,_tokenizer:i}),g(v)}function g(v){if(v===null){y(e.exit("chunkFlow"),!0),m(0),e.consume(v);return}return Tt(v)?(e.consume(v),y(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(v),g)}function y(v,T){const S=t.sliceStream(v);if(T&&S.push(null),v.previous=s,s&&(s.next=v),s=v,i.defineSkip(v.start),i.write(S),t.parser.lazy[v.start.line]){let w=i.events.length;for(;w--;)if(i.events[w][1].start.offset<o&&(!i.events[w][1].end||i.events[w][1].end.offset>o))return;const x=t.events.length;let A=x,$,D;for(;A--;)if(t.events[A][0]==="exit"&&t.events[A][1].type==="chunkFlow"){if($){D=t.events[A][1].end;break}$=!0}for(m(r),w=x;w<t.events.length;)t.events[w][1].end=Object.assign({},D),w++;ku(t.events,A+1,0,t.events.slice(x)),t.events.length=w}}function m(v){let T=n.length;for(;T-- >v;){const S=n[T];t.containerState=S[1],S[0].exit.call(t,e)}n.length=v}function _(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function r3e(e,t,n){return Vn(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Ij(e){if(e===null||Jo(e)||X$e(e))return 1;if(J$e(e))return 2}function V$(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const uR={name:"attention",tokenize:s3e,resolveAll:i3e};function i3e(e,t){let n=-1,r,i,s,o,a,u,l,c;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;u=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f=Object.assign({},e[r][1].end),d=Object.assign({},e[n][1].start);Aj(f,-u),Aj(d,u),o={type:u>1?"strongSequence":"emphasisSequence",start:f,end:Object.assign({},e[r][1].end)},a={type:u>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[n][1].start),end:d},s={type:u>1?"strongText":"emphasisText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[n][1].start)},i={type:u>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},a.end)},e[r][1].end=Object.assign({},o.start),e[n][1].start=Object.assign({},a.end),l=[],e[r][1].end.offset-e[r][1].start.offset&&(l=Vo(l,[["enter",e[r][1],t],["exit",e[r][1],t]])),l=Vo(l,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",s,t]]),l=Vo(l,V$(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),l=Vo(l,[["exit",s,t],["enter",a,t],["exit",a,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(c=2,l=Vo(l,[["enter",e[n][1],t],["exit",e[n][1],t]])):c=0,ku(e,r-1,n-r+3,l),n=r+l.length-c-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function s3e(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Ij(r);let s;return o;function o(u){return e.enter("attentionSequence"),s=u,a(u)}function a(u){if(u===s)return e.consume(u),a;const l=e.exit("attentionSequence"),c=Ij(u),f=!c||c===2&&i||n.includes(u),d=!i||i===2&&c||n.includes(r);return l._open=!!(s===42?f:f&&(i||!d)),l._close=!!(s===42?d:d&&(c||!f)),t(u)}}function Aj(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const o3e={name:"autolink",tokenize:a3e};function a3e(e,t,n){let r=1;return i;function i(p){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(p){return ou(p)?(e.consume(p),o):Sj(p)?l(p):n(p)}function o(p){return p===43||p===45||p===46||ho(p)?a(p):l(p)}function a(p){return p===58?(e.consume(p),u):(p===43||p===45||p===46||ho(p))&&r++<32?(e.consume(p),a):l(p)}function u(p){return p===62?(e.exit("autolinkProtocol"),h(p)):p===null||p===32||p===60||aR(p)?n(p):(e.consume(p),u)}function l(p){return p===64?(e.consume(p),r=0,c):Sj(p)?(e.consume(p),l):n(p)}function c(p){return ho(p)?f(p):n(p)}function f(p){return p===46?(e.consume(p),r=0,c):p===62?(e.exit("autolinkProtocol").type="autolinkEmail",h(p)):d(p)}function d(p){return(p===45||ho(p))&&r++<63?(e.consume(p),p===45?d:f):n(p)}function h(p){return e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t}}const Xx={tokenize:u3e,partial:!0};function u3e(e,t,n){return Vn(e,r,"linePrefix");function r(i){return i===null||Tt(i)?t(i):n(i)}}const tee={name:"blockQuote",tokenize:l3e,continuation:{tokenize:c3e},exit:f3e};function l3e(e,t,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),s}return n(o)}function s(o){return Hr(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function c3e(e,t,n){return Vn(e,e.attempt(tee,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function f3e(e){e.exit("blockQuote")}const nee={name:"characterEscape",tokenize:d3e};function d3e(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return Q$e(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const Cj=document.createElement("i");function z$(e){const t="&"+e+";";Cj.innerHTML=t;const n=Cj.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}const ree={name:"characterReference",tokenize:h3e};function h3e(e,t,n){const r=this;let i=0,s,o;return a;function a(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),u}function u(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),l):(e.enter("characterReferenceValue"),s=31,o=ho,c(f))}function l(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,o=K$e,c):(e.enter("characterReferenceValue"),s=7,o=oR,c(f))}function c(f){let d;return f===59&&i?(d=e.exit("characterReferenceValue"),o===ho&&!z$(r.sliceSerialize(d))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)):o(f)&&i++<s?(e.consume(f),c):n(f)}}const Oj={name:"codeFenced",tokenize:p3e,concrete:!0};function p3e(e,t,n){const r=this,i={tokenize:S,partial:!0},s={tokenize:T,partial:!0},o=this.events[this.events.length-1],a=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0;let u=0,l;return c;function c(w){return e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),l=w,f(w)}function f(w){return w===l?(e.consume(w),u++,f):(e.exit("codeFencedFenceSequence"),u<3?n(w):Vn(e,d,"whitespace")(w))}function d(w){return w===null||Tt(w)?y(w):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(w))}function h(w){return w===null||Jo(w)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Vn(e,p,"whitespace")(w)):w===96&&w===l?n(w):(e.consume(w),h)}function p(w){return w===null||Tt(w)?y(w):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),g(w))}function g(w){return w===null||Tt(w)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),y(w)):w===96&&w===l?n(w):(e.consume(w),g)}function y(w){return e.exit("codeFencedFence"),r.interrupt?t(w):m(w)}function m(w){return w===null?v(w):Tt(w)?e.attempt(s,e.attempt(i,v,a?Vn(e,m,"linePrefix",a+1):m),v)(w):(e.enter("codeFlowValue"),_(w))}function _(w){return w===null||Tt(w)?(e.exit("codeFlowValue"),m(w)):(e.consume(w),_)}function v(w){return e.exit("codeFenced"),t(w)}function T(w,x,A){const $=this;return D;function D(q){return w.enter("lineEnding"),w.consume(q),w.exit("lineEnding"),P}function P(q){return $.parser.lazy[$.now().line]?A(q):x(q)}}function S(w,x,A){let $=0;return Vn(w,D,"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function D(V){return w.enter("codeFencedFence"),w.enter("codeFencedFenceSequence"),P(V)}function P(V){return V===l?(w.consume(V),$++,P):$<u?A(V):(w.exit("codeFencedFenceSequence"),Vn(w,q,"whitespace")(V))}function q(V){return V===null||Tt(V)?(w.exit("codeFencedFence"),x(V)):A(V)}}}const rO={name:"codeIndented",tokenize:g3e},m3e={tokenize:y3e,partial:!0};function g3e(e,t,n){const r=this;return i;function i(l){return e.enter("codeIndented"),Vn(e,s,"linePrefix",5)(l)}function s(l){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?o(l):n(l)}function o(l){return l===null?u(l):Tt(l)?e.attempt(m3e,o,u)(l):(e.enter("codeFlowValue"),a(l))}function a(l){return l===null||Tt(l)?(e.exit("codeFlowValue"),o(l)):(e.consume(l),a)}function u(l){return e.exit("codeIndented"),t(l)}}function y3e(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):Tt(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):Vn(e,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):Tt(o)?i(o):n(o)}}const _3e={name:"codeText",tokenize:w3e,resolve:v3e,previous:b3e};function v3e(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function b3e(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function w3e(e,t,n){let r=0,i,s;return o;function o(f){return e.enter("codeText"),e.enter("codeTextSequence"),a(f)}function a(f){return f===96?(e.consume(f),r++,a):(e.exit("codeTextSequence"),u(f))}function u(f){return f===null?n(f):f===96?(s=e.enter("codeTextSequence"),i=0,c(f)):f===32?(e.enter("space"),e.consume(f),e.exit("space"),u):Tt(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),u):(e.enter("codeTextData"),l(f))}function l(f){return f===null||f===32||f===96||Tt(f)?(e.exit("codeTextData"),u(f)):(e.consume(f),l)}function c(f){return f===96?(e.consume(f),i++,c):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(s.type="codeTextData",l(f))}}function iee(e){const t={};let n=-1,r,i,s,o,a,u,l;for(;++n<e.length;){for(;n in t;)n=t[n];if(r=e[n],n&&r[1].type==="chunkFlow"&&e[n-1][1].type==="listItemPrefix"&&(u=r[1]._tokenizer.events,s=0,s<u.length&&u[s][1].type==="lineEndingBlank"&&(s+=2),s<u.length&&u[s][1].type==="content"))for(;++s<u.length&&u[s][1].type!=="content";)u[s][1].type==="chunkText"&&(u[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,E3e(e,n)),n=t[n],l=!0);else if(r[1]._container){for(s=n,i=void 0;s--&&(o=e[s],o[1].type==="lineEnding"||o[1].type==="lineEndingBlank");)o[0]==="enter"&&(i&&(e[i][1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);i&&(r[1].end=Object.assign({},e[i][1].start),a=e.slice(i,n),a.unshift(r),ku(e,i,n-i+1,a))}}return!l}function E3e(e,t){const n=e[t][1],r=e[t][2];let i=t-1;const s=[],o=n._tokenizer||r.parser[n.contentType](n.start),a=o.events,u=[],l={};let c,f,d=-1,h=n,p=0,g=0;const y=[g];for(;h;){for(;e[++i][1]!==h;);s.push(i),h._tokenizer||(c=r.sliceStream(h),h.next||c.push(null),f&&o.defineSkip(h.start),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(c),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=h,h=h.next}for(h=n;++d<a.length;)a[d][0]==="exit"&&a[d-1][0]==="enter"&&a[d][1].type===a[d-1][1].type&&a[d][1].start.line!==a[d][1].end.line&&(g=d+1,y.push(g),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(o.events=[],h?(h._tokenizer=void 0,h.previous=void 0):y.pop(),d=y.length;d--;){const m=a.slice(y[d],y[d+1]),_=s.pop();u.unshift([_,_+m.length-1]),ku(e,_,2,m)}for(d=-1;++d<u.length;)l[p+u[d][0]]=p+u[d][1],p+=u[d][1]-u[d][0]-1;return l}const T3e={tokenize:I3e,resolve:x3e},S3e={tokenize:A3e,partial:!0};function x3e(e){return iee(e),e}function I3e(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):Tt(a)?e.check(S3e,o,s)(a):(e.consume(a),i)}function s(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function o(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function A3e(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),Vn(e,s,"linePrefix")}function s(o){if(o===null||Tt(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function see(e,t,n,r,i,s,o,a,u){const l=u||Number.POSITIVE_INFINITY;let c=0;return f;function f(m){return m===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(m),e.exit(s),d):m===null||m===41||aR(m)?n(m):(e.enter(r),e.enter(o),e.enter(a),e.enter("chunkString",{contentType:"string"}),g(m))}function d(m){return m===62?(e.enter(s),e.consume(m),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),h(m))}function h(m){return m===62?(e.exit("chunkString"),e.exit(a),d(m)):m===null||m===60||Tt(m)?n(m):(e.consume(m),m===92?p:h)}function p(m){return m===60||m===62||m===92?(e.consume(m),h):h(m)}function g(m){return m===40?++c>l?n(m):(e.consume(m),g):m===41?c--?(e.consume(m),g):(e.exit("chunkString"),e.exit(a),e.exit(o),e.exit(r),t(m)):m===null||Jo(m)?c?n(m):(e.exit("chunkString"),e.exit(a),e.exit(o),e.exit(r),t(m)):aR(m)?n(m):(e.consume(m),m===92?y:g)}function y(m){return m===40||m===41||m===92?(e.consume(m),g):g(m)}}function oee(e,t,n,r,i,s){const o=this;let a=0,u;return l;function l(h){return e.enter(r),e.enter(i),e.consume(h),e.exit(i),e.enter(s),c}function c(h){return h===null||h===91||h===93&&!u||h===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs||a>999?n(h):h===93?(e.exit(s),e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):Tt(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),f(h))}function f(h){return h===null||h===91||h===93||Tt(h)||a++>999?(e.exit("chunkString"),c(h)):(e.consume(h),u=u||!Hr(h),h===92?d:f)}function d(h){return h===91||h===92||h===93?(e.consume(h),a++,f):f(h)}}function aee(e,t,n,r,i,s){let o;return a;function a(d){return e.enter(r),e.enter(i),e.consume(d),e.exit(i),o=d===40?41:d,u}function u(d){return d===o?(e.enter(i),e.consume(d),e.exit(i),e.exit(r),t):(e.enter(s),l(d))}function l(d){return d===o?(e.exit(s),u(o)):d===null?n(d):Tt(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),Vn(e,l,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(d))}function c(d){return d===o||d===null||Tt(d)?(e.exit("chunkString"),l(d)):(e.consume(d),d===92?f:c)}function f(d){return d===o||d===92?(e.consume(d),c):c(d)}}function ty(e,t){let n;return r;function r(i){return Tt(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Hr(i)?Vn(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}function Mp(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const C3e={name:"definition",tokenize:P3e},O3e={tokenize:R3e,partial:!0};function P3e(e,t,n){const r=this;let i;return s;function s(u){return e.enter("definition"),oee.call(r,e,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(u)}function o(u){return i=Mp(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),u===58?(e.enter("definitionMarker"),e.consume(u),e.exit("definitionMarker"),ty(e,see(e,e.attempt(O3e,Vn(e,a,"whitespace"),Vn(e,a,"whitespace")),n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString"))):n(u)}function a(u){return u===null||Tt(u)?(e.exit("definition"),r.parser.defined.includes(i)||r.parser.defined.push(i),t(u)):n(u)}}function R3e(e,t,n){return r;function r(o){return Jo(o)?ty(e,i)(o):n(o)}function i(o){return o===34||o===39||o===40?aee(e,Vn(e,s,"whitespace"),n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o):n(o)}function s(o){return o===null||Tt(o)?t(o):n(o)}}const N3e={name:"hardBreakEscape",tokenize:k3e};function k3e(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.enter("escapeMarker"),e.consume(s),i}function i(s){return Tt(s)?(e.exit("escapeMarker"),e.exit("hardBreakEscape"),t(s)):n(s)}}const D3e={name:"headingAtx",tokenize:L3e,resolve:$3e};function $3e(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},ku(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function L3e(e,t,n){const r=this;let i=0;return s;function s(c){return e.enter("atxHeading"),e.enter("atxHeadingSequence"),o(c)}function o(c){return c===35&&i++<6?(e.consume(c),o):c===null||Jo(c)?(e.exit("atxHeadingSequence"),r.interrupt?t(c):a(c)):n(c)}function a(c){return c===35?(e.enter("atxHeadingSequence"),u(c)):c===null||Tt(c)?(e.exit("atxHeading"),t(c)):Hr(c)?Vn(e,a,"whitespace")(c):(e.enter("atxHeadingText"),l(c))}function u(c){return c===35?(e.consume(c),u):(e.exit("atxHeadingSequence"),a(c))}function l(c){return c===null||c===35||Jo(c)?(e.exit("atxHeadingText"),a(c)):(e.consume(c),l)}}const M3e=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Pj=["pre","script","style","textarea"],F3e={name:"htmlFlow",tokenize:U3e,resolveTo:j3e,concrete:!0},B3e={tokenize:V3e,partial:!0};function j3e(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function U3e(e,t,n){const r=this;let i,s,o,a,u;return l;function l(C){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(C),c}function c(C){return C===33?(e.consume(C),f):C===47?(e.consume(C),p):C===63?(e.consume(C),i=3,r.interrupt?t:ie):ou(C)?(e.consume(C),o=String.fromCharCode(C),s=!0,g):n(C)}function f(C){return C===45?(e.consume(C),i=2,d):C===91?(e.consume(C),i=5,o="CDATA[",a=0,h):ou(C)?(e.consume(C),i=4,r.interrupt?t:ie):n(C)}function d(C){return C===45?(e.consume(C),r.interrupt?t:ie):n(C)}function h(C){return C===o.charCodeAt(a++)?(e.consume(C),a===o.length?r.interrupt?t:P:h):n(C)}function p(C){return ou(C)?(e.consume(C),o=String.fromCharCode(C),g):n(C)}function g(C){return C===null||C===47||C===62||Jo(C)?C!==47&&s&&Pj.includes(o.toLowerCase())?(i=1,r.interrupt?t(C):P(C)):M3e.includes(o.toLowerCase())?(i=6,C===47?(e.consume(C),y):r.interrupt?t(C):P(C)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(C):s?_(C):m(C)):C===45||ho(C)?(e.consume(C),o+=String.fromCharCode(C),g):n(C)}function y(C){return C===62?(e.consume(C),r.interrupt?t:P):n(C)}function m(C){return Hr(C)?(e.consume(C),m):$(C)}function _(C){return C===47?(e.consume(C),$):C===58||C===95||ou(C)?(e.consume(C),v):Hr(C)?(e.consume(C),_):$(C)}function v(C){return C===45||C===46||C===58||C===95||ho(C)?(e.consume(C),v):T(C)}function T(C){return C===61?(e.consume(C),S):Hr(C)?(e.consume(C),T):_(C)}function S(C){return C===null||C===60||C===61||C===62||C===96?n(C):C===34||C===39?(e.consume(C),u=C,w):Hr(C)?(e.consume(C),S):(u=null,x(C))}function w(C){return C===null||Tt(C)?n(C):C===u?(e.consume(C),A):(e.consume(C),w)}function x(C){return C===null||C===34||C===39||C===60||C===61||C===62||C===96||Jo(C)?T(C):(e.consume(C),x)}function A(C){return C===47||C===62||Hr(C)?_(C):n(C)}function $(C){return C===62?(e.consume(C),D):n(C)}function D(C){return Hr(C)?(e.consume(C),D):C===null||Tt(C)?P(C):n(C)}function P(C){return C===45&&i===2?(e.consume(C),se):C===60&&i===1?(e.consume(C),oe):C===62&&i===4?(e.consume(C),K):C===63&&i===3?(e.consume(C),ie):C===93&&i===5?(e.consume(C),ee):Tt(C)&&(i===6||i===7)?e.check(B3e,K,q)(C):C===null||Tt(C)?q(C):(e.consume(C),P)}function q(C){return e.exit("htmlFlowData"),V(C)}function V(C){return C===null?I(C):Tt(C)?e.attempt({tokenize:U,partial:!0},V,I)(C):(e.enter("htmlFlowData"),P(C))}function U(C,H,N){return R;function R(ae){return C.enter("lineEnding"),C.consume(ae),C.exit("lineEnding"),Y}function Y(ae){return r.parser.lazy[r.now().line]?N(ae):H(ae)}}function se(C){return C===45?(e.consume(C),ie):P(C)}function oe(C){return C===47?(e.consume(C),o="",ce):P(C)}function ce(C){return C===62&&Pj.includes(o.toLowerCase())?(e.consume(C),K):ou(C)&&o.length<8?(e.consume(C),o+=String.fromCharCode(C),ce):P(C)}function ee(C){return C===93?(e.consume(C),ie):P(C)}function ie(C){return C===62?(e.consume(C),K):C===45&&i===2?(e.consume(C),ie):P(C)}function K(C){return C===null||Tt(C)?(e.exit("htmlFlowData"),I(C)):(e.consume(C),K)}function I(C){return e.exit("htmlFlow"),t(C)}}function V3e(e,t,n){return r;function r(i){return e.exit("htmlFlowData"),e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),e.attempt(Xx,t,n)}}const z3e={name:"htmlText",tokenize:H3e};function H3e(e,t,n){const r=this;let i,s,o,a;return u;function u(I){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(I),l}function l(I){return I===33?(e.consume(I),c):I===47?(e.consume(I),x):I===63?(e.consume(I),S):ou(I)?(e.consume(I),D):n(I)}function c(I){return I===45?(e.consume(I),f):I===91?(e.consume(I),s="CDATA[",o=0,y):ou(I)?(e.consume(I),T):n(I)}function f(I){return I===45?(e.consume(I),d):n(I)}function d(I){return I===null||I===62?n(I):I===45?(e.consume(I),h):p(I)}function h(I){return I===null||I===62?n(I):p(I)}function p(I){return I===null?n(I):I===45?(e.consume(I),g):Tt(I)?(a=p,ee(I)):(e.consume(I),p)}function g(I){return I===45?(e.consume(I),K):p(I)}function y(I){return I===s.charCodeAt(o++)?(e.consume(I),o===s.length?m:y):n(I)}function m(I){return I===null?n(I):I===93?(e.consume(I),_):Tt(I)?(a=m,ee(I)):(e.consume(I),m)}function _(I){return I===93?(e.consume(I),v):m(I)}function v(I){return I===62?K(I):I===93?(e.consume(I),v):m(I)}function T(I){return I===null||I===62?K(I):Tt(I)?(a=T,ee(I)):(e.consume(I),T)}function S(I){return I===null?n(I):I===63?(e.consume(I),w):Tt(I)?(a=S,ee(I)):(e.consume(I),S)}function w(I){return I===62?K(I):S(I)}function x(I){return ou(I)?(e.consume(I),A):n(I)}function A(I){return I===45||ho(I)?(e.consume(I),A):$(I)}function $(I){return Tt(I)?(a=$,ee(I)):Hr(I)?(e.consume(I),$):K(I)}function D(I){return I===45||ho(I)?(e.consume(I),D):I===47||I===62||Jo(I)?P(I):n(I)}function P(I){return I===47?(e.consume(I),K):I===58||I===95||ou(I)?(e.consume(I),q):Tt(I)?(a=P,ee(I)):Hr(I)?(e.consume(I),P):K(I)}function q(I){return I===45||I===46||I===58||I===95||ho(I)?(e.consume(I),q):V(I)}function V(I){return I===61?(e.consume(I),U):Tt(I)?(a=V,ee(I)):Hr(I)?(e.consume(I),V):P(I)}function U(I){return I===null||I===60||I===61||I===62||I===96?n(I):I===34||I===39?(e.consume(I),i=I,se):Tt(I)?(a=U,ee(I)):Hr(I)?(e.consume(I),U):(e.consume(I),i=void 0,ce)}function se(I){return I===i?(e.consume(I),oe):I===null?n(I):Tt(I)?(a=se,ee(I)):(e.consume(I),se)}function oe(I){return I===62||I===47||Jo(I)?P(I):n(I)}function ce(I){return I===null||I===34||I===39||I===60||I===61||I===96?n(I):I===62||Jo(I)?P(I):(e.consume(I),ce)}function ee(I){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(I),e.exit("lineEnding"),Vn(e,ie,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function ie(I){return e.enter("htmlTextData"),a(I)}function K(I){return I===62?(e.consume(I),e.exit("htmlTextData"),e.exit("htmlText"),t):n(I)}}const H$={name:"labelEnd",tokenize:Q3e,resolveTo:K3e,resolveAll:G3e},W3e={tokenize:X3e},q3e={tokenize:J3e},Y3e={tokenize:Z3e};function G3e(e){let t=-1,n;for(;++t<e.length;)n=e[t][1],(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(e.splice(t+1,n.type==="labelImage"?4:2),n.type="data",t++);return e}function K3e(e,t){let n=e.length,r=0,i,s,o,a;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const u={type:e[s][1].type==="labelLink"?"link":"image",start:Object.assign({},e[s][1].start),end:Object.assign({},e[e.length-1][1].end)},l={type:"label",start:Object.assign({},e[s][1].start),end:Object.assign({},e[o][1].end)},c={type:"labelText",start:Object.assign({},e[s+r+2][1].end),end:Object.assign({},e[o-2][1].start)};return a=[["enter",u,t],["enter",l,t]],a=Vo(a,e.slice(s+1,s+r+3)),a=Vo(a,[["enter",c,t]]),a=Vo(a,V$(t.parser.constructs.insideSpan.null,e.slice(s+r+4,o-3),t)),a=Vo(a,[["exit",c,t],e[o-2],e[o-1],["exit",l,t]]),a=Vo(a,e.slice(o+1)),a=Vo(a,[["exit",u,t]]),ku(e,s,e.length,a),e}function Q3e(e,t,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(c){return s?s._inactive?l(c):(o=r.parser.defined.includes(Mp(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(c),e.exit("labelMarker"),e.exit("labelEnd"),u):n(c)}function u(c){return c===40?e.attempt(W3e,t,o?t:l)(c):c===91?e.attempt(q3e,t,o?e.attempt(Y3e,t,l):l)(c):o?t(c):l(c)}function l(c){return s._balanced=!0,n(c)}}function X3e(e,t,n){return r;function r(u){return e.enter("resource"),e.enter("resourceMarker"),e.consume(u),e.exit("resourceMarker"),ty(e,i)}function i(u){return u===41?a(u):see(e,s,n,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(u)}function s(u){return Jo(u)?ty(e,o)(u):a(u)}function o(u){return u===34||u===39||u===40?aee(e,ty(e,a),n,"resourceTitle","resourceTitleMarker","resourceTitleString")(u):a(u)}function a(u){return u===41?(e.enter("resourceMarker"),e.consume(u),e.exit("resourceMarker"),e.exit("resource"),t):n(u)}}function J3e(e,t,n){const r=this;return i;function i(o){return oee.call(r,e,s,n,"reference","referenceMarker","referenceString")(o)}function s(o){return r.parser.defined.includes(Mp(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(o):n(o)}}function Z3e(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const e6e={name:"labelStartImage",tokenize:t6e,resolveAll:H$.resolveAll};function t6e(e,t,n){const r=this;return i;function i(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),s}function s(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const n6e={name:"labelStartLink",tokenize:r6e,resolveAll:H$.resolveAll};function r6e(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const iO={name:"lineEnding",tokenize:i6e};function i6e(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Vn(e,t,"linePrefix")}}const Nb={name:"thematicBreak",tokenize:s6e};function s6e(e,t,n){let r=0,i;return s;function s(u){return e.enter("thematicBreak"),i=u,o(u)}function o(u){return u===i?(e.enter("thematicBreakSequence"),a(u)):Hr(u)?Vn(e,o,"whitespace")(u):r<3||u!==null&&!Tt(u)?n(u):(e.exit("thematicBreak"),t(u))}function a(u){return u===i?(e.consume(u),r++,a):(e.exit("thematicBreakSequence"),o(u))}}const xs={name:"list",tokenize:u6e,continuation:{tokenize:l6e},exit:f6e},o6e={tokenize:d6e,partial:!0},a6e={tokenize:c6e,partial:!0};function u6e(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(h){const p=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:oR(h)){if(r.containerState.type||(r.containerState.type=p,e.enter(p,{_container:!0})),p==="listUnordered")return e.enter("listItemPrefix"),h===42||h===45?e.check(Nb,n,l)(h):l(h);if(!r.interrupt||h===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),u(h)}return n(h)}function u(h){return oR(h)&&++o<10?(e.consume(h),u):(!r.interrupt||o<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(e.exit("listItemValue"),l(h)):n(h)}function l(h){return e.enter("listItemMarker"),e.consume(h),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,e.check(Xx,r.interrupt?n:c,e.attempt(o6e,d,f))}function c(h){return r.containerState.initialBlankLine=!0,s++,d(h)}function f(h){return Hr(h)?(e.enter("listItemPrefixWhitespace"),e.consume(h),e.exit("listItemPrefixWhitespace"),d):n(h)}function d(h){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(h)}}function l6e(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Xx,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Vn(e,t,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!Hr(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(a6e,t,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,Vn(e,e.attempt(xs,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function c6e(e,t,n){const r=this;return Vn(e,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(s):n(s)}}function f6e(e){e.exit(this.containerState.type)}function d6e(e,t,n){const r=this;return Vn(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!Hr(s)&&o&&o[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const Rj={name:"setextUnderline",tokenize:p6e,resolveTo:h6e};function h6e(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",o,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end=Object.assign({},e[s][1].end)):e[r][1]=o,e.push(["exit",o,t]),e}function p6e(e,t,n){const r=this;let i=r.events.length,s,o;for(;i--;)if(r.events[i][1].type!=="lineEnding"&&r.events[i][1].type!=="linePrefix"&&r.events[i][1].type!=="content"){o=r.events[i][1].type==="paragraph";break}return a;function a(c){return!r.parser.lazy[r.now().line]&&(r.interrupt||o)?(e.enter("setextHeadingLine"),e.enter("setextHeadingLineSequence"),s=c,u(c)):n(c)}function u(c){return c===s?(e.consume(c),u):(e.exit("setextHeadingLineSequence"),Vn(e,l,"lineSuffix")(c))}function l(c){return c===null||Tt(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const m6e={tokenize:g6e};function g6e(e){const t=this,n=e.attempt(Xx,r,e.attempt(this.parser.constructs.flowInitial,i,Vn(e,e.attempt(this.parser.constructs.flow,i,e.attempt(T3e,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const y6e={resolveAll:lee()},_6e=uee("string"),v6e=uee("text");function uee(e){return{tokenize:t,resolveAll:lee(e==="text"?b6e:void 0)};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,o,a);return o;function o(c){return l(c)?s(c):a(c)}function a(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),u}function u(c){return l(c)?(n.exit("data"),s(c)):(n.consume(c),u)}function l(c){if(c===null)return!0;const f=i[c];let d=-1;if(f)for(;++d<f.length;){const h=f[d];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}function lee(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function b6e(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,o=-1,a=0,u;for(;s--;){const l=i[s];if(typeof l=="string"){for(o=l.length;l.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(l===-2)u=!0,a++;else if(l!==-1){s++;break}}if(a){const l={type:n===e.length||u||a<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-a,offset:r.end.offset-a,_index:r.start._index+s,_bufferIndex:s?o:r.start._bufferIndex+o},end:Object.assign({},r.end)};r.end=Object.assign({},l.start),r.start.offset===r.end.offset?Object.assign(r,l):(e.splice(n,0,["enter",l,t],["exit",l,t]),n+=2)}n++}return e}function w6e(e,t,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},s=[];let o=[],a=[];const u={consume:_,enter:v,exit:T,attempt:x(S),check:x(w),interrupt:x(w,{interrupt:!0})},l={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:h,sliceSerialize:d,now:p,defineSkip:g,write:f};let c=t.tokenize.call(l,u);return t.resolveAll&&s.push(t),l;function f(P){return o=Vo(o,P),y(),o[o.length-1]!==null?[]:(A(t,0),l.events=V$(s,l.events,l),l.events)}function d(P,q){return T6e(h(P),q)}function h(P){return E6e(o,P)}function p(){return Object.assign({},r)}function g(P){i[P.line]=P.column,D()}function y(){let P;for(;r._index<o.length;){const q=o[r._index];if(typeof q=="string")for(P=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===P&&r._bufferIndex<q.length;)m(q.charCodeAt(r._bufferIndex));else m(q)}}function m(P){c=c(P)}function _(P){Tt(P)?(r.line++,r.column=1,r.offset+=P===-3?2:1,D()):P!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),l.previous=P}function v(P,q){const V=q||{};return V.type=P,V.start=p(),l.events.push(["enter",V,l]),a.push(V),V}function T(P){const q=a.pop();return q.end=p(),l.events.push(["exit",q,l]),q}function S(P,q){A(P,q.from)}function w(P,q){q.restore()}function x(P,q){return V;function V(U,se,oe){let ce,ee,ie,K;return Array.isArray(U)?C(U):"tokenize"in U?C([U]):I(U);function I(Y){return ae;function ae(le){const pe=le!==null&&Y[le],he=le!==null&&Y.null,Se=[...Array.isArray(pe)?pe:pe?[pe]:[],...Array.isArray(he)?he:he?[he]:[]];return C(Se)(le)}}function C(Y){return ce=Y,ee=0,Y.length===0?oe:H(Y[ee])}function H(Y){return ae;function ae(le){return K=$(),ie=Y,Y.partial||(l.currentConstruct=Y),Y.name&&l.parser.constructs.disable.null.includes(Y.name)?R():Y.tokenize.call(q?Object.assign(Object.create(l),q):l,u,N,R)(le)}}function N(Y){return P(ie,K),se}function R(Y){return K.restore(),++ee<ce.length?H(ce[ee]):oe}}}function A(P,q){P.resolveAll&&!s.includes(P)&&s.push(P),P.resolve&&ku(l.events,q,l.events.length-q,P.resolve(l.events.slice(q),l)),P.resolveTo&&(l.events=P.resolveTo(l.events,l))}function $(){const P=p(),q=l.previous,V=l.currentConstruct,U=l.events.length,se=Array.from(a);return{restore:oe,from:U};function oe(){r=P,l.previous=q,l.currentConstruct=V,l.events.length=U,a=se,D()}}function D(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function E6e(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let o;return n===i?o=[e[n].slice(r,s)]:(o=e.slice(n,i),r>-1&&(o[0]=o[0].slice(r)),s>0&&o.push(e[i].slice(0,s))),o}function T6e(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}const S6e={42:xs,43:xs,45:xs,48:xs,49:xs,50:xs,51:xs,52:xs,53:xs,54:xs,55:xs,56:xs,57:xs,62:tee},x6e={91:C3e},I6e={[-2]:rO,[-1]:rO,32:rO},A6e={35:D3e,42:Nb,45:[Rj,Nb],60:F3e,61:Rj,95:Nb,96:Oj,126:Oj},C6e={38:ree,92:nee},O6e={[-5]:iO,[-4]:iO,[-3]:iO,33:e6e,38:ree,42:uR,60:[o3e,z3e],91:n6e,92:[N3e,nee],93:H$,95:uR,96:_3e},P6e={null:[uR,y6e]},R6e={null:[42,95]},N6e={null:[]},k6e=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:R6e,contentInitial:x6e,disable:N6e,document:S6e,flow:A6e,flowInitial:I6e,insideSpan:P6e,string:C6e,text:O6e},Symbol.toStringTag,{value:"Module"}));function D6e(e={}){const t=W$e([k6e].concat(e.extensions||[])),n={defined:[],lazy:{},constructs:t,content:r(Z$e),document:r(t3e),flow:r(m6e),string:r(_6e),text:r(v6e)};return n;function r(i){return s;function s(o){return w6e(n,i,o)}}}const Nj=/[\0\t\n\r]/g;function $6e(){let e=1,t="",n=!0,r;return i;function i(s,o,a){const u=[];let l,c,f,d,h;for(s=t+s.toString(o),f=0,t="",n&&(s.charCodeAt(0)===65279&&f++,n=void 0);f<s.length;){if(Nj.lastIndex=f,l=Nj.exec(s),d=l&&l.index!==void 0?l.index:s.length,h=s.charCodeAt(d),!l){t=s.slice(f);break}if(h===10&&f===d&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),f<d&&(u.push(s.slice(f,d)),e+=d-f),h){case 0:{u.push(65533),e++;break}case 9:{for(c=Math.ceil(e/4)*4,u.push(-2);e++<c;)u.push(-1);break}case 10:{u.push(-4),e=1;break}default:r=!0,e=1}f=d+1}return a&&(r&&u.push(-5),t&&u.push(t),u.push(null)),u}}function L6e(e){for(;!iee(e););return e}function cee(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCharCode(n)}const M6e=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function F6e(e){return e.replace(M6e,B6e)}function B6e(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return cee(n.slice(s?2:1),s?16:10)}return z$(n)||e}const lR={}.hasOwnProperty,j6e=function(e,t,n){return typeof t!="string"&&(n=t,t=void 0),U6e(n)(L6e(D6e(n).document().write($6e()(e,t,!0))))};function U6e(e={}){const t=fee({transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:u(Ue),autolinkProtocol:q,autolinkEmail:q,atxHeading:u(Ae),blockQuote:u(me),characterEscape:q,characterReference:q,codeFenced:u(Xe),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:u(Xe,l),codeText:u(Ye,l),codeTextData:q,data:q,codeFlowValue:q,definition:u(He),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:u(Le),hardBreakEscape:u(Ve),hardBreakTrailing:u(Ve),htmlFlow:u(Zt,l),htmlFlowData:q,htmlText:u(Zt,l),htmlTextData:q,image:u(Me),label:l,link:u(Ue),listItem:u(ze),listItemValue:g,listOrdered:u(wt,p),listUnordered:u(wt),paragraph:u(yt),reference:Y,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:u(Ae),strong:u(Gt),thematicBreak:u(Gn)},exit:{atxHeading:f(),atxHeadingSequence:A,autolink:f(),autolinkEmail:Se,autolinkProtocol:he,blockQuote:f(),characterEscapeValue:V,characterReferenceMarkerHexadecimal:le,characterReferenceMarkerNumeric:le,characterReferenceValue:pe,codeFenced:f(v),codeFencedFence:_,codeFencedFenceInfo:y,codeFencedFenceMeta:m,codeFlowValue:V,codeIndented:f(T),codeText:f(ee),codeTextData:V,data:V,definition:f(),definitionDestinationString:x,definitionLabelString:S,definitionTitleString:w,emphasis:f(),hardBreakEscape:f(se),hardBreakTrailing:f(se),htmlFlow:f(oe),htmlFlowData:V,htmlText:f(ce),htmlTextData:V,image:f(K),label:C,labelText:I,lineEnding:U,link:f(ie),listItem:f(),listOrdered:f(),listUnordered:f(),paragraph:f(),referenceString:ae,resourceDestinationString:H,resourceTitleString:N,resource:R,setextHeading:f(P),setextHeadingLineSequence:D,setextHeadingText:$,strong:f(),thematicBreak:f()}},e.mdastExtensions||[]),n={};return r;function r(de){let Ee={type:"root",children:[]};const Fe=[Ee],ot=[],$e=[],at={stack:Fe,tokenStack:ot,config:t,enter:c,exit:d,buffer:l,resume:h,setData:s,getData:o};let Be=-1;for(;++Be<de.length;)if(de[Be][1].type==="listOrdered"||de[Be][1].type==="listUnordered")if(de[Be][0]==="enter")$e.push(Be);else{const nt=$e.pop();Be=i(de,nt,Be)}for(Be=-1;++Be<de.length;){const nt=t[de[Be][0]];lR.call(nt,de[Be][1].type)&&nt[de[Be][1].type].call(Object.assign({sliceSerialize:de[Be][2].sliceSerialize},at),de[Be][1])}if(ot.length>0){const nt=ot[ot.length-1];(nt[1]||kj).call(at,void 0,nt[0])}for(Ee.position={start:a(de.length>0?de[0][1].start:{line:1,column:1,offset:0}),end:a(de.length>0?de[de.length-2][1].end:{line:1,column:1,offset:0})},Be=-1;++Be<t.transforms.length;)Ee=t.transforms[Be](Ee)||Ee;return Ee}function i(de,Ee,Fe){let ot=Ee-1,$e=-1,at=!1,Be,nt,wn,Wt;for(;++ot<=Fe;){const xt=de[ot];if(xt[1].type==="listUnordered"||xt[1].type==="listOrdered"||xt[1].type==="blockQuote"?(xt[0]==="enter"?$e++:$e--,Wt=void 0):xt[1].type==="lineEndingBlank"?xt[0]==="enter"&&(Be&&!Wt&&!$e&&!wn&&(wn=ot),Wt=void 0):xt[1].type==="linePrefix"||xt[1].type==="listItemValue"||xt[1].type==="listItemMarker"||xt[1].type==="listItemPrefix"||xt[1].type==="listItemPrefixWhitespace"||(Wt=void 0),!$e&&xt[0]==="enter"&&xt[1].type==="listItemPrefix"||$e===-1&&xt[0]==="exit"&&(xt[1].type==="listUnordered"||xt[1].type==="listOrdered")){if(Be){let Bn=ot;for(nt=void 0;Bn--;){const En=de[Bn];if(En[1].type==="lineEnding"||En[1].type==="lineEndingBlank"){if(En[0]==="exit")continue;nt&&(de[nt][1].type="lineEndingBlank",at=!0),En[1].type="lineEnding",nt=Bn}else if(!(En[1].type==="linePrefix"||En[1].type==="blockQuotePrefix"||En[1].type==="blockQuotePrefixWhitespace"||En[1].type==="blockQuoteMarker"||En[1].type==="listItemIndent"))break}wn&&(!nt||wn<nt)&&(Be._spread=!0),Be.end=Object.assign({},nt?de[nt][1].start:xt[1].end),de.splice(nt||ot,0,["exit",Be,xt[2]]),ot++,Fe++}xt[1].type==="listItemPrefix"&&(Be={type:"listItem",_spread:!1,start:Object.assign({},xt[1].start)},de.splice(ot,0,["enter",Be,xt[2]]),ot++,Fe++,wn=void 0,Wt=!0)}}return de[Ee][1]._spread=at,Fe}function s(de,Ee){n[de]=Ee}function o(de){return n[de]}function a(de){return{line:de.line,column:de.column,offset:de.offset}}function u(de,Ee){return Fe;function Fe(ot){c.call(this,de(ot),ot),Ee&&Ee.call(this,ot)}}function l(){this.stack.push({type:"fragment",children:[]})}function c(de,Ee,Fe){return this.stack[this.stack.length-1].children.push(de),this.stack.push(de),this.tokenStack.push([Ee,Fe]),de.position={start:a(Ee.start)},de}function f(de){return Ee;function Ee(Fe){de&&de.call(this,Fe),d.call(this,Fe)}}function d(de,Ee){const Fe=this.stack.pop(),ot=this.tokenStack.pop();if(ot)ot[0].type!==de.type&&(Ee?Ee.call(this,de,ot[0]):(ot[1]||kj).call(this,de,ot[0]));else throw new Error("Cannot close `"+de.type+"` ("+Lp({start:de.start,end:de.end})+"): its not open");return Fe.position.end=a(de.end),Fe}function h(){return H$e(this.stack.pop())}function p(){s("expectingFirstListItemValue",!0)}function g(de){if(o("expectingFirstListItemValue")){const Ee=this.stack[this.stack.length-2];Ee.start=Number.parseInt(this.sliceSerialize(de),10),s("expectingFirstListItemValue")}}function y(){const de=this.resume(),Ee=this.stack[this.stack.length-1];Ee.lang=de}function m(){const de=this.resume(),Ee=this.stack[this.stack.length-1];Ee.meta=de}function _(){o("flowCodeInside")||(this.buffer(),s("flowCodeInside",!0))}function v(){const de=this.resume(),Ee=this.stack[this.stack.length-1];Ee.value=de.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),s("flowCodeInside")}function T(){const de=this.resume(),Ee=this.stack[this.stack.length-1];Ee.value=de.replace(/(\r?\n|\r)$/g,"")}function S(de){const Ee=this.resume(),Fe=this.stack[this.stack.length-1];Fe.label=Ee,Fe.identifier=Mp(this.sliceSerialize(de)).toLowerCase()}function w(){const de=this.resume(),Ee=this.stack[this.stack.length-1];Ee.title=de}function x(){const de=this.resume(),Ee=this.stack[this.stack.length-1];Ee.url=de}function A(de){const Ee=this.stack[this.stack.length-1];if(!Ee.depth){const Fe=this.sliceSerialize(de).length;Ee.depth=Fe}}function $(){s("setextHeadingSlurpLineEnding",!0)}function D(de){const Ee=this.stack[this.stack.length-1];Ee.depth=this.sliceSerialize(de).charCodeAt(0)===61?1:2}function P(){s("setextHeadingSlurpLineEnding")}function q(de){const Ee=this.stack[this.stack.length-1];let Fe=Ee.children[Ee.children.length-1];(!Fe||Fe.type!=="text")&&(Fe=un(),Fe.position={start:a(de.start)},Ee.children.push(Fe)),this.stack.push(Fe)}function V(de){const Ee=this.stack.pop();Ee.value+=this.sliceSerialize(de),Ee.position.end=a(de.end)}function U(de){const Ee=this.stack[this.stack.length-1];if(o("atHardBreak")){const Fe=Ee.children[Ee.children.length-1];Fe.position.end=a(de.end),s("atHardBreak");return}!o("setextHeadingSlurpLineEnding")&&t.canContainEols.includes(Ee.type)&&(q.call(this,de),V.call(this,de))}function se(){s("atHardBreak",!0)}function oe(){const de=this.resume(),Ee=this.stack[this.stack.length-1];Ee.value=de}function ce(){const de=this.resume(),Ee=this.stack[this.stack.length-1];Ee.value=de}function ee(){const de=this.resume(),Ee=this.stack[this.stack.length-1];Ee.value=de}function ie(){const de=this.stack[this.stack.length-1];o("inReference")?(de.type+="Reference",de.referenceType=o("referenceType")||"shortcut",delete de.url,delete de.title):(delete de.identifier,delete de.label),s("referenceType")}function K(){const de=this.stack[this.stack.length-1];o("inReference")?(de.type+="Reference",de.referenceType=o("referenceType")||"shortcut",delete de.url,delete de.title):(delete de.identifier,delete de.label),s("referenceType")}function I(de){const Ee=this.stack[this.stack.length-2],Fe=this.sliceSerialize(de);Ee.label=F6e(Fe),Ee.identifier=Mp(Fe).toLowerCase()}function C(){const de=this.stack[this.stack.length-1],Ee=this.resume(),Fe=this.stack[this.stack.length-1];s("inReference",!0),Fe.type==="link"?Fe.children=de.children:Fe.alt=Ee}function H(){const de=this.resume(),Ee=this.stack[this.stack.length-1];Ee.url=de}function N(){const de=this.resume(),Ee=this.stack[this.stack.length-1];Ee.title=de}function R(){s("inReference")}function Y(){s("referenceType","collapsed")}function ae(de){const Ee=this.resume(),Fe=this.stack[this.stack.length-1];Fe.label=Ee,Fe.identifier=Mp(this.sliceSerialize(de)).toLowerCase(),s("referenceType","full")}function le(de){s("characterReferenceType",de.type)}function pe(de){const Ee=this.sliceSerialize(de),Fe=o("characterReferenceType");let ot;Fe?(ot=cee(Ee,Fe==="characterReferenceMarkerNumeric"?10:16),s("characterReferenceType")):ot=z$(Ee);const $e=this.stack.pop();$e.value+=ot,$e.position.end=a(de.end)}function he(de){V.call(this,de);const Ee=this.stack[this.stack.length-1];Ee.url=this.sliceSerialize(de)}function Se(de){V.call(this,de);const Ee=this.stack[this.stack.length-1];Ee.url="mailto:"+this.sliceSerialize(de)}function me(){return{type:"blockquote",children:[]}}function Xe(){return{type:"code",lang:null,meta:null,value:""}}function Ye(){return{type:"inlineCode",value:""}}function He(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Le(){return{type:"emphasis",children:[]}}function Ae(){return{type:"heading",depth:void 0,children:[]}}function Ve(){return{type:"break"}}function Zt(){return{type:"html",value:""}}function Me(){return{type:"image",title:null,url:"",alt:null}}function Ue(){return{type:"link",title:null,url:"",children:[]}}function wt(de){return{type:"list",ordered:de.type==="listOrdered",start:null,spread:de._spread,children:[]}}function ze(de){return{type:"listItem",spread:de._spread,checked:null,children:[]}}function yt(){return{type:"paragraph",children:[]}}function Gt(){return{type:"strong",children:[]}}function un(){return{type:"text",value:""}}function Gn(){return{type:"thematicBreak"}}}function fee(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?fee(e,r):V6e(e,r)}return e}function V6e(e,t){let n;for(n in t)if(lR.call(t,n)){const r=n==="canContainEols"||n==="transforms",s=(lR.call(e,n)?e[n]:void 0)||(e[n]=r?[]:{}),o=t[n];o&&(r?e[n]=[...s,...o]:Object.assign(s,o))}}function kj(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Lp({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Lp({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Lp({start:t.start,end:t.end})+") is still open")}function z6e(e){Object.assign(this,{Parser:n=>{const r=this.data("settings");return j6e(n,Object.assign({},r,e,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}var ti=function(e,t,n){var r={type:String(e)};return n==null&&(typeof t=="string"||Array.isArray(t))?n=t:Object.assign(r,t),Array.isArray(n)?r.children=n:n!=null&&(r.value=String(n)),r};const kb={}.hasOwnProperty;function H6e(e,t){const n=t.data||{};return"value"in t&&!(kb.call(n,"hName")||kb.call(n,"hProperties")||kb.call(n,"hChildren"))?e.augment(t,ti("text",t.value)):e(t,"div",os(e,t))}function dee(e,t,n){const r=t&&t.type;let i;if(!r)throw new Error("Expected node, got `"+t+"`");return kb.call(e.handlers,r)?i=e.handlers[r]:e.passThrough&&e.passThrough.includes(r)?i=W6e:i=e.unknownHandler,(typeof i=="function"?i:H6e)(e,t,n)}function W6e(e,t){return"children"in t?{...t,children:os(e,t)}:t}function os(e,t){const n=[];if("children"in t){const r=t.children;let i=-1;for(;++i<r.length;){const s=dee(e,r[i],t);if(s){if(i&&r[i-1].type==="break"&&(!Array.isArray(s)&&s.type==="text"&&(s.value=s.value.replace(/^\s+/,"")),!Array.isArray(s)&&s.type==="element")){const o=s.children[0];o&&o.type==="text"&&(o.value=o.value.replace(/^\s+/,""))}Array.isArray(s)?n.push(...s):n.push(s)}}}return n}const hee=function(e){if(e==null)return K6e;if(typeof e=="string")return G6e(e);if(typeof e=="object")return Array.isArray(e)?q6e(e):Y6e(e);if(typeof e=="function")return Jx(e);throw new Error("Expected function, string, or object as test")};function q6e(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=hee(e[n]);return Jx(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].call(this,...i))return!0;return!1}}function Y6e(e){return Jx(t);function t(n){let r;for(r in e)if(n[r]!==e[r])return!1;return!0}}function G6e(e){return Jx(t);function t(n){return n&&n.type===e}}function Jx(e){return t;function t(...n){return!!e.call(this,...n)}}function K6e(){return!0}const Q6e=!0,X6e="skip",Dj=!1,J6e=function(e,t,n,r){typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null);const i=hee(t),s=r?-1:1;o(e,null,[])();function o(a,u,l){const c=typeof a=="object"&&a!==null?a:{};let f;return typeof c.type=="string"&&(f=typeof c.tagName=="string"?c.tagName:typeof c.name=="string"?c.name:void 0,Object.defineProperty(d,"name",{value:"node ("+(c.type+(f?"<"+f+">":""))+")"})),d;function d(){let h=[],p,g,y;if((!t||i(a,u,l[l.length-1]||null))&&(h=Z6e(n(a,l)),h[0]===Dj))return h;if(a.children&&h[0]!==X6e)for(g=(r?a.children.length:-1)+s,y=l.concat(a);g>-1&&g<a.children.length;){if(p=o(a.children[g],g,y)(),p[0]===Dj)return p;g=typeof p[1]=="number"?p[1]:g+s}return h}}};function Z6e(e){return Array.isArray(e)?e:typeof e=="number"?[Q6e,e]:[e]}const W$=function(e,t,n,r){typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null),J6e(e,t,i,r);function i(s,o){const a=o[o.length-1];return n(s,a?a.children.indexOf(s):null,a)}},pee=gee("start"),mee=gee("end");function gee(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};return{line:r.line||null,column:r.column||null,offset:r.offset>-1?r.offset:null}}}function eLe(e){return!e||!e.position||!e.position.start||!e.position.start.line||!e.position.start.column||!e.position.end||!e.position.end.line||!e.position.end.column}const $j={}.hasOwnProperty;function tLe(e){const t=Object.create(null);if(!e||!e.type)throw new Error("mdast-util-definitions expected node");return W$(e,"definition",r=>{const i=Lj(r.identifier);i&&!$j.call(t,i)&&(t[i]=r)}),n;function n(r){const i=Lj(r);return i&&$j.call(t,i)?t[i]:null}}function Lj(e){return String(e||"").toUpperCase()}function Zm(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let o="";if(s===37&&ho(e.charCodeAt(n+1))&&ho(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=e.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o=""}else o=String.fromCharCode(s);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function gl(e,t){const n=[];let r=-1;for(t&&n.push(ti("text",`
`));++r<e.length;)r&&n.push(ti("text",`
`)),n.push(e[r]);return t&&e.length>0&&n.push(ti("text",`
`)),n}function nLe(e){let t=-1;const n=[];for(;++t<e.footnoteOrder.length;){const r=e.footnoteById[e.footnoteOrder[t].toUpperCase()];if(!r)continue;const i=os(e,r),s=String(r.identifier),o=Zm(s.toLowerCase());let a=0;const u=[];for(;++a<=e.footnoteCounts[s];){const f={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fnref-"+o+(a>1?"-"+a:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:e.footnoteBackLabel},children:[{type:"text",value:""}]};a>1&&f.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(a)}]}),u.length>0&&u.push({type:"text",value:" "}),u.push(f)}const l=i[i.length-1];if(l&&l.type==="element"&&l.tagName==="p"){const f=l.children[l.children.length-1];f&&f.type==="text"?f.value+=" ":l.children.push({type:"text",value:" "}),l.children.push(...u)}else i.push(...u);const c={type:"element",tagName:"li",properties:{id:e.clobberPrefix+"fn-"+o},children:gl(i,!0)};r.position&&(c.position=r.position),n.push(c)}return n.length===0?null:{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:e.footnoteLabelTagName,properties:{...JSON.parse(JSON.stringify(e.footnoteLabelProperties)),id:"footnote-label"},children:[ti("text",e.footnoteLabel)]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:gl(n,!0)},{type:"text",value:`
`}]}}function rLe(e,t){return e(t,"blockquote",gl(os(e,t),!0))}function iLe(e,t){return[e(t,"br"),ti("text",`
`)]}function sLe(e,t){const n=t.value?t.value+`
`:"",r=t.lang&&t.lang.match(/^[^ \t]+(?=[ \t]|$)/),i={};r&&(i.className=["language-"+r]);const s=e(t,"code",i,[ti("text",n)]);return t.meta&&(s.data={meta:t.meta}),e(t.position,"pre",[s])}function oLe(e,t){return e(t,"del",os(e,t))}function aLe(e,t){return e(t,"em",os(e,t))}function yee(e,t){const n=String(t.identifier),r=Zm(n.toLowerCase()),i=e.footnoteOrder.indexOf(n);let s;i===-1?(e.footnoteOrder.push(n),e.footnoteCounts[n]=1,s=e.footnoteOrder.length):(e.footnoteCounts[n]++,s=i+1);const o=e.footnoteCounts[n];return e(t,"sup",[e(t.position,"a",{href:"#"+e.clobberPrefix+"fn-"+r,id:e.clobberPrefix+"fnref-"+r+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:"footnote-label"},[ti("text",String(s))])])}function uLe(e,t){const n=e.footnoteById;let r=1;for(;r in n;)r++;const i=String(r);return n[i]={type:"footnoteDefinition",identifier:i,children:[{type:"paragraph",children:t.children}],position:t.position},yee(e,{type:"footnoteReference",identifier:i,position:t.position})}function lLe(e,t){return e(t,"h"+t.depth,os(e,t))}function cLe(e,t){return e.dangerous?e.augment(t,ti("raw",t.value)):null}function _ee(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return ti("text","!["+t.alt+r);const i=os(e,t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift(ti("text","["));const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push(ti("text",r)),i}function fLe(e,t){const n=e.definition(t.identifier);if(!n)return _ee(e,t);const r={src:Zm(n.url||""),alt:t.alt};return n.title!==null&&n.title!==void 0&&(r.title=n.title),e(t,"img",r)}function dLe(e,t){const n={src:Zm(t.url),alt:t.alt};return t.title!==null&&t.title!==void 0&&(n.title=t.title),e(t,"img",n)}function hLe(e,t){return e(t,"code",[ti("text",t.value.replace(/\r?\n|\r/g," "))])}function pLe(e,t){const n=e.definition(t.identifier);if(!n)return _ee(e,t);const r={href:Zm(n.url||"")};return n.title!==null&&n.title!==void 0&&(r.title=n.title),e(t,"a",r,os(e,t))}function mLe(e,t){const n={href:Zm(t.url)};return t.title!==null&&t.title!==void 0&&(n.title=t.title),e(t,"a",n,os(e,t))}function gLe(e,t,n){const r=os(e,t),i=n?yLe(n):vee(t),s={},o=[];if(typeof t.checked=="boolean"){let l;r[0]&&r[0].type==="element"&&r[0].tagName==="p"?l=r[0]:(l=e(null,"p",[]),r.unshift(l)),l.children.length>0&&l.children.unshift(ti("text"," ")),l.children.unshift(e(null,"input",{type:"checkbox",checked:t.checked,disabled:!0})),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const l=r[a];(i||a!==0||l.type!=="element"||l.tagName!=="p")&&o.push(ti("text",`
`)),l.type==="element"&&l.tagName==="p"&&!i?o.push(...l.children):o.push(l)}const u=r[r.length-1];return u&&(i||!("tagName"in u)||u.tagName!=="p")&&o.push(ti("text",`
`)),e(t,"li",s,o)}function yLe(e){let t=e.spread;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=vee(n[r]);return!!t}function vee(e){const t=e.spread;return t??e.children.length>1}function _Le(e,t){const n={},r=t.ordered?"ol":"ul",i=os(e,t);let s=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++s<i.length;){const o=i[s];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}return e(t,r,n,gl(i,!0))}function vLe(e,t){return e(t,"p",os(e,t))}function bLe(e,t){return e.augment(t,ti("root",gl(os(e,t))))}function wLe(e,t){return e(t,"strong",os(e,t))}function ELe(e,t){const n=t.children;let r=-1;const i=t.align||[],s=[];for(;++r<n.length;){const o=n[r].children,a=r===0?"th":"td",u=[];let l=-1;const c=t.align?i.length:o.length;for(;++l<c;){const f=o[l];u.push(e(f,a,{align:i[l]},f?os(e,f):[]))}s[r]=e(n[r],"tr",gl(u,!0))}return e(t,"table",gl([e(s[0].position,"thead",gl([s[0]],!0))].concat(s[1]?e({start:pee(s[1]),end:mee(s[s.length-1])},"tbody",gl(s.slice(1),!0)):[]),!0))}const Mj=9,Fj=32;function TLe(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(Bj(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(Bj(t.slice(i),i>0,!1)),s.join("")}function Bj(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===Mj||s===Fj;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===Mj||s===Fj;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function SLe(e,t){return e.augment(t,ti("text",TLe(String(t.value))))}function xLe(e,t){return e(t,"hr")}const ILe={blockquote:rLe,break:iLe,code:sLe,delete:oLe,emphasis:aLe,footnoteReference:yee,footnote:uLe,heading:lLe,html:cLe,imageReference:fLe,image:dLe,inlineCode:hLe,linkReference:pLe,link:mLe,listItem:gLe,list:_Le,paragraph:vLe,root:bLe,strong:wLe,table:ELe,text:SLe,thematicBreak:xLe,toml:I1,yaml:I1,definition:I1,footnoteDefinition:I1};function I1(){return null}const ALe={}.hasOwnProperty;function CLe(e,t){const n=t||{},r=n.allowDangerousHtml||!1,i={};return o.dangerous=r,o.clobberPrefix=n.clobberPrefix===void 0||n.clobberPrefix===null?"user-content-":n.clobberPrefix,o.footnoteLabel=n.footnoteLabel||"Footnotes",o.footnoteLabelTagName=n.footnoteLabelTagName||"h2",o.footnoteLabelProperties=n.footnoteLabelProperties||{className:["sr-only"]},o.footnoteBackLabel=n.footnoteBackLabel||"Back to content",o.definition=tLe(e),o.footnoteById=i,o.footnoteOrder=[],o.footnoteCounts={},o.augment=s,o.handlers={...ILe,...n.handlers},o.unknownHandler=n.unknownHandler,o.passThrough=n.passThrough,W$(e,"footnoteDefinition",a=>{const u=String(a.identifier).toUpperCase();ALe.call(i,u)||(i[u]=a)}),o;function s(a,u){if(a&&"data"in a&&a.data){const l=a.data;l.hName&&(u.type!=="element"&&(u={type:"element",tagName:"",properties:{},children:[]}),u.tagName=l.hName),u.type==="element"&&l.hProperties&&(u.properties={...u.properties,...l.hProperties}),"children"in u&&u.children&&l.hChildren&&(u.children=l.hChildren)}if(a){const l="type"in a?a:{position:a};eLe(l)||(u.position={start:pee(l),end:mee(l)})}return u}function o(a,u,l,c){return Array.isArray(l)&&(c=l,l={}),s(a,{type:"element",tagName:u,properties:l||{},children:c||[]})}}function bee(e,t){const n=CLe(e,t),r=dee(n,e,null),i=nLe(n);return i&&r.children.push(ti("text",`
`),i),Array.isArray(r)?{type:"root",children:r}:r}const OLe=function(e,t){return e&&"run"in e?RLe(e,t):NLe(e||t)},PLe=OLe;function RLe(e,t){return(n,r,i)=>{e.run(bee(n,t),r,s=>{i(s)})}}function NLe(e){return t=>bee(t,e)}let iv=class{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}};iv.prototype.property={};iv.prototype.normal={};iv.prototype.space=null;function wee(e,t){const n={},r={};let i=-1;for(;++i<e.length;)Object.assign(n,e[i].property),Object.assign(r,e[i].normal);return new iv(n,r,t)}function qy(e){return e.toLowerCase()}class ua{constructor(t,n){this.property=t,this.attribute=n}}ua.prototype.space=null;ua.prototype.boolean=!1;ua.prototype.booleanish=!1;ua.prototype.overloadedBoolean=!1;ua.prototype.number=!1;ua.prototype.commaSeparated=!1;ua.prototype.spaceSeparated=!1;ua.prototype.commaOrSpaceSeparated=!1;ua.prototype.mustUseProperty=!1;ua.prototype.defined=!1;let kLe=0;const Ut=hh(),jr=hh(),Eee=hh(),ke=hh(),Qn=hh(),Fp=hh(),ro=hh();function hh(){return 2**++kLe}const cR=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ut,booleanish:jr,commaOrSpaceSeparated:ro,commaSeparated:Fp,number:ke,overloadedBoolean:Eee,spaceSeparated:Qn},Symbol.toStringTag,{value:"Module"})),sO=Object.keys(cR);class q$ extends ua{constructor(t,n,r,i){let s=-1;if(super(t,n),jj(this,"space",i),typeof r=="number")for(;++s<sO.length;){const o=sO[s];jj(this,sO[s],(r&cR[o])===cR[o])}}}q$.prototype.defined=!0;function jj(e,t,n){n&&(e[t]=n)}const DLe={}.hasOwnProperty;function eg(e){const t={},n={};let r;for(r in e.properties)if(DLe.call(e.properties,r)){const i=e.properties[r],s=new q$(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[qy(r)]=r,n[qy(s.attribute)]=r}return new iv(t,n,e.space)}const Tee=eg({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),See=eg({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function xee(e,t){return t in e?e[t]:t}function Iee(e,t){return xee(e,t.toLowerCase())}const Aee=eg({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:Iee,properties:{xmlns:null,xmlnsXLink:null}}),Cee=eg({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:jr,ariaAutoComplete:null,ariaBusy:jr,ariaChecked:jr,ariaColCount:ke,ariaColIndex:ke,ariaColSpan:ke,ariaControls:Qn,ariaCurrent:null,ariaDescribedBy:Qn,ariaDetails:null,ariaDisabled:jr,ariaDropEffect:Qn,ariaErrorMessage:null,ariaExpanded:jr,ariaFlowTo:Qn,ariaGrabbed:jr,ariaHasPopup:null,ariaHidden:jr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Qn,ariaLevel:ke,ariaLive:null,ariaModal:jr,ariaMultiLine:jr,ariaMultiSelectable:jr,ariaOrientation:null,ariaOwns:Qn,ariaPlaceholder:null,ariaPosInSet:ke,ariaPressed:jr,ariaReadOnly:jr,ariaRelevant:null,ariaRequired:jr,ariaRoleDescription:Qn,ariaRowCount:ke,ariaRowIndex:ke,ariaRowSpan:ke,ariaSelected:jr,ariaSetSize:ke,ariaSort:null,ariaValueMax:ke,ariaValueMin:ke,ariaValueNow:ke,ariaValueText:null,role:null}}),$Le=eg({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:Iee,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Fp,acceptCharset:Qn,accessKey:Qn,action:null,allow:null,allowFullScreen:Ut,allowPaymentRequest:Ut,allowUserMedia:Ut,alt:null,as:null,async:Ut,autoCapitalize:null,autoComplete:Qn,autoFocus:Ut,autoPlay:Ut,capture:Ut,charSet:null,checked:Ut,cite:null,className:Qn,cols:ke,colSpan:null,content:null,contentEditable:jr,controls:Ut,controlsList:Qn,coords:ke|Fp,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ut,defer:Ut,dir:null,dirName:null,disabled:Ut,download:Eee,draggable:jr,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ut,formTarget:null,headers:Qn,height:ke,hidden:Ut,high:ke,href:null,hrefLang:null,htmlFor:Qn,httpEquiv:Qn,id:null,imageSizes:null,imageSrcSet:null,inputMode:null,integrity:null,is:null,isMap:Ut,itemId:null,itemProp:Qn,itemRef:Qn,itemScope:Ut,itemType:Qn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ut,low:ke,manifest:null,max:null,maxLength:ke,media:null,method:null,min:null,minLength:ke,multiple:Ut,muted:Ut,name:null,nonce:null,noModule:Ut,noValidate:Ut,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ut,optimum:ke,pattern:null,ping:Qn,placeholder:null,playsInline:Ut,poster:null,preload:null,readOnly:Ut,referrerPolicy:null,rel:Qn,required:Ut,reversed:Ut,rows:ke,rowSpan:ke,sandbox:Qn,scope:null,scoped:Ut,seamless:Ut,selected:Ut,shape:null,size:ke,sizes:null,slot:null,span:ke,spellCheck:jr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ke,step:null,style:null,tabIndex:ke,target:null,title:null,translate:null,type:null,typeMustMatch:Ut,useMap:null,value:jr,width:ke,wrap:null,align:null,aLink:null,archive:Qn,axis:null,background:null,bgColor:null,border:ke,borderColor:null,bottomMargin:ke,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ut,declare:Ut,event:null,face:null,frame:null,frameBorder:null,hSpace:ke,leftMargin:ke,link:null,longDesc:null,lowSrc:null,marginHeight:ke,marginWidth:ke,noResize:Ut,noHref:Ut,noShade:Ut,noWrap:Ut,object:null,profile:null,prompt:null,rev:null,rightMargin:ke,rules:null,scheme:null,scrolling:jr,standby:null,summary:null,text:null,topMargin:ke,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ke,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ut,disableRemotePlayback:Ut,prefix:null,property:null,results:ke,security:null,unselectable:null}}),LLe=eg({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:xee,properties:{about:ro,accentHeight:ke,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ke,amplitude:ke,arabicForm:null,ascent:ke,attributeName:null,attributeType:null,azimuth:ke,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ke,by:null,calcMode:null,capHeight:ke,className:Qn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ke,diffuseConstant:ke,direction:null,display:null,dur:null,divisor:ke,dominantBaseline:null,download:Ut,dx:null,dy:null,edgeMode:null,editable:null,elevation:ke,enableBackground:null,end:null,event:null,exponent:ke,externalResourcesRequired:null,fill:null,fillOpacity:ke,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Fp,g2:Fp,glyphName:Fp,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ke,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ke,horizOriginX:ke,horizOriginY:ke,id:null,ideographic:ke,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ke,k:ke,k1:ke,k2:ke,k3:ke,k4:ke,kernelMatrix:ro,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ke,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ke,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ke,overlineThickness:ke,paintOrder:null,panose1:null,path:null,pathLength:ke,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Qn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ke,pointsAtY:ke,pointsAtZ:ke,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ro,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ro,rev:ro,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ro,requiredFeatures:ro,requiredFonts:ro,requiredFormats:ro,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ke,specularExponent:ke,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ke,strikethroughThickness:ke,string:null,stroke:null,strokeDashArray:ro,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ke,strokeOpacity:ke,strokeWidth:null,style:null,surfaceScale:ke,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ro,tabIndex:ke,tableValues:null,target:null,targetX:ke,targetY:ke,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ro,to:null,transform:null,u1:null,u2:null,underlinePosition:ke,underlineThickness:ke,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ke,values:null,vAlphabetic:ke,vMathematical:ke,vectorEffect:null,vHanging:ke,vIdeographic:ke,version:null,vertAdvY:ke,vertOriginX:ke,vertOriginY:ke,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ke,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),MLe=/^data[-\w.:]+$/i,Uj=/-[a-z]/g,FLe=/[A-Z]/g;function Zx(e,t){const n=qy(t);let r=t,i=ua;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&MLe.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(Uj,jLe);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!Uj.test(s)){let o=s.replace(FLe,BLe);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=q$}return new i(r,t)}function BLe(e){return"-"+e.toLowerCase()}function jLe(e){return e.charAt(1).toUpperCase()}const Vj={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},sv=wee([See,Tee,Aee,Cee,$Le],"html"),tg=wee([See,Tee,Aee,Cee,LLe],"svg");function ULe(e){if(e.allowedElements&&e.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(e.allowedElements||e.disallowedElements||e.allowElement)return t=>{W$(t,"element",(n,r,i)=>{const s=i;let o;if(e.allowedElements?o=!e.allowedElements.includes(n.tagName):e.disallowedElements&&(o=e.disallowedElements.includes(n.tagName)),!o&&e.allowElement&&typeof r=="number"&&(o=!e.allowElement(n,r,s)),o&&typeof r=="number")return e.unwrapDisallowed&&n.children?s.children.splice(r,1,...n.children):s.children.splice(r,1),r})}}var Oee={exports:{}},Dn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y$=Symbol.for("react.element"),G$=Symbol.for("react.portal"),eI=Symbol.for("react.fragment"),tI=Symbol.for("react.strict_mode"),nI=Symbol.for("react.profiler"),rI=Symbol.for("react.provider"),iI=Symbol.for("react.context"),VLe=Symbol.for("react.server_context"),sI=Symbol.for("react.forward_ref"),oI=Symbol.for("react.suspense"),aI=Symbol.for("react.suspense_list"),uI=Symbol.for("react.memo"),lI=Symbol.for("react.lazy"),zLe=Symbol.for("react.offscreen"),Pee;Pee=Symbol.for("react.module.reference");function la(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Y$:switch(e=e.type,e){case eI:case nI:case tI:case oI:case aI:return e;default:switch(e=e&&e.$$typeof,e){case VLe:case iI:case sI:case lI:case uI:case rI:return e;default:return t}}case G$:return t}}}Dn.ContextConsumer=iI;Dn.ContextProvider=rI;Dn.Element=Y$;Dn.ForwardRef=sI;Dn.Fragment=eI;Dn.Lazy=lI;Dn.Memo=uI;Dn.Portal=G$;Dn.Profiler=nI;Dn.StrictMode=tI;Dn.Suspense=oI;Dn.SuspenseList=aI;Dn.isAsyncMode=function(){return!1};Dn.isConcurrentMode=function(){return!1};Dn.isContextConsumer=function(e){return la(e)===iI};Dn.isContextProvider=function(e){return la(e)===rI};Dn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Y$};Dn.isForwardRef=function(e){return la(e)===sI};Dn.isFragment=function(e){return la(e)===eI};Dn.isLazy=function(e){return la(e)===lI};Dn.isMemo=function(e){return la(e)===uI};Dn.isPortal=function(e){return la(e)===G$};Dn.isProfiler=function(e){return la(e)===nI};Dn.isStrictMode=function(e){return la(e)===tI};Dn.isSuspense=function(e){return la(e)===oI};Dn.isSuspenseList=function(e){return la(e)===aI};Dn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===eI||e===nI||e===tI||e===oI||e===aI||e===zLe||typeof e=="object"&&e!==null&&(e.$$typeof===lI||e.$$typeof===uI||e.$$typeof===rI||e.$$typeof===iI||e.$$typeof===sI||e.$$typeof===Pee||e.getModuleId!==void 0)};Dn.typeOf=la;Oee.exports=Dn;var HLe=Oee.exports;const WLe=ja(HLe);function qLe(e){const t=e&&typeof e=="object"&&e.type==="text"?e.value||"":e;return typeof t=="string"&&t.replace(/[ \t\n\f\r]/g,"")===""}function zj(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function Ree(e){return e.join(" ").trim()}function Hj(e){const t=[],n=String(e||"");let r=n.indexOf(","),i=0,s=!1;for(;!s;){r===-1&&(r=n.length,s=!0);const o=n.slice(i,r).trim();(o||!s)&&t.push(o),i=r+1,r=n.indexOf(",",i)}return t}function Nee(e,t){const n=t||{};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}var K$={exports:{}},Wj=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,YLe=/\n/g,GLe=/^\s*/,KLe=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,QLe=/^:\s*/,XLe=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,JLe=/^[;\s]*/,ZLe=/^\s+|\s+$/g,eMe=`
`,qj="/",Yj="*",ld="",tMe="comment",nMe="declaration",rMe=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(p){var g=p.match(YLe);g&&(n+=g.length);var y=p.lastIndexOf(eMe);r=~y?p.length-y:r+p.length}function s(){var p={line:n,column:r};return function(g){return g.position=new o(p),l(),g}}function o(p){this.start=p,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function a(p){var g=new Error(t.source+":"+n+":"+r+": "+p);if(g.reason=p,g.filename=t.source,g.line=n,g.column=r,g.source=e,!t.silent)throw g}function u(p){var g=p.exec(e);if(g){var y=g[0];return i(y),e=e.slice(y.length),g}}function l(){u(GLe)}function c(p){var g;for(p=p||[];g=f();)g!==!1&&p.push(g);return p}function f(){var p=s();if(!(qj!=e.charAt(0)||Yj!=e.charAt(1))){for(var g=2;ld!=e.charAt(g)&&(Yj!=e.charAt(g)||qj!=e.charAt(g+1));)++g;if(g+=2,ld===e.charAt(g-1))return a("End of comment missing");var y=e.slice(2,g-2);return r+=2,i(y),e=e.slice(g),r+=2,p({type:tMe,comment:y})}}function d(){var p=s(),g=u(KLe);if(g){if(f(),!u(QLe))return a("property missing ':'");var y=u(XLe),m=p({type:nMe,property:Gj(g[0].replace(Wj,ld)),value:y?Gj(y[0].replace(Wj,ld)):ld});return u(JLe),m}}function h(){var p=[];c(p);for(var g;g=d();)g!==!1&&(p.push(g),c(p));return p}return l(),h()};function Gj(e){return e?e.replace(ZLe,ld):ld}var iMe=rMe;function kee(e,t){var n=null;if(!e||typeof e!="string")return n;for(var r,i=iMe(e),s=typeof t=="function",o,a,u=0,l=i.length;u<l;u++)r=i[u],o=r.property,a=r.value,s?t(o,a,r):a&&(n||(n={}),n[o]=a);return n}K$.exports=kee;K$.exports.default=kee;var sMe=K$.exports;const oMe=ja(sMe),fR={}.hasOwnProperty,aMe=new Set(["table","thead","tbody","tfoot","tr"]);function Dee(e,t){const n=[];let r=-1,i;for(;++r<t.children.length;)i=t.children[r],i.type==="element"?n.push(uMe(e,i,r,t)):i.type==="text"?(t.type!=="element"||!aMe.has(t.tagName)||!qLe(i))&&n.push(i.value):i.type==="raw"&&!e.options.skipHtml&&n.push(i.value);return n}function uMe(e,t,n,r){const i=e.options,s=i.transformLinkUri===void 0?h$e:i.transformLinkUri,o=e.schema,a=t.tagName,u={};let l=o,c;if(o.space==="html"&&a==="svg"&&(l=tg,e.schema=l),t.properties)for(c in t.properties)fR.call(t.properties,c)&&cMe(u,c,t.properties[c],e);(a==="ol"||a==="ul")&&e.listDepth++;const f=Dee(e,t);(a==="ol"||a==="ul")&&e.listDepth--,e.schema=o;const d=t.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},h=i.components&&fR.call(i.components,a)?i.components[a]:a,p=typeof h=="string"||h===M.Fragment;if(!WLe.isValidElementType(h))throw new TypeError(`Component for name \`${a}\` not defined or is not renderable`);if(u.key=[a,d.start.line,d.start.column,n].join("-"),a==="a"&&i.linkTarget&&(u.target=typeof i.linkTarget=="function"?i.linkTarget(String(u.href||""),t.children,typeof u.title=="string"?u.title:null):i.linkTarget),a==="a"&&s&&(u.href=s(String(u.href||""),t.children,typeof u.title=="string"?u.title:null)),!p&&a==="code"&&r.type==="element"&&r.tagName!=="pre"&&(u.inline=!0),!p&&(a==="h1"||a==="h2"||a==="h3"||a==="h4"||a==="h5"||a==="h6")&&(u.level=Number.parseInt(a.charAt(1),10)),a==="img"&&i.transformImageUri&&(u.src=i.transformImageUri(String(u.src||""),String(u.alt||""),typeof u.title=="string"?u.title:null)),!p&&a==="li"&&r.type==="element"){const g=lMe(t);u.checked=g&&g.properties?!!g.properties.checked:null,u.index=oO(r,t),u.ordered=r.tagName==="ol"}return!p&&(a==="ol"||a==="ul")&&(u.ordered=a==="ol",u.depth=e.listDepth),(a==="td"||a==="th")&&(u.align&&(u.style||(u.style={}),u.style.textAlign=u.align,delete u.align),p||(u.isHeader=a==="th")),!p&&a==="tr"&&r.type==="element"&&(u.isHeader=r.tagName==="thead"),i.sourcePos&&(u["data-sourcepos"]=hMe(d)),!p&&i.rawSourcePos&&(u.sourcePosition=t.position),!p&&i.includeElementIndex&&(u.index=oO(r,t),u.siblingCount=oO(r)),p||(u.node=t),f.length>0?M.createElement(h,u,f):M.createElement(h,u)}function lMe(e){let t=-1;for(;++t<e.children.length;){const n=e.children[t];if(n.type==="element"&&n.tagName==="input")return n}return null}function oO(e,t){let n=-1,r=0;for(;++n<e.children.length&&e.children[n]!==t;)e.children[n].type==="element"&&r++;return r}function cMe(e,t,n,r){const i=Zx(r.schema,t);let s=n;s==null||s!==s||(Array.isArray(s)&&(s=i.commaSeparated?Nee(s):Ree(s)),i.property==="style"&&typeof s=="string"&&(s=fMe(s)),i.space&&i.property?e[fR.call(Vj,i.property)?Vj[i.property]:i.property]=s:i.attribute&&(e[i.attribute]=s))}function fMe(e){const t={};try{oMe(e,n)}catch{}return t;function n(r,i){const s=r.slice(0,4)==="-ms-"?`ms-${r.slice(4)}`:r;t[s.replace(/-([a-z])/g,dMe)]=i}}function dMe(e,t){return t.toUpperCase()}function hMe(e){return[e.start.line,":",e.start.column,"-",e.end.line,":",e.end.column].map(String).join("")}const Kj={}.hasOwnProperty,pMe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",A1={plugins:{to:"remarkPlugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function $ee(e){for(const s in A1)if(Kj.call(A1,s)&&Kj.call(e,s)){const o=A1[s];console.warn(`[react-markdown] Warning: please ${o.to?`use \`${o.to}\` instead of`:"remove"} \`${s}\` (see <${pMe}#${o.id}> for more info)`),delete A1[s]}const t=j$e().use(z6e).use(e.remarkPlugins||[]).use(PLe,{...e.remarkRehypeOptions,allowDangerousHtml:!0}).use(e.rehypePlugins||[]).use(ULe,e),n=new x$e;typeof e.children=="string"?n.value=e.children:e.children!==void 0&&e.children!==null&&console.warn(`[react-markdown] Warning: please pass a string as \`children\` (not: \`${e.children}\`)`);const r=t.runSync(t.parse(n),n);if(r.type!=="root")throw new TypeError("Expected a `root` node");let i=M.createElement(M.Fragment,{},Dee({options:e,schema:sv,listDepth:0},r));return e.className&&(i=M.createElement("div",{className:e.className},i)),i}$ee.propTypes={children:dt.string,className:dt.string,allowElement:dt.func,allowedElements:dt.arrayOf(dt.string),disallowedElements:dt.arrayOf(dt.string),unwrapDisallowed:dt.bool,remarkPlugins:dt.arrayOf(dt.oneOfType([dt.object,dt.func,dt.arrayOf(dt.oneOfType([dt.bool,dt.string,dt.object,dt.func,dt.arrayOf(dt.any)]))])),rehypePlugins:dt.arrayOf(dt.oneOfType([dt.object,dt.func,dt.arrayOf(dt.oneOfType([dt.bool,dt.string,dt.object,dt.func,dt.arrayOf(dt.any)]))])),sourcePos:dt.bool,rawSourcePos:dt.bool,skipHtml:dt.bool,includeElementIndex:dt.bool,transformLinkUri:dt.oneOfType([dt.func,dt.bool]),linkTarget:dt.oneOfType([dt.func,dt.string]),transformImageUri:dt.func,components:dt.object};const Lee=-1,cI=0,IT=1,AT=2,Q$=3,X$=4,J$=5,Z$=6,Mee=7,Fee=8,Qj=typeof self=="object"?self:globalThis,mMe=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,o]=t[i];switch(s){case cI:case Lee:return n(o,i);case IT:{const a=n([],i);for(const u of o)a.push(r(u));return a}case AT:{const a=n({},i);for(const[u,l]of o)a[r(u)]=r(l);return a}case Q$:return n(new Date(o),i);case X$:{const{source:a,flags:u}=o;return n(new RegExp(a,u),i)}case J$:{const a=n(new Map,i);for(const[u,l]of o)a.set(r(u),r(l));return a}case Z$:{const a=n(new Set,i);for(const u of o)a.add(r(u));return a}case Mee:{const{name:a,message:u}=o;return n(new Qj[a](u),i)}case Fee:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i)}return n(new Qj[s](o),i)};return r},Xj=e=>mMe(new Map,e)(0),$h="",{toString:gMe}={},{keys:yMe}=Object,Gg=e=>{const t=typeof e;if(t!=="object"||!e)return[cI,t];const n=gMe.call(e).slice(8,-1);switch(n){case"Array":return[IT,$h];case"Object":return[AT,$h];case"Date":return[Q$,$h];case"RegExp":return[X$,$h];case"Map":return[J$,$h];case"Set":return[Z$,$h]}return n.includes("Array")?[IT,n]:n.includes("Error")?[Mee,n]:[AT,n]},C1=([e,t])=>e===cI&&(t==="function"||t==="symbol"),_Me=(e,t,n,r)=>{const i=(o,a)=>{const u=r.push(o)-1;return n.set(a,u),u},s=o=>{if(n.has(o))return n.get(o);let[a,u]=Gg(o);switch(a){case cI:{let c=o;switch(u){case"bigint":a=Fee,c=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+u);c=null;break;case"undefined":return i([Lee],o)}return i([a,c],o)}case IT:{if(u)return i([u,[...o]],o);const c=[],f=i([a,c],o);for(const d of o)c.push(s(d));return f}case AT:{if(u)switch(u){case"BigInt":return i([u,o.toString()],o);case"Boolean":case"Number":case"String":return i([u,o.valueOf()],o)}if(t&&"toJSON"in o)return s(o.toJSON());const c=[],f=i([a,c],o);for(const d of yMe(o))(e||!C1(Gg(o[d])))&&c.push([s(d),s(o[d])]);return f}case Q$:return i([a,o.toISOString()],o);case X$:{const{source:c,flags:f}=o;return i([a,{source:c,flags:f}],o)}case J$:{const c=[],f=i([a,c],o);for(const[d,h]of o)(e||!(C1(Gg(d))||C1(Gg(h))))&&c.push([s(d),s(h)]);return f}case Z$:{const c=[],f=i([a,c],o);for(const d of o)(e||!C1(Gg(d)))&&c.push(s(d));return f}}const{message:l}=o;return i([a,{name:u,message:l}],o)};return s},Jj=(e,{json:t,lossy:n}={})=>{const r=[];return _Me(!(t||n),!!t,new Map,r)(e),r},Zj=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Xj(Jj(e,t)):structuredClone(e):(e,t)=>Xj(Jj(e,t));const eU=/[#.]/g;function vMe(e,t){const n=e||"",r={};let i=0,s,o;for(;i<n.length;){eU.lastIndex=i;const a=eU.exec(n),u=n.slice(i,a?a.index:n.length);u&&(s?s==="#"?r.id=u:Array.isArray(r.className)?r.className.push(u):r.className=[u]:o=u,i+=u.length),a&&(s=a[0],i++)}return{type:"element",tagName:o||t||"div",properties:r,children:[]}}const bMe=new Set(["button","menu","reset","submit"]),dR={}.hasOwnProperty;function Bee(e,t,n){const r=n&&SMe(n);function i(s,o,...a){let u=-1,l;if(s==null){l={type:"root",children:[]};const c=o;a.unshift(c)}else if(l=vMe(s,t),l.tagName=l.tagName.toLowerCase(),r&&dR.call(r,l.tagName)&&(l.tagName=r[l.tagName]),wMe(o,l.tagName)){let c;for(c in o)dR.call(o,c)&&EMe(e,l.properties,c,o[c])}else a.unshift(o);for(;++u<a.length;)hR(l.children,a[u]);return l.type==="element"&&l.tagName==="template"&&(l.content={type:"root",children:l.children},l.children=[]),l}return i}function wMe(e,t){return e==null||typeof e!="object"||Array.isArray(e)?!1:t==="input"||!e.type||typeof e.type!="string"?!0:"children"in e&&Array.isArray(e.children)?!1:t==="button"?bMe.has(e.type.toLowerCase()):!("value"in e)}function EMe(e,t,n,r){const i=Zx(e,n);let s=-1,o;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;o=r}else typeof r=="boolean"?o=r:typeof r=="string"?i.spaceSeparated?o=zj(r):i.commaSeparated?o=Hj(r):i.commaOrSpaceSeparated?o=zj(Hj(r).join(" ")):o=tU(i,i.property,r):Array.isArray(r)?o=r.concat():o=i.property==="style"?TMe(r):String(r);if(Array.isArray(o)){const a=[];for(;++s<o.length;){const u=tU(i,i.property,o[s]);a[s]=u}o=a}if(i.property==="className"&&Array.isArray(t.className)){const a=o;o=t.className.concat(a)}t[i.property]=o}}function hR(e,t){let n=-1;if(t!=null)if(typeof t=="string"||typeof t=="number")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(;++n<t.length;)hR(e,t[n]);else if(typeof t=="object"&&"type"in t)t.type==="root"?hR(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function tU(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||qy(n)===qy(t)))return!0}return n}function TMe(e){const t=[];let n;for(n in e)dR.call(e,n)&&t.push([n,e[n]].join(": "));return t.join("; ")}function SMe(e){const t={};let n=-1;for(;++n<e.length;)t[e[n].toLowerCase()]=e[n];return t}const xMe=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],IMe=Bee(sv,"div"),AMe=Bee(tg,"g",xMe),aO=/\r?\n|\r/g;function CMe(e){const t=String(e),n=[];for(aO.lastIndex=0;aO.test(t);)n.push(aO.lastIndex);return n.push(t.length+1),{toPoint:r,toOffset:i};function r(s){let o=-1;if(typeof s=="number"&&s>-1&&s<n[n.length-1]){for(;++o<n.length;)if(n[o]>s)return{line:o+1,column:s-(o>0?n[o-1]:0)+1,offset:s}}}function i(s){const o=s&&s.line,a=s&&s.column;if(typeof o=="number"&&typeof a=="number"&&!Number.isNaN(o)&&!Number.isNaN(a)&&o-1 in n){const u=(n[o-2]||0)+a-1||0;if(u>-1&&u<n[n.length-1])return u}}}const gd={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},jee={}.hasOwnProperty,OMe=Object.prototype;function PMe(e,t){const n=t||{};return e3({file:n.file||void 0,location:!1,schema:n.space==="svg"?tg:sv,verbose:n.verbose||!1},e)}function e3(e,t){let n;switch(t.nodeName){case"#comment":{const r=t;return n={type:"comment",value:r.data},Db(e,r,n),n}case"#document":case"#document-fragment":{const r=t,i="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:Uee(e,t.childNodes),data:{quirksMode:i}},e.file&&e.location){const s=String(e.file),o=CMe(s),a=o.toPoint(0),u=o.toPoint(s.length);n.position={start:a,end:u}}return n}case"#documentType":{const r=t;return n={type:"doctype"},Db(e,r,n),n}case"#text":{const r=t;return n={type:"text",value:r.value},Db(e,r,n),n}default:return n=RMe(e,t),n}}function Uee(e,t){let n=-1;const r=[];for(;++n<t.length;){const i=e3(e,t[n]);r.push(i)}return r}function RMe(e,t){const n=e.schema;e.schema=t.namespaceURI===gd.svg?tg:sv;let r=-1;const i={};for(;++r<t.attrs.length;){const a=t.attrs[r],u=(a.prefix?a.prefix+":":"")+a.name;jee.call(OMe,u)||(i[u]=a.value)}const o=(e.schema.space==="svg"?AMe:IMe)(t.tagName,i,Uee(e,t.childNodes));if(Db(e,t,o),o.tagName==="template"){const a=t,u=a.sourceCodeLocation,l=u&&u.startTag&&cp(u.startTag),c=u&&u.endTag&&cp(u.endTag),f=e3(e,a.content);l&&c&&e.file&&(f.position={start:l.end,end:c.start}),o.content=f}return e.schema=n,o}function Db(e,t,n){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const r=NMe(e,n,t.sourceCodeLocation);r&&(e.location=!0,n.position=r)}}function NMe(e,t,n){const r=cp(n);if(t.type==="element"){const i=t.children[t.children.length-1];if(r&&!n.endTag&&i&&i.position&&i.position.end&&(r.end=Object.assign({},i.position.end)),e.verbose){const s={};let o;if(n.attrs)for(o in n.attrs)jee.call(n.attrs,o)&&(s[Zx(e.schema,o).property]=cp(n.attrs[o]));n.startTag;const a=cp(n.startTag),u=n.endTag?cp(n.endTag):void 0,l={opening:a};u&&(l.closing=u),l.properties=s,t.data={position:l}}}return r}function cp(e){const t=nU({line:e.startLine,column:e.startCol,offset:e.startOffset}),n=nU({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||n?{start:t,end:n}:void 0}function nU(e){return e.line&&e.column?e:void 0}const rU={}.hasOwnProperty;function Vee(e,t){const n=t||{};function r(i,...s){let o=r.invalid;const a=r.handlers;if(i&&rU.call(i,e)){const u=String(i[e]);o=rU.call(a,u)?a[u]:r.unknown}if(o)return o.call(this,i,...s)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const kMe={},DMe={}.hasOwnProperty,zee=Vee("type",{handlers:{root:LMe,element:UMe,text:BMe,comment:jMe,doctype:FMe}});function $Me(e,t){const r=(t||kMe).space;return zee(e,r==="svg"?tg:sv)}function LMe(e,t){const n={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=t3(e.children,n,t),ng(e,n),n}function MMe(e,t){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=t3(e.children,n,t),ng(e,n),n}function FMe(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return ng(e,t),t}function BMe(e){const t={nodeName:"#text",value:e.value,parentNode:null};return ng(e,t),t}function jMe(e){const t={nodeName:"#comment",data:e.value,parentNode:null};return ng(e,t),t}function UMe(e,t){const n=t;let r=n;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&n.space==="html"&&(r=tg);const i=[];let s;if(e.properties){for(s in e.properties)if(s!=="children"&&DMe.call(e.properties,s)){const u=VMe(r,s,e.properties[s]);u&&i.push(u)}}const o=r.space,a={nodeName:e.tagName,tagName:e.tagName,attrs:i,namespaceURI:gd[o],childNodes:[],parentNode:null};return a.childNodes=t3(e.children,a,r),ng(e,a),e.tagName==="template"&&e.content&&(a.content=MMe(e.content,r)),a}function VMe(e,t,n){const r=Zx(e,t);if(n===!1||n===null||n===void 0||typeof n=="number"&&Number.isNaN(n)||!n&&r.boolean)return;Array.isArray(n)&&(n=r.commaSeparated?Nee(n):Ree(n));const i={name:r.attribute,value:n===!0?"":String(n)};if(r.space&&r.space!=="html"&&r.space!=="svg"){const s=i.name.indexOf(":");s<0?i.prefix="":(i.name=i.name.slice(s+1),i.prefix=r.attribute.slice(0,s)),i.namespace=gd[r.space]}return i}function t3(e,t,n){let r=-1;const i=[];if(e)for(;++r<e.length;){const s=zee(e[r],n);s.parentNode=t,i.push(s)}return i}function ng(e,t){const n=e.position;n&&n.start&&n.end&&(n.start.offset,n.end.offset,t.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const zMe=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],HMe=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),ar="";var F;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.NUMBER_SIGN=35]="NUMBER_SIGN",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_F=70]="LATIN_CAPITAL_F",e[e.LATIN_CAPITAL_X=88]="LATIN_CAPITAL_X",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_F=102]="LATIN_SMALL_F",e[e.LATIN_SMALL_X=120]="LATIN_SMALL_X",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z",e[e.REPLACEMENT_CHARACTER=65533]="REPLACEMENT_CHARACTER"})(F=F||(F={}));const Ts={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function Hee(e){return e>=55296&&e<=57343}function WMe(e){return e>=56320&&e<=57343}function qMe(e,t){return(e-55296)*1024+9216+t}function Wee(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function qee(e){return e>=64976&&e<=65007||HMe.has(e)}var ve;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(ve=ve||(ve={}));const YMe=65536;class GMe{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=YMe,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t){const{line:n,col:r,offset:i}=this;return{code:t,startLine:n,endLine:n,startCol:r,endCol:r,startOffset:i,endOffset:i}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(WMe(n))return this.pos++,this._addGap(),qMe(t,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,F.EOF;return this._err(ve.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,n){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,n){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(t,this.pos);for(let r=0;r<t.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==t.charCodeAt(r))return!1;return!0}peek(t){const n=this.pos+t;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,F.EOF;const r=this.html.charCodeAt(n);return r===F.CARRIAGE_RETURN?F.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,F.EOF;let t=this.html.charCodeAt(this.pos);return t===F.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,F.LINE_FEED):t===F.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,Hee(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===F.LINE_FEED||t===F.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){Wee(t)?this._err(ve.controlCharacterInInputStream):qee(t)&&this._err(ve.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var Ht;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(Ht=Ht||(Ht={}));function Yee(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}const _c=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),KMe=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(e=>e.charCodeAt(0)));var uO;const QMe=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),XMe=(uO=String.fromCodePoint)!==null&&uO!==void 0?uO:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function JMe(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=QMe.get(e))!==null&&t!==void 0?t:e}var hi;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(hi||(hi={}));const ZMe=32;var mu;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(mu||(mu={}));function pR(e){return e>=hi.ZERO&&e<=hi.NINE}function e4e(e){return e>=hi.UPPER_A&&e<=hi.UPPER_F||e>=hi.LOWER_A&&e<=hi.LOWER_F}function t4e(e){return e>=hi.UPPER_A&&e<=hi.UPPER_Z||e>=hi.LOWER_A&&e<=hi.LOWER_Z||pR(e)}function n4e(e){return e===hi.EQUALS||t4e(e)}var li;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(li||(li={}));var cd;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(cd||(cd={}));class r4e{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=li.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=cd.Strict}startEntity(t){this.decodeMode=t,this.state=li.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case li.EntityStart:return t.charCodeAt(n)===hi.NUM?(this.state=li.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=li.NamedEntity,this.stateNamedEntity(t,n));case li.NumericStart:return this.stateNumericStart(t,n);case li.NumericDecimal:return this.stateNumericDecimal(t,n);case li.NumericHex:return this.stateNumericHex(t,n);case li.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|ZMe)===hi.LOWER_X?(this.state=li.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=li.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,r,i){if(n!==r){const s=r-n;this.result=this.result*Math.pow(i,s)+parseInt(t.substr(n,s),i),this.consumed+=s}}stateNumericHex(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(pR(i)||e4e(i))n+=1;else return this.addToNumericResult(t,r,n,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(t,r,n,16),-1}stateNumericDecimal(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(pR(i))n+=1;else return this.addToNumericResult(t,r,n,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(t,r,n,10),-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===hi.SEMI)this.consumed+=1;else if(this.decodeMode===cd.Strict)return 0;return this.emitCodePoint(JMe(this.result),this.consumed),this.errors&&(t!==hi.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let i=r[this.treeIndex],s=(i&mu.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const o=t.charCodeAt(n);if(this.treeIndex=Kee(r,i,this.treeIndex+Math.max(1,s),o),this.treeIndex<0)return this.result===0||this.decodeMode===cd.Attribute&&(s===0||n4e(o))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],s=(i&mu.VALUE_LENGTH)>>14,s!==0){if(o===hi.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==cd.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,i=(r[n]&mu.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,i,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:i}=this;return this.emitCodePoint(n===1?i[t]&~mu.VALUE_LENGTH:i[t+1],r),n===3&&this.emitCodePoint(i[t+2],r),r}end(){var t;switch(this.state){case li.NamedEntity:return this.result!==0&&(this.decodeMode!==cd.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case li.NumericDecimal:return this.emitNumericEntity(0,2);case li.NumericHex:return this.emitNumericEntity(0,3);case li.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case li.EntityStart:return 0}}}function Gee(e){let t="";const n=new r4e(e,r=>t+=XMe(r));return function(i,s){let o=0,a=0;for(;(a=i.indexOf("&",a))>=0;){t+=i.slice(o,a),n.startEntity(s);const l=n.write(i,a+1);if(l<0){o=a+n.end();break}o=a+l,a=l===0?o+1:o}const u=t+i.slice(o);return t="",u}}function Kee(e,t,n,r){const i=(t&mu.BRANCH_LENGTH)>>7,s=t&mu.JUMP_TABLE;if(i===0)return s!==0&&r===s?n:-1;if(s){const u=r-s;return u<0||u>=i?-1:e[n+u]-1}let o=n,a=o+i-1;for(;o<=a;){const u=o+a>>>1,l=e[u];if(l<r)o=u+1;else if(l>r)a=u-1;else return e[u+i]}return-1}Gee(_c);Gee(KMe);var we;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(we=we||(we={}));var rf;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(rf=rf||(rf={}));var oo;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(oo=oo||(oo={}));var fe;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(fe=fe||(fe={}));var b;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SECTION=94]="SECTION",e[e.SELECT=95]="SELECT",e[e.SOURCE=96]="SOURCE",e[e.SMALL=97]="SMALL",e[e.SPAN=98]="SPAN",e[e.STRIKE=99]="STRIKE",e[e.STRONG=100]="STRONG",e[e.STYLE=101]="STYLE",e[e.SUB=102]="SUB",e[e.SUMMARY=103]="SUMMARY",e[e.SUP=104]="SUP",e[e.TABLE=105]="TABLE",e[e.TBODY=106]="TBODY",e[e.TEMPLATE=107]="TEMPLATE",e[e.TEXTAREA=108]="TEXTAREA",e[e.TFOOT=109]="TFOOT",e[e.TD=110]="TD",e[e.TH=111]="TH",e[e.THEAD=112]="THEAD",e[e.TITLE=113]="TITLE",e[e.TR=114]="TR",e[e.TRACK=115]="TRACK",e[e.TT=116]="TT",e[e.U=117]="U",e[e.UL=118]="UL",e[e.SVG=119]="SVG",e[e.VAR=120]="VAR",e[e.WBR=121]="WBR",e[e.XMP=122]="XMP"})(b=b||(b={}));const i4e=new Map([[fe.A,b.A],[fe.ADDRESS,b.ADDRESS],[fe.ANNOTATION_XML,b.ANNOTATION_XML],[fe.APPLET,b.APPLET],[fe.AREA,b.AREA],[fe.ARTICLE,b.ARTICLE],[fe.ASIDE,b.ASIDE],[fe.B,b.B],[fe.BASE,b.BASE],[fe.BASEFONT,b.BASEFONT],[fe.BGSOUND,b.BGSOUND],[fe.BIG,b.BIG],[fe.BLOCKQUOTE,b.BLOCKQUOTE],[fe.BODY,b.BODY],[fe.BR,b.BR],[fe.BUTTON,b.BUTTON],[fe.CAPTION,b.CAPTION],[fe.CENTER,b.CENTER],[fe.CODE,b.CODE],[fe.COL,b.COL],[fe.COLGROUP,b.COLGROUP],[fe.DD,b.DD],[fe.DESC,b.DESC],[fe.DETAILS,b.DETAILS],[fe.DIALOG,b.DIALOG],[fe.DIR,b.DIR],[fe.DIV,b.DIV],[fe.DL,b.DL],[fe.DT,b.DT],[fe.EM,b.EM],[fe.EMBED,b.EMBED],[fe.FIELDSET,b.FIELDSET],[fe.FIGCAPTION,b.FIGCAPTION],[fe.FIGURE,b.FIGURE],[fe.FONT,b.FONT],[fe.FOOTER,b.FOOTER],[fe.FOREIGN_OBJECT,b.FOREIGN_OBJECT],[fe.FORM,b.FORM],[fe.FRAME,b.FRAME],[fe.FRAMESET,b.FRAMESET],[fe.H1,b.H1],[fe.H2,b.H2],[fe.H3,b.H3],[fe.H4,b.H4],[fe.H5,b.H5],[fe.H6,b.H6],[fe.HEAD,b.HEAD],[fe.HEADER,b.HEADER],[fe.HGROUP,b.HGROUP],[fe.HR,b.HR],[fe.HTML,b.HTML],[fe.I,b.I],[fe.IMG,b.IMG],[fe.IMAGE,b.IMAGE],[fe.INPUT,b.INPUT],[fe.IFRAME,b.IFRAME],[fe.KEYGEN,b.KEYGEN],[fe.LABEL,b.LABEL],[fe.LI,b.LI],[fe.LINK,b.LINK],[fe.LISTING,b.LISTING],[fe.MAIN,b.MAIN],[fe.MALIGNMARK,b.MALIGNMARK],[fe.MARQUEE,b.MARQUEE],[fe.MATH,b.MATH],[fe.MENU,b.MENU],[fe.META,b.META],[fe.MGLYPH,b.MGLYPH],[fe.MI,b.MI],[fe.MO,b.MO],[fe.MN,b.MN],[fe.MS,b.MS],[fe.MTEXT,b.MTEXT],[fe.NAV,b.NAV],[fe.NOBR,b.NOBR],[fe.NOFRAMES,b.NOFRAMES],[fe.NOEMBED,b.NOEMBED],[fe.NOSCRIPT,b.NOSCRIPT],[fe.OBJECT,b.OBJECT],[fe.OL,b.OL],[fe.OPTGROUP,b.OPTGROUP],[fe.OPTION,b.OPTION],[fe.P,b.P],[fe.PARAM,b.PARAM],[fe.PLAINTEXT,b.PLAINTEXT],[fe.PRE,b.PRE],[fe.RB,b.RB],[fe.RP,b.RP],[fe.RT,b.RT],[fe.RTC,b.RTC],[fe.RUBY,b.RUBY],[fe.S,b.S],[fe.SCRIPT,b.SCRIPT],[fe.SECTION,b.SECTION],[fe.SELECT,b.SELECT],[fe.SOURCE,b.SOURCE],[fe.SMALL,b.SMALL],[fe.SPAN,b.SPAN],[fe.STRIKE,b.STRIKE],[fe.STRONG,b.STRONG],[fe.STYLE,b.STYLE],[fe.SUB,b.SUB],[fe.SUMMARY,b.SUMMARY],[fe.SUP,b.SUP],[fe.TABLE,b.TABLE],[fe.TBODY,b.TBODY],[fe.TEMPLATE,b.TEMPLATE],[fe.TEXTAREA,b.TEXTAREA],[fe.TFOOT,b.TFOOT],[fe.TD,b.TD],[fe.TH,b.TH],[fe.THEAD,b.THEAD],[fe.TITLE,b.TITLE],[fe.TR,b.TR],[fe.TRACK,b.TRACK],[fe.TT,b.TT],[fe.U,b.U],[fe.UL,b.UL],[fe.SVG,b.SVG],[fe.VAR,b.VAR],[fe.WBR,b.WBR],[fe.XMP,b.XMP]]);function rg(e){var t;return(t=i4e.get(e))!==null&&t!==void 0?t:b.UNKNOWN}const Oe=b,s4e={[we.HTML]:new Set([Oe.ADDRESS,Oe.APPLET,Oe.AREA,Oe.ARTICLE,Oe.ASIDE,Oe.BASE,Oe.BASEFONT,Oe.BGSOUND,Oe.BLOCKQUOTE,Oe.BODY,Oe.BR,Oe.BUTTON,Oe.CAPTION,Oe.CENTER,Oe.COL,Oe.COLGROUP,Oe.DD,Oe.DETAILS,Oe.DIR,Oe.DIV,Oe.DL,Oe.DT,Oe.EMBED,Oe.FIELDSET,Oe.FIGCAPTION,Oe.FIGURE,Oe.FOOTER,Oe.FORM,Oe.FRAME,Oe.FRAMESET,Oe.H1,Oe.H2,Oe.H3,Oe.H4,Oe.H5,Oe.H6,Oe.HEAD,Oe.HEADER,Oe.HGROUP,Oe.HR,Oe.HTML,Oe.IFRAME,Oe.IMG,Oe.INPUT,Oe.LI,Oe.LINK,Oe.LISTING,Oe.MAIN,Oe.MARQUEE,Oe.MENU,Oe.META,Oe.NAV,Oe.NOEMBED,Oe.NOFRAMES,Oe.NOSCRIPT,Oe.OBJECT,Oe.OL,Oe.P,Oe.PARAM,Oe.PLAINTEXT,Oe.PRE,Oe.SCRIPT,Oe.SECTION,Oe.SELECT,Oe.SOURCE,Oe.STYLE,Oe.SUMMARY,Oe.TABLE,Oe.TBODY,Oe.TD,Oe.TEMPLATE,Oe.TEXTAREA,Oe.TFOOT,Oe.TH,Oe.THEAD,Oe.TITLE,Oe.TR,Oe.TRACK,Oe.UL,Oe.WBR,Oe.XMP]),[we.MATHML]:new Set([Oe.MI,Oe.MO,Oe.MN,Oe.MS,Oe.MTEXT,Oe.ANNOTATION_XML]),[we.SVG]:new Set([Oe.TITLE,Oe.FOREIGN_OBJECT,Oe.DESC]),[we.XLINK]:new Set,[we.XML]:new Set,[we.XMLNS]:new Set};function Qee(e){return e===Oe.H1||e===Oe.H2||e===Oe.H3||e===Oe.H4||e===Oe.H5||e===Oe.H6}fe.STYLE,fe.SCRIPT,fe.XMP,fe.IFRAME,fe.NOEMBED,fe.NOFRAMES,fe.PLAINTEXT;const o4e=new Map([[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);var j;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.NAMED_CHARACTER_REFERENCE=72]="NAMED_CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=73]="AMBIGUOUS_AMPERSAND",e[e.NUMERIC_CHARACTER_REFERENCE=74]="NUMERIC_CHARACTER_REFERENCE",e[e.HEXADEMICAL_CHARACTER_REFERENCE_START=75]="HEXADEMICAL_CHARACTER_REFERENCE_START",e[e.HEXADEMICAL_CHARACTER_REFERENCE=76]="HEXADEMICAL_CHARACTER_REFERENCE",e[e.DECIMAL_CHARACTER_REFERENCE=77]="DECIMAL_CHARACTER_REFERENCE",e[e.NUMERIC_CHARACTER_REFERENCE_END=78]="NUMERIC_CHARACTER_REFERENCE_END"})(j||(j={}));const Lr={DATA:j.DATA,RCDATA:j.RCDATA,RAWTEXT:j.RAWTEXT,SCRIPT_DATA:j.SCRIPT_DATA,PLAINTEXT:j.PLAINTEXT,CDATA_SECTION:j.CDATA_SECTION};function ny(e){return e>=F.DIGIT_0&&e<=F.DIGIT_9}function w0(e){return e>=F.LATIN_CAPITAL_A&&e<=F.LATIN_CAPITAL_Z}function a4e(e){return e>=F.LATIN_SMALL_A&&e<=F.LATIN_SMALL_Z}function vc(e){return a4e(e)||w0(e)}function mR(e){return vc(e)||ny(e)}function Xee(e){return e>=F.LATIN_CAPITAL_A&&e<=F.LATIN_CAPITAL_F}function Jee(e){return e>=F.LATIN_SMALL_A&&e<=F.LATIN_SMALL_F}function u4e(e){return ny(e)||Xee(e)||Jee(e)}function O1(e){return e+32}function Zee(e){return e===F.SPACE||e===F.LINE_FEED||e===F.TABULATION||e===F.FORM_FEED}function l4e(e){return e===F.EQUALS_SIGN||mR(e)}function iU(e){return Zee(e)||e===F.SOLIDUS||e===F.GREATER_THAN_SIGN}class c4e{constructor(t,n){this.options=t,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=j.DATA,this.returnState=j.DATA,this.charRefCode=-1,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new GMe(n),this.currentLocation=this.getCurrentLocation(-1)}_err(t){var n,r;(r=(n=this.handler).onParseError)===null||r===void 0||r.call(n,this.preprocessor.getError(t))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t==null||t())}write(t,n,r){this.active=!0,this.preprocessor.write(t,n),this._runParsingLoop(),this.paused||r==null||r()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this._unconsume(this.consumedAfterSnapshot),this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_unconsume(t){this.consumedAfterSnapshot-=t,this.preprocessor.retreat(t)}_reconsumeInState(t,n){this.state=t,this._callState(n)}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let n=0;n<t;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,n){return this.preprocessor.startsWith(t,n)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:Ht.START_TAG,tagName:"",tagID:b.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:Ht.END_TAG,tagName:"",tagID:b.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:Ht.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:Ht.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,n){this.currentCharacterToken={type:t,chars:n,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,n;const r=this.currentToken;if(Yee(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const i=(t=(n=r.location).attrs)!==null&&t!==void 0?t:n.attrs=Object.create(null);i[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(ve.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=rg(t.tagName),t.type===Ht.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(ve.endTagWithAttributes),t.selfClosing&&this._err(ve.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case Ht.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case Ht.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case Ht.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:Ht.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type!==t)this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();else{this.currentCharacterToken.chars+=n;return}this._createCharacterToken(t,n)}_emitCodePoint(t){const n=Zee(t)?Ht.WHITESPACE_CHARACTER:t===F.NULL?Ht.NULL_CHARACTER:Ht.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(Ht.CHARACTER,t)}_matchNamedCharacterReference(t){let n=null,r=0,i=!1;for(let s=0,o=_c[0];s>=0&&(s=Kee(_c,o,s+1,t),!(s<0));t=this._consume()){r+=1,o=_c[s];const a=o&mu.VALUE_LENGTH;if(a){const u=(a>>14)-1;if(t!==F.SEMICOLON&&this._isCharacterReferenceInAttribute()&&l4e(this.preprocessor.peek(1))?(n=[F.AMPERSAND],s+=u):(n=u===0?[_c[s]&~mu.VALUE_LENGTH]:u===1?[_c[++s]]:[_c[++s],_c[++s]],r=0,i=t!==F.SEMICOLON),u===0){this._consume();break}}}return this._unconsume(r),i&&!this.preprocessor.endOfChunkHit&&this._err(ve.missingSemicolonAfterCharacterReference),this._unconsume(1),n}_isCharacterReferenceInAttribute(){return this.returnState===j.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===j.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===j.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case j.DATA:{this._stateData(t);break}case j.RCDATA:{this._stateRcdata(t);break}case j.RAWTEXT:{this._stateRawtext(t);break}case j.SCRIPT_DATA:{this._stateScriptData(t);break}case j.PLAINTEXT:{this._statePlaintext(t);break}case j.TAG_OPEN:{this._stateTagOpen(t);break}case j.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case j.TAG_NAME:{this._stateTagName(t);break}case j.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case j.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case j.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case j.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case j.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case j.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case j.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case j.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case j.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case j.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case j.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case j.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case j.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case j.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case j.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case j.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case j.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case j.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case j.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case j.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case j.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case j.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case j.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case j.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case j.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case j.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case j.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case j.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case j.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case j.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case j.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case j.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case j.BOGUS_COMMENT:{this._stateBogusComment(t);break}case j.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case j.COMMENT_START:{this._stateCommentStart(t);break}case j.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case j.COMMENT:{this._stateComment(t);break}case j.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case j.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case j.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case j.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case j.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case j.COMMENT_END:{this._stateCommentEnd(t);break}case j.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case j.DOCTYPE:{this._stateDoctype(t);break}case j.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case j.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case j.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case j.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case j.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case j.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case j.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case j.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case j.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case j.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case j.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case j.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case j.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case j.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case j.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case j.CDATA_SECTION:{this._stateCdataSection(t);break}case j.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case j.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case j.CHARACTER_REFERENCE:{this._stateCharacterReference(t);break}case j.NAMED_CHARACTER_REFERENCE:{this._stateNamedCharacterReference(t);break}case j.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}case j.NUMERIC_CHARACTER_REFERENCE:{this._stateNumericCharacterReference(t);break}case j.HEXADEMICAL_CHARACTER_REFERENCE_START:{this._stateHexademicalCharacterReferenceStart(t);break}case j.HEXADEMICAL_CHARACTER_REFERENCE:{this._stateHexademicalCharacterReference(t);break}case j.DECIMAL_CHARACTER_REFERENCE:{this._stateDecimalCharacterReference(t);break}case j.NUMERIC_CHARACTER_REFERENCE_END:{this._stateNumericCharacterReferenceEnd(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case F.LESS_THAN_SIGN:{this.state=j.TAG_OPEN;break}case F.AMPERSAND:{this.returnState=j.DATA,this.state=j.CHARACTER_REFERENCE;break}case F.NULL:{this._err(ve.unexpectedNullCharacter),this._emitCodePoint(t);break}case F.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case F.AMPERSAND:{this.returnState=j.RCDATA,this.state=j.CHARACTER_REFERENCE;break}case F.LESS_THAN_SIGN:{this.state=j.RCDATA_LESS_THAN_SIGN;break}case F.NULL:{this._err(ve.unexpectedNullCharacter),this._emitChars(ar);break}case F.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case F.LESS_THAN_SIGN:{this.state=j.RAWTEXT_LESS_THAN_SIGN;break}case F.NULL:{this._err(ve.unexpectedNullCharacter),this._emitChars(ar);break}case F.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case F.LESS_THAN_SIGN:{this.state=j.SCRIPT_DATA_LESS_THAN_SIGN;break}case F.NULL:{this._err(ve.unexpectedNullCharacter),this._emitChars(ar);break}case F.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case F.NULL:{this._err(ve.unexpectedNullCharacter),this._emitChars(ar);break}case F.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(vc(t))this._createStartTagToken(),this.state=j.TAG_NAME,this._stateTagName(t);else switch(t){case F.EXCLAMATION_MARK:{this.state=j.MARKUP_DECLARATION_OPEN;break}case F.SOLIDUS:{this.state=j.END_TAG_OPEN;break}case F.QUESTION_MARK:{this._err(ve.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=j.BOGUS_COMMENT,this._stateBogusComment(t);break}case F.EOF:{this._err(ve.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(ve.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=j.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(vc(t))this._createEndTagToken(),this.state=j.TAG_NAME,this._stateTagName(t);else switch(t){case F.GREATER_THAN_SIGN:{this._err(ve.missingEndTagName),this.state=j.DATA;break}case F.EOF:{this._err(ve.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(ve.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=j.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const n=this.currentToken;switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:{this.state=j.BEFORE_ATTRIBUTE_NAME;break}case F.SOLIDUS:{this.state=j.SELF_CLOSING_START_TAG;break}case F.GREATER_THAN_SIGN:{this.state=j.DATA,this.emitCurrentTagToken();break}case F.NULL:{this._err(ve.unexpectedNullCharacter),n.tagName+=ar;break}case F.EOF:{this._err(ve.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(w0(t)?O1(t):t)}}_stateRcdataLessThanSign(t){t===F.SOLIDUS?this.state=j.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=j.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){vc(t)?(this.state=j.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=j.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=j.BEFORE_ATTRIBUTE_NAME,!1;case F.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=j.SELF_CLOSING_START_TAG,!1;case F.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=j.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=j.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===F.SOLIDUS?this.state=j.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=j.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){vc(t)?(this.state=j.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=j.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=j.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case F.SOLIDUS:{this.state=j.SCRIPT_DATA_END_TAG_OPEN;break}case F.EXCLAMATION_MARK:{this.state=j.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=j.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){vc(t)?(this.state=j.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=j.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=j.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===F.HYPHEN_MINUS?(this.state=j.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=j.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===F.HYPHEN_MINUS?(this.state=j.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=j.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case F.HYPHEN_MINUS:{this.state=j.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case F.LESS_THAN_SIGN:{this.state=j.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case F.NULL:{this._err(ve.unexpectedNullCharacter),this._emitChars(ar);break}case F.EOF:{this._err(ve.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case F.HYPHEN_MINUS:{this.state=j.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case F.LESS_THAN_SIGN:{this.state=j.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case F.NULL:{this._err(ve.unexpectedNullCharacter),this.state=j.SCRIPT_DATA_ESCAPED,this._emitChars(ar);break}case F.EOF:{this._err(ve.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=j.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case F.HYPHEN_MINUS:{this._emitChars("-");break}case F.LESS_THAN_SIGN:{this.state=j.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case F.GREATER_THAN_SIGN:{this.state=j.SCRIPT_DATA,this._emitChars(">");break}case F.NULL:{this._err(ve.unexpectedNullCharacter),this.state=j.SCRIPT_DATA_ESCAPED,this._emitChars(ar);break}case F.EOF:{this._err(ve.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=j.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===F.SOLIDUS?this.state=j.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:vc(t)?(this._emitChars("<"),this.state=j.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=j.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){vc(t)?(this.state=j.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=j.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=j.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(Ts.SCRIPT,!1)&&iU(this.preprocessor.peek(Ts.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<Ts.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=j.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case F.HYPHEN_MINUS:{this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case F.LESS_THAN_SIGN:{this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case F.NULL:{this._err(ve.unexpectedNullCharacter),this._emitChars(ar);break}case F.EOF:{this._err(ve.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case F.HYPHEN_MINUS:{this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case F.LESS_THAN_SIGN:{this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case F.NULL:{this._err(ve.unexpectedNullCharacter),this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(ar);break}case F.EOF:{this._err(ve.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case F.HYPHEN_MINUS:{this._emitChars("-");break}case F.LESS_THAN_SIGN:{this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case F.GREATER_THAN_SIGN:{this.state=j.SCRIPT_DATA,this._emitChars(">");break}case F.NULL:{this._err(ve.unexpectedNullCharacter),this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(ar);break}case F.EOF:{this._err(ve.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===F.SOLIDUS?(this.state=j.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(Ts.SCRIPT,!1)&&iU(this.preprocessor.peek(Ts.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<Ts.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=j.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:break;case F.SOLIDUS:case F.GREATER_THAN_SIGN:case F.EOF:{this.state=j.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case F.EQUALS_SIGN:{this._err(ve.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=j.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=j.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:case F.SOLIDUS:case F.GREATER_THAN_SIGN:case F.EOF:{this._leaveAttrName(),this.state=j.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case F.EQUALS_SIGN:{this._leaveAttrName(),this.state=j.BEFORE_ATTRIBUTE_VALUE;break}case F.QUOTATION_MARK:case F.APOSTROPHE:case F.LESS_THAN_SIGN:{this._err(ve.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case F.NULL:{this._err(ve.unexpectedNullCharacter),this.currentAttr.name+=ar;break}default:this.currentAttr.name+=String.fromCodePoint(w0(t)?O1(t):t)}}_stateAfterAttributeName(t){switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:break;case F.SOLIDUS:{this.state=j.SELF_CLOSING_START_TAG;break}case F.EQUALS_SIGN:{this.state=j.BEFORE_ATTRIBUTE_VALUE;break}case F.GREATER_THAN_SIGN:{this.state=j.DATA,this.emitCurrentTagToken();break}case F.EOF:{this._err(ve.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=j.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:break;case F.QUOTATION_MARK:{this.state=j.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case F.APOSTROPHE:{this.state=j.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case F.GREATER_THAN_SIGN:{this._err(ve.missingAttributeValue),this.state=j.DATA,this.emitCurrentTagToken();break}default:this.state=j.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case F.QUOTATION_MARK:{this.state=j.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case F.AMPERSAND:{this.returnState=j.ATTRIBUTE_VALUE_DOUBLE_QUOTED,this.state=j.CHARACTER_REFERENCE;break}case F.NULL:{this._err(ve.unexpectedNullCharacter),this.currentAttr.value+=ar;break}case F.EOF:{this._err(ve.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case F.APOSTROPHE:{this.state=j.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case F.AMPERSAND:{this.returnState=j.ATTRIBUTE_VALUE_SINGLE_QUOTED,this.state=j.CHARACTER_REFERENCE;break}case F.NULL:{this._err(ve.unexpectedNullCharacter),this.currentAttr.value+=ar;break}case F.EOF:{this._err(ve.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:{this._leaveAttrValue(),this.state=j.BEFORE_ATTRIBUTE_NAME;break}case F.AMPERSAND:{this.returnState=j.ATTRIBUTE_VALUE_UNQUOTED,this.state=j.CHARACTER_REFERENCE;break}case F.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=j.DATA,this.emitCurrentTagToken();break}case F.NULL:{this._err(ve.unexpectedNullCharacter),this.currentAttr.value+=ar;break}case F.QUOTATION_MARK:case F.APOSTROPHE:case F.LESS_THAN_SIGN:case F.EQUALS_SIGN:case F.GRAVE_ACCENT:{this._err(ve.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case F.EOF:{this._err(ve.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:{this._leaveAttrValue(),this.state=j.BEFORE_ATTRIBUTE_NAME;break}case F.SOLIDUS:{this._leaveAttrValue(),this.state=j.SELF_CLOSING_START_TAG;break}case F.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=j.DATA,this.emitCurrentTagToken();break}case F.EOF:{this._err(ve.eofInTag),this._emitEOFToken();break}default:this._err(ve.missingWhitespaceBetweenAttributes),this.state=j.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case F.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=j.DATA,this.emitCurrentTagToken();break}case F.EOF:{this._err(ve.eofInTag),this._emitEOFToken();break}default:this._err(ve.unexpectedSolidusInTag),this.state=j.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const n=this.currentToken;switch(t){case F.GREATER_THAN_SIGN:{this.state=j.DATA,this.emitCurrentComment(n);break}case F.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case F.NULL:{this._err(ve.unexpectedNullCharacter),n.data+=ar;break}default:n.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(Ts.DASH_DASH,!0)?(this._createCommentToken(Ts.DASH_DASH.length+1),this.state=j.COMMENT_START):this._consumeSequenceIfMatch(Ts.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(Ts.DOCTYPE.length+1),this.state=j.DOCTYPE):this._consumeSequenceIfMatch(Ts.CDATA_START,!0)?this.inForeignNode?this.state=j.CDATA_SECTION:(this._err(ve.cdataInHtmlContent),this._createCommentToken(Ts.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=j.BOGUS_COMMENT):this._ensureHibernation()||(this._err(ve.incorrectlyOpenedComment),this._createCommentToken(2),this.state=j.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case F.HYPHEN_MINUS:{this.state=j.COMMENT_START_DASH;break}case F.GREATER_THAN_SIGN:{this._err(ve.abruptClosingOfEmptyComment),this.state=j.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=j.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const n=this.currentToken;switch(t){case F.HYPHEN_MINUS:{this.state=j.COMMENT_END;break}case F.GREATER_THAN_SIGN:{this._err(ve.abruptClosingOfEmptyComment),this.state=j.DATA,this.emitCurrentComment(n);break}case F.EOF:{this._err(ve.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=j.COMMENT,this._stateComment(t)}}_stateComment(t){const n=this.currentToken;switch(t){case F.HYPHEN_MINUS:{this.state=j.COMMENT_END_DASH;break}case F.LESS_THAN_SIGN:{n.data+="<",this.state=j.COMMENT_LESS_THAN_SIGN;break}case F.NULL:{this._err(ve.unexpectedNullCharacter),n.data+=ar;break}case F.EOF:{this._err(ve.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const n=this.currentToken;switch(t){case F.EXCLAMATION_MARK:{n.data+="!",this.state=j.COMMENT_LESS_THAN_SIGN_BANG;break}case F.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=j.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===F.HYPHEN_MINUS?this.state=j.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=j.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===F.HYPHEN_MINUS?this.state=j.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=j.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==F.GREATER_THAN_SIGN&&t!==F.EOF&&this._err(ve.nestedComment),this.state=j.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const n=this.currentToken;switch(t){case F.HYPHEN_MINUS:{this.state=j.COMMENT_END;break}case F.EOF:{this._err(ve.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=j.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const n=this.currentToken;switch(t){case F.GREATER_THAN_SIGN:{this.state=j.DATA,this.emitCurrentComment(n);break}case F.EXCLAMATION_MARK:{this.state=j.COMMENT_END_BANG;break}case F.HYPHEN_MINUS:{n.data+="-";break}case F.EOF:{this._err(ve.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=j.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const n=this.currentToken;switch(t){case F.HYPHEN_MINUS:{n.data+="--!",this.state=j.COMMENT_END_DASH;break}case F.GREATER_THAN_SIGN:{this._err(ve.incorrectlyClosedComment),this.state=j.DATA,this.emitCurrentComment(n);break}case F.EOF:{this._err(ve.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=j.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:{this.state=j.BEFORE_DOCTYPE_NAME;break}case F.GREATER_THAN_SIGN:{this.state=j.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case F.EOF:{this._err(ve.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ve.missingWhitespaceBeforeDoctypeName),this.state=j.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(w0(t))this._createDoctypeToken(String.fromCharCode(O1(t))),this.state=j.DOCTYPE_NAME;else switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:break;case F.NULL:{this._err(ve.unexpectedNullCharacter),this._createDoctypeToken(ar),this.state=j.DOCTYPE_NAME;break}case F.GREATER_THAN_SIGN:{this._err(ve.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=j.DATA;break}case F.EOF:{this._err(ve.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=j.DOCTYPE_NAME}}_stateDoctypeName(t){const n=this.currentToken;switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:{this.state=j.AFTER_DOCTYPE_NAME;break}case F.GREATER_THAN_SIGN:{this.state=j.DATA,this.emitCurrentDoctype(n);break}case F.NULL:{this._err(ve.unexpectedNullCharacter),n.name+=ar;break}case F.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(w0(t)?O1(t):t)}}_stateAfterDoctypeName(t){const n=this.currentToken;switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:break;case F.GREATER_THAN_SIGN:{this.state=j.DATA,this.emitCurrentDoctype(n);break}case F.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(Ts.PUBLIC,!1)?this.state=j.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(Ts.SYSTEM,!1)?this.state=j.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(ve.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const n=this.currentToken;switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:{this.state=j.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case F.QUOTATION_MARK:{this._err(ve.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=j.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case F.APOSTROPHE:{this._err(ve.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=j.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case F.GREATER_THAN_SIGN:{this._err(ve.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=j.DATA,this.emitCurrentDoctype(n);break}case F.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ve.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:break;case F.QUOTATION_MARK:{n.publicId="",this.state=j.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case F.APOSTROPHE:{n.publicId="",this.state=j.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case F.GREATER_THAN_SIGN:{this._err(ve.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=j.DATA,this.emitCurrentDoctype(n);break}case F.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ve.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case F.QUOTATION_MARK:{this.state=j.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case F.NULL:{this._err(ve.unexpectedNullCharacter),n.publicId+=ar;break}case F.GREATER_THAN_SIGN:{this._err(ve.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=j.DATA;break}case F.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case F.APOSTROPHE:{this.state=j.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case F.NULL:{this._err(ve.unexpectedNullCharacter),n.publicId+=ar;break}case F.GREATER_THAN_SIGN:{this._err(ve.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=j.DATA;break}case F.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:{this.state=j.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case F.GREATER_THAN_SIGN:{this.state=j.DATA,this.emitCurrentDoctype(n);break}case F.QUOTATION_MARK:{this._err(ve.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case F.APOSTROPHE:{this._err(ve.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case F.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ve.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const n=this.currentToken;switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:break;case F.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=j.DATA;break}case F.QUOTATION_MARK:{n.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case F.APOSTROPHE:{n.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case F.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ve.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const n=this.currentToken;switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:{this.state=j.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case F.QUOTATION_MARK:{this._err(ve.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case F.APOSTROPHE:{this._err(ve.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case F.GREATER_THAN_SIGN:{this._err(ve.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=j.DATA,this.emitCurrentDoctype(n);break}case F.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ve.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:break;case F.QUOTATION_MARK:{n.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case F.APOSTROPHE:{n.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case F.GREATER_THAN_SIGN:{this._err(ve.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=j.DATA,this.emitCurrentDoctype(n);break}case F.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ve.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case F.QUOTATION_MARK:{this.state=j.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case F.NULL:{this._err(ve.unexpectedNullCharacter),n.systemId+=ar;break}case F.GREATER_THAN_SIGN:{this._err(ve.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=j.DATA;break}case F.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case F.APOSTROPHE:{this.state=j.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case F.NULL:{this._err(ve.unexpectedNullCharacter),n.systemId+=ar;break}case F.GREATER_THAN_SIGN:{this._err(ve.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=j.DATA;break}case F.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:break;case F.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=j.DATA;break}case F.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ve.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const n=this.currentToken;switch(t){case F.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=j.DATA;break}case F.NULL:{this._err(ve.unexpectedNullCharacter);break}case F.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case F.RIGHT_SQUARE_BRACKET:{this.state=j.CDATA_SECTION_BRACKET;break}case F.EOF:{this._err(ve.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===F.RIGHT_SQUARE_BRACKET?this.state=j.CDATA_SECTION_END:(this._emitChars("]"),this.state=j.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case F.GREATER_THAN_SIGN:{this.state=j.DATA;break}case F.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=j.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(t){t===F.NUMBER_SIGN?this.state=j.NUMERIC_CHARACTER_REFERENCE:mR(t)?(this.state=j.NAMED_CHARACTER_REFERENCE,this._stateNamedCharacterReference(t)):(this._flushCodePointConsumedAsCharacterReference(F.AMPERSAND),this._reconsumeInState(this.returnState,t))}_stateNamedCharacterReference(t){const n=this._matchNamedCharacterReference(t);if(!this._ensureHibernation())if(n){for(let r=0;r<n.length;r++)this._flushCodePointConsumedAsCharacterReference(n[r]);this.state=this.returnState}else this._flushCodePointConsumedAsCharacterReference(F.AMPERSAND),this.state=j.AMBIGUOUS_AMPERSAND}_stateAmbiguousAmpersand(t){mR(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===F.SEMICOLON&&this._err(ve.unknownNamedCharacterReference),this._reconsumeInState(this.returnState,t))}_stateNumericCharacterReference(t){this.charRefCode=0,t===F.LATIN_SMALL_X||t===F.LATIN_CAPITAL_X?this.state=j.HEXADEMICAL_CHARACTER_REFERENCE_START:ny(t)?(this.state=j.DECIMAL_CHARACTER_REFERENCE,this._stateDecimalCharacterReference(t)):(this._err(ve.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(F.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(F.NUMBER_SIGN),this._reconsumeInState(this.returnState,t))}_stateHexademicalCharacterReferenceStart(t){u4e(t)?(this.state=j.HEXADEMICAL_CHARACTER_REFERENCE,this._stateHexademicalCharacterReference(t)):(this._err(ve.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(F.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(F.NUMBER_SIGN),this._unconsume(2),this.state=this.returnState)}_stateHexademicalCharacterReference(t){Xee(t)?this.charRefCode=this.charRefCode*16+t-55:Jee(t)?this.charRefCode=this.charRefCode*16+t-87:ny(t)?this.charRefCode=this.charRefCode*16+t-48:t===F.SEMICOLON?this.state=j.NUMERIC_CHARACTER_REFERENCE_END:(this._err(ve.missingSemicolonAfterCharacterReference),this.state=j.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(t))}_stateDecimalCharacterReference(t){ny(t)?this.charRefCode=this.charRefCode*10+t-48:t===F.SEMICOLON?this.state=j.NUMERIC_CHARACTER_REFERENCE_END:(this._err(ve.missingSemicolonAfterCharacterReference),this.state=j.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(t))}_stateNumericCharacterReferenceEnd(t){if(this.charRefCode===F.NULL)this._err(ve.nullCharacterReference),this.charRefCode=F.REPLACEMENT_CHARACTER;else if(this.charRefCode>1114111)this._err(ve.characterReferenceOutsideUnicodeRange),this.charRefCode=F.REPLACEMENT_CHARACTER;else if(Hee(this.charRefCode))this._err(ve.surrogateCharacterReference),this.charRefCode=F.REPLACEMENT_CHARACTER;else if(qee(this.charRefCode))this._err(ve.noncharacterCharacterReference);else if(Wee(this.charRefCode)||this.charRefCode===F.CARRIAGE_RETURN){this._err(ve.controlCharacterReference);const n=o4e.get(this.charRefCode);n!==void 0&&(this.charRefCode=n)}this._flushCodePointConsumedAsCharacterReference(this.charRefCode),this._reconsumeInState(this.returnState,t)}}const ete=new Set([b.DD,b.DT,b.LI,b.OPTGROUP,b.OPTION,b.P,b.RB,b.RP,b.RT,b.RTC]),sU=new Set([...ete,b.CAPTION,b.COLGROUP,b.TBODY,b.TD,b.TFOOT,b.TH,b.THEAD,b.TR]),P1=new Map([[b.APPLET,we.HTML],[b.CAPTION,we.HTML],[b.HTML,we.HTML],[b.MARQUEE,we.HTML],[b.OBJECT,we.HTML],[b.TABLE,we.HTML],[b.TD,we.HTML],[b.TEMPLATE,we.HTML],[b.TH,we.HTML],[b.ANNOTATION_XML,we.MATHML],[b.MI,we.MATHML],[b.MN,we.MATHML],[b.MO,we.MATHML],[b.MS,we.MATHML],[b.MTEXT,we.MATHML],[b.DESC,we.SVG],[b.FOREIGN_OBJECT,we.SVG],[b.TITLE,we.SVG]]),f4e=[b.H1,b.H2,b.H3,b.H4,b.H5,b.H6],d4e=[b.TR,b.TEMPLATE,b.HTML],h4e=[b.TBODY,b.TFOOT,b.THEAD,b.TEMPLATE,b.HTML],p4e=[b.TABLE,b.TEMPLATE,b.HTML],m4e=[b.TD,b.TH];class g4e{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=b.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===b.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===we.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,n){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,n,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,n){const r=this._indexOf(t);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(t,n,r){const i=this._indexOf(t)+1;this.items.splice(i,0,n),this.tagIDs.splice(i,0,r),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(t){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(t,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==we.HTML);this.shortenToLength(n<0?0:n)}shortenToLength(t){for(;this.stackTop>=t;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<t)}}popUntilElementPopped(t){const n=this._indexOf(t);this.shortenToLength(n<0?0:n)}popUntilPopped(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r<0?0:r)}popUntilNumberedHeaderPopped(){this.popUntilPopped(f4e,we.HTML)}popUntilTableCellPopped(){this.popUntilPopped(m4e,we.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,n){for(let r=this.stackTop;r>=0;r--)if(t.includes(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(p4e,we.HTML)}clearBackToTableBodyContext(){this.clearBackTo(h4e,we.HTML)}clearBackToTableRowContext(){this.clearBackTo(d4e,we.HTML)}remove(t){const n=this._indexOf(t);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===b.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const n=this._indexOf(t)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===b.HTML}hasInScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===t&&i===we.HTML)return!0;if(P1.get(r)===i)return!1}return!0}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t],r=this.treeAdapter.getNamespaceURI(this.items[t]);if(Qee(n)&&r===we.HTML)return!0;if(P1.get(n)===r)return!1}return!0}hasInListItemScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===t&&i===we.HTML)return!0;if((r===b.UL||r===b.OL)&&i===we.HTML||P1.get(r)===i)return!1}return!0}hasInButtonScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===t&&i===we.HTML)return!0;if(r===b.BUTTON&&i===we.HTML||P1.get(r)===i)return!1}return!0}hasInTableScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n];if(this.treeAdapter.getNamespaceURI(this.items[n])===we.HTML){if(r===t)return!0;if(r===b.TABLE||r===b.TEMPLATE||r===b.HTML)return!1}}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];if(this.treeAdapter.getNamespaceURI(this.items[t])===we.HTML){if(n===b.TBODY||n===b.THEAD||n===b.TFOOT)return!0;if(n===b.TABLE||n===b.HTML)return!1}}return!0}hasInSelectScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n];if(this.treeAdapter.getNamespaceURI(this.items[n])===we.HTML){if(r===t)return!0;if(r!==b.OPTION&&r!==b.OPTGROUP)return!1}}return!0}generateImpliedEndTags(){for(;ete.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;sU.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==t&&sU.has(this.currentTagId);)this.pop()}}const lO=3;var Ea;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(Ea=Ea||(Ea={}));const oU={type:Ea.Marker};class y4e{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,n){const r=[],i=n.length,s=this.treeAdapter.getTagName(t),o=this.treeAdapter.getNamespaceURI(t);for(let a=0;a<this.entries.length;a++){const u=this.entries[a];if(u.type===Ea.Marker)break;const{element:l}=u;if(this.treeAdapter.getTagName(l)===s&&this.treeAdapter.getNamespaceURI(l)===o){const c=this.treeAdapter.getAttrList(l);c.length===i&&r.push({idx:a,attrs:c})}}return r}_ensureNoahArkCondition(t){if(this.entries.length<lO)return;const n=this.treeAdapter.getAttrList(t),r=this._getNoahArkConditionCandidates(t,n);if(r.length<lO)return;const i=new Map(n.map(o=>[o.name,o.value]));let s=0;for(let o=0;o<r.length;o++){const a=r[o];a.attrs.every(u=>i.get(u.name)===u.value)&&(s+=1,s>=lO&&this.entries.splice(a.idx,1))}}insertMarker(){this.entries.unshift(oU)}pushElement(t,n){this._ensureNoahArkCondition(t),this.entries.unshift({type:Ea.Element,element:t,token:n})}insertElementAfterBookmark(t,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:Ea.Element,element:t,token:n})}removeEntry(t){const n=this.entries.indexOf(t);n>=0&&this.entries.splice(n,1)}clearToLastMarker(){const t=this.entries.indexOf(oU);t>=0?this.entries.splice(0,t+1):this.entries.length=0}getElementEntryInScopeWithTagName(t){const n=this.entries.find(r=>r.type===Ea.Marker||this.treeAdapter.getTagName(r.element)===t);return n&&n.type===Ea.Element?n:null}getElementEntry(t){return this.entries.find(n=>n.type===Ea.Element&&n.element===t)}}function aU(e){return{nodeName:"#text",value:e,parentNode:null}}const zh={createDocument(){return{nodeName:"#document",mode:oo.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,n,r){const i=e.childNodes.find(s=>s.nodeName==="#documentType");if(i)i.name=t,i.publicId=n,i.systemId=r;else{const s={nodeName:"#documentType",name:t,publicId:n,systemId:r,parentNode:null};zh.appendChild(e,s)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(zh.isTextNode(n)){n.value+=t;return}}zh.appendChild(e,aU(t))},insertTextBefore(e,t,n){const r=e.childNodes[e.childNodes.indexOf(n)-1];r&&zh.isTextNode(r)?r.value+=t:zh.insertBefore(e,aU(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map(r=>r.name));for(let r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},tte="html",_4e="about:legacy-compat",v4e="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",nte=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],b4e=[...nte,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],w4e=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),rte=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],E4e=[...rte,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function uU(e,t){return t.some(n=>e.startsWith(n))}function T4e(e){return e.name===tte&&e.publicId===null&&(e.systemId===null||e.systemId===_4e)}function S4e(e){if(e.name!==tte)return oo.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===v4e)return oo.QUIRKS;let{publicId:n}=e;if(n!==null){if(n=n.toLowerCase(),w4e.has(n))return oo.QUIRKS;let r=t===null?b4e:nte;if(uU(n,r))return oo.QUIRKS;if(r=t===null?rte:E4e,uU(n,r))return oo.LIMITED_QUIRKS}return oo.NO_QUIRKS}const lU={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},x4e="definitionurl",I4e="definitionURL",A4e=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),C4e=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:we.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:we.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:we.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:we.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:we.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:we.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:we.XLINK}],["xml:base",{prefix:"xml",name:"base",namespace:we.XML}],["xml:lang",{prefix:"xml",name:"lang",namespace:we.XML}],["xml:space",{prefix:"xml",name:"space",namespace:we.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:we.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:we.XMLNS}]]),O4e=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),P4e=new Set([b.B,b.BIG,b.BLOCKQUOTE,b.BODY,b.BR,b.CENTER,b.CODE,b.DD,b.DIV,b.DL,b.DT,b.EM,b.EMBED,b.H1,b.H2,b.H3,b.H4,b.H5,b.H6,b.HEAD,b.HR,b.I,b.IMG,b.LI,b.LISTING,b.MENU,b.META,b.NOBR,b.OL,b.P,b.PRE,b.RUBY,b.S,b.SMALL,b.SPAN,b.STRONG,b.STRIKE,b.SUB,b.SUP,b.TABLE,b.TT,b.U,b.UL,b.VAR]);function R4e(e){const t=e.tagID;return t===b.FONT&&e.attrs.some(({name:r})=>r===rf.COLOR||r===rf.SIZE||r===rf.FACE)||P4e.has(t)}function ite(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===x4e){e.attrs[t].name=I4e;break}}function ste(e){for(let t=0;t<e.attrs.length;t++){const n=A4e.get(e.attrs[t].name);n!=null&&(e.attrs[t].name=n)}}function n3(e){for(let t=0;t<e.attrs.length;t++){const n=C4e.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function N4e(e){const t=O4e.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=rg(e.tagName))}function k4e(e,t){return t===we.MATHML&&(e===b.MI||e===b.MO||e===b.MN||e===b.MS||e===b.MTEXT)}function D4e(e,t,n){if(t===we.MATHML&&e===b.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===rf.ENCODING){const i=n[r].value.toLowerCase();return i===lU.TEXT_HTML||i===lU.APPLICATION_XML}}return t===we.SVG&&(e===b.FOREIGN_OBJECT||e===b.DESC||e===b.TITLE)}function $4e(e,t,n,r){return(!r||r===we.HTML)&&D4e(e,t,n)||(!r||r===we.MATHML)&&k4e(e,t)}const L4e="hidden",M4e=8,F4e=3;var G;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(G||(G={}));const B4e={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},ote=new Set([b.TABLE,b.TBODY,b.TFOOT,b.THEAD,b.TR]),cU={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:zh,onParseError:null};let fU=class{constructor(t,n,r=null,i=null){this.fragmentContext=r,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=G.INITIAL,this.originalInsertionMode=G.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...cU,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new c4e(this.options,this),this.activeFormattingElements=new y4e(this.treeAdapter),this.fragmentContextID=r?rg(this.treeAdapter.getTagName(r)):b.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new g4e(this.document,this.treeAdapter,this)}static parse(t,n){const r=new this(n);return r.tokenizer.write(t,!0),r.document}static getFragmentParser(t,n){const r={...cU,...n};t??(t=r.treeAdapter.createElement(fe.TEMPLATE,we.HTML,[]));const i=r.treeAdapter.createElement("documentmock",we.HTML,[]),s=new this(r,i,t);return s.fragmentContextID===b.TEMPLATE&&s.tmplInsertionModeStack.unshift(G.IN_TEMPLATE),s._initTokenizerForFragmentParsing(),s._insertFakeRootElement(),s._resetInsertionMode(),s._findFormInFragmentContext(),s}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,n),n}_err(t,n,r){var i;if(!this.onParseError)return;const s=(i=t.location)!==null&&i!==void 0?i:B4e,o={code:n,startLine:s.startLine,startCol:s.startCol,startOffset:s.startOffset,endLine:r?s.startLine:s.endLine,endCol:r?s.startCol:s.endCol,endOffset:r?s.startOffset:s.endOffset};this.onParseError(o)}onItemPush(t,n,r){var i,s;(s=(i=this.treeAdapter).onItemPush)===null||s===void 0||s.call(i,t),r&&this.openElements.stackTop>0&&this._setContextModes(t,n)}onItemPop(t,n){var r,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(i=(r=this.treeAdapter).onItemPop)===null||i===void 0||i.call(r,t,this.openElements.current),n){let s,o;this.openElements.stackTop===0&&this.fragmentContext?(s=this.fragmentContext,o=this.fragmentContextID):{current:s,currentTagId:o}=this.openElements,this._setContextModes(s,o)}}_setContextModes(t,n){const r=t===this.document||this.treeAdapter.getNamespaceURI(t)===we.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&!this._isIntegrationPoint(n,t)}_switchToTextParsing(t,n){this._insertElement(t,we.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=G.TEXT}switchToPlaintextParsing(){this.insertionMode=G.TEXT,this.originalInsertionMode=G.IN_BODY,this.tokenizer.state=Lr.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===fe.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==we.HTML))switch(this.fragmentContextID){case b.TITLE:case b.TEXTAREA:{this.tokenizer.state=Lr.RCDATA;break}case b.STYLE:case b.XMP:case b.IFRAME:case b.NOEMBED:case b.NOFRAMES:case b.NOSCRIPT:{this.tokenizer.state=Lr.RAWTEXT;break}case b.SCRIPT:{this.tokenizer.state=Lr.SCRIPT_DATA;break}case b.PLAINTEXT:{this.tokenizer.state=Lr.PLAINTEXT;break}}}_setDocumentType(t){const n=t.name||"",r=t.publicId||"",i=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,i),t.location){const o=this.treeAdapter.getChildNodes(this.document).find(a=>this.treeAdapter.isDocumentTypeNode(a));o&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}}_attachElementToTree(t,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(t,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r,t)}}_appendElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location)}_insertElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID)}_insertFakeElement(t,n){const r=this.treeAdapter.createElement(t,we.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(t){const n=this.treeAdapter.createElement(t.tagName,we.HTML,t.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(fe.HTML,we.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,b.HTML)}_appendCommentNode(t,n){const r=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location)}_insertCharacters(t){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,t.chars,r):this.treeAdapter.insertText(n,t.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,t.chars)),!t.location)return;const i=this.treeAdapter.getChildNodes(n),s=r?i.lastIndexOf(r):i.length,o=i[s-1];if(this.treeAdapter.getNodeSourceCodeLocation(o)){const{endLine:u,endCol:l,endOffset:c}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(o,{endLine:u,endCol:l,endOffset:c})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}_adoptNodes(t,n){for(let r=this.treeAdapter.getFirstChild(t);r;r=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(t,n){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&n.location){const r=n.location,i=this.treeAdapter.getTagName(t),s=n.type===Ht.END_TAG&&i===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,s)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,t.tagID===b.SVG&&this.treeAdapter.getTagName(n)===fe.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===we.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===b.MGLYPH||t.tagID===b.MALIGNMARK)&&!this._isIntegrationPoint(r,n,we.HTML)}_processToken(t){switch(t.type){case Ht.CHARACTER:{this.onCharacter(t);break}case Ht.NULL_CHARACTER:{this.onNullCharacter(t);break}case Ht.COMMENT:{this.onComment(t);break}case Ht.DOCTYPE:{this.onDoctype(t);break}case Ht.START_TAG:{this._processStartTag(t);break}case Ht.END_TAG:{this.onEndTag(t);break}case Ht.EOF:{this.onEof(t);break}case Ht.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,n,r){const i=this.treeAdapter.getNamespaceURI(n),s=this.treeAdapter.getAttrList(n);return $4e(t,i,s,r)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const n=this.activeFormattingElements.entries.findIndex(i=>i.type===Ea.Marker||this.openElements.contains(i.element)),r=n<0?t-1:n-1;for(let i=r;i>=0;i--){const s=this.activeFormattingElements.entries[i];this._insertElement(s.token,this.treeAdapter.getNamespaceURI(s.element)),s.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=G.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(b.P),this.openElements.popUntilTagNamePopped(b.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case b.TR:{this.insertionMode=G.IN_ROW;return}case b.TBODY:case b.THEAD:case b.TFOOT:{this.insertionMode=G.IN_TABLE_BODY;return}case b.CAPTION:{this.insertionMode=G.IN_CAPTION;return}case b.COLGROUP:{this.insertionMode=G.IN_COLUMN_GROUP;return}case b.TABLE:{this.insertionMode=G.IN_TABLE;return}case b.BODY:{this.insertionMode=G.IN_BODY;return}case b.FRAMESET:{this.insertionMode=G.IN_FRAMESET;return}case b.SELECT:{this._resetInsertionModeForSelect(t);return}case b.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case b.HTML:{this.insertionMode=this.headElement?G.AFTER_HEAD:G.BEFORE_HEAD;return}case b.TD:case b.TH:{if(t>0){this.insertionMode=G.IN_CELL;return}break}case b.HEAD:{if(t>0){this.insertionMode=G.IN_HEAD;return}break}}this.insertionMode=G.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let n=t-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===b.TEMPLATE)break;if(r===b.TABLE){this.insertionMode=G.IN_SELECT_IN_TABLE;return}}this.insertionMode=G.IN_SELECT}_isElementCausesFosterParenting(t){return ote.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const n=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case b.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===we.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case b.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,t,n.beforeElement):this.treeAdapter.appendChild(n.parent,t)}_isSpecialElement(t,n){const r=this.treeAdapter.getNamespaceURI(t);return s4e[r].has(n)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){mFe(this,t);return}switch(this.insertionMode){case G.INITIAL:{Kg(this,t);break}case G.BEFORE_HTML:{ry(this,t);break}case G.BEFORE_HEAD:{iy(this,t);break}case G.IN_HEAD:{sy(this,t);break}case G.IN_HEAD_NO_SCRIPT:{oy(this,t);break}case G.AFTER_HEAD:{ay(this,t);break}case G.IN_BODY:case G.IN_CAPTION:case G.IN_CELL:case G.IN_TEMPLATE:{ute(this,t);break}case G.TEXT:case G.IN_SELECT:case G.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case G.IN_TABLE:case G.IN_TABLE_BODY:case G.IN_ROW:{cO(this,t);break}case G.IN_TABLE_TEXT:{pte(this,t);break}case G.IN_COLUMN_GROUP:{CT(this,t);break}case G.AFTER_BODY:{OT(this,t);break}case G.AFTER_AFTER_BODY:{$b(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){pFe(this,t);return}switch(this.insertionMode){case G.INITIAL:{Kg(this,t);break}case G.BEFORE_HTML:{ry(this,t);break}case G.BEFORE_HEAD:{iy(this,t);break}case G.IN_HEAD:{sy(this,t);break}case G.IN_HEAD_NO_SCRIPT:{oy(this,t);break}case G.AFTER_HEAD:{ay(this,t);break}case G.TEXT:{this._insertCharacters(t);break}case G.IN_TABLE:case G.IN_TABLE_BODY:case G.IN_ROW:{cO(this,t);break}case G.IN_COLUMN_GROUP:{CT(this,t);break}case G.AFTER_BODY:{OT(this,t);break}case G.AFTER_AFTER_BODY:{$b(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){gR(this,t);return}switch(this.insertionMode){case G.INITIAL:case G.BEFORE_HTML:case G.BEFORE_HEAD:case G.IN_HEAD:case G.IN_HEAD_NO_SCRIPT:case G.AFTER_HEAD:case G.IN_BODY:case G.IN_TABLE:case G.IN_CAPTION:case G.IN_COLUMN_GROUP:case G.IN_TABLE_BODY:case G.IN_ROW:case G.IN_CELL:case G.IN_SELECT:case G.IN_SELECT_IN_TABLE:case G.IN_TEMPLATE:case G.IN_FRAMESET:case G.AFTER_FRAMESET:{gR(this,t);break}case G.IN_TABLE_TEXT:{Qg(this,t);break}case G.AFTER_BODY:{q4e(this,t);break}case G.AFTER_AFTER_BODY:case G.AFTER_AFTER_FRAMESET:{Y4e(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case G.INITIAL:{G4e(this,t);break}case G.BEFORE_HEAD:case G.IN_HEAD:case G.IN_HEAD_NO_SCRIPT:case G.AFTER_HEAD:{this._err(t,ve.misplacedDoctype);break}case G.IN_TABLE_TEXT:{Qg(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,ve.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?gFe(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case G.INITIAL:{Kg(this,t);break}case G.BEFORE_HTML:{K4e(this,t);break}case G.BEFORE_HEAD:{X4e(this,t);break}case G.IN_HEAD:{Ua(this,t);break}case G.IN_HEAD_NO_SCRIPT:{e5e(this,t);break}case G.AFTER_HEAD:{n5e(this,t);break}case G.IN_BODY:{as(this,t);break}case G.IN_TABLE:{pm(this,t);break}case G.IN_TABLE_TEXT:{Qg(this,t);break}case G.IN_CAPTION:{J5e(this,t);break}case G.IN_COLUMN_GROUP:{s3(this,t);break}case G.IN_TABLE_BODY:{hI(this,t);break}case G.IN_ROW:{pI(this,t);break}case G.IN_CELL:{tFe(this,t);break}case G.IN_SELECT:{yte(this,t);break}case G.IN_SELECT_IN_TABLE:{rFe(this,t);break}case G.IN_TEMPLATE:{sFe(this,t);break}case G.AFTER_BODY:{aFe(this,t);break}case G.IN_FRAMESET:{uFe(this,t);break}case G.AFTER_FRAMESET:{cFe(this,t);break}case G.AFTER_AFTER_BODY:{dFe(this,t);break}case G.AFTER_AFTER_FRAMESET:{hFe(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?yFe(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case G.INITIAL:{Kg(this,t);break}case G.BEFORE_HTML:{Q4e(this,t);break}case G.BEFORE_HEAD:{J4e(this,t);break}case G.IN_HEAD:{Z4e(this,t);break}case G.IN_HEAD_NO_SCRIPT:{t5e(this,t);break}case G.AFTER_HEAD:{r5e(this,t);break}case G.IN_BODY:{dI(this,t);break}case G.TEXT:{V5e(this,t);break}case G.IN_TABLE:{Yy(this,t);break}case G.IN_TABLE_TEXT:{Qg(this,t);break}case G.IN_CAPTION:{Z5e(this,t);break}case G.IN_COLUMN_GROUP:{eFe(this,t);break}case G.IN_TABLE_BODY:{yR(this,t);break}case G.IN_ROW:{gte(this,t);break}case G.IN_CELL:{nFe(this,t);break}case G.IN_SELECT:{_te(this,t);break}case G.IN_SELECT_IN_TABLE:{iFe(this,t);break}case G.IN_TEMPLATE:{oFe(this,t);break}case G.AFTER_BODY:{bte(this,t);break}case G.IN_FRAMESET:{lFe(this,t);break}case G.AFTER_FRAMESET:{fFe(this,t);break}case G.AFTER_AFTER_BODY:{$b(this,t);break}}}onEof(t){switch(this.insertionMode){case G.INITIAL:{Kg(this,t);break}case G.BEFORE_HTML:{ry(this,t);break}case G.BEFORE_HEAD:{iy(this,t);break}case G.IN_HEAD:{sy(this,t);break}case G.IN_HEAD_NO_SCRIPT:{oy(this,t);break}case G.AFTER_HEAD:{ay(this,t);break}case G.IN_BODY:case G.IN_TABLE:case G.IN_CAPTION:case G.IN_COLUMN_GROUP:case G.IN_TABLE_BODY:case G.IN_ROW:case G.IN_CELL:case G.IN_SELECT:case G.IN_SELECT_IN_TABLE:{dte(this,t);break}case G.TEXT:{z5e(this,t);break}case G.IN_TABLE_TEXT:{Qg(this,t);break}case G.IN_TEMPLATE:{vte(this,t);break}case G.AFTER_BODY:case G.IN_FRAMESET:case G.AFTER_FRAMESET:case G.AFTER_AFTER_BODY:case G.AFTER_AFTER_FRAMESET:{i3(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===F.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case G.IN_HEAD:case G.IN_HEAD_NO_SCRIPT:case G.AFTER_HEAD:case G.TEXT:case G.IN_COLUMN_GROUP:case G.IN_SELECT:case G.IN_SELECT_IN_TABLE:case G.IN_FRAMESET:case G.AFTER_FRAMESET:{this._insertCharacters(t);break}case G.IN_BODY:case G.IN_CAPTION:case G.IN_CELL:case G.IN_TEMPLATE:case G.AFTER_BODY:case G.AFTER_AFTER_BODY:case G.AFTER_AFTER_FRAMESET:{ate(this,t);break}case G.IN_TABLE:case G.IN_TABLE_BODY:case G.IN_ROW:{cO(this,t);break}case G.IN_TABLE_TEXT:{hte(this,t);break}}}};function j4e(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):fte(e,t),n}function U4e(e,t){let n=null,r=e.openElements.stackTop;for(;r>=0;r--){const i=e.openElements.items[r];if(i===t.element)break;e._isSpecialElement(i,e.openElements.tagIDs[r])&&(n=i)}return n||(e.openElements.shortenToLength(r<0?0:r),e.activeFormattingElements.removeEntry(t)),n}function V4e(e,t,n){let r=t,i=e.openElements.getCommonAncestor(t);for(let s=0,o=i;o!==n;s++,o=i){i=e.openElements.getCommonAncestor(o);const a=e.activeFormattingElements.getElementEntry(o),u=a&&s>=F4e;!a||u?(u&&e.activeFormattingElements.removeEntry(a),e.openElements.remove(o)):(o=z4e(e,a),r===t&&(e.activeFormattingElements.bookmark=a),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(o,r),r=o)}return r}function z4e(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function H4e(e,t,n){const r=e.treeAdapter.getTagName(t),i=rg(r);if(e._isElementCausesFosterParenting(i))e._fosterParentElement(n);else{const s=e.treeAdapter.getNamespaceURI(t);i===b.TEMPLATE&&s===we.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function W4e(e,t,n){const r=e.treeAdapter.getNamespaceURI(n.element),{token:i}=n,s=e.treeAdapter.createElement(i.tagName,r,i.attrs);e._adoptNodes(t,s),e.treeAdapter.appendChild(t,s),e.activeFormattingElements.insertElementAfterBookmark(s,i),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,s,i.tagID)}function r3(e,t){for(let n=0;n<M4e;n++){const r=j4e(e,t);if(!r)break;const i=U4e(e,r);if(!i)break;e.activeFormattingElements.bookmark=r;const s=V4e(e,i,r.element),o=e.openElements.getCommonAncestor(r.element);e.treeAdapter.detachNode(s),o&&H4e(e,o,s),W4e(e,i,r)}}function gR(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function q4e(e,t){e._appendCommentNode(t,e.openElements.items[0])}function Y4e(e,t){e._appendCommentNode(t,e.document)}function i3(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const r=e.openElements.items[0],i=e.treeAdapter.getNodeSourceCodeLocation(r);if(i&&!i.endTag&&(e._setEndLocation(r,t),e.openElements.stackTop>=1)){const s=e.openElements.items[1],o=e.treeAdapter.getNodeSourceCodeLocation(s);o&&!o.endTag&&e._setEndLocation(s,t)}}}}function G4e(e,t){e._setDocumentType(t);const n=t.forceQuirks?oo.QUIRKS:S4e(t);T4e(t)||e._err(t,ve.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=G.BEFORE_HTML}function Kg(e,t){e._err(t,ve.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,oo.QUIRKS),e.insertionMode=G.BEFORE_HTML,e._processToken(t)}function K4e(e,t){t.tagID===b.HTML?(e._insertElement(t,we.HTML),e.insertionMode=G.BEFORE_HEAD):ry(e,t)}function Q4e(e,t){const n=t.tagID;(n===b.HTML||n===b.HEAD||n===b.BODY||n===b.BR)&&ry(e,t)}function ry(e,t){e._insertFakeRootElement(),e.insertionMode=G.BEFORE_HEAD,e._processToken(t)}function X4e(e,t){switch(t.tagID){case b.HTML:{as(e,t);break}case b.HEAD:{e._insertElement(t,we.HTML),e.headElement=e.openElements.current,e.insertionMode=G.IN_HEAD;break}default:iy(e,t)}}function J4e(e,t){const n=t.tagID;n===b.HEAD||n===b.BODY||n===b.HTML||n===b.BR?iy(e,t):e._err(t,ve.endTagWithoutMatchingOpenElement)}function iy(e,t){e._insertFakeElement(fe.HEAD,b.HEAD),e.headElement=e.openElements.current,e.insertionMode=G.IN_HEAD,e._processToken(t)}function Ua(e,t){switch(t.tagID){case b.HTML:{as(e,t);break}case b.BASE:case b.BASEFONT:case b.BGSOUND:case b.LINK:case b.META:{e._appendElement(t,we.HTML),t.ackSelfClosing=!0;break}case b.TITLE:{e._switchToTextParsing(t,Lr.RCDATA);break}case b.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,Lr.RAWTEXT):(e._insertElement(t,we.HTML),e.insertionMode=G.IN_HEAD_NO_SCRIPT);break}case b.NOFRAMES:case b.STYLE:{e._switchToTextParsing(t,Lr.RAWTEXT);break}case b.SCRIPT:{e._switchToTextParsing(t,Lr.SCRIPT_DATA);break}case b.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=G.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(G.IN_TEMPLATE);break}case b.HEAD:{e._err(t,ve.misplacedStartTagForHeadElement);break}default:sy(e,t)}}function Z4e(e,t){switch(t.tagID){case b.HEAD:{e.openElements.pop(),e.insertionMode=G.AFTER_HEAD;break}case b.BODY:case b.BR:case b.HTML:{sy(e,t);break}case b.TEMPLATE:{ph(e,t);break}default:e._err(t,ve.endTagWithoutMatchingOpenElement)}}function ph(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==b.TEMPLATE&&e._err(t,ve.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(b.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,ve.endTagWithoutMatchingOpenElement)}function sy(e,t){e.openElements.pop(),e.insertionMode=G.AFTER_HEAD,e._processToken(t)}function e5e(e,t){switch(t.tagID){case b.HTML:{as(e,t);break}case b.BASEFONT:case b.BGSOUND:case b.HEAD:case b.LINK:case b.META:case b.NOFRAMES:case b.STYLE:{Ua(e,t);break}case b.NOSCRIPT:{e._err(t,ve.nestedNoscriptInHead);break}default:oy(e,t)}}function t5e(e,t){switch(t.tagID){case b.NOSCRIPT:{e.openElements.pop(),e.insertionMode=G.IN_HEAD;break}case b.BR:{oy(e,t);break}default:e._err(t,ve.endTagWithoutMatchingOpenElement)}}function oy(e,t){const n=t.type===Ht.EOF?ve.openElementsLeftAfterEof:ve.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=G.IN_HEAD,e._processToken(t)}function n5e(e,t){switch(t.tagID){case b.HTML:{as(e,t);break}case b.BODY:{e._insertElement(t,we.HTML),e.framesetOk=!1,e.insertionMode=G.IN_BODY;break}case b.FRAMESET:{e._insertElement(t,we.HTML),e.insertionMode=G.IN_FRAMESET;break}case b.BASE:case b.BASEFONT:case b.BGSOUND:case b.LINK:case b.META:case b.NOFRAMES:case b.SCRIPT:case b.STYLE:case b.TEMPLATE:case b.TITLE:{e._err(t,ve.abandonedHeadElementChild),e.openElements.push(e.headElement,b.HEAD),Ua(e,t),e.openElements.remove(e.headElement);break}case b.HEAD:{e._err(t,ve.misplacedStartTagForHeadElement);break}default:ay(e,t)}}function r5e(e,t){switch(t.tagID){case b.BODY:case b.HTML:case b.BR:{ay(e,t);break}case b.TEMPLATE:{ph(e,t);break}default:e._err(t,ve.endTagWithoutMatchingOpenElement)}}function ay(e,t){e._insertFakeElement(fe.BODY,b.BODY),e.insertionMode=G.IN_BODY,fI(e,t)}function fI(e,t){switch(t.type){case Ht.CHARACTER:{ute(e,t);break}case Ht.WHITESPACE_CHARACTER:{ate(e,t);break}case Ht.COMMENT:{gR(e,t);break}case Ht.START_TAG:{as(e,t);break}case Ht.END_TAG:{dI(e,t);break}case Ht.EOF:{dte(e,t);break}}}function ate(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function ute(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function i5e(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function s5e(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}function o5e(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,we.HTML),e.insertionMode=G.IN_FRAMESET)}function a5e(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,we.HTML)}function u5e(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),Qee(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,we.HTML)}function l5e(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,we.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function c5e(e,t){const n=e.openElements.tmplCount>0;(!e.formElement||n)&&(e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,we.HTML),n||(e.formElement=e.openElements.current))}function f5e(e,t){e.framesetOk=!1;const n=t.tagID;for(let r=e.openElements.stackTop;r>=0;r--){const i=e.openElements.tagIDs[r];if(n===b.LI&&i===b.LI||(n===b.DD||n===b.DT)&&(i===b.DD||i===b.DT)){e.openElements.generateImpliedEndTagsWithExclusion(i),e.openElements.popUntilTagNamePopped(i);break}if(i!==b.ADDRESS&&i!==b.DIV&&i!==b.P&&e._isSpecialElement(e.openElements.items[r],i))break}e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,we.HTML)}function d5e(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,we.HTML),e.tokenizer.state=Lr.PLAINTEXT}function h5e(e,t){e.openElements.hasInScope(b.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(b.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,we.HTML),e.framesetOk=!1}function p5e(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(fe.A);n&&(r3(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,we.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function m5e(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,we.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function g5e(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(b.NOBR)&&(r3(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,we.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function y5e(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,we.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function _5e(e,t){e.treeAdapter.getDocumentMode(e.document)!==oo.QUIRKS&&e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,we.HTML),e.framesetOk=!1,e.insertionMode=G.IN_TABLE}function lte(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,we.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function cte(e){const t=Yee(e,rf.TYPE);return t!=null&&t.toLowerCase()===L4e}function v5e(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,we.HTML),cte(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function b5e(e,t){e._appendElement(t,we.HTML),t.ackSelfClosing=!0}function w5e(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._appendElement(t,we.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function E5e(e,t){t.tagName=fe.IMG,t.tagID=b.IMG,lte(e,t)}function T5e(e,t){e._insertElement(t,we.HTML),e.skipNextNewLine=!0,e.tokenizer.state=Lr.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=G.TEXT}function S5e(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,Lr.RAWTEXT)}function x5e(e,t){e.framesetOk=!1,e._switchToTextParsing(t,Lr.RAWTEXT)}function dU(e,t){e._switchToTextParsing(t,Lr.RAWTEXT)}function I5e(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,we.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===G.IN_TABLE||e.insertionMode===G.IN_CAPTION||e.insertionMode===G.IN_TABLE_BODY||e.insertionMode===G.IN_ROW||e.insertionMode===G.IN_CELL?G.IN_SELECT_IN_TABLE:G.IN_SELECT}function A5e(e,t){e.openElements.currentTagId===b.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,we.HTML)}function C5e(e,t){e.openElements.hasInScope(b.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,we.HTML)}function O5e(e,t){e.openElements.hasInScope(b.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(b.RTC),e._insertElement(t,we.HTML)}function P5e(e,t){e._reconstructActiveFormattingElements(),ite(t),n3(t),t.selfClosing?e._appendElement(t,we.MATHML):e._insertElement(t,we.MATHML),t.ackSelfClosing=!0}function R5e(e,t){e._reconstructActiveFormattingElements(),ste(t),n3(t),t.selfClosing?e._appendElement(t,we.SVG):e._insertElement(t,we.SVG),t.ackSelfClosing=!0}function hU(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,we.HTML)}function as(e,t){switch(t.tagID){case b.I:case b.S:case b.B:case b.U:case b.EM:case b.TT:case b.BIG:case b.CODE:case b.FONT:case b.SMALL:case b.STRIKE:case b.STRONG:{m5e(e,t);break}case b.A:{p5e(e,t);break}case b.H1:case b.H2:case b.H3:case b.H4:case b.H5:case b.H6:{u5e(e,t);break}case b.P:case b.DL:case b.OL:case b.UL:case b.DIV:case b.DIR:case b.NAV:case b.MAIN:case b.MENU:case b.ASIDE:case b.CENTER:case b.FIGURE:case b.FOOTER:case b.HEADER:case b.HGROUP:case b.DIALOG:case b.DETAILS:case b.ADDRESS:case b.ARTICLE:case b.SECTION:case b.SUMMARY:case b.FIELDSET:case b.BLOCKQUOTE:case b.FIGCAPTION:{a5e(e,t);break}case b.LI:case b.DD:case b.DT:{f5e(e,t);break}case b.BR:case b.IMG:case b.WBR:case b.AREA:case b.EMBED:case b.KEYGEN:{lte(e,t);break}case b.HR:{w5e(e,t);break}case b.RB:case b.RTC:{C5e(e,t);break}case b.RT:case b.RP:{O5e(e,t);break}case b.PRE:case b.LISTING:{l5e(e,t);break}case b.XMP:{S5e(e,t);break}case b.SVG:{R5e(e,t);break}case b.HTML:{i5e(e,t);break}case b.BASE:case b.LINK:case b.META:case b.STYLE:case b.TITLE:case b.SCRIPT:case b.BGSOUND:case b.BASEFONT:case b.TEMPLATE:{Ua(e,t);break}case b.BODY:{s5e(e,t);break}case b.FORM:{c5e(e,t);break}case b.NOBR:{g5e(e,t);break}case b.MATH:{P5e(e,t);break}case b.TABLE:{_5e(e,t);break}case b.INPUT:{v5e(e,t);break}case b.PARAM:case b.TRACK:case b.SOURCE:{b5e(e,t);break}case b.IMAGE:{E5e(e,t);break}case b.BUTTON:{h5e(e,t);break}case b.APPLET:case b.OBJECT:case b.MARQUEE:{y5e(e,t);break}case b.IFRAME:{x5e(e,t);break}case b.SELECT:{I5e(e,t);break}case b.OPTION:case b.OPTGROUP:{A5e(e,t);break}case b.NOEMBED:{dU(e,t);break}case b.FRAMESET:{o5e(e,t);break}case b.TEXTAREA:{T5e(e,t);break}case b.NOSCRIPT:{e.options.scriptingEnabled?dU(e,t):hU(e,t);break}case b.PLAINTEXT:{d5e(e,t);break}case b.COL:case b.TH:case b.TD:case b.TR:case b.HEAD:case b.FRAME:case b.TBODY:case b.TFOOT:case b.THEAD:case b.CAPTION:case b.COLGROUP:break;default:hU(e,t)}}function N5e(e,t){if(e.openElements.hasInScope(b.BODY)&&(e.insertionMode=G.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}function k5e(e,t){e.openElements.hasInScope(b.BODY)&&(e.insertionMode=G.AFTER_BODY,bte(e,t))}function D5e(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function $5e(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(b.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(b.FORM):n&&e.openElements.remove(n))}function L5e(e){e.openElements.hasInButtonScope(b.P)||e._insertFakeElement(fe.P,b.P),e._closePElement()}function M5e(e){e.openElements.hasInListItemScope(b.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(b.LI),e.openElements.popUntilTagNamePopped(b.LI))}function F5e(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}function B5e(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function j5e(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function U5e(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(fe.BR,b.BR),e.openElements.pop(),e.framesetOk=!1}function fte(e,t){const n=t.tagName,r=t.tagID;for(let i=e.openElements.stackTop;i>0;i--){const s=e.openElements.items[i],o=e.openElements.tagIDs[i];if(r===o&&(r!==b.UNKNOWN||e.treeAdapter.getTagName(s)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=i&&e.openElements.shortenToLength(i);break}if(e._isSpecialElement(s,o))break}}function dI(e,t){switch(t.tagID){case b.A:case b.B:case b.I:case b.S:case b.U:case b.EM:case b.TT:case b.BIG:case b.CODE:case b.FONT:case b.NOBR:case b.SMALL:case b.STRIKE:case b.STRONG:{r3(e,t);break}case b.P:{L5e(e);break}case b.DL:case b.UL:case b.OL:case b.DIR:case b.DIV:case b.NAV:case b.PRE:case b.MAIN:case b.MENU:case b.ASIDE:case b.BUTTON:case b.CENTER:case b.FIGURE:case b.FOOTER:case b.HEADER:case b.HGROUP:case b.DIALOG:case b.ADDRESS:case b.ARTICLE:case b.DETAILS:case b.SECTION:case b.SUMMARY:case b.LISTING:case b.FIELDSET:case b.BLOCKQUOTE:case b.FIGCAPTION:{D5e(e,t);break}case b.LI:{M5e(e);break}case b.DD:case b.DT:{F5e(e,t);break}case b.H1:case b.H2:case b.H3:case b.H4:case b.H5:case b.H6:{B5e(e);break}case b.BR:{U5e(e);break}case b.BODY:{N5e(e,t);break}case b.HTML:{k5e(e,t);break}case b.FORM:{$5e(e);break}case b.APPLET:case b.OBJECT:case b.MARQUEE:{j5e(e,t);break}case b.TEMPLATE:{ph(e,t);break}default:fte(e,t)}}function dte(e,t){e.tmplInsertionModeStack.length>0?vte(e,t):i3(e,t)}function V5e(e,t){var n;t.tagID===b.SCRIPT&&((n=e.scriptHandler)===null||n===void 0||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function z5e(e,t){e._err(t,ve.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function cO(e,t){if(ote.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=G.IN_TABLE_TEXT,t.type){case Ht.CHARACTER:{pte(e,t);break}case Ht.WHITESPACE_CHARACTER:{hte(e,t);break}}else ov(e,t)}function H5e(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,we.HTML),e.insertionMode=G.IN_CAPTION}function W5e(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,we.HTML),e.insertionMode=G.IN_COLUMN_GROUP}function q5e(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(fe.COLGROUP,b.COLGROUP),e.insertionMode=G.IN_COLUMN_GROUP,s3(e,t)}function Y5e(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,we.HTML),e.insertionMode=G.IN_TABLE_BODY}function G5e(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(fe.TBODY,b.TBODY),e.insertionMode=G.IN_TABLE_BODY,hI(e,t)}function K5e(e,t){e.openElements.hasInTableScope(b.TABLE)&&(e.openElements.popUntilTagNamePopped(b.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function Q5e(e,t){cte(t)?e._appendElement(t,we.HTML):ov(e,t),t.ackSelfClosing=!0}function X5e(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,we.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function pm(e,t){switch(t.tagID){case b.TD:case b.TH:case b.TR:{G5e(e,t);break}case b.STYLE:case b.SCRIPT:case b.TEMPLATE:{Ua(e,t);break}case b.COL:{q5e(e,t);break}case b.FORM:{X5e(e,t);break}case b.TABLE:{K5e(e,t);break}case b.TBODY:case b.TFOOT:case b.THEAD:{Y5e(e,t);break}case b.INPUT:{Q5e(e,t);break}case b.CAPTION:{H5e(e,t);break}case b.COLGROUP:{W5e(e,t);break}default:ov(e,t)}}function Yy(e,t){switch(t.tagID){case b.TABLE:{e.openElements.hasInTableScope(b.TABLE)&&(e.openElements.popUntilTagNamePopped(b.TABLE),e._resetInsertionMode());break}case b.TEMPLATE:{ph(e,t);break}case b.BODY:case b.CAPTION:case b.COL:case b.COLGROUP:case b.HTML:case b.TBODY:case b.TD:case b.TFOOT:case b.TH:case b.THEAD:case b.TR:break;default:ov(e,t)}}function ov(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,fI(e,t),e.fosterParentingEnabled=n}function hte(e,t){e.pendingCharacterTokens.push(t)}function pte(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function Qg(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)ov(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const mte=new Set([b.CAPTION,b.COL,b.COLGROUP,b.TBODY,b.TD,b.TFOOT,b.TH,b.THEAD,b.TR]);function J5e(e,t){const n=t.tagID;mte.has(n)?e.openElements.hasInTableScope(b.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(b.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=G.IN_TABLE,pm(e,t)):as(e,t)}function Z5e(e,t){const n=t.tagID;switch(n){case b.CAPTION:case b.TABLE:{e.openElements.hasInTableScope(b.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(b.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=G.IN_TABLE,n===b.TABLE&&Yy(e,t));break}case b.BODY:case b.COL:case b.COLGROUP:case b.HTML:case b.TBODY:case b.TD:case b.TFOOT:case b.TH:case b.THEAD:case b.TR:break;default:dI(e,t)}}function s3(e,t){switch(t.tagID){case b.HTML:{as(e,t);break}case b.COL:{e._appendElement(t,we.HTML),t.ackSelfClosing=!0;break}case b.TEMPLATE:{Ua(e,t);break}default:CT(e,t)}}function eFe(e,t){switch(t.tagID){case b.COLGROUP:{e.openElements.currentTagId===b.COLGROUP&&(e.openElements.pop(),e.insertionMode=G.IN_TABLE);break}case b.TEMPLATE:{ph(e,t);break}case b.COL:break;default:CT(e,t)}}function CT(e,t){e.openElements.currentTagId===b.COLGROUP&&(e.openElements.pop(),e.insertionMode=G.IN_TABLE,e._processToken(t))}function hI(e,t){switch(t.tagID){case b.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,we.HTML),e.insertionMode=G.IN_ROW;break}case b.TH:case b.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(fe.TR,b.TR),e.insertionMode=G.IN_ROW,pI(e,t);break}case b.CAPTION:case b.COL:case b.COLGROUP:case b.TBODY:case b.TFOOT:case b.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=G.IN_TABLE,pm(e,t));break}default:pm(e,t)}}function yR(e,t){const n=t.tagID;switch(t.tagID){case b.TBODY:case b.TFOOT:case b.THEAD:{e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=G.IN_TABLE);break}case b.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=G.IN_TABLE,Yy(e,t));break}case b.BODY:case b.CAPTION:case b.COL:case b.COLGROUP:case b.HTML:case b.TD:case b.TH:case b.TR:break;default:Yy(e,t)}}function pI(e,t){switch(t.tagID){case b.TH:case b.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,we.HTML),e.insertionMode=G.IN_CELL,e.activeFormattingElements.insertMarker();break}case b.CAPTION:case b.COL:case b.COLGROUP:case b.TBODY:case b.TFOOT:case b.THEAD:case b.TR:{e.openElements.hasInTableScope(b.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=G.IN_TABLE_BODY,hI(e,t));break}default:pm(e,t)}}function gte(e,t){switch(t.tagID){case b.TR:{e.openElements.hasInTableScope(b.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=G.IN_TABLE_BODY);break}case b.TABLE:{e.openElements.hasInTableScope(b.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=G.IN_TABLE_BODY,yR(e,t));break}case b.TBODY:case b.TFOOT:case b.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(b.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=G.IN_TABLE_BODY,yR(e,t));break}case b.BODY:case b.CAPTION:case b.COL:case b.COLGROUP:case b.HTML:case b.TD:case b.TH:break;default:Yy(e,t)}}function tFe(e,t){const n=t.tagID;mte.has(n)?(e.openElements.hasInTableScope(b.TD)||e.openElements.hasInTableScope(b.TH))&&(e._closeTableCell(),pI(e,t)):as(e,t)}function nFe(e,t){const n=t.tagID;switch(n){case b.TD:case b.TH:{e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=G.IN_ROW);break}case b.TABLE:case b.TBODY:case b.TFOOT:case b.THEAD:case b.TR:{e.openElements.hasInTableScope(n)&&(e._closeTableCell(),gte(e,t));break}case b.BODY:case b.CAPTION:case b.COL:case b.COLGROUP:case b.HTML:break;default:dI(e,t)}}function yte(e,t){switch(t.tagID){case b.HTML:{as(e,t);break}case b.OPTION:{e.openElements.currentTagId===b.OPTION&&e.openElements.pop(),e._insertElement(t,we.HTML);break}case b.OPTGROUP:{e.openElements.currentTagId===b.OPTION&&e.openElements.pop(),e.openElements.currentTagId===b.OPTGROUP&&e.openElements.pop(),e._insertElement(t,we.HTML);break}case b.INPUT:case b.KEYGEN:case b.TEXTAREA:case b.SELECT:{e.openElements.hasInSelectScope(b.SELECT)&&(e.openElements.popUntilTagNamePopped(b.SELECT),e._resetInsertionMode(),t.tagID!==b.SELECT&&e._processStartTag(t));break}case b.SCRIPT:case b.TEMPLATE:{Ua(e,t);break}}}function _te(e,t){switch(t.tagID){case b.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===b.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===b.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===b.OPTGROUP&&e.openElements.pop();break}case b.OPTION:{e.openElements.currentTagId===b.OPTION&&e.openElements.pop();break}case b.SELECT:{e.openElements.hasInSelectScope(b.SELECT)&&(e.openElements.popUntilTagNamePopped(b.SELECT),e._resetInsertionMode());break}case b.TEMPLATE:{ph(e,t);break}}}function rFe(e,t){const n=t.tagID;n===b.CAPTION||n===b.TABLE||n===b.TBODY||n===b.TFOOT||n===b.THEAD||n===b.TR||n===b.TD||n===b.TH?(e.openElements.popUntilTagNamePopped(b.SELECT),e._resetInsertionMode(),e._processStartTag(t)):yte(e,t)}function iFe(e,t){const n=t.tagID;n===b.CAPTION||n===b.TABLE||n===b.TBODY||n===b.TFOOT||n===b.THEAD||n===b.TR||n===b.TD||n===b.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(b.SELECT),e._resetInsertionMode(),e.onEndTag(t)):_te(e,t)}function sFe(e,t){switch(t.tagID){case b.BASE:case b.BASEFONT:case b.BGSOUND:case b.LINK:case b.META:case b.NOFRAMES:case b.SCRIPT:case b.STYLE:case b.TEMPLATE:case b.TITLE:{Ua(e,t);break}case b.CAPTION:case b.COLGROUP:case b.TBODY:case b.TFOOT:case b.THEAD:{e.tmplInsertionModeStack[0]=G.IN_TABLE,e.insertionMode=G.IN_TABLE,pm(e,t);break}case b.COL:{e.tmplInsertionModeStack[0]=G.IN_COLUMN_GROUP,e.insertionMode=G.IN_COLUMN_GROUP,s3(e,t);break}case b.TR:{e.tmplInsertionModeStack[0]=G.IN_TABLE_BODY,e.insertionMode=G.IN_TABLE_BODY,hI(e,t);break}case b.TD:case b.TH:{e.tmplInsertionModeStack[0]=G.IN_ROW,e.insertionMode=G.IN_ROW,pI(e,t);break}default:e.tmplInsertionModeStack[0]=G.IN_BODY,e.insertionMode=G.IN_BODY,as(e,t)}}function oFe(e,t){t.tagID===b.TEMPLATE&&ph(e,t)}function vte(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(b.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):i3(e,t)}function aFe(e,t){t.tagID===b.HTML?as(e,t):OT(e,t)}function bte(e,t){var n;if(t.tagID===b.HTML){if(e.fragmentContext||(e.insertionMode=G.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===b.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(!((n=e.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&e._setEndLocation(r,t)}}else OT(e,t)}function OT(e,t){e.insertionMode=G.IN_BODY,fI(e,t)}function uFe(e,t){switch(t.tagID){case b.HTML:{as(e,t);break}case b.FRAMESET:{e._insertElement(t,we.HTML);break}case b.FRAME:{e._appendElement(t,we.HTML),t.ackSelfClosing=!0;break}case b.NOFRAMES:{Ua(e,t);break}}}function lFe(e,t){t.tagID===b.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==b.FRAMESET&&(e.insertionMode=G.AFTER_FRAMESET))}function cFe(e,t){switch(t.tagID){case b.HTML:{as(e,t);break}case b.NOFRAMES:{Ua(e,t);break}}}function fFe(e,t){t.tagID===b.HTML&&(e.insertionMode=G.AFTER_AFTER_FRAMESET)}function dFe(e,t){t.tagID===b.HTML?as(e,t):$b(e,t)}function $b(e,t){e.insertionMode=G.IN_BODY,fI(e,t)}function hFe(e,t){switch(t.tagID){case b.HTML:{as(e,t);break}case b.NOFRAMES:{Ua(e,t);break}}}function pFe(e,t){t.chars=ar,e._insertCharacters(t)}function mFe(e,t){e._insertCharacters(t),e.framesetOk=!1}function wte(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==we.HTML&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function gFe(e,t){if(R4e(t))wte(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===we.MATHML?ite(t):r===we.SVG&&(N4e(t),ste(t)),n3(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}function yFe(e,t){if(t.tagID===b.P||t.tagID===b.BR){wte(e),e._endTagOutsideForeignContent(t);return}for(let n=e.openElements.stackTop;n>0;n--){const r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===we.HTML){e._endTagOutsideForeignContent(t);break}const i=e.treeAdapter.getTagName(r);if(i.toLowerCase()===t.tagName){t.tagName=i,e.openElements.shortenToLength(n);break}}}fe.AREA,fe.BASE,fe.BASEFONT,fe.BGSOUND,fe.BR,fe.COL,fe.EMBED,fe.FRAME,fe.HR,fe.IMG,fe.INPUT,fe.KEYGEN,fe.LINK,fe.META,fe.PARAM,fe.SOURCE,fe.TRACK,fe.WBR;const Ete=Tte("end"),mh=Tte("start");function Tte(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}const Ste=function(e){if(e==null)return wFe;if(typeof e=="function")return mI(e);if(typeof e=="object")return Array.isArray(e)?_Fe(e):vFe(e);if(typeof e=="string")return bFe(e);throw new Error("Expected function, string, or object as test")};function _Fe(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Ste(e[n]);return mI(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function vFe(e){const t=e;return mI(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function bFe(e){return mI(t);function t(n){return n&&n.type===e}}function mI(e){return t;function t(n,r,i){return!!(EFe(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function wFe(){return!0}function EFe(e){return e!==null&&typeof e=="object"&&"type"in e}const xte=[],TFe=!0,pU=!1,SFe="skip";function xFe(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=Ste(i),o=r?-1:1;a(e,void 0,[])();function a(u,l,c){const f=u&&typeof u=="object"?u:{};if(typeof f.type=="string"){const h=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(d,"name",{value:"node ("+(u.type+(h?"<"+h+">":""))+")"})}return d;function d(){let h=xte,p,g,y;if((!t||s(u,l,c[c.length-1]||void 0))&&(h=IFe(n(u,c)),h[0]===pU))return h;if("children"in u&&u.children){const m=u;if(m.children&&h[0]!==SFe)for(g=(r?m.children.length:-1)+o,y=c.concat(m);g>-1&&g<m.children.length;){const _=m.children[g];if(p=a(_,g,y)(),p[0]===pU)return p;g=typeof p[1]=="number"?p[1]:g+o}}return h}}}function IFe(e){return Array.isArray(e)?e:typeof e=="number"?[TFe,e]:e==null?xte:[e]}function AFe(e,t,n,r){let i,s,o;typeof t=="function"&&typeof n!="function"?(s=void 0,o=t,i=n):(s=t,o=n,i=r),xFe(e,s,a,i);function a(u,l){const c=l[l.length-1],f=c?c.children.indexOf(u):void 0;return o(u,f,c)}}const CFe=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),mU={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function Ite(e,t){const n=FFe(e),r=Vee("type",{handlers:{root:OFe,element:PFe,text:RFe,comment:Cte,doctype:NFe,raw:DFe},unknown:$Fe}),i={parser:n?new fU(mU):fU.getFragmentParser(void 0,mU),handle(a){r(a,i)},stitches:!1,options:t||{}};r(e,i),ig(i,mh());const s=n?i.parser.document:i.parser.getFragment(),o=PMe(s,{file:i.options.file});return i.stitches&&AFe(o,"comment",function(a,u,l){const c=a;if(c.value.stitch&&l&&u!==void 0){const f=l.children;return f[u]=c.value.stitch,u}}),o.type==="root"&&o.children.length===1&&o.children[0].type===e.type?o.children[0]:o}function Ate(e,t){let n=-1;if(e)for(;++n<e.length;)t.handle(e[n])}function OFe(e,t){Ate(e.children,t)}function PFe(e,t){LFe(e,t),Ate(e.children,t),MFe(e,t)}function RFe(e,t){const n={type:Ht.CHARACTER,chars:e.value,location:av(e)};ig(t,mh(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function NFe(e,t){const n={type:Ht.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:av(e)};ig(t,mh(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function kFe(e,t){t.stitches=!0;const n=BFe(e);if("children"in e&&"children"in n){const r=Ite({type:"root",children:e.children},t.options);n.children=r.children}Cte({type:"comment",value:{stitch:n}},t)}function Cte(e,t){const n=e.value,r={type:Ht.COMMENT,data:n,location:av(e)};ig(t,mh(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function DFe(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,Ote(t,mh(e)),t.parser.tokenizer.write(e.value,!1),t.parser.tokenizer._runParsingLoop(),t.parser.tokenizer.state===72||t.parser.tokenizer.state===78){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;const n=t.parser.tokenizer._consume();t.parser.tokenizer._callState(n)}}function $Fe(e,t){const n=e;if(t.options.passThrough&&t.options.passThrough.includes(n.type))kFe(n,t);else{let r="";throw CFe.has(n.type)&&(r=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+r)}}function ig(e,t){Ote(e,t);const n=e.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=e.parser.tokenizer.preprocessor.line,n.location.endCol=e.parser.tokenizer.preprocessor.col+1,n.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=Lr.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}function Ote(e,t){if(t&&t.offset!==void 0){const n={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=-t.column+1,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=n}}function LFe(e,t){if(t.parser.tokenizer.state===Lr.PLAINTEXT)return;ig(t,mh(e));const n=t.parser.openElements.current;let r="namespaceURI"in n?n.namespaceURI:gd.html;r===gd.html&&e.tagName==="svg"&&(r=gd.svg);const i=$Me({...e,children:[]},{space:r===gd.svg?"svg":"html"}),s="attrs"in i?i.attrs:[],o={type:Ht.START_TAG,tagName:e.tagName,tagID:rg(e.tagName),selfClosing:!1,ackSelfClosing:!1,attrs:s,location:av(e)};t.parser.currentToken=o,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=e.tagName}function MFe(e,t){if(!t.parser.tokenizer.inForeignNode&&zMe.includes(e.tagName)||t.parser.tokenizer.state===Lr.PLAINTEXT)return;ig(t,Ete(e));const n={type:Ht.END_TAG,tagName:e.tagName,tagID:rg(e.tagName),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:av(e)};t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken),n.tagName===t.parser.tokenizer.lastStartTagName&&(t.parser.tokenizer.state===Lr.RCDATA||t.parser.tokenizer.state===Lr.RAWTEXT||t.parser.tokenizer.state===Lr.SCRIPT_DATA)&&(t.parser.tokenizer.state=Lr.DATA)}function FFe(e){const t=e.type==="root"?e.children[0]:e;return!!(t&&(t.type==="doctype"||t.type==="element"&&t.tagName==="html"))}function av(e){const t=mh(e)||{line:void 0,column:void 0,offset:void 0},n=Ete(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function BFe(e){return"children"in e?Zj({...e,children:[]}):Zj(e)}function jFe(e){return function(t,n){return Ite(t,{...e,file:n})}}function mm({text:e}){const t={img:({node:n,...r})=>O.jsx(Y_,{...r}),p:({node:n,...r})=>O.jsx(mt,{...r,pb:8}),h1:({node:n,...r})=>O.jsx(Sc,{order:1,...r,pb:12}),h2:({node:n,...r})=>O.jsx(Sc,{order:2,...r,pb:12}),h3:({node:n,...r})=>O.jsx(Sc,{order:3,...r,pb:12}),h4:({node:n,...r})=>O.jsx(Sc,{order:4,...r,pb:12}),h5:({node:n,...r})=>O.jsx(Sc,{order:5,...r,pb:12}),h6:({node:n,...r})=>O.jsx(Sc,{order:6,...r,pb:12}),a:({node:n,...r})=>O.jsx(mG,{...r}),ul:({node:n,...r})=>O.jsx(um,{withPadding:!0,...r,pb:8}),ol:({node:n,...r})=>O.jsx(um,{type:"ordered",withPadding:!0,...r,pb:8})};return O.jsx(O.Fragment,{children:O.jsx($ee,{components:t,rehypePlugins:[jFe],children:e})})}function UFe(){var u,l;const e=(u=hm())==null?void 0:u.uiConfig.sidebar,t=hm(),n=Po(),r=t.components[n],i=r?Kx(r)&&t.baseComponents?j$({},(l=t.baseComponents)==null?void 0:l[r.baseComponent],r):r:null,s=B$(),o=(i==null?void 0:i.instruction)||"",a=(i==null?void 0:i.instructionLocation)==="sidebar"||(i==null?void 0:i.instructionLocation)===void 0;return e&&i?O.jsxs(W0,{bg:"gray.1",display:"block",width:{base:300},style:{zIndex:0,overflowY:"scroll"},children:[a&&o!==""&&O.jsx(W0.Section,{bg:"gray.3",p:"xl",children:O.jsxs(mt,{c:"gray.9",children:[O.jsx(mt,{span:!0,c:"orange.8",fw:700,inherit:!0,children:"Task:"}),O.jsx(mm,{text:o})]})}),O.jsx(W0.Section,{p:"xl",children:O.jsx(PT,{status:s,config:i,location:"sidebar"},`${n}-sidebar-response-block`)})]}):O.jsx(PT,{status:s,config:i,location:"sidebar",style:{display:"hidden"}},`${n}-sidebar-response-block`)}function VFe(){const{showHelpText:e,config:t}=Wu(o=>o),n=oc(),{toggleShowHelpText:r}=sc(),[i,s]=E.useState("");return E.useEffect(()=>{t&&t.uiConfig.helpTextPath&&fetch(`${Qu}${t.uiConfig.helpTextPath}`).then(o=>o.text()).then(o=>s(o))},[t]),O.jsx(Rx,{size:"70%",opened:e,withCloseButton:!1,onClose:()=>n(r()),children:O.jsx(mm,{text:i})})}function zFe(){const{alertModal:e}=Wu(o=>o),{setAlertModal:t}=sc(),n=oc(),[r,i]=E.useState(e.show),s=E.useCallback(()=>n(t({...e,show:!1})),[e,t,n]);return E.useEffect(()=>i(e.show),[e.show]),O.jsx(Rx,{opened:r,centered:!0,size:"lg",withCloseButton:!1,styles:{modal:{padding:"0 !important"}},onClose:s,children:O.jsxs(uG,{color:"red",radius:"xs",p:"lg",title:"Alert",icon:O.jsx(ZDe,{}),onClose:s,styles:{root:{backgroundColor:"unset"}},children:[O.jsx(mt,{my:"md",children:e.message}),O.jsx(ut,{style:{float:"right"},color:"red",children:O.jsx(Xo,{onClick:s,color:"red",variant:"filled",children:"Continue Study"})})]})})}var HFe="Expected a function",gU=NaN,WFe="[object Symbol]",qFe=/^\s+|\s+$/g,YFe=/^[-+]0x[0-9a-f]+$/i,GFe=/^0b[01]+$/i,KFe=/^0o[0-7]+$/i,QFe=parseInt,XFe=typeof co=="object"&&co&&co.Object===Object&&co,JFe=typeof self=="object"&&self&&self.Object===Object&&self,ZFe=XFe||JFe||Function("return this")(),e8e=Object.prototype,t8e=e8e.toString,n8e=Math.max,r8e=Math.min,fO=function(){return ZFe.Date.now()};function i8e(e,t,n){var r,i,s,o,a,u,l=0,c=!1,f=!1,d=!0;if(typeof e!="function")throw new TypeError(HFe);t=yU(t)||0,_R(n)&&(c=!!n.leading,f="maxWait"in n,s=f?n8e(yU(n.maxWait)||0,t):s,d="trailing"in n?!!n.trailing:d);function h(w){var x=r,A=i;return r=i=void 0,l=w,o=e.apply(A,x),o}function p(w){return l=w,a=setTimeout(m,t),c?h(w):o}function g(w){var x=w-u,A=w-l,$=t-x;return f?r8e($,s-A):$}function y(w){var x=w-u,A=w-l;return u===void 0||x>=t||x<0||f&&A>=s}function m(){var w=fO();if(y(w))return _(w);a=setTimeout(m,g(w))}function _(w){return a=void 0,d&&r?h(w):(r=i=void 0,o)}function v(){a!==void 0&&clearTimeout(a),l=0,r=u=i=a=void 0}function T(){return a===void 0?o:_(fO())}function S(){var w=fO(),x=y(w);if(r=arguments,i=this,u=w,x){if(a===void 0)return p(u);if(f)return a=setTimeout(m,t),h(u)}return a===void 0&&(a=setTimeout(m,t)),o}return S.cancel=v,S.flush=T,S}function _R(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function s8e(e){return!!e&&typeof e=="object"}function o8e(e){return typeof e=="symbol"||s8e(e)&&t8e.call(e)==WFe}function yU(e){if(typeof e=="number")return e;if(o8e(e))return gU;if(_R(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=_R(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(qFe,"");var n=GFe.test(e);return n||KFe.test(e)?QFe(e.slice(2),n?2:8):YFe.test(e)?gU:+e}var a8e=i8e;const Ya=ja(a8e),Pte=E.createContext(null);function u8e(){const e=E.useContext(Pte);if(!e)throw new Error("useWindowEvents must be used within a WindowEventsProvider");return e}function l8e(){const e=E.useRef([]),n=hm().uiConfig.windowEventDebounceTime??100;return E.useEffect(()=>{const r=Ya(d=>{e.current.push([Date.now(),"focus",d.target instanceof HTMLElement?d.target.tagName:""])},n,{maxWait:n}),i=Ya(d=>{e.current.push([Date.now(),"input",d.data??""])},n,{maxWait:n}),s=Ya(d=>{e.current.push([Date.now(),"keypress",d.key])},n,{maxWait:n}),o=Ya(d=>{e.current.push([Date.now(),"mousedown",[d.clientX,d.clientY]])},n,{maxWait:n}),a=Ya(d=>{e.current.push([Date.now(),"mouseup",[d.clientX,d.clientY]])},n,{maxWait:n}),u=Ya(()=>{e.current.push([Date.now(),"resize",[window.innerWidth,window.innerHeight]])},n,{maxWait:n}),l=Ya(d=>{e.current.push([Date.now(),"mousemove",[d.clientX,d.clientY]])},n,{maxWait:n}),c=Ya(()=>{e.current.push([Date.now(),"scroll",[window.scrollX,window.scrollY]])},n,{maxWait:n}),f=Ya(()=>{e.current.push([Date.now(),"visibility",document.visibilityState])},n,{maxWait:n});return window.addEventListener("focus",r,!0),window.addEventListener("input",i),window.addEventListener("keypress",s),window.addEventListener("mousedown",o),window.addEventListener("mouseup",a),window.addEventListener("resize",u),window.addEventListener("mousemove",l),window.addEventListener("scroll",c),document.addEventListener("visibilitychange",f),()=>{window.removeEventListener("focus",r,!0),window.removeEventListener("input",i),window.removeEventListener("keypress",s),window.addEventListener("mousedown",o),window.addEventListener("mouseup",a),window.removeEventListener("resize",u),window.removeEventListener("mousemove",l),window.removeEventListener("scroll",c),document.removeEventListener("visibilitychange",f)}},[]),O.jsx(Pte.Provider,{value:e,children:O.jsxs(PG,{navbar:O.jsx(UFe,{}),aside:O.jsx(f$e,{}),header:O.jsx(d$e,{}),children:[O.jsx(VFe,{}),O.jsx(zFe,{}),O.jsx(Qhe,{})]})})}function Rte(){const e=Po(),{sequence:t,trialValidation:n}=Wu(m=>m),r=B$(),i=oc(),{saveTrialAnswer:s,setIframeAnswers:o}=sc(),{storageEngine:a}=kf(),l=!UDe(e),c=r==null?void 0:r.answer,f=lh(),d=E.useMemo(()=>{const m=t.indexOf(e);return t[m+1]||"end"},[e,t]),h=`/${zZ()}/${d}`,p=E.useMemo(()=>Date.now(),[]),g=u8e(),y=E.useCallback(()=>{const m=F$(n[e]),_=Object.values(m).reduce((w,x)=>Object.hasOwn(x,"values")?{...w,...x.values}:w,{}),v=m.provenanceGraph,T=Date.now(),S=g&&"current"in g&&g.current?g.current.splice(0,g.current.length):[];Object.keys(c||{}).length===0&&(i(s({currentStep:e,answer:_,startTime:p,endTime:T,provenanceGraph:v,windowEvents:S})),a&&a.saveAnswer(e,{answer:_,startTime:p,endTime:T,provenanceGraph:v,windowEvents:S}),i(o([]))),f(`${h}${window.location.search}`)},[o,a,i,c,n,f,p,e,s,h,g]);return{nextStep:d,isNextDisabled:l,goToNextStep:y}}function c8e({label:e="Next",disabled:t=!1,setCheckClicked:n=()=>{},onClick:r}){const{isNextDisabled:i,goToNextStep:s}=Rte(),o=E.useCallback(()=>{n(!1),r&&r(),s()},[s,r,n]);return O.jsx(Xo,{type:"submit",disabled:t||i,onClick:o,children:e})}function vR(e){return e===null||typeof e!="object"?{}:Object.keys(e).reduce((t,n)=>{const r=e[n];return r!=null&&r!==!1&&(t[n]=r),t},{})}var f8e=Object.defineProperty,_U=Object.getOwnPropertySymbols,d8e=Object.prototype.hasOwnProperty,h8e=Object.prototype.propertyIsEnumerable,vU=(e,t,n)=>t in e?f8e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,p8e=(e,t)=>{for(var n in t||(t={}))d8e.call(t,n)&&vU(e,n,t[n]);if(_U)for(var n of _U(t))h8e.call(t,n)&&vU(e,n,t[n]);return e};function Nte(e,t){if(t===null||typeof t!="object")return{};const n=p8e({},t);return Object.keys(t).forEach(r=>{r.includes(`${String(e)}.`)&&delete n[r]}),n}const m8e="__MANTINE_FORM_INDEX__";function bU(e,t){return t?typeof t=="boolean"?t:Array.isArray(t)?t.includes(e.replace(/[.][0-9]/g,`.${m8e}`)):!1:!1}function wU(e,t,n){typeof n.value=="object"&&(n.value=fp(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function fp(e){if(typeof e!="object")return e;var t=0,n,r,i,s=Object.prototype.toString.call(e);if(s==="[object Object]"?i=Object.create(e.__proto__||null):s==="[object Array]"?i=Array(e.length):s==="[object Set]"?(i=new Set,e.forEach(function(o){i.add(fp(o))})):s==="[object Map]"?(i=new Map,e.forEach(function(o,a){i.set(fp(a),fp(o))})):s==="[object Date]"?i=new Date(+e):s==="[object RegExp]"?i=new RegExp(e.source,e.flags):s==="[object DataView]"?i=new e.constructor(fp(e.buffer)):s==="[object ArrayBuffer]"?i=e.slice(0):s.slice(-6)==="Array]"&&(i=new e.constructor(e)),i){for(r=Object.getOwnPropertySymbols(e);t<r.length;t++)wU(i,r[t],Object.getOwnPropertyDescriptor(e,r[t]));for(t=0,r=Object.getOwnPropertyNames(e);t<r.length;t++)Object.hasOwnProperty.call(i,n=r[t])&&i[n]===e[n]||wU(i,n,Object.getOwnPropertyDescriptor(e,n))}return i||e}function kte(e){return typeof e!="string"?[]:e.split(".")}function gI(e,t,n){const r=kte(e);if(r.length===0)return n;const i=fp(n);if(r.length===1)return i[r[0]]=t,i;let s=i[r[0]];for(let o=1;o<r.length-1;o+=1){if(s===void 0)return i;s=s[r[o]]}return s[r[r.length-1]]=t,i}function al(e,t){const n=kte(e);if(n.length===0||typeof t!="object"||t===null)return;let r=t[n[0]];for(let i=1;i<n.length&&r!==void 0;i+=1)r=r[n[i]];return r}function EU(e){const t=vR(e);return{hasErrors:Object.keys(t).length>0,errors:t}}function bR(e,t,n="",r={}){return typeof e!="object"||e===null?r:Object.keys(e).reduce((i,s)=>{const o=e[s],a=`${n===""?"":`${n}.`}${s}`,u=al(a,t);let l=!1;return typeof o=="function"&&(i[a]=o(u,t,a)),typeof o=="object"&&Array.isArray(u)&&(l=!0,u.forEach((c,f)=>bR(o,t,`${a}.${f}`,i))),typeof o=="object"&&typeof u=="object"&&u!==null&&(l||bR(o,t,a,i)),i},r)}function wR(e,t){return EU(typeof e=="function"?e(t):bR(e,t))}function R1(e,t,n){if(typeof e!="string")return{hasError:!1,error:null};const r=wR(t,n),i=Object.keys(r.errors).find(s=>e.split(".").every((o,a)=>o===s.split(".")[a]));return{hasError:!!i,error:i?r.errors[i]:null}}function g8e(e,{from:t,to:n},r){const i=al(e,r);if(!Array.isArray(i))return r;const s=[...i],o=i[t];return s.splice(t,1),s.splice(n,0,o),gI(e,s,r)}var y8e=Object.defineProperty,TU=Object.getOwnPropertySymbols,_8e=Object.prototype.hasOwnProperty,v8e=Object.prototype.propertyIsEnumerable,SU=(e,t,n)=>t in e?y8e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,b8e=(e,t)=>{for(var n in t||(t={}))_8e.call(t,n)&&SU(e,n,t[n]);if(TU)for(var n of TU(t))v8e.call(t,n)&&SU(e,n,t[n]);return e};function w8e(e,{from:t,to:n},r){const i=`${e}.${t}`,s=`${e}.${n}`,o=b8e({},r);return Object.keys(r).every(a=>{let u,l;if(a.startsWith(i)&&(u=a,l=a.replace(i,s)),a.startsWith(s)&&(u=a.replace(s,i),l=a),u&&l){const c=o[u],f=o[l];return f===void 0?delete o[u]:o[u]=f,c===void 0?delete o[l]:o[l]=c,!1}return!0}),o}function E8e(e,t,n){const r=al(e,n);return Array.isArray(r)?gI(e,r.filter((i,s)=>s!==t),n):n}var T8e=Object.defineProperty,xU=Object.getOwnPropertySymbols,S8e=Object.prototype.hasOwnProperty,x8e=Object.prototype.propertyIsEnumerable,IU=(e,t,n)=>t in e?T8e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,I8e=(e,t)=>{for(var n in t||(t={}))S8e.call(t,n)&&IU(e,n,t[n]);if(xU)for(var n of xU(t))x8e.call(t,n)&&IU(e,n,t[n]);return e};function AU(e,t){const n=e.substring(t.length+1).split(".")[0];return parseInt(n,10)}function CU(e,t,n,r){if(t===void 0)return n;const i=`${String(e)}`;let s=n;r===-1&&(s=Nte(`${i}.${t}`,s));const o=I8e({},s),a=new Set;return Object.entries(s).filter(([u])=>{if(!u.startsWith(`${i}.`))return!1;const l=AU(u,i);return Number.isNaN(l)?!1:l>=t}).forEach(([u,l])=>{const c=AU(u,i),f=u.replace(`${i}.${c}`,`${i}.${c+r}`);o[f]=l,a.add(f),a.has(u)||delete o[u]}),o}function A8e(e,t,n,r){const i=al(e,r);if(!Array.isArray(i))return r;const s=[...i];return s.splice(typeof n=="number"?n:s.length,0,t),gI(e,s,r)}function OU(e,t){const n=Object.keys(e);if(typeof t=="string"){const r=n.filter(i=>i.startsWith(`${t}.`));return e[t]||r.some(i=>e[i])||!1}return n.some(r=>e[r])}function C8e(e){return t=>{if(!t)e(t);else if(typeof t=="function")e(t);else if(typeof t=="object"&&"nativeEvent"in t){const{currentTarget:n}=t;n instanceof HTMLInputElement?n.type==="checkbox"?e(n.checked):e(n.value):(n instanceof HTMLTextAreaElement||n instanceof HTMLSelectElement)&&e(n.value)}else e(t)}}var O8e=Object.defineProperty,P8e=Object.defineProperties,R8e=Object.getOwnPropertyDescriptors,PU=Object.getOwnPropertySymbols,N8e=Object.prototype.hasOwnProperty,k8e=Object.prototype.propertyIsEnumerable,RU=(e,t,n)=>t in e?O8e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mc=(e,t)=>{for(var n in t||(t={}))N8e.call(t,n)&&RU(e,n,t[n]);if(PU)for(var n of PU(t))k8e.call(t,n)&&RU(e,n,t[n]);return e},dO=(e,t)=>P8e(e,R8e(t));function D8e({initialValues:e={},initialErrors:t={},initialDirty:n={},initialTouched:r={},clearInputErrorOnChange:i=!0,validateInputOnChange:s=!1,validateInputOnBlur:o=!1,transformValues:a=l=>l,validate:u}={}){const[l,c]=E.useState(r),[f,d]=E.useState(n),[h,p]=E.useState(e),[g,y]=E.useState(vR(t)),m=E.useRef(e),_=R=>{m.current=R},v=E.useCallback(()=>c({}),[]),T=R=>{const Y=R?mc(mc({},h),R):h;_(Y),d({})},S=E.useCallback(R=>y(Y=>vR(typeof R=="function"?R(Y):R)),[]),w=E.useCallback(()=>y({}),[]),x=E.useCallback(()=>{p(e),w(),_(e),d({}),v()},[]),A=E.useCallback((R,Y)=>S(ae=>dO(mc({},ae),{[R]:Y})),[]),$=E.useCallback(R=>S(Y=>{if(typeof R!="string")return Y;const ae=mc({},Y);return delete ae[R],ae}),[]),D=E.useCallback(R=>d(Y=>{if(typeof R!="string")return Y;const ae=Nte(R,Y);return delete ae[R],ae}),[]),P=E.useCallback((R,Y)=>{const ae=bU(R,s);D(R),c(le=>dO(mc({},le),{[R]:!0})),p(le=>{const pe=gI(R,Y,le);if(ae){const he=R1(R,u,pe);he.hasError?A(R,he.error):$(R)}return pe}),!ae&&i&&A(R,null)},[]),q=E.useCallback(R=>{p(Y=>{const ae=typeof R=="function"?R(Y):R;return mc(mc({},Y),ae)}),i&&w()},[]),V=E.useCallback((R,Y)=>{D(R),p(ae=>g8e(R,Y,ae)),y(ae=>w8e(R,Y,ae))},[]),U=E.useCallback((R,Y)=>{D(R),p(ae=>E8e(R,Y,ae)),y(ae=>CU(R,Y,ae,-1))},[]),se=E.useCallback((R,Y,ae)=>{D(R),p(le=>A8e(R,Y,ae,le)),y(le=>CU(R,ae,le,1))},[]),oe=E.useCallback(()=>{const R=wR(u,h);return y(R.errors),R},[h,u]),ce=E.useCallback(R=>{const Y=R1(R,u,h);return Y.hasError?A(R,Y.error):$(R),Y},[h,u]),ee=(R,{type:Y="input",withError:ae=!0,withFocus:le=!0}={})=>{const he={onChange:C8e(Se=>P(R,Se))};return ae&&(he.error=g[R]),Y==="checkbox"?he.checked=al(R,h):he.value=al(R,h),le&&(he.onFocus=()=>c(Se=>dO(mc({},Se),{[R]:!0})),he.onBlur=()=>{if(bU(R,o)){const Se=R1(R,u,h);Se.hasError?A(R,Se.error):$(R)}}),he},ie=(R,Y)=>ae=>{ae==null||ae.preventDefault();const le=oe();le.hasErrors?Y==null||Y(le.errors,h,ae):R==null||R(a(h),ae)},K=R=>a(R||h),I=E.useCallback(R=>{R.preventDefault(),x()},[]),C=R=>{if(R){const ae=al(R,f);if(typeof ae=="boolean")return ae;const le=al(R,h),pe=al(R,m.current);return!_B(le,pe)}return Object.keys(f).length>0?OU(f):!_B(h,m.current)},H=E.useCallback(R=>OU(l,R),[l]),N=E.useCallback(R=>R?!R1(R,u,h).hasError:!wR(u,h).hasErrors,[h,u]);return{values:h,errors:g,setValues:q,setErrors:S,setFieldValue:P,setFieldError:A,clearFieldError:$,clearErrors:w,reset:x,validate:oe,validateField:ce,reorderListItem:V,removeListItem:U,insertListItem:se,getInputProps:ee,onSubmit:ie,onReset:I,isDirty:C,isTouched:H,setTouched:c,setDirty:d,resetTouched:v,resetDirty:T,isValid:N,getTransformedValues:K}}const $8e=new URLSearchParams(window.location.search),L8e=(e,t)=>{let n={};return e.forEach(r=>{const i=t?t[r.id]:{};i?n={...n,[r.id]:i}:n={...n,[r.id]:r.type==="iframe"?[]:r.paramCapture?$8e.get(r.paramCapture):""}}),{...n}},M8e=e=>{let t={};return e.forEach(n=>{n.required&&(t={...t,[n.id]:r=>{if(Array.isArray(r)){if(n.requiredValue!=null&&!Array.isArray(n.requiredValue))return"Incorrect required value";if(n.requiredValue!=null&&Array.isArray(n.requiredValue)){if(n.requiredValue.length!==r.length)return"Incorrect input";const i=[...n.requiredValue].sort(),s=[...r].sort();return i.every((o,a)=>o===s[a])?null:"Incorrect input"}return r.length===0?"Empty input":null}return n.required&&n.requiredValue!=null&&r!=null?r.toString()!==n.requiredValue.toString()?"Incorrect input":null:n.required?r==null||r===""?"Empty input":null:r===null?"Empty input":null}})}),t};function F8e(e,t,n){const[r,i]=E.useState(null),s=D8e({initialValues:L8e(e,n),validate:M8e(e)});return E.useEffect(()=>{r!==t&&(i(t),s.reset())},[r,s,t]),s}function gh(e,t,n){var o;const{requiredValue:r,requiredLabel:i}=e;let s="";return t.checked&&Array.isArray(r)?s=r&&[...r].sort().toString()!==[...t.checked].sort().toString()?`Please ${n?"select":"enter"} ${i||r.toString()} to continue.`:null:s=t.value&&r&&r.toString()!==t.value.toString()?`Please ${n?"select":"enter"} ${i||(n?(o=n.find(a=>a.value===r))==null?void 0:o.label:r.toString())} to continue.`:null,s}function B8e({response:e,disabled:t,answer:n}){const{prompt:r,required:i,options:s}=e;return O.jsx(om.Group,{label:r,withAsterisk:i,...n,error:gh(e,n,s),children:O.jsx(Ys,{mt:"md",children:s.map(o=>O.jsx(om,{disabled:t,value:o.value,label:o.label},o.value))})})}function j8e({response:e,disabled:t,answer:n}){const{placeholder:r,prompt:i,required:s,options:o}=e;return O.jsx(O.Fragment,{children:O.jsx(fJ,{disabled:t,label:i,placeholder:r,data:o,withAsterisk:s,radius:"md",size:"md",...n,error:gh(e,n,o)})})}function U8e({response:e,answer:t}){const{prompt:n}=e;return O.jsxs(O.Fragment,{children:[O.jsx(mt,{fz:"md",fw:500,children:n}),O.jsx(um,{children:Array.isArray(t.value)&&t.value.map(r=>O.jsx(um.Item,{children:r},r))})]})}function Dte({response:e,disabled:t,answer:n}){const{prompt:r,required:i,options:s,leftLabel:o,rightLabel:a}=e;return O.jsx(O.Fragment,{children:O.jsxs(eT.Group,{name:`radioInput${e.id}`,label:r,withAsterisk:i,size:"md",...n,error:gh(e,n,s),children:[o?O.jsx(mt,{children:o}):null,O.jsx(Ys,{mt:"xs",children:s.map(u=>O.jsx(eT,{disabled:t,value:u.value,label:u.label},u.label))}),O.jsx(mt,{children:a})]},e.id)})}function V8e({response:e,disabled:t,answer:n}){const{preset:r}=e,i=[];for(let o=1;o<=+r;o++)i.push({label:`${o}`,value:`${o}`});const s={...e,type:"radio",options:i};return O.jsx(Dte,{disabled:t,response:s,answer:n})}function z8e({response:e,disabled:t,answer:n}){const{prompt:r,required:i,min:s,max:o,placeholder:a}=e;return O.jsx(O.Fragment,{children:O.jsx(UX,{disabled:t,placeholder:a,label:r,withAsterisk:i,radius:"md",size:"md",min:s,max:o,...n,error:gh(e,n)})})}function H8e({response:e,disabled:t,answer:n}){const{prompt:r,options:i}=e,s=gh(e,n);return O.jsxs(Bs,{spacing:2,children:[O.jsx(mt,{fz:"md",fw:500,children:r}),O.jsx(jD,{disabled:t,labelAlwaysOn:!0,sx:{marginTop:"5px",marginBottom:"30px"},marks:i,...n,styles:o=>({mark:{width:12,height:12,borderRadius:6,transform:"translateX(-3px) translateY(-2px)"},markFilled:{borderColor:o.colors.blue[6]},markLabel:{fontSize:o.fontSizes.sm,marginBottom:5,marginTop:0},thumb:{height:24,width:24,backgroundColor:o.white,borderWidth:1,boxShadow:o.shadows.sm},label:{top:-4,height:28,lineHeight:28,width:28,padding:0,display:"flex",justifyContent:"center",alignItems:"center",fontWeight:700,color:"orange",backgroundColor:"transparent"}})}),s?O.jsx(mt,{size:12,c:"#fa5252",children:s}):null]})}function W8e({response:e,disabled:t,answer:n}){const{placeholder:r,prompt:i,required:s}=e;return O.jsx(O.Fragment,{children:O.jsx($D,{disabled:t,placeholder:r,label:i,radius:"md",size:"md",withAsterisk:s,...n,value:n.value||"",error:gh(e,n)})})}function q8e({response:e,disabled:t,answer:n}){const{placeholder:r,prompt:i,required:s}=e;return O.jsx(O.Fragment,{children:O.jsx(XQ,{disabled:t,placeholder:r,label:i,radius:"md",size:"md",withAsterisk:s,...n,value:n.value||"",error:gh(e,n)})})}function Y8e({response:e,answer:t,storedAnswer:n}){const r=(n?{value:n}:t)||{value:void 0},i=!!n,[s]=Qq(),o=E.useMemo(()=>{if(e.paramCapture){const a=s.get(e.paramCapture);return i||!!a}return i},[i,e.paramCapture,s]);return O.jsx(O.Fragment,{children:O.jsxs(ut,{sx:{margin:10,padding:5},children:[e.type==="numerical"&&O.jsx(z8e,{response:e,disabled:o,answer:r}),e.type==="shortText"&&O.jsx(W8e,{response:e,disabled:o,answer:r}),e.type==="longText"&&O.jsx(q8e,{response:e,disabled:o,answer:r}),e.type==="likert"&&O.jsx(V8e,{response:e,disabled:o,answer:r}),e.type==="dropdown"&&O.jsx(j8e,{response:e,disabled:o,answer:r}),e.type==="slider"&&O.jsx(H8e,{response:e,disabled:o,answer:r}),e.type==="radio"&&O.jsx(Dte,{response:e,disabled:o,answer:r}),e.type==="checkbox"&&O.jsx(B8e,{response:e,disabled:o,answer:r}),e.type==="iframe"&&O.jsx(U8e,{response:e,disabled:o,answer:r})]})})}function PT({config:e,location:t,status:n,style:r}){var y,m;const i=Po(),s=n==null?void 0:n.answer,o=e,a=((y=o==null?void 0:o.response)==null?void 0:y.filter(_=>_.location?_.location===t:t==="belowStimulus"))||[],u=oc(),{updateResponseBlockValidation:l}=sc(),c=F8e(a,i,s||{}),[f,d]=E.useState(!1),{iframeAnswers:h}=Wu(_=>_),p=(((m=o==null?void 0:o.correctAnswer)==null?void 0:m.length)||0)>0,g=t===((o==null?void 0:o.nextButtonLocation)||"belowStimulus");return E.useEffect(()=>{const _=a.find(v=>v.type==="iframe");if(_){const v=_.id;c.setValues({...c.values,[v]:h})}},[h]),E.useEffect(()=>{u(l({location:t,currentStep:i,status:c.isValid(),values:F$(c.values)}))},[c.values,i,t]),O.jsxs("div",{style:r,children:[a.map(_=>{var v,T;return O.jsx(M.Fragment,{children:_.hidden?"":O.jsxs(O.Fragment,{children:[O.jsx(Y8e,{storedAnswer:s?s[_.id]:void 0,answer:{...c.getInputProps(_.id,{type:_.type==="checkbox"?"checkbox":"input"})},response:_}),p&&f&&O.jsxs(mt,{children:["The correct answer is: ",(T=(v=o.correctAnswer)==null?void 0:v.find(S=>S.id===_.id))==null?void 0:T.answer]})]})},`${_.id}-${i}`)}),O.jsxs(Ys,{position:"right",spacing:"xs",mt:"xl",children:[p&&g&&O.jsx(Xo,{onClick:()=>d(!0),disabled:!c.isValid(),children:"Check Answer"}),g&&O.jsx(c8e,{disabled:p&&!f,setCheckClicked:d,label:o.nextButtonText||"Next"})]})]})}const N1="@REVISIT_COMMS",G8e={minHeight:"500px",width:"100%",border:0,marginTop:"-50px"};function K8e({currentConfig:e}){const{setIframeAnswers:t}=sc(),n=oc(),r=DJ(),i=E.useRef(null),s=E.useMemo(()=>crypto.randomUUID?crypto.randomUUID():`testID-${Date.now()}`,[]),o=Po(),a=lh(),u=E.useCallback((l,c)=>{var f,d;(d=(f=i.current)==null?void 0:f.contentWindow)==null||d.postMessage({error:!1,type:`${N1}/${l}`,iframeId:s,message:c},"*")},[i,s]);return E.useEffect(()=>{const l=c=>{const f=c.data;if(typeof f=="object"&&s===f.iframeId)switch(f.type){case`${N1}/WINDOW_READY`:e.parameters&&u("STUDY_DATA",e.parameters);break;case`${N1}/READY`:i.current&&(i.current.style.height=`${f.message.documentHeight}px`);break;case`${N1}/ANSWERS`:n(t(f.message.answer));break}};return window.addEventListener("message",l),()=>window.removeEventListener("message",l)},[n,o,r,s,a,e,u]),O.jsx("div",{children:O.jsx("iframe",{ref:i,src:`${Qu}${e.path}?trialid=${o}&id=${s}`,style:G8e})})}const Q8e={maxWidth:"100%"},X8e=({currentConfig:e})=>{const t={...Q8e,...e.style};return O.jsx(Y_,{mx:"auto",src:`${Qu}${e.path}`,style:t})};function Lb(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function J8e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function o3(e){let t,n,r;e.length!==2?(t=Lb,n=(a,u)=>Lb(e(a),u),r=(a,u)=>e(a)-u):(t=e===Lb||e===J8e?e:Z8e,n=e,r=e);function i(a,u,l=0,c=a.length){if(l<c){if(t(u,u)!==0)return c;do{const f=l+c>>>1;n(a[f],u)<0?l=f+1:c=f}while(l<c)}return l}function s(a,u,l=0,c=a.length){if(l<c){if(t(u,u)!==0)return c;do{const f=l+c>>>1;n(a[f],u)<=0?l=f+1:c=f}while(l<c)}return l}function o(a,u,l=0,c=a.length){const f=i(a,u,l,c-1);return f>l&&r(a[f-1],u)>-r(a[f],u)?f-1:f}return{left:i,center:o,right:s}}function Z8e(){return 0}function e9e(e){return e===null?NaN:+e}const t9e=o3(Lb),n9e=t9e.right;o3(e9e).center;const r9e=n9e;function RT(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let s of e)(s=t(s,++i,e))!=null&&(n===void 0?s>=s&&(n=r=s):(n>s&&(n=s),r<s&&(r=s)))}return[n,r]}class NU extends Map{constructor(t,n=o9e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(kU(this,t))}has(t){return super.has(kU(this,t))}set(t,n){return super.set(i9e(this,t),n)}delete(t){return super.delete(s9e(this,t))}}function kU({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function i9e({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function s9e({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function o9e(e){return e!==null&&typeof e=="object"?e.valueOf():e}const a9e=Math.sqrt(50),u9e=Math.sqrt(10),l9e=Math.sqrt(2);function NT(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=a9e?10:s>=u9e?5:s>=l9e?2:1;let a,u,l;return i<0?(l=Math.pow(10,-i)/o,a=Math.round(e*l),u=Math.round(t*l),a/l<e&&++a,u/l>t&&--u,l=-l):(l=Math.pow(10,i)*o,a=Math.round(e/l),u=Math.round(t/l),a*l<e&&++a,u*l>t&&--u),u<a&&.5<=n&&n<2?NT(e,t,n*2):[a,u,l]}function c9e(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,s,o]=r?NT(t,e,n):NT(e,t,n);if(!(s>=i))return[];const a=s-i+1,u=new Array(a);if(r)if(o<0)for(let l=0;l<a;++l)u[l]=(s-l)/-o;else for(let l=0;l<a;++l)u[l]=(s-l)*o;else if(o<0)for(let l=0;l<a;++l)u[l]=(i+l)/-o;else for(let l=0;l<a;++l)u[l]=(i+l)*o;return u}function ER(e,t,n){return t=+t,e=+e,n=+n,NT(e,t,n)[2]}function TR(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?ER(t,e,n):ER(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function f9e(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function d9e(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,s=new Array(i);++r<i;)s[r]=e+r*n;return s}var h9e={value:()=>{}};function a3(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Mb(n)}function Mb(e){this._=e}function p9e(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Mb.prototype=a3.prototype={constructor:Mb,on:function(e,t){var n=this._,r=p9e(e+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(e=r[s]).type)&&(i=m9e(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<o;)if(i=(e=r[s]).type)n[i]=DU(n[i],e.name,t);else if(t==null)for(i in n)n[i]=DU(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Mb(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],r=0,i=s.length;r<i;++r)s[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,s=r.length;i<s;++i)r[i].value.apply(t,n)}};function m9e(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function DU(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=h9e,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var SR="http://www.w3.org/1999/xhtml";const $U={svg:"http://www.w3.org/2000/svg",xhtml:SR,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function yI(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),$U.hasOwnProperty(t)?{space:$U[t],local:e}:e}function g9e(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===SR&&t.documentElement.namespaceURI===SR?t.createElement(e):t.createElementNS(n,e)}}function y9e(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function $te(e){var t=yI(e);return(t.local?y9e:g9e)(t)}function _9e(){}function u3(e){return e==null?_9e:function(){return this.querySelector(e)}}function v9e(e){typeof e!="function"&&(e=u3(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=new Array(o),u,l,c=0;c<o;++c)(u=s[c])&&(l=e.call(u,u.__data__,c,s))&&("__data__"in u&&(l.__data__=u.__data__),a[c]=l);return new ps(r,this._parents)}function Lte(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function b9e(){return[]}function Mte(e){return e==null?b9e:function(){return this.querySelectorAll(e)}}function w9e(e){return function(){return Lte(e.apply(this,arguments))}}function E9e(e){typeof e=="function"?e=w9e(e):e=Mte(e);for(var t=this._groups,n=t.length,r=[],i=[],s=0;s<n;++s)for(var o=t[s],a=o.length,u,l=0;l<a;++l)(u=o[l])&&(r.push(e.call(u,u.__data__,l,o)),i.push(u));return new ps(r,i)}function Fte(e){return function(){return this.matches(e)}}function Bte(e){return function(t){return t.matches(e)}}var T9e=Array.prototype.find;function S9e(e){return function(){return T9e.call(this.children,e)}}function x9e(){return this.firstElementChild}function I9e(e){return this.select(e==null?x9e:S9e(typeof e=="function"?e:Bte(e)))}var A9e=Array.prototype.filter;function C9e(){return Array.from(this.children)}function O9e(e){return function(){return A9e.call(this.children,e)}}function P9e(e){return this.selectAll(e==null?C9e:O9e(typeof e=="function"?e:Bte(e)))}function R9e(e){typeof e!="function"&&(e=Fte(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=[],u,l=0;l<o;++l)(u=s[l])&&e.call(u,u.__data__,l,s)&&a.push(u);return new ps(r,this._parents)}function jte(e){return new Array(e.length)}function N9e(){return new ps(this._enter||this._groups.map(jte),this._parents)}function kT(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}kT.prototype={constructor:kT,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function k9e(e){return function(){return e}}function D9e(e,t,n,r,i,s){for(var o=0,a,u=t.length,l=s.length;o<l;++o)(a=t[o])?(a.__data__=s[o],r[o]=a):n[o]=new kT(e,s[o]);for(;o<u;++o)(a=t[o])&&(i[o]=a)}function $9e(e,t,n,r,i,s,o){var a,u,l=new Map,c=t.length,f=s.length,d=new Array(c),h;for(a=0;a<c;++a)(u=t[a])&&(d[a]=h=o.call(u,u.__data__,a,t)+"",l.has(h)?i[a]=u:l.set(h,u));for(a=0;a<f;++a)h=o.call(e,s[a],a,s)+"",(u=l.get(h))?(r[a]=u,u.__data__=s[a],l.delete(h)):n[a]=new kT(e,s[a]);for(a=0;a<c;++a)(u=t[a])&&l.get(d[a])===u&&(i[a]=u)}function L9e(e){return e.__data__}function M9e(e,t){if(!arguments.length)return Array.from(this,L9e);var n=t?$9e:D9e,r=this._parents,i=this._groups;typeof e!="function"&&(e=k9e(e));for(var s=i.length,o=new Array(s),a=new Array(s),u=new Array(s),l=0;l<s;++l){var c=r[l],f=i[l],d=f.length,h=F9e(e.call(c,c&&c.__data__,l,r)),p=h.length,g=a[l]=new Array(p),y=o[l]=new Array(p),m=u[l]=new Array(d);n(c,f,g,y,m,h,t);for(var _=0,v=0,T,S;_<p;++_)if(T=g[_]){for(_>=v&&(v=_+1);!(S=y[v])&&++v<p;);T._next=S||null}}return o=new ps(o,r),o._enter=a,o._exit=u,o}function F9e(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function B9e(){return new ps(this._exit||this._groups.map(jte),this._parents)}function j9e(e,t,n){var r=this.enter(),i=this,s=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function U9e(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,s=r.length,o=Math.min(i,s),a=new Array(i),u=0;u<o;++u)for(var l=n[u],c=r[u],f=l.length,d=a[u]=new Array(f),h,p=0;p<f;++p)(h=l[p]||c[p])&&(d[p]=h);for(;u<i;++u)a[u]=n[u];return new ps(a,this._parents)}function V9e(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function z9e(e){e||(e=H9e);function t(f,d){return f&&d?e(f.__data__,d.__data__):!f-!d}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],a=o.length,u=i[s]=new Array(a),l,c=0;c<a;++c)(l=o[c])&&(u[c]=l);u.sort(t)}return new ps(i,this._parents).order()}function H9e(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function W9e(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function q9e(){return Array.from(this)}function Y9e(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function G9e(){let e=0;for(const t of this)++e;return e}function K9e(){return!this.node()}function Q9e(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],s=0,o=i.length,a;s<o;++s)(a=i[s])&&e.call(a,a.__data__,s,i);return this}function X9e(e){return function(){this.removeAttribute(e)}}function J9e(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Z9e(e,t){return function(){this.setAttribute(e,t)}}function eBe(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function tBe(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function nBe(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function rBe(e,t){var n=yI(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?J9e:X9e:typeof t=="function"?n.local?nBe:tBe:n.local?eBe:Z9e)(n,t))}function Ute(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function iBe(e){return function(){this.style.removeProperty(e)}}function sBe(e,t,n){return function(){this.style.setProperty(e,t,n)}}function oBe(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function aBe(e,t,n){return arguments.length>1?this.each((t==null?iBe:typeof t=="function"?oBe:sBe)(e,t,n??"")):gm(this.node(),e)}function gm(e,t){return e.style.getPropertyValue(t)||Ute(e).getComputedStyle(e,null).getPropertyValue(t)}function uBe(e){return function(){delete this[e]}}function lBe(e,t){return function(){this[e]=t}}function cBe(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function fBe(e,t){return arguments.length>1?this.each((t==null?uBe:typeof t=="function"?cBe:lBe)(e,t)):this.node()[e]}function Vte(e){return e.trim().split(/^|\s+/)}function l3(e){return e.classList||new zte(e)}function zte(e){this._node=e,this._names=Vte(e.getAttribute("class")||"")}zte.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Hte(e,t){for(var n=l3(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function Wte(e,t){for(var n=l3(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function dBe(e){return function(){Hte(this,e)}}function hBe(e){return function(){Wte(this,e)}}function pBe(e,t){return function(){(t.apply(this,arguments)?Hte:Wte)(this,e)}}function mBe(e,t){var n=Vte(e+"");if(arguments.length<2){for(var r=l3(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?pBe:t?dBe:hBe)(n,t))}function gBe(){this.textContent=""}function yBe(e){return function(){this.textContent=e}}function _Be(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function vBe(e){return arguments.length?this.each(e==null?gBe:(typeof e=="function"?_Be:yBe)(e)):this.node().textContent}function bBe(){this.innerHTML=""}function wBe(e){return function(){this.innerHTML=e}}function EBe(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function TBe(e){return arguments.length?this.each(e==null?bBe:(typeof e=="function"?EBe:wBe)(e)):this.node().innerHTML}function SBe(){this.nextSibling&&this.parentNode.appendChild(this)}function xBe(){return this.each(SBe)}function IBe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ABe(){return this.each(IBe)}function CBe(e){var t=typeof e=="function"?e:$te(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function OBe(){return null}function PBe(e,t){var n=typeof e=="function"?e:$te(e),r=t==null?OBe:typeof t=="function"?t:u3(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function RBe(){var e=this.parentNode;e&&e.removeChild(this)}function NBe(){return this.each(RBe)}function kBe(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function DBe(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function $Be(e){return this.select(e?DBe:kBe)}function LBe(e){return arguments.length?this.property("__data__",e):this.node().__data__}function MBe(e){return function(t){e.call(this,t,this.__data__)}}function FBe(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function BBe(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,s;n<i;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++r]=s;++r?t.length=r:delete this.__on}}}function jBe(e,t,n){return function(){var r=this.__on,i,s=MBe(t);if(r){for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=t;return}}this.addEventListener(e.type,s,n),i={type:e.type,name:e.name,value:t,listener:s,options:n},r?r.push(i):this.__on=[i]}}function UBe(e,t,n){var r=FBe(e+""),i,s=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var u=0,l=a.length,c;u<l;++u)for(i=0,c=a[u];i<s;++i)if((o=r[i]).type===c.type&&o.name===c.name)return c.value}return}for(a=t?jBe:BBe,i=0;i<s;++i)this.each(a(r[i],t,n));return this}function qte(e,t,n){var r=Ute(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function VBe(e,t){return function(){return qte(this,e,t)}}function zBe(e,t){return function(){return qte(this,e,t.apply(this,arguments))}}function HBe(e,t){return this.each((typeof t=="function"?zBe:VBe)(e,t))}function*WBe(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var c3=[null];function ps(e,t){this._groups=e,this._parents=t}function uv(){return new ps([[document.documentElement]],c3)}function qBe(){return this}ps.prototype=uv.prototype={constructor:ps,select:v9e,selectAll:E9e,selectChild:I9e,selectChildren:P9e,filter:R9e,data:M9e,enter:N9e,exit:B9e,join:j9e,merge:U9e,selection:qBe,order:V9e,sort:z9e,call:W9e,nodes:q9e,node:Y9e,size:G9e,empty:K9e,each:Q9e,attr:rBe,style:aBe,property:fBe,classed:mBe,text:vBe,html:TBe,raise:xBe,lower:ABe,append:CBe,insert:PBe,remove:NBe,clone:$Be,datum:LBe,on:UBe,dispatch:HBe,[Symbol.iterator]:WBe};function Ur(e){return typeof e=="string"?new ps([[document.querySelector(e)]],[document.documentElement]):new ps([[e]],c3)}function YBe(e){let t;for(;t=e.sourceEvent;)e=t;return e}function xR(e,t){if(e=YBe(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}function GBe(e){return typeof e=="string"?new ps([document.querySelectorAll(e)],[document.documentElement]):new ps([Lte(e)],c3)}const IR={capture:!0,passive:!1};function AR(e){e.preventDefault(),e.stopImmediatePropagation()}function KBe(e){var t=e.document.documentElement,n=Ur(e).on("dragstart.drag",AR,IR);"onselectstart"in t?n.on("selectstart.drag",AR,IR):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function QBe(e,t){var n=e.document.documentElement,r=Ur(e).on("dragstart.drag",null);t&&(r.on("click.drag",AR,IR),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function f3(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Yte(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function lv(){}var Gy=.7,DT=1/Gy,Bp="\\s*([+-]?\\d+)\\s*",Ky="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",xu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",XBe=/^#([0-9a-f]{3,8})$/,JBe=new RegExp(`^rgb\\(${Bp},${Bp},${Bp}\\)$`),ZBe=new RegExp(`^rgb\\(${xu},${xu},${xu}\\)$`),eje=new RegExp(`^rgba\\(${Bp},${Bp},${Bp},${Ky}\\)$`),tje=new RegExp(`^rgba\\(${xu},${xu},${xu},${Ky}\\)$`),nje=new RegExp(`^hsl\\(${Ky},${xu},${xu}\\)$`),rje=new RegExp(`^hsla\\(${Ky},${xu},${xu},${Ky}\\)$`),LU={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};f3(lv,Gd,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:MU,formatHex:MU,formatHex8:ije,formatHsl:sje,formatRgb:FU,toString:FU});function MU(){return this.rgb().formatHex()}function ije(){return this.rgb().formatHex8()}function sje(){return Gte(this).formatHsl()}function FU(){return this.rgb().formatRgb()}function Gd(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=XBe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?BU(t):n===3?new js(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?k1(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?k1(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=JBe.exec(e))?new js(t[1],t[2],t[3],1):(t=ZBe.exec(e))?new js(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=eje.exec(e))?k1(t[1],t[2],t[3],t[4]):(t=tje.exec(e))?k1(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=nje.exec(e))?VU(t[1],t[2]/100,t[3]/100,1):(t=rje.exec(e))?VU(t[1],t[2]/100,t[3]/100,t[4]):LU.hasOwnProperty(e)?BU(LU[e]):e==="transparent"?new js(NaN,NaN,NaN,0):null}function BU(e){return new js(e>>16&255,e>>8&255,e&255,1)}function k1(e,t,n,r){return r<=0&&(e=t=n=NaN),new js(e,t,n,r)}function oje(e){return e instanceof lv||(e=Gd(e)),e?(e=e.rgb(),new js(e.r,e.g,e.b,e.opacity)):new js}function CR(e,t,n,r){return arguments.length===1?oje(e):new js(e,t,n,r??1)}function js(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}f3(js,CR,Yte(lv,{brighter(e){return e=e==null?DT:Math.pow(DT,e),new js(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Gy:Math.pow(Gy,e),new js(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new js(Nd(this.r),Nd(this.g),Nd(this.b),$T(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:jU,formatHex:jU,formatHex8:aje,formatRgb:UU,toString:UU}));function jU(){return`#${yd(this.r)}${yd(this.g)}${yd(this.b)}`}function aje(){return`#${yd(this.r)}${yd(this.g)}${yd(this.b)}${yd((isNaN(this.opacity)?1:this.opacity)*255)}`}function UU(){const e=$T(this.opacity);return`${e===1?"rgb(":"rgba("}${Nd(this.r)}, ${Nd(this.g)}, ${Nd(this.b)}${e===1?")":`, ${e})`}`}function $T(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Nd(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function yd(e){return e=Nd(e),(e<16?"0":"")+e.toString(16)}function VU(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ia(e,t,n,r)}function Gte(e){if(e instanceof Ia)return new Ia(e.h,e.s,e.l,e.opacity);if(e instanceof lv||(e=Gd(e)),!e)return new Ia;if(e instanceof Ia)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),o=NaN,a=s-i,u=(s+i)/2;return a?(t===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-t)/a+2:o=(t-n)/a+4,a/=u<.5?s+i:2-s-i,o*=60):a=u>0&&u<1?0:o,new Ia(o,a,u,e.opacity)}function uje(e,t,n,r){return arguments.length===1?Gte(e):new Ia(e,t,n,r??1)}function Ia(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}f3(Ia,uje,Yte(lv,{brighter(e){return e=e==null?DT:Math.pow(DT,e),new Ia(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Gy:Math.pow(Gy,e),new Ia(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new js(hO(e>=240?e-240:e+120,i,r),hO(e,i,r),hO(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Ia(zU(this.h),D1(this.s),D1(this.l),$T(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=$T(this.opacity);return`${e===1?"hsl(":"hsla("}${zU(this.h)}, ${D1(this.s)*100}%, ${D1(this.l)*100}%${e===1?")":`, ${e})`}`}}));function zU(e){return e=(e||0)%360,e<0?e+360:e}function D1(e){return Math.max(0,Math.min(1,e||0))}function hO(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const d3=e=>()=>e;function lje(e,t){return function(n){return e+n*t}}function cje(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function fje(e){return(e=+e)==1?Kte:function(t,n){return n-t?cje(t,n,e):d3(isNaN(t)?n:t)}}function Kte(e,t){var n=t-e;return n?lje(e,n):d3(isNaN(e)?t:e)}const LT=function e(t){var n=fje(t);function r(i,s){var o=n((i=CR(i)).r,(s=CR(s)).r),a=n(i.g,s.g),u=n(i.b,s.b),l=Kte(i.opacity,s.opacity);return function(c){return i.r=o(c),i.g=a(c),i.b=u(c),i.opacity=l(c),i+""}}return r.gamma=e,r}(1);function dje(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=e[i]*(1-s)+t[i]*s;return r}}function hje(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function pje(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=_I(e[o],t[o]);for(;o<n;++o)s[o]=t[o];return function(a){for(o=0;o<r;++o)s[o]=i[o](a);return s}}function mje(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Ta(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function gje(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=_I(e[i],t[i]):r[i]=t[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var OR=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,pO=new RegExp(OR.source,"g");function yje(e){return function(){return e}}function _je(e){return function(t){return e(t)+""}}function Qte(e,t){var n=OR.lastIndex=pO.lastIndex=0,r,i,s,o=-1,a=[],u=[];for(e=e+"",t=t+"";(r=OR.exec(e))&&(i=pO.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,u.push({i:o,x:Ta(r,i)})),n=pO.lastIndex;return n<t.length&&(s=t.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?u[0]?_je(u[0].x):yje(t):(t=u.length,function(l){for(var c=0,f;c<t;++c)a[(f=u[c]).i]=f.x(l);return a.join("")})}function _I(e,t){var n=typeof t,r;return t==null||n==="boolean"?d3(t):(n==="number"?Ta:n==="string"?(r=Gd(t))?(t=r,LT):Qte:t instanceof Gd?LT:t instanceof Date?mje:hje(t)?dje:Array.isArray(t)?pje:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?gje:Ta)(e,t)}function vje(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var HU=180/Math.PI,PR={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Xte(e,t,n,r,i,s){var o,a,u;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,u/=a),e*r<t*n&&(e=-e,t=-t,u=-u,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*HU,skewX:Math.atan(u)*HU,scaleX:o,scaleY:a}}var $1;function bje(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?PR:Xte(t.a,t.b,t.c,t.d,t.e,t.f)}function wje(e){return e==null||($1||($1=document.createElementNS("http://www.w3.org/2000/svg","g")),$1.setAttribute("transform",e),!(e=$1.transform.baseVal.consolidate()))?PR:(e=e.matrix,Xte(e.a,e.b,e.c,e.d,e.e,e.f))}function Jte(e,t,n,r){function i(l){return l.length?l.pop()+" ":""}function s(l,c,f,d,h,p){if(l!==f||c!==d){var g=h.push("translate(",null,t,null,n);p.push({i:g-4,x:Ta(l,f)},{i:g-2,x:Ta(c,d)})}else(f||d)&&h.push("translate("+f+t+d+n)}function o(l,c,f,d){l!==c?(l-c>180?c+=360:c-l>180&&(l+=360),d.push({i:f.push(i(f)+"rotate(",null,r)-2,x:Ta(l,c)})):c&&f.push(i(f)+"rotate("+c+r)}function a(l,c,f,d){l!==c?d.push({i:f.push(i(f)+"skewX(",null,r)-2,x:Ta(l,c)}):c&&f.push(i(f)+"skewX("+c+r)}function u(l,c,f,d,h,p){if(l!==f||c!==d){var g=h.push(i(h)+"scale(",null,",",null,")");p.push({i:g-4,x:Ta(l,f)},{i:g-2,x:Ta(c,d)})}else(f!==1||d!==1)&&h.push(i(h)+"scale("+f+","+d+")")}return function(l,c){var f=[],d=[];return l=e(l),c=e(c),s(l.translateX,l.translateY,c.translateX,c.translateY,f,d),o(l.rotate,c.rotate,f,d),a(l.skewX,c.skewX,f,d),u(l.scaleX,l.scaleY,c.scaleX,c.scaleY,f,d),l=c=null,function(h){for(var p=-1,g=d.length,y;++p<g;)f[(y=d[p]).i]=y.x(h);return f.join("")}}}var Eje=Jte(bje,"px, ","px)","deg)"),Tje=Jte(wje,", ",")",")"),ym=0,E0=0,Xg=0,Zte=1e3,MT,T0,FT=0,Kd=0,vI=0,Qy=typeof performance=="object"&&performance.now?performance:Date,ene=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function h3(){return Kd||(ene(Sje),Kd=Qy.now()+vI)}function Sje(){Kd=0}function BT(){this._call=this._time=this._next=null}BT.prototype=tne.prototype={constructor:BT,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?h3():+n)+(t==null?0:+t),!this._next&&T0!==this&&(T0?T0._next=this:MT=this,T0=this),this._call=e,this._time=n,RR()},stop:function(){this._call&&(this._call=null,this._time=1/0,RR())}};function tne(e,t,n){var r=new BT;return r.restart(e,t,n),r}function xje(){h3(),++ym;for(var e=MT,t;e;)(t=Kd-e._time)>=0&&e._call.call(void 0,t),e=e._next;--ym}function WU(){Kd=(FT=Qy.now())+vI,ym=E0=0;try{xje()}finally{ym=0,Aje(),Kd=0}}function Ije(){var e=Qy.now(),t=e-FT;t>Zte&&(vI-=t,FT=e)}function Aje(){for(var e,t=MT,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:MT=n);T0=e,RR(r)}function RR(e){if(!ym){E0&&(E0=clearTimeout(E0));var t=e-Kd;t>24?(e<1/0&&(E0=setTimeout(WU,e-Qy.now()-vI)),Xg&&(Xg=clearInterval(Xg))):(Xg||(FT=Qy.now(),Xg=setInterval(Ije,Zte)),ym=1,ene(WU))}}function qU(e,t,n){var r=new BT;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var Cje=a3("start","end","cancel","interrupt"),Oje=[],nne=0,YU=1,NR=2,Fb=3,GU=4,kR=5,Bb=6;function bI(e,t,n,r,i,s){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;Pje(e,n,{name:t,index:r,group:i,on:Cje,tween:Oje,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:nne})}function p3(e,t){var n=Va(e,t);if(n.state>nne)throw new Error("too late; already scheduled");return n}function Yu(e,t){var n=Va(e,t);if(n.state>Fb)throw new Error("too late; already running");return n}function Va(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Pje(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=tne(s,0,n.time);function s(l){n.state=YU,n.timer.restart(o,n.delay,n.time),n.delay<=l&&o(l-n.delay)}function o(l){var c,f,d,h;if(n.state!==YU)return u();for(c in r)if(h=r[c],h.name===n.name){if(h.state===Fb)return qU(o);h.state===GU?(h.state=Bb,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[c]):+c<t&&(h.state=Bb,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[c])}if(qU(function(){n.state===Fb&&(n.state=GU,n.timer.restart(a,n.delay,n.time),a(l))}),n.state=NR,n.on.call("start",e,e.__data__,n.index,n.group),n.state===NR){for(n.state=Fb,i=new Array(d=n.tween.length),c=0,f=-1;c<d;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++f]=h);i.length=f+1}}function a(l){for(var c=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(u),n.state=kR,1),f=-1,d=i.length;++f<d;)i[f].call(e,c);n.state===kR&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){n.state=Bb,n.timer.stop(),delete r[t];for(var l in r)return;delete e.__transition}}function DR(e,t){var n=e.__transition,r,i,s=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){s=!1;continue}i=r.state>NR&&r.state<kR,r.state=Bb,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}s&&delete e.__transition}}function Rje(e){return this.each(function(){DR(this,e)})}function Nje(e,t){var n,r;return function(){var i=Yu(this,e),s=i.tween;if(s!==n){r=n=s;for(var o=0,a=r.length;o<a;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function kje(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=Yu(this,e),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:t,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===t){i[u]=a;break}u===l&&i.push(a)}s.tween=i}}function Dje(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Va(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===e)return o.value;return null}return this.each((t==null?Nje:kje)(n,e,t))}function m3(e,t,n){var r=e._id;return e.each(function(){var i=Yu(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Va(i,r).value[t]}}function rne(e,t){var n;return(typeof t=="number"?Ta:t instanceof Gd?LT:(n=Gd(t))?(t=n,LT):Qte)(e,t)}function $je(e){return function(){this.removeAttribute(e)}}function Lje(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Mje(e,t,n){var r,i=n+"",s;return function(){var o=this.getAttribute(e);return o===i?null:o===r?s:s=t(r=o,n)}}function Fje(e,t,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===r?s:s=t(r=o,n)}}function Bje(e,t,n){var r,i,s;return function(){var o,a=n(this),u;return a==null?void this.removeAttribute(e):(o=this.getAttribute(e),u=a+"",o===u?null:o===r&&u===i?s:(i=u,s=t(r=o,a)))}}function jje(e,t,n){var r,i,s;return function(){var o,a=n(this),u;return a==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),u=a+"",o===u?null:o===r&&u===i?s:(i=u,s=t(r=o,a)))}}function Uje(e,t){var n=yI(e),r=n==="transform"?Tje:rne;return this.attrTween(e,typeof t=="function"?(n.local?jje:Bje)(n,r,m3(this,"attr."+e,t)):t==null?(n.local?Lje:$je)(n):(n.local?Fje:Mje)(n,r,t))}function Vje(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function zje(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Hje(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&zje(e,s)),n}return i._value=t,i}function Wje(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&Vje(e,s)),n}return i._value=t,i}function qje(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=yI(e);return this.tween(n,(r.local?Hje:Wje)(r,t))}function Yje(e,t){return function(){p3(this,e).delay=+t.apply(this,arguments)}}function Gje(e,t){return t=+t,function(){p3(this,e).delay=t}}function Kje(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Yje:Gje)(t,e)):Va(this.node(),t).delay}function Qje(e,t){return function(){Yu(this,e).duration=+t.apply(this,arguments)}}function Xje(e,t){return t=+t,function(){Yu(this,e).duration=t}}function Jje(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Qje:Xje)(t,e)):Va(this.node(),t).duration}function Zje(e,t){if(typeof t!="function")throw new Error;return function(){Yu(this,e).ease=t}}function eUe(e){var t=this._id;return arguments.length?this.each(Zje(t,e)):Va(this.node(),t).ease}function tUe(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Yu(this,e).ease=n}}function nUe(e){if(typeof e!="function")throw new Error;return this.each(tUe(this._id,e))}function rUe(e){typeof e!="function"&&(e=Fte(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=[],u,l=0;l<o;++l)(u=s[l])&&e.call(u,u.__data__,l,s)&&a.push(u);return new Bl(r,this._parents,this._name,this._id)}function iUe(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var u=t[a],l=n[a],c=u.length,f=o[a]=new Array(c),d,h=0;h<c;++h)(d=u[h]||l[h])&&(f[h]=d);for(;a<r;++a)o[a]=t[a];return new Bl(o,this._parents,this._name,this._id)}function sUe(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function oUe(e,t,n){var r,i,s=sUe(t)?p3:Yu;return function(){var o=s(this,e),a=o.on;a!==r&&(i=(r=a).copy()).on(t,n),o.on=i}}function aUe(e,t){var n=this._id;return arguments.length<2?Va(this.node(),n).on.on(e):this.each(oUe(n,e,t))}function uUe(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function lUe(){return this.on("end.remove",uUe(this._id))}function cUe(e){var t=this._name,n=this._id;typeof e!="function"&&(e=u3(e));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a=r[o],u=a.length,l=s[o]=new Array(u),c,f,d=0;d<u;++d)(c=a[d])&&(f=e.call(c,c.__data__,d,a))&&("__data__"in c&&(f.__data__=c.__data__),l[d]=f,bI(l[d],t,n,d,l,Va(c,n)));return new Bl(s,this._parents,t,n)}function fUe(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Mte(e));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var u=r[a],l=u.length,c,f=0;f<l;++f)if(c=u[f]){for(var d=e.call(c,c.__data__,f,u),h,p=Va(c,n),g=0,y=d.length;g<y;++g)(h=d[g])&&bI(h,t,n,g,d,p);s.push(d),o.push(c)}return new Bl(s,o,t,n)}var dUe=uv.prototype.constructor;function hUe(){return new dUe(this._groups,this._parents)}function pUe(e,t){var n,r,i;return function(){var s=gm(this,e),o=(this.style.removeProperty(e),gm(this,e));return s===o?null:s===n&&o===r?i:i=t(n=s,r=o)}}function ine(e){return function(){this.style.removeProperty(e)}}function mUe(e,t,n){var r,i=n+"",s;return function(){var o=gm(this,e);return o===i?null:o===r?s:s=t(r=o,n)}}function gUe(e,t,n){var r,i,s;return function(){var o=gm(this,e),a=n(this),u=a+"";return a==null&&(u=a=(this.style.removeProperty(e),gm(this,e))),o===u?null:o===r&&u===i?s:(i=u,s=t(r=o,a))}}function yUe(e,t){var n,r,i,s="style."+t,o="end."+s,a;return function(){var u=Yu(this,e),l=u.on,c=u.value[s]==null?a||(a=ine(t)):void 0;(l!==n||i!==c)&&(r=(n=l).copy()).on(o,i=c),u.on=r}}function _Ue(e,t,n){var r=(e+="")=="transform"?Eje:rne;return t==null?this.styleTween(e,pUe(e,r)).on("end.style."+e,ine(e)):typeof t=="function"?this.styleTween(e,gUe(e,r,m3(this,"style."+e,t))).each(yUe(this._id,e)):this.styleTween(e,mUe(e,r,t),n).on("end.style."+e,null)}function vUe(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function bUe(e,t,n){var r,i;function s(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&vUe(e,o,n)),r}return s._value=t,s}function wUe(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,bUe(e,t,n??""))}function EUe(e){return function(){this.textContent=e}}function TUe(e){return function(){var t=e(this);this.textContent=t??""}}function SUe(e){return this.tween("text",typeof e=="function"?TUe(m3(this,"text",e)):EUe(e==null?"":e+""))}function xUe(e){return function(t){this.textContent=e.call(this,t)}}function IUe(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&xUe(i)),t}return r._value=e,r}function AUe(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,IUe(e))}function CUe(){for(var e=this._name,t=this._id,n=sne(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,u,l=0;l<a;++l)if(u=o[l]){var c=Va(u,t);bI(u,e,n,l,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Bl(r,this._parents,e,n)}function OUe(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var a={value:o},u={value:function(){--i===0&&s()}};n.each(function(){var l=Yu(this,r),c=l.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(u)),l.on=t}),i===0&&s()})}var PUe=0;function Bl(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function sne(){return++PUe}var Ju=uv.prototype;Bl.prototype={constructor:Bl,select:cUe,selectAll:fUe,selectChild:Ju.selectChild,selectChildren:Ju.selectChildren,filter:rUe,merge:iUe,selection:hUe,transition:CUe,call:Ju.call,nodes:Ju.nodes,node:Ju.node,size:Ju.size,empty:Ju.empty,each:Ju.each,on:aUe,attr:Uje,attrTween:qje,style:_Ue,styleTween:wUe,text:SUe,textTween:AUe,remove:lUe,tween:Dje,delay:Kje,duration:Jje,ease:eUe,easeVarying:nUe,end:OUe,[Symbol.iterator]:Ju[Symbol.iterator]};const RUe=e=>+e;function NUe(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var kUe={time:null,delay:0,duration:250,ease:NUe};function DUe(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function $Ue(e){var t,n;e instanceof Bl?(t=e._id,e=e._name):(t=sne(),(n=kUe).time=h3(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,u,l=0;l<a;++l)(u=o[l])&&bI(u,e,t,l,o,n||DUe(u,t));return new Bl(r,this._parents,e,t)}uv.prototype.interrupt=Rje;uv.prototype.transition=$Ue;const mO=e=>()=>e;function LUe(e,{sourceEvent:t,target:n,selection:r,mode:i,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:s}})}function MUe(e){e.stopImmediatePropagation()}function gO(e){e.preventDefault(),e.stopImmediatePropagation()}var KU={name:"drag"},yO={name:"space"},Lh={name:"handle"},Mh={name:"center"};const{abs:QU,max:Vi,min:zi}=Math;function XU(e){return[+e[0],+e[1]]}function $R(e){return[XU(e[0]),XU(e[1])]}var jb={name:"x",handles:["w","e"].map(Xy),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},Ub={name:"y",handles:["n","s"].map(Xy),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},FUe={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Xy),input:function(e){return e==null?null:$R(e)},output:function(e){return e}},Zu={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},JU={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},ZU={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},BUe={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},jUe={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Xy(e){return{type:e}}function UUe(e){return!e.ctrlKey&&!e.button}function VUe(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function zUe(){return navigator.maxTouchPoints||"ontouchstart"in this}function _O(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function HUe(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function WUe(){return g3(jb)}function qUe(){return g3(Ub)}function YUe(){return g3(FUe)}function g3(e){var t=VUe,n=UUe,r=zUe,i=!0,s=a3("start","brush","end"),o=6,a;function u(y){var m=y.property("__brush",g).selectAll(".overlay").data([Xy("overlay")]);m.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Zu.overlay).merge(m).each(function(){var v=_O(this).extent;Ur(this).attr("x",v[0][0]).attr("y",v[0][1]).attr("width",v[1][0]-v[0][0]).attr("height",v[1][1]-v[0][1])}),y.selectAll(".selection").data([Xy("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Zu.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var _=y.selectAll(".handle").data(e.handles,function(v){return v.type});_.exit().remove(),_.enter().append("rect").attr("class",function(v){return"handle handle--"+v.type}).attr("cursor",function(v){return Zu[v.type]}),y.each(l).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",d).filter(r).on("touchstart.brush",d).on("touchmove.brush",h).on("touchend.brush touchcancel.brush",p).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}u.move=function(y,m,_){y.tween?y.on("start.brush",function(v){c(this,arguments).beforestart().start(v)}).on("interrupt.brush end.brush",function(v){c(this,arguments).end(v)}).tween("brush",function(){var v=this,T=v.__brush,S=c(v,arguments),w=T.selection,x=e.input(typeof m=="function"?m.apply(this,arguments):m,T.extent),A=_I(w,x);function $(D){T.selection=D===1&&x===null?null:A(D),l.call(v),S.brush()}return w!==null&&x!==null?$:$(1)}):y.each(function(){var v=this,T=arguments,S=v.__brush,w=e.input(typeof m=="function"?m.apply(v,T):m,S.extent),x=c(v,T).beforestart();DR(v),S.selection=w===null?null:w,l.call(v),x.start(_).brush(_).end(_)})},u.clear=function(y,m){u.move(y,null,m)};function l(){var y=Ur(this),m=_O(this).selection;m?(y.selectAll(".selection").style("display",null).attr("x",m[0][0]).attr("y",m[0][1]).attr("width",m[1][0]-m[0][0]).attr("height",m[1][1]-m[0][1]),y.selectAll(".handle").style("display",null).attr("x",function(_){return _.type[_.type.length-1]==="e"?m[1][0]-o/2:m[0][0]-o/2}).attr("y",function(_){return _.type[0]==="s"?m[1][1]-o/2:m[0][1]-o/2}).attr("width",function(_){return _.type==="n"||_.type==="s"?m[1][0]-m[0][0]+o:o}).attr("height",function(_){return _.type==="e"||_.type==="w"?m[1][1]-m[0][1]+o:o})):y.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function c(y,m,_){var v=y.__brush.emitter;return v&&(!_||!v.clean)?v:new f(y,m,_)}function f(y,m,_){this.that=y,this.args=m,this.state=y.__brush,this.active=0,this.clean=_}f.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(y,m){return this.starting?(this.starting=!1,this.emit("start",y,m)):this.emit("brush",y),this},brush:function(y,m){return this.emit("brush",y,m),this},end:function(y,m){return--this.active===0&&(delete this.state.emitter,this.emit("end",y,m)),this},emit:function(y,m,_){var v=Ur(this.that).datum();s.call(y,this.that,new LUe(y,{sourceEvent:m,target:u,selection:e.output(this.state.selection),mode:_,dispatch:s}),v)}};function d(y){if(a&&!y.touches||!n.apply(this,arguments))return;var m=this,_=y.target.__data__.type,v=(i&&y.metaKey?_="overlay":_)==="selection"?KU:i&&y.altKey?Mh:Lh,T=e===Ub?null:BUe[_],S=e===jb?null:jUe[_],w=_O(m),x=w.extent,A=w.selection,$=x[0][0],D,P,q=x[0][1],V,U,se=x[1][0],oe,ce,ee=x[1][1],ie,K,I=0,C=0,H,N=T&&S&&i&&y.shiftKey,R,Y,ae=Array.from(y.touches||[y],Ae=>{const Ve=Ae.identifier;return Ae=xR(Ae,m),Ae.point0=Ae.slice(),Ae.identifier=Ve,Ae});DR(m);var le=c(m,arguments,!0).beforestart();if(_==="overlay"){A&&(H=!0);const Ae=[ae[0],ae[1]||ae[0]];w.selection=A=[[D=e===Ub?$:zi(Ae[0][0],Ae[1][0]),V=e===jb?q:zi(Ae[0][1],Ae[1][1])],[oe=e===Ub?se:Vi(Ae[0][0],Ae[1][0]),ie=e===jb?ee:Vi(Ae[0][1],Ae[1][1])]],ae.length>1&&Xe(y)}else D=A[0][0],V=A[0][1],oe=A[1][0],ie=A[1][1];P=D,U=V,ce=oe,K=ie;var pe=Ur(m).attr("pointer-events","none"),he=pe.selectAll(".overlay").attr("cursor",Zu[_]);if(y.touches)le.moved=me,le.ended=Ye;else{var Se=Ur(y.view).on("mousemove.brush",me,!0).on("mouseup.brush",Ye,!0);i&&Se.on("keydown.brush",He,!0).on("keyup.brush",Le,!0),KBe(y.view)}l.call(m),le.start(y,v.name);function me(Ae){for(const Ve of Ae.changedTouches||[Ae])for(const Zt of ae)Zt.identifier===Ve.identifier&&(Zt.cur=xR(Ve,m));if(N&&!R&&!Y&&ae.length===1){const Ve=ae[0];QU(Ve.cur[0]-Ve[0])>QU(Ve.cur[1]-Ve[1])?Y=!0:R=!0}for(const Ve of ae)Ve.cur&&(Ve[0]=Ve.cur[0],Ve[1]=Ve.cur[1]);H=!0,gO(Ae),Xe(Ae)}function Xe(Ae){const Ve=ae[0],Zt=Ve.point0;var Me;switch(I=Ve[0]-Zt[0],C=Ve[1]-Zt[1],v){case yO:case KU:{T&&(I=Vi($-D,zi(se-oe,I)),P=D+I,ce=oe+I),S&&(C=Vi(q-V,zi(ee-ie,C)),U=V+C,K=ie+C);break}case Lh:{ae[1]?(T&&(P=Vi($,zi(se,ae[0][0])),ce=Vi($,zi(se,ae[1][0])),T=1),S&&(U=Vi(q,zi(ee,ae[0][1])),K=Vi(q,zi(ee,ae[1][1])),S=1)):(T<0?(I=Vi($-D,zi(se-D,I)),P=D+I,ce=oe):T>0&&(I=Vi($-oe,zi(se-oe,I)),P=D,ce=oe+I),S<0?(C=Vi(q-V,zi(ee-V,C)),U=V+C,K=ie):S>0&&(C=Vi(q-ie,zi(ee-ie,C)),U=V,K=ie+C));break}case Mh:{T&&(P=Vi($,zi(se,D-I*T)),ce=Vi($,zi(se,oe+I*T))),S&&(U=Vi(q,zi(ee,V-C*S)),K=Vi(q,zi(ee,ie+C*S)));break}}ce<P&&(T*=-1,Me=D,D=oe,oe=Me,Me=P,P=ce,ce=Me,_ in JU&&he.attr("cursor",Zu[_=JU[_]])),K<U&&(S*=-1,Me=V,V=ie,ie=Me,Me=U,U=K,K=Me,_ in ZU&&he.attr("cursor",Zu[_=ZU[_]])),w.selection&&(A=w.selection),R&&(P=A[0][0],ce=A[1][0]),Y&&(U=A[0][1],K=A[1][1]),(A[0][0]!==P||A[0][1]!==U||A[1][0]!==ce||A[1][1]!==K)&&(w.selection=[[P,U],[ce,K]],l.call(m),le.brush(Ae,v.name))}function Ye(Ae){if(MUe(Ae),Ae.touches){if(Ae.touches.length)return;a&&clearTimeout(a),a=setTimeout(function(){a=null},500)}else QBe(Ae.view,H),Se.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);pe.attr("pointer-events","all"),he.attr("cursor",Zu.overlay),w.selection&&(A=w.selection),HUe(A)&&(w.selection=null,l.call(m)),le.end(Ae,v.name)}function He(Ae){switch(Ae.keyCode){case 16:{N=T&&S;break}case 18:{v===Lh&&(T&&(oe=ce-I*T,D=P+I*T),S&&(ie=K-C*S,V=U+C*S),v=Mh,Xe(Ae));break}case 32:{(v===Lh||v===Mh)&&(T<0?oe=ce-I:T>0&&(D=P-I),S<0?ie=K-C:S>0&&(V=U-C),v=yO,he.attr("cursor",Zu.selection),Xe(Ae));break}default:return}gO(Ae)}function Le(Ae){switch(Ae.keyCode){case 16:{N&&(R=Y=N=!1,Xe(Ae));break}case 18:{v===Mh&&(T<0?oe=ce:T>0&&(D=P),S<0?ie=K:S>0&&(V=U),v=Lh,Xe(Ae));break}case 32:{v===yO&&(Ae.altKey?(T&&(oe=ce-I*T,D=P+I*T),S&&(ie=K-C*S,V=U+C*S),v=Mh):(T<0?oe=ce:T>0&&(D=P),S<0?ie=K:S>0&&(V=U),v=Lh),he.attr("cursor",Zu[_]),Xe(Ae));break}default:return}gO(Ae)}}function h(y){c(this,arguments).moved(y)}function p(y){c(this,arguments).ended(y)}function g(){var y=this.__brush||{selection:null};return y.extent=$R(t.apply(this,arguments)),y.dim=e,y}return u.extent=function(y){return arguments.length?(t=typeof y=="function"?y:mO($R(y)),u):t},u.filter=function(y){return arguments.length?(n=typeof y=="function"?y:mO(!!y),u):n},u.touchable=function(y){return arguments.length?(r=typeof y=="function"?y:mO(!!y),u):r},u.handleSize=function(y){return arguments.length?(o=+y,u):o},u.keyModifiers=function(y){return arguments.length?(i=!!y,u):i},u.on=function(){var y=s.on.apply(s,arguments);return y===s?u:y},u}const LR=Math.PI,MR=2*LR,Zf=1e-6,GUe=MR-Zf;function one(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function KUe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return one;const n=10**t;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class QUe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?one:KUe(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,s,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(t,n,r,i,s){if(t=+t,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,u=r-t,l=i-n,c=o-t,f=a-n,d=c*c+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(d>Zf)if(!(Math.abs(f*u-l*c)>Zf)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-o,p=i-a,g=u*u+l*l,y=h*h+p*p,m=Math.sqrt(g),_=Math.sqrt(d),v=s*Math.tan((LR-Math.acos((g+d-y)/(2*m*_)))/2),T=v/_,S=v/m;Math.abs(T-1)>Zf&&this._append`L${t+T*c},${n+T*f}`,this._append`A${s},${s},0,0,${+(f*h>c*p)},${this._x1=t+S*u},${this._y1=n+S*l}`}}arc(t,n,r,i,s,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),u=r*Math.sin(i),l=t+a,c=n+u,f=1^o,d=o?i-s:s-i;this._x1===null?this._append`M${l},${c}`:(Math.abs(this._x1-l)>Zf||Math.abs(this._y1-c)>Zf)&&this._append`L${l},${c}`,r&&(d<0&&(d=d%MR+MR),d>GUe?this._append`A${r},${r},0,1,${f},${t-a},${n-u}A${r},${r},0,1,${f},${this._x1=l},${this._y1=c}`:d>Zf&&this._append`A${r},${r},0,${+(d>=LR)},${f},${this._x1=t+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}var eV={},vO={},bO=34,Jg=10,wO=13;function ane(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function XUe(e,t){var n=ane(e);return function(r,i){return t(n(r),i,e)}}function tV(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function As(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function JUe(e){return e<0?"-"+As(-e,6):e>9999?"+"+As(e,6):As(e,4)}function ZUe(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":JUe(e.getUTCFullYear())+"-"+As(e.getUTCMonth()+1,2)+"-"+As(e.getUTCDate(),2)+(i?"T"+As(t,2)+":"+As(n,2)+":"+As(r,2)+"."+As(i,3)+"Z":r?"T"+As(t,2)+":"+As(n,2)+":"+As(r,2)+"Z":n||t?"T"+As(t,2)+":"+As(n,2)+"Z":"")}function eVe(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(f,d){var h,p,g=i(f,function(y,m){if(h)return h(y,m-1);p=y,h=d?XUe(y,d):ane(y)});return g.columns=p||[],g}function i(f,d){var h=[],p=f.length,g=0,y=0,m,_=p<=0,v=!1;f.charCodeAt(p-1)===Jg&&--p,f.charCodeAt(p-1)===wO&&--p;function T(){if(_)return vO;if(v)return v=!1,eV;var w,x=g,A;if(f.charCodeAt(x)===bO){for(;g++<p&&f.charCodeAt(g)!==bO||f.charCodeAt(++g)===bO;);return(w=g)>=p?_=!0:(A=f.charCodeAt(g++))===Jg?v=!0:A===wO&&(v=!0,f.charCodeAt(g)===Jg&&++g),f.slice(x+1,w-1).replace(/""/g,'"')}for(;g<p;){if((A=f.charCodeAt(w=g++))===Jg)v=!0;else if(A===wO)v=!0,f.charCodeAt(g)===Jg&&++g;else if(A!==n)continue;return f.slice(x,w)}return _=!0,f.slice(x,p)}for(;(m=T())!==vO;){for(var S=[];m!==eV&&m!==vO;)S.push(m),m=T();d&&(S=d(S,y++))==null||h.push(S)}return h}function s(f,d){return f.map(function(h){return d.map(function(p){return c(h[p])}).join(e)})}function o(f,d){return d==null&&(d=tV(f)),[d.map(c).join(e)].concat(s(f,d)).join(`
`)}function a(f,d){return d==null&&(d=tV(f)),s(f,d).join(`
`)}function u(f){return f.map(l).join(`
`)}function l(f){return f.map(c).join(e)}function c(f){return f==null?"":f instanceof Date?ZUe(f):t.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:r,parseRows:i,format:o,formatBody:a,formatRows:u,formatRow:l,formatValue:c}}var tVe=eVe(","),nVe=tVe.parse;function rVe(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function iVe(e,t){return fetch(e,t).then(rVe)}function sVe(e){return function(t,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=void 0),iVe(t,n).then(function(i){return e(i,r)})}}var une=sVe(nVe);function oVe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function jT(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function _m(e){return e=jT(Math.abs(e)),e?e[1]:NaN}function aVe(e,t){return function(n,r){for(var i=n.length,s=[],o=0,a=e[0],u=0;i>0&&a>0&&(u+a+1>r&&(a=Math.max(1,r-u)),s.push(n.substring(i-=a,i+a)),!((u+=a+1)>r));)a=e[o=(o+1)%e.length];return s.reverse().join(t)}}function uVe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var lVe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function UT(e){if(!(t=lVe.exec(e)))throw new Error("invalid format: "+e);var t;return new y3({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}UT.prototype=y3.prototype;function y3(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}y3.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function cVe(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var lne;function fVe(e,t){var n=jT(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-(lne=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+jT(e,Math.max(0,t+s-1))[0]}function nV(e,t){var n=jT(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const rV={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:oVe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>nV(e*100,t),r:nV,s:fVe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function iV(e){return e}var sV=Array.prototype.map,oV=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function dVe(e){var t=e.grouping===void 0||e.thousands===void 0?iV:aVe(sV.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?iV:uVe(sV.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function l(f){f=UT(f);var d=f.fill,h=f.align,p=f.sign,g=f.symbol,y=f.zero,m=f.width,_=f.comma,v=f.precision,T=f.trim,S=f.type;S==="n"?(_=!0,S="g"):rV[S]||(v===void 0&&(v=12),T=!0,S="g"),(y||d==="0"&&h==="=")&&(y=!0,d="0",h="=");var w=g==="$"?n:g==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",x=g==="$"?r:/[%p]/.test(S)?o:"",A=rV[S],$=/[defgprs%]/.test(S);v=v===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function D(P){var q=w,V=x,U,se,oe;if(S==="c")V=A(P)+V,P="";else{P=+P;var ce=P<0||1/P<0;if(P=isNaN(P)?u:A(Math.abs(P),v),T&&(P=cVe(P)),ce&&+P==0&&p!=="+"&&(ce=!1),q=(ce?p==="("?p:a:p==="-"||p==="("?"":p)+q,V=(S==="s"?oV[8+lne/3]:"")+V+(ce&&p==="("?")":""),$){for(U=-1,se=P.length;++U<se;)if(oe=P.charCodeAt(U),48>oe||oe>57){V=(oe===46?i+P.slice(U+1):P.slice(U))+V,P=P.slice(0,U);break}}}_&&!y&&(P=t(P,1/0));var ee=q.length+P.length+V.length,ie=ee<m?new Array(m-ee+1).join(d):"";switch(_&&y&&(P=t(ie+P,ie.length?m-V.length:1/0),ie=""),h){case"<":P=q+P+V+ie;break;case"=":P=q+ie+P+V;break;case"^":P=ie.slice(0,ee=ie.length>>1)+q+P+V+ie.slice(ee);break;default:P=ie+q+P+V;break}return s(P)}return D.toString=function(){return f+""},D}function c(f,d){var h=l((f=UT(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(_m(d)/3)))*3,g=Math.pow(10,-p),y=oV[8+p/3];return function(m){return h(g*m)+y}}return{format:l,formatPrefix:c}}var L1,sg,cne;hVe({thousands:",",grouping:[3],currency:["$",""]});function hVe(e){return L1=dVe(e),sg=L1.format,cne=L1.formatPrefix,L1}function pVe(e){return Math.max(0,-_m(Math.abs(e)))}function mVe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(_m(t)/3)))*3-_m(Math.abs(e)))}function gVe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,_m(t)-_m(e))+1}function yVe(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function _Ve(){return this.eachAfter(yVe)}function vVe(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function bVe(e,t){for(var n=this,r=[n],i,s,o=-1;n=r.pop();)if(e.call(t,n,++o,this),i=n.children)for(s=i.length-1;s>=0;--s)r.push(i[s]);return this}function wVe(e,t){for(var n=this,r=[n],i=[],s,o,a,u=-1;n=r.pop();)if(i.push(n),s=n.children)for(o=0,a=s.length;o<a;++o)r.push(s[o]);for(;n=i.pop();)e.call(t,n,++u,this);return this}function EVe(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function TVe(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})}function SVe(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function xVe(e){for(var t=this,n=IVe(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r}function IVe(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function AVe(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function CVe(){return Array.from(this)}function OVe(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function PVe(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*RVe(){var e=this,t,n=[e],r,i,s;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(i=0,s=r.length;i<s;++i)n.push(r[i]);while(n.length)}function _3(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=DVe)):t===void 0&&(t=kVe);for(var n=new VT(e),r,i=[n],s,o,a,u;r=i.pop();)if((o=t(r.data))&&(u=(o=Array.from(o)).length))for(r.children=o,a=u-1;a>=0;--a)i.push(s=o[a]=new VT(o[a])),s.parent=r,s.depth=r.depth+1;return n.eachBefore(LVe)}function NVe(){return _3(this).eachBefore($Ve)}function kVe(e){return e.children}function DVe(e){return Array.isArray(e)?e[1]:null}function $Ve(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function LVe(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function VT(e){this.data=e,this.depth=this.height=0,this.parent=null}VT.prototype=_3.prototype={constructor:VT,count:_Ve,each:vVe,eachAfter:wVe,eachBefore:bVe,find:EVe,sum:TVe,sort:SVe,path:xVe,ancestors:AVe,descendants:CVe,leaves:OVe,links:PVe,copy:NVe,[Symbol.iterator]:RVe};function MVe(e){return e==null?null:FVe(e)}function FVe(e){if(typeof e!="function")throw new Error;return e}function aV(){return 0}function BVe(e){return function(){return e}}const jVe=1664525,UVe=1013904223,uV=4294967296;function VVe(){let e=1;return()=>(e=(jVe*e+UVe)%uV)/uV}function zVe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function HVe(e,t){let n=e.length,r,i;for(;n;)i=t()*n--|0,r=e[n],e[n]=e[i],e[i]=r;return e}function WVe(e,t){for(var n=0,r=(e=HVe(Array.from(e),t)).length,i=[],s,o;n<r;)s=e[n],o&&fne(o,s)?++n:(o=YVe(i=qVe(i,s)),n=0);return o}function qVe(e,t){var n,r;if(EO(t,e))return[t];for(n=0;n<e.length;++n)if(M1(t,e[n])&&EO(S0(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(M1(S0(e[n],e[r]),t)&&M1(S0(e[n],t),e[r])&&M1(S0(e[r],t),e[n])&&EO(dne(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function M1(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function fne(e,t){var n=e.r-t.r+Math.max(e.r,t.r,1)*1e-9,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function EO(e,t){for(var n=0;n<t.length;++n)if(!fne(e,t[n]))return!1;return!0}function YVe(e){switch(e.length){case 1:return GVe(e[0]);case 2:return S0(e[0],e[1]);case 3:return dne(e[0],e[1],e[2])}}function GVe(e){return{x:e.x,y:e.y,r:e.r}}function S0(e,t){var n=e.x,r=e.y,i=e.r,s=t.x,o=t.y,a=t.r,u=s-n,l=o-r,c=a-i,f=Math.sqrt(u*u+l*l);return{x:(n+s+u/f*c)/2,y:(r+o+l/f*c)/2,r:(f+i+a)/2}}function dne(e,t,n){var r=e.x,i=e.y,s=e.r,o=t.x,a=t.y,u=t.r,l=n.x,c=n.y,f=n.r,d=r-o,h=r-l,p=i-a,g=i-c,y=u-s,m=f-s,_=r*r+i*i-s*s,v=_-o*o-a*a+u*u,T=_-l*l-c*c+f*f,S=h*p-d*g,w=(p*T-g*v)/(S*2)-r,x=(g*y-p*m)/S,A=(h*v-d*T)/(S*2)-i,$=(d*m-h*y)/S,D=x*x+$*$-1,P=2*(s+w*x+A*$),q=w*w+A*A-s*s,V=-(Math.abs(D)>1e-6?(P+Math.sqrt(P*P-4*D*q))/(2*D):q/P);return{x:r+w+x*V,y:i+A+$*V,r:V}}function lV(e,t,n){var r=e.x-t.x,i,s,o=e.y-t.y,a,u,l=r*r+o*o;l?(s=t.r+n.r,s*=s,u=e.r+n.r,u*=u,s>u?(i=(l+u-s)/(2*l),a=Math.sqrt(Math.max(0,u/l-i*i)),n.x=e.x-i*r-a*o,n.y=e.y-i*o+a*r):(i=(l+s-u)/(2*l),a=Math.sqrt(Math.max(0,s/l-i*i)),n.x=t.x+i*r-a*o,n.y=t.y+i*o+a*r)):(n.x=t.x+n.r,n.y=t.y)}function cV(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function fV(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,s=(t.y*n.r+n.y*t.r)/r;return i*i+s*s}function F1(e){this._=e,this.next=null,this.previous=null}function KVe(e,t){if(!(s=(e=zVe(e)).length))return 0;var n,r,i,s,o,a,u,l,c,f,d;if(n=e[0],n.x=0,n.y=0,!(s>1))return n.r;if(r=e[1],n.x=-r.r,r.x=n.r,r.y=0,!(s>2))return n.r+r.r;lV(r,n,i=e[2]),n=new F1(n),r=new F1(r),i=new F1(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;e:for(u=3;u<s;++u){lV(n._,r._,i=e[u]),i=new F1(i),l=r.next,c=n.previous,f=r._.r,d=n._.r;do if(f<=d){if(cV(l._,i._)){r=l,n.next=r,r.previous=n,--u;continue e}f+=l._.r,l=l.next}else{if(cV(c._,i._)){n=c,n.next=r,r.previous=n,--u;continue e}d+=c._.r,c=c.previous}while(l!==c.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,o=fV(n);(i=i.next)!==r;)(a=fV(i))<o&&(n=i,o=a);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=WVe(n,t),u=0;u<s;++u)n=e[u],n.x-=i.x,n.y-=i.y;return i.r}function QVe(e){return Math.sqrt(e.value)}function XVe(){var e=null,t=1,n=1,r=aV;function i(s){const o=VVe();return s.x=t/2,s.y=n/2,e?s.eachBefore(dV(e)).eachAfter(TO(r,.5,o)).eachBefore(hV(1)):s.eachBefore(dV(QVe)).eachAfter(TO(aV,1,o)).eachAfter(TO(r,s.r/Math.min(t,n),o)).eachBefore(hV(Math.min(t,n)/(2*s.r))),s}return i.radius=function(s){return arguments.length?(e=MVe(s),i):e},i.size=function(s){return arguments.length?(t=+s[0],n=+s[1],i):[t,n]},i.padding=function(s){return arguments.length?(r=typeof s=="function"?s:BVe(+s),i):r},i}function dV(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function TO(e,t,n){return function(r){if(i=r.children){var i,s,o=i.length,a=e(r)*t||0,u;if(a)for(s=0;s<o;++s)i[s].r+=a;if(u=KVe(i,n),a)for(s=0;s<o;++s)i[s].r-=a;r.r=u+a}}}function hV(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function wI(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const pV=Symbol("implicit");function cv(){var e=new NU,t=[],n=[],r=pV;function i(s){let o=e.get(s);if(o===void 0){if(r!==pV)return r;e.set(s,o=t.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new NU;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return cv(t,n).unknown(r)},wI.apply(i,arguments),i}function fv(){var e=cv().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,s,o,a=!1,u=0,l=0,c=.5;delete e.unknown;function f(){var d=t().length,h=i<r,p=h?i:r,g=h?r:i;s=(g-p)/Math.max(1,d-u+l*2),a&&(s=Math.floor(s)),p+=(g-p-s*(d-u))*c,o=s*(1-u),a&&(p=Math.round(p),o=Math.round(o));var y=d9e(d).map(function(m){return p+s*m});return n(h?y.reverse():y)}return e.domain=function(d){return arguments.length?(t(d),f()):t()},e.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,a=!0,f()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(d){return arguments.length?(a=!!d,f()):a},e.padding=function(d){return arguments.length?(u=Math.min(1,l=+d),f()):u},e.paddingInner=function(d){return arguments.length?(u=Math.min(1,d),f()):u},e.paddingOuter=function(d){return arguments.length?(l=+d,f()):l},e.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),f()):c},e.copy=function(){return fv(t(),[r,i]).round(a).paddingInner(u).paddingOuter(l).align(c)},wI.apply(f(),arguments)}function JVe(e){return function(){return e}}function ZVe(e){return+e}var mV=[0,1];function dp(e){return e}function FR(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:JVe(isNaN(t)?NaN:.5)}function e7e(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function t7e(e,t,n){var r=e[0],i=e[1],s=t[0],o=t[1];return i<r?(r=FR(i,r),s=n(o,s)):(r=FR(r,i),s=n(s,o)),function(a){return s(r(a))}}function n7e(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),s=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=FR(e[o],e[o+1]),s[o]=n(t[o],t[o+1]);return function(a){var u=r9e(e,a,1,r)-1;return s[u](i[u](a))}}function hne(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function r7e(){var e=mV,t=mV,n=_I,r,i,s,o=dp,a,u,l;function c(){var d=Math.min(e.length,t.length);return o!==dp&&(o=e7e(e[0],e[d-1])),a=d>2?n7e:t7e,u=l=null,f}function f(d){return d==null||isNaN(d=+d)?s:(u||(u=a(e.map(r),t,n)))(r(o(d)))}return f.invert=function(d){return o(i((l||(l=a(t,e.map(r),Ta)))(d)))},f.domain=function(d){return arguments.length?(e=Array.from(d,ZVe),c()):e.slice()},f.range=function(d){return arguments.length?(t=Array.from(d),c()):t.slice()},f.rangeRound=function(d){return t=Array.from(d),n=vje,c()},f.clamp=function(d){return arguments.length?(o=d?!0:dp,c()):o!==dp},f.interpolate=function(d){return arguments.length?(n=d,c()):n},f.unknown=function(d){return arguments.length?(s=d,f):s},function(d,h){return r=d,i=h,c()}}function pne(){return r7e()(dp,dp)}function i7e(e,t,n,r){var i=TR(e,t,n),s;switch(r=UT(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=mVe(i,o))&&(r.precision=s),cne(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=gVe(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=pVe(i))&&(r.precision=s-(r.type==="%")*2);break}}return sg(r)}function s7e(e){var t=e.domain;return e.ticks=function(n){var r=t();return c9e(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return i7e(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,s=r.length-1,o=r[i],a=r[s],u,l,c=10;for(a<o&&(l=o,o=a,a=l,l=i,i=s,s=l);c-- >0;){if(l=ER(o,a,n),l===u)return r[i]=o,r[s]=a,t(r);if(l>0)o=Math.floor(o/l)*l,a=Math.ceil(a/l)*l;else if(l<0)o=Math.ceil(o*l)/l,a=Math.floor(a*l)/l;else break;u=l}return e},e}function jl(){var e=pne();return e.copy=function(){return hne(e,jl())},wI.apply(e,arguments),s7e(e)}function o7e(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],s=e[r],o;return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),e[n]=t.floor(i),e[r]=t.ceil(s),e}const SO=new Date,xO=new Date;function si(e,t,n,r){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const o=i(s),a=i.ceil(s);return s-o<a-s?o:a},i.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,a)=>{const u=[];if(s=i.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return u;let l;do u.push(l=new Date(+s)),t(s,a),e(s);while(l<s&&s<o);return u},i.filter=s=>si(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;t(o,-1),!s(o););else for(;--a>=0;)for(;t(o,1),!s(o););}),n&&(i.count=(s,o)=>(SO.setTime(+s),xO.setTime(+o),e(SO),e(xO),Math.floor(n(SO,xO))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?o=>r(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const zT=si(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);zT.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?si(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):zT);zT.range;const yl=1e3,Ko=yl*60,_l=Ko*60,Ul=_l*24,v3=Ul*7,gV=Ul*30,IO=Ul*365,hp=si(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*yl)},(e,t)=>(t-e)/yl,e=>e.getUTCSeconds());hp.range;const b3=si(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*yl)},(e,t)=>{e.setTime(+e+t*Ko)},(e,t)=>(t-e)/Ko,e=>e.getMinutes());b3.range;const a7e=si(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ko)},(e,t)=>(t-e)/Ko,e=>e.getUTCMinutes());a7e.range;const w3=si(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*yl-e.getMinutes()*Ko)},(e,t)=>{e.setTime(+e+t*_l)},(e,t)=>(t-e)/_l,e=>e.getHours());w3.range;const u7e=si(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*_l)},(e,t)=>(t-e)/_l,e=>e.getUTCHours());u7e.range;const dv=si(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ko)/Ul,e=>e.getDate()-1);dv.range;const E3=si(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ul,e=>e.getUTCDate()-1);E3.range;const l7e=si(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ul,e=>Math.floor(e/Ul));l7e.range;function yh(e){return si(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ko)/v3)}const EI=yh(0),HT=yh(1),c7e=yh(2),f7e=yh(3),vm=yh(4),d7e=yh(5),h7e=yh(6);EI.range;HT.range;c7e.range;f7e.range;vm.range;d7e.range;h7e.range;function _h(e){return si(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/v3)}const mne=_h(0),WT=_h(1),p7e=_h(2),m7e=_h(3),bm=_h(4),g7e=_h(5),y7e=_h(6);mne.range;WT.range;p7e.range;m7e.range;bm.range;g7e.range;y7e.range;const T3=si(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());T3.range;const _7e=si(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());_7e.range;const Vl=si(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Vl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:si(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Vl.range;const Qd=si(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Qd.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:si(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Qd.range;function v7e(e,t,n,r,i,s){const o=[[hp,1,yl],[hp,5,5*yl],[hp,15,15*yl],[hp,30,30*yl],[s,1,Ko],[s,5,5*Ko],[s,15,15*Ko],[s,30,30*Ko],[i,1,_l],[i,3,3*_l],[i,6,6*_l],[i,12,12*_l],[r,1,Ul],[r,2,2*Ul],[n,1,v3],[t,1,gV],[t,3,3*gV],[e,1,IO]];function a(l,c,f){const d=c<l;d&&([l,c]=[c,l]);const h=f&&typeof f.range=="function"?f:u(l,c,f),p=h?h.range(l,+c+1):[];return d?p.reverse():p}function u(l,c,f){const d=Math.abs(c-l)/f,h=o3(([,,y])=>y).right(o,d);if(h===o.length)return e.every(TR(l/IO,c/IO,f));if(h===0)return zT.every(Math.max(TR(l,c,f),1));const[p,g]=o[d/o[h-1][2]<o[h][2]/d?h-1:h];return p.every(g)}return[a,u]}const[b7e,w7e]=v7e(Vl,T3,EI,dv,w3,b3);function AO(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function CO(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Zg(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function E7e(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,s=e.days,o=e.shortDays,a=e.months,u=e.shortMonths,l=e0(i),c=t0(i),f=e0(s),d=t0(s),h=e0(o),p=t0(o),g=e0(a),y=t0(a),m=e0(u),_=t0(u),v={a:ce,A:ee,b:ie,B:K,c:null,d:EV,e:EV,f:W7e,g:tze,G:rze,H:V7e,I:z7e,j:H7e,L:gne,m:q7e,M:Y7e,p:I,q:C,Q:xV,s:IV,S:G7e,u:K7e,U:Q7e,V:X7e,w:J7e,W:Z7e,x:null,X:null,y:eze,Y:nze,Z:ize,"%":SV},T={a:H,A:N,b:R,B:Y,c:null,d:TV,e:TV,f:uze,g:_ze,G:bze,H:sze,I:oze,j:aze,L:_ne,m:lze,M:cze,p:ae,q:le,Q:xV,s:IV,S:fze,u:dze,U:hze,V:pze,w:mze,W:gze,x:null,X:null,y:yze,Y:vze,Z:wze,"%":SV},S={a:D,A:P,b:q,B:V,c:U,d:bV,e:bV,f:F7e,g:vV,G:_V,H:wV,I:wV,j:D7e,L:M7e,m:k7e,M:$7e,p:$,q:N7e,Q:j7e,s:U7e,S:L7e,u:A7e,U:C7e,V:O7e,w:I7e,W:P7e,x:se,X:oe,y:vV,Y:_V,Z:R7e,"%":B7e};v.x=w(n,v),v.X=w(r,v),v.c=w(t,v),T.x=w(n,T),T.X=w(r,T),T.c=w(t,T);function w(pe,he){return function(Se){var me=[],Xe=-1,Ye=0,He=pe.length,Le,Ae,Ve;for(Se instanceof Date||(Se=new Date(+Se));++Xe<He;)pe.charCodeAt(Xe)===37&&(me.push(pe.slice(Ye,Xe)),(Ae=yV[Le=pe.charAt(++Xe)])!=null?Le=pe.charAt(++Xe):Ae=Le==="e"?" ":"0",(Ve=he[Le])&&(Le=Ve(Se,Ae)),me.push(Le),Ye=Xe+1);return me.push(pe.slice(Ye,Xe)),me.join("")}}function x(pe,he){return function(Se){var me=Zg(1900,void 0,1),Xe=A(me,pe,Se+="",0),Ye,He;if(Xe!=Se.length)return null;if("Q"in me)return new Date(me.Q);if("s"in me)return new Date(me.s*1e3+("L"in me?me.L:0));if(he&&!("Z"in me)&&(me.Z=0),"p"in me&&(me.H=me.H%12+me.p*12),me.m===void 0&&(me.m="q"in me?me.q:0),"V"in me){if(me.V<1||me.V>53)return null;"w"in me||(me.w=1),"Z"in me?(Ye=CO(Zg(me.y,0,1)),He=Ye.getUTCDay(),Ye=He>4||He===0?WT.ceil(Ye):WT(Ye),Ye=E3.offset(Ye,(me.V-1)*7),me.y=Ye.getUTCFullYear(),me.m=Ye.getUTCMonth(),me.d=Ye.getUTCDate()+(me.w+6)%7):(Ye=AO(Zg(me.y,0,1)),He=Ye.getDay(),Ye=He>4||He===0?HT.ceil(Ye):HT(Ye),Ye=dv.offset(Ye,(me.V-1)*7),me.y=Ye.getFullYear(),me.m=Ye.getMonth(),me.d=Ye.getDate()+(me.w+6)%7)}else("W"in me||"U"in me)&&("w"in me||(me.w="u"in me?me.u%7:"W"in me?1:0),He="Z"in me?CO(Zg(me.y,0,1)).getUTCDay():AO(Zg(me.y,0,1)).getDay(),me.m=0,me.d="W"in me?(me.w+6)%7+me.W*7-(He+5)%7:me.w+me.U*7-(He+6)%7);return"Z"in me?(me.H+=me.Z/100|0,me.M+=me.Z%100,CO(me)):AO(me)}}function A(pe,he,Se,me){for(var Xe=0,Ye=he.length,He=Se.length,Le,Ae;Xe<Ye;){if(me>=He)return-1;if(Le=he.charCodeAt(Xe++),Le===37){if(Le=he.charAt(Xe++),Ae=S[Le in yV?he.charAt(Xe++):Le],!Ae||(me=Ae(pe,Se,me))<0)return-1}else if(Le!=Se.charCodeAt(me++))return-1}return me}function $(pe,he,Se){var me=l.exec(he.slice(Se));return me?(pe.p=c.get(me[0].toLowerCase()),Se+me[0].length):-1}function D(pe,he,Se){var me=h.exec(he.slice(Se));return me?(pe.w=p.get(me[0].toLowerCase()),Se+me[0].length):-1}function P(pe,he,Se){var me=f.exec(he.slice(Se));return me?(pe.w=d.get(me[0].toLowerCase()),Se+me[0].length):-1}function q(pe,he,Se){var me=m.exec(he.slice(Se));return me?(pe.m=_.get(me[0].toLowerCase()),Se+me[0].length):-1}function V(pe,he,Se){var me=g.exec(he.slice(Se));return me?(pe.m=y.get(me[0].toLowerCase()),Se+me[0].length):-1}function U(pe,he,Se){return A(pe,t,he,Se)}function se(pe,he,Se){return A(pe,n,he,Se)}function oe(pe,he,Se){return A(pe,r,he,Se)}function ce(pe){return o[pe.getDay()]}function ee(pe){return s[pe.getDay()]}function ie(pe){return u[pe.getMonth()]}function K(pe){return a[pe.getMonth()]}function I(pe){return i[+(pe.getHours()>=12)]}function C(pe){return 1+~~(pe.getMonth()/3)}function H(pe){return o[pe.getUTCDay()]}function N(pe){return s[pe.getUTCDay()]}function R(pe){return u[pe.getUTCMonth()]}function Y(pe){return a[pe.getUTCMonth()]}function ae(pe){return i[+(pe.getUTCHours()>=12)]}function le(pe){return 1+~~(pe.getUTCMonth()/3)}return{format:function(pe){var he=w(pe+="",v);return he.toString=function(){return pe},he},parse:function(pe){var he=x(pe+="",!1);return he.toString=function(){return pe},he},utcFormat:function(pe){var he=w(pe+="",T);return he.toString=function(){return pe},he},utcParse:function(pe){var he=x(pe+="",!0);return he.toString=function(){return pe},he}}}var yV={"-":"",_:" ",0:"0"},yi=/^\s*\d+/,T7e=/^%/,S7e=/[\\^$*+?|[\]().{}]/g;function bn(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(t)+i:i)}function x7e(e){return e.replace(S7e,"\\$&")}function e0(e){return new RegExp("^(?:"+e.map(x7e).join("|")+")","i")}function t0(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function I7e(e,t,n){var r=yi.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function A7e(e,t,n){var r=yi.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function C7e(e,t,n){var r=yi.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function O7e(e,t,n){var r=yi.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function P7e(e,t,n){var r=yi.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function _V(e,t,n){var r=yi.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function vV(e,t,n){var r=yi.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function R7e(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function N7e(e,t,n){var r=yi.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function k7e(e,t,n){var r=yi.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function bV(e,t,n){var r=yi.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function D7e(e,t,n){var r=yi.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function wV(e,t,n){var r=yi.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function $7e(e,t,n){var r=yi.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function L7e(e,t,n){var r=yi.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function M7e(e,t,n){var r=yi.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function F7e(e,t,n){var r=yi.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function B7e(e,t,n){var r=T7e.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function j7e(e,t,n){var r=yi.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function U7e(e,t,n){var r=yi.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function EV(e,t){return bn(e.getDate(),t,2)}function V7e(e,t){return bn(e.getHours(),t,2)}function z7e(e,t){return bn(e.getHours()%12||12,t,2)}function H7e(e,t){return bn(1+dv.count(Vl(e),e),t,3)}function gne(e,t){return bn(e.getMilliseconds(),t,3)}function W7e(e,t){return gne(e,t)+"000"}function q7e(e,t){return bn(e.getMonth()+1,t,2)}function Y7e(e,t){return bn(e.getMinutes(),t,2)}function G7e(e,t){return bn(e.getSeconds(),t,2)}function K7e(e){var t=e.getDay();return t===0?7:t}function Q7e(e,t){return bn(EI.count(Vl(e)-1,e),t,2)}function yne(e){var t=e.getDay();return t>=4||t===0?vm(e):vm.ceil(e)}function X7e(e,t){return e=yne(e),bn(vm.count(Vl(e),e)+(Vl(e).getDay()===4),t,2)}function J7e(e){return e.getDay()}function Z7e(e,t){return bn(HT.count(Vl(e)-1,e),t,2)}function eze(e,t){return bn(e.getFullYear()%100,t,2)}function tze(e,t){return e=yne(e),bn(e.getFullYear()%100,t,2)}function nze(e,t){return bn(e.getFullYear()%1e4,t,4)}function rze(e,t){var n=e.getDay();return e=n>=4||n===0?vm(e):vm.ceil(e),bn(e.getFullYear()%1e4,t,4)}function ize(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+bn(t/60|0,"0",2)+bn(t%60,"0",2)}function TV(e,t){return bn(e.getUTCDate(),t,2)}function sze(e,t){return bn(e.getUTCHours(),t,2)}function oze(e,t){return bn(e.getUTCHours()%12||12,t,2)}function aze(e,t){return bn(1+E3.count(Qd(e),e),t,3)}function _ne(e,t){return bn(e.getUTCMilliseconds(),t,3)}function uze(e,t){return _ne(e,t)+"000"}function lze(e,t){return bn(e.getUTCMonth()+1,t,2)}function cze(e,t){return bn(e.getUTCMinutes(),t,2)}function fze(e,t){return bn(e.getUTCSeconds(),t,2)}function dze(e){var t=e.getUTCDay();return t===0?7:t}function hze(e,t){return bn(mne.count(Qd(e)-1,e),t,2)}function vne(e){var t=e.getUTCDay();return t>=4||t===0?bm(e):bm.ceil(e)}function pze(e,t){return e=vne(e),bn(bm.count(Qd(e),e)+(Qd(e).getUTCDay()===4),t,2)}function mze(e){return e.getUTCDay()}function gze(e,t){return bn(WT.count(Qd(e)-1,e),t,2)}function yze(e,t){return bn(e.getUTCFullYear()%100,t,2)}function _ze(e,t){return e=vne(e),bn(e.getUTCFullYear()%100,t,2)}function vze(e,t){return bn(e.getUTCFullYear()%1e4,t,4)}function bze(e,t){var n=e.getUTCDay();return e=n>=4||n===0?bm(e):bm.ceil(e),bn(e.getUTCFullYear()%1e4,t,4)}function wze(){return"+0000"}function SV(){return"%"}function xV(e){return+e}function IV(e){return Math.floor(+e/1e3)}var Fh,bne,BR,TI;Eze({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Eze(e){return Fh=E7e(e),bne=Fh.format,BR=Fh.parse,TI=Fh.utcFormat,Fh.utcParse,Fh}function Tze(e){return new Date(e)}function Sze(e){return e instanceof Date?+e:+new Date(+e)}function wne(e,t,n,r,i,s,o,a,u,l){var c=pne(),f=c.invert,d=c.domain,h=l(".%L"),p=l(":%S"),g=l("%I:%M"),y=l("%I %p"),m=l("%a %d"),_=l("%b %d"),v=l("%B"),T=l("%Y");function S(w){return(u(w)<w?h:a(w)<w?p:o(w)<w?g:s(w)<w?y:r(w)<w?i(w)<w?m:_:n(w)<w?v:T)(w)}return c.invert=function(w){return new Date(f(w))},c.domain=function(w){return arguments.length?d(Array.from(w,Sze)):d().map(Tze)},c.ticks=function(w){var x=d();return e(x[0],x[x.length-1],w??10)},c.tickFormat=function(w,x){return x==null?S:l(x)},c.nice=function(w){var x=d();return(!w||typeof w.range!="function")&&(w=t(x[0],x[x.length-1],w??10)),w?d(o7e(x,w)):c},c.copy=function(){return hne(c,wne(e,t,n,r,i,s,o,a,u,l))},c}function qT(){return wI.apply(wne(b7e,w7e,Vl,T3,EI,dv,w3,b3,hp,bne).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function xze(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const Ene=xze("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function Xn(e){return function(){return e}}const AV=Math.abs,Hi=Math.atan2,Kf=Math.cos,Ize=Math.max,OO=Math.min,Wa=Math.sin,pp=Math.sqrt,Is=1e-12,Jy=Math.PI,YT=Jy/2,Vb=2*Jy;function Aze(e){return e>1?0:e<-1?Jy:Math.acos(e)}function CV(e){return e>=1?YT:e<=-1?-YT:Math.asin(e)}function Tne(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new QUe(t)}function Cze(e){return e.innerRadius}function Oze(e){return e.outerRadius}function Pze(e){return e.startAngle}function Rze(e){return e.endAngle}function Nze(e){return e&&e.padAngle}function kze(e,t,n,r,i,s,o,a){var u=n-e,l=r-t,c=o-i,f=a-s,d=f*u-c*l;if(!(d*d<Is))return d=(c*(t-s)-f*(e-i))/d,[e+d*u,t+d*l]}function B1(e,t,n,r,i,s,o){var a=e-n,u=t-r,l=(o?s:-s)/pp(a*a+u*u),c=l*u,f=-l*a,d=e+c,h=t+f,p=n+c,g=r+f,y=(d+p)/2,m=(h+g)/2,_=p-d,v=g-h,T=_*_+v*v,S=i-s,w=d*g-p*h,x=(v<0?-1:1)*pp(Ize(0,S*S*T-w*w)),A=(w*v-_*x)/T,$=(-w*_-v*x)/T,D=(w*v+_*x)/T,P=(-w*_+v*x)/T,q=A-y,V=$-m,U=D-y,se=P-m;return q*q+V*V>U*U+se*se&&(A=D,$=P),{cx:A,cy:$,x01:-c,y01:-f,x11:A*(i/S-1),y11:$*(i/S-1)}}function OV(){var e=Cze,t=Oze,n=Xn(0),r=null,i=Pze,s=Rze,o=Nze,a=null,u=Tne(l);function l(){var c,f,d=+e.apply(this,arguments),h=+t.apply(this,arguments),p=i.apply(this,arguments)-YT,g=s.apply(this,arguments)-YT,y=AV(g-p),m=g>p;if(a||(a=c=u()),h<d&&(f=h,h=d,d=f),!(h>Is))a.moveTo(0,0);else if(y>Vb-Is)a.moveTo(h*Kf(p),h*Wa(p)),a.arc(0,0,h,p,g,!m),d>Is&&(a.moveTo(d*Kf(g),d*Wa(g)),a.arc(0,0,d,g,p,m));else{var _=p,v=g,T=p,S=g,w=y,x=y,A=o.apply(this,arguments)/2,$=A>Is&&(r?+r.apply(this,arguments):pp(d*d+h*h)),D=OO(AV(h-d)/2,+n.apply(this,arguments)),P=D,q=D,V,U;if($>Is){var se=CV($/d*Wa(A)),oe=CV($/h*Wa(A));(w-=se*2)>Is?(se*=m?1:-1,T+=se,S-=se):(w=0,T=S=(p+g)/2),(x-=oe*2)>Is?(oe*=m?1:-1,_+=oe,v-=oe):(x=0,_=v=(p+g)/2)}var ce=h*Kf(_),ee=h*Wa(_),ie=d*Kf(S),K=d*Wa(S);if(D>Is){var I=h*Kf(v),C=h*Wa(v),H=d*Kf(T),N=d*Wa(T),R;if(y<Jy)if(R=kze(ce,ee,H,N,I,C,ie,K)){var Y=ce-R[0],ae=ee-R[1],le=I-R[0],pe=C-R[1],he=1/Wa(Aze((Y*le+ae*pe)/(pp(Y*Y+ae*ae)*pp(le*le+pe*pe)))/2),Se=pp(R[0]*R[0]+R[1]*R[1]);P=OO(D,(d-Se)/(he-1)),q=OO(D,(h-Se)/(he+1))}else P=q=0}x>Is?q>Is?(V=B1(H,N,ce,ee,h,q,m),U=B1(I,C,ie,K,h,q,m),a.moveTo(V.cx+V.x01,V.cy+V.y01),q<D?a.arc(V.cx,V.cy,q,Hi(V.y01,V.x01),Hi(U.y01,U.x01),!m):(a.arc(V.cx,V.cy,q,Hi(V.y01,V.x01),Hi(V.y11,V.x11),!m),a.arc(0,0,h,Hi(V.cy+V.y11,V.cx+V.x11),Hi(U.cy+U.y11,U.cx+U.x11),!m),a.arc(U.cx,U.cy,q,Hi(U.y11,U.x11),Hi(U.y01,U.x01),!m))):(a.moveTo(ce,ee),a.arc(0,0,h,_,v,!m)):a.moveTo(ce,ee),!(d>Is)||!(w>Is)?a.lineTo(ie,K):P>Is?(V=B1(ie,K,I,C,d,-P,m),U=B1(ce,ee,H,N,d,-P,m),a.lineTo(V.cx+V.x01,V.cy+V.y01),P<D?a.arc(V.cx,V.cy,P,Hi(V.y01,V.x01),Hi(U.y01,U.x01),!m):(a.arc(V.cx,V.cy,P,Hi(V.y01,V.x01),Hi(V.y11,V.x11),!m),a.arc(0,0,d,Hi(V.cy+V.y11,V.cx+V.x11),Hi(U.cy+U.y11,U.cx+U.x11),m),a.arc(U.cx,U.cy,P,Hi(U.y11,U.x11),Hi(U.y01,U.x01),!m))):a.arc(0,0,d,S,T,m)}if(a.closePath(),c)return a=null,c+""||null}return l.centroid=function(){var c=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,f=(+i.apply(this,arguments)+ +s.apply(this,arguments))/2-Jy/2;return[Kf(f)*c,Wa(f)*c]},l.innerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:Xn(+c),l):e},l.outerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:Xn(+c),l):t},l.cornerRadius=function(c){return arguments.length?(n=typeof c=="function"?c:Xn(+c),l):n},l.padRadius=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:Xn(+c),l):r},l.startAngle=function(c){return arguments.length?(i=typeof c=="function"?c:Xn(+c),l):i},l.endAngle=function(c){return arguments.length?(s=typeof c=="function"?c:Xn(+c),l):s},l.padAngle=function(c){return arguments.length?(o=typeof c=="function"?c:Xn(+c),l):o},l.context=function(c){return arguments.length?(a=c??null,l):a},l}function S3(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Sne(e){this._context=e}Sne.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Dze(e){return new Sne(e)}function $ze(e){return e[0]}function Lze(e){return e[1]}function PV(e,t){var n=Xn(!0),r=null,i=Dze,s=null,o=Tne(a);e=typeof e=="function"?e:e===void 0?$ze:Xn(e),t=typeof t=="function"?t:t===void 0?Lze:Xn(t);function a(u){var l,c=(u=S3(u)).length,f,d=!1,h;for(r==null&&(s=i(h=o())),l=0;l<=c;++l)!(l<c&&n(f=u[l],l,u))===d&&((d=!d)?s.lineStart():s.lineEnd()),d&&s.point(+e(f,l,u),+t(f,l,u));if(h)return s=null,h+""||null}return a.x=function(u){return arguments.length?(e=typeof u=="function"?u:Xn(+u),a):e},a.y=function(u){return arguments.length?(t=typeof u=="function"?u:Xn(+u),a):t},a.defined=function(u){return arguments.length?(n=typeof u=="function"?u:Xn(!!u),a):n},a.curve=function(u){return arguments.length?(i=u,r!=null&&(s=i(r)),a):i},a.context=function(u){return arguments.length?(u==null?r=s=null:s=i(r=u),a):r},a}function Mze(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function Fze(e){return e}function Bze(){var e=Fze,t=Mze,n=null,r=Xn(0),i=Xn(Vb),s=Xn(0);function o(a){var u,l=(a=S3(a)).length,c,f,d=0,h=new Array(l),p=new Array(l),g=+r.apply(this,arguments),y=Math.min(Vb,Math.max(-Vb,i.apply(this,arguments)-g)),m,_=Math.min(Math.abs(y)/l,s.apply(this,arguments)),v=_*(y<0?-1:1),T;for(u=0;u<l;++u)(T=p[h[u]=u]=+e(a[u],u,a))>0&&(d+=T);for(t!=null?h.sort(function(S,w){return t(p[S],p[w])}):n!=null&&h.sort(function(S,w){return n(a[S],a[w])}),u=0,f=d?(y-l*v)/d:0;u<l;++u,g=m)c=h[u],T=p[c],m=g+(T>0?T*f:0)+v,p[c]={data:a[c],index:u,value:T,startAngle:g,endAngle:m,padAngle:_};return p}return o.value=function(a){return arguments.length?(e=typeof a=="function"?a:Xn(+a),o):e},o.sortValues=function(a){return arguments.length?(t=a,n=null,o):t},o.sort=function(a){return arguments.length?(n=a,t=null,o):n},o.startAngle=function(a){return arguments.length?(r=typeof a=="function"?a:Xn(+a),o):r},o.endAngle=function(a){return arguments.length?(i=typeof a=="function"?a:Xn(+a),o):i},o.padAngle=function(a){return arguments.length?(s=typeof a=="function"?a:Xn(+a),o):s},o}function RV(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function xne(e){this._context=e}xne.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:RV(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:RV(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function NV(e){return new xne(e)}function kV(e,t){if((o=e.length)>1)for(var n=1,r,i,s=e[t[0]],o,a=s.length;n<o;++n)for(i=s,s=e[t[n]],r=0;r<a;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function DV(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function jze(e,t){return e[t]}function Uze(e){const t=[];return t.key=e,t}function Vze(){var e=Xn([]),t=DV,n=kV,r=jze;function i(s){var o=Array.from(e.apply(this,arguments),Uze),a,u=o.length,l=-1,c;for(const f of s)for(a=0,++l;a<u;++a)(o[a][l]=[0,+r(f,o[a].key,l,s)]).data=f;for(a=0,c=S3(t(o));a<u;++a)o[c[a]].index=a;return n(o,c),o}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Xn(Array.from(s)),i):e},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Xn(+s),i):r},i.order=function(s){return arguments.length?(t=s==null?DV:typeof s=="function"?s:Xn(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(n=s??kV,i):n},i}function x0(e,t,n){this.k=e,this.x=t,this.y=n}x0.prototype={constructor:x0,scale:function(e){return e===1?this:new x0(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new x0(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};x0.prototype;function x3({xScale:e,yRange:t,vertPosition:n,label:r,ticks:i,isDate:s=!1,showLines:o=!0,compact:a=!1}){const u=E.useMemo(()=>i.length>1?Math.abs(i[1].offset-i[0].offset):e.range()[0]-e.range()[1],[i,e]),l=E.useCallback(c=>(s?TI("%B"):sg(".2s"))(c),[s]);return O.jsxs(O.Fragment,{children:[O.jsx("g",{transform:`translate(${e.range()[0]}, ${n+25})`,children:O.jsx("foreignObject",{width:Math.abs(e.range()[0]-e.range()[1]),height:20,children:O.jsx(Ml,{children:O.jsx(Ys,{spacing:3,children:O.jsx(mt,{size:a?10:14,style:{color:"#878E95"},children:r})})})})}),O.jsx("path",{transform:`translate(0, ${n})`,d:["M",e.range()[0],0,"H",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),o?O.jsx("path",{transform:`translate(0, ${t[1]})`,d:["M",e.range()[0],0,"H",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}):null,i.map(({value:c,offset:f})=>O.jsxs("g",{transform:`translate(${f}, ${n})`,children:[O.jsx("line",{y2:"6",stroke:"currentColor"}),o?O.jsx("line",{y2:`${-(t[0]-t[1])}`,stroke:"lightgray"}):null,O.jsx("foreignObject",{x:0-u/2,y:10,width:u,height:20,children:O.jsx(Ml,{children:O.jsx(LD,{withinPortal:!0,label:c,children:O.jsx(mt,{px:2,size:10,style:{textAlign:"center",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},children:+c==0?0:l(s?new Date(c):c)})})})})]},c))]})}const zze=Object.freeze(Object.defineProperty({__proto__:null,XAxisBar:x3},Symbol.toStringTag,{value:"Module"}));function Ine({yScale:e,xRange:t,horizontalPosition:n,label:r,ticks:i,showLines:s,compact:o=!1}){const a=E.useMemo(()=>{const u=i.reduce((l,{value:c})=>{const{length:f}=`${c}`;return f>l?f:l},0);return u>10?60:u*6},[i]);return O.jsxs(O.Fragment,{children:[O.jsx("g",{transform:`translate(${n-a-40}, ${e.range()[1]}) rotate(-90)`,children:O.jsx("foreignObject",{width:Math.abs(e.range()[1]-e.range()[0]),height:20,children:O.jsx(Ml,{children:O.jsx(Ys,{spacing:3,children:O.jsx(mt,{size:o?10:14,style:{color:"#878E95"},children:r})})})})}),O.jsx("path",{transform:`translate(${n}, 0)`,d:["M",0,e.range()[0],"V",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),s?O.jsx("path",{transform:`translate(${t[1]}, 0)`,d:["M",0,e.range()[0],"V",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}):null,i.map(({value:u,offset:l})=>O.jsxs("g",{transform:`translate(${n}, ${l})`,children:[O.jsx("line",{x2:"-6",stroke:"currentColor"}),s?O.jsx("line",{x2:`${t[1]-t[0]}`,stroke:"lightgray"}):null,O.jsx("g",{style:{transform:`translate(-${a+10}px, -9px)`},children:O.jsx("foreignObject",{width:a,height:20,children:O.jsx(Ys,{style:{width:"100%",height:"100%"},position:"right",children:O.jsx(mt,{sx:{textOverflow:"ellipsis",overflow:"hidden"},size:10,children:u})})})},u)]},u))]})}const Hze=Object.freeze(Object.defineProperty({__proto__:null,YAxisBar:Ine},Symbol.toStringTag,{value:"Module"})),ko={top:15,left:100,right:50,bottom:50};function jR({barsTable:e,parameters:t,data:n}){const[r,{height:i,width:s}]=Op(),o=E.useMemo(()=>s-ko.left-ko.right,[s]),a=E.useMemo(()=>i-ko.top-ko.bottom,[i]),u=E.useMemo(()=>{const d=Array.from(new Set(n.map(h=>h[t.category])));return cv(Ene).domain(d)},[n,t.category]),l=E.useMemo(()=>e?jl([ko.left,o+ko.left]).domain([0,f9e(e.objects().map(d=>d.count))]).nice():null,[e,o]),c=E.useMemo(()=>e?fv([ko.top,a+ko.top]).domain(e.array(t.category).sort()).paddingInner(.1):null,[e,a,t.category]),f=E.useMemo(()=>!l||!c||!u||!e?null:e.objects().map((d,h)=>d[t.category]===null||d.count===null?null:O.jsxs("g",{children:[O.jsx("rect",{x:ko.left,y:c(d[t.category]),fill:u(d[t.category]),height:c.bandwidth(),width:l(d.count)-ko.left},h),O.jsx("text",{x:l(d.count)+5,y:c(d[t.category])+c.bandwidth()/2,style:{textAlign:"center",dominantBaseline:"middle",fontSize:14},children:d.count})]})),[e,u,t.category,l,c]);return c&&l?O.jsxs("svg",{ref:r,style:{height:"200px",width:"550px",fontFamily:'BlinkMacSystemFont, -apple-system, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", "Helvetica", "Arial", sans-serif'},children:[O.jsx(x3,{xScale:l,yRange:c.range(),vertPosition:a+ko.top,showLines:!1,label:"Count",ticks:l.ticks(5).map(d=>({value:d.toString(),offset:l(d)}))}),c?O.jsx(Ine,{yScale:c,horizontalPosition:ko.left,xRange:l.range(),label:t.category,ticks:u.domain().map(d=>({value:d,offset:c(d)+c.bandwidth()/2}))}):null,f]}):O.jsx($f,{})}const Wze=Object.freeze(Object.defineProperty({__proto__:null,Bar:jR,default:jR},Symbol.toStringTag,{value:"Module"}));function Ane({yScale:e,xRange:t,horizontalPosition:n,label:r}){const i=E.useMemo(()=>e.ticks(5).map(o=>({value:o,yOffset:e(o)})),[e]),s=E.useMemo(()=>sg(".2s"),[]);return O.jsxs(O.Fragment,{children:[O.jsx("g",{transform:`translate(${n-60}, ${e.range()[0]}) rotate(-90)`,children:O.jsx("foreignObject",{width:Math.abs(e.range()[1]-e.range()[0]),height:20,children:O.jsx(Ml,{children:O.jsx(Ys,{spacing:3,children:O.jsx(mt,{size:14,style:{color:"#878E95"},children:r})})})})}),O.jsx("path",{transform:`translate(${n}, 0)`,d:["M",0,e.range()[0],"V",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),O.jsx("path",{transform:`translate(${t[1]}, 0)`,d:["M",0,e.range()[0],"V",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),i.map(({value:o,yOffset:a})=>O.jsxs("g",{transform:`translate(${n}, ${a})`,children:[O.jsx("line",{x2:"-6",stroke:"currentColor"}),O.jsx("line",{x2:`${t[1]-t[0]}`,stroke:`${o===0?"black":"lightgray"}`}),O.jsx("text",{style:{dominantBaseline:"middle",fontSize:"10px",textAnchor:"end",transform:"translateX(-8px)",fill:"black",font:"Roboto"},children:s(o)},o)]},o))]})}const qze=Object.freeze(Object.defineProperty({__proto__:null,YAxis:Ane},Symbol.toStringTag,{value:"Module"})),PO=15;function Cne({xScale:e,yScale:t,setBrushedSpace:n,params:r,data:i,brushState:s,isSelect:o=!0}){const[a,u]=E.useState([0,0]),[l,c]=E.useState(!1);return E.useEffect(()=>{const f=Ur("#scatterSvgBrushStudy");if(f){const d=f.node().getBoundingClientRect();f.on("mousemove",h=>{const p=[h.clientX-d.x,h.clientY-d.y];if(u(p),l){const g=i.filter(y=>Math.abs(e(y[r.x])-p[0])<PO&&Math.abs(t(y[r.y])-p[1])<PO);if(h.ctrlKey||h.metaKey||!o){const y=new Set(s.ids);g.forEach(_=>{y.has(_[r.ids])&&y.delete(_[r.ids])});const m=Array.from(y);n([[a[0],a[1]],[a[0],a[1]]],e,t,m.length===0?"clear":"drag",m)}else{const y=Array.from(new Set([...s.ids,...g.map(m=>m[r.ids])]));y.length>0&&n([[a[0],a[1]],[a[0],a[1]]],e,t,"drag",y)}}}),f.on("mousedown",h=>{c(!0),h.stopPropagation(),h.preventDefault()}),f.on("mouseup",()=>{c(!1)})}},[s.ids,i,l,o,r,e,t]),O.jsx("circle",{style:{cursor:l?"pointer":"default"},r:PO,fill:"darkgray",opacity:.5,cx:a[0],cy:a[1]})}const Yze=Object.freeze(Object.defineProperty({__proto__:null,Paintbrush:Cne},Symbol.toStringTag,{value:"Module"})),or={top:15,left:100,right:15,bottom:70};function UR({setFilteredTable:e,brushState:t,setBrushedSpace:n,brushType:r,params:i,data:s,brushedPoints:o}){const[a,{height:u,width:l}]=Op(),[c]=Op(),[f]=Op(),[d,h]=E.useState(!0),p=E.useMemo(()=>l-or.left-or.right,[l]),g=E.useMemo(()=>u-or.top-or.bottom,[u]),y=E.useMemo(()=>{const D=Array.from(new Set(s.map(P=>P[i.category])));return cv(Ene).domain(D)},[s,i.category]),{xMin:m,yMin:_,xMax:v,yMax:T}=E.useMemo(()=>{const D=s.map(oe=>+oe[i.x]).filter(oe=>oe!==null),[P,q]=RT(D),V=s.map(oe=>+oe[i.y]).filter(oe=>oe!==null),[U,se]=RT(V);return{xMin:P,xMax:q,yMin:U,yMax:se}},[s,i.x,i.y]),S=E.useMemo(()=>{const D=v-m;return p<=0?null:i.dataType==="date"?qT([or.left,p+or.left]).domain([new Date("2014-12-20"),new Date("2016-01-10")]):jl([or.left,p+or.left]).domain([m-D/10,v+D/10]).nice()},[i.dataType,p,v,m]),w=E.useMemo(()=>{const D=T-_;return g<=0?null:jl([g+or.top,or.top]).domain([_-D/10,T+D/10]).nice()},[g,T,_]),x=E.useMemo(()=>{if(!(!S||!w))if(r==="Axis Selection"){const D=WUe().extent([[or.left,or.top+g-5],[or.left+p,or.top+g+5]]).on("brush end",q=>{q.sourceEvent!==void 0&&n([[q.selection[0],null],[q.selection[1],null]],S,w,q.mode)}),P=qUe().extent([[or.left-5,or.top],[or.left+5,or.top+g]]).on("brush end",q=>{q.sourceEvent!==void 0&&n([[null,q.selection[0]],[null,q.selection[1]]],S,w,q.mode)});return c.current&&f.current&&(Ur(f.current).call(P),Ur(c.current).call(D),t.hasBrush||(Ur(f.current).call(P.move,[w(T),w(_)]),Ur(c.current).call(D.move,[S(new Date("2015-01-02")),S(new Date("2015-12-31"))]),n([[S(new Date("2015-01-02")),w(T)],[S(new Date("2015-12-31")),w(_)]],S,w,"drag"))),()=>{Ur(f.current).call(P.move,[w(T),w(_)]),Ur(c.current).call(D.move,[S(new Date("2015-01-02")),S(new Date("2015-12-31"))]),n([[S(new Date("2015-01-02")),w(T)],[S(new Date("2015-12-31")),w(_)]],S,w,"clear")}}else if(r==="Rectangular Selection"){const D=YUe().extent([[or.left,or.top],[or.left+p,or.top+g]]).on("brush",P=>{P.sourceEvent!==void 0&&n([[P.selection[0][0],P.selection[0][1]],[P.selection[1][0],P.selection[1][1]]],S,w,P.mode)}).on("end",P=>{P.selection===null&&P.sourceEvent!==void 0&&(Ur(a.current).call(D.move,null),e(null))});return Ur(a.current).call(D),()=>{Ur(a.current).call(D.move,null),n([[null,null],[null,null]],S,w,"clear")}}else{if(r==="Slider Selection")return()=>n([[S(m),w(T)],[S(v),w(_)]],S,w,"clear");if(r==="Paintbrush Selection")return()=>n([[S(m),w(T)],[S(v),w(_)]],S,w,"clear",[])}},[t,r,c,f,g,a,n,p,v,m,S,T,_,w]);E.useEffect(()=>{r==="Slider Selection"&&S&&w&&n([[S(m),w(T)],[S(v),w(_)]],S,w,null)},[r,v,m,S,T,_,w]);const A=E.useMemo(()=>o.length===0?null:new Set(o),[o]),$=E.useMemo(()=>!S||!w?null:s.map((D,P)=>{if(D[i.x]===null||D[i.y]===null)return null;const q=i.dataType==="date"?S(new Date(D[i.x])):S(D[i.x]);return O.jsx("circle",{opacity:A?A.has(D[i.ids])?1:.3:1,r:3,fill:A?A.has(D[i.ids])?y(D[i.category]):"lightgray":y(D[i.category]),cx:q,cy:w(D[i.y])},P)}),[A,y,s,i.category,i.ids,i.x,i.y,S,w]);return E.useEffect(()=>{r==="Axis Selection"&&GBe(".handle").style("fill","darkgrey")},[t,r]),O.jsxs(Bs,{children:[O.jsxs(Ys,{children:[O.jsx(Xo,{ml:60,compact:!0,style:{width:"130px"},disabled:o.length===0,onClick:()=>{e(null),x==null||x()},children:"Clear Selection"}),i.brushType==="Paintbrush Selection"?O.jsx(MD,{defaultChecked:!0,value:d?"Select":"De-Select",onChange:D=>h(D==="Select"),data:[{label:"Select",value:"Select"},{label:"De-Select",value:"De-Select",disabled:o.length===0}]}):null]}),O.jsxs(Ys,{style:{width:"100%",height:"100%"},noWrap:!0,children:[O.jsxs("svg",{id:"scatterSvgBrushStudy",ref:a,style:{height:"500px",width:i.brushType==="Axis Selection"?"800px":"530px",fontFamily:'BlinkMacSystemFont, -apple-system, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", "Helvetica", "Arial", sans-serif'},children:[S&&w?O.jsxs("g",{children:[O.jsx(Ane,{yScale:w,label:i.y,horizontalPosition:or.left,xRange:S.range()}),O.jsx(x3,{xScale:S,yRange:w.range(),isDate:i.dataType==="date",vertPosition:g+or.top,label:i.x,ticks:S.ticks(i.brushType==="Axis Selection"?12:5).map(D=>({value:D.toString(),offset:S(D)}))})]}):null,$,O.jsx("g",{id:"brushXRef",ref:c}),O.jsx("g",{id:"brushYRef",ref:f}),S&&w&&r==="Paintbrush Selection"?O.jsx(Cne,{brushState:t,setBrushedSpace:n,params:i,data:s,isSelect:d,xScale:S,yScale:w}):null]}),r==="Slider Selection"&&S&&w?O.jsxs(Bs,{style:{flexGrow:1},spacing:50,children:[O.jsxs(Bs,{spacing:0,children:[O.jsx(mt,{children:i.x}),O.jsx(lT,{minRange:1,label:null,min:S.domain()[0],max:S.domain()[1],labelAlwaysOn:!1,onChange:D=>{n([[S(D[0]),t.y1],[S(D[1]),t.y2]],S,w,"drag")},style:{width:"300px"},marks:S.ticks(5).map(D=>({value:D,label:D})),value:[S.invert(t.x1),S.invert(t.x2)]})]}),O.jsxs(Bs,{spacing:0,children:[O.jsx(mt,{children:i.y}),O.jsx(lT,{minRange:1,label:null,min:w.domain()[0],max:w.domain()[1],onChange:D=>{n([[t.x1,w(D[1])],[t.x2,w(D[0])]],S,w,"drag")},style:{width:"300px"},marks:w.ticks(5).map(D=>({value:D,label:D})),value:[w.invert(t.y2),w.invert(t.y1)]})]})]}):null]})]})}const Gze=Object.freeze(Object.defineProperty({__proto__:null,Scatter:UR,default:UR},Symbol.toStringTag,{value:"Module"})),_n=Array.isArray;function Gs(e){return e!=null?_n(e)?e:[e]:[]}function Kze(e=0,t=1/0){return`${$V(e)} < row_number() && row_number() <= ${$V(t)}`}function $V(e){return e<0?`count() + ${e}`:e}class One{constructor(t){t&&(this._params=t)}params(t){return arguments.length?(t&&(this._params={...this._params,...t}),this):this._params}reify(t){return this.__reify(this,t)}count(t){return this.__count(this,t)}derive(t,n){return this.__derive(this,t,n)}filter(t){return this.__filter(this,t)}slice(t,n){return this.filter(Kze(t,n)).reify()}groupby(...t){return this.__groupby(this,t.flat())}orderby(...t){return this.__orderby(this,t.flat())}relocate(t,n){return this.__relocate(this,Gs(t),n)}rename(...t){return this.__rename(this,t.flat())}rollup(t){return this.__rollup(this,t)}sample(t,n){return this.__sample(this,t,n)}select(...t){return this.__select(this,t.flat())}ungroup(){return this.__ungroup(this)}unorder(){return this.__unorder(this)}dedupe(...t){return this.__dedupe(this,t.flat())}impute(t,n){return this.__impute(this,t,n)}fold(t,n){return this.__fold(this,t,n)}pivot(t,n,r){return this.__pivot(this,t,n,r)}spread(t,n){return this.__spread(this,t,n)}unroll(t,n){return this.__unroll(this,t,n)}lookup(t,n,...r){return this.__lookup(this,t,n,r.flat())}join(t,n,r,i){return this.__join(this,t,n,r,i)}join_left(t,n,r,i){const s={...i,left:!0,right:!1};return this.__join(this,t,n,r,s)}join_right(t,n,r,i){const s={...i,left:!1,right:!0};return this.__join(this,t,n,r,s)}join_full(t,n,r,i){const s={...i,left:!0,right:!0};return this.__join(this,t,n,r,s)}cross(t,n,r){return this.__cross(this,t,n,r)}semijoin(t,n){return this.__semijoin(this,t,n)}antijoin(t,n){return this.__antijoin(this,t,n)}concat(...t){return this.__concat(this,t.flat())}union(...t){return this.__union(this,t.flat())}intersect(...t){return this.__intersect(this,t.flat())}except(...t){return this.__except(this,t.flat())}}function jt(e){throw Error(e)}function ms(e){return typeof e=="number"}function tr(e){return typeof e=="function"}function SI(e,t){const n=Array(e);if(tr(t))for(let r=0;r<e;++r)n[r]=t(r);else n.fill(t);return n}let Qze=class extends One{constructor(t,n,r,i,s,o,a){super(a),this._names=Object.freeze(t),this._data=r,this._total=n,this._nrows=i?i.count():n,this._mask=n!==this._nrows&&i||null,this._group=s||null,this._order=o||null}create(t){jt("Not implemented")}get[Symbol.toStringTag](){if(!this._names)return"Object";const t=this.numRows()+" row"+(this.numRows()!==1?"s":"");return`Table: ${this.numCols()+" col"+(this.numCols()!==1?"s":"")} x ${t}`+(this.isFiltered()?` (${this.totalRows()} backing)`:"")+(this.isGrouped()?`, ${this._group.size} groups`:"")+(this.isOrdered()?", ordered":"")}isFiltered(){return!!this._mask}isGrouped(){return!!this._group}isOrdered(){return!!this._order}data(){return this._data}mask(){return this._mask}groups(){return this._group}comparator(){return this._order}totalRows(){return this._total}numRows(){return this._nrows}get size(){return this._nrows}numCols(){return this._names.length}columnNames(t){return t?this._names.filter(t):this._names.slice()}columnName(t){return this._names[t]}columnIndex(t){return this._names.indexOf(t)}columnArray(t,n){return this.array(t,n)}array(t,n){jt("Not implemented")}*values(t){const n=this.getter(t),r=this.numRows();for(let i=0;i<r;++i)yield n(i)}get(t,n=0){jt("Not implemented")}getter(t){jt("Not implemented")}objects(t){jt("Not implemented")}object(t){jt("Not implemented")}[Symbol.iterator](){jt("Not implemented")}print(t={}){ms(t)?t={limit:t}:t.limit==null&&(t.limit=10);const n=this.objects({...t,grouped:!1}),r=`${this[Symbol.toStringTag]}. Showing ${n.length} rows.`;return console.log(r),console.table(n),this}indices(t=!0){if(this._index)return this._index;const n=this.numRows(),r=new Uint32Array(n),i=this.isOrdered(),s=this.mask();let o=-1;if(s)for(let a=s.next(0);a>=0;a=s.next(a+1))r[++o]=a;else for(let a=0;a<n;++a)r[++o]=a;if(t&&i){const a=this._order,u=this._data;r.sort((l,c)=>a(l,c,u))}return(t||!i)&&(this._index=r),r}partitions(t=!0){if(this._partitions)return this._partitions;if(!this.isGrouped())return[this.indices(t)];const{keys:n,size:r}=this._group,i=SI(r,()=>[]),s=this._index,o=this.mask(),a=this.numRows();if(s&&this.isOrdered())for(let u=0,l;u<a;++u)l=s[u],i[n[l]].push(l);else if(o)for(let u=o.next(0);u>=0;u=o.next(u+1))i[n[u]].push(u);else for(let u=0;u<a;++u)i[n[u]].push(u);if(t&&!s&&this.isOrdered()){const u=this._order,l=this._data;for(let c=0;c<r;++c)i[c].sort((f,d)=>u(f,d,l))}return(t||!this.isOrdered())&&(this._partitions=i),i}scan(t,n,r=1/0,i=0){const s=this._mask,o=this._nrows,a=this._data;let u=i||0;if(u>o)return;const l=Math.min(o,u+r),c=()=>u=this._total;if(n&&this.isOrdered()||s&&this._index){const f=this.indices(),d=this._data;for(;u<l;++u)t(f[u],d,c)}else if(s){let f=l-u+1;for(u=s.nth(u);--f&&u>-1;u=s.next(u+1))t(u,a,c)}else for(;u<l;++u)t(u,a,c)}slice(t=0,n=1/0){if(this.isGrouped())return super.slice(t,n);const r=[],i=this.numRows();return t=Math.max(0,t+(t<0?i:0)),n=Math.min(i,Math.max(0,n+(n<0?i:0))),this.scan(s=>r.push(s),!0,n-t,t),this.reify(r)}reduce(t){return this.__reduce(this,t)}},Xze=class{constructor(t){this.data=t}get length(){return this.data.length}get(t){return this.data[t]}[Symbol.iterator](){return this.data[Symbol.iterator]()}},Jze=function(e){return e&&tr(e.get)?e:new Xze(e)};function zl(e){return e instanceof Date}function ts(e){return e===Object(e)}function GT(e){return e instanceof RegExp}function Mi(e){return typeof e=="string"}function Zze(e,t){const n=r=>jt(`Illegal argument type: ${r||typeof e}`);return e instanceof Map?LV(e.entries(),t):zl(e)?n("Date"):GT(e)?n("RegExp"):Mi(e)?n():_n(e)?eHe(e,t):tr(e[Symbol.iterator])?tHe(e,t):ts(e)?LV(Object.entries(e),t):n()}function LV(e,t=["key","value"]){const n=[],r=[];for(const[s,o]of e)n.push(s),r.push(o);const i={};return t[0]&&(i[t[0]]=n),t[1]&&(i[t[1]]=r),i}function eHe(e,t){const n=e.length,r={},i=s=>r[s]=Array(n);if(n){t=t||Object.keys(e[0]);const s=t.map(i),o=s.length;for(let a=0;a<n;++a){const u=e[a];for(let l=0;l<o;++l)s[l][a]=u[t[l]]}}else t&&t.forEach(i);return r}function tHe(e,t){const n={},r=o=>n[o]=[];let i,s;for(const o of e){i||(t=t||Object.keys(o),i=t.map(r),s=i.length);for(let a=0;a<s;++a)i[a].push(o[t[a]])}return!i&&t&&t.forEach(r),n}const{hasOwnProperty:nHe}=Object.prototype;function Ma(e,t){return nHe.call(e,t)}function Ro(e){return e?new MV({...e.data()},e.columnNames()):new MV}class MV{constructor(t,n){this.data=t||{},this.names=n||[]}add(t,n){return this.has(t)||this.names.push(t+""),this.data[t]=n}has(t){return Ma(this.data,t)}new(){return this.filter=null,this.groups=this.groups||null,this.order=null,this}groupby(t){return this.groups=t,this}}const hn=void 0,rHe=Object.getPrototypeOf(Int8Array);function hv(e){return e instanceof rHe}function _d(e){return _n(e)||hv(e)}function Ca(e){return e!=null&&e===e}const n0=e=>_d(e)||Mi(e),iHe={compact:e=>_d(e)?e.filter(t=>Ca(t)):e,concat:(...e)=>[].concat(...e),includes:(e,t,n)=>n0(e)?e.includes(t,n):!1,indexof:(e,t)=>n0(e)?e.indexOf(t):-1,join:(e,t)=>_d(e)?e.join(t):hn,lastindexof:(e,t)=>n0(e)?e.lastIndexOf(t):-1,length:e=>n0(e)?e.length:0,pluck:(e,t)=>_d(e)?e.map(n=>Ca(n)?n[t]:hn):hn,reverse:e=>_d(e)?e.slice().reverse():Mi(e)?e.split("").reverse().join(""):hn,slice:(e,t,n)=>n0(e)?e.slice(t,n):hn};function sHe(e,t,n,r,i){return e==null?null:e<t?-1/0:e>n?1/0:(e=Math.max(t,Math.min(e,n)),t+r*Math.floor(1e-14+(e-t)/r+(i||0)))}function zb(e,t,n="0"){const r=e+"",i=r.length;return i<t?Array(t-i+1).join(n)+r:r}const qa=e=>(e<10?"0":"")+e,oHe=e=>e<0?"-"+zb(-e,6):e>9999?"+"+zb(e,6):zb(e,4);function Pne(e,t,n,r,i,s,o,a,u){const l=a?"Z":"";return oHe(e)+"-"+qa(t+1)+"-"+qa(n)+(!u||o?"T"+qa(r)+":"+qa(i)+":"+qa(s)+"."+zb(o,3)+l:s?"T"+qa(r)+":"+qa(i)+":"+qa(s)+l:i||r||!a?"T"+qa(r)+":"+qa(i)+l:"")}function Rne(e,t){return isNaN(e)?"Invalid Date":Pne(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds(),!1,t)}function xI(e,t){return isNaN(e)?"Invalid Date":Pne(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds(),!0,t)}const aHe=/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/;function uHe(e){return e.match(aHe)}function lHe(e,t=Date.parse){return uHe(e)?t(e):e}const Nne=6e4,kne=864e5,Dne=6048e5,Ir=new Date,Ar=new Date,kr=e=>(Ir.setTime(typeof e=="string"?lHe(e):e),Ir);function cHe(e,t,n,r,i,s,o){return arguments.length?new Date(e,t||0,n??1,r||0,i||0,s||0,o||0):new Date(Date.now())}function fHe(e,t,n,r,i,s,o){return arguments.length?new Date(Date.UTC(e,t||0,n??1,r||0,i||0,s||0,o||0)):new Date(Date.now())}function dHe(e){Ar.setTime(+e),Ar.setHours(0,0,0,0),Ir.setTime(+Ar),Ir.setMonth(0),Ir.setDate(1);const t=(Ar.getTimezoneOffset()-Ir.getTimezoneOffset())*Nne;return Math.floor(1+(Ar-Ir-t)/kne)}function hHe(e){Ar.setTime(+e),Ar.setUTCHours(0,0,0,0);const t=Date.UTC(Ar.getUTCFullYear(),0,1);return Math.floor(1+(Ar-t)/kne)}function pHe(e,t){const n=t||0;Ar.setTime(+e),Ar.setDate(Ar.getDate()-(Ar.getDay()+7-n)%7),Ar.setHours(0,0,0,0),Ir.setTime(+e),Ir.setMonth(0),Ir.setDate(1),Ir.setDate(1-(Ir.getDay()+7-n)%7),Ir.setHours(0,0,0,0);const r=(Ar.getTimezoneOffset()-Ir.getTimezoneOffset())*Nne;return Math.floor((1+(Ar-Ir)-r)/Dne)}function mHe(e,t){const n=t||0;return Ar.setTime(+e),Ar.setUTCDate(Ar.getUTCDate()-(Ar.getUTCDay()+7-n)%7),Ar.setUTCHours(0,0,0,0),Ir.setTime(+e),Ir.setUTCMonth(0),Ir.setUTCDate(1),Ir.setUTCDate(1-(Ir.getUTCDay()+7-n)%7),Ir.setUTCHours(0,0,0,0),Math.floor((1+(Ar-Ir))/Dne)}const gHe={format_date:(e,t)=>Rne(kr(e),!t),format_utcdate:(e,t)=>xI(kr(e),!t),timestamp:e=>+kr(e),year:e=>kr(e).getFullYear(),quarter:e=>Math.floor(kr(e).getMonth()/3),month:e=>kr(e).getMonth(),date:e=>kr(e).getDate(),dayofweek:e=>kr(e).getDay(),hours:e=>kr(e).getHours(),minutes:e=>kr(e).getMinutes(),seconds:e=>kr(e).getSeconds(),milliseconds:e=>kr(e).getMilliseconds(),utcyear:e=>kr(e).getUTCFullYear(),utcquarter:e=>Math.floor(kr(e).getUTCMonth()/3),utcmonth:e=>kr(e).getUTCMonth(),utcdate:e=>kr(e).getUTCDate(),utcdayofweek:e=>kr(e).getUTCDay(),utchours:e=>kr(e).getUTCHours(),utcminutes:e=>kr(e).getUTCMinutes(),utcseconds:e=>kr(e).getUTCSeconds(),utcmilliseconds:e=>kr(e).getUTCMilliseconds(),datetime:cHe,dayofyear:dHe,week:pHe,utcdatetime:fHe,utcdayofyear:hHe,utcweek:mHe,now:Date.now};function I3(e,t){return e==null||t==null||e!==e||t!==t?!1:e===t?!0:zl(e)||zl(t)?+e==+t:GT(e)&&GT(t)?e+""==t+"":ts(e)&&ts(t)?yHe(e,t):!1}function yHe(e,t){if(Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;if(e.length||t.length)return FV(e,t);const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length||(n.sort(),r.sort(),!FV(n,r,(s,o)=>s===o)))return!1;const i=n.length;for(let s=0;s<i;++s){const o=n[s];if(!I3(e[o],t[o]))return!1}return!0}function FV(e,t,n=I3){const r=e.length;if(r!==t.length)return!1;for(let i=0;i<r;++i)if(!n(e[i],t[i]))return!1;return!0}const _He={parse_json:e=>JSON.parse(e),to_json:e=>JSON.stringify(e)};let vHe=Math.random;function og(){return vHe()}const bHe={random:og,is_nan:Number.isNaN,is_finite:Number.isFinite,abs:Math.abs,cbrt:Math.cbrt,ceil:Math.ceil,clz32:Math.clz32,exp:Math.exp,expm1:Math.expm1,floor:Math.floor,fround:Math.fround,greatest:Math.max,least:Math.min,log:Math.log,log10:Math.log10,log1p:Math.log1p,log2:Math.log2,pow:Math.pow,round:Math.round,sign:Math.sign,sqrt:Math.sqrt,trunc:Math.trunc,degrees:e=>180*e/Math.PI,radians:e=>Math.PI*e/180,acos:Math.acos,acosh:Math.acosh,asin:Math.asin,asinh:Math.asinh,atan:Math.atan,atan2:Math.atan2,atanh:Math.atanh,cos:Math.cos,cosh:Math.cosh,sin:Math.sin,sinh:Math.sinh,tan:Math.tan,tanh:Math.tanh};function A3(e){return e instanceof Map}function wHe(e){return e instanceof Set}function Hb(e){return A3(e)||wHe(e)}function RO(e){return Array.from(e)}const EHe={has:(e,t)=>Hb(e)?e.has(t):e!=null?Ma(e,t):!1,keys:e=>A3(e)?RO(e.keys()):e!=null?Object.keys(e):[],values:e=>Hb(e)?RO(e.values()):e!=null?Object.values(e):[],entries:e=>Hb(e)?RO(e.entries()):e!=null?Object.entries(e):[],object:e=>e?Object.fromEntries(e):hn};function THe(e,t,n){if(t instanceof Map){if(t.has(e))return t.get(e)}else if(Ma(t,e))return t[e];return n!==void 0?n:e}function SHe(e,t,n){let r=arguments.length;e=+e,t=+t,n=r<2?(t=e,e=0,1):r<3?1:+n,r=Math.max(0,Math.ceil((t-e)/n))|0;const i=new Array(r);for(let s=0;s<r;++s)i[s]=e+s*n;return i}const xHe={parse_date:e=>e==null?e:new Date(e),parse_float:e=>e==null?e:Number.parseFloat(e),parse_int:(e,t)=>e==null?e:Number.parseInt(e,t),endswith:(e,t,n)=>e==null?!1:String(e).endsWith(t,n),match:(e,t,n)=>{const r=e==null?e:String(e).match(t);return n==null||r==null?r:typeof n=="number"?r[n]:r.groups?r.groups[n]:null},normalize:(e,t)=>e==null?e:String(e).normalize(t),padend:(e,t,n)=>e==null?e:String(e).padEnd(t,n),padstart:(e,t,n)=>e==null?e:String(e).padStart(t,n),upper:e=>e==null?e:String(e).toUpperCase(),lower:e=>e==null?e:String(e).toLowerCase(),repeat:(e,t)=>e==null?e:String(e).repeat(t),replace:(e,t,n)=>e==null?e:String(e).replace(t,String(n)),substring:(e,t,n)=>e==null?e:String(e).substring(t,n),split:(e,t,n)=>e==null?[]:String(e).split(t,n),startswith:(e,t,n)=>e==null?!1:String(e).startsWith(t,n),trim:e=>e==null?e:String(e).trim()},mp={bin:sHe,equal:I3,recode:THe,sequence:SHe,...iHe,...gHe,..._He,...bHe,...EHe,...xHe};function Zy(e){return typeof e=="bigint"}function Du(e){return e===void 0?e+"":Zy(e)?e+"n":JSON.stringify(e)}function Mt(e,t=[],n=[]){return new IHe(e,Gs(t),Gs(n))}let IHe=class{constructor(t,n,r){this.name=t,this.fields=n,this.params=r}toString(){const t=[...this.fields.map(n=>`d[${Du(n)}]`),...this.params.map(Du)];return`d => op.${this.name}(${t})`}toObject(){return{expr:this.toString(),func:!0}}};const $ne=e=>Mt("any",e),Lne=()=>Mt("count"),Mne=e=>Mt("array_agg",e),Fne=e=>Mt("array_agg_distinct",e),Bne=(e,t)=>Mt("map_agg",[e,t]),jne=(e,t)=>Mt("object_agg",[e,t]),Une=(e,t)=>Mt("entries_agg",[e,t]);({...mp});function AHe(e,t){e=Hb(e)?e:new Set(e);let n=t,r=0;for(;e.has(n);)n=t+ ++r;return n}function CHe(e,t){if(!e||!t)return e;const{keys:n,rows:r,size:i}=e,s=new Int32Array(i);t.scan(c=>s[n[c]]=1);const o=s.reduce((c,f)=>c+f,0);if(o===i)return e;const a=Array(o);let u=0;for(let c=0;c<i;++c)s[c]&&(a[s[c]=u++]=r[c]);const l=new Uint32Array(n.length);return t.scan(c=>l[c]=s[n[c]]),{...e,keys:l,rows:a,size:u}}function OHe(e,t,n,r){const{keys:i,rows:s,size:o}=e;let a=s,u=o,l=null;if(n){l=new Int32Array(o),t(p=>l[i[p]]=1);const h=l.reduce((p,g)=>p+g,0);if(h!==o){a=Array(h),u=0;for(let p=0;p<o;++p)l[p]&&(a[l[p]=u++]=s[p])}}let c=-1;const f=new Uint32Array(r);return t(u!==o?h=>f[++c]=l[i[h]]:h=>f[++c]=i[h]),{...e,keys:f,rows:a,size:u}}function PHe(e,t,n,r){const i=r==="map"||r===!0?Bne:r==="entries"?Une:r==="object"?jne:jt('groups option must be "map", "entries", or "object".'),{names:s}=e.groups(),o=AHe(e.columnNames(),"_");let a=e.select().reify(t).create({data:{[o]:n}}).rollup({[o]:Mne(o)});for(let u=s.length;--u>=0;)a=a.groupby(s.slice(0,u)).rollup({[o]:i(s[u],o)});return a.get(o)}const RHe="ArrayPattern",NHe="ArrowFunctionExpression",kHe="FunctionExpression",sf="Identifier",ag="Literal",Vne="MemberExpression",DHe="ObjectExpression",zne="ObjectPattern",Hne="Property",pv="Column",$He="Constant",LHe="Dictionary",MHe="Function",FHe="Parameter",Wne="Op",Wn=(e,t)=>{const n=BHe[e.type];return n?n(e,t):jt(`Unsupported expression construct: ${e.type}`)},NO=(e,t)=>"("+Wn(e.left,t)+" "+e.operator+" "+Wn(e.right,t)+")",kO=(e,t)=>"("+Ja(e.params,t)+")=>"+Wn(e.body,t),BV=(e,t)=>Wn(e.callee,t)+"("+Ja(e.arguments,t)+")",Ja=(e,t,n=",")=>e.map(r=>Wn(r,t)).join(n),qne=e=>e.computed?`[${Du(e.name)}]`:`.${e.name}`,jV=(e,t,n)=>{const r=e.table||"";return`data${r}${qne(e)}.${n}(${t.index}${r})`},BHe={Constant:e=>e.raw,Column:(e,t)=>jV(e,t,"get"),Dictionary:(e,t)=>jV(e,t,"key"),Function:e=>`fn.${e.name}`,Parameter:e=>`$${qne(e)}`,Op:(e,t)=>`op(${Du(e.name)},${t.op||t.index})`,Literal:e=>e.raw,Identifier:e=>e.name,TemplateLiteral:(e,t)=>{const{quasis:n,expressions:r}=e,i=r.length;let s=n[0].value.raw;for(let o=0;o<i;)s+="${"+Wn(r[o],t)+"}"+n[++o].value.raw;return"`"+s+"`"},MemberExpression:(e,t)=>{const n=!e.computed,r=Wn(e.object,t),i=Wn(e.property,t);return r+(n?"."+i:"["+i+"]")},CallExpression:BV,NewExpression:(e,t)=>"new "+BV(e,t),ArrayExpression:(e,t)=>"["+Ja(e.elements,t)+"]",AssignmentExpression:NO,BinaryExpression:NO,LogicalExpression:NO,UnaryExpression:(e,t)=>"("+e.operator+Wn(e.argument,t)+")",ConditionalExpression:(e,t)=>"("+Wn(e.test,t)+"?"+Wn(e.consequent,t)+":"+Wn(e.alternate,t)+")",ObjectExpression:(e,t)=>"({"+Ja(e.properties,t)+"})",Property:(e,t)=>{const n=Wn(e.key,t);return(e.computed?`[${n}]`:n)+":"+Wn(e.value,t)},ArrowFunctionExpression:kO,FunctionExpression:kO,FunctionDeclaration:kO,ArrayPattern:(e,t)=>"["+Ja(e.elements,t)+"]",ObjectPattern:(e,t)=>"{"+Ja(e.properties,t)+"}",VariableDeclaration:(e,t)=>e.kind+" "+Ja(e.declarations,t,","),VariableDeclarator:(e,t)=>Wn(e.id,t)+"="+Wn(e.init,t),SpreadElement:(e,t)=>"..."+Wn(e.argument,t),BlockStatement:(e,t)=>"{"+Ja(e.body,t,";")+";}",BreakStatement:()=>"break",ExpressionStatement:(e,t)=>Wn(e.expression,t),IfStatement:(e,t)=>"if ("+Wn(e.test,t)+")"+Wn(e.consequent,t)+(e.alternate?" else "+Wn(e.alternate,t):""),SwitchStatement:(e,t)=>"switch ("+Wn(e.discriminant,t)+") {"+Ja(e.cases,t,"")+"}",SwitchCase:(e,t)=>(e.test?"case "+Wn(e.test,t):"default")+": "+Ja(e.consequent,t,";")+";",ReturnStatement:(e,t)=>"return "+Wn(e.argument,t),Program:(e,t)=>Wn(e.body[0],t)};function KT(e,t={index:"row"}){return Wn(e,t)}function jHe(e,t,n=15,r=!0,i=0,s){const a=Math.LN10;if(s==null){const u=Math.ceil(Math.log(n)/a),l=t-e||Math.abs(e)||1,c=[5,2];for(s=Math.max(i,Math.pow(10,Math.round(Math.log(l)/a)-u));Math.ceil(l/s)>n;)s*=10;const f=c.length;for(let d=0;d<f;++d){const h=s/c[d];h>=i&&l/h<=n&&(s=h)}}if(r){let u=Math.log(s);const l=u>=0?0:~~(-u/a)+1,c=Math.pow(10,-l-1);u=Math.floor(e/s+c)*s,e=e<u?u-s:u,t=Math.ceil(t/s)*s}return[e,t===e?e+s:t,s]}function wm(e){const t=typeof e;return t==="string"?`"${e}"`:t!=="object"||!e?e:zl(e)?+e:_n(e)||hv(e)?`[${e.map(wm)}]`:GT(e)?e+"":UHe(e)}function UHe(e){let t="{",n=-1;for(const r in e)++n>0&&(t+=","),t+=`"${r}":${wm(e[r])}`;return t+="}",t}function QT(e,t){const n=e.length;return n===1?(r,i)=>wm(e[0](r,i)):(r,i)=>{let s="";for(let o=0;o<n;++o){o>0&&(s+="|");const a=e[o](r,i);if(t&&(a==null||a!==a))return null;s+=wm(a)}return s}}function VHe(){const e=new Map;return{count(){return e.size},values(){return Array.from(e.values(),t=>t.v)},increment(t){const n=wm(t),r=e.get(n);r?++r.n:e.set(n,{v:t,n:1})},decrement(t){const n=wm(t),r=e.get(n);r.n===1?e.delete(n):--r.n},forEach(t){e.forEach(({v:n,n:r})=>t(n,r))}}}function ol(){}function zHe(e,t=0,n=e.length){let r=e[t++];for(let i=t;i<n;++i)r*=e[i];return r}function Kr(e){return e.init=e.init||ol,e.add=e.add||ol,e.rem=e.rem||ol,e}function UV(e,t){return e.product_v=!1,e.product=t}const Yne={count:{create:()=>Kr({value:e=>e.count}),param:[]},array_agg:{create:()=>Kr({init:e=>e.values=!0,value:e=>e.list.values(e.stream)}),param:[1]},object_agg:{create:()=>Kr({init:e=>e.values=!0,value:e=>Object.fromEntries(e.list.values())}),param:[2]},map_agg:{create:()=>Kr({init:e=>e.values=!0,value:e=>new Map(e.list.values())}),param:[2]},entries_agg:{create:()=>Kr({init:e=>e.values=!0,value:e=>e.list.values(e.stream)}),param:[2]},any:{create:()=>Kr({add:(e,t)=>{e.any==null&&(e.any=t)},value:e=>e.valid?e.any:hn}),param:[1]},valid:{create:()=>Kr({value:e=>e.valid}),param:[1]},invalid:{create:()=>Kr({value:e=>e.count-e.valid}),param:[1]},distinct:{create:()=>({init:e=>e.distinct=VHe(),value:e=>e.distinct.count()+(e.valid===e.count?0:1),add:(e,t)=>e.distinct.increment(t),rem:(e,t)=>e.distinct.decrement(t)}),param:[1]},array_agg_distinct:{create:()=>Kr({value:e=>e.distinct.values()}),param:[1],req:["distinct"]},mode:{create:()=>Kr({value:e=>{let t=hn,n=0;return e.distinct.forEach((r,i)=>{i>n&&(n=i,t=r)}),t}}),param:[1],req:["distinct"]},sum:{create:()=>({init:e=>e.sum=0,value:e=>e.valid?e.sum:hn,add:(e,t)=>Zy(t)?e.sum===0?e.sum=t:e.sum+=t:e.sum+=+t,rem:(e,t)=>e.sum-=t}),param:[1]},product:{create:()=>({init:e=>UV(e,1),value:e=>e.valid?e.product_v?UV(e,zHe(e.list.values())):e.product:void 0,add:(e,t)=>Zy(t)&&e.product===1?e.product=t:e.product*=t,rem:(e,t)=>t==0||t===1/0||t===-1/0?e.product_v=!0:e.product/=t}),param:[1],stream:["array_agg"]},mean:{create:()=>({init:e=>e.mean=0,value:e=>e.valid?e.mean:hn,add:(e,t)=>{e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid},rem:(e,t)=>{e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean}}),param:[1]},average:{create:()=>Kr({value:e=>e.valid?e.mean:hn}),param:[1],req:["mean"]},variance:{create:()=>({init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):hn,add:(e,t)=>e.dev+=e.mean_d*(t-e.mean),rem:(e,t)=>e.dev-=e.mean_d*(t-e.mean)}),param:[1],req:["mean"]},variancep:{create:()=>Kr({value:e=>e.valid>1?e.dev/e.valid:hn}),param:[1],req:["variance"]},stdev:{create:()=>Kr({value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):hn}),param:[1],req:["variance"]},stdevp:{create:()=>Kr({value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):hn}),param:[1],req:["variance"]},min:{create:()=>({init:e=>e.min=hn,value:e=>e.min=Number.isNaN(e.min)?e.list.min():e.min,add:(e,t)=>{(t<e.min||e.min===hn)&&(e.min=t)},rem:(e,t)=>{t<=e.min&&(e.min=NaN)}}),param:[1],stream:["array_agg"]},max:{create:()=>({init:e=>e.max=hn,value:e=>e.max=Number.isNaN(e.max)?e.list.max():e.max,add:(e,t)=>{(t>e.max||e.max===hn)&&(e.max=t)},rem:(e,t)=>{t>=e.max&&(e.max=NaN)}}),param:[1],stream:["array_agg"]},quantile:{create:e=>Kr({value:t=>t.list.quantile(e)}),param:[1,1],req:["array_agg"]},median:{create:()=>Kr({value:e=>e.list.quantile(.5)}),param:[1],req:["array_agg"]},covariance:{create:()=>({init:e=>{e.cov=e.mean_x=e.mean_y=e.dev_x=e.dev_y=0},value:e=>e.valid>1?e.cov/(e.valid-1):hn,add:(e,t,n)=>{const r=t-e.mean_x,i=n-e.mean_y;e.mean_x+=r/e.valid,e.mean_y+=i/e.valid;const s=n-e.mean_y;e.dev_x+=r*(t-e.mean_x),e.dev_y+=i*s,e.cov+=r*s},rem:(e,t,n)=>{const r=t-e.mean_x,i=n-e.mean_y;e.mean_x-=e.valid?r/e.valid:e.mean_x,e.mean_y-=e.valid?i/e.valid:e.mean_y;const s=n-e.mean_y;e.dev_x-=r*(t-e.mean_x),e.dev_y-=i*s,e.cov-=r*s}}),param:[2]},covariancep:{create:()=>Kr({value:e=>e.valid>1?e.cov/e.valid:hn}),param:[2],req:["covariance"]},corr:{create:()=>Kr({value:e=>e.valid>1?e.cov/(Math.sqrt(e.dev_x)*Math.sqrt(e.dev_y)):hn}),param:[2],req:["covariance"]},bins:{create:(e,t,n,r)=>Kr({value:i=>jHe(i.min,i.max,e,t,n,r)}),param:[1,4],req:["min","max"]}},VV={create(){let e;return{init:()=>e=1,value:t=>{const n=t.index;return n&&!t.peer(n)?e=n+1:e}}},param:[]},zV={create(){let e;return{init:()=>e=0,value:t=>{const{index:n,peer:r,size:i}=t;let s=n;if(e<s){for(;s+1<i&&r(s+1);)++s;e=s}return(1+e)/i}}},param:[]},Gne={row_number:{create(){return{init:ol,value:e=>e.index+1}},param:[]},rank:VV,avg_rank:{create(){let e,t;return{init:()=>(e=-1,t=1),value:n=>{const r=n.index;if(r>=e){for(t=e=r+1;n.peer(e);t+=++e);t/=e-r}return t}}},param:[]},dense_rank:{create(){let e;return{init:()=>e=1,value:t=>{const n=t.index;return n&&!t.peer(n)?++e:e}}},param:[]},percent_rank:{create(){const{init:e,value:t}=VV.create();return{init:e,value:n=>(t(n)-1)/(n.size-1)}},param:[]},cume_dist:zV,ntile:{create(e){e=+e,e>0||jt("ntile num must be greater than zero.");const{init:t,value:n}=zV.create();return{init:t,value:r=>Math.ceil(e*n(r))}},param:[0,1]},lag:{create(e,t=hn){return e=+e||1,{init:ol,value:(n,r)=>{const i=n.index-e;return i>=0?n.value(i,r):t}}},param:[1,2]},lead:{create(e,t=hn){return e=+e||1,{init:ol,value:(n,r)=>{const i=n.index+e;return i<n.size?n.value(i,r):t}}},param:[1,2]},first_value:{create(){return{init:ol,value:(e,t)=>e.value(e.i0,t)}},param:[1]},last_value:{create(){return{init:ol,value:(e,t)=>e.value(e.i1-1,t)}},param:[1]},nth_value:{create(e){return e=+e,e>0||jt("nth_value nth must be greater than zero."),{init:ol,value:(t,n)=>{const r=t.i0+(e-1);return r<t.i1?t.value(r,n):hn}}},param:[1,1]},fill_down:{create(e=hn){let t;return{init:()=>t=e,value:(n,r)=>{const i=n.value(n.index,r);return Ca(i)?t=i:t}}},param:[1,1]},fill_up:{create(e=hn){let t,n;return{init:()=>(t=e,n=-1),value:(r,i)=>r.index<=n?t:(n=HHe(r,i,r.index))>=0?t=r.value(n,i):(n=r.size,t=e)}},param:[1,1]}};function HHe(e,t,n){for(const r=e.size;n<r;++n)if(Ca(e.value(n,t)))return n;return-1}function C3(e){return Ma(Yne,e)}function O3(e){return Ma(Gne,e)}function Kne(e){return Ma(mp,e)||e==="row_object"}function Qne(e){return C3(e)&&Yne[e]}function Xne(e){return O3(e)&&Gne[e]}function r0(e,t,n){return e=`"use strict"; return ${e};`,Function("fn","$",e)(t,n)}const P3={escape:(e,t,n)=>r0(e,t,n),expr:(e,t)=>r0(`(row,data,op)=>${e}`,mp,t),expr2:(e,t)=>r0(`(row0,data0,row,data)=>${e}`,mp,t),join:(e,t)=>r0(`(row1,data1,row2,data2)=>${e}`,mp,t),param:(e,t)=>r0(e,mp,t)},WHe={"==":1,"!=":1,"===":1,"!==":1};function Jne(e,t,n=0,r,i){if(e.type=pv,e.name=t,e.table=n,i&&r&&tr(r.keyFor)){const s=WHe[i.operator]?i.left===e?i.right:i.left:i.callee&&i.callee.name==="equal"?i.arguments[i.arguments[0]===e?1:0]:null;s&&s.type===ag&&qHe(i,e,s,r.keyFor(s.value))}return e}function qHe(e,t,n,r){return r<0?(e.type=ag,e.value=!1,e.raw="false"):(t.type=LHe,n.value=r,n.raw=r+""),!0}function II(e){return _n(e)?e:A3(e)?e.entries():e?Object.entries(e):[]}const Zne="row_object";function ere(e,t){e.type=DHe;const n=e.properties=[];for(const r of II(t)){const[i,s]=_n(r)?r:[r,r];n.push({type:Hne,key:{type:ag,raw:Du(s)},value:Jne({computed:!0},i)})}return e}function tre(e){return KT(ere({},e))}function nre(e){return P3.expr(tre(e))}function R3(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function ul(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{l(r.next(c))}catch(f){o(f)}}function u(c){try{l(r.throw(c))}catch(f){o(f)}}function l(c){c.done?s(c.value):i(c.value).then(a,u)}l((r=r.apply(e,t||[])).next())})}function HV(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function sn(e){return this instanceof sn?(this.v=e,this):new sn(e)}function vd(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(d){r[d]&&(i[d]=function(h){return new Promise(function(p,g){s.push([d,h,p,g])>1||a(d,h)})})}function a(d,h){try{u(r[d](h))}catch(p){f(s[0][3],p)}}function u(d){d.value instanceof sn?Promise.resolve(d.value.v).then(l,c):f(s[0][2],d)}function l(d){a("next",d)}function c(d){a("throw",d)}function f(d,h){d(h),s.shift(),s.length&&a(s[0][0],s[0][1])}}function DO(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,s){t[i]=e[i]?function(o){return(n=!n)?{value:sn(e[i](o)),done:!1}:s?s(o):o}:s}}function uy(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof HV=="function"?HV(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(o){return new Promise(function(a,u){o=e[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}}const YHe=new TextDecoder("utf-8"),VR=e=>YHe.decode(e),GHe=new TextEncoder,N3=e=>GHe.encode(e),[Hlt,rre]=(()=>{const e=()=>{throw new Error("BigInt is not available in this environment")};function t(){throw e()}return t.asIntN=()=>{throw e()},t.asUintN=()=>{throw e()},typeof BigInt<"u"?[BigInt,!0]:[t,!1]})(),[vh,Wlt]=(()=>{const e=()=>{throw new Error("BigInt64Array is not available in this environment")};class t{static get BYTES_PER_ELEMENT(){return 8}static of(){throw e()}static from(){throw e()}constructor(){throw e()}}return typeof BigInt64Array<"u"?[BigInt64Array,!0]:[t,!1]})(),[bh,qlt]=(()=>{const e=()=>{throw new Error("BigUint64Array is not available in this environment")};class t{static get BYTES_PER_ELEMENT(){return 8}static of(){throw e()}static from(){throw e()}constructor(){throw e()}}return typeof BigUint64Array<"u"?[BigUint64Array,!0]:[t,!1]})(),KHe=e=>typeof e=="boolean",Rs=e=>typeof e=="function",Mf=e=>e!=null&&Object(e)===e,AI=e=>Mf(e)&&Rs(e.then),k3=e=>Mf(e)&&Rs(e[Symbol.iterator]),CI=e=>Mf(e)&&Rs(e[Symbol.asyncIterator]),QHe=e=>Mf(e)&&"done"in e&&"value"in e,ire=e=>"_getDOMStream"in e&&"_getNodeStream"in e,XHe=e=>Mf(e)&&Rs(e.abort)&&Rs(e.getWriter)&&!ire(e),JHe=e=>Mf(e)&&Rs(e.end)&&Rs(e.write)&&KHe(e.writable)&&!ire(e),ZHe=e=>Mf(e)&&Rs(e.clear)&&Rs(e.bytes)&&Rs(e.position)&&Rs(e.setPosition)&&Rs(e.capacity)&&Rs(e.getBufferIdentifier)&&Rs(e.createLong),D3=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:ArrayBuffer;function eWe(e){const t=e[0]?[e[0]]:[];let n,r,i,s;for(let o,a,u=0,l=0,c=e.length;++u<c;){if(o=t[l],a=e[u],!o||!a||o.buffer!==a.buffer||a.byteOffset<o.byteOffset){a&&(t[++l]=a);continue}if({byteOffset:n,byteLength:i}=o,{byteOffset:r,byteLength:s}=a,n+i<r||r+s<n){a&&(t[++l]=a);continue}t[l]=new Uint8Array(o.buffer,n,r-n+s)}return t}function XT(e,t,n=0,r=t.byteLength){const i=e.byteLength,s=new Uint8Array(e.buffer,e.byteOffset,i),o=new Uint8Array(t.buffer,t.byteOffset,Math.min(r,i));return s.set(o,n),e}function $u(e,t){const n=eWe(e),r=n.reduce((c,f)=>c+f.byteLength,0);let i,s,o,a=0,u=-1;const l=Math.min(t||Number.POSITIVE_INFINITY,r);for(const c=n.length;++u<c;){if(i=n[u],s=i.subarray(0,Math.min(i.length,l-a)),l<=a+s.length){s.length<i.length?n[u]=i.subarray(s.length):s.length===i.length&&u++,o?XT(o,s,a):o=s;break}XT(o||(o=new Uint8Array(l)),s,a),a+=s.length}return[o||new Uint8Array(0),n.slice(u),r-(o?o.byteLength:0)]}function Ii(e,t){let n=QHe(t)?t.value:t;return n instanceof e?e===Uint8Array?new e(n.buffer,n.byteOffset,n.byteLength):n:n?(typeof n=="string"&&(n=N3(n)),n instanceof ArrayBuffer?new e(n):n instanceof D3?new e(n):ZHe(n)?Ii(e,n.bytes()):ArrayBuffer.isView(n)?n.byteLength<=0?new e(0):new e(n.buffer,n.byteOffset,n.byteLength/e.BYTES_PER_ELEMENT):e.from(n)):new e(0)}const i0=e=>Ii(Int32Array,e),Pn=e=>Ii(Uint8Array,e),zR=e=>(e.next(),e);function*tWe(e,t){const n=function*(i){yield i},r=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof D3?n(t):k3(t)?t:n(t);return yield*zR(function*(i){let s=null;do s=i.next(yield Ii(e,s));while(!s.done)}(r[Symbol.iterator]())),new e}const nWe=e=>tWe(Uint8Array,e);function sre(e,t){return vd(this,arguments,function*(){if(AI(t))return yield sn(yield sn(yield*DO(uy(sre(e,yield sn(t))))));const r=function(o){return vd(this,arguments,function*(){yield yield sn(yield sn(o))})},i=function(o){return vd(this,arguments,function*(){yield sn(yield*DO(uy(zR(function*(a){let u=null;do u=a.next(yield u==null?void 0:u.value);while(!u.done)}(o[Symbol.iterator]())))))})},s=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof D3?r(t):k3(t)?i(t):CI(t)?t:r(t);return yield sn(yield*DO(uy(zR(function(o){return vd(this,arguments,function*(){let a=null;do a=yield sn(o.next(yield yield sn(Ii(e,a))));while(!a.done)})}(s[Symbol.asyncIterator]()))))),yield sn(new e)})}const rWe=e=>sre(Uint8Array,e);function $3(e,t,n){if(e!==0){n=n.slice(0,t+1);for(let r=-1;++r<=t;)n[r]+=e}return n}function iWe(e,t){let n=0;const r=e.length;if(r!==t.length)return!1;if(r>0)do if(e[n]!==t[n])return!1;while(++n<r);return!0}const WV={fromIterable(e){return j1(sWe(e))},fromAsyncIterable(e){return j1(oWe(e))},fromDOMStream(e){return j1(aWe(e))},fromNodeStream(e){return j1(lWe(e))},toDOMStream(e,t){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(e,t){throw new Error('"toNodeStream" not available in this environment')}},j1=e=>(e.next(),e);function*sWe(e){let t,n=!1,r=[],i,s,o,a=0;function u(){return s==="peek"?$u(r,o)[0]:([i,r,a]=$u(r,o),i)}({cmd:s,size:o}=yield null);const l=nWe(e)[Symbol.iterator]();try{do if({done:t,value:i}=Number.isNaN(o-a)?l.next():l.next(o-a),!t&&i.byteLength>0&&(r.push(i),a+=i.byteLength),t||o<=a)do({cmd:s,size:o}=yield u());while(o<a);while(!t)}catch(c){(n=!0)&&typeof l.throw=="function"&&l.throw(c)}finally{n===!1&&typeof l.return=="function"&&l.return(null)}return null}function oWe(e){return vd(this,arguments,function*(){let n,r=!1,i=[],s,o,a,u=0;function l(){return o==="peek"?$u(i,a)[0]:([s,i,u]=$u(i,a),s)}({cmd:o,size:a}=yield yield sn(null));const c=rWe(e)[Symbol.asyncIterator]();try{do if({done:n,value:s}=Number.isNaN(a-u)?yield sn(c.next()):yield sn(c.next(a-u)),!n&&s.byteLength>0&&(i.push(s),u+=s.byteLength),n||a<=u)do({cmd:o,size:a}=yield yield sn(l()));while(a<u);while(!n)}catch(f){(r=!0)&&typeof c.throw=="function"&&(yield sn(c.throw(f)))}finally{r===!1&&typeof c.return=="function"&&(yield sn(c.return(new Uint8Array(0))))}return yield sn(null)})}function aWe(e){return vd(this,arguments,function*(){let n=!1,r=!1,i=[],s,o,a,u=0;function l(){return o==="peek"?$u(i,a)[0]:([s,i,u]=$u(i,a),s)}({cmd:o,size:a}=yield yield sn(null));const c=new uWe(e);try{do if({done:n,value:s}=Number.isNaN(a-u)?yield sn(c.read()):yield sn(c.read(a-u)),!n&&s.byteLength>0&&(i.push(Pn(s)),u+=s.byteLength),n||a<=u)do({cmd:o,size:a}=yield yield sn(l()));while(a<u);while(!n)}catch(f){(r=!0)&&(yield sn(c.cancel(f)))}finally{r===!1?yield sn(c.cancel()):e.locked&&c.releaseLock()}return yield sn(null)})}class uWe{constructor(t){this.source=t,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(t){return ul(this,void 0,void 0,function*(){const{reader:n,source:r}=this;n&&(yield n.cancel(t).catch(()=>{})),r&&r.locked&&this.releaseLock()})}read(t){return ul(this,void 0,void 0,function*(){if(t===0)return{done:this.reader==null,value:new Uint8Array(0)};const n=yield this.reader.read();return!n.done&&(n.value=Pn(n)),n})}}const $O=(e,t)=>{const n=i=>r([t,i]);let r;return[t,n,new Promise(i=>(r=i)&&e.once(t,n))]};function lWe(e){return vd(this,arguments,function*(){const n=[];let r="error",i=!1,s=null,o,a,u=0,l=[],c;function f(){return o==="peek"?$u(l,a)[0]:([c,l,u]=$u(l,a),c)}if({cmd:o,size:a}=yield yield sn(null),e.isTTY)return yield yield sn(new Uint8Array(0)),yield sn(null);try{n[0]=$O(e,"end"),n[1]=$O(e,"error");do{if(n[2]=$O(e,"readable"),[r,s]=yield sn(Promise.race(n.map(h=>h[2]))),r==="error")break;if((i=r==="end")||(Number.isFinite(a-u)?(c=Pn(e.read(a-u)),c.byteLength<a-u&&(c=Pn(e.read()))):c=Pn(e.read()),c.byteLength>0&&(l.push(c),u+=c.byteLength)),i||a<=u)do({cmd:o,size:a}=yield yield sn(f()));while(a<u)}while(!i)}finally{yield sn(d(n,r==="error"?s:null))}return yield sn(null);function d(h,p){return c=l=null,new Promise((g,y)=>{for(const[m,_]of h)e.off(m,_);try{const m=e.destroy;m&&m.call(e,p),p=void 0}catch(m){p=m||p}finally{p!=null?y(p):g()}})}})}var lo;(function(e){e[e.V1=0]="V1",e[e.V2=1]="V2",e[e.V3=2]="V3",e[e.V4=3]="V4",e[e.V5=4]="V5"})(lo||(lo={}));var ta;(function(e){e[e.Sparse=0]="Sparse",e[e.Dense=1]="Dense"})(ta||(ta={}));var ki;(function(e){e[e.HALF=0]="HALF",e[e.SINGLE=1]="SINGLE",e[e.DOUBLE=2]="DOUBLE"})(ki||(ki={}));var Lu;(function(e){e[e.DAY=0]="DAY",e[e.MILLISECOND=1]="MILLISECOND"})(Lu||(Lu={}));var on;(function(e){e[e.SECOND=0]="SECOND",e[e.MILLISECOND=1]="MILLISECOND",e[e.MICROSECOND=2]="MICROSECOND",e[e.NANOSECOND=3]="NANOSECOND"})(on||(on={}));var Mu;(function(e){e[e.YEAR_MONTH=0]="YEAR_MONTH",e[e.DAY_TIME=1]="DAY_TIME",e[e.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(Mu||(Mu={}));var di;(function(e){e[e.NONE=0]="NONE",e[e.Schema=1]="Schema",e[e.DictionaryBatch=2]="DictionaryBatch",e[e.RecordBatch=3]="RecordBatch",e[e.Tensor=4]="Tensor",e[e.SparseTensor=5]="SparseTensor"})(di||(di={}));var J;(function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.Float=3]="Float",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct=13]="Struct",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Dictionary=-1]="Dictionary",e[e.Int8=-2]="Int8",e[e.Int16=-3]="Int16",e[e.Int32=-4]="Int32",e[e.Int64=-5]="Int64",e[e.Uint8=-6]="Uint8",e[e.Uint16=-7]="Uint16",e[e.Uint32=-8]="Uint32",e[e.Uint64=-9]="Uint64",e[e.Float16=-10]="Float16",e[e.Float32=-11]="Float32",e[e.Float64=-12]="Float64",e[e.DateDay=-13]="DateDay",e[e.DateMillisecond=-14]="DateMillisecond",e[e.TimestampSecond=-15]="TimestampSecond",e[e.TimestampMillisecond=-16]="TimestampMillisecond",e[e.TimestampMicrosecond=-17]="TimestampMicrosecond",e[e.TimestampNanosecond=-18]="TimestampNanosecond",e[e.TimeSecond=-19]="TimeSecond",e[e.TimeMillisecond=-20]="TimeMillisecond",e[e.TimeMicrosecond=-21]="TimeMicrosecond",e[e.TimeNanosecond=-22]="TimeNanosecond",e[e.DenseUnion=-23]="DenseUnion",e[e.SparseUnion=-24]="SparseUnion",e[e.IntervalDayTime=-25]="IntervalDayTime",e[e.IntervalYearMonth=-26]="IntervalYearMonth"})(J||(J={}));var rl;(function(e){e[e.OFFSET=0]="OFFSET",e[e.DATA=1]="DATA",e[e.VALIDITY=2]="VALIDITY",e[e.TYPE=3]="TYPE"})(rl||(rl={}));const cWe=void 0;function of(e){if(e===null)return"null";if(e===cWe)return"undefined";switch(typeof e){case"number":return`${e}`;case"bigint":return`${e}`;case"string":return`"${e}"`}return typeof e[Symbol.toPrimitive]=="function"?e[Symbol.toPrimitive]("string"):ArrayBuffer.isView(e)?e instanceof vh||e instanceof bh?`[${[...e].map(t=>of(t))}]`:`[${e}]`:ArrayBuffer.isView(e)?`[${e}]`:JSON.stringify(e,(t,n)=>typeof n=="bigint"?`${n}`:n)}const fWe=Symbol.for("isArrowBigNum");function za(e,...t){return t.length===0?Object.setPrototypeOf(Ii(this.TypedArray,e),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(e,...t),this.constructor.prototype)}za.prototype[fWe]=!0;za.prototype.toJSON=function(){return`"${kd(this)}"`};za.prototype.valueOf=function(){return ore(this)};za.prototype.toString=function(){return kd(this)};za.prototype[Symbol.toPrimitive]=function(e="default"){switch(e){case"number":return ore(this);case"string":return kd(this);case"default":return HR(this)}return kd(this)};function jp(...e){return za.apply(this,e)}function Up(...e){return za.apply(this,e)}function e_(...e){return za.apply(this,e)}Object.setPrototypeOf(jp.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf(Up.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(e_.prototype,Object.create(Uint32Array.prototype));Object.assign(jp.prototype,za.prototype,{constructor:jp,signed:!0,TypedArray:Int32Array,BigIntArray:vh});Object.assign(Up.prototype,za.prototype,{constructor:Up,signed:!1,TypedArray:Uint32Array,BigIntArray:bh});Object.assign(e_.prototype,za.prototype,{constructor:e_,signed:!0,TypedArray:Uint32Array,BigIntArray:bh});function ore(e){const{buffer:t,byteOffset:n,length:r,signed:i}=e,s=new bh(t,n,r),o=i&&s[s.length-1]&BigInt(1)<<BigInt(63);let a=BigInt(o?1:0),u=BigInt(0);if(o){for(const l of s)a+=~l*(BigInt(1)<<BigInt(32)*u++);a*=BigInt(-1)}else for(const l of s)a+=l*(BigInt(1)<<BigInt(32)*u++);return a}let kd,HR;rre?(HR=e=>e.byteLength===8?new e.BigIntArray(e.buffer,e.byteOffset,1)[0]:LO(e),kd=e=>e.byteLength===8?`${new e.BigIntArray(e.buffer,e.byteOffset,1)[0]}`:LO(e)):(kd=LO,HR=kd);function LO(e){let t="";const n=new Uint32Array(2);let r=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2);const i=new Uint32Array((r=new Uint16Array(r).reverse()).buffer);let s=-1;const o=r.length-1;do{for(n[0]=r[s=0];s<o;)r[s++]=n[1]=n[0]/10,n[0]=(n[0]-n[1]*10<<16)+r[s];r[s]=n[1]=n[0]/10,n[0]=n[0]-n[1]*10,t=`${n[0]}${t}`}while(i[0]||i[1]||i[2]||i[3]);return t??"0"}class L3{static new(t,n){switch(n){case!0:return new jp(t);case!1:return new Up(t)}switch(t.constructor){case Int8Array:case Int16Array:case Int32Array:case vh:return new jp(t)}return t.byteLength===16?new e_(t):new Up(t)}static signed(t){return new jp(t)}static unsigned(t){return new Up(t)}static decimal(t){return new e_(t)}constructor(t,n){return L3.new(t,n)}}var are,ure,lre,cre,fre,dre,hre,pre,mre,gre,yre,_re,vre,bre,wre,Ere,Tre,Sre,xre;class Qt{static isNull(t){return(t==null?void 0:t.typeId)===J.Null}static isInt(t){return(t==null?void 0:t.typeId)===J.Int}static isFloat(t){return(t==null?void 0:t.typeId)===J.Float}static isBinary(t){return(t==null?void 0:t.typeId)===J.Binary}static isUtf8(t){return(t==null?void 0:t.typeId)===J.Utf8}static isBool(t){return(t==null?void 0:t.typeId)===J.Bool}static isDecimal(t){return(t==null?void 0:t.typeId)===J.Decimal}static isDate(t){return(t==null?void 0:t.typeId)===J.Date}static isTime(t){return(t==null?void 0:t.typeId)===J.Time}static isTimestamp(t){return(t==null?void 0:t.typeId)===J.Timestamp}static isInterval(t){return(t==null?void 0:t.typeId)===J.Interval}static isList(t){return(t==null?void 0:t.typeId)===J.List}static isStruct(t){return(t==null?void 0:t.typeId)===J.Struct}static isUnion(t){return(t==null?void 0:t.typeId)===J.Union}static isFixedSizeBinary(t){return(t==null?void 0:t.typeId)===J.FixedSizeBinary}static isFixedSizeList(t){return(t==null?void 0:t.typeId)===J.FixedSizeList}static isMap(t){return(t==null?void 0:t.typeId)===J.Map}static isDictionary(t){return(t==null?void 0:t.typeId)===J.Dictionary}static isDenseUnion(t){return Qt.isUnion(t)&&t.mode===ta.Dense}static isSparseUnion(t){return Qt.isUnion(t)&&t.mode===ta.Sparse}get typeId(){return J.NONE}}are=Symbol.toStringTag;Qt[are]=(e=>(e.children=null,e.ArrayType=Array,e[Symbol.toStringTag]="DataType"))(Qt.prototype);let Hl=class extends Qt{toString(){return"Null"}get typeId(){return J.Null}};ure=Symbol.toStringTag;Hl[ure]=(e=>e[Symbol.toStringTag]="Null")(Hl.prototype);class gs extends Qt{constructor(t,n){super(),this.isSigned=t,this.bitWidth=n}get typeId(){return J.Int}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?vh:bh}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}lre=Symbol.toStringTag;gs[lre]=(e=>(e.isSigned=null,e.bitWidth=null,e[Symbol.toStringTag]="Int"))(gs.prototype);class M3 extends gs{constructor(){super(!0,8)}get ArrayType(){return Int8Array}}class F3 extends gs{constructor(){super(!0,16)}get ArrayType(){return Int16Array}}class gf extends gs{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}class B3 extends gs{constructor(){super(!0,64)}get ArrayType(){return vh}}class j3 extends gs{constructor(){super(!1,8)}get ArrayType(){return Uint8Array}}class U3 extends gs{constructor(){super(!1,16)}get ArrayType(){return Uint16Array}}class V3 extends gs{constructor(){super(!1,32)}get ArrayType(){return Uint32Array}}class z3 extends gs{constructor(){super(!1,64)}get ArrayType(){return bh}}Object.defineProperty(M3.prototype,"ArrayType",{value:Int8Array});Object.defineProperty(F3.prototype,"ArrayType",{value:Int16Array});Object.defineProperty(gf.prototype,"ArrayType",{value:Int32Array});Object.defineProperty(B3.prototype,"ArrayType",{value:vh});Object.defineProperty(j3.prototype,"ArrayType",{value:Uint8Array});Object.defineProperty(U3.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(V3.prototype,"ArrayType",{value:Uint32Array});Object.defineProperty(z3.prototype,"ArrayType",{value:bh});class yf extends Qt{constructor(t){super(),this.precision=t}get typeId(){return J.Float}get ArrayType(){switch(this.precision){case ki.HALF:return Uint16Array;case ki.SINGLE:return Float32Array;case ki.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}cre=Symbol.toStringTag;yf[cre]=(e=>(e.precision=null,e[Symbol.toStringTag]="Float"))(yf.prototype);class Ire extends yf{constructor(){super(ki.HALF)}}class H3 extends yf{constructor(){super(ki.SINGLE)}}class W3 extends yf{constructor(){super(ki.DOUBLE)}}Object.defineProperty(Ire.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(H3.prototype,"ArrayType",{value:Float32Array});Object.defineProperty(W3.prototype,"ArrayType",{value:Float64Array});let t_=class extends Qt{constructor(){super()}get typeId(){return J.Binary}toString(){return"Binary"}};fre=Symbol.toStringTag;t_[fre]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Binary"))(t_.prototype);let Em=class extends Qt{constructor(){super()}get typeId(){return J.Utf8}toString(){return"Utf8"}};dre=Symbol.toStringTag;Em[dre]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Utf8"))(Em.prototype);let n_=class extends Qt{constructor(){super()}get typeId(){return J.Bool}toString(){return"Bool"}};hre=Symbol.toStringTag;n_[hre]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Bool"))(n_.prototype);let JT=class extends Qt{constructor(t,n,r=128){super(),this.scale=t,this.precision=n,this.bitWidth=r}get typeId(){return J.Decimal}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}};pre=Symbol.toStringTag;JT[pre]=(e=>(e.scale=null,e.precision=null,e.ArrayType=Uint32Array,e[Symbol.toStringTag]="Decimal"))(JT.prototype);class Tm extends Qt{constructor(t){super(),this.unit=t}get typeId(){return J.Date}toString(){return`Date${(this.unit+1)*32}<${Lu[this.unit]}>`}}mre=Symbol.toStringTag;Tm[mre]=(e=>(e.unit=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Date"))(Tm.prototype);class dWe extends Tm{constructor(){super(Lu.DAY)}}class hWe extends Tm{constructor(){super(Lu.MILLISECOND)}}class Wl extends Qt{constructor(t,n){super(),this.unit=t,this.bitWidth=n}get typeId(){return J.Time}toString(){return`Time${this.bitWidth}<${on[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return vh}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}}gre=Symbol.toStringTag;Wl[gre]=(e=>(e.unit=null,e.bitWidth=null,e[Symbol.toStringTag]="Time"))(Wl.prototype);class pWe extends Wl{constructor(){super(on.SECOND,32)}}class mWe extends Wl{constructor(){super(on.MILLISECOND,32)}}class gWe extends Wl{constructor(){super(on.MICROSECOND,64)}}class yWe extends Wl{constructor(){super(on.NANOSECOND,64)}}class ZT extends Qt{constructor(t,n){super(),this.unit=t,this.timezone=n}get typeId(){return J.Timestamp}toString(){return`Timestamp<${on[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}yre=Symbol.toStringTag;ZT[yre]=(e=>(e.unit=null,e.timezone=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Timestamp"))(ZT.prototype);class Sm extends Qt{constructor(t){super(),this.unit=t}get typeId(){return J.Interval}toString(){return`Interval<${Mu[this.unit]}>`}}_re=Symbol.toStringTag;Sm[_re]=(e=>(e.unit=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Interval"))(Sm.prototype);class _We extends Sm{constructor(){super(Mu.DAY_TIME)}}class vWe extends Sm{constructor(){super(Mu.YEAR_MONTH)}}let xm=class extends Qt{constructor(t){super(),this.children=[t]}get typeId(){return J.List}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}};vre=Symbol.toStringTag;xm[vre]=(e=>(e.children=null,e[Symbol.toStringTag]="List"))(xm.prototype);class Xi extends Qt{constructor(t){super(),this.children=t}get typeId(){return J.Struct}toString(){return`Struct<{${this.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}bre=Symbol.toStringTag;Xi[bre]=(e=>(e.children=null,e[Symbol.toStringTag]="Struct"))(Xi.prototype);class r_ extends Qt{constructor(t,n,r){super(),this.mode=t,this.children=r,this.typeIds=n=Int32Array.from(n),this.typeIdToChildIndex=n.reduce((i,s,o)=>(i[s]=o)&&i||i,Object.create(null))}get typeId(){return J.Union}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(t=>`${t.type}`).join(" | ")}>`}}wre=Symbol.toStringTag;r_[wre]=(e=>(e.mode=null,e.typeIds=null,e.children=null,e.typeIdToChildIndex=null,e.ArrayType=Int8Array,e[Symbol.toStringTag]="Union"))(r_.prototype);let eS=class extends Qt{constructor(t){super(),this.byteWidth=t}get typeId(){return J.FixedSizeBinary}toString(){return`FixedSizeBinary[${this.byteWidth}]`}};Ere=Symbol.toStringTag;eS[Ere]=(e=>(e.byteWidth=null,e.ArrayType=Uint8Array,e[Symbol.toStringTag]="FixedSizeBinary"))(eS.prototype);let Im=class extends Qt{constructor(t,n){super(),this.listSize=t,this.children=[n]}get typeId(){return J.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}};Tre=Symbol.toStringTag;Im[Tre]=(e=>(e.children=null,e.listSize=null,e[Symbol.toStringTag]="FixedSizeList"))(Im.prototype);class i_ extends Qt{constructor(t,n=!1){super(),this.children=[t],this.keysSorted=n}get typeId(){return J.Map}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}Sre=Symbol.toStringTag;i_[Sre]=(e=>(e.children=null,e.keysSorted=null,e[Symbol.toStringTag]="Map_"))(i_.prototype);const bWe=(e=>()=>++e)(-1);class _f extends Qt{constructor(t,n,r,i){super(),this.indices=n,this.dictionary=t,this.isOrdered=i||!1,this.id=r==null?bWe():typeof r=="number"?r:r.low}get typeId(){return J.Dictionary}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}xre=Symbol.toStringTag;_f[xre]=(e=>(e.id=null,e.indices=null,e.isOrdered=null,e.dictionary=null,e[Symbol.toStringTag]="Dictionary"))(_f.prototype);function tu(e){const t=e;switch(e.typeId){case J.Decimal:return e.bitWidth/32;case J.Timestamp:return 2;case J.Date:return 1+t.unit;case J.Interval:return 1+t.unit;case J.FixedSizeList:return t.listSize;case J.FixedSizeBinary:return t.byteWidth;default:return 1}}class an{visitMany(t,...n){return t.map((r,i)=>this.visit(r,...n.map(s=>s[i])))}visit(...t){return this.getVisitFn(t[0],!1).apply(this,t)}getVisitFn(t,n=!0){return wWe(this,t,n)}getVisitFnByTypeId(t,n=!0){return Hh(this,t,n)}visitNull(t,...n){return null}visitBool(t,...n){return null}visitInt(t,...n){return null}visitFloat(t,...n){return null}visitUtf8(t,...n){return null}visitBinary(t,...n){return null}visitFixedSizeBinary(t,...n){return null}visitDate(t,...n){return null}visitTimestamp(t,...n){return null}visitTime(t,...n){return null}visitDecimal(t,...n){return null}visitList(t,...n){return null}visitStruct(t,...n){return null}visitUnion(t,...n){return null}visitDictionary(t,...n){return null}visitInterval(t,...n){return null}visitFixedSizeList(t,...n){return null}visitMap(t,...n){return null}}function wWe(e,t,n=!0){return typeof t=="number"?Hh(e,t,n):typeof t=="string"&&t in J?Hh(e,J[t],n):t&&t instanceof Qt?Hh(e,qV(t),n):t!=null&&t.type&&t.type instanceof Qt?Hh(e,qV(t.type),n):Hh(e,J.NONE,n)}function Hh(e,t,n=!0){let r=null;switch(t){case J.Null:r=e.visitNull;break;case J.Bool:r=e.visitBool;break;case J.Int:r=e.visitInt;break;case J.Int8:r=e.visitInt8||e.visitInt;break;case J.Int16:r=e.visitInt16||e.visitInt;break;case J.Int32:r=e.visitInt32||e.visitInt;break;case J.Int64:r=e.visitInt64||e.visitInt;break;case J.Uint8:r=e.visitUint8||e.visitInt;break;case J.Uint16:r=e.visitUint16||e.visitInt;break;case J.Uint32:r=e.visitUint32||e.visitInt;break;case J.Uint64:r=e.visitUint64||e.visitInt;break;case J.Float:r=e.visitFloat;break;case J.Float16:r=e.visitFloat16||e.visitFloat;break;case J.Float32:r=e.visitFloat32||e.visitFloat;break;case J.Float64:r=e.visitFloat64||e.visitFloat;break;case J.Utf8:r=e.visitUtf8;break;case J.Binary:r=e.visitBinary;break;case J.FixedSizeBinary:r=e.visitFixedSizeBinary;break;case J.Date:r=e.visitDate;break;case J.DateDay:r=e.visitDateDay||e.visitDate;break;case J.DateMillisecond:r=e.visitDateMillisecond||e.visitDate;break;case J.Timestamp:r=e.visitTimestamp;break;case J.TimestampSecond:r=e.visitTimestampSecond||e.visitTimestamp;break;case J.TimestampMillisecond:r=e.visitTimestampMillisecond||e.visitTimestamp;break;case J.TimestampMicrosecond:r=e.visitTimestampMicrosecond||e.visitTimestamp;break;case J.TimestampNanosecond:r=e.visitTimestampNanosecond||e.visitTimestamp;break;case J.Time:r=e.visitTime;break;case J.TimeSecond:r=e.visitTimeSecond||e.visitTime;break;case J.TimeMillisecond:r=e.visitTimeMillisecond||e.visitTime;break;case J.TimeMicrosecond:r=e.visitTimeMicrosecond||e.visitTime;break;case J.TimeNanosecond:r=e.visitTimeNanosecond||e.visitTime;break;case J.Decimal:r=e.visitDecimal;break;case J.List:r=e.visitList;break;case J.Struct:r=e.visitStruct;break;case J.Union:r=e.visitUnion;break;case J.DenseUnion:r=e.visitDenseUnion||e.visitUnion;break;case J.SparseUnion:r=e.visitSparseUnion||e.visitUnion;break;case J.Dictionary:r=e.visitDictionary;break;case J.Interval:r=e.visitInterval;break;case J.IntervalDayTime:r=e.visitIntervalDayTime||e.visitInterval;break;case J.IntervalYearMonth:r=e.visitIntervalYearMonth||e.visitInterval;break;case J.FixedSizeList:r=e.visitFixedSizeList;break;case J.Map:r=e.visitMap;break}if(typeof r=="function")return r;if(!n)return()=>null;throw new Error(`Unrecognized type '${J[t]}'`)}function qV(e){switch(e.typeId){case J.Null:return J.Null;case J.Int:{const{bitWidth:t,isSigned:n}=e;switch(t){case 8:return n?J.Int8:J.Uint8;case 16:return n?J.Int16:J.Uint16;case 32:return n?J.Int32:J.Uint32;case 64:return n?J.Int64:J.Uint64}return J.Int}case J.Float:switch(e.precision){case ki.HALF:return J.Float16;case ki.SINGLE:return J.Float32;case ki.DOUBLE:return J.Float64}return J.Float;case J.Binary:return J.Binary;case J.Utf8:return J.Utf8;case J.Bool:return J.Bool;case J.Decimal:return J.Decimal;case J.Time:switch(e.unit){case on.SECOND:return J.TimeSecond;case on.MILLISECOND:return J.TimeMillisecond;case on.MICROSECOND:return J.TimeMicrosecond;case on.NANOSECOND:return J.TimeNanosecond}return J.Time;case J.Timestamp:switch(e.unit){case on.SECOND:return J.TimestampSecond;case on.MILLISECOND:return J.TimestampMillisecond;case on.MICROSECOND:return J.TimestampMicrosecond;case on.NANOSECOND:return J.TimestampNanosecond}return J.Timestamp;case J.Date:switch(e.unit){case Lu.DAY:return J.DateDay;case Lu.MILLISECOND:return J.DateMillisecond}return J.Date;case J.Interval:switch(e.unit){case Mu.DAY_TIME:return J.IntervalDayTime;case Mu.YEAR_MONTH:return J.IntervalYearMonth}return J.Interval;case J.Map:return J.Map;case J.List:return J.List;case J.Struct:return J.Struct;case J.Union:switch(e.mode){case ta.Dense:return J.DenseUnion;case ta.Sparse:return J.SparseUnion}return J.Union;case J.FixedSizeBinary:return J.FixedSizeBinary;case J.FixedSizeList:return J.FixedSizeList;case J.Dictionary:return J.Dictionary}throw new Error(`Unrecognized type '${J[e.typeId]}'`)}an.prototype.visitInt8=null;an.prototype.visitInt16=null;an.prototype.visitInt32=null;an.prototype.visitInt64=null;an.prototype.visitUint8=null;an.prototype.visitUint16=null;an.prototype.visitUint32=null;an.prototype.visitUint64=null;an.prototype.visitFloat16=null;an.prototype.visitFloat32=null;an.prototype.visitFloat64=null;an.prototype.visitDateDay=null;an.prototype.visitDateMillisecond=null;an.prototype.visitTimestampSecond=null;an.prototype.visitTimestampMillisecond=null;an.prototype.visitTimestampMicrosecond=null;an.prototype.visitTimestampNanosecond=null;an.prototype.visitTimeSecond=null;an.prototype.visitTimeMillisecond=null;an.prototype.visitTimeMicrosecond=null;an.prototype.visitTimeNanosecond=null;an.prototype.visitDenseUnion=null;an.prototype.visitSparseUnion=null;an.prototype.visitIntervalDayTime=null;an.prototype.visitIntervalYearMonth=null;const Are=new Float64Array(1),Bh=new Uint32Array(Are.buffer);function Cre(e){const t=(e&31744)>>10,n=(e&1023)/1024,r=Math.pow(-1,(e&32768)>>15);switch(t){case 31:return r*(n?Number.NaN:1/0);case 0:return r*(n?6103515625e-14*n:0)}return r*Math.pow(2,t-15)*(1+n)}function Ore(e){if(e!==e)return 32256;Are[0]=e;const t=(Bh[1]&2147483648)>>16&65535;let n=Bh[1]&2146435072,r=0;return n>=1089470464?Bh[0]>0?n=31744:(n=(n&2080374784)>>16,r=(Bh[1]&1048575)>>10):n<=1056964608?(r=1048576+(Bh[1]&1048575),r=1048576+(r<<(n>>20)-998)>>21,n=0):(n=n-1056964608>>10,r=(Bh[1]&1048575)+512>>10),t|n|r&65535}class kt extends an{}function Ft(e){return(t,n,r)=>{if(t.setValid(n,r!=null))return e(t,n,r)}}const EWe=(e,t,n)=>{e[t]=Math.trunc(n/864e5)},q3=(e,t,n)=>{e[t]=Math.trunc(n%4294967296),e[t+1]=Math.trunc(n/4294967296)},TWe=(e,t,n)=>{e[t]=Math.trunc(n*1e3%4294967296),e[t+1]=Math.trunc(n*1e3/4294967296)},SWe=(e,t,n)=>{e[t]=Math.trunc(n*1e6%4294967296),e[t+1]=Math.trunc(n*1e6/4294967296)},Pre=(e,t,n,r)=>{if(n+1<t.length){const{[n]:i,[n+1]:s}=t;e.set(r.subarray(0,s-i),i)}},xWe=({offset:e,values:t},n,r)=>{const i=e+n;r?t[i>>3]|=1<<i%8:t[i>>3]&=~(1<<i%8)},ac=({values:e},t,n)=>{e[t]=n},Y3=({values:e},t,n)=>{e[t]=n},Rre=({values:e},t,n)=>{e[t]=Ore(n)},IWe=(e,t,n)=>{switch(e.type.precision){case ki.HALF:return Rre(e,t,n);case ki.SINGLE:case ki.DOUBLE:return Y3(e,t,n)}},G3=({values:e},t,n)=>{EWe(e,t,n.valueOf())},K3=({values:e},t,n)=>{q3(e,t*2,n.valueOf())},Nre=({stride:e,values:t},n,r)=>{t.set(r.subarray(0,e),e*n)},AWe=({values:e,valueOffsets:t},n,r)=>Pre(e,t,n,r),CWe=({values:e,valueOffsets:t},n,r)=>{Pre(e,t,n,N3(r))},kre=(e,t,n)=>{e.type.unit===Lu.DAY?G3(e,t,n):K3(e,t,n)},Q3=({values:e},t,n)=>q3(e,t*2,n/1e3),X3=({values:e},t,n)=>q3(e,t*2,n),J3=({values:e},t,n)=>TWe(e,t*2,n),Z3=({values:e},t,n)=>SWe(e,t*2,n),Dre=(e,t,n)=>{switch(e.type.unit){case on.SECOND:return Q3(e,t,n);case on.MILLISECOND:return X3(e,t,n);case on.MICROSECOND:return J3(e,t,n);case on.NANOSECOND:return Z3(e,t,n)}},e6=({values:e},t,n)=>{e[t]=n},t6=({values:e},t,n)=>{e[t]=n},n6=({values:e},t,n)=>{e[t]=n},r6=({values:e},t,n)=>{e[t]=n},$re=(e,t,n)=>{switch(e.type.unit){case on.SECOND:return e6(e,t,n);case on.MILLISECOND:return t6(e,t,n);case on.MICROSECOND:return n6(e,t,n);case on.NANOSECOND:return r6(e,t,n)}},Lre=({values:e,stride:t},n,r)=>{e.set(r.subarray(0,t),t*n)},OWe=(e,t,n)=>{const r=e.children[0],i=e.valueOffsets,s=na.getVisitFn(r);if(Array.isArray(n))for(let o=-1,a=i[t],u=i[t+1];a<u;)s(r,a++,n[++o]);else for(let o=-1,a=i[t],u=i[t+1];a<u;)s(r,a++,n.get(++o))},PWe=(e,t,n)=>{const r=e.children[0],{valueOffsets:i}=e,s=na.getVisitFn(r);let{[t]:o,[t+1]:a}=i;const u=n instanceof Map?n.entries():Object.entries(n);for(const l of u)if(s(r,o,l),++o>=a)break},RWe=(e,t)=>(n,r,i,s)=>r&&n(r,e,t[s]),NWe=(e,t)=>(n,r,i,s)=>r&&n(r,e,t.get(s)),kWe=(e,t)=>(n,r,i,s)=>r&&n(r,e,t.get(i.name)),DWe=(e,t)=>(n,r,i,s)=>r&&n(r,e,t[i.name]),$We=(e,t,n)=>{const r=e.type.children.map(s=>na.getVisitFn(s.type)),i=n instanceof Map?kWe(t,n):n instanceof vn?NWe(t,n):Array.isArray(n)?RWe(t,n):DWe(t,n);e.type.children.forEach((s,o)=>i(r[o],e.children[o],s,o))},LWe=(e,t,n)=>{e.type.mode===ta.Dense?Mre(e,t,n):Fre(e,t,n)},Mre=(e,t,n)=>{const r=e.type.typeIdToChildIndex[e.typeIds[t]],i=e.children[r];na.visit(i,e.valueOffsets[t],n)},Fre=(e,t,n)=>{const r=e.type.typeIdToChildIndex[e.typeIds[t]],i=e.children[r];na.visit(i,t,n)},MWe=(e,t,n)=>{var r;(r=e.dictionary)===null||r===void 0||r.set(e.values[t],n)},Bre=(e,t,n)=>{e.type.unit===Mu.DAY_TIME?i6(e,t,n):s6(e,t,n)},i6=({values:e},t,n)=>{e.set(n.subarray(0,2),2*t)},s6=({values:e},t,n)=>{e[t]=n[0]*12+n[1]%12},FWe=(e,t,n)=>{const{stride:r}=e,i=e.children[0],s=na.getVisitFn(i);if(Array.isArray(n))for(let o=-1,a=t*r;++o<r;)s(i,a+o,n[o]);else for(let o=-1,a=t*r;++o<r;)s(i,a+o,n.get(o))};kt.prototype.visitBool=Ft(xWe);kt.prototype.visitInt=Ft(ac);kt.prototype.visitInt8=Ft(ac);kt.prototype.visitInt16=Ft(ac);kt.prototype.visitInt32=Ft(ac);kt.prototype.visitInt64=Ft(ac);kt.prototype.visitUint8=Ft(ac);kt.prototype.visitUint16=Ft(ac);kt.prototype.visitUint32=Ft(ac);kt.prototype.visitUint64=Ft(ac);kt.prototype.visitFloat=Ft(IWe);kt.prototype.visitFloat16=Ft(Rre);kt.prototype.visitFloat32=Ft(Y3);kt.prototype.visitFloat64=Ft(Y3);kt.prototype.visitUtf8=Ft(CWe);kt.prototype.visitBinary=Ft(AWe);kt.prototype.visitFixedSizeBinary=Ft(Nre);kt.prototype.visitDate=Ft(kre);kt.prototype.visitDateDay=Ft(G3);kt.prototype.visitDateMillisecond=Ft(K3);kt.prototype.visitTimestamp=Ft(Dre);kt.prototype.visitTimestampSecond=Ft(Q3);kt.prototype.visitTimestampMillisecond=Ft(X3);kt.prototype.visitTimestampMicrosecond=Ft(J3);kt.prototype.visitTimestampNanosecond=Ft(Z3);kt.prototype.visitTime=Ft($re);kt.prototype.visitTimeSecond=Ft(e6);kt.prototype.visitTimeMillisecond=Ft(t6);kt.prototype.visitTimeMicrosecond=Ft(n6);kt.prototype.visitTimeNanosecond=Ft(r6);kt.prototype.visitDecimal=Ft(Lre);kt.prototype.visitList=Ft(OWe);kt.prototype.visitStruct=Ft($We);kt.prototype.visitUnion=Ft(LWe);kt.prototype.visitDenseUnion=Ft(Mre);kt.prototype.visitSparseUnion=Ft(Fre);kt.prototype.visitDictionary=Ft(MWe);kt.prototype.visitInterval=Ft(Bre);kt.prototype.visitIntervalDayTime=Ft(i6);kt.prototype.visitIntervalYearMonth=Ft(s6);kt.prototype.visitFixedSizeList=Ft(FWe);kt.prototype.visitMap=Ft(PWe);const na=new kt,ba=Symbol.for("parent"),Vp=Symbol.for("rowIndex");class o6{constructor(t,n){return this[ba]=t,this[Vp]=n,new Proxy(this,new jWe)}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[Vp],n=this[ba],r=n.type.children,i={};for(let s=-1,o=r.length;++s<o;)i[r[s].name]=Ks.visit(n.children[s],t);return i}toString(){return`{${[...this].map(([t,n])=>`${of(t)}: ${of(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new BWe(this[ba],this[Vp])}}class BWe{constructor(t,n){this.childIndex=0,this.children=t.children,this.rowIndex=n,this.childFields=t.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){const t=this.childIndex;return t<this.numChildren?(this.childIndex=t+1,{done:!1,value:[this.childFields[t].name,Ks.visit(this.children[t],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(o6.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[ba]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Vp]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class jWe{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[ba].type.children.map(n=>n.name)}has(t,n){return t[ba].type.children.findIndex(r=>r.name===n)!==-1}getOwnPropertyDescriptor(t,n){if(t[ba].type.children.findIndex(r=>r.name===n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,n){if(Reflect.has(t,n))return t[n];const r=t[ba].type.children.findIndex(i=>i.name===n);if(r!==-1){const i=Ks.visit(t[ba].children[r],t[Vp]);return Reflect.set(t,n,i),i}}set(t,n,r){const i=t[ba].type.children.findIndex(s=>s.name===n);return i!==-1?(na.visit(t[ba].children[i],t[Vp],r),Reflect.set(t,n,r)):Reflect.has(t,n)||typeof n=="symbol"?Reflect.set(t,n,r):!1}}class Ct extends an{}function Dt(e){return(t,n)=>t.getValid(n)?e(t,n):null}const UWe=(e,t)=>864e5*e[t],a6=(e,t)=>4294967296*e[t+1]+(e[t]>>>0),VWe=(e,t)=>4294967296*(e[t+1]/1e3)+(e[t]>>>0)/1e3,zWe=(e,t)=>4294967296*(e[t+1]/1e6)+(e[t]>>>0)/1e6,jre=e=>new Date(e),HWe=(e,t)=>jre(UWe(e,t)),WWe=(e,t)=>jre(a6(e,t)),qWe=(e,t)=>null,Ure=(e,t,n)=>{if(n+1>=t.length)return null;const r=t[n],i=t[n+1];return e.subarray(r,i)},YWe=({offset:e,values:t},n)=>{const r=e+n;return(t[r>>3]&1<<r%8)!==0},Vre=({values:e},t)=>HWe(e,t),zre=({values:e},t)=>WWe(e,t*2),Ff=({stride:e,values:t},n)=>t[e*n],GWe=({stride:e,values:t},n)=>Cre(t[e*n]),Hre=({values:e},t)=>e[t],KWe=({stride:e,values:t},n)=>t.subarray(e*n,e*(n+1)),QWe=({values:e,valueOffsets:t},n)=>Ure(e,t,n),XWe=({values:e,valueOffsets:t},n)=>{const r=Ure(e,t,n);return r!==null?VR(r):null},JWe=({values:e},t)=>e[t],ZWe=({type:e,values:t},n)=>e.precision!==ki.HALF?t[n]:Cre(t[n]),eqe=(e,t)=>e.type.unit===Lu.DAY?Vre(e,t):zre(e,t),Wre=({values:e},t)=>1e3*a6(e,t*2),qre=({values:e},t)=>a6(e,t*2),Yre=({values:e},t)=>VWe(e,t*2),Gre=({values:e},t)=>zWe(e,t*2),tqe=(e,t)=>{switch(e.type.unit){case on.SECOND:return Wre(e,t);case on.MILLISECOND:return qre(e,t);case on.MICROSECOND:return Yre(e,t);case on.NANOSECOND:return Gre(e,t)}},Kre=({values:e},t)=>e[t],Qre=({values:e},t)=>e[t],Xre=({values:e},t)=>e[t],Jre=({values:e},t)=>e[t],nqe=(e,t)=>{switch(e.type.unit){case on.SECOND:return Kre(e,t);case on.MILLISECOND:return Qre(e,t);case on.MICROSECOND:return Xre(e,t);case on.NANOSECOND:return Jre(e,t)}},rqe=({values:e,stride:t},n)=>L3.decimal(e.subarray(t*n,t*(n+1))),iqe=(e,t)=>{const{valueOffsets:n,stride:r,children:i}=e,{[t*r]:s,[t*r+1]:o}=n,u=i[0].slice(s,o-s);return new vn([u])},sqe=(e,t)=>{const{valueOffsets:n,children:r}=e,{[t]:i,[t+1]:s}=n,o=r[0];return new OI(o.slice(i,s-i))},oqe=(e,t)=>new o6(e,t),aqe=(e,t)=>e.type.mode===ta.Dense?Zre(e,t):eie(e,t),Zre=(e,t)=>{const n=e.type.typeIdToChildIndex[e.typeIds[t]],r=e.children[n];return Ks.visit(r,e.valueOffsets[t])},eie=(e,t)=>{const n=e.type.typeIdToChildIndex[e.typeIds[t]],r=e.children[n];return Ks.visit(r,t)},uqe=(e,t)=>{var n;return(n=e.dictionary)===null||n===void 0?void 0:n.get(e.values[t])},lqe=(e,t)=>e.type.unit===Mu.DAY_TIME?tie(e,t):nie(e,t),tie=({values:e},t)=>e.subarray(2*t,2*(t+1)),nie=({values:e},t)=>{const n=e[t],r=new Int32Array(2);return r[0]=Math.trunc(n/12),r[1]=Math.trunc(n%12),r},cqe=(e,t)=>{const{stride:n,children:r}=e,s=r[0].slice(t*n,n);return new vn([s])};Ct.prototype.visitNull=Dt(qWe);Ct.prototype.visitBool=Dt(YWe);Ct.prototype.visitInt=Dt(JWe);Ct.prototype.visitInt8=Dt(Ff);Ct.prototype.visitInt16=Dt(Ff);Ct.prototype.visitInt32=Dt(Ff);Ct.prototype.visitInt64=Dt(Hre);Ct.prototype.visitUint8=Dt(Ff);Ct.prototype.visitUint16=Dt(Ff);Ct.prototype.visitUint32=Dt(Ff);Ct.prototype.visitUint64=Dt(Hre);Ct.prototype.visitFloat=Dt(ZWe);Ct.prototype.visitFloat16=Dt(GWe);Ct.prototype.visitFloat32=Dt(Ff);Ct.prototype.visitFloat64=Dt(Ff);Ct.prototype.visitUtf8=Dt(XWe);Ct.prototype.visitBinary=Dt(QWe);Ct.prototype.visitFixedSizeBinary=Dt(KWe);Ct.prototype.visitDate=Dt(eqe);Ct.prototype.visitDateDay=Dt(Vre);Ct.prototype.visitDateMillisecond=Dt(zre);Ct.prototype.visitTimestamp=Dt(tqe);Ct.prototype.visitTimestampSecond=Dt(Wre);Ct.prototype.visitTimestampMillisecond=Dt(qre);Ct.prototype.visitTimestampMicrosecond=Dt(Yre);Ct.prototype.visitTimestampNanosecond=Dt(Gre);Ct.prototype.visitTime=Dt(nqe);Ct.prototype.visitTimeSecond=Dt(Kre);Ct.prototype.visitTimeMillisecond=Dt(Qre);Ct.prototype.visitTimeMicrosecond=Dt(Xre);Ct.prototype.visitTimeNanosecond=Dt(Jre);Ct.prototype.visitDecimal=Dt(rqe);Ct.prototype.visitList=Dt(iqe);Ct.prototype.visitStruct=Dt(oqe);Ct.prototype.visitUnion=Dt(aqe);Ct.prototype.visitDenseUnion=Dt(Zre);Ct.prototype.visitSparseUnion=Dt(eie);Ct.prototype.visitDictionary=Dt(uqe);Ct.prototype.visitInterval=Dt(lqe);Ct.prototype.visitIntervalDayTime=Dt(tie);Ct.prototype.visitIntervalYearMonth=Dt(nie);Ct.prototype.visitFixedSizeList=Dt(cqe);Ct.prototype.visitMap=Dt(sqe);const Ks=new Ct,Aa=Symbol.for("keys"),zp=Symbol.for("vals");class OI{constructor(t){return this[Aa]=new vn([t.children[0]]).memoize(),this[zp]=t.children[1],new Proxy(this,new dqe)}[Symbol.iterator](){return new fqe(this[Aa],this[zp])}get size(){return this[Aa].length}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[Aa],n=this[zp],r={};for(let i=-1,s=t.length;++i<s;)r[t.get(i)]=Ks.visit(n,i);return r}toString(){return`{${[...this].map(([t,n])=>`${of(t)}: ${of(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}class fqe{constructor(t,n){this.keys=t,this.vals=n,this.keyIndex=0,this.numKeys=t.length}[Symbol.iterator](){return this}next(){const t=this.keyIndex;return t===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(t),Ks.visit(this.vals,t)]})}}class dqe{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[Aa].toArray().map(String)}has(t,n){return t[Aa].includes(n)}getOwnPropertyDescriptor(t,n){if(t[Aa].indexOf(n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,n){if(Reflect.has(t,n))return t[n];const r=t[Aa].indexOf(n);if(r!==-1){const i=Ks.visit(Reflect.get(t,zp),r);return Reflect.set(t,n,i),i}}set(t,n,r){const i=t[Aa].indexOf(n);return i!==-1?(na.visit(Reflect.get(t,zp),i,r),Reflect.set(t,n,r)):Reflect.has(t,n)?Reflect.set(t,n,r):!1}}Object.defineProperties(OI.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[Aa]:{writable:!0,enumerable:!1,configurable:!1,value:null},[zp]:{writable:!0,enumerable:!1,configurable:!1,value:null}});let YV;function rie(e,t,n,r){const{length:i=0}=e;let s=typeof t!="number"?0:t,o=typeof n!="number"?i:n;return s<0&&(s=(s%i+i)%i),o<0&&(o=(o%i+i)%i),o<s&&(YV=s,s=o,o=YV),o>i&&(o=i),r?r(e,s,o):[s,o]}const GV=e=>e!==e;function ug(e){if(typeof e!=="object"||e===null)return GV(e)?GV:n=>n===e;if(e instanceof Date){const n=e.valueOf();return r=>r instanceof Date?r.valueOf()===n:!1}return ArrayBuffer.isView(e)?n=>n?iWe(e,n):!1:e instanceof Map?pqe(e):Array.isArray(e)?hqe(e):e instanceof vn?mqe(e):gqe(e,!0)}function hqe(e){const t=[];for(let n=-1,r=e.length;++n<r;)t[n]=ug(e[n]);return PI(t)}function pqe(e){let t=-1;const n=[];for(const r of e.values())n[++t]=ug(r);return PI(n)}function mqe(e){const t=[];for(let n=-1,r=e.length;++n<r;)t[n]=ug(e.get(n));return PI(t)}function gqe(e,t=!1){const n=Object.keys(e);if(!t&&n.length===0)return()=>!1;const r=[];for(let i=-1,s=n.length;++i<s;)r[i]=ug(e[n[i]]);return PI(r,n)}function PI(e,t){return n=>{if(!n||typeof n!="object")return!1;switch(n.constructor){case Array:return yqe(e,n);case Map:return KV(e,n,n.keys());case OI:case o6:case Object:case void 0:return KV(e,n,t||Object.keys(n))}return n instanceof vn?_qe(e,n):!1}}function yqe(e,t){const n=e.length;if(t.length!==n)return!1;for(let r=-1;++r<n;)if(!e[r](t[r]))return!1;return!0}function _qe(e,t){const n=e.length;if(t.length!==n)return!1;for(let r=-1;++r<n;)if(!e[r](t.get(r)))return!1;return!0}function KV(e,t,n){const r=n[Symbol.iterator](),i=t instanceof Map?t.keys():Object.keys(t)[Symbol.iterator](),s=t instanceof Map?t.values():Object.values(t)[Symbol.iterator]();let o=0;const a=e.length;let u=s.next(),l=r.next(),c=i.next();for(;o<a&&!l.done&&!c.done&&!u.done&&!(l.value!==c.value||!e[o](u.value));++o,l=r.next(),c=i.next(),u=s.next());return o===a&&l.done&&c.done&&u.done?!0:(r.return&&r.return(),i.return&&i.return(),s.return&&s.return(),!1)}function iie(e,t,n,r){return(n&1<<r)!==0}function vqe(e,t,n,r){return(n&1<<r)>>r}function u6(e,t,n){const r=n.byteLength+7&-8;if(e>0||n.byteLength<r){const i=new Uint8Array(r);return i.set(e%8===0?n.subarray(e>>3):sie(new l6(n,e,t,null,iie)).subarray(0,r)),i}return n}function sie(e){const t=[];let n=0,r=0,i=0;for(const o of e)o&&(i|=1<<r),++r===8&&(t[n++]=i,i=r=0);(n===0||r>0)&&(t[n++]=i);const s=new Uint8Array(t.length+7&-8);return s.set(t),s}class l6{constructor(t,n,r,i,s){this.bytes=t,this.length=r,this.context=i,this.get=s,this.bit=n%8,this.byteIndex=n>>3,this.byte=t[this.byteIndex++],this.index=0}next(){return this.index<this.length?(this.bit===8&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}function WR(e,t,n){if(n-t<=0)return 0;if(n-t<8){let s=0;for(const o of new l6(e,t,n-t,e,vqe))s+=o;return s}const r=n>>3<<3,i=t+(t%8===0?0:8-t%8);return WR(e,t,i)+WR(e,r,n)+bqe(e,i>>3,r-i>>3)}function bqe(e,t,n){let r=0,i=Math.trunc(t);const s=new DataView(e.buffer,e.byteOffset,e.byteLength),o=n===void 0?e.byteLength:i+n;for(;o-i>=4;)r+=MO(s.getUint32(i)),i+=4;for(;o-i>=2;)r+=MO(s.getUint16(i)),i+=2;for(;o-i>=1;)r+=MO(s.getUint8(i)),i+=1;return r}function MO(e){let t=Math.trunc(e);return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),(t+(t>>>4)&252645135)*16843009>>>24}const wqe=-1;class Mn{constructor(t,n,r,i,s,o=[],a){this.type=t,this.children=o,this.dictionary=a,this.offset=Math.floor(Math.max(n||0,0)),this.length=Math.floor(Math.max(r||0,0)),this._nullCount=Math.floor(Math.max(i||0,-1));let u;s instanceof Mn?(this.stride=s.stride,this.values=s.values,this.typeIds=s.typeIds,this.nullBitmap=s.nullBitmap,this.valueOffsets=s.valueOffsets):(this.stride=tu(t),s&&((u=s[0])&&(this.valueOffsets=u),(u=s[1])&&(this.values=u),(u=s[2])&&(this.nullBitmap=u),(u=s[3])&&(this.typeIds=u))),this.nullable=this._nullCount!==0&&this.nullBitmap&&this.nullBitmap.byteLength>0}get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get byteLength(){let t=0;const{valueOffsets:n,values:r,nullBitmap:i,typeIds:s}=this;return n&&(t+=n.byteLength),r&&(t+=r.byteLength),i&&(t+=i.byteLength),s&&(t+=s.byteLength),this.children.reduce((o,a)=>o+a.byteLength,t)}get nullCount(){let t=this._nullCount,n;return t<=wqe&&(n=this.nullBitmap)&&(this._nullCount=t=this.length-WR(n,this.offset,this.offset+this.length)),t}getValid(t){if(this.nullable&&this.nullCount>0){const n=this.offset+t;return(this.nullBitmap[n>>3]&1<<n%8)!==0}return!0}setValid(t,n){if(!this.nullable)return n;if(!this.nullBitmap||this.nullBitmap.byteLength<=t>>3){const{nullBitmap:u}=this._changeLengthAndBackfillNullBitmap(this.length);Object.assign(this,{nullBitmap:u,_nullCount:0})}const{nullBitmap:r,offset:i}=this,s=i+t>>3,o=(i+t)%8,a=r[s]>>o&1;return n?a===0&&(r[s]|=1<<o,this._nullCount=this.nullCount+1):a===1&&(r[s]&=~(1<<o),this._nullCount=this.nullCount-1),n}clone(t=this.type,n=this.offset,r=this.length,i=this._nullCount,s=this,o=this.children){return new Mn(t,n,r,i,s,o,this.dictionary)}slice(t,n){const{stride:r,typeId:i,children:s}=this,o=+(this._nullCount===0)-1,a=i===16?r:1,u=this._sliceBuffers(t,n,r,i);return this.clone(this.type,this.offset+t,n,o,u,s.length===0||this.valueOffsets?s:this._sliceChildren(s,a*t,a*n))}_changeLengthAndBackfillNullBitmap(t){if(this.typeId===J.Null)return this.clone(this.type,0,t,0);const{length:n,nullCount:r}=this,i=new Uint8Array((t+63&-64)>>3).fill(255,0,n>>3);i[n>>3]=(1<<n-(n&-8))-1,r>0&&i.set(u6(this.offset,n,this.nullBitmap),0);const s=this.buffers;return s[rl.VALIDITY]=i,this.clone(this.type,0,t,r+(t-n),s)}_sliceBuffers(t,n,r,i){let s;const{buffers:o}=this;return(s=o[rl.TYPE])&&(o[rl.TYPE]=s.subarray(t,t+n)),(s=o[rl.OFFSET])&&(o[rl.OFFSET]=s.subarray(t,t+n+1))||(s=o[rl.DATA])&&(o[rl.DATA]=i===6?s:s.subarray(r*t,r*(t+n))),o}_sliceChildren(t,n,r){return t.map(i=>i.slice(n,r))}}Mn.prototype.children=Object.freeze([]);class ly extends an{visit(t){return this.getVisitFn(t.type).call(this,t)}visitNull(t){const{["type"]:n,["offset"]:r=0,["length"]:i=0}=t;return new Mn(n,r,i,0)}visitBool(t){const{["type"]:n,["offset"]:r=0}=t,i=Pn(t.nullBitmap),s=Ii(n.ArrayType,t.data),{["length"]:o=s.length>>3,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Mn(n,r,o,a,[void 0,s,i])}visitInt(t){const{["type"]:n,["offset"]:r=0}=t,i=Pn(t.nullBitmap),s=Ii(n.ArrayType,t.data),{["length"]:o=s.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Mn(n,r,o,a,[void 0,s,i])}visitFloat(t){const{["type"]:n,["offset"]:r=0}=t,i=Pn(t.nullBitmap),s=Ii(n.ArrayType,t.data),{["length"]:o=s.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Mn(n,r,o,a,[void 0,s,i])}visitUtf8(t){const{["type"]:n,["offset"]:r=0}=t,i=Pn(t.data),s=Pn(t.nullBitmap),o=i0(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new Mn(n,r,a,u,[o,i,s])}visitBinary(t){const{["type"]:n,["offset"]:r=0}=t,i=Pn(t.data),s=Pn(t.nullBitmap),o=i0(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new Mn(n,r,a,u,[o,i,s])}visitFixedSizeBinary(t){const{["type"]:n,["offset"]:r=0}=t,i=Pn(t.nullBitmap),s=Ii(n.ArrayType,t.data),{["length"]:o=s.length/tu(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Mn(n,r,o,a,[void 0,s,i])}visitDate(t){const{["type"]:n,["offset"]:r=0}=t,i=Pn(t.nullBitmap),s=Ii(n.ArrayType,t.data),{["length"]:o=s.length/tu(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Mn(n,r,o,a,[void 0,s,i])}visitTimestamp(t){const{["type"]:n,["offset"]:r=0}=t,i=Pn(t.nullBitmap),s=Ii(n.ArrayType,t.data),{["length"]:o=s.length/tu(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Mn(n,r,o,a,[void 0,s,i])}visitTime(t){const{["type"]:n,["offset"]:r=0}=t,i=Pn(t.nullBitmap),s=Ii(n.ArrayType,t.data),{["length"]:o=s.length/tu(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Mn(n,r,o,a,[void 0,s,i])}visitDecimal(t){const{["type"]:n,["offset"]:r=0}=t,i=Pn(t.nullBitmap),s=Ii(n.ArrayType,t.data),{["length"]:o=s.length/tu(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Mn(n,r,o,a,[void 0,s,i])}visitList(t){const{["type"]:n,["offset"]:r=0,["child"]:i}=t,s=Pn(t.nullBitmap),o=i0(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new Mn(n,r,a,u,[o,void 0,s],[i])}visitStruct(t){const{["type"]:n,["offset"]:r=0,["children"]:i=[]}=t,s=Pn(t.nullBitmap),{length:o=i.reduce((u,{length:l})=>Math.max(u,l),0),nullCount:a=t.nullBitmap?-1:0}=t;return new Mn(n,r,o,a,[void 0,void 0,s],i)}visitUnion(t){const{["type"]:n,["offset"]:r=0,["children"]:i=[]}=t,s=Pn(t.nullBitmap),o=Ii(n.ArrayType,t.typeIds),{["length"]:a=o.length,["nullCount"]:u=t.nullBitmap?-1:0}=t;if(Qt.isSparseUnion(n))return new Mn(n,r,a,u,[void 0,void 0,s,o],i);const l=i0(t.valueOffsets);return new Mn(n,r,a,u,[l,void 0,s,o],i)}visitDictionary(t){const{["type"]:n,["offset"]:r=0}=t,i=Pn(t.nullBitmap),s=Ii(n.indices.ArrayType,t.data),{["dictionary"]:o=new vn([new ly().visit({type:n.dictionary})])}=t,{["length"]:a=s.length,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new Mn(n,r,a,u,[void 0,s,i],[],o)}visitInterval(t){const{["type"]:n,["offset"]:r=0}=t,i=Pn(t.nullBitmap),s=Ii(n.ArrayType,t.data),{["length"]:o=s.length/tu(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Mn(n,r,o,a,[void 0,s,i])}visitFixedSizeList(t){const{["type"]:n,["offset"]:r=0,["child"]:i=new ly().visit({type:n.valueType})}=t,s=Pn(t.nullBitmap),{["length"]:o=i.length/tu(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Mn(n,r,o,a,[void 0,void 0,s],[i])}visitMap(t){const{["type"]:n,["offset"]:r=0,["child"]:i=new ly().visit({type:n.childType})}=t,s=Pn(t.nullBitmap),o=i0(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new Mn(n,r,a,u,[o,void 0,s],[i])}}function Gi(e){return new ly().visit(e)}class QV{constructor(t=0,n){this.numChunks=t,this.getChunkIterator=n,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){const t=this.chunkIterator.next();if(!t.done)return t;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}}function oie(e){return e.reduce((t,n)=>t+n.nullCount,0)}function aie(e){return e.reduce((t,n,r)=>(t[r+1]=t[r]+n.length,t),new Uint32Array(e.length+1))}function uie(e,t,n,r){const i=[];for(let s=-1,o=e.length;++s<o;){const a=e[s],u=t[s],{length:l}=a;if(u>=r)break;if(n>=u+l)continue;if(u>=n&&u+l<=r){i.push(a);continue}const c=Math.max(0,n-u),f=Math.min(r-u,l);i.push(a.slice(c,f-c))}return i.length===0&&i.push(e[0].slice(0,0)),i}function c6(e,t,n,r){let i=0,s=0,o=t.length-1;do{if(i>=o-1)return n<t[o]?r(e,i,n-t[i]):null;s=i+Math.trunc((o-i)*.5),n<t[s]?o=s:i=s}while(i<o)}function f6(e,t){return e.getValid(t)}function Hp(e){function t(n,r,i){return e(n[r],i)}return function(n){const r=this.data;return c6(r,this._offsets,n,t)}}function lie(e){let t;function n(r,i,s){return e(r[i],s,t)}return function(r,i){const s=this.data;t=i;const o=c6(s,this._offsets,r,n);return t=void 0,o}}function cie(e){let t;function n(r,i,s){let o=s,a=0,u=0;for(let l=i-1,c=r.length;++l<c;){const f=r[l];if(~(a=e(f,t,o)))return u+a;o=0,u+=f.length}return-1}return function(r,i){t=r;const s=this.data,o=typeof i!="number"?n(s,0,0):c6(s,this._offsets,i,n);return t=void 0,o}}class Ot extends an{}function Eqe(e,t){return t===null&&e.length>0?0:-1}function Tqe(e,t){const{nullBitmap:n}=e;if(!n||e.nullCount<=0)return-1;let r=0;for(const i of new l6(n,e.offset+(t||0),e.length,n,iie)){if(!i)return r;++r}return-1}function Vt(e,t,n){if(t===void 0)return-1;if(t===null)return Tqe(e,n);const r=Ks.getVisitFn(e),i=ug(t);for(let s=(n||0)-1,o=e.length;++s<o;)if(i(r(e,s)))return s;return-1}function fie(e,t,n){const r=Ks.getVisitFn(e),i=ug(t);for(let s=(n||0)-1,o=e.length;++s<o;)if(i(r(e,s)))return s;return-1}Ot.prototype.visitNull=Eqe;Ot.prototype.visitBool=Vt;Ot.prototype.visitInt=Vt;Ot.prototype.visitInt8=Vt;Ot.prototype.visitInt16=Vt;Ot.prototype.visitInt32=Vt;Ot.prototype.visitInt64=Vt;Ot.prototype.visitUint8=Vt;Ot.prototype.visitUint16=Vt;Ot.prototype.visitUint32=Vt;Ot.prototype.visitUint64=Vt;Ot.prototype.visitFloat=Vt;Ot.prototype.visitFloat16=Vt;Ot.prototype.visitFloat32=Vt;Ot.prototype.visitFloat64=Vt;Ot.prototype.visitUtf8=Vt;Ot.prototype.visitBinary=Vt;Ot.prototype.visitFixedSizeBinary=Vt;Ot.prototype.visitDate=Vt;Ot.prototype.visitDateDay=Vt;Ot.prototype.visitDateMillisecond=Vt;Ot.prototype.visitTimestamp=Vt;Ot.prototype.visitTimestampSecond=Vt;Ot.prototype.visitTimestampMillisecond=Vt;Ot.prototype.visitTimestampMicrosecond=Vt;Ot.prototype.visitTimestampNanosecond=Vt;Ot.prototype.visitTime=Vt;Ot.prototype.visitTimeSecond=Vt;Ot.prototype.visitTimeMillisecond=Vt;Ot.prototype.visitTimeMicrosecond=Vt;Ot.prototype.visitTimeNanosecond=Vt;Ot.prototype.visitDecimal=Vt;Ot.prototype.visitList=Vt;Ot.prototype.visitStruct=Vt;Ot.prototype.visitUnion=Vt;Ot.prototype.visitDenseUnion=fie;Ot.prototype.visitSparseUnion=fie;Ot.prototype.visitDictionary=Vt;Ot.prototype.visitInterval=Vt;Ot.prototype.visitIntervalDayTime=Vt;Ot.prototype.visitIntervalYearMonth=Vt;Ot.prototype.visitFixedSizeList=Vt;Ot.prototype.visitMap=Vt;const tS=new Ot;class Pt extends an{}function $t(e){const{type:t}=e;if(e.nullCount===0&&e.stride===1&&(t.typeId===J.Timestamp||t instanceof gs&&t.bitWidth!==64||t instanceof Wl&&t.bitWidth!==64||t instanceof yf&&t.precision!==ki.HALF))return new QV(e.data.length,r=>{const i=e.data[r];return i.values.subarray(0,i.length)[Symbol.iterator]()});let n=0;return new QV(e.data.length,r=>{const s=e.data[r].length,o=e.slice(n,n+s);return n+=s,new Sqe(o)})}class Sqe{constructor(t){this.vector=t,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}Pt.prototype.visitNull=$t;Pt.prototype.visitBool=$t;Pt.prototype.visitInt=$t;Pt.prototype.visitInt8=$t;Pt.prototype.visitInt16=$t;Pt.prototype.visitInt32=$t;Pt.prototype.visitInt64=$t;Pt.prototype.visitUint8=$t;Pt.prototype.visitUint16=$t;Pt.prototype.visitUint32=$t;Pt.prototype.visitUint64=$t;Pt.prototype.visitFloat=$t;Pt.prototype.visitFloat16=$t;Pt.prototype.visitFloat32=$t;Pt.prototype.visitFloat64=$t;Pt.prototype.visitUtf8=$t;Pt.prototype.visitBinary=$t;Pt.prototype.visitFixedSizeBinary=$t;Pt.prototype.visitDate=$t;Pt.prototype.visitDateDay=$t;Pt.prototype.visitDateMillisecond=$t;Pt.prototype.visitTimestamp=$t;Pt.prototype.visitTimestampSecond=$t;Pt.prototype.visitTimestampMillisecond=$t;Pt.prototype.visitTimestampMicrosecond=$t;Pt.prototype.visitTimestampNanosecond=$t;Pt.prototype.visitTime=$t;Pt.prototype.visitTimeSecond=$t;Pt.prototype.visitTimeMillisecond=$t;Pt.prototype.visitTimeMicrosecond=$t;Pt.prototype.visitTimeNanosecond=$t;Pt.prototype.visitDecimal=$t;Pt.prototype.visitList=$t;Pt.prototype.visitStruct=$t;Pt.prototype.visitUnion=$t;Pt.prototype.visitDenseUnion=$t;Pt.prototype.visitSparseUnion=$t;Pt.prototype.visitDictionary=$t;Pt.prototype.visitInterval=$t;Pt.prototype.visitIntervalDayTime=$t;Pt.prototype.visitIntervalYearMonth=$t;Pt.prototype.visitFixedSizeList=$t;Pt.prototype.visitMap=$t;const d6=new Pt,xqe=(e,t)=>e+t;class Bf extends an{visitNull(t,n){return 0}visitInt(t,n){return t.type.bitWidth/8}visitFloat(t,n){return t.type.ArrayType.BYTES_PER_ELEMENT}visitBool(t,n){return 1/8}visitDecimal(t,n){return t.type.bitWidth/8}visitDate(t,n){return(t.type.unit+1)*4}visitTime(t,n){return t.type.bitWidth/8}visitTimestamp(t,n){return t.type.unit===on.SECOND?4:8}visitInterval(t,n){return(t.type.unit+1)*4}visitStruct(t,n){return t.children.reduce((r,i)=>r+Fu.visit(i,n),0)}visitFixedSizeBinary(t,n){return t.type.byteWidth}visitMap(t,n){return 8+t.children.reduce((r,i)=>r+Fu.visit(i,n),0)}visitDictionary(t,n){var r;return t.type.indices.bitWidth/8+(((r=t.dictionary)===null||r===void 0?void 0:r.getByteLength(t.values[n]))||0)}}const Iqe=({valueOffsets:e},t)=>8+(e[t+1]-e[t]),Aqe=({valueOffsets:e},t)=>8+(e[t+1]-e[t]),Cqe=({valueOffsets:e,stride:t,children:n},r)=>{const i=n[0],{[r*t]:s}=e,{[r*t+1]:o}=e,a=Fu.getVisitFn(i.type),u=i.slice(s,o-s);let l=8;for(let c=-1,f=o-s;++c<f;)l+=a(u,c);return l},Oqe=({stride:e,children:t},n)=>{const r=t[0],i=r.slice(n*e,e),s=Fu.getVisitFn(r.type);let o=0;for(let a=-1,u=i.length;++a<u;)o+=s(i,a);return o},Pqe=(e,t)=>e.type.mode===ta.Dense?die(e,t):hie(e,t),die=({type:e,children:t,typeIds:n,valueOffsets:r},i)=>{const s=e.typeIdToChildIndex[n[i]];return 8+Fu.visit(t[s],r[i])},hie=({children:e},t)=>4+Fu.visitMany(e,e.map(()=>t)).reduce(xqe,0);Bf.prototype.visitUtf8=Iqe;Bf.prototype.visitBinary=Aqe;Bf.prototype.visitList=Cqe;Bf.prototype.visitFixedSizeList=Oqe;Bf.prototype.visitUnion=Pqe;Bf.prototype.visitDenseUnion=die;Bf.prototype.visitSparseUnion=hie;const Fu=new Bf;var pie;const mie={},gie={};class vn{constructor(t){var n,r,i;const s=t[0]instanceof vn?t.flatMap(a=>a.data):t;if(s.length===0||s.some(a=>!(a instanceof Mn)))throw new TypeError("Vector constructor expects an Array of Data instances.");const o=(n=s[0])===null||n===void 0?void 0:n.type;switch(s.length){case 0:this._offsets=[0];break;case 1:{const{get:a,set:u,indexOf:l,byteLength:c}=mie[o.typeId],f=s[0];this.isValid=d=>f6(f,d),this.get=d=>a(f,d),this.set=(d,h)=>u(f,d,h),this.indexOf=d=>l(f,d),this.getByteLength=d=>c(f,d),this._offsets=[0,f.length];break}default:Object.setPrototypeOf(this,gie[o.typeId]),this._offsets=aie(s);break}this.data=s,this.type=o,this.stride=tu(o),this.numChildren=(i=(r=o.children)===null||r===void 0?void 0:r.length)!==null&&i!==void 0?i:0,this.length=this._offsets[this._offsets.length-1]}get byteLength(){return this._byteLength===-1&&(this._byteLength=this.data.reduce((t,n)=>t+n.byteLength,0)),this._byteLength}get nullCount(){return this._nullCount===-1&&(this._nullCount=oie(this.data)),this._nullCount}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${J[this.type.typeId]}Vector`}isValid(t){return!1}get(t){return null}set(t,n){}indexOf(t,n){return-1}includes(t,n){return this.indexOf(t,n)>0}getByteLength(t){return 0}[Symbol.iterator](){return d6.visit(this)}concat(...t){return new vn(this.data.concat(t.flatMap(n=>n.data).flat(Number.POSITIVE_INFINITY)))}slice(t,n){return new vn(rie(this,t,n,({data:r,_offsets:i},s,o)=>uie(r,i,s,o)))}toJSON(){return[...this]}toArray(){const{type:t,data:n,length:r,stride:i,ArrayType:s}=this;switch(t.typeId){case J.Int:case J.Float:case J.Decimal:case J.Time:case J.Timestamp:switch(n.length){case 0:return new s;case 1:return n[0].values.subarray(0,r*i);default:return n.reduce((o,{values:a,length:u})=>(o.array.set(a.subarray(0,u*i),o.offset),o.offset+=u*i,o),{array:new s(r*i),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(t){var n;return this.getChildAt((n=this.type.children)===null||n===void 0?void 0:n.findIndex(r=>r.name===t))}getChildAt(t){return t>-1&&t<this.numChildren?new vn(this.data.map(({children:n})=>n[t])):null}get isMemoized(){return Qt.isDictionary(this.type)?this.data[0].dictionary.isMemoized:!1}memoize(){if(Qt.isDictionary(this.type)){const t=new nS(this.data[0].dictionary),n=this.data.map(r=>{const i=r.clone();return i.dictionary=t,i});return new vn(n)}return new nS(this)}unmemoize(){if(Qt.isDictionary(this.type)&&this.isMemoized){const t=this.data[0].dictionary.unmemoize(),n=this.data.map(r=>{const i=r.clone();return i.dictionary=t,i});return new vn(n)}return this}}pie=Symbol.toStringTag;vn[pie]=(e=>{e.type=Qt.prototype,e.data=[],e.length=0,e.stride=1,e.numChildren=0,e._nullCount=-1,e._byteLength=-1,e._offsets=new Uint32Array([0]),e[Symbol.isConcatSpreadable]=!0;const t=Object.keys(J).map(n=>J[n]).filter(n=>typeof n=="number"&&n!==J.NONE);for(const n of t){const r=Ks.getVisitFnByTypeId(n),i=na.getVisitFnByTypeId(n),s=tS.getVisitFnByTypeId(n),o=Fu.getVisitFnByTypeId(n);mie[n]={get:r,set:i,indexOf:s,byteLength:o},gie[n]=Object.create(e,{isValid:{value:Hp(f6)},get:{value:Hp(Ks.getVisitFnByTypeId(n))},set:{value:lie(na.getVisitFnByTypeId(n))},indexOf:{value:cie(tS.getVisitFnByTypeId(n))},getByteLength:{value:Hp(Fu.getVisitFnByTypeId(n))}})}return"Vector"})(vn.prototype);class nS extends vn{constructor(t){super(t.data);const n=this.get,r=this.set,i=this.slice,s=new Array(this.length);Object.defineProperty(this,"get",{value(o){const a=s[o];if(a!==void 0)return a;const u=n.call(this,o);return s[o]=u,u}}),Object.defineProperty(this,"set",{value(o,a){r.call(this,o,a),s[o]=a}}),Object.defineProperty(this,"slice",{value:(o,a)=>new nS(i.call(this,o,a))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new vn(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}function Rqe(e){if(!e||e.length<=0)return function(i){return!0};let t="";const n=e.filter(r=>r===r);return n.length>0&&(t=`
    switch (x) {${n.map(r=>`
        case ${Nqe(r)}:`).join("")}
            return false;
    }`),e.length!==n.length&&(t=`if (x !== x) return false;
${t}`),new Function("x",`${t}
return true;`)}function Nqe(e){return typeof e!="bigint"?of(e):rre?`${of(e)}n`:`"${of(e)}"`}const FO=(e,t)=>(Math.ceil(e)*t+63&-64||64)/t,kqe=(e,t=0)=>e.length>=t?e.subarray(0,t):XT(new e.constructor(t),e,0);class RI{constructor(t,n=1){this.buffer=t,this.stride=n,this.BYTES_PER_ELEMENT=t.BYTES_PER_ELEMENT,this.ArrayType=t.constructor,this._resize(this.length=Math.ceil(t.length/n))}get byteLength(){return Math.ceil(this.length*this.stride)*this.BYTES_PER_ELEMENT}get reservedLength(){return this.buffer.length/this.stride}get reservedByteLength(){return this.buffer.byteLength}set(t,n){return this}append(t){return this.set(this.length,t)}reserve(t){if(t>0){this.length+=t;const n=this.stride,r=this.length*n,i=this.buffer.length;r>=i&&this._resize(i===0?FO(r*1,this.BYTES_PER_ELEMENT):FO(r*2,this.BYTES_PER_ELEMENT))}return this}flush(t=this.length){t=FO(t*this.stride,this.BYTES_PER_ELEMENT);const n=kqe(this.buffer,t);return this.clear(),n}clear(){return this.length=0,this._resize(0),this}_resize(t){return this.buffer=XT(new this.ArrayType(t),this.buffer)}}RI.prototype.offset=0;class mv extends RI{last(){return this.get(this.length-1)}get(t){return this.buffer[t]}set(t,n){return this.reserve(t-this.length+1),this.buffer[t*this.stride]=n,this}}class yie extends mv{constructor(t=new Uint8Array(0)){super(t,1/8),this.numValid=0}get numInvalid(){return this.length-this.numValid}get(t){return this.buffer[t>>3]>>t%8&1}set(t,n){const{buffer:r}=this.reserve(t-this.length+1),i=t>>3,s=t%8,o=r[i]>>s&1;return n?o===0&&(r[i]|=1<<s,++this.numValid):o===1&&(r[i]&=~(1<<s),--this.numValid),this}clear(){return this.numValid=0,super.clear()}}class _ie extends mv{constructor(t=new Int32Array(1)){super(t,1)}append(t){return this.set(this.length-1,t)}set(t,n){const r=this.length-1,i=this.reserve(t-r+1).buffer;return r<t++&&i.fill(i[r],r,t),i[t]=i[t-1]+n,this}flush(t=this.length-1){return t>this.length&&this.set(t-1,0),super.flush(t+1)}}let Xs=class{constructor({type:t,nullValues:n}){this.length=0,this.finished=!1,this.type=t,this.children=[],this.nullValues=n,this.stride=tu(t),this._nulls=new yie,n&&n.length>0&&(this._isValid=Rqe(n))}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t){throw new Error('"throughDOM" not available in this environment')}toVector(){return new vn([this.flush()])}get ArrayType(){return this.type.ArrayType}get nullCount(){return this._nulls.numInvalid}get numChildren(){return this.children.length}get byteLength(){let t=0;const{_offsets:n,_values:r,_nulls:i,_typeIds:s,children:o}=this;return n&&(t+=n.byteLength),r&&(t+=r.byteLength),i&&(t+=i.byteLength),s&&(t+=s.byteLength),o.reduce((a,u)=>a+u.byteLength,t)}get reservedLength(){return this._nulls.reservedLength}get reservedByteLength(){let t=0;return this._offsets&&(t+=this._offsets.reservedByteLength),this._values&&(t+=this._values.reservedByteLength),this._nulls&&(t+=this._nulls.reservedByteLength),this._typeIds&&(t+=this._typeIds.reservedByteLength),this.children.reduce((n,r)=>n+r.reservedByteLength,t)}get valueOffsets(){return this._offsets?this._offsets.buffer:null}get values(){return this._values?this._values.buffer:null}get nullBitmap(){return this._nulls?this._nulls.buffer:null}get typeIds(){return this._typeIds?this._typeIds.buffer:null}append(t){return this.set(this.length,t)}isValid(t){return this._isValid(t)}set(t,n){return this.setValid(t,this.isValid(n))&&this.setValue(t,n),this}setValue(t,n){this._setValue(this,t,n)}setValid(t,n){return this.length=this._nulls.set(t,+n).length,n}addChild(t,n=`${this.numChildren}`){throw new Error(`Cannot append children to non-nested type "${this.type}"`)}getChildAt(t){return this.children[t]||null}flush(){let t,n,r,i;const{type:s,length:o,nullCount:a,_typeIds:u,_offsets:l,_values:c,_nulls:f}=this;(n=u==null?void 0:u.flush(o))?i=l==null?void 0:l.flush(o):(i=l==null?void 0:l.flush(o))?t=c==null?void 0:c.flush(l.last()):t=c==null?void 0:c.flush(o),a>0&&(r=f==null?void 0:f.flush(o));const d=this.children.map(h=>h.flush());return this.clear(),Gi({type:s,length:o,nullCount:a,children:d,child:d[0],data:t,typeIds:n,nullBitmap:r,valueOffsets:i})}finish(){this.finished=!0;for(const t of this.children)t.finish();return this}clear(){var t,n,r,i;this.length=0,(t=this._nulls)===null||t===void 0||t.clear(),(n=this._values)===null||n===void 0||n.clear(),(r=this._offsets)===null||r===void 0||r.clear(),(i=this._typeIds)===null||i===void 0||i.clear();for(const s of this.children)s.clear();return this}};Xs.prototype.length=1;Xs.prototype.stride=1;Xs.prototype.children=null;Xs.prototype.finished=!1;Xs.prototype.nullValues=null;Xs.prototype._isValid=()=>!0;class jf extends Xs{constructor(t){super(t),this._values=new mv(new this.ArrayType(0),this.stride)}setValue(t,n){const r=this._values;return r.reserve(t-r.length+1),super.setValue(t,n)}}class NI extends Xs{constructor(t){super(t),this._pendingLength=0,this._offsets=new _ie}setValue(t,n){const r=this._pending||(this._pending=new Map),i=r.get(t);i&&(this._pendingLength-=i.length),this._pendingLength+=n instanceof OI?n[Aa].length:n.length,r.set(t,n)}setValid(t,n){return super.setValid(t,n)?!0:((this._pending||(this._pending=new Map)).set(t,void 0),!1)}clear(){return this._pendingLength=0,this._pending=void 0,super.clear()}flush(){return this._flush(),super.flush()}finish(){return this._flush(),super.finish()}_flush(){const t=this._pending,n=this._pendingLength;return this._pendingLength=0,this._pending=void 0,t&&t.size>0&&this._flushPending(t,n),this}}class qR{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(t,n,r,i){return t.prep(8,24),t.writeInt64(i),t.pad(4),t.writeInt32(r),t.writeInt64(n),t.offset()}}const BO=2,au=4,ll=4,zn=4,xc=new Int32Array(2),XV=new Float32Array(xc.buffer),JV=new Float64Array(xc.buffer),U1=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;let Cl=class YR{constructor(t,n){this.low=t|0,this.high=n|0}static create(t,n){return t==0&&n==0?YR.ZERO:new YR(t,n)}toFloat64(){return(this.low>>>0)+this.high*4294967296}equals(t){return this.low==t.low&&this.high==t.high}};Cl.ZERO=new Cl(0,0);var GR;(function(e){e[e.UTF8_BYTES=1]="UTF8_BYTES",e[e.UTF16_STRING=2]="UTF16_STRING"})(GR||(GR={}));let rS=class vie{constructor(t){this.bytes_=t,this.position_=0}static allocate(t){return new vie(new Uint8Array(t))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(t){this.position_=t}capacity(){return this.bytes_.length}readInt8(t){return this.readUint8(t)<<24>>24}readUint8(t){return this.bytes_[t]}readInt16(t){return this.readUint16(t)<<16>>16}readUint16(t){return this.bytes_[t]|this.bytes_[t+1]<<8}readInt32(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24}readUint32(t){return this.readInt32(t)>>>0}readInt64(t){return new Cl(this.readInt32(t),this.readInt32(t+4))}readUint64(t){return new Cl(this.readUint32(t),this.readUint32(t+4))}readFloat32(t){return xc[0]=this.readInt32(t),XV[0]}readFloat64(t){return xc[U1?0:1]=this.readInt32(t),xc[U1?1:0]=this.readInt32(t+4),JV[0]}writeInt8(t,n){this.bytes_[t]=n}writeUint8(t,n){this.bytes_[t]=n}writeInt16(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8}writeUint16(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8}writeInt32(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8,this.bytes_[t+2]=n>>16,this.bytes_[t+3]=n>>24}writeUint32(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8,this.bytes_[t+2]=n>>16,this.bytes_[t+3]=n>>24}writeInt64(t,n){this.writeInt32(t,n.low),this.writeInt32(t+4,n.high)}writeUint64(t,n){this.writeUint32(t,n.low),this.writeUint32(t+4,n.high)}writeFloat32(t,n){XV[0]=n,this.writeInt32(t,xc[0])}writeFloat64(t,n){JV[0]=n,this.writeInt32(t,xc[U1?0:1]),this.writeInt32(t+4,xc[U1?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+au+ll)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let t="";for(let n=0;n<ll;n++)t+=String.fromCharCode(this.readInt8(this.position_+au+n));return t}__offset(t,n){const r=t-this.readInt32(t);return n<this.readInt16(r)?this.readInt16(r+n):0}__union(t,n){return t.bb_pos=n+this.readInt32(n),t.bb=this,t}__string(t,n){t+=this.readInt32(t);const r=this.readInt32(t);let i="",s=0;if(t+=au,n===GR.UTF8_BYTES)return this.bytes_.subarray(t,t+r);for(;s<r;){let o;const a=this.readUint8(t+s++);if(a<192)o=a;else{const u=this.readUint8(t+s++);if(a<224)o=(a&31)<<6|u&63;else{const l=this.readUint8(t+s++);if(a<240)o=(a&15)<<12|(u&63)<<6|l&63;else{const c=this.readUint8(t+s++);o=(a&7)<<18|(u&63)<<12|(l&63)<<6|c&63}}}o<65536?i+=String.fromCharCode(o):(o-=65536,i+=String.fromCharCode((o>>10)+55296,(o&1023)+56320))}return i}__union_with_string(t,n){return typeof t=="string"?this.__string(n):this.__union(t,n)}__indirect(t){return t+this.readInt32(t)}__vector(t){return t+this.readInt32(t)+au}__vector_len(t){return this.readInt32(t+this.readInt32(t))}__has_identifier(t){if(t.length!=ll)throw new Error("FlatBuffers: file identifier must be length "+ll);for(let n=0;n<ll;n++)if(t.charCodeAt(n)!=this.readInt8(this.position()+au+n))return!1;return!0}createLong(t,n){return Cl.create(t,n)}createScalarList(t,n){const r=[];for(let i=0;i<n;++i)t(i)!==null&&r.push(t(i));return r}createObjList(t,n){const r=[];for(let i=0;i<n;++i){const s=t(i);s!==null&&r.push(s.unpack())}return r}},bie=class wie{constructor(t){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null;let n;t?n=t:n=1024,this.bb=rS.allocate(n),this.space=n}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(t){this.force_defaults=t}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(t,n){t>this.minalign&&(this.minalign=t);const r=~(this.bb.capacity()-this.space+n)+1&t-1;for(;this.space<r+t+n;){const i=this.bb.capacity();this.bb=wie.growByteBuffer(this.bb),this.space+=this.bb.capacity()-i}this.pad(r)}pad(t){for(let n=0;n<t;n++)this.bb.writeInt8(--this.space,0)}writeInt8(t){this.bb.writeInt8(this.space-=1,t)}writeInt16(t){this.bb.writeInt16(this.space-=2,t)}writeInt32(t){this.bb.writeInt32(this.space-=4,t)}writeInt64(t){this.bb.writeInt64(this.space-=8,t)}writeFloat32(t){this.bb.writeFloat32(this.space-=4,t)}writeFloat64(t){this.bb.writeFloat64(this.space-=8,t)}addInt8(t){this.prep(1,0),this.writeInt8(t)}addInt16(t){this.prep(2,0),this.writeInt16(t)}addInt32(t){this.prep(4,0),this.writeInt32(t)}addInt64(t){this.prep(8,0),this.writeInt64(t)}addFloat32(t){this.prep(4,0),this.writeFloat32(t)}addFloat64(t){this.prep(8,0),this.writeFloat64(t)}addFieldInt8(t,n,r){(this.force_defaults||n!=r)&&(this.addInt8(n),this.slot(t))}addFieldInt16(t,n,r){(this.force_defaults||n!=r)&&(this.addInt16(n),this.slot(t))}addFieldInt32(t,n,r){(this.force_defaults||n!=r)&&(this.addInt32(n),this.slot(t))}addFieldInt64(t,n,r){(this.force_defaults||!n.equals(r))&&(this.addInt64(n),this.slot(t))}addFieldFloat32(t,n,r){(this.force_defaults||n!=r)&&(this.addFloat32(n),this.slot(t))}addFieldFloat64(t,n,r){(this.force_defaults||n!=r)&&(this.addFloat64(n),this.slot(t))}addFieldOffset(t,n,r){(this.force_defaults||n!=r)&&(this.addOffset(n),this.slot(t))}addFieldStruct(t,n,r){n!=r&&(this.nested(n),this.slot(t))}nested(t){if(t!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")}slot(t){this.vtable!==null&&(this.vtable[t]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(t){const n=t.capacity();if(n&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const r=n<<1,i=rS.allocate(r);return i.setPosition(r-n),i.bytes().set(t.bytes(),r-n),i}addOffset(t){this.prep(au,0),this.writeInt32(this.offset()-t+au)}startObject(t){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=t;for(let n=0;n<t;n++)this.vtable[n]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const t=this.offset();let n=this.vtable_in_use-1;for(;n>=0&&this.vtable[n]==0;n--);const r=n+1;for(;n>=0;n--)this.addInt16(this.vtable[n]!=0?t-this.vtable[n]:0);const i=2;this.addInt16(t-this.object_start);const s=(r+i)*BO;this.addInt16(s);let o=0;const a=this.space;e:for(n=0;n<this.vtables.length;n++){const u=this.bb.capacity()-this.vtables[n];if(s==this.bb.readInt16(u)){for(let l=BO;l<s;l+=BO)if(this.bb.readInt16(a+l)!=this.bb.readInt16(u+l))continue e;o=this.vtables[n];break}}return o?(this.space=this.bb.capacity()-t,this.bb.writeInt32(this.space,o-t)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-t,this.offset()-t)),this.isNested=!1,t}finish(t,n,r){const i=r?zn:0;if(n){const s=n;if(this.prep(this.minalign,au+ll+i),s.length!=ll)throw new Error("FlatBuffers: file identifier must be length "+ll);for(let o=ll-1;o>=0;o--)this.writeInt8(s.charCodeAt(o))}this.prep(this.minalign,au+i),this.addOffset(t),i&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(t,n){this.finish(t,n,!0)}requiredField(t,n){const r=this.bb.capacity()-t,i=r-this.bb.readInt32(r);if(!(this.bb.readInt16(i+n)!=0))throw new Error("FlatBuffers: field "+n+" must be set")}startVector(t,n,r){this.notNested(),this.vector_num_elems=n,this.prep(au,t*n),this.prep(r,t*n)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(t){if(!t)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(t))return this.string_maps.get(t);const n=this.createString(t);return this.string_maps.set(t,n),n}createString(t){if(!t)return 0;let n;if(t instanceof Uint8Array)n=t;else{n=[];let r=0;for(;r<t.length;){let i;const s=t.charCodeAt(r++);if(s<55296||s>=56320)i=s;else{const o=t.charCodeAt(r++);i=(s<<10)+o+-56613888}i<128?n.push(i):(i<2048?n.push(i>>6&31|192):(i<65536?n.push(i>>12&15|224):n.push(i>>18&7|240,i>>12&63|128),n.push(i>>6&63|128)),n.push(i&63|128))}}this.addInt8(0),this.startVector(1,n.length,1),this.bb.setPosition(this.space-=n.length);for(let r=0,i=this.space,s=this.bb.bytes();r<n.length;r++)s[i++]=n[r];return this.endVector()}createLong(t,n){return Cl.create(t,n)}createObjectOffset(t){return t===null?0:typeof t=="string"?this.createString(t):t.pack(this)}createObjectOffsetList(t){const n=[];for(let r=0;r<t.length;++r){const i=t[r];if(i!==null)n.push(this.createObjectOffset(i));else throw new Error("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return n}createStructOffsetList(t,n){return n(this,t.length),this.createObjectOffsetList(t),this.endVector()}};class Xr{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsKeyValue(t,n){return(n||new Xr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsKeyValue(t,n){return t.setPosition(t.position()+zn),(n||new Xr).__init(t.readInt32(t.position())+t.position(),t)}key(t){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,t):null}value(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,t):null}static startKeyValue(t){t.startObject(2)}static addKey(t,n){t.addFieldOffset(0,n,0)}static addValue(t,n){t.addFieldOffset(1,n,0)}static endKeyValue(t){return t.endObject()}static createKeyValue(t,n,r){return Xr.startKeyValue(t),Xr.addKey(t,n),Xr.addValue(t,r),Xr.endKeyValue(t)}}var Am;(function(e){e[e.V1=0]="V1",e[e.V2=1]="V2",e[e.V3=2]="V3",e[e.V4=3]="V4",e[e.V5=4]="V5"})(Am||(Am={}));var Cm;(function(e){e[e.Little=0]="Little",e[e.Big=1]="Big"})(Cm||(Cm={}));var iS;(function(e){e[e.DenseArray=0]="DenseArray"})(iS||(iS={}));class ao{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsInt(t,n){return(n||new ao).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInt(t,n){return t.setPosition(t.position()+zn),(n||new ao).__init(t.readInt32(t.position())+t.position(),t)}bitWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}isSigned(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startInt(t){t.startObject(2)}static addBitWidth(t,n){t.addFieldInt32(0,n,0)}static addIsSigned(t,n){t.addFieldInt8(1,+n,0)}static endInt(t){return t.endObject()}static createInt(t,n,r){return ao.startInt(t),ao.addBitWidth(t,n),ao.addIsSigned(t,r),ao.endInt(t)}}class cl{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDictionaryEncoding(t,n){return(n||new cl).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryEncoding(t,n){return t.setPosition(t.position()+zn),(n||new cl).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}indexType(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new ao).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isOrdered(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}dictionaryKind(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):iS.DenseArray}static startDictionaryEncoding(t){t.startObject(4)}static addId(t,n){t.addFieldInt64(0,n,t.createLong(0,0))}static addIndexType(t,n){t.addFieldOffset(1,n,0)}static addIsOrdered(t,n){t.addFieldInt8(2,+n,0)}static addDictionaryKind(t,n){t.addFieldInt16(3,n,iS.DenseArray)}static endDictionaryEncoding(t){return t.endObject()}}class bd{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBinary(t,n){return(n||new bd).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBinary(t,n){return t.setPosition(t.position()+zn),(n||new bd).__init(t.readInt32(t.position())+t.position(),t)}static startBinary(t){t.startObject(0)}static endBinary(t){return t.endObject()}static createBinary(t){return bd.startBinary(t),bd.endBinary(t)}}class wd{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBool(t,n){return(n||new wd).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBool(t,n){return t.setPosition(t.position()+zn),(n||new wd).__init(t.readInt32(t.position())+t.position(),t)}static startBool(t){t.startObject(0)}static endBool(t){return t.endObject()}static createBool(t){return wd.startBool(t),wd.endBool(t)}}var sS;(function(e){e[e.DAY=0]="DAY",e[e.MILLISECOND=1]="MILLISECOND"})(sS||(sS={}));let Wb=class Wh{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDate(t,n){return(n||new Wh).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDate(t,n){return t.setPosition(t.position()+zn),(n||new Wh).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):sS.MILLISECOND}static startDate(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,sS.MILLISECOND)}static endDate(t){return t.endObject()}static createDate(t,n){return Wh.startDate(t),Wh.addUnit(t,n),Wh.endDate(t)}};class Ns{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDecimal(t,n){return(n||new Ns).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDecimal(t,n){return t.setPosition(t.position()+zn),(n||new Ns).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}scale(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0}bitWidth(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):128}static startDecimal(t){t.startObject(3)}static addPrecision(t,n){t.addFieldInt32(0,n,0)}static addScale(t,n){t.addFieldInt32(1,n,0)}static addBitWidth(t,n){t.addFieldInt32(2,n,128)}static endDecimal(t){return t.endObject()}static createDecimal(t,n,r,i){return Ns.startDecimal(t),Ns.addPrecision(t,n),Ns.addScale(t,r),Ns.addBitWidth(t,i),Ns.endDecimal(t)}}var Om;(function(e){e[e.SECOND=0]="SECOND",e[e.MILLISECOND=1]="MILLISECOND",e[e.MICROSECOND=2]="MICROSECOND",e[e.NANOSECOND=3]="NANOSECOND"})(Om||(Om={}));class uu{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFixedSizeBinary(t,n){return(n||new uu).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeBinary(t,n){return t.setPosition(t.position()+zn),(n||new uu).__init(t.readInt32(t.position())+t.position(),t)}byteWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeBinary(t){t.startObject(1)}static addByteWidth(t,n){t.addFieldInt32(0,n,0)}static endFixedSizeBinary(t){return t.endObject()}static createFixedSizeBinary(t,n){return uu.startFixedSizeBinary(t),uu.addByteWidth(t,n),uu.endFixedSizeBinary(t)}}class lu{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFixedSizeList(t,n){return(n||new lu).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeList(t,n){return t.setPosition(t.position()+zn),(n||new lu).__init(t.readInt32(t.position())+t.position(),t)}listSize(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeList(t){t.startObject(1)}static addListSize(t,n){t.addFieldInt32(0,n,0)}static endFixedSizeList(t){return t.endObject()}static createFixedSizeList(t,n){return lu.startFixedSizeList(t),lu.addListSize(t,n),lu.endFixedSizeList(t)}}var oS;(function(e){e[e.HALF=0]="HALF",e[e.SINGLE=1]="SINGLE",e[e.DOUBLE=2]="DOUBLE"})(oS||(oS={}));class cu{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFloatingPoint(t,n){return(n||new cu).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFloatingPoint(t,n){return t.setPosition(t.position()+zn),(n||new cu).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):oS.HALF}static startFloatingPoint(t){t.startObject(1)}static addPrecision(t,n){t.addFieldInt16(0,n,oS.HALF)}static endFloatingPoint(t){return t.endObject()}static createFloatingPoint(t,n){return cu.startFloatingPoint(t),cu.addPrecision(t,n),cu.endFloatingPoint(t)}}var aS;(function(e){e[e.YEAR_MONTH=0]="YEAR_MONTH",e[e.DAY_TIME=1]="DAY_TIME",e[e.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(aS||(aS={}));class fu{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsInterval(t,n){return(n||new fu).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInterval(t,n){return t.setPosition(t.position()+zn),(n||new fu).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):aS.YEAR_MONTH}static startInterval(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,aS.YEAR_MONTH)}static endInterval(t){return t.endObject()}static createInterval(t,n){return fu.startInterval(t),fu.addUnit(t,n),fu.endInterval(t)}}class Ed{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsList(t,n){return(n||new Ed).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsList(t,n){return t.setPosition(t.position()+zn),(n||new Ed).__init(t.readInt32(t.position())+t.position(),t)}static startList(t){t.startObject(0)}static endList(t){return t.endObject()}static createList(t){return Ed.startList(t),Ed.endList(t)}}let qb=class qh{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsMap(t,n){return(n||new qh).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMap(t,n){return t.setPosition(t.position()+zn),(n||new qh).__init(t.readInt32(t.position())+t.position(),t)}keysSorted(){const t=this.bb.__offset(this.bb_pos,4);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startMap(t){t.startObject(1)}static addKeysSorted(t,n){t.addFieldInt8(0,+n,0)}static endMap(t){return t.endObject()}static createMap(t,n){return qh.startMap(t),qh.addKeysSorted(t,n),qh.endMap(t)}};class Td{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsNull(t,n){return(n||new Td).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsNull(t,n){return t.setPosition(t.position()+zn),(n||new Td).__init(t.readInt32(t.position())+t.position(),t)}static startNull(t){t.startObject(0)}static endNull(t){return t.endObject()}static createNull(t){return Td.startNull(t),Td.endNull(t)}}class Sd{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsStruct_(t,n){return(n||new Sd).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsStruct_(t,n){return t.setPosition(t.position()+zn),(n||new Sd).__init(t.readInt32(t.position())+t.position(),t)}static startStruct_(t){t.startObject(0)}static endStruct_(t){return t.endObject()}static createStruct_(t){return Sd.startStruct_(t),Sd.endStruct_(t)}}class zo{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsTime(t,n){return(n||new zo).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTime(t,n){return t.setPosition(t.position()+zn),(n||new zo).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Om.MILLISECOND}bitWidth(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):32}static startTime(t){t.startObject(2)}static addUnit(t,n){t.addFieldInt16(0,n,Om.MILLISECOND)}static addBitWidth(t,n){t.addFieldInt32(1,n,32)}static endTime(t){return t.endObject()}static createTime(t,n,r){return zo.startTime(t),zo.addUnit(t,n),zo.addBitWidth(t,r),zo.endTime(t)}}let I0=class ed{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsTimestamp(t,n){return(n||new ed).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTimestamp(t,n){return t.setPosition(t.position()+zn),(n||new ed).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Om.SECOND}timezone(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,t):null}static startTimestamp(t){t.startObject(2)}static addUnit(t,n){t.addFieldInt16(0,n,Om.SECOND)}static addTimezone(t,n){t.addFieldOffset(1,n,0)}static endTimestamp(t){return t.endObject()}static createTimestamp(t,n,r){return ed.startTimestamp(t),ed.addUnit(t,n),ed.addTimezone(t,r),ed.endTimestamp(t)}};var uS;(function(e){e[e.Sparse=0]="Sparse",e[e.Dense=1]="Dense"})(uS||(uS={}));class Ds{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsUnion(t,n){return(n||new Ds).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUnion(t,n){return t.setPosition(t.position()+zn),(n||new Ds).__init(t.readInt32(t.position())+t.position(),t)}mode(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):uS.Sparse}typeIds(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.readInt32(this.bb.__vector(this.bb_pos+n)+t*4):0}typeIdsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}typeIdsArray(){const t=this.bb.__offset(this.bb_pos,6);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startUnion(t){t.startObject(2)}static addMode(t,n){t.addFieldInt16(0,n,uS.Sparse)}static addTypeIds(t,n){t.addFieldOffset(1,n,0)}static createTypeIdsVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addInt32(n[r]);return t.endVector()}static startTypeIdsVector(t,n){t.startVector(4,n,4)}static endUnion(t){return t.endObject()}static createUnion(t,n,r){return Ds.startUnion(t),Ds.addMode(t,n),Ds.addTypeIds(t,r),Ds.endUnion(t)}}class xd{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsUtf8(t,n){return(n||new xd).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUtf8(t,n){return t.setPosition(t.position()+zn),(n||new xd).__init(t.readInt32(t.position())+t.position(),t)}static startUtf8(t){t.startObject(0)}static endUtf8(t){return t.endObject()}static createUtf8(t){return xd.startUtf8(t),xd.endUtf8(t)}}var gr;(function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.FloatingPoint=3]="FloatingPoint",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct_=13]="Struct_",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Duration=18]="Duration",e[e.LargeBinary=19]="LargeBinary",e[e.LargeUtf8=20]="LargeUtf8",e[e.LargeList=21]="LargeList"})(gr||(gr={}));let Lo=class Yb{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsField(t,n){return(n||new Yb).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsField(t,n){return t.setPosition(t.position()+zn),(n||new Yb).__init(t.readInt32(t.position())+t.position(),t)}name(t){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,t):null}nullable(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}typeType(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint8(this.bb_pos+t):gr.NONE}type(t){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.__union(t,this.bb_pos+n):null}dictionary(t){const n=this.bb.__offset(this.bb_pos,12);return n?(t||new cl).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}children(t,n){const r=this.bb.__offset(this.bb_pos,14);return r?(n||new Yb).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}childrenLength(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,16);return r?(n||new Xr).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}static startField(t){t.startObject(7)}static addName(t,n){t.addFieldOffset(0,n,0)}static addNullable(t,n){t.addFieldInt8(1,+n,0)}static addTypeType(t,n){t.addFieldInt8(2,n,gr.NONE)}static addType(t,n){t.addFieldOffset(3,n,0)}static addDictionary(t,n){t.addFieldOffset(4,n,0)}static addChildren(t,n){t.addFieldOffset(5,n,0)}static createChildrenVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startChildrenVector(t,n){t.startVector(4,n,4)}static addCustomMetadata(t,n){t.addFieldOffset(6,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endField(t){return t.endObject()}},Za=class tl{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsSchema(t,n){return(n||new tl).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsSchema(t,n){return t.setPosition(t.position()+zn),(n||new tl).__init(t.readInt32(t.position())+t.position(),t)}endianness(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Cm.Little}fields(t,n){const r=this.bb.__offset(this.bb_pos,6);return r?(n||new Lo).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}fieldsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new Xr).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}features(t){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.readInt64(this.bb.__vector(this.bb_pos+n)+t*8):this.bb.createLong(0,0)}featuresLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}static startSchema(t){t.startObject(4)}static addEndianness(t,n){t.addFieldInt16(0,n,Cm.Little)}static addFields(t,n){t.addFieldOffset(1,n,0)}static createFieldsVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startFieldsVector(t,n){t.startVector(4,n,4)}static addCustomMetadata(t,n){t.addFieldOffset(2,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static addFeatures(t,n){t.addFieldOffset(3,n,0)}static createFeaturesVector(t,n){t.startVector(8,n.length,8);for(let r=n.length-1;r>=0;r--)t.addInt64(n[r]);return t.endVector()}static startFeaturesVector(t,n){t.startVector(8,n,8)}static endSchema(t){return t.endObject()}static finishSchemaBuffer(t,n){t.finish(n)}static finishSizePrefixedSchemaBuffer(t,n){t.finish(n,void 0,!0)}static createSchema(t,n,r,i,s){return tl.startSchema(t),tl.addEndianness(t,n),tl.addFields(t,r),tl.addCustomMetadata(t,i),tl.addFeatures(t,s),tl.endSchema(t)}};class io{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFooter(t,n){return(n||new io).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFooter(t,n){return t.setPosition(t.position()+zn),(n||new io).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Am.V1}schema(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new Za).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}dictionaries(t,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new qR).__init(this.bb.__vector(this.bb_pos+r)+t*24,this.bb):null}dictionariesLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}recordBatches(t,n){const r=this.bb.__offset(this.bb_pos,10);return r?(n||new qR).__init(this.bb.__vector(this.bb_pos+r)+t*24,this.bb):null}recordBatchesLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,12);return r?(n||new Xr).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startFooter(t){t.startObject(5)}static addVersion(t,n){t.addFieldInt16(0,n,Am.V1)}static addSchema(t,n){t.addFieldOffset(1,n,0)}static addDictionaries(t,n){t.addFieldOffset(2,n,0)}static startDictionariesVector(t,n){t.startVector(24,n,8)}static addRecordBatches(t,n){t.addFieldOffset(3,n,0)}static startRecordBatchesVector(t,n){t.startVector(24,n,8)}static addCustomMetadata(t,n){t.addFieldOffset(4,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endFooter(t){return t.endObject()}static finishFooterBuffer(t,n){t.finish(n)}static finishSizePrefixedFooterBuffer(t,n){t.finish(n,void 0,!0)}}class On{constructor(t=[],n,r){this.fields=t||[],this.metadata=n||new Map,r||(r=KR(t)),this.dictionaries=r}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(t=>t.name)}toString(){return`Schema<{ ${this.fields.map((t,n)=>`${n}: ${t}`).join(", ")} }>`}select(t){const n=new Set(t),r=this.fields.filter(i=>n.has(i.name));return new On(r,this.metadata)}selectAt(t){const n=t.map(r=>this.fields[r]).filter(Boolean);return new On(n,this.metadata)}assign(...t){const n=t[0]instanceof On?t[0]:Array.isArray(t[0])?new On(t[0]):new On(t),r=[...this.fields],i=V1(V1(new Map,this.metadata),n.metadata),s=n.fields.filter(a=>{const u=r.findIndex(l=>l.name===a.name);return~u?(r[u]=a.clone({metadata:V1(V1(new Map,r[u].metadata),a.metadata)}))&&!1:!0}),o=KR(s,new Map);return new On([...r,...s],i,new Map([...this.dictionaries,...o]))}}On.prototype.fields=null;On.prototype.metadata=null;On.prototype.dictionaries=null;class In{constructor(t,n,r=!1,i){this.name=t,this.type=n,this.nullable=r,this.metadata=i||new Map}static new(...t){let[n,r,i,s]=t;return t[0]&&typeof t[0]=="object"&&({name:n}=t[0],r===void 0&&(r=t[0].type),i===void 0&&(i=t[0].nullable),s===void 0&&(s=t[0].metadata)),new In(`${n}`,r,i,s)}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...t){let[n,r,i,s]=t;return!t[0]||typeof t[0]!="object"?[n=this.name,r=this.type,i=this.nullable,s=this.metadata]=t:{name:n=this.name,type:r=this.type,nullable:i=this.nullable,metadata:s=this.metadata}=t[0],In.new(n,r,i,s)}}In.prototype.type=null;In.prototype.name=null;In.prototype.nullable=null;In.prototype.metadata=null;function V1(e,t){return new Map([...e||new Map,...t||new Map])}function KR(e,t=new Map){for(let n=-1,r=e.length;++n<r;){const s=e[n].type;if(Qt.isDictionary(s)){if(!t.has(s.id))t.set(s.id,s.dictionary);else if(t.get(s.id)!==s.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}s.children&&s.children.length>0&&KR(s.children,t)}return t}var ZV=Cl,Dqe=bie,$qe=rS;class QR{constructor(t,n=lo.V4,r,i){this.schema=t,this.version=n,r&&(this._recordBatches=r),i&&(this._dictionaryBatches=i)}static decode(t){t=new $qe(Pn(t));const n=io.getRootAsFooter(t),r=On.decode(n.schema());return new Lqe(r,n)}static encode(t){const n=new Dqe,r=On.encode(n,t.schema);io.startRecordBatchesVector(n,t.numRecordBatches);for(const o of[...t.recordBatches()].slice().reverse())vf.encode(n,o);const i=n.endVector();io.startDictionariesVector(n,t.numDictionaries);for(const o of[...t.dictionaryBatches()].slice().reverse())vf.encode(n,o);const s=n.endVector();return io.startFooter(n),io.addSchema(n,r),io.addVersion(n,lo.V4),io.addRecordBatches(n,i),io.addDictionaries(n,s),io.finishFooterBuffer(n,io.endFooter(n)),n.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}*recordBatches(){for(let t,n=-1,r=this.numRecordBatches;++n<r;)(t=this.getRecordBatch(n))&&(yield t)}*dictionaryBatches(){for(let t,n=-1,r=this.numDictionaries;++n<r;)(t=this.getDictionaryBatch(n))&&(yield t)}getRecordBatch(t){return t>=0&&t<this.numRecordBatches&&this._recordBatches[t]||null}getDictionaryBatch(t){return t>=0&&t<this.numDictionaries&&this._dictionaryBatches[t]||null}}class Lqe extends QR{constructor(t,n){super(t,n.version()),this._footer=n}get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}getRecordBatch(t){if(t>=0&&t<this.numRecordBatches){const n=this._footer.recordBatches(t);if(n)return vf.decode(n)}return null}getDictionaryBatch(t){if(t>=0&&t<this.numDictionaries){const n=this._footer.dictionaries(t);if(n)return vf.decode(n)}return null}}class vf{constructor(t,n,r){this.metaDataLength=t,this.offset=typeof r=="number"?r:r.low,this.bodyLength=typeof n=="number"?n:n.low}static decode(t){return new vf(t.metaDataLength(),t.bodyLength(),t.offset())}static encode(t,n){const{metaDataLength:r}=n,i=new ZV(n.offset,0),s=new ZV(n.bodyLength,0);return qR.createBlock(t,i,r,s)}}const z1=Object.freeze({done:!0,value:void 0});class Eie{tee(){return this._getDOMStream().tee()}pipe(t,n){return this._getNodeStream().pipe(t,n)}pipeTo(t,n){return this._getDOMStream().pipeTo(t,n)}pipeThrough(t,n){return this._getDOMStream().pipeThrough(t,n)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}class Mqe extends Eie{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise(t=>this._closedPromiseResolve=t)}get closed(){return this._closedPromise}cancel(t){return ul(this,void 0,void 0,function*(){yield this.return(t)})}write(t){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(t):this.resolvers.shift().resolve({done:!1,value:t}))}abort(t){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:t}:this.resolvers.shift().reject({done:!0,value:t}))}close(){if(this._closedPromiseResolve){const{resolvers:t}=this;for(;t.length>0;)t.shift().resolve(z1);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(t){return WV.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,t)}toNodeStream(t){return WV.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,t)}throw(t){return ul(this,void 0,void 0,function*(){return yield this.abort(t),z1})}return(t){return ul(this,void 0,void 0,function*(){return yield this.close(),z1})}read(t){return ul(this,void 0,void 0,function*(){return(yield this.next(t,"read")).value})}peek(t){return ul(this,void 0,void 0,function*(){return(yield this.next(t,"peek")).value})}next(...t){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((n,r)=>{this.resolvers.push({resolve:n,reject:r})}):Promise.resolve(z1)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}}class jO extends Mqe{write(t){if((t=Pn(t)).byteLength>0)return super.write(t)}toString(t=!1){return t?VR(this.toUint8Array(!0)):this.toUint8Array(!1).then(VR)}toUint8Array(t=!1){return t?$u(this._values)[0]:ul(this,void 0,void 0,function*(){var n,r;const i=[];let s=0;try{for(var o=uy(this),a;a=yield o.next(),!a.done;){const u=a.value;i.push(u),s+=u.byteLength}}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=o.return)&&(yield r.call(o))}finally{if(n)throw n.error}}return $u(i,s)[0]})}}class Tie extends NI{constructor(t){super(t),this._values=new RI(new Uint8Array(0))}get byteLength(){let t=this._pendingLength+this.length*4;return this._offsets&&(t+=this._offsets.byteLength),this._values&&(t+=this._values.byteLength),this._nulls&&(t+=this._nulls.byteLength),t}setValue(t,n){return super.setValue(t,Pn(n))}_flushPending(t,n){const r=this._offsets,i=this._values.reserve(n).buffer;let s=0;for(const[o,a]of t)if(a===void 0)r.set(o,0);else{const u=a.length;i.set(a,s),r.set(o,u),s+=u}}}class Fqe extends Xs{constructor(t){super(t),this._values=new yie}setValue(t,n){this._values.set(t,+n)}}class kI extends jf{}kI.prototype._setValue=kre;class Sie extends kI{}Sie.prototype._setValue=G3;class xie extends kI{}xie.prototype._setValue=K3;class Iie extends jf{}Iie.prototype._setValue=Lre;class Bqe extends Xs{constructor({type:t,nullValues:n,dictionaryHashFunction:r}){super({type:new _f(t.dictionary,t.indices,t.id,t.isOrdered)}),this._nulls=null,this._dictionaryOffset=0,this._keysToIndices=Object.create(null),this.indices=lS({type:this.type.indices,nullValues:n}),this.dictionary=lS({type:this.type.dictionary,nullValues:null}),typeof r=="function"&&(this.valueToKey=r)}get values(){return this.indices.values}get nullCount(){return this.indices.nullCount}get nullBitmap(){return this.indices.nullBitmap}get byteLength(){return this.indices.byteLength+this.dictionary.byteLength}get reservedLength(){return this.indices.reservedLength+this.dictionary.reservedLength}get reservedByteLength(){return this.indices.reservedByteLength+this.dictionary.reservedByteLength}isValid(t){return this.indices.isValid(t)}setValid(t,n){const r=this.indices;return n=r.setValid(t,n),this.length=r.length,n}setValue(t,n){const r=this._keysToIndices,i=this.valueToKey(n);let s=r[i];return s===void 0&&(r[i]=s=this._dictionaryOffset+this.dictionary.append(n).length-1),this.indices.setValue(t,s)}flush(){const t=this.type,n=this._dictionary,r=this.dictionary.toVector(),i=this.indices.flush().clone(t);return i.dictionary=n?n.concat(r):r,this.finished||(this._dictionaryOffset+=r.length),this._dictionary=i.dictionary,this.clear(),i}finish(){return this.indices.finish(),this.dictionary.finish(),this._dictionaryOffset=0,this._keysToIndices=Object.create(null),super.finish()}clear(){return this.indices.clear(),this.dictionary.clear(),super.clear()}valueToKey(t){return typeof t=="string"?t:`${t}`}}class Aie extends jf{}Aie.prototype._setValue=Nre;class jqe extends Xs{setValue(t,n){const[r]=this.children,i=t*this.stride;for(let s=-1,o=n.length;++s<o;)r.set(i+s,n[s])}addChild(t,n="0"){if(this.numChildren>0)throw new Error("FixedSizeListBuilder can only have one child.");const r=this.children.push(t);return this.type=new Im(this.type.listSize,new In(n,t.type,!0)),r}}class DI extends jf{setValue(t,n){this._values.set(t,n)}}class Uqe extends DI{setValue(t,n){super.setValue(t,Ore(n))}}class Vqe extends DI{}class zqe extends DI{}class $I extends jf{}$I.prototype._setValue=Bre;class Cie extends $I{}Cie.prototype._setValue=i6;class Oie extends $I{}Oie.prototype._setValue=s6;class uc extends jf{setValue(t,n){this._values.set(t,n)}}class Hqe extends uc{}class Wqe extends uc{}class qqe extends uc{}class Yqe extends uc{}class Gqe extends uc{}class Kqe extends uc{}class Qqe extends uc{}class Xqe extends uc{}class Jqe extends NI{constructor(t){super(t),this._offsets=new _ie}addChild(t,n="0"){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=t,this.type=new xm(new In(n,t.type,!0)),this.numChildren-1}_flushPending(t){const n=this._offsets,[r]=this.children;for(const[i,s]of t)if(typeof s>"u")n.set(i,0);else{const o=s.length,a=n.set(i,o).buffer[i];for(let u=-1;++u<o;)r.set(a+u,s[u])}}}class Zqe extends NI{set(t,n){return super.set(t,n)}setValue(t,n){const r=n instanceof Map?n:new Map(Object.entries(n)),i=this._pending||(this._pending=new Map),s=i.get(t);s&&(this._pendingLength-=s.size),this._pendingLength+=r.size,i.set(t,r)}addChild(t,n=`${this.numChildren}`){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=t,this.type=new i_(new In(n,t.type,!0),this.type.keysSorted),this.numChildren-1}_flushPending(t){const n=this._offsets,[r]=this.children;for(const[i,s]of t)if(s===void 0)n.set(i,0);else{let{[i]:o,[i+1]:a}=n.set(i,s.size).buffer;for(const u of s.entries())if(r.set(o,u),++o>=a)break}}}class eYe extends Xs{setValue(t,n){}setValid(t,n){return this.length=Math.max(t+1,this.length),n}}class tYe extends Xs{setValue(t,n){const{children:r,type:i}=this;switch(Array.isArray(n)||n.constructor){case!0:return i.children.forEach((s,o)=>r[o].set(t,n[o]));case Map:return i.children.forEach((s,o)=>r[o].set(t,n.get(s.name)));default:return i.children.forEach((s,o)=>r[o].set(t,n[s.name]))}}setValid(t,n){return super.setValid(t,n)||this.children.forEach(r=>r.setValid(t,n)),n}addChild(t,n=`${this.numChildren}`){const r=this.children.push(t);return this.type=new Xi([...this.type.children,new In(n,t.type,!0)]),r}}class lg extends jf{}lg.prototype._setValue=Dre;class Pie extends lg{}Pie.prototype._setValue=Q3;class Rie extends lg{}Rie.prototype._setValue=X3;class Nie extends lg{}Nie.prototype._setValue=J3;class kie extends lg{}kie.prototype._setValue=Z3;class cg extends jf{}cg.prototype._setValue=$re;class Die extends cg{}Die.prototype._setValue=e6;class $ie extends cg{}$ie.prototype._setValue=t6;class Lie extends cg{}Lie.prototype._setValue=n6;class Mie extends cg{}Mie.prototype._setValue=r6;class h6 extends Xs{constructor(t){super(t),this._typeIds=new mv(new Int8Array(0),1),typeof t.valueToChildTypeId=="function"&&(this._valueToChildTypeId=t.valueToChildTypeId)}get typeIdToChildIndex(){return this.type.typeIdToChildIndex}append(t,n){return this.set(this.length,t,n)}set(t,n,r){return r===void 0&&(r=this._valueToChildTypeId(this,n,t)),this.setValid(t,this.isValid(n))&&this.setValue(t,n,r),this}setValue(t,n,r){this._typeIds.set(t,r);const i=this.type.typeIdToChildIndex[r],s=this.children[i];s==null||s.set(t,n)}addChild(t,n=`${this.children.length}`){const r=this.children.push(t),{type:{children:i,mode:s,typeIds:o}}=this,a=[...i,new In(n,t.type)];return this.type=new r_(s,[...o,r],a),r}_valueToChildTypeId(t,n,r){throw new Error("Cannot map UnionBuilder value to child typeId. Pass the `childTypeId` as the second argument to unionBuilder.append(), or supply a `valueToChildTypeId` function as part of the UnionBuilder constructor options.")}}class nYe extends h6{}class rYe extends h6{constructor(t){super(t),this._offsets=new mv(new Int32Array(0))}setValue(t,n,r){const i=this._typeIds.set(t,r).buffer[t],s=this.getChildAt(this.type.typeIdToChildIndex[i]),o=this._offsets.set(t,s.length).buffer[t];s==null||s.set(o,n)}}class Fie extends NI{constructor(t){super(t),this._values=new RI(new Uint8Array(0))}get byteLength(){let t=this._pendingLength+this.length*4;return this._offsets&&(t+=this._offsets.byteLength),this._values&&(t+=this._values.byteLength),this._nulls&&(t+=this._nulls.byteLength),t}setValue(t,n){return super.setValue(t,N3(n))}_flushPending(t,n){}}Fie.prototype._flushPending=Tie.prototype._flushPending;class iYe extends an{visitNull(){return eYe}visitBool(){return Fqe}visitInt(){return uc}visitInt8(){return Hqe}visitInt16(){return Wqe}visitInt32(){return qqe}visitInt64(){return Yqe}visitUint8(){return Gqe}visitUint16(){return Kqe}visitUint32(){return Qqe}visitUint64(){return Xqe}visitFloat(){return DI}visitFloat16(){return Uqe}visitFloat32(){return Vqe}visitFloat64(){return zqe}visitUtf8(){return Fie}visitBinary(){return Tie}visitFixedSizeBinary(){return Aie}visitDate(){return kI}visitDateDay(){return Sie}visitDateMillisecond(){return xie}visitTimestamp(){return lg}visitTimestampSecond(){return Pie}visitTimestampMillisecond(){return Rie}visitTimestampMicrosecond(){return Nie}visitTimestampNanosecond(){return kie}visitTime(){return cg}visitTimeSecond(){return Die}visitTimeMillisecond(){return $ie}visitTimeMicrosecond(){return Lie}visitTimeNanosecond(){return Mie}visitDecimal(){return Iie}visitList(){return Jqe}visitStruct(){return tYe}visitUnion(){return h6}visitDenseUnion(){return rYe}visitSparseUnion(){return nYe}visitDictionary(){return Bqe}visitInterval(){return $I}visitIntervalDayTime(){return Cie}visitIntervalYearMonth(){return Oie}visitFixedSizeList(){return jqe}visitMap(){return Zqe}}const sYe=new iYe;class Rt extends an{compareSchemas(t,n){return t===n||n instanceof t.constructor&&this.compareManyFields(t.fields,n.fields)}compareManyFields(t,n){return t===n||Array.isArray(t)&&Array.isArray(n)&&t.length===n.length&&t.every((r,i)=>this.compareFields(r,n[i]))}compareFields(t,n){return t===n||n instanceof t.constructor&&t.name===n.name&&t.nullable===n.nullable&&this.visit(t.type,n.type)}}function Js(e,t){return t instanceof e.constructor}function gv(e,t){return e===t||Js(e,t)}function lc(e,t){return e===t||Js(e,t)&&e.bitWidth===t.bitWidth&&e.isSigned===t.isSigned}function LI(e,t){return e===t||Js(e,t)&&e.precision===t.precision}function oYe(e,t){return e===t||Js(e,t)&&e.byteWidth===t.byteWidth}function p6(e,t){return e===t||Js(e,t)&&e.unit===t.unit}function yv(e,t){return e===t||Js(e,t)&&e.unit===t.unit&&e.timezone===t.timezone}function _v(e,t){return e===t||Js(e,t)&&e.unit===t.unit&&e.bitWidth===t.bitWidth}function aYe(e,t){return e===t||Js(e,t)&&e.children.length===t.children.length&&bf.compareManyFields(e.children,t.children)}function uYe(e,t){return e===t||Js(e,t)&&e.children.length===t.children.length&&bf.compareManyFields(e.children,t.children)}function m6(e,t){return e===t||Js(e,t)&&e.mode===t.mode&&e.typeIds.every((n,r)=>n===t.typeIds[r])&&bf.compareManyFields(e.children,t.children)}function lYe(e,t){return e===t||Js(e,t)&&e.id===t.id&&e.isOrdered===t.isOrdered&&bf.visit(e.indices,t.indices)&&bf.visit(e.dictionary,t.dictionary)}function g6(e,t){return e===t||Js(e,t)&&e.unit===t.unit}function cYe(e,t){return e===t||Js(e,t)&&e.listSize===t.listSize&&e.children.length===t.children.length&&bf.compareManyFields(e.children,t.children)}function fYe(e,t){return e===t||Js(e,t)&&e.keysSorted===t.keysSorted&&e.children.length===t.children.length&&bf.compareManyFields(e.children,t.children)}Rt.prototype.visitNull=gv;Rt.prototype.visitBool=gv;Rt.prototype.visitInt=lc;Rt.prototype.visitInt8=lc;Rt.prototype.visitInt16=lc;Rt.prototype.visitInt32=lc;Rt.prototype.visitInt64=lc;Rt.prototype.visitUint8=lc;Rt.prototype.visitUint16=lc;Rt.prototype.visitUint32=lc;Rt.prototype.visitUint64=lc;Rt.prototype.visitFloat=LI;Rt.prototype.visitFloat16=LI;Rt.prototype.visitFloat32=LI;Rt.prototype.visitFloat64=LI;Rt.prototype.visitUtf8=gv;Rt.prototype.visitBinary=gv;Rt.prototype.visitFixedSizeBinary=oYe;Rt.prototype.visitDate=p6;Rt.prototype.visitDateDay=p6;Rt.prototype.visitDateMillisecond=p6;Rt.prototype.visitTimestamp=yv;Rt.prototype.visitTimestampSecond=yv;Rt.prototype.visitTimestampMillisecond=yv;Rt.prototype.visitTimestampMicrosecond=yv;Rt.prototype.visitTimestampNanosecond=yv;Rt.prototype.visitTime=_v;Rt.prototype.visitTimeSecond=_v;Rt.prototype.visitTimeMillisecond=_v;Rt.prototype.visitTimeMicrosecond=_v;Rt.prototype.visitTimeNanosecond=_v;Rt.prototype.visitDecimal=gv;Rt.prototype.visitList=aYe;Rt.prototype.visitStruct=uYe;Rt.prototype.visitUnion=m6;Rt.prototype.visitDenseUnion=m6;Rt.prototype.visitSparseUnion=m6;Rt.prototype.visitDictionary=lYe;Rt.prototype.visitInterval=g6;Rt.prototype.visitIntervalDayTime=g6;Rt.prototype.visitIntervalYearMonth=g6;Rt.prototype.visitFixedSizeList=cYe;Rt.prototype.visitMap=fYe;const bf=new Rt;function XR(e,t){return bf.compareSchemas(e,t)}function lS(e){const t=e.type,n=new(sYe.getVisitFn(t)())(e);if(t.children&&t.children.length>0){const r=e.children||[],i={nullValues:e.nullValues},s=Array.isArray(r)?(o,a)=>r[a]||i:({name:o})=>r[o]||i;for(const[o,a]of t.children.entries()){const{type:u}=a,l=s(a,o);n.children.push(lS(Object.assign(Object.assign({},l),{type:u})))}}return n}function UO(e,t){return dYe(e,t.map(n=>n.data.concat()))}function dYe(e,t){const n=[...e.fields],r=[],i={numBatches:t.reduce((f,d)=>Math.max(f,d.length),0)};let s=0,o=0,a=-1;const u=t.length;let l,c=[];for(;i.numBatches-- >0;){for(o=Number.POSITIVE_INFINITY,a=-1;++a<u;)c[a]=l=t[a].shift(),o=Math.min(o,l?l.length:o);Number.isFinite(o)&&(c=hYe(n,o,c,t,i),o>0&&(r[s++]=Gi({type:new Xi(n),length:o,nullCount:0,children:c.slice()})))}return[e=e.assign(n),r.map(f=>new uo(e,f))]}function hYe(e,t,n,r,i){var s;const o=(t+63&-64)>>3;for(let a=-1,u=r.length;++a<u;){const l=n[a],c=l==null?void 0:l.length;if(c>=t)c===t?n[a]=l:(n[a]=l.slice(0,t),i.numBatches=Math.max(i.numBatches,r[a].unshift(l.slice(t,c-t))));else{const f=e[a];e[a]=f.clone({nullable:!0}),n[a]=(s=l==null?void 0:l._changeLengthAndBackfillNullBitmap(t))!==null&&s!==void 0?s:Gi({type:f.type,length:t,nullCount:t,nullBitmap:new Uint8Array(o)})}}return n}var Bie;class $s{constructor(...t){var n,r;if(t.length===0)return this.batches=[],this.schema=new On([]),this._offsets=[0],this;let i,s;t[0]instanceof On&&(i=t.shift()),t[t.length-1]instanceof Uint32Array&&(s=t.pop());const o=u=>{if(u){if(u instanceof uo)return[u];if(u instanceof $s)return u.batches;if(u instanceof Mn){if(u.type instanceof Xi)return[new uo(new On(u.type.children),u)]}else{if(Array.isArray(u))return u.flatMap(l=>o(l));if(typeof u[Symbol.iterator]=="function")return[...u].flatMap(l=>o(l));if(typeof u=="object"){const l=Object.keys(u),c=l.map(h=>new vn([u[h]])),f=new On(l.map((h,p)=>new In(String(h),c[p].type))),[,d]=UO(f,c);return d.length===0?[new uo(u)]:d}}}return[]},a=t.flatMap(u=>o(u));if(i=(r=i??((n=a[0])===null||n===void 0?void 0:n.schema))!==null&&r!==void 0?r:new On([]),!(i instanceof On))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(const u of a){if(!(u instanceof uo))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!XR(i,u.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=i,this.batches=a,this._offsets=s??aie(this.data)}get data(){return this.batches.map(({data:t})=>t)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((t,n)=>t+n.length,0)}get nullCount(){return this._nullCount===-1&&(this._nullCount=oie(this.data)),this._nullCount}isValid(t){return!1}get(t){return null}set(t,n){}indexOf(t,n){return-1}getByteLength(t){return 0}[Symbol.iterator](){return this.batches.length>0?d6.visit(new vn(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return`[
  ${this.toArray().join(`,
  `)}
]`}concat(...t){const n=this.schema,r=this.data.concat(t.flatMap(({data:i})=>i));return new $s(n,r.map(i=>new uo(n,i)))}slice(t,n){const r=this.schema;[t,n]=rie({length:this.numRows},t,n);const i=uie(this.data,this._offsets,t,n);return new $s(r,i.map(s=>new uo(r,s)))}getChild(t){return this.getChildAt(this.schema.fields.findIndex(n=>n.name===t))}getChildAt(t){if(t>-1&&t<this.schema.fields.length){const n=this.data.map(r=>r.children[t]);if(n.length===0){const{type:r}=this.schema.fields[t],i=Gi({type:r,length:0,nullCount:0});n.push(i._changeLengthAndBackfillNullBitmap(this.numRows))}return new vn(n)}return null}setChild(t,n){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===t),n)}setChildAt(t,n){let r=this.schema,i=[...this.batches];if(t>-1&&t<this.numCols){n||(n=new vn([Gi({type:new Hl,length:this.numRows})]));const s=r.fields.slice(),o=s[t].clone({type:n.type}),a=this.schema.fields.map((u,l)=>this.getChildAt(l));[s[t],a[t]]=[o,n],[r,i]=UO(r,a)}return new $s(r,i)}select(t){const n=this.schema.fields.reduce((r,i,s)=>r.set(i.name,s),new Map);return this.selectAt(t.map(r=>n.get(r)).filter(r=>r>-1))}selectAt(t){const n=this.schema.selectAt(t),r=this.batches.map(i=>i.selectAt(t));return new $s(n,r)}assign(t){const n=this.schema.fields,[r,i]=t.schema.fields.reduce((a,u,l)=>{const[c,f]=a,d=n.findIndex(h=>h.name===u.name);return~d?f[d]=l:c.push(l),a},[[],[]]),s=this.schema.assign(t.schema),o=[...n.map((a,u)=>[u,i[u]]).map(([a,u])=>u===void 0?this.getChildAt(a):t.getChildAt(u)),...r.map(a=>t.getChildAt(a))].filter(Boolean);return new $s(...UO(s,o))}}Bie=Symbol.toStringTag;$s[Bie]=(e=>(e.schema=null,e.batches=[],e._offsets=new Uint32Array([0]),e._nullCount=-1,e[Symbol.isConcatSpreadable]=!0,e.isValid=Hp(f6),e.get=Hp(Ks.getVisitFn(J.Struct)),e.set=lie(na.getVisitFn(J.Struct)),e.indexOf=cie(tS.getVisitFn(J.Struct)),e.getByteLength=Hp(Fu.getVisitFn(J.Struct)),"Table"))($s.prototype);var jie;let uo=class A0{constructor(...t){switch(t.length){case 2:{if([this.schema]=t,!(this.schema instanceof On))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=Gi({nullCount:0,type:new Xi(this.schema.fields),children:this.schema.fields.map(n=>Gi({type:n.type,nullCount:0}))})]=t,!(this.data instanceof Mn))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=e7(this.schema,this.data.children);break}case 1:{const[n]=t,{fields:r,children:i,length:s}=Object.keys(n).reduce((u,l,c)=>(u.children[c]=n[l],u.length=Math.max(u.length,n[l].length),u.fields[c]=In.new({name:l,type:n[l].type,nullable:!0}),u),{length:0,fields:new Array,children:new Array}),o=new On(r),a=Gi({type:new Xi(r),length:s,children:i,nullCount:0});[this.schema,this.data]=e7(o,a.children,s);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=Uie(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(t){return this.data.getValid(t)}get(t){return Ks.visit(this.data,t)}set(t,n){return na.visit(this.data,t,n)}indexOf(t,n){return tS.visit(this.data,t,n)}getByteLength(t){return Fu.visit(this.data,t)}[Symbol.iterator](){return d6.visit(new vn([this.data]))}toArray(){return[...this]}concat(...t){return new $s(this.schema,[this,...t])}slice(t,n){const[r]=new vn([this.data]).slice(t,n).data;return new A0(this.schema,r)}getChild(t){var n;return this.getChildAt((n=this.schema.fields)===null||n===void 0?void 0:n.findIndex(r=>r.name===t))}getChildAt(t){return t>-1&&t<this.schema.fields.length?new vn([this.data.children[t]]):null}setChild(t,n){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===t),n)}setChildAt(t,n){let r=this.schema,i=this.data;if(t>-1&&t<this.numCols){n||(n=new vn([Gi({type:new Hl,length:this.numRows})]));const s=r.fields.slice(),o=i.children.slice(),a=s[t].clone({type:n.type});[s[t],o[t]]=[a,n.data[0]],r=new On(s,new Map(this.schema.metadata)),i=Gi({type:new Xi(s),children:o})}return new A0(r,i)}select(t){const n=this.schema.select(t),r=new Xi(n.fields),i=[];for(const s of t){const o=this.schema.fields.findIndex(a=>a.name===s);~o&&(i[o]=this.data.children[o])}return new A0(n,Gi({type:r,length:this.numRows,children:i}))}selectAt(t){const n=this.schema.selectAt(t),r=t.map(s=>this.data.children[s]).filter(Boolean),i=Gi({type:new Xi(n.fields),length:this.numRows,children:r});return new A0(n,i)}};jie=Symbol.toStringTag;uo[jie]=(e=>(e._nullCount=-1,e[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(uo.prototype);function e7(e,t,n=t.reduce((r,i)=>Math.max(r,i.length),0)){var r;const i=[...e.fields],s=[...t],o=(n+63&-64)>>3;for(const[a,u]of e.fields.entries()){const l=t[a];(!l||l.length!==n)&&(i[a]=u.clone({nullable:!0}),s[a]=(r=l==null?void 0:l._changeLengthAndBackfillNullBitmap(n))!==null&&r!==void 0?r:Gi({type:u.type,length:n,nullCount:n,nullBitmap:new Uint8Array(o)}))}return[e.assign(i),Gi({type:new Xi(i),length:n,children:s})]}function Uie(e,t,n=new Map){for(let r=-1,i=e.length;++r<i;){const o=e[r].type,a=t[r];if(Qt.isDictionary(o)){if(!n.has(o.id))a.dictionary&&n.set(o.id,a.dictionary);else if(n.get(o.id)!==a.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}o.children&&o.children.length>0&&Uie(o.children,a.children,n)}return n}class pYe extends uo{constructor(t){const n=t.fields.map(i=>Gi({type:i.type})),r=Gi({type:new Xi(t.fields),nullCount:0,children:n});super(t,r)}}var cS;(function(e){e[e.BUFFER=0]="BUFFER"})(cS||(cS={}));var fS;(function(e){e[e.LZ4_FRAME=0]="LZ4_FRAME",e[e.ZSTD=1]="ZSTD"})(fS||(fS={}));class Ic{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBodyCompression(t,n){return(n||new Ic).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBodyCompression(t,n){return t.setPosition(t.position()+zn),(n||new Ic).__init(t.readInt32(t.position())+t.position(),t)}codec(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt8(this.bb_pos+t):fS.LZ4_FRAME}method(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt8(this.bb_pos+t):cS.BUFFER}static startBodyCompression(t){t.startObject(2)}static addCodec(t,n){t.addFieldInt8(0,n,fS.LZ4_FRAME)}static addMethod(t,n){t.addFieldInt8(1,n,cS.BUFFER)}static endBodyCompression(t){return t.endObject()}static createBodyCompression(t,n,r){return Ic.startBodyCompression(t),Ic.addCodec(t,n),Ic.addMethod(t,r),Ic.endBodyCompression(t)}}class Vie{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(t,n,r){return t.prep(8,16),t.writeInt64(r),t.writeInt64(n),t.offset()}}let zie=class{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(t,n,r){return t.prep(8,16),t.writeInt64(r),t.writeInt64(n),t.offset()}},il=class JR{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsRecordBatch(t,n){return(n||new JR).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsRecordBatch(t,n){return t.setPosition(t.position()+zn),(n||new JR).__init(t.readInt32(t.position())+t.position(),t)}length(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}nodes(t,n){const r=this.bb.__offset(this.bb_pos,6);return r?(n||new zie).__init(this.bb.__vector(this.bb_pos+r)+t*16,this.bb):null}nodesLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}buffers(t,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new Vie).__init(this.bb.__vector(this.bb_pos+r)+t*16,this.bb):null}buffersLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}compression(t){const n=this.bb.__offset(this.bb_pos,10);return n?(t||new Ic).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}static startRecordBatch(t){t.startObject(4)}static addLength(t,n){t.addFieldInt64(0,n,t.createLong(0,0))}static addNodes(t,n){t.addFieldOffset(1,n,0)}static startNodesVector(t,n){t.startVector(16,n,8)}static addBuffers(t,n){t.addFieldOffset(2,n,0)}static startBuffersVector(t,n){t.startVector(16,n,8)}static addCompression(t,n){t.addFieldOffset(3,n,0)}static endRecordBatch(t){return t.endObject()}},Yh=class ZR{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDictionaryBatch(t,n){return(n||new ZR).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryBatch(t,n){return t.setPosition(t.position()+zn),(n||new ZR).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}data(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new il).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isDelta(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startDictionaryBatch(t){t.startObject(3)}static addId(t,n){t.addFieldInt64(0,n,t.createLong(0,0))}static addData(t,n){t.addFieldOffset(1,n,0)}static addIsDelta(t,n){t.addFieldInt8(2,+n,0)}static endDictionaryBatch(t){return t.endObject()}};var dS;(function(e){e[e.NONE=0]="NONE",e[e.Schema=1]="Schema",e[e.DictionaryBatch=2]="DictionaryBatch",e[e.RecordBatch=3]="RecordBatch",e[e.Tensor=4]="Tensor",e[e.SparseTensor=5]="SparseTensor"})(dS||(dS={}));let gc=class Ga{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsMessage(t,n){return(n||new Ga).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMessage(t,n){return t.setPosition(t.position()+zn),(n||new Ga).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Am.V1}headerType(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb_pos+t):dS.NONE}header(t){const n=this.bb.__offset(this.bb_pos,8);return n?this.bb.__union(t,this.bb_pos+n):null}bodyLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,12);return r?(n||new Xr).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startMessage(t){t.startObject(5)}static addVersion(t,n){t.addFieldInt16(0,n,Am.V1)}static addHeaderType(t,n){t.addFieldInt8(1,n,dS.NONE)}static addHeader(t,n){t.addFieldOffset(2,n,0)}static addBodyLength(t,n){t.addFieldInt64(3,n,t.createLong(0,0))}static addCustomMetadata(t,n){t.addFieldOffset(4,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endMessage(t){return t.endObject()}static finishMessageBuffer(t,n){t.finish(n)}static finishSizePrefixedMessageBuffer(t,n){t.finish(n,void 0,!0)}static createMessage(t,n,r,i,s,o){return Ga.startMessage(t),Ga.addVersion(t,n),Ga.addHeaderType(t,r),Ga.addHeader(t,i),Ga.addBodyLength(t,s),Ga.addCustomMetadata(t,o),Ga.endMessage(t)}};var mYe=Cl;class gYe extends an{visit(t,n){return t==null||n==null?void 0:super.visit(t,n)}visitNull(t,n){return Td.startNull(n),Td.endNull(n)}visitInt(t,n){return ao.startInt(n),ao.addBitWidth(n,t.bitWidth),ao.addIsSigned(n,t.isSigned),ao.endInt(n)}visitFloat(t,n){return cu.startFloatingPoint(n),cu.addPrecision(n,t.precision),cu.endFloatingPoint(n)}visitBinary(t,n){return bd.startBinary(n),bd.endBinary(n)}visitBool(t,n){return wd.startBool(n),wd.endBool(n)}visitUtf8(t,n){return xd.startUtf8(n),xd.endUtf8(n)}visitDecimal(t,n){return Ns.startDecimal(n),Ns.addScale(n,t.scale),Ns.addPrecision(n,t.precision),Ns.addBitWidth(n,t.bitWidth),Ns.endDecimal(n)}visitDate(t,n){return Wb.startDate(n),Wb.addUnit(n,t.unit),Wb.endDate(n)}visitTime(t,n){return zo.startTime(n),zo.addUnit(n,t.unit),zo.addBitWidth(n,t.bitWidth),zo.endTime(n)}visitTimestamp(t,n){const r=t.timezone&&n.createString(t.timezone)||void 0;return I0.startTimestamp(n),I0.addUnit(n,t.unit),r!==void 0&&I0.addTimezone(n,r),I0.endTimestamp(n)}visitInterval(t,n){return fu.startInterval(n),fu.addUnit(n,t.unit),fu.endInterval(n)}visitList(t,n){return Ed.startList(n),Ed.endList(n)}visitStruct(t,n){return Sd.startStruct_(n),Sd.endStruct_(n)}visitUnion(t,n){Ds.startTypeIdsVector(n,t.typeIds.length);const r=Ds.createTypeIdsVector(n,t.typeIds);return Ds.startUnion(n),Ds.addMode(n,t.mode),Ds.addTypeIds(n,r),Ds.endUnion(n)}visitDictionary(t,n){const r=this.visit(t.indices,n);return cl.startDictionaryEncoding(n),cl.addId(n,new mYe(t.id,0)),cl.addIsOrdered(n,t.isOrdered),r!==void 0&&cl.addIndexType(n,r),cl.endDictionaryEncoding(n)}visitFixedSizeBinary(t,n){return uu.startFixedSizeBinary(n),uu.addByteWidth(n,t.byteWidth),uu.endFixedSizeBinary(n)}visitFixedSizeList(t,n){return lu.startFixedSizeList(n),lu.addListSize(n,t.listSize),lu.endFixedSizeList(n)}visitMap(t,n){return qb.startMap(n),qb.addKeysSorted(n,t.keysSorted),qb.endMap(n)}}const VO=new gYe;function yYe(e,t=new Map){return new On(vYe(e,t),Gb(e.customMetadata),t)}function Hie(e){return new Eo(e.count,Wie(e.columns),qie(e.columns))}function _Ye(e){return new Bu(Hie(e.data),e.id,e.isDelta)}function vYe(e,t){return(e.fields||[]).filter(Boolean).map(n=>In.fromJSON(n,t))}function t7(e,t){return(e.children||[]).filter(Boolean).map(n=>In.fromJSON(n,t))}function Wie(e){return(e||[]).reduce((t,n)=>[...t,new wh(n.count,bYe(n.VALIDITY)),...Wie(n.children)],[])}function qie(e,t=[]){for(let n=-1,r=(e||[]).length;++n<r;){const i=e[n];i.VALIDITY&&t.push(new gu(t.length,i.VALIDITY.length)),i.TYPE&&t.push(new gu(t.length,i.TYPE.length)),i.OFFSET&&t.push(new gu(t.length,i.OFFSET.length)),i.DATA&&t.push(new gu(t.length,i.DATA.length)),t=qie(i.children,t)}return t}function bYe(e){return(e||[]).reduce((t,n)=>t+ +(n===0),0)}function wYe(e,t){let n,r,i,s,o,a;return!t||!(s=e.dictionary)?(o=r7(e,t7(e,t)),i=new In(e.name,o,e.nullable,Gb(e.customMetadata))):t.has(n=s.id)?(r=(r=s.indexType)?n7(r):new gf,a=new _f(t.get(n),r,n,s.isOrdered),i=new In(e.name,a,e.nullable,Gb(e.customMetadata))):(r=(r=s.indexType)?n7(r):new gf,t.set(n,o=r7(e,t7(e,t))),a=new _f(o,r,n,s.isOrdered),i=new In(e.name,a,e.nullable,Gb(e.customMetadata))),i||null}function Gb(e){return new Map(Object.entries(e||{}))}function n7(e){return new gs(e.isSigned,e.bitWidth)}function r7(e,t){const n=e.type.name;switch(n){case"NONE":return new Hl;case"null":return new Hl;case"binary":return new t_;case"utf8":return new Em;case"bool":return new n_;case"list":return new xm((t||[])[0]);case"struct":return new Xi(t||[]);case"struct_":return new Xi(t||[])}switch(n){case"int":{const r=e.type;return new gs(r.isSigned,r.bitWidth)}case"floatingpoint":{const r=e.type;return new yf(ki[r.precision])}case"decimal":{const r=e.type;return new JT(r.scale,r.precision,r.bitWidth)}case"date":{const r=e.type;return new Tm(Lu[r.unit])}case"time":{const r=e.type;return new Wl(on[r.unit],r.bitWidth)}case"timestamp":{const r=e.type;return new ZT(on[r.unit],r.timezone)}case"interval":{const r=e.type;return new Sm(Mu[r.unit])}case"union":{const r=e.type;return new r_(ta[r.mode],r.typeIds||[],t||[])}case"fixedsizebinary":{const r=e.type;return new eS(r.byteWidth)}case"fixedsizelist":{const r=e.type;return new Im(r.listSize,(t||[])[0])}case"map":{const r=e.type;return new i_((t||[])[0],r.keysSorted)}}throw new Error(`Unrecognized type: "${n}"`)}var Xd=Cl,EYe=bie,TYe=rS;class du{constructor(t,n,r,i){this._version=n,this._headerType=r,this.body=new Uint8Array(0),i&&(this._createHeader=()=>i),this._bodyLength=typeof t=="number"?t:t.low}static fromJSON(t,n){const r=new du(0,lo.V4,n);return r._createHeader=SYe(t,n),r}static decode(t){t=new TYe(Pn(t));const n=gc.getRootAsMessage(t),r=n.bodyLength(),i=n.version(),s=n.headerType(),o=new du(r,i,s);return o._createHeader=xYe(n,s),o}static encode(t){const n=new EYe;let r=-1;return t.isSchema()?r=On.encode(n,t.header()):t.isRecordBatch()?r=Eo.encode(n,t.header()):t.isDictionaryBatch()&&(r=Bu.encode(n,t.header())),gc.startMessage(n),gc.addVersion(n,lo.V4),gc.addHeader(n,r),gc.addHeaderType(n,t.headerType),gc.addBodyLength(n,new Xd(t.bodyLength,0)),gc.finishMessageBuffer(n,gc.endMessage(n)),n.asUint8Array()}static from(t,n=0){if(t instanceof On)return new du(0,lo.V4,di.Schema,t);if(t instanceof Eo)return new du(n,lo.V4,di.RecordBatch,t);if(t instanceof Bu)return new du(n,lo.V4,di.DictionaryBatch,t);throw new Error(`Unrecognized Message header: ${t}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===di.Schema}isRecordBatch(){return this.headerType===di.RecordBatch}isDictionaryBatch(){return this.headerType===di.DictionaryBatch}}class Eo{constructor(t,n,r){this._nodes=n,this._buffers=r,this._length=typeof t=="number"?t:t.low}get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}}class Bu{constructor(t,n,r=!1){this._data=t,this._isDelta=r,this._id=typeof n=="number"?n:n.low}get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}}class gu{constructor(t,n){this.offset=typeof t=="number"?t:t.low,this.length=typeof n=="number"?n:n.low}}class wh{constructor(t,n){this.length=typeof t=="number"?t:t.low,this.nullCount=typeof n=="number"?n:n.low}}function SYe(e,t){return()=>{switch(t){case di.Schema:return On.fromJSON(e);case di.RecordBatch:return Eo.fromJSON(e);case di.DictionaryBatch:return Bu.fromJSON(e)}throw new Error(`Unrecognized Message type: { name: ${di[t]}, type: ${t} }`)}}function xYe(e,t){return()=>{switch(t){case di.Schema:return On.decode(e.header(new Za));case di.RecordBatch:return Eo.decode(e.header(new il),e.version());case di.DictionaryBatch:return Bu.decode(e.header(new Yh),e.version())}throw new Error(`Unrecognized Message type: { name: ${di[t]}, type: ${t} }`)}}In.encode=LYe;In.decode=DYe;In.fromJSON=wYe;On.encode=$Ye;On.decode=IYe;On.fromJSON=yYe;Eo.encode=MYe;Eo.decode=AYe;Eo.fromJSON=Hie;Bu.encode=FYe;Bu.decode=CYe;Bu.fromJSON=_Ye;wh.encode=BYe;wh.decode=PYe;gu.encode=jYe;gu.decode=OYe;function IYe(e,t=new Map){const n=kYe(e,t);return new On(n,Kb(e),t)}function AYe(e,t=lo.V4){if(e.compression()!==null)throw new Error("Record batch compression not implemented");return new Eo(e.length(),RYe(e),NYe(e,t))}function CYe(e,t=lo.V4){return new Bu(Eo.decode(e.data(),t),e.id(),e.isDelta())}function OYe(e){return new gu(e.offset(),e.length())}function PYe(e){return new wh(e.length(),e.nullCount())}function RYe(e){const t=[];for(let n,r=-1,i=-1,s=e.nodesLength();++r<s;)(n=e.nodes(r))&&(t[++i]=wh.decode(n));return t}function NYe(e,t){const n=[];for(let r,i=-1,s=-1,o=e.buffersLength();++i<o;)(r=e.buffers(i))&&(t<lo.V4&&(r.bb_pos+=8*(i+1)),n[++s]=gu.decode(r));return n}function kYe(e,t){const n=[];for(let r,i=-1,s=-1,o=e.fieldsLength();++i<o;)(r=e.fields(i))&&(n[++s]=In.decode(r,t));return n}function i7(e,t){const n=[];for(let r,i=-1,s=-1,o=e.childrenLength();++i<o;)(r=e.children(i))&&(n[++s]=In.decode(r,t));return n}function DYe(e,t){let n,r,i,s,o,a;return!t||!(a=e.dictionary())?(i=o7(e,i7(e,t)),r=new In(e.name(),i,e.nullable(),Kb(e))):t.has(n=a.id().low)?(s=(s=a.indexType())?s7(s):new gf,o=new _f(t.get(n),s,n,a.isOrdered()),r=new In(e.name(),o,e.nullable(),Kb(e))):(s=(s=a.indexType())?s7(s):new gf,t.set(n,i=o7(e,i7(e,t))),o=new _f(i,s,n,a.isOrdered()),r=new In(e.name(),o,e.nullable(),Kb(e))),r||null}function Kb(e){const t=new Map;if(e)for(let n,r,i=-1,s=Math.trunc(e.customMetadataLength());++i<s;)(n=e.customMetadata(i))&&(r=n.key())!=null&&t.set(r,n.value());return t}function s7(e){return new gs(e.isSigned(),e.bitWidth())}function o7(e,t){const n=e.typeType();switch(n){case gr.NONE:return new Hl;case gr.Null:return new Hl;case gr.Binary:return new t_;case gr.Utf8:return new Em;case gr.Bool:return new n_;case gr.List:return new xm((t||[])[0]);case gr.Struct_:return new Xi(t||[])}switch(n){case gr.Int:{const r=e.type(new ao);return new gs(r.isSigned(),r.bitWidth())}case gr.FloatingPoint:{const r=e.type(new cu);return new yf(r.precision())}case gr.Decimal:{const r=e.type(new Ns);return new JT(r.scale(),r.precision(),r.bitWidth())}case gr.Date:{const r=e.type(new Wb);return new Tm(r.unit())}case gr.Time:{const r=e.type(new zo);return new Wl(r.unit(),r.bitWidth())}case gr.Timestamp:{const r=e.type(new I0);return new ZT(r.unit(),r.timezone())}case gr.Interval:{const r=e.type(new fu);return new Sm(r.unit())}case gr.Union:{const r=e.type(new Ds);return new r_(r.mode(),r.typeIdsArray()||[],t||[])}case gr.FixedSizeBinary:{const r=e.type(new uu);return new eS(r.byteWidth())}case gr.FixedSizeList:{const r=e.type(new lu);return new Im(r.listSize(),(t||[])[0])}case gr.Map:{const r=e.type(new qb);return new i_((t||[])[0],r.keysSorted())}}throw new Error(`Unrecognized type: "${gr[n]}" (${n})`)}function $Ye(e,t){const n=t.fields.map(s=>In.encode(e,s));Za.startFieldsVector(e,n.length);const r=Za.createFieldsVector(e,n),i=t.metadata&&t.metadata.size>0?Za.createCustomMetadataVector(e,[...t.metadata].map(([s,o])=>{const a=e.createString(`${s}`),u=e.createString(`${o}`);return Xr.startKeyValue(e),Xr.addKey(e,a),Xr.addValue(e,u),Xr.endKeyValue(e)})):-1;return Za.startSchema(e),Za.addFields(e,r),Za.addEndianness(e,UYe?Cm.Little:Cm.Big),i!==-1&&Za.addCustomMetadata(e,i),Za.endSchema(e)}function LYe(e,t){let n=-1,r=-1,i=-1;const s=t.type;let o=t.typeId;Qt.isDictionary(s)?(o=s.dictionary.typeId,i=VO.visit(s,e),r=VO.visit(s.dictionary,e)):r=VO.visit(s,e);const a=(s.children||[]).map(c=>In.encode(e,c)),u=Lo.createChildrenVector(e,a),l=t.metadata&&t.metadata.size>0?Lo.createCustomMetadataVector(e,[...t.metadata].map(([c,f])=>{const d=e.createString(`${c}`),h=e.createString(`${f}`);return Xr.startKeyValue(e),Xr.addKey(e,d),Xr.addValue(e,h),Xr.endKeyValue(e)})):-1;return t.name&&(n=e.createString(t.name)),Lo.startField(e),Lo.addType(e,r),Lo.addTypeType(e,o),Lo.addChildren(e,u),Lo.addNullable(e,!!t.nullable),n!==-1&&Lo.addName(e,n),i!==-1&&Lo.addDictionary(e,i),l!==-1&&Lo.addCustomMetadata(e,l),Lo.endField(e)}function MYe(e,t){const n=t.nodes||[],r=t.buffers||[];il.startNodesVector(e,n.length);for(const o of n.slice().reverse())wh.encode(e,o);const i=e.endVector();il.startBuffersVector(e,r.length);for(const o of r.slice().reverse())gu.encode(e,o);const s=e.endVector();return il.startRecordBatch(e),il.addLength(e,new Xd(t.length,0)),il.addNodes(e,i),il.addBuffers(e,s),il.endRecordBatch(e)}function FYe(e,t){const n=Eo.encode(e,t.data);return Yh.startDictionaryBatch(e),Yh.addId(e,new Xd(t.id,0)),Yh.addIsDelta(e,t.isDelta),Yh.addData(e,n),Yh.endDictionaryBatch(e)}function BYe(e,t){return zie.createFieldNode(e,new Xd(t.length,0),new Xd(t.nullCount,0))}function jYe(e,t){return Vie.createBuffer(e,new Xd(t.offset,0),new Xd(t.length,0))}const UYe=(()=>{const e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),new Int16Array(e)[0]===256})(),eN="ARROW1",y6=new Uint8Array(eN.length);for(let e=0;e<eN.length;e+=1)y6[e]=eN.codePointAt(e);y6.length;class Yr extends an{constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}static assemble(...t){const n=i=>i.flatMap(s=>Array.isArray(s)?n(s):s instanceof uo?s.data.children:s.data),r=new Yr;return r.visitMany(n(t)),r}visit(t){if(t instanceof vn)return this.visitMany(t.data),this;const{type:n}=t;if(!Qt.isDictionary(n)){const{length:r,nullCount:i}=t;if(r>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");Qt.isNull(n)||ka.call(this,i<=0?new Uint8Array(0):u6(t.offset,r,t.nullBitmap)),this.nodes.push(new wh(r,i))}return super.visit(t)}visitNull(t){return this}visitDictionary(t){return this.visit(t.clone(t.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}function ka(e){const t=e.byteLength+7&-8;return this.buffers.push(e),this.bufferRegions.push(new gu(this._byteLength,t)),this._byteLength+=t,this}function VYe(e){const{type:t,length:n,typeIds:r,valueOffsets:i}=e;if(ka.call(this,r),t.mode===ta.Sparse)return tN.call(this,e);if(t.mode===ta.Dense){if(e.offset<=0)return ka.call(this,i),tN.call(this,e);{const s=r.reduce((c,f)=>Math.max(c,f),r[0]),o=new Int32Array(s+1),a=new Int32Array(s+1).fill(-1),u=new Int32Array(n),l=$3(-i[0],n,i);for(let c,f,d=-1;++d<n;)(f=a[c=r[d]])===-1&&(f=a[c]=l[c]),u[d]=l[d]-f,++o[c];ka.call(this,u);for(let c,f=-1,d=t.children.length;++f<d;)if(c=e.children[f]){const h=t.typeIds[f],p=Math.min(n,o[h]);this.visit(c.slice(a[h],p))}}}return this}function zYe(e){let t;return e.nullCount>=e.length?ka.call(this,new Uint8Array(0)):(t=e.values)instanceof Uint8Array?ka.call(this,u6(e.offset,e.length,t)):ka.call(this,sie(e.values))}function Uf(e){return ka.call(this,e.values.subarray(0,e.length*e.stride))}function Yie(e){const{length:t,values:n,valueOffsets:r}=e,i=r[0],s=r[t],o=Math.min(s-i,n.byteLength-i);return ka.call(this,$3(-r[0],t,r)),ka.call(this,n.subarray(i,i+o)),this}function _6(e){const{length:t,valueOffsets:n}=e;return n&&ka.call(this,$3(n[0],t,n)),this.visit(e.children[0])}function tN(e){return this.visitMany(e.type.children.map((t,n)=>e.children[n]).filter(Boolean))[0]}Yr.prototype.visitBool=zYe;Yr.prototype.visitInt=Uf;Yr.prototype.visitFloat=Uf;Yr.prototype.visitUtf8=Yie;Yr.prototype.visitBinary=Yie;Yr.prototype.visitFixedSizeBinary=Uf;Yr.prototype.visitDate=Uf;Yr.prototype.visitTimestamp=Uf;Yr.prototype.visitTime=Uf;Yr.prototype.visitDecimal=Uf;Yr.prototype.visitList=_6;Yr.prototype.visitStruct=tN;Yr.prototype.visitUnion=VYe;Yr.prototype.visitInterval=Uf;Yr.prototype.visitFixedSizeList=_6;Yr.prototype.visitMap=_6;class Gie extends Eie{constructor(t){super(),this._position=0,this._started=!1,this._sink=new jO,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,Mf(t)||(t={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof t.autoDestroy=="boolean"?t.autoDestroy:!0,this._writeLegacyIpcFormat=typeof t.writeLegacyIpcFormat=="boolean"?t.writeLegacyIpcFormat:!1}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,n){throw new Error('"throughDOM" not available in this environment')}toString(t=!1){return this._sink.toString(t)}toUint8Array(t=!1){return this._sink.toUint8Array(t)}writeAll(t){return AI(t)?t.then(n=>this.writeAll(n)):CI(t)?E6(this,t):w6(this,t)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(t){return this._sink.toDOMStream(t)}toNodeStream(t){return this._sink.toNodeStream(t)}close(){return this.reset()._sink.close()}abort(t){return this.reset()._sink.abort(t)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(t=this._sink,n=null){return t===this._sink||t instanceof jO?this._sink=t:(this._sink=new jO,t&&XHe(t)?this.toDOMStream({type:"bytes"}).pipeTo(t):t&&JHe(t)&&this.toNodeStream({objectMode:!1}).pipe(t)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,(!n||!XR(n,this._schema))&&(n==null?(this._position=0,this._schema=null):(this._started=!0,this._schema=n,this._writeSchema(n))),this}write(t){let n=null;if(this._sink){if(t==null)return this.finish()&&void 0;if(t instanceof $s&&!(n=t.schema))return this.finish()&&void 0;if(t instanceof uo&&!(n=t.schema))return this.finish()&&void 0}else throw new Error("RecordBatchWriter is closed");if(n&&!XR(n,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,n)}t instanceof uo?t instanceof pYe||this._writeRecordBatch(t):t instanceof $s?this.writeAll(t.batches):k3(t)&&this.writeAll(t)}_writeMessage(t,n=8){const r=n-1,i=du.encode(t),s=i.byteLength,o=this._writeLegacyIpcFormat?4:8,a=s+o+r&~r,u=a-s-o;return t.headerType===di.RecordBatch?this._recordBatchBlocks.push(new vf(a,t.bodyLength,this._position)):t.headerType===di.DictionaryBatch&&this._dictionaryBlocks.push(new vf(a,t.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(a-o)),s>0&&this._write(i),this._writePadding(u)}_write(t){if(this._started){const n=Pn(t);n&&n.byteLength>0&&(this._sink.write(n),this._position+=n.byteLength)}return this}_writeSchema(t){return this._writeMessage(du.from(t))}_writeFooter(t){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(y6)}_writePadding(t){return t>0?this._write(new Uint8Array(t)):this}_writeRecordBatch(t){const{byteLength:n,nodes:r,bufferRegions:i,buffers:s}=Yr.assemble(t),o=new Eo(t.numRows,r,i),a=du.from(o,n);return this._writeDictionaries(t)._writeMessage(a)._writeBodyBuffers(s)}_writeDictionaryBatch(t,n,r=!1){this._dictionaryDeltaOffsets.set(n,t.length+(this._dictionaryDeltaOffsets.get(n)||0));const{byteLength:i,nodes:s,bufferRegions:o,buffers:a}=Yr.assemble(new vn([t])),u=new Eo(t.length,s,o),l=new Bu(u,n,r),c=du.from(l,i);return this._writeMessage(c)._writeBodyBuffers(a)}_writeBodyBuffers(t){let n,r,i;for(let s=-1,o=t.length;++s<o;)(n=t[s])&&(r=n.byteLength)>0&&(this._write(n),(i=(r+7&-8)-r)>0&&this._writePadding(i));return this}_writeDictionaries(t){for(let[n,r]of t.dictionaries){let i=this._dictionaryDeltaOffsets.get(n)||0;if(i===0||(r=r==null?void 0:r.slice(i)).length>0)for(const s of r.data)this._writeDictionaryBatch(s,n,i>0),i+=s.length}return this}}class v6 extends Gie{static writeAll(t,n){const r=new v6(n);return AI(t)?t.then(i=>r.writeAll(i)):CI(t)?E6(r,t):w6(r,t)}}class b6 extends Gie{static writeAll(t){const n=new b6;return AI(t)?t.then(r=>n.writeAll(r)):CI(t)?E6(n,t):w6(n,t)}constructor(){super(),this._autoDestroy=!0}_writeSchema(t){return this._writeMagic()._writePadding(2)}_writeFooter(t){const n=QR.encode(new QR(t,lo.V4,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(t)._write(n)._write(Int32Array.of(n.byteLength))._writeMagic()}}function w6(e,t){let n=t;t instanceof $s&&(n=t.batches,e.reset(void 0,t.schema));for(const r of n)e.write(r);return e.finish()}function E6(e,t){var n,r,i,s;return ul(this,void 0,void 0,function*(){try{for(n=uy(t);r=yield n.next(),!r.done;){const o=r.value;e.write(o)}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}return e.finish()})}function HYe(e,t="stream"){return(t==="stream"?v6:b6).writeAll(e).toUint8Array(!0)}function T6(e,t=1){return(e*t+63&-64||64)/t}function wf(e,t,n=e.BYTES_PER_ELEMENT){return new e(T6(t,n))}function S6(e){return e instanceof Mn?e:new Mn(e.type,0,e.length,e.nulls,e.buffers,null,e.dict)}function WYe(e){return new vn([S6(e)])}const x6=new TextEncoder;function qYe(e,t,n){const r=x6.encode(n);return e.set(r,t),r.length}function YYe(e,t,n){return x6.encodeInto(n,e.subarray(t)).written}const GYe=x6.encodeInto?YYe:qYe;function a7(e,t){const n=wf(e.ArrayType,t);return{set(r,i){n[i]=r},data:()=>({type:e,length:t,buffers:[null,n]})}}function KYe(e,t){const n=wf(e.ArrayType,t/8);return{set(r,i){r&&(n[i>>3]|=1<<i%8)},data:()=>({type:e,length:t,buffers:[null,n]})}}function QYe(e,t){const n=wf(e.ArrayType,t);return{set(r,i){n[i]=r/864e5|0},data:()=>({type:e,length:t,buffers:[null,n]})}}function XYe(e,t){const n=wf(e.ArrayType,t<<1);return{set(r,i){const s=i<<1;n[s]=r%4294967296|0,n[s+1]=r/4294967296|0},data:()=>({type:e,length:t,buffers:[null,n]})}}function JYe(e){const t=lS({type:e,nullValues:[null,void 0]});return{set(n,r){t.set(r,n)},data:()=>t.finish().flush()}}function ZYe(e,t,n){const r=wf(Int32Array,t+1),i=wf(Uint8Array,3*n);let s=0;return{set(o,a){s+=GYe(i,s,o),r[a+1]=s},data:()=>{const o=T6(s),a=i.length>o?i.subarray(0,o):i;return{type:e,length:t,buffers:[r,a]}}}}function eGe(e,t){const n=[],r=wf(e.indices.ArrayType,t),i=Object.create(null);let s=-1,o=0;return{set(a,u){const l=String(a);let c=i[l];c===void 0&&(o+=l.length,i[l]=c=++s,n.push(l)),r[u]=c},data:()=>({type:e,length:t,buffers:[null,r],dict:tGe(e.dictionary,n,o)})}}function tGe(e,t,n){const r=ZYe(e,t.length,n);return t.forEach(r.set),WYe(r.data())}function nGe(e,t){const n=wf(Uint8Array,t/8);let r=0;return{set(i,s){i==null?++r:(e.set(i,s),n[s>>3]|=1<<s%8)},data:()=>{const i=e.data();return r&&(i.nulls=r,i.buffers[2]=n),i}}}function rGe(e,t,n=!0){let r;switch(e.typeId){case J.Int:r=e.bitWidth<64?a7:null;break;case J.Float:r=e.precision>0?a7:null;break;case J.Dictionary:r=e.dictionary.typeId===J.Utf8&&e.indices.typeId===J.Int&&e.indices.bitWidth<64?eGe:null;break;case J.Bool:r=KYe;break;case J.Date:r=e.unit?XYe:QYe;break}return r==null?JYe(e):n?nGe(r(e,t),t):r(e,t)}function iGe(e,t){const n=e.length,r=T6(n,e.BYTES_PER_ELEMENT);let i=e;return n!==r&&(i=new e.constructor(r),i.set(e)),S6({type:t,length:n,buffers:[null,i]})}function Kie(e,t,n,r,i=!0){const s=rGe(r,e,i);return t(n,s.set),S6(s.data())}function I6(e){if(e instanceof Qt||e==null)return e;switch(e){case J.Binary:return new t_;case J.Bool:return new n_;case J.DateDay:return new dWe;case J.DateMillisecond:case J.Date:return new hWe;case J.Dictionary:return new _f(new Em,new gf);case J.Float16:return new Ire;case J.Float32:return new H3;case J.Float64:case J.Float:return new W3;case J.Int8:return new M3;case J.Int16:return new F3;case J.Int32:case J.Int:return new gf;case J.Int64:return new B3;case J.IntervalDayTime:return new _We;case J.Interval:case J.IntervalYearMonth:return new vWe;case J.Null:return new Hl;case J.TimeMicrosecond:return new gWe;case J.TimeMillisecond:case J.Time:return new mWe;case J.TimeNanosecond:return new yWe;case J.TimeSecond:return new pWe;case J.Uint8:return new j3;case J.Uint16:return new U3;case J.Uint32:return new V3;case J.Uint64:return new z3;case J.Utf8:return new Em;default:jt(`Unsupported type code: ${Du(e)}. Use a data type constructor instead?`)}}function sGe(e){return e.getUTCHours()===0&&e.getUTCMinutes()===0&&e.getUTCSeconds()===0&&e.getUTCMilliseconds()===0}function Qie(e,t){const n=nN();return e(t,n.add),n}function nN(){const e={count:0,nulls:0,bools:0,nums:0,ints:0,bigints:0,min:1/0,max:-1/0,digits:0,dates:0,utcdays:0,strings:0,strlen:0,arrays:0,minlen:1/0,maxlen:0,structs:0,add(t){if(++e.count,t==null){++e.nulls;return}const n=typeof t;if(n==="string")++e.strings;else if(n==="number")++e.nums,t<e.min&&(e.min=t),t>e.max&&(e.max=t),Number.isInteger(t)&&++e.ints;else if(n==="boolean")++e.bools;else if(n==="object")if(zl(t))++e.dates,sGe(t)&&++e.utcdays;else if(_d(t)){++e.arrays,t.length<e.minlen&&(e.minlen=t.length),t.length>e.maxlen&&(e.maxlen=t.length);const r=e.array_prof||(e.array_prof=nN());t.forEach(r.add)}else{++e.structs;const r=e.struct_prof||(e.struct_prof={});for(const i in t)(r[i]||(r[i]=nN())).add(t[i])}else n==="bigint"&&(++e.bigints,t<e.min&&(e.min=t),t>e.max&&(e.max=t))},type(){return I6(oGe(e))}};return e}function oGe(e){const t=e.count-e.nulls;if(t===0)return J.Null;if(e.ints===t){const n=Math.max(Math.abs(e.min)-1,e.max);return e.min<0?n>=2**31?J.Float64:n<128?J.Int8:n<32768?J.Int16:J.Int32:n>=2**32?J.Float64:n<256?J.Uint8:n<65536?J.Uint16:J.Uint32}else{if(e.nums===t)return J.Float64;if(e.bigints===t){const n=-e.min>e.max?-e.min-1n:e.max;return e.min<0?n<2**63?J.Int64:jt(`BigInt exceeds 64 bits: ${n}`):e.max<2**64?J.Uint64:jt(`BigInt exceeds 64 bits: ${e.max}`)}else{if(e.bools===t)return J.Bool;if(e.utcdays===t)return J.DateDay;if(e.dates===t)return J.DateMillisecond;if(e.arrays===t){const n=In.new("value",e.array_prof.type(),!0);return e.minlen===e.maxlen?new Im(e.minlen,n):new xm(n)}else if(e.structs===t){const n=e.struct_prof;return new Xi(Object.keys(n).map(r=>In.new(r,n[r].type(),!0)))}else{if(e.strings>0)return J.Dictionary;jt("Type inference failure")}}}}function aGe(e,t,n,r,i,s=!0){if(i=I6(i),!i){const o=Qie(r,t);s=o.nulls>0,i=o.type()}return Kie(n,r,t,i,s)}function uGe(e,t,n,r,i,s=!0){i=I6(i);const o=e.column(t),a=!(e.isFiltered()||e.isOrdered()),u=lGe(o);if(u&&a&&u7(u.type,i))return u;const l=o.data;if(hv(l)){const c=cGe(l);if(a&&c&&u7(c,i))return iGe(l,c);i=i||c,s=!1}if(!i){const c=Qie(r,o);s=c.nulls>0,i=c.type()}return Kie(n,r,o,i,s)}function lGe(e){return e instanceof vn?e:e.vector instanceof vn?e.vector:null}function cGe(e){const n={Float32Array:H3,Float64Array:W3,Int8Array:M3,Int16Array:F3,Int32Array:gf,Uint8Array:j3,Uint16Array:U3,Uint32Array:V3,BigInt64Array:B3,BigUint64Array:z3}[e.constructor.name];return n?new n:null}function u7(e,t){return!e||!t?!0:e.compareTo(t)}function fGe(e,t,n){const r=Math.min(e.length,n+t);return(i,s)=>{for(let o=n;o<r;++o)s(e[o][i],o)}}function dGe(e,t,n){const r=n===0&&e.numRows()<=t&&!e.isFiltered()&&!e.isOrdered();return(i,s)=>{let o=-1;r&&_d(i.data)?i.data.forEach(s):e.scan(a=>s(i.get(a),++o),!0,t,n)}}const hGe=()=>jt("Apache Arrow not imported, see https://github.com/uwdata/arquero#usage");function pGe(){try{return $s}catch{hGe()}}function Xie(e,t={}){const{types:n={}}=t,{dataFrom:r,names:i,nrows:s,scan:o}=mGe(e,t),a={};i.forEach(l=>{const c=r(e,l,s,o,n[l]);c.length!==s&&jt("Column length mismatch"),a[l]=c});const u=pGe();return new u(a)}function mGe(e,t){const{columns:n,limit:r=1/0,offset:i=0}=t,s=tr(n)?n(e):_n(n)?n:null;if(_n(e))return{dataFrom:aGe,names:s||Object.keys(e[0]),nrows:Math.min(r,e.length-i),scan:fGe(e,r,i)};if(gGe(e))return{dataFrom:uGe,names:s||e.columnNames(),nrows:Math.min(r,e.numRows()-i),scan:dGe(e,r,i)};jt("Unsupported input data type")}function gGe(e){return e&&tr(e.reify)}function yGe(e,t={}){const{format:n,...r}=t,i=n||"stream";if(!["stream","file"].includes(i))throw Error("Unrecognised output format");return HYe(Xie(e,r),n)}function _Ge(e){return e.getUTCHours()===0&&e.getUTCMinutes()===0&&e.getUTCSeconds()===0&&e.getUTCMilliseconds()===0}function vGe(e,t={}){let n=0,r=0,i=0,s=0,o=0,a=0;return e(u=>{if(++n,u==null){++r;return}const l=typeof u;if(l==="object"&&zl(u))++i,_Ge(u)&&++s;else if(l==="number"&&(++o,u===u&&(u|0)!==u)){const c=u+"",f=c.indexOf(".");if(f>=0){const d=c.indexOf("e"),h=d>0?d:c.length;a=Math.max(a,h-f-1)}}}),{align:(r+o+i)/n>.5?"r":"l",format:{utc:i===s,digits:Math.min(a,t.maxdigits||6)}}}function MI(e,t){return tr(t)?t(e):t||e.columnNames()}function Jie(e,t,n){const r=n.format||{},i=n.align||{},s={},o={};return t.forEach(a=>{const u=vGe(bGe(e,a),n);o[a]=i[a]||u.align,s[a]=r[a]||u.format}),{align:o,format:s}}function bGe(e,t){const n=e.column(t);return r=>e.scan(i=>r(n.get(i)))}function A6(e,t,n=100,r,i){const s=e.data(),o=t.length;e.scan(a=>{i.row(a);for(let u=0;u<o;++u){const l=t[u];i.cell(s[t[u]].get(a),l,u)}},!0,n,r)}function wGe(e,t={}){const n=MI(e,t.columns),r=t.format||{},i=t.delimiter||",",s=new RegExp(`["${i}
\r]`),o=l=>l==null?"":zl(l)?xI(l,!0):s.test(l+="")?'"'+l.replace(/"/g,'""')+'"':l,a=n.map(o);let u="";return A6(e,n,t.limit||1/0,t.offset,{row(){u+=a.join(i)+`
`},cell(l,c,f){a[f]=o(r[c]?r[c](l):l)}}),u+a.join(i)}function Zie(e,t={}){if(tr(t))return t(e)+"";const n=typeof e;if(n==="object"){if(zl(e))return t.utc?xI(e):Rne(e);{const r=JSON.stringify(e,(s,o)=>hv(o)?Array.from(o):o),i=t.maxlen||30;return r.length>i?r.slice(0,28)+""+(r[0]==="["?"]":"}"):r}}else if(n==="number"){const r=t.digits||0;let i;return e!==0&&((i=Math.abs(e))>=1e18||i<Math.pow(10,-r))?e.toExponential(r):e.toFixed(r)}else return e+""}function FI(e,t,n={}){for(const r in e)n[r]=t(e[r],r);return n}function EGe(e,t={}){const n=MI(e,t.columns),{align:r,format:i}=Jie(e,n,t),s=TGe(t),o=t.null,a=g=>g==="c"?"center":g==="r"?"right":"left",u=g=>g.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),l=(g,y)=>u(Zie(g,y)),c=o?(g,y)=>g==null?o(g):l(g,y):l;let f=-1,d=-1;const h=(g,y,m)=>{const _=m?a(r[y]):"",v=s[g]&&s[g](y,d,f)||"",T=(_?`text-align: ${_};`+(v?" ":""):"")+v;return`<${g}${T?` style="${T}"`:""}>`};let p=h("table")+h("thead")+h("tr",f)+n.map(g=>`${h("th",g,1)}${g}</th>`).join("")+"</tr></thead>"+h("tbody");return A6(e,n,t.limit,t.offset,{row(g){f=g,p+=(++d?"</tr>":"")+h("tr")},cell(g,y){p+=h("td",y,1)+c(g,i[y])+"</td>"}}),p+"</tr></tbody></table>"}function TGe(e){return FI(e.style,t=>tr(t)?t:()=>t)}function SGe(e,t=!0,n=!1){return e===void 0||e?t:n}const xGe=e=>zl(e)?xI(e,!0):e;function IGe(e,t={}){const n=SGe(t.schema),r=t.format||{},i=MI(e,t.columns);let s="{";return n&&(s+='"schema":{"fields":'+JSON.stringify(i.map(o=>({name:o})))+'},"data":{'),i.forEach((o,a)=>{s+=(a?",":"")+JSON.stringify(o)+":[";const u=e.column(o),l=r[o]||xGe;let c=-1;e.scan(f=>{const d=u.get(f);s+=(++c?",":"")+JSON.stringify(l(d))},!0,t.limit,t.offset),s+="]"}),s+"}"+(n?"}":"")}function AGe(e,t={}){const n=MI(e,t.columns),{align:r,format:i}=Jie(e,n,t),s=u=>u==="c"?":-:":u==="r"?"-:":":-",o=u=>u.replace(/\|/g,"\\|");let a="|"+n.map(o).join("|")+`|
|`+n.map(u=>s(r[u])).join("|")+"|";return A6(e,n,t.limit,t.offset,{row(){a+=`
|`},cell(u,l){a+=o(Zie(u,i[l]))+"|"}}),a+`
`}function ese(e,t){for(const[n,r]of II(t))e.set(n,r);return e}function CGe(e){return e.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&")}function ql(e,t,n=new Map){return t=ms(t)?e.columnName(t):t,Mi(t)?n.set(t,t):_n(t)?t.forEach(r=>ql(e,r,n)):tr(t)?ql(e,t(e),n):ts(t)?ese(n,t):jt(`Invalid column selection: ${Du(t)}`),n}function BI(e,t){return e.toObject=t,e}function tse(e){return _n(e)?e.map(tse):e&&e.toObject?e.toObject():e}function Pm(){return BI(e=>e.columnNames(),()=>({all:[]}))}function nse(...e){return e=e.flat(),BI(t=>{const n=ql(t,e);return t.columnNames(r=>!n.has(r))},()=>({not:tse(e)}))}function OGe(e,t){return BI(n=>{let r=ms(e)?e:n.columnIndex(e),i=ms(t)?t:n.columnIndex(t);if(i<r){const s=i;i=r,r=s}return n.columnNames().slice(r,i+1)},()=>({range:[e,t]}))}function PGe(e){return Mi(e)&&(e=RegExp(CGe(e))),BI(t=>t.columnNames(n=>e.test(n)),()=>({matches:[e.source,e.flags]}))}function RGe(e){return hv(e.data)?e.data.constructor:Array}class fl extends Qze{static from(t,n){return new fl(Zze(t,n),n)}static new(t,n){if(t instanceof fl)return t;const r={},i=[];for(const[s,o]of II(t))r[s]=o,i.push(s);return new fl(r,n||i)}constructor(t,n,r,i,s,o){FI(t,Jze,t),n=n||Object.keys(t);const a=n.length?t[n[0]].length:0;super(n,a,t,r,i,s,o)}create({data:t,names:n,filter:r,groups:i,order:s}){const o=r!==void 0?r:this.mask();return new fl(t||this._data,n||(t?null:this._names),o,i!==void 0?i:CHe(this._group,r&&o),s!==void 0?s:this._order,this._params)}assign(...t){const n=this.numRows(),r=this.reify(),i=Ro(r).groupby(r.groups());return t.forEach(s=>{s=fl.new(s),s.numRows()!==n&&jt("Assign row counts do not match"),s=s.reify(),s.columnNames(o=>i.add(o,s.column(o)))}),this.create(i.new())}columns(){return this._data}column(t){return this._data[t]}columnAt(t){return this._data[this._names[t]]}array(t,n=Array){const r=this.column(t),i=new n(this.numRows());let s=-1;return this.scan(o=>i[++s]=r.get(o),!0),i}get(t,n=0){const r=this.column(t);return this.isFiltered()||this.isOrdered()?r.get(this.indices()[n]):r.get(n)}getter(t){const n=this.column(t),r=this.isFiltered()||this.isOrdered()?this.indices():null;return r?i=>n.get(r[i]):n?i=>n.get(i):jt(`Unrecognized column: ${t}`)}object(t=0){return l7(this)(t)}objects(t={}){const{grouped:n,limit:r,offset:i}=t,s=ql(this,t.columns||Pm()),o=nre(s),a=[];if(this.scan((u,l)=>a.push(o(u,l)),!0,r,i),n&&this.isGrouped()){const u=[];return this.scan(l=>u.push(l),!0,r,i),PHe(this,u,a,n)}return a}*[Symbol.iterator](){const t=l7(this),n=this.numRows();for(let r=0;r<n;++r)yield t(r)}reify(t){const n=t?t.length:this.numRows(),r=this._names;let i,s;if(!t&&!this.isOrdered())if(this.isFiltered())n===this.totalRows()&&(i=this.data());else return this;if(!i){const o=t?u=>t.forEach(u):u=>this.scan(u,!0),a=r.length;i={};for(let u=0;u<a;++u){const l=r[u],c=this.column(l),f=i[l]=new(RGe(c))(n);let d=-1;o(h=>f[++d]=c.get(h))}this.isGrouped()&&(s=OHe(this.groups(),o,!!t,n))}return this.create({data:i,names:r,groups:s,filter:null,order:null})}transform(...t){return t.flat().reduce((n,r)=>r(n),this)}toArrow(t){return Xie(this,t)}toArrowBuffer(t){return yGe(this,t)}toCSV(t){return wGe(this,t)}toHTML(t){return EGe(this,t)}toJSON(t){return IGe(this,t)}toMarkdown(t){return AGe(this,t)}}function l7(e){let t=e._builder;if(!t){const n=nre(e.columnNames()),r=e.data();if(e.isOrdered()||e.isFiltered()){const i=e.indices();t=s=>n(i[s],r)}else t=i=>n(i,r);e._builder=t}return t}class NGe{constructor(t){this._outputs=t}size(){return this._outputs.length}outputs(){return this._outputs}init(){return{}}add(){}rem(){}write(){}}function fn(e,t,n,r){const i=n[e.type]||n.Default;if(i&&i(e,t,r)===!1)return;const s=kGe[e.type];s&&s(e,t,n)}const H1=(e,t,n)=>{fn(e.argument,t,n,e)},zO=(e,t,n)=>{fn(e.left,t,n,e),fn(e.right,t,n,e)},c7=(e,t,n)=>{fn(e.test,t,n,e),fn(e.consequent,t,n,e),e.alternate&&fn(e.alternate,t,n,e)},HO=(e,t,n)=>{eu(e.params,t,n,e),fn(e.body,t,n,e)},f7=(e,t,n)=>{fn(e.callee,t,n,e),eu(e.arguments,t,n,e)},eu=(e,t,n,r)=>{e.forEach(i=>fn(i,t,n,r))},kGe={TemplateLiteral:(e,t,n)=>{eu(e.expressions,t,n,e),eu(e.quasis,t,n,e)},MemberExpression:(e,t,n)=>{fn(e.object,t,n,e),fn(e.property,t,n,e)},CallExpression:f7,NewExpression:f7,ArrayExpression:(e,t,n)=>{eu(e.elements,t,n,e)},AssignmentExpression:zO,AwaitExpression:H1,BinaryExpression:zO,LogicalExpression:zO,UnaryExpression:H1,UpdateExpression:H1,ConditionalExpression:c7,ObjectExpression:(e,t,n)=>{eu(e.properties,t,n,e)},Property:(e,t,n)=>{fn(e.key,t,n,e),fn(e.value,t,n,e)},ArrowFunctionExpression:HO,FunctionExpression:HO,FunctionDeclaration:HO,VariableDeclaration:(e,t,n)=>{eu(e.declarations,t,n,e)},VariableDeclarator:(e,t,n)=>{fn(e.id,t,n,e),fn(e.init,t,n,e)},SpreadElement:(e,t,n)=>{fn(e.argument,t,n,e)},BlockStatement:(e,t,n)=>{eu(e.body,t,n,e)},ExpressionStatement:(e,t,n)=>{fn(e.expression,t,n,e)},IfStatement:c7,ForStatement:(e,t,n)=>{fn(e.init,t,n,e),fn(e.test,t,n,e),fn(e.update,t,n,e),fn(e.body,t,n,e)},WhileStatement:(e,t,n)=>{fn(e.test,t,n,e),fn(e.body,t,n,e)},DoWhileStatement:(e,t,n)=>{fn(e.body,t,n,e),fn(e.test,t,n,e)},SwitchStatement:(e,t,n)=>{fn(e.discriminant,t,n,e),eu(e.cases,t,n,e)},SwitchCase:(e,t,n)=>{e.test&&fn(e.test,t,n,e),eu(e.consequent,t,n,e)},ReturnStatement:H1,Program:(e,t,n)=>{fn(e.body[0],t,n,e)}};function rse(e){delete e.start,delete e.end,delete e.optional}function d7(e){rse(e),delete e.object,delete e.property,delete e.computed,e.table||delete e.table}function DGe(e){return fn(e,null,{Column:d7,Constant:d7,Default:rse}),e}function Jr(e,t){return t&&t.type===e}function $Ge(e){return Jr(kHe,e)||Jr(NHe,e)}function LGe(e){return tr(e)?e:()=>e}const MGe="Escaped functions are not valid as rollup or pivot values.";function FGe(e,t,n){e.aggronly&&jt(MGe);const r="(row,data)=>fn("+tre(e.table.columnNames())+",$)";return{escape:P3.escape(r,LGe(t.expr),n)}}var BGe=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],ise=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],jGe="-----------------------------------------------------------------------------------------------------------------------------------------------------",sse="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",WO={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},qO="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",UGe={5:qO,"5module":qO+" export import",6:qO+" const class extends export import super"},VGe=/^in(stanceof)?$/,zGe=new RegExp("["+sse+"]"),HGe=new RegExp("["+sse+jGe+"]");function rN(e,t){for(var n=65536,r=0;r<t.length;r+=2){if(n+=t[r],n>e)return!1;if(n+=t[r+1],n>=e)return!0}return!1}function Yl(e,t){return e<65?e===36:e<91?!0:e<97?e===95:e<123?!0:e<=65535?e>=170&&zGe.test(String.fromCharCode(e)):t===!1?!1:rN(e,ise)}function Rm(e,t){return e<48?e===36:e<58?!0:e<65?!1:e<91?!0:e<97?e===95:e<123?!0:e<=65535?e>=170&&HGe.test(String.fromCharCode(e)):t===!1?!1:rN(e,ise)||rN(e,BGe)}var dn=function(t,n){n===void 0&&(n={}),this.label=t,this.keyword=n.keyword,this.beforeExpr=!!n.beforeExpr,this.startsExpr=!!n.startsExpr,this.isLoop=!!n.isLoop,this.isAssign=!!n.isAssign,this.prefix=!!n.prefix,this.postfix=!!n.postfix,this.binop=n.binop||null,this.updateContext=null};function Do(e,t){return new dn(e,{beforeExpr:!0,binop:t})}var $o={beforeExpr:!0},Ss={startsExpr:!0},C6={};function nn(e,t){return t===void 0&&(t={}),t.keyword=e,C6[e]=new dn(e,t)}var L={num:new dn("num",Ss),regexp:new dn("regexp",Ss),string:new dn("string",Ss),name:new dn("name",Ss),privateId:new dn("privateId",Ss),eof:new dn("eof"),bracketL:new dn("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new dn("]"),braceL:new dn("{",{beforeExpr:!0,startsExpr:!0}),braceR:new dn("}"),parenL:new dn("(",{beforeExpr:!0,startsExpr:!0}),parenR:new dn(")"),comma:new dn(",",$o),semi:new dn(";",$o),colon:new dn(":",$o),dot:new dn("."),question:new dn("?",$o),questionDot:new dn("?."),arrow:new dn("=>",$o),template:new dn("template"),invalidTemplate:new dn("invalidTemplate"),ellipsis:new dn("...",$o),backQuote:new dn("`",Ss),dollarBraceL:new dn("${",{beforeExpr:!0,startsExpr:!0}),eq:new dn("=",{beforeExpr:!0,isAssign:!0}),assign:new dn("_=",{beforeExpr:!0,isAssign:!0}),incDec:new dn("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new dn("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:Do("||",1),logicalAND:Do("&&",2),bitwiseOR:Do("|",3),bitwiseXOR:Do("^",4),bitwiseAND:Do("&",5),equality:Do("==/!=/===/!==",6),relational:Do("</>/<=/>=",7),bitShift:Do("<</>>/>>>",8),plusMin:new dn("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:Do("%",10),star:Do("*",10),slash:Do("/",10),starstar:new dn("**",{beforeExpr:!0}),coalesce:Do("??",1),_break:nn("break"),_case:nn("case",$o),_catch:nn("catch"),_continue:nn("continue"),_debugger:nn("debugger"),_default:nn("default",$o),_do:nn("do",{isLoop:!0,beforeExpr:!0}),_else:nn("else",$o),_finally:nn("finally"),_for:nn("for",{isLoop:!0}),_function:nn("function",Ss),_if:nn("if"),_return:nn("return",$o),_switch:nn("switch"),_throw:nn("throw",$o),_try:nn("try"),_var:nn("var"),_const:nn("const"),_while:nn("while",{isLoop:!0}),_with:nn("with"),_new:nn("new",{beforeExpr:!0,startsExpr:!0}),_this:nn("this",Ss),_super:nn("super",Ss),_class:nn("class",Ss),_extends:nn("extends",$o),_export:nn("export"),_import:nn("import",Ss),_null:nn("null",Ss),_true:nn("true",Ss),_false:nn("false",Ss),_in:nn("in",{beforeExpr:!0,binop:7}),_instanceof:nn("instanceof",{beforeExpr:!0,binop:7}),_typeof:nn("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:nn("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:nn("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},ca=/\r\n?|\n|\u2028|\u2029/,WGe=new RegExp(ca.source,"g");function fg(e){return e===10||e===13||e===8232||e===8233}function ose(e,t,n){n===void 0&&(n=e.length);for(var r=t;r<n;r++){var i=e.charCodeAt(r);if(fg(i))return r<n-1&&i===13&&e.charCodeAt(r+1)===10?r+2:r+1}return-1}var ase=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Ho=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,use=Object.prototype,qGe=use.hasOwnProperty,YGe=use.toString,vv=Object.hasOwn||function(e,t){return qGe.call(e,t)},h7=Array.isArray||function(e){return YGe.call(e)==="[object Array]"},p7=Object.create(null);function jc(e){return p7[e]||(p7[e]=new RegExp("^(?:"+e.replace(/ /g,"|")+")$"))}function Ef(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10)+55296,(e&1023)+56320))}var GGe=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,s_=function(t,n){this.line=t,this.column=n};s_.prototype.offset=function(t){return new s_(this.line,this.column+t)};var jI=function(t,n,r){this.start=n,this.end=r,t.sourceFile!==null&&(this.source=t.sourceFile)};function lse(e,t){for(var n=1,r=0;;){var i=ose(e,r,t);if(i<0)return new s_(n,t-r);++n,r=i}}var iN={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},m7=!1;function KGe(e){var t={};for(var n in iN)t[n]=e&&vv(e,n)?e[n]:iN[n];if(t.ecmaVersion==="latest"?t.ecmaVersion=1e8:t.ecmaVersion==null?(!m7&&typeof console=="object"&&console.warn&&(m7=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),t.ecmaVersion=11):t.ecmaVersion>=2015&&(t.ecmaVersion-=2009),t.allowReserved==null&&(t.allowReserved=t.ecmaVersion<5),(!e||e.allowHashBang==null)&&(t.allowHashBang=t.ecmaVersion>=14),h7(t.onToken)){var r=t.onToken;t.onToken=function(i){return r.push(i)}}return h7(t.onComment)&&(t.onComment=QGe(t,t.onComment)),t}function QGe(e,t){return function(n,r,i,s,o,a){var u={type:n?"Block":"Line",value:r,start:i,end:s};e.locations&&(u.loc=new jI(this,o,a)),e.ranges&&(u.range=[i,s]),t.push(u)}}var o_=1,dg=2,O6=4,cse=8,fse=16,dse=32,P6=64,hse=128,bv=256,R6=o_|dg|bv;function N6(e,t){return dg|(e?O6:0)|(t?cse:0)}var hS=0,k6=1,cc=2,pse=3,mse=4,gse=5,ii=function(t,n,r){this.options=t=KGe(t),this.sourceFile=t.sourceFile,this.keywords=jc(UGe[t.ecmaVersion>=6?6:t.sourceType==="module"?"5module":5]);var i="";t.allowReserved!==!0&&(i=WO[t.ecmaVersion>=6?6:t.ecmaVersion===5?5:3],t.sourceType==="module"&&(i+=" await")),this.reservedWords=jc(i);var s=(i?i+" ":"")+WO.strict;this.reservedWordsStrict=jc(s),this.reservedWordsStrictBind=jc(s+" "+WO.strictBind),this.input=String(n),this.containsEsc=!1,r?(this.pos=r,this.lineStart=this.input.lastIndexOf(`
`,r-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(ca).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=L.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=t.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&t.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(o_),this.regexpState=null,this.privateNameStack=[]},Gu={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};ii.prototype.parse=function(){var t=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(t)};Gu.inFunction.get=function(){return(this.currentVarScope().flags&dg)>0};Gu.inGenerator.get=function(){return(this.currentVarScope().flags&cse)>0&&!this.currentVarScope().inClassFieldInit};Gu.inAsync.get=function(){return(this.currentVarScope().flags&O6)>0&&!this.currentVarScope().inClassFieldInit};Gu.canAwait.get=function(){for(var e=this.scopeStack.length-1;e>=0;e--){var t=this.scopeStack[e];if(t.inClassFieldInit||t.flags&bv)return!1;if(t.flags&dg)return(t.flags&O6)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};Gu.allowSuper.get=function(){var e=this.currentThisScope(),t=e.flags,n=e.inClassFieldInit;return(t&P6)>0||n||this.options.allowSuperOutsideMethod};Gu.allowDirectSuper.get=function(){return(this.currentThisScope().flags&hse)>0};Gu.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};Gu.allowNewDotTarget.get=function(){var e=this.currentThisScope(),t=e.flags,n=e.inClassFieldInit;return(t&(dg|bv))>0||n};Gu.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&bv)>0};ii.extend=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];for(var r=this,i=0;i<t.length;i++)r=t[i](r);return r};ii.parse=function(t,n){return new this(n,t).parse()};ii.parseExpressionAt=function(t,n,r){var i=new this(r,t,n);return i.nextToken(),i.parseExpression()};ii.tokenizer=function(t,n){return new this(n,t)};Object.defineProperties(ii.prototype,Gu);var vs=ii.prototype,XGe=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;vs.strictDirective=function(e){if(this.options.ecmaVersion<5)return!1;for(;;){Ho.lastIndex=e,e+=Ho.exec(this.input)[0].length;var t=XGe.exec(this.input.slice(e));if(!t)return!1;if((t[1]||t[2])==="use strict"){Ho.lastIndex=e+t[0].length;var n=Ho.exec(this.input),r=n.index+n[0].length,i=this.input.charAt(r);return i===";"||i==="}"||ca.test(n[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(i)||i==="!"&&this.input.charAt(r+1)==="=")}e+=t[0].length,Ho.lastIndex=e,e+=Ho.exec(this.input)[0].length,this.input[e]===";"&&e++}};vs.eat=function(e){return this.type===e?(this.next(),!0):!1};vs.isContextual=function(e){return this.type===L.name&&this.value===e&&!this.containsEsc};vs.eatContextual=function(e){return this.isContextual(e)?(this.next(),!0):!1};vs.expectContextual=function(e){this.eatContextual(e)||this.unexpected()};vs.canInsertSemicolon=function(){return this.type===L.eof||this.type===L.braceR||ca.test(this.input.slice(this.lastTokEnd,this.start))};vs.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};vs.semicolon=function(){!this.eat(L.semi)&&!this.insertSemicolon()&&this.unexpected()};vs.afterTrailingComma=function(e,t){if(this.type===e)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),t||this.next(),!0};vs.expect=function(e){this.eat(e)||this.unexpected()};vs.unexpected=function(e){this.raise(e??this.start,"Unexpected token")};var UI=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};vs.checkPatternErrors=function(e,t){if(e){e.trailingComma>-1&&this.raiseRecoverable(e.trailingComma,"Comma is not permitted after the rest element");var n=t?e.parenthesizedAssign:e.parenthesizedBind;n>-1&&this.raiseRecoverable(n,t?"Assigning to rvalue":"Parenthesized pattern")}};vs.checkExpressionErrors=function(e,t){if(!e)return!1;var n=e.shorthandAssign,r=e.doubleProto;if(!t)return n>=0||r>=0;n>=0&&this.raise(n,"Shorthand property assignments are valid only in destructuring patterns"),r>=0&&this.raiseRecoverable(r,"Redefinition of __proto__ property")};vs.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};vs.isSimpleAssignTarget=function(e){return e.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(e.expression):e.type==="Identifier"||e.type==="MemberExpression"};var st=ii.prototype;st.parseTopLevel=function(e){var t=Object.create(null);for(e.body||(e.body=[]);this.type!==L.eof;){var n=this.parseStatement(null,!0,t);e.body.push(n)}if(this.inModule)for(var r=0,i=Object.keys(this.undefinedExports);r<i.length;r+=1){var s=i[r];this.raiseRecoverable(this.undefinedExports[s].start,"Export '"+s+"' is not defined")}return this.adaptDirectivePrologue(e.body),this.next(),e.sourceType=this.options.sourceType,this.finishNode(e,"Program")};var D6={kind:"loop"},JGe={kind:"switch"};st.isLet=function(e){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;Ho.lastIndex=this.pos;var t=Ho.exec(this.input),n=this.pos+t[0].length,r=this.input.charCodeAt(n);if(r===91||r===92)return!0;if(e)return!1;if(r===123||r>55295&&r<56320)return!0;if(Yl(r,!0)){for(var i=n+1;Rm(r=this.input.charCodeAt(i),!0);)++i;if(r===92||r>55295&&r<56320)return!0;var s=this.input.slice(n,i);if(!VGe.test(s))return!0}return!1};st.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;Ho.lastIndex=this.pos;var e=Ho.exec(this.input),t=this.pos+e[0].length,n;return!ca.test(this.input.slice(this.pos,t))&&this.input.slice(t,t+8)==="function"&&(t+8===this.input.length||!(Rm(n=this.input.charCodeAt(t+8))||n>55295&&n<56320))};st.parseStatement=function(e,t,n){var r=this.type,i=this.startNode(),s;switch(this.isLet(e)&&(r=L._var,s="let"),r){case L._break:case L._continue:return this.parseBreakContinueStatement(i,r.keyword);case L._debugger:return this.parseDebuggerStatement(i);case L._do:return this.parseDoStatement(i);case L._for:return this.parseForStatement(i);case L._function:return e&&(this.strict||e!=="if"&&e!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(i,!1,!e);case L._class:return e&&this.unexpected(),this.parseClass(i,!0);case L._if:return this.parseIfStatement(i);case L._return:return this.parseReturnStatement(i);case L._switch:return this.parseSwitchStatement(i);case L._throw:return this.parseThrowStatement(i);case L._try:return this.parseTryStatement(i);case L._const:case L._var:return s=s||this.value,e&&s!=="var"&&this.unexpected(),this.parseVarStatement(i,s);case L._while:return this.parseWhileStatement(i);case L._with:return this.parseWithStatement(i);case L.braceL:return this.parseBlock(!0,i);case L.semi:return this.parseEmptyStatement(i);case L._export:case L._import:if(this.options.ecmaVersion>10&&r===L._import){Ho.lastIndex=this.pos;var o=Ho.exec(this.input),a=this.pos+o[0].length,u=this.input.charCodeAt(a);if(u===40||u===46)return this.parseExpressionStatement(i,this.parseExpression())}return this.options.allowImportExportEverywhere||(t||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),r===L._import?this.parseImport(i):this.parseExport(i,n);default:if(this.isAsyncFunction())return e&&this.unexpected(),this.next(),this.parseFunctionStatement(i,!0,!e);var l=this.value,c=this.parseExpression();return r===L.name&&c.type==="Identifier"&&this.eat(L.colon)?this.parseLabeledStatement(i,l,c,e):this.parseExpressionStatement(i,c)}};st.parseBreakContinueStatement=function(e,t){var n=t==="break";this.next(),this.eat(L.semi)||this.insertSemicolon()?e.label=null:this.type!==L.name?this.unexpected():(e.label=this.parseIdent(),this.semicolon());for(var r=0;r<this.labels.length;++r){var i=this.labels[r];if((e.label==null||i.name===e.label.name)&&(i.kind!=null&&(n||i.kind==="loop")||e.label&&n))break}return r===this.labels.length&&this.raise(e.start,"Unsyntactic "+t),this.finishNode(e,n?"BreakStatement":"ContinueStatement")};st.parseDebuggerStatement=function(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")};st.parseDoStatement=function(e){return this.next(),this.labels.push(D6),e.body=this.parseStatement("do"),this.labels.pop(),this.expect(L._while),e.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(L.semi):this.semicolon(),this.finishNode(e,"DoWhileStatement")};st.parseForStatement=function(e){this.next();var t=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(D6),this.enterScope(0),this.expect(L.parenL),this.type===L.semi)return t>-1&&this.unexpected(t),this.parseFor(e,null);var n=this.isLet();if(this.type===L._var||this.type===L._const||n){var r=this.startNode(),i=n?"let":this.value;return this.next(),this.parseVar(r,!0,i),this.finishNode(r,"VariableDeclaration"),(this.type===L._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&r.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===L._in?t>-1&&this.unexpected(t):e.await=t>-1),this.parseForIn(e,r)):(t>-1&&this.unexpected(t),this.parseFor(e,r))}var s=this.isContextual("let"),o=!1,a=new UI,u=this.parseExpression(t>-1?"await":!0,a);return this.type===L._in||(o=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===L._in?t>-1&&this.unexpected(t):e.await=t>-1),s&&o&&this.raise(u.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(u,!1,a),this.checkLValPattern(u),this.parseForIn(e,u)):(this.checkExpressionErrors(a,!0),t>-1&&this.unexpected(t),this.parseFor(e,u))};st.parseFunctionStatement=function(e,t,n){return this.next(),this.parseFunction(e,cy|(n?0:sN),!1,t)};st.parseIfStatement=function(e){return this.next(),e.test=this.parseParenExpression(),e.consequent=this.parseStatement("if"),e.alternate=this.eat(L._else)?this.parseStatement("if"):null,this.finishNode(e,"IfStatement")};st.parseReturnStatement=function(e){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(L.semi)||this.insertSemicolon()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")};st.parseSwitchStatement=function(e){this.next(),e.discriminant=this.parseParenExpression(),e.cases=[],this.expect(L.braceL),this.labels.push(JGe),this.enterScope(0);for(var t,n=!1;this.type!==L.braceR;)if(this.type===L._case||this.type===L._default){var r=this.type===L._case;t&&this.finishNode(t,"SwitchCase"),e.cases.push(t=this.startNode()),t.consequent=[],this.next(),r?t.test=this.parseExpression():(n&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),n=!0,t.test=null),this.expect(L.colon)}else t||this.unexpected(),t.consequent.push(this.parseStatement(null));return this.exitScope(),t&&this.finishNode(t,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(e,"SwitchStatement")};st.parseThrowStatement=function(e){return this.next(),ca.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")};var ZGe=[];st.parseCatchClauseParam=function(){var e=this.parseBindingAtom(),t=e.type==="Identifier";return this.enterScope(t?dse:0),this.checkLValPattern(e,t?mse:cc),this.expect(L.parenR),e};st.parseTryStatement=function(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.type===L._catch){var t=this.startNode();this.next(),this.eat(L.parenL)?t.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),t.param=null,this.enterScope(0)),t.body=this.parseBlock(!1),this.exitScope(),e.handler=this.finishNode(t,"CatchClause")}return e.finalizer=this.eat(L._finally)?this.parseBlock():null,!e.handler&&!e.finalizer&&this.raise(e.start,"Missing catch or finally clause"),this.finishNode(e,"TryStatement")};st.parseVarStatement=function(e,t,n){return this.next(),this.parseVar(e,!1,t,n),this.semicolon(),this.finishNode(e,"VariableDeclaration")};st.parseWhileStatement=function(e){return this.next(),e.test=this.parseParenExpression(),this.labels.push(D6),e.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(e,"WhileStatement")};st.parseWithStatement=function(e){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),e.object=this.parseParenExpression(),e.body=this.parseStatement("with"),this.finishNode(e,"WithStatement")};st.parseEmptyStatement=function(e){return this.next(),this.finishNode(e,"EmptyStatement")};st.parseLabeledStatement=function(e,t,n,r){for(var i=0,s=this.labels;i<s.length;i+=1){var o=s[i];o.name===t&&this.raise(n.start,"Label '"+t+"' is already declared")}for(var a=this.type.isLoop?"loop":this.type===L._switch?"switch":null,u=this.labels.length-1;u>=0;u--){var l=this.labels[u];if(l.statementStart===e.start)l.statementStart=this.start,l.kind=a;else break}return this.labels.push({name:t,kind:a,statementStart:this.start}),e.body=this.parseStatement(r?r.indexOf("label")===-1?r+"label":r:"label"),this.labels.pop(),e.label=n,this.finishNode(e,"LabeledStatement")};st.parseExpressionStatement=function(e,t){return e.expression=t,this.semicolon(),this.finishNode(e,"ExpressionStatement")};st.parseBlock=function(e,t,n){for(e===void 0&&(e=!0),t===void 0&&(t=this.startNode()),t.body=[],this.expect(L.braceL),e&&this.enterScope(0);this.type!==L.braceR;){var r=this.parseStatement(null);t.body.push(r)}return n&&(this.strict=!1),this.next(),e&&this.exitScope(),this.finishNode(t,"BlockStatement")};st.parseFor=function(e,t){return e.init=t,this.expect(L.semi),e.test=this.type===L.semi?null:this.parseExpression(),this.expect(L.semi),e.update=this.type===L.parenR?null:this.parseExpression(),this.expect(L.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,"ForStatement")};st.parseForIn=function(e,t){var n=this.type===L._in;return this.next(),t.type==="VariableDeclaration"&&t.declarations[0].init!=null&&(!n||this.options.ecmaVersion<8||this.strict||t.kind!=="var"||t.declarations[0].id.type!=="Identifier")&&this.raise(t.start,(n?"for-in":"for-of")+" loop variable declaration may not have an initializer"),e.left=t,e.right=n?this.parseExpression():this.parseMaybeAssign(),this.expect(L.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,n?"ForInStatement":"ForOfStatement")};st.parseVar=function(e,t,n,r){for(e.declarations=[],e.kind=n;;){var i=this.startNode();if(this.parseVarId(i,n),this.eat(L.eq)?i.init=this.parseMaybeAssign(t):!r&&n==="const"&&!(this.type===L._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!r&&i.id.type!=="Identifier"&&!(t&&(this.type===L._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):i.init=null,e.declarations.push(this.finishNode(i,"VariableDeclarator")),!this.eat(L.comma))break}return e};st.parseVarId=function(e,t){e.id=this.parseBindingAtom(),this.checkLValPattern(e.id,t==="var"?k6:cc,!1)};var cy=1,sN=2,yse=4;st.parseFunction=function(e,t,n,r,i){this.initFunction(e),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!r)&&(this.type===L.star&&t&sN&&this.unexpected(),e.generator=this.eat(L.star)),this.options.ecmaVersion>=8&&(e.async=!!r),t&cy&&(e.id=t&yse&&this.type!==L.name?null:this.parseIdent(),e.id&&!(t&sN)&&this.checkLValSimple(e.id,this.strict||e.generator||e.async?this.treatFunctionsAsVar?k6:cc:pse));var s=this.yieldPos,o=this.awaitPos,a=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(N6(e.async,e.generator)),t&cy||(e.id=this.type===L.name?this.parseIdent():null),this.parseFunctionParams(e),this.parseFunctionBody(e,n,!1,i),this.yieldPos=s,this.awaitPos=o,this.awaitIdentPos=a,this.finishNode(e,t&cy?"FunctionDeclaration":"FunctionExpression")};st.parseFunctionParams=function(e){this.expect(L.parenL),e.params=this.parseBindingList(L.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};st.parseClass=function(e,t){this.next();var n=this.strict;this.strict=!0,this.parseClassId(e,t),this.parseClassSuper(e);var r=this.enterClassBody(),i=this.startNode(),s=!1;for(i.body=[],this.expect(L.braceL);this.type!==L.braceR;){var o=this.parseClassElement(e.superClass!==null);o&&(i.body.push(o),o.type==="MethodDefinition"&&o.kind==="constructor"?(s&&this.raiseRecoverable(o.start,"Duplicate constructor in the same class"),s=!0):o.key&&o.key.type==="PrivateIdentifier"&&eKe(r,o)&&this.raiseRecoverable(o.key.start,"Identifier '#"+o.key.name+"' has already been declared"))}return this.strict=n,this.next(),e.body=this.finishNode(i,"ClassBody"),this.exitClassBody(),this.finishNode(e,t?"ClassDeclaration":"ClassExpression")};st.parseClassElement=function(e){if(this.eat(L.semi))return null;var t=this.options.ecmaVersion,n=this.startNode(),r="",i=!1,s=!1,o="method",a=!1;if(this.eatContextual("static")){if(t>=13&&this.eat(L.braceL))return this.parseClassStaticBlock(n),n;this.isClassElementNameStart()||this.type===L.star?a=!0:r="static"}if(n.static=a,!r&&t>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===L.star)&&!this.canInsertSemicolon()?s=!0:r="async"),!r&&(t>=9||!s)&&this.eat(L.star)&&(i=!0),!r&&!s&&!i){var u=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?o=u:r=u)}if(r?(n.computed=!1,n.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),n.key.name=r,this.finishNode(n.key,"Identifier")):this.parseClassElementName(n),t<13||this.type===L.parenL||o!=="method"||i||s){var l=!n.static&&pS(n,"constructor"),c=l&&e;l&&o!=="method"&&this.raise(n.key.start,"Constructor can't have get/set modifier"),n.kind=l?"constructor":o,this.parseClassMethod(n,i,s,c)}else this.parseClassField(n);return n};st.isClassElementNameStart=function(){return this.type===L.name||this.type===L.privateId||this.type===L.num||this.type===L.string||this.type===L.bracketL||this.type.keyword};st.parseClassElementName=function(e){this.type===L.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),e.computed=!1,e.key=this.parsePrivateIdent()):this.parsePropertyName(e)};st.parseClassMethod=function(e,t,n,r){var i=e.key;e.kind==="constructor"?(t&&this.raise(i.start,"Constructor can't be a generator"),n&&this.raise(i.start,"Constructor can't be an async method")):e.static&&pS(e,"prototype")&&this.raise(i.start,"Classes may not have a static property named prototype");var s=e.value=this.parseMethod(t,n,r);return e.kind==="get"&&s.params.length!==0&&this.raiseRecoverable(s.start,"getter should have no params"),e.kind==="set"&&s.params.length!==1&&this.raiseRecoverable(s.start,"setter should have exactly one param"),e.kind==="set"&&s.params[0].type==="RestElement"&&this.raiseRecoverable(s.params[0].start,"Setter cannot use rest params"),this.finishNode(e,"MethodDefinition")};st.parseClassField=function(e){if(pS(e,"constructor")?this.raise(e.key.start,"Classes can't have a field named 'constructor'"):e.static&&pS(e,"prototype")&&this.raise(e.key.start,"Classes can't have a static field named 'prototype'"),this.eat(L.eq)){var t=this.currentThisScope(),n=t.inClassFieldInit;t.inClassFieldInit=!0,e.value=this.parseMaybeAssign(),t.inClassFieldInit=n}else e.value=null;return this.semicolon(),this.finishNode(e,"PropertyDefinition")};st.parseClassStaticBlock=function(e){e.body=[];var t=this.labels;for(this.labels=[],this.enterScope(bv|P6);this.type!==L.braceR;){var n=this.parseStatement(null);e.body.push(n)}return this.next(),this.exitScope(),this.labels=t,this.finishNode(e,"StaticBlock")};st.parseClassId=function(e,t){this.type===L.name?(e.id=this.parseIdent(),t&&this.checkLValSimple(e.id,cc,!1)):(t===!0&&this.unexpected(),e.id=null)};st.parseClassSuper=function(e){e.superClass=this.eat(L._extends)?this.parseExprSubscripts(null,!1):null};st.enterClassBody=function(){var e={declared:Object.create(null),used:[]};return this.privateNameStack.push(e),e.declared};st.exitClassBody=function(){var e=this.privateNameStack.pop(),t=e.declared,n=e.used;if(this.options.checkPrivateFields)for(var r=this.privateNameStack.length,i=r===0?null:this.privateNameStack[r-1],s=0;s<n.length;++s){var o=n[s];vv(t,o.name)||(i?i.used.push(o):this.raiseRecoverable(o.start,"Private field '#"+o.name+"' must be declared in an enclosing class"))}};function eKe(e,t){var n=t.key.name,r=e[n],i="true";return t.type==="MethodDefinition"&&(t.kind==="get"||t.kind==="set")&&(i=(t.static?"s":"i")+t.kind),r==="iget"&&i==="iset"||r==="iset"&&i==="iget"||r==="sget"&&i==="sset"||r==="sset"&&i==="sget"?(e[n]="true",!1):r?!0:(e[n]=i,!1)}function pS(e,t){var n=e.computed,r=e.key;return!n&&(r.type==="Identifier"&&r.name===t||r.type==="Literal"&&r.value===t)}st.parseExportAllDeclaration=function(e,t){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(e.exported=this.parseModuleExportName(),this.checkExport(t,e.exported,this.lastTokStart)):e.exported=null),this.expectContextual("from"),this.type!==L.string&&this.unexpected(),e.source=this.parseExprAtom(),this.semicolon(),this.finishNode(e,"ExportAllDeclaration")};st.parseExport=function(e,t){if(this.next(),this.eat(L.star))return this.parseExportAllDeclaration(e,t);if(this.eat(L._default))return this.checkExport(t,"default",this.lastTokStart),e.declaration=this.parseExportDefaultDeclaration(),this.finishNode(e,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())e.declaration=this.parseExportDeclaration(e),e.declaration.type==="VariableDeclaration"?this.checkVariableExport(t,e.declaration.declarations):this.checkExport(t,e.declaration.id,e.declaration.id.start),e.specifiers=[],e.source=null;else{if(e.declaration=null,e.specifiers=this.parseExportSpecifiers(t),this.eatContextual("from"))this.type!==L.string&&this.unexpected(),e.source=this.parseExprAtom();else{for(var n=0,r=e.specifiers;n<r.length;n+=1){var i=r[n];this.checkUnreserved(i.local),this.checkLocalExport(i.local),i.local.type==="Literal"&&this.raise(i.local.start,"A string literal cannot be used as an exported binding without `from`.")}e.source=null}this.semicolon()}return this.finishNode(e,"ExportNamedDeclaration")};st.parseExportDeclaration=function(e){return this.parseStatement(null)};st.parseExportDefaultDeclaration=function(){var e;if(this.type===L._function||(e=this.isAsyncFunction())){var t=this.startNode();return this.next(),e&&this.next(),this.parseFunction(t,cy|yse,!1,e)}else if(this.type===L._class){var n=this.startNode();return this.parseClass(n,"nullableID")}else{var r=this.parseMaybeAssign();return this.semicolon(),r}};st.checkExport=function(e,t,n){e&&(typeof t!="string"&&(t=t.type==="Identifier"?t.name:t.value),vv(e,t)&&this.raiseRecoverable(n,"Duplicate export '"+t+"'"),e[t]=!0)};st.checkPatternExport=function(e,t){var n=t.type;if(n==="Identifier")this.checkExport(e,t,t.start);else if(n==="ObjectPattern")for(var r=0,i=t.properties;r<i.length;r+=1){var s=i[r];this.checkPatternExport(e,s)}else if(n==="ArrayPattern")for(var o=0,a=t.elements;o<a.length;o+=1){var u=a[o];u&&this.checkPatternExport(e,u)}else n==="Property"?this.checkPatternExport(e,t.value):n==="AssignmentPattern"?this.checkPatternExport(e,t.left):n==="RestElement"&&this.checkPatternExport(e,t.argument)};st.checkVariableExport=function(e,t){if(e)for(var n=0,r=t;n<r.length;n+=1){var i=r[n];this.checkPatternExport(e,i.id)}};st.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};st.parseExportSpecifier=function(e){var t=this.startNode();return t.local=this.parseModuleExportName(),t.exported=this.eatContextual("as")?this.parseModuleExportName():t.local,this.checkExport(e,t.exported,t.exported.start),this.finishNode(t,"ExportSpecifier")};st.parseExportSpecifiers=function(e){var t=[],n=!0;for(this.expect(L.braceL);!this.eat(L.braceR);){if(n)n=!1;else if(this.expect(L.comma),this.afterTrailingComma(L.braceR))break;t.push(this.parseExportSpecifier(e))}return t};st.parseImport=function(e){return this.next(),this.type===L.string?(e.specifiers=ZGe,e.source=this.parseExprAtom()):(e.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),e.source=this.type===L.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(e,"ImportDeclaration")};st.parseImportSpecifier=function(){var e=this.startNode();return e.imported=this.parseModuleExportName(),this.eatContextual("as")?e.local=this.parseIdent():(this.checkUnreserved(e.imported),e.local=e.imported),this.checkLValSimple(e.local,cc),this.finishNode(e,"ImportSpecifier")};st.parseImportDefaultSpecifier=function(){var e=this.startNode();return e.local=this.parseIdent(),this.checkLValSimple(e.local,cc),this.finishNode(e,"ImportDefaultSpecifier")};st.parseImportNamespaceSpecifier=function(){var e=this.startNode();return this.next(),this.expectContextual("as"),e.local=this.parseIdent(),this.checkLValSimple(e.local,cc),this.finishNode(e,"ImportNamespaceSpecifier")};st.parseImportSpecifiers=function(){var e=[],t=!0;if(this.type===L.name&&(e.push(this.parseImportDefaultSpecifier()),!this.eat(L.comma)))return e;if(this.type===L.star)return e.push(this.parseImportNamespaceSpecifier()),e;for(this.expect(L.braceL);!this.eat(L.braceR);){if(t)t=!1;else if(this.expect(L.comma),this.afterTrailingComma(L.braceR))break;e.push(this.parseImportSpecifier())}return e};st.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===L.string){var e=this.parseLiteral(this.value);return GGe.test(e.value)&&this.raise(e.start,"An export name cannot include a lone surrogate."),e}return this.parseIdent(!0)};st.adaptDirectivePrologue=function(e){for(var t=0;t<e.length&&this.isDirectiveCandidate(e[t]);++t)e[t].directive=e[t].expression.raw.slice(1,-1)};st.isDirectiveCandidate=function(e){return this.options.ecmaVersion>=5&&e.type==="ExpressionStatement"&&e.expression.type==="Literal"&&typeof e.expression.value=="string"&&(this.input[e.start]==='"'||this.input[e.start]==="'")};var fa=ii.prototype;fa.toAssignable=function(e,t,n){if(this.options.ecmaVersion>=6&&e)switch(e.type){case"Identifier":this.inAsync&&e.name==="await"&&this.raise(e.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":e.type="ObjectPattern",n&&this.checkPatternErrors(n,!0);for(var r=0,i=e.properties;r<i.length;r+=1){var s=i[r];this.toAssignable(s,t),s.type==="RestElement"&&(s.argument.type==="ArrayPattern"||s.argument.type==="ObjectPattern")&&this.raise(s.argument.start,"Unexpected token")}break;case"Property":e.kind!=="init"&&this.raise(e.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(e.value,t);break;case"ArrayExpression":e.type="ArrayPattern",n&&this.checkPatternErrors(n,!0),this.toAssignableList(e.elements,t);break;case"SpreadElement":e.type="RestElement",this.toAssignable(e.argument,t),e.argument.type==="AssignmentPattern"&&this.raise(e.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":e.operator!=="="&&this.raise(e.left.end,"Only '=' operator can be used for specifying default value."),e.type="AssignmentPattern",delete e.operator,this.toAssignable(e.left,t);break;case"ParenthesizedExpression":this.toAssignable(e.expression,t,n);break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!t)break;default:this.raise(e.start,"Assigning to rvalue")}else n&&this.checkPatternErrors(n,!0);return e};fa.toAssignableList=function(e,t){for(var n=e.length,r=0;r<n;r++){var i=e[r];i&&this.toAssignable(i,t)}if(n){var s=e[n-1];this.options.ecmaVersion===6&&t&&s&&s.type==="RestElement"&&s.argument.type!=="Identifier"&&this.unexpected(s.argument.start)}return e};fa.parseSpread=function(e){var t=this.startNode();return this.next(),t.argument=this.parseMaybeAssign(!1,e),this.finishNode(t,"SpreadElement")};fa.parseRestBinding=function(){var e=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==L.name&&this.unexpected(),e.argument=this.parseBindingAtom(),this.finishNode(e,"RestElement")};fa.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case L.bracketL:var e=this.startNode();return this.next(),e.elements=this.parseBindingList(L.bracketR,!0,!0),this.finishNode(e,"ArrayPattern");case L.braceL:return this.parseObj(!0)}return this.parseIdent()};fa.parseBindingList=function(e,t,n,r){for(var i=[],s=!0;!this.eat(e);)if(s?s=!1:this.expect(L.comma),t&&this.type===L.comma)i.push(null);else{if(n&&this.afterTrailingComma(e))break;if(this.type===L.ellipsis){var o=this.parseRestBinding();this.parseBindingListItem(o),i.push(o),this.type===L.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(e);break}else i.push(this.parseAssignableListItem(r))}return i};fa.parseAssignableListItem=function(e){var t=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(t),t};fa.parseBindingListItem=function(e){return e};fa.parseMaybeDefault=function(e,t,n){if(n=n||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(L.eq))return n;var r=this.startNodeAt(e,t);return r.left=n,r.right=this.parseMaybeAssign(),this.finishNode(r,"AssignmentPattern")};fa.checkLValSimple=function(e,t,n){t===void 0&&(t=hS);var r=t!==hS;switch(e.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(e.name)&&this.raiseRecoverable(e.start,(r?"Binding ":"Assigning to ")+e.name+" in strict mode"),r&&(t===cc&&e.name==="let"&&this.raiseRecoverable(e.start,"let is disallowed as a lexically bound name"),n&&(vv(n,e.name)&&this.raiseRecoverable(e.start,"Argument name clash"),n[e.name]=!0),t!==gse&&this.declareName(e.name,t,e.start));break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":r&&this.raiseRecoverable(e.start,"Binding member expression");break;case"ParenthesizedExpression":return r&&this.raiseRecoverable(e.start,"Binding parenthesized expression"),this.checkLValSimple(e.expression,t,n);default:this.raise(e.start,(r?"Binding":"Assigning to")+" rvalue")}};fa.checkLValPattern=function(e,t,n){switch(t===void 0&&(t=hS),e.type){case"ObjectPattern":for(var r=0,i=e.properties;r<i.length;r+=1){var s=i[r];this.checkLValInnerPattern(s,t,n)}break;case"ArrayPattern":for(var o=0,a=e.elements;o<a.length;o+=1){var u=a[o];u&&this.checkLValInnerPattern(u,t,n)}break;default:this.checkLValSimple(e,t,n)}};fa.checkLValInnerPattern=function(e,t,n){switch(t===void 0&&(t=hS),e.type){case"Property":this.checkLValInnerPattern(e.value,t,n);break;case"AssignmentPattern":this.checkLValPattern(e.left,t,n);break;case"RestElement":this.checkLValPattern(e.argument,t,n);break;default:this.checkLValPattern(e,t,n)}};var ga=function(t,n,r,i,s){this.token=t,this.isExpr=!!n,this.preserveSpace=!!r,this.override=i,this.generator=!!s},fr={b_stat:new ga("{",!1),b_expr:new ga("{",!0),b_tmpl:new ga("${",!1),p_stat:new ga("(",!1),p_expr:new ga("(",!0),q_tmpl:new ga("`",!0,!0,function(e){return e.tryReadTemplateToken()}),f_stat:new ga("function",!1),f_expr:new ga("function",!0),f_expr_gen:new ga("function",!0,!1,null,!0),f_gen:new ga("function",!1,!1,null,!0)},hg=ii.prototype;hg.initialContext=function(){return[fr.b_stat]};hg.curContext=function(){return this.context[this.context.length-1]};hg.braceIsBlock=function(e){var t=this.curContext();return t===fr.f_expr||t===fr.f_stat?!0:e===L.colon&&(t===fr.b_stat||t===fr.b_expr)?!t.isExpr:e===L._return||e===L.name&&this.exprAllowed?ca.test(this.input.slice(this.lastTokEnd,this.start)):e===L._else||e===L.semi||e===L.eof||e===L.parenR||e===L.arrow?!0:e===L.braceL?t===fr.b_stat:e===L._var||e===L._const||e===L.name?!1:!this.exprAllowed};hg.inGeneratorContext=function(){for(var e=this.context.length-1;e>=1;e--){var t=this.context[e];if(t.token==="function")return t.generator}return!1};hg.updateContext=function(e){var t,n=this.type;n.keyword&&e===L.dot?this.exprAllowed=!1:(t=n.updateContext)?t.call(this,e):this.exprAllowed=n.beforeExpr};hg.overrideContext=function(e){this.curContext()!==e&&(this.context[this.context.length-1]=e)};L.parenR.updateContext=L.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var e=this.context.pop();e===fr.b_stat&&this.curContext().token==="function"&&(e=this.context.pop()),this.exprAllowed=!e.isExpr};L.braceL.updateContext=function(e){this.context.push(this.braceIsBlock(e)?fr.b_stat:fr.b_expr),this.exprAllowed=!0};L.dollarBraceL.updateContext=function(){this.context.push(fr.b_tmpl),this.exprAllowed=!0};L.parenL.updateContext=function(e){var t=e===L._if||e===L._for||e===L._with||e===L._while;this.context.push(t?fr.p_stat:fr.p_expr),this.exprAllowed=!0};L.incDec.updateContext=function(){};L._function.updateContext=L._class.updateContext=function(e){e.beforeExpr&&e!==L._else&&!(e===L.semi&&this.curContext()!==fr.p_stat)&&!(e===L._return&&ca.test(this.input.slice(this.lastTokEnd,this.start)))&&!((e===L.colon||e===L.braceL)&&this.curContext()===fr.b_stat)?this.context.push(fr.f_expr):this.context.push(fr.f_stat),this.exprAllowed=!1};L.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0};L.backQuote.updateContext=function(){this.curContext()===fr.q_tmpl?this.context.pop():this.context.push(fr.q_tmpl),this.exprAllowed=!1};L.star.updateContext=function(e){if(e===L._function){var t=this.context.length-1;this.context[t]===fr.f_expr?this.context[t]=fr.f_expr_gen:this.context[t]=fr.f_gen}this.exprAllowed=!0};L.name.updateContext=function(e){var t=!1;this.options.ecmaVersion>=6&&e!==L.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(t=!0),this.exprAllowed=t};var bt=ii.prototype;bt.checkPropClash=function(e,t,n){if(!(this.options.ecmaVersion>=9&&e.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(e.computed||e.method||e.shorthand))){var r=e.key,i;switch(r.type){case"Identifier":i=r.name;break;case"Literal":i=String(r.value);break;default:return}var s=e.kind;if(this.options.ecmaVersion>=6){i==="__proto__"&&s==="init"&&(t.proto&&(n?n.doubleProto<0&&(n.doubleProto=r.start):this.raiseRecoverable(r.start,"Redefinition of __proto__ property")),t.proto=!0);return}i="$"+i;var o=t[i];if(o){var a;s==="init"?a=this.strict&&o.init||o.get||o.set:a=o.init||o[s],a&&this.raiseRecoverable(r.start,"Redefinition of property")}else o=t[i]={init:!1,get:!1,set:!1};o[s]=!0}};bt.parseExpression=function(e,t){var n=this.start,r=this.startLoc,i=this.parseMaybeAssign(e,t);if(this.type===L.comma){var s=this.startNodeAt(n,r);for(s.expressions=[i];this.eat(L.comma);)s.expressions.push(this.parseMaybeAssign(e,t));return this.finishNode(s,"SequenceExpression")}return i};bt.parseMaybeAssign=function(e,t,n){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(e);this.exprAllowed=!1}var r=!1,i=-1,s=-1,o=-1;t?(i=t.parenthesizedAssign,s=t.trailingComma,o=t.doubleProto,t.parenthesizedAssign=t.trailingComma=-1):(t=new UI,r=!0);var a=this.start,u=this.startLoc;(this.type===L.parenL||this.type===L.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=e==="await");var l=this.parseMaybeConditional(e,t);if(n&&(l=n.call(this,l,a,u)),this.type.isAssign){var c=this.startNodeAt(a,u);return c.operator=this.value,this.type===L.eq&&(l=this.toAssignable(l,!1,t)),r||(t.parenthesizedAssign=t.trailingComma=t.doubleProto=-1),t.shorthandAssign>=l.start&&(t.shorthandAssign=-1),this.type===L.eq?this.checkLValPattern(l):this.checkLValSimple(l),c.left=l,this.next(),c.right=this.parseMaybeAssign(e),o>-1&&(t.doubleProto=o),this.finishNode(c,"AssignmentExpression")}else r&&this.checkExpressionErrors(t,!0);return i>-1&&(t.parenthesizedAssign=i),s>-1&&(t.trailingComma=s),l};bt.parseMaybeConditional=function(e,t){var n=this.start,r=this.startLoc,i=this.parseExprOps(e,t);if(this.checkExpressionErrors(t))return i;if(this.eat(L.question)){var s=this.startNodeAt(n,r);return s.test=i,s.consequent=this.parseMaybeAssign(),this.expect(L.colon),s.alternate=this.parseMaybeAssign(e),this.finishNode(s,"ConditionalExpression")}return i};bt.parseExprOps=function(e,t){var n=this.start,r=this.startLoc,i=this.parseMaybeUnary(t,!1,!1,e);return this.checkExpressionErrors(t)||i.start===n&&i.type==="ArrowFunctionExpression"?i:this.parseExprOp(i,n,r,-1,e)};bt.parseExprOp=function(e,t,n,r,i){var s=this.type.binop;if(s!=null&&(!i||this.type!==L._in)&&s>r){var o=this.type===L.logicalOR||this.type===L.logicalAND,a=this.type===L.coalesce;a&&(s=L.logicalAND.binop);var u=this.value;this.next();var l=this.start,c=this.startLoc,f=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,i),l,c,s,i),d=this.buildBinary(t,n,e,f,u,o||a);return(o&&this.type===L.coalesce||a&&(this.type===L.logicalOR||this.type===L.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(d,t,n,r,i)}return e};bt.buildBinary=function(e,t,n,r,i,s){r.type==="PrivateIdentifier"&&this.raise(r.start,"Private identifier can only be left side of binary expression");var o=this.startNodeAt(e,t);return o.left=n,o.operator=i,o.right=r,this.finishNode(o,s?"LogicalExpression":"BinaryExpression")};bt.parseMaybeUnary=function(e,t,n,r){var i=this.start,s=this.startLoc,o;if(this.isContextual("await")&&this.canAwait)o=this.parseAwait(r),t=!0;else if(this.type.prefix){var a=this.startNode(),u=this.type===L.incDec;a.operator=this.value,a.prefix=!0,this.next(),a.argument=this.parseMaybeUnary(null,!0,u,r),this.checkExpressionErrors(e,!0),u?this.checkLValSimple(a.argument):this.strict&&a.operator==="delete"&&a.argument.type==="Identifier"?this.raiseRecoverable(a.start,"Deleting local variable in strict mode"):a.operator==="delete"&&_se(a.argument)?this.raiseRecoverable(a.start,"Private fields can not be deleted"):t=!0,o=this.finishNode(a,u?"UpdateExpression":"UnaryExpression")}else if(!t&&this.type===L.privateId)(r||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),o=this.parsePrivateIdent(),this.type!==L._in&&this.unexpected();else{if(o=this.parseExprSubscripts(e,r),this.checkExpressionErrors(e))return o;for(;this.type.postfix&&!this.canInsertSemicolon();){var l=this.startNodeAt(i,s);l.operator=this.value,l.prefix=!1,l.argument=o,this.checkLValSimple(o),this.next(),o=this.finishNode(l,"UpdateExpression")}}if(!n&&this.eat(L.starstar))if(t)this.unexpected(this.lastTokStart);else return this.buildBinary(i,s,o,this.parseMaybeUnary(null,!1,!1,r),"**",!1);else return o};function _se(e){return e.type==="MemberExpression"&&e.property.type==="PrivateIdentifier"||e.type==="ChainExpression"&&_se(e.expression)}bt.parseExprSubscripts=function(e,t){var n=this.start,r=this.startLoc,i=this.parseExprAtom(e,t);if(i.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return i;var s=this.parseSubscripts(i,n,r,!1,t);return e&&s.type==="MemberExpression"&&(e.parenthesizedAssign>=s.start&&(e.parenthesizedAssign=-1),e.parenthesizedBind>=s.start&&(e.parenthesizedBind=-1),e.trailingComma>=s.start&&(e.trailingComma=-1)),s};bt.parseSubscripts=function(e,t,n,r,i){for(var s=this.options.ecmaVersion>=8&&e.type==="Identifier"&&e.name==="async"&&this.lastTokEnd===e.end&&!this.canInsertSemicolon()&&e.end-e.start===5&&this.potentialArrowAt===e.start,o=!1;;){var a=this.parseSubscript(e,t,n,r,s,o,i);if(a.optional&&(o=!0),a===e||a.type==="ArrowFunctionExpression"){if(o){var u=this.startNodeAt(t,n);u.expression=a,a=this.finishNode(u,"ChainExpression")}return a}e=a}};bt.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(L.arrow)};bt.parseSubscriptAsyncArrow=function(e,t,n,r){return this.parseArrowExpression(this.startNodeAt(e,t),n,!0,r)};bt.parseSubscript=function(e,t,n,r,i,s,o){var a=this.options.ecmaVersion>=11,u=a&&this.eat(L.questionDot);r&&u&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var l=this.eat(L.bracketL);if(l||u&&this.type!==L.parenL&&this.type!==L.backQuote||this.eat(L.dot)){var c=this.startNodeAt(t,n);c.object=e,l?(c.property=this.parseExpression(),this.expect(L.bracketR)):this.type===L.privateId&&e.type!=="Super"?c.property=this.parsePrivateIdent():c.property=this.parseIdent(this.options.allowReserved!=="never"),c.computed=!!l,a&&(c.optional=u),e=this.finishNode(c,"MemberExpression")}else if(!r&&this.eat(L.parenL)){var f=new UI,d=this.yieldPos,h=this.awaitPos,p=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var g=this.parseExprList(L.parenR,this.options.ecmaVersion>=8,!1,f);if(i&&!u&&this.shouldParseAsyncArrow())return this.checkPatternErrors(f,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=d,this.awaitPos=h,this.awaitIdentPos=p,this.parseSubscriptAsyncArrow(t,n,g,o);this.checkExpressionErrors(f,!0),this.yieldPos=d||this.yieldPos,this.awaitPos=h||this.awaitPos,this.awaitIdentPos=p||this.awaitIdentPos;var y=this.startNodeAt(t,n);y.callee=e,y.arguments=g,a&&(y.optional=u),e=this.finishNode(y,"CallExpression")}else if(this.type===L.backQuote){(u||s)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var m=this.startNodeAt(t,n);m.tag=e,m.quasi=this.parseTemplate({isTagged:!0}),e=this.finishNode(m,"TaggedTemplateExpression")}return e};bt.parseExprAtom=function(e,t,n){this.type===L.slash&&this.readRegexp();var r,i=this.potentialArrowAt===this.start;switch(this.type){case L._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),r=this.startNode(),this.next(),this.type===L.parenL&&!this.allowDirectSuper&&this.raise(r.start,"super() call outside constructor of a subclass"),this.type!==L.dot&&this.type!==L.bracketL&&this.type!==L.parenL&&this.unexpected(),this.finishNode(r,"Super");case L._this:return r=this.startNode(),this.next(),this.finishNode(r,"ThisExpression");case L.name:var s=this.start,o=this.startLoc,a=this.containsEsc,u=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!a&&u.name==="async"&&!this.canInsertSemicolon()&&this.eat(L._function))return this.overrideContext(fr.f_expr),this.parseFunction(this.startNodeAt(s,o),0,!1,!0,t);if(i&&!this.canInsertSemicolon()){if(this.eat(L.arrow))return this.parseArrowExpression(this.startNodeAt(s,o),[u],!1,t);if(this.options.ecmaVersion>=8&&u.name==="async"&&this.type===L.name&&!a&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return u=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(L.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(s,o),[u],!0,t)}return u;case L.regexp:var l=this.value;return r=this.parseLiteral(l.value),r.regex={pattern:l.pattern,flags:l.flags},r;case L.num:case L.string:return this.parseLiteral(this.value);case L._null:case L._true:case L._false:return r=this.startNode(),r.value=this.type===L._null?null:this.type===L._true,r.raw=this.type.keyword,this.next(),this.finishNode(r,"Literal");case L.parenL:var c=this.start,f=this.parseParenAndDistinguishExpression(i,t);return e&&(e.parenthesizedAssign<0&&!this.isSimpleAssignTarget(f)&&(e.parenthesizedAssign=c),e.parenthesizedBind<0&&(e.parenthesizedBind=c)),f;case L.bracketL:return r=this.startNode(),this.next(),r.elements=this.parseExprList(L.bracketR,!0,!0,e),this.finishNode(r,"ArrayExpression");case L.braceL:return this.overrideContext(fr.b_expr),this.parseObj(!1,e);case L._function:return r=this.startNode(),this.next(),this.parseFunction(r,0);case L._class:return this.parseClass(this.startNode(),!1);case L._new:return this.parseNew();case L.backQuote:return this.parseTemplate();case L._import:return this.options.ecmaVersion>=11?this.parseExprImport(n):this.unexpected();default:return this.parseExprAtomDefault()}};bt.parseExprAtomDefault=function(){this.unexpected()};bt.parseExprImport=function(e){var t=this.startNode();this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import");var n=this.parseIdent(!0);if(this.type===L.parenL&&!e)return this.parseDynamicImport(t);if(this.type===L.dot)return t.meta=n,this.parseImportMeta(t);this.unexpected()};bt.parseDynamicImport=function(e){if(this.next(),e.source=this.parseMaybeAssign(),!this.eat(L.parenR)){var t=this.start;this.eat(L.comma)&&this.eat(L.parenR)?this.raiseRecoverable(t,"Trailing comma is not allowed in import()"):this.unexpected(t)}return this.finishNode(e,"ImportExpression")};bt.parseImportMeta=function(e){this.next();var t=this.containsEsc;return e.property=this.parseIdent(!0),e.property.name!=="meta"&&this.raiseRecoverable(e.property.start,"The only valid meta property for import is 'import.meta'"),t&&this.raiseRecoverable(e.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(e.start,"Cannot use 'import.meta' outside a module"),this.finishNode(e,"MetaProperty")};bt.parseLiteral=function(e){var t=this.startNode();return t.value=e,t.raw=this.input.slice(this.start,this.end),t.raw.charCodeAt(t.raw.length-1)===110&&(t.bigint=t.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(t,"Literal")};bt.parseParenExpression=function(){this.expect(L.parenL);var e=this.parseExpression();return this.expect(L.parenR),e};bt.shouldParseArrow=function(e){return!this.canInsertSemicolon()};bt.parseParenAndDistinguishExpression=function(e,t){var n=this.start,r=this.startLoc,i,s=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var o=this.start,a=this.startLoc,u=[],l=!0,c=!1,f=new UI,d=this.yieldPos,h=this.awaitPos,p;for(this.yieldPos=0,this.awaitPos=0;this.type!==L.parenR;)if(l?l=!1:this.expect(L.comma),s&&this.afterTrailingComma(L.parenR,!0)){c=!0;break}else if(this.type===L.ellipsis){p=this.start,u.push(this.parseParenItem(this.parseRestBinding())),this.type===L.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else u.push(this.parseMaybeAssign(!1,f,this.parseParenItem));var g=this.lastTokEnd,y=this.lastTokEndLoc;if(this.expect(L.parenR),e&&this.shouldParseArrow(u)&&this.eat(L.arrow))return this.checkPatternErrors(f,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=d,this.awaitPos=h,this.parseParenArrowList(n,r,u,t);(!u.length||c)&&this.unexpected(this.lastTokStart),p&&this.unexpected(p),this.checkExpressionErrors(f,!0),this.yieldPos=d||this.yieldPos,this.awaitPos=h||this.awaitPos,u.length>1?(i=this.startNodeAt(o,a),i.expressions=u,this.finishNodeAt(i,"SequenceExpression",g,y)):i=u[0]}else i=this.parseParenExpression();if(this.options.preserveParens){var m=this.startNodeAt(n,r);return m.expression=i,this.finishNode(m,"ParenthesizedExpression")}else return i};bt.parseParenItem=function(e){return e};bt.parseParenArrowList=function(e,t,n,r){return this.parseArrowExpression(this.startNodeAt(e,t),n,!1,r)};var tKe=[];bt.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var e=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===L.dot){var t=this.startNodeAt(e.start,e.startLoc);t.name="new",e.meta=this.finishNode(t,"Identifier"),this.next();var n=this.containsEsc;return e.property=this.parseIdent(!0),e.property.name!=="target"&&this.raiseRecoverable(e.property.start,"The only valid meta property for new is 'new.target'"),n&&this.raiseRecoverable(e.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(e.start,"'new.target' can only be used in functions and class static block"),this.finishNode(e,"MetaProperty")}var r=this.start,i=this.startLoc;return e.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),r,i,!0,!1),this.eat(L.parenL)?e.arguments=this.parseExprList(L.parenR,this.options.ecmaVersion>=8,!1):e.arguments=tKe,this.finishNode(e,"NewExpression")};bt.parseTemplateElement=function(e){var t=e.isTagged,n=this.startNode();return this.type===L.invalidTemplate?(t||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),n.value={raw:this.value,cooked:null}):n.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),n.tail=this.type===L.backQuote,this.finishNode(n,"TemplateElement")};bt.parseTemplate=function(e){e===void 0&&(e={});var t=e.isTagged;t===void 0&&(t=!1);var n=this.startNode();this.next(),n.expressions=[];var r=this.parseTemplateElement({isTagged:t});for(n.quasis=[r];!r.tail;)this.type===L.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(L.dollarBraceL),n.expressions.push(this.parseExpression()),this.expect(L.braceR),n.quasis.push(r=this.parseTemplateElement({isTagged:t}));return this.next(),this.finishNode(n,"TemplateLiteral")};bt.isAsyncProp=function(e){return!e.computed&&e.key.type==="Identifier"&&e.key.name==="async"&&(this.type===L.name||this.type===L.num||this.type===L.string||this.type===L.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===L.star)&&!ca.test(this.input.slice(this.lastTokEnd,this.start))};bt.parseObj=function(e,t){var n=this.startNode(),r=!0,i={};for(n.properties=[],this.next();!this.eat(L.braceR);){if(r)r=!1;else if(this.expect(L.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(L.braceR))break;var s=this.parseProperty(e,t);e||this.checkPropClash(s,i,t),n.properties.push(s)}return this.finishNode(n,e?"ObjectPattern":"ObjectExpression")};bt.parseProperty=function(e,t){var n=this.startNode(),r,i,s,o;if(this.options.ecmaVersion>=9&&this.eat(L.ellipsis))return e?(n.argument=this.parseIdent(!1),this.type===L.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(n,"RestElement")):(n.argument=this.parseMaybeAssign(!1,t),this.type===L.comma&&t&&t.trailingComma<0&&(t.trailingComma=this.start),this.finishNode(n,"SpreadElement"));this.options.ecmaVersion>=6&&(n.method=!1,n.shorthand=!1,(e||t)&&(s=this.start,o=this.startLoc),e||(r=this.eat(L.star)));var a=this.containsEsc;return this.parsePropertyName(n),!e&&!a&&this.options.ecmaVersion>=8&&!r&&this.isAsyncProp(n)?(i=!0,r=this.options.ecmaVersion>=9&&this.eat(L.star),this.parsePropertyName(n)):i=!1,this.parsePropertyValue(n,e,r,i,s,o,t,a),this.finishNode(n,"Property")};bt.parseGetterSetter=function(e){e.kind=e.key.name,this.parsePropertyName(e),e.value=this.parseMethod(!1);var t=e.kind==="get"?0:1;if(e.value.params.length!==t){var n=e.value.start;e.kind==="get"?this.raiseRecoverable(n,"getter should have no params"):this.raiseRecoverable(n,"setter should have exactly one param")}else e.kind==="set"&&e.value.params[0].type==="RestElement"&&this.raiseRecoverable(e.value.params[0].start,"Setter cannot use rest params")};bt.parsePropertyValue=function(e,t,n,r,i,s,o,a){(n||r)&&this.type===L.colon&&this.unexpected(),this.eat(L.colon)?(e.value=t?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,o),e.kind="init"):this.options.ecmaVersion>=6&&this.type===L.parenL?(t&&this.unexpected(),e.kind="init",e.method=!0,e.value=this.parseMethod(n,r)):!t&&!a&&this.options.ecmaVersion>=5&&!e.computed&&e.key.type==="Identifier"&&(e.key.name==="get"||e.key.name==="set")&&this.type!==L.comma&&this.type!==L.braceR&&this.type!==L.eq?((n||r)&&this.unexpected(),this.parseGetterSetter(e)):this.options.ecmaVersion>=6&&!e.computed&&e.key.type==="Identifier"?((n||r)&&this.unexpected(),this.checkUnreserved(e.key),e.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=i),e.kind="init",t?e.value=this.parseMaybeDefault(i,s,this.copyNode(e.key)):this.type===L.eq&&o?(o.shorthandAssign<0&&(o.shorthandAssign=this.start),e.value=this.parseMaybeDefault(i,s,this.copyNode(e.key))):e.value=this.copyNode(e.key),e.shorthand=!0):this.unexpected()};bt.parsePropertyName=function(e){if(this.options.ecmaVersion>=6){if(this.eat(L.bracketL))return e.computed=!0,e.key=this.parseMaybeAssign(),this.expect(L.bracketR),e.key;e.computed=!1}return e.key=this.type===L.num||this.type===L.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};bt.initFunction=function(e){e.id=null,this.options.ecmaVersion>=6&&(e.generator=e.expression=!1),this.options.ecmaVersion>=8&&(e.async=!1)};bt.parseMethod=function(e,t,n){var r=this.startNode(),i=this.yieldPos,s=this.awaitPos,o=this.awaitIdentPos;return this.initFunction(r),this.options.ecmaVersion>=6&&(r.generator=e),this.options.ecmaVersion>=8&&(r.async=!!t),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(N6(t,r.generator)|P6|(n?hse:0)),this.expect(L.parenL),r.params=this.parseBindingList(L.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(r,!1,!0,!1),this.yieldPos=i,this.awaitPos=s,this.awaitIdentPos=o,this.finishNode(r,"FunctionExpression")};bt.parseArrowExpression=function(e,t,n,r){var i=this.yieldPos,s=this.awaitPos,o=this.awaitIdentPos;return this.enterScope(N6(n,!1)|fse),this.initFunction(e),this.options.ecmaVersion>=8&&(e.async=!!n),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,e.params=this.toAssignableList(t,!0),this.parseFunctionBody(e,!0,!1,r),this.yieldPos=i,this.awaitPos=s,this.awaitIdentPos=o,this.finishNode(e,"ArrowFunctionExpression")};bt.parseFunctionBody=function(e,t,n,r){var i=t&&this.type!==L.braceL,s=this.strict,o=!1;if(i)e.body=this.parseMaybeAssign(r),e.expression=!0,this.checkParams(e,!1);else{var a=this.options.ecmaVersion>=7&&!this.isSimpleParamList(e.params);(!s||a)&&(o=this.strictDirective(this.end),o&&a&&this.raiseRecoverable(e.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var u=this.labels;this.labels=[],o&&(this.strict=!0),this.checkParams(e,!s&&!o&&!t&&!n&&this.isSimpleParamList(e.params)),this.strict&&e.id&&this.checkLValSimple(e.id,gse),e.body=this.parseBlock(!1,void 0,o&&!s),e.expression=!1,this.adaptDirectivePrologue(e.body.body),this.labels=u}this.exitScope()};bt.isSimpleParamList=function(e){for(var t=0,n=e;t<n.length;t+=1){var r=n[t];if(r.type!=="Identifier")return!1}return!0};bt.checkParams=function(e,t){for(var n=Object.create(null),r=0,i=e.params;r<i.length;r+=1){var s=i[r];this.checkLValInnerPattern(s,k6,t?null:n)}};bt.parseExprList=function(e,t,n,r){for(var i=[],s=!0;!this.eat(e);){if(s)s=!1;else if(this.expect(L.comma),t&&this.afterTrailingComma(e))break;var o=void 0;n&&this.type===L.comma?o=null:this.type===L.ellipsis?(o=this.parseSpread(r),r&&this.type===L.comma&&r.trailingComma<0&&(r.trailingComma=this.start)):o=this.parseMaybeAssign(!1,r),i.push(o)}return i};bt.checkUnreserved=function(e){var t=e.start,n=e.end,r=e.name;if(this.inGenerator&&r==="yield"&&this.raiseRecoverable(t,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&r==="await"&&this.raiseRecoverable(t,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&r==="arguments"&&this.raiseRecoverable(t,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(r==="arguments"||r==="await")&&this.raise(t,"Cannot use "+r+" in class static initialization block"),this.keywords.test(r)&&this.raise(t,"Unexpected keyword '"+r+"'"),!(this.options.ecmaVersion<6&&this.input.slice(t,n).indexOf("\\")!==-1)){var i=this.strict?this.reservedWordsStrict:this.reservedWords;i.test(r)&&(!this.inAsync&&r==="await"&&this.raiseRecoverable(t,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(t,"The keyword '"+r+"' is reserved"))}};bt.parseIdent=function(e){var t=this.parseIdentNode();return this.next(!!e),this.finishNode(t,"Identifier"),e||(this.checkUnreserved(t),t.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=t.start)),t};bt.parseIdentNode=function(){var e=this.startNode();return this.type===L.name?e.name=this.value:this.type.keyword?(e.name=this.type.keyword,(e.name==="class"||e.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=L.name):this.unexpected(),e};bt.parsePrivateIdent=function(){var e=this.startNode();return this.type===L.privateId?e.name=this.value:this.unexpected(),this.next(),this.finishNode(e,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(e.start,"Private field '#"+e.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(e)),e};bt.parseYield=function(e){this.yieldPos||(this.yieldPos=this.start);var t=this.startNode();return this.next(),this.type===L.semi||this.canInsertSemicolon()||this.type!==L.star&&!this.type.startsExpr?(t.delegate=!1,t.argument=null):(t.delegate=this.eat(L.star),t.argument=this.parseMaybeAssign(e)),this.finishNode(t,"YieldExpression")};bt.parseAwait=function(e){this.awaitPos||(this.awaitPos=this.start);var t=this.startNode();return this.next(),t.argument=this.parseMaybeUnary(null,!0,!1,e),this.finishNode(t,"AwaitExpression")};var mS=ii.prototype;mS.raise=function(e,t){var n=lse(this.input,e);t+=" ("+n.line+":"+n.column+")";var r=new SyntaxError(t);throw r.pos=e,r.loc=n,r.raisedAt=this.pos,r};mS.raiseRecoverable=mS.raise;mS.curPosition=function(){if(this.options.locations)return new s_(this.curLine,this.pos-this.lineStart)};var Vf=ii.prototype,nKe=function(t){this.flags=t,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};Vf.enterScope=function(e){this.scopeStack.push(new nKe(e))};Vf.exitScope=function(){this.scopeStack.pop()};Vf.treatFunctionsAsVarInScope=function(e){return e.flags&dg||!this.inModule&&e.flags&o_};Vf.declareName=function(e,t,n){var r=!1;if(t===cc){var i=this.currentScope();r=i.lexical.indexOf(e)>-1||i.functions.indexOf(e)>-1||i.var.indexOf(e)>-1,i.lexical.push(e),this.inModule&&i.flags&o_&&delete this.undefinedExports[e]}else if(t===mse){var s=this.currentScope();s.lexical.push(e)}else if(t===pse){var o=this.currentScope();this.treatFunctionsAsVar?r=o.lexical.indexOf(e)>-1:r=o.lexical.indexOf(e)>-1||o.var.indexOf(e)>-1,o.functions.push(e)}else for(var a=this.scopeStack.length-1;a>=0;--a){var u=this.scopeStack[a];if(u.lexical.indexOf(e)>-1&&!(u.flags&dse&&u.lexical[0]===e)||!this.treatFunctionsAsVarInScope(u)&&u.functions.indexOf(e)>-1){r=!0;break}if(u.var.push(e),this.inModule&&u.flags&o_&&delete this.undefinedExports[e],u.flags&R6)break}r&&this.raiseRecoverable(n,"Identifier '"+e+"' has already been declared")};Vf.checkLocalExport=function(e){this.scopeStack[0].lexical.indexOf(e.name)===-1&&this.scopeStack[0].var.indexOf(e.name)===-1&&(this.undefinedExports[e.name]=e)};Vf.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};Vf.currentVarScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&R6)return t}};Vf.currentThisScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&R6&&!(t.flags&fse))return t}};var VI=function(t,n,r){this.type="",this.start=n,this.end=0,t.options.locations&&(this.loc=new jI(t,r)),t.options.directSourceFile&&(this.sourceFile=t.options.directSourceFile),t.options.ranges&&(this.range=[n,0])},wv=ii.prototype;wv.startNode=function(){return new VI(this,this.start,this.startLoc)};wv.startNodeAt=function(e,t){return new VI(this,e,t)};function vse(e,t,n,r){return e.type=t,e.end=n,this.options.locations&&(e.loc.end=r),this.options.ranges&&(e.range[1]=n),e}wv.finishNode=function(e,t){return vse.call(this,e,t,this.lastTokEnd,this.lastTokEndLoc)};wv.finishNodeAt=function(e,t,n,r){return vse.call(this,e,t,n,r)};wv.copyNode=function(e){var t=new VI(this,e.start,this.startLoc);for(var n in e)t[n]=e[n];return t};var bse="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",wse=bse+" Extended_Pictographic",Ese=wse,Tse=Ese+" EBase EComp EMod EPres ExtPict",Sse=Tse,rKe=Sse,iKe={9:bse,10:wse,11:Ese,12:Tse,13:Sse,14:rKe},sKe="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",oKe={9:"",10:"",11:"",12:"",13:"",14:sKe},g7="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",xse="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",Ise=xse+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",Ase=Ise+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",Cse=Ase+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",Ose=Cse+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",aKe=Ose+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz",uKe={9:xse,10:Ise,11:Ase,12:Cse,13:Ose,14:aKe},Pse={};function lKe(e){var t=Pse[e]={binary:jc(iKe[e]+" "+g7),binaryOfStrings:jc(oKe[e]),nonBinary:{General_Category:jc(g7),Script:jc(uKe[e])}};t.nonBinary.Script_Extensions=t.nonBinary.Script,t.nonBinary.gc=t.nonBinary.General_Category,t.nonBinary.sc=t.nonBinary.Script,t.nonBinary.scx=t.nonBinary.Script_Extensions}for(var YO=0,y7=[9,10,11,12,13,14];YO<y7.length;YO+=1){var cKe=y7[YO];lKe(cKe)}var Je=ii.prototype,Ku=function(t){this.parser=t,this.validFlags="gim"+(t.options.ecmaVersion>=6?"uy":"")+(t.options.ecmaVersion>=9?"s":"")+(t.options.ecmaVersion>=13?"d":"")+(t.options.ecmaVersion>=15?"v":""),this.unicodeProperties=Pse[t.options.ecmaVersion>=14?14:t.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};Ku.prototype.reset=function(t,n,r){var i=r.indexOf("v")!==-1,s=r.indexOf("u")!==-1;this.start=t|0,this.source=n+"",this.flags=r,i&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=s&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=s&&this.parser.options.ecmaVersion>=9)};Ku.prototype.raise=function(t){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+t)};Ku.prototype.at=function(t,n){n===void 0&&(n=!1);var r=this.source,i=r.length;if(t>=i)return-1;var s=r.charCodeAt(t);if(!(n||this.switchU)||s<=55295||s>=57344||t+1>=i)return s;var o=r.charCodeAt(t+1);return o>=56320&&o<=57343?(s<<10)+o-56613888:s};Ku.prototype.nextIndex=function(t,n){n===void 0&&(n=!1);var r=this.source,i=r.length;if(t>=i)return i;var s=r.charCodeAt(t),o;return!(n||this.switchU)||s<=55295||s>=57344||t+1>=i||(o=r.charCodeAt(t+1))<56320||o>57343?t+1:t+2};Ku.prototype.current=function(t){return t===void 0&&(t=!1),this.at(this.pos,t)};Ku.prototype.lookahead=function(t){return t===void 0&&(t=!1),this.at(this.nextIndex(this.pos,t),t)};Ku.prototype.advance=function(t){t===void 0&&(t=!1),this.pos=this.nextIndex(this.pos,t)};Ku.prototype.eat=function(t,n){return n===void 0&&(n=!1),this.current(n)===t?(this.advance(n),!0):!1};Ku.prototype.eatChars=function(t,n){n===void 0&&(n=!1);for(var r=this.pos,i=0,s=t;i<s.length;i+=1){var o=s[i],a=this.at(r,n);if(a===-1||a!==o)return!1;r=this.nextIndex(r,n)}return this.pos=r,!0};Je.validateRegExpFlags=function(e){for(var t=e.validFlags,n=e.flags,r=!1,i=!1,s=0;s<n.length;s++){var o=n.charAt(s);t.indexOf(o)===-1&&this.raise(e.start,"Invalid regular expression flag"),n.indexOf(o,s+1)>-1&&this.raise(e.start,"Duplicate regular expression flag"),o==="u"&&(r=!0),o==="v"&&(i=!0)}this.options.ecmaVersion>=15&&r&&i&&this.raise(e.start,"Invalid regular expression flag")};Je.validateRegExpPattern=function(e){this.regexp_pattern(e),!e.switchN&&this.options.ecmaVersion>=9&&e.groupNames.length>0&&(e.switchN=!0,this.regexp_pattern(e))};Je.regexp_pattern=function(e){e.pos=0,e.lastIntValue=0,e.lastStringValue="",e.lastAssertionIsQuantifiable=!1,e.numCapturingParens=0,e.maxBackReference=0,e.groupNames.length=0,e.backReferenceNames.length=0,this.regexp_disjunction(e),e.pos!==e.source.length&&(e.eat(41)&&e.raise("Unmatched ')'"),(e.eat(93)||e.eat(125))&&e.raise("Lone quantifier brackets")),e.maxBackReference>e.numCapturingParens&&e.raise("Invalid escape");for(var t=0,n=e.backReferenceNames;t<n.length;t+=1){var r=n[t];e.groupNames.indexOf(r)===-1&&e.raise("Invalid named capture referenced")}};Je.regexp_disjunction=function(e){for(this.regexp_alternative(e);e.eat(124);)this.regexp_alternative(e);this.regexp_eatQuantifier(e,!0)&&e.raise("Nothing to repeat"),e.eat(123)&&e.raise("Lone quantifier brackets")};Je.regexp_alternative=function(e){for(;e.pos<e.source.length&&this.regexp_eatTerm(e););};Je.regexp_eatTerm=function(e){return this.regexp_eatAssertion(e)?(e.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(e)&&e.switchU&&e.raise("Invalid quantifier"),!0):(e.switchU?this.regexp_eatAtom(e):this.regexp_eatExtendedAtom(e))?(this.regexp_eatQuantifier(e),!0):!1};Je.regexp_eatAssertion=function(e){var t=e.pos;if(e.lastAssertionIsQuantifiable=!1,e.eat(94)||e.eat(36))return!0;if(e.eat(92)){if(e.eat(66)||e.eat(98))return!0;e.pos=t}if(e.eat(40)&&e.eat(63)){var n=!1;if(this.options.ecmaVersion>=9&&(n=e.eat(60)),e.eat(61)||e.eat(33))return this.regexp_disjunction(e),e.eat(41)||e.raise("Unterminated group"),e.lastAssertionIsQuantifiable=!n,!0}return e.pos=t,!1};Je.regexp_eatQuantifier=function(e,t){return t===void 0&&(t=!1),this.regexp_eatQuantifierPrefix(e,t)?(e.eat(63),!0):!1};Je.regexp_eatQuantifierPrefix=function(e,t){return e.eat(42)||e.eat(43)||e.eat(63)||this.regexp_eatBracedQuantifier(e,t)};Je.regexp_eatBracedQuantifier=function(e,t){var n=e.pos;if(e.eat(123)){var r=0,i=-1;if(this.regexp_eatDecimalDigits(e)&&(r=e.lastIntValue,e.eat(44)&&this.regexp_eatDecimalDigits(e)&&(i=e.lastIntValue),e.eat(125)))return i!==-1&&i<r&&!t&&e.raise("numbers out of order in {} quantifier"),!0;e.switchU&&!t&&e.raise("Incomplete quantifier"),e.pos=n}return!1};Je.regexp_eatAtom=function(e){return this.regexp_eatPatternCharacters(e)||e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)};Je.regexp_eatReverseSolidusAtomEscape=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatAtomEscape(e))return!0;e.pos=t}return!1};Je.regexp_eatUncapturingGroup=function(e){var t=e.pos;if(e.eat(40)){if(e.eat(63)&&e.eat(58)){if(this.regexp_disjunction(e),e.eat(41))return!0;e.raise("Unterminated group")}e.pos=t}return!1};Je.regexp_eatCapturingGroup=function(e){if(e.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(e):e.current()===63&&e.raise("Invalid group"),this.regexp_disjunction(e),e.eat(41))return e.numCapturingParens+=1,!0;e.raise("Unterminated group")}return!1};Je.regexp_eatExtendedAtom=function(e){return e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)||this.regexp_eatInvalidBracedQuantifier(e)||this.regexp_eatExtendedPatternCharacter(e)};Je.regexp_eatInvalidBracedQuantifier=function(e){return this.regexp_eatBracedQuantifier(e,!0)&&e.raise("Nothing to repeat"),!1};Je.regexp_eatSyntaxCharacter=function(e){var t=e.current();return Rse(t)?(e.lastIntValue=t,e.advance(),!0):!1};function Rse(e){return e===36||e>=40&&e<=43||e===46||e===63||e>=91&&e<=94||e>=123&&e<=125}Je.regexp_eatPatternCharacters=function(e){for(var t=e.pos,n=0;(n=e.current())!==-1&&!Rse(n);)e.advance();return e.pos!==t};Je.regexp_eatExtendedPatternCharacter=function(e){var t=e.current();return t!==-1&&t!==36&&!(t>=40&&t<=43)&&t!==46&&t!==63&&t!==91&&t!==94&&t!==124?(e.advance(),!0):!1};Je.regexp_groupSpecifier=function(e){if(e.eat(63)){if(this.regexp_eatGroupName(e)){e.groupNames.indexOf(e.lastStringValue)!==-1&&e.raise("Duplicate capture group name"),e.groupNames.push(e.lastStringValue);return}e.raise("Invalid group")}};Je.regexp_eatGroupName=function(e){if(e.lastStringValue="",e.eat(60)){if(this.regexp_eatRegExpIdentifierName(e)&&e.eat(62))return!0;e.raise("Invalid capture group name")}return!1};Je.regexp_eatRegExpIdentifierName=function(e){if(e.lastStringValue="",this.regexp_eatRegExpIdentifierStart(e)){for(e.lastStringValue+=Ef(e.lastIntValue);this.regexp_eatRegExpIdentifierPart(e);)e.lastStringValue+=Ef(e.lastIntValue);return!0}return!1};Je.regexp_eatRegExpIdentifierStart=function(e){var t=e.pos,n=this.options.ecmaVersion>=11,r=e.current(n);return e.advance(n),r===92&&this.regexp_eatRegExpUnicodeEscapeSequence(e,n)&&(r=e.lastIntValue),fKe(r)?(e.lastIntValue=r,!0):(e.pos=t,!1)};function fKe(e){return Yl(e,!0)||e===36||e===95}Je.regexp_eatRegExpIdentifierPart=function(e){var t=e.pos,n=this.options.ecmaVersion>=11,r=e.current(n);return e.advance(n),r===92&&this.regexp_eatRegExpUnicodeEscapeSequence(e,n)&&(r=e.lastIntValue),dKe(r)?(e.lastIntValue=r,!0):(e.pos=t,!1)};function dKe(e){return Rm(e,!0)||e===36||e===95||e===8204||e===8205}Je.regexp_eatAtomEscape=function(e){return this.regexp_eatBackReference(e)||this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)||e.switchN&&this.regexp_eatKGroupName(e)?!0:(e.switchU&&(e.current()===99&&e.raise("Invalid unicode escape"),e.raise("Invalid escape")),!1)};Je.regexp_eatBackReference=function(e){var t=e.pos;if(this.regexp_eatDecimalEscape(e)){var n=e.lastIntValue;if(e.switchU)return n>e.maxBackReference&&(e.maxBackReference=n),!0;if(n<=e.numCapturingParens)return!0;e.pos=t}return!1};Je.regexp_eatKGroupName=function(e){if(e.eat(107)){if(this.regexp_eatGroupName(e))return e.backReferenceNames.push(e.lastStringValue),!0;e.raise("Invalid named reference")}return!1};Je.regexp_eatCharacterEscape=function(e){return this.regexp_eatControlEscape(e)||this.regexp_eatCControlLetter(e)||this.regexp_eatZero(e)||this.regexp_eatHexEscapeSequence(e)||this.regexp_eatRegExpUnicodeEscapeSequence(e,!1)||!e.switchU&&this.regexp_eatLegacyOctalEscapeSequence(e)||this.regexp_eatIdentityEscape(e)};Je.regexp_eatCControlLetter=function(e){var t=e.pos;if(e.eat(99)){if(this.regexp_eatControlLetter(e))return!0;e.pos=t}return!1};Je.regexp_eatZero=function(e){return e.current()===48&&!zI(e.lookahead())?(e.lastIntValue=0,e.advance(),!0):!1};Je.regexp_eatControlEscape=function(e){var t=e.current();return t===116?(e.lastIntValue=9,e.advance(),!0):t===110?(e.lastIntValue=10,e.advance(),!0):t===118?(e.lastIntValue=11,e.advance(),!0):t===102?(e.lastIntValue=12,e.advance(),!0):t===114?(e.lastIntValue=13,e.advance(),!0):!1};Je.regexp_eatControlLetter=function(e){var t=e.current();return Nse(t)?(e.lastIntValue=t%32,e.advance(),!0):!1};function Nse(e){return e>=65&&e<=90||e>=97&&e<=122}Je.regexp_eatRegExpUnicodeEscapeSequence=function(e,t){t===void 0&&(t=!1);var n=e.pos,r=t||e.switchU;if(e.eat(117)){if(this.regexp_eatFixedHexDigits(e,4)){var i=e.lastIntValue;if(r&&i>=55296&&i<=56319){var s=e.pos;if(e.eat(92)&&e.eat(117)&&this.regexp_eatFixedHexDigits(e,4)){var o=e.lastIntValue;if(o>=56320&&o<=57343)return e.lastIntValue=(i-55296)*1024+(o-56320)+65536,!0}e.pos=s,e.lastIntValue=i}return!0}if(r&&e.eat(123)&&this.regexp_eatHexDigits(e)&&e.eat(125)&&hKe(e.lastIntValue))return!0;r&&e.raise("Invalid unicode escape"),e.pos=n}return!1};function hKe(e){return e>=0&&e<=1114111}Je.regexp_eatIdentityEscape=function(e){if(e.switchU)return this.regexp_eatSyntaxCharacter(e)?!0:e.eat(47)?(e.lastIntValue=47,!0):!1;var t=e.current();return t!==99&&(!e.switchN||t!==107)?(e.lastIntValue=t,e.advance(),!0):!1};Je.regexp_eatDecimalEscape=function(e){e.lastIntValue=0;var t=e.current();if(t>=49&&t<=57){do e.lastIntValue=10*e.lastIntValue+(t-48),e.advance();while((t=e.current())>=48&&t<=57);return!0}return!1};var kse=0,Gl=1,Wo=2;Je.regexp_eatCharacterClassEscape=function(e){var t=e.current();if(pKe(t))return e.lastIntValue=-1,e.advance(),Gl;var n=!1;if(e.switchU&&this.options.ecmaVersion>=9&&((n=t===80)||t===112)){e.lastIntValue=-1,e.advance();var r;if(e.eat(123)&&(r=this.regexp_eatUnicodePropertyValueExpression(e))&&e.eat(125))return n&&r===Wo&&e.raise("Invalid property name"),r;e.raise("Invalid property name")}return kse};function pKe(e){return e===100||e===68||e===115||e===83||e===119||e===87}Je.regexp_eatUnicodePropertyValueExpression=function(e){var t=e.pos;if(this.regexp_eatUnicodePropertyName(e)&&e.eat(61)){var n=e.lastStringValue;if(this.regexp_eatUnicodePropertyValue(e)){var r=e.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(e,n,r),Gl}}if(e.pos=t,this.regexp_eatLoneUnicodePropertyNameOrValue(e)){var i=e.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(e,i)}return kse};Je.regexp_validateUnicodePropertyNameAndValue=function(e,t,n){vv(e.unicodeProperties.nonBinary,t)||e.raise("Invalid property name"),e.unicodeProperties.nonBinary[t].test(n)||e.raise("Invalid property value")};Je.regexp_validateUnicodePropertyNameOrValue=function(e,t){if(e.unicodeProperties.binary.test(t))return Gl;if(e.switchV&&e.unicodeProperties.binaryOfStrings.test(t))return Wo;e.raise("Invalid property name")};Je.regexp_eatUnicodePropertyName=function(e){var t=0;for(e.lastStringValue="";Dse(t=e.current());)e.lastStringValue+=Ef(t),e.advance();return e.lastStringValue!==""};function Dse(e){return Nse(e)||e===95}Je.regexp_eatUnicodePropertyValue=function(e){var t=0;for(e.lastStringValue="";mKe(t=e.current());)e.lastStringValue+=Ef(t),e.advance();return e.lastStringValue!==""};function mKe(e){return Dse(e)||zI(e)}Je.regexp_eatLoneUnicodePropertyNameOrValue=function(e){return this.regexp_eatUnicodePropertyValue(e)};Je.regexp_eatCharacterClass=function(e){if(e.eat(91)){var t=e.eat(94),n=this.regexp_classContents(e);return e.eat(93)||e.raise("Unterminated character class"),t&&n===Wo&&e.raise("Negated character class may contain strings"),!0}return!1};Je.regexp_classContents=function(e){return e.current()===93?Gl:e.switchV?this.regexp_classSetExpression(e):(this.regexp_nonEmptyClassRanges(e),Gl)};Je.regexp_nonEmptyClassRanges=function(e){for(;this.regexp_eatClassAtom(e);){var t=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassAtom(e)){var n=e.lastIntValue;e.switchU&&(t===-1||n===-1)&&e.raise("Invalid character class"),t!==-1&&n!==-1&&t>n&&e.raise("Range out of order in character class")}}};Je.regexp_eatClassAtom=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatClassEscape(e))return!0;if(e.switchU){var n=e.current();(n===99||Mse(n))&&e.raise("Invalid class escape"),e.raise("Invalid escape")}e.pos=t}var r=e.current();return r!==93?(e.lastIntValue=r,e.advance(),!0):!1};Je.regexp_eatClassEscape=function(e){var t=e.pos;if(e.eat(98))return e.lastIntValue=8,!0;if(e.switchU&&e.eat(45))return e.lastIntValue=45,!0;if(!e.switchU&&e.eat(99)){if(this.regexp_eatClassControlLetter(e))return!0;e.pos=t}return this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)};Je.regexp_classSetExpression=function(e){var t=Gl,n;if(!this.regexp_eatClassSetRange(e))if(n=this.regexp_eatClassSetOperand(e)){n===Wo&&(t=Wo);for(var r=e.pos;e.eatChars([38,38]);){if(e.current()!==38&&(n=this.regexp_eatClassSetOperand(e))){n!==Wo&&(t=Gl);continue}e.raise("Invalid character in character class")}if(r!==e.pos)return t;for(;e.eatChars([45,45]);)this.regexp_eatClassSetOperand(e)||e.raise("Invalid character in character class");if(r!==e.pos)return t}else e.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(e)){if(n=this.regexp_eatClassSetOperand(e),!n)return t;n===Wo&&(t=Wo)}};Je.regexp_eatClassSetRange=function(e){var t=e.pos;if(this.regexp_eatClassSetCharacter(e)){var n=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassSetCharacter(e)){var r=e.lastIntValue;return n!==-1&&r!==-1&&n>r&&e.raise("Range out of order in character class"),!0}e.pos=t}return!1};Je.regexp_eatClassSetOperand=function(e){return this.regexp_eatClassSetCharacter(e)?Gl:this.regexp_eatClassStringDisjunction(e)||this.regexp_eatNestedClass(e)};Je.regexp_eatNestedClass=function(e){var t=e.pos;if(e.eat(91)){var n=e.eat(94),r=this.regexp_classContents(e);if(e.eat(93))return n&&r===Wo&&e.raise("Negated character class may contain strings"),r;e.pos=t}if(e.eat(92)){var i=this.regexp_eatCharacterClassEscape(e);if(i)return i;e.pos=t}return null};Je.regexp_eatClassStringDisjunction=function(e){var t=e.pos;if(e.eatChars([92,113])){if(e.eat(123)){var n=this.regexp_classStringDisjunctionContents(e);if(e.eat(125))return n}else e.raise("Invalid escape");e.pos=t}return null};Je.regexp_classStringDisjunctionContents=function(e){for(var t=this.regexp_classString(e);e.eat(124);)this.regexp_classString(e)===Wo&&(t=Wo);return t};Je.regexp_classString=function(e){for(var t=0;this.regexp_eatClassSetCharacter(e);)t++;return t===1?Gl:Wo};Je.regexp_eatClassSetCharacter=function(e){var t=e.pos;if(e.eat(92))return this.regexp_eatCharacterEscape(e)||this.regexp_eatClassSetReservedPunctuator(e)?!0:e.eat(98)?(e.lastIntValue=8,!0):(e.pos=t,!1);var n=e.current();return n<0||n===e.lookahead()&&gKe(n)||yKe(n)?!1:(e.advance(),e.lastIntValue=n,!0)};function gKe(e){return e===33||e>=35&&e<=38||e>=42&&e<=44||e===46||e>=58&&e<=64||e===94||e===96||e===126}function yKe(e){return e===40||e===41||e===45||e===47||e>=91&&e<=93||e>=123&&e<=125}Je.regexp_eatClassSetReservedPunctuator=function(e){var t=e.current();return _Ke(t)?(e.lastIntValue=t,e.advance(),!0):!1};function _Ke(e){return e===33||e===35||e===37||e===38||e===44||e===45||e>=58&&e<=62||e===64||e===96||e===126}Je.regexp_eatClassControlLetter=function(e){var t=e.current();return zI(t)||t===95?(e.lastIntValue=t%32,e.advance(),!0):!1};Je.regexp_eatHexEscapeSequence=function(e){var t=e.pos;if(e.eat(120)){if(this.regexp_eatFixedHexDigits(e,2))return!0;e.switchU&&e.raise("Invalid escape"),e.pos=t}return!1};Je.regexp_eatDecimalDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;zI(n=e.current());)e.lastIntValue=10*e.lastIntValue+(n-48),e.advance();return e.pos!==t};function zI(e){return e>=48&&e<=57}Je.regexp_eatHexDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;$se(n=e.current());)e.lastIntValue=16*e.lastIntValue+Lse(n),e.advance();return e.pos!==t};function $se(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}function Lse(e){return e>=65&&e<=70?10+(e-65):e>=97&&e<=102?10+(e-97):e-48}Je.regexp_eatLegacyOctalEscapeSequence=function(e){if(this.regexp_eatOctalDigit(e)){var t=e.lastIntValue;if(this.regexp_eatOctalDigit(e)){var n=e.lastIntValue;t<=3&&this.regexp_eatOctalDigit(e)?e.lastIntValue=t*64+n*8+e.lastIntValue:e.lastIntValue=t*8+n}else e.lastIntValue=t;return!0}return!1};Je.regexp_eatOctalDigit=function(e){var t=e.current();return Mse(t)?(e.lastIntValue=t-48,e.advance(),!0):(e.lastIntValue=0,!1)};function Mse(e){return e>=48&&e<=55}Je.regexp_eatFixedHexDigits=function(e,t){var n=e.pos;e.lastIntValue=0;for(var r=0;r<t;++r){var i=e.current();if(!$se(i))return e.pos=n,!1;e.lastIntValue=16*e.lastIntValue+Lse(i),e.advance()}return!0};var $6=function(t){this.type=t.type,this.value=t.value,this.start=t.start,this.end=t.end,t.options.locations&&(this.loc=new jI(t,t.startLoc,t.endLoc)),t.options.ranges&&(this.range=[t.start,t.end])},Jt=ii.prototype;Jt.next=function(e){!e&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new $6(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};Jt.getToken=function(){return this.next(),new $6(this)};typeof Symbol<"u"&&(Jt[Symbol.iterator]=function(){var e=this;return{next:function(){var t=e.getToken();return{done:t.type===L.eof,value:t}}}});Jt.nextToken=function(){var e=this.curContext();if((!e||!e.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(L.eof);if(e.override)return e.override(this);this.readToken(this.fullCharCodeAtPos())};Jt.readToken=function(e){return Yl(e,this.options.ecmaVersion>=6)||e===92?this.readWord():this.getTokenFromCode(e)};Jt.fullCharCodeAtPos=function(){var e=this.input.charCodeAt(this.pos);if(e<=55295||e>=56320)return e;var t=this.input.charCodeAt(this.pos+1);return t<=56319||t>=57344?e:(e<<10)+t-56613888};Jt.skipBlockComment=function(){var e=this.options.onComment&&this.curPosition(),t=this.pos,n=this.input.indexOf("*/",this.pos+=2);if(n===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=n+2,this.options.locations)for(var r=void 0,i=t;(r=ose(this.input,i,this.pos))>-1;)++this.curLine,i=this.lineStart=r;this.options.onComment&&this.options.onComment(!0,this.input.slice(t+2,n),t,this.pos,e,this.curPosition())};Jt.skipLineComment=function(e){for(var t=this.pos,n=this.options.onComment&&this.curPosition(),r=this.input.charCodeAt(this.pos+=e);this.pos<this.input.length&&!fg(r);)r=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(t+e,this.pos),t,this.pos,n,this.curPosition())};Jt.skipSpace=function(){e:for(;this.pos<this.input.length;){var e=this.input.charCodeAt(this.pos);switch(e){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(e>8&&e<14||e>=5760&&ase.test(String.fromCharCode(e)))++this.pos;else break e}}};Jt.finishToken=function(e,t){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var n=this.type;this.type=e,this.value=t,this.updateContext(n)};Jt.readToken_dot=function(){var e=this.input.charCodeAt(this.pos+1);if(e>=48&&e<=57)return this.readNumber(!0);var t=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&e===46&&t===46?(this.pos+=3,this.finishToken(L.ellipsis)):(++this.pos,this.finishToken(L.dot))};Jt.readToken_slash=function(){var e=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):e===61?this.finishOp(L.assign,2):this.finishOp(L.slash,1)};Jt.readToken_mult_modulo_exp=function(e){var t=this.input.charCodeAt(this.pos+1),n=1,r=e===42?L.star:L.modulo;return this.options.ecmaVersion>=7&&e===42&&t===42&&(++n,r=L.starstar,t=this.input.charCodeAt(this.pos+2)),t===61?this.finishOp(L.assign,n+1):this.finishOp(r,n)};Jt.readToken_pipe_amp=function(e){var t=this.input.charCodeAt(this.pos+1);if(t===e){if(this.options.ecmaVersion>=12){var n=this.input.charCodeAt(this.pos+2);if(n===61)return this.finishOp(L.assign,3)}return this.finishOp(e===124?L.logicalOR:L.logicalAND,2)}return t===61?this.finishOp(L.assign,2):this.finishOp(e===124?L.bitwiseOR:L.bitwiseAND,1)};Jt.readToken_caret=function(){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(L.assign,2):this.finishOp(L.bitwiseXOR,1)};Jt.readToken_plus_min=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?t===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||ca.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(L.incDec,2):t===61?this.finishOp(L.assign,2):this.finishOp(L.plusMin,1)};Jt.readToken_lt_gt=function(e){var t=this.input.charCodeAt(this.pos+1),n=1;return t===e?(n=e===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+n)===61?this.finishOp(L.assign,n+1):this.finishOp(L.bitShift,n)):t===33&&e===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(t===61&&(n=2),this.finishOp(L.relational,n))};Jt.readToken_eq_excl=function(e){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(L.equality,this.input.charCodeAt(this.pos+2)===61?3:2):e===61&&t===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(L.arrow)):this.finishOp(e===61?L.eq:L.prefix,1)};Jt.readToken_question=function(){var e=this.options.ecmaVersion;if(e>=11){var t=this.input.charCodeAt(this.pos+1);if(t===46){var n=this.input.charCodeAt(this.pos+2);if(n<48||n>57)return this.finishOp(L.questionDot,2)}if(t===63){if(e>=12){var r=this.input.charCodeAt(this.pos+2);if(r===61)return this.finishOp(L.assign,3)}return this.finishOp(L.coalesce,2)}}return this.finishOp(L.question,1)};Jt.readToken_numberSign=function(){var e=this.options.ecmaVersion,t=35;if(e>=13&&(++this.pos,t=this.fullCharCodeAtPos(),Yl(t,!0)||t===92))return this.finishToken(L.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+Ef(t)+"'")};Jt.getTokenFromCode=function(e){switch(e){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(L.parenL);case 41:return++this.pos,this.finishToken(L.parenR);case 59:return++this.pos,this.finishToken(L.semi);case 44:return++this.pos,this.finishToken(L.comma);case 91:return++this.pos,this.finishToken(L.bracketL);case 93:return++this.pos,this.finishToken(L.bracketR);case 123:return++this.pos,this.finishToken(L.braceL);case 125:return++this.pos,this.finishToken(L.braceR);case 58:return++this.pos,this.finishToken(L.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(L.backQuote);case 48:var t=this.input.charCodeAt(this.pos+1);if(t===120||t===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(t===111||t===79)return this.readRadixNumber(8);if(t===98||t===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(e);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(e);case 124:case 38:return this.readToken_pipe_amp(e);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(e);case 60:case 62:return this.readToken_lt_gt(e);case 61:case 33:return this.readToken_eq_excl(e);case 63:return this.readToken_question();case 126:return this.finishOp(L.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+Ef(e)+"'")};Jt.finishOp=function(e,t){var n=this.input.slice(this.pos,this.pos+t);return this.pos+=t,this.finishToken(e,n)};Jt.readRegexp=function(){for(var e,t,n=this.pos;;){this.pos>=this.input.length&&this.raise(n,"Unterminated regular expression");var r=this.input.charAt(this.pos);if(ca.test(r)&&this.raise(n,"Unterminated regular expression"),e)e=!1;else{if(r==="[")t=!0;else if(r==="]"&&t)t=!1;else if(r==="/"&&!t)break;e=r==="\\"}++this.pos}var i=this.input.slice(n,this.pos);++this.pos;var s=this.pos,o=this.readWord1();this.containsEsc&&this.unexpected(s);var a=this.regexpState||(this.regexpState=new Ku(this));a.reset(n,i,o),this.validateRegExpFlags(a),this.validateRegExpPattern(a);var u=null;try{u=new RegExp(i,o)}catch{}return this.finishToken(L.regexp,{pattern:i,flags:o,value:u})};Jt.readInt=function(e,t,n){for(var r=this.options.ecmaVersion>=12&&t===void 0,i=n&&this.input.charCodeAt(this.pos)===48,s=this.pos,o=0,a=0,u=0,l=t??1/0;u<l;++u,++this.pos){var c=this.input.charCodeAt(this.pos),f=void 0;if(r&&c===95){i&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),a===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),u===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),a=c;continue}if(c>=97?f=c-97+10:c>=65?f=c-65+10:c>=48&&c<=57?f=c-48:f=1/0,f>=e)break;a=c,o=o*e+f}return r&&a===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===s||t!=null&&this.pos-s!==t?null:o};function vKe(e,t){return t?parseInt(e,8):parseFloat(e.replace(/_/g,""))}function Fse(e){return typeof BigInt!="function"?null:BigInt(e.replace(/_/g,""))}Jt.readRadixNumber=function(e){var t=this.pos;this.pos+=2;var n=this.readInt(e);return n==null&&this.raise(this.start+2,"Expected number in radix "+e),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(n=Fse(this.input.slice(t,this.pos)),++this.pos):Yl(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(L.num,n)};Jt.readNumber=function(e){var t=this.pos;!e&&this.readInt(10,void 0,!0)===null&&this.raise(t,"Invalid number");var n=this.pos-t>=2&&this.input.charCodeAt(t)===48;n&&this.strict&&this.raise(t,"Invalid number");var r=this.input.charCodeAt(this.pos);if(!n&&!e&&this.options.ecmaVersion>=11&&r===110){var i=Fse(this.input.slice(t,this.pos));return++this.pos,Yl(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(L.num,i)}n&&/[89]/.test(this.input.slice(t,this.pos))&&(n=!1),r===46&&!n&&(++this.pos,this.readInt(10),r=this.input.charCodeAt(this.pos)),(r===69||r===101)&&!n&&(r=this.input.charCodeAt(++this.pos),(r===43||r===45)&&++this.pos,this.readInt(10)===null&&this.raise(t,"Invalid number")),Yl(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var s=vKe(this.input.slice(t,this.pos),n);return this.finishToken(L.num,s)};Jt.readCodePoint=function(){var e=this.input.charCodeAt(this.pos),t;if(e===123){this.options.ecmaVersion<6&&this.unexpected();var n=++this.pos;t=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,t>1114111&&this.invalidStringToken(n,"Code point out of bounds")}else t=this.readHexChar(4);return t};Jt.readString=function(e){for(var t="",n=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var r=this.input.charCodeAt(this.pos);if(r===e)break;r===92?(t+=this.input.slice(n,this.pos),t+=this.readEscapedChar(!1),n=this.pos):r===8232||r===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(fg(r)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return t+=this.input.slice(n,this.pos++),this.finishToken(L.string,t)};var Bse={};Jt.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(e){if(e===Bse)this.readInvalidTemplateToken();else throw e}this.inTemplateElement=!1};Jt.invalidStringToken=function(e,t){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw Bse;this.raise(e,t)};Jt.readTmplToken=function(){for(var e="",t=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var n=this.input.charCodeAt(this.pos);if(n===96||n===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===L.template||this.type===L.invalidTemplate)?n===36?(this.pos+=2,this.finishToken(L.dollarBraceL)):(++this.pos,this.finishToken(L.backQuote)):(e+=this.input.slice(t,this.pos),this.finishToken(L.template,e));if(n===92)e+=this.input.slice(t,this.pos),e+=this.readEscapedChar(!0),t=this.pos;else if(fg(n)){switch(e+=this.input.slice(t,this.pos),++this.pos,n){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:e+=`
`;break;default:e+=String.fromCharCode(n);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),t=this.pos}else++this.pos}};Jt.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(L.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")};Jt.readEscapedChar=function(e){var t=this.input.charCodeAt(++this.pos);switch(++this.pos,t){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Ef(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),e){var n=this.pos-1;this.invalidStringToken(n,"Invalid escape sequence in template string")}default:if(t>=48&&t<=55){var r=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],i=parseInt(r,8);return i>255&&(r=r.slice(0,-1),i=parseInt(r,8)),this.pos+=r.length-1,t=this.input.charCodeAt(this.pos),(r!=="0"||t===56||t===57)&&(this.strict||e)&&this.invalidStringToken(this.pos-1-r.length,e?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(i)}return fg(t)?"":String.fromCharCode(t)}};Jt.readHexChar=function(e){var t=this.pos,n=this.readInt(16,e);return n===null&&this.invalidStringToken(t,"Bad character escape sequence"),n};Jt.readWord1=function(){this.containsEsc=!1;for(var e="",t=!0,n=this.pos,r=this.options.ecmaVersion>=6;this.pos<this.input.length;){var i=this.fullCharCodeAtPos();if(Rm(i,r))this.pos+=i<=65535?1:2;else if(i===92){this.containsEsc=!0,e+=this.input.slice(n,this.pos);var s=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var o=this.readCodePoint();(t?Yl:Rm)(o,r)||this.invalidStringToken(s,"Invalid Unicode escape"),e+=Ef(o),n=this.pos}else break;t=!1}return e+this.input.slice(n,this.pos)};Jt.readWord=function(){var e=this.readWord1(),t=L.name;return this.keywords.test(e)&&(t=C6[e]),this.finishToken(t,e)};var bKe="8.11.2";ii.acorn={Parser:ii,version:bKe,defaultOptions:iN,Position:s_,SourceLocation:jI,getLineInfo:lse,Node:VI,TokenType:dn,tokTypes:L,keywordTypes:C6,TokContext:ga,tokContexts:fr,isIdentifierChar:Rm,isIdentifierStart:Yl,Token:$6,isNewLine:fg,lineBreak:ca,lineBreakG:WGe,nonASCIIwhitespace:ase};function wKe(e,t){return ii.parse(e,t)}const L6={undefined:"void(0)",Infinity:"Number.POSITIVE_INFINITY",NaN:"Number.NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2"},EKe={ecmaVersion:11},_7="$",TKe="d",SKe="d1",xKe="d2",xi=e=>(t,n)=>n.error(t,e+" not allowed"),IKe=xi("Aggregate function"),AKe=xi("Window function"),CKe="Invalid argument",M6="Invalid column reference",OKe=M6+" (must be input to an aggregate function)",jse="Invalid function call",PKe="Invalid member expression",RKe="Invalid operator parameter",NKe="Invalid param reference",kKe="Invalid variable reference",DKe="Variable not accessible in operator call",$Ke="Unsupported variable declaration",LKe="Unsupported destructuring pattern",Use="Table expressions do not support closures",Vse="Use aq.escape(fn) to use a function as-is (including closures)",MKe="use table.params({ name: value }) to define dynamic parameters",FKe="use aq.addFunction(name, fn) to add new op functions",BKe=`
Note: ${Use}. ${Vse}, or ${MKe}.`,zse=`
Note: ${Use}. ${Vse}, or ${FKe}.`,jKe=`The ${Zne} method is not valid in multi-table expressions.`;function UKe(e,t){const n=VKe(t);let r=e.root=n;return e.spec=t,e.tuple=null,e.tuple1=null,e.tuple2=null,e.$param=null,e.$op=0,e.scope=new Set,e.paramsRef=new Map,e.columnRef=new Map,$Ge(r)?(HKe(r,e),r=r.body):e.join?(e.scope.add(e.tuple1=SKe),e.scope.add(e.tuple2=xKe),e.scope.add(e.$param=_7)):(e.scope.add(e.tuple=TKe),e.scope.add(e.$param=_7)),fn(r,e,F6),e.root}function VKe(e){try{const t=e.field?zKe(e):_n(e)?Du(e):e;return wKe(`expr=(${t})`,EKe).body[0].expression.right}catch{jt(`Expression parse error: ${e+""}`)}}function zKe(e){const t=JSON.stringify(e+"");return e.table?`(a,b)=>b[${t}]`:`d=>d[${t}]`}const F6={FunctionDeclaration:xi("Function definitions"),ForStatement:xi("For loops"),ForOfStatement:xi("For-of loops"),ForInStatement:xi("For-in loops"),WhileStatement:xi("While loops"),DoWhileStatement:xi("Do-while loops"),AwaitExpression:xi("Await expressions"),ArrowFunctionExpression:xi("Function definitions"),AssignmentExpression:xi("Assignments"),FunctionExpression:xi("Function definitions"),NewExpression:xi('Use of "new"'),UpdateExpression:xi("Update expressions"),VariableDeclarator(e,t){uN(e.id,t)},Identifier(e,t,n){qse(e,t,n)&&!t.scope.has(e.name)&&t.error(e,kKe,BKe)},CallExpression(e,t){const n=Hse(e.callee),r=Qne(n)||Xne(n);if(r){if((t.join||t.aggregate===!1)&&C3(n)&&IKe(e,t),(t.join||t.window===!1)&&O3(n)&&AKe(e,t),t.$op=1,t.ast)aN(e,n,t),e.arguments.forEach(i=>fn(i,t,oN));else{const i=t.op(WKe(t,r,n,e.arguments));Object.assign(e,{type:Wne,name:i.id})}return t.$op=0,!1}else Kne(n)?aN(e,n,t):t.error(e,jse,zse)},MemberExpression(e,t,n){const{object:r,property:i}=e;if(!Jr(sf,r))return;const{name:s}=r;if(Wse(e)&&Jr(sf,i)&&Ma(L6,i.name)){Kse(e,i.name);return}const o=s===t.tuple?0:s===t.tuple1?1:s===t.tuple2?2:-1;if(o>=0)return v7(e,o,t,Yse,n);if(s===t.$param)return v7(e,o,t,YKe);t.paramsRef.has(s)?a_(e,t.paramsRef.get(s)):t.columnRef.has(s)?Gse(r,s,t,e):Ma(t.params,s)&&a_(r,s)}};function v7(e,t,n,r,i){const{property:s,computed:o}=e;let a;if(!o)a=s.name;else if(Jr(ag,s))a=s.value;else try{fn(s,n,F6,e),a=n.param(s)}catch{n.error(e,PKe)}return r(e,a,t,n,i),!1}const oN={...F6,VariableDeclarator:xi("Variable declaration in operator call"),Identifier(e,t,n){qse(e,t,n)&&t.error(e,DKe)},CallExpression(e,t){const n=Hse(e.callee);Kne(n)?aN(e,n,t):t.error(e,jse,zse)}};function HKe(e,t){e.generator&&xi("Generator functions")(e,t),e.async&&xi("Async functions")(e,t);const{params:n}=e,r=n.length,i=o=>(a,u)=>t.columnRef.set(a,[u,o]),s=(o,a)=>t.paramsRef.set(o,a);r&&(t.join?(s0(t,n[0],"tuple1",i(1)),r>1&&s0(t,n[1],"tuple2",i(2)),r>2&&s0(t,n[2],"$param",s)):(s0(t,n[0],"tuple",i(0)),r>1&&s0(t,n[1],"$param",s))),t.root=e.body}function s0(e,t,n,r){Jr(sf,t)?(e.scope.add(t.name),e[n]=t.name):Jr(zne,t)&&t.properties.forEach(i=>{const s=Jr(sf,i.key)?i.key.name:Jr(ag,i.key)?i.key.value:e.error(i,CKe);Jr(sf,i.value)||e.error(i.value,LKe),r(i.value.name,s)})}function WKe(e,t,n,r){const i=[],s=[],o=t.param[0]||0,a=o+(t.param[1]||0);return r.forEach((u,l)=>{l<o?(fn(u,e,oN),i.push(e.field(u))):l<a?(fn(u,e,oN),s.push(e.param(u))):e.error(u,RKe)}),{name:n,fields:i,params:s,...e.spec.window||{}}}function Hse(e){return Jr(sf,e)?e.name:Jr(Vne,e)?Wse(e)?qKe(e.property.name):e.property.name:null}function Wse(e){return Jr(sf,e.object)&&e.object.name==="Math"}function qKe(e){return e==="max"?"greatest":e==="min"?"least":e}function qse(e,t,n){const{name:r}=e;if(!(Jr(Vne,n)&&n.property===e)){if(!(Jr(Hne,n)&&n.key===e))if(t.paramsRef.has(r))a_(e,t.paramsRef.get(r));else if(t.columnRef.has(r))Gse(e,r,t,n);else if(Ma(t.params,r))a_(e,r);else if(Ma(L6,r))Kse(e,r);else return!0}}function Yse(e,t,n,r,i){const s=n===0?r.table:n>0?r.join[n-1]:null,o=s&&s.column(t);s&&!o&&r.error(e,M6),r.aggronly&&!r.$op&&r.error(e,OKe),Jne(e,t,n,o,i)}function Gse(e,t,n,r){const[i,s]=n.columnRef.get(t);Yse(e,i,s,n,r)}function YKe(e,t,n,r){r.params&&!Ma(r.params,t)&&r.error(e,NKe),a_(e,t)}function a_(e,t){e.type=FHe,e.name=t}function Kse(e,t){e.type=$He,e.name=t,e.raw=L6[t]}function aN(e,t,n){if(t===Zne){const r=n.table;r||n.error(e,jKe),ere(e,e.arguments.length?e.arguments.map(i=>{const s=n.param(i),o=ms(s)?r.columnName(s):s;return r.column(o)||n.error(i,M6),o}):r.columnNames())}else e.callee={type:MHe,name:t}}function uN(e,t){Jr(sf,e)?t.scope.add(e.name):Jr(RHe,e)?e.elements.forEach(n=>uN(n,t)):Jr(zne,e)?e.properties.forEach(n=>uN(n.value,t)):t.error(e.id,$Ke)}const GKe={[pv]:1,[Wne]:1};function Qs(e,t={}){const n=t.generate||KT,r=t.compiler||P3,i=QKe(t),s={},o={},a=[],u=[];let l=0,c=-1;const f=t.join?r.join:t.index==1?r.expr2:r.expr,d={op(g){const y=KKe(g);return o[y]||(g.id=++c,o[y]=g)},field(g){const y=n(g);return s[y]||(s[y]=++l)},param(g){return Jr(ag,g)?g.value:r.param(n(g),i)},value(g,y){a.push(g);const m=y.escape||(t.ast?DGe(y):f(n(y),i));u.push(m),GKe[y.type]&&m!==y&&ts(m)&&(m.field=y.name)},error(g,y,m=""){const _=g.start-6,v=g.end-6,T=String(d.spec).slice(_,v);jt(`${y}: "${T}"${m}`)}};Object.assign(d,t,{params:i});for(const[g,y]of II(e))d.value(g+"",y.escape?FGe(d,y,i):UKe(d,y));if(t.ast)return{names:a,exprs:u};const h=[];for(const g in s)h[s[g]]=r.expr(g,i);const p=Object.values(o);return p.forEach(g=>g.fields=g.fields.map(y=>h[y])),{names:a,exprs:u,ops:p}}function KKe(e){let t=`${e.name}(${e.fields.concat(e.params).join(",")})`;if(e.frame){const n=e.frame.map(r=>Number.isFinite(r)?Math.abs(r):-1);t+=`[${n},${!!e.peers}]`}return t}function QKe(e){return(e.table?GO(e.table):e.join?{...GO(e.join[1]),...GO(e.join[0])}:{})||{}}function GO(e){return e&&tr(e.params)?e.params():{}}const Qse="Expr",ya="ExprList",Xse="ExprNumber",C0="ExprObject",gp="JoinKeys",gS="JoinValues",Mo="Options",B6="OrderKeys",bc="SelectionList",fd="TableRef",yp="TableRefList",XKe="Descending",JKe="Query",ZKe="Selection",eQe="Verb",tQe="Window";function HI(e,t){return e&&e.expr?new b7({...e,...t}):new b7(t,e)}class b7{constructor(t,n){this.expr=n,Object.assign(this,t)}toString(){return String(this.expr)}toObject(){return{...this,expr:this.toString(),...tr(this.expr)?{func:!0}:{}}}}function nQe(e){return HI(e,{desc:!0})}function Jd(e,t,n=0){const r=n?{field:!0,table:n}:{field:!0};return HI(e,t?{expr:t,...r}:r)}function rQe(e,t,n){return HI(e,{window:{frame:t||[-1/0,0],peers:!!n}})}function iQe(e){const t=n=>n;return t.toString=()=>e,t}function w7(e,t){return t=t&&tr(t.query)?t.query():t,t&&tr(t.evaluate)?t.evaluate(null,e):e(t)}function Jse(e){return ts(e)&&(_n(e.all)||_n(e.matches)||_n(e.not)||_n(e.range))}function u_(e){return e&&tr(e.toObject)?e.toObject():tr(e)?{expr:String(e),func:!0}:_n(e)?e.map(u_):ts(e)?FI(e,t=>u_(t)):e}function j6(e){return _n(e)?e.map(j6):ts(e)?_n(e.verbs)?V6.from(e):_n(e.all)?Pm():_n(e.range)?OGe(...e.range):_n(e.match)?PGe(RegExp(...e.match)):_n(e.not)?nse(e.not.map(u_)):sQe(e):e}function sQe(e){let t=e,n=e.expr;if(n!=null){if(e.field===!0?t=n=Jd(n):e.func===!0&&(t=n=iQe(n)),ts(e.window)){const{frame:r,peers:i}=e.window;t=n=rQe(n,r,i)}e.desc===!0&&(t=nQe(n))}return e===t?FI(e,r=>j6(r)):t}function oQe(e){return _n(e)?e.map(aQe):e}function aQe(e){const t=[];return Gs(e).forEach(n=>{ms(n)?t.push(n):Mi(n)?t.push(Jd(n,null)):ts(n)&&n.expr||tr(n)?t.push(n):jt(`Invalid key value: ${n+""}`)}),t}function uQe(e){return _n(e)?e.map(lQe):e}function lQe(e,t){return t<2?Gs(e):e}function cQe(e){const t=[];return e.forEach(n=>{const r=n.expr!=null?n.expr:n;if(ts(r)&&!tr(r))for(const i in r)t.push(r[i]);else n=ms(r)?r:Mi(r)?Jd(n):tr(r)?n:jt(`Invalid orderby field: ${n+""}`),t.push(n)}),t}const fQe={[Qse]:noe,[ya]:Nm,[Xse]:yQe,[C0]:Tf,[gp]:_Qe,[gS]:vQe,[B6]:Nm,[bc]:mQe};function dQe(e,t,n){return t===fd?E7(e):t===yp?e.map(E7):Zse(u_(e),t,n)}function Zse(e,t,n){return t===Mo?e&&hQe(e,n):fQe[t](e)}function hQe(e,t={}){const n={};for(const r in e){const i=e[r];n[r]=t[r]?Zse(i,t[r]):i}return n}function pQe(e,t){return Qs({expr:e},{...t,ast:!0}).exprs[0]}function U6(e){return{type:pv,name:e}}function eoe(e){return{type:pv,index:e}}function Tf(e,t){if(Mi(e))return pQe(e,t);if(e.expr){let n;if(e.field===!0?n=U6(e.expr):e.func===!0&&(n=Tf(e.expr,t)),n)return e.desc&&(n={type:XKe,expr:n}),e.window&&(n={type:tQe,expr:n,...e.window}),n}return Object.keys(e).map(n=>({...Tf(e[n],t),as:n}))}function toe(e){const t=ZKe;return e.all?{type:t,operator:"all"}:e.not?{type:t,operator:"not",arguments:Nm(e.not)}:e.range?{type:t,operator:"range",arguments:Nm(e.range)}:e.matches?{type:t,operator:"matches",arguments:e.matches}:jt("Invalid input")}function mQe(e){return Gs(e).map(gQe).flat()}function gQe(e){return Jse(e)?toe(e):ms(e)?eoe(e):Mi(e)?U6(e):ts(e)?Object.keys(e).map(t=>({type:pv,name:t,as:e[t]})):jt("Invalid input")}function noe(e){return Jse(e)?toe(e):ms(e)?eoe(e):Mi(e)?U6(e):ts(e)?Tf(e):jt("Invalid input")}function Nm(e){return Gs(e).map(noe).flat()}function yQe(e){return ms(e)?e:Tf(e)}function _Qe(e){return _n(e)?e.map(Nm):Tf(e,{join:!0})}function vQe(e){return _n(e)?e.map((t,n)=>n<2?Nm(t):Tf(t,{join:!0})):Tf(e,{join:!0})}function E7(e){return e&&tr(e.toAST)?e.toAST():e}class roe{constructor(t,n=[],r=[]){this.verb=t,this.schema=n,n.forEach((i,s)=>{const o=i.type,a=r[s],u=o===gp?oQe(a):o===gS?uQe(a):o===B6?cQe(a):a;this[i.name]=u!==void 0?u:i.default})}static from(t){const n=lN[t.verb],r=(n.schema||[]).map(({name:i})=>j6(t[i]));return n(...r)}evaluate(t,n){const r=this.schema.map(({name:i,type:s})=>{const o=this[i];return s===fd?w7(n,o):s===yp?o.map(a=>w7(n,a)):o});return t[this.verb](...r)}toObject(){const t={verb:this.verb};return this.schema.forEach(({name:n})=>{t[n]=u_(this[n])}),t}toAST(){const t={type:eQe,verb:this.verb};return this.schema.forEach(({name:n,type:r,props:i})=>{t[n]=dQe(this[n],r,i)}),t}}function Ln(e,t){return Object.assign((...n)=>new roe(e,t,n),{schema:t})}const lN={count:Ln("count",[{name:"options",type:Mo}]),derive:Ln("derive",[{name:"values",type:C0},{name:"options",type:Mo,props:{before:bc,after:bc}}]),filter:Ln("filter",[{name:"criteria",type:C0}]),groupby:Ln("groupby",[{name:"keys",type:ya}]),orderby:Ln("orderby",[{name:"keys",type:B6}]),relocate:Ln("relocate",[{name:"columns",type:bc},{name:"options",type:Mo,props:{before:bc,after:bc}}]),rename:Ln("rename",[{name:"columns",type:bc}]),rollup:Ln("rollup",[{name:"values",type:C0}]),sample:Ln("sample",[{name:"size",type:Xse},{name:"options",type:Mo,props:{weight:Qse}}]),select:Ln("select",[{name:"columns",type:bc}]),ungroup:Ln("ungroup"),unorder:Ln("unorder"),reify:Ln("reify"),dedupe:Ln("dedupe",[{name:"keys",type:ya,default:[]}]),impute:Ln("impute",[{name:"values",type:C0},{name:"options",type:Mo,props:{expand:ya}}]),fold:Ln("fold",[{name:"values",type:ya},{name:"options",type:Mo}]),pivot:Ln("pivot",[{name:"keys",type:ya},{name:"values",type:ya},{name:"options",type:Mo}]),spread:Ln("spread",[{name:"values",type:ya},{name:"options",type:Mo}]),unroll:Ln("unroll",[{name:"values",type:ya},{name:"options",type:Mo,props:{drop:ya}}]),lookup:Ln("lookup",[{name:"table",type:fd},{name:"on",type:gp},{name:"values",type:ya}]),join:Ln("join",[{name:"table",type:fd},{name:"on",type:gp},{name:"values",type:gS},{name:"options",type:Mo}]),cross:Ln("cross",[{name:"table",type:fd},{name:"values",type:gS},{name:"options",type:Mo}]),semijoin:Ln("semijoin",[{name:"table",type:fd},{name:"on",type:gp}]),antijoin:Ln("antijoin",[{name:"table",type:fd},{name:"on",type:gp}]),concat:Ln("concat",[{name:"tables",type:yp}]),union:Ln("union",[{name:"tables",type:yp}]),intersect:Ln("intersect",[{name:"tables",type:yp}]),except:Ln("except",[{name:"tables",type:yp}])};let V6=class ioe extends One{constructor(t,n,r){super(n),this._verbs=t||[],this._table=r}static from({verbs:t,table:n,params:r}){return new ioe(t.map(roe.from),r,n)}get[Symbol.toStringTag](){return this._verbs?`Query: ${this._verbs.length} verbs`+(this._table?` on '${this._table}'`:""):"Object"}get length(){return this._verbs.length}get tableName(){return this._table}params(t){return arguments.length?(this._params={...this._params,...t},this):this._params}evaluate(t,n){t=t||n(this._table);for(const r of this._verbs)t=r.evaluate(t.params(this._params),n);return t}toObject(){return T7(this,"toObject")}toJSON(){return this.toObject()}toAST(){return T7(this,"toAST",{type:JKe})}};function T7(e,t,n){return{...n,verbs:e._verbs.map(r=>r[t]()),...e._params?{params:e._params}:null,...e._table?{table:e._table}:null}}function bQe(e,t){return new V6(e._verbs.concat(t),e._params,e._table)}for(const e in lN){const t=lN[e];V6.prototype["__"+e]=function(n,...r){return bQe(n,t(...r))}}function pg(e,t,...n){const r=["_","$"],i=r.slice(0,n.length);return i.push('"use strict"; const '+n.map((s,o)=>s.map((a,u)=>`${r[o]}${u} = ${r[o]}[${u}]`).join(", ")).join(", ")+`; return (${e}) => ${t};`),Function(...i)(...n)}function wQe(e,t=[]){return e.groupby(t.length?t:e.columnNames()).filter("row_number() === 1").ungroup().reify()}function z6(e,t){const n=Ro();return t.forEach((r,i)=>{const s=Mi(r)?r:i;if(s){const o=e.column(i)||jt(`Unrecognized column: ${i}`);n.add(s,o)}}),e.create(n)}function soe(e,t,{before:n,after:r}={}){const i=n!=null,s=r!=null;i||s||jt("relocate requires a before or after option."),i&&s&&jt("relocate accepts only one of the before or after options."),t=ql(e,t);const o=[...ql(e,i?n:r).keys()],a=i?o[0]:o.pop(),u=new Map;return e.columnNames().forEach(l=>{const c=!t.has(l);if(l===a){s&&c&&u.set(l,l);for(const[f,d]of t)u.set(f,d);if(s)return}c&&u.set(l,l)}),z6(e,u)}function Ev(e,t=r=>r,n=""){const r=e.length;if(!r)return"";let i=t(e[0],0);for(let s=1;s<r;++s)i+=n+t(e[s],s);return i}function H6(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function EQe(e,t=0,n=e.length){let r=n?e[t++]:hn;for(let i=t;i<n;++i)r>e[i]&&(r=e[i]);return r}function TQe(e,t=0,n=e.length){let r=n?e[t++]:hn;for(let i=t;i<n;++i)r<e[i]&&(r=e[i]);return r}function W1(e){return Zy(e)?e:+e}function SQe(e,t){const n=e.length;if(!n)return hn;if((t=+t)<=0||n<2)return W1(e[0]);if(t>=1)return W1(e[n-1]);const r=(n-1)*t,i=Math.floor(r),s=W1(e[i]);return Zy(s)?s:s+(W1(e[i+1])-s)*(r-i)}class xQe{constructor(t){this._values=t||[],this._sorted=null,this._start=0}values(t){return this._start&&(this._values=this._values.slice(this._start),this._start=0),t?this._values.slice():this._values}add(t){this._values.push(t),this._sorted=null}rem(){this._start+=1,this._sorted=null}min(){return this._sorted&&this._sorted.length?this._sorted[0]:EQe(this._values,this._start)}max(){return this._sorted&&this._sorted.length?this._sorted[this._sorted.length-1]:TQe(this._values,this._start)}quantile(t){return this._sorted||(this._sorted=this.values(!0),this._sorted.sort(H6)),SQe(this._sorted,t)}}const yS=(e,t,n)=>pg(t,"{"+Ev(e,(r,i)=>`_${i}.${n}(${t});`)+"}",e);function IQe(e,t){const{ops:n,output:r}=AQe(e,t),i=e[0].fields,s=i.length,o=s===0?W6:s===1?CQe:s===2?OQe:jt("Unsupported field count: "+s);return new o(i,n,r,t)}function AQe(e,t){const n={},r=[];function i(o,a=[]){const u=o+":"+a;if(n[u])return n[u];const l=Qne(o),c=l.create(...a);return t<0&&l.stream&&l.stream.forEach(f=>i(f,[])),l.req&&l.req.forEach(f=>i(f,[])),n[u]=c,r.push(c),c}const s=e.map(o=>{const a=i(o.name,o.params);return a.output=o.id,a});return{ops:r,output:s}}class W6 extends NGe{constructor(t,n,r,i){super(r),this._op=n,this._fields=t,this._stream=!!i}init(){const t={count:0,valid:0,stream:this._stream};return this._op.forEach(n=>n.init(t)),t.values&&(t.list=new xQe),t}write(t,n,r){const i=this._outputs,s=i.length;for(let o=0;o<s;++o)n[i[o].output][r]=i[o].value(t);return 1}_add(){}_rem(){}add(t){++t.count}rem(t){--t.count}}class CQe extends W6{constructor(t,n,r,i){super(t,n,r,i);const s=["state","v1","v2"];this._add=yS(n,s,"add"),this._rem=yS(n,s,"rem")}add(t,n,r){const i=this._fields[0](n,r);++t.count,Ca(i)&&(++t.valid,t.list&&t.list.add(i),this._add(t,i))}rem(t,n,r){const i=this._fields[0](n,r);--t.count,Ca(i)&&(--t.valid,t.list&&t.list.rem(),this._rem(t,i))}}class OQe extends W6{constructor(t,n,r,i){super(t,n,r,i);const s=["state","v1","v2"];this._add=yS(n,s,"add"),this._rem=yS(n,s,"rem")}add(t,n,r){const i=this._fields[0](n,r),s=this._fields[1](n,r);++t.count,Ca(i)&&Ca(s)&&(++t.valid,t.list&&t.list.add([i,s]),this._add(t,i,s))}rem(t,n,r){const i=this._fields[0](n,r),s=this._fields[1](n,r);--t.count,Ca(i)&&Ca(s)&&(--t.valid,t.list&&t.list.rem(),this._rem(t,i,s))}}function Eh(e,t,n){if(t.length){const r=e.data(),{keys:i}=e.groups()||{},s=mg(e,t),o=i?(a,u)=>s[a][i[u]]:a=>s[a][0];n=n.map(a=>u=>a(u,r,o))}return n}function mg(e,t,n){if(!t.length)return n;const r=ooe(t),i=e.groups(),s=i?i.size:1;return n=n||SI(t.length,()=>Array(s)),s>1?r.forEach(o=>{const a=uoe(e,o,i);for(let u=0;u<s;++u)o.write(a[u],n,u)}):r.forEach(o=>{const a=aoe(e,o);o.write(a,n,0)}),n}function ooe(e,t){const n=[],r={};for(const i of e){const s=i.fields.map(o=>o+"").join(",");(r[s]||(r[s]=[])).push(i)}for(const i in r)n.push(IQe(r[i],t));return n}function aoe(e,t){const n=t.init(),r=e.totalRows(),i=e.data(),s=e.mask();if(e.isOrdered()){const o=e.indices();for(let a=0;a<r;++a)t.add(n,o[a],i)}else if(s)for(let o=s.next(0);o>=0;o=s.next(o+1))t.add(n,o,i);else for(let o=0;o<r;++o)t.add(n,o,i);return n}function uoe(e,t,n){const{keys:r,size:i}=n,s=SI(i,()=>t.init()),o=e.data();if(e.isOrdered()){const a=e.indices(),u=a.length;for(let l=0;l<u;++l){const c=a[l];t.add(s[r[c]],c,o)}}else if(e.isFiltered()){const a=e.mask();for(let u=a.next(0);u>=0;u=a.next(u+1))t.add(s[r[u]],u,o)}else{const a=e.totalRows();for(let u=0;u<a;++u)t.add(s[r[u]],u,o)}return s}function loe(e,t){const{get:n,names:r,rows:i,size:s}=t,o=r.length;for(let a=0;a<o;++a){const u=e.add(r[a],Array(s)),l=n[a];for(let c=0;c<s;++c)u[c]=l(i[c])}}function coe(e){return{left(t,n,r,i){for(r==null&&(r=0),i==null&&(i=t.length);r<i;){const s=r+i>>>1;e(t[s],n)<0?r=s+1:i=s}return r},right(t,n,r,i){for(r==null&&(r=0),i==null&&(i=t.length);r<i;){const s=r+i>>>1;e(t[s],n)>0?i=s:r=s+1}return r}}}const S7=coe(H6);function PQe(e,t,n,r,i){let s,o,a,u,l;const c=g=>o[g-1]===o[g],f=r.length,d=i.length,h=r.length?pg(["w","r","k"],"{"+Ev(r,(g,y)=>`r[_${y}.id][k]=_${y}.value(w,_${y}.get);`)+"}",r):()=>{},p={i0:0,i1:0,index:0,size:0,peer:c,init(g,y,m,_){p.index=p.i0=p.i1=0,p.size=y.length,s=g,o=y,u=m,l=_,a=i?i.map(v=>v.init()):null;for(let v=0;v<f;++v)r[v].init();return p},value(g,y){return y(s[g],e)},step(g){const[y,m]=t,_=p.size,v=p.i0,T=p.i1;p.i0=y!=null?Math.max(0,g-Math.abs(y)):0,p.i1=m!=null?Math.min(_,g+Math.abs(m)+1):_,p.index=g,n&&(p.i0>0&&c(p.i0)&&(p.i0=S7.left(o,o[p.i0])),p.i1<_&&c(p.i1)&&(p.i1=S7.right(o,o[p.i1-1])));for(let S=0;S<d;++S){const w=i[S],x=a[S];for(let A=v;A<p.i0;++A)w.rem(x,s[A],e);for(let A=T;A<p.i1;++A)w.add(x,s[A],e);w.write(x,u,l)}return h(p,u,l),u}};return p}const RQe=e=>(e.frame||[null,null]).map(t=>Number.isFinite(t)?Math.abs(t):null),NQe=e=>!!e.peers;function kQe(e){const{id:t,name:n,fields:r=[],params:i=[]}=e,s=Xne(n).create(...i);return r.length&&(s.get=r[0]),s.id=t,s}function DQe(e,t,n,r={},i){const s=e.data(),o=$Qe(i,s),a=o.length,u=pg(["r","d","op"],"{"+Ev(t,(l,c)=>`_${c}[r] = $${c}(r, d, op);`)+"}",t,n);e.partitions().forEach((l,c)=>{const f=l.length,d=LQe(e,l);for(let p=0;p<a;++p)o[p].init(l,d,r,c);const h=p=>r[p][c];for(let p=0;p<f;++p){for(let g=0;g<a;++g)o[g].step(p);u(l[p],s,h)}})}function $Qe(e,t){const n={};return e.forEach(r=>{const i=RQe(r),s=NQe(r),o=`${i},${s}`,{aggOps:a,winOps:u}=n[o]||(n[o]={frame:i,peers:s,aggOps:[],winOps:[]});C3(r.name)?a.push(r):u.push(kQe(r))}),Object.values(n).map(r=>PQe(t,r.frame,r.peers,r.winOps,ooe(r.aggOps,r.frame[0]!=null?-1:1)))}function LQe(e,t){if(e.isOrdered()){const n=e.comparator(),r=e.data(),i=t.length,s=new Uint32Array(i);for(let o=1,a=0;o<i;++o)s[o]=n(t[o-1],t[o],r)?++a:a;return s}else return t}function MQe(e){return O3(e.name)||e.frame&&(Number.isFinite(e.frame[0])||Number.isFinite(e.frame[1]))}function q6(e,{names:t,exprs:n,ops:r},i={}){const s=e.totalRows(),o=Ro(i.drop?null:e),a=t.map(d=>o.add(d,Array(s))),[u,l]=FQe(r),c=e.isGrouped()?e.groups().size:1,f=mg(e,u,SI(r.length,()=>Array(c)));return l.length?DQe(e,a,n,f,l):BQe(e,a,n,f),e.create(o)}function FQe(e){const t=[],n=[],r=e.length;for(let i=0;i<r;++i){const s=e[i];s.id=i,(MQe(s)?n:t).push(s)}return[t,n]}function BQe(e,t,n,r){const i=e.mask(),s=e.data(),{keys:o}=e.groups()||{},a=o?(l,c)=>r[l][o[c]]:l=>r[l][0],u=t.length;for(let l=0;l<u;++l){const c=n[l],f=t[l];if(i)for(let d=i.next(0);d>=0;d=i.next(d+1))f[d]=c(d,s,a);else{const d=e.totalRows();for(let h=0;h<d;++h)f[h]=c(h,s,a)}}}function jQe(e,t,n={}){const r=q6(e,Qs(t,{table:e}),n);return n.drop||n.before==null&&n.after==null?r:soe(r,Object.keys(t).filter(i=>!e.column(i)),n)}function UQe(e,t){if(t.length===0)return e;const n=e.columnNames();return t.reduce((r,i)=>r.antijoin(i.select(n)),e).dedupe()}const q1=2147483648,VQe=4294967295;class foe{constructor(t){this._size=t,this._bits=new Uint32Array(Math.ceil(t/32))}get length(){return this._size}count(){const t=this._bits.length;let n=0;for(let r=0;r<t;++r)for(let i=this._bits[r];i;++n)i&=i-1;return n}get(t){return this._bits[t>>5]&q1>>>t}set(t){this._bits[t>>5]|=q1>>>t}clear(t){this._bits[t>>5]&=~(q1>>>t)}scan(t){for(let n=this.next(0);n>=0;n=this.next(n+1))t(n)}next(t){const n=this._bits,r=n.length;let i=t>>5,s=n[i]&VQe>>>t;for(;i<r;s=n[++i])if(s!==0)return(i<<5)+Math.clz32(s);return-1}nth(t){let n=this.next(0);for(;t--&&n>=0;)n=this.next(n+1);return n}not(){const t=this._bits,n=t.length;for(let i=0;i<n;++i)t[i]=~t[i];const r=this._size%32;return r&&(t[n-1]&=q1>>r-1),this}and(t){if(t){const n=this._bits,r=t._bits,i=n.length;for(let s=0;s<i;++s)n[s]&=r[s]}return this}or(t){if(t){const n=this._bits,r=t._bits,i=n.length;for(let s=0;s<i;++s)n[s]|=r[s]}return this}}function zQe(e,t){const n=e.totalRows(),r=e.mask(),i=e.data(),s=new foe(n);if(r)for(let o=r.next(0);o>=0;o=r.next(o+1))t(o,i)&&s.set(o);else for(let o=0;o<n;++o)t(o,i)&&s.set(o);return e.create({filter:s})}function HQe(e,t){const n=Qs({p:t},{table:e});let r=n.exprs[0];if(n.ops.length){const{data:i}=q6(e,n,{drop:!0}).column("p");r=s=>i[s]}return zQe(e,r)}function doe(e,{names:t=[],exprs:n=[],ops:r=[]},i={}){if(!t.length)return e;const s=i.limit>0?+i.limit:1/0,o=i.index?i.index===!0?"index":i.index+"":null,a=new Set(i.drop),u=Eh(e,r,n),l=Ro(),c=new Set(t),f=[],d=[],h=[];e.columnNames().forEach(T=>{if(!a.has(T)){const S=l.add(T,[]);c.has(T)||(f.push(e.column(T)),d.push(S))}}),t.forEach(T=>{a.has(T)||(l.has(T)||l.add(T,[]),h.push(l.data[T]))});const p=o?l.add(o,[]):null;let g=0;const y=f.length,m=h.length,_=(T,S)=>{for(let w=0;w<y;++w)d[w].length=g+S,d[w].fill(f[w].get(T),g,g+S)},v=p?(T,S)=>{for(let w=0;w<S;++w)p[T+w]=w}:()=>{};if(m===1){const T=u[0],S=h[0];e.scan((w,x)=>{const A=Gs(T(w,x)),$=Math.min(A.length,s);_(w,$);for(let D=0;D<$;++D)S[g+D]=A[D];v(g,$),g+=$})}else e.scan((T,S)=>{let w=0;const x=u.map(A=>{const $=Gs(A(T,S));return w=Math.min(Math.max(w,$.length),s),$});_(T,w);for(let A=0;A<m;++A){const $=h[A],D=x[A];for(let P=0;P<w;++P)$[g+P]=D[P]}v(g,w),g+=w});return e.create(l.new())}function WQe(e,{names:t=[],exprs:n=[],ops:r=[]},i={}){if(t.length===0)return e;const[s="key",o="value"]=i.as||[],a=Eh(e,r,n);return doe(e,{names:[s,o],exprs:[()=>t,(u,l)=>a.map(c=>c(u,l))]},{...i,drop:t})}function Fa(e,t,n,r={window:!1}){const i=new Map,s=o=>{o=ms(o)?t.columnName(o):o,Mi(o)?i.set(o,Jd(o)):tr(o)?ql(t,o).forEach(s):ts(o)?ese(i,o):jt(`Invalid ${e} value: ${o+""}`)};return Gs(n).forEach(s),r.preparse&&r.preparse(i),Qs(i,{table:t,...r})}function qQe(e,t,n){return WQe(e,Fa("fold",e,t),n)}function x7(e,t,n,r){const i=n&&n.length;return YQe(i?GQe(e,n,r):e,t,i)}function YQe(e,{names:t,exprs:n,ops:r},i){const s=Eh(e,r,n),o=i?null:Ro(e),a=e.totalRows();return t.forEach((u,l)=>{const c=e.column(u),f=i?c.data:o.add(u,Array(a)),d=s[l];e.scan(h=>{const p=c.get(h);f[h]=Ca(p)?p:d(h)})}),i?e:e.create(o)}function GQe(e,t,n){const r=e.groups(),i=e.data(),s=(r?r.names:[]).concat(t),o=(r?r.get:[]).concat(t.map(p=>e.getter(p))),a=new Set,u=QT(o);e.scan((p,g)=>a.add(u(p,g)));const l=e.columnNames(),c=Ro(),f=l.map(p=>c.add(p,[]));l.forEach((p,g)=>{const y=i[p],m=f[g];e.scan(_=>m.push(y.get(_)))});const d=QT(o.map((p,g)=>y=>y[g])),h=pg("v","{"+f.map((p,g)=>`_${g}.push(v[$${g}]);`).join("")+"}",f,l.map(p=>s.indexOf(p)));if(r){let p=r.keys.length;const g=n.reduce((m,_)=>m*_.length,r.size),y=new Uint32Array(g+(p-a.size));y.set(r.keys),I7(r,n,(m,_)=>{a.has(d(m))||(h(m),y[p++]=_[0])}),c.groupby({...r,keys:y})}else I7(r,n,p=>{a.has(d(p))||h(p)});return e.create(c.new())}function I7(e,t,n){const r=e?e.get.length:0,i=e?1:0,s=i+t.length,o=new Int32Array(s),a=new Int32Array(s),u=[];if(e){const{get:c,rows:f,size:d}=e;o[0]=d,u.push((h,p)=>{const g=f[p];for(let y=0;y<r;++y)h[y]=c[y](g)})}t.forEach((c,f)=>{const d=f+r;o[f+i]=c.length,u.push((h,p)=>h[d]=c[p])});const l=Array(r+t.length);for(let c=0;c<s;++c)u[c](l,0);n(l,a);for(let c=s-1;c>=0;){const f=++a[c];f<o[c]?(u[c](l,f),n(l,a),c=s-1):(a[c]=0,u[c](l,0),--c)}}function Y6(e,{names:t,exprs:n,ops:r}){const i=Ro(),s=e.groups();return s&&loe(i,s),KQe(t,n,s,mg(e,r),i),e.create(i.new())}function KQe(e,t,n,r=[],i){if(!t.length)return;const s=n?n.size:1,o=(u,l)=>r[u][l],a=e.length;for(let u=0;u<a;++u){const l=t[u];if(l.field!=null)i.add(e[u],r[l.field]);else if(s>1){const c=i.add(e[u],Array(s));for(let f=0;f<s;++f)c[f]=l(f,null,o)}else i.add(e[u],[l(0,null,o)])}}function QQe(e,t,n={}){if(t=Qs(t,{table:e}),t.names.forEach(r=>e.column(r)?0:jt(`Invalid impute column ${Du(r)}`)),n.expand){const r={preparse:XQe,aggronly:!0},i=Fa("impute",e,n.expand,r),s=Y6(e.ungroup(),i);return x7(e,t,i.names,i.names.map(o=>s.get(o,0)))}else return x7(e,t)}function XQe(e){e.forEach((t,n)=>t.field?e.set(n,Fne(t+"")):0)}function JQe(e,t){const n=e.columnNames();return t.length?t.reduce((r,i)=>r.semijoin(i.select(n)),e).dedupe():e.reify([])}function hoe(e,t){const n=new Map;return e.scan((r,i)=>{const s=t(r,i);s!=null&&s===s&&n.set(s,r)}),n}function ZQe(e,t,n){const r=new Map,i=e.length;for(let s=0;s<i;++s){const o=e[s],a=n(o,t);a!=null&&a===a&&(r.has(a)?r.get(a).push(s):r.set(a,[s]))}return r}function eXe(e,t){const n=["i","a","j","b"];return pg(n,"{"+Ev(e,(r,i)=>`_${i}.push($${i}(${n}));`)+"}",e,t)}function tXe(e,t,n,{names:r,exprs:i},s={}){const o=e.data(),a=e.indices(!1),u=a.length,l=new Int32Array(u),c=t.data(),f=t.indices(!1),d=f.length,h=new Int32Array(d),p=r.length,g=Ro(),y=Array(p),m=Array(p);for(let T=0;T<r.length;++T)y[T]=g.add(r[T],[]),m[T]=i[T];const _=eXe(y,m);if((_n(n)?rXe:nXe)(_,n,o,c,a,f,l,h,u,d),s.left)for(let T=0;T<u;++T)l[T]||_(a[T],o,-1,c);if(s.right)for(let T=0;T<d;++T)h[T]||_(-1,o,f[T],c);return e.create(g.new())}function nXe(e,t,n,r,i,s,o,a,u,l){for(let c=0;c<u;++c){const f=i[c];for(let d=0;d<l;++d){const h=s[d];t(f,n,h,r)&&(e(f,n,h,r),o[c]=1,a[d]=1)}}}function rXe(e,[t,n],r,i,s,o,a,u,l,c){let f,d,h,p,g,y,m,_,v=e;l>=c?(f=r,d=t,h=a,p=s,g=i,y=n,m=u,_=o):(f=i,d=n,h=u,p=o,g=r,y=t,m=a,_=s,v=(w,x,A,$)=>e(A,$,w,x));const T=ZQe(_,g,y),S=p.length;for(let w=0;w<S;++w){const x=p[w],A=T.get(d(x,f));if(A){const $=A.length;for(let D=0;D<$;++D){const P=A[D];v(x,f,_[P],g),m[P]=1}h[w]=1}}}function _S(e,t,n){const r=new Map;Gs(n).forEach((s,o)=>{s=ms(s)?t.columnName(s):s,Mi(s)?r.set(o,Jd(s)):tr(s)||ts(s)&&s.expr?r.set(o,s):jt(`Invalid ${e} key value: ${s+""}`)});const i=Qs(r,{table:t,aggregate:!1,window:!1});return QT(i.exprs,!0)}function iXe(e,t){const n=new Set(t);return e.filter(r=>n.has(r))}function G6(e,t,n){if(n)Mi(n)?n=[n,n]:_n(n)&&n.length===1&&(n=[n[0],n[0]]);else{const r=iXe(e.columnNames(),t.columnNames());r.length||jt("Natural join requires shared column names."),n=[r,r]}return n}function poe(e,t,n,r){return n.length!==r.length&&jt("Mismatched number of join keys"),[_S("join",e,n),_S("join",t,r)]}const sXe={aggregate:!1,window:!1},oXe={...sXe,index:1};function A7(e,t,n,r,i={}){n=G6(e,t,n);const s={join:[e,t]};let o;if(_n(n)){const[a,u]=n.map(Gs);o=poe(e,t,a,u),r||(r=aXe(e,a,u,i))}else o=Qs({on:n},s).exprs[0],r||(r=[Pm(),Pm()]);return tXe(e,t,o,uXe(e,t,r,s,i&&i.suffix),i)}function aXe(e,t,n,r){const i=[];t.forEach((o,a)=>Mi(o)&&o===n[a]?i.push(o):0);const s=nse(i);if(r.left&&r.right){const o=new Set(i);return[e.columnNames().map(a=>{const u=`[${Du(a)}]`;return o.has(a)?{[a]:`(a, b) => a${u} == null ? b${u} : a${u}`}:a}),s]}return r.right?[s,Pm()]:[Pm(),s]}function uXe(e,t,n,r,i=[]){if(_n(n)){let s,o,a,u=n.length;s=o=a={names:[],exprs:[]},u--&&(s=Fa("join",e,n[0],r)),u--&&(o=Fa("join",t,n[1],oXe)),u--&&(a=Qs(n[2],r));const l=new Set,c=new Set(s.names);return o.names.forEach(f=>{c.has(f)&&l.add(f)}),l.size&&(C7(s.names,l,i[0]||"_1"),C7(o.names,l,i[1]||"_2")),{names:s.names.concat(o.names,a.names),exprs:s.exprs.concat(o.exprs,a.exprs)}}else return Qs(n,r)}function C7(e,t,n){e.forEach((r,i)=>t.has(r)?e[i]=r+n:0)}function lXe(e,t,n,r={}){const i=new foe(e.totalRows());return(_n(n)?cXe:fXe)(i,e,t,n),r.anti&&i.not().and(e.mask()),e.create({filter:i})}function cXe(e,t,n,[r,i]){const s=hoe(n,i);t.scan((o,a)=>{s.get(r(o,a))>=0&&e.set(o)})}function fXe(e,t,n,r){const i=t.numRows(),s=n.numRows(),o=t.data(),a=n.data();if(t.isFiltered()||n.isFiltered()){const u=t.indices(!1),l=n.indices(!1);for(let c=0;c<i;++c){const f=u[c];for(let d=0;d<s;++d)if(r(f,o,l[d],a)){e.set(f);break}}}else for(let u=0;u<i;++u)for(let l=0;l<s;++l)if(r(u,o,l,a)){e.set(u);break}}function O7(e,t,n,r){n=G6(e,t,n);const i=_n(n)?poe(e,t,...n.map(Gs)):Qs({on:n},{join:[e,t]}).exprs[0];return lXe(e,t,i,r)}function dXe(e,t,[n,r],{names:i,exprs:s,ops:o}){const a=Ro(e),u=e.totalRows();i.forEach(d=>a.add(d,Array(u).fill(hn)));const l=hoe(t,r),c=pg(["lr","rr","data"],"{"+Ev(i,(d,h)=>`_[${h}][lr] = $[${h}](rr, data);`)+"}",i.map(d=>a.data[d]),Eh(t,o,s)),f=t.data();return e.scan((d,h)=>{const p=l.get(n(d,h));p>=0&&c(d,p,f)}),e.create(a)}function hXe(e,t,n,r){return n=G6(e,t,n),dXe(e,t,[_S("lookup",e,n[0]),_S("lookup",t,n[1])],Fa("lookup",t,r))}const cN=(e,t)=>e??t;function pXe(e,t,n,r={}){const{keys:i,keyColumn:s}=mXe(e,t,r),o=cN(r.valueSeparator,"_"),a=n.names.length>1?(l,c)=>c+o+i[l]:l=>i[l],u=i.map(l=>mg(e,n.ops.map(c=>{if(c.name==="count"){const d=h=>l===s[h]?1:NaN;return d.toString=()=>l+":1",{...c,name:"sum",fields:[d]}}const f=c.fields.map(d=>{const h=(p,g)=>l===s[p]?d(p,g):NaN;return h.toString=()=>l+":"+d,h});return{...c,fields:f}})));return e.create(gXe(n,a,e.groups(),u))}function mXe(e,t,n){const r=n.limit>0?+n.limit:1/0,i=cN(n.sort,!0),s=cN(n.keySeparator,"_"),o=Eh(e,t.ops,t.exprs),a=o.length===1?o[0]:(f,d)=>o.map(h=>h(f,d)).join(s),u=Array(e.totalRows());e.scan((f,d)=>u[f]=a(f,d));const l=mg(e.ungroup(),[{id:0,name:"array_agg_distinct",fields:[f=>u[f]],params:[]}])[0][0],c=i?l.sort():l;return{keys:Number.isFinite(r)?c.slice(0,r):c,keyColumn:u}}function gXe({names:e,exprs:t},n,r,i){const s=r?r.size:1,o=Ro(),a=i.length,u=e.length;let l;const c=(f,d)=>l[f][d];r&&loe(o,r);for(let f=0;f<u;++f){const d=t[f];if(d.field!=null)for(let h=0;h<a;++h)o.add(n(h,e[f]),i[h][d.field]);else if(s>1)for(let h=0;h<a;++h){l=i[h];const p=o.add(n(h,e[f]),Array(s));for(let g=0;g<s;++g)p[g]=d(g,null,c)}else for(let h=0;h<a;++h)l=i[h],o.add(n(h,e[f]),[d(0,null,c)])}return o.new()}function yXe(e,t,n,r){return pXe(e,Fa("fold",e,t),Fa("fold",e,n,{preparse:_Xe,aggronly:!0}),r)}function _Xe(e){e.forEach((t,n)=>t.field?e.set(n,$ne(t+"")):0)}function vXe(e,t){const n=new Map;return e.columnNames(r=>(n.set(r,r),0)),z6(e,ql(e,t,n))}function P7(e,t){return Y6(e,Qs(t,{table:e,aggronly:!0,window:!1}))}function bXe(e,t,n,r){return(t?r?EXe:wXe:r?SXe:TXe)(e.length,e,n,r)}function wXe(e,t,n){const r=n.length;for(let i=0;i<e;++i)t[i]=n[r*og()|0];return t}function EXe(e,t,n,r){const i=n.length,s=new Float64Array(i);let o=0;for(let u=0;u<i;++u)s[u]=o+=r(n[u]);const a=coe(H6).right;for(let u=0;u<e;++u)t[u]=n[a(s,o*og())];return t}function TXe(e,t,n){const r=n.length;if(e>=r)return n;for(let i=0;i<e;++i)t[i]=n[i];for(let i=e;i<r;++i){const s=i*og();s<e&&(t[s|0]=n[i])}return t}function SXe(e,t,n,r){const i=n.length;if(e>=i)return n;const s=new Float32Array(i),o=new Uint32Array(i);for(let a=0;a<i;++a)o[a]=a,s[a]=-Math.log(og())/r(n[a]);o.sort((a,u)=>s[a]-s[u]);for(let a=0;a<e;++a)t[a]=n[o[a]];return t}function xXe(e,t=0,n=e.length){let r=n-(t=+t);for(;r;){const i=og()*r--|0,s=e[r+t];e[r+t]=e[i+t],e[i+t]=s}return e}function IXe(e,t,n,r={}){const{replace:i,shuffle:s}=r,o=e.partitions(!1);let a=0;t=o.map((c,f)=>{let d=t(f);return a+=d=i?d:Math.min(c.length,d),d});const u=new Uint32Array(a);let l=0;return o.forEach((c,f)=>{const d=t[f],h=u.subarray(l,l+=d);!i&&d===c.length?h.set(c):bXe(h,i,c,n)}),s!==!1&&(o.length>1||!i)&&xXe(u),e.reify(u)}function AXe(e,t,n={}){return IXe(e,CXe(e,t),OXe(e,n.weight),n)}const moe=e=>t=>e.get(t)||0;function CXe(e,t){return ms(t)?()=>t:moe(Y6(e,Qs({size:t},{table:e,window:!1})).column("size"))}function OXe(e,t){return t==null?null:(t=ms(t)?e.columnName(t):t,moe(Mi(t)?e.column(t):q6(e,Qs({w:t},{table:e}),{drop:!0}).column("w")))}function PXe(e,t){return z6(e,ql(e,t))}function RXe(e,{names:t,exprs:n,ops:r=[]},i={}){if(t.length===0)return e;const s=t.length===1&&i.as||[],o=i.drop==null?!0:!!i.drop,a=i.limit==null?s.length||1/0:Math.max(1,+i.limit||1),u=Eh(e,r,n),l=Ro(),c=t.reduce((d,h,p)=>d.set(h,p),new Map),f=(d,h)=>{const p=NXe(e,u[d],a),g=p.length;for(let y=0;y<g;++y)l.add(s[y]||`${h}_${y+1}`,p[y])};return e.columnNames().forEach(d=>{c.has(d)?(o||l.add(d,e.column(d)),f(c.get(d),d),c.delete(d)):l.add(d,e.column(d))}),c.forEach(f),e.create(l)}function NXe(e,t,n){const r=e.totalRows(),i=[];return e.scan((s,o)=>{const a=Gs(t(s,o)),u=Math.min(a.length,n);for(;i.length<u;)i.push(Array(r).fill(hn));for(let l=0;l<u;++l)i[l][s]=a[l]}),i}function kXe(e,t,n){return RXe(e,Fa("spread",e,t),n)}function DXe(e,t){return e.concat(t).dedupe()}function $Xe(e,t,n){return doe(e,Fa("unroll",e,t),n&&n.drop?{...n,drop:Fa("unroll",e,n.drop).names}:n)}function LXe(e,t){return e.create({groups:MXe(e,t)})}function MXe(e,{names:t=[],exprs:n=[],ops:r=[]}){const i=t.length;if(i===0)return null;if(i===1&&!e.isFiltered()&&n[0].field){const h=e.column(n[0].field);if(h.groups)return h.groups(t)}let s=Eh(e,r,n);const o=QT(s),a=e.totalRows(),u=new Uint32Array(a),l={},c=[],f=e.data(),d=e.mask();if(d)for(let h=d.next(0);h>=0;h=d.next(h+1)){const p=o(h,f)+"",g=l[p];u[h]=g??(l[p]=c.push(h)-1)}else for(let h=0;h<a;++h){const p=o(h,f)+"",g=l[p];u[h]=g??(l[p]=c.push(h)-1)}return r.length||(s=s.map(h=>p=>h(p,f))),{keys:u,get:s,names:t,rows:c,size:c.length}}function FXe(e,t){return LXe(e,Fa("groupby",e,t))}function BXe(e,t){return e.create({order:t})}const jXe=(e,t,n,r)=>`((u = ${e}) < (v = ${t}) || u == null) && v != null ? ${n}
    : (u > v || v == null) && u != null ? ${r}
    : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${n}
    : v !== v && u === u ? ${r} : `;function UXe(e,t){const n=[],r=[],i=[];let s=null,o="0",a="0";e.isGrouped()&&(s=e.groups().keys,o="ka",a="kb");const{ops:u}=Qs(t,{table:e,value:(h,p)=>{if(n.push(h),p.escape){const g=y=>`fn[${i.length}](${y}, data)`;r.push([g("a"),g("b")]),i.push(p.escape)}else r.push([KT(p,{index:"a",op:o}),KT(p,{index:"b",op:a})])},window:!1}),l=mg(e,u),c=(h,p)=>l[h][p],f=n.length;let d="return (a, b) => {"+(c&&e.isGrouped()?"const ka = keys[a], kb = keys[b];":"")+"let u, v; return ";for(let h=0;h<f;++h){const p=t.get(n[h]).desc?-1:1,[g,y]=r[h];d+=jXe(g,y,-p,p)}return d+="0;};",Function("op","keys","fn","data",d)(c,s,i,e.data())}function VXe(e,t){return BXe(e,zXe(e,t))}function zXe(e,t){let n=-1;const r=new Map,i=s=>r.set(++n+"",s);return t.forEach(s=>{const o=s.expr!=null?s.expr:s;if(ts(o)&&!tr(o))for(const a in o)i(o[a]);else i(ms(o)?Jd(s,e.columnName(o)):Mi(o)?Jd(s):tr(o)?s:jt(`Invalid orderby field: ${s+""}`))}),UXe(e,r)}function HXe(e,t){const n=e.numRows(),r=n+t.reduce((o,a)=>o+a.numRows(),0);if(n===r)return e;const i=[e,...t],s=Ro();return e.columnNames().forEach(o=>{const a=Array(r);let u=0;i.forEach(l=>{const c=l.column(o)||{get:()=>hn};l.scan(f=>a[u++]=c.get(f))}),s.add(o,a)}),e.create(s.new())}function WXe(e,t){const n=Ro(),r=e.groups(),{get:i,names:s=[],rows:o,size:a=1}=r||{},u=new Uint32Array(a+1);s.forEach(d=>n.add(d,null));const l=r?uoe(e,t,r):[aoe(e,t)];t.outputs().map(d=>n.add(d,[]));const c=u.length-1;let f=0;for(let d=0;d<c;++d)f+=u[d+1]=t.write(l[d],n.data,u[d]);if(r){const d=e.data();s.forEach((h,p)=>{const g=n.data[h]=Array(f),y=i[p];for(let m=0,_=0;m<a;++m)g.fill(y(o[m],d),_,_+=u[m+1])})}return e.create(n.new())}function qXe(e){return e.isGrouped()?e.create({groups:null}):e}function YXe(e){return e.isOrdered()?e.create({order:null}):e}const GXe={__antijoin:(e,t,n)=>O7(e,t,n,{anti:!0}),__count:(e,t={})=>P7(e,{[t.as||"count"]:Lne()}),__cross:(e,t,n,r)=>A7(e,t,()=>!0,n,{...r,left:!0,right:!0}),__concat:HXe,__dedupe:wQe,__derive:jQe,__except:UQe,__filter:HQe,__fold:qQe,__impute:QQe,__intersect:JQe,__join:A7,__lookup:hXe,__pivot:yXe,__relocate:soe,__rename:vXe,__rollup:P7,__sample:AXe,__select:PXe,__semijoin:O7,__spread:kXe,__union:DXe,__unroll:$Xe,__groupby:FXe,__orderby:VXe,__ungroup:qXe,__unorder:YXe,__reduce:WXe};Object.assign(fl.prototype,GXe);function KXe(e,t){return fl.from(e,t)}function KO(e){return HI(e,{escape:!0,toString(){jt("Escaped values can not be serialized.")}})}fl.prototype;function QXe(){const e=new Map;return{listen(t,n){return e.has(t)||e.set(t,[]),e.get(t).push(n),()=>{e.set(t,(e.get(t)||[]).filter(r=>r!==n))}},fire(t,n){const r=e.get(t);r&&r.forEach(i=>i(n))}}}let Y1;const XXe=new Uint8Array(16);function JXe(){if(!Y1&&(Y1=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Y1))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Y1(XXe)}const wi=[];for(let e=0;e<256;++e)wi.push((e+256).toString(16).slice(1));function ZXe(e,t=0){return(wi[e[t+0]]+wi[e[t+1]]+wi[e[t+2]]+wi[e[t+3]]+"-"+wi[e[t+4]]+wi[e[t+5]]+"-"+wi[e[t+6]]+wi[e[t+7]]+"-"+wi[e[t+8]]+wi[e[t+9]]+"-"+wi[e[t+10]]+wi[e[t+11]]+wi[e[t+12]]+wi[e[t+13]]+wi[e[t+14]]+wi[e[t+15]]).toLowerCase()}const eJe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),R7={randomUUID:eJe};function N7(e,t,n){if(R7.randomUUID&&!t&&!e)return R7.randomUUID();e=e||{};const r=e.random||(e.rng||JXe)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=r[i];return t}return ZXe(r)}let Iu=class{static get(){let t=N7();for(;this.ids.has(t);)t=N7();return this.ids.set(t,!0),t}};Iu.ids=new Map;function Au(e){return"parent"in e}function tJe(e){const{label:t=void 0,state:n,initialArtifact:r,initialMetadata:i}=e,s={annotation:[],bookmark:[]},o=Object.keys(i||{}).reduce((u,l)=>(u[l]=[],i&&i[l]&&u[l].push({type:l,id:Iu.get(),val:i[l],createdOn:Date.now()}),u),s),a=r?[{id:Iu.get(),createdOn:Date.now(),val:r}]:[];return{id:Iu.get(),label:t||"Root",event:"Root",children:[],level:0,createdOn:Date.now(),meta:o,artifacts:a,state:{type:"checkpoint",val:n}}}function nJe({parent:e,state:t,label:n,sideEffects:r={do:[],undo:[]},initialMetadata:i,initialArtifact:s,event:o}){const a={annotation:[],bookmark:[]},u=Object.keys(i||{}).reduce((c,f)=>(c[f]=[],i&&i[f]&&c[f].push({type:f,id:Iu.get(),val:i[f],createdOn:Date.now()}),c),a),l=s?[{id:Iu.get(),createdOn:Date.now(),val:s}]:[];return{id:Iu.get(),label:n,event:o,children:[],parent:e.id,createdOn:Date.now(),meta:u,artifacts:l,sideEffects:r,state:t,level:e.level+1}}function Cr(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if({}.NODE_ENV!=="production"){var i=fJe[e],s=i?typeof i=="function"?i.apply(null,n):i:"unknown error nr: "+e;throw Error("[Immer] "+s)}throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(o){return"'"+o+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Zd(e){return!!e&&!!e[To]}function Sf(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===dJe}(e)||Array.isArray(e)||!!e[fy]||!!(!((t=e.constructor)===null||t===void 0)&&t[fy])||WI(e)||qI(e))}function km(e,t,n){n===void 0&&(n=!1),xf(e)===0?(n?Object.keys:eL)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function xf(e){var t=e[To];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:WI(e)?2:qI(e)?3:0}function l_(e,t){return xf(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Qb(e,t){return xf(e)===2?e.get(t):e[t]}function goe(e,t,n){var r=xf(e);r===2?e.set(t,n):r===3?(e.delete(t),e.add(n)):e[t]=n}function rJe(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function WI(e){return lJe&&e instanceof Map}function qI(e){return cJe&&e instanceof Set}function td(e){return e.o||e.t}function K6(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=hJe(e);delete t[To];for(var n=eL(t),r=0;r<n.length;r++){var i=n[r],s=t[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function Q6(e,t){return t===void 0&&(t=!1),X6(e)||Zd(e)||!Sf(e)||(xf(e)>1&&(e.set=e.add=e.clear=e.delete=iJe),Object.freeze(e),t&&km(e,function(n,r){return Q6(r,!0)},!0)),e}function iJe(){Cr(2)}function X6(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Cu(e){var t=pN[e];return t||Cr(18,e),t}function sJe(e,t){pN[e]||(pN[e]=t)}function k7(){return{}.NODE_ENV==="production"||Dm||Cr(0),Dm}function QO(e,t){t&&(Cu("Patches"),e.u=[],e.s=[],e.v=t)}function vS(e){fN(e),e.p.forEach(oJe),e.p=null}function fN(e){e===Dm&&(Dm=e.l)}function D7(e){return Dm={p:[],l:Dm,h:e,m:!0,_:0}}function oJe(e){var t=e[To];t.i===0||t.i===1?t.j():t.O=!0}function XO(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.g||Cu("ES5").S(t,e,r),r?(n[To].P&&(vS(t),Cr(4)),Sf(e)&&(e=bS(t,e),t.l||wS(t,e)),t.u&&Cu("Patches").M(n[To].t,e,t.u,t.s)):e=bS(t,n,[]),vS(t),t.u&&t.v(t.u,t.s),e!==Z6?e:void 0}function bS(e,t,n){if(X6(t))return t;var r=t[To];if(!r)return km(t,function(s,o){return $7(e,r,t,s,o,n)},!0),t;if(r.A!==e)return t;if(!r.P)return wS(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=K6(r.k):r.o;km(r.i===3?new Set(i):i,function(s,o){return $7(e,r,i,s,o,n)}),wS(e,i,!1),n&&e.u&&Cu("Patches").R(r,n,e.u,e.s)}return r.o}function $7(e,t,n,r,i,s){if({}.NODE_ENV!=="production"&&i===n&&Cr(5),Zd(i)){var o=bS(e,i,s&&t&&t.i!==3&&!l_(t.D,r)?s.concat(r):void 0);if(goe(n,r,o),!Zd(o))return;e.m=!1}if(Sf(i)&&!X6(i)){if(!e.h.F&&e._<1)return;bS(e,i),t&&t.A.l||wS(e,i)}}function wS(e,t,n){n===void 0&&(n=!1),e.h.F&&e.m&&Q6(t,n)}function JO(e,t){var n=e[To];return(n?td(n):e)[t]}function L7(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function dN(e){e.P||(e.P=!0,e.l&&dN(e.l))}function ZO(e){e.o||(e.o=K6(e.t))}function hN(e,t,n){var r=WI(t)?Cu("MapSet").N(t,n):qI(t)?Cu("MapSet").T(t,n):e.g?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:k7(),P:!1,I:!1,D:{},l:s,t:i,k:null,o:null,j:null,C:!1},u=a,l=mN;o&&(u=[a],l=O0);var c=Proxy.revocable(u,l),f=c.revoke,d=c.proxy;return a.k=d,a.j=f,d}(t,n):Cu("ES5").J(t,n);return(n?n.A:k7()).p.push(r),r}function aJe(e){return Zd(e)||Cr(22,e),function t(n){if(!Sf(n))return n;var r,i=n[To],s=xf(n);if(i){if(!i.P&&(i.i<4||!Cu("ES5").K(i)))return i.t;i.I=!0,r=M7(n,s),i.I=!1}else r=M7(n,s);return km(r,function(o,a){i&&Qb(i.t,o)===a||goe(r,o,t(a))}),s===3?new Set(r):r}(e)}function M7(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return K6(e)}function uJe(){function e(r){if(!Sf(r))return r;if(Array.isArray(r))return r.map(e);if(WI(r))return new Map(Array.from(r.entries()).map(function(o){return[o[0],e(o[1])]}));if(qI(r))return new Set(Array.from(r).map(e));var i=Object.create(Object.getPrototypeOf(r));for(var s in r)i[s]=e(r[s]);return l_(r,fy)&&(i[fy]=r[fy]),i}function t(r){return Zd(r)?e(r):r}var n="add";sJe("Patches",{$:function(r,i){return i.forEach(function(s){for(var o=s.path,a=s.op,u=r,l=0;l<o.length-1;l++){var c=xf(u),f=""+o[l];c!==0&&c!==1||f!=="__proto__"&&f!=="constructor"||Cr(24),typeof u=="function"&&f==="prototype"&&Cr(24),typeof(u=Qb(u,f))!="object"&&Cr(15,o.join("/"))}var d=xf(u),h=e(s.value),p=o[o.length-1];switch(a){case"replace":switch(d){case 2:return u.set(p,h);case 3:Cr(16);default:return u[p]=h}case n:switch(d){case 1:return p==="-"?u.push(h):u.splice(p,0,h);case 2:return u.set(p,h);case 3:return u.add(h);default:return u[p]=h}case"remove":switch(d){case 1:return u.splice(p,1);case 2:return u.delete(p);case 3:return u.delete(s.value);default:return delete u[p]}default:Cr(17,a)}}),r},R:function(r,i,s,o){switch(r.i){case 0:case 4:case 2:return function(a,u,l,c){var f=a.t,d=a.o;km(a.D,function(h,p){var g=Qb(f,h),y=Qb(d,h),m=p?l_(f,h)?"replace":n:"remove";if(g!==y||m!=="replace"){var _=u.concat(h);l.push(m==="remove"?{op:m,path:_}:{op:m,path:_,value:y}),c.push(m===n?{op:"remove",path:_}:m==="remove"?{op:n,path:_,value:t(g)}:{op:"replace",path:_,value:t(g)})}})}(r,i,s,o);case 5:case 1:return function(a,u,l,c){var f=a.t,d=a.D,h=a.o;if(h.length<f.length){var p=[h,f];f=p[0],h=p[1];var g=[c,l];l=g[0],c=g[1]}for(var y=0;y<f.length;y++)if(d[y]&&h[y]!==f[y]){var m=u.concat([y]);l.push({op:"replace",path:m,value:t(h[y])}),c.push({op:"replace",path:m,value:t(f[y])})}for(var _=f.length;_<h.length;_++){var v=u.concat([_]);l.push({op:n,path:v,value:t(h[_])})}f.length<h.length&&c.push({op:"replace",path:u.concat(["length"]),value:f.length})}(r,i,s,o);case 3:return function(a,u,l,c){var f=a.t,d=a.o,h=0;f.forEach(function(p){if(!d.has(p)){var g=u.concat([h]);l.push({op:"remove",path:g,value:p}),c.unshift({op:n,path:g,value:p})}h++}),h=0,d.forEach(function(p){if(!f.has(p)){var g=u.concat([h]);l.push({op:n,path:g,value:p}),c.unshift({op:"remove",path:g,value:p})}h++})}(r,i,s,o)}},M:function(r,i,s,o){s.push({op:"replace",path:[],value:i===Z6?void 0:i}),o.push({op:"replace",path:[],value:r})}})}var F7,Dm,J6=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",lJe=typeof Map<"u",cJe=typeof Set<"u",B7=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",Z6=J6?Symbol.for("immer-nothing"):((F7={})["immer-nothing"]=!0,F7),fy=J6?Symbol.for("immer-draftable"):"__$immer_draftable",To=J6?Symbol.for("immer-state"):"__$immer_state",fJe={0:"Illegal state",1:"Immer drafts cannot have computed properties",2:"This object has been frozen and should not be mutated",3:function(e){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+e},4:"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.",5:"Immer forbids circular references",6:"The first or second argument to `produce` must be a function",7:"The third argument to `produce` must be a function or undefined",8:"First argument to `createDraft` must be a plain object, an array, or an immerable object",9:"First argument to `finishDraft` must be a draft returned by `createDraft`",10:"The given draft is already finalized",11:"Object.defineProperty() cannot be used on an Immer draft",12:"Object.setPrototypeOf() cannot be used on an Immer draft",13:"Immer only supports deleting array indices",14:"Immer only supports setting array indices and the 'length' property",15:function(e){return"Cannot apply patch, path doesn't resolve: "+e},16:'Sets cannot have "replace" patches.',17:function(e){return"Unsupported patch operation: "+e},18:function(e){return"The plugin for '"+e+"' has not been loaded into Immer. To enable the plugin, import and call `enable"+e+"()` when initializing your application."},20:"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available",21:function(e){return"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '"+e+"'"},22:function(e){return"'current' expects a draft, got: "+e},23:function(e){return"'original' expects a draft, got: "+e},24:"Patching reserved attributes like __proto__, prototype and constructor is not allowed"},dJe=""+Object.prototype.constructor,eL=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,hJe=Object.getOwnPropertyDescriptors||function(e){var t={};return eL(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},pN={},mN={get:function(e,t){if(t===To)return e;var n=td(e);if(!l_(n,t))return function(i,s,o){var a,u=L7(s,o);return u?"value"in u?u.value:(a=u.get)===null||a===void 0?void 0:a.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!Sf(r)?r:r===JO(e.t,t)?(ZO(e),e.o[t]=hN(e.A.h,r,e)):r},has:function(e,t){return t in td(e)},ownKeys:function(e){return Reflect.ownKeys(td(e))},set:function(e,t,n){var r=L7(td(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=JO(td(e),t),s=i==null?void 0:i[To];if(s&&s.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(rJe(n,i)&&(n!==void 0||l_(e.t,t)))return!0;ZO(e),dN(e)}return e.o[t]===n&&typeof n!="number"&&(n!==void 0||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return JO(e.t,t)!==void 0||t in e.t?(e.D[t]=!1,ZO(e),dN(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=td(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){Cr(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Cr(12)}},O0={};km(mN,function(e,t){O0[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),O0.deleteProperty=function(e,t){return{}.NODE_ENV!=="production"&&isNaN(parseInt(t))&&Cr(13),O0.set.call(this,e,t,void 0)},O0.set=function(e,t,n){return{}.NODE_ENV!=="production"&&t!=="length"&&isNaN(parseInt(t))&&Cr(14),mN.set.call(this,e[0],t,n,e[0])};var pJe=function(){function e(n){var r=this;this.g=B7,this.F=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var u=r;return function(g){var y=this;g===void 0&&(g=a);for(var m=arguments.length,_=Array(m>1?m-1:0),v=1;v<m;v++)_[v-1]=arguments[v];return u.produce(g,function(T){var S;return(S=s).call.apply(S,[y,T].concat(_))})}}var l;if(typeof s!="function"&&Cr(6),o!==void 0&&typeof o!="function"&&Cr(7),Sf(i)){var c=D7(r),f=hN(r,i,void 0),d=!0;try{l=s(f),d=!1}finally{d?vS(c):fN(c)}return typeof Promise<"u"&&l instanceof Promise?l.then(function(g){return QO(c,o),XO(g,c)},function(g){throw vS(c),g}):(QO(c,o),XO(l,c))}if(!i||typeof i!="object"){if((l=s(i))===void 0&&(l=i),l===Z6&&(l=void 0),r.F&&Q6(l,!0),o){var h=[],p=[];Cu("Patches").M(i,l,h,p),o(h,p)}return l}Cr(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(l){for(var c=arguments.length,f=Array(c>1?c-1:0),d=1;d<c;d++)f[d-1]=arguments[d];return r.produceWithPatches(l,function(h){return i.apply(void 0,[h].concat(f))})};var o,a,u=r.produce(i,s,function(l,c){o=l,a=c});return typeof Promise<"u"&&u instanceof Promise?u.then(function(l){return[l,o,a]}):[u,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){Sf(n)||Cr(8),Zd(n)&&(n=aJe(n));var r=D7(this),i=hN(this,n,void 0);return i[To].C=!0,fN(r),i},t.finishDraft=function(n,r){var i=n&&n[To];({}).NODE_ENV!=="production"&&(i&&i.C||Cr(9),i.I&&Cr(10));var s=i.A;return QO(s,r),XO(void 0,s)},t.setAutoFreeze=function(n){this.F=n},t.setUseProxies=function(n){n&&!B7&&Cr(20),this.g=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=Cu("Patches").$;return Zd(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},e}(),So=new pJe,mJe=So.produce;So.produceWithPatches.bind(So);So.setAutoFreeze.bind(So);So.setUseProxies.bind(So);So.applyPatches.bind(So);So.createDraft.bind(So);So.finishDraft.bind(So);function gJe(e,t={}){const{artifact:n=void 0,metadata:r=void 0,rootLabel:i="Root"}=t,s=tJe({state:e,label:i,initialArtifact:n,initialMetadata:r}),o={nodes:{[s.id]:s},root:s.id,current:s.id};return NZ({name:"provenance-graph",initialState:o,reducers:{addMetadata(a,u){const{id:l,meta:c}=u.payload,f=a.nodes[l].meta,d=Object.keys(c).reduce((h,p)=>(h[p]||(h[p]=[]),h[p].push({type:p,id:Iu.get(),val:c[p],createdOn:Date.now()}),h),f);a.nodes[u.payload.id].meta=d},addArtifact(a,u){a.nodes[u.payload.id].artifacts.push({id:Iu.get(),createdOn:Date.now(),val:u.payload.artifact})},changeCurrent(a,u){a.current=u.payload},addNode(a,{payload:u}){a.nodes[u.id]=u,a.nodes[u.parent].children.push(u.id),a.current=u.id},load(a,{payload:u}){return u}}})}function yJe(e){const t=new Map,{reducer:n,actions:r,getInitialState:i}=gJe(e),s=BDe();s.startListening({matcher:JB(r.changeCurrent,r.addNode),effect:(a,u)=>{u.cancelActiveListeners(),t.forEach(l=>{const c=JB(r.addNode)(a),{skipOnNew:f}=l.config;f&&c||l.func(c?"new":"traversal")})}});const o=PZ({reducer:n,middleware:a=>a().prepend(s.middleware)});return{initialState:i(),get backend(){return o.getState()},get current(){return o.getState().nodes[o.getState().current]},get root(){return o.getState().nodes[o.getState().root]},currentChange(a,u){const l={id:Iu.get(),func:a,config:u};return t.set(l.id,l),()=>t.delete(l.id)},update:o.dispatch,...r}}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var _Je=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),vJe=Object.prototype.hasOwnProperty;function gN(e,t){return vJe.call(e,t)}function yN(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var i in e)gN(e,i)&&r.push(i);return r}function Us(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function _N(e){for(var t=0,n=e.length,r;t<n;){if(r=e.charCodeAt(t),r>=48&&r<=57){t++;continue}return!1}return!0}function nd(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function yoe(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function vN(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(vN(e[t]))return!0}else if(typeof e=="object"){for(var r=yN(e),i=r.length,s=0;s<i;s++)if(vN(e[r[s]]))return!0}}return!1}function j7(e,t){var n=[e];for(var r in t){var i=typeof t[r]=="object"?JSON.stringify(t[r],null,2):t[r];typeof i<"u"&&n.push(r+": "+i)}return n.join(`
`)}var _oe=function(e){_Je(t,e);function t(n,r,i,s,o){var a=this.constructor,u=e.call(this,j7(n,{name:r,index:i,operation:s,tree:o}))||this;return u.name=r,u.index=i,u.operation=s,u.tree=o,Object.setPrototypeOf(u,a.prototype),u.message=j7(n,{name:r,index:i,operation:s,tree:o}),u}return t}(Error),Sr=_oe,bJe=Us,_p={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=ES(n,this.path);r&&(r=Us(r));var i=Dd(n,{op:"remove",path:this.from}).removed;return Dd(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=ES(n,this.from);return Dd(n,{op:"add",path:this.path,value:Us(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:c_(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},wJe={add:function(e,t,n){return _N(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var r=e.splice(t,1);return{newDocument:n,removed:r[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:_p.move,copy:_p.copy,test:_p.test,_get:_p._get};function ES(e,t){if(t=="")return e;var n={op:"_get",path:t};return Dd(e,n),n.value}function Dd(e,t,n,r,i,s){if(n===void 0&&(n=!1),r===void 0&&(r=!0),i===void 0&&(i=!0),s===void 0&&(s=0),n&&(typeof n=="function"?n(t,0,e,t.path):TS(t,0)),t.path===""){var o={newDocument:e};if(t.op==="add")return o.newDocument=t.value,o;if(t.op==="replace")return o.newDocument=t.value,o.removed=e,o;if(t.op==="move"||t.op==="copy")return o.newDocument=ES(e,t.from),t.op==="move"&&(o.removed=e),o;if(t.op==="test"){if(o.test=c_(e,t.value),o.test===!1)throw new Sr("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o.newDocument=e,o}else{if(t.op==="remove")return o.removed=e,o.newDocument=null,o;if(t.op==="_get")return t.value=e,o;if(n)throw new Sr("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",s,t,e);return o}}else{r||(e=Us(e));var a=t.path||"",u=a.split("/"),l=e,c=1,f=u.length,d=void 0,h=void 0,p=void 0;for(typeof n=="function"?p=n:p=TS;;){if(h=u[c],h&&h.indexOf("~")!=-1&&(h=yoe(h)),i&&(h=="__proto__"||h=="prototype"&&c>0&&u[c-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&d===void 0&&(l[h]===void 0?d=u.slice(0,c).join("/"):c==f-1&&(d=t.path),d!==void 0&&p(t,0,e,d)),c++,Array.isArray(l)){if(h==="-")h=l.length;else{if(n&&!_N(h))throw new Sr("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",s,t,e);_N(h)&&(h=~~h)}if(c>=f){if(n&&t.op==="add"&&h>l.length)throw new Sr("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",s,t,e);var o=wJe[t.op].call(t,l,h,e);if(o.test===!1)throw new Sr("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o}}else if(c>=f){var o=_p[t.op].call(t,l,h,e);if(o.test===!1)throw new Sr("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o}if(l=l[h],n&&c<f&&(!l||typeof l!="object"))throw new Sr("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",s,t,e)}}}function YI(e,t,n,r,i){if(r===void 0&&(r=!0),i===void 0&&(i=!0),n&&!Array.isArray(t))throw new Sr("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=Us(e));for(var s=new Array(t.length),o=0,a=t.length;o<a;o++)s[o]=Dd(e,t[o],n,!0,i,o),e=s[o].newDocument;return s.newDocument=e,s}function EJe(e,t,n){var r=Dd(e,t);if(r.test===!1)throw new Sr("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function TS(e,t,n,r){if(typeof e!="object"||e===null||Array.isArray(e))throw new Sr("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(_p[e.op]){if(typeof e.path!="string")throw new Sr("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new Sr('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new Sr("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new Sr("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&vN(e.value))throw new Sr("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var i=e.path.split("/").length,s=r.split("/").length;if(i!==s+1&&i!==s)throw new Sr("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==r)throw new Sr("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var o={op:"_get",path:e.from,value:void 0},a=voe([o],n);if(a&&a.name==="OPERATION_PATH_UNRESOLVABLE")throw new Sr("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new Sr("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function voe(e,t,n){try{if(!Array.isArray(e))throw new Sr("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)YI(Us(t),Us(e),n||!0);else{n=n||TS;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(i){if(i instanceof Sr)return i;throw i}}function c_(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),r=Array.isArray(t),i,s,o;if(n&&r){if(s=e.length,s!=t.length)return!1;for(i=s;i--!==0;)if(!c_(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var a=Object.keys(e);if(s=a.length,s!==Object.keys(t).length)return!1;for(i=s;i--!==0;)if(!t.hasOwnProperty(a[i]))return!1;for(i=s;i--!==0;)if(o=a[i],!c_(e[o],t[o]))return!1;return!0}return e!==e&&t!==t}const TJe=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:Sr,_areEquals:c_,applyOperation:Dd,applyPatch:YI,applyReducer:EJe,deepClone:bJe,getValueByPointer:ES,validate:voe,validator:TS},Symbol.toStringTag,{value:"Module"}));/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var tL=new WeakMap,SJe=function(){function e(t){this.observers=new Map,this.obj=t}return e}(),xJe=function(){function e(t,n){this.callback=t,this.observer=n}return e}();function IJe(e){return tL.get(e)}function AJe(e,t){return e.observers.get(t)}function CJe(e,t){e.observers.delete(t.callback)}function OJe(e,t){t.unobserve()}function PJe(e,t){var n=[],r,i=IJe(e);if(!i)i=new SJe(e),tL.set(e,i);else{var s=AJe(i,t);r=s&&s.observer}if(r)return r;if(r={},i.value=Us(e),t){r.callback=t,r.next=null;var o=function(){bN(r)},a=function(){clearTimeout(r.next),r.next=setTimeout(o)};typeof window<"u"&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return r.patches=n,r.object=e,r.unobserve=function(){bN(r),clearTimeout(r.next),CJe(i,r),typeof window<"u"&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},i.observers.set(t,new xJe(t,r)),r}function bN(e,t){t===void 0&&(t=!1);var n=tL.get(e.object);nL(n.value,e.object,e.patches,"",t),e.patches.length&&YI(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function nL(e,t,n,r,i){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var s=yN(t),o=yN(e),a=!1,u=o.length-1;u>=0;u--){var l=o[u],c=e[l];if(gN(t,l)&&!(t[l]===void 0&&c!==void 0&&Array.isArray(t)===!1)){var f=t[l];typeof c=="object"&&c!=null&&typeof f=="object"&&f!=null&&Array.isArray(c)===Array.isArray(f)?nL(c,f,n,r+"/"+nd(l),i):c!==f&&(i&&n.push({op:"test",path:r+"/"+nd(l),value:Us(c)}),n.push({op:"replace",path:r+"/"+nd(l),value:Us(f)}))}else Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+nd(l),value:Us(c)}),n.push({op:"remove",path:r+"/"+nd(l)}),a=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}))}if(!(!a&&s.length==o.length))for(var u=0;u<s.length;u++){var l=s[u];!gN(e,l)&&t[l]!==void 0&&n.push({op:"add",path:r+"/"+nd(l),value:Us(t[l])})}}}function boe(e,t,n){n===void 0&&(n=!1);var r=[];return nL(e,t,r,"",n),r}const RJe=Object.freeze(Object.defineProperty({__proto__:null,compare:boe,generate:bN,observe:PJe,unobserve:OJe},Symbol.toStringTag,{value:"Module"}));Object.assign({},TJe,RJe,{JsonPatchError:_oe,deepClone:Us,escapePathComponent:nd,unescapePathComponent:yoe});var P0=(e=>(e.TRAVERSAL_START="Traversal_Start",e.TRAVERSAL_END="Traversal_End",e))(P0||{});function Xb(e,t){const n=e.state;if(n.type==="checkpoint")return n.val;const{checkpointRef:r}=n,i=t[r],s=Eoe(i,e,t);s.shift();const o=s.map(u=>t[u]).map(u=>u.state.val).reduce((u,l)=>[...u,...l],[]),a=Xb(i,t);return YI(a,Us(o),!0,!1).newDocument}function NJe(e,t){const n=Object.keys(e).length;return new Set(t.map(r=>r.path.split("/")[0])).size<n/2?"patch":"checkpoint"}function woe({registry:e,initialState:t}){let n=!1;const r=QXe(),i=yJe(t);function s(c){return i.backend.nodes[c]}r.listen(P0.TRAVERSAL_START,()=>{n=!0}),r.listen(P0.TRAVERSAL_END,()=>{n=!1});const o={add(c,f=i.current.id){i.update(i.addMetadata({id:f,meta:c}))},latestOfType(c,f=i.current.id){var d;return(d=i.backend.nodes[f].meta[c])==null?void 0:d.at(-1)},allOfType(c,f=i.current.id){return i.backend.nodes[f].meta[c]},latest(c=i.current.id){const f=i.backend.nodes[c].meta,d=Object.keys(f).reduce((h,p)=>{const g=f[p].at(-1);return g&&(h[p]=g),h},{});return Object.keys(d).length>0?d:void 0},all(c=i.current.id){return i.backend.nodes[c].meta},types(c=i.current.id){return Object.keys(i.backend.nodes[c].meta)}},a={add(c,f=i.current.id){i.update(i.addArtifact({id:f,artifact:c}))},latest(c=i.current.id){return i.backend.nodes[c].artifacts.at(-1)},all(c=i.current.id){return i.backend.nodes[c].artifacts}},u={add(c,f=i.current.id){o.add({annotation:c},f)},latest(c=i.current.id){var f;return(f=o.latestOfType("annotation",c))==null?void 0:f.val},all(c=i.current.id){var f;return(f=o.allOfType("annotation",c))==null?void 0:f.map(d=>d.val)}},l={add(c=i.current.id){o.add({bookmark:!0},c)},remove(c=i.current.id){o.add({bookmark:!1},c)},is(c=i.current.id){var f;return!!((f=o.latestOfType("bookmark",c))!=null&&f.val)},toggle(c=i.current.id){l.is(c)?l.remove(c):l.add(c)}};return{registry:e,get isTraversing(){return n},getState(c=i.current){return Xb(c,i.backend.nodes)},graph:i,get current(){return i.current},get root(){return i.root},record({label:c,state:f,sideEffects:d,eventType:h,onlySideEffects:p=!1}){let g=null,y=null;const m=Xb(this.current,this.graph.backend.nodes);if(p)y={type:"checkpoint",val:f};else{const _=boe(m,f);if(NJe(f,_)==="checkpoint")y={type:"checkpoint",val:f};else{const v=this.current.state.type==="checkpoint"?this.current.id:this.current.state.checkpointRef;y={type:"patch",val:_,checkpointRef:v}}}if(!y)throw new Error(`Could not calculate new state. Previous state is: ${JSON.stringify(this.current.state,null,2)}`);if(g=nJe({label:c,state:y,parent:this.current,sideEffects:d,event:h}),!g)throw new Error("State Node creation failed!");i.update(i.addNode(g))},async apply(c,f){const d=e.get(f.type),h=Xb(this.current,this.graph.backend.nodes);if(d.config.hasSideEffects){const{do:p=f,undo:g}=d.func(f.payload);this.record({label:c,state:h,sideEffects:{do:[p],undo:[g]},eventType:d.config.eventType})}else{const p=d.func(h,f.payload);this.record({label:c,state:p,sideEffects:{do:[],undo:[]},eventType:d.config.eventType})}},async to(c){r.fire(P0.TRAVERSAL_START);const f=Eoe(i.current,i.backend.nodes[c],i.backend.nodes),d=[];for(let h=0;h<f.length-1;++h){const p=s(f[h]),g=s(f[h+1]);DJe(p,g)?Au(p)&&d.push(...p.sideEffects.undo):Au(g)&&d.push(...g.sideEffects.do)}for(const h of d){const p=e.get(h.type).func;await p(h.payload)}i.update(i.changeCurrent(c)),r.fire(P0.TRAVERSAL_END)},undo(){const{current:c}=i;return Au(c)?this.to(c.parent):Promise.resolve(console.warn("Already at root!"))},redo(c="latest"){const{current:f}=i;return f.children.length>0?this.to(f.children[c==="oldest"?0:f.children.length-1]):Promise.resolve(console.warn("Already at latest in this branch!"))},currentChange(c,f=!1){return i.currentChange(c,{skipOnNew:f})},done(){console.log("Setup later for URL sharing.")},tree(){return Toe(i.root,i.backend.nodes)},on(c,f){r.listen(c,f)},export(){return JSON.stringify(i.backend)},exportObject(){return JSON.parse(JSON.stringify(i.backend))},import(c){const f=JSON.parse(c),d=f.current;f.current=f.root,i.update(i.load(f)),this.to(d)},importObject(c){const f=c.current;c.current=c.root,i.update(i.load(c)),this.to(f)},metadata:o,artifact:a,annotations:u,bookmarks:l}}function kJe(e,t,n){let[r,i]=[e,t];r.level>i.level&&([r,i]=[i,r]);let s=i.level-r.level;for(;Au(i)&&s!==0;)i=n[i.parent],s-=1;if(r.id===i.id)return r.id;for(;r.id!==i.id;)Au(r)&&(r=n[r.parent]),Au(i)&&(i=n[i.parent]);return r.id}function Eoe(e,t,n){const r=kJe(e,t,n),i=n[r],s=[],o=[];let[a,u]=[e,t];for(;a.id!==i.id;)s.push(a),Au(a)&&(a=n[a.parent]);for(s.push(a);u.id!==i.id;)o.push(u),Au(u)&&(u=n[u.parent]);const l=o.reverse();return[...s,...l].map(c=>c.id)}function DJe(e,t){if(Au(e)&&e.parent===t.id)return!0;if(Au(t)&&t.parent===e.id)return!1;throw new Error("Incorrect use of function. Nodes are not connected to each other.")}function Toe(e,t){return{...e,children:e.children.map(n=>Toe(t[n],t)),name:`${e.label}`}}uJe();function $Je(e){return e.length===2?mJe(e):e}class GI{static create(){return new GI}constructor(){this.registry=new Map}has(t){return this.registry.has(t)}register(t,n,r){const i=n.length===2;if(n.length>2)throw new Error("Incorrect action function signature. Action function can only have two arguments at most!");if(this.has(t))throw new Error(`Already registered: ${t}`);const{label:s=t,eventType:o=t}=r||{};return this.registry.set(t,{func:$Je(n),config:{hasSideEffects:!i,label:typeof s=="string"?()=>s:s,eventType:o}}),Su(t)}get(t){const n=this.registry.get(t);if(!n)throw new Error(`Not registered: ${t}`);return n}}function U7({parameters:e,setAnswer:t}){const[n,r]=E.useState(null),[i,s]=E.useState({hasBrush:!1,x1:0,y1:0,x2:0,y2:0,ids:[]}),[o,a]=E.useState(null);E.useEffect(()=>{une(`./data/${e.dataset}.csv`).then(y=>{a(y)})},[e]);const u=E.useMemo(()=>o?KXe(o):null,[o]),{actions:l,trrack:c}=E.useMemo(()=>{const y=GI.create(),m=y.register("brush",(w,x)=>(w={all:{...x}},w)),_=y.register("brushMove",(w,x)=>(w={all:{...x}},w)),v=y.register("brushResize",(w,x)=>(w={all:{...x}},w)),T=y.register("brushClear",(w,x)=>(w={all:{...x}},w)),S=woe({registry:y,initialState:{all:{hasBrush:!1,x1:null,x2:null,y1:null,y2:null,ids:[]}}});return{actions:{brush:m,brushMove:_,brushResize:v,clearBrush:T},trrack:S}},[]),f=E.useCallback((y,m)=>{y==="drag"?c.apply("Move Brush",l.brushMove(m)):y==="handle"&&c.apply("Brush",l.brush(m))},[l,c]),d=E.useMemo(()=>Ya(f,100,{maxWait:100}),[f]),h=E.useCallback((y,m,_,v,T)=>{if(!m||!_)return;const S=m.invert(y[0][0]||i.x1),w=m.invert(y[1][0]||i.x2),x=_.invert(y[1][1]||i.y2),A=_.invert(y[0][1]||i.y1);let $=null;if(v==="clear")$=u;else if(T){const P=new Set(T);$=u.filter(KO(q=>P.has(q[e.ids])))}else e.brushType==="Axis Selection"?$=u.filter(KO(P=>new Date(P[e.x])>=new Date(S)&&new Date(P[e.x])<=new Date(w)&&P[e.y]>=x&&P[e.y]<=A)):$=u.filter(KO(P=>P[e.x]>=S&&P[e.x]<=w&&P[e.y]>=x&&P[e.y]<=A));const D={x1:y[0][0]||(i==null?void 0:i.x1)||0,x2:y[1][0]||(i==null?void 0:i.x2)||0,y1:y[0][1]||(i==null?void 0:i.y1)||0,y2:y[1][1]||(i==null?void 0:i.y2)||0,hasBrush:v!=="clear",ids:v!=="clear"?$==null?void 0:$.array("id"):[]};s(D),v==="drag"||v==="handle"?d(v,D):v==="clear"&&c.apply("Clear Brush",l.clearBrush(D)),r($),t({status:!0,provenanceGraph:c.graph.backend,answers:{}})},[i,u,e,c,t,d,l]),p=E.useMemo(()=>n?n.groupby(e.category).count():u?u.groupby(e.category).count():null,[n,u,e.category]),g=E.useCallback(y=>{r(y)},[]);return o?O.jsxs(Bs,{spacing:"xs",children:[O.jsx(UR,{brushedPoints:i==null?void 0:i.ids,data:o,params:e,brushType:e.brushType,setBrushedSpace:h,brushState:i,setFilteredTable:g}),O.jsx(jR,{data:o,parameters:e,barsTable:p})]}):O.jsx($f,{})}const LJe=Object.freeze(Object.defineProperty({__proto__:null,BrushPlot:U7,default:U7},Symbol.toStringTag,{value:"Module"})),gg=e=>{const t=E.useRef(null),n=V7(e),[r,i]=E.useState(0),[s,o]=E.useState(0);E.useEffect(()=>{const u=t.current;if(u){const l=new ResizeObserver(c=>{if(!Array.isArray(c)||!c.length)return;const f=c[0];r!==f.contentRect.width&&i(f.contentRect.width),s!==f.contentRect.height&&o(f.contentRect.height)});return l.observe(u),()=>l.unobserve(u)}},[s,r]);const a=V7({...n,width:n.width||r,height:n.height||s});return[t,a]},V7=e=>{const t={...e,marginTop:e.marginTop||10,marginRight:e.marginRight||10,marginBottom:e.marginBottom||40,marginLeft:e.marginLeft||75};return{...t,boundedHeight:t.height?Math.max(t.height-t.marginTop-t.marginBottom,0):0,boundedWidth:t.width?Math.max(t.width-t.marginLeft-t.marginRight,0):0}},MJe=Object.freeze(Object.defineProperty({__proto__:null,useChartDimensions:gg},Symbol.toStringTag,{value:"Module"})),Soe=({data:e,xScale:t,yScale:n,height:r})=>O.jsx("g",{children:e.map((i,s)=>O.jsx("rect",{x:t(i.name),y:n(i.value),width:t.bandwidth(),height:r-n(i.value),fill:"transparent",stroke:"currentColor"},s))}),FJe=Object.freeze(Object.defineProperty({__proto__:null,Bars:Soe},Symbol.toStringTag,{value:"Module"})),rL=({domain:e=[0,100],range:t=[10,100],withTick:n=!0,tickLen:r=5,tickFilter:i=s=>s})=>{const s=E.useMemo(()=>{const o=jl().domain(e).range(t),a=t[1]-t[0],l=Math.max(1,Math.floor(a/30));return i(o.ticks(l).map(c=>({value:c,xOffset:o(c)})))},[e,t,i]);return O.jsxs("g",{children:[O.jsx("path",{d:["M",0,t[0],"h",r,"V",t[1],"h",-r].join(" "),fill:"none",stroke:"currentColor"}),n&&s.map(({value:o,xOffset:a})=>O.jsxs("g",{transform:`translate(0,${a})`,children:[O.jsx("line",{x2:`${r}`,stroke:"currentColor"}),O.jsx("text",{style:{fontSize:"10px",textAnchor:"middle",transform:"translateX(-10px)"},children:o},o)]},o))]})},BJe=Object.freeze(Object.defineProperty({__proto__:null,NumericAxisV:rL},Symbol.toStringTag,{value:"Module"})),xoe=({domain:e=["A","B","C","D","E"],range:t=[10,100],withTick:n=!0,tickLen:r=5,tickFilter:i=s=>s})=>{const s=E.useMemo(()=>{const o=fv().domain(e).range(t).padding(.2);return i(e.map(a=>({value:a,xOffset:(o(a)||0)+o.bandwidth()/2-5})))},[e,t,i]);return O.jsxs("g",{children:[O.jsx("path",{d:["M",t[0],r,"v",-r,"H",t[1],"v",r].join(" "),fill:"none",stroke:"currentColor"}),n&&s.map(({value:o,xOffset:a})=>O.jsx("g",{transform:`translate(${a}, 10)`,children:O.jsx("circle",{r:2,cx:0,cy:0,children:o},o)},o))]})},jJe=Object.freeze(Object.defineProperty({__proto__:null,OrdinalAxisHWithDotMarks:xoe},Symbol.toStringTag,{value:"Module"})),UJe={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,width:400,height:400},VJe=({parameters:e})=>{const[n,r]=gg(UJe),i=fv().domain(e.data.map(u=>u.name)).range([0,r.boundedWidth]).padding(.2),s=jl().domain([100,0]).range([0,r.boundedHeight]),o=u=>u.filter((l,c)=>c===0||c===u.length-1),a=u=>u.filter((l,c)=>e.selectedIndices.includes(c));return O.jsx("div",{className:"Chart__wrapper",ref:n,style:{height:400},children:O.jsx("svg",{width:r.width,height:r.height,children:O.jsxs("g",{transform:`translate(${[r.marginLeft,r.marginTop].join(",")})`,children:[O.jsx("g",{transform:`translate(${[6,r.boundedHeight].join(",")})`,children:O.jsx(xoe,{domain:i.domain(),range:i.range(),withTick:!0,tickLen:0,tickFilter:a})}),O.jsx("g",{transform:`translate(${[0,0].join(",")})`,children:O.jsx(rL,{domain:s.domain(),range:s.range(),withTick:!0,tickLen:6,tickFilter:o})}),O.jsx("g",{transform:`translate(${[0,0].join(",")})`,children:O.jsx(Soe,{data:e.data,xScale:i,yScale:s,height:r.boundedHeight})})]})})})},zJe=Object.freeze(Object.defineProperty({__proto__:null,default:VJe},Symbol.toStringTag,{value:"Module"})),Ioe=({data:e})=>O.jsx("g",{children:e.map(({bubble:t},n)=>O.jsx("circle",{cx:t.x,cy:t.y,r:t.r,fill:"transparent",stroke:"currentColor"},n))}),HJe=Object.freeze(Object.defineProperty({__proto__:null,Bubbles:Ioe},Symbol.toStringTag,{value:"Module"})),iL=({positions:e})=>O.jsx("g",{children:e.map((t,n)=>O.jsx("circle",{cx:t.x,cy:t.y,r:2,fill:"black",stroke:"currentColor"},n))}),WJe=Object.freeze(Object.defineProperty({__proto__:null,DotMarks:iL},Symbol.toStringTag,{value:"Module"})),qJe={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,height:400,width:400},YJe=({data:e},t=100,n=100)=>{const i={children:e.map(a=>+a.value).map(a=>({value:a}))},s=XVe().size([t-10,n-10]).padding(1.5),o=_3(i).sum(a=>a.value);return s(o).descendants().filter(a=>!a.children).map((a,u)=>({bubble:a,data:e[u]}))},GJe=(e,t)=>e.filter((n,r)=>t.includes(r)).map(({bubble:n})=>({x:n.x,y:n.y})),KJe=({parameters:e})=>{const[t,n]=gg(qJe),r=YJe(e,n.width,n.height),i=GJe(r,e.selectedIndices);return O.jsx("div",{className:"Chart__wrapper",ref:t,style:{height:"400px"},children:O.jsx("svg",{width:n.width,height:n.height,children:O.jsxs("g",{transform:`translate(${[n.marginLeft/2,n.marginTop/2].join(",")})`,children:[O.jsx(Ioe,{data:r}),O.jsx(iL,{positions:i})]})})})},QJe=Object.freeze(Object.defineProperty({__proto__:null,default:KJe},Symbol.toStringTag,{value:"Module"})),Aoe=({arcs:e})=>O.jsx("g",{children:e.map((t,n)=>O.jsx("path",{d:t(),fill:"transparent",stroke:"currentColor"},n))}),XJe=Object.freeze(Object.defineProperty({__proto__:null,Slices:Aoe},Symbol.toStringTag,{value:"Module"})),Coe=({positions:e})=>O.jsx("g",{children:e.map((t,n)=>O.jsx("g",{transform:`translate(${t.centroid()})`,children:O.jsx("circle",{r:2,cx:0,cy:0},n)},n))}),JJe=Object.freeze(Object.defineProperty({__proto__:null,SlicesDotMarks:Coe},Symbol.toStringTag,{value:"Module"})),ZJe={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,height:400,width:500},eZe=Bze().value(e=>e.value),o0=150,tZe=({parameters:e})=>{const[t,n]=gg(ZJe),r=eZe(e.data),i=r.map(o=>OV().innerRadius(0).outerRadius(o0).startAngle(o.startAngle).endAngle(o.endAngle)),s=r.map(o=>OV().outerRadius(o0+10).innerRadius(o0+10).startAngle(o.startAngle).endAngle(o.endAngle)).filter((o,a)=>e.selectedIndices.includes(a));return O.jsx("div",{className:"Chart__wrapper",ref:t,style:{height:400},children:O.jsx("svg",{width:n.width,height:n.height,children:O.jsxs("g",{transform:`translate(${[n.marginLeft+o0,n.marginTop+o0].join(",")})`,children:[O.jsx(Aoe,{arcs:i}),O.jsx(Coe,{positions:s})]})})})},nZe=Object.freeze(Object.defineProperty({__proto__:null,default:tZe},Symbol.toStringTag,{value:"Module"})),Ooe=({domain:e=[0,100],range:t=[10,100],withTick:n=!0,tickLen:r=5,tickFilter:i=s=>s})=>{const s=E.useMemo(()=>{const o=jl().domain(e).range(t),a=t[1]-t[0],l=Math.max(1,Math.floor(a/30));return i(o.ticks(l).map(c=>({value:c,xOffset:o(c)})))},[e,t,i]);return O.jsxs("g",{children:[O.jsx("path",{d:["M",t[0],r,"v",-r,"H",t[1],"v",r].join(" "),fill:"none",stroke:"currentColor"}),n&&s.map(({value:o,xOffset:a})=>O.jsxs("g",{transform:`translate(${a}, 0)`,children:[O.jsx("line",{y2:`${r}`,stroke:"currentColor"}),O.jsx("text",{style:{fontSize:"10px",textAnchor:"middle",transform:"translateY(20px)"},children:o},o)]},o))]})},rZe=Object.freeze(Object.defineProperty({__proto__:null,NumericAxisH:Ooe},Symbol.toStringTag,{value:"Module"})),Poe=({data:e,barWidth:t,yScale:n})=>O.jsx("g",{children:e.map((r,i)=>O.jsx("rect",{x:t/2,y:n(r[0][1]),width:t,height:n(r[0][0])-n(r[0][1]),fill:"transparent",stroke:"currentColor"},i))}),iZe=Object.freeze(Object.defineProperty({__proto__:null,StackedBars:Poe},Symbol.toStringTag,{value:"Module"})),sZe={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,height:400,width:400},oZe=({parameters:e})=>{const[n,r]=gg(sZe),i=fv().domain(e.data.map(h=>h.name)).range([0,r.boundedWidth]).padding(.2),s=jl().domain([100,0]).range([0,r.boundedWidth]),o=h=>h.filter((p,g)=>g===0||g===h.length-1),a=h=>h.filter((p,g)=>e.selectedIndices.includes(g)),u=h=>{const p=h.map(v=>+v.value),y=p.reduce((v,T)=>Number(v)+Number(T))/100,m={};for(let v=0;v<p.length;v++)m[String.fromCharCode(v+65)]=p[v]/y;const _=[m];return Vze().keys(e.data.map(v=>v.name))(_)},l=(h,p,g)=>h.filter((m,_)=>p.includes(_)).map(m=>({x:g,y:s(m[0][1])+.5*(s(m[0][0])-s(m[0][1]))})),c=u(e.data),f=Math.min(r.width,r.height)/2-20,d=l(c,e.selectedIndices,f);return O.jsx("div",{className:"Chart__wrapper",ref:n,style:{height:"400"},children:O.jsx("svg",{width:r.width,height:r.height,children:O.jsxs("g",{transform:`translate(${[r.marginLeft,r.marginTop].join(",")})`,children:[O.jsx("g",{transform:`translate(${[6,r.boundedHeight].join(",")})`,children:O.jsx(Ooe,{domain:i.domain(),range:i.range(),withTick:!0,tickLen:0,tickFilter:a})}),O.jsx("g",{transform:"translate(0, 0)",children:O.jsx(rL,{domain:s.domain(),range:s.range(),withTick:!0,tickLen:6,tickFilter:o})}),O.jsxs("g",{transform:"translate(0, 0)",children:[O.jsx(Poe,{data:c,barWidth:f,yScale:s}),O.jsx(iL,{positions:d})]})]})})})},aZe=Object.freeze(Object.defineProperty({__proto__:null,default:oZe},Symbol.toStringTag,{value:"Module"})),uZe={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,height:650,width:850},lZe=({parameters:e,setAnswer:t})=>{const[n,r]=gg(uZe),[i,s]=E.useState(100),[o,a]=E.useState(100),u=Po(),[l,c]=E.useState(300),f=e.taskid,{actions:d,trrack:h}=E.useMemo(()=>{const g=GI.create(),y=g.register("click",(_,v)=>(_.clickX=v.clickX,_.clickY=v.clickY,_.distance=v.distance,_)),m=woe({registry:g,initialState:{distance:0,speed:10,clickX:0,clickY:0}});return{actions:{click:y},trrack:m}},[]),p=E.useCallback(g=>{const y=Ur("#movingCircle"),m=Ur("#clickAccuracySvg"),_=xR(g,m.node()),v=[+y.attr("cx"),+y.attr("cy")],T=Math.round(Math.sqrt((_[0]-v[0])**2+(_[1]-v[1])**2))+"px";h.apply("Clicked",d.click({distance:+T,clickX:_[0],clickY:_[1]})),t({status:!0,provenanceGraph:h.graph.backend,answers:{[f]:T}})},[d,u,t,f,h]);return E.useEffect(()=>{const g=Math.random()*800,y=Math.random()*600,_=Math.sqrt((g-i)**2+(y-o)**2)/l*1e3;Ur(n.current).select("circle").transition().duration(_).ease(RUe).attr("cx",g).attr("cy",y).on("end",()=>{s(g),a(y)})},[n,l,i,o]),O.jsxs(O.Fragment,{children:[O.jsx("div",{className:"Chart__wrapper",ref:n,onClick:p,style:{height:"650px"},children:O.jsx("svg",{id:"clickAccuracySvg",width:r.width,height:r.height,children:O.jsxs("g",{transform:`translate(${[r.marginLeft/2,r.marginTop/2].join(",")})`,children:[O.jsx("rect",{width:"800",height:"600",stroke:"black",strokeWidth:"5",fill:"none"}),O.jsx("circle",{id:"movingCircle",cx:"100",cy:"100",r:"10"})]})})}),O.jsxs(ut,{children:["Adjust speed (px/s):",O.jsx(jD,{w:800,min:10,max:1e3,value:l,onChange:c})]})]})},cZe=Object.freeze(Object.defineProperty({__proto__:null,default:lZe},Symbol.toStringTag,{value:"Module"})),z7=({rankings:e})=>O.jsx("div",{style:{fontFamily:"sans-serif"},children:O.jsx("div",{children:e.map((t,n)=>O.jsx("div",{style:{textAlign:"center",marginBottom:1,padding:2,background:`${t===0?"#AEC7E8":"#FF9896"}`},children:t===0?"Group A":"Group B"},n))})}),fZe=({parameters:e,setAnswer:t})=>{const n=Po(),[r,i]=E.useState(""),{goToNextStep:s,isNextDisabled:o}=Rte(),a=E.useMemo(()=>Math.floor(Math.random()*2)===0?"r1":"r2",[]),[u]=E.useState(new URLSearchParams(window.location.search)),l=(u.get("admin")||"f")==="t",c=E.useCallback(h=>{i(h),t({status:!0,answers:{[`${n}/leftARP`]:a==="r1"?e.data.r1ARP:e.data.r2ARP,[`${n}/rightARP`]:a==="r2"?e.data.r1ARP:e.data.r2ARP,[`${n}/leftRanking`]:JSON.stringify(a=="r1"?e.data.r1:e.data.r2),[`${n}/rightRanking`]:JSON.stringify(a=="r2"?e.data.r1:e.data.r2),[`${n}/choice`]:h,[`${n}/correctChoice`]:a==="r1"&&parseFloat(e.data.r1ARP)<parseFloat(e.data.r2ARP)?"left":"right"}})},[n,a,e.data,t]),f=E.useCallback(()=>{o||s()},[o,s]);E.useEffect(()=>{const h=Vge([["ArrowLeft",()=>c("left")],["ArrowRight",()=>c("right")],["Enter",f]]);return document.body.addEventListener("keydown",h),()=>{document.body.removeEventListener("keydown",h)}},[c,f]);let d=!1;return a==="r1"?(r==="left"&&parseFloat(e.data.r1ARP)<parseFloat(e.data.r2ARP)||r==="right"&&parseFloat(e.data.r2ARP)<parseFloat(e.data.r1ARP))&&(d=!0):(r==="left"&&parseFloat(e.data.r2ARP)<parseFloat(e.data.r1ARP)||r==="right"&&parseFloat(e.data.r1ARP)<parseFloat(e.data.r2ARP))&&(d=!0),O.jsxs("div",{children:[O.jsxs(ml,{children:[O.jsxs(ml.Col,{span:2,children:[O.jsx(z7,{rankings:a==="r1"?e.data.r1:e.data.r2}),O.jsx(Xo,{fullWidth:!0,disabled:r==="left",onClick:()=>{c("left")},children:r==="left"?O.jsx(ij,{}):"Select this ranking"}),l&&r&&O.jsx("div",{children:a==="r1"?e.data.r1ARP:e.data.r2ARP})]}),O.jsxs(ml.Col,{span:2,children:[O.jsx(z7,{rankings:a==="r1"?e.data.r2:e.data.r1}),O.jsx(Xo,{fullWidth:!0,disabled:r==="right",onClick:()=>{c("right")},children:r==="right"?O.jsx(ij,{}):"Select this ranking"}),l&&r&&O.jsx("div",{children:a==="r1"?e.data.r2ARP:e.data.r1ARP})]})]}),l&&r&&O.jsx("div",{style:{padding:20,textAlign:"center",width:300},children:d?"CORRECT":"INCORRECT"})]})},dZe=Object.freeze(Object.defineProperty({__proto__:null,default:fZe},Symbol.toStringTag,{value:"Module"}));function Roe({xScale:e,yRange:t,vertPosition:n,ticks:r,isDate:i=!1,showLines:s=!0}){const o=E.useMemo(()=>r.length>1?Math.abs(r[1].offset-r[0].offset):e.range()[0]-e.range()[1],[r,e]),a=E.useCallback(u=>(i?TI("%b%e, %Y"):sg(".2s"))(u),[i]);return O.jsxs(O.Fragment,{children:[s?O.jsx("path",{transform:`translate(0, ${t[1]})`,d:["M",e.range()[0],0,"H",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}):null,r.map(({value:u,offset:l})=>O.jsxs("g",{transform:`translate(${l}, ${n})`,children:[O.jsx("line",{y2:"6",stroke:"currentColor"}),s?O.jsx("line",{y2:`${-(t[0]-t[1])}`,stroke:"lightgray"}):null,O.jsx("foreignObject",{x:0-o/2,y:10,width:o,height:20,children:O.jsx(Ml,{children:O.jsx(LD,{withinPortal:!0,label:u,children:O.jsx(mt,{px:2,size:10,style:{textAlign:"center",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},children:+u==0?0:a(i?new Date(u):u)})})})})]},u))]})}const hZe=Object.freeze(Object.defineProperty({__proto__:null,XAxis:Roe},Symbol.toStringTag,{value:"Module"}));function Noe({yScale:e,xRange:t,horizontalPosition:n}){const r=E.useMemo(()=>e.ticks(5).map(s=>({value:s,yOffset:e(s)})),[e]),i=E.useMemo(()=>sg(",.2r"),[]);return O.jsx(O.Fragment,{children:r.map(({value:s,yOffset:o})=>O.jsxs("g",{transform:`translate(${n}, ${o})`,children:[O.jsx("line",{x2:`${t[1]-t[0]}`,stroke:`${s===0?"black":"gainsboro"}`}),O.jsx("text",{style:{dominantBaseline:"middle",fontSize:"10px",textAnchor:"end",transform:"translateX(-6px)",fill:"black",font:"Roboto"},children:s===0?"0":i(s)},s)]},s))})}const pZe=Object.freeze(Object.defineProperty({__proto__:null,YAxis:Noe},Symbol.toStringTag,{value:"Module"})),no={top:30,left:30,right:100,bottom:50};function wN({parameters:e,data:t,items:n,selection:r,range:i,guardrail:s}){const[o,a]=E.useState(null),u=P=>r!=null&&r.includes(P)?!o||o.length==0?!0:o.includes(P):!1,[l,{height:c,width:f}]=Op(),d=E.useMemo(()=>f-no.left-no.right,[f]),h=E.useMemo(()=>c-no.top-no.bottom,[c]),{xMin:p,yMin:g,xMax:y,yMax:m}=E.useMemo(()=>{const P=t.filter(ce=>r==null?void 0:r.includes(ce[e.cat_var])).map(ce=>+ce[e.x_var]).filter(ce=>ce!==null),[q,V]=RT(P),U=t.filter(ce=>r==null?void 0:r.includes(ce[e.cat_var])).map(ce=>+ce[e.y_var]).filter(ce=>ce!==null),[se,oe]=RT(U);return{xMin:q,xMax:V,yMin:se,yMax:oe}},[t,r,i]),_=E.useMemo(()=>i?qT([no.left,d+no.left]).domain(i):qT([no.left,d+no.left]).domain([new Date(e.start_date),new Date(e.end_date)]),[d,y,p,i]),v=E.useMemo(()=>jl([h+no.top,no.top]).domain([g,m]).nice(),[h,m,g]),T={Purple:"#6D3E91",DarkOrange:"#C05917",LightTeal:"#58AC8C",Blue:"#286BBB",Maroon:"#883039",Camel:"#BC8E5A",MidnightBlue:"#00295B",DustyCoral:"#C15065",DarkOliveGreen:"#18470F",DarkCopper:"#9A5129",Peach:"#E56E5A",Mauve:"#A2559C",Turquoise:"#38AABA",OliveGreen:"#578145",Cherry:"#970046",Teal:"#00847E",RustyOrange:"#B13507",Denim:"#4C6A9C",Fuchsia:"#CF0A66",TealishGreen:"#00875E",Copper:"#B16214",DarkMauve:"#8C4569",Lime:"#3B8E1D",Coral:"#D73C50"},S={DarkOrangeDarker:"#BE5915",PeachDarker:"#C4523E",LightTealDarker:"#2C8465",TurquoiseDarker:"#008291",CamelDarker:"#996D39",LimeDarker:"#338711"},w=[T.DustyCoral,S.LightTealDarker,S.DarkOrangeDarker,T.Purple,T.Fuchsia,T.DarkOliveGreen,T.Blue,T.Maroon,S.CamelDarker,T.MidnightBlue,T.DarkCopper,S.PeachDarker,T.Mauve,S.TurquoiseDarker,T.OliveGreen,T.Cherry,T.Teal,T.RustyOrange,T.Denim,T.TealishGreen,T.Copper,T.DarkMauve,S.LimeDarker,T.Coral],x=E.useMemo(()=>{const P=Array.from(new Set(t.map(q=>q[e.cat_var])));return cv(w).domain(P)},[t]),A=E.useMemo(()=>{if(!_||!v)return;const P=PV();return P.x(V=>_(BR("%Y-%m-%d")(V[e.x_var]))),P.y(V=>v(V[e.y_var])),P.curve(NV),r==null?void 0:r.map(V=>({country:V,path:P(t.filter(U=>U[e.cat_var]==V))}))},[t,_,v,r,y,s]),$=E.useMemo(()=>{if(s!="super_data")return null;const P=n.filter(se=>r==null?void 0:r.includes(se.name)).map(se=>se.group),q=n.filter(se=>P==null?void 0:P.includes(se.group)).filter(se=>!(r!=null&&r.includes(se.name))).map(se=>se.name),V=PV();return V.x(se=>_(BR("%Y-%m-%d")(se[e.x_var]))),V.y(se=>v(se[e.y_var])),V.curve(NV),q==null?void 0:q.map(se=>({country:se,path:V(t.filter(oe=>oe[e.cat_var]==se))}))},[t,_,v,r,y,s]),D=E.useMemo(()=>{const q=s=="super_data"?r==null?void 0:r.concat($==null?void 0:$.map(U=>U.country)):r,V=q==null?void 0:q.map(U=>({country:U,label_pos:t.filter(se=>se[e.cat_var]==U).slice(-1).map(se=>v(se[e.y_var]))[0]})).sort((U,se)=>U.label_pos<se.label_pos?1:-1);if(!V)return V;for(let U=0;U<(V==null?void 0:V.length);U++){if(!V[U-1])continue;const se=V[U-1].label_pos-V[U].label_pos;se>=12||(V[U].label_pos=V[U].label_pos-12+se)}return V},[t,r,v,s]);return(r==null?void 0:r.length)==0?O.jsx(Ml,{ref:l,style:{width:"800px",height:"400px"},children:O.jsx(mt,{fs:"italic",c:"dimmed",children:"Select an item to view the chart."})}):O.jsxs("svg",{id:"baseLineChart",ref:l,style:{height:"400px",width:"800px",fontFamily:'"Helvetica Neue", "Helvetica", "Arial", sans-serif'},children:[O.jsxs("g",{id:"axes",children:[O.jsx(Roe,{isDate:!0,xScale:_,yRange:v.range(),vertPosition:h+no.top,showLines:!1,ticks:_.ticks(6).map(P=>({value:P.toString(),offset:_(P)}))}),O.jsx(Noe,{yScale:v,horizontalPosition:no.left,xRange:_.range()})]}),O.jsx("svg",{style:{width:`${d}`},children:$==null?void 0:$.map(P=>O.jsx("g",{children:O.jsx("path",{id:`${P.country}`,fill:"none",stroke:u(P.country)?x(P.country):"gray",strokeDasharray:"4,1",strokeWidth:.5,d:P.path},`${P.country}_key`)},`${P.country}_g`))},"control_lines"),O.jsxs("svg",{style:{width:`${d}`},children:[A==null?void 0:A.map(P=>O.jsx("g",{children:O.jsx("path",{id:`${P.country}`,fill:"none",stroke:u(P.country)?x(P.country):"gainsboro",strokeWidth:o!=null&&o.includes(P.country)?1.5:1,d:P.path},`${P.country}_key`)},`${P.country}_g`)),D==null?void 0:D.map(P=>O.jsx("foreignObject",{x:d+no.left+5,y:P.label_pos-7,width:100,height:20,children:O.jsx(mt,{px:2,size:10,color:u(P.country)?x(P.country):"silver",onMouseOver:q=>{const V=q.target;r!=null&&r.includes(V.innerText)&&a([V.innerText])},onMouseOut:()=>a([]),children:P.country})},`${P.country}_label`))]},"lines")]})}const mZe=Object.freeze(Object.defineProperty({__proto__:null,LineChart:wN,default:wN},Symbol.toStringTag,{value:"Module"}));function EN({items:e,setSelection:t}){return O.jsx(om.Group,{orientation:"vertical",onChange:n=>t(n),spacing:0,offset:"sm",children:e==null?void 0:e.map(n=>O.jsx(om,{value:n.name,label:n.name,children:n.name},n.name))},"chip_group")}const gZe=Object.freeze(Object.defineProperty({__proto__:null,Sidebar:EN,default:EN},Symbol.toStringTag,{value:"Module"}));function TN({parameters:e,setRange:t}){function n(i){return qT([0,100]).domain([new Date(e.start_date),new Date(e.end_date)]).invert(i)}function r(i){const s=n(i);return TI("%b %e, %Y")(s)}return O.jsx(lT,{defaultValue:[0,100],label:r,labelAlwaysOn:!0,onChange:([i,s])=>t([n(i),n(s)])})}const yZe=Object.freeze(Object.defineProperty({__proto__:null,RangeSelector:TN,default:TN},Symbol.toStringTag,{value:"Module"}));function SN({guardrail:e,setGuardrail:t}){return O.jsxs(O.Fragment,{children:[O.jsx(mt,{children:"Guardrail:"}),O.jsx(MD,{value:e,onChange:t,data:[{value:"none",label:"none"},{value:"super_data",label:"super_data"},{value:"super_summ",label:"super_summ"},{value:"juxt_data",label:"juxt_data"},{value:"juxt_summ",label:"juxt_summ"}]})]})}const _Ze=Object.freeze(Object.defineProperty({__proto__:null,Selector:SN,default:SN},Symbol.toStringTag,{value:"Module"}));function H7({parameters:e}){const[t,n]=E.useState(null),[r,i]=E.useState(null),[s,o]=E.useState(null),[a,u]=E.useState([new Date(e.start_date),new Date(e.end_date)]),[l,c]=E.useState(e.guardrail);E.useEffect(()=>{une(`./data/${e.dataset}.csv`).then(d=>{n(d),o(Array.from(new Set(d.map(h=>JSON.stringify({name:h[e.cat_var],group:h[e.group_var]})))).map(h=>JSON.parse(h))),i([])})},[e]);const f=E.useMemo(()=>t&&a?t.filter(d=>new Date(d[e.x_var]).getTime()>=a[0].getTime()).filter(d=>new Date(d[e.x_var]).getTime()<=a[1].getTime()):null,[t,a]);return f&&s&&a&&r?O.jsxs(Bs,{children:[O.jsx(ef,{shadow:"sm",radius:"md",p:"md",style:{width:"500px"},children:O.jsx(SN,{guardrail:l,setGuardrail:c})}),O.jsxs(Ys,{children:[O.jsx(ef,{shadow:"sm",radius:"md",p:"md",children:O.jsx(EN,{items:s,setSelection:i})}),O.jsx(ef,{shadow:"sm",radius:"md",p:"md",children:O.jsxs(Bs,{align:"center",children:[O.jsx(wN,{parameters:e,data:f,items:s,selection:r,range:a,guardrail:l}),O.jsx("div",{style:{width:"500px"},children:O.jsx(TN,{parameters:e,setRange:u})})]})})]})]}):O.jsx($f,{})}const vZe=Object.freeze(Object.defineProperty({__proto__:null,DataExplorer:H7,default:H7},Symbol.toStringTag,{value:"Module"})),bZe=Object.assign({"../public/brush-interactions/Bar.tsx":Wze,"../public/brush-interactions/BrushPlot.tsx":LJe,"../public/brush-interactions/Paintbrush.tsx":Yze,"../public/brush-interactions/Scatter.tsx":Gze,"../public/brush-interactions/XAxisBar.tsx":zze,"../public/brush-interactions/YAxis.tsx":qze,"../public/brush-interactions/YAxisBar.tsx":Hze,"../public/cleveland/BarChart.tsx":zJe,"../public/cleveland/BubbleChart.tsx":QJe,"../public/cleveland/PieChart.tsx":nZe,"../public/cleveland/StackedBarChart.tsx":aZe,"../public/cleveland/chartcomponents/Bars.tsx":FJe,"../public/cleveland/chartcomponents/Bubbles.tsx":HJe,"../public/cleveland/chartcomponents/DotMarks.tsx":WJe,"../public/cleveland/chartcomponents/NumericAxisH.tsx":rZe,"../public/cleveland/chartcomponents/NumericAxisV.tsx":BJe,"../public/cleveland/chartcomponents/OrdinalAxisHWithDotMarks.tsx":jJe,"../public/cleveland/chartcomponents/Slices.tsx":XJe,"../public/cleveland/chartcomponents/SlicesDotMarks.tsx":JJe,"../public/cleveland/chartcomponents/StackedBars.tsx":iZe,"../public/cleveland/hooks/useChartDimensions.tsx":MJe,"../public/click-accuracy-test/ClickAccuracyTest.tsx":cZe,"../public/fairness-jnd/FairnessJND.tsx":dZe,"../public/viz-guardrails/DataExplorer.tsx":vZe,"../public/viz-guardrails/LineChart.tsx":mZe,"../public/viz-guardrails/RangeSelector.tsx":yZe,"../public/viz-guardrails/Selector.tsx":_Ze,"../public/viz-guardrails/Sidebar.tsx":gZe,"../public/viz-guardrails/XAxis.tsx":hZe,"../public/viz-guardrails/YAxis.tsx":pZe}),wZe=({currentConfig:e})=>{const t=Po(),n=`../public/${e.path}`,r=bZe[n].default,i=oc(),{updateResponseBlockValidation:s,setIframeAnswers:o}=sc();function a({status:u,provenanceGraph:l,answers:c}){i(s({location:"sidebar",currentStep:t,status:u,values:c,provenanceGraph:l})),i(o(Object.values(c).map(f=>f)))}return O.jsx(E.Suspense,{fallback:O.jsx("div",{children:"Loading..."}),children:O.jsx(r,{parameters:e.parameters,setAnswer:a})})};function EZe({currentConfig:e}){const[t,n]=E.useState(null);return E.useEffect(()=>{fetch(`${Qu}${e.path}`).then(r=>r.text()).then(r=>n(r))},[e]),t===null?null:O.jsx(O.Fragment,{children:O.jsx(mm,{text:t})})}function koe(){const e=Po(),{setAlertModal:t}=sc(),n=oc();E.useEffect(()=>{(new URLSearchParams(window.location.search).get("admin")||"f")==="t"||(window.history.pushState(null,"",window.location.href),window.onpopstate=()=>{window.history.pushState(null,"",window.location.href),n(t({show:!0,message:"Using the browser's back button is prohibited during the study."}))})},[e,t,n])}function TZe(){var f;const e=hm(),t=Po(),n=e.components[t],r=B$(),i=Kx(n)&&e.baseComponents?j$({},(f=e.baseComponents)==null?void 0:f[n.baseComponent],n):n,s=i.instruction||"",o=i.instructionLocation,a=e.uiConfig.sidebar&&(o==="sidebar"||o===void 0);koe();const{storageEngine:u}=kf(),l=oc(),{setAlertModal:c}=sc();return E.useEffect(()=>{(u==null?void 0:u.getEngine())!=="firebase"&&l(c({show:!0,message:"There was an issue connecting to the firebase database. This could be caused by a network issue or your adblocker. If you are using an adblocker, please disable it for this website and refresh."}))},[c,u,l]),O.jsxs(O.Fragment,{children:[o==="aboveStimulus"&&O.jsx(mm,{text:s}),O.jsx(PT,{status:r,config:i,location:"aboveStimulus"},`${t}-above-response-block`),O.jsxs(E.Suspense,{fallback:O.jsx("div",{children:"Loading..."}),children:[i.type==="markdown"&&O.jsx(EZe,{currentConfig:i}),i.type==="website"&&O.jsx(K8e,{currentConfig:i}),i.type==="image"&&O.jsx(X8e,{currentConfig:i}),i.type==="react-component"&&O.jsx(wZe,{currentConfig:i})]},`${t}-stimulus`),(o==="belowStimulus"||o===void 0&&!a)&&O.jsx(mm,{text:s}),O.jsx(PT,{status:r,config:i,location:"belowStimulus"},`${t}-below-response-block`)]})}function SZe(e){const[t]=Qq();return O.jsx(Khe,{...e,to:{pathname:e.to,search:t.toString()}})}function xZe(){const e=hm(),{storageEngine:t}=kf(),{answers:n}=Wu(s=>s),[r,i]=E.useState(!1);return E.useEffect(()=>{const s=setInterval(async()=>{await t.verifyCompletion(n)&&(i(!0),clearInterval(s))},1e3)},[]),koe(),O.jsx(O.Fragment,{children:O.jsx(Ml,{style:{height:"100%"},children:O.jsx(am,{direction:"column",children:r?O.jsx(mt,{size:"xl",display:"block",children:e.uiConfig.studyEndMsg?O.jsx(mm,{text:e.uiConfig.studyEndMsg}):"Thank you for completing the study. You may close this window now."}):O.jsxs(O.Fragment,{children:[O.jsx(mt,{size:"xl",display:"block",children:"Please wait while your answers are uploaded."}),O.jsx(lm,{h:"lg"}),O.jsx(Ml,{children:O.jsx($f,{color:"blue"})})]})})})})}function IZe(e,t=!1){return typeof e=="number"?W7(e,t):W7(e.length,t).map(r=>r.map(i=>e[i]))}function W7(e,t){if(e<0)throw new Error("Latin square size must be > 0");if(e==0)return[];if(e==1)return[[0]];let n=new Array(e);for(let s=0;s<e;s++)s<2?n[s]=s:s%2==0?n[s]=e-s/2:n[s]=Math.floor(s/2)+1;let r=[n],i=n;for(let s=1;s<e;s+=1){let o=i.map(a=>(a+1)%e);r.push(o),i=o}if(t&&e%2>0)for(let s=0;s<e;s+=1)r.push(r[s].slice().reverse());return r}function Doe(e,t,n){for(let r=0;r<e.components.length;r++){const i=e.components[r];typeof i!="string"&&(e.components[r]=Doe(i,t,n+"-"+r))}if(e.order==="random"){const r=e.components.sort(()=>.5-Math.random());e.components=r}else e.order==="latinSquare"&&t&&(e.components=t[n].pop().map(r=>r.startsWith("_orderObj")?e.components[+r.slice(9)]:r));return e.components.flat().slice(0,e.numSamples?e.numSamples:void 0)}function AZe(e,t){const n=F$(e);return Doe(n,t,"root"),n.components.flat().slice(0,n.numSamples?n.numSamples:void 0)}function $oe(e,t,n,r=0){const i=n.length>0?`${n}-${r}`:"root";e.order==="latinSquare"&&t.push(i),e.components.forEach((s,o)=>{typeof s!="string"&&$oe(s,t,i,o)})}function CZe(e){const t=[];return $oe(e,t,"",0),t}function q7(e,t){const n=t.split("-");let r={};n.forEach(o=>{o==="root"?r=e.sequence:r=r.components[+o]});const i=r.components.map((o,a)=>typeof o=="string"?o:`_orderObj${a}`);return IZe(i.sort(()=>.5-Math.random()),!0)}function OZe(e,t=1e3){const r=CZe(e.sequence).map(s=>({[s]:q7(e,s)})).reduce((s,o)=>({...s,...o}),{}),i=[];return Array.from({length:t}).forEach(()=>{const s=AZe(e.sequence,r);s.push("end"),i.push(s),Object.entries(r).forEach(([o,a])=>{a.length===0&&(r[o]=q7(e,o))})}),i}async function PZe(e,t){const n=await(await fetch(`${Qu}${e}`)).text();return wZ(n,t)}function RZe({globalConfig:e}){const{studyId:t}=eD();if(!t||!e.configsList.find(c=>M2(c)))throw new Error("Study id invalid");const[n,r]=E.useState(null);E.useEffect(()=>{const c=e.configsList.find(f=>M2(f)===t);if(c){const f=e.configs[c];PZe(`${f.path}`,c).then(d=>{r(d)})}},[e,t]);const[i,s]=E.useState([]),[o,a]=E.useState(null),{storageEngine:u}=kf();E.useEffect(()=>{async function c(){if(!u||!n||!t)return;await u.initializeStudyDb(t,n),await u.getSequenceArray()||await u.setSequenceArray(await OZe(n));const d=await u.initializeParticipantSession(),h=await jDe(t,n,d.sequence,d.answers);a(h),s(NZe(t,n,d.sequence))}c()},[u,n,t]);const l=Kq(i);return!l||!o?O.jsx(ut,{style:{height:"100vh"},children:O.jsx(Ml,{style:{height:"100%"},children:O.jsx($f,{style:{height:"100%"},size:60})})}):O.jsx(VZ.Provider,{value:o,children:O.jsx(hPe,{store:o.store,children:l})})}function NZe(e,t,n){const r=[];if(e&&t&&n){const i=[];i.push({path:"/",element:O.jsx(SZe,{to:`${n[0]}`,replace:!0})}),n.forEach(o=>{o==="end"?i.push({path:"/end",element:O.jsx(xZe,{})}):i.push({path:`/${o}`,element:O.jsx(TZe,{})})});const s={element:O.jsx(l8e,{}),children:i};r.push(s)}return r}const Qu="/viz-guardrails-study/";async function kZe(){const t=await(await fetch(`${Qu}configs/global.hjson`)).text();return Mke(t)}async function DZe(e){const t={},n=e.configsList.map(i=>`${Qu}${e.configs[i].path}`),r=await Promise.all(n.map(i=>fetch(i))).then(i=>Promise.all(i.map(s=>s.text()))).then(i=>Promise.all(i.map((s,o)=>wZ(s,e.configsList[o]))));return e.configsList.forEach((i,s)=>{t[i]=r[s]}),t}function $Ze(){const[e,t]=E.useState(null),[n,r]=E.useState({});return E.useEffect(()=>{async function i(){e&&r(await DZe(e))}i()},[e]),E.useEffect(()=>{e||kZe().then(i=>{t(i)})},[e]),e?O.jsx(epe,{basename:Qu,children:O.jsxs(Jhe,{children:[O.jsx(y2,{path:"/",element:O.jsx(kOe,{globalConfig:e,studyConfigs:n})}),O.jsx(y2,{path:"/:studyId/*",element:O.jsx(RZe,{globalConfig:e})})]})}):null}class Loe{constructor(t){eo(this,"engine");eo(this,"connected",!1);eo(this,"currentParticipantId",null);this.engine=t}isConnected(){return this.connected}getEngine(){return this.engine}}function G1(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Moe={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,s){function o(l,c){if(!i[l]){if(!r[l]){var f=typeof G1=="function"&&G1;if(!c&&f)return f(l,!0);if(a)return a(l,!0);var d=new Error("Cannot find module '"+l+"'");throw d.code="MODULE_NOT_FOUND",d}var h=i[l]={exports:{}};r[l][0].call(h.exports,function(p){var g=r[l][1][p];return o(g||p)},h,h.exports,n,r,i,s)}return i[l].exports}for(var a=typeof G1=="function"&&G1,u=0;u<s.length;u++)o(s[u]);return o}({1:[function(n,r,i){(function(s){var o=s.MutationObserver||s.WebKitMutationObserver,a;if(o){var u=0,l=new o(p),c=s.document.createTextNode("");l.observe(c,{characterData:!0}),a=function(){c.data=u=++u%2}}else if(!s.setImmediate&&typeof s.MessageChannel<"u"){var f=new s.MessageChannel;f.port1.onmessage=p,a=function(){f.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?a=function(){var y=s.document.createElement("script");y.onreadystatechange=function(){p(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},s.document.documentElement.appendChild(y)}:a=function(){setTimeout(p,0)};var d,h=[];function p(){d=!0;for(var y,m,_=h.length;_;){for(m=h,h=[],y=-1;++y<_;)m[y]();_=h.length}d=!1}r.exports=g;function g(y){h.push(y)===1&&!d&&a()}}).call(this,typeof co<"u"?co:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,i){var s=n(1);function o(){}var a={},u=["REJECTED"],l=["FULFILLED"],c=["PENDING"];r.exports=f;function f(S){if(typeof S!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,S!==o&&g(this,S)}f.prototype.catch=function(S){return this.then(null,S)},f.prototype.then=function(S,w){if(typeof S!="function"&&this.state===l||typeof w!="function"&&this.state===u)return this;var x=new this.constructor(o);if(this.state!==c){var A=this.state===l?S:w;h(x,A,this.outcome)}else this.queue.push(new d(x,S,w));return x};function d(S,w,x){this.promise=S,typeof w=="function"&&(this.onFulfilled=w,this.callFulfilled=this.otherCallFulfilled),typeof x=="function"&&(this.onRejected=x,this.callRejected=this.otherCallRejected)}d.prototype.callFulfilled=function(S){a.resolve(this.promise,S)},d.prototype.otherCallFulfilled=function(S){h(this.promise,this.onFulfilled,S)},d.prototype.callRejected=function(S){a.reject(this.promise,S)},d.prototype.otherCallRejected=function(S){h(this.promise,this.onRejected,S)};function h(S,w,x){s(function(){var A;try{A=w(x)}catch($){return a.reject(S,$)}A===S?a.reject(S,new TypeError("Cannot resolve promise with itself")):a.resolve(S,A)})}a.resolve=function(S,w){var x=y(p,w);if(x.status==="error")return a.reject(S,x.value);var A=x.value;if(A)g(S,A);else{S.state=l,S.outcome=w;for(var $=-1,D=S.queue.length;++$<D;)S.queue[$].callFulfilled(w)}return S},a.reject=function(S,w){S.state=u,S.outcome=w;for(var x=-1,A=S.queue.length;++x<A;)S.queue[x].callRejected(w);return S};function p(S){var w=S&&S.then;if(S&&(typeof S=="object"||typeof S=="function")&&typeof w=="function")return function(){w.apply(S,arguments)}}function g(S,w){var x=!1;function A(q){x||(x=!0,a.reject(S,q))}function $(q){x||(x=!0,a.resolve(S,q))}function D(){w($,A)}var P=y(D);P.status==="error"&&A(P.value)}function y(S,w){var x={};try{x.value=S(w),x.status="success"}catch(A){x.status="error",x.value=A}return x}f.resolve=m;function m(S){return S instanceof this?S:a.resolve(new this(o),S)}f.reject=_;function _(S){var w=new this(o);return a.reject(w,S)}f.all=v;function v(S){var w=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=S.length,A=!1;if(!x)return this.resolve([]);for(var $=new Array(x),D=0,P=-1,q=new this(o);++P<x;)V(S[P],P);return q;function V(U,se){w.resolve(U).then(oe,function(ce){A||(A=!0,a.reject(q,ce))});function oe(ce){$[se]=ce,++D===x&&!A&&(A=!0,a.resolve(q,$))}}}f.race=T;function T(S){var w=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=S.length,A=!1;if(!x)return this.resolve([]);for(var $=-1,D=new this(o);++$<x;)P(S[$]);return D;function P(q){w.resolve(q).then(function(V){A||(A=!0,a.resolve(D,V))},function(V){A||(A=!0,a.reject(D,V))})}}},{1:1}],3:[function(n,r,i){(function(s){typeof s.Promise!="function"&&(s.Promise=n(2))}).call(this,typeof co<"u"?co:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,i){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k};function o(k,Q){if(!(k instanceof Q))throw new TypeError("Cannot call a class as a function")}function a(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var u=a();function l(){try{if(!u||!u.open)return!1;var k=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),Q=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!k||Q)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function c(k,Q){k=k||[],Q=Q||{};try{return new Blob(k,Q)}catch(te){if(te.name!=="TypeError")throw te;for(var B=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,ne=new B,ue=0;ue<k.length;ue+=1)ne.append(k[ue]);return ne.getBlob(Q.type)}}typeof Promise>"u"&&n(3);var f=Promise;function d(k,Q){Q&&k.then(function(B){Q(null,B)},function(B){Q(B)})}function h(k,Q,B){typeof Q=="function"&&k.then(Q),typeof B=="function"&&k.catch(B)}function p(k){return typeof k!="string"&&(console.warn(k+" used as a key, but it is not a string."),k=String(k)),k}function g(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var y="local-forage-detect-blob-support",m=void 0,_={},v=Object.prototype.toString,T="readonly",S="readwrite";function w(k){for(var Q=k.length,B=new ArrayBuffer(Q),ne=new Uint8Array(B),ue=0;ue<Q;ue++)ne[ue]=k.charCodeAt(ue);return B}function x(k){return new f(function(Q){var B=k.transaction(y,S),ne=c([""]);B.objectStore(y).put(ne,"key"),B.onabort=function(ue){ue.preventDefault(),ue.stopPropagation(),Q(!1)},B.oncomplete=function(){var ue=navigator.userAgent.match(/Chrome\/(\d+)/),te=navigator.userAgent.match(/Edge\//);Q(te||!ue||parseInt(ue[1],10)>=43)}}).catch(function(){return!1})}function A(k){return typeof m=="boolean"?f.resolve(m):x(k).then(function(Q){return m=Q,m})}function $(k){var Q=_[k.name],B={};B.promise=new f(function(ne,ue){B.resolve=ne,B.reject=ue}),Q.deferredOperations.push(B),Q.dbReady?Q.dbReady=Q.dbReady.then(function(){return B.promise}):Q.dbReady=B.promise}function D(k){var Q=_[k.name],B=Q.deferredOperations.pop();if(B)return B.resolve(),B.promise}function P(k,Q){var B=_[k.name],ne=B.deferredOperations.pop();if(ne)return ne.reject(Q),ne.promise}function q(k,Q){return new f(function(B,ne){if(_[k.name]=_[k.name]||C(),k.db)if(Q)$(k),k.db.close();else return B(k.db);var ue=[k.name];Q&&ue.push(k.version);var te=u.open.apply(u,ue);Q&&(te.onupgradeneeded=function(be){var xe=te.result;try{xe.createObjectStore(k.storeName),be.oldVersion<=1&&xe.createObjectStore(y)}catch(Pe){if(Pe.name==="ConstraintError")console.warn('The database "'+k.name+'" has been upgraded from version '+be.oldVersion+" to version "+be.newVersion+', but the storage "'+k.storeName+'" already exists.');else throw Pe}}),te.onerror=function(be){be.preventDefault(),ne(te.error)},te.onsuccess=function(){var be=te.result;be.onversionchange=function(xe){xe.target.close()},B(be),D(k)}})}function V(k){return q(k,!1)}function U(k){return q(k,!0)}function se(k,Q){if(!k.db)return!0;var B=!k.db.objectStoreNames.contains(k.storeName),ne=k.version<k.db.version,ue=k.version>k.db.version;if(ne&&(k.version!==Q&&console.warn('The database "'+k.name+`" can't be downgraded from version `+k.db.version+" to version "+k.version+"."),k.version=k.db.version),ue||B){if(B){var te=k.db.version+1;te>k.version&&(k.version=te)}return!0}return!1}function oe(k){return new f(function(Q,B){var ne=new FileReader;ne.onerror=B,ne.onloadend=function(ue){var te=btoa(ue.target.result||"");Q({__local_forage_encoded_blob:!0,data:te,type:k.type})},ne.readAsBinaryString(k)})}function ce(k){var Q=w(atob(k.data));return c([Q],{type:k.type})}function ee(k){return k&&k.__local_forage_encoded_blob}function ie(k){var Q=this,B=Q._initReady().then(function(){var ne=_[Q._dbInfo.name];if(ne&&ne.dbReady)return ne.dbReady});return h(B,k,k),B}function K(k){$(k);for(var Q=_[k.name],B=Q.forages,ne=0;ne<B.length;ne++){var ue=B[ne];ue._dbInfo.db&&(ue._dbInfo.db.close(),ue._dbInfo.db=null)}return k.db=null,V(k).then(function(te){return k.db=te,se(k)?U(k):te}).then(function(te){k.db=Q.db=te;for(var be=0;be<B.length;be++)B[be]._dbInfo.db=te}).catch(function(te){throw P(k,te),te})}function I(k,Q,B,ne){ne===void 0&&(ne=1);try{var ue=k.db.transaction(k.storeName,Q);B(null,ue)}catch(te){if(ne>0&&(!k.db||te.name==="InvalidStateError"||te.name==="NotFoundError"))return f.resolve().then(function(){if(!k.db||te.name==="NotFoundError"&&!k.db.objectStoreNames.contains(k.storeName)&&k.version<=k.db.version)return k.db&&(k.version=k.db.version+1),U(k)}).then(function(){return K(k).then(function(){I(k,Q,B,ne-1)})}).catch(B);B(te)}}function C(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function H(k){var Q=this,B={db:null};if(k)for(var ne in k)B[ne]=k[ne];var ue=_[B.name];ue||(ue=C(),_[B.name]=ue),ue.forages.push(Q),Q._initReady||(Q._initReady=Q.ready,Q.ready=ie);var te=[];function be(){return f.resolve()}for(var xe=0;xe<ue.forages.length;xe++){var Pe=ue.forages[xe];Pe!==Q&&te.push(Pe._initReady().catch(be))}var Re=ue.forages.slice(0);return f.all(te).then(function(){return B.db=ue.db,V(B)}).then(function(De){return B.db=De,se(B,Q._defaultConfig.version)?U(B):De}).then(function(De){B.db=ue.db=De,Q._dbInfo=B;for(var Ze=0;Ze<Re.length;Ze++){var Bt=Re[Ze];Bt!==Q&&(Bt._dbInfo.db=B.db,Bt._dbInfo.version=B.version)}})}function N(k,Q){var B=this;k=p(k);var ne=new f(function(ue,te){B.ready().then(function(){I(B._dbInfo,T,function(be,xe){if(be)return te(be);try{var Pe=xe.objectStore(B._dbInfo.storeName),Re=Pe.get(k);Re.onsuccess=function(){var De=Re.result;De===void 0&&(De=null),ee(De)&&(De=ce(De)),ue(De)},Re.onerror=function(){te(Re.error)}}catch(De){te(De)}})}).catch(te)});return d(ne,Q),ne}function R(k,Q){var B=this,ne=new f(function(ue,te){B.ready().then(function(){I(B._dbInfo,T,function(be,xe){if(be)return te(be);try{var Pe=xe.objectStore(B._dbInfo.storeName),Re=Pe.openCursor(),De=1;Re.onsuccess=function(){var Ze=Re.result;if(Ze){var Bt=Ze.value;ee(Bt)&&(Bt=ce(Bt));var yn=k(Bt,Ze.key,De++);yn!==void 0?ue(yn):Ze.continue()}else ue()},Re.onerror=function(){te(Re.error)}}catch(Ze){te(Ze)}})}).catch(te)});return d(ne,Q),ne}function Y(k,Q,B){var ne=this;k=p(k);var ue=new f(function(te,be){var xe;ne.ready().then(function(){return xe=ne._dbInfo,v.call(Q)==="[object Blob]"?A(xe.db).then(function(Pe){return Pe?Q:oe(Q)}):Q}).then(function(Pe){I(ne._dbInfo,S,function(Re,De){if(Re)return be(Re);try{var Ze=De.objectStore(ne._dbInfo.storeName);Pe===null&&(Pe=void 0);var Bt=Ze.put(Pe,k);De.oncomplete=function(){Pe===void 0&&(Pe=null),te(Pe)},De.onabort=De.onerror=function(){var yn=Bt.error?Bt.error:Bt.transaction.error;be(yn)}}catch(yn){be(yn)}})}).catch(be)});return d(ue,B),ue}function ae(k,Q){var B=this;k=p(k);var ne=new f(function(ue,te){B.ready().then(function(){I(B._dbInfo,S,function(be,xe){if(be)return te(be);try{var Pe=xe.objectStore(B._dbInfo.storeName),Re=Pe.delete(k);xe.oncomplete=function(){ue()},xe.onerror=function(){te(Re.error)},xe.onabort=function(){var De=Re.error?Re.error:Re.transaction.error;te(De)}}catch(De){te(De)}})}).catch(te)});return d(ne,Q),ne}function le(k){var Q=this,B=new f(function(ne,ue){Q.ready().then(function(){I(Q._dbInfo,S,function(te,be){if(te)return ue(te);try{var xe=be.objectStore(Q._dbInfo.storeName),Pe=xe.clear();be.oncomplete=function(){ne()},be.onabort=be.onerror=function(){var Re=Pe.error?Pe.error:Pe.transaction.error;ue(Re)}}catch(Re){ue(Re)}})}).catch(ue)});return d(B,k),B}function pe(k){var Q=this,B=new f(function(ne,ue){Q.ready().then(function(){I(Q._dbInfo,T,function(te,be){if(te)return ue(te);try{var xe=be.objectStore(Q._dbInfo.storeName),Pe=xe.count();Pe.onsuccess=function(){ne(Pe.result)},Pe.onerror=function(){ue(Pe.error)}}catch(Re){ue(Re)}})}).catch(ue)});return d(B,k),B}function he(k,Q){var B=this,ne=new f(function(ue,te){if(k<0){ue(null);return}B.ready().then(function(){I(B._dbInfo,T,function(be,xe){if(be)return te(be);try{var Pe=xe.objectStore(B._dbInfo.storeName),Re=!1,De=Pe.openKeyCursor();De.onsuccess=function(){var Ze=De.result;if(!Ze){ue(null);return}k===0||Re?ue(Ze.key):(Re=!0,Ze.advance(k))},De.onerror=function(){te(De.error)}}catch(Ze){te(Ze)}})}).catch(te)});return d(ne,Q),ne}function Se(k){var Q=this,B=new f(function(ne,ue){Q.ready().then(function(){I(Q._dbInfo,T,function(te,be){if(te)return ue(te);try{var xe=be.objectStore(Q._dbInfo.storeName),Pe=xe.openKeyCursor(),Re=[];Pe.onsuccess=function(){var De=Pe.result;if(!De){ne(Re);return}Re.push(De.key),De.continue()},Pe.onerror=function(){ue(Pe.error)}}catch(De){ue(De)}})}).catch(ue)});return d(B,k),B}function me(k,Q){Q=g.apply(this,arguments);var B=this.config();k=typeof k!="function"&&k||{},k.name||(k.name=k.name||B.name,k.storeName=k.storeName||B.storeName);var ne=this,ue;if(!k.name)ue=f.reject("Invalid arguments");else{var te=k.name===B.name&&ne._dbInfo.db,be=te?f.resolve(ne._dbInfo.db):V(k).then(function(xe){var Pe=_[k.name],Re=Pe.forages;Pe.db=xe;for(var De=0;De<Re.length;De++)Re[De]._dbInfo.db=xe;return xe});k.storeName?ue=be.then(function(xe){if(xe.objectStoreNames.contains(k.storeName)){var Pe=xe.version+1;$(k);var Re=_[k.name],De=Re.forages;xe.close();for(var Ze=0;Ze<De.length;Ze++){var Bt=De[Ze];Bt._dbInfo.db=null,Bt._dbInfo.version=Pe}var yn=new f(function(Tn,Tr){var rr=u.open(k.name,Pe);rr.onerror=function(Es){var Wf=rr.result;Wf.close(),Tr(Es)},rr.onupgradeneeded=function(){var Es=rr.result;Es.deleteObjectStore(k.storeName)},rr.onsuccess=function(){var Es=rr.result;Es.close(),Tn(Es)}});return yn.then(function(Tn){Re.db=Tn;for(var Tr=0;Tr<De.length;Tr++){var rr=De[Tr];rr._dbInfo.db=Tn,D(rr._dbInfo)}}).catch(function(Tn){throw(P(k,Tn)||f.resolve()).catch(function(){}),Tn})}}):ue=be.then(function(xe){$(k);var Pe=_[k.name],Re=Pe.forages;xe.close();for(var De=0;De<Re.length;De++){var Ze=Re[De];Ze._dbInfo.db=null}var Bt=new f(function(yn,Tn){var Tr=u.deleteDatabase(k.name);Tr.onerror=function(){var rr=Tr.result;rr&&rr.close(),Tn(Tr.error)},Tr.onblocked=function(){console.warn('dropInstance blocked for database "'+k.name+'" until all open connections are closed')},Tr.onsuccess=function(){var rr=Tr.result;rr&&rr.close(),yn(rr)}});return Bt.then(function(yn){Pe.db=yn;for(var Tn=0;Tn<Re.length;Tn++){var Tr=Re[Tn];D(Tr._dbInfo)}}).catch(function(yn){throw(P(k,yn)||f.resolve()).catch(function(){}),yn})})}return d(ue,Q),ue}var Xe={_driver:"asyncStorage",_initStorage:H,_support:l(),iterate:R,getItem:N,setItem:Y,removeItem:ae,clear:le,length:pe,key:he,keys:Se,dropInstance:me};function Ye(){return typeof openDatabase=="function"}var He="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Le="~~local_forage_type~",Ae=/^~~local_forage_type~([^~]+)~/,Ve="__lfsc__:",Zt=Ve.length,Me="arbf",Ue="blob",wt="si08",ze="ui08",yt="uic8",Gt="si16",un="si32",Gn="ur16",de="ui32",Ee="fl32",Fe="fl64",ot=Zt+Me.length,$e=Object.prototype.toString;function at(k){var Q=k.length*.75,B=k.length,ne,ue=0,te,be,xe,Pe;k[k.length-1]==="="&&(Q--,k[k.length-2]==="="&&Q--);var Re=new ArrayBuffer(Q),De=new Uint8Array(Re);for(ne=0;ne<B;ne+=4)te=He.indexOf(k[ne]),be=He.indexOf(k[ne+1]),xe=He.indexOf(k[ne+2]),Pe=He.indexOf(k[ne+3]),De[ue++]=te<<2|be>>4,De[ue++]=(be&15)<<4|xe>>2,De[ue++]=(xe&3)<<6|Pe&63;return Re}function Be(k){var Q=new Uint8Array(k),B="",ne;for(ne=0;ne<Q.length;ne+=3)B+=He[Q[ne]>>2],B+=He[(Q[ne]&3)<<4|Q[ne+1]>>4],B+=He[(Q[ne+1]&15)<<2|Q[ne+2]>>6],B+=He[Q[ne+2]&63];return Q.length%3===2?B=B.substring(0,B.length-1)+"=":Q.length%3===1&&(B=B.substring(0,B.length-2)+"=="),B}function nt(k,Q){var B="";if(k&&(B=$e.call(k)),k&&(B==="[object ArrayBuffer]"||k.buffer&&$e.call(k.buffer)==="[object ArrayBuffer]")){var ne,ue=Ve;k instanceof ArrayBuffer?(ne=k,ue+=Me):(ne=k.buffer,B==="[object Int8Array]"?ue+=wt:B==="[object Uint8Array]"?ue+=ze:B==="[object Uint8ClampedArray]"?ue+=yt:B==="[object Int16Array]"?ue+=Gt:B==="[object Uint16Array]"?ue+=Gn:B==="[object Int32Array]"?ue+=un:B==="[object Uint32Array]"?ue+=de:B==="[object Float32Array]"?ue+=Ee:B==="[object Float64Array]"?ue+=Fe:Q(new Error("Failed to get type for BinaryArray"))),Q(ue+Be(ne))}else if(B==="[object Blob]"){var te=new FileReader;te.onload=function(){var be=Le+k.type+"~"+Be(this.result);Q(Ve+Ue+be)},te.readAsArrayBuffer(k)}else try{Q(JSON.stringify(k))}catch(be){console.error("Couldn't convert value into a JSON string: ",k),Q(null,be)}}function wn(k){if(k.substring(0,Zt)!==Ve)return JSON.parse(k);var Q=k.substring(ot),B=k.substring(Zt,ot),ne;if(B===Ue&&Ae.test(Q)){var ue=Q.match(Ae);ne=ue[1],Q=Q.substring(ue[0].length)}var te=at(Q);switch(B){case Me:return te;case Ue:return c([te],{type:ne});case wt:return new Int8Array(te);case ze:return new Uint8Array(te);case yt:return new Uint8ClampedArray(te);case Gt:return new Int16Array(te);case Gn:return new Uint16Array(te);case un:return new Int32Array(te);case de:return new Uint32Array(te);case Ee:return new Float32Array(te);case Fe:return new Float64Array(te);default:throw new Error("Unkown type: "+B)}}var Wt={serialize:nt,deserialize:wn,stringToBuffer:at,bufferToString:Be};function xt(k,Q,B,ne){k.executeSql("CREATE TABLE IF NOT EXISTS "+Q.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],B,ne)}function Bn(k){var Q=this,B={db:null};if(k)for(var ne in k)B[ne]=typeof k[ne]!="string"?k[ne].toString():k[ne];var ue=new f(function(te,be){try{B.db=openDatabase(B.name,String(B.version),B.description,B.size)}catch(xe){return be(xe)}B.db.transaction(function(xe){xt(xe,B,function(){Q._dbInfo=B,te()},function(Pe,Re){be(Re)})},be)});return B.serializer=Wt,ue}function En(k,Q,B,ne,ue,te){k.executeSql(B,ne,ue,function(be,xe){xe.code===xe.SYNTAX_ERR?be.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[Q.storeName],function(Pe,Re){Re.rows.length?te(Pe,xe):xt(Pe,Q,function(){Pe.executeSql(B,ne,ue,te)},te)},te):te(be,xe)},te)}function da(k,Q){var B=this;k=p(k);var ne=new f(function(ue,te){B.ready().then(function(){var be=B._dbInfo;be.db.transaction(function(xe){En(xe,be,"SELECT * FROM "+be.storeName+" WHERE key = ? LIMIT 1",[k],function(Pe,Re){var De=Re.rows.length?Re.rows.item(0).value:null;De&&(De=be.serializer.deserialize(De)),ue(De)},function(Pe,Re){te(Re)})})}).catch(te)});return d(ne,Q),ne}function hr(k,Q){var B=this,ne=new f(function(ue,te){B.ready().then(function(){var be=B._dbInfo;be.db.transaction(function(xe){En(xe,be,"SELECT * FROM "+be.storeName,[],function(Pe,Re){for(var De=Re.rows,Ze=De.length,Bt=0;Bt<Ze;Bt++){var yn=De.item(Bt),Tn=yn.value;if(Tn&&(Tn=be.serializer.deserialize(Tn)),Tn=k(Tn,yn.key,Bt+1),Tn!==void 0){ue(Tn);return}}ue()},function(Pe,Re){te(Re)})})}).catch(te)});return d(ne,Q),ne}function Fi(k,Q,B,ne){var ue=this;k=p(k);var te=new f(function(be,xe){ue.ready().then(function(){Q===void 0&&(Q=null);var Pe=Q,Re=ue._dbInfo;Re.serializer.serialize(Q,function(De,Ze){Ze?xe(Ze):Re.db.transaction(function(Bt){En(Bt,Re,"INSERT OR REPLACE INTO "+Re.storeName+" (key, value) VALUES (?, ?)",[k,De],function(){be(Pe)},function(yn,Tn){xe(Tn)})},function(Bt){if(Bt.code===Bt.QUOTA_ERR){if(ne>0){be(Fi.apply(ue,[k,Pe,B,ne-1]));return}xe(Bt)}})})}).catch(xe)});return d(te,B),te}function wr(k,Q,B){return Fi.apply(this,[k,Q,B,1])}function Mr(k,Q){var B=this;k=p(k);var ne=new f(function(ue,te){B.ready().then(function(){var be=B._dbInfo;be.db.transaction(function(xe){En(xe,be,"DELETE FROM "+be.storeName+" WHERE key = ?",[k],function(){ue()},function(Pe,Re){te(Re)})})}).catch(te)});return d(ne,Q),ne}function pr(k){var Q=this,B=new f(function(ne,ue){Q.ready().then(function(){var te=Q._dbInfo;te.db.transaction(function(be){En(be,te,"DELETE FROM "+te.storeName,[],function(){ne()},function(xe,Pe){ue(Pe)})})}).catch(ue)});return d(B,k),B}function jn(k){var Q=this,B=new f(function(ne,ue){Q.ready().then(function(){var te=Q._dbInfo;te.db.transaction(function(be){En(be,te,"SELECT COUNT(key) as c FROM "+te.storeName,[],function(xe,Pe){var Re=Pe.rows.item(0).c;ne(Re)},function(xe,Pe){ue(Pe)})})}).catch(ue)});return d(B,k),B}function en(k,Q){var B=this,ne=new f(function(ue,te){B.ready().then(function(){var be=B._dbInfo;be.db.transaction(function(xe){En(xe,be,"SELECT key FROM "+be.storeName+" WHERE id = ? LIMIT 1",[k+1],function(Pe,Re){var De=Re.rows.length?Re.rows.item(0).key:null;ue(De)},function(Pe,Re){te(Re)})})}).catch(te)});return d(ne,Q),ne}function oi(k){var Q=this,B=new f(function(ne,ue){Q.ready().then(function(){var te=Q._dbInfo;te.db.transaction(function(be){En(be,te,"SELECT key FROM "+te.storeName,[],function(xe,Pe){for(var Re=[],De=0;De<Pe.rows.length;De++)Re.push(Pe.rows.item(De).key);ne(Re)},function(xe,Pe){ue(Pe)})})}).catch(ue)});return d(B,k),B}function Er(k){return new f(function(Q,B){k.transaction(function(ne){ne.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(ue,te){for(var be=[],xe=0;xe<te.rows.length;xe++)be.push(te.rows.item(xe).name);Q({db:k,storeNames:be})},function(ue,te){B(te)})},function(ne){B(ne)})})}function Fr(k,Q){Q=g.apply(this,arguments);var B=this.config();k=typeof k!="function"&&k||{},k.name||(k.name=k.name||B.name,k.storeName=k.storeName||B.storeName);var ne=this,ue;return k.name?ue=new f(function(te){var be;k.name===B.name?be=ne._dbInfo.db:be=openDatabase(k.name,"","",0),k.storeName?te({db:be,storeNames:[k.storeName]}):te(Er(be))}).then(function(te){return new f(function(be,xe){te.db.transaction(function(Pe){function Re(yn){return new f(function(Tn,Tr){Pe.executeSql("DROP TABLE IF EXISTS "+yn,[],function(){Tn()},function(rr,Es){Tr(Es)})})}for(var De=[],Ze=0,Bt=te.storeNames.length;Ze<Bt;Ze++)De.push(Re(te.storeNames[Ze]));f.all(De).then(function(){be()}).catch(function(yn){xe(yn)})},function(Pe){xe(Pe)})})}):ue=f.reject("Invalid arguments"),d(ue,Q),ue}var vi={_driver:"webSQLStorage",_initStorage:Bn,_support:Ye(),iterate:hr,getItem:da,setItem:wr,removeItem:Mr,clear:pr,length:jn,key:en,keys:oi,dropInstance:Fr};function bs(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function X(k,Q){var B=k.name+"/";return k.storeName!==Q.storeName&&(B+=k.storeName+"/"),B}function z(){var k="_localforage_support_test";try{return localStorage.setItem(k,!0),localStorage.removeItem(k),!1}catch{return!0}}function Z(){return!z()||localStorage.length>0}function ye(k){var Q=this,B={};if(k)for(var ne in k)B[ne]=k[ne];return B.keyPrefix=X(k,Q._defaultConfig),Z()?(Q._dbInfo=B,B.serializer=Wt,f.resolve()):f.reject()}function ge(k){var Q=this,B=Q.ready().then(function(){for(var ne=Q._dbInfo.keyPrefix,ue=localStorage.length-1;ue>=0;ue--){var te=localStorage.key(ue);te.indexOf(ne)===0&&localStorage.removeItem(te)}});return d(B,k),B}function Ge(k,Q){var B=this;k=p(k);var ne=B.ready().then(function(){var ue=B._dbInfo,te=localStorage.getItem(ue.keyPrefix+k);return te&&(te=ue.serializer.deserialize(te)),te});return d(ne,Q),ne}function Te(k,Q){var B=this,ne=B.ready().then(function(){for(var ue=B._dbInfo,te=ue.keyPrefix,be=te.length,xe=localStorage.length,Pe=1,Re=0;Re<xe;Re++){var De=localStorage.key(Re);if(De.indexOf(te)===0){var Ze=localStorage.getItem(De);if(Ze&&(Ze=ue.serializer.deserialize(Ze)),Ze=k(Ze,De.substring(be),Pe++),Ze!==void 0)return Ze}}});return d(ne,Q),ne}function We(k,Q){var B=this,ne=B.ready().then(function(){var ue=B._dbInfo,te;try{te=localStorage.key(k)}catch{te=null}return te&&(te=te.substring(ue.keyPrefix.length)),te});return d(ne,Q),ne}function ct(k){var Q=this,B=Q.ready().then(function(){for(var ne=Q._dbInfo,ue=localStorage.length,te=[],be=0;be<ue;be++){var xe=localStorage.key(be);xe.indexOf(ne.keyPrefix)===0&&te.push(xe.substring(ne.keyPrefix.length))}return te});return d(B,k),B}function tt(k){var Q=this,B=Q.keys().then(function(ne){return ne.length});return d(B,k),B}function gt(k,Q){var B=this;k=p(k);var ne=B.ready().then(function(){var ue=B._dbInfo;localStorage.removeItem(ue.keyPrefix+k)});return d(ne,Q),ne}function Lt(k,Q,B){var ne=this;k=p(k);var ue=ne.ready().then(function(){Q===void 0&&(Q=null);var te=Q;return new f(function(be,xe){var Pe=ne._dbInfo;Pe.serializer.serialize(Q,function(Re,De){if(De)xe(De);else try{localStorage.setItem(Pe.keyPrefix+k,Re),be(te)}catch(Ze){(Ze.name==="QuotaExceededError"||Ze.name==="NS_ERROR_DOM_QUOTA_REACHED")&&xe(Ze),xe(Ze)}})})});return d(ue,B),ue}function $n(k,Q){if(Q=g.apply(this,arguments),k=typeof k!="function"&&k||{},!k.name){var B=this.config();k.name=k.name||B.name,k.storeName=k.storeName||B.storeName}var ne=this,ue;return k.name?ue=new f(function(te){k.storeName?te(X(k,ne._defaultConfig)):te(k.name+"/")}).then(function(te){for(var be=localStorage.length-1;be>=0;be--){var xe=localStorage.key(be);xe.indexOf(te)===0&&localStorage.removeItem(xe)}}):ue=f.reject("Invalid arguments"),d(ue,Q),ue}var pt={_driver:"localStorageWrapper",_initStorage:ye,_support:bs(),iterate:Te,getItem:Ge,setItem:Lt,removeItem:gt,clear:ge,length:tt,key:We,keys:ct,dropInstance:$n},An=function(Q,B){return Q===B||typeof Q=="number"&&typeof B=="number"&&isNaN(Q)&&isNaN(B)},Et=function(Q,B){for(var ne=Q.length,ue=0;ue<ne;){if(An(Q[ue],B))return!0;ue++}return!1},gn=Array.isArray||function(k){return Object.prototype.toString.call(k)==="[object Array]"},nr={},Gr={},Nr={INDEXEDDB:Xe,WEBSQL:vi,LOCALSTORAGE:pt},us=[Nr.INDEXEDDB._driver,Nr.WEBSQL._driver,Nr.LOCALSTORAGE._driver],bi=["dropInstance"],mr=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(bi),Qe={description:"",driver:us.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function zt(k,Q){k[Q]=function(){var B=arguments;return k.ready().then(function(){return k[Q].apply(k,B)})}}function Hn(){for(var k=1;k<arguments.length;k++){var Q=arguments[k];if(Q)for(var B in Q)Q.hasOwnProperty(B)&&(gn(Q[B])?arguments[0][B]=Q[B].slice():arguments[0][B]=Q[B])}return arguments[0]}var ai=function(){function k(Q){o(this,k);for(var B in Nr)if(Nr.hasOwnProperty(B)){var ne=Nr[B],ue=ne._driver;this[B]=ue,nr[ue]||this.defineDriver(ne)}this._defaultConfig=Hn({},Qe),this._config=Hn({},this._defaultConfig,Q),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return k.prototype.config=function(B){if((typeof B>"u"?"undefined":s(B))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var ne in B){if(ne==="storeName"&&(B[ne]=B[ne].replace(/\W/g,"_")),ne==="version"&&typeof B[ne]!="number")return new Error("Database version must be a number.");this._config[ne]=B[ne]}return"driver"in B&&B.driver?this.setDriver(this._config.driver):!0}else return typeof B=="string"?this._config[B]:this._config},k.prototype.defineDriver=function(B,ne,ue){var te=new f(function(be,xe){try{var Pe=B._driver,Re=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!B._driver){xe(Re);return}for(var De=mr.concat("_initStorage"),Ze=0,Bt=De.length;Ze<Bt;Ze++){var yn=De[Ze],Tn=!Et(bi,yn);if((Tn||B[yn])&&typeof B[yn]!="function"){xe(Re);return}}var Tr=function(){for(var Wf=function(OA){return function(){var Ah=new Error("Method "+OA+" is not implemented by the current driver"),Ch=f.reject(Ah);return d(Ch,arguments[arguments.length-1]),Ch}},Ig=0,Ag=bi.length;Ig<Ag;Ig++){var Cg=bi[Ig];B[Cg]||(B[Cg]=Wf(Cg))}};Tr();var rr=function(Wf){nr[Pe]&&console.info("Redefining LocalForage driver: "+Pe),nr[Pe]=B,Gr[Pe]=Wf,be()};"_support"in B?B._support&&typeof B._support=="function"?B._support().then(rr,xe):rr(!!B._support):rr(!0)}catch(Es){xe(Es)}});return h(te,ne,ue),te},k.prototype.driver=function(){return this._driver||null},k.prototype.getDriver=function(B,ne,ue){var te=nr[B]?f.resolve(nr[B]):f.reject(new Error("Driver not found."));return h(te,ne,ue),te},k.prototype.getSerializer=function(B){var ne=f.resolve(Wt);return h(ne,B),ne},k.prototype.ready=function(B){var ne=this,ue=ne._driverSet.then(function(){return ne._ready===null&&(ne._ready=ne._initDriver()),ne._ready});return h(ue,B,B),ue},k.prototype.setDriver=function(B,ne,ue){var te=this;gn(B)||(B=[B]);var be=this._getSupportedDrivers(B);function xe(){te._config.driver=te.driver()}function Pe(Ze){return te._extend(Ze),xe(),te._ready=te._initStorage(te._config),te._ready}function Re(Ze){return function(){var Bt=0;function yn(){for(;Bt<Ze.length;){var Tn=Ze[Bt];return Bt++,te._dbInfo=null,te._ready=null,te.getDriver(Tn).then(Pe).catch(yn)}xe();var Tr=new Error("No available storage method found.");return te._driverSet=f.reject(Tr),te._driverSet}return yn()}}var De=this._driverSet!==null?this._driverSet.catch(function(){return f.resolve()}):f.resolve();return this._driverSet=De.then(function(){var Ze=be[0];return te._dbInfo=null,te._ready=null,te.getDriver(Ze).then(function(Bt){te._driver=Bt._driver,xe(),te._wrapLibraryMethodsWithReady(),te._initDriver=Re(be)})}).catch(function(){xe();var Ze=new Error("No available storage method found.");return te._driverSet=f.reject(Ze),te._driverSet}),h(this._driverSet,ne,ue),this._driverSet},k.prototype.supports=function(B){return!!Gr[B]},k.prototype._extend=function(B){Hn(this,B)},k.prototype._getSupportedDrivers=function(B){for(var ne=[],ue=0,te=B.length;ue<te;ue++){var be=B[ue];this.supports(be)&&ne.push(be)}return ne},k.prototype._wrapLibraryMethodsWithReady=function(){for(var B=0,ne=mr.length;B<ne;B++)zt(this,mr[B])},k.prototype.createInstance=function(B){return new k(B)},k}(),ws=new ai;r.exports=ws},{3:3}]},{},[4])(4)})})(Moe);var LZe=Moe.exports;const Foe=ja(LZe);let K1;const MZe=new Uint8Array(16);function FZe(){if(!K1&&(K1=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!K1))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return K1(MZe)}const Ei=[];for(let e=0;e<256;++e)Ei.push((e+256).toString(16).slice(1));function BZe(e,t=0){return Ei[e[t+0]]+Ei[e[t+1]]+Ei[e[t+2]]+Ei[e[t+3]]+"-"+Ei[e[t+4]]+Ei[e[t+5]]+"-"+Ei[e[t+6]]+Ei[e[t+7]]+"-"+Ei[e[t+8]]+Ei[e[t+9]]+"-"+Ei[e[t+10]]+Ei[e[t+11]]+Ei[e[t+12]]+Ei[e[t+13]]+Ei[e[t+14]]+Ei[e[t+15]]}const jZe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Y7={randomUUID:jZe};function G7(e,t,n){if(Y7.randomUUID&&!t&&!e)return Y7.randomUUID();e=e||{};const r=e.random||(e.rng||FZe)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=r[i];return t}return BZe(r)}class UZe extends Loe{constructor(){super("localStorage");eo(this,"studyDatabase")}async connect(){this.connected=!0}async initializeStudyDb(n,r){this.studyDatabase=await Foe.createInstance({name:n}),await this.studyDatabase.setItem("config",r)}async initializeParticipantSession(){var i;if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");if(await this.getCurrentParticipantId(),!this.currentParticipantId)throw new Error("Participant not initialized");const n=await this.studyDatabase.getItem(this.currentParticipantId);if(n)return n;const r={participantId:this.currentParticipantId,sequence:await this.getSequence(),answers:{}};return await((i=this.studyDatabase)==null?void 0:i.setItem(this.currentParticipantId,r)),r}async getCurrentParticipantId(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=await this.studyDatabase.getItem("currentParticipant");if(n)return this.currentParticipantId=n,n;{const r=G7();return await this.studyDatabase.setItem("currentParticipant",r),this.currentParticipantId=r,r}}async clearCurrentParticipantId(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");await this.studyDatabase.removeItem("currentParticipant")}async saveAnswer(n,r){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");if(!this.currentParticipantId)throw new Error("Participant not initialized");const i=await this.studyDatabase.getItem(this.currentParticipantId);if(!i)throw new Error("Participant not initialized");i.answers[n]=r,await this.studyDatabase.setItem(this.currentParticipantId,i)}async setSequenceArray(n){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");this.studyDatabase.setItem("sequenceArray",n)}async getSequence(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=await this.studyDatabase.getItem("sequenceArray");if(!n)throw new Error("Latin square not initialized");const r=n.pop();if(!r)throw new Error("Latin square is empty");return await this.studyDatabase.setItem("sequenceArray",n),r}async getSequenceArray(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");return await this.studyDatabase.getItem("sequenceArray")}async getAllParticipantsData(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=[];return await this.studyDatabase.iterate((r,i)=>{i!=="config"&&i!=="currentParticipant"&&i!=="sequenceArray"&&n.push(r)}),n}async getParticipantData(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=await this.studyDatabase.getItem("currentParticipant");return n?await this.studyDatabase.getItem(n):null}async nextParticipant(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=G7();this.studyDatabase.setItem("currentParticipant",n),this.currentParticipantId=n;let r=await this.studyDatabase.getItem(n);if(!r){const i={participantId:n,sequence:await this.getSequence(),answers:{}};await this.studyDatabase.setItem(n,i),r=i}return r}async verifyCompletion(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=await this.getParticipantData();if(!n)throw new Error("Participant not initialized");return n.sequence.every(i=>i==="end"?!0:n.answers[i]!==void 0)}_verifyStudyDatabase(n){return n!==void 0}}var K7={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Boe=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},VZe=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],a=e[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(u>>10)),t[r++]=String.fromCharCode(56320+(u&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},sL={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,a=o?e[i+1]:0,u=i+2<e.length,l=u?e[i+2]:0,c=s>>2,f=(s&3)<<4|a>>4;let d=(a&15)<<2|l>>6,h=l&63;u||(h=64,o||(d=64)),r.push(n[c],n[f],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Boe(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):VZe(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const l=i<e.length?n[e.charAt(i)]:64;++i;const f=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||a==null||l==null||f==null)throw new zZe;const d=s<<2|a>>4;if(r.push(d),l!==64){const h=a<<4&240|l>>2;if(r.push(h),f!==64){const p=l<<6&192|f;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class zZe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const HZe=function(e){const t=Boe(e);return sL.encodeByteArray(t,!0)},SS=function(e){return HZe(e).replace(/\./g,"")},joe=function(e){try{return sL.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uoe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WZe=()=>Uoe().__FIREBASE_DEFAULTS__,qZe=()=>{if(typeof process>"u"||typeof K7>"u")return;const e=K7.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},YZe=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&joe(e[1]);return t&&JSON.parse(t)},oL=()=>{try{return WZe()||qZe()||YZe()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Voe=e=>{var t,n;return(n=(t=oL())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},GZe=e=>{const t=Voe(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},zoe=()=>{var e;return(e=oL())===null||e===void 0?void 0:e.config},Hoe=e=>{var t;return(t=oL())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KZe(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[SS(JSON.stringify(n)),SS(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ns(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function QZe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ns())}function XZe(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function JZe(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ZZe(){const e=ns();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function aL(){try{return typeof indexedDB=="object"}catch{return!1}}function eet(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tet="FirebaseError";class Xu extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=tet,Object.setPrototypeOf(this,Xu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yg.prototype.create)}}class yg{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?net(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Xu(i,a,r)}}function net(e,t){return e.replace(ret,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const ret=/\{\$([^}]+)}/g;function iet(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function d_(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(Q7(s)&&Q7(o)){if(!d_(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Q7(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tv(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function set(e,t){const n=new oet(e,t);return n.subscribe.bind(n)}class oet{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");aet(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=eP),i.error===void 0&&(i.error=eP),i.complete===void 0&&(i.complete=eP);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aet(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function eP(){}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uet=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cet=1e3,fet=2,det=4*60*60*1e3,het=.5;function pet(e,t=cet,n=fet){const r=t*Math.pow(n,e),i=Math.round(het*r*(Math.random()-.5)*2);return Math.min(det,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rs(e){return e&&e._delegate?e._delegate:e}class ju{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class met{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new f_;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(yet(t))try{this.getOrInitializeService({instanceIdentifier:rd})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=rd){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=rd){return this.instances.has(t)}getOptions(t=rd){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:get(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=rd){return this.component?this.component.multipleInstances?t:rd:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function get(e){return e===rd?void 0:e}function yet(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _et{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new met(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rn;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(rn||(rn={}));const vet={debug:rn.DEBUG,verbose:rn.VERBOSE,info:rn.INFO,warn:rn.WARN,error:rn.ERROR,silent:rn.SILENT},bet=rn.INFO,wet={[rn.DEBUG]:"log",[rn.VERBOSE]:"log",[rn.INFO]:"info",[rn.WARN]:"warn",[rn.ERROR]:"error"},Eet=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=wet[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class KI{constructor(t){this.name=t,this._logLevel=bet,this._logHandler=Eet,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in rn))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?vet[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,rn.DEBUG,...t),this._logHandler(this,rn.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,rn.VERBOSE,...t),this._logHandler(this,rn.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,rn.INFO,...t),this._logHandler(this,rn.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,rn.WARN,...t),this._logHandler(this,rn.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,rn.ERROR,...t),this._logHandler(this,rn.ERROR,...t)}}const Tet=(e,t)=>t.some(n=>e instanceof n);let X7,J7;function xet(){return X7||(X7=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Iet(){return J7||(J7=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Woe=new WeakMap,xN=new WeakMap,qoe=new WeakMap,tP=new WeakMap,uL=new WeakMap;function Aet(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(af(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&Woe.set(n,e)}).catch(()=>{}),uL.set(t,e),t}function Cet(e){if(xN.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});xN.set(e,t)}let IN={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return xN.get(e);if(t==="objectStoreNames")return e.objectStoreNames||qoe.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return af(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Oet(e){IN=e(IN)}function Pet(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(nP(this),t,...n);return qoe.set(r,t.sort?t.sort():[t]),af(r)}:Iet().includes(e)?function(...t){return e.apply(nP(this),t),af(Woe.get(this))}:function(...t){return af(e.apply(nP(this),t))}}function Ret(e){return typeof e=="function"?Pet(e):(e instanceof IDBTransaction&&Cet(e),Tet(e,xet())?new Proxy(e,IN):e)}function af(e){if(e instanceof IDBRequest)return Aet(e);if(tP.has(e))return tP.get(e);const t=Ret(e);return t!==e&&(tP.set(e,t),uL.set(t,e)),t}const nP=e=>uL.get(e);function Net(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=af(o);return r&&o.addEventListener("upgradeneeded",u=>{r(af(o.result),u.oldVersion,u.newVersion,af(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const ket=["get","getKey","getAll","getAllKeys","count"],Det=["put","add","delete","clear"],rP=new Map;function Z7(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(rP.get(t))return rP.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Det.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ket.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),i&&u.done]))[0]};return rP.set(t,s),s}Oet(e=>({...e,get:(t,n,r)=>Z7(t,n)||e.get(t,n,r),has:(t,n)=>!!Z7(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $et{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Let(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Let(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const AN="@firebase/app",ez="0.9.24";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh=new KI("@firebase/app"),Met="@firebase/app-compat",Fet="@firebase/analytics-compat",Bet="@firebase/analytics",jet="@firebase/app-check-compat",Uet="@firebase/app-check",Vet="@firebase/auth",zet="@firebase/auth-compat",Het="@firebase/database",Wet="@firebase/database-compat",qet="@firebase/functions",Yet="@firebase/functions-compat",Get="@firebase/installations",Ket="@firebase/installations-compat",Qet="@firebase/messaging",Xet="@firebase/messaging-compat",Jet="@firebase/performance",Zet="@firebase/performance-compat",ett="@firebase/remote-config",ttt="@firebase/remote-config-compat",ntt="@firebase/storage",rtt="@firebase/storage-compat",itt="@firebase/firestore",stt="@firebase/firestore-compat",ott="firebase",att="10.7.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN="[DEFAULT]",utt={[AN]:"fire-core",[Met]:"fire-core-compat",[Bet]:"fire-analytics",[Fet]:"fire-analytics-compat",[Uet]:"fire-app-check",[jet]:"fire-app-check-compat",[Vet]:"fire-auth",[zet]:"fire-auth-compat",[Het]:"fire-rtdb",[Wet]:"fire-rtdb-compat",[qet]:"fire-fn",[Yet]:"fire-fn-compat",[Get]:"fire-iid",[Ket]:"fire-iid-compat",[Qet]:"fire-fcm",[Xet]:"fire-fcm-compat",[Jet]:"fire-perf",[Zet]:"fire-perf-compat",[ett]:"fire-rc",[ttt]:"fire-rc-compat",[ntt]:"fire-gcs",[rtt]:"fire-gcs-compat",[itt]:"fire-fst",[stt]:"fire-fst-compat","fire-js":"fire-js",[ott]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS=new Map,ON=new Map;function ltt(e,t){try{e.container.addComponent(t)}catch(n){eh.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Kl(e){const t=e.name;if(ON.has(t))return eh.debug(`There were multiple attempts to register component ${t}.`),!1;ON.set(t,e);for(const n of xS.values())ltt(n,e);return!0}function _g(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ctt={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},uf=new yg("app","Firebase",ctt);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ftt{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ju("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw uf.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th=att;function Yoe(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:CN,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw uf.create("bad-app-name",{appName:String(i)});if(n||(n=zoe()),!n)throw uf.create("no-options");const s=xS.get(i);if(s){if(d_(n,s.options)&&d_(r,s.config))return s;throw uf.create("duplicate-app",{appName:i})}const o=new _et(i);for(const u of ON.values())o.addComponent(u);const a=new ftt(n,r,o);return xS.set(i,a),a}function lL(e=CN){const t=xS.get(e);if(!t&&e===CN&&zoe())return Yoe();if(!t)throw uf.create("no-app",{appName:e});return t}function Da(e,t,n){var r;let i=(r=utt[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${t}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),eh.warn(a.join(" "));return}Kl(new ju(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dtt="firebase-heartbeat-database",htt=1,h_="firebase-heartbeat-store";let iP=null;function Goe(){return iP||(iP=Net(dtt,htt,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(h_)}}}).catch(e=>{throw uf.create("idb-open",{originalErrorMessage:e.message})})),iP}async function ptt(e){try{return await(await Goe()).transaction(h_).objectStore(h_).get(Koe(e))}catch(t){if(t instanceof Xu)eh.warn(t.message);else{const n=uf.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});eh.warn(n.message)}}}async function tz(e,t){try{const r=(await Goe()).transaction(h_,"readwrite");await r.objectStore(h_).put(t,Koe(e)),await r.done}catch(n){if(n instanceof Xu)eh.warn(n.message);else{const r=uf.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});eh.warn(r.message)}}}function Koe(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mtt=1024,gtt=30*24*60*60*1e3;class ytt{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new vtt(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=nz();if(!(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=gtt}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=nz(),{heartbeatsToSend:r,unsentEntries:i}=_tt(this._heartbeatsCache.heartbeats),s=SS(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function nz(){return new Date().toISOString().substring(0,10)}function _tt(e,t=mtt){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),rz(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),rz(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class vtt{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return aL()?eet().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ptt(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return tz(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return tz(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function rz(e){return SS(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function btt(e){Kl(new ju("platform-logger",t=>new $et(t),"PRIVATE")),Kl(new ju("heartbeat",t=>new ytt(t),"PRIVATE")),Da(AN,ez,e),Da(AN,ez,"esm2017"),Da("fire-js","")}btt("");var wtt="firebase",Ett="10.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Da(wtt,Ett,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qoe="firebasestorage.googleapis.com",Xoe="storageBucket",Ttt=2*60*1e3,Stt=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends Xu{constructor(t,n,r=0){super(sP(t),`Firebase Storage: ${n} (${sP(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Rr.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return sP(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Or;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Or||(Or={}));function sP(e){return"storage/"+e}function cL(){const e="An unknown error occurred, please check the error payload for server response.";return new Rr(Or.UNKNOWN,e)}function xtt(e){return new Rr(Or.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function Itt(e){return new Rr(Or.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Att(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Rr(Or.UNAUTHENTICATED,e)}function Ctt(){return new Rr(Or.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Ott(e){return new Rr(Or.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function Ptt(){return new Rr(Or.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Rtt(){return new Rr(Or.CANCELED,"User canceled the upload/download.")}function Ntt(e){return new Rr(Or.INVALID_URL,"Invalid URL '"+e+"'.")}function ktt(e){return new Rr(Or.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function Dtt(){return new Rr(Or.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Xoe+"' property when initializing the app?")}function $tt(){return new Rr(Or.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Ltt(){return new Rr(Or.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Mtt(e){return new Rr(Or.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function PN(e){return new Rr(Or.INVALID_ARGUMENT,e)}function Joe(){return new Rr(Or.APP_DELETED,"The Firebase app was deleted.")}function Ftt(e){return new Rr(Or.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function dy(e,t){return new Rr(Or.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function a0(e){throw new Rr(Or.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=po.makeFromUrl(t,n)}catch{return new po(t,"")}if(r.path==="")return r;throw ktt(t)}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(T){T.path.charAt(T.path.length-1)==="/"&&(T.path_=T.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function l(T){T.path_=decodeURIComponent(T.path)}const c="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",h=new RegExp(`^https?://${f}/${c}/b/${i}/o${d}`,"i"),p={bucket:1,path:3},g=n===Qoe?"(?:storage.googleapis.com|storage.cloud.google.com)":n,y="([^?#]*)",m=new RegExp(`^https?://${g}/${i}/${y}`,"i"),v=[{regex:a,indices:u,postModify:s},{regex:h,indices:p,postModify:l},{regex:m,indices:{bucket:1,path:2},postModify:l}];for(let T=0;T<v.length;T++){const S=v[T],w=S.regex.exec(t);if(w){const x=w[S.indices.bucket];let A=w[S.indices.path];A||(A=""),r=new po(x,A),S.postModify(r);break}}if(r==null)throw Ntt(t);return r}}class Btt{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jtt(e,t,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return a===2}let l=!1;function c(...y){l||(l=!0,t.apply(null,y))}function f(y){i=setTimeout(()=>{i=null,e(h,u())},y)}function d(){s&&clearTimeout(s)}function h(y,...m){if(l){d();return}if(y){d(),c.call(null,y,...m);return}if(u()||o){d(),c.call(null,y,...m);return}r<64&&(r*=2);let v;a===1?(a=2,v=0):v=(r+Math.random())*1e3,f(v)}let p=!1;function g(y){p||(p=!0,d(),!l&&(i!==null?(y||(a=2),clearTimeout(i),f(0)):y||(a=1)))}return f(0),s=setTimeout(()=>{o=!0,g(!0)},n),g}function Utt(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vtt(e){return e!==void 0}function ztt(e){return typeof e=="object"&&!Array.isArray(e)}function fL(e){return typeof e=="string"||e instanceof String}function iz(e){return dL()&&e instanceof Blob}function dL(){return typeof Blob<"u"}function sz(e,t,n,r){if(r<t)throw PN(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw PN(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hL(e,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function Zoe(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $d;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})($d||($d={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Htt(e,t){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,s=t.indexOf(e)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wtt{constructor(t,n,r,i,s,o,a,u,l,c,f,d=!0){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=f,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,p)=>{this.resolve_=h,this.reject_=p,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new Q1(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const u=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,l)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===$d.NO_ERROR,u=s.getStatus();if(!a||Htt(u,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===$d.ABORT;r(!1,new Q1(!1,null,c));return}const l=this.successCodes_.indexOf(u)!==-1;r(!0,new Q1(l,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());Vtt(u)?s(u):s()}catch(u){o(u)}else if(a!==null){const u=cL();u.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,u)):o(u)}else if(i.canceled){const u=this.appDelete_?Joe():Rtt();o(u)}else{const u=Ptt();o(u)}};this.canceled_?n(!1,new Q1(!1,null,!0)):this.backoffId_=jtt(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&Utt(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Q1{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function qtt(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function Ytt(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function Gtt(e,t){t&&(e["X-Firebase-GMPID"]=t)}function Ktt(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function Qtt(e,t,n,r,i,s,o=!0){const a=Zoe(e.urlParams),u=e.url+a,l=Object.assign({},e.headers);return Gtt(l,t),qtt(l,n),Ytt(l,s),Ktt(l,r),new Wtt(u,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xtt(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Jtt(...e){const t=Xtt();if(t!==void 0){const n=new t;for(let r=0;r<e.length;r++)n.append(e[r]);return n.getBlob()}else{if(dL())return new Blob(e);throw new Rr(Or.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Ztt(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ent(e){if(typeof atob>"u")throw Mtt("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yu={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class oP{constructor(t,n){this.data=t,this.contentType=n||null}}function tnt(e,t){switch(e){case yu.RAW:return new oP(eae(t));case yu.BASE64:case yu.BASE64URL:return new oP(tae(e,t));case yu.DATA_URL:return new oP(rnt(t),int(t))}throw cL()}function eae(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const s=r,o=e.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function nnt(e){let t;try{t=decodeURIComponent(e)}catch{throw dy(yu.DATA_URL,"Malformed data URL.")}return eae(t)}function tae(e,t){switch(e){case yu.BASE64:{const i=t.indexOf("-")!==-1,s=t.indexOf("_")!==-1;if(i||s)throw dy(e,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case yu.BASE64URL:{const i=t.indexOf("+")!==-1,s=t.indexOf("/")!==-1;if(i||s)throw dy(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=ent(t)}catch(i){throw i.message.includes("polyfill")?i:dy(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class nae{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw dy(yu.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=snt(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function rnt(e){const t=new nae(e);return t.base64?tae(yu.BASE64,t.rest):nnt(t.rest)}function int(e){return new nae(e).contentType}function snt(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(t,n){let r=0,i="";iz(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(t,n){if(iz(this.data_)){const r=this.data_,i=Ztt(r,t,n);return i===null?null:new Rc(i)}else{const r=new Uint8Array(this.data_.buffer,t,n-t);return new Rc(r,!0)}}static getBlob(...t){if(dL()){const n=t.map(r=>r instanceof Rc?r.data_:r);return new Rc(Jtt.apply(null,n))}else{const n=t.map(o=>fL(o)?tnt(yu.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Rc(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rae(e){let t;try{t=JSON.parse(e)}catch{return null}return ztt(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ont(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function ant(e,t){const n=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?n:e+"/"+n}function iae(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function unt(e,t){return t}class ls{constructor(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||unt}}let X1=null;function lnt(e){return!fL(e)||e.length<2?e:iae(e)}function sae(){if(X1)return X1;const e=[];e.push(new ls("bucket")),e.push(new ls("generation")),e.push(new ls("metageneration")),e.push(new ls("name","fullPath",!0));function t(s,o){return lnt(o)}const n=new ls("name");n.xform=t,e.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new ls("size");return i.xform=r,e.push(i),e.push(new ls("timeCreated")),e.push(new ls("updated")),e.push(new ls("md5Hash",null,!0)),e.push(new ls("cacheControl",null,!0)),e.push(new ls("contentDisposition",null,!0)),e.push(new ls("contentEncoding",null,!0)),e.push(new ls("contentLanguage",null,!0)),e.push(new ls("contentType",null,!0)),e.push(new ls("metadata","customMetadata",!0)),X1=e,X1}function cnt(e,t){function n(){const r=e.bucket,i=e.fullPath,s=new po(r,i);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function fnt(e,t,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,t[o.server])}return cnt(r,e),r}function oae(e,t,n){const r=rae(t);return r===null?null:fnt(e,r,n)}function dnt(e,t,n,r){const i=rae(t);if(i===null||!fL(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(l=>{const c=e.bucket,f=e.fullPath,d="/b/"+o(c)+"/o/"+o(f),h=hL(d,n,r),p=Zoe({alt:"media",token:l});return h+p})[0]}function hnt(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const s=t[i];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}class aae{constructor(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uae(e){if(!e)throw cL()}function pnt(e,t){function n(r,i){const s=oae(e,i,t);return uae(s!==null),s}return n}function mnt(e,t){function n(r,i){const s=oae(e,i,t);return uae(s!==null),dnt(s,i,e.host,e._protocol)}return n}function lae(e){function t(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=Ctt():i=Att():n.getStatus()===402?i=Itt(e.bucket):n.getStatus()===403?i=Ott(e.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return t}function gnt(e){const t=lae(e);function n(r,i){let s=t(r,i);return r.getStatus()===404&&(s=xtt(e.path)),s.serverResponse=i.serverResponse,s}return n}function ynt(e,t,n){const r=t.fullServerUrl(),i=hL(r,e.host,e._protocol),s="GET",o=e.maxOperationRetryTime,a=new aae(i,s,mnt(e,n),o);return a.errorHandler=gnt(t),a}function _nt(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function vnt(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=_nt(null,t)),r}function bnt(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let v="";for(let T=0;T<2;T++)v=v+Math.random().toString().slice(2);return v}const u=a();o["Content-Type"]="multipart/related; boundary="+u;const l=vnt(t,r,i),c=hnt(l,n),f="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+u+`\r
Content-Type: `+l.contentType+`\r
\r
`,d=`\r
--`+u+"--",h=Rc.getBlob(f,r,d);if(h===null)throw $tt();const p={name:l.fullPath},g=hL(s,e.host,e._protocol),y="POST",m=e.maxUploadRetryTime,_=new aae(g,y,pnt(e,n),m);return _.urlParams=p,_.headers=o,_.body=h.uploadData(),_.errorHandler=lae(t),_}class wnt{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=$d.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=$d.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=$d.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,i){if(this.sent_)throw a0("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw a0("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw a0("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw a0("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw a0("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class Ent extends wnt{initXhr(){this.xhr_.responseType="text"}}function cae(){return new Ent}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(t,n){this._service=t,n instanceof po?this._location=n:this._location=po.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new th(t,n)}get root(){const t=new po(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return iae(this._location.path)}get storage(){return this._service}get parent(){const t=ont(this._location.path);if(t===null)return null;const n=new po(this._location.bucket,t);return new th(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw Ftt(t)}}function Tnt(e,t,n){e._throwIfRoot("uploadBytes");const r=bnt(e.storage,e._location,sae(),new Rc(t,!0),n);return e.storage.makeRequestWithTokens(r,cae).then(i=>({metadata:i,ref:e}))}function Snt(e){e._throwIfRoot("getDownloadURL");const t=ynt(e.storage,e._location,sae());return e.storage.makeRequestWithTokens(t,cae).then(n=>{if(n===null)throw Ltt();return n})}function xnt(e,t){const n=ant(e._location.path,t),r=new po(e._location.bucket,n);return new th(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Int(e){return/^[A-Za-z]+:\/\//.test(e)}function Ant(e,t){return new th(e,t)}function fae(e,t){if(e instanceof pL){const n=e;if(n._bucket==null)throw Dtt();const r=new th(n,n._bucket);return t!=null?fae(r,t):r}else return t!==void 0?xnt(e,t):e}function Cnt(e,t){if(t&&Int(t)){if(e instanceof pL)return Ant(e,t);throw PN("To use ref(service, url), the first argument must be a Storage instance.")}else return fae(e,t)}function oz(e,t){const n=t==null?void 0:t[Xoe];return n==null?null:po.makeFromBucketSpec(n,e)}function Ont(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken=typeof i=="string"?i:KZe(i,e.app.options.projectId))}class pL{constructor(t,n,r,i,s){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=Qoe,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Ttt,this._maxUploadRetryTime=Stt,this._requests=new Set,i!=null?this._bucket=po.makeFromBucketSpec(i,this._host):this._bucket=oz(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=po.makeFromBucketSpec(this._url,t):this._bucket=oz(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){sz("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){sz("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new th(this,t)}_makeRequest(t,n,r,i,s=!0){if(this._deleted)return new Btt(Joe());{const o=Qtt(t,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()}}const az="@firebase/storage",uz="0.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dae="storage";function Pnt(e,t,n){return e=rs(e),Tnt(e,t,n)}function Rnt(e){return e=rs(e),Snt(e)}function lz(e,t){return e=rs(e),Cnt(e,t)}function cz(e=lL(),t){e=rs(e);const r=_g(e,dae).getImmediate({identifier:t}),i=GZe("storage");return i&&Nnt(r,...i),r}function Nnt(e,t,n,r={}){Ont(e,t,n,r)}function knt(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new pL(n,r,i,t,Th)}function Dnt(){Kl(new ju(dae,knt,"PUBLIC").setMultipleInstances(!0)),Da(az,uz,""),Da(az,uz,"esm2017")}Dnt();var $nt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},je,mL=mL||{},St=$nt||self;function QI(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Sv(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function Lnt(e){return Object.prototype.hasOwnProperty.call(e,aP)&&e[aP]||(e[aP]=++Mnt)}var aP="closure_uid_"+(1e9*Math.random()>>>0),Mnt=0;function Fnt(e,t,n){return e.call.apply(e.bind,arguments)}function Bnt(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function Ji(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ji=Fnt:Ji=Bnt,Ji.apply(null,arguments)}function J1(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function _i(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[i].apply(r,o)}}function zf(){this.s=this.s,this.o=this.o}var jnt=0;zf.prototype.s=!1;zf.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),jnt!=0)&&Lnt(this)};zf.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const hae=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function gL(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function fz(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(QI(r)){const i=e.length||0,s=r.length||0;e.length=i+s;for(let o=0;o<s;o++)e[i+o]=r[o]}else e.push(r)}}function Zi(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Zi.prototype.h=function(){this.defaultPrevented=!0};var Unt=function(){if(!St.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const n=()=>{};St.addEventListener("test",n,t),St.removeEventListener("test",n,t)}catch{}return e}();function p_(e){return/^[\s\xa0]*$/.test(e)}function XI(){var e=St.navigator;return e&&(e=e.userAgent)?e:""}function hu(e){return XI().indexOf(e)!=-1}function yL(e){return yL[" "](e),e}yL[" "]=function(){};function Vnt(e,t){var n=Drt;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var znt=hu("Opera"),$m=hu("Trident")||hu("MSIE"),pae=hu("Edge"),RN=pae||$m,mae=hu("Gecko")&&!(XI().toLowerCase().indexOf("webkit")!=-1&&!hu("Edge"))&&!(hu("Trident")||hu("MSIE"))&&!hu("Edge"),Hnt=XI().toLowerCase().indexOf("webkit")!=-1&&!hu("Edge");function gae(){var e=St.document;return e?e.documentMode:void 0}var NN;e:{var uP="",lP=function(){var e=XI();if(mae)return/rv:([^\);]+)(\)|;)/.exec(e);if(pae)return/Edge\/([\d\.]+)/.exec(e);if($m)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(Hnt)return/WebKit\/(\S+)/.exec(e);if(znt)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(lP&&(uP=lP?lP[1]:""),$m){var cP=gae();if(cP!=null&&cP>parseFloat(uP)){NN=String(cP);break e}}NN=uP}var kN;if(St.document&&$m){var dz=gae();kN=dz||parseInt(NN,10)||void 0}else kN=void 0;var Wnt=kN;function m_(e,t){if(Zi.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(mae){e:{try{yL(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:qnt[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&m_.$.h.call(this)}}_i(m_,Zi);var qnt={2:"touch",3:"pen",4:"mouse"};m_.prototype.h=function(){m_.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var xv="closure_listenable_"+(1e6*Math.random()|0),Ynt=0;function Gnt(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Ynt,this.fa=this.ia=!1}function JI(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function _L(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Knt(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function yae(e){const t={};for(const n in e)t[n]=e[n];return t}const hz="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _ae(e,t){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(let s=0;s<hz.length;s++)n=hz[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ZI(e){this.src=e,this.g={},this.h=0}ZI.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var o=$N(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):(t=new Gnt(t,this.src,s,!!r,i),t.ia=n,e.push(t)),t};function DN(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=hae(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(JI(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function $N(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}var vL="closure_lm_"+(1e6*Math.random()|0),fP={};function vae(e,t,n,r,i){if(r&&r.once)return wae(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)vae(e,t[s],n,r,i);return null}return n=EL(n),e&&e[xv]?e.O(t,n,Sv(r)?!!r.capture:!!r,i):bae(e,t,n,!1,r,i)}function bae(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=Sv(i)?!!i.capture:!!i,a=wL(e);if(a||(e[vL]=a=new ZI(e)),n=a.add(t,n,r,o,s),n.proxy)return n;if(r=Qnt(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Unt||(i=o),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Tae(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Qnt(){function e(n){return t.call(e.src,e.listener,n)}const t=Xnt;return e}function wae(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)wae(e,t[s],n,r,i);return null}return n=EL(n),e&&e[xv]?e.P(t,n,Sv(r)?!!r.capture:!!r,i):bae(e,t,n,!0,r,i)}function Eae(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Eae(e,t[s],n,r,i);else r=Sv(r)?!!r.capture:!!r,n=EL(n),e&&e[xv]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=$N(s,n,r,i),-1<n&&(JI(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=wL(e))&&(t=e.g[t.toString()],e=-1,t&&(e=$N(t,n,r,i)),(n=-1<e?t[e]:null)&&bL(n))}function bL(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[xv])DN(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Tae(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=wL(t))?(DN(n,e),n.h==0&&(n.src=null,t[vL]=null)):JI(e)}}}function Tae(e){return e in fP?fP[e]:fP[e]="on"+e}function Xnt(e,t){if(e.fa)e=!0;else{t=new m_(t,this);var n=e.listener,r=e.la||e.src;e.ia&&bL(e),e=n.call(r,t)}return e}function wL(e){return e=e[vL],e instanceof ZI?e:null}var dP="__closure_events_fn_"+(1e9*Math.random()>>>0);function EL(e){return typeof e=="function"?e:(e[dP]||(e[dP]=function(t){return e.handleEvent(t)}),e[dP])}function mi(){zf.call(this),this.i=new ZI(this),this.S=this,this.J=null}_i(mi,zf);mi.prototype[xv]=!0;mi.prototype.removeEventListener=function(e,t,n,r){Eae(this,e,t,n,r)};function Di(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,typeof t=="string")t=new Zi(t,e);else if(t instanceof Zi)t.target=t.target||e;else{var i=t;t=new Zi(r,e),_ae(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=Z1(o,r,!0,t)&&i}if(o=t.g=e,i=Z1(o,r,!0,t)&&i,i=Z1(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)o=t.g=n[s],i=Z1(o,r,!1,t)&&i}mi.prototype.N=function(){if(mi.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)JI(n[r]);delete e.g[t],e.h--}}this.J=null};mi.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};mi.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function Z1(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&DN(e.i,o),i=a.call(u,r)!==!1&&i}}return i&&!r.defaultPrevented}var TL=St.JSON.stringify;class Jnt{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function Znt(){var e=SL;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class ert{constructor(){this.h=this.g=null}add(t,n){const r=Sae.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Sae=new Jnt(()=>new trt,e=>e.reset());class trt{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function nrt(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function rrt(e){St.setTimeout(()=>{throw e},0)}let g_,y_=!1,SL=new ert,xae=()=>{const e=St.Promise.resolve(void 0);g_=()=>{e.then(irt)}};var irt=()=>{for(var e;e=Znt();){try{e.h.call(e.g)}catch(n){rrt(n)}var t=Sae;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}y_=!1};function eA(e,t){mi.call(this),this.h=e||1,this.g=t||St,this.j=Ji(this.qb,this),this.l=Date.now()}_i(eA,mi);je=eA.prototype;je.ga=!1;je.T=null;je.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Di(this,"tick"),this.ga&&(xL(this),this.start()))}};je.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function xL(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}je.N=function(){eA.$.N.call(this),xL(this),delete this.g};function IL(e,t,n){if(typeof e=="function")n&&(e=Ji(e,n));else if(e&&typeof e.handleEvent=="function")e=Ji(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:St.setTimeout(e,t||0)}function Iae(e){e.g=IL(()=>{e.g=null,e.i&&(e.i=!1,Iae(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class srt extends zf{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:Iae(this)}N(){super.N(),this.g&&(St.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function __(e){zf.call(this),this.h=e,this.g={}}_i(__,zf);var pz=[];function Aae(e,t,n,r){Array.isArray(n)||(n&&(pz[0]=n.toString()),n=pz);for(var i=0;i<n.length;i++){var s=vae(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function Cae(e){_L(e.g,function(t,n){this.g.hasOwnProperty(n)&&bL(t)},e),e.g={}}__.prototype.N=function(){__.$.N.call(this),Cae(this)};__.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function tA(){this.g=!0}tA.prototype.Ea=function(){this.g=!1};function ort(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var f=c.split("_");o=2<=f.length&&f[1]=="type"?o+(c+"="+l+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+o})}function art(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+o})}function vp(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+lrt(e,n)+(r?" "+r:"")})}function urt(e,t){e.info(function(){return"TIMEOUT: "+t})}tA.prototype.info=function(){};function lrt(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return TL(n)}catch{return t}}var Sh={},mz=null;function nA(){return mz=mz||new mi}Sh.Ta="serverreachability";function Oae(e){Zi.call(this,Sh.Ta,e)}_i(Oae,Zi);function v_(e){const t=nA();Di(t,new Oae(t))}Sh.STAT_EVENT="statevent";function Pae(e,t){Zi.call(this,Sh.STAT_EVENT,e),this.stat=t}_i(Pae,Zi);function ds(e){const t=nA();Di(t,new Pae(t,e))}Sh.Ua="timingevent";function Rae(e,t){Zi.call(this,Sh.Ua,e),this.size=t}_i(Rae,Zi);function Iv(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return St.setTimeout(function(){e()},t)}var rA={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Nae={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function AL(){}AL.prototype.h=null;function gz(e){return e.h||(e.h=e.i())}function kae(){}var Av={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function CL(){Zi.call(this,"d")}_i(CL,Zi);function OL(){Zi.call(this,"c")}_i(OL,Zi);var LN;function iA(){}_i(iA,AL);iA.prototype.g=function(){return new XMLHttpRequest};iA.prototype.i=function(){return{}};LN=new iA;function Cv(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new __(this),this.P=crt,e=RN?125:void 0,this.V=new eA(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Dae}function Dae(){this.i=null,this.g="",this.h=!1}var crt=45e3,$ae={},MN={};je=Cv.prototype;je.setTimeout=function(e){this.P=e};function FN(e,t,n){e.L=1,e.A=oA(Ql(t)),e.u=n,e.S=!0,Lae(e,null)}function Lae(e,t){e.G=Date.now(),Ov(e),e.B=Ql(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),Hae(n.i,"t",r),e.o=0,n=e.l.J,e.h=new Dae,e.g=fue(e.l,n?t:null,!e.u),0<e.O&&(e.M=new srt(Ji(e.Pa,e,e.g),e.O)),Aae(e.U,e.g,"readystatechange",e.nb),t=e.I?yae(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),v_(),ort(e.j,e.v,e.B,e.m,e.W,e.u)}je.nb=function(e){e=e.target;const t=this.M;t&&_u(e)==3?t.l():this.Pa(e)};je.Pa=function(e){try{if(e==this.g)e:{const c=_u(this.g);var t=this.g.Ia();const f=this.g.da();if(!(3>c)&&(c!=3||RN||this.g&&(this.h.h||this.g.ja()||bz(this.g)))){this.J||c!=4||t==7||(t==8||0>=f?v_(3):v_(2)),sA(this);var n=this.g.da();this.ca=n;t:if(Mae(this)){var r=bz(this.g);e="";var i=r.length,s=_u(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Id(this),hy(this);var o="";break t}this.h.i=new St.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.length=0,this.h.g+=e,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,art(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p_(a)){var l=a;break t}}l=null}if(n=l)vp(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,BN(this,n);else{this.i=!1,this.s=3,ds(12),Id(this),hy(this);break e}}this.S?(Fae(this,c,o),RN&&this.i&&c==3&&(Aae(this.U,this.V,"tick",this.mb),this.V.start())):(vp(this.j,this.m,o,null),BN(this,o)),c==4&&Id(this),this.i&&!this.J&&(c==4?aue(this.l,this):(this.i=!1,Ov(this)))}else Rrt(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,ds(12)):(this.s=0,ds(13)),Id(this),hy(this)}}}catch{}finally{}};function Mae(e){return e.g?e.v=="GET"&&e.L!=2&&e.l.Ha:!1}function Fae(e,t,n){let r=!0,i;for(;!e.J&&e.o<n.length;)if(i=frt(e,n),i==MN){t==4&&(e.s=4,ds(14),r=!1),vp(e.j,e.m,null,"[Incomplete Response]");break}else if(i==$ae){e.s=4,ds(15),vp(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else vp(e.j,e.m,i,null),BN(e,i);Mae(e)&&e.o!=0&&(e.h.g=e.h.g.slice(e.o),e.o=0),t!=4||n.length!=0||e.h.h||(e.s=1,ds(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),$L(t),t.M=!0,ds(11))):(vp(e.j,e.m,n,"[Invalid Chunked Response]"),Id(e),hy(e))}je.mb=function(){if(this.g){var e=_u(this.g),t=this.g.ja();this.o<t.length&&(sA(this),Fae(this,e,t),this.i&&e!=4&&Ov(this))}};function frt(e,t){var n=e.o,r=t.indexOf(`
`,n);return r==-1?MN:(n=Number(t.substring(n,r)),isNaN(n)?$ae:(r+=1,r+n>t.length?MN:(t=t.slice(r,r+n),e.o=r+n,t)))}je.cancel=function(){this.J=!0,Id(this)};function Ov(e){e.Y=Date.now()+e.P,Bae(e,e.P)}function Bae(e,t){if(e.C!=null)throw Error("WatchDog timer not null");e.C=Iv(Ji(e.lb,e),t)}function sA(e){e.C&&(St.clearTimeout(e.C),e.C=null)}je.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(urt(this.j,this.B),this.L!=2&&(v_(),ds(17)),Id(this),this.s=2,hy(this)):Bae(this,this.Y-e)};function hy(e){e.l.H==0||e.J||aue(e.l,e)}function Id(e){sA(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,xL(e.V),Cae(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function BN(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||jN(n.i,e))){if(!e.K&&jN(n.i,e)&&n.H==3){try{var r=n.Ja.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)CS(n),cA(n);else break e;DL(n),ds(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Iv(Ji(n.ib,n),6e3));if(1>=Yae(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ad(n,11)}else if((e.K||n.g==e)&&CS(n),!p_(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let l=i[t];if(n.V=l[0],l=l[1],n.H==2)if(l[0]=="c"){n.K=l[1],n.pa=l[2];const c=l[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const f=l[4];f!=null&&(n.Ga=f,n.l.info("SVER="+n.Ga));const d=l[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const p=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(PL(s,s.h),s.h=null))}if(r.F){const g=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Zn(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=e;if(r.wa=cue(r,r.J?r.pa:null,r.Y),o.K){Gae(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.C&&(sA(a),Ov(a)),r.g=o}else sue(r);0<n.j.length&&fA(n)}else l[0]!="stop"&&l[0]!="close"||Ad(n,7);else n.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?Ad(n,7):kL(n):l[0]!="noop"&&n.h&&n.h.Aa(l),n.A=0)}}v_(4)}catch{}}function drt(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(QI(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function hrt(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(QI(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function jae(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(QI(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=hrt(e),r=drt(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}var Uae=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function prt(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ld(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Ld){this.h=e.h,IS(this,e.j),this.s=e.s,this.g=e.g,AS(this,e.m),this.l=e.l;var t=e.i,n=new b_;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),yz(this,n),this.o=e.o}else e&&(t=String(e).match(Uae))?(this.h=!1,IS(this,t[1]||"",!0),this.s=R0(t[2]||""),this.g=R0(t[3]||"",!0),AS(this,t[4]),this.l=R0(t[5]||"",!0),yz(this,t[6]||"",!0),this.o=R0(t[7]||"")):(this.h=!1,this.i=new b_(null,this.h))}Ld.prototype.toString=function(){var e=[],t=this.j;t&&e.push(N0(t,_z,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(N0(t,_z,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(N0(n,n.charAt(0)=="/"?yrt:grt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",N0(n,vrt)),e.join("")};function Ql(e){return new Ld(e)}function IS(e,t,n){e.j=n?R0(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function AS(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function yz(e,t,n){t instanceof b_?(e.i=t,brt(e.i,e.h)):(n||(t=N0(t,_rt)),e.i=new b_(t,e.h))}function Zn(e,t,n){e.i.set(t,n)}function oA(e){return Zn(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function R0(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function N0(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,mrt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function mrt(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var _z=/[#\/\?@]/g,grt=/[#\?:]/g,yrt=/[#\?]/g,_rt=/[#\?@]/g,vrt=/#/g;function b_(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Hf(e){e.g||(e.g=new Map,e.h=0,e.i&&prt(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}je=b_.prototype;je.add=function(e,t){Hf(this),this.i=null,e=vg(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function Vae(e,t){Hf(e),t=vg(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function zae(e,t){return Hf(e),t=vg(e,t),e.g.has(t)}je.forEach=function(e,t){Hf(this),this.g.forEach(function(n,r){n.forEach(function(i){e.call(t,i,r,this)},this)},this)};je.ta=function(){Hf(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let s=0;s<i.length;s++)n.push(t[r])}return n};je.Z=function(e){Hf(this);let t=[];if(typeof e=="string")zae(this,e)&&(t=t.concat(this.g.get(vg(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};je.set=function(e,t){return Hf(this),this.i=null,e=vg(this,e),zae(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};je.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function Hae(e,t,n){Vae(e,t),0<n.length&&(e.i=null,e.g.set(vg(e,t),gL(n)),e.h+=n.length)}je.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};function vg(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function brt(e,t){t&&!e.j&&(Hf(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(Vae(this,r),Hae(this,i,n))},e)),e.j=t}var wrt=class{constructor(e,t){this.g=e,this.map=t}};function Wae(e){this.l=e||Ert,St.PerformanceNavigationTiming?(e=St.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(St.g&&St.g.Ka&&St.g.Ka()&&St.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ert=10;function qae(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function Yae(e){return e.h?1:e.g?e.g.size:0}function jN(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function PL(e,t){e.g?e.g.add(t):e.h=t}function Gae(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}Wae.prototype.cancel=function(){if(this.i=Kae(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function Kae(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return gL(e.i)}var Trt=class{stringify(e){return St.JSON.stringify(e,void 0)}parse(e){return St.JSON.parse(e,void 0)}};function Srt(){this.g=new Trt}function xrt(e,t,n){const r=n||"";try{jae(e,function(i,s){let o=i;Sv(i)&&(o=TL(i)),t.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Irt(e,t){const n=new tA;if(St.Image){const r=new Image;r.onload=J1(eb,n,r,"TestLoadImage: loaded",!0,t),r.onerror=J1(eb,n,r,"TestLoadImage: error",!1,t),r.onabort=J1(eb,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=J1(eb,n,r,"TestLoadImage: timeout",!1,t),St.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function eb(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function aA(e){this.l=e.ec||null,this.j=e.ob||!1}_i(aA,AL);aA.prototype.g=function(){return new uA(this.l,this.j)};aA.prototype.i=function(e){return function(){return e}}({});function uA(e,t){mi.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=RL,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}_i(uA,mi);var RL=0;je=uA.prototype;je.open=function(e,t){if(this.readyState!=RL)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,w_(this)};je.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||St).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};je.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Pv(this)),this.readyState=RL};je.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,w_(this)),this.g&&(this.readyState=3,w_(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof St.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Qae(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function Qae(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}je.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Pv(this):w_(this),this.readyState==3&&Qae(this)}};je.Za=function(e){this.g&&(this.response=this.responseText=e,Pv(this))};je.Ya=function(e){this.g&&(this.response=e,Pv(this))};je.ka=function(){this.g&&Pv(this)};function Pv(e){e.readyState=4,e.l=null,e.j=null,e.A=null,w_(e)}je.setRequestHeader=function(e,t){this.v.append(e,t)};je.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};je.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function w_(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(uA.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var Art=St.JSON.parse;function Pr(e){mi.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Xae,this.L=this.M=!1}_i(Pr,mi);var Xae="",Crt=/^https?$/i,Ort=["POST","PUT"];je=Pr.prototype;je.Oa=function(e){this.M=e};je.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():LN.g(),this.C=this.u?gz(this.u):gz(LN),this.g.onreadystatechange=Ji(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){vz(this,s);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=St.FormData&&e instanceof St.FormData,!(0<=hae(Ort,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{eue(this),0<this.B&&((this.L=Prt(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ji(this.ua,this)):this.A=IL(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){vz(this,s)}};function Prt(e){return $m&&typeof e.timeout=="number"&&e.ontimeout!==void 0}je.ua=function(){typeof mL<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Di(this,"timeout"),this.abort(8))};function vz(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Jae(e),lA(e)}function Jae(e){e.F||(e.F=!0,Di(e,"complete"),Di(e,"error"))}je.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Di(this,"complete"),Di(this,"abort"),lA(this))};je.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),lA(this,!0)),Pr.$.N.call(this)};je.La=function(){this.s||(this.G||this.v||this.l?Zae(this):this.kb())};je.kb=function(){Zae(this)};function Zae(e){if(e.h&&typeof mL<"u"&&(!e.C[1]||_u(e)!=4||e.da()!=2)){if(e.v&&_u(e)==4)IL(e.La,0,e);else if(Di(e,"readystatechange"),_u(e)==4){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=o===0){var i=String(e.I).match(Uae)[1]||null;!i&&St.self&&St.self.location&&(i=St.self.location.protocol.slice(0,-1)),r=!Crt.test(i?i.toLowerCase():"")}n=r}if(n)Di(e,"complete"),Di(e,"success");else{e.m=6;try{var s=2<_u(e)?e.g.statusText:""}catch{s=""}e.j=s+" ["+e.da()+"]",Jae(e)}}finally{lA(e)}}}}function lA(e,t){if(e.g){eue(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Di(e,"ready");try{n.onreadystatechange=r}catch{}}}function eue(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(St.clearTimeout(e.A),e.A=null)}je.isActive=function(){return!!this.g};function _u(e){return e.g?e.g.readyState:0}je.da=function(){try{return 2<_u(this)?this.g.status:-1}catch{return-1}};je.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};je.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),Art(t)}};function bz(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Xae:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function Rrt(e){const t={};e=(e.g&&2<=_u(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<e.length;r++){if(p_(e[r]))continue;var n=nrt(e[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}Knt(t,function(r){return r.join(", ")})}je.Ia=function(){return this.m};je.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function tue(e){let t="";return _L(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function NL(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=tue(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Zn(e,t,n))}function u0(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function nue(e){this.Ga=0,this.j=[],this.l=new tA,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=u0("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=u0("baseRetryDelayMs",5e3,e),this.hb=u0("retryDelaySeedMs",1e4,e),this.eb=u0("forwardChannelMaxRetries",2,e),this.xa=u0("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Wae(e&&e.concurrentRequestLimit),this.Ja=new Srt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}je=nue.prototype;je.ra=8;je.H=1;function kL(e){if(rue(e),e.H==3){var t=e.W++,n=Ql(e.I);if(Zn(n,"SID",e.K),Zn(n,"RID",t),Zn(n,"TYPE","terminate"),Rv(e,n),t=new Cv(e,e.l,t),t.L=2,t.A=oA(Ql(n)),n=!1,St.navigator&&St.navigator.sendBeacon)try{n=St.navigator.sendBeacon(t.A.toString(),"")}catch{}!n&&St.Image&&(new Image().src=t.A,n=!0),n||(t.g=fue(t.l,null),t.g.ha(t.A)),t.G=Date.now(),Ov(t)}lue(e)}function cA(e){e.g&&($L(e),e.g.cancel(),e.g=null)}function rue(e){cA(e),e.u&&(St.clearTimeout(e.u),e.u=null),CS(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&St.clearTimeout(e.m),e.m=null)}function fA(e){if(!qae(e.i)&&!e.m){e.m=!0;var t=e.Na;g_||xae(),y_||(g_(),y_=!0),SL.add(t,e),e.C=0}}function Nrt(e,t){return Yae(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=Iv(Ji(e.Na,e,t),uue(e,e.C)),e.C++,!0)}je.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Cv(this,this.l,e);let s=this.s;if(this.U&&(s?(s=yae(s),_ae(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break e}if(t===4096||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=iue(this,i,t),n=Ql(this.I),Zn(n,"RID",e),Zn(n,"CVER",22),this.F&&Zn(n,"X-HTTP-Session-Id",this.F),Rv(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(tue(s)))+"&"+t:this.o&&NL(n,this.o,s)),PL(this.i,i),this.bb&&Zn(n,"TYPE","init"),this.P?(Zn(n,"$req",t),Zn(n,"SID","null"),i.aa=!0,FN(i,n,null)):FN(i,n,t),this.H=2}}else this.H==3&&(e?wz(this,e):this.j.length==0||qae(this.i)||wz(this))};function wz(e,t){var n;t?n=t.m:n=e.W++;const r=Ql(e.I);Zn(r,"SID",e.K),Zn(r,"RID",n),Zn(r,"AID",e.V),Rv(e,r),e.o&&e.s&&NL(r,e.o,e.s),n=new Cv(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=iue(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),PL(e.i,n),FN(n,r,t)}function Rv(e,t){e.na&&_L(e.na,function(n,r){Zn(t,r,n)}),e.h&&jae({},function(n,r){Zn(t,r,n)})}function iue(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Ji(e.h.Va,e.h,e):null;e:{var i=e.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let l=i[u].g;const c=i[u].map;if(l-=s,0>l)s=Math.max(0,i[u].g-100),a=!1;else try{xrt(c,o,"req"+l+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function sue(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;g_||xae(),y_||(g_(),y_=!0),SL.add(t,e),e.A=0}}function DL(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=Iv(Ji(e.Ma,e),uue(e,e.A)),e.A++,!0)}je.Ma=function(){if(this.u=null,oue(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Iv(Ji(this.jb,this),e)}};je.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ds(10),cA(this),oue(this))};function $L(e){e.B!=null&&(St.clearTimeout(e.B),e.B=null)}function oue(e){e.g=new Cv(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=Ql(e.wa);Zn(t,"RID","rpc"),Zn(t,"SID",e.K),Zn(t,"AID",e.V),Zn(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Zn(t,"TO",e.qa),Zn(t,"TYPE","xmlhttp"),Rv(e,t),e.o&&e.s&&NL(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=oA(Ql(t)),n.u=null,n.S=!0,Lae(n,e)}je.ib=function(){this.v!=null&&(this.v=null,cA(this),DL(this),ds(19))};function CS(e){e.v!=null&&(St.clearTimeout(e.v),e.v=null)}function aue(e,t){var n=null;if(e.g==t){CS(e),$L(e),e.g=null;var r=2}else if(jN(e.i,t))n=t.F,Gae(e.i,t),r=1;else return;if(e.H!=0){if(t.i)if(r==1){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;r=nA(),Di(r,new Rae(r,n)),fA(e)}else sue(e);else if(i=t.s,i==3||i==0&&0<t.ca||!(r==1&&Nrt(e,t)||r==2&&DL(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Ad(e,5);break;case 4:Ad(e,10);break;case 3:Ad(e,6);break;default:Ad(e,2)}}}function uue(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Ad(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var r=Ji(e.pb,e);n||(n=new Ld("//www.google.com/images/cleardot.gif"),St.location&&St.location.protocol=="http"||IS(n,"https"),oA(n)),Irt(n.toString(),r)}else ds(2);e.H=0,e.h&&e.h.za(t),lue(e),rue(e)}je.pb=function(e){e?(this.l.info("Successfully pinged google.com"),ds(2)):(this.l.info("Failed to ping google.com"),ds(1))};function lue(e){if(e.H=0,e.ma=[],e.h){const t=Kae(e.i);(t.length!=0||e.j.length!=0)&&(fz(e.ma,t),fz(e.ma,e.j),e.i.i.length=0,gL(e.j),e.j.length=0),e.h.ya()}}function cue(e,t,n){var r=n instanceof Ld?Ql(n):new Ld(n);if(r.g!="")t&&(r.g=t+"."+r.g),AS(r,r.m);else{var i=St.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new Ld(null);r&&IS(s,r),t&&(s.g=t),i&&AS(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&Zn(r,n,t),Zn(r,"VER",e.ra),Rv(e,r),r}function fue(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=e.Ha&&!e.va?new Pr(new aA({ob:n})):new Pr(e.va),t.Oa(e.J),t}je.isActive=function(){return!!this.h&&this.h.isActive(this)};function due(){}je=due.prototype;je.Ba=function(){};je.Aa=function(){};je.za=function(){};je.ya=function(){};je.isActive=function(){return!0};je.Va=function(){};function OS(){if($m&&!(10<=Number(Wnt)))throw Error("Environmental error: no available transport.")}OS.prototype.g=function(e,t){return new xo(e,t)};function xo(e,t){mi.call(this),this.g=new nue(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!p_(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p_(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new bg(this)}_i(xo,mi);xo.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;ds(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=cue(e,null,e.Y),fA(e)};xo.prototype.close=function(){kL(this.g)};xo.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=TL(e),e=n);t.j.push(new wrt(t.fb++,e)),t.H==3&&fA(t)};xo.prototype.N=function(){this.g.h=null,delete this.j,kL(this.g),delete this.g,xo.$.N.call(this)};function hue(e){CL.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}_i(hue,CL);function pue(){OL.call(this),this.status=1}_i(pue,OL);function bg(e){this.g=e}_i(bg,due);bg.prototype.Ba=function(){Di(this.g,"a")};bg.prototype.Aa=function(e){Di(this.g,new hue(e))};bg.prototype.za=function(e){Di(this.g,new pue)};bg.prototype.ya=function(){Di(this.g,"b")};function krt(){this.blockSize=-1}function Ba(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}_i(Ba,krt);Ba.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function hP(e,t,n){n||(n=0);var r=Array(16);if(typeof t=="string")for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[1]+3905402710&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[5]+1200080426&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[9]+2336552879&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[13]+4254626195&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(i^s&(n^i))+r[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[6]+3225465664&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[10]+38016083&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[14]+3275163606&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[2]+4243563512&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(n^i^s)+r[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[8]+2272392833&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[4]+1272893353&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[0]+3936430074&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[12]+3873151461&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(i^(n|~s))+r[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[7]+1126891415&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[3]+2399980690&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[15]+4264355552&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[11]+3174756917&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}Ba.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(i==0)for(;s<=n;)hP(this,e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){hP(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){hP(this,r),i=0;break}}this.h=i,this.i+=t};Ba.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};function Nn(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=e[i]|0;r&&s==t||(n[i]=s,r=!1)}this.g=n}var Drt={};function LL(e){return-128<=e&&128>e?Vnt(e,function(t){return new Nn([t|0],0>t?-1:0)}):new Nn([e|0],0>e?-1:0)}function vu(e){if(isNaN(e)||!isFinite(e))return Wp;if(0>e)return Pi(vu(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=UN;return new Nn(t,0)}function mue(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return Pi(mue(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=vu(Math.pow(t,8)),r=Wp,i=0;i<e.length;i+=8){var s=Math.min(8,e.length-i),o=parseInt(e.substring(i,i+s),t);8>s?(s=vu(Math.pow(t,s)),r=r.R(s).add(vu(o))):(r=r.R(n),r=r.add(vu(o)))}return r}var UN=4294967296,Wp=LL(0),VN=LL(1),Ez=LL(16777216);je=Nn.prototype;je.ea=function(){if(qo(this))return-Pi(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:UN+r)*t,t*=UN}return e};je.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(vl(this))return"0";if(qo(this))return"-"+Pi(this).toString(e);for(var t=vu(Math.pow(e,6)),n=this,r="";;){var i=RS(n,t).g;n=PS(n,i.R(t));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=i,vl(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};je.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function vl(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function qo(e){return e.h==-1}je.X=function(e){return e=PS(this,e),qo(e)?-1:vl(e)?0:1};function Pi(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Nn(n,~e.h).add(VN)}je.abs=function(){return qo(this)?Pi(this):this};je.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(this.D(i)&65535)+(e.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Nn(n,n[n.length-1]&-2147483648?-1:0)};function PS(e,t){return e.add(Pi(t))}je.R=function(e){if(vl(this)||vl(e))return Wp;if(qo(this))return qo(e)?Pi(this).R(Pi(e)):Pi(Pi(this).R(e));if(qo(e))return Pi(this.R(Pi(e)));if(0>this.X(Ez)&&0>e.X(Ez))return vu(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=e.D(i)>>>16,u=e.D(i)&65535;n[2*r+2*i]+=o*u,tb(n,2*r+2*i),n[2*r+2*i+1]+=s*u,tb(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,tb(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,tb(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Nn(n,0)};function tb(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function l0(e,t){this.g=e,this.h=t}function RS(e,t){if(vl(t))throw Error("division by zero");if(vl(e))return new l0(Wp,Wp);if(qo(e))return t=RS(Pi(e),t),new l0(Pi(t.g),Pi(t.h));if(qo(t))return t=RS(e,Pi(t)),new l0(Pi(t.g),t.h);if(30<e.g.length){if(qo(e)||qo(t))throw Error("slowDivide_ only works with positive integers.");for(var n=VN,r=t;0>=r.X(e);)n=Tz(n),r=Tz(r);var i=jh(n,1),s=jh(r,1);for(r=jh(r,2),n=jh(n,2);!vl(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=jh(r,1),n=jh(n,1)}return t=PS(e,i.R(t)),new l0(i,t)}for(i=Wp;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=vu(n),o=s.R(t);qo(o)||0<o.X(e);)n-=r,s=vu(n),o=s.R(t);vl(s)&&(s=VN),i=i.add(s),e=PS(e,o)}return new l0(i,e)}je.gb=function(e){return RS(this,e).h};je.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Nn(n,this.h&e.h)};je.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Nn(n,this.h|e.h)};je.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Nn(n,this.h^e.h)};function Tz(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Nn(n,e.h)}function jh(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new Nn(i,e.h)}OS.prototype.createWebChannel=OS.prototype.g;xo.prototype.send=xo.prototype.u;xo.prototype.open=xo.prototype.m;xo.prototype.close=xo.prototype.close;rA.NO_ERROR=0;rA.TIMEOUT=8;rA.HTTP_ERROR=6;Nae.COMPLETE="complete";kae.EventType=Av;Av.OPEN="a";Av.CLOSE="b";Av.ERROR="c";Av.MESSAGE="d";mi.prototype.listen=mi.prototype.O;Pr.prototype.listenOnce=Pr.prototype.P;Pr.prototype.getLastError=Pr.prototype.Sa;Pr.prototype.getLastErrorCode=Pr.prototype.Ia;Pr.prototype.getStatus=Pr.prototype.da;Pr.prototype.getResponseJson=Pr.prototype.Wa;Pr.prototype.getResponseText=Pr.prototype.ja;Pr.prototype.send=Pr.prototype.ha;Pr.prototype.setWithCredentials=Pr.prototype.Oa;Ba.prototype.digest=Ba.prototype.l;Ba.prototype.reset=Ba.prototype.reset;Ba.prototype.update=Ba.prototype.j;Nn.prototype.add=Nn.prototype.add;Nn.prototype.multiply=Nn.prototype.R;Nn.prototype.modulo=Nn.prototype.gb;Nn.prototype.compare=Nn.prototype.X;Nn.prototype.toNumber=Nn.prototype.ea;Nn.prototype.toString=Nn.prototype.toString;Nn.prototype.getBits=Nn.prototype.D;Nn.fromNumber=vu;Nn.fromString=mue;var $rt=function(){return new OS},Lrt=function(){return nA()},pP=rA,Mrt=Nae,Frt=Sh,Sz={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},nb=kae,Brt=Pr,jrt=Ba,qp=Nn;const xz="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Os.UNAUTHENTICATED=new Os(null),Os.GOOGLE_CREDENTIALS=new Os("google-credentials-uid"),Os.FIRST_PARTY=new Os("first-party-uid"),Os.MOCK_USER=new Os("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wg="10.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh=new KI("@firebase/firestore");function c0(){return nh.logLevel}function et(e,...t){if(nh.logLevel<=rn.DEBUG){const n=t.map(ML);nh.debug(`Firestore (${wg}): ${e}`,...n)}}function Xl(e,...t){if(nh.logLevel<=rn.ERROR){const n=t.map(ML);nh.error(`Firestore (${wg}): ${e}`,...n)}}function E_(e,...t){if(nh.logLevel<=rn.WARN){const n=t.map(ML);nh.warn(`Firestore (${wg}): ${e}`,...n)}}function ML(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(e="Unexpected state"){const t=`FIRESTORE (${wg}) INTERNAL ASSERTION FAILED: `+e;throw Xl(t),new Error(t)}function Yn(e,t){e||vt()}function Nt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class it extends Xu{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Urt{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Vrt{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Os.UNAUTHENTICATED))}shutdown(){}}class zrt{constructor(t){this.t=t,this.currentUser=Os.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new Ol;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ol,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;t.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{et("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(et("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ol)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(et("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Yn(typeof r.accessToken=="string"),new Urt(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Yn(t===null||typeof t=="string"),new Os(t)}}class Hrt{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Os.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Wrt{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new Hrt(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Os.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qrt{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Yrt{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const r=s=>{s.error!=null&&et("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,et("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{et("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):et("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Yn(typeof n.token=="string"),this.R=n.token,new qrt(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Grt(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gue{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=Grt(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length))}return r}}function xn(e,t){return e<t?-1:e>t?1:0}function Lm(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new it(Ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new it(Ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new it(Ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new it(Ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return ni.fromMillis(Date.now())}static fromDate(t){return ni.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new ni(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?xn(this.nanoseconds,t.nanoseconds):xn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(t){this.timestamp=t}static fromTimestamp(t){return new It(t)}static min(){return new It(new ni(0,0))}static max(){return new It(new ni(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(t,n,r){n===void 0?n=0:n>t.length&&vt(),r===void 0?r=t.length-n:r>t.length-n&&vt(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return T_.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof T_?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const s=t.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class cr extends T_{construct(t,n,r){return new cr(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new it(Ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new cr(n)}static emptyPath(){return new cr([])}}const Krt=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ri extends T_{construct(t,n,r){return new Ri(t,n,r)}static isValidIdentifier(t){return Krt.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ri.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ri(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new it(Ie.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new it(Ie.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new it(Ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new it(Ie.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ri(n)}static emptyPath(){return new Ri([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(t){this.path=t}static fromPath(t){return new ft(cr.fromString(t))}static fromName(t){return new ft(cr.fromString(t).popFirst(5))}static empty(){return new ft(cr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&cr.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return cr.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ft(new cr(t.slice()))}}function Qrt(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=It.fromTimestamp(r===1e9?new ni(n+1,0):new ni(n,r));return new If(i,ft.empty(),t)}function Xrt(e){return new If(e.readTime,e.key,-1)}class If{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new If(It.min(),ft.empty(),-1)}static max(){return new If(It.max(),ft.empty(),-1)}}function Jrt(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=ft.comparator(e.documentKey,t.documentKey),n!==0?n:xn(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zrt="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eit{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nv(e){if(e.code!==Ie.FAILED_PRECONDITION||e.message!==Zrt)throw e;et("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&vt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Ce((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof Ce?n:Ce.resolve(n)}catch(n){return Ce.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):Ce.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):Ce.reject(n)}static resolve(t){return new Ce((n,r)=>{n(t)})}static reject(t){return new Ce((n,r)=>{r(t)})}static waitFor(t){return new Ce((n,r)=>{let i=0,s=0,o=!1;t.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(t){let n=Ce.resolve(!1);for(const r of t)n=n.next(i=>i?Ce.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(t,n){return new Ce((r,i)=>{const s=t.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const l=u;n(t[l]).next(c=>{o[l]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(t,n){return new Ce((r,i)=>{const s=()=>{t()===!0?n().next(()=>{s()},i):r()};s()})}}function kv(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}FL._e=-1;function dA(e){return e==null}function NS(e){return e===0&&1/e==-1/0}function tit(e){return typeof e=="number"&&Number.isInteger(e)&&!NS(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iz(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Eg(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function yue(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(t,n){this.comparator=t,this.root=n||Ai.EMPTY}insert(t,n){return new br(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ai.BLACK,null,null))}remove(t){return new br(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ai.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new rb(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new rb(this.root,t,this.comparator,!1)}getReverseIterator(){return new rb(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new rb(this.root,t,this.comparator,!0)}}class rb{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,n&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ai{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??Ai.RED,this.left=i??Ai.EMPTY,this.right=s??Ai.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,s){return new Ai(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ai.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return Ai.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ai.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ai.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw vt();const t=this.left.check();if(t!==this.right.check())throw vt();return t+(this.isRed()?0:1)}}Ai.EMPTY=null,Ai.RED=!0,Ai.BLACK=!1;Ai.EMPTY=new class{constructor(){this.size=0}get key(){throw vt()}get value(){throw vt()}get color(){throw vt()}get left(){throw vt()}get right(){throw vt()}copy(t,n,r,i,s){return this}insert(t,n,r){return new Ai(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(t){this.comparator=t,this.data=new br(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Az(this.data.getIterator())}getIteratorFrom(t){return new Az(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof $i)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new $i(this.comparator);return n.data=t,n}}class Az{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(t){this.fields=t,t.sort(Ri.comparator)}static empty(){return new Oa([])}unionWith(t){let n=new $i(Ri.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Oa(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Lm(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ue extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new _ue("Invalid base64 string: "+s):s}}(t);return new is(n)}static fromUint8Array(t){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(t);return new is(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return xn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}is.EMPTY_BYTE_STRING=new is("");const nit=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Af(e){if(Yn(!!e),typeof e=="string"){let t=0;const n=nit.exec(e);if(Yn(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Vr(e.seconds),nanos:Vr(e.nanos)}}function Vr(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function rh(e){return typeof e=="string"?is.fromBase64String(e):is.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BL(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function jL(e){const t=e.mapValue.fields.__previous_value__;return BL(t)?jL(t):t}function S_(e){const t=Af(e.mapValue.fields.__local_write_time__.timestampValue);return new ni(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rit{constructor(t,n,r,i,s,o,a,u,l){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}}class x_{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new x_("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof x_&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ih(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?BL(e)?4:iit(e)?9007199254740991:10:vt()}function Uu(e,t){if(e===t)return!0;const n=ih(e);if(n!==ih(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return S_(e).isEqual(S_(t));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Af(i.timestampValue),a=Af(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,s){return rh(i.bytesValue).isEqual(rh(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,s){return Vr(i.geoPointValue.latitude)===Vr(s.geoPointValue.latitude)&&Vr(i.geoPointValue.longitude)===Vr(s.geoPointValue.longitude)}(e,t);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Vr(i.integerValue)===Vr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Vr(i.doubleValue),a=Vr(s.doubleValue);return o===a?NS(o)===NS(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return Lm(e.arrayValue.values||[],t.arrayValue.values||[],Uu);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Iz(o)!==Iz(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Uu(o[u],a[u])))return!1;return!0}(e,t);default:return vt()}}function I_(e,t){return(e.values||[]).find(n=>Uu(n,t))!==void 0}function Mm(e,t){if(e===t)return 0;const n=ih(e),r=ih(t);if(n!==r)return xn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return xn(e.booleanValue,t.booleanValue);case 2:return function(s,o){const a=Vr(s.integerValue||s.doubleValue),u=Vr(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(e,t);case 3:return Cz(e.timestampValue,t.timestampValue);case 4:return Cz(S_(e),S_(t));case 5:return xn(e.stringValue,t.stringValue);case 6:return function(s,o){const a=rh(s),u=rh(o);return a.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){const c=xn(a[l],u[l]);if(c!==0)return c}return xn(a.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,o){const a=xn(Vr(s.latitude),Vr(o.latitude));return a!==0?a:xn(Vr(s.longitude),Vr(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(s,o){const a=s.values||[],u=o.values||[];for(let l=0;l<a.length&&l<u.length;++l){const c=Mm(a[l],u[l]);if(c)return c}return xn(a.length,u.length)}(e.arrayValue,t.arrayValue);case 10:return function(s,o){if(s===ib.mapValue&&o===ib.mapValue)return 0;if(s===ib.mapValue)return 1;if(o===ib.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),l=o.fields||{},c=Object.keys(l);u.sort(),c.sort();for(let f=0;f<u.length&&f<c.length;++f){const d=xn(u[f],c[f]);if(d!==0)return d;const h=Mm(a[u[f]],l[c[f]]);if(h!==0)return h}return xn(u.length,c.length)}(e.mapValue,t.mapValue);default:throw vt()}}function Cz(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return xn(e,t);const n=Af(e),r=Af(t),i=xn(n.seconds,r.seconds);return i!==0?i:xn(n.nanos,r.nanos)}function Fm(e){return zN(e)}function zN(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=Af(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return rh(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return ft.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=zN(s);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${zN(n.fields[o])}`;return i+"}"}(e.mapValue):vt()}function HN(e){return!!e&&"integerValue"in e}function UL(e){return!!e&&"arrayValue"in e}function Oz(e){return!!e&&"nullValue"in e}function Pz(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Jb(e){return!!e&&"mapValue"in e}function py(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Eg(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=py(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=py(e.arrayValue.values[n]);return t}return Object.assign({},e)}function iit(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(t){this.value=t}static empty(){return new Yo({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Jb(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=py(n)}setAll(t){let n=Ri.emptyPath(),r={},i=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=py(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(t){const n=this.field(t.popLast());Jb(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Uu(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];Jb(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){Eg(n,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new Yo(py(this.value))}}function vue(e){const t=[];return Eg(e.fields,(n,r)=>{const i=new Ri([n]);if(Jb(r)){const s=vue(r.mapValue).fields;if(s.length===0)t.push(i);else for(const o of s)t.push(i.child(o))}else t.push(i)}),new Oa(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(t,n,r,i,s,o,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new Qi(t,0,It.min(),It.min(),It.min(),Yo.empty(),0)}static newFoundDocument(t,n,r,i){return new Qi(t,1,n,It.min(),r,i,0)}static newNoDocument(t,n){return new Qi(t,2,n,It.min(),It.min(),Yo.empty(),0)}static newUnknownDocument(t,n){return new Qi(t,3,n,It.min(),It.min(),Yo.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(It.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Yo.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Yo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=It.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Qi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Qi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(t,n){this.position=t,this.inclusive=n}}function Rz(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(s.field.isKeyField()?r=ft.comparator(ft.fromName(o.referenceValue),n.key):r=Mm(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Nz(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Uu(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(t,n="asc"){this.field=t,this.dir=n}}function sit(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bue{}class Zr extends bue{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new ait(t,n,r):n==="array-contains"?new cit(t,r):n==="in"?new fit(t,r):n==="not-in"?new dit(t,r):n==="array-contains-any"?new hit(t,r):new Zr(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new uit(t,r):new lit(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Mm(n,this.value)):n!==null&&ih(this.value)===ih(n)&&this.matchesComparison(Mm(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return vt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vu extends bue{constructor(t,n){super(),this.filters=t,this.op=n,this.ue=null}static create(t,n){return new Vu(t,n)}matches(t){return wue(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function wue(e){return e.op==="and"}function Eue(e){return oit(e)&&wue(e)}function oit(e){for(const t of e.filters)if(t instanceof Vu)return!1;return!0}function WN(e){if(e instanceof Zr)return e.field.canonicalString()+e.op.toString()+Fm(e.value);if(Eue(e))return e.filters.map(t=>WN(t)).join(",");{const t=e.filters.map(n=>WN(n)).join(",");return`${e.op}(${t})`}}function Tue(e,t){return e instanceof Zr?function(r,i){return i instanceof Zr&&r.op===i.op&&r.field.isEqual(i.field)&&Uu(r.value,i.value)}(e,t):e instanceof Vu?function(r,i){return i instanceof Vu&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&Tue(o,i.filters[a]),!0):!1}(e,t):void vt()}function Sue(e){return e instanceof Zr?function(n){return`${n.field.canonicalString()} ${n.op} ${Fm(n.value)}`}(e):e instanceof Vu?function(n){return n.op.toString()+" {"+n.getFilters().map(Sue).join(" ,")+"}"}(e):"Filter"}class ait extends Zr{constructor(t,n,r){super(t,n,r),this.key=ft.fromName(r.referenceValue)}matches(t){const n=ft.comparator(t.key,this.key);return this.matchesComparison(n)}}class uit extends Zr{constructor(t,n){super(t,"in",n),this.keys=xue("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class lit extends Zr{constructor(t,n){super(t,"not-in",n),this.keys=xue("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function xue(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ft.fromName(r.referenceValue))}class cit extends Zr{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return UL(n)&&I_(n.arrayValue,this.value)}}class fit extends Zr{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&I_(this.value.arrayValue,n)}}class dit extends Zr{constructor(t,n){super(t,"not-in",n)}matches(t){if(I_(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!I_(this.value.arrayValue,n)}}class hit extends Zr{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!UL(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>I_(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pit{constructor(t,n=null,r=[],i=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function kz(e,t=null,n=[],r=[],i=null,s=null,o=null){return new pit(e,t,n,r,i,s,o)}function VL(e){const t=Nt(e);if(t.ce===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>WN(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),dA(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Fm(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Fm(r)).join(",")),t.ce=n}return t.ce}function zL(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!sit(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Tue(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Nz(e.startAt,t.startAt)&&Nz(e.endAt,t.endAt)}function qN(e){return ft.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(t,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function mit(e,t,n,r,i,s,o,a){return new hA(e,t,n,r,i,s,o,a)}function HL(e){return new hA(e)}function Dz(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function git(e){return e.collectionGroup!==null}function my(e){const t=Nt(e);if(t.le===null){t.le=[];const n=new Set;for(const s of t.explicitOrderBy)t.le.push(s),n.add(s.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new $i(Ri.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.le.push(new DS(s,r))}),n.has(Ri.keyField().canonicalString())||t.le.push(new DS(Ri.keyField(),r))}return t.le}function Ou(e){const t=Nt(e);return t.he||(t.he=yit(t,my(e))),t.he}function yit(e,t){if(e.limitType==="F")return kz(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new DS(i.field,s)});const n=e.endAt?new kS(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new kS(e.startAt.position,e.startAt.inclusive):null;return kz(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function YN(e,t,n){return new hA(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function pA(e,t){return zL(Ou(e),Ou(t))&&e.limitType===t.limitType}function Iue(e){return`${VL(Ou(e))}|lt:${e.limitType}`}function Gh(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Sue(i)).join(", ")}]`),dA(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Fm(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Fm(i)).join(",")),`Target(${r})`}(Ou(e))}; limitType=${e.limitType})`}function mA(e,t){return t.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ft.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(e,t)&&function(r,i){for(const s of my(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(o,a,u){const l=Rz(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,my(r),i)||r.endAt&&!function(o,a,u){const l=Rz(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,my(r),i))}(e,t)}function _it(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Aue(e){return(t,n)=>{let r=!1;for(const i of my(e)){const s=vit(i,t,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function vit(e,t,n){const r=e.field.isKeyField()?ft.comparator(t.key,n.key):function(s,o,a){const u=o.data.field(s),l=a.data.field(s);return u!==null&&l!==null?Mm(u,l):vt()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return vt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Eg(this.inner,(n,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return yue(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bit=new br(ft.comparator);function Jl(){return bit}const Cue=new br(ft.comparator);function k0(...e){let t=Cue;for(const n of e)t=t.insert(n.key,n);return t}function Oue(e){let t=Cue;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function Cd(){return gy()}function Pue(){return gy()}function gy(){return new Tg(e=>e.toString(),(e,t)=>e.isEqual(t))}const wit=new br(ft.comparator),Eit=new $i(ft.comparator);function Kt(...e){let t=Eit;for(const n of e)t=t.add(n);return t}const Tit=new $i(xn);function Sit(){return Tit}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rue(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:NS(t)?"-0":t}}function Nue(e){return{integerValue:""+e}}function xit(e,t){return tit(t)?Nue(t):Rue(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(){this._=void 0}}function Iit(e,t,n){return e instanceof $S?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&BL(s)&&(s=jL(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,t):e instanceof A_?Due(e,t):e instanceof C_?$ue(e,t):function(i,s){const o=kue(i,s),a=$z(o)+$z(i.Ie);return HN(o)&&HN(i.Ie)?Nue(a):Rue(i.serializer,a)}(e,t)}function Ait(e,t,n){return e instanceof A_?Due(e,t):e instanceof C_?$ue(e,t):n}function kue(e,t){return e instanceof LS?function(r){return HN(r)||function(s){return!!s&&"doubleValue"in s}(r)}(t)?t:{integerValue:0}:null}class $S extends gA{}class A_ extends gA{constructor(t){super(),this.elements=t}}function Due(e,t){const n=Lue(t);for(const r of e.elements)n.some(i=>Uu(i,r))||n.push(r);return{arrayValue:{values:n}}}class C_ extends gA{constructor(t){super(),this.elements=t}}function $ue(e,t){let n=Lue(t);for(const r of e.elements)n=n.filter(i=>!Uu(i,r));return{arrayValue:{values:n}}}class LS extends gA{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function $z(e){return Vr(e.integerValue||e.doubleValue)}function Lue(e){return UL(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function Cit(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof A_&&i instanceof A_||r instanceof C_&&i instanceof C_?Lm(r.elements,i.elements,Uu):r instanceof LS&&i instanceof LS?Uu(r.Ie,i.Ie):r instanceof $S&&i instanceof $S}(e.transform,t.transform)}class Oit{constructor(t,n){this.version=t,this.transformResults=n}}class Pl{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Pl}static exists(t){return new Pl(void 0,t)}static updateTime(t){return new Pl(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Zb(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class yA{}function Mue(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Bue(e.key,Pl.none()):new Dv(e.key,e.data,Pl.none());{const n=e.data,r=Yo.empty();let i=new $i(Ri.comparator);for(let s of t.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new xh(e.key,r,new Oa(i.toArray()),Pl.none())}}function Pit(e,t,n){e instanceof Dv?function(i,s,o){const a=i.value.clone(),u=Mz(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof xh?function(i,s,o){if(!Zb(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Mz(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(Fue(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(e,t,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function yy(e,t,n,r){return e instanceof Dv?function(s,o,a,u){if(!Zb(s.precondition,o))return a;const l=s.value.clone(),c=Fz(s.fieldTransforms,u,o);return l.setAll(c),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(e,t,n,r):e instanceof xh?function(s,o,a,u){if(!Zb(s.precondition,o))return a;const l=Fz(s.fieldTransforms,u,o),c=o.data;return c.setAll(Fue(s)),c.setAll(l),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(e,t,n,r):function(s,o,a){return Zb(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function Rit(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),s=kue(r.transform,i||null);s!=null&&(n===null&&(n=Yo.empty()),n.set(r.field,s))}return n||null}function Lz(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Lm(r,i,(s,o)=>Cit(s,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Dv extends yA{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class xh extends yA{constructor(t,n,r,i,s=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Fue(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Mz(e,t,n){const r=new Map;Yn(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,Ait(o,a,n[i]))}return r}function Fz(e,t,n){const r=new Map;for(const i of e){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Iit(s,o,t))}return r}class Bue extends yA{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Nit extends yA{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kit{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&Pit(s,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=yy(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=yy(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=Pue();return this.mutations.forEach(i=>{const s=t.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=Mue(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(It.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Kt())}isEqual(t){return this.batchId===t.batchId&&Lm(this.mutations,t.mutations,(n,r)=>Lz(n,r))&&Lm(this.baseMutations,t.baseMutations,(n,r)=>Lz(n,r))}}class WL{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){Yn(t.mutations.length===r.length);let i=function(){return wit}();const s=t.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new WL(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dit{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $it{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Br,cn;function Lit(e){switch(e){default:return vt();case Ie.CANCELLED:case Ie.UNKNOWN:case Ie.DEADLINE_EXCEEDED:case Ie.RESOURCE_EXHAUSTED:case Ie.INTERNAL:case Ie.UNAVAILABLE:case Ie.UNAUTHENTICATED:return!1;case Ie.INVALID_ARGUMENT:case Ie.NOT_FOUND:case Ie.ALREADY_EXISTS:case Ie.PERMISSION_DENIED:case Ie.FAILED_PRECONDITION:case Ie.ABORTED:case Ie.OUT_OF_RANGE:case Ie.UNIMPLEMENTED:case Ie.DATA_LOSS:return!0}}function jue(e){if(e===void 0)return Xl("GRPC error has no .code"),Ie.UNKNOWN;switch(e){case Br.OK:return Ie.OK;case Br.CANCELLED:return Ie.CANCELLED;case Br.UNKNOWN:return Ie.UNKNOWN;case Br.DEADLINE_EXCEEDED:return Ie.DEADLINE_EXCEEDED;case Br.RESOURCE_EXHAUSTED:return Ie.RESOURCE_EXHAUSTED;case Br.INTERNAL:return Ie.INTERNAL;case Br.UNAVAILABLE:return Ie.UNAVAILABLE;case Br.UNAUTHENTICATED:return Ie.UNAUTHENTICATED;case Br.INVALID_ARGUMENT:return Ie.INVALID_ARGUMENT;case Br.NOT_FOUND:return Ie.NOT_FOUND;case Br.ALREADY_EXISTS:return Ie.ALREADY_EXISTS;case Br.PERMISSION_DENIED:return Ie.PERMISSION_DENIED;case Br.FAILED_PRECONDITION:return Ie.FAILED_PRECONDITION;case Br.ABORTED:return Ie.ABORTED;case Br.OUT_OF_RANGE:return Ie.OUT_OF_RANGE;case Br.UNIMPLEMENTED:return Ie.UNIMPLEMENTED;case Br.DATA_LOSS:return Ie.DATA_LOSS;default:return vt()}}(cn=Br||(Br={}))[cn.OK=0]="OK",cn[cn.CANCELLED=1]="CANCELLED",cn[cn.UNKNOWN=2]="UNKNOWN",cn[cn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",cn[cn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",cn[cn.NOT_FOUND=5]="NOT_FOUND",cn[cn.ALREADY_EXISTS=6]="ALREADY_EXISTS",cn[cn.PERMISSION_DENIED=7]="PERMISSION_DENIED",cn[cn.UNAUTHENTICATED=16]="UNAUTHENTICATED",cn[cn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",cn[cn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",cn[cn.ABORTED=10]="ABORTED",cn[cn.OUT_OF_RANGE=11]="OUT_OF_RANGE",cn[cn.UNIMPLEMENTED=12]="UNIMPLEMENTED",cn[cn.INTERNAL=13]="INTERNAL",cn[cn.UNAVAILABLE=14]="UNAVAILABLE",cn[cn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mit(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fit=new qp([4294967295,4294967295],0);function Bz(e){const t=Mit().encode(e),n=new jrt;return n.update(t),new Uint8Array(n.digest())}function jz(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new qp([n,r],0),new qp([i,s],0)]}class qL{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new D0(`Invalid padding: ${n}`);if(r<0)throw new D0(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new D0(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new D0(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*t.length-n,this.Ee=qp.fromNumber(this.Te)}de(t,n,r){let i=t.add(n.multiply(qp.fromNumber(r)));return i.compare(Fit)===1&&(i=new qp([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Te===0)return!1;const n=Bz(t),[r,i]=jz(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new qL(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(t){if(this.Te===0)return;const n=Bz(t),[r,i]=jz(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class D0 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,$v.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new _A(It.min(),i,new br(xn),Jl(),Kt())}}class $v{constructor(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new $v(r,n,Kt(),Kt(),Kt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(t,n,r,i){this.Ve=t,this.removedTargetIds=n,this.key=r,this.me=i}}class Uue{constructor(t,n){this.targetId=t,this.fe=n}}class Vue{constructor(t,n,r=is.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Uz{constructor(){this.ge=0,this.pe=zz(),this.ye=is.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=Kt(),n=Kt(),r=Kt();return this.pe.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:vt()}}),new $v(this.ye,this.we,t,n,r)}Fe(){this.Se=!1,this.pe=zz()}Me(t,n){this.Se=!0,this.pe=this.pe.insert(t,n)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1,Yn(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class Bit{constructor(t){this.Le=t,this.ke=new Map,this.qe=Jl(),this.Qe=Vz(),this.Ke=new br(xn)}$e(t){for(const n of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(n,t.me):this.We(n,t.key,t.me);for(const n of t.removedTargetIds)this.We(n,t.key,t.me)}Ge(t){this.forEachTarget(t,n=>{const r=this.ze(n);switch(t.state){case 0:this.je(n)&&r.Ce(t.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(t.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(t.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(t.resumeToken));break;default:vt()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(t){const n=t.targetId,r=t.fe.count,i=this.Ye(n);if(i){const s=i.target;if(qN(s))if(r===0){const o=new ft(s.path);this.We(n,o,Qi.newNoDocument(o,It.min()))}else Yn(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(t),u=a?this.et(a,t,o):1;if(u!==0){this.He(n);const l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,l)}}}}}Xe(t){const n=t.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=rh(r).toUint8Array()}catch(u){if(u instanceof _ue)return E_("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new qL(o,i,s)}catch(u){return E_(u instanceof D0?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Te===0?null:a}et(t,n,r){return n.fe.count===r-this.rt(t,n.targetId)?0:2}rt(t,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(a)||(this.We(n,s,null),i++)}),i}it(t){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&qN(a.target)){const u=new ft(a.target.path);this.qe.get(u)!==null||this.st(o,u)||this.We(o,u,Qi.newNoDocument(u,t))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=Kt();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const l=this.Ye(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(t));const i=new _A(t,n,this.Ke,this.qe,r);return this.qe=Jl(),this.Qe=Vz(),this.Ke=new br(xn),i}Ue(t,n){if(!this.je(t))return;const r=this.st(t,n.key)?2:0;this.ze(t).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(t))}We(t,n,r){if(!this.je(t))return;const i=this.ze(t);this.st(t,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(t)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(t){this.ke.delete(t)}Ze(t){const n=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let n=this.ke.get(t);return n||(n=new Uz,this.ke.set(t,n)),n}ot(t){let n=this.Qe.get(t);return n||(n=new $i(xn),this.Qe=this.Qe.insert(t,n)),n}je(t){const n=this.Ye(t)!==null;return n||et("WatchChangeAggregator","Detected inactive target",t),n}Ye(t){const n=this.ke.get(t);return n&&n.be?null:this.Le._t(t)}He(t){this.ke.set(t,new Uz),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.We(t,n,null)})}st(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function Vz(){return new br(ft.comparator)}function zz(){return new br(ft.comparator)}const jit={asc:"ASCENDING",desc:"DESCENDING"},Uit={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Vit={and:"AND",or:"OR"};class zit{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function GN(e,t){return e.useProto3Json||dA(t)?t:{value:t}}function MS(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function zue(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Hit(e,t){return MS(e,t.toTimestamp())}function Pu(e){return Yn(!!e),It.fromTimestamp(function(n){const r=Af(n);return new ni(r.seconds,r.nanos)}(e))}function YL(e,t){return function(r){return new cr(["projects",r.projectId,"databases",r.database])}(e).child("documents").child(t).canonicalString()}function Hue(e){const t=cr.fromString(e);return Yn(Gue(t)),t}function KN(e,t){return YL(e.databaseId,t.path)}function mP(e,t){const n=Hue(t);if(n.get(1)!==e.databaseId.projectId)throw new it(Ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new it(Ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ft(Wue(n))}function QN(e,t){return YL(e.databaseId,t)}function Wit(e){const t=Hue(e);return t.length===4?cr.emptyPath():Wue(t)}function XN(e){return new cr(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Wue(e){return Yn(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function Hz(e,t,n){return{name:KN(e,t),fields:n.value.mapValue.fields}}function qit(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:vt()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(l,c){return l.useProto3Json?(Yn(c===void 0||typeof c=="string"),is.fromBase64String(c||"")):(Yn(c===void 0||c instanceof Uint8Array),is.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(l){const c=l.code===void 0?Ie.UNKNOWN:jue(l.code);return new it(c,l.message||"")}(o);n=new Vue(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=mP(e,r.document.name),s=Pu(r.document.updateTime),o=r.document.createTime?Pu(r.document.createTime):It.min(),a=new Yo({mapValue:{fields:r.document.fields}}),u=Qi.newFoundDocument(i,s,o,a),l=r.targetIds||[],c=r.removedTargetIds||[];n=new ew(l,c,u.key,u)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=mP(e,r.document),s=r.readTime?Pu(r.readTime):It.min(),o=Qi.newNoDocument(i,s),a=r.removedTargetIds||[];n=new ew([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=mP(e,r.document),s=r.removedTargetIds||[];n=new ew([],s,i,null)}else{if(!("filter"in t))return vt();{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new $it(i,s),a=r.targetId;n=new Uue(a,o)}}return n}function Yit(e,t){let n;if(t instanceof Dv)n={update:Hz(e,t.key,t.value)};else if(t instanceof Bue)n={delete:KN(e,t.key)};else if(t instanceof xh)n={update:Hz(e,t.key,t.data),updateMask:nst(t.fieldMask)};else{if(!(t instanceof Nit))return vt();n={verify:KN(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof $S)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof A_)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof C_)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof LS)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw vt()}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Hit(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:vt()}(e,t.precondition)),n}function Git(e,t){return e&&e.length>0?(Yn(t!==void 0),e.map(n=>function(i,s){let o=i.updateTime?Pu(i.updateTime):Pu(s);return o.isEqual(It.min())&&(o=Pu(s)),new Oit(o,i.transformResults||[])}(n,t))):[]}function Kit(e,t){return{documents:[QN(e,t.path)]}}function Qit(e,t){const n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=QN(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=QN(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(u.length!==0)return Yue(Vu.create(u,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(u.length!==0)return u.map(l=>function(f){return{field:Kh(f.field),direction:Zit(f.dir)}}(l))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=GN(e,t.limit);return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(t.endAt)),n}function Xit(e){let t=Wit(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Yn(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let s=[];n.where&&(s=function(f){const d=que(f);return d instanceof Vu&&Eue(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(d=>function(p){return new DS(Qh(p.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(f){let d;return d=typeof f=="object"?f.value:f,dA(d)?null:d}(n.limit));let u=null;n.startAt&&(u=function(f){const d=!!f.before,h=f.values||[];return new kS(h,d)}(n.startAt));let l=null;return n.endAt&&(l=function(f){const d=!f.before,h=f.values||[];return new kS(h,d)}(n.endAt)),mit(t,i,o,s,a,"F",u,l)}function Jit(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function que(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Qh(n.unaryFilter.field);return Zr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Qh(n.unaryFilter.field);return Zr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Qh(n.unaryFilter.field);return Zr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Qh(n.unaryFilter.field);return Zr.create(o,"!=",{nullValue:"NULL_VALUE"});default:return vt()}}(e):e.fieldFilter!==void 0?function(n){return Zr.create(Qh(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return vt()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Vu.create(n.compositeFilter.filters.map(r=>que(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return vt()}}(n.compositeFilter.op))}(e):vt()}function Zit(e){return jit[e]}function est(e){return Uit[e]}function tst(e){return Vit[e]}function Kh(e){return{fieldPath:e.canonicalString()}}function Qh(e){return Ri.fromServerFormat(e.fieldPath)}function Yue(e){return e instanceof Zr?function(n){if(n.op==="=="){if(Pz(n.value))return{unaryFilter:{field:Kh(n.field),op:"IS_NAN"}};if(Oz(n.value))return{unaryFilter:{field:Kh(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Pz(n.value))return{unaryFilter:{field:Kh(n.field),op:"IS_NOT_NAN"}};if(Oz(n.value))return{unaryFilter:{field:Kh(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Kh(n.field),op:est(n.op),value:n.value}}}(e):e instanceof Vu?function(n){const r=n.getFilters().map(i=>Yue(i));return r.length===1?r[0]:{compositeFilter:{op:tst(n.op),filters:r}}}(e):vt()}function nst(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function Gue(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(t,n,r,i,s=It.min(),o=It.min(),a=is.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(t){return new Uc(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Uc(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Uc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Uc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rst{constructor(t){this.ut=t}}function ist(e){const t=Xit({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?YN(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sst{constructor(){this.on=new ost}addToCollectionParentIndex(t,n){return this.on.add(n),Ce.resolve()}getCollectionParents(t,n){return Ce.resolve(this.on.getEntries(n))}addFieldIndex(t,n){return Ce.resolve()}deleteFieldIndex(t,n){return Ce.resolve()}deleteAllFieldIndexes(t){return Ce.resolve()}createTargetIndexes(t,n){return Ce.resolve()}getDocumentsMatchingTarget(t,n){return Ce.resolve(null)}getIndexType(t,n){return Ce.resolve(0)}getFieldIndexes(t,n){return Ce.resolve([])}getNextCollectionGroupToUpdate(t){return Ce.resolve(null)}getMinOffset(t,n){return Ce.resolve(If.min())}getMinOffsetFromCollectionGroup(t,n){return Ce.resolve(If.min())}updateCollectionGroup(t,n,r){return Ce.resolve()}updateIndexEntries(t,n){return Ce.resolve()}}class ost{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new $i(cr.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new $i(cr.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(t){this.xn=t}next(){return this.xn+=2,this.xn}static On(){return new Bm(0)}static Nn(){return new Bm(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ast{constructor(){this.changes=new Tg(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Qi.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ce.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ust{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lst{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&yy(r.mutation,i,Oa.empty(),ni.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,Kt()).next(()=>r))}getLocalViewOfDocuments(t,n,r=Kt()){const i=Cd();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(s=>{let o=k0();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=Cd();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,Kt()))}populateOverlays(t,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,r,i){let s=Jl();const o=gy(),a=function(){return gy()}();return n.forEach((u,l)=>{const c=r.get(l.key);i.has(l.key)&&(c===void 0||c.mutation instanceof xh)?s=s.insert(l.key,l):c!==void 0?(o.set(l.key,c.mutation.getFieldMask()),yy(c.mutation,l,c.mutation.getFieldMask(),ni.now())):o.set(l.key,Oa.empty())}),this.recalculateAndSaveOverlays(t,s).next(u=>(u.forEach((l,c)=>o.set(l,c)),n.forEach((l,c)=>{var f;return a.set(l,new ust(c,(f=o.get(l))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(t,n){const r=gy();let i=new br((o,a)=>o-a),s=Kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const l=n.get(u);if(l===null)return;let c=r.get(u)||Oa.empty();c=a.applyToLocalView(l,c),r.set(u,c);const f=(i.get(a.batchId)||Kt()).add(u);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),l=u.key,c=u.value,f=Pue();c.forEach(d=>{if(!s.has(d)){const h=Mue(n.get(d),r.get(d));h!==null&&f.set(d,h),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(t,l,f))}return Ce.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return function(o){return ft.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):git(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-s.size):Ce.resolve(Cd());let a=-1,u=s;return o.next(l=>Ce.forEach(l,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(c)?Ce.resolve():this.remoteDocumentCache.getEntry(t,c).next(d=>{u=u.insert(c,d)}))).next(()=>this.populateOverlays(t,l,s)).next(()=>this.computeViews(t,u,l,Kt())).next(c=>({batchId:a,changes:Oue(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new ft(n)).next(r=>{let i=k0();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const s=n.collectionGroup;let o=k0();return this.indexManager.getCollectionParents(t,s).next(a=>Ce.forEach(a,u=>{const l=function(f,d){return new hA(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(t,l,r,i).next(c=>{c.forEach((f,d)=>{o=o.insert(f,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,s,i))).next(o=>{s.forEach((u,l)=>{const c=l.getKey();o.get(c)===null&&(o=o.insert(c,Qi.newInvalidDocument(c)))});let a=k0();return o.forEach((u,l)=>{const c=s.get(u);c!==void 0&&yy(c.mutation,l,Oa.empty(),ni.now()),mA(n,l)&&(a=a.insert(u,l))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cst{constructor(t){this.serializer=t,this.ur=new Map,this.cr=new Map}getBundleMetadata(t,n){return Ce.resolve(this.ur.get(n))}saveBundleMetadata(t,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Pu(i.createTime)}}(n)),Ce.resolve()}getNamedQuery(t,n){return Ce.resolve(this.cr.get(n))}saveNamedQuery(t,n){return this.cr.set(n.name,function(i){return{name:i.name,query:ist(i.bundledQuery),readTime:Pu(i.readTime)}}(n)),Ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fst{constructor(){this.overlays=new br(ft.comparator),this.lr=new Map}getOverlay(t,n){return Ce.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Cd();return Ce.forEach(n,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,s)=>{this.lt(t,n,s)}),Ce.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),Ce.resolve()}getOverlaysForCollection(t,n,r){const i=Cd(),s=n.length+1,o=new ft(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return Ce.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let s=new br((l,c)=>l-c);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let c=s.get(l.largestBatchId);c===null&&(c=Cd(),s=s.insert(l.largestBatchId,c)),c.set(l.getKey(),l)}}const a=Cd(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,c)=>a.set(l,c)),!(a.size()>=i)););return Ce.resolve(a)}lt(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Dit(n,r));let s=this.lr.get(n);s===void 0&&(s=Kt(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(){this.hr=new $i(ci.Pr),this.Ir=new $i(ci.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(t,n){const r=new ci(t,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.dr(new ci(t,n))}Ar(t,n){t.forEach(r=>this.removeReference(r,n))}Rr(t){const n=new ft(new cr([])),r=new ci(n,t),i=new ci(n,t+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(t=>this.dr(t))}dr(t){this.hr=this.hr.delete(t),this.Ir=this.Ir.delete(t)}mr(t){const n=new ft(new cr([])),r=new ci(n,t),i=new ci(n,t+1);let s=Kt();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new ci(t,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class ci{constructor(t,n){this.key=t,this.gr=n}static Pr(t,n){return ft.comparator(t.key,n.key)||xn(t.gr,n.gr)}static Tr(t,n){return xn(t.gr,n.gr)||ft.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dst{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new $i(ci.Pr)}checkEmpty(t){return Ce.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new kit(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new ci(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return Ce.resolve(o)}lookupMutationBatch(t,n){return Ce.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.Sr(r),s=i<0?0:i;return Ce.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ce.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(t){return Ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new ci(n,0),i=new ci(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),Ce.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new $i(xn);return n.forEach(i=>{const s=new ci(i,0),o=new ci(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),Ce.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let s=r;ft.isDocumentKey(s)||(s=s.child(""));const o=new ci(new ft(s),0);let a=new $i(xn);return this.yr.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.gr)),!0)},o),Ce.resolve(this.br(a))}br(t){const n=[];return t.forEach(r=>{const i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){Yn(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return Ce.forEach(n.mutations,i=>{const s=new ci(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.yr=r})}Fn(t){}containsKey(t,n){const r=new ci(n,0),i=this.yr.firstAfterOrEqual(r);return Ce.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,Ce.resolve()}Dr(t,n){return this.Sr(t)}Sr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}wr(t){const n=this.Sr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hst{constructor(t){this.Cr=t,this.docs=function(){return new br(ft.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return Ce.resolve(r?r.document.mutableCopy():Qi.newInvalidDocument(n))}getEntries(t,n){let r=Jl();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Qi.newInvalidDocument(i))}),Ce.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let s=Jl();const o=n.path,a=new ft(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:l,value:{document:c}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||Jrt(Xrt(c),r)<=0||(i.has(c.key)||mA(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return Ce.resolve(s)}getAllFromCollectionGroup(t,n,r,i){vt()}vr(t,n){return Ce.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new pst(this)}getSize(t){return Ce.resolve(this.size)}}class pst extends ast{constructor(t){super(),this._r=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(t,i)):this._r.removeEntry(r)}),Ce.waitFor(n)}getFromCache(t,n){return this._r.getEntry(t,n)}getAllFromCache(t,n){return this._r.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mst{constructor(t){this.persistence=t,this.Fr=new Tg(n=>VL(n),zL),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this.Mr=0,this.Or=new GL,this.targetCount=0,this.Nr=Bm.On()}forEachTarget(t,n){return this.Fr.forEach((r,i)=>n(i)),Ce.resolve()}getLastRemoteSnapshotVersion(t){return Ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Ce.resolve(this.Mr)}allocateTargetId(t){return this.highestTargetId=this.Nr.next(),Ce.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),Ce.resolve()}kn(t){this.Fr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Nr=new Bm(n),this.highestTargetId=n),t.sequenceNumber>this.Mr&&(this.Mr=t.sequenceNumber)}addTargetData(t,n){return this.kn(n),this.targetCount+=1,Ce.resolve()}updateTargetData(t,n){return this.kn(n),Ce.resolve()}removeTargetData(t,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,Ce.resolve()}removeTargets(t,n,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),Ce.waitFor(s).next(()=>i)}getTargetCount(t){return Ce.resolve(this.targetCount)}getTargetData(t,n){const r=this.Fr.get(n)||null;return Ce.resolve(r)}addMatchingKeys(t,n,r){return this.Or.Er(n,r),Ce.resolve()}removeMatchingKeys(t,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(t,o))}),Ce.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.Or.Rr(n),Ce.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Or.mr(n);return Ce.resolve(r)}containsKey(t,n){return Ce.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gst{constructor(t,n){this.Br={},this.overlays={},this.Lr=new FL(0),this.kr=!1,this.kr=!0,this.referenceDelegate=t(this),this.qr=new mst(this),this.indexManager=new sst,this.remoteDocumentCache=function(i){return new hst(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new rst(n),this.Kr=new cst(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new fst,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Br[t.toKey()];return r||(r=new dst(n,this.referenceDelegate),this.Br[t.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(t,n,r){et("MemoryPersistence","Starting transaction:",t);const i=new yst(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(t,n){return Ce.or(Object.values(this.Br).map(r=>()=>r.containsKey(t,n)))}}class yst extends eit{constructor(t){super(),this.currentSequenceNumber=t}}class KL{constructor(t){this.persistence=t,this.Gr=new GL,this.zr=null}static jr(t){return new KL(t)}get Hr(){if(this.zr)return this.zr;throw vt()}addReference(t,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),Ce.resolve()}removeReference(t,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),Ce.resolve()}markPotentiallyOrphaned(t,n){return this.Hr.add(n.toString()),Ce.resolve()}removeTarget(t,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(t,n))}$r(){this.zr=new Set}Ur(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ce.forEach(this.Hr,r=>{const i=ft.fromPath(r);return this.Jr(t,i).next(s=>{s||n.removeEntry(i,It.min())})}).next(()=>(this.zr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Jr(t,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(t){return 0}Jr(t,n){return Ce.or([()=>Ce.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Wr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.ki=r,this.qi=i}static Qi(t,n){let r=Kt(),i=Kt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new QL(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _st{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vst{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(t,n){this.Gi=t,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(t,n,r,i){const s={result:null};return this.zi(t,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(t,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new _st;return this.Hi(t,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(t,n,o,a.size)})}).next(()=>s.result)}Ji(t,n,r,i){return r.documentReadCount<this.Ui?(c0()<=rn.DEBUG&&et("QueryEngine","SDK will not create cache indexes for query:",Gh(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),Ce.resolve()):(c0()<=rn.DEBUG&&et("QueryEngine","Query:",Gh(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(c0()<=rn.DEBUG&&et("QueryEngine","The SDK decides to create cache indexes for query:",Gh(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ou(n))):Ce.resolve())}zi(t,n){if(Dz(n))return Ce.resolve(null);let r=Ou(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=YN(n,null,"F"),r=Ou(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const o=Kt(...s);return this.Gi.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,r).next(u=>{const l=this.Yi(n,a);return this.Zi(n,l,o,u.readTime)?this.zi(t,YN(n,null,"F")):this.Xi(t,l,n,u)}))})))}ji(t,n,r,i){return Dz(n)||i.isEqual(It.min())?Ce.resolve(null):this.Gi.getDocuments(t,r).next(s=>{const o=this.Yi(n,s);return this.Zi(n,o,r,i)?Ce.resolve(null):(c0()<=rn.DEBUG&&et("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Gh(n)),this.Xi(t,o,n,Qrt(i,-1)).next(a=>a))})}Yi(t,n){let r=new $i(Aue(t));return n.forEach((i,s)=>{mA(t,s)&&(r=r.add(s))}),r}Zi(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(t,n,r){return c0()<=rn.DEBUG&&et("QueryEngine","Using full collection scan to execute query:",Gh(n)),this.Gi.getDocumentsMatchingQuery(t,n,If.min(),r)}Xi(t,n,r,i){return this.Gi.getDocumentsMatchingQuery(t,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bst{constructor(t,n,r,i){this.persistence=t,this.es=n,this.serializer=i,this.ts=new br(xn),this.ns=new Tg(s=>VL(s),zL),this.rs=new Map,this.ss=t.getRemoteDocumentCache(),this.qr=t.getTargetCache(),this.Kr=t.getBundleCache(),this.os(r)}os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new lst(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.ts))}}function wst(e,t,n,r){return new bst(e,t,n,r)}async function Kue(e,t){const n=Nt(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(t),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=Kt();for(const l of i){o.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}for(const l of s){a.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}return n.localDocuments.getDocuments(r,u).next(l=>({_s:l,removedBatchIds:o,addedBatchIds:a}))})})}function Est(e,t){const n=Nt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,u,l,c){const f=l.batch,d=f.keys();let h=Ce.resolve();return d.forEach(p=>{h=h.next(()=>c.getEntry(u,p)).next(g=>{const y=l.docVersions.get(p);Yn(y!==null),g.version.compareTo(y)<0&&(f.applyToRemoteDocument(g,l),g.isValidDocument()&&(g.setReadTime(l.commitVersion),c.addEntry(g)))})}),h.next(()=>a.mutationQueue.removeMutationBatch(u,f))}(n,r,t,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=Kt();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function Que(e){const t=Nt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.qr.getLastRemoteSnapshotVersion(n))}function Tst(e,t){const n=Nt(e),r=t.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];t.targetChanges.forEach((c,f)=>{const d=i.get(f);if(!d)return;a.push(n.qr.removeMatchingKeys(s,c.removedDocuments,f).next(()=>n.qr.addMatchingKeys(s,c.addedDocuments,f)));let h=d.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(f)!==null?h=h.withResumeToken(is.EMPTY_BYTE_STRING,It.min()).withLastLimboFreeSnapshotVersion(It.min()):c.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(c.resumeToken,r)),i=i.insert(f,h),function(g,y,m){return g.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(d,h,c)&&a.push(n.qr.updateTargetData(s,h))});let u=Jl(),l=Kt();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(Sst(s,o,t.documentUpdates).next(c=>{u=c.us,l=c.cs})),!r.isEqual(It.min())){const c=n.qr.getLastRemoteSnapshotVersion(s).next(f=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return Ce.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.ts=i,s))}function Sst(e,t,n){let r=Kt(),i=Kt();return n.forEach(s=>r=r.add(s)),t.getEntries(e,r).next(s=>{let o=Jl();return n.forEach((a,u)=>{const l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(It.min())?(t.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(t.addEntry(u),o=o.insert(a,u)):et("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{us:o,cs:i}})}function xst(e,t){const n=Nt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function Ist(e,t){const n=Nt(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,t).next(s=>s?(i=s,Ce.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new Uc(t,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(t,r.targetId)),r})}async function JN(e,t,n){const r=Nt(e),i=r.ts.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!kv(o))throw o;et("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.ts=r.ts.remove(t),r.ns.delete(i.target)}function Wz(e,t,n){const r=Nt(e);let i=It.min(),s=Kt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,c){const f=Nt(u),d=f.ns.get(c);return d!==void 0?Ce.resolve(f.ts.get(d)):f.qr.getTargetData(l,c)}(r,o,Ou(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.es.getDocumentsMatchingQuery(o,t,n?i:It.min(),n?s:Kt())).next(a=>(Ast(r,_it(t),a),{documents:a,ls:s})))}function Ast(e,t,n){let r=e.rs.get(t)||It.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),e.rs.set(t,r)}class qz{constructor(){this.activeTargetIds=Sit()}ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}As(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Es(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Cst{constructor(){this.eo=new qz,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.eo.ds(t),this.no[t]||"not-current"}updateQueryState(t,n,r){this.no[t]=n}removeLocalQueryTarget(t){this.eo.As(t)}isLocalQueryTarget(t){return this.eo.activeTargetIds.has(t)}clearQueryState(t){delete this.no[t]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(t){return this.eo.activeTargetIds.has(t)}start(){return this.eo=new qz,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ost{ro(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yz{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(t){this.ao.push(t)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){et("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ao)t(0)}_o(){et("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ao)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sb=null;function gP(){return sb===null?sb=function(){return 268435456+Math.round(2147483648*Math.random())}():sb++,"0x"+sb.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pst={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rst{constructor(t){this.co=t.co,this.lo=t.lo}ho(t){this.Po=t}Io(t){this.To=t}onMessage(t){this.Eo=t}close(){this.lo()}send(t){this.co(t)}Ao(){this.Po()}Ro(t){this.To(t)}Vo(t){this.Eo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi="WebChannelConnection";class Nst extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${s}`,this.po=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(n,r,i,s,o){const a=gP(),u=this.So(n,r);et("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const l={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(l,s,o),this.Do(n,u,l,i).then(c=>(et("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw E_("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",u,"request:",i),c})}Co(n,r,i,s,o,a){return this.wo(n,r,i,s,o)}bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+wg}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}So(n,r){const i=Pst[n];return`${this.mo}/v1/${r}:${i}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Do(t,n,r,i){const s=gP();return new Promise((o,a)=>{const u=new Brt;u.setWithCredentials(!0),u.listenOnce(Mrt.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case pP.NO_ERROR:const c=u.getResponseJson();et(Wi,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(c)),o(c);break;case pP.TIMEOUT:et(Wi,`RPC '${t}' ${s} timed out`),a(new it(Ie.DEADLINE_EXCEEDED,"Request time out"));break;case pP.HTTP_ERROR:const f=u.getStatus();if(et(Wi,`RPC '${t}' ${s} failed with status:`,f,"response text:",u.getResponseText()),f>0){let d=u.getResponseJson();Array.isArray(d)&&(d=d[0]);const h=d==null?void 0:d.error;if(h&&h.status&&h.message){const p=function(y){const m=y.toLowerCase().replace(/_/g,"-");return Object.values(Ie).indexOf(m)>=0?m:Ie.UNKNOWN}(h.status);a(new it(p,h.message))}else a(new it(Ie.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new it(Ie.UNAVAILABLE,"Connection failed."));break;default:vt()}}finally{et(Wi,`RPC '${t}' ${s} completed.`)}});const l=JSON.stringify(i);et(Wi,`RPC '${t}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}vo(t,n,r){const i=gP(),s=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=$rt(),a=Lrt(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.bo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const c=s.join("");et(Wi,`Creating RPC '${t}' stream ${i}: ${c}`,u);const f=o.createWebChannel(c,u);let d=!1,h=!1;const p=new Rst({co:y=>{h?et(Wi,`Not sending because RPC '${t}' stream ${i} is closed:`,y):(d||(et(Wi,`Opening RPC '${t}' stream ${i} transport.`),f.open(),d=!0),et(Wi,`RPC '${t}' stream ${i} sending:`,y),f.send(y))},lo:()=>f.close()}),g=(y,m,_)=>{y.listen(m,v=>{try{_(v)}catch(T){setTimeout(()=>{throw T},0)}})};return g(f,nb.EventType.OPEN,()=>{h||et(Wi,`RPC '${t}' stream ${i} transport opened.`)}),g(f,nb.EventType.CLOSE,()=>{h||(h=!0,et(Wi,`RPC '${t}' stream ${i} transport closed`),p.Ro())}),g(f,nb.EventType.ERROR,y=>{h||(h=!0,E_(Wi,`RPC '${t}' stream ${i} transport errored:`,y),p.Ro(new it(Ie.UNAVAILABLE,"The operation could not be completed")))}),g(f,nb.EventType.MESSAGE,y=>{var m;if(!h){const _=y.data[0];Yn(!!_);const v=_,T=v.error||((m=v[0])===null||m===void 0?void 0:m.error);if(T){et(Wi,`RPC '${t}' stream ${i} received error:`,T);const S=T.status;let w=function($){const D=Br[$];if(D!==void 0)return jue(D)}(S),x=T.message;w===void 0&&(w=Ie.INTERNAL,x="Unknown error status: "+S+" with message "+T.message),h=!0,p.Ro(new it(w,x)),f.close()}else et(Wi,`RPC '${t}' stream ${i} received:`,_),p.Vo(_)}}),g(a,Frt.STAT_EVENT,y=>{y.stat===Sz.PROXY?et(Wi,`RPC '${t}' stream ${i} detected buffering proxy`):y.stat===Sz.NOPROXY&&et(Wi,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Ao()},0),p}}function yP(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(e){return new zit(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xue{constructor(t,n,r=1e3,i=1.5,s=6e4){this.si=t,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(t){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&et("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),t())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jue{constructor(t,n,r,i,s,o,a,u){this.si=t,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new Xue(t,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(t){this.t_(),this.stream.send(t)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(t,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,t!==4?this.zo.reset():n&&n.code===Ie.RESOURCE_EXHAUSTED?(Xl(n.toString()),Xl("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===Ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Io(n)}r_(){}auth(){this.state=1;const t=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{t(()=>{const i=new it(Ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(t,n){const r=this.i_(this.Uo);this.stream=this.__(t,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(t){return et("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}i_(t){return n=>{this.si.enqueueAndForget(()=>this.Uo===t?n():(et("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kst extends Jue{constructor(t,n,r,i,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}__(t,n){return this.connection.vo("Listen",t,n)}onMessage(t){this.zo.reset();const n=qit(this.serializer,t),r=function(s){if(!("targetChange"in s))return It.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?It.min():o.readTime?Pu(o.readTime):It.min()}(t);return this.listener.a_(n,r)}u_(t){const n={};n.database=XN(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=qN(u)?{documents:Kit(s,u)}:{query:Qit(s,u)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=zue(s,o.resumeToken);const l=GN(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(It.min())>0){a.readTime=MS(s,o.snapshotVersion.toTimestamp());const l=GN(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,t);const r=Jit(this.serializer,t);r&&(n.labels=r),this.e_(n)}c_(t){const n={};n.database=XN(this.serializer),n.removeTarget=t,this.e_(n)}}class Dst extends Jue{constructor(t,n,r,i,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(t,n){return this.connection.vo("Write",t,n)}onMessage(t){if(Yn(!!t.streamToken),this.lastStreamToken=t.streamToken,this.l_){this.zo.reset();const n=Git(t.writeResults,t.commitTime),r=Pu(t.commitTime);return this.listener.I_(r,n)}return Yn(!t.writeResults||t.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const t={};t.database=XN(this.serializer),this.e_(t)}P_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>Yit(this.serializer,r))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $st extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new it(Ie.FAILED_PRECONDITION,"The client has already been terminated.")}wo(t,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(t,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===Ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new it(Ie.UNKNOWN,i.toString())})}Co(t,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(t,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new it(Ie.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class Lst{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(t){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.p_("Offline")))}set(t){this.S_(),this.V_=0,t==="Online"&&(this.f_=!1),this.p_(t)}p_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}y_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Xl(n),this.f_=!1):et("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mst{constructor(t,n,r,i,s){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(o=>{r.enqueueAndForget(async()=>{Ih(this)&&(et("RemoteStore","Restarting streams for network reachability change."),await async function(u){const l=Nt(u);l.C_.add(4),await Mv(l),l.M_.set("Unknown"),l.C_.delete(4),await Lv(l)}(this))})}),this.M_=new Lst(r,i)}}async function Lv(e){if(Ih(e))for(const t of e.v_)await t(!0)}async function Mv(e){for(const t of e.v_)await t(!1)}function Zue(e,t){const n=Nt(e);n.D_.has(t.targetId)||(n.D_.set(t.targetId,t),ZL(n)?JL(n):Sg(n).Ho()&&XL(n,t))}function ele(e,t){const n=Nt(e),r=Sg(n);n.D_.delete(t),r.Ho()&&tle(n,t),n.D_.size===0&&(r.Ho()?r.Zo():Ih(n)&&n.M_.set("Unknown"))}function XL(e,t){if(e.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(It.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Sg(e).u_(t)}function tle(e,t){e.x_.Oe(t),Sg(e).c_(t)}function JL(e){e.x_=new Bit({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.D_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),Sg(e).start(),e.M_.g_()}function ZL(e){return Ih(e)&&!Sg(e).jo()&&e.D_.size>0}function Ih(e){return Nt(e).C_.size===0}function nle(e){e.x_=void 0}async function Fst(e){e.D_.forEach((t,n)=>{XL(e,t)})}async function Bst(e,t){nle(e),ZL(e)?(e.M_.w_(t),JL(e)):e.M_.set("Unknown")}async function jst(e,t,n){if(e.M_.set("Online"),t instanceof Vue&&t.state===2&&t.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.D_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.D_.delete(a),i.x_.removeTarget(a))}(e,t)}catch(r){et("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await FS(e,r)}else if(t instanceof ew?e.x_.$e(t):t instanceof Uue?e.x_.Je(t):e.x_.Ge(t),!n.isEqual(It.min()))try{const r=await Que(e.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){const c=s.D_.get(l);c&&s.D_.set(l,c.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,l)=>{const c=s.D_.get(u);if(!c)return;s.D_.set(u,c.withResumeToken(is.EMPTY_BYTE_STRING,c.snapshotVersion)),tle(s,u);const f=new Uc(c.target,u,l,c.sequenceNumber);XL(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){et("RemoteStore","Failed to raise snapshot:",r),await FS(e,r)}}async function FS(e,t,n){if(!kv(t))throw t;e.C_.add(1),await Mv(e),e.M_.set("Offline"),n||(n=()=>Que(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{et("RemoteStore","Retrying IndexedDB access"),await n(),e.C_.delete(1),await Lv(e)})}function rle(e,t){return t().catch(n=>FS(e,n,t))}async function bA(e){const t=Nt(e),n=Cf(t);let r=t.b_.length>0?t.b_[t.b_.length-1].batchId:-1;for(;Ust(t);)try{const i=await xst(t.localStore,r);if(i===null){t.b_.length===0&&n.Zo();break}r=i.batchId,Vst(t,i)}catch(i){await FS(t,i)}ile(t)&&sle(t)}function Ust(e){return Ih(e)&&e.b_.length<10}function Vst(e,t){e.b_.push(t);const n=Cf(e);n.Ho()&&n.h_&&n.P_(t.mutations)}function ile(e){return Ih(e)&&!Cf(e).jo()&&e.b_.length>0}function sle(e){Cf(e).start()}async function zst(e){Cf(e).E_()}async function Hst(e){const t=Cf(e);for(const n of e.b_)t.P_(n.mutations)}async function Wst(e,t,n){const r=e.b_.shift(),i=WL.from(r,t,n);await rle(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await bA(e)}async function qst(e,t){t&&Cf(e).h_&&await async function(r,i){if(function(o){return Lit(o)&&o!==Ie.ABORTED}(i.code)){const s=r.b_.shift();Cf(r).Yo(),await rle(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await bA(r)}}(e,t),ile(e)&&sle(e)}async function Gz(e,t){const n=Nt(e);n.asyncQueue.verifyOperationInProgress(),et("RemoteStore","RemoteStore received new credentials");const r=Ih(n);n.C_.add(3),await Mv(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.C_.delete(3),await Lv(n)}async function Yst(e,t){const n=Nt(e);t?(n.C_.delete(2),await Lv(n)):t||(n.C_.add(2),await Mv(n),n.M_.set("Unknown"))}function Sg(e){return e.O_||(e.O_=function(n,r,i){const s=Nt(n);return s.A_(),new kst(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{ho:Fst.bind(null,e),Io:Bst.bind(null,e),a_:jst.bind(null,e)}),e.v_.push(async t=>{t?(e.O_.Yo(),ZL(e)?JL(e):e.M_.set("Unknown")):(await e.O_.stop(),nle(e))})),e.O_}function Cf(e){return e.N_||(e.N_=function(n,r,i){const s=Nt(n);return s.A_(),new Dst(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{ho:zst.bind(null,e),Io:qst.bind(null,e),T_:Hst.bind(null,e),I_:Wst.bind(null,e)}),e.v_.push(async t=>{t?(e.N_.Yo(),await bA(e)):(await e.N_.stop(),e.b_.length>0&&(et("RemoteStore",`Stopping write stream with ${e.b_.length} pending writes`),e.b_=[]))})),e.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ol,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,a=new eM(t,n,o,i,s);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new it(Ie.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tM(e,t){if(Xl("AsyncQueue",`${t}: ${e}`),kv(e))return new it(Ie.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(t){this.comparator=t?(n,r)=>t(n,r)||ft.comparator(n.key,r.key):(n,r)=>ft.comparator(n.key,r.key),this.keyedMap=k0(),this.sortedSet=new br(this.comparator)}static emptySet(t){return new Yp(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Yp)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Yp;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kz{constructor(){this.B_=new br(ft.comparator)}track(t){const n=t.doc.key,r=this.B_.get(n);r?t.type!==0&&r.type===3?this.B_=this.B_.insert(n,t):t.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.B_=this.B_.remove(n):t.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):vt():this.B_=this.B_.insert(n,t)}L_(){const t=[];return this.B_.inorderTraversal((n,r)=>{t.push(r)}),t}}class jm{constructor(t,n,r,i,s,o,a,u,l){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(t,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new jm(t,n,Yp.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&pA(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gst{constructor(){this.k_=void 0,this.listeners=[]}}class Kst{constructor(){this.queries=new Tg(t=>Iue(t),pA),this.onlineState="Unknown",this.q_=new Set}}async function ole(e,t){const n=Nt(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Gst),i)try{s.k_=await n.onListen(r)}catch(o){const a=tM(o,`Initialization of query '${Gh(t.query)}' failed`);return void t.onError(a)}n.queries.set(r,s),s.listeners.push(t),t.Q_(n.onlineState),s.k_&&t.K_(s.k_)&&nM(n)}async function ale(e,t){const n=Nt(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(t);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Qst(e,t){const n=Nt(e);let r=!1;for(const i of t){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&nM(n)}function Xst(e,t,n){const r=Nt(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function nM(e){e.q_.forEach(t=>{t.next()})}class ule{constructor(t,n,r){this.query=t,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new jm(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.W_?this.z_(t)&&(this.U_.next(t),n=!0):this.j_(t,this.onlineState)&&(this.H_(t),n=!0),this.G_=t,n}onError(t){this.U_.error(t)}Q_(t){this.onlineState=t;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,t)&&(this.H_(this.G_),n=!0),n}j_(t,n){if(!t.fromCache)return!0;const r=n!=="Offline";return(!this.options.J_||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}z_(t){if(t.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(t){t=jm.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.W_=!0,this.U_.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lle{constructor(t){this.key=t}}class cle{constructor(t){this.key=t}}class Jst{constructor(t,n){this.query=t,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Kt(),this.mutatedKeys=Kt(),this._a=Aue(t),this.aa=new Yp(this._a)}get ua(){return this.ia}ca(t,n){const r=n?n.la:new Kz,i=n?n.aa:this.aa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,f)=>{const d=i.get(c),h=mA(this.query,f)?f:null,p=!!d&&this.mutatedKeys.has(d.key),g=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let y=!1;d&&h?d.data.isEqual(h.data)?p!==g&&(r.track({type:3,doc:h}),y=!0):this.ha(d,h)||(r.track({type:2,doc:h}),y=!0,(u&&this._a(h,u)>0||l&&this._a(h,l)<0)&&(a=!0)):!d&&h?(r.track({type:0,doc:h}),y=!0):d&&!h&&(r.track({type:1,doc:d}),y=!0,(u||l)&&(a=!0)),y&&(h?(o=o.add(h),s=g?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,i){const s=this.aa;this.aa=t.aa,this.mutatedKeys=t.mutatedKeys;const o=t.la.L_();o.sort((c,f)=>function(h,p){const g=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt()}};return g(h)-g(p)}(c.type,f.type)||this._a(c.doc,f.doc)),this.Pa(r),i=i!=null&&i;const a=n&&!i?this.Ia():[],u=this.oa.size===0&&this.current&&!i?1:0,l=u!==this.sa;return this.sa=u,o.length!==0||l?{snapshot:new jm(this.query,t.aa,s,o,t.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new Kz,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(t){return!this.ia.has(t)&&!!this.aa.has(t)&&!this.aa.get(t).hasLocalMutations}Pa(t){t&&(t.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=t.current)}Ia(){if(!this.current)return[];const t=this.oa;this.oa=Kt(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return t.forEach(r=>{this.oa.has(r)||n.push(new cle(r))}),this.oa.forEach(r=>{t.has(r)||n.push(new lle(r))}),n}da(t){this.ia=t.ls,this.oa=Kt();const n=this.ca(t.documents);return this.applyChanges(n,!0)}Aa(){return jm.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class Zst{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class eot{constructor(t){this.key=t,this.Ra=!1}}class tot{constructor(t,n,r,i,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new Tg(a=>Iue(a),pA),this.fa=new Map,this.ga=new Set,this.pa=new br(ft.comparator),this.ya=new Map,this.wa=new GL,this.Sa={},this.ba=new Map,this.Da=Bm.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function not(e,t){const n=dot(e);let r,i;const s=n.ma.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=await Ist(n.localStore,Ou(t)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await rot(n,t,r,a==="current",o.resumeToken),n.isPrimaryClient&&Zue(n.remoteStore,o)}return i}async function rot(e,t,n,r,i){e.va=(f,d,h)=>async function(g,y,m,_){let v=y.view.ca(m);v.Zi&&(v=await Wz(g.localStore,y.query,!1).then(({documents:x})=>y.view.ca(x,v)));const T=_&&_.targetChanges.get(y.targetId),S=_&&_.targetMismatches.get(y.targetId)!=null,w=y.view.applyChanges(v,g.isPrimaryClient,T,S);return Xz(g,y.targetId,w.Ta),w.snapshot}(e,f,d,h);const s=await Wz(e.localStore,t,!0),o=new Jst(t,s.ls),a=o.ca(s.documents),u=$v.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),l=o.applyChanges(a,e.isPrimaryClient,u);Xz(e,n,l.Ta);const c=new Zst(t,n,o);return e.ma.set(t,c),e.fa.has(n)?e.fa.get(n).push(t):e.fa.set(n,[t]),l.snapshot}async function iot(e,t){const n=Nt(e),r=n.ma.get(t),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(s=>!pA(s,t))),void n.ma.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await JN(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),ele(n.remoteStore,r.targetId),ZN(n,r.targetId)}).catch(Nv)):(ZN(n,r.targetId),await JN(n.localStore,r.targetId,!0))}async function sot(e,t,n){const r=hot(e);try{const i=await function(o,a){const u=Nt(o),l=ni.now(),c=a.reduce((h,p)=>h.add(p.key),Kt());let f,d;return u.persistence.runTransaction("Locally write mutations","readwrite",h=>{let p=Jl(),g=Kt();return u.ss.getEntries(h,c).next(y=>{p=y,p.forEach((m,_)=>{_.isValidDocument()||(g=g.add(m))})}).next(()=>u.localDocuments.getOverlayedDocuments(h,p)).next(y=>{f=y;const m=[];for(const _ of a){const v=Rit(_,f.get(_.key).overlayedDocument);v!=null&&m.push(new xh(_.key,v,vue(v.value.mapValue),Pl.exists(!0)))}return u.mutationQueue.addMutationBatch(h,l,m,a)}).next(y=>{d=y;const m=y.applyToLocalDocumentSet(f,g);return u.documentOverlayCache.saveOverlays(h,y.batchId,m)})}).then(()=>({batchId:d.batchId,changes:Oue(f)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.Sa[o.currentUser.toKey()];l||(l=new br(xn)),l=l.insert(a,u),o.Sa[o.currentUser.toKey()]=l}(r,i.batchId,n),await Fv(r,i.changes),await bA(r.remoteStore)}catch(i){const s=tM(i,"Failed to persist write");n.reject(s)}}async function fle(e,t){const n=Nt(e);try{const r=await Tst(n.localStore,t);t.targetChanges.forEach((i,s)=>{const o=n.ya.get(s);o&&(Yn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?Yn(o.Ra):i.removedDocuments.size>0&&(Yn(o.Ra),o.Ra=!1))}),await Fv(n,r,t)}catch(r){await Nv(r)}}function Qz(e,t,n){const r=Nt(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ma.forEach((s,o)=>{const a=o.view.Q_(t);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=Nt(o);u.onlineState=a;let l=!1;u.queries.forEach((c,f)=>{for(const d of f.listeners)d.Q_(a)&&(l=!0)}),l&&nM(u)}(r.eventManager,t),i.length&&r.Va.a_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function oot(e,t,n){const r=Nt(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.ya.get(t),s=i&&i.key;if(s){let o=new br(ft.comparator);o=o.insert(s,Qi.newNoDocument(s,It.min()));const a=Kt().add(s),u=new _A(It.min(),new Map,new br(xn),o,a);await fle(r,u),r.pa=r.pa.remove(s),r.ya.delete(t),rM(r)}else await JN(r.localStore,t,!1).then(()=>ZN(r,t,n)).catch(Nv)}async function aot(e,t){const n=Nt(e),r=t.batch.batchId;try{const i=await Est(n.localStore,t);hle(n,r,null),dle(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Fv(n,i)}catch(i){await Nv(i)}}async function uot(e,t,n){const r=Nt(e);try{const i=await function(o,a){const u=Nt(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return u.mutationQueue.lookupMutationBatch(l,a).next(f=>(Yn(f!==null),c=f.keys(),u.mutationQueue.removeMutationBatch(l,f))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,c,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>u.localDocuments.getDocuments(l,c))})}(r.localStore,t);hle(r,t,n),dle(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Fv(r,i)}catch(i){await Nv(i)}}function dle(e,t){(e.ba.get(t)||[]).forEach(n=>{n.resolve()}),e.ba.delete(t)}function hle(e,t,n){const r=Nt(e);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.Sa[r.currentUser.toKey()]=i}}function ZN(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.fa.get(t))e.ma.delete(r),n&&e.Va.Fa(r,n);e.fa.delete(t),e.isPrimaryClient&&e.wa.Rr(t).forEach(r=>{e.wa.containsKey(r)||ple(e,r)})}function ple(e,t){e.ga.delete(t.path.canonicalString());const n=e.pa.get(t);n!==null&&(ele(e.remoteStore,n),e.pa=e.pa.remove(t),e.ya.delete(n),rM(e))}function Xz(e,t,n){for(const r of n)r instanceof lle?(e.wa.addReference(r.key,t),lot(e,r)):r instanceof cle?(et("SyncEngine","Document no longer in limbo: "+r.key),e.wa.removeReference(r.key,t),e.wa.containsKey(r.key)||ple(e,r.key)):vt()}function lot(e,t){const n=t.key,r=n.path.canonicalString();e.pa.get(n)||e.ga.has(r)||(et("SyncEngine","New document in limbo: "+n),e.ga.add(r),rM(e))}function rM(e){for(;e.ga.size>0&&e.pa.size<e.maxConcurrentLimboResolutions;){const t=e.ga.values().next().value;e.ga.delete(t);const n=new ft(cr.fromString(t)),r=e.Da.next();e.ya.set(r,new eot(n)),e.pa=e.pa.insert(n,r),Zue(e.remoteStore,new Uc(Ou(HL(n.path)),r,"TargetPurposeLimboResolution",FL._e))}}async function Fv(e,t,n){const r=Nt(e),i=[],s=[],o=[];r.ma.isEmpty()||(r.ma.forEach((a,u)=>{o.push(r.va(u,t,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,l!=null&&l.fromCache?"not-current":"current"),l){i.push(l);const c=QL.Qi(u.targetId,l);s.push(c)}}))}),await Promise.all(o),r.Va.a_(i),await async function(u,l){const c=Nt(u);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Ce.forEach(l,d=>Ce.forEach(d.ki,h=>c.persistence.referenceDelegate.addReference(f,d.targetId,h)).next(()=>Ce.forEach(d.qi,h=>c.persistence.referenceDelegate.removeReference(f,d.targetId,h)))))}catch(f){if(!kv(f))throw f;et("LocalStore","Failed to update sequence numbers: "+f)}for(const f of l){const d=f.targetId;if(!f.fromCache){const h=c.ts.get(d),p=h.snapshotVersion,g=h.withLastLimboFreeSnapshotVersion(p);c.ts=c.ts.insert(d,g)}}}(r.localStore,s))}async function cot(e,t){const n=Nt(e);if(!n.currentUser.isEqual(t)){et("SyncEngine","User change. New user:",t.toKey());const r=await Kue(n.localStore,t);n.currentUser=t,function(s,o){s.ba.forEach(a=>{a.forEach(u=>{u.reject(new it(Ie.CANCELLED,o))})}),s.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Fv(n,r._s)}}function fot(e,t){const n=Nt(e),r=n.ya.get(t);if(r&&r.Ra)return Kt().add(r.key);{let i=Kt();const s=n.fa.get(t);if(!s)return i;for(const o of s){const a=n.ma.get(o);i=i.unionWith(a.view.ua)}return i}}function dot(e){const t=Nt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=fle.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=fot.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=oot.bind(null,t),t.Va.a_=Qst.bind(null,t.eventManager),t.Va.Fa=Xst.bind(null,t.eventManager),t}function hot(e){const t=Nt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=aot.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=uot.bind(null,t),t}class Jz{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=vA(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return wst(this.persistence,new vst,t.initialUser,this.serializer)}createPersistence(t){return new gst(KL.jr,this.serializer)}createSharedClientState(t){return new Cst}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class pot{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Qz(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=cot.bind(null,this.syncEngine),await Yst(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new Kst}()}createDatastore(t){const n=vA(t.databaseInfo.databaseId),r=function(s){return new Nst(s)}(t.databaseInfo);return function(s,o,a,u){return new $st(s,o,a,u)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,s,o,a){return new Mst(r,i,s,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>Qz(this.syncEngine,n,0),function(){return Yz.D()?new Yz:new Ost}())}createSyncEngine(t,n){return function(i,s,o,a,u,l,c){const f=new tot(i,s,o,a,u,l);return c&&(f.Ca=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=Nt(n);et("RemoteStore","RemoteStore shutting down."),r.C_.add(5),await Mv(r),r.F_.shutdown(),r.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mle{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Oa(this.observer.next,t)}error(t){this.observer.error?this.Oa(this.observer.error,t):Xl("Uncaught Error in snapshot listener:",t.toString())}Na(){this.muted=!0}Oa(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mot{constructor(t,n,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Os.UNAUTHENTICATED,this.clientId=gue.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{et("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(et("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new it(Ie.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ol;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=tM(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function _P(e,t){e.asyncQueue.verifyOperationInProgress(),et("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Kue(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Zz(e,t){e.asyncQueue.verifyOperationInProgress();const n=await gle(e);et("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(i=>Gz(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,s)=>Gz(t.remoteStore,s)),e._onlineComponents=t}function got(e){return e.name==="FirebaseError"?e.code===Ie.FAILED_PRECONDITION||e.code===Ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function gle(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){et("FirestoreClient","Using user provided OfflineComponentProvider");try{await _P(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!got(n))throw n;E_("Error using user provided cache. Falling back to memory cache: "+n),await _P(e,new Jz)}}else et("FirestoreClient","Using default OfflineComponentProvider"),await _P(e,new Jz);return e._offlineComponents}async function iM(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(et("FirestoreClient","Using user provided OnlineComponentProvider"),await Zz(e,e._uninitializedComponentsProvider._online)):(et("FirestoreClient","Using default OnlineComponentProvider"),await Zz(e,new pot))),e._onlineComponents}function yot(e){return gle(e).then(t=>t.persistence)}function _ot(e){return iM(e).then(t=>t.remoteStore)}function vot(e){return iM(e).then(t=>t.syncEngine)}async function yle(e){const t=await iM(e),n=t.eventManager;return n.onListen=not.bind(null,t.syncEngine),n.onUnlisten=iot.bind(null,t.syncEngine),n}function bot(e){return e.asyncQueue.enqueue(async()=>{const t=await yot(e),n=await _ot(e);return t.setNetworkEnabled(!0),function(i){const s=Nt(i);return s.C_.delete(0),Lv(s)}(n)})}function wot(e,t,n={}){const r=new Ol;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,l){const c=new mle({next:d=>{o.enqueueAndForget(()=>ale(s,f));const h=d.docs.has(a);!h&&d.fromCache?l.reject(new it(Ie.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&u&&u.source==="server"?l.reject(new it(Ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),f=new ule(HL(a.path),c,{includeMetadataChanges:!0,J_:!0});return ole(s,f)}(await yle(e),e.asyncQueue,t,n,r)),r.promise}function Eot(e,t,n={}){const r=new Ol;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,l){const c=new mle({next:d=>{o.enqueueAndForget(()=>ale(s,f)),d.fromCache&&u.source==="server"?l.reject(new it(Ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),f=new ule(a,c,{includeMetadataChanges:!0,J_:!0});return ole(s,f)}(await yle(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _le(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eH=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vle(e,t,n){if(!n)throw new it(Ie.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Tot(e,t,n,r){if(t===!0&&r===!0)throw new it(Ie.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function tH(e){if(!ft.isDocumentKey(e))throw new it(Ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function nH(e){if(ft.isDocumentKey(e))throw new it(Ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function sM(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":vt()}function sh(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new it(Ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=sM(e);throw new it(Ie.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rH{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new it(Ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new it(Ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Tot("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_le((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new it(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new it(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new it(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class oM{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rH({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new it(Ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new it(Ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rH(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Vrt;switch(r.type){case"firstParty":return new Wrt(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new it(Ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=eH.get(n);r&&(et("ComponentProvider","Removing Datastore"),eH.delete(n),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new wA(this.firestore,t,this._query)}}class vo{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lf(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new vo(this.firestore,t,this._key)}}class lf extends wA{constructor(t,n,r){super(t,n,HL(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new vo(this.firestore,null,new ft(t))}withConverter(t){return new lf(this.firestore,t,this._path)}}function Sot(e,t,...n){if(e=rs(e),vle("collection","path",t),e instanceof oM){const r=cr.fromString(t,...n);return nH(r),new lf(e,null,r)}{if(!(e instanceof vo||e instanceof lf))throw new it(Ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(cr.fromString(t,...n));return nH(r),new lf(e.firestore,null,r)}}function el(e,t,...n){if(e=rs(e),arguments.length===1&&(t=gue.newId()),vle("doc","path",t),e instanceof oM){const r=cr.fromString(t,...n);return tH(r),new vo(e,null,new ft(r))}{if(!(e instanceof vo||e instanceof lf))throw new it(Ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(cr.fromString(t,...n));return tH(r),new vo(e.firestore,e instanceof lf?e.converter:null,new ft(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xot{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new Xue(this,"async_queue_retry"),this.iu=()=>{const n=yP();n&&et("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const t=yP();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.su(),this.ou(t)}enterRestrictedMode(t){if(!this.Za){this.Za=!0,this.nu=t||!1;const n=yP();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(t){if(this.su(),this.Za)return new Promise(()=>{});const n=new Ol;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ya.push(t),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(t){if(!kv(t))throw t;et("AsyncQueue","Operation failed with retryable error: "+t)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(t){const n=this.Ja.then(()=>(this.tu=!0,t().catch(r=>{this.eu=r,this.tu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Xl("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(t,n,r){this.su(),this.ru.indexOf(t)>-1&&(n=0);const i=eM.createAndSchedule(this,t,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&vt()}verifyOperationInProgress(){}async uu(){let t;do t=this.Ja,await t;while(t!==this.Ja)}cu(t){for(const n of this.Xa)if(n.timerId===t)return!0;return!1}lu(t){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.uu()})}hu(t){this.ru.push(t)}au(t){const n=this.Xa.indexOf(t);this.Xa.splice(n,1)}}class Bv extends oM{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=function(){return new xot}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||ble(this),this._firestoreClient.terminate()}}function Iot(e,t,n){n||(n="(default)");const r=_g(e,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),s=r.getOptions(n);if(d_(s,t))return i;throw new it(Ie.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(t.cacheSizeBytes!==void 0&&t.localCache!==void 0)throw new it(Ie.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(t.cacheSizeBytes!==void 0&&t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new it(Ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:t,instanceIdentifier:n})}function EA(e){return e._firestoreClient||ble(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function ble(e){var t,n,r;const i=e._freezeSettings(),s=function(a,u,l,c){return new rit(a,u,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,_le(c.experimentalLongPollingOptions),c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new mot(e._authCredentials,e._appCheckCredentials,e._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function Aot(e){return bot(EA(e=sh(e,Bv)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Um(is.fromBase64String(t))}catch(n){throw new it(Ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Um(is.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new it(Ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ri(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wle{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new it(Ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new it(Ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return xn(this._lat,t._lat)||xn(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cot=/^__.*__$/;class Oot{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new xh(t,this.data,this.fieldMask,n,this.fieldTransforms):new Dv(t,this.data,n,this.fieldTransforms)}}function Ele(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt()}}class lM{constructor(t,n,r,i,s,o){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(t){return new lM(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Tu({path:r,du:!1});return i.Au(t),i}Ru(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(t){return this.Tu({path:void 0,du:!0})}mu(t){return BS(t,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Au(this.path.get(t))}Au(t){if(t.length===0)throw this.mu("Document fields must not be empty");if(Ele(this.Iu)&&Cot.test(t))throw this.mu('Document fields cannot begin and end with "__"')}}class Pot{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||vA(t)}pu(t,n,r,i=!1){return new lM({Iu:t,methodName:n,gu:r,path:Ri.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Rot(e){const t=e._freezeSettings(),n=vA(e._databaseId);return new Pot(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Not(e,t,n,r,i,s={}){const o=e.pu(s.merge||s.mergeFields?2:0,t,n,i);Ile("Data must be an object, but it was:",o,r);const a=Sle(r,o);let u,l;if(s.merge)u=new Oa(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const f of s.mergeFields){const d=kot(t,f,n);if(!o.contains(d))throw new it(Ie.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);$ot(c,d)||c.push(d)}u=new Oa(c),l=o.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,l=o.fieldTransforms;return new Oot(new Yo(a),u,l)}function Tle(e,t){if(xle(e=rs(e)))return Ile("Unsupported field value:",t,e),Sle(e,t);if(e instanceof wle)return function(r,i){if(!Ele(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.du&&t.Iu!==4)throw t.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=Tle(a,i.Vu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(e,t)}return function(r,i){if((r=rs(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return xit(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=ni.fromDate(r);return{timestampValue:MS(i.serializer,s)}}if(r instanceof ni){const s=new ni(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:MS(i.serializer,s)}}if(r instanceof uM)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Um)return{bytesValue:zue(i.serializer,r._byteString)};if(r instanceof vo){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:YL(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${sM(r)}`)}(e,t)}function Sle(e,t){const n={};return yue(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Eg(e,(r,i)=>{const s=Tle(i,t.Eu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function xle(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof ni||e instanceof uM||e instanceof Um||e instanceof vo||e instanceof wle)}function Ile(e,t,n){if(!xle(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=sM(n);throw r==="an object"?t.mu(e+" a custom object"):t.mu(e+" "+r)}}function kot(e,t,n){if((t=rs(t))instanceof aM)return t._internalPath;if(typeof t=="string")return Ale(e,t);throw BS("Field path arguments must be of type string or ",e,!1,void 0,n)}const Dot=new RegExp("[~\\*/\\[\\]]");function Ale(e,t,n){if(t.search(Dot)>=0)throw BS(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new aM(...t.split("."))._internalPath}catch{throw BS(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function BS(e,t,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new it(Ie.INVALID_ARGUMENT,a+e+u)}function $ot(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cle{constructor(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new vo(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Lot(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Ole("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Lot extends Cle{data(){return super.data()}}function Ole(e,t){return typeof t=="string"?Ale(e,t):t instanceof aM?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mot(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new it(Ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Fot{convertValue(t,n="none"){switch(ih(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Vr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(rh(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw vt()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Eg(t,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(t){return new uM(Vr(t.latitude),Vr(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=jL(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(S_(t));default:return null}}convertTimestamp(t){const n=Af(t);return new ni(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=cr.fromString(t);Yn(Gue(r));const i=new x_(r.get(1),r.get(3)),s=new ft(r.popFirst(5));return i.isEqual(n)||Xl(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bot(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ple extends Cle{constructor(t,n,r,i,s,o){super(t,n,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new tw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(Ole("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class tw extends Ple{data(t={}){return super.data(t)}}class jot{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new $0(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new tw(this._firestore,this._userDataWriter,r.key,r,new $0(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new it(Ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const u=new tw(i._firestore,i._userDataWriter,a.doc.key,a.doc,new $0(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const u=new tw(i._firestore,i._userDataWriter,a.doc.key,a.doc,new $0(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,c=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:Uot(a.type),doc:u,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Uot(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(e){e=sh(e,vo);const t=sh(e.firestore,Bv);return wot(EA(t),e._key).then(n=>Hot(t,e,n))}class Rle extends Fot{constructor(t){super(),this.firestore=t}convertBytes(t){return new Um(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new vo(this.firestore,null,n)}}function Vot(e){e=sh(e,wA);const t=sh(e.firestore,Bv),n=EA(t),r=new Rle(t);return Mot(e._query),Eot(n,e._query).then(i=>new jot(t,r,e,i))}function d0(e,t,n){e=sh(e,vo);const r=sh(e.firestore,Bv),i=Bot(e.converter,t,n);return zot(r,[Not(Rot(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,Pl.none())])}function zot(e,t){return function(r,i){const s=new Ol;return r.asyncQueue.enqueueAndForget(async()=>sot(await vot(r),i,s)),s.promise}(EA(e),t)}function Hot(e,t,n){const r=n.docs.get(t._key),i=new Rle(e);return new Ple(e,i,t._key,r,new $0(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(i){wg=i})(Th),Kl(new ju("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Bv(new zrt(r.getProvider("auth-internal")),new Yrt(r.getProvider("app-check-internal")),function(l,c){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new it(Ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new x_(l.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Da(xz,"4.4.0",t),Da(xz,"4.4.0","esm2017")})();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ek=new Map,Nle={activated:!1,tokenObservers:[]},Wot={initialized:!1,enabled:!1};function ri(e){return ek.get(e)||Object.assign({},Nle)}function qot(e,t){return ek.set(e,t),ek.get(e)}function TA(){return Wot}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kle="https://content-firebaseappcheck.googleapis.com/v1",Yot="exchangeRecaptchaV3Token",Got="exchangeDebugToken",iH={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},Kot=24*60*60*1e3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qot{constructor(t,n,r,i,s){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(t){this.stop();try{this.pending=new f_,await Xot(this.getNextRun(t)),this.pending.resolve(),await this.pending.promise,this.pending=new f_,await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function Xot(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jot={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Vs=new yg("appCheck","AppCheck",Jot);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sH(e=!1){var t;return e?(t=self.grecaptcha)===null||t===void 0?void 0:t.enterprise:self.grecaptcha}function cM(e){if(!ri(e).activated)throw Vs.create("use-before-activation",{appName:e.name})}function Dle(e){const t=Math.round(e/1e3),n=Math.floor(t/(3600*24)),r=Math.floor((t-n*3600*24)/3600),i=Math.floor((t-n*3600*24-r*3600)/60),s=t-n*3600*24-r*3600-i*60;let o="";return n&&(o+=ob(n)+"d:"),r&&(o+=ob(r)+"h:"),o+=ob(i)+"m:"+ob(s)+"s",o}function ob(e){return e===0?"00":e>=10?e.toString():"0"+e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fM({url:e,body:t},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const f=await i.getHeartbeatsHeader();f&&(r["X-Firebase-Client"]=f)}const s={method:"POST",body:JSON.stringify(t),headers:r};let o;try{o=await fetch(e,s)}catch(f){throw Vs.create("fetch-network-error",{originalErrorMessage:f==null?void 0:f.message})}if(o.status!==200)throw Vs.create("fetch-status-error",{httpStatus:o.status});let a;try{a=await o.json()}catch(f){throw Vs.create("fetch-parse-error",{originalErrorMessage:f==null?void 0:f.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Vs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=Number(u[1])*1e3,c=Date.now();return{token:a.token,expireTimeMillis:c+l,issuedAtTimeMillis:c}}function Zot(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${kle}/projects/${n}/apps/${r}:${Yot}?key=${i}`,body:{recaptcha_v3_token:t}}}function $le(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${kle}/projects/${n}/apps/${r}:${Got}?key=${i}`,body:{debug_token:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eat="firebase-app-check-database",tat=1,O_="firebase-app-check-store",Lle="debug-token";let ab=null;function Mle(){return ab||(ab=new Promise((e,t)=>{try{const n=indexedDB.open(eat,tat);n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{var i;t(Vs.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(O_,{keyPath:"compositeKey"})}}}catch(n){t(Vs.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),ab)}function nat(e){return Ble(jle(e))}function rat(e,t){return Fle(jle(e),t)}function iat(e){return Fle(Lle,e)}function sat(){return Ble(Lle)}async function Fle(e,t){const r=(await Mle()).transaction(O_,"readwrite"),s=r.objectStore(O_).put({compositeKey:e,value:t});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var l;a(Vs.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})}async function Ble(e){const n=(await Mle()).transaction(O_,"readonly"),i=n.objectStore(O_).get(e);return new Promise((s,o)=>{i.onsuccess=a=>{const u=a.target.result;s(u?u.value:void 0)},n.onerror=a=>{var u;o(Vs.create("storage-get",{originalErrorMessage:(u=a.target.error)===null||u===void 0?void 0:u.message}))}})}function jle(e){return`${e.options.appId}-${e.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_=new KI("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oat(e){if(aL()){let t;try{t=await nat(e)}catch(n){P_.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return t}}function vP(e,t){return aL()?rat(e,t).catch(n=>{P_.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}async function aat(){let e;try{e=await sat()}catch{}if(e)return e;{const t=uet();return iat(t).catch(n=>P_.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dM(){return TA().enabled}async function hM(){const e=TA();if(e.enabled&&e.token)return e.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}function uat(){const e=Uoe(),t=TA();if(t.initialized=!0,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&e.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;t.enabled=!0;const n=new f_;t.token=n,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(aat())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lat={error:"UNKNOWN_ERROR"};function cat(e){return sL.encodeString(JSON.stringify(e),!1)}async function tk(e,t=!1){const n=e.app;cM(n);const r=ri(n);let i=r.token,s;if(i&&!bp(i)&&(r.token=void 0,i=void 0),!i){const u=await r.cachedTokenPromise;u&&(bp(u)?i=u:await vP(n,void 0))}if(!t&&i&&bp(i))return{token:i.token};let o=!1;if(dM()){r.exchangeTokenPromise||(r.exchangeTokenPromise=fM($le(n,await hM()),e.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=await r.exchangeTokenPromise;return await vP(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=await ri(n).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"?P_.warn(u.message):P_.error(u),s=u}let a;return i?s?bp(i)?a={token:i.token,internalError:s}:a=aH(s):(a={token:i.token},r.token=i,await vP(n,i)):a=aH(s),o&&zle(n,a),a}async function fat(e){const t=e.app;cM(t);const{provider:n}=ri(t);if(dM()){const r=await hM(),{token:i}=await fM($le(t,r),e.heartbeatServiceProvider);return{token:i}}else{const{token:r}=await n.getToken();return{token:r}}}function Ule(e,t,n,r){const{app:i}=e,s=ri(i),o={next:n,error:r,type:t};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&bp(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),oH(e)}).catch(()=>{})}s.cachedTokenPromise.then(()=>oH(e))}function Vle(e,t){const n=ri(e),r=n.tokenObservers.filter(i=>i.next!==t);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function oH(e){const{app:t}=e,n=ri(t);let r=n.tokenRefresher;r||(r=dat(e),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function dat(e){const{app:t}=e;return new Qot(async()=>{const n=ri(t);let r;if(n.token?r=await tk(e,!0):r=await tk(e),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{const n=ri(t);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},iH.RETRIAL_MIN_WAIT,iH.RETRIAL_MAX_WAIT)}function zle(e,t){const n=ri(e).tokenObservers;for(const r of n)try{r.type==="EXTERNAL"&&t.error!=null?r.error(t.error):r.next(t)}catch{}}function bp(e){return e.expireTimeMillis-Date.now()>0}function aH(e){return{token:cat(lat),error:e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hat{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:t}=ri(this.app);for(const n of t)Vle(this.app,n.next);return Promise.resolve()}}function pat(e,t){return new hat(e,t)}function mat(e){return{getToken:t=>tk(e,t),getLimitedUseToken:()=>fat(e),addTokenListener:t=>Ule(e,"INTERNAL",t),removeTokenListener:t=>Vle(e.app,t)}}const gat="@firebase/app-check",yat="0.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _at="https://www.google.com/recaptcha/api.js";function vat(e,t){const n=new f_,r=ri(e);r.reCAPTCHAState={initialized:n};const i=bat(e),s=sH(!1);return s?uH(e,t,s,i,n):Tat(()=>{const o=sH(!1);if(!o)throw new Error("no recaptcha");uH(e,t,o,i,n)}),n.promise}function uH(e,t,n,r,i){n.ready(()=>{Eat(e,t,n,r),i.resolve(n)})}function bat(e){const t=`fire_app_check_${e.name}`,n=document.createElement("div");return n.id=t,n.style.display="none",document.body.appendChild(n),t}async function wat(e){cM(e);const n=await ri(e).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const s=ri(e).reCAPTCHAState;n.ready(()=>{r(n.execute(s.widgetId,{action:"fire_app_check"}))})})}function Eat(e,t,n,r){const i=n.render(r,{sitekey:t,size:"invisible",callback:()=>{ri(e).reCAPTCHAState.succeeded=!0},"error-callback":()=>{ri(e).reCAPTCHAState.succeeded=!1}}),s=ri(e);s.reCAPTCHAState=Object.assign(Object.assign({},s.reCAPTCHAState),{widgetId:i})}function Tat(e){const t=document.createElement("script");t.src=_at,t.onload=e,document.head.appendChild(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(t){this._siteKey=t,this._throttleData=null}async getToken(){var t,n,r;xat(this._throttleData);const i=await wat(this._app).catch(o=>{throw Vs.create("recaptcha-error")});if(!(!((t=ri(this._app).reCAPTCHAState)===null||t===void 0)&&t.succeeded))throw Vs.create("recaptcha-error");let s;try{s=await fM(Zot(this._app,i),this._heartbeatServiceProvider)}catch(o){throw!((n=o.code)===null||n===void 0)&&n.includes("fetch-status-error")?(this._throttleData=Sat(Number((r=o.customData)===null||r===void 0?void 0:r.httpStatus),this._throttleData),Vs.create("throttled",{time:Dle(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):o}return this._throttleData=null,s}initialize(t){this._app=t,this._heartbeatServiceProvider=_g(t,"heartbeat"),vat(t,this._siteKey).catch(()=>{})}isEqual(t){return t instanceof pM?this._siteKey===t._siteKey:!1}}function Sat(e,t){if(e===404||e===403)return{backoffCount:1,allowRequestsAfter:Date.now()+Kot,httpStatus:e};{const n=t?t.backoffCount:0,r=pet(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:e}}}function xat(e){if(e&&Date.now()-e.allowRequestsAfter<=0)throw Vs.create("throttled",{time:Dle(e.allowRequestsAfter-Date.now()),httpStatus:e.httpStatus})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iat(e=lL(),t){e=rs(e);const n=_g(e,"app-check");if(TA().initialized||uat(),dM()&&hM().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(s.isTokenAutoRefreshEnabled===t.isTokenAutoRefreshEnabled&&s.provider.isEqual(t.provider))return i;throw Vs.create("already-initialized",{appName:e.name})}const r=n.initialize({options:t});return Aat(e,t.provider,t.isTokenAutoRefreshEnabled),ri(e).isTokenAutoRefreshEnabled&&Ule(r,"INTERNAL",()=>{}),r}function Aat(e,t,n){const r=qot(e,Object.assign({},Nle));r.activated=!0,r.provider=t,r.cachedTokenPromise=oat(e).then(i=>(i&&bp(i)&&(r.token=i,zle(e,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=n===void 0?e.automaticDataCollectionEnabled:n,r.provider.initialize(e)}const Cat="app-check",lH="app-check-internal";function Oat(){Kl(new ju(Cat,e=>{const t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return pat(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(lH).initialize()})),Kl(new ju(lH,e=>{const t=e.getProvider("app-check").getImmediate();return mat(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),Da(gat,yat)}Oat();function Hle(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Pat=Hle,Wle=new yg("auth","Firebase",Hle());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS=new KI("@firebase/auth");function Rat(e,...t){jS.logLevel<=rn.WARN&&jS.warn(`Auth (${Th}): ${e}`,...t)}function nw(e,...t){jS.logLevel<=rn.ERROR&&jS.error(`Auth (${Th}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zl(e,...t){throw mM(e,...t)}function Ru(e,...t){return mM(e,...t)}function Nat(e,t,n){const r=Object.assign(Object.assign({},Pat()),{[t]:n});return new yg("auth","Firebase",r).create(t,{appName:e.name})}function mM(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return Wle.create(e,...t)}function At(e,t,...n){if(!e)throw mM(t,...n)}function bl(e){const t="INTERNAL ASSERTION FAILED: "+e;throw nw(t),new Error(t)}function ec(e,t){e||bl(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nk(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function kat(){return cH()==="http:"||cH()==="https:"}function cH(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dat(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kat()||XZe()||"connection"in navigator)?navigator.onLine:!0}function $at(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(t,n){this.shortDelay=t,this.longDelay=n,ec(n>t,"Short delay should be less than long delay!"),this.isMobile=QZe()||JZe()}get(){return Dat()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gM(e,t){ec(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qle{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;bl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;bl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;bl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lat={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mat=new jv(3e4,6e4);function SA(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function xg(e,t,n,r,i={}){return Yle(e,i,async()=>{let s={},o={};r&&(t==="GET"?o=r:s={body:JSON.stringify(r)});const a=Tv(Object.assign({key:e.config.apiKey},o)).slice(1),u=await e._getAdditionalHeaders();return u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode),qle.fetch()(Kle(e,e.config.apiHost,n,a),Object.assign({method:t,headers:u,referrerPolicy:"no-referrer"},s))})}async function Yle(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Lat),t);try{const i=new Fat(e),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw ub(e,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw ub(e,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw ub(e,"email-already-in-use",o);if(u==="USER_DISABLED")throw ub(e,"user-disabled",o);const c=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw Nat(e,c,l);Zl(e,c)}}catch(i){if(i instanceof Xu)throw i;Zl(e,"network-request-failed",{message:String(i)})}}async function Gle(e,t,n,r,i={}){const s=await xg(e,t,n,r,i);return"mfaPendingCredential"in s&&Zl(e,"multi-factor-auth-required",{_serverResponse:s}),s}function Kle(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?gM(e.config,i):`${e.config.apiScheme}://${i}`}class Fat{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ru(this.auth,"network-request-failed")),Mat.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ub(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ru(e,t,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bat(e,t){return xg(e,"POST","/v1/accounts:delete",t)}async function jat(e,t){return xg(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Uat(e,t=!1){const n=rs(e),r=await n.getIdToken(t),i=yM(r);At(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:_y(bP(i.auth_time)),issuedAtTime:_y(bP(i.iat)),expirationTime:_y(bP(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function bP(e){return Number(e)*1e3}function yM(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return nw("JWT malformed, contained fewer than 3 sections"),null;try{const i=joe(n);return i?JSON.parse(i):(nw("Failed to decode base64 JWT payload"),null)}catch(i){return nw("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Vat(e){const t=yM(e);return At(t,"internal-error"),At(typeof t.exp<"u","internal-error"),At(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R_(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof Xu&&zat(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function zat({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hat{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qle{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_y(this.lastLoginAt),this.creationTime=_y(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function US(e){var t;const n=e.auth,r=await e.getIdToken(),i=await R_(e,jat(n,{idToken:r}));At(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?Yat(s.providerUserInfo):[],a=qat(e.providerData,o),u=e.isAnonymous,l=!(e.email&&s.passwordHash)&&!(a!=null&&a.length),c=u?l:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Qle(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(e,f)}async function Wat(e){const t=rs(e);await US(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function qat(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function Yat(e){return e.map(t=>{var{providerId:n}=t,r=R3(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gat(e,t){const n=await Yle(e,{},async()=>{const r=Tv({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=e.config,o=Kle(e,i,"/v1/token",`key=${s}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",qle.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Kat(e,t){return xg(e,"POST","/v2/accounts:revokeToken",SA(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){At(t.idToken,"internal-error"),At(typeof t.idToken<"u","internal-error"),At(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Vat(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}async getToken(t,n=!1){return At(!this.accessToken||this.refreshToken,t,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Gat(t,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new N_;return r&&(At(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),i&&(At(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),s&&(At(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new N_,this.toJSON())}_performRefresh(){return bl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yc(e,t){At(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Md{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,s=R3(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Hat(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Qle(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await R_(this,this.stsTokenManager.getToken(this.auth,t));return At(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return Uat(this,t)}reload(){return Wat(this)}_assign(t){this!==t&&(At(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Md(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){At(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await US(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await R_(this,Bat(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,s,o,a,u,l,c;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,h=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,m=(l=n.createdAt)!==null&&l!==void 0?l:void 0,_=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:v,emailVerified:T,isAnonymous:S,providerData:w,stsTokenManager:x}=n;At(v&&x,t,"internal-error");const A=N_.fromJSON(this.name,x);At(typeof v=="string",t,"internal-error"),yc(f,t.name),yc(d,t.name),At(typeof T=="boolean",t,"internal-error"),At(typeof S=="boolean",t,"internal-error"),yc(h,t.name),yc(p,t.name),yc(g,t.name),yc(y,t.name),yc(m,t.name),yc(_,t.name);const $=new Md({uid:v,auth:t,email:d,emailVerified:T,displayName:f,isAnonymous:S,photoURL:p,phoneNumber:h,tenantId:g,stsTokenManager:A,createdAt:m,lastLoginAt:_});return w&&Array.isArray(w)&&($.providerData=w.map(D=>Object.assign({},D))),y&&($._redirectEventId=y),$}static async _fromIdTokenResponse(t,n,r=!1){const i=new N_;i.updateFromServerResponse(n);const s=new Md({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await US(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fH=new Map;function wl(e){ec(e instanceof Function,"Expected a class definition");let t=fH.get(e);return t?(ec(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,fH.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xle{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}Xle.type="NONE";const dH=Xle;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(e,t,n){return`firebase:${e}:${t}:${n}`}class Gp{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=rw(this.userKey,i.apiKey,s),this.fullPersistenceKey=rw("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Md._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new Gp(wl(dH),t,r);const i=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let s=i[0]||wl(dH);const o=rw(r,t.config.apiKey,t.name);let a=null;for(const l of n)try{const c=await l._get(o);if(c){const f=Md._fromJSON(t,c);l!==s&&(a=f),s=l;break}}catch{}const u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Gp(s,t,r):(s=u[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==s)try{await l._remove(o)}catch{}})),new Gp(s,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hH(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ece(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Jle(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(nce(t))return"Blackberry";if(rce(t))return"Webos";if(_M(t))return"Safari";if((t.includes("chrome/")||Zle(t))&&!t.includes("edge/"))return"Chrome";if(tce(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Jle(e=ns()){return/firefox\//i.test(e)}function _M(e=ns()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Zle(e=ns()){return/crios\//i.test(e)}function ece(e=ns()){return/iemobile/i.test(e)}function tce(e=ns()){return/android/i.test(e)}function nce(e=ns()){return/blackberry/i.test(e)}function rce(e=ns()){return/webos/i.test(e)}function xA(e=ns()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Qat(e=ns()){var t;return xA(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function Xat(){return ZZe()&&document.documentMode===10}function ice(e=ns()){return xA(e)||tce(e)||rce(e)||nce(e)||/windows phone/i.test(e)||ece(e)}function Jat(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sce(e,t=[]){let n;switch(e){case"Browser":n=hH(ns());break;case"Worker":n=`${hH(ns())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Th}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zat{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=s=>new Promise((o,a)=>{try{const u=t(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eut(e,t={}){return xg(e,"GET","/v2/passwordPolicy",SA(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tut=6;class nut{constructor(t){var n,r,i,s;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:tut,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,i,s,o,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,u),this.validatePasswordCharacterOptions(t,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rut{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pH(this),this.idTokenSubscription=new pH(this),this.beforeStateQueue=new Zat(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Wle,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=wl(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Gp.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(t);(!o||o===a)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return At(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await US(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=$at()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const n=t?rs(t):null;return n&&At(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&At(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(wl(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await eut(this),n=new nut(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new yg("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Kat(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&wl(t)||this._popupRedirectResolver;At(n,this,"argument-error"),this.redirectPersistenceManager=await Gp.create(this,[wl(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(At(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=t.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=t.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return At(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=sce(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&Rat(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function IA(e){return rs(e)}class pH{constructor(t){this.auth=t,this.observer=null,this.addObserver=set(n=>this.observer=n)}get next(){return At(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iut(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}function sut(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const s=Ru("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",iut().appendChild(r)})}function out(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aut(e,t){const n=_g(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(d_(s,t??{}))return i;Zl(i,"already-initialized")}return n.initialize({options:t})}function uut(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(wl);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function lut(e,t,n){const r=IA(e);At(r._canInitEmulator,r,"emulator-config-failed"),At(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=oce(t),{host:o,port:a}=cut(t),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||fut()}function oce(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function cut(e){const t=oce(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:mH(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:mH(o)}}}function mH(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function fut(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ace{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return bl("not implemented")}_getIdTokenResponse(t){return bl("not implemented")}_linkToIdToken(t,n){return bl("not implemented")}_getReauthenticationResolver(t){return bl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kp(e,t){return Gle(e,"POST","/v1/accounts:signInWithIdp",SA(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dut="http://localhost";class oh extends ace{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new oh(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Zl("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i}=n,s=R3(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new oh(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return Kp(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Kp(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Kp(t,n)}buildRequest(){const t={requestUri:dut,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Tv(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uce{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv extends uce{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc extends Uv{constructor(){super("facebook.com")}static credential(t){return oh._fromParams({providerId:Nc.PROVIDER_ID,signInMethod:Nc.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Nc.credentialFromTaggedObject(t)}static credentialFromError(t){return Nc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Nc.credential(t.oauthAccessToken)}catch{return null}}}Nc.FACEBOOK_SIGN_IN_METHOD="facebook.com";Nc.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc extends Uv{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return oh._fromParams({providerId:kc.PROVIDER_ID,signInMethod:kc.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return kc.credentialFromTaggedObject(t)}static credentialFromError(t){return kc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return kc.credential(n,r)}catch{return null}}}kc.GOOGLE_SIGN_IN_METHOD="google.com";kc.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc extends Uv{constructor(){super("github.com")}static credential(t){return oh._fromParams({providerId:Dc.PROVIDER_ID,signInMethod:Dc.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Dc.credentialFromTaggedObject(t)}static credentialFromError(t){return Dc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Dc.credential(t.oauthAccessToken)}catch{return null}}}Dc.GITHUB_SIGN_IN_METHOD="github.com";Dc.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c extends Uv{constructor(){super("twitter.com")}static credential(t,n){return oh._fromParams({providerId:$c.PROVIDER_ID,signInMethod:$c.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return $c.credentialFromTaggedObject(t)}static credentialFromError(t){return $c.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return $c.credential(n,r)}catch{return null}}}$c.TWITTER_SIGN_IN_METHOD="twitter.com";$c.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hut(e,t){return Gle(e,"POST","/v1/accounts:signUp",SA(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const s=await Md._fromIdTokenResponse(t,r,i),o=gH(r);return new Of({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=gH(r);return new Of({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function gH(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function put(e){var t;const n=IA(e);if(await n._initializationPromise,!((t=n.currentUser)===null||t===void 0)&&t.isAnonymous)return new Of({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await hut(n,{returnSecureToken:!0}),i=await Of._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS extends Xu{constructor(t,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,VS.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new VS(t,n,r,i)}}function lce(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?VS._fromErrorAndOperation(e,s,t,r):s})}async function mut(e,t,n=!1){const r=await R_(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Of._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gut(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const s=await R_(e,lce(r,i,t,e),n);At(s.idToken,r,"internal-error");const o=yM(s.idToken);At(o,r,"internal-error");const{sub:a}=o;return At(e.uid===a,r,"user-mismatch"),Of._forOperation(e,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Zl(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yut(e,t,n=!1){const r="signIn",i=await lce(e,r,t),s=await Of._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}function _ut(e,t,n,r){return rs(e).onIdTokenChanged(t,n,r)}function vut(e,t,n){return rs(e).beforeAuthStateChanged(t,n)}const zS="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cce{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(zS,"1"),this.storage.removeItem(zS),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function but(){const e=ns();return _M(e)||xA(e)}const wut=1e3,Eut=10;class fce extends cce{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=but()&&Jat(),this.fallbackToPolling=ice(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(t.newValue!==o)t.newValue!==null?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);Xat()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,Eut):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},wut)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}fce.type="LOCAL";const Tut=fce;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dce extends cce{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}dce.type="SESSION";const hce=dce;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sut(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new AA(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async l=>l(n.origin,s)),u=await Sut(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}AA.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vM(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xut{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{const l=vM("",20);i.port1.start();const c=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const d=f;if(d.data.eventId===l)switch(d.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(d.data.response);break;default:clearTimeout(c),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(){return window}function Iut(e){Nu().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pce(){return typeof Nu().WorkerGlobalScope<"u"&&typeof Nu().importScripts=="function"}async function Aut(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Cut(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function Out(){return pce()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mce="firebaseLocalStorageDb",Put=1,HS="firebaseLocalStorage",gce="fbase_key";class Vv{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function CA(e,t){return e.transaction([HS],t?"readwrite":"readonly").objectStore(HS)}function Rut(){const e=indexedDB.deleteDatabase(mce);return new Vv(e).toPromise()}function rk(){const e=indexedDB.open(mce,Put);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(HS,{keyPath:gce})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(HS)?t(r):(r.close(),await Rut(),t(await rk()))})})}async function yH(e,t,n){const r=CA(e,!0).put({[gce]:t,value:n});return new Vv(r).toPromise()}async function Nut(e,t){const n=CA(e,!1).get(t),r=await new Vv(n).toPromise();return r===void 0?null:r.value}function _H(e,t){const n=CA(e,!0).delete(t);return new Vv(n).toPromise()}const kut=800,Dut=3;class yce{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rk(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>Dut)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pce()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=AA._getInstance(Out()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await Aut(),!this.activeServiceWorker)return;this.sender=new xut(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Cut()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await rk();return await yH(t,zS,"1"),await _H(t,zS),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>yH(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>Nut(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>_H(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const s=CA(i,!1).getAll();return new Vv(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kut)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yce.type="LOCAL";const $ut=yce;new jv(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lut(e,t){return t?wl(t):(At(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM extends ace{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Kp(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Kp(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Kp(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function Mut(e){return yut(e.auth,new bM(e),e.bypassAuthState)}function Fut(e){const{auth:t,user:n}=e;return At(n,t,"internal-error"),gut(n,new bM(e),e.bypassAuthState)}async function But(e){const{auth:t,user:n}=e;return At(n,t,"internal-error"),mut(n,new bM(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ce{constructor(t,n,r,i,s=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=t;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(l){this.reject(l)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Mut;case"linkViaPopup":case"linkViaRedirect":return But;case"reauthViaPopup":case"reauthViaRedirect":return Fut;default:Zl(this.auth,"internal-error")}}resolve(t){ec(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ec(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jut=new jv(2e3,1e4);class wp extends _ce{constructor(t,n,r,i,s){super(t,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,wp.currentPopupAction&&wp.currentPopupAction.cancel(),wp.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return At(t,this.auth,"internal-error"),t}async onExecution(){ec(this.filter.length===1,"Popup operations only handle one event");const t=vM();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ru(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Ru(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wp.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ru(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,jut.get())};t()}}wp.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uut="pendingRedirect",iw=new Map;class Vut extends _ce{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=iw.get(this.auth._key());if(!t){try{const r=await zut(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}iw.set(this.auth._key(),t)}return this.bypassAuthState||iw.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function zut(e,t){const n=qut(t),r=Wut(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Hut(e,t){iw.set(e._key(),t)}function Wut(e){return wl(e._redirectPersistence)}function qut(e){return rw(Uut,e.config.apiKey,e.name)}async function Yut(e,t,n=!1){const r=IA(e),i=Lut(r,t),o=await new Vut(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gut=10*60*1e3;class Kut{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Qut(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!vce(t)){const i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ru(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Gut&&this.cachedEventUids.clear(),this.cachedEventUids.has(vH(t))}saveEventToCache(t){this.cachedEventUids.add(vH(t)),this.lastProcessedEventTime=Date.now()}}function vH(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function vce({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function Qut(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vce(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xut(e,t={}){return xg(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jut=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Zut=/^https?/;async function elt(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Xut(e);for(const n of t)try{if(tlt(n))return}catch{}Zl(e,"unauthorized-domain")}function tlt(e){const t=nk(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Zut.test(n))return!1;if(Jut.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nlt=new jv(3e4,6e4);function bH(){const e=Nu().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function rlt(e){return new Promise((t,n)=>{var r,i,s;function o(){bH(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{bH(),n(Ru(e,"network-request-failed"))},timeout:nlt.get()})}if(!((i=(r=Nu().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((s=Nu().gapi)===null||s===void 0)&&s.load)o();else{const a=out("iframefcb");return Nu()[a]=()=>{gapi.load?o():n(Ru(e,"network-request-failed"))},sut(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}}).catch(t=>{throw sw=null,t})}let sw=null;function ilt(e){return sw=sw||rlt(e),sw}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const slt=new jv(5e3,15e3),olt="__/auth/iframe",alt="emulator/auth/iframe",ult={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},llt=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function clt(e){const t=e.config;At(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?gM(t,alt):`https://${e.config.authDomain}/${olt}`,r={apiKey:t.apiKey,appName:e.name,v:Th},i=llt.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Tv(r).slice(1)}`}async function flt(e){const t=await ilt(e),n=Nu().gapi;return At(n,e,"internal-error"),t.open({where:document.body,url:clt(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ult,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Ru(e,"network-request-failed"),a=Nu().setTimeout(()=>{s(o)},slt.get());function u(){Nu().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dlt={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hlt=500,plt=600,mlt="_blank",glt="http://localhost";class wH{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ylt(e,t,n,r=hlt,i=plt){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},dlt),{width:r.toString(),height:i.toString(),top:s,left:o}),l=ns().toLowerCase();n&&(a=Zle(l)?mlt:n),Jle(l)&&(t=t||glt,u.scrollbars="yes");const c=Object.entries(u).reduce((d,[h,p])=>`${d}${h}=${p},`,"");if(Qat(l)&&a!=="_self")return _lt(t||"",a),new wH(null);const f=window.open(t||"",a,c);At(f,e,"popup-blocked");try{f.focus()}catch{}return new wH(f)}function _lt(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vlt="__/auth/handler",blt="emulator/auth/handler",wlt=encodeURIComponent("fac");async function EH(e,t,n,r,i,s){At(e.config.authDomain,e,"auth-domain-config-required"),At(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Th,eventId:i};if(t instanceof uce){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",iet(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[c,f]of Object.entries(s||{}))o[c]=f}if(t instanceof Uv){const c=t.getScopes().filter(f=>f!=="");c.length>0&&(o.scopes=c.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const u=await e._getAppCheckToken(),l=u?`#${wlt}=${encodeURIComponent(u)}`:"";return`${Elt(e)}?${Tv(a).slice(1)}${l}`}function Elt({config:e}){return e.emulator?gM(e,blt):`https://${e.authDomain}/${vlt}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP="webStorageSupport";class Tlt{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hce,this._completeRedirectFn=Yut,this._overrideRedirectResult=Hut}async _openPopup(t,n,r,i){var s;ec((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await EH(t,n,r,nk(),i);return ylt(t,o,vM())}async _openRedirect(t,n,r,i){await this._originValidation(t);const s=await EH(t,n,r,nk(),i);return Iut(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ec(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await flt(t),r=new Kut(t);return n.register("authEvent",i=>(At(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(wP,{type:wP},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[wP];o!==void 0&&n(!!o),Zl(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=elt(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return ice()||_M()||xA()}}const Slt=Tlt;var TH="@firebase/auth",SH="1.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xlt{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){At(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ilt(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function Alt(e){Kl(new ju("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;At(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sce(e)},l=new rut(r,i,s,u);return uut(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Kl(new ju("auth-internal",t=>{const n=IA(t.getProvider("auth").getImmediate());return(r=>new xlt(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Da(TH,SH,Ilt(e)),Da(TH,SH,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Clt=5*60,Olt=Hoe("authIdTokenMaxAge")||Clt;let xH=null;const Plt=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Olt)return;const i=n==null?void 0:n.token;xH!==i&&(xH=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Rlt(e=lL()){const t=_g(e,"auth");if(t.isInitialized())return t.getImmediate();const n=aut(e,{popupRedirectResolver:Slt,persistence:[$ut,Tut,hce]}),r=Hoe("authTokenSyncURL");if(r){const s=Plt(r);vut(n,s,()=>s(n.currentUser)),_ut(n,o=>s(o))}const i=Voe("auth");return i&&lut(n,`http://${i}`),n}Alt("Browser");class Nlt extends Loe{constructor(){super("firebase");eo(this,"RECAPTCHAV3TOKEN","6LdjOd0lAAAAAASvFfDZFWgtbzFSS9Y3so8rHJth");eo(this,"firestore");eo(this,"collectionPrefix","prod-");eo(this,"studyCollection");eo(this,"studyId","");eo(this,"localForage",Foe.createInstance({name:"currentParticipantId"}));eo(this,"localProvenanceCopy",{});eo(this,"localWindowEvents",{});const n=HD.parse(`
{
  apiKey: "AIzaSyAm9QtUgx1lYPDeE0vKLN-lK17WfUGVkLo",
  authDomain: "revisit-utah.firebaseapp.com",
  projectId: "revisit-utah",
  storageBucket: "revisit-utah.appspot.com",
  messagingSenderId: "811568460432",
  appId: "1:811568460432:web:995f6b4f1fc8042b5dde15"
}
`),r=Yoe(n);this.firestore=Iot(r,{});try{Iat(r,{provider:new pM(this.RECAPTCHAV3TOKEN),isTokenAutoRefreshEnabled:!1})}catch{console.warn("Failed to initialize Firebase App Check")}}async connect(){try{const n=Rlt();if(await put(n),!n.currentUser)throw new Error("Login failed with firebase");await Aot(this.firestore);const r=await el(this.firestore,".info/connected");await f0(r),this.connected=!0}catch{console.warn("Failed to connect to Firebase")}}async initializeStudyDb(n,r){this.studyCollection=Sot(this.firestore,`${this.collectionPrefix}${n}`),this.studyId=n;const i=el(this.studyCollection,"config");return await d0(i,r)}async initializeParticipantSession(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");if(await this.getCurrentParticipantId(),!this.currentParticipantId)throw new Error("Participant not initialized");const n=el(this.studyCollection,this.currentParticipantId),r=(await f0(n)).data();if(this.localProvenanceCopy=await this._getFromFirebaseStorage(this.currentParticipantId,"provenance"),this.localWindowEvents=await this._getFromFirebaseStorage(this.currentParticipantId,"windowEvents"),Object.entries(this.localWindowEvents).forEach(([i,s])=>{r!==null&&(s===void 0||s.length===0?r.answers[i].windowEvents=[]:r.answers[i].windowEvents=s)}),r)return r;{const i={participantId:this.currentParticipantId,sequence:await this.getSequence(),answers:{}};return await d0(n,i),i}}async getCurrentParticipantId(){const n=await this.localForage.getItem("currentParticipantId");if(n)return this.currentParticipantId=n,n;{if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const r=el(this.studyCollection);return this.currentParticipantId=r.id,await this.localForage.setItem("currentParticipantId",this.currentParticipantId),this.currentParticipantId}}async clearCurrentParticipantId(){return await this.localForage.removeItem("currentParticipantId")}async saveAnswer(n,r){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");if(!this.currentParticipantId)throw new Error("Participant not initialized");const i=el(this.studyCollection,this.currentParticipantId),s={answer:r.answer,startTime:r.startTime,endTime:r.endTime};await d0(i,{answers:{[n]:s}},{merge:!0}),r.provenanceGraph&&(this.localProvenanceCopy[n]=r.provenanceGraph,await this._pushToFirebaseStorage("provenance")),this.localWindowEvents[n]=r.windowEvents,await this._pushToFirebaseStorage("windowEvents")}async setSequenceArray(n){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const r=n.map(o=>o.join(",")),i=el(this.studyCollection,"sequenceArray");return await d0(i,{sequenceArray:r})}async getSequenceArray(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=el(this.studyCollection,"sequenceArray"),r=(await f0(n)).data();return r===void 0?null:r.sequenceArray.map(i=>i.split(","))}async getSequence(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=await this.getSequenceArray();if(!n)throw new Error("Latin square not initialized");const r=n.pop();if(!r)throw new Error("Latin square is empty");return await this.setSequenceArray(n),r}async getAllParticipantsData(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=await Vot(this.studyCollection),r=[],i=n.docs.map(async s=>{if(s.id==="config"||s.id==="sequenceArray")return;const o=s.data(),a=await this._getFromFirebaseStorage(o.participantId,"provenance"),u=await this._getFromFirebaseStorage(o.participantId,"windowEvents");o.answers=Object.fromEntries(Object.entries(o.answers).map(([l,c])=>{if(c===void 0)return[l,c];const f=a[l],d=u[l];return[l,{...c,provenanceGraph:f,windowEvents:d}]})),r.push(o)});return await Promise.all(i),r}async getParticipantData(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");await this.getCurrentParticipantId();let n=null;if(this.currentParticipantId!==null){const r=el(this.studyCollection,this.currentParticipantId);if(n=(await f0(r)).data(),n!==null){const i=await this._getFromFirebaseStorage(this.currentParticipantId,"provenance"),s=await this._getFromFirebaseStorage(this.currentParticipantId,"windowEvents");Object.entries(n.answers).forEach(([o,a])=>{a!==void 0&&(a.provenanceGraph=i[o],a.windowEvents=s[o])})}}return n}async nextParticipant(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=el(this.studyCollection),r=n.id;await this.localForage.setItem("currentParticipantId",r),this.currentParticipantId=r;let i=null;if(this.currentParticipantId!==null&&(i=(await f0(n)).data()),!i){const s={participantId:r,sequence:await this.getSequence(),answers:{}};await d0(n,s),i=s}return i}async verifyCompletion(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=await this.getParticipantData();if(!n)throw new Error("Participant not initialized");return n.sequence.every(i=>i==="end"?!0:n.answers[i]!==void 0)}_verifyStudyDatabase(n){return n!==void 0}async _getFromFirebaseStorage(n,r){const i=cz(),s=lz(i,`${this.studyId}/${n}_${r}`);let o={};try{const a=await Rnt(s),l=await(await fetch(a)).text();o=JSON.parse(l)}catch{console.warn(`Participant ${n} does not have ${r} for ${this.studyId}.`)}return o}async _pushToFirebaseStorage(n){const r=n==="provenance"?this.localProvenanceCopy:this.localWindowEvents;if(Object.keys(r).length>0){const i=cz(),s=lz(i,`${this.studyId}/${this.currentParticipantId}_${n}`),o=new Blob([JSON.stringify(r)],{type:"application/json"});await Pnt(s,o)}}}async function klt(){let e,t=!1;{const n=new Nlt;await n.connect(),n.isConnected()?e=n:t=!0}if(t){const n=new UZe;await n.connect(),e=n}return e}function Dlt(){const{storageEngine:e,setStorageEngine:t}=kf();return E.useEffect(()=>{if(e!==void 0)return;async function n(){const r=await klt();t(r)}n()},[t,e]),O.jsx($Ze,{})}EP.createRoot(document.getElementById("root")).render(O.jsx(M.StrictMode,{children:O.jsx(ehe,{children:O.jsx(Dlt,{})})}));
