var eue=Object.defineProperty;var tue=(e,t,n)=>t in e?eue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var qs=(e,t,n)=>(tue(e,typeof t!="symbol"?t+"":t,n),n);function nue(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var no=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Oa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function rue(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var x7={exports:{}},rS={},C7={exports:{}},Xt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d_=Symbol.for("react.element"),iue=Symbol.for("react.portal"),sue=Symbol.for("react.fragment"),oue=Symbol.for("react.strict_mode"),aue=Symbol.for("react.profiler"),uue=Symbol.for("react.provider"),lue=Symbol.for("react.context"),cue=Symbol.for("react.forward_ref"),fue=Symbol.for("react.suspense"),due=Symbol.for("react.memo"),hue=Symbol.for("react.lazy"),sL=Symbol.iterator;function pue(e){return e===null||typeof e!="object"?null:(e=sL&&e[sL]||e["@@iterator"],typeof e=="function"?e:null)}var A7={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O7=Object.assign,P7={};function Im(e,t,n){this.props=e,this.context=t,this.refs=P7,this.updater=n||A7}Im.prototype.isReactComponent={};Im.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Im.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function R7(){}R7.prototype=Im.prototype;function HR(e,t,n){this.props=e,this.context=t,this.refs=P7,this.updater=n||A7}var WR=HR.prototype=new R7;WR.constructor=HR;O7(WR,Im.prototype);WR.isPureReactComponent=!0;var oL=Array.isArray,N7=Object.prototype.hasOwnProperty,qR={current:null},k7={key:!0,ref:!0,__self:!0,__source:!0};function D7(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)N7.call(t,r)&&!k7.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+2];i.children=u}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:d_,type:e,key:s,ref:o,props:i,_owner:qR.current}}function mue(e,t){return{$$typeof:d_,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function GR(e){return typeof e=="object"&&e!==null&&e.$$typeof===d_}function gue(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var aL=/\/+/g;function Ux(e,t){return typeof e=="object"&&e!==null&&e.key!=null?gue(""+e.key):t.toString(36)}function $1(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case d_:case iue:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Ux(o,0):r,oL(i)?(n="",e!=null&&(n=e.replace(aL,"$&/")+"/"),$1(i,t,n,"",function(l){return l})):i!=null&&(GR(i)&&(i=mue(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(aL,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",oL(e))for(var a=0;a<e.length;a++){s=e[a];var u=r+Ux(s,a);o+=$1(s,t,n,u,i)}else if(u=pue(e),typeof u=="function")for(e=u.call(e),a=0;!(s=e.next()).done;)s=s.value,u=r+Ux(s,a++),o+=$1(s,t,n,u,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function vv(e,t,n){if(e==null)return e;var r=[],i=0;return $1(e,r,"","",function(s){return t.call(n,s,i++)}),r}function yue(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ds={current:null},L1={transition:null},_ue={ReactCurrentDispatcher:ds,ReactCurrentBatchConfig:L1,ReactCurrentOwner:qR};Xt.Children={map:vv,forEach:function(e,t,n){vv(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return vv(e,function(){t++}),t},toArray:function(e){return vv(e,function(t){return t})||[]},only:function(e){if(!GR(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Xt.Component=Im;Xt.Fragment=sue;Xt.Profiler=aue;Xt.PureComponent=HR;Xt.StrictMode=oue;Xt.Suspense=fue;Xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_ue;Xt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=O7({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=qR.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)N7.call(t,u)&&!k7.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var l=0;l<u;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:d_,type:e.type,key:i,ref:s,props:r,_owner:o}};Xt.createContext=function(e){return e={$$typeof:lue,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:uue,_context:e},e.Consumer=e};Xt.createElement=D7;Xt.createFactory=function(e){var t=D7.bind(null,e);return t.type=e,t};Xt.createRef=function(){return{current:null}};Xt.forwardRef=function(e){return{$$typeof:cue,render:e}};Xt.isValidElement=GR;Xt.lazy=function(e){return{$$typeof:hue,_payload:{_status:-1,_result:e},_init:yue}};Xt.memo=function(e,t){return{$$typeof:due,type:e,compare:t===void 0?null:t}};Xt.startTransition=function(e){var t=L1.transition;L1.transition={};try{e()}finally{L1.transition=t}};Xt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Xt.useCallback=function(e,t){return ds.current.useCallback(e,t)};Xt.useContext=function(e){return ds.current.useContext(e)};Xt.useDebugValue=function(){};Xt.useDeferredValue=function(e){return ds.current.useDeferredValue(e)};Xt.useEffect=function(e,t){return ds.current.useEffect(e,t)};Xt.useId=function(){return ds.current.useId()};Xt.useImperativeHandle=function(e,t,n){return ds.current.useImperativeHandle(e,t,n)};Xt.useInsertionEffect=function(e,t){return ds.current.useInsertionEffect(e,t)};Xt.useLayoutEffect=function(e,t){return ds.current.useLayoutEffect(e,t)};Xt.useMemo=function(e,t){return ds.current.useMemo(e,t)};Xt.useReducer=function(e,t,n){return ds.current.useReducer(e,t,n)};Xt.useRef=function(e){return ds.current.useRef(e)};Xt.useState=function(e){return ds.current.useState(e)};Xt.useSyncExternalStore=function(e,t,n){return ds.current.useSyncExternalStore(e,t,n)};Xt.useTransition=function(){return ds.current.useTransition()};Xt.version="18.2.0";C7.exports=Xt;var w=C7.exports;const k=Oa(w),Sd=nue({__proto__:null,default:k},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vue=w,bue=Symbol.for("react.element"),Eue=Symbol.for("react.fragment"),wue=Object.prototype.hasOwnProperty,Tue=vue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Sue={key:!0,ref:!0,__self:!0,__source:!0};function $7(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)wue.call(t,r)&&!Sue.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:bue,type:e,key:s,ref:o,props:i,_owner:Tue.current}}rS.Fragment=Eue;rS.jsx=$7;rS.jsxs=$7;x7.exports=rS;var $=x7.exports,EO={},L7={exports:{}},_o={},M7={exports:{}},F7={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(te,oe){var J=te.length;te.push(oe);e:for(;0<J;){var x=J-1>>>1,C=te[x];if(0<i(C,oe))te[x]=oe,te[J]=C,J=x;else break e}}function n(te){return te.length===0?null:te[0]}function r(te){if(te.length===0)return null;var oe=te[0],J=te.pop();if(J!==oe){te[0]=J;e:for(var x=0,C=te.length,B=C>>>1;x<B;){var P=2*(x+1)-1,O=te[P],G=P+1,fe=te[G];if(0>i(O,J))G<C&&0>i(fe,O)?(te[x]=fe,te[G]=J,x=G):(te[x]=O,te[P]=J,x=P);else if(G<C&&0>i(fe,J))te[x]=fe,te[G]=J,x=G;else break e}}return oe}function i(te,oe){var J=te.sortIndex-oe.sortIndex;return J!==0?J:te.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var u=[],l=[],c=1,f=null,d=3,h=!1,p=!1,m=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(te){for(var oe=n(l);oe!==null;){if(oe.callback===null)r(l);else if(oe.startTime<=te)r(l),oe.sortIndex=oe.expirationTime,t(u,oe);else break;oe=n(l)}}function T(te){if(m=!1,b(te),!p)if(n(u)!==null)p=!0,ie(I);else{var oe=n(l);oe!==null&&_e(T,oe.startTime-te)}}function I(te,oe){p=!1,m&&(m=!1,g(A),A=-1),h=!0;var J=d;try{for(b(oe),f=n(u);f!==null&&(!(f.expirationTime>oe)||te&&!z());){var x=f.callback;if(typeof x=="function"){f.callback=null,d=f.priorityLevel;var C=x(f.expirationTime<=oe);oe=e.unstable_now(),typeof C=="function"?f.callback=C:f===n(u)&&r(u),b(oe)}else r(u);f=n(u)}if(f!==null)var B=!0;else{var P=n(l);P!==null&&_e(T,P.startTime-oe),B=!1}return B}finally{f=null,d=J,h=!1}}var E=!1,S=null,A=-1,L=5,W=-1;function z(){return!(e.unstable_now()-W<L)}function U(){if(S!==null){var te=e.unstable_now();W=te;var oe=!0;try{oe=S(!0,te)}finally{oe?Z():(E=!1,S=null)}}else E=!1}var Z;if(typeof _=="function")Z=function(){_(U)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,ue=H.port2;H.port1.onmessage=U,Z=function(){ue.postMessage(null)}}else Z=function(){y(U,0)};function ie(te){S=te,E||(E=!0,Z())}function _e(te,oe){A=y(function(){te(e.unstable_now())},oe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(te){te.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,ie(I))},e.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<te?Math.floor(1e3/te):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(te){switch(d){case 1:case 2:case 3:var oe=3;break;default:oe=d}var J=d;d=oe;try{return te()}finally{d=J}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(te,oe){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var J=d;d=te;try{return oe()}finally{d=J}},e.unstable_scheduleCallback=function(te,oe,J){var x=e.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?x+J:x):J=x,te){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=J+C,te={id:c++,callback:oe,priorityLevel:te,startTime:J,expirationTime:C,sortIndex:-1},J>x?(te.sortIndex=J,t(l,te),n(u)===null&&te===n(l)&&(m?(g(A),A=-1):m=!0,_e(T,J-x))):(te.sortIndex=C,t(u,te),p||h||(p=!0,ie(I))),te},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(te){var oe=d;return function(){var J=d;d=oe;try{return te.apply(this,arguments)}finally{d=J}}}})(F7);M7.exports=F7;var Iue=M7.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B7=w,fo=Iue;function Re(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var j7=new Set,Jg={};function qd(e,t){Lp(e,t),Lp(e+"Capture",t)}function Lp(e,t){for(Jg[e]=t,e=0;e<t.length;e++)j7.add(t[e])}var yl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wO=Object.prototype.hasOwnProperty,xue=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,uL={},lL={};function Cue(e){return wO.call(lL,e)?!0:wO.call(uL,e)?!1:xue.test(e)?lL[e]=!0:(uL[e]=!0,!1)}function Aue(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Oue(e,t,n,r){if(t===null||typeof t>"u"||Aue(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function hs(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var $i={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){$i[e]=new hs(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];$i[t]=new hs(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){$i[e]=new hs(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){$i[e]=new hs(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){$i[e]=new hs(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){$i[e]=new hs(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){$i[e]=new hs(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){$i[e]=new hs(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){$i[e]=new hs(e,5,!1,e.toLowerCase(),null,!1,!1)});var YR=/[\-:]([a-z])/g;function KR(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(YR,KR);$i[t]=new hs(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(YR,KR);$i[t]=new hs(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(YR,KR);$i[t]=new hs(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){$i[e]=new hs(e,1,!1,e.toLowerCase(),null,!1,!1)});$i.xlinkHref=new hs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){$i[e]=new hs(e,1,!1,e.toLowerCase(),null,!0,!0)});function QR(e,t,n,r){var i=$i.hasOwnProperty(t)?$i[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Oue(t,n,i,r)&&(n=null),r||i===null?Cue(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Bl=B7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bv=Symbol.for("react.element"),Lh=Symbol.for("react.portal"),Mh=Symbol.for("react.fragment"),XR=Symbol.for("react.strict_mode"),TO=Symbol.for("react.profiler"),U7=Symbol.for("react.provider"),V7=Symbol.for("react.context"),JR=Symbol.for("react.forward_ref"),SO=Symbol.for("react.suspense"),IO=Symbol.for("react.suspense_list"),ZR=Symbol.for("react.memo"),oc=Symbol.for("react.lazy"),z7=Symbol.for("react.offscreen"),cL=Symbol.iterator;function h0(e){return e===null||typeof e!="object"?null:(e=cL&&e[cL]||e["@@iterator"],typeof e=="function"?e:null)}var yr=Object.assign,Vx;function Y0(e){if(Vx===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Vx=t&&t[1]||""}return`
`+Vx+e}var zx=!1;function Hx(e,t){if(!e||zx)return"";zx=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=a);break}}}finally{zx=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Y0(e):""}function Pue(e){switch(e.tag){case 5:return Y0(e.type);case 16:return Y0("Lazy");case 13:return Y0("Suspense");case 19:return Y0("SuspenseList");case 0:case 2:case 15:return e=Hx(e.type,!1),e;case 11:return e=Hx(e.type.render,!1),e;case 1:return e=Hx(e.type,!0),e;default:return""}}function xO(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Mh:return"Fragment";case Lh:return"Portal";case TO:return"Profiler";case XR:return"StrictMode";case SO:return"Suspense";case IO:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case V7:return(e.displayName||"Context")+".Consumer";case U7:return(e._context.displayName||"Context")+".Provider";case JR:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ZR:return t=e.displayName||null,t!==null?t:xO(e.type)||"Memo";case oc:t=e._payload,e=e._init;try{return xO(e(t))}catch{}}return null}function Rue(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xO(t);case 8:return t===XR?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Yc(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function H7(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Nue(e){var t=H7(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ev(e){e._valueTracker||(e._valueTracker=Nue(e))}function W7(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H7(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ib(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function CO(e,t){var n=t.checked;return yr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function fL(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Yc(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function q7(e,t){t=t.checked,t!=null&&QR(e,"checked",t,!1)}function AO(e,t){q7(e,t);var n=Yc(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?OO(e,t.type,n):t.hasOwnProperty("defaultValue")&&OO(e,t.type,Yc(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function dL(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function OO(e,t,n){(t!=="number"||Ib(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var K0=Array.isArray;function ap(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Yc(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function PO(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Re(91));return yr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hL(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Re(92));if(K0(n)){if(1<n.length)throw Error(Re(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Yc(n)}}function G7(e,t){var n=Yc(t.value),r=Yc(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function pL(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Y7(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function RO(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Y7(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var wv,K7=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(wv=wv||document.createElement("div"),wv.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=wv.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Zg(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var pg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kue=["Webkit","ms","Moz","O"];Object.keys(pg).forEach(function(e){kue.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pg[t]=pg[e]})});function Q7(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||pg.hasOwnProperty(e)&&pg[e]?(""+t).trim():t+"px"}function X7(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Q7(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Due=yr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function NO(e,t){if(t){if(Due[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Re(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Re(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Re(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Re(62))}}function kO(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var DO=null;function eN(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var $O=null,up=null,lp=null;function mL(e){if(e=m_(e)){if(typeof $O!="function")throw Error(Re(280));var t=e.stateNode;t&&(t=uS(t),$O(e.stateNode,e.type,t))}}function J7(e){up?lp?lp.push(e):lp=[e]:up=e}function Z7(){if(up){var e=up,t=lp;if(lp=up=null,mL(e),t)for(e=0;e<t.length;e++)mL(t[e])}}function ez(e,t){return e(t)}function tz(){}var Wx=!1;function nz(e,t,n){if(Wx)return e(t,n);Wx=!0;try{return ez(e,t,n)}finally{Wx=!1,(up!==null||lp!==null)&&(tz(),Z7())}}function ey(e,t){var n=e.stateNode;if(n===null)return null;var r=uS(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Re(231,t,typeof n));return n}var LO=!1;if(yl)try{var p0={};Object.defineProperty(p0,"passive",{get:function(){LO=!0}}),window.addEventListener("test",p0,p0),window.removeEventListener("test",p0,p0)}catch{LO=!1}function $ue(e,t,n,r,i,s,o,a,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var mg=!1,xb=null,Cb=!1,MO=null,Lue={onError:function(e){mg=!0,xb=e}};function Mue(e,t,n,r,i,s,o,a,u){mg=!1,xb=null,$ue.apply(Lue,arguments)}function Fue(e,t,n,r,i,s,o,a,u){if(Mue.apply(this,arguments),mg){if(mg){var l=xb;mg=!1,xb=null}else throw Error(Re(198));Cb||(Cb=!0,MO=l)}}function Gd(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function rz(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function gL(e){if(Gd(e)!==e)throw Error(Re(188))}function Bue(e){var t=e.alternate;if(!t){if(t=Gd(e),t===null)throw Error(Re(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return gL(i),e;if(s===r)return gL(i),t;s=s.sibling}throw Error(Re(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Re(189))}}if(n.alternate!==r)throw Error(Re(190))}if(n.tag!==3)throw Error(Re(188));return n.stateNode.current===n?e:t}function iz(e){return e=Bue(e),e!==null?sz(e):null}function sz(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=sz(e);if(t!==null)return t;e=e.sibling}return null}var oz=fo.unstable_scheduleCallback,yL=fo.unstable_cancelCallback,jue=fo.unstable_shouldYield,Uue=fo.unstable_requestPaint,kr=fo.unstable_now,Vue=fo.unstable_getCurrentPriorityLevel,tN=fo.unstable_ImmediatePriority,az=fo.unstable_UserBlockingPriority,Ab=fo.unstable_NormalPriority,zue=fo.unstable_LowPriority,uz=fo.unstable_IdlePriority,iS=null,uu=null;function Hue(e){if(uu&&typeof uu.onCommitFiberRoot=="function")try{uu.onCommitFiberRoot(iS,e,void 0,(e.current.flags&128)===128)}catch{}}var va=Math.clz32?Math.clz32:Gue,Wue=Math.log,que=Math.LN2;function Gue(e){return e>>>=0,e===0?32:31-(Wue(e)/que|0)|0}var Tv=64,Sv=4194304;function Q0(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ob(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Q0(a):(s&=o,s!==0&&(r=Q0(s)))}else o=n&~i,o!==0?r=Q0(o):s!==0&&(r=Q0(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-va(t),i=1<<n,r|=e[n],t&=~i;return r}function Yue(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kue(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-va(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=Yue(a,t)):u<=t&&(e.expiredLanes|=a),s&=~a}}function FO(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function lz(){var e=Tv;return Tv<<=1,!(Tv&4194240)&&(Tv=64),e}function qx(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function h_(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-va(t),e[t]=n}function Que(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-va(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function nN(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-va(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Rn=0;function cz(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var fz,rN,dz,hz,pz,BO=!1,Iv=[],Cc=null,Ac=null,Oc=null,ty=new Map,ny=new Map,dc=[],Xue="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _L(e,t){switch(e){case"focusin":case"focusout":Cc=null;break;case"dragenter":case"dragleave":Ac=null;break;case"mouseover":case"mouseout":Oc=null;break;case"pointerover":case"pointerout":ty.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ny.delete(t.pointerId)}}function m0(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=m_(t),t!==null&&rN(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Jue(e,t,n,r,i){switch(t){case"focusin":return Cc=m0(Cc,e,t,n,r,i),!0;case"dragenter":return Ac=m0(Ac,e,t,n,r,i),!0;case"mouseover":return Oc=m0(Oc,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return ty.set(s,m0(ty.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ny.set(s,m0(ny.get(s)||null,e,t,n,r,i)),!0}return!1}function mz(e){var t=Kf(e.target);if(t!==null){var n=Gd(t);if(n!==null){if(t=n.tag,t===13){if(t=rz(n),t!==null){e.blockedOn=t,pz(e.priority,function(){dz(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function M1(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=jO(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);DO=r,n.target.dispatchEvent(r),DO=null}else return t=m_(n),t!==null&&rN(t),e.blockedOn=n,!1;t.shift()}return!0}function vL(e,t,n){M1(e)&&n.delete(t)}function Zue(){BO=!1,Cc!==null&&M1(Cc)&&(Cc=null),Ac!==null&&M1(Ac)&&(Ac=null),Oc!==null&&M1(Oc)&&(Oc=null),ty.forEach(vL),ny.forEach(vL)}function g0(e,t){e.blockedOn===t&&(e.blockedOn=null,BO||(BO=!0,fo.unstable_scheduleCallback(fo.unstable_NormalPriority,Zue)))}function ry(e){function t(i){return g0(i,e)}if(0<Iv.length){g0(Iv[0],e);for(var n=1;n<Iv.length;n++){var r=Iv[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Cc!==null&&g0(Cc,e),Ac!==null&&g0(Ac,e),Oc!==null&&g0(Oc,e),ty.forEach(t),ny.forEach(t),n=0;n<dc.length;n++)r=dc[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<dc.length&&(n=dc[0],n.blockedOn===null);)mz(n),n.blockedOn===null&&dc.shift()}var cp=Bl.ReactCurrentBatchConfig,Pb=!0;function ele(e,t,n,r){var i=Rn,s=cp.transition;cp.transition=null;try{Rn=1,iN(e,t,n,r)}finally{Rn=i,cp.transition=s}}function tle(e,t,n,r){var i=Rn,s=cp.transition;cp.transition=null;try{Rn=4,iN(e,t,n,r)}finally{Rn=i,cp.transition=s}}function iN(e,t,n,r){if(Pb){var i=jO(e,t,n,r);if(i===null)nC(e,t,r,Rb,n),_L(e,r);else if(Jue(i,e,t,n,r))r.stopPropagation();else if(_L(e,r),t&4&&-1<Xue.indexOf(e)){for(;i!==null;){var s=m_(i);if(s!==null&&fz(s),s=jO(e,t,n,r),s===null&&nC(e,t,r,Rb,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else nC(e,t,r,null,n)}}var Rb=null;function jO(e,t,n,r){if(Rb=null,e=eN(r),e=Kf(e),e!==null)if(t=Gd(e),t===null)e=null;else if(n=t.tag,n===13){if(e=rz(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Rb=e,null}function gz(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Vue()){case tN:return 1;case az:return 4;case Ab:case zue:return 16;case uz:return 536870912;default:return 16}default:return 16}}var Ec=null,sN=null,F1=null;function yz(){if(F1)return F1;var e,t=sN,n=t.length,r,i="value"in Ec?Ec.value:Ec.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return F1=i.slice(e,1<r?1-r:void 0)}function B1(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function xv(){return!0}function bL(){return!1}function vo(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?xv:bL,this.isPropagationStopped=bL,this}return yr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=xv)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=xv)},persist:function(){},isPersistent:xv}),t}var xm={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oN=vo(xm),p_=yr({},xm,{view:0,detail:0}),nle=vo(p_),Gx,Yx,y0,sS=yr({},p_,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:aN,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==y0&&(y0&&e.type==="mousemove"?(Gx=e.screenX-y0.screenX,Yx=e.screenY-y0.screenY):Yx=Gx=0,y0=e),Gx)},movementY:function(e){return"movementY"in e?e.movementY:Yx}}),EL=vo(sS),rle=yr({},sS,{dataTransfer:0}),ile=vo(rle),sle=yr({},p_,{relatedTarget:0}),Kx=vo(sle),ole=yr({},xm,{animationName:0,elapsedTime:0,pseudoElement:0}),ale=vo(ole),ule=yr({},xm,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),lle=vo(ule),cle=yr({},xm,{data:0}),wL=vo(cle),fle={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dle={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hle={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ple(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=hle[e])?!!t[e]:!1}function aN(){return ple}var mle=yr({},p_,{key:function(e){if(e.key){var t=fle[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=B1(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?dle[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:aN,charCode:function(e){return e.type==="keypress"?B1(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?B1(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gle=vo(mle),yle=yr({},sS,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),TL=vo(yle),_le=yr({},p_,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:aN}),vle=vo(_le),ble=yr({},xm,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ele=vo(ble),wle=yr({},sS,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tle=vo(wle),Sle=[9,13,27,32],uN=yl&&"CompositionEvent"in window,gg=null;yl&&"documentMode"in document&&(gg=document.documentMode);var Ile=yl&&"TextEvent"in window&&!gg,_z=yl&&(!uN||gg&&8<gg&&11>=gg),SL=" ",IL=!1;function vz(e,t){switch(e){case"keyup":return Sle.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bz(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fh=!1;function xle(e,t){switch(e){case"compositionend":return bz(t);case"keypress":return t.which!==32?null:(IL=!0,SL);case"textInput":return e=t.data,e===SL&&IL?null:e;default:return null}}function Cle(e,t){if(Fh)return e==="compositionend"||!uN&&vz(e,t)?(e=yz(),F1=sN=Ec=null,Fh=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _z&&t.locale!=="ko"?null:t.data;default:return null}}var Ale={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xL(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ale[e.type]:t==="textarea"}function Ez(e,t,n,r){J7(r),t=Nb(t,"onChange"),0<t.length&&(n=new oN("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var yg=null,iy=null;function Ole(e){Nz(e,0)}function oS(e){var t=Uh(e);if(W7(t))return e}function Ple(e,t){if(e==="change")return t}var wz=!1;if(yl){var Qx;if(yl){var Xx="oninput"in document;if(!Xx){var CL=document.createElement("div");CL.setAttribute("oninput","return;"),Xx=typeof CL.oninput=="function"}Qx=Xx}else Qx=!1;wz=Qx&&(!document.documentMode||9<document.documentMode)}function AL(){yg&&(yg.detachEvent("onpropertychange",Tz),iy=yg=null)}function Tz(e){if(e.propertyName==="value"&&oS(iy)){var t=[];Ez(t,iy,e,eN(e)),nz(Ole,t)}}function Rle(e,t,n){e==="focusin"?(AL(),yg=t,iy=n,yg.attachEvent("onpropertychange",Tz)):e==="focusout"&&AL()}function Nle(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return oS(iy)}function kle(e,t){if(e==="click")return oS(t)}function Dle(e,t){if(e==="input"||e==="change")return oS(t)}function $le(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Sa=typeof Object.is=="function"?Object.is:$le;function sy(e,t){if(Sa(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!wO.call(t,i)||!Sa(e[i],t[i]))return!1}return!0}function OL(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function PL(e,t){var n=OL(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=OL(n)}}function Sz(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Sz(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Iz(){for(var e=window,t=Ib();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ib(e.document)}return t}function lN(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Lle(e){var t=Iz(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Sz(n.ownerDocument.documentElement,n)){if(r!==null&&lN(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=PL(n,s);var o=PL(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Mle=yl&&"documentMode"in document&&11>=document.documentMode,Bh=null,UO=null,_g=null,VO=!1;function RL(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;VO||Bh==null||Bh!==Ib(r)||(r=Bh,"selectionStart"in r&&lN(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),_g&&sy(_g,r)||(_g=r,r=Nb(UO,"onSelect"),0<r.length&&(t=new oN("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Bh)))}function Cv(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var jh={animationend:Cv("Animation","AnimationEnd"),animationiteration:Cv("Animation","AnimationIteration"),animationstart:Cv("Animation","AnimationStart"),transitionend:Cv("Transition","TransitionEnd")},Jx={},xz={};yl&&(xz=document.createElement("div").style,"AnimationEvent"in window||(delete jh.animationend.animation,delete jh.animationiteration.animation,delete jh.animationstart.animation),"TransitionEvent"in window||delete jh.transitionend.transition);function aS(e){if(Jx[e])return Jx[e];if(!jh[e])return e;var t=jh[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in xz)return Jx[e]=t[n];return e}var Cz=aS("animationend"),Az=aS("animationiteration"),Oz=aS("animationstart"),Pz=aS("transitionend"),Rz=new Map,NL="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mf(e,t){Rz.set(e,t),qd(t,[e])}for(var Zx=0;Zx<NL.length;Zx++){var eC=NL[Zx],Fle=eC.toLowerCase(),Ble=eC[0].toUpperCase()+eC.slice(1);mf(Fle,"on"+Ble)}mf(Cz,"onAnimationEnd");mf(Az,"onAnimationIteration");mf(Oz,"onAnimationStart");mf("dblclick","onDoubleClick");mf("focusin","onFocus");mf("focusout","onBlur");mf(Pz,"onTransitionEnd");Lp("onMouseEnter",["mouseout","mouseover"]);Lp("onMouseLeave",["mouseout","mouseover"]);Lp("onPointerEnter",["pointerout","pointerover"]);Lp("onPointerLeave",["pointerout","pointerover"]);qd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qd("onBeforeInput",["compositionend","keypress","textInput","paste"]);qd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var X0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jle=new Set("cancel close invalid load scroll toggle".split(" ").concat(X0));function kL(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Fue(r,t,void 0,e),e.currentTarget=null}function Nz(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,l=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;kL(i,a,l),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,l=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;kL(i,a,l),s=u}}}if(Cb)throw e=MO,Cb=!1,MO=null,e}function Kn(e,t){var n=t[GO];n===void 0&&(n=t[GO]=new Set);var r=e+"__bubble";n.has(r)||(kz(t,e,2,!1),n.add(r))}function tC(e,t,n){var r=0;t&&(r|=4),kz(n,e,r,t)}var Av="_reactListening"+Math.random().toString(36).slice(2);function oy(e){if(!e[Av]){e[Av]=!0,j7.forEach(function(n){n!=="selectionchange"&&(jle.has(n)||tC(n,!1,e),tC(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Av]||(t[Av]=!0,tC("selectionchange",!1,t))}}function kz(e,t,n,r){switch(gz(t)){case 1:var i=ele;break;case 4:i=tle;break;default:i=iN}n=i.bind(null,t,n,e),i=void 0,!LO||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function nC(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Kf(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}nz(function(){var l=s,c=eN(n),f=[];e:{var d=Rz.get(e);if(d!==void 0){var h=oN,p=e;switch(e){case"keypress":if(B1(n)===0)break e;case"keydown":case"keyup":h=gle;break;case"focusin":p="focus",h=Kx;break;case"focusout":p="blur",h=Kx;break;case"beforeblur":case"afterblur":h=Kx;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=EL;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=ile;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=vle;break;case Cz:case Az:case Oz:h=ale;break;case Pz:h=Ele;break;case"scroll":h=nle;break;case"wheel":h=Tle;break;case"copy":case"cut":case"paste":h=lle;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=TL}var m=(t&4)!==0,y=!m&&e==="scroll",g=m?d!==null?d+"Capture":null:d;m=[];for(var _=l,b;_!==null;){b=_;var T=b.stateNode;if(b.tag===5&&T!==null&&(b=T,g!==null&&(T=ey(_,g),T!=null&&m.push(ay(_,T,b)))),y)break;_=_.return}0<m.length&&(d=new h(d,p,null,n,c),f.push({event:d,listeners:m}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",d&&n!==DO&&(p=n.relatedTarget||n.fromElement)&&(Kf(p)||p[_l]))break e;if((h||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=l,p=p?Kf(p):null,p!==null&&(y=Gd(p),p!==y||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=l),h!==p)){if(m=EL,T="onMouseLeave",g="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(m=TL,T="onPointerLeave",g="onPointerEnter",_="pointer"),y=h==null?d:Uh(h),b=p==null?d:Uh(p),d=new m(T,_+"leave",h,n,c),d.target=y,d.relatedTarget=b,T=null,Kf(c)===l&&(m=new m(g,_+"enter",p,n,c),m.target=b,m.relatedTarget=y,T=m),y=T,h&&p)t:{for(m=h,g=p,_=0,b=m;b;b=ph(b))_++;for(b=0,T=g;T;T=ph(T))b++;for(;0<_-b;)m=ph(m),_--;for(;0<b-_;)g=ph(g),b--;for(;_--;){if(m===g||g!==null&&m===g.alternate)break t;m=ph(m),g=ph(g)}m=null}else m=null;h!==null&&DL(f,d,h,m,!1),p!==null&&y!==null&&DL(f,y,p,m,!0)}}e:{if(d=l?Uh(l):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var I=Ple;else if(xL(d))if(wz)I=Dle;else{I=Nle;var E=Rle}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(I=kle);if(I&&(I=I(e,l))){Ez(f,I,n,c);break e}E&&E(e,d,l),e==="focusout"&&(E=d._wrapperState)&&E.controlled&&d.type==="number"&&OO(d,"number",d.value)}switch(E=l?Uh(l):window,e){case"focusin":(xL(E)||E.contentEditable==="true")&&(Bh=E,UO=l,_g=null);break;case"focusout":_g=UO=Bh=null;break;case"mousedown":VO=!0;break;case"contextmenu":case"mouseup":case"dragend":VO=!1,RL(f,n,c);break;case"selectionchange":if(Mle)break;case"keydown":case"keyup":RL(f,n,c)}var S;if(uN)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Fh?vz(e,n)&&(A="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(_z&&n.locale!=="ko"&&(Fh||A!=="onCompositionStart"?A==="onCompositionEnd"&&Fh&&(S=yz()):(Ec=c,sN="value"in Ec?Ec.value:Ec.textContent,Fh=!0)),E=Nb(l,A),0<E.length&&(A=new wL(A,e,null,n,c),f.push({event:A,listeners:E}),S?A.data=S:(S=bz(n),S!==null&&(A.data=S)))),(S=Ile?xle(e,n):Cle(e,n))&&(l=Nb(l,"onBeforeInput"),0<l.length&&(c=new wL("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:l}),c.data=S))}Nz(f,t)})}function ay(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Nb(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ey(e,n),s!=null&&r.unshift(ay(e,s,i)),s=ey(e,t),s!=null&&r.push(ay(e,s,i))),e=e.return}return r}function ph(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function DL(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,l=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&l!==null&&(a=l,i?(u=ey(n,s),u!=null&&o.unshift(ay(n,u,a))):i||(u=ey(n,s),u!=null&&o.push(ay(n,u,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Ule=/\r\n?/g,Vle=/\u0000|\uFFFD/g;function $L(e){return(typeof e=="string"?e:""+e).replace(Ule,`
`).replace(Vle,"")}function Ov(e,t,n){if(t=$L(t),$L(e)!==t&&n)throw Error(Re(425))}function kb(){}var zO=null,HO=null;function WO(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var qO=typeof setTimeout=="function"?setTimeout:void 0,zle=typeof clearTimeout=="function"?clearTimeout:void 0,LL=typeof Promise=="function"?Promise:void 0,Hle=typeof queueMicrotask=="function"?queueMicrotask:typeof LL<"u"?function(e){return LL.resolve(null).then(e).catch(Wle)}:qO;function Wle(e){setTimeout(function(){throw e})}function rC(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),ry(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ry(t)}function Pc(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ML(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Cm=Math.random().toString(36).slice(2),qa="__reactFiber$"+Cm,uy="__reactProps$"+Cm,_l="__reactContainer$"+Cm,GO="__reactEvents$"+Cm,qle="__reactListeners$"+Cm,Gle="__reactHandles$"+Cm;function Kf(e){var t=e[qa];if(t)return t;for(var n=e.parentNode;n;){if(t=n[_l]||n[qa]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ML(e);e!==null;){if(n=e[qa])return n;e=ML(e)}return t}e=n,n=e.parentNode}return null}function m_(e){return e=e[qa]||e[_l],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Uh(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Re(33))}function uS(e){return e[uy]||null}var YO=[],Vh=-1;function gf(e){return{current:e}}function Zn(e){0>Vh||(e.current=YO[Vh],YO[Vh]=null,Vh--)}function qn(e,t){Vh++,YO[Vh]=e.current,e.current=t}var Kc={},Qi=gf(Kc),Ls=gf(!1),Id=Kc;function Mp(e,t){var n=e.type.contextTypes;if(!n)return Kc;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ms(e){return e=e.childContextTypes,e!=null}function Db(){Zn(Ls),Zn(Qi)}function FL(e,t,n){if(Qi.current!==Kc)throw Error(Re(168));qn(Qi,t),qn(Ls,n)}function Dz(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Re(108,Rue(e)||"Unknown",i));return yr({},n,r)}function $b(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Kc,Id=Qi.current,qn(Qi,e),qn(Ls,Ls.current),!0}function BL(e,t,n){var r=e.stateNode;if(!r)throw Error(Re(169));n?(e=Dz(e,t,Id),r.__reactInternalMemoizedMergedChildContext=e,Zn(Ls),Zn(Qi),qn(Qi,e)):Zn(Ls),qn(Ls,n)}var zu=null,lS=!1,iC=!1;function $z(e){zu===null?zu=[e]:zu.push(e)}function Yle(e){lS=!0,$z(e)}function yf(){if(!iC&&zu!==null){iC=!0;var e=0,t=Rn;try{var n=zu;for(Rn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}zu=null,lS=!1}catch(i){throw zu!==null&&(zu=zu.slice(e+1)),oz(tN,yf),i}finally{Rn=t,iC=!1}}return null}var zh=[],Hh=0,Lb=null,Mb=0,Oo=[],Po=0,xd=null,Qu=1,Xu="";function kf(e,t){zh[Hh++]=Mb,zh[Hh++]=Lb,Lb=e,Mb=t}function Lz(e,t,n){Oo[Po++]=Qu,Oo[Po++]=Xu,Oo[Po++]=xd,xd=e;var r=Qu;e=Xu;var i=32-va(r)-1;r&=~(1<<i),n+=1;var s=32-va(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Qu=1<<32-va(t)+i|n<<i|r,Xu=s+e}else Qu=1<<s|n<<i|r,Xu=e}function cN(e){e.return!==null&&(kf(e,1),Lz(e,1,0))}function fN(e){for(;e===Lb;)Lb=zh[--Hh],zh[Hh]=null,Mb=zh[--Hh],zh[Hh]=null;for(;e===xd;)xd=Oo[--Po],Oo[Po]=null,Xu=Oo[--Po],Oo[Po]=null,Qu=Oo[--Po],Oo[Po]=null}var oo=null,ro=null,ar=!1,fa=null;function Mz(e,t){var n=Fo(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function jL(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,oo=e,ro=Pc(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,oo=e,ro=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=xd!==null?{id:Qu,overflow:Xu}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Fo(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,oo=e,ro=null,!0):!1;default:return!1}}function KO(e){return(e.mode&1)!==0&&(e.flags&128)===0}function QO(e){if(ar){var t=ro;if(t){var n=t;if(!jL(e,t)){if(KO(e))throw Error(Re(418));t=Pc(n.nextSibling);var r=oo;t&&jL(e,t)?Mz(r,n):(e.flags=e.flags&-4097|2,ar=!1,oo=e)}}else{if(KO(e))throw Error(Re(418));e.flags=e.flags&-4097|2,ar=!1,oo=e}}}function UL(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;oo=e}function Pv(e){if(e!==oo)return!1;if(!ar)return UL(e),ar=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!WO(e.type,e.memoizedProps)),t&&(t=ro)){if(KO(e))throw Fz(),Error(Re(418));for(;t;)Mz(e,t),t=Pc(t.nextSibling)}if(UL(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Re(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ro=Pc(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ro=null}}else ro=oo?Pc(e.stateNode.nextSibling):null;return!0}function Fz(){for(var e=ro;e;)e=Pc(e.nextSibling)}function Fp(){ro=oo=null,ar=!1}function dN(e){fa===null?fa=[e]:fa.push(e)}var Kle=Bl.ReactCurrentBatchConfig;function ua(e,t){if(e&&e.defaultProps){t=yr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Fb=gf(null),Bb=null,Wh=null,hN=null;function pN(){hN=Wh=Bb=null}function mN(e){var t=Fb.current;Zn(Fb),e._currentValue=t}function XO(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function fp(e,t){Bb=e,hN=Wh=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ns=!0),e.firstContext=null)}function Vo(e){var t=e._currentValue;if(hN!==e)if(e={context:e,memoizedValue:t,next:null},Wh===null){if(Bb===null)throw Error(Re(308));Wh=e,Bb.dependencies={lanes:0,firstContext:e}}else Wh=Wh.next=e;return t}var Qf=null;function gN(e){Qf===null?Qf=[e]:Qf.push(e)}function Bz(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,gN(t)):(n.next=i.next,i.next=n),t.interleaved=n,vl(e,r)}function vl(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ac=!1;function yN(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jz(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ol(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Rc(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,hn&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,vl(e,n)}return i=r.interleaved,i===null?(t.next=t,gN(r)):(t.next=i.next,i.next=t),r.interleaved=t,vl(e,n)}function j1(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,nN(e,n)}}function VL(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function jb(e,t,n,r){var i=e.updateQueue;ac=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,l=u.next;u.next=null,o===null?s=l:o.next=l,o=u;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=l:a.next=l,c.lastBaseUpdate=u))}if(s!==null){var f=i.baseState;o=0,c=l=u=null,a=s;do{var d=a.lane,h=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(d=t,h=n,m.tag){case 1:if(p=m.payload,typeof p=="function"){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,d=typeof p=="function"?p.call(h,f,d):p,d==null)break e;f=yr({},f,d);break e;case 2:ac=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else h={eventTime:h,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(l=c=h,u=f):c=c.next=h,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(u=f),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Ad|=o,e.lanes=o,e.memoizedState=f}}function zL(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Re(191,i));i.call(r)}}}var Uz=new B7.Component().refs;function JO(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:yr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var cS={isMounted:function(e){return(e=e._reactInternals)?Gd(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ls(),i=kc(e),s=ol(r,i);s.payload=t,n!=null&&(s.callback=n),t=Rc(e,s,i),t!==null&&(ba(t,e,i,r),j1(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ls(),i=kc(e),s=ol(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Rc(e,s,i),t!==null&&(ba(t,e,i,r),j1(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ls(),r=kc(e),i=ol(n,r);i.tag=2,t!=null&&(i.callback=t),t=Rc(e,i,r),t!==null&&(ba(t,e,r,n),j1(t,e,r))}};function HL(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!sy(n,r)||!sy(i,s):!0}function Vz(e,t,n){var r=!1,i=Kc,s=t.contextType;return typeof s=="object"&&s!==null?s=Vo(s):(i=Ms(t)?Id:Qi.current,r=t.contextTypes,s=(r=r!=null)?Mp(e,i):Kc),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=cS,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function WL(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&cS.enqueueReplaceState(t,t.state,null)}function ZO(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Uz,yN(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Vo(s):(s=Ms(t)?Id:Qi.current,i.context=Mp(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(JO(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&cS.enqueueReplaceState(i,i.state,null),jb(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function _0(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Re(309));var r=n.stateNode}if(!r)throw Error(Re(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;a===Uz&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(Re(284));if(!n._owner)throw Error(Re(290,e))}return e}function Rv(e,t){throw e=Object.prototype.toString.call(t),Error(Re(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function qL(e){var t=e._init;return t(e._payload)}function zz(e){function t(g,_){if(e){var b=g.deletions;b===null?(g.deletions=[_],g.flags|=16):b.push(_)}}function n(g,_){if(!e)return null;for(;_!==null;)t(g,_),_=_.sibling;return null}function r(g,_){for(g=new Map;_!==null;)_.key!==null?g.set(_.key,_):g.set(_.index,_),_=_.sibling;return g}function i(g,_){return g=Dc(g,_),g.index=0,g.sibling=null,g}function s(g,_,b){return g.index=b,e?(b=g.alternate,b!==null?(b=b.index,b<_?(g.flags|=2,_):b):(g.flags|=2,_)):(g.flags|=1048576,_)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,_,b,T){return _===null||_.tag!==6?(_=fC(b,g.mode,T),_.return=g,_):(_=i(_,b),_.return=g,_)}function u(g,_,b,T){var I=b.type;return I===Mh?c(g,_,b.props.children,T,b.key):_!==null&&(_.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===oc&&qL(I)===_.type)?(T=i(_,b.props),T.ref=_0(g,_,b),T.return=g,T):(T=q1(b.type,b.key,b.props,null,g.mode,T),T.ref=_0(g,_,b),T.return=g,T)}function l(g,_,b,T){return _===null||_.tag!==4||_.stateNode.containerInfo!==b.containerInfo||_.stateNode.implementation!==b.implementation?(_=dC(b,g.mode,T),_.return=g,_):(_=i(_,b.children||[]),_.return=g,_)}function c(g,_,b,T,I){return _===null||_.tag!==7?(_=pd(b,g.mode,T,I),_.return=g,_):(_=i(_,b),_.return=g,_)}function f(g,_,b){if(typeof _=="string"&&_!==""||typeof _=="number")return _=fC(""+_,g.mode,b),_.return=g,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case bv:return b=q1(_.type,_.key,_.props,null,g.mode,b),b.ref=_0(g,null,_),b.return=g,b;case Lh:return _=dC(_,g.mode,b),_.return=g,_;case oc:var T=_._init;return f(g,T(_._payload),b)}if(K0(_)||h0(_))return _=pd(_,g.mode,b,null),_.return=g,_;Rv(g,_)}return null}function d(g,_,b,T){var I=_!==null?_.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return I!==null?null:a(g,_,""+b,T);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case bv:return b.key===I?u(g,_,b,T):null;case Lh:return b.key===I?l(g,_,b,T):null;case oc:return I=b._init,d(g,_,I(b._payload),T)}if(K0(b)||h0(b))return I!==null?null:c(g,_,b,T,null);Rv(g,b)}return null}function h(g,_,b,T,I){if(typeof T=="string"&&T!==""||typeof T=="number")return g=g.get(b)||null,a(_,g,""+T,I);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case bv:return g=g.get(T.key===null?b:T.key)||null,u(_,g,T,I);case Lh:return g=g.get(T.key===null?b:T.key)||null,l(_,g,T,I);case oc:var E=T._init;return h(g,_,b,E(T._payload),I)}if(K0(T)||h0(T))return g=g.get(b)||null,c(_,g,T,I,null);Rv(_,T)}return null}function p(g,_,b,T){for(var I=null,E=null,S=_,A=_=0,L=null;S!==null&&A<b.length;A++){S.index>A?(L=S,S=null):L=S.sibling;var W=d(g,S,b[A],T);if(W===null){S===null&&(S=L);break}e&&S&&W.alternate===null&&t(g,S),_=s(W,_,A),E===null?I=W:E.sibling=W,E=W,S=L}if(A===b.length)return n(g,S),ar&&kf(g,A),I;if(S===null){for(;A<b.length;A++)S=f(g,b[A],T),S!==null&&(_=s(S,_,A),E===null?I=S:E.sibling=S,E=S);return ar&&kf(g,A),I}for(S=r(g,S);A<b.length;A++)L=h(S,g,A,b[A],T),L!==null&&(e&&L.alternate!==null&&S.delete(L.key===null?A:L.key),_=s(L,_,A),E===null?I=L:E.sibling=L,E=L);return e&&S.forEach(function(z){return t(g,z)}),ar&&kf(g,A),I}function m(g,_,b,T){var I=h0(b);if(typeof I!="function")throw Error(Re(150));if(b=I.call(b),b==null)throw Error(Re(151));for(var E=I=null,S=_,A=_=0,L=null,W=b.next();S!==null&&!W.done;A++,W=b.next()){S.index>A?(L=S,S=null):L=S.sibling;var z=d(g,S,W.value,T);if(z===null){S===null&&(S=L);break}e&&S&&z.alternate===null&&t(g,S),_=s(z,_,A),E===null?I=z:E.sibling=z,E=z,S=L}if(W.done)return n(g,S),ar&&kf(g,A),I;if(S===null){for(;!W.done;A++,W=b.next())W=f(g,W.value,T),W!==null&&(_=s(W,_,A),E===null?I=W:E.sibling=W,E=W);return ar&&kf(g,A),I}for(S=r(g,S);!W.done;A++,W=b.next())W=h(S,g,A,W.value,T),W!==null&&(e&&W.alternate!==null&&S.delete(W.key===null?A:W.key),_=s(W,_,A),E===null?I=W:E.sibling=W,E=W);return e&&S.forEach(function(U){return t(g,U)}),ar&&kf(g,A),I}function y(g,_,b,T){if(typeof b=="object"&&b!==null&&b.type===Mh&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case bv:e:{for(var I=b.key,E=_;E!==null;){if(E.key===I){if(I=b.type,I===Mh){if(E.tag===7){n(g,E.sibling),_=i(E,b.props.children),_.return=g,g=_;break e}}else if(E.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===oc&&qL(I)===E.type){n(g,E.sibling),_=i(E,b.props),_.ref=_0(g,E,b),_.return=g,g=_;break e}n(g,E);break}else t(g,E);E=E.sibling}b.type===Mh?(_=pd(b.props.children,g.mode,T,b.key),_.return=g,g=_):(T=q1(b.type,b.key,b.props,null,g.mode,T),T.ref=_0(g,_,b),T.return=g,g=T)}return o(g);case Lh:e:{for(E=b.key;_!==null;){if(_.key===E)if(_.tag===4&&_.stateNode.containerInfo===b.containerInfo&&_.stateNode.implementation===b.implementation){n(g,_.sibling),_=i(_,b.children||[]),_.return=g,g=_;break e}else{n(g,_);break}else t(g,_);_=_.sibling}_=dC(b,g.mode,T),_.return=g,g=_}return o(g);case oc:return E=b._init,y(g,_,E(b._payload),T)}if(K0(b))return p(g,_,b,T);if(h0(b))return m(g,_,b,T);Rv(g,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,_!==null&&_.tag===6?(n(g,_.sibling),_=i(_,b),_.return=g,g=_):(n(g,_),_=fC(b,g.mode,T),_.return=g,g=_),o(g)):n(g,_)}return y}var Bp=zz(!0),Hz=zz(!1),g_={},lu=gf(g_),ly=gf(g_),cy=gf(g_);function Xf(e){if(e===g_)throw Error(Re(174));return e}function _N(e,t){switch(qn(cy,t),qn(ly,e),qn(lu,g_),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:RO(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=RO(t,e)}Zn(lu),qn(lu,t)}function jp(){Zn(lu),Zn(ly),Zn(cy)}function Wz(e){Xf(cy.current);var t=Xf(lu.current),n=RO(t,e.type);t!==n&&(qn(ly,e),qn(lu,n))}function vN(e){ly.current===e&&(Zn(lu),Zn(ly))}var mr=gf(0);function Ub(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var sC=[];function bN(){for(var e=0;e<sC.length;e++)sC[e]._workInProgressVersionPrimary=null;sC.length=0}var U1=Bl.ReactCurrentDispatcher,oC=Bl.ReactCurrentBatchConfig,Cd=0,gr=null,Gr=null,li=null,Vb=!1,vg=!1,fy=0,Qle=0;function Fi(){throw Error(Re(321))}function EN(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Sa(e[n],t[n]))return!1;return!0}function wN(e,t,n,r,i,s){if(Cd=s,gr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,U1.current=e===null||e.memoizedState===null?ece:tce,e=n(r,i),vg){s=0;do{if(vg=!1,fy=0,25<=s)throw Error(Re(301));s+=1,li=Gr=null,t.updateQueue=null,U1.current=nce,e=n(r,i)}while(vg)}if(U1.current=zb,t=Gr!==null&&Gr.next!==null,Cd=0,li=Gr=gr=null,Vb=!1,t)throw Error(Re(300));return e}function TN(){var e=fy!==0;return fy=0,e}function Ma(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return li===null?gr.memoizedState=li=e:li=li.next=e,li}function zo(){if(Gr===null){var e=gr.alternate;e=e!==null?e.memoizedState:null}else e=Gr.next;var t=li===null?gr.memoizedState:li.next;if(t!==null)li=t,Gr=e;else{if(e===null)throw Error(Re(310));Gr=e,e={memoizedState:Gr.memoizedState,baseState:Gr.baseState,baseQueue:Gr.baseQueue,queue:Gr.queue,next:null},li===null?gr.memoizedState=li=e:li=li.next=e}return li}function dy(e,t){return typeof t=="function"?t(e):t}function aC(e){var t=zo(),n=t.queue;if(n===null)throw Error(Re(311));n.lastRenderedReducer=e;var r=Gr,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,l=s;do{var c=l.lane;if((Cd&c)===c)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var f={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(a=u=f,o=r):u=u.next=f,gr.lanes|=c,Ad|=c}l=l.next}while(l!==null&&l!==s);u===null?o=r:u.next=a,Sa(r,t.memoizedState)||(Ns=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,gr.lanes|=s,Ad|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function uC(e){var t=zo(),n=t.queue;if(n===null)throw Error(Re(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Sa(s,t.memoizedState)||(Ns=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function qz(){}function Gz(e,t){var n=gr,r=zo(),i=t(),s=!Sa(r.memoizedState,i);if(s&&(r.memoizedState=i,Ns=!0),r=r.queue,SN(Qz.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||li!==null&&li.memoizedState.tag&1){if(n.flags|=2048,hy(9,Kz.bind(null,n,r,i,t),void 0,null),di===null)throw Error(Re(349));Cd&30||Yz(n,t,i)}return i}function Yz(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=gr.updateQueue,t===null?(t={lastEffect:null,stores:null},gr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Kz(e,t,n,r){t.value=n,t.getSnapshot=r,Xz(t)&&Jz(e)}function Qz(e,t,n){return n(function(){Xz(t)&&Jz(e)})}function Xz(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Sa(e,n)}catch{return!0}}function Jz(e){var t=vl(e,1);t!==null&&ba(t,e,1,-1)}function GL(e){var t=Ma();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:dy,lastRenderedState:e},t.queue=e,e=e.dispatch=Zle.bind(null,gr,e),[t.memoizedState,e]}function hy(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=gr.updateQueue,t===null?(t={lastEffect:null,stores:null},gr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Zz(){return zo().memoizedState}function V1(e,t,n,r){var i=Ma();gr.flags|=e,i.memoizedState=hy(1|t,n,void 0,r===void 0?null:r)}function fS(e,t,n,r){var i=zo();r=r===void 0?null:r;var s=void 0;if(Gr!==null){var o=Gr.memoizedState;if(s=o.destroy,r!==null&&EN(r,o.deps)){i.memoizedState=hy(t,n,s,r);return}}gr.flags|=e,i.memoizedState=hy(1|t,n,s,r)}function YL(e,t){return V1(8390656,8,e,t)}function SN(e,t){return fS(2048,8,e,t)}function eH(e,t){return fS(4,2,e,t)}function tH(e,t){return fS(4,4,e,t)}function nH(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function rH(e,t,n){return n=n!=null?n.concat([e]):null,fS(4,4,nH.bind(null,t,e),n)}function IN(){}function iH(e,t){var n=zo();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&EN(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function sH(e,t){var n=zo();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&EN(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function oH(e,t,n){return Cd&21?(Sa(n,t)||(n=lz(),gr.lanes|=n,Ad|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ns=!0),e.memoizedState=n)}function Xle(e,t){var n=Rn;Rn=n!==0&&4>n?n:4,e(!0);var r=oC.transition;oC.transition={};try{e(!1),t()}finally{Rn=n,oC.transition=r}}function aH(){return zo().memoizedState}function Jle(e,t,n){var r=kc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},uH(e))lH(t,n);else if(n=Bz(e,t,n,r),n!==null){var i=ls();ba(n,e,r,i),cH(n,t,r)}}function Zle(e,t,n){var r=kc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(uH(e))lH(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Sa(a,o)){var u=t.interleaved;u===null?(i.next=i,gN(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}n=Bz(e,t,i,r),n!==null&&(i=ls(),ba(n,e,r,i),cH(n,t,r))}}function uH(e){var t=e.alternate;return e===gr||t!==null&&t===gr}function lH(e,t){vg=Vb=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function cH(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,nN(e,n)}}var zb={readContext:Vo,useCallback:Fi,useContext:Fi,useEffect:Fi,useImperativeHandle:Fi,useInsertionEffect:Fi,useLayoutEffect:Fi,useMemo:Fi,useReducer:Fi,useRef:Fi,useState:Fi,useDebugValue:Fi,useDeferredValue:Fi,useTransition:Fi,useMutableSource:Fi,useSyncExternalStore:Fi,useId:Fi,unstable_isNewReconciler:!1},ece={readContext:Vo,useCallback:function(e,t){return Ma().memoizedState=[e,t===void 0?null:t],e},useContext:Vo,useEffect:YL,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,V1(4194308,4,nH.bind(null,t,e),n)},useLayoutEffect:function(e,t){return V1(4194308,4,e,t)},useInsertionEffect:function(e,t){return V1(4,2,e,t)},useMemo:function(e,t){var n=Ma();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ma();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Jle.bind(null,gr,e),[r.memoizedState,e]},useRef:function(e){var t=Ma();return e={current:e},t.memoizedState=e},useState:GL,useDebugValue:IN,useDeferredValue:function(e){return Ma().memoizedState=e},useTransition:function(){var e=GL(!1),t=e[0];return e=Xle.bind(null,e[1]),Ma().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=gr,i=Ma();if(ar){if(n===void 0)throw Error(Re(407));n=n()}else{if(n=t(),di===null)throw Error(Re(349));Cd&30||Yz(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,YL(Qz.bind(null,r,s,e),[e]),r.flags|=2048,hy(9,Kz.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Ma(),t=di.identifierPrefix;if(ar){var n=Xu,r=Qu;n=(r&~(1<<32-va(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=fy++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Qle++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},tce={readContext:Vo,useCallback:iH,useContext:Vo,useEffect:SN,useImperativeHandle:rH,useInsertionEffect:eH,useLayoutEffect:tH,useMemo:sH,useReducer:aC,useRef:Zz,useState:function(){return aC(dy)},useDebugValue:IN,useDeferredValue:function(e){var t=zo();return oH(t,Gr.memoizedState,e)},useTransition:function(){var e=aC(dy)[0],t=zo().memoizedState;return[e,t]},useMutableSource:qz,useSyncExternalStore:Gz,useId:aH,unstable_isNewReconciler:!1},nce={readContext:Vo,useCallback:iH,useContext:Vo,useEffect:SN,useImperativeHandle:rH,useInsertionEffect:eH,useLayoutEffect:tH,useMemo:sH,useReducer:uC,useRef:Zz,useState:function(){return uC(dy)},useDebugValue:IN,useDeferredValue:function(e){var t=zo();return Gr===null?t.memoizedState=e:oH(t,Gr.memoizedState,e)},useTransition:function(){var e=uC(dy)[0],t=zo().memoizedState;return[e,t]},useMutableSource:qz,useSyncExternalStore:Gz,useId:aH,unstable_isNewReconciler:!1};function Up(e,t){try{var n="",r=t;do n+=Pue(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function lC(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function eP(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var rce=typeof WeakMap=="function"?WeakMap:Map;function fH(e,t,n){n=ol(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wb||(Wb=!0,cP=r),eP(e,t)},n}function dH(e,t,n){n=ol(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){eP(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){eP(e,t),typeof r!="function"&&(Nc===null?Nc=new Set([this]):Nc.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function KL(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new rce;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=yce.bind(null,e,t,n),t.then(e,e))}function QL(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function XL(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ol(-1,1),t.tag=2,Rc(n,t,1))),n.lanes|=1),e)}var ice=Bl.ReactCurrentOwner,Ns=!1;function os(e,t,n,r){t.child=e===null?Hz(t,null,n,r):Bp(t,e.child,n,r)}function JL(e,t,n,r,i){n=n.render;var s=t.ref;return fp(t,i),r=wN(e,t,n,r,s,i),n=TN(),e!==null&&!Ns?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,bl(e,t,i)):(ar&&n&&cN(t),t.flags|=1,os(e,t,r,i),t.child)}function ZL(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!kN(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,hH(e,t,s,r,i)):(e=q1(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:sy,n(o,r)&&e.ref===t.ref)return bl(e,t,i)}return t.flags|=1,e=Dc(s,r),e.ref=t.ref,e.return=t,t.child=e}function hH(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(sy(s,r)&&e.ref===t.ref)if(Ns=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Ns=!0);else return t.lanes=e.lanes,bl(e,t,i)}return tP(e,t,n,r,i)}function pH(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},qn(Gh,Xs),Xs|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,qn(Gh,Xs),Xs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,qn(Gh,Xs),Xs|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,qn(Gh,Xs),Xs|=r;return os(e,t,i,n),t.child}function mH(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function tP(e,t,n,r,i){var s=Ms(n)?Id:Qi.current;return s=Mp(t,s),fp(t,i),n=wN(e,t,n,r,s,i),r=TN(),e!==null&&!Ns?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,bl(e,t,i)):(ar&&r&&cN(t),t.flags|=1,os(e,t,n,i),t.child)}function eM(e,t,n,r,i){if(Ms(n)){var s=!0;$b(t)}else s=!1;if(fp(t,i),t.stateNode===null)z1(e,t),Vz(t,n,r),ZO(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var u=o.context,l=n.contextType;typeof l=="object"&&l!==null?l=Vo(l):(l=Ms(n)?Id:Qi.current,l=Mp(t,l));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==l)&&WL(t,o,r,l),ac=!1;var d=t.memoizedState;o.state=d,jb(t,r,o,i),u=t.memoizedState,a!==r||d!==u||Ls.current||ac?(typeof c=="function"&&(JO(t,n,c,r),u=t.memoizedState),(a=ac||HL(t,n,a,r,d,u,l))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,jz(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:ua(t.type,a),o.props=l,f=t.pendingProps,d=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Vo(u):(u=Ms(n)?Id:Qi.current,u=Mp(t,u));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||d!==u)&&WL(t,o,r,u),ac=!1,d=t.memoizedState,o.state=d,jb(t,r,o,i);var p=t.memoizedState;a!==f||d!==p||Ls.current||ac?(typeof h=="function"&&(JO(t,n,h,r),p=t.memoizedState),(l=ac||HL(t,n,l,r,d,p,u)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=l):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return nP(e,t,n,r,s,i)}function nP(e,t,n,r,i,s){mH(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&BL(t,n,!1),bl(e,t,s);r=t.stateNode,ice.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Bp(t,e.child,null,s),t.child=Bp(t,null,a,s)):os(e,t,a,s),t.memoizedState=r.state,i&&BL(t,n,!0),t.child}function gH(e){var t=e.stateNode;t.pendingContext?FL(e,t.pendingContext,t.pendingContext!==t.context):t.context&&FL(e,t.context,!1),_N(e,t.containerInfo)}function tM(e,t,n,r,i){return Fp(),dN(i),t.flags|=256,os(e,t,n,r),t.child}var rP={dehydrated:null,treeContext:null,retryLane:0};function iP(e){return{baseLanes:e,cachePool:null,transitions:null}}function yH(e,t,n){var r=t.pendingProps,i=mr.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),qn(mr,i&1),e===null)return QO(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=pS(o,r,0,null),e=pd(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=iP(n),t.memoizedState=rP,e):xN(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return sce(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Dc(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Dc(a,s):(s=pd(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?iP(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=rP,r}return s=e.child,e=s.sibling,r=Dc(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function xN(e,t){return t=pS({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Nv(e,t,n,r){return r!==null&&dN(r),Bp(t,e.child,null,n),e=xN(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function sce(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=lC(Error(Re(422))),Nv(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=pS({mode:"visible",children:r.children},i,0,null),s=pd(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Bp(t,e.child,null,o),t.child.memoizedState=iP(o),t.memoizedState=rP,s);if(!(t.mode&1))return Nv(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Re(419)),r=lC(s,r,void 0),Nv(e,t,o,r)}if(a=(o&e.childLanes)!==0,Ns||a){if(r=di,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,vl(e,i),ba(r,e,i,-1))}return NN(),r=lC(Error(Re(421))),Nv(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=_ce.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ro=Pc(i.nextSibling),oo=t,ar=!0,fa=null,e!==null&&(Oo[Po++]=Qu,Oo[Po++]=Xu,Oo[Po++]=xd,Qu=e.id,Xu=e.overflow,xd=t),t=xN(t,r.children),t.flags|=4096,t)}function nM(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),XO(e.return,t,n)}function cC(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function _H(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(os(e,t,r.children,n),r=mr.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&nM(e,n,t);else if(e.tag===19)nM(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(qn(mr,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Ub(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),cC(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Ub(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}cC(t,!0,n,null,s);break;case"together":cC(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function z1(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function bl(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ad|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Re(153));if(t.child!==null){for(e=t.child,n=Dc(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Dc(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function oce(e,t,n){switch(t.tag){case 3:gH(t),Fp();break;case 5:Wz(t);break;case 1:Ms(t.type)&&$b(t);break;case 4:_N(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;qn(Fb,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(qn(mr,mr.current&1),t.flags|=128,null):n&t.child.childLanes?yH(e,t,n):(qn(mr,mr.current&1),e=bl(e,t,n),e!==null?e.sibling:null);qn(mr,mr.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return _H(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),qn(mr,mr.current),r)break;return null;case 22:case 23:return t.lanes=0,pH(e,t,n)}return bl(e,t,n)}var vH,sP,bH,EH;vH=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};sP=function(){};bH=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Xf(lu.current);var s=null;switch(n){case"input":i=CO(e,i),r=CO(e,r),s=[];break;case"select":i=yr({},i,{value:void 0}),r=yr({},r,{value:void 0}),s=[];break;case"textarea":i=PO(e,i),r=PO(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=kb)}NO(n,r);var o;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Jg.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in r){var u=r[l];if(a=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&u!==a&&(u!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(l,n)),n=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Jg.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&Kn("scroll",e),s||a===u||(s=[])):(s=s||[]).push(l,u))}n&&(s=s||[]).push("style",n);var l=s;(t.updateQueue=l)&&(t.flags|=4)}};EH=function(e,t,n,r){n!==r&&(t.flags|=4)};function v0(e,t){if(!ar)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Bi(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ace(e,t,n){var r=t.pendingProps;switch(fN(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bi(t),null;case 1:return Ms(t.type)&&Db(),Bi(t),null;case 3:return r=t.stateNode,jp(),Zn(Ls),Zn(Qi),bN(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Pv(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,fa!==null&&(hP(fa),fa=null))),sP(e,t),Bi(t),null;case 5:vN(t);var i=Xf(cy.current);if(n=t.type,e!==null&&t.stateNode!=null)bH(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Re(166));return Bi(t),null}if(e=Xf(lu.current),Pv(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[qa]=t,r[uy]=s,e=(t.mode&1)!==0,n){case"dialog":Kn("cancel",r),Kn("close",r);break;case"iframe":case"object":case"embed":Kn("load",r);break;case"video":case"audio":for(i=0;i<X0.length;i++)Kn(X0[i],r);break;case"source":Kn("error",r);break;case"img":case"image":case"link":Kn("error",r),Kn("load",r);break;case"details":Kn("toggle",r);break;case"input":fL(r,s),Kn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Kn("invalid",r);break;case"textarea":hL(r,s),Kn("invalid",r)}NO(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Ov(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Ov(r.textContent,a,e),i=["children",""+a]):Jg.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Kn("scroll",r)}switch(n){case"input":Ev(r),dL(r,s,!0);break;case"textarea":Ev(r),pL(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=kb)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Y7(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[qa]=t,e[uy]=r,vH(e,t,!1,!1),t.stateNode=e;e:{switch(o=kO(n,r),n){case"dialog":Kn("cancel",e),Kn("close",e),i=r;break;case"iframe":case"object":case"embed":Kn("load",e),i=r;break;case"video":case"audio":for(i=0;i<X0.length;i++)Kn(X0[i],e);i=r;break;case"source":Kn("error",e),i=r;break;case"img":case"image":case"link":Kn("error",e),Kn("load",e),i=r;break;case"details":Kn("toggle",e),i=r;break;case"input":fL(e,r),i=CO(e,r),Kn("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=yr({},r,{value:void 0}),Kn("invalid",e);break;case"textarea":hL(e,r),i=PO(e,r),Kn("invalid",e);break;default:i=r}NO(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?X7(e,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&K7(e,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Zg(e,u):typeof u=="number"&&Zg(e,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Jg.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Kn("scroll",e):u!=null&&QR(e,s,u,o))}switch(n){case"input":Ev(e),dL(e,r,!1);break;case"textarea":Ev(e),pL(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Yc(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?ap(e,!!r.multiple,s,!1):r.defaultValue!=null&&ap(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=kb)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Bi(t),null;case 6:if(e&&t.stateNode!=null)EH(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Re(166));if(n=Xf(cy.current),Xf(lu.current),Pv(t)){if(r=t.stateNode,n=t.memoizedProps,r[qa]=t,(s=r.nodeValue!==n)&&(e=oo,e!==null))switch(e.tag){case 3:Ov(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ov(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qa]=t,t.stateNode=r}return Bi(t),null;case 13:if(Zn(mr),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ar&&ro!==null&&t.mode&1&&!(t.flags&128))Fz(),Fp(),t.flags|=98560,s=!1;else if(s=Pv(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(Re(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Re(317));s[qa]=t}else Fp(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Bi(t),s=!1}else fa!==null&&(hP(fa),fa=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||mr.current&1?Xr===0&&(Xr=3):NN())),t.updateQueue!==null&&(t.flags|=4),Bi(t),null);case 4:return jp(),sP(e,t),e===null&&oy(t.stateNode.containerInfo),Bi(t),null;case 10:return mN(t.type._context),Bi(t),null;case 17:return Ms(t.type)&&Db(),Bi(t),null;case 19:if(Zn(mr),s=t.memoizedState,s===null)return Bi(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)v0(s,!1);else{if(Xr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ub(e),o!==null){for(t.flags|=128,v0(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return qn(mr,mr.current&1|2),t.child}e=e.sibling}s.tail!==null&&kr()>Vp&&(t.flags|=128,r=!0,v0(s,!1),t.lanes=4194304)}else{if(!r)if(e=Ub(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),v0(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ar)return Bi(t),null}else 2*kr()-s.renderingStartTime>Vp&&n!==1073741824&&(t.flags|=128,r=!0,v0(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=kr(),t.sibling=null,n=mr.current,qn(mr,r?n&1|2:n&1),t):(Bi(t),null);case 22:case 23:return RN(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Xs&1073741824&&(Bi(t),t.subtreeFlags&6&&(t.flags|=8192)):Bi(t),null;case 24:return null;case 25:return null}throw Error(Re(156,t.tag))}function uce(e,t){switch(fN(t),t.tag){case 1:return Ms(t.type)&&Db(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return jp(),Zn(Ls),Zn(Qi),bN(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return vN(t),null;case 13:if(Zn(mr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Re(340));Fp()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Zn(mr),null;case 4:return jp(),null;case 10:return mN(t.type._context),null;case 22:case 23:return RN(),null;case 24:return null;default:return null}}var kv=!1,Wi=!1,lce=typeof WeakSet=="function"?WeakSet:Set,ze=null;function qh(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Tr(e,t,r)}else n.current=null}function oP(e,t,n){try{n()}catch(r){Tr(e,t,r)}}var rM=!1;function cce(e,t){if(zO=Pb,e=Iz(),lN(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,l=0,c=0,f=e,d=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===e)break t;if(d===n&&++l===i&&(a=o),d===s&&++c===r&&(u=o),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(HO={focusedElem:e,selectionRange:n},Pb=!1,ze=t;ze!==null;)if(t=ze,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ze=e;else for(;ze!==null;){t=ze;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,y=p.memoizedState,g=t.stateNode,_=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ua(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Re(163))}}catch(T){Tr(t,t.return,T)}if(e=t.sibling,e!==null){e.return=t.return,ze=e;break}ze=t.return}return p=rM,rM=!1,p}function bg(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&oP(t,n,s)}i=i.next}while(i!==r)}}function dS(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function aP(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function wH(e){var t=e.alternate;t!==null&&(e.alternate=null,wH(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[qa],delete t[uy],delete t[GO],delete t[qle],delete t[Gle])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function TH(e){return e.tag===5||e.tag===3||e.tag===4}function iM(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||TH(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function uP(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=kb));else if(r!==4&&(e=e.child,e!==null))for(uP(e,t,n),e=e.sibling;e!==null;)uP(e,t,n),e=e.sibling}function lP(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(lP(e,t,n),e=e.sibling;e!==null;)lP(e,t,n),e=e.sibling}var Ti=null,la=!1;function Ql(e,t,n){for(n=n.child;n!==null;)SH(e,t,n),n=n.sibling}function SH(e,t,n){if(uu&&typeof uu.onCommitFiberUnmount=="function")try{uu.onCommitFiberUnmount(iS,n)}catch{}switch(n.tag){case 5:Wi||qh(n,t);case 6:var r=Ti,i=la;Ti=null,Ql(e,t,n),Ti=r,la=i,Ti!==null&&(la?(e=Ti,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ti.removeChild(n.stateNode));break;case 18:Ti!==null&&(la?(e=Ti,n=n.stateNode,e.nodeType===8?rC(e.parentNode,n):e.nodeType===1&&rC(e,n),ry(e)):rC(Ti,n.stateNode));break;case 4:r=Ti,i=la,Ti=n.stateNode.containerInfo,la=!0,Ql(e,t,n),Ti=r,la=i;break;case 0:case 11:case 14:case 15:if(!Wi&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&oP(n,t,o),i=i.next}while(i!==r)}Ql(e,t,n);break;case 1:if(!Wi&&(qh(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Tr(n,t,a)}Ql(e,t,n);break;case 21:Ql(e,t,n);break;case 22:n.mode&1?(Wi=(r=Wi)||n.memoizedState!==null,Ql(e,t,n),Wi=r):Ql(e,t,n);break;default:Ql(e,t,n)}}function sM(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new lce),t.forEach(function(r){var i=vce.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function na(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ti=a.stateNode,la=!1;break e;case 3:Ti=a.stateNode.containerInfo,la=!0;break e;case 4:Ti=a.stateNode.containerInfo,la=!0;break e}a=a.return}if(Ti===null)throw Error(Re(160));SH(s,o,i),Ti=null,la=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(l){Tr(i,t,l)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)IH(t,e),t=t.sibling}function IH(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(na(t,e),ka(e),r&4){try{bg(3,e,e.return),dS(3,e)}catch(m){Tr(e,e.return,m)}try{bg(5,e,e.return)}catch(m){Tr(e,e.return,m)}}break;case 1:na(t,e),ka(e),r&512&&n!==null&&qh(n,n.return);break;case 5:if(na(t,e),ka(e),r&512&&n!==null&&qh(n,n.return),e.flags&32){var i=e.stateNode;try{Zg(i,"")}catch(m){Tr(e,e.return,m)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&q7(i,s),kO(a,o);var l=kO(a,s);for(o=0;o<u.length;o+=2){var c=u[o],f=u[o+1];c==="style"?X7(i,f):c==="dangerouslySetInnerHTML"?K7(i,f):c==="children"?Zg(i,f):QR(i,c,f,l)}switch(a){case"input":AO(i,s);break;case"textarea":G7(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?ap(i,!!s.multiple,h,!1):d!==!!s.multiple&&(s.defaultValue!=null?ap(i,!!s.multiple,s.defaultValue,!0):ap(i,!!s.multiple,s.multiple?[]:"",!1))}i[uy]=s}catch(m){Tr(e,e.return,m)}}break;case 6:if(na(t,e),ka(e),r&4){if(e.stateNode===null)throw Error(Re(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(m){Tr(e,e.return,m)}}break;case 3:if(na(t,e),ka(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ry(t.containerInfo)}catch(m){Tr(e,e.return,m)}break;case 4:na(t,e),ka(e);break;case 13:na(t,e),ka(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(ON=kr())),r&4&&sM(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Wi=(l=Wi)||c,na(t,e),Wi=l):na(t,e),ka(e),r&8192){if(l=e.memoizedState!==null,(e.stateNode.isHidden=l)&&!c&&e.mode&1)for(ze=e,c=e.child;c!==null;){for(f=ze=c;ze!==null;){switch(d=ze,h=d.child,d.tag){case 0:case 11:case 14:case 15:bg(4,d,d.return);break;case 1:qh(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(m){Tr(r,n,m)}}break;case 5:qh(d,d.return);break;case 22:if(d.memoizedState!==null){aM(f);continue}}h!==null?(h.return=d,ze=h):aM(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,l?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=Q7("display",o))}catch(m){Tr(e,e.return,m)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(m){Tr(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:na(t,e),ka(e),r&4&&sM(e);break;case 21:break;default:na(t,e),ka(e)}}function ka(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(TH(n)){var r=n;break e}n=n.return}throw Error(Re(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Zg(i,""),r.flags&=-33);var s=iM(e);lP(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=iM(e);uP(e,a,o);break;default:throw Error(Re(161))}}catch(u){Tr(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function fce(e,t,n){ze=e,xH(e)}function xH(e,t,n){for(var r=(e.mode&1)!==0;ze!==null;){var i=ze,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||kv;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||Wi;a=kv;var l=Wi;if(kv=o,(Wi=u)&&!l)for(ze=i;ze!==null;)o=ze,u=o.child,o.tag===22&&o.memoizedState!==null?uM(i):u!==null?(u.return=o,ze=u):uM(i);for(;s!==null;)ze=s,xH(s),s=s.sibling;ze=i,kv=a,Wi=l}oM(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ze=s):oM(e)}}function oM(e){for(;ze!==null;){var t=ze;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Wi||dS(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Wi)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ua(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&zL(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}zL(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var l=t.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&ry(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Re(163))}Wi||t.flags&512&&aP(t)}catch(d){Tr(t,t.return,d)}}if(t===e){ze=null;break}if(n=t.sibling,n!==null){n.return=t.return,ze=n;break}ze=t.return}}function aM(e){for(;ze!==null;){var t=ze;if(t===e){ze=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ze=n;break}ze=t.return}}function uM(e){for(;ze!==null;){var t=ze;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{dS(4,t)}catch(u){Tr(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(u){Tr(t,i,u)}}var s=t.return;try{aP(t)}catch(u){Tr(t,s,u)}break;case 5:var o=t.return;try{aP(t)}catch(u){Tr(t,o,u)}}}catch(u){Tr(t,t.return,u)}if(t===e){ze=null;break}var a=t.sibling;if(a!==null){a.return=t.return,ze=a;break}ze=t.return}}var dce=Math.ceil,Hb=Bl.ReactCurrentDispatcher,CN=Bl.ReactCurrentOwner,jo=Bl.ReactCurrentBatchConfig,hn=0,di=null,Vr=null,Ri=0,Xs=0,Gh=gf(0),Xr=0,py=null,Ad=0,hS=0,AN=0,Eg=null,Cs=null,ON=0,Vp=1/0,ju=null,Wb=!1,cP=null,Nc=null,Dv=!1,wc=null,qb=0,wg=0,fP=null,H1=-1,W1=0;function ls(){return hn&6?kr():H1!==-1?H1:H1=kr()}function kc(e){return e.mode&1?hn&2&&Ri!==0?Ri&-Ri:Kle.transition!==null?(W1===0&&(W1=lz()),W1):(e=Rn,e!==0||(e=window.event,e=e===void 0?16:gz(e.type)),e):1}function ba(e,t,n,r){if(50<wg)throw wg=0,fP=null,Error(Re(185));h_(e,n,r),(!(hn&2)||e!==di)&&(e===di&&(!(hn&2)&&(hS|=n),Xr===4&&hc(e,Ri)),Fs(e,r),n===1&&hn===0&&!(t.mode&1)&&(Vp=kr()+500,lS&&yf()))}function Fs(e,t){var n=e.callbackNode;Kue(e,t);var r=Ob(e,e===di?Ri:0);if(r===0)n!==null&&yL(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&yL(n),t===1)e.tag===0?Yle(lM.bind(null,e)):$z(lM.bind(null,e)),Hle(function(){!(hn&6)&&yf()}),n=null;else{switch(cz(r)){case 1:n=tN;break;case 4:n=az;break;case 16:n=Ab;break;case 536870912:n=uz;break;default:n=Ab}n=DH(n,CH.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function CH(e,t){if(H1=-1,W1=0,hn&6)throw Error(Re(327));var n=e.callbackNode;if(dp()&&e.callbackNode!==n)return null;var r=Ob(e,e===di?Ri:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Gb(e,r);else{t=r;var i=hn;hn|=2;var s=OH();(di!==e||Ri!==t)&&(ju=null,Vp=kr()+500,hd(e,t));do try{mce();break}catch(a){AH(e,a)}while(!0);pN(),Hb.current=s,hn=i,Vr!==null?t=0:(di=null,Ri=0,t=Xr)}if(t!==0){if(t===2&&(i=FO(e),i!==0&&(r=i,t=dP(e,i))),t===1)throw n=py,hd(e,0),hc(e,r),Fs(e,kr()),n;if(t===6)hc(e,r);else{if(i=e.current.alternate,!(r&30)&&!hce(i)&&(t=Gb(e,r),t===2&&(s=FO(e),s!==0&&(r=s,t=dP(e,s))),t===1))throw n=py,hd(e,0),hc(e,r),Fs(e,kr()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Re(345));case 2:Df(e,Cs,ju);break;case 3:if(hc(e,r),(r&130023424)===r&&(t=ON+500-kr(),10<t)){if(Ob(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){ls(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=qO(Df.bind(null,e,Cs,ju),t);break}Df(e,Cs,ju);break;case 4:if(hc(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-va(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=kr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*dce(r/1960))-r,10<r){e.timeoutHandle=qO(Df.bind(null,e,Cs,ju),r);break}Df(e,Cs,ju);break;case 5:Df(e,Cs,ju);break;default:throw Error(Re(329))}}}return Fs(e,kr()),e.callbackNode===n?CH.bind(null,e):null}function dP(e,t){var n=Eg;return e.current.memoizedState.isDehydrated&&(hd(e,t).flags|=256),e=Gb(e,t),e!==2&&(t=Cs,Cs=n,t!==null&&hP(t)),e}function hP(e){Cs===null?Cs=e:Cs.push.apply(Cs,e)}function hce(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Sa(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function hc(e,t){for(t&=~AN,t&=~hS,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-va(t),r=1<<n;e[n]=-1,t&=~r}}function lM(e){if(hn&6)throw Error(Re(327));dp();var t=Ob(e,0);if(!(t&1))return Fs(e,kr()),null;var n=Gb(e,t);if(e.tag!==0&&n===2){var r=FO(e);r!==0&&(t=r,n=dP(e,r))}if(n===1)throw n=py,hd(e,0),hc(e,t),Fs(e,kr()),n;if(n===6)throw Error(Re(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Df(e,Cs,ju),Fs(e,kr()),null}function PN(e,t){var n=hn;hn|=1;try{return e(t)}finally{hn=n,hn===0&&(Vp=kr()+500,lS&&yf())}}function Od(e){wc!==null&&wc.tag===0&&!(hn&6)&&dp();var t=hn;hn|=1;var n=jo.transition,r=Rn;try{if(jo.transition=null,Rn=1,e)return e()}finally{Rn=r,jo.transition=n,hn=t,!(hn&6)&&yf()}}function RN(){Xs=Gh.current,Zn(Gh)}function hd(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,zle(n)),Vr!==null)for(n=Vr.return;n!==null;){var r=n;switch(fN(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Db();break;case 3:jp(),Zn(Ls),Zn(Qi),bN();break;case 5:vN(r);break;case 4:jp();break;case 13:Zn(mr);break;case 19:Zn(mr);break;case 10:mN(r.type._context);break;case 22:case 23:RN()}n=n.return}if(di=e,Vr=e=Dc(e.current,null),Ri=Xs=t,Xr=0,py=null,AN=hS=Ad=0,Cs=Eg=null,Qf!==null){for(t=0;t<Qf.length;t++)if(n=Qf[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Qf=null}return e}function AH(e,t){do{var n=Vr;try{if(pN(),U1.current=zb,Vb){for(var r=gr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Vb=!1}if(Cd=0,li=Gr=gr=null,vg=!1,fy=0,CN.current=null,n===null||n.return===null){Xr=1,py=t,Vr=null;break}e:{var s=e,o=n.return,a=n,u=t;if(t=Ri,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=QL(o);if(h!==null){h.flags&=-257,XL(h,o,a,s,t),h.mode&1&&KL(s,l,t),t=h,u=l;var p=t.updateQueue;if(p===null){var m=new Set;m.add(u),t.updateQueue=m}else p.add(u);break e}else{if(!(t&1)){KL(s,l,t),NN();break e}u=Error(Re(426))}}else if(ar&&a.mode&1){var y=QL(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),XL(y,o,a,s,t),dN(Up(u,a));break e}}s=u=Up(u,a),Xr!==4&&(Xr=2),Eg===null?Eg=[s]:Eg.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var g=fH(s,u,t);VL(s,g);break e;case 1:a=u;var _=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Nc===null||!Nc.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t;var T=dH(s,a,t);VL(s,T);break e}}s=s.return}while(s!==null)}RH(n)}catch(I){t=I,Vr===n&&n!==null&&(Vr=n=n.return);continue}break}while(!0)}function OH(){var e=Hb.current;return Hb.current=zb,e===null?zb:e}function NN(){(Xr===0||Xr===3||Xr===2)&&(Xr=4),di===null||!(Ad&268435455)&&!(hS&268435455)||hc(di,Ri)}function Gb(e,t){var n=hn;hn|=2;var r=OH();(di!==e||Ri!==t)&&(ju=null,hd(e,t));do try{pce();break}catch(i){AH(e,i)}while(!0);if(pN(),hn=n,Hb.current=r,Vr!==null)throw Error(Re(261));return di=null,Ri=0,Xr}function pce(){for(;Vr!==null;)PH(Vr)}function mce(){for(;Vr!==null&&!jue();)PH(Vr)}function PH(e){var t=kH(e.alternate,e,Xs);e.memoizedProps=e.pendingProps,t===null?RH(e):Vr=t,CN.current=null}function RH(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=uce(n,t),n!==null){n.flags&=32767,Vr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Xr=6,Vr=null;return}}else if(n=ace(n,t,Xs),n!==null){Vr=n;return}if(t=t.sibling,t!==null){Vr=t;return}Vr=t=e}while(t!==null);Xr===0&&(Xr=5)}function Df(e,t,n){var r=Rn,i=jo.transition;try{jo.transition=null,Rn=1,gce(e,t,n,r)}finally{jo.transition=i,Rn=r}return null}function gce(e,t,n,r){do dp();while(wc!==null);if(hn&6)throw Error(Re(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Re(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(Que(e,s),e===di&&(Vr=di=null,Ri=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Dv||(Dv=!0,DH(Ab,function(){return dp(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=jo.transition,jo.transition=null;var o=Rn;Rn=1;var a=hn;hn|=4,CN.current=null,cce(e,n),IH(n,e),Lle(HO),Pb=!!zO,HO=zO=null,e.current=n,fce(n),Uue(),hn=a,Rn=o,jo.transition=s}else e.current=n;if(Dv&&(Dv=!1,wc=e,qb=i),s=e.pendingLanes,s===0&&(Nc=null),Hue(n.stateNode),Fs(e,kr()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wb)throw Wb=!1,e=cP,cP=null,e;return qb&1&&e.tag!==0&&dp(),s=e.pendingLanes,s&1?e===fP?wg++:(wg=0,fP=e):wg=0,yf(),null}function dp(){if(wc!==null){var e=cz(qb),t=jo.transition,n=Rn;try{if(jo.transition=null,Rn=16>e?16:e,wc===null)var r=!1;else{if(e=wc,wc=null,qb=0,hn&6)throw Error(Re(331));var i=hn;for(hn|=4,ze=e.current;ze!==null;){var s=ze,o=s.child;if(ze.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var l=a[u];for(ze=l;ze!==null;){var c=ze;switch(c.tag){case 0:case 11:case 15:bg(8,c,s)}var f=c.child;if(f!==null)f.return=c,ze=f;else for(;ze!==null;){c=ze;var d=c.sibling,h=c.return;if(wH(c),c===l){ze=null;break}if(d!==null){d.return=h,ze=d;break}ze=h}}}var p=s.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(m!==null)}}ze=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ze=o;else e:for(;ze!==null;){if(s=ze,s.flags&2048)switch(s.tag){case 0:case 11:case 15:bg(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,ze=g;break e}ze=s.return}}var _=e.current;for(ze=_;ze!==null;){o=ze;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,ze=b;else e:for(o=_;ze!==null;){if(a=ze,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:dS(9,a)}}catch(I){Tr(a,a.return,I)}if(a===o){ze=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,ze=T;break e}ze=a.return}}if(hn=i,yf(),uu&&typeof uu.onPostCommitFiberRoot=="function")try{uu.onPostCommitFiberRoot(iS,e)}catch{}r=!0}return r}finally{Rn=n,jo.transition=t}}return!1}function cM(e,t,n){t=Up(n,t),t=fH(e,t,1),e=Rc(e,t,1),t=ls(),e!==null&&(h_(e,1,t),Fs(e,t))}function Tr(e,t,n){if(e.tag===3)cM(e,e,n);else for(;t!==null;){if(t.tag===3){cM(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Nc===null||!Nc.has(r))){e=Up(n,e),e=dH(t,e,1),t=Rc(t,e,1),e=ls(),t!==null&&(h_(t,1,e),Fs(t,e));break}}t=t.return}}function yce(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ls(),e.pingedLanes|=e.suspendedLanes&n,di===e&&(Ri&n)===n&&(Xr===4||Xr===3&&(Ri&130023424)===Ri&&500>kr()-ON?hd(e,0):AN|=n),Fs(e,t)}function NH(e,t){t===0&&(e.mode&1?(t=Sv,Sv<<=1,!(Sv&130023424)&&(Sv=4194304)):t=1);var n=ls();e=vl(e,t),e!==null&&(h_(e,t,n),Fs(e,n))}function _ce(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),NH(e,n)}function vce(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Re(314))}r!==null&&r.delete(t),NH(e,n)}var kH;kH=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ls.current)Ns=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ns=!1,oce(e,t,n);Ns=!!(e.flags&131072)}else Ns=!1,ar&&t.flags&1048576&&Lz(t,Mb,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;z1(e,t),e=t.pendingProps;var i=Mp(t,Qi.current);fp(t,n),i=wN(null,t,r,e,i,n);var s=TN();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ms(r)?(s=!0,$b(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,yN(t),i.updater=cS,t.stateNode=i,i._reactInternals=t,ZO(t,r,e,n),t=nP(null,t,r,!0,s,n)):(t.tag=0,ar&&s&&cN(t),os(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(z1(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Ece(r),e=ua(r,e),i){case 0:t=tP(null,t,r,e,n);break e;case 1:t=eM(null,t,r,e,n);break e;case 11:t=JL(null,t,r,e,n);break e;case 14:t=ZL(null,t,r,ua(r.type,e),n);break e}throw Error(Re(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ua(r,i),tP(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ua(r,i),eM(e,t,r,i,n);case 3:e:{if(gH(t),e===null)throw Error(Re(387));r=t.pendingProps,s=t.memoizedState,i=s.element,jz(e,t),jb(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Up(Error(Re(423)),t),t=tM(e,t,r,n,i);break e}else if(r!==i){i=Up(Error(Re(424)),t),t=tM(e,t,r,n,i);break e}else for(ro=Pc(t.stateNode.containerInfo.firstChild),oo=t,ar=!0,fa=null,n=Hz(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Fp(),r===i){t=bl(e,t,n);break e}os(e,t,r,n)}t=t.child}return t;case 5:return Wz(t),e===null&&QO(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,WO(r,i)?o=null:s!==null&&WO(r,s)&&(t.flags|=32),mH(e,t),os(e,t,o,n),t.child;case 6:return e===null&&QO(t),null;case 13:return yH(e,t,n);case 4:return _N(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Bp(t,null,r,n):os(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ua(r,i),JL(e,t,r,i,n);case 7:return os(e,t,t.pendingProps,n),t.child;case 8:return os(e,t,t.pendingProps.children,n),t.child;case 12:return os(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,qn(Fb,r._currentValue),r._currentValue=o,s!==null)if(Sa(s.value,o)){if(s.children===i.children&&!Ls.current){t=bl(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=ol(-1,n&-n),u.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?u.next=u:(u.next=c.next,c.next=u),l.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),XO(s.return,n,t),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Re(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),XO(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}os(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,fp(t,n),i=Vo(i),r=r(i),t.flags|=1,os(e,t,r,n),t.child;case 14:return r=t.type,i=ua(r,t.pendingProps),i=ua(r.type,i),ZL(e,t,r,i,n);case 15:return hH(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ua(r,i),z1(e,t),t.tag=1,Ms(r)?(e=!0,$b(t)):e=!1,fp(t,n),Vz(t,r,i),ZO(t,r,i,n),nP(null,t,r,!0,e,n);case 19:return _H(e,t,n);case 22:return pH(e,t,n)}throw Error(Re(156,t.tag))};function DH(e,t){return oz(e,t)}function bce(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fo(e,t,n,r){return new bce(e,t,n,r)}function kN(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ece(e){if(typeof e=="function")return kN(e)?1:0;if(e!=null){if(e=e.$$typeof,e===JR)return 11;if(e===ZR)return 14}return 2}function Dc(e,t){var n=e.alternate;return n===null?(n=Fo(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function q1(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")kN(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Mh:return pd(n.children,i,s,t);case XR:o=8,i|=8;break;case TO:return e=Fo(12,n,t,i|2),e.elementType=TO,e.lanes=s,e;case SO:return e=Fo(13,n,t,i),e.elementType=SO,e.lanes=s,e;case IO:return e=Fo(19,n,t,i),e.elementType=IO,e.lanes=s,e;case z7:return pS(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case U7:o=10;break e;case V7:o=9;break e;case JR:o=11;break e;case ZR:o=14;break e;case oc:o=16,r=null;break e}throw Error(Re(130,e==null?e:typeof e,""))}return t=Fo(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function pd(e,t,n,r){return e=Fo(7,e,r,t),e.lanes=n,e}function pS(e,t,n,r){return e=Fo(22,e,r,t),e.elementType=z7,e.lanes=n,e.stateNode={isHidden:!1},e}function fC(e,t,n){return e=Fo(6,e,null,t),e.lanes=n,e}function dC(e,t,n){return t=Fo(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function wce(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qx(0),this.expirationTimes=qx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qx(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function DN(e,t,n,r,i,s,o,a,u){return e=new wce(e,t,n,a,u),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Fo(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},yN(s),e}function Tce(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Lh,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function $H(e){if(!e)return Kc;e=e._reactInternals;e:{if(Gd(e)!==e||e.tag!==1)throw Error(Re(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ms(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Re(171))}if(e.tag===1){var n=e.type;if(Ms(n))return Dz(e,n,t)}return t}function LH(e,t,n,r,i,s,o,a,u){return e=DN(n,r,!0,e,i,s,o,a,u),e.context=$H(null),n=e.current,r=ls(),i=kc(n),s=ol(r,i),s.callback=t??null,Rc(n,s,i),e.current.lanes=i,h_(e,i,r),Fs(e,r),e}function mS(e,t,n,r){var i=t.current,s=ls(),o=kc(i);return n=$H(n),t.context===null?t.context=n:t.pendingContext=n,t=ol(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Rc(i,t,o),e!==null&&(ba(e,i,o,s),j1(e,i,o)),o}function Yb(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function fM(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function $N(e,t){fM(e,t),(e=e.alternate)&&fM(e,t)}function Sce(){return null}var MH=typeof reportError=="function"?reportError:function(e){console.error(e)};function LN(e){this._internalRoot=e}gS.prototype.render=LN.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Re(409));mS(e,t,null,null)};gS.prototype.unmount=LN.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Od(function(){mS(null,e,null,null)}),t[_l]=null}};function gS(e){this._internalRoot=e}gS.prototype.unstable_scheduleHydration=function(e){if(e){var t=hz();e={blockedOn:null,target:e,priority:t};for(var n=0;n<dc.length&&t!==0&&t<dc[n].priority;n++);dc.splice(n,0,e),n===0&&mz(e)}};function MN(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function yS(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function dM(){}function Ice(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var l=Yb(o);s.call(l)}}var o=LH(t,r,e,0,null,!1,!1,"",dM);return e._reactRootContainer=o,e[_l]=o.current,oy(e.nodeType===8?e.parentNode:e),Od(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var l=Yb(u);a.call(l)}}var u=DN(e,0,!1,null,null,!1,!1,"",dM);return e._reactRootContainer=u,e[_l]=u.current,oy(e.nodeType===8?e.parentNode:e),Od(function(){mS(t,u,n,r)}),u}function _S(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=Yb(o);a.call(u)}}mS(t,o,e,i)}else o=Ice(n,t,e,i,r);return Yb(o)}fz=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Q0(t.pendingLanes);n!==0&&(nN(t,n|1),Fs(t,kr()),!(hn&6)&&(Vp=kr()+500,yf()))}break;case 13:Od(function(){var r=vl(e,1);if(r!==null){var i=ls();ba(r,e,1,i)}}),$N(e,1)}};rN=function(e){if(e.tag===13){var t=vl(e,134217728);if(t!==null){var n=ls();ba(t,e,134217728,n)}$N(e,134217728)}};dz=function(e){if(e.tag===13){var t=kc(e),n=vl(e,t);if(n!==null){var r=ls();ba(n,e,t,r)}$N(e,t)}};hz=function(){return Rn};pz=function(e,t){var n=Rn;try{return Rn=e,t()}finally{Rn=n}};$O=function(e,t,n){switch(t){case"input":if(AO(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=uS(r);if(!i)throw Error(Re(90));W7(r),AO(r,i)}}}break;case"textarea":G7(e,n);break;case"select":t=n.value,t!=null&&ap(e,!!n.multiple,t,!1)}};ez=PN;tz=Od;var xce={usingClientEntryPoint:!1,Events:[m_,Uh,uS,J7,Z7,PN]},b0={findFiberByHostInstance:Kf,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Cce={bundleType:b0.bundleType,version:b0.version,rendererPackageName:b0.rendererPackageName,rendererConfig:b0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bl.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=iz(e),e===null?null:e.stateNode},findFiberByHostInstance:b0.findFiberByHostInstance||Sce,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $v=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$v.isDisabled&&$v.supportsFiber)try{iS=$v.inject(Cce),uu=$v}catch{}}_o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xce;_o.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!MN(t))throw Error(Re(200));return Tce(e,t,null,n)};_o.createRoot=function(e,t){if(!MN(e))throw Error(Re(299));var n=!1,r="",i=MH;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=DN(e,1,!1,null,null,n,!1,r,i),e[_l]=t.current,oy(e.nodeType===8?e.parentNode:e),new LN(t)};_o.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Re(188)):(e=Object.keys(e).join(","),Error(Re(268,e)));return e=iz(t),e=e===null?null:e.stateNode,e};_o.flushSync=function(e){return Od(e)};_o.hydrate=function(e,t,n){if(!yS(t))throw Error(Re(200));return _S(null,e,t,!0,n)};_o.hydrateRoot=function(e,t,n){if(!MN(e))throw Error(Re(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=MH;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=LH(t,null,e,1,n??null,i,!1,s,o),e[_l]=t.current,oy(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new gS(t)};_o.render=function(e,t,n){if(!yS(t))throw Error(Re(200));return _S(null,e,t,!1,n)};_o.unmountComponentAtNode=function(e){if(!yS(e))throw Error(Re(40));return e._reactRootContainer?(Od(function(){_S(null,null,e,!1,function(){e._reactRootContainer=null,e[_l]=null})}),!0):!1};_o.unstable_batchedUpdates=PN;_o.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!yS(n))throw Error(Re(200));if(e==null||e._reactInternals===void 0)throw Error(Re(38));return _S(e,t,n,!1,r)};_o.version="18.2.0-next-9e3b772b8-20220608";function FH(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(FH)}catch(e){console.error(e)}}FH(),L7.exports=_o;var y_=L7.exports,hM=y_;EO.createRoot=hM.createRoot,EO.hydrateRoot=hM.hydrateRoot;const BH=w.createContext({storageEngine:void 0,setStorageEngine:()=>{}}),_f=()=>w.useContext(BH),Ace=({children:e})=>{const[t,n]=k.useState(void 0),r=k.useMemo(()=>({storageEngine:t,setStorageEngine:n}),[t]);return $.jsx(BH.Provider,{value:r,children:e})};/**
 * @remix-run/router v1.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function my(){return my=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},my.apply(this,arguments)}var Tc;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Tc||(Tc={}));const pM="popstate";function Oce(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return pP("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:jH(i)}return Rce(t,n,null,e)}function zr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function FN(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Pce(){return Math.random().toString(36).substr(2,8)}function mM(e,t){return{usr:e.state,key:e.key,idx:t}}function pP(e,t,n,r){return n===void 0&&(n=null),my({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Am(t):t,{state:n,key:t&&t.key||r||Pce()})}function jH(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Am(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Rce(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Tc.Pop,u=null,l=c();l==null&&(l=0,o.replaceState(my({},o.state,{idx:l}),""));function c(){return(o.state||{idx:null}).idx}function f(){a=Tc.Pop;let y=c(),g=y==null?null:y-l;l=y,u&&u({action:a,location:m.location,delta:g})}function d(y,g){a=Tc.Push;let _=pP(m.location,y,g);n&&n(_,y),l=c()+1;let b=mM(_,l),T=m.createHref(_);try{o.pushState(b,"",T)}catch{i.location.assign(T)}s&&u&&u({action:a,location:m.location,delta:1})}function h(y,g){a=Tc.Replace;let _=pP(m.location,y,g);n&&n(_,y),l=c();let b=mM(_,l),T=m.createHref(_);o.replaceState(b,"",T),s&&u&&u({action:a,location:m.location,delta:0})}function p(y){let g=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof y=="string"?y:jH(y);return zr(g,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,g)}let m={get action(){return a},get location(){return e(i,o)},listen(y){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(pM,f),u=y,()=>{i.removeEventListener(pM,f),u=null}},createHref(y){return t(i,y)},createURL:p,encodeLocation(y){let g=p(y);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:d,replace:h,go(y){return o.go(y)}};return m}var gM;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(gM||(gM={}));function Nce(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?Am(t):t,i=zH(r.pathname||"/",n);if(i==null)return null;let s=UH(e);kce(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=Vce(s[a],Wce(i));return o}function UH(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(zr(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let l=$c([r,u.relativePath]),c=n.concat(u);s.children&&s.children.length>0&&(zr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),UH(s.children,t,c,l)),!(s.path==null&&!s.index)&&t.push({path:l,score:jce(l,s.index),routesMeta:c})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let u of VH(s.path))i(s,o,u)}),t}function VH(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=VH(r.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>e.startsWith("/")&&u===""?"/":u)}function kce(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Uce(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Dce=/^:\w+$/,$ce=3,Lce=2,Mce=1,Fce=10,Bce=-2,yM=e=>e==="*";function jce(e,t){let n=e.split("/"),r=n.length;return n.some(yM)&&(r+=Bce),t&&(r+=Lce),n.filter(i=>!yM(i)).reduce((i,s)=>i+(Dce.test(s)?$ce:s===""?Mce:Fce),r)}function Uce(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function Vce(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],u=o===n.length-1,l=i==="/"?t:t.slice(i.length)||"/",c=zce({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},l);if(!c)return null;Object.assign(r,c.params);let f=a.route;s.push({params:r,pathname:$c([i,c.pathname]),pathnameBase:Kce($c([i,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(i=$c([i,c.pathnameBase]))}return s}function zce(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Hce(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((l,c,f)=>{if(c==="*"){let d=a[f]||"";o=s.slice(0,s.length-d.length).replace(/(.)\/+$/,"$1")}return l[c]=qce(a[f]||"",c),l},{}),pathname:s,pathnameBase:o,pattern:e}}function Hce(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),FN(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return e.endsWith("*")?(r.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function Wce(e){try{return decodeURI(e)}catch(t){return FN(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function qce(e,t){try{return decodeURIComponent(e)}catch(n){return FN(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function zH(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Gce(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Am(e):e;return{pathname:n?n.startsWith("/")?n:Yce(n,t):t,search:Qce(r),hash:Xce(i)}}function Yce(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function hC(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function HH(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function WH(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Am(e):(i=my({},e),zr(!i.pathname||!i.pathname.includes("?"),hC("?","pathname","search",i)),zr(!i.pathname||!i.pathname.includes("#"),hC("#","pathname","hash",i)),zr(!i.search||!i.search.includes("#"),hC("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let f=t.length-1;if(o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}a=f>=0?t[f]:"/"}let u=Gce(i,a),l=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(l||c)&&(u.pathname+="/"),u}const $c=e=>e.join("/").replace(/\/\/+/g,"/"),Kce=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Qce=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Xce=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Jce(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const qH=["post","put","patch","delete"];new Set(qH);const Zce=["get",...qH];new Set(Zce);/**
 * React Router v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function efe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const tfe=typeof Object.is=="function"?Object.is:efe,{useState:nfe,useEffect:rfe,useLayoutEffect:ife,useDebugValue:sfe}=Sd;function ofe(e,t,n){const r=t(),[{inst:i},s]=nfe({inst:{value:r,getSnapshot:t}});return ife(()=>{i.value=r,i.getSnapshot=t,pC(i)&&s({inst:i})},[e,r,t]),rfe(()=>(pC(i)&&s({inst:i}),e(()=>{pC(i)&&s({inst:i})})),[e]),sfe(r),r}function pC(e){const t=e.getSnapshot,n=e.value;try{const r=t();return!tfe(n,r)}catch{return!0}}function afe(e,t,n){return t()}const ufe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lfe=!ufe,cfe=lfe?afe:ofe;"useSyncExternalStore"in Sd&&(e=>e.useSyncExternalStore)(Sd);const GH=w.createContext(null),BN=w.createContext(null),vS=w.createContext(null),bS=w.createContext(null),vf=w.createContext({outlet:null,matches:[]}),YH=w.createContext(null);function mP(){return mP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mP.apply(this,arguments)}function ffe(e,t){let{relative:n}=t===void 0?{}:t;Om()||zr(!1);let{basename:r,navigator:i}=w.useContext(vS),{hash:s,pathname:o,search:a}=pfe(e,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:$c([r,o])),i.createHref({pathname:u,search:a,hash:s})}function Om(){return w.useContext(bS)!=null}function Pm(){return Om()||zr(!1),w.useContext(bS).location}function Yd(){Om()||zr(!1);let{basename:e,navigator:t}=w.useContext(vS),{matches:n}=w.useContext(vf),{pathname:r}=Pm(),i=JSON.stringify(HH(n).map(a=>a.pathnameBase)),s=w.useRef(!1);return w.useEffect(()=>{s.current=!0}),w.useCallback(function(a,u){if(u===void 0&&(u={}),!s.current)return;if(typeof a=="number"){t.go(a);return}let l=WH(a,JSON.parse(i),r,u.relative==="path");e!=="/"&&(l.pathname=l.pathname==="/"?e:$c([e,l.pathname])),(u.replace?t.replace:t.push)(l,u.state,u)},[e,t,i,r])}const dfe=w.createContext(null);function hfe(e){let t=w.useContext(vf).outlet;return t&&w.createElement(dfe.Provider,{value:e},t)}function jN(){let{matches:e}=w.useContext(vf),t=e[e.length-1];return t?t.params:{}}function pfe(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=w.useContext(vf),{pathname:i}=Pm(),s=JSON.stringify(HH(r).map(o=>o.pathnameBase));return w.useMemo(()=>WH(e,JSON.parse(s),i,n==="path"),[e,s,i,n])}function KH(e,t){Om()||zr(!1);let{navigator:n}=w.useContext(vS),r=w.useContext(BN),{matches:i}=w.useContext(vf),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let u=Pm(),l;if(t){var c;let m=typeof t=="string"?Am(t):t;a==="/"||(c=m.pathname)!=null&&c.startsWith(a)||zr(!1),l=m}else l=u;let f=l.pathname||"/",d=a==="/"?f:f.slice(a.length)||"/",h=Nce(e,{pathname:d}),p=_fe(h&&h.map(m=>Object.assign({},m,{params:Object.assign({},o,m.params),pathname:$c([a,n.encodeLocation?n.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?a:$c([a,n.encodeLocation?n.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),i,r||void 0);return t&&p?w.createElement(bS.Provider,{value:{location:mP({pathname:"/",search:"",hash:"",state:null,key:"default"},l),navigationType:Tc.Pop}},p):p}function mfe(){let e=wfe(),t=Jce(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),n?w.createElement("pre",{style:i},n):null,s)}class gfe extends w.Component{constructor(t){super(t),this.state={location:t.location,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location?{error:t.error,location:t.location}:{error:t.error||n.error,location:n.location}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?w.createElement(vf.Provider,{value:this.props.routeContext},w.createElement(YH.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function yfe(e){let{routeContext:t,match:n,children:r}=e,i=w.useContext(GH);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(vf.Provider,{value:t},r)}function _fe(e,t,n){if(t===void 0&&(t=[]),e==null)if(n!=null&&n.errors)e=n.matches;else return null;let r=e,i=n==null?void 0:n.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));s>=0||zr(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,a)=>{let u=o.route.id?i==null?void 0:i[o.route.id]:null,l=null;n&&(o.route.ErrorBoundary?l=w.createElement(o.route.ErrorBoundary,null):o.route.errorElement?l=o.route.errorElement:l=w.createElement(mfe,null));let c=t.concat(r.slice(0,a+1)),f=()=>{let d=s;return u?d=l:o.route.Component?d=w.createElement(o.route.Component,null):o.route.element&&(d=o.route.element),w.createElement(yfe,{match:o,routeContext:{outlet:s,matches:c},children:d})};return n&&(o.route.ErrorBoundary||o.route.errorElement||a===0)?w.createElement(gfe,{location:n.location,component:l,error:u,children:f(),routeContext:{outlet:null,matches:c}}):f()},null)}var _M;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"})(_M||(_M={}));var Kb;(function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"})(Kb||(Kb={}));function vfe(e){let t=w.useContext(BN);return t||zr(!1),t}function bfe(e){let t=w.useContext(vf);return t||zr(!1),t}function Efe(e){let t=bfe(),n=t.matches[t.matches.length-1];return n.route.id||zr(!1),n.route.id}function wfe(){var e;let t=w.useContext(YH),n=vfe(Kb.UseRouteError),r=Efe(Kb.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function Tfe(e){let{to:t,replace:n,state:r,relative:i}=e;Om()||zr(!1);let s=w.useContext(BN),o=Yd();return w.useEffect(()=>{s&&s.navigation.state!=="idle"||o(t,{replace:n,state:r,relative:i})}),null}function Sfe(e){return hfe(e.context)}function gP(e){zr(!1)}function Ife(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Tc.Pop,navigator:s,static:o=!1}=e;Om()&&zr(!1);let a=t.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=Am(r));let{pathname:l="/",search:c="",hash:f="",state:d=null,key:h="default"}=r,p=w.useMemo(()=>{let m=zH(l,a);return m==null?null:{location:{pathname:m,search:c,hash:f,state:d,key:h},navigationType:i}},[a,l,c,f,d,h,i]);return p==null?null:w.createElement(vS.Provider,{value:u},w.createElement(bS.Provider,{children:n,value:p}))}function xfe(e){let{children:t,location:n}=e,r=w.useContext(GH),i=r&&!t?r.router.routes:yP(t);return KH(i,n)}var vM;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(vM||(vM={}));new Promise(()=>{});function yP(e,t){t===void 0&&(t=[]);let n=[];return w.Children.forEach(e,(r,i)=>{if(!w.isValidElement(r))return;let s=[...t,i];if(r.type===w.Fragment){n.push.apply(n,yP(r.props.children,s));return}r.type!==gP&&zr(!1),!r.props.index||!r.props.children||zr(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=yP(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _P(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function Cfe(e,t){let n=_P(e);if(t)for(let r of t.keys())n.has(r)||t.getAll(r).forEach(i=>{n.append(r,i)});return n}function Afe(e){let{basename:t,children:n,window:r}=e,i=w.useRef();i.current==null&&(i.current=Oce({window:r,v5Compat:!0}));let s=i.current,[o,a]=w.useState({action:s.action,location:s.location});return w.useLayoutEffect(()=>s.listen(a),[s]),w.createElement(Ife,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:s})}var bM;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(bM||(bM={}));var EM;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(EM||(EM={}));function QH(e){let t=w.useRef(_P(e)),n=w.useRef(!1),r=Pm(),i=w.useMemo(()=>Cfe(r.search,n.current?null:t.current),[r.search]),s=Yd(),o=w.useCallback((a,u)=>{const l=_P(typeof a=="function"?a(i):a);n.current=!0,s("?"+l,u)},[s,i]);return[i,o]}function Qb(e,t){let n=e;for(;(n=n.parentElement)&&!n.matches(t););return n}function Ofe(e,t,n){for(let r=e-1;r>=0;r-=1)if(!t[r].disabled)return r;if(n){for(let r=t.length-1;r>-1;r-=1)if(!t[r].disabled)return r}return e}function Pfe(e,t,n){for(let r=e+1;r<t.length;r+=1)if(!t[r].disabled)return r;if(n){for(let r=0;r<t.length;r+=1)if(!t[r].disabled)return r}return e}function Rfe(e,t,n){return Qb(e,n)===Qb(t,n)}function Nfe({parentSelector:e,siblingSelector:t,onKeyDown:n,loop:r=!0,activateOnFocus:i=!1,dir:s="rtl",orientation:o}){return a=>{var u;n==null||n(a);const l=Array.from(((u=Qb(a.currentTarget,e))==null?void 0:u.querySelectorAll(t))||[]).filter(m=>Rfe(a.currentTarget,m,e)),c=l.findIndex(m=>a.currentTarget===m),f=Pfe(c,l,r),d=Ofe(c,l,r),h=s==="rtl"?d:f,p=s==="rtl"?f:d;switch(a.key){case"ArrowRight":{o==="horizontal"&&(a.stopPropagation(),a.preventDefault(),l[h].focus(),i&&l[h].click());break}case"ArrowLeft":{o==="horizontal"&&(a.stopPropagation(),a.preventDefault(),l[p].focus(),i&&l[p].click());break}case"ArrowUp":{o==="vertical"&&(a.stopPropagation(),a.preventDefault(),l[d].focus(),i&&l[d].click());break}case"ArrowDown":{o==="vertical"&&(a.stopPropagation(),a.preventDefault(),l[f].focus(),i&&l[f].click());break}case"Home":{a.stopPropagation(),a.preventDefault(),!l[0].disabled&&l[0].focus();break}case"End":{a.stopPropagation(),a.preventDefault();const m=l.length-1;!l[m].disabled&&l[m].focus();break}}}}function kfe(e,t,n){var r;return n?Array.from(((r=Qb(n,t))==null?void 0:r.querySelectorAll(e))||[]).findIndex(i=>i===n):null}function XH(e){const t=w.createContext(null);return[({children:i,value:s})=>k.createElement(t.Provider,{value:s},i),()=>{const i=w.useContext(t);if(i===null)throw new Error(e);return i}]}function Pd(e){return Array.isArray(e)?e:[e]}const Dfe=()=>{};function $fe(e,t={active:!0}){return typeof e!="function"||!t.active?t.onKeyDown||Dfe:n=>{var r;n.key==="Escape"&&(e(n),(r=t.onTrigger)==null||r.call(t))}}function Ju(e,t){return n=>{e==null||e(n),t==null||t(n)}}function Lfe(){const[e,t]=w.useState(-1);return[e,{setHovered:t,resetHovered:()=>t(-1)}]}function JH({data:e}){const t=[],n=[],r=e.reduce((i,s,o)=>(s.group?i[s.group]?i[s.group].push(o):i[s.group]=[o]:n.push(o),i),{});return Object.keys(r).forEach(i=>{t.push(...r[i].map(s=>e[s]))}),t.push(...n.map(i=>e[i])),t}function __(e){return Array.isArray(e)||e===null?!1:typeof e=="object"?e.type!==k.Fragment:!1}function ZH(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=ZH(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function eW(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=ZH(t))&&(r&&(r+=" "),r+=n);return r}const Mfe={dark:["#C1C2C5","#A6A7AB","#909296","#5c5f66","#373A40","#2C2E33","#25262b","#1A1B1E","#141517","#101113"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]};function Ffe(e){return()=>({fontFamily:e.fontFamily||"sans-serif"})}var Bfe=Object.defineProperty,wM=Object.getOwnPropertySymbols,jfe=Object.prototype.hasOwnProperty,Ufe=Object.prototype.propertyIsEnumerable,TM=(e,t,n)=>t in e?Bfe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,SM=(e,t)=>{for(var n in t||(t={}))jfe.call(t,n)&&TM(e,n,t[n]);if(wM)for(var n of wM(t))Ufe.call(t,n)&&TM(e,n,t[n]);return e};function Vfe(e){return t=>({WebkitTapHighlightColor:"transparent",[t||"&:focus"]:SM({},e.focusRing==="always"||e.focusRing==="auto"?e.focusRingStyles.styles(e):e.focusRingStyles.resetStyles(e)),[t?t.replace(":focus",":focus:not(:focus-visible)"):"&:focus:not(:focus-visible)"]:SM({},e.focusRing==="auto"||e.focusRing==="never"?e.focusRingStyles.resetStyles(e):null)})}function v_(e){return t=>typeof e.primaryShade=="number"?e.primaryShade:e.primaryShade[t||e.colorScheme]}function UN(e){const t=v_(e);return(n,r,i=!0,s=!0)=>{if(typeof n=="string"&&n.includes(".")){const[a,u]=n.split("."),l=parseInt(u,10);if(a in e.colors&&l>=0&&l<10)return e.colors[a][typeof r=="number"&&!s?r:l]}const o=typeof r=="number"?r:t();return n in e.colors?e.colors[n][o]:i?e.colors[e.primaryColor][o]:n}}function tW(e){let t="";for(let n=1;n<e.length-1;n+=1)t+=`${e[n]} ${n/(e.length-1)*100}%, `;return`${e[0]} 0%, ${t}${e[e.length-1]} 100%`}function zfe(e,...t){return`linear-gradient(${e}deg, ${tW(t)})`}function Hfe(...e){return`radial-gradient(circle, ${tW(e)})`}function nW(e){const t=UN(e),n=v_(e);return r=>{const i={from:(r==null?void 0:r.from)||e.defaultGradient.from,to:(r==null?void 0:r.to)||e.defaultGradient.to,deg:(r==null?void 0:r.deg)||e.defaultGradient.deg};return`linear-gradient(${i.deg}deg, ${t(i.from,n(),!1)} 0%, ${t(i.to,n(),!1)} 100%)`}}function VN(e){if(typeof e.size=="number")return e.size;const t=e.sizes[e.size];return t!==void 0?t:e.size||e.sizes.md}function Wfe(e){return t=>`@media (min-width: ${VN({size:t,sizes:e.breakpoints})}px)`}function qfe(e){return t=>`@media (max-width: ${VN({size:t,sizes:e.breakpoints})-1}px)`}function Gfe(e){return/^#?([0-9A-F]{3}){1,2}$/i.test(e)}function Yfe(e){let t=e.replace("#","");if(t.length===3){const o=t.split("");t=[o[0],o[0],o[1],o[1],o[2],o[2]].join("")}const n=parseInt(t,16),r=n>>16&255,i=n>>8&255,s=n&255;return{r,g:i,b:s,a:1}}function Kfe(e){const[t,n,r,i]=e.replace(/[^0-9,.]/g,"").split(",").map(Number);return{r:t,g:n,b:r,a:i||1}}function zN(e){return Gfe(e)?Yfe(e):e.startsWith("rgb")?Kfe(e):{r:0,g:0,b:0,a:1}}function xh(e,t){if(typeof e!="string"||t>1||t<0)return"rgba(0, 0, 0, 1)";const{r:n,g:r,b:i}=zN(e);return`rgba(${n}, ${r}, ${i}, ${t})`}function Qfe(e=0){return{position:"absolute",top:e,right:e,left:e,bottom:e}}function Xfe(e,t){const{r:n,g:r,b:i,a:s}=zN(e),o=1-t,a=u=>Math.round(u*o);return`rgba(${a(n)}, ${a(r)}, ${a(i)}, ${s})`}function Jfe(e,t){const{r:n,g:r,b:i,a:s}=zN(e),o=a=>Math.round(a+(255-a)*t);return`rgba(${o(n)}, ${o(r)}, ${o(i)}, ${s})`}function Zfe(e){return t=>{if(typeof t=="number")return t;const n=typeof e.defaultRadius=="number"?e.defaultRadius:e.radius[e.defaultRadius]||e.defaultRadius;return e.radius[t]||t||n}}function ede(e,t){if(typeof e=="string"&&e.includes(".")){const[n,r]=e.split("."),i=parseInt(r,10);if(n in t.colors&&i>=0&&i<10)return{isSplittedColor:!0,key:n,shade:i}}return{isSplittedColor:!1}}function tde(e){const t=UN(e),n=v_(e),r=nW(e);return({variant:i,color:s,gradient:o,primaryFallback:a})=>{const u=ede(s,e);switch(i){case"light":return{border:"transparent",background:xh(t(s,e.colorScheme==="dark"?8:0,a,!1),e.colorScheme==="dark"?.2:1),color:s==="dark"?e.colorScheme==="dark"?e.colors.dark[0]:e.colors.dark[9]:t(s,e.colorScheme==="dark"?2:n("light")),hover:xh(t(s,e.colorScheme==="dark"?7:1,a,!1),e.colorScheme==="dark"?.25:.65)};case"subtle":return{border:"transparent",background:"transparent",color:s==="dark"?e.colorScheme==="dark"?e.colors.dark[0]:e.colors.dark[9]:t(s,e.colorScheme==="dark"?2:n("light")),hover:xh(t(s,e.colorScheme==="dark"?8:0,a,!1),e.colorScheme==="dark"?.2:1)};case"outline":return{border:t(s,e.colorScheme==="dark"?5:n("light")),background:"transparent",color:t(s,e.colorScheme==="dark"?5:n("light")),hover:e.colorScheme==="dark"?xh(t(s,5,a,!1),.05):xh(t(s,0,a,!1),.35)};case"default":return{border:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4],background:e.colorScheme==="dark"?e.colors.dark[6]:e.white,color:e.colorScheme==="dark"?e.white:e.black,hover:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[0]};case"white":return{border:"transparent",background:e.white,color:t(s,n()),hover:null};case"transparent":return{border:"transparent",color:s==="dark"?e.colorScheme==="dark"?e.colors.dark[0]:e.colors.dark[9]:t(s,e.colorScheme==="dark"?2:n("light")),background:"transparent",hover:null};case"gradient":return{background:r(o),color:e.white,border:"transparent",hover:null};default:{const l=n(),c=u.isSplittedColor?u.shade:l,f=u.isSplittedColor?u.key:s;return{border:"transparent",background:t(f,c,a),color:e.white,hover:t(f,c===9?8:c+1)}}}}}function nde(e){return t=>{const n=v_(e)(t);return e.colors[e.primaryColor][n]}}function rde(e){return{"@media (hover: hover)":{"&:hover":e},"@media (hover: none)":{"&:active":e}}}const si={fontStyles:Ffe,themeColor:UN,focusStyles:Vfe,linearGradient:zfe,radialGradient:Hfe,smallerThan:qfe,largerThan:Wfe,rgba:xh,size:VN,cover:Qfe,darken:Xfe,lighten:Jfe,radius:Zfe,variant:tde,primaryShade:v_,hover:rde,gradient:nW,primaryColor:nde};var ide=Object.defineProperty,sde=Object.defineProperties,ode=Object.getOwnPropertyDescriptors,IM=Object.getOwnPropertySymbols,ade=Object.prototype.hasOwnProperty,ude=Object.prototype.propertyIsEnumerable,xM=(e,t,n)=>t in e?ide(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lde=(e,t)=>{for(var n in t||(t={}))ade.call(t,n)&&xM(e,n,t[n]);if(IM)for(var n of IM(t))ude.call(t,n)&&xM(e,n,t[n]);return e},cde=(e,t)=>sde(e,ode(t));function fde(e){return cde(lde({},e),{fn:{fontStyles:si.fontStyles(e),themeColor:si.themeColor(e),focusStyles:si.focusStyles(e),largerThan:si.largerThan(e),smallerThan:si.smallerThan(e),radialGradient:si.radialGradient,linearGradient:si.linearGradient,gradient:si.gradient(e),rgba:si.rgba,size:si.size,cover:si.cover,lighten:si.lighten,darken:si.darken,primaryShade:si.primaryShade(e),radius:si.radius(e),variant:si.variant(e),hover:si.hover,primaryColor:si.primaryColor(e)}})}const dde=["xs","sm","md","lg","xl"],hde={dir:"ltr",primaryShade:{light:6,dark:8},focusRing:"auto",loader:"oval",dateFormat:"MMMM D, YYYY",colorScheme:"light",white:"#fff",black:"#000",defaultRadius:"sm",transitionTimingFunction:"ease",colors:Mfe,lineHeight:1.55,fontFamily:"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",primaryColor:"blue",respectReducedMotion:!0,cursorType:"default",defaultGradient:{from:"indigo",to:"cyan",deg:45},shadows:{xs:"0 1px 3px rgba(0, 0, 0, 0.05), 0 1px 2px rgba(0, 0, 0, 0.1)",sm:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 10px 15px -5px, rgba(0, 0, 0, 0.04) 0px 7px 7px -5px",md:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 20px 25px -5px, rgba(0, 0, 0, 0.04) 0px 10px 10px -5px",lg:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 28px 23px -7px, rgba(0, 0, 0, 0.04) 0px 12px 12px -7px",xl:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 36px 28px -7px, rgba(0, 0, 0, 0.04) 0px 17px 17px -7px"},fontSizes:{xs:12,sm:14,md:16,lg:18,xl:20},radius:{xs:2,sm:4,md:8,lg:16,xl:32},spacing:{xs:10,sm:12,md:16,lg:20,xl:24},breakpoints:{xs:576,sm:768,md:992,lg:1200,xl:1400},headings:{fontFamily:"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",fontWeight:700,sizes:{h1:{fontSize:34,lineHeight:1.3,fontWeight:void 0},h2:{fontSize:26,lineHeight:1.35,fontWeight:void 0},h3:{fontSize:22,lineHeight:1.4,fontWeight:void 0},h4:{fontSize:18,lineHeight:1.45,fontWeight:void 0},h5:{fontSize:16,lineHeight:1.5,fontWeight:void 0},h6:{fontSize:14,lineHeight:1.5,fontWeight:void 0}}},other:{},components:{},activeStyles:{transform:"translateY(1px)"},datesLocale:"en",globalStyles:void 0,focusRingStyles:{styles:e=>({outlineOffset:2,outline:`2px solid ${e.colors[e.primaryColor][e.colorScheme==="dark"?7:5]}`}),resetStyles:()=>({outline:"none"}),inputStyles:e=>({outline:"none",borderColor:e.colors[e.primaryColor][typeof e.primaryShade=="object"?e.primaryShade[e.colorScheme]:e.primaryShade]})}},rW=fde(hde);function pde(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function mde(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var gde=function(){function e(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(mde(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=pde(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},e}(),Vi="-ms-",Xb="-moz-",Tn="-webkit-",iW="comm",HN="rule",WN="decl",yde="@import",sW="@keyframes",_de=Math.abs,ES=String.fromCharCode,vde=Object.assign;function bde(e,t){return Ci(e,0)^45?(((t<<2^Ci(e,0))<<2^Ci(e,1))<<2^Ci(e,2))<<2^Ci(e,3):0}function oW(e){return e.trim()}function Ede(e,t){return(e=t.exec(e))?e[0]:e}function Cn(e,t,n){return e.replace(t,n)}function vP(e,t){return e.indexOf(t)}function Ci(e,t){return e.charCodeAt(t)|0}function gy(e,t,n){return e.slice(t,n)}function Ha(e){return e.length}function qN(e){return e.length}function Lv(e,t){return t.push(e),e}function wde(e,t){return e.map(t).join("")}var wS=1,zp=1,aW=0,Bs=0,jr=0,Rm="";function TS(e,t,n,r,i,s,o){return{value:e,root:t,parent:n,type:r,props:i,children:s,line:wS,column:zp,length:o,return:""}}function E0(e,t){return vde(TS("",null,null,"",null,null,0),e,{length:-e.length},t)}function Tde(){return jr}function Sde(){return jr=Bs>0?Ci(Rm,--Bs):0,zp--,jr===10&&(zp=1,wS--),jr}function ao(){return jr=Bs<aW?Ci(Rm,Bs++):0,zp++,jr===10&&(zp=1,wS++),jr}function cu(){return Ci(Rm,Bs)}function G1(){return Bs}function b_(e,t){return gy(Rm,e,t)}function yy(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function uW(e){return wS=zp=1,aW=Ha(Rm=e),Bs=0,[]}function lW(e){return Rm="",e}function Y1(e){return oW(b_(Bs-1,bP(e===91?e+2:e===40?e+1:e)))}function Ide(e){for(;(jr=cu())&&jr<33;)ao();return yy(e)>2||yy(jr)>3?"":" "}function xde(e,t){for(;--t&&ao()&&!(jr<48||jr>102||jr>57&&jr<65||jr>70&&jr<97););return b_(e,G1()+(t<6&&cu()==32&&ao()==32))}function bP(e){for(;ao();)switch(jr){case e:return Bs;case 34:case 39:e!==34&&e!==39&&bP(jr);break;case 40:e===41&&bP(e);break;case 92:ao();break}return Bs}function Cde(e,t){for(;ao()&&e+jr!==57;)if(e+jr===84&&cu()===47)break;return"/*"+b_(t,Bs-1)+"*"+ES(e===47?e:ao())}function Ade(e){for(;!yy(cu());)ao();return b_(e,Bs)}function Ode(e){return lW(K1("",null,null,null,[""],e=uW(e),0,[0],e))}function K1(e,t,n,r,i,s,o,a,u){for(var l=0,c=0,f=o,d=0,h=0,p=0,m=1,y=1,g=1,_=0,b="",T=i,I=s,E=r,S=b;y;)switch(p=_,_=ao()){case 40:if(p!=108&&Ci(S,f-1)==58){vP(S+=Cn(Y1(_),"&","&\f"),"&\f")!=-1&&(g=-1);break}case 34:case 39:case 91:S+=Y1(_);break;case 9:case 10:case 13:case 32:S+=Ide(p);break;case 92:S+=xde(G1()-1,7);continue;case 47:switch(cu()){case 42:case 47:Lv(Pde(Cde(ao(),G1()),t,n),u);break;default:S+="/"}break;case 123*m:a[l++]=Ha(S)*g;case 125*m:case 59:case 0:switch(_){case 0:case 125:y=0;case 59+c:h>0&&Ha(S)-f&&Lv(h>32?AM(S+";",r,n,f-1):AM(Cn(S," ","")+";",r,n,f-2),u);break;case 59:S+=";";default:if(Lv(E=CM(S,t,n,l,c,i,a,b,T=[],I=[],f),s),_===123)if(c===0)K1(S,t,E,E,T,s,f,a,I);else switch(d===99&&Ci(S,3)===110?100:d){case 100:case 109:case 115:K1(e,E,E,r&&Lv(CM(e,E,E,0,0,i,a,b,i,T=[],f),I),i,I,f,a,r?T:I);break;default:K1(S,E,E,E,[""],I,0,a,I)}}l=c=h=0,m=g=1,b=S="",f=o;break;case 58:f=1+Ha(S),h=p;default:if(m<1){if(_==123)--m;else if(_==125&&m++==0&&Sde()==125)continue}switch(S+=ES(_),_*m){case 38:g=c>0?1:(S+="\f",-1);break;case 44:a[l++]=(Ha(S)-1)*g,g=1;break;case 64:cu()===45&&(S+=Y1(ao())),d=cu(),c=f=Ha(b=S+=Ade(G1())),_++;break;case 45:p===45&&Ha(S)==2&&(m=0)}}return s}function CM(e,t,n,r,i,s,o,a,u,l,c){for(var f=i-1,d=i===0?s:[""],h=qN(d),p=0,m=0,y=0;p<r;++p)for(var g=0,_=gy(e,f+1,f=_de(m=o[p])),b=e;g<h;++g)(b=oW(m>0?d[g]+" "+_:Cn(_,/&\f/g,d[g])))&&(u[y++]=b);return TS(e,t,n,i===0?HN:a,u,l,c)}function Pde(e,t,n){return TS(e,t,n,iW,ES(Tde()),gy(e,2,-2),0)}function AM(e,t,n,r){return TS(e,t,n,WN,gy(e,0,r),gy(e,r+1,-1),r)}function hp(e,t){for(var n="",r=qN(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function Rde(e,t,n,r){switch(e.type){case yde:case WN:return e.return=e.return||e.value;case iW:return"";case sW:return e.return=e.value+"{"+hp(e.children,r)+"}";case HN:e.value=e.props.join(",")}return Ha(n=hp(e.children,r))?e.return=e.value+"{"+n+"}":""}function Nde(e){var t=qN(e);return function(n,r,i,s){for(var o="",a=0;a<t;a++)o+=e[a](n,r,i,s)||"";return o}}function kde(e){return function(t){t.root||(t=t.return)&&e(t)}}function Dde(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var $de=function(t,n,r){for(var i=0,s=0;i=s,s=cu(),i===38&&s===12&&(n[r]=1),!yy(s);)ao();return b_(t,Bs)},Lde=function(t,n){var r=-1,i=44;do switch(yy(i)){case 0:i===38&&cu()===12&&(n[r]=1),t[r]+=$de(Bs-1,n,r);break;case 2:t[r]+=Y1(i);break;case 4:if(i===44){t[++r]=cu()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=ES(i)}while(i=ao());return t},Mde=function(t,n){return lW(Lde(uW(t),n))},OM=new WeakMap,Fde=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!OM.get(r))&&!i){OM.set(t,!0);for(var s=[],o=Mde(n,s),a=r.props,u=0,l=0;u<o.length;u++)for(var c=0;c<a.length;c++,l++)t.props[l]=s[u]?o[u].replace(/&\f/g,a[c]):a[c]+" "+o[u]}}},Bde=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function cW(e,t){switch(bde(e,t)){case 5103:return Tn+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Tn+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Tn+e+Xb+e+Vi+e+e;case 6828:case 4268:return Tn+e+Vi+e+e;case 6165:return Tn+e+Vi+"flex-"+e+e;case 5187:return Tn+e+Cn(e,/(\w+).+(:[^]+)/,Tn+"box-$1$2"+Vi+"flex-$1$2")+e;case 5443:return Tn+e+Vi+"flex-item-"+Cn(e,/flex-|-self/,"")+e;case 4675:return Tn+e+Vi+"flex-line-pack"+Cn(e,/align-content|flex-|-self/,"")+e;case 5548:return Tn+e+Vi+Cn(e,"shrink","negative")+e;case 5292:return Tn+e+Vi+Cn(e,"basis","preferred-size")+e;case 6060:return Tn+"box-"+Cn(e,"-grow","")+Tn+e+Vi+Cn(e,"grow","positive")+e;case 4554:return Tn+Cn(e,/([^-])(transform)/g,"$1"+Tn+"$2")+e;case 6187:return Cn(Cn(Cn(e,/(zoom-|grab)/,Tn+"$1"),/(image-set)/,Tn+"$1"),e,"")+e;case 5495:case 3959:return Cn(e,/(image-set\([^]*)/,Tn+"$1$`$1");case 4968:return Cn(Cn(e,/(.+:)(flex-)?(.*)/,Tn+"box-pack:$3"+Vi+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Tn+e+e;case 4095:case 3583:case 4068:case 2532:return Cn(e,/(.+)-inline(.+)/,Tn+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ha(e)-1-t>6)switch(Ci(e,t+1)){case 109:if(Ci(e,t+4)!==45)break;case 102:return Cn(e,/(.+:)(.+)-([^]+)/,"$1"+Tn+"$2-$3$1"+Xb+(Ci(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~vP(e,"stretch")?cW(Cn(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Ci(e,t+1)!==115)break;case 6444:switch(Ci(e,Ha(e)-3-(~vP(e,"!important")&&10))){case 107:return Cn(e,":",":"+Tn)+e;case 101:return Cn(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Tn+(Ci(e,14)===45?"inline-":"")+"box$3$1"+Tn+"$2$3$1"+Vi+"$2box$3")+e}break;case 5936:switch(Ci(e,t+11)){case 114:return Tn+e+Vi+Cn(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Tn+e+Vi+Cn(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Tn+e+Vi+Cn(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Tn+e+Vi+e+e}return e}var jde=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case WN:t.return=cW(t.value,t.length);break;case sW:return hp([E0(t,{value:Cn(t.value,"@","@"+Tn)})],i);case HN:if(t.length)return wde(t.props,function(s){switch(Ede(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return hp([E0(t,{props:[Cn(s,/:(read-\w+)/,":"+Xb+"$1")]})],i);case"::placeholder":return hp([E0(t,{props:[Cn(s,/:(plac\w+)/,":"+Tn+"input-$1")]}),E0(t,{props:[Cn(s,/:(plac\w+)/,":"+Xb+"$1")]}),E0(t,{props:[Cn(s,/:(plac\w+)/,Vi+"input-$1")]})],i)}return""})}},Ude=[jde],Vde=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(m){var y=m.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var i=t.stylisPlugins||Ude,s={},o,a=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(m){for(var y=m.getAttribute("data-emotion").split(" "),g=1;g<y.length;g++)s[y[g]]=!0;a.push(m)});var u,l=[Fde,Bde];{var c,f=[Rde,kde(function(m){c.insert(m)})],d=Nde(l.concat(i,f)),h=function(y){return hp(Ode(y),d)};u=function(y,g,_,b){c=_,h(y?y+"{"+g.styles+"}":g.styles),b&&(p.inserted[g.name]=!0)}}var p={key:n,sheet:new gde({key:n,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:s,registered:{},insert:u};return p.sheet.hydrate(a),p};const fW=Vde;function cr(){return cr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cr.apply(this,arguments)}var dW={exports:{}},kn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pi=typeof Symbol=="function"&&Symbol.for,GN=pi?Symbol.for("react.element"):60103,YN=pi?Symbol.for("react.portal"):60106,SS=pi?Symbol.for("react.fragment"):60107,IS=pi?Symbol.for("react.strict_mode"):60108,xS=pi?Symbol.for("react.profiler"):60114,CS=pi?Symbol.for("react.provider"):60109,AS=pi?Symbol.for("react.context"):60110,KN=pi?Symbol.for("react.async_mode"):60111,OS=pi?Symbol.for("react.concurrent_mode"):60111,PS=pi?Symbol.for("react.forward_ref"):60112,RS=pi?Symbol.for("react.suspense"):60113,zde=pi?Symbol.for("react.suspense_list"):60120,NS=pi?Symbol.for("react.memo"):60115,kS=pi?Symbol.for("react.lazy"):60116,Hde=pi?Symbol.for("react.block"):60121,Wde=pi?Symbol.for("react.fundamental"):60117,qde=pi?Symbol.for("react.responder"):60118,Gde=pi?Symbol.for("react.scope"):60119;function bo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case GN:switch(e=e.type,e){case KN:case OS:case SS:case xS:case IS:case RS:return e;default:switch(e=e&&e.$$typeof,e){case AS:case PS:case kS:case NS:case CS:return e;default:return t}}case YN:return t}}}function hW(e){return bo(e)===OS}kn.AsyncMode=KN;kn.ConcurrentMode=OS;kn.ContextConsumer=AS;kn.ContextProvider=CS;kn.Element=GN;kn.ForwardRef=PS;kn.Fragment=SS;kn.Lazy=kS;kn.Memo=NS;kn.Portal=YN;kn.Profiler=xS;kn.StrictMode=IS;kn.Suspense=RS;kn.isAsyncMode=function(e){return hW(e)||bo(e)===KN};kn.isConcurrentMode=hW;kn.isContextConsumer=function(e){return bo(e)===AS};kn.isContextProvider=function(e){return bo(e)===CS};kn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===GN};kn.isForwardRef=function(e){return bo(e)===PS};kn.isFragment=function(e){return bo(e)===SS};kn.isLazy=function(e){return bo(e)===kS};kn.isMemo=function(e){return bo(e)===NS};kn.isPortal=function(e){return bo(e)===YN};kn.isProfiler=function(e){return bo(e)===xS};kn.isStrictMode=function(e){return bo(e)===IS};kn.isSuspense=function(e){return bo(e)===RS};kn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===SS||e===OS||e===xS||e===IS||e===RS||e===zde||typeof e=="object"&&e!==null&&(e.$$typeof===kS||e.$$typeof===NS||e.$$typeof===CS||e.$$typeof===AS||e.$$typeof===PS||e.$$typeof===Wde||e.$$typeof===qde||e.$$typeof===Gde||e.$$typeof===Hde)};kn.typeOf=bo;dW.exports=kn;var Yde=dW.exports,pW=Yde,Kde={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Qde={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},mW={};mW[pW.ForwardRef]=Kde;mW[pW.Memo]=Qde;var Xde=!0;function Jde(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):r+=i+" "}),r}var Zde=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||Xde===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},gW=function(t,n,r){Zde(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var s=n;do t.insert(n===s?"."+i:"",s,t.sheet,!0),s=s.next;while(s!==void 0)}};function ehe(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var the={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},nhe=/[A-Z]|^ms/g,rhe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,yW=function(t){return t.charCodeAt(1)===45},PM=function(t){return t!=null&&typeof t!="boolean"},mC=Dde(function(e){return yW(e)?e:e.replace(nhe,"-$&").toLowerCase()}),RM=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(rhe,function(r,i,s){return Wa={name:i,styles:s,next:Wa},i})}return the[t]!==1&&!yW(t)&&typeof n=="number"&&n!==0?n+"px":n};function _y(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Wa={name:n.name,styles:n.styles,next:Wa},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Wa={name:r.name,styles:r.styles,next:Wa},r=r.next;var i=n.styles+";";return i}return ihe(e,t,n)}case"function":{if(e!==void 0){var s=Wa,o=n(e);return Wa=s,_y(e,t,o)}break}}if(t==null)return n;var a=t[n];return a!==void 0?a:n}function ihe(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=_y(e,t,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")t!=null&&t[o]!==void 0?r+=s+"{"+t[o]+"}":PM(o)&&(r+=mC(s)+":"+RM(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(t==null||t[o[0]]===void 0))for(var a=0;a<o.length;a++)PM(o[a])&&(r+=mC(s)+":"+RM(s,o[a])+";");else{var u=_y(e,t,o);switch(s){case"animation":case"animationName":{r+=mC(s)+":"+u+";";break}default:r+=s+"{"+u+"}"}}}return r}var NM=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Wa,QN=function(t,n,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,s="";Wa=void 0;var o=t[0];o==null||o.raw===void 0?(i=!1,s+=_y(r,n,o)):s+=o[0];for(var a=1;a<t.length;a++)s+=_y(r,n,t[a]),i&&(s+=o[a]);NM.lastIndex=0;for(var u="",l;(l=NM.exec(s))!==null;)u+="-"+l[1];var c=ehe(s)+u;return{name:c,styles:s,next:Wa}},she=Sd.useInsertionEffect?Sd.useInsertionEffect:!1,kM=she||w.useLayoutEffect,_W=w.createContext(typeof HTMLElement<"u"?fW({key:"css"}):null);_W.Provider;var ohe=function(t){return w.forwardRef(function(n,r){var i=w.useContext(_W);return t(n,i,r)})},ahe=w.createContext({}),uhe=ohe(function(e,t){var n=e.styles,r=QN([n],void 0,w.useContext(ahe)),i=w.useRef();return kM(function(){var s=t.key+"-global",o=new t.sheet.constructor({key:s,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),a=!1,u=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return t.sheet.tags.length&&(o.before=t.sheet.tags[0]),u!==null&&(a=!0,u.setAttribute("data-emotion",s),o.hydrate([u])),i.current=[o,a],function(){o.flush()}},[t]),kM(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&gW(t,r.next,!0),o.tags.length){var u=o.tags[o.tags.length-1].nextElementSibling;o.before=u,o.flush()}t.insert("",r,o,!1)},[t,r.name]),null});function vW(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return QN(t)}var lhe=function(){var t=vW.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function bW(e){return Object.keys(e).reduce((t,n)=>(e[n]!==void 0&&(t[n]=e[n]),t),{})}var che=Object.defineProperty,DM=Object.getOwnPropertySymbols,fhe=Object.prototype.hasOwnProperty,dhe=Object.prototype.propertyIsEnumerable,$M=(e,t,n)=>t in e?che(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gC=(e,t)=>{for(var n in t||(t={}))fhe.call(t,n)&&$M(e,n,t[n]);if(DM)for(var n of DM(t))dhe.call(t,n)&&$M(e,n,t[n]);return e};const EW=w.createContext({theme:rW});function ts(){var e;return((e=w.useContext(EW))==null?void 0:e.theme)||rW}function hhe(e){const t=ts(),n=r=>{var i,s;return{styles:((i=t.components[r])==null?void 0:i.styles)||{},classNames:((s=t.components[r])==null?void 0:s.classNames)||{}}};return Array.isArray(e)?e.map(n):[n(e)]}function wW(){var e;return(e=w.useContext(EW))==null?void 0:e.emotionCache}function ht(e,t,n){var r;const s=(r=ts().components[e])==null?void 0:r.defaultProps;return gC(gC(gC({},t),s),bW(n))}const TW=w.createContext({classNames:{},styles:{},unstyled:!1});function SW({children:e,classNames:t,unstyled:n,styles:r,staticSelector:i}){return k.createElement(TW.Provider,{value:{classNames:t,styles:r,unstyled:n,staticSelector:i}},e)}function E_(){return w.useContext(TW)}const phe={app:100,modal:200,popover:300,overlay:400,max:9999};function Eo(e){return phe[e]}function mhe(e,t){const n=w.useRef();return(!n.current||t.length!==n.current.prevDeps.length||n.current.prevDeps.map((r,i)=>r===t[i]).indexOf(!1)>=0)&&(n.current={v:e(),prevDeps:[...t]}),n.current.v}const ghe=fW({key:"mantine",prepend:!0});function yhe(){return wW()||ghe}var _he=Object.defineProperty,LM=Object.getOwnPropertySymbols,vhe=Object.prototype.hasOwnProperty,bhe=Object.prototype.propertyIsEnumerable,MM=(e,t,n)=>t in e?_he(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ehe=(e,t)=>{for(var n in t||(t={}))vhe.call(t,n)&&MM(e,n,t[n]);if(LM)for(var n of LM(t))bhe.call(t,n)&&MM(e,n,t[n]);return e};const yC="ref";function whe(e){let t;if(e.length!==1)return{args:e,ref:t};const[n]=e;if(!(n instanceof Object))return{args:e,ref:t};if(!(yC in n))return{args:e,ref:t};t=n[yC];const r=Ehe({},n);return delete r[yC],{args:[r],ref:t}}const{cssFactory:The}=(()=>{function e(n,r,i){const s=[],o=Jde(n,s,i);return s.length<2?i:o+r(s)}function t(n){const{cache:r}=n,i=(...o)=>{const{ref:a,args:u}=whe(o),l=QN(u,r.registered);return gW(r,l,!1),`${r.key}-${l.name}${a===void 0?"":` ${a}`}`};return{css:i,cx:(...o)=>e(r.registered,i,eW(o))}}return{cssFactory:t}})();function IW(){const e=yhe();return mhe(()=>The({cache:e}),[e])}function She({cx:e,classes:t,context:n,classNames:r,name:i,cache:s}){const o=n.reduce((a,u)=>(Object.keys(u.classNames).forEach(l=>{typeof a[l]!="string"?a[l]=`${u.classNames[l]}`:a[l]=`${a[l]} ${u.classNames[l]}`}),a),{});return Object.keys(t).reduce((a,u)=>(a[u]=e(t[u],o[u],r!=null&&r[u],Array.isArray(i)?i.filter(Boolean).map(l=>`${(s==null?void 0:s.key)||"mantine"}-${l}-${u}`).join(" "):i?`${(s==null?void 0:s.key)||"mantine"}-${i}-${u}`:null),a),{})}var Ihe=Object.defineProperty,FM=Object.getOwnPropertySymbols,xhe=Object.prototype.hasOwnProperty,Che=Object.prototype.propertyIsEnumerable,BM=(e,t,n)=>t in e?Ihe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_C=(e,t)=>{for(var n in t||(t={}))xhe.call(t,n)&&BM(e,n,t[n]);if(FM)for(var n of FM(t))Che.call(t,n)&&BM(e,n,t[n]);return e};function Ahe(e){return`__mantine-ref-${e||""}`}function jM(e,t,n){const r=i=>typeof i=="function"?i(t,n||{}):i||{};return Array.isArray(e)?e.map(i=>r(i.styles)).reduce((i,s)=>(Object.keys(s).forEach(o=>{i[o]?i[o]=_C(_C({},i[o]),s[o]):i[o]=_C({},s[o])}),i),{}):r(e)}function at(e){const t=typeof e=="function"?e:()=>e;function n(r,i){const s=ts(),o=hhe(i==null?void 0:i.name),a=wW(),{css:u,cx:l}=IW(),c=t(s,r,Ahe),f=jM(i==null?void 0:i.styles,s,r),d=jM(o,s,r),h=Object.fromEntries(Object.keys(c).map(p=>{const m=l({[u(c[p])]:!(i!=null&&i.unstyled)},u(d[p]),u(f[p]));return[p,m]}));return{classes:She({cx:l,classes:h,context:o,classNames:i==null?void 0:i.classNames,name:i==null?void 0:i.name,cache:a}),cx:l,theme:s}}return n}function xW({styles:e}){const t=ts();return k.createElement(uhe,{styles:vW(typeof e=="function"?e(t):e)})}var Ohe=Object.defineProperty,Phe=Object.defineProperties,Rhe=Object.getOwnPropertyDescriptors,UM=Object.getOwnPropertySymbols,Nhe=Object.prototype.hasOwnProperty,khe=Object.prototype.propertyIsEnumerable,VM=(e,t,n)=>t in e?Ohe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,w0=(e,t)=>{for(var n in t||(t={}))Nhe.call(t,n)&&VM(e,n,t[n]);if(UM)for(var n of UM(t))khe.call(t,n)&&VM(e,n,t[n]);return e},T0=(e,t)=>Phe(e,Rhe(t));const S0={in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(.9) translateY(10px)"},transitionProperty:"transform, opacity"},Mv={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:T0(w0({},S0),{common:{transformOrigin:"center center"}}),"pop-bottom-left":T0(w0({},S0),{common:{transformOrigin:"bottom left"}}),"pop-bottom-right":T0(w0({},S0),{common:{transformOrigin:"bottom right"}}),"pop-top-left":T0(w0({},S0),{common:{transformOrigin:"top left"}}),"pop-top-right":T0(w0({},S0),{common:{transformOrigin:"top right"}})},zM=["mousedown","touchstart"];function Dhe(e,t,n){const r=w.useRef();return w.useEffect(()=>{const i=s=>{const{target:o}=s??{};if(Array.isArray(n)){const a=(o==null?void 0:o.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(o);n.every(l=>!!l&&!l.contains(o))&&!a&&e()}else r.current&&!r.current.contains(o)&&e()};return(t||zM).forEach(s=>document.addEventListener(s,i)),()=>{(t||zM).forEach(s=>document.removeEventListener(s,i))}},[r,e,n]),r}function $he(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch{return e.addListener(t),()=>e.removeListener(t)}}function Lhe(e,t){return typeof t=="boolean"?t:typeof window<"u"&&"matchMedia"in window?window.matchMedia(e).matches:!1}function Mhe(e,t,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[r,i]=w.useState(n?!1:Lhe(e,t)),s=w.useRef();return w.useEffect(()=>{if("matchMedia"in window)return s.current=window.matchMedia(e),i(s.current.matches),$he(s.current,o=>i(o.matches))},[e]),r}function Lc(e,t,n){return Math.min(Math.max(e,t),n)}const XN=typeof document<"u"?w.useLayoutEffect:w.useEffect;function uo(e,t){const n=w.useRef(!1);w.useEffect(()=>()=>{n.current=!1},[]),w.useEffect(()=>{if(n.current)return e();n.current=!0},t)}function CW({opened:e,shouldReturnFocus:t=!0}){const n=w.useRef(),r=()=>{var i;n.current&&"focus"in n.current&&typeof n.current.focus=="function"&&((i=n.current)==null||i.focus({preventScroll:!0}))};return uo(()=>{let i=-1;const s=o=>{o.key==="Tab"&&window.clearTimeout(i)};return document.addEventListener("keydown",s),e?n.current=document.activeElement:t&&(i=window.setTimeout(r,10)),()=>{window.clearTimeout(i),document.removeEventListener("keydown",s)}},[e,t]),r}const Fhe=/input|select|textarea|button|object/,AW="a, input, select, textarea, button, object, [tabindex]";function Bhe(e){return e.style.display==="none"}function jhe(e){if(e.getAttribute("aria-hidden")||e.getAttribute("hidden")||e.getAttribute("type")==="hidden")return!1;let n=e;for(;n&&n!==document.body;){if(Bhe(n))return!1;n=n.parentNode}return!0}function OW(e){let t=e.getAttribute("tabindex");return t===null&&(t=void 0),parseInt(t,10)}function EP(e){const t=e.nodeName.toLowerCase(),n=!Number.isNaN(OW(e));return(Fhe.test(t)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||n)&&jhe(e)}function PW(e){const t=OW(e);return(Number.isNaN(t)||t>=0)&&EP(e)}function Uhe(e){return Array.from(e.querySelectorAll(AW)).filter(PW)}function Vhe(e,t){const n=Uhe(e);if(!n.length){t.preventDefault();return}if(!(n[t.shiftKey?0:n.length-1]===document.activeElement||e===document.activeElement))return;t.preventDefault();const s=n[t.shiftKey?n.length-1:0];s&&s.focus()}function zhe(e,t="body > :not(script)"){const n=Array.from(document.querySelectorAll(t)).map(r=>{if(r.contains(e))return;const i=r.getAttribute("aria-hidden");return(i===null||i==="false")&&r.setAttribute("aria-hidden","true"),{node:r,ariaHidden:i}});return()=>{n.forEach(r=>{r&&(r.ariaHidden===null?r.node.removeAttribute("aria-hidden"):r.node.setAttribute("aria-hidden",r.ariaHidden))})}}function RW(e=!0){const t=w.useRef(),n=w.useRef(null),r=w.useCallback(i=>{if(e&&i!==null&&(n.current=zhe(i),t.current!==i))if(i){const s=()=>{let o=i.querySelector("[data-autofocus]");if(!o){const a=Array.from(i.querySelectorAll(AW));o=a.find(PW)||a.find(EP)||null,!o&&EP(i)&&(o=i)}o&&o.focus({preventScroll:!0})};setTimeout(()=>{i.ownerDocument&&s()}),t.current=i}else t.current=null},[e]);return w.useEffect(()=>{if(!e)return;const i=s=>{s.key==="Tab"&&t.current&&Vhe(t.current,s)};return document.addEventListener("keydown",i),()=>{document.removeEventListener("keydown",i),n.current&&n.current()}},[e]),r}const Hhe=()=>`mantine-${Math.random().toString(36).slice(2,11)}`,Whe=k.useId||(()=>{});function qhe(){const[e,t]=w.useState("");return XN(()=>{t(Hhe())},[]),e}function Ghe(){const e=Whe();return e?`mantine-${e.replace(/:/g,"")}`:""}function Ru(e){return typeof e=="string"?e:Ghe()||qhe()}function wP(e,t,n){w.useEffect(()=>(window.addEventListener(e,t,n),()=>window.removeEventListener(e,t,n)),[e,t])}function NW(e,t){typeof e=="function"?e(t):typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function Yhe(...e){return t=>{e.forEach(n=>NW(n,t))}}function qo(...e){return w.useCallback(Yhe(...e),e)}function kW(e,t,n="ltr"){const r=w.useRef(),i=w.useRef(!1),s=w.useRef(!1),o=w.useRef(0),[a,u]=w.useState(!1);return w.useEffect(()=>{i.current=!0},[]),w.useEffect(()=>{const l=({x:_,y:b})=>{cancelAnimationFrame(o.current),o.current=requestAnimationFrame(()=>{if(i.current&&r.current){r.current.style.userSelect="none";const T=r.current.getBoundingClientRect();if(T.width&&T.height){const I=Lc((_-T.left)/T.width,0,1);e({x:n==="ltr"?I:1-I,y:Lc((b-T.top)/T.height,0,1)})}}})},c=()=>{document.addEventListener("mousemove",m),document.addEventListener("mouseup",h),document.addEventListener("touchmove",g),document.addEventListener("touchend",h)},f=()=>{document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",h),document.removeEventListener("touchmove",g),document.removeEventListener("touchend",h)},d=()=>{!s.current&&i.current&&(s.current=!0,typeof(t==null?void 0:t.onScrubStart)=="function"&&t.onScrubStart(),u(!0),c())},h=()=>{s.current&&i.current&&(s.current=!1,u(!1),f(),setTimeout(()=>{typeof(t==null?void 0:t.onScrubEnd)=="function"&&t.onScrubEnd()},0))},p=_=>{d(),m(_)},m=_=>l({x:_.clientX,y:_.clientY}),y=_=>{_.cancelable&&_.preventDefault(),d(),g(_)},g=_=>{_.cancelable&&_.preventDefault(),l({x:_.changedTouches[0].clientX,y:_.changedTouches[0].clientY})};return r.current.addEventListener("mousedown",p),r.current.addEventListener("touchstart",y,{passive:!1}),()=>{r.current&&(r.current.removeEventListener("mousedown",p),r.current.removeEventListener("touchstart",y))}},[n,e]),{ref:r,active:a}}function Ia({value:e,defaultValue:t,finalValue:n,onChange:r=()=>{}}){const[i,s]=w.useState(t!==void 0?t:n),o=a=>{s(a),r==null||r(a)};return e!==void 0?[e,r,!0]:[i,o,!1]}function JN(e,t){return Mhe("(prefers-reduced-motion: reduce)",e,t)}const Khe=e=>e<.5?2*e*e:-1+(4-2*e)*e,Qhe=({axis:e,target:t,parent:n,alignment:r,offset:i,isList:s})=>{if(!t||!n&&typeof document>"u")return 0;const o=!!n,u=(n||document.body).getBoundingClientRect(),l=t.getBoundingClientRect(),c=f=>l[f]-u[f];if(e==="y"){const f=c("top");if(f===0)return 0;if(r==="start"){const h=f-i;return h<=l.height*(s?0:1)||!s?h:0}const d=o?u.height:window.innerHeight;if(r==="end"){const h=f+i-d+l.height;return h>=-l.height*(s?0:1)||!s?h:0}return r==="center"?f-d/2+l.height/2:0}if(e==="x"){const f=c("left");if(f===0)return 0;if(r==="start"){const h=f-i;return h<=l.width||!s?h:0}const d=o?u.width:window.innerWidth;if(r==="end"){const h=f+i-d+l.width;return h>=-l.width||!s?h:0}return r==="center"?f-d/2+l.width/2:0}return 0},Xhe=({axis:e,parent:t})=>{if(!t&&typeof document>"u")return 0;const n=e==="y"?"scrollTop":"scrollLeft";if(t)return t[n];const{body:r,documentElement:i}=document;return r[n]+i[n]},Jhe=({axis:e,parent:t,distance:n})=>{if(!t&&typeof document>"u")return;const r=e==="y"?"scrollTop":"scrollLeft";if(t)t[r]=n;else{const{body:i,documentElement:s}=document;i[r]=n,s[r]=n}};function DW({duration:e=1250,axis:t="y",onScrollFinish:n,easing:r=Khe,offset:i=0,cancelable:s=!0,isList:o=!1}={}){const a=w.useRef(0),u=w.useRef(0),l=w.useRef(!1),c=w.useRef(null),f=w.useRef(null),d=JN(),h=()=>{a.current&&cancelAnimationFrame(a.current)},p=w.useCallback(({alignment:y="start"}={})=>{var g;l.current=!1,a.current&&h();const _=(g=Xhe({parent:c.current,axis:t}))!=null?g:0,b=Qhe({parent:c.current,target:f.current,axis:t,alignment:y,offset:i,isList:o})-(c.current?0:_);function T(){u.current===0&&(u.current=performance.now());const E=performance.now()-u.current,S=d||e===0?1:E/e,A=_+b*r(S);Jhe({parent:c.current,axis:t,distance:A}),!l.current&&S<1?a.current=requestAnimationFrame(T):(typeof n=="function"&&n(),u.current=0,a.current=0,h())}T()},[t,e,r,o,i,n,d]),m=()=>{s&&(l.current=!0)};return wP("wheel",m,{passive:!0}),wP("touchmove",m,{passive:!0}),w.useEffect(()=>h,[]),{scrollableRef:c,targetRef:f,scrollIntoView:p,cancel:h}}const Zhe={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};function ZN(){const e=w.useRef(0),t=w.useRef(null),[n,r]=w.useState(Zhe),i=w.useMemo(()=>typeof window<"u"?new ResizeObserver(s=>{const o=s[0];o&&(cancelAnimationFrame(e.current),e.current=requestAnimationFrame(()=>{t.current&&r(o.contentRect)}))}):null,[]);return w.useEffect(()=>(t.current&&i.observe(t.current),()=>{i.disconnect(),e.current&&cancelAnimationFrame(e.current)}),[t.current]),[t,n]}function epe(){if(typeof window>"u"||typeof document>"u")return 0;const e=parseInt(window.getComputedStyle(document.body).paddingRight,10),t=window.innerWidth-document.documentElement.clientWidth;return e+t}const tpe=({disableBodyPadding:e})=>{const t=e?null:epe();return`body {
        --removed-scroll-width: ${t}px;
        touch-action: none;
        overflow: hidden !important;
        position: relative !important;
        ${t?"padding-right: var(--removed-scroll-width) !important;":""}
        `};function npe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function rpe(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}function ipe(){const e=document.createElement("style");return e.type="text/css",e.setAttribute("mantine-scroll-lock",""),e}function spe(e,t={disableBodyPadding:!1}){const[n,r]=w.useState(e||!1),i=w.useRef(0),{disableBodyPadding:s}=t,o=w.useRef(null),a=()=>{i.current=window.scrollY;const l=tpe({disableBodyPadding:s}),c=ipe();npe(c,l),rpe(c),o.current=c},u=()=>{o!=null&&o.current&&(o.current.parentNode.removeChild(o.current),o.current=null)};return w.useEffect(()=>(n?a():u(),u),[n]),w.useEffect(()=>{e!==void 0&&r(e)},[e]),w.useEffect(()=>{e===void 0&&typeof window<"u"&&window.document.body.style.overflow==="hidden"&&r(!0)},[r]),[n,r]}function ope(){const{userAgent:e}=window.navigator,t=/(Macintosh)|(MacIntel)|(MacPPC)|(Mac68K)/i,n=/(Win32)|(Win64)|(Windows)|(WinCE)/i,r=/(iPhone)|(iPad)|(iPod)/i;return t.test(e)?"macos":r.test(e)?"ios":n.test(e)?"windows":/Android/i.test(e)?"android":/Linux/i.test(e)?"linux":"undetermined"}function ape(){return typeof window<"u"?ope():"undetermined"}function upe(e){return t=>{if(!t)e(t);else if(typeof t=="function")e(t);else if(typeof t=="object"&&"nativeEvent"in t){const{currentTarget:n}=t;n.type==="checkbox"?e(n.checked):e(n.value)}else e(t)}}function lpe(e){const[t,n]=w.useState(e);return[t,upe(n)]}function cpe(e,t){const[n,r]=w.useState(e),i=()=>{var a;n||(r(!0),(a=t==null?void 0:t.onOpen)==null||a.call(t))},s=()=>{var a;n&&(r(!1),(a=t==null?void 0:t.onClose)==null||a.call(t))};return[n,{open:i,close:s,toggle:()=>{n?s():i()}}]}function fpe(){return`mantine-${Math.random().toString(36).slice(2,11)}`}var HM=Object.getOwnPropertySymbols,dpe=Object.prototype.hasOwnProperty,hpe=Object.prototype.propertyIsEnumerable,ppe=(e,t)=>{var n={};for(var r in e)dpe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&HM)for(var r of HM(e))t.indexOf(r)<0&&hpe.call(e,r)&&(n[r]=e[r]);return n};function Kd(e){const t=e,{m:n,mx:r,my:i,mt:s,mb:o,ml:a,mr:u,p:l,px:c,py:f,pt:d,pb:h,pl:p,pr:m,bg:y,c:g,opacity:_,ff:b,fz:T,fw:I,lts:E,ta:S,lh:A,fs:L,tt:W,td:z,w:U,miw:Z,maw:H,h:ue,mih:ie,mah:_e,bgsz:te,bgp:oe,bgr:J,bga:x,pos:C,top:B,left:P,bottom:O,right:G,inset:fe,display:le}=t,me=ppe(t,["m","mx","my","mt","mb","ml","mr","p","px","py","pt","pb","pl","pr","bg","c","opacity","ff","fz","fw","lts","ta","lh","fs","tt","td","w","miw","maw","h","mih","mah","bgsz","bgp","bgr","bga","pos","top","left","bottom","right","inset","display"]);return{systemStyles:bW({m:n,mx:r,my:i,mt:s,mb:o,ml:a,mr:u,p:l,px:c,py:f,pt:d,pb:h,pl:p,pr:m,bg:y,c:g,opacity:_,ff:b,fz:T,fw:I,lts:E,ta:S,lh:A,fs:L,tt:W,td:z,w:U,miw:Z,maw:H,h:ue,mih:ie,mah:_e,bgsz:te,bgp:oe,bgr:J,bga:x,pos:C,top:B,left:P,bottom:O,right:G,inset:fe,display:le}),rest:me}}function mpe(e,t){const n=Object.keys(e).filter(r=>r!=="base").sort((r,i)=>t.fn.size({size:r,sizes:t.breakpoints})-t.fn.size({size:i,sizes:t.breakpoints}));return"base"in e?["base",...n]:n}function gpe({value:e,theme:t,getValue:n,property:r}){if(e==null)return;if(typeof e=="object")return mpe(e,t).reduce((o,a)=>{if(a==="base"&&e.base!==void 0){const l=n(e.base,t);return Array.isArray(r)?(r.forEach(c=>{o[c]=l}),o):(o[r]=l,o)}const u=n(e[a],t);return Array.isArray(r)?(o[t.fn.largerThan(a)]={},r.forEach(l=>{o[t.fn.largerThan(a)][l]=u}),o):(o[t.fn.largerThan(a)]={[r]:u},o)},{});const i=n(e,t);return Array.isArray(r)?r.reduce((s,o)=>(s[o]=i,s),{}):{[r]:i}}function ype(e,t){return e==="dimmed"?t.colorScheme==="dark"?t.colors.dark[2]:t.colors.gray[6]:t.fn.variant({variant:"filled",color:e,primaryFallback:!1}).background}function _pe(e){return e}function vpe(e,t){return t.fn.size({size:e,sizes:t.fontSizes})}const bpe=["-xs","-sm","-md","-lg","-xl"];function Epe(e,t){return bpe.includes(e)?t.fn.size({size:e.replace("-",""),sizes:t.spacing})*-1:t.fn.size({size:e,sizes:t.spacing})}const wpe={color:ype,default:_pe,fontSize:vpe,spacing:Epe},Tpe={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},mx:{type:"spacing",property:["marginRight","marginLeft"]},my:{type:"spacing",property:["marginTop","marginBottom"]},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},px:{type:"spacing",property:["paddingRight","paddingLeft"]},py:{type:"spacing",property:["paddingTop","paddingBottom"]},bg:{type:"color",property:"background"},c:{type:"color",property:"color"},opacity:{type:"default",property:"opacity"},ff:{type:"default",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"default",property:"fontWeight"},lts:{type:"default",property:"letterSpacing"},ta:{type:"default",property:"textAlign"},lh:{type:"default",property:"lineHeight"},fs:{type:"default",property:"fontStyle"},tt:{type:"default",property:"textTransform"},td:{type:"default",property:"textDecoration"},w:{type:"default",property:"width"},miw:{type:"default",property:"minWidth"},maw:{type:"default",property:"maxWidth"},h:{type:"default",property:"height"},mih:{type:"default",property:"minHeight"},mah:{type:"default",property:"maxHeight"},bgsz:{type:"default",property:"background-size"},bgp:{type:"default",property:"background-position"},bgr:{type:"default",property:"background-repeat"},bga:{type:"default",property:"background-attachment"},pos:{type:"default",property:"position"},top:{type:"default",property:"top"},left:{type:"default",property:"left"},bottom:{type:"default",property:"bottom"},right:{type:"default",property:"right"},inset:{type:"default",property:"inset"},display:{type:"default",property:"display"}};var Spe=Object.defineProperty,WM=Object.getOwnPropertySymbols,Ipe=Object.prototype.hasOwnProperty,xpe=Object.prototype.propertyIsEnumerable,qM=(e,t,n)=>t in e?Spe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,GM=(e,t)=>{for(var n in t||(t={}))Ipe.call(t,n)&&qM(e,n,t[n]);if(WM)for(var n of WM(t))xpe.call(t,n)&&qM(e,n,t[n]);return e};function TP(e,t,n=Tpe){return Object.keys(n).reduce((i,s)=>(s in e&&e[s]!==void 0&&i.push(gpe({value:e[s],getValue:wpe[n[s].type],property:n[s].property,theme:t})),i),[]).reduce((i,s)=>(Object.keys(s).forEach(o=>{typeof s[o]=="object"&&s[o]!==null&&o in i?i[o]=GM(GM({},i[o]),s[o]):i[o]=s[o]}),i),{})}function YM(e,t){return typeof e=="function"?e(t):e}function Cpe(e,t,n){const r=ts(),{css:i,cx:s}=IW();return Array.isArray(e)?s(n,i(TP(t,r)),e.map(o=>i(YM(o,r)))):s(n,i(YM(e,r)),i(TP(t,r)))}var Ape=Object.defineProperty,Jb=Object.getOwnPropertySymbols,$W=Object.prototype.hasOwnProperty,LW=Object.prototype.propertyIsEnumerable,KM=(e,t,n)=>t in e?Ape(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ope=(e,t)=>{for(var n in t||(t={}))$W.call(t,n)&&KM(e,n,t[n]);if(Jb)for(var n of Jb(t))LW.call(t,n)&&KM(e,n,t[n]);return e},Ppe=(e,t)=>{var n={};for(var r in e)$W.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Jb)for(var r of Jb(e))t.indexOf(r)<0&&LW.call(e,r)&&(n[r]=e[r]);return n};const MW=w.forwardRef((e,t)=>{var n=e,{className:r,component:i,style:s,sx:o}=n,a=Ppe(n,["className","component","style","sx"]);const{systemStyles:u,rest:l}=Kd(a),c=i||"div";return k.createElement(c,Ope({ref:t,className:Cpe(o,u,r),style:s},l))});MW.displayName="@mantine/core/Box";const lt=MW;var Rpe=Object.defineProperty,Npe=Object.defineProperties,kpe=Object.getOwnPropertyDescriptors,QM=Object.getOwnPropertySymbols,Dpe=Object.prototype.hasOwnProperty,$pe=Object.prototype.propertyIsEnumerable,XM=(e,t,n)=>t in e?Rpe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,JM=(e,t)=>{for(var n in t||(t={}))Dpe.call(t,n)&&XM(e,n,t[n]);if(QM)for(var n of QM(t))$pe.call(t,n)&&XM(e,n,t[n]);return e},Lpe=(e,t)=>Npe(e,kpe(t)),Mpe=at(e=>({root:Lpe(JM(JM({},e.fn.focusStyles()),e.fn.fontStyles()),{cursor:"pointer",border:0,padding:0,appearance:"none",fontSize:e.fontSizes.md,backgroundColor:"transparent",textAlign:"left",color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,textDecoration:"none",boxSizing:"border-box"})}));const Fpe=Mpe;var Bpe=Object.defineProperty,Zb=Object.getOwnPropertySymbols,FW=Object.prototype.hasOwnProperty,BW=Object.prototype.propertyIsEnumerable,ZM=(e,t,n)=>t in e?Bpe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jpe=(e,t)=>{for(var n in t||(t={}))FW.call(t,n)&&ZM(e,n,t[n]);if(Zb)for(var n of Zb(t))BW.call(t,n)&&ZM(e,n,t[n]);return e},Upe=(e,t)=>{var n={};for(var r in e)FW.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Zb)for(var r of Zb(e))t.indexOf(r)<0&&BW.call(e,r)&&(n[r]=e[r]);return n};const jW=w.forwardRef((e,t)=>{const n=ht("UnstyledButton",{},e),{className:r,component:i="button",unstyled:s}=n,o=Upe(n,["className","component","unstyled"]),{classes:a,cx:u}=Fpe(null,{name:"UnstyledButton",unstyled:s});return k.createElement(lt,jpe({component:i,ref:t,className:u(a.root,r),type:i==="button"?"button":void 0},o))});jW.displayName="@mantine/core/UnstyledButton";const ek=jW;var Vpe=Object.defineProperty,zpe=Object.defineProperties,Hpe=Object.getOwnPropertyDescriptors,e4=Object.getOwnPropertySymbols,Wpe=Object.prototype.hasOwnProperty,qpe=Object.prototype.propertyIsEnumerable,t4=(e,t,n)=>t in e?Vpe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,UW=(e,t)=>{for(var n in t||(t={}))Wpe.call(t,n)&&t4(e,n,t[n]);if(e4)for(var n of e4(t))qpe.call(t,n)&&t4(e,n,t[n]);return e},Gpe=(e,t)=>zpe(e,Hpe(t));const J0={xs:18,sm:22,md:28,lg:34,xl:44};function Ype({variant:e,theme:t,color:n,gradient:r}){const i=t.fn.variant({color:n,variant:e,gradient:r});return e==="gradient"?{border:0,backgroundImage:i.background,color:i.color,"&:hover":t.fn.hover({backgroundSize:"200%"})}:UW({border:`1px solid ${i.border}`,backgroundColor:i.background,color:i.color},t.fn.hover({backgroundColor:i.hover}))}var Kpe=at((e,{color:t,size:n,radius:r,variant:i,gradient:s})=>({root:Gpe(UW({},Ype({variant:i,theme:e,color:t,gradient:s})),{position:"relative",height:e.fn.size({size:n,sizes:J0}),minHeight:e.fn.size({size:n,sizes:J0}),width:e.fn.size({size:n,sizes:J0}),minWidth:e.fn.size({size:n,sizes:J0}),borderRadius:e.fn.radius(r),padding:0,lineHeight:1,display:"flex",alignItems:"center",justifyContent:"center","&:active":e.activeStyles,"&:disabled, &[data-disabled]":{color:e.colors.gray[e.colorScheme==="dark"?6:4],cursor:"not-allowed",backgroundColor:i==="transparent"?void 0:e.fn.themeColor("gray",e.colorScheme==="dark"?8:1),borderColor:i==="transparent"?void 0:e.fn.themeColor("gray",e.colorScheme==="dark"?8:1),backgroundImage:"none",pointerEvents:"none","&:active":{transform:"none"}},"&[data-loading]":{pointerEvents:"none","&::before":{content:'""',position:"absolute",top:-1,left:-1,right:-1,bottom:-1,backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.colors.dark[7],.5):"rgba(255, 255, 255, .5)",borderRadius:e.fn.radius(r),cursor:"not-allowed"}}})}));const Qpe=Kpe;var Xpe=Object.defineProperty,eE=Object.getOwnPropertySymbols,VW=Object.prototype.hasOwnProperty,zW=Object.prototype.propertyIsEnumerable,n4=(e,t,n)=>t in e?Xpe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Jpe=(e,t)=>{for(var n in t||(t={}))VW.call(t,n)&&n4(e,n,t[n]);if(eE)for(var n of eE(t))zW.call(t,n)&&n4(e,n,t[n]);return e},Zpe=(e,t)=>{var n={};for(var r in e)VW.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&eE)for(var r of eE(e))t.indexOf(r)<0&&zW.call(e,r)&&(n[r]=e[r]);return n};function eme(e){var t=e,{size:n,color:r}=t,i=Zpe(t,["size","color"]);return k.createElement("svg",Jpe({viewBox:"0 0 135 140",xmlns:"http://www.w3.org/2000/svg",fill:r,width:`${n}px`},i),k.createElement("rect",{y:"10",width:"15",height:"120",rx:"6"},k.createElement("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),k.createElement("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),k.createElement("rect",{x:"30",y:"10",width:"15",height:"120",rx:"6"},k.createElement("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),k.createElement("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),k.createElement("rect",{x:"60",width:"15",height:"140",rx:"6"},k.createElement("animate",{attributeName:"height",begin:"0s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),k.createElement("animate",{attributeName:"y",begin:"0s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),k.createElement("rect",{x:"90",y:"10",width:"15",height:"120",rx:"6"},k.createElement("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),k.createElement("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),k.createElement("rect",{x:"120",y:"10",width:"15",height:"120",rx:"6"},k.createElement("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),k.createElement("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})))}var tme=Object.defineProperty,tE=Object.getOwnPropertySymbols,HW=Object.prototype.hasOwnProperty,WW=Object.prototype.propertyIsEnumerable,r4=(e,t,n)=>t in e?tme(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nme=(e,t)=>{for(var n in t||(t={}))HW.call(t,n)&&r4(e,n,t[n]);if(tE)for(var n of tE(t))WW.call(t,n)&&r4(e,n,t[n]);return e},rme=(e,t)=>{var n={};for(var r in e)HW.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&tE)for(var r of tE(e))t.indexOf(r)<0&&WW.call(e,r)&&(n[r]=e[r]);return n};function ime(e){var t=e,{size:n,color:r}=t,i=rme(t,["size","color"]);return k.createElement("svg",nme({width:`${n}px`,height:`${n}px`,viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",stroke:r},i),k.createElement("g",{fill:"none",fillRule:"evenodd"},k.createElement("g",{transform:"translate(2.5 2.5)",strokeWidth:"5"},k.createElement("circle",{strokeOpacity:".5",cx:"16",cy:"16",r:"16"}),k.createElement("path",{d:"M32 16c0-9.94-8.06-16-16-16"},k.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 16 16",to:"360 16 16",dur:"1s",repeatCount:"indefinite"})))))}var sme=Object.defineProperty,nE=Object.getOwnPropertySymbols,qW=Object.prototype.hasOwnProperty,GW=Object.prototype.propertyIsEnumerable,i4=(e,t,n)=>t in e?sme(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ome=(e,t)=>{for(var n in t||(t={}))qW.call(t,n)&&i4(e,n,t[n]);if(nE)for(var n of nE(t))GW.call(t,n)&&i4(e,n,t[n]);return e},ame=(e,t)=>{var n={};for(var r in e)qW.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&nE)for(var r of nE(e))t.indexOf(r)<0&&GW.call(e,r)&&(n[r]=e[r]);return n};function ume(e){var t=e,{size:n,color:r}=t,i=ame(t,["size","color"]);return k.createElement("svg",ome({width:`${n}px`,height:`${n/4}px`,viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",fill:r},i),k.createElement("circle",{cx:"15",cy:"15",r:"15"},k.createElement("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),k.createElement("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})),k.createElement("circle",{cx:"60",cy:"15",r:"9",fillOpacity:"0.3"},k.createElement("animate",{attributeName:"r",from:"9",to:"9",begin:"0s",dur:"0.8s",values:"9;15;9",calcMode:"linear",repeatCount:"indefinite"}),k.createElement("animate",{attributeName:"fill-opacity",from:"0.5",to:"0.5",begin:"0s",dur:"0.8s",values:".5;1;.5",calcMode:"linear",repeatCount:"indefinite"})),k.createElement("circle",{cx:"105",cy:"15",r:"15"},k.createElement("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),k.createElement("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})))}var lme=Object.defineProperty,rE=Object.getOwnPropertySymbols,YW=Object.prototype.hasOwnProperty,KW=Object.prototype.propertyIsEnumerable,s4=(e,t,n)=>t in e?lme(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cme=(e,t)=>{for(var n in t||(t={}))YW.call(t,n)&&s4(e,n,t[n]);if(rE)for(var n of rE(t))KW.call(t,n)&&s4(e,n,t[n]);return e},fme=(e,t)=>{var n={};for(var r in e)YW.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&rE)for(var r of rE(e))t.indexOf(r)<0&&KW.call(e,r)&&(n[r]=e[r]);return n};const vC={bars:eme,oval:ime,dots:ume},dme={xs:18,sm:22,md:36,lg:44,xl:58},hme={size:"md"};function Nm(e){const t=ht("Loader",hme,e),{size:n,color:r,variant:i}=t,s=fme(t,["size","color","variant"]),o=ts(),a=i in vC?i:o.loader;return k.createElement(lt,cme({role:"presentation",component:vC[a]||vC.bars,size:o.fn.size({size:n,sizes:dme}),color:o.fn.variant({variant:"filled",primaryFallback:!1,color:r||o.primaryColor}).background},s))}Nm.displayName="@mantine/core/Loader";var pme=Object.defineProperty,iE=Object.getOwnPropertySymbols,QW=Object.prototype.hasOwnProperty,XW=Object.prototype.propertyIsEnumerable,o4=(e,t,n)=>t in e?pme(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,a4=(e,t)=>{for(var n in t||(t={}))QW.call(t,n)&&o4(e,n,t[n]);if(iE)for(var n of iE(t))XW.call(t,n)&&o4(e,n,t[n]);return e},mme=(e,t)=>{var n={};for(var r in e)QW.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&iE)for(var r of iE(e))t.indexOf(r)<0&&XW.call(e,r)&&(n[r]=e[r]);return n};const gme={color:"gray",size:"md",variant:"subtle",loading:!1},JW=w.forwardRef((e,t)=>{const n=ht("ActionIcon",gme,e),{className:r,color:i,children:s,radius:o,size:a,variant:u,gradient:l,disabled:c,loaderProps:f,loading:d,unstyled:h}=n,p=mme(n,["className","color","children","radius","size","variant","gradient","disabled","loaderProps","loading","unstyled"]),{classes:m,cx:y,theme:g}=Qpe({size:a,radius:o,color:i,variant:u,gradient:l},{name:"ActionIcon",unstyled:h}),_=g.fn.variant({color:i,variant:u}),b=k.createElement(Nm,a4({color:_.color,size:g.fn.size({size:a,sizes:J0})-12},f));return k.createElement(ek,a4({className:y(m.root,r),ref:t,disabled:c,"data-disabled":c||void 0,"data-loading":d||void 0,unstyled:h},p),d?b:s)});JW.displayName="@mantine/core/ActionIcon";const tk=JW;function ZW(e){const{children:t,target:n,className:r}=ht("Portal",{},e),i=ts(),[s,o]=w.useState(!1),a=w.useRef();return XN(()=>(o(!0),a.current=n?typeof n=="string"?document.querySelector(n):n:document.createElement("div"),n||document.body.appendChild(a.current),()=>{!n&&document.body.removeChild(a.current)}),[n]),s?y_.createPortal(k.createElement("div",{className:r,dir:i.dir},t),a.current):null}ZW.displayName="@mantine/core/Portal";var yme=Object.defineProperty,sE=Object.getOwnPropertySymbols,eq=Object.prototype.hasOwnProperty,tq=Object.prototype.propertyIsEnumerable,u4=(e,t,n)=>t in e?yme(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_me=(e,t)=>{for(var n in t||(t={}))eq.call(t,n)&&u4(e,n,t[n]);if(sE)for(var n of sE(t))tq.call(t,n)&&u4(e,n,t[n]);return e},vme=(e,t)=>{var n={};for(var r in e)eq.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&sE)for(var r of sE(e))t.indexOf(r)<0&&tq.call(e,r)&&(n[r]=e[r]);return n};function w_(e){var t=e,{withinPortal:n=!0,children:r}=t,i=vme(t,["withinPortal","children"]);return n?k.createElement(ZW,_me({},i),r):k.createElement(k.Fragment,null,r)}w_.displayName="@mantine/core/OptionalPortal";var bme=Object.defineProperty,Eme=Object.defineProperties,wme=Object.getOwnPropertyDescriptors,l4=Object.getOwnPropertySymbols,Tme=Object.prototype.hasOwnProperty,Sme=Object.prototype.propertyIsEnumerable,c4=(e,t,n)=>t in e?bme(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bC=(e,t)=>{for(var n in t||(t={}))Tme.call(t,n)&&c4(e,n,t[n]);if(l4)for(var n of l4(t))Sme.call(t,n)&&c4(e,n,t[n]);return e},f4=(e,t)=>Eme(e,wme(t));function Ime({variant:e,color:t,theme:n}){if(e==="filled")return{backgroundColor:n.fn.variant({variant:"filled",color:t}).background,color:n.white};if(e==="outline"){const i=n.fn.variant({variant:"outline",color:t});return{color:i.color,borderColor:i.border,backgroundColor:n.colorScheme==="dark"?n.colors.dark[6]:n.white}}const r=n.fn.variant({variant:"light",color:t});return{backgroundColor:r.background,color:r.color}}var xme=at((e,{color:t,radius:n,variant:r})=>({root:bC(f4(bC({},e.fn.fontStyles()),{position:"relative",overflow:"hidden",padding:`${e.spacing.sm}px ${e.spacing.md}px`,borderRadius:e.fn.radius(n),border:"1px solid transparent"}),Ime({variant:r,color:t,theme:e})),wrapper:{display:"flex"},body:{flex:1},title:{boxSizing:"border-box",margin:0,marginBottom:7,display:"flex",alignItems:"center",justifyContent:"space-between",lineHeight:e.lineHeight,fontSize:e.fontSizes.sm,fontWeight:700,"&[data-with-close-button]":{paddingRight:e.spacing.md}},label:{display:"block",overflow:"hidden",textOverflow:"ellipsis"},icon:{lineHeight:1,width:20,height:20,display:"flex",alignItems:"center",justifyContent:"flex-start",marginRight:e.spacing.md,marginTop:1},message:f4(bC({},e.fn.fontStyles()),{lineHeight:e.lineHeight,textOverflow:"ellipsis",overflow:"hidden",fontSize:e.fontSizes.sm,color:r==="filled"?e.white:e.colorScheme==="dark"?r==="light"?e.white:e.colors.dark[0]:e.black}),closeButton:{position:"absolute",top:e.spacing.sm,right:e.spacing.sm,color:"inherit"}}));const Cme=xme;var Ame=Object.defineProperty,d4=Object.getOwnPropertySymbols,Ome=Object.prototype.hasOwnProperty,Pme=Object.prototype.propertyIsEnumerable,h4=(e,t,n)=>t in e?Ame(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Rme=(e,t)=>{for(var n in t||(t={}))Ome.call(t,n)&&h4(e,n,t[n]);if(d4)for(var n of d4(t))Pme.call(t,n)&&h4(e,n,t[n]);return e};function nq(e){return k.createElement("svg",Rme({viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),k.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}nq.displayName="@mantine/core/CloseIcon";var Nme=Object.defineProperty,oE=Object.getOwnPropertySymbols,rq=Object.prototype.hasOwnProperty,iq=Object.prototype.propertyIsEnumerable,p4=(e,t,n)=>t in e?Nme(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kme=(e,t)=>{for(var n in t||(t={}))rq.call(t,n)&&p4(e,n,t[n]);if(oE)for(var n of oE(t))iq.call(t,n)&&p4(e,n,t[n]);return e},Dme=(e,t)=>{var n={};for(var r in e)rq.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&oE)for(var r of oE(e))t.indexOf(r)<0&&iq.call(e,r)&&(n[r]=e[r]);return n};const $me={xs:12,sm:14,md:16,lg:20,xl:24},Lme={size:"md"},sq=w.forwardRef((e,t)=>{const n=ht("CloseButton",Lme,e),{iconSize:r,size:i="md"}=n,s=Dme(n,["iconSize","size"]),o=ts(),a=r||o.fn.size({size:i,sizes:$me});return k.createElement(tk,kme({size:i,ref:t},s),k.createElement(nq,{width:a,height:a}))});sq.displayName="@mantine/core/CloseButton";const DS=sq;var Mme=Object.defineProperty,aE=Object.getOwnPropertySymbols,oq=Object.prototype.hasOwnProperty,aq=Object.prototype.propertyIsEnumerable,m4=(e,t,n)=>t in e?Mme(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Fme=(e,t)=>{for(var n in t||(t={}))oq.call(t,n)&&m4(e,n,t[n]);if(aE)for(var n of aE(t))aq.call(t,n)&&m4(e,n,t[n]);return e},Bme=(e,t)=>{var n={};for(var r in e)oq.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&aE)for(var r of aE(e))t.indexOf(r)<0&&aq.call(e,r)&&(n[r]=e[r]);return n};const jme={variant:"light"},uq=w.forwardRef((e,t)=>{const n=ht("Alert",jme,e),{id:r,className:i,title:s,variant:o,children:a,color:u,classNames:l,icon:c,styles:f,onClose:d,radius:h,withCloseButton:p,closeButtonLabel:m,unstyled:y}=n,g=Bme(n,["id","className","title","variant","children","color","classNames","icon","styles","onClose","radius","withCloseButton","closeButtonLabel","unstyled"]),{classes:_,cx:b}=Cme({color:u,radius:h,variant:o},{classNames:l,styles:f,unstyled:y,name:"Alert"}),T=Ru(r),I=s&&`${T}-title`,E=`${T}-body`;return k.createElement(lt,Fme({id:T,role:"alert","aria-labelledby":I,"aria-describedby":E,className:b(_.root,_[o],i),ref:t},g),k.createElement("div",{className:_.wrapper},c&&k.createElement("div",{className:_.icon},c),k.createElement("div",{className:_.body},s&&k.createElement("div",{className:_.title,"data-with-close-button":p||void 0},k.createElement("span",{id:I,className:_.label},s)),p&&k.createElement(DS,{className:_.closeButton,onClick:d,variant:"transparent",size:16,iconSize:16,"aria-label":m}),k.createElement("div",{id:E,className:_.message},a))))});uq.displayName="@mantine/core/Alert";var Ume=Object.defineProperty,Vme=Object.defineProperties,zme=Object.getOwnPropertyDescriptors,g4=Object.getOwnPropertySymbols,Hme=Object.prototype.hasOwnProperty,Wme=Object.prototype.propertyIsEnumerable,y4=(e,t,n)=>t in e?Ume(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Fv=(e,t)=>{for(var n in t||(t={}))Hme.call(t,n)&&y4(e,n,t[n]);if(g4)for(var n of g4(t))Wme.call(t,n)&&y4(e,n,t[n]);return e},qme=(e,t)=>Vme(e,zme(t));function Gme({underline:e,strikethrough:t}){const n=[];return e&&n.push("underline"),t&&n.push("line-through"),n.length>0?n.join(" "):"none"}function Yme({theme:e,color:t,variant:n}){return t==="dimmed"?e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6]:typeof t=="string"&&(t in e.colors||t.split(".")[0]in e.colors)?e.fn.variant({variant:"filled",color:t}).background:n==="link"?e.colors[e.primaryColor][e.colorScheme==="dark"?4:7]:t||"inherit"}function Kme(e){return typeof e=="number"?{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:e,WebkitBoxOrient:"vertical"}:null}var Qme=at((e,{color:t,variant:n,size:r,lineClamp:i,inline:s,inherit:o,underline:a,gradient:u,weight:l,transform:c,align:f,strikethrough:d,italic:h})=>{const p=e.fn.variant({variant:"gradient",gradient:u});return{root:Fv(qme(Fv(Fv(Fv({},e.fn.fontStyles()),e.fn.focusStyles()),Kme(i)),{color:Yme({color:t,theme:e,variant:n}),fontFamily:o?"inherit":e.fontFamily,fontSize:o||r===void 0?"inherit":e.fn.size({size:r,sizes:e.fontSizes}),lineHeight:o?"inherit":s?1:e.lineHeight,textDecoration:Gme({underline:a,strikethrough:d}),WebkitTapHighlightColor:"transparent",fontWeight:o?"inherit":l,textTransform:c,textAlign:f,fontStyle:h?"italic":void 0}),e.fn.hover(n==="link"&&a===void 0?{textDecoration:"underline"}:void 0)),gradient:{backgroundImage:p.background,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"}}});const Xme=Qme;var Jme=Object.defineProperty,uE=Object.getOwnPropertySymbols,lq=Object.prototype.hasOwnProperty,cq=Object.prototype.propertyIsEnumerable,_4=(e,t,n)=>t in e?Jme(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Zme=(e,t)=>{for(var n in t||(t={}))lq.call(t,n)&&_4(e,n,t[n]);if(uE)for(var n of uE(t))cq.call(t,n)&&_4(e,n,t[n]);return e},e0e=(e,t)=>{var n={};for(var r in e)lq.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&uE)for(var r of uE(e))t.indexOf(r)<0&&cq.call(e,r)&&(n[r]=e[r]);return n};const t0e={variant:"text"},fq=w.forwardRef((e,t)=>{const n=ht("Text",t0e,e),{className:r,size:i,weight:s,transform:o,color:a,align:u,variant:l,lineClamp:c,gradient:f,inline:d,inherit:h,underline:p,strikethrough:m,italic:y,classNames:g,styles:_,unstyled:b,span:T}=n,I=e0e(n,["className","size","weight","transform","color","align","variant","lineClamp","gradient","inline","inherit","underline","strikethrough","italic","classNames","styles","unstyled","span"]),{classes:E,cx:S}=Xme({variant:l,color:a,size:i,lineClamp:c,inline:d,inherit:h,underline:p,strikethrough:m,italic:y,weight:s,transform:o,align:u,gradient:f},{unstyled:b,name:"Text"});return k.createElement(lt,Zme({ref:t,className:S(E.root,{[E.gradient]:l==="gradient"},r),component:T?"span":"div"},I))});fq.displayName="@mantine/core/Text";const Ct=fq;var n0e=at(()=>({root:{backgroundColor:"transparent",cursor:"pointer",padding:0,border:0}}));const r0e=n0e;var i0e=Object.defineProperty,lE=Object.getOwnPropertySymbols,dq=Object.prototype.hasOwnProperty,hq=Object.prototype.propertyIsEnumerable,v4=(e,t,n)=>t in e?i0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,b4=(e,t)=>{for(var n in t||(t={}))dq.call(t,n)&&v4(e,n,t[n]);if(lE)for(var n of lE(t))hq.call(t,n)&&v4(e,n,t[n]);return e},s0e=(e,t)=>{var n={};for(var r in e)dq.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&lE)for(var r of lE(e))t.indexOf(r)<0&&hq.call(e,r)&&(n[r]=e[r]);return n};const o0e={},pq=w.forwardRef((e,t)=>{const n=ht("Anchor",o0e,e),{component:r,className:i,unstyled:s}=n,o=s0e(n,["component","className","unstyled"]),{classes:a,cx:u}=r0e(null,{name:"Anchor",unstyled:s}),l=r==="button"?{type:"button"}:null;return k.createElement(Ct,b4(b4({component:r||"a",variant:"link",ref:t,className:u(a.root,i)},l),o))});pq.displayName="@mantine/core/Anchor";const mq=pq,gq=w.createContext({}),a0e=gq.Provider;function yq(){return w.useContext(gq)}function $S(e,t){if(!e)return[];const n=Object.keys(e).filter(r=>r!=="base").map(r=>[t.fn.size({size:r,sizes:t.breakpoints}),e[r]]);return n.sort((r,i)=>r[0]-i[0]),n}var u0e=Object.defineProperty,l0e=Object.defineProperties,c0e=Object.getOwnPropertyDescriptors,E4=Object.getOwnPropertySymbols,f0e=Object.prototype.hasOwnProperty,d0e=Object.prototype.propertyIsEnumerable,w4=(e,t,n)=>t in e?u0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Bv=(e,t)=>{for(var n in t||(t={}))f0e.call(t,n)&&w4(e,n,t[n]);if(E4)for(var n of E4(t))d0e.call(t,n)&&w4(e,n,t[n]);return e},T4=(e,t)=>l0e(e,c0e(t)),h0e=at((e,{height:t,width:n,fixed:r,position:i,hiddenBreakpoint:s,zIndex:o,section:a,withBorder:u})=>{const l=typeof n=="object"&&n!==null?$S(n,e).reduce((f,[d,h])=>(f[`@media (min-width: ${d}px)`]={width:h,minWidth:h},f),{}):null,c=u?{[a==="navbar"?"borderRight":"borderLeft"]:`1px solid ${e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[2]}`}:{};return{root:T4(Bv(Bv(T4(Bv(Bv({},e.fn.fontStyles()),i),{top:(i==null?void 0:i.top)||"var(--mantine-header-height)",bottom:0,zIndex:o,height:t||"calc(100vh - var(--mantine-header-height, 0px) - var(--mantine-footer-height, 0px))",width:(n==null?void 0:n.base)||"100%",position:r?"fixed":"static",boxSizing:"border-box",display:"flex",flexDirection:"column",backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white}),c),l),{"&[data-hidden]":{[`@media (max-width: ${e.fn.size({size:s,sizes:e.breakpoints})-1}px)`]:{display:"none"}}})}});const p0e=h0e;var m0e=Object.defineProperty,cE=Object.getOwnPropertySymbols,_q=Object.prototype.hasOwnProperty,vq=Object.prototype.propertyIsEnumerable,S4=(e,t,n)=>t in e?m0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,I4=(e,t)=>{for(var n in t||(t={}))_q.call(t,n)&&S4(e,n,t[n]);if(cE)for(var n of cE(t))vq.call(t,n)&&S4(e,n,t[n]);return e},g0e=(e,t)=>{var n={};for(var r in e)_q.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&cE)for(var r of cE(e))t.indexOf(r)<0&&vq.call(e,r)&&(n[r]=e[r]);return n};const nk=w.forwardRef((e,t)=>{var n=e,{width:r,height:i,fixed:s=!1,position:o,zIndex:a=Eo("app"),hiddenBreakpoint:u="md",hidden:l=!1,withBorder:c=!0,className:f,classNames:d,styles:h,children:p,section:m,__staticSelector:y,unstyled:g}=n,_=g0e(n,["width","height","fixed","position","zIndex","hiddenBreakpoint","hidden","withBorder","className","classNames","styles","children","section","__staticSelector","unstyled"]);const b=yq(),{classes:T,cx:I,theme:E}=p0e({width:r,height:i,fixed:b.fixed||s,position:o,hiddenBreakpoint:u,zIndex:b.zIndex||a,section:m,withBorder:c},{classNames:d,styles:h,name:y,unstyled:g}),S=$S(r,E).reduce((A,[L,W])=>(A[`@media (min-width: ${L}px)`]={[`--mantine-${m}-width`]:`${W}px`},A),{});return k.createElement(lt,I4({component:m==="navbar"?"nav":"aside",ref:t,"data-hidden":l||void 0,className:I(T.root,f)},_),p,k.createElement(xW,{styles:()=>({":root":I4({[`--mantine-${m}-width`]:r!=null&&r.base?`${r.base}px`:"0px"},S)})}))});nk.displayName="@mantine/core/HorizontalSection";var y0e=Object.defineProperty,fE=Object.getOwnPropertySymbols,bq=Object.prototype.hasOwnProperty,Eq=Object.prototype.propertyIsEnumerable,x4=(e,t,n)=>t in e?y0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_0e=(e,t)=>{for(var n in t||(t={}))bq.call(t,n)&&x4(e,n,t[n]);if(fE)for(var n of fE(t))Eq.call(t,n)&&x4(e,n,t[n]);return e},v0e=(e,t)=>{var n={};for(var r in e)bq.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&fE)for(var r of fE(e))t.indexOf(r)<0&&Eq.call(e,r)&&(n[r]=e[r]);return n};const wq=w.forwardRef((e,t)=>{var n=e,{children:r,grow:i=!1,sx:s}=n,o=v0e(n,["children","grow","sx"]);return k.createElement(lt,_0e({ref:t,sx:[{flex:i?1:0,boxSizing:"border-box"},...Pd(s)]},o),r)});wq.displayName="@mantine/core/Section";const Tq=wq;var b0e=Object.defineProperty,C4=Object.getOwnPropertySymbols,E0e=Object.prototype.hasOwnProperty,w0e=Object.prototype.propertyIsEnumerable,A4=(e,t,n)=>t in e?b0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,T0e=(e,t)=>{for(var n in t||(t={}))E0e.call(t,n)&&A4(e,n,t[n]);if(C4)for(var n of C4(t))w0e.call(t,n)&&A4(e,n,t[n]);return e};const S0e={fixed:!1,position:{top:0,left:0},zIndex:Eo("app"),hiddenBreakpoint:"md",hidden:!1},Tg=w.forwardRef((e,t)=>{const n=ht("Navbar",S0e,e);return k.createElement(nk,T0e({section:"navbar",__staticSelector:"Navbar",ref:t},n))});Tg.Section=Tq;Tg.displayName="@mantine/core/Navbar";var I0e=Object.defineProperty,x0e=Object.defineProperties,C0e=Object.getOwnPropertyDescriptors,O4=Object.getOwnPropertySymbols,A0e=Object.prototype.hasOwnProperty,O0e=Object.prototype.propertyIsEnumerable,P4=(e,t,n)=>t in e?I0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,EC=(e,t)=>{for(var n in t||(t={}))A0e.call(t,n)&&P4(e,n,t[n]);if(O4)for(var n of O4(t))O0e.call(t,n)&&P4(e,n,t[n]);return e},R4=(e,t)=>x0e(e,C0e(t)),P0e=at((e,{height:t,fixed:n,position:r,zIndex:i,borderPosition:s})=>{const o=typeof t=="object"&&t!==null?$S(t,e).reduce((a,[u,l])=>(a[`@media (min-width: ${u}px)`]={height:l,minHeight:l},a),{}):null;return{root:R4(EC(R4(EC(EC({},e.fn.fontStyles()),r),{zIndex:i,height:typeof t=="object"?(t==null?void 0:t.base)||"100%":t,maxHeight:typeof t=="object"?(t==null?void 0:t.base)||"100%":t,position:n?"fixed":"static",boxSizing:"border-box",backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white}),o),{borderBottom:s==="bottom"?`1px solid ${e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[2]}`:void 0,borderTop:s==="top"?`1px solid ${e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[2]}`:void 0})}});const R0e=P0e;var N0e=Object.defineProperty,dE=Object.getOwnPropertySymbols,Sq=Object.prototype.hasOwnProperty,Iq=Object.prototype.propertyIsEnumerable,N4=(e,t,n)=>t in e?N0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,k4=(e,t)=>{for(var n in t||(t={}))Sq.call(t,n)&&N4(e,n,t[n]);if(dE)for(var n of dE(t))Iq.call(t,n)&&N4(e,n,t[n]);return e},k0e=(e,t)=>{var n={};for(var r in e)Sq.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&dE)for(var r of dE(e))t.indexOf(r)<0&&Iq.call(e,r)&&(n[r]=e[r]);return n};const xq=w.forwardRef((e,t)=>{var n=e,{children:r,className:i,classNames:s,styles:o,height:a,fixed:u=!1,withBorder:l=!0,position:c,zIndex:f=Eo("app"),section:d,unstyled:h,__staticSelector:p}=n,m=k0e(n,["children","className","classNames","styles","height","fixed","withBorder","position","zIndex","section","unstyled","__staticSelector"]);const y=yq(),{classes:g,cx:_,theme:b}=R0e({height:a,fixed:y.fixed||u,position:c,zIndex:y.zIndex||f,borderPosition:l?d==="header"?"bottom":"top":"none"},{name:p,classNames:s,styles:o,unstyled:h}),T=typeof a=="object"&&a!==null?$S(a,b).reduce((I,[E,S])=>(I[`@media (min-width: ${E}px)`]={[`--mantine-${d}-height`]:`${S}px`},I),{}):null;return k.createElement(lt,k4({component:d==="header"?"header":"footer",className:_(g.root,i),ref:t},m),r,k.createElement(xW,{styles:()=>({":root":k4({[`--mantine-${d}-height`]:typeof a=="object"?`${a==null?void 0:a.base}px`||"100%":`${a}px`},T)})}))});xq.displayName="@mantine/core/VerticalSection";var D0e=Object.defineProperty,$0e=Object.defineProperties,L0e=Object.getOwnPropertyDescriptors,D4=Object.getOwnPropertySymbols,M0e=Object.prototype.hasOwnProperty,F0e=Object.prototype.propertyIsEnumerable,$4=(e,t,n)=>t in e?D0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,B0e=(e,t)=>{for(var n in t||(t={}))M0e.call(t,n)&&$4(e,n,t[n]);if(D4)for(var n of D4(t))F0e.call(t,n)&&$4(e,n,t[n]);return e},j0e=(e,t)=>$0e(e,L0e(t));const U0e={fixed:!1,position:{top:0,left:0,right:0},zIndex:Eo("app")},Cq=w.forwardRef((e,t)=>{const n=ht("Header",U0e,e);return k.createElement(xq,j0e(B0e({section:"header",__staticSelector:"Header"},n),{ref:t}))});Cq.displayName="@mantine/core/Header";var V0e=Object.defineProperty,L4=Object.getOwnPropertySymbols,z0e=Object.prototype.hasOwnProperty,H0e=Object.prototype.propertyIsEnumerable,M4=(e,t,n)=>t in e?V0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,W0e=(e,t)=>{for(var n in t||(t={}))z0e.call(t,n)&&M4(e,n,t[n]);if(L4)for(var n of L4(t))H0e.call(t,n)&&M4(e,n,t[n]);return e};const q0e={fixed:!1,position:{top:0,right:0},zIndex:Eo("app"),hiddenBreakpoint:"md",hidden:!1},Yh=w.forwardRef((e,t)=>{const n=ht("Aside",q0e,e);return k.createElement(nk,W0e({section:"aside",__staticSelector:"Aside",ref:t},n))});Yh.Section=Tq;Yh.displayName="@mantine/core/Aside";var G0e=Object.defineProperty,F4=Object.getOwnPropertySymbols,Y0e=Object.prototype.hasOwnProperty,K0e=Object.prototype.propertyIsEnumerable,B4=(e,t,n)=>t in e?G0e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Q0e=(e,t)=>{for(var n in t||(t={}))Y0e.call(t,n)&&B4(e,n,t[n]);if(F4)for(var n of F4(t))K0e.call(t,n)&&B4(e,n,t[n]);return e};function X0e(e,t){const n=t.fn.size({size:e.padding,sizes:t.spacing}),r=e.navbarOffsetBreakpoint?t.fn.size({size:e.navbarOffsetBreakpoint,sizes:t.breakpoints}):null,i=e.asideOffsetBreakpoint?t.fn.size({size:e.asideOffsetBreakpoint,sizes:t.breakpoints}):null;return e.fixed?{minHeight:"100vh",paddingTop:`calc(var(--mantine-header-height, 0px) + ${n}px)`,paddingBottom:`calc(var(--mantine-footer-height, 0px) + ${n}px)`,paddingLeft:`calc(var(--mantine-navbar-width, 0px) + ${n}px)`,paddingRight:`calc(var(--mantine-aside-width, 0px) + ${n}px)`,[`@media (max-width: ${r-1}px)`]:{paddingLeft:n},[`@media (max-width: ${i-1}px)`]:{paddingRight:n}}:{padding:n}}var J0e=at((e,t)=>({root:{boxSizing:"border-box"},body:{display:"flex",boxSizing:"border-box"},main:Q0e({flex:1,width:"100vw",boxSizing:"border-box"},X0e(t,e))}));const Z0e=J0e;var ege=Object.defineProperty,hE=Object.getOwnPropertySymbols,Aq=Object.prototype.hasOwnProperty,Oq=Object.prototype.propertyIsEnumerable,j4=(e,t,n)=>t in e?ege(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tge=(e,t)=>{for(var n in t||(t={}))Aq.call(t,n)&&j4(e,n,t[n]);if(hE)for(var n of hE(t))Oq.call(t,n)&&j4(e,n,t[n]);return e},nge=(e,t)=>{var n={};for(var r in e)Aq.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&hE)for(var r of hE(e))t.indexOf(r)<0&&Oq.call(e,r)&&(n[r]=e[r]);return n};const rge={fixed:!0,zIndex:Eo("app"),padding:"md"},Pq=w.forwardRef((e,t)=>{const n=ht("AppShell",rge,e),{children:r,navbar:i,header:s,footer:o,aside:a,fixed:u,zIndex:l,padding:c,navbarOffsetBreakpoint:f,asideOffsetBreakpoint:d,className:h,styles:p,classNames:m,unstyled:y,hidden:g}=n,_=nge(n,["children","navbar","header","footer","aside","fixed","zIndex","padding","navbarOffsetBreakpoint","asideOffsetBreakpoint","className","styles","classNames","unstyled","hidden"]),{classes:b,cx:T}=Z0e({padding:c,fixed:u,navbarOffsetBreakpoint:f,asideOffsetBreakpoint:d},{styles:p,classNames:m,unstyled:y,name:"AppShell"});return g?k.createElement(k.Fragment,null,r):k.createElement(a0e,{value:{fixed:u,zIndex:l}},k.createElement(lt,tge({className:T(b.root,h),ref:t},_),s,k.createElement("div",{className:b.body},i,k.createElement("main",{className:b.main},r),a),o))});Pq.displayName="@mantine/core/AppShell";const jv={xs:1,sm:2,md:3,lg:4,xl:5};function Uv(e,t){const n=e.fn.variant({variant:"outline",color:t}).border;return typeof t=="string"&&(t in e.colors||t.split(".")[0]in e.colors)?n:t===void 0?e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]:t}var ige=at((e,{size:t,variant:n,color:r})=>({root:{},withLabel:{borderTop:"0 !important"},left:{"&::before":{display:"none"}},right:{"&::after":{display:"none"}},label:{display:"flex",alignItems:"center","&::before":{content:'""',flex:1,height:1,borderTop:`${e.fn.size({size:t,sizes:jv})}px ${n} ${Uv(e,r)}`,marginRight:e.spacing.xs},"&::after":{content:'""',flex:1,borderTop:`${e.fn.size({size:t,sizes:jv})}px ${n} ${Uv(e,r)}`,marginLeft:e.spacing.xs}},labelDefaultStyles:{color:r==="dark"?e.colors.dark[1]:e.fn.themeColor(r,e.colorScheme==="dark"?5:e.fn.primaryShade(),!1)},horizontal:{border:0,borderTopWidth:e.fn.size({size:t,sizes:jv}),borderTopColor:Uv(e,r),borderTopStyle:n,margin:0},vertical:{border:0,alignSelf:"stretch",height:"auto",borderLeftWidth:e.fn.size({size:t,sizes:jv}),borderLeftColor:Uv(e,r),borderLeftStyle:n}}));const sge=ige;var oge=Object.defineProperty,age=Object.defineProperties,uge=Object.getOwnPropertyDescriptors,pE=Object.getOwnPropertySymbols,Rq=Object.prototype.hasOwnProperty,Nq=Object.prototype.propertyIsEnumerable,U4=(e,t,n)=>t in e?oge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,V4=(e,t)=>{for(var n in t||(t={}))Rq.call(t,n)&&U4(e,n,t[n]);if(pE)for(var n of pE(t))Nq.call(t,n)&&U4(e,n,t[n]);return e},lge=(e,t)=>age(e,uge(t)),cge=(e,t)=>{var n={};for(var r in e)Rq.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&pE)for(var r of pE(e))t.indexOf(r)<0&&Nq.call(e,r)&&(n[r]=e[r]);return n};const fge={orientation:"horizontal",size:"xs",labelPosition:"left",variant:"solid"},md=w.forwardRef((e,t)=>{const n=ht("Divider",fge,e),{className:r,color:i,orientation:s,size:o,label:a,labelPosition:u,labelProps:l,variant:c,styles:f,classNames:d,unstyled:h}=n,p=cge(n,["className","color","orientation","size","label","labelPosition","labelProps","variant","styles","classNames","unstyled"]),{classes:m,cx:y}=sge({color:i,size:o,variant:c},{classNames:d,styles:f,unstyled:h,name:"Divider"}),g=s==="vertical",_=s==="horizontal",b=!!a&&_,T=!(l!=null&&l.color);return k.createElement(lt,V4({ref:t,className:y(m.root,{[m.vertical]:g,[m.horizontal]:_,[m.withLabel]:b},r),role:"separator"},p),b&&k.createElement(Ct,lge(V4({},l),{size:(l==null?void 0:l.size)||"xs",sx:{marginTop:2},className:y(m.label,m[u],{[m.labelDefaultStyles]:T})}),a))});md.displayName="@mantine/core/Divider";var dge=Object.defineProperty,hge=Object.defineProperties,pge=Object.getOwnPropertyDescriptors,z4=Object.getOwnPropertySymbols,mge=Object.prototype.hasOwnProperty,gge=Object.prototype.propertyIsEnumerable,H4=(e,t,n)=>t in e?dge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,W4=(e,t)=>{for(var n in t||(t={}))mge.call(t,n)&&H4(e,n,t[n]);if(z4)for(var n of z4(t))gge.call(t,n)&&H4(e,n,t[n]);return e},yge=(e,t)=>hge(e,pge(t)),_ge=at((e,{size:t})=>({item:yge(W4({},e.fn.fontStyles()),{boxSizing:"border-box",textAlign:"left",width:"100%",padding:`${e.fn.size({size:t,sizes:e.spacing})/1.5}px ${e.fn.size({size:t,sizes:e.spacing})}px`,cursor:"pointer",fontSize:e.fn.size({size:t,sizes:e.fontSizes}),color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,borderRadius:e.radius.sm,"&[data-hovered]":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[1]},"&[data-selected]":W4({backgroundColor:e.fn.variant({variant:"filled"}).background,color:e.fn.variant({variant:"filled"}).color},e.fn.hover({backgroundColor:e.fn.variant({variant:"filled"}).hover})),"&[data-disabled]":{cursor:"default",color:e.colors.dark[2]}}),nothingFound:{boxSizing:"border-box",color:e.colors.gray[6],paddingTop:e.fn.size({size:t,sizes:e.spacing})/2,paddingBottom:e.fn.size({size:t,sizes:e.spacing})/2,textAlign:"center"},separator:{boxSizing:"border-box",textAlign:"left",width:"100%",padding:`${e.fn.size({size:t,sizes:e.spacing})/1.5}px ${e.fn.size({size:t,sizes:e.spacing})}px`},separatorLabel:{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]}}));const vge=_ge;var bge=Object.defineProperty,q4=Object.getOwnPropertySymbols,Ege=Object.prototype.hasOwnProperty,wge=Object.prototype.propertyIsEnumerable,G4=(e,t,n)=>t in e?bge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Tge=(e,t)=>{for(var n in t||(t={}))Ege.call(t,n)&&G4(e,n,t[n]);if(q4)for(var n of q4(t))wge.call(t,n)&&G4(e,n,t[n]);return e};function rk({data:e,hovered:t,classNames:n,styles:r,isItemSelected:i,uuid:s,__staticSelector:o,onItemHover:a,onItemSelect:u,itemsRefs:l,itemComponent:c,size:f,nothingFound:d,creatable:h,createLabel:p,unstyled:m}){const{classes:y}=vge({size:f},{classNames:n,styles:r,unstyled:m,name:o}),g=[],_=[];let b=null;const T=(E,S)=>{const A=typeof i=="function"?i(E.value):!1;return k.createElement(c,Tge({key:E.value,className:y.item,"data-disabled":E.disabled||void 0,"data-hovered":!E.disabled&&t===S||void 0,"data-selected":!E.disabled&&A||void 0,onMouseEnter:()=>a(S),id:`${s}-${S}`,role:"option",tabIndex:-1,"aria-selected":t===S,ref:L=>{l&&l.current&&(l.current[E.value]=L)},onMouseDown:E.disabled?null:L=>{L.preventDefault(),u(E)},disabled:E.disabled},E))};let I=null;if(e.forEach((E,S)=>{E.creatable?b=S:E.group?(I!==E.group&&(I=E.group,_.push(k.createElement("div",{className:y.separator,key:`__mantine-divider-${S}`},k.createElement(md,{classNames:{label:y.separatorLabel},label:E.group})))),_.push(T(E,S))):g.push(T(E,S))}),h){const E=e[b];g.push(k.createElement("div",{key:fpe(),className:y.item,"data-hovered":t===b||void 0,onMouseEnter:()=>a(b),onMouseDown:S=>{S.preventDefault(),u(E)},tabIndex:-1,ref:S=>{l&&l.current&&(l.current[E.value]=S)}},p))}return _.length>0&&g.length>0&&g.unshift(k.createElement("div",{className:y.separator,key:"empty-group-separator"},k.createElement(md,null))),_.length>0||g.length>0?k.createElement(k.Fragment,null,_,g):k.createElement(Ct,{size:f,unstyled:m,className:y.nothingFound},d)}rk.displayName="@mantine/core/SelectItems";var Sge=Object.defineProperty,mE=Object.getOwnPropertySymbols,kq=Object.prototype.hasOwnProperty,Dq=Object.prototype.propertyIsEnumerable,Y4=(e,t,n)=>t in e?Sge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ige=(e,t)=>{for(var n in t||(t={}))kq.call(t,n)&&Y4(e,n,t[n]);if(mE)for(var n of mE(t))Dq.call(t,n)&&Y4(e,n,t[n]);return e},xge=(e,t)=>{var n={};for(var r in e)kq.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&mE)for(var r of mE(e))t.indexOf(r)<0&&Dq.call(e,r)&&(n[r]=e[r]);return n};const ik=w.forwardRef((e,t)=>{var n=e,{label:r,value:i}=n,s=xge(n,["label","value"]);return k.createElement("div",Ige({ref:t},s),r||i)});ik.displayName="@mantine/core/DefaultItem";function Cge(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function $q(...e){return t=>e.forEach(n=>Cge(n,t))}function Qd(...e){return w.useCallback($q(...e),e)}const Lq=w.forwardRef((e,t)=>{const{children:n,...r}=e,i=w.Children.toArray(n),s=i.find(Oge);if(s){const o=s.props.children,a=i.map(u=>u===s?w.Children.count(o)>1?w.Children.only(null):w.isValidElement(o)?o.props.children:null:u);return w.createElement(SP,cr({},r,{ref:t}),w.isValidElement(o)?w.cloneElement(o,void 0,a):null)}return w.createElement(SP,cr({},r,{ref:t}),n)});Lq.displayName="Slot";const SP=w.forwardRef((e,t)=>{const{children:n,...r}=e;return w.isValidElement(n)?w.cloneElement(n,{...Pge(r,n.props),ref:$q(t,n.ref)}):w.Children.count(n)>1?w.Children.only(null):null});SP.displayName="SlotClone";const Age=({children:e})=>w.createElement(w.Fragment,null,e);function Oge(e){return w.isValidElement(e)&&e.type===Age}function Pge(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?n[r]=(...a)=>{s==null||s(...a),i==null||i(...a)}:r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}const Rge=["a","button","div","h2","h3","img","li","nav","ol","p","span","svg","ul"],T_=Rge.reduce((e,t)=>{const n=w.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?Lq:t;return w.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),w.createElement(a,cr({},o,{ref:i}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),IP=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{};function Nge(e,t){return w.useReducer((n,r)=>{const i=t[n][r];return i??n},e)}const S_=e=>{const{present:t,children:n}=e,r=kge(t),i=typeof n=="function"?n({present:r.isPresent}):w.Children.only(n),s=Qd(r.ref,i.ref);return typeof n=="function"||r.isPresent?w.cloneElement(i,{ref:s}):null};S_.displayName="Presence";function kge(e){const[t,n]=w.useState(),r=w.useRef({}),i=w.useRef(e),s=w.useRef("none"),o=e?"mounted":"unmounted",[a,u]=Nge(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const l=Vv(r.current);s.current=a==="mounted"?l:"none"},[a]),IP(()=>{const l=r.current,c=i.current;if(c!==e){const d=s.current,h=Vv(l);e?u("MOUNT"):h==="none"||(l==null?void 0:l.display)==="none"?u("UNMOUNT"):u(c&&d!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,u]),IP(()=>{if(t){const l=f=>{const h=Vv(r.current).includes(f.animationName);f.target===t&&h&&y_.flushSync(()=>u("ANIMATION_END"))},c=f=>{f.target===t&&(s.current=Vv(r.current))};return t.addEventListener("animationstart",c),t.addEventListener("animationcancel",l),t.addEventListener("animationend",l),()=>{t.removeEventListener("animationstart",c),t.removeEventListener("animationcancel",l),t.removeEventListener("animationend",l)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:w.useCallback(l=>{l&&(r.current=getComputedStyle(l)),n(l)},[])}}function Vv(e){return(e==null?void 0:e.animationName)||"none"}function Dge(e,t=[]){let n=[];function r(s,o){const a=w.createContext(o),u=n.length;n=[...n,o];function l(f){const{scope:d,children:h,...p}=f,m=(d==null?void 0:d[e][u])||a,y=w.useMemo(()=>p,Object.values(p));return w.createElement(m.Provider,{value:y},h)}function c(f,d){const h=(d==null?void 0:d[e][u])||a,p=w.useContext(h);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return l.displayName=s+"Provider",[l,c]}const i=()=>{const s=n.map(o=>w.createContext(o));return function(a){const u=(a==null?void 0:a[e])||s;return w.useMemo(()=>({[`__scope${e}`]:{...a,[e]:u}}),[a,u])}};return i.scopeName=e,[r,$ge(i,...t)]}function $ge(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:u,scopeName:l})=>{const f=u(s)[`__scope${l}`];return{...a,...f}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function Uf(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),w.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}const Lge=w.createContext(void 0);function Mge(e){const t=w.useContext(Lge);return e||t||"ltr"}function Fge(e,[t,n]){return Math.min(n,Math.max(t,e))}function gd(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function Bge(e,t){return w.useReducer((n,r)=>{const i=t[n][r];return i??n},e)}const Mq="ScrollArea",[Fq,mnt]=Dge(Mq),[jge,Go]=Fq(Mq),Uge=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:s=600,...o}=e,[a,u]=w.useState(null),[l,c]=w.useState(null),[f,d]=w.useState(null),[h,p]=w.useState(null),[m,y]=w.useState(null),[g,_]=w.useState(0),[b,T]=w.useState(0),[I,E]=w.useState(!1),[S,A]=w.useState(!1),L=Qd(t,z=>u(z)),W=Mge(i);return w.createElement(jge,{scope:n,type:r,dir:W,scrollHideDelay:s,scrollArea:a,viewport:l,onViewportChange:c,content:f,onContentChange:d,scrollbarX:h,onScrollbarXChange:p,scrollbarXEnabled:I,onScrollbarXEnabledChange:E,scrollbarY:m,onScrollbarYChange:y,scrollbarYEnabled:S,onScrollbarYEnabledChange:A,onCornerWidthChange:_,onCornerHeightChange:T},w.createElement(T_.div,cr({dir:W},o,{ref:L,style:{position:"relative","--radix-scroll-area-corner-width":g+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})))}),Vge="ScrollAreaViewport",zge=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,...i}=e,s=Go(Vge,n),o=w.useRef(null),a=Qd(t,o,s.onViewportChange);return w.createElement(w.Fragment,null,w.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"}}),w.createElement(T_.div,cr({"data-radix-scroll-area-viewport":""},i,{ref:a,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...e.style}}),w.createElement("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"}},r)))}),jl="ScrollAreaScrollbar",Hge=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Go(jl,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=i,a=e.orientation==="horizontal";return w.useEffect(()=>(a?s(!0):o(!0),()=>{a?s(!1):o(!1)}),[a,s,o]),i.type==="hover"?w.createElement(Wge,cr({},r,{ref:t,forceMount:n})):i.type==="scroll"?w.createElement(qge,cr({},r,{ref:t,forceMount:n})):i.type==="auto"?w.createElement(Bq,cr({},r,{ref:t,forceMount:n})):i.type==="always"?w.createElement(sk,cr({},r,{ref:t})):null}),Wge=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Go(jl,e.__scopeScrollArea),[s,o]=w.useState(!1);return w.useEffect(()=>{const a=i.scrollArea;let u=0;if(a){const l=()=>{window.clearTimeout(u),o(!0)},c=()=>{u=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",l),a.addEventListener("pointerleave",c),()=>{window.clearTimeout(u),a.removeEventListener("pointerenter",l),a.removeEventListener("pointerleave",c)}}},[i.scrollArea,i.scrollHideDelay]),w.createElement(S_,{present:n||s},w.createElement(Bq,cr({"data-state":s?"visible":"hidden"},r,{ref:t})))}),qge=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Go(jl,e.__scopeScrollArea),s=e.orientation==="horizontal",o=MS(()=>u("SCROLL_END"),100),[a,u]=Bge("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return w.useEffect(()=>{if(a==="idle"){const l=window.setTimeout(()=>u("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(l)}},[a,i.scrollHideDelay,u]),w.useEffect(()=>{const l=i.viewport,c=s?"scrollLeft":"scrollTop";if(l){let f=l[c];const d=()=>{const h=l[c];f!==h&&(u("SCROLL"),o()),f=h};return l.addEventListener("scroll",d),()=>l.removeEventListener("scroll",d)}},[i.viewport,s,u,o]),w.createElement(S_,{present:n||a!=="hidden"},w.createElement(sk,cr({"data-state":a==="hidden"?"hidden":"visible"},r,{ref:t,onPointerEnter:gd(e.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:gd(e.onPointerLeave,()=>u("POINTER_LEAVE"))})))}),Bq=w.forwardRef((e,t)=>{const n=Go(jl,e.__scopeScrollArea),{forceMount:r,...i}=e,[s,o]=w.useState(!1),a=e.orientation==="horizontal",u=MS(()=>{if(n.viewport){const l=n.viewport.offsetWidth<n.viewport.scrollWidth,c=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?l:c)}},10);return Hp(n.viewport,u),Hp(n.content,u),w.createElement(S_,{present:r||s},w.createElement(sk,cr({"data-state":s?"visible":"hidden"},i,{ref:t})))}),sk=w.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,i=Go(jl,e.__scopeScrollArea),s=w.useRef(null),o=w.useRef(0),[a,u]=w.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),l=zq(a.viewport,a.content),c={...r,sizes:a,onSizesChange:u,hasThumb:l>0&&l<1,onThumbChange:d=>s.current=d,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:d=>o.current=d};function f(d,h){return eye(d,o.current,a,h)}return n==="horizontal"?w.createElement(Gge,cr({},c,{ref:t,onThumbPositionChange:()=>{if(i.viewport&&s.current){const d=i.viewport.scrollLeft,h=K4(d,a,i.dir);s.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:d=>{i.viewport&&(i.viewport.scrollLeft=d)},onDragScroll:d=>{i.viewport&&(i.viewport.scrollLeft=f(d,i.dir))}})):n==="vertical"?w.createElement(Yge,cr({},c,{ref:t,onThumbPositionChange:()=>{if(i.viewport&&s.current){const d=i.viewport.scrollTop,h=K4(d,a);s.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:d=>{i.viewport&&(i.viewport.scrollTop=d)},onDragScroll:d=>{i.viewport&&(i.viewport.scrollTop=f(d))}})):null}),Gge=w.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,s=Go(jl,e.__scopeScrollArea),[o,a]=w.useState(),u=w.useRef(null),l=Qd(t,u,s.onScrollbarXChange);return w.useEffect(()=>{u.current&&a(getComputedStyle(u.current))},[u]),w.createElement(Uq,cr({"data-orientation":"horizontal"},i,{ref:l,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":LS(n)+"px",...e.style},onThumbPointerDown:c=>e.onThumbPointerDown(c.x),onDragScroll:c=>e.onDragScroll(c.x),onWheelScroll:(c,f)=>{if(s.viewport){const d=s.viewport.scrollLeft+c.deltaX;e.onWheelScroll(d),Wq(d,f)&&c.preventDefault()}},onResize:()=>{u.current&&s.viewport&&o&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:gE(o.paddingLeft),paddingEnd:gE(o.paddingRight)}})}}))}),Yge=w.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,s=Go(jl,e.__scopeScrollArea),[o,a]=w.useState(),u=w.useRef(null),l=Qd(t,u,s.onScrollbarYChange);return w.useEffect(()=>{u.current&&a(getComputedStyle(u.current))},[u]),w.createElement(Uq,cr({"data-orientation":"vertical"},i,{ref:l,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":LS(n)+"px",...e.style},onThumbPointerDown:c=>e.onThumbPointerDown(c.y),onDragScroll:c=>e.onDragScroll(c.y),onWheelScroll:(c,f)=>{if(s.viewport){const d=s.viewport.scrollTop+c.deltaY;e.onWheelScroll(d),Wq(d,f)&&c.preventDefault()}},onResize:()=>{u.current&&s.viewport&&o&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:gE(o.paddingTop),paddingEnd:gE(o.paddingBottom)}})}}))}),[Kge,jq]=Fq(jl),Uq=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:u,onDragScroll:l,onWheelScroll:c,onResize:f,...d}=e,h=Go(jl,n),[p,m]=w.useState(null),y=Qd(t,L=>m(L)),g=w.useRef(null),_=w.useRef(""),b=h.viewport,T=r.content-r.viewport,I=Uf(c),E=Uf(u),S=MS(f,10);function A(L){if(g.current){const W=L.clientX-g.current.left,z=L.clientY-g.current.top;l({x:W,y:z})}}return w.useEffect(()=>{const L=W=>{const z=W.target;(p==null?void 0:p.contains(z))&&I(W,T)};return document.addEventListener("wheel",L,{passive:!1}),()=>document.removeEventListener("wheel",L,{passive:!1})},[b,p,T,I]),w.useEffect(E,[r,E]),Hp(p,S),Hp(h.content,S),w.createElement(Kge,{scope:n,scrollbar:p,hasThumb:i,onThumbChange:Uf(s),onThumbPointerUp:Uf(o),onThumbPositionChange:E,onThumbPointerDown:Uf(a)},w.createElement(T_.div,cr({},d,{ref:y,style:{position:"absolute",...d.style},onPointerDown:gd(e.onPointerDown,L=>{L.button===0&&(L.target.setPointerCapture(L.pointerId),g.current=p.getBoundingClientRect(),_.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",A(L))}),onPointerMove:gd(e.onPointerMove,A),onPointerUp:gd(e.onPointerUp,L=>{L.target.releasePointerCapture(L.pointerId),document.body.style.webkitUserSelect=_.current,g.current=null})})))}),xP="ScrollAreaThumb",Qge=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=jq(xP,e.__scopeScrollArea);return w.createElement(S_,{present:n||i.hasThumb},w.createElement(Xge,cr({ref:t},r)))}),Xge=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...i}=e,s=Go(xP,n),o=jq(xP,n),{onThumbPositionChange:a}=o,u=Qd(t,f=>o.onThumbChange(f)),l=w.useRef(),c=MS(()=>{l.current&&(l.current(),l.current=void 0)},100);return w.useEffect(()=>{const f=s.viewport;if(f){const d=()=>{if(c(),!l.current){const h=tye(f,a);l.current=h,a()}};return a(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[s.viewport,c,a]),w.createElement(T_.div,cr({"data-state":o.hasThumb?"visible":"hidden"},i,{ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:gd(e.onPointerDownCapture,f=>{const h=f.target.getBoundingClientRect(),p=f.clientX-h.left,m=f.clientY-h.top;o.onThumbPointerDown({x:p,y:m})}),onPointerUp:gd(e.onPointerUp,o.onThumbPointerUp)}))}),Vq="ScrollAreaCorner",Jge=w.forwardRef((e,t)=>{const n=Go(Vq,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?w.createElement(Zge,cr({},e,{ref:t})):null}),Zge=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,i=Go(Vq,n),[s,o]=w.useState(0),[a,u]=w.useState(0),l=!!(s&&a);return Hp(i.scrollbarX,()=>{var c;const f=((c=i.scrollbarX)===null||c===void 0?void 0:c.offsetHeight)||0;i.onCornerHeightChange(f),u(f)}),Hp(i.scrollbarY,()=>{var c;const f=((c=i.scrollbarY)===null||c===void 0?void 0:c.offsetWidth)||0;i.onCornerWidthChange(f),o(f)}),l?w.createElement(T_.div,cr({},r,{ref:t,style:{width:s,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}})):null});function gE(e){return e?parseInt(e,10):0}function zq(e,t){const n=e/t;return isNaN(n)?0:n}function LS(e){const t=zq(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function eye(e,t,n,r="ltr"){const i=LS(n),s=i/2,o=t||s,a=i-o,u=n.scrollbar.paddingStart+o,l=n.scrollbar.size-n.scrollbar.paddingEnd-a,c=n.content-n.viewport,f=r==="ltr"?[0,c]:[c*-1,0];return Hq([u,l],f)(e)}function K4(e,t,n="ltr"){const r=LS(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-i,o=t.content-t.viewport,a=s-r,u=n==="ltr"?[0,o]:[o*-1,0],l=Fge(e,u);return Hq([0,o],[0,a])(l)}function Hq(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function Wq(e,t){return e>0&&e<t}const tye=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function i(){const s={left:e.scrollLeft,top:e.scrollTop},o=n.left!==s.left,a=n.top!==s.top;(o||a)&&t(),n=s,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function MS(e,t){const n=Uf(e),r=w.useRef(0);return w.useEffect(()=>()=>window.clearTimeout(r.current),[]),w.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Hp(e,t){const n=Uf(t);IP(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}const nye=Uge,rye=zge,Q4=Hge,X4=Qge,iye=Jge;var sye=at((e,{scrollbarSize:t,offsetScrollbars:n,scrollbarHovered:r,hidden:i},s)=>({root:{overflow:"hidden"},viewport:{width:"100%",height:"100%",paddingRight:n?t:void 0,paddingBottom:n?t:void 0},scrollbar:{display:i?"none":"flex",userSelect:"none",touchAction:"none",boxSizing:"border-box",padding:t/5,transition:"background-color 150ms ease, opacity 150ms ease","&:hover":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[8]:e.colors.gray[0],[`& .${s("thumb")}`]:{backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.white,.5):e.fn.rgba(e.black,.5)}},'&[data-orientation="vertical"]':{width:t},'&[data-orientation="horizontal"]':{flexDirection:"column",height:t},'&[data-state="hidden"]':{display:"none",opacity:0}},thumb:{ref:s("thumb"),flex:1,backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.white,.4):e.fn.rgba(e.black,.4),borderRadius:t,position:"relative",transition:"background-color 150ms ease",display:i?"none":void 0,"&::before":{content:'""',position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"100%",height:"100%"}},corner:{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[0],transition:"opacity 150ms ease",opacity:r?1:0,display:i?"none":void 0}}));const oye=sye;var aye=Object.defineProperty,uye=Object.defineProperties,lye=Object.getOwnPropertyDescriptors,yE=Object.getOwnPropertySymbols,qq=Object.prototype.hasOwnProperty,Gq=Object.prototype.propertyIsEnumerable,J4=(e,t,n)=>t in e?aye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Yq=(e,t)=>{for(var n in t||(t={}))qq.call(t,n)&&J4(e,n,t[n]);if(yE)for(var n of yE(t))Gq.call(t,n)&&J4(e,n,t[n]);return e},cye=(e,t)=>uye(e,lye(t)),Kq=(e,t)=>{var n={};for(var r in e)qq.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&yE)for(var r of yE(e))t.indexOf(r)<0&&Gq.call(e,r)&&(n[r]=e[r]);return n};const Qq={scrollbarSize:12,scrollHideDelay:1e3,type:"hover",offsetScrollbars:!1},FS=w.forwardRef((e,t)=>{const n=ht("ScrollArea",Qq,e),{children:r,className:i,classNames:s,styles:o,scrollbarSize:a,scrollHideDelay:u,type:l,dir:c,offsetScrollbars:f,viewportRef:d,onScrollPositionChange:h,unstyled:p}=n,m=Kq(n,["children","className","classNames","styles","scrollbarSize","scrollHideDelay","type","dir","offsetScrollbars","viewportRef","onScrollPositionChange","unstyled"]),[y,g]=w.useState(!1),_=ts(),{classes:b,cx:T}=oye({scrollbarSize:a,offsetScrollbars:f,scrollbarHovered:y,hidden:l==="never"},{name:"ScrollArea",classNames:s,styles:o,unstyled:p});return k.createElement(nye,{type:l==="never"?"always":l,scrollHideDelay:u,dir:c||_.dir,ref:t,asChild:!0},k.createElement(lt,Yq({className:T(b.root,i)},m),k.createElement(rye,{className:b.viewport,ref:d,onScroll:typeof h=="function"?({currentTarget:I})=>h({x:I.scrollLeft,y:I.scrollTop}):void 0},r),k.createElement(Q4,{orientation:"horizontal",className:b.scrollbar,forceMount:!0,onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1)},k.createElement(X4,{className:b.thumb})),k.createElement(Q4,{orientation:"vertical",className:b.scrollbar,forceMount:!0,onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1)},k.createElement(X4,{className:b.thumb})),k.createElement(iye,{className:b.corner})))}),Xq=w.forwardRef((e,t)=>{const n=ht("ScrollAreaAutosize",Qq,e),{maxHeight:r,children:i,classNames:s,styles:o,scrollbarSize:a,scrollHideDelay:u,type:l,dir:c,offsetScrollbars:f,viewportRef:d,onScrollPositionChange:h,unstyled:p,sx:m}=n,y=Kq(n,["maxHeight","children","classNames","styles","scrollbarSize","scrollHideDelay","type","dir","offsetScrollbars","viewportRef","onScrollPositionChange","unstyled","sx"]);return k.createElement(lt,cye(Yq({},y),{ref:t,sx:[{display:"flex",maxHeight:r},...Pd(m)]}),k.createElement(lt,{sx:{display:"flex",flexDirection:"column",flex:1}},k.createElement(FS,{classNames:s,styles:o,scrollHideDelay:u,scrollbarSize:a,type:l,dir:c,offsetScrollbars:f,viewportRef:d,onScrollPositionChange:h,unstyled:p},i)))});Xq.displayName="@mantine/core/ScrollAreaAutosize";FS.displayName="@mantine/core/ScrollArea";FS.Autosize=Xq;const Z0=FS;var fye=Object.defineProperty,dye=Object.defineProperties,hye=Object.getOwnPropertyDescriptors,_E=Object.getOwnPropertySymbols,Jq=Object.prototype.hasOwnProperty,Zq=Object.prototype.propertyIsEnumerable,Z4=(e,t,n)=>t in e?fye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,e5=(e,t)=>{for(var n in t||(t={}))Jq.call(t,n)&&Z4(e,n,t[n]);if(_E)for(var n of _E(t))Zq.call(t,n)&&Z4(e,n,t[n]);return e},pye=(e,t)=>dye(e,hye(t)),mye=(e,t)=>{var n={};for(var r in e)Jq.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&_E)for(var r of _E(e))t.indexOf(r)<0&&Zq.call(e,r)&&(n[r]=e[r]);return n};const BS=w.forwardRef((e,t)=>{var n=e,{style:r}=n,i=mye(n,["style"]);return k.createElement(Z0,pye(e5({},i),{style:e5({width:"100%"},r),viewportRef:t}),i.children)});BS.displayName="@mantine/core/SelectScrollArea";var gye=at(()=>({dropdown:{},itemsWrapper:{padding:4,display:"flex",width:"100%",boxSizing:"border-box"}}));const yye=gye;function El(e){return e.split("-")[0]}function I_(e){return e.split("-")[1]}function Xd(e){return["top","bottom"].includes(El(e))?"x":"y"}function ok(e){return e==="y"?"height":"width"}function t5(e,t,n){let{reference:r,floating:i}=e;const s=r.x+r.width/2-i.width/2,o=r.y+r.height/2-i.height/2,a=Xd(t),u=ok(a),l=r[u]/2-i[u]/2,c=a==="x";let f;switch(El(t)){case"top":f={x:s,y:r.y-i.height};break;case"bottom":f={x:s,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:o};break;case"left":f={x:r.x-i.width,y:o};break;default:f={x:r.x,y:r.y}}switch(I_(t)){case"start":f[a]-=l*(n&&c?-1:1);break;case"end":f[a]+=l*(n&&c?-1:1)}return f}const _ye=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(t));let l=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:c,y:f}=t5(l,r,u),d=r,h={},p=0;for(let m=0;m<a.length;m++){const{name:y,fn:g}=a[m],{x:_,y:b,data:T,reset:I}=await g({x:c,y:f,initialPlacement:r,placement:d,strategy:i,middlewareData:h,rects:l,platform:o,elements:{reference:e,floating:t}});c=_??c,f=b??f,h={...h,[y]:{...h[y],...T}},I&&p<=50&&(p++,typeof I=="object"&&(I.placement&&(d=I.placement),I.rects&&(l=I.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):I.rects),{x:c,y:f}=t5(l,d,u)),m=-1)}return{x:c,y:f,placement:d,strategy:i,middlewareData:h}};function ak(e){return typeof e!="number"?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(e):{top:e,right:e,bottom:e,left:e}}function vy(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function uk(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:u}=e,{boundary:l="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:d=!1,padding:h=0}=t,p=ak(h),m=a[d?f==="floating"?"reference":"floating":f],y=vy(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(m)))==null||n?m:m.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:l,rootBoundary:c,strategy:u})),g=vy(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({rect:f==="floating"?{...o.floating,x:r,y:i}:o.reference,offsetParent:await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),strategy:u}):o[f]);return{top:y.top-g.top+p.top,bottom:g.bottom-y.bottom+p.bottom,left:y.left-g.left+p.left,right:g.right-y.right+p.right}}const eG=Math.min,uc=Math.max;function CP(e,t,n){return uc(e,eG(t,n))}const n5=e=>({name:"arrow",options:e,async fn(t){const{element:n,padding:r=0}=e??{},{x:i,y:s,placement:o,rects:a,platform:u}=t;if(n==null)return{};const l=ak(r),c={x:i,y:s},f=Xd(o),d=I_(o),h=ok(f),p=await u.getDimensions(n),m=f==="y"?"top":"left",y=f==="y"?"bottom":"right",g=a.reference[h]+a.reference[f]-c[f]-a.floating[h],_=c[f]-a.reference[f],b=await(u.getOffsetParent==null?void 0:u.getOffsetParent(n));let T=b?f==="y"?b.clientHeight||0:b.clientWidth||0:0;T===0&&(T=a.floating[h]);const I=g/2-_/2,E=l[m],S=T-p[h]-l[y],A=T/2-p[h]/2+I,L=CP(E,A,S),W=(d==="start"?l[m]:l[y])>0&&A!==L&&a.reference[h]<=a.floating[h];return{[f]:c[f]-(W?A<E?E-A:S-A:0),data:{[f]:L,centerOffset:A-L}}}}),vye={left:"right",right:"left",bottom:"top",top:"bottom"};function vE(e){return e.replace(/left|right|bottom|top/g,t=>vye[t])}function bye(e,t,n){n===void 0&&(n=!1);const r=I_(e),i=Xd(e),s=ok(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=vE(o)),{main:o,cross:vE(o)}}const Eye={start:"end",end:"start"};function r5(e){return e.replace(/start|end/g,t=>Eye[t])}const wye=["top","right","bottom","left"];wye.reduce((e,t)=>e.concat(t,t+"-start",t+"-end"),[]);const tG=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n;const{placement:r,middlewareData:i,rects:s,initialPlacement:o,platform:a,elements:u}=t,{mainAxis:l=!0,crossAxis:c=!0,fallbackPlacements:f,fallbackStrategy:d="bestFit",flipAlignment:h=!0,...p}=e,m=El(r),y=f||(m===o||!h?[vE(o)]:function(A){const L=vE(A);return[r5(A),L,r5(L)]}(o)),g=[o,...y],_=await uk(t,p),b=[];let T=((n=i.flip)==null?void 0:n.overflows)||[];if(l&&b.push(_[m]),c){const{main:A,cross:L}=bye(r,s,await(a.isRTL==null?void 0:a.isRTL(u.floating)));b.push(_[A],_[L])}if(T=[...T,{placement:r,overflows:b}],!b.every(A=>A<=0)){var I,E;const A=((I=(E=i.flip)==null?void 0:E.index)!=null?I:0)+1,L=g[A];if(L)return{data:{index:A,overflows:T},reset:{placement:L}};let W="bottom";switch(d){case"bestFit":{var S;const z=(S=T.map(U=>[U,U.overflows.filter(Z=>Z>0).reduce((Z,H)=>Z+H,0)]).sort((U,Z)=>U[1]-Z[1])[0])==null?void 0:S[0].placement;z&&(W=z);break}case"initialPlacement":W=o}if(r!==W)return{reset:{placement:W}}}return{}}}},nG=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:r}=t,i=await async function(s,o){const{placement:a,platform:u,elements:l}=s,c=await(u.isRTL==null?void 0:u.isRTL(l.floating)),f=El(a),d=I_(a),h=Xd(a)==="x",p=["left","top"].includes(f)?-1:1,m=c&&h?-1:1,y=typeof o=="function"?o(s):o;let{mainAxis:g,crossAxis:_,alignmentAxis:b}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...y};return d&&typeof b=="number"&&(_=d==="end"?-1*b:b),h?{x:_*m,y:g*p}:{x:g*p,y:_*m}}(t,e);return{x:n+i.x,y:r+i.y,data:i}}}};function rG(e){return e==="x"?"y":"x"}const lk=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x:g,y:_}=y;return{x:g,y:_}}},...u}=e,l={x:n,y:r},c=await uk(t,u),f=Xd(El(i)),d=rG(f);let h=l[f],p=l[d];if(s){const y=f==="y"?"bottom":"right";h=CP(h+c[f==="y"?"top":"left"],h,h-c[y])}if(o){const y=d==="y"?"bottom":"right";p=CP(p+c[d==="y"?"top":"left"],p,p-c[y])}const m=a.fn({...t,[f]:h,[d]:p});return{...m,data:{x:m.x-n,y:m.y-r}}}}},Tye=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=t,{offset:a=0,mainAxis:u=!0,crossAxis:l=!0}=e,c={x:n,y:r},f=Xd(i),d=rG(f);let h=c[f],p=c[d];const m=typeof a=="function"?a(t):a,y=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(u){const I=f==="y"?"height":"width",E=s.reference[f]-s.floating[I]+y.mainAxis,S=s.reference[f]+s.reference[I]-y.mainAxis;h<E?h=E:h>S&&(h=S)}if(l){var g,_,b,T;const I=f==="y"?"width":"height",E=["top","left"].includes(El(i)),S=s.reference[d]-s.floating[I]+(E&&(g=(_=o.offset)==null?void 0:_[d])!=null?g:0)+(E?0:y.crossAxis),A=s.reference[d]+s.reference[I]+(E?0:(b=(T=o.offset)==null?void 0:T[d])!=null?b:0)-(E?y.crossAxis:0);p<S?p=S:p>A&&(p=A)}return{[f]:h,[d]:p}}}},Sye=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:i,elements:s}=t,{apply:o=()=>{},...a}=e,u=await uk(t,a),l=El(n),c=I_(n);let f,d;l==="top"||l==="bottom"?(f=l,d=c===(await(i.isRTL==null?void 0:i.isRTL(s.floating))?"start":"end")?"left":"right"):(d=l,f=c==="end"?"top":"bottom");const h=uc(u.left,0),p=uc(u.right,0),m=uc(u.top,0),y=uc(u.bottom,0),g={availableHeight:r.floating.height-(["left","right"].includes(n)?2*(m!==0||y!==0?m+y:uc(u.top,u.bottom)):u[f]),availableWidth:r.floating.width-(["top","bottom"].includes(n)?2*(h!==0||p!==0?h+p:uc(u.left,u.right)):u[d])};await o({...t,...g});const _=await i.getDimensions(s.floating);return r.floating.width!==_.width||r.floating.height!==_.height?{reset:{rects:!0}}:{}}}},iG=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){var n;const{placement:r,elements:i,rects:s,platform:o,strategy:a}=t,{padding:u=2,x:l,y:c}=e,f=vy(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({rect:s.reference,offsetParent:await(o.getOffsetParent==null?void 0:o.getOffsetParent(i.floating)),strategy:a}):s.reference),d=(n=await(o.getClientRects==null?void 0:o.getClientRects(i.reference)))!=null?n:[],h=ak(u),p=await o.getElementRects({reference:{getBoundingClientRect:function(){var m;if(d.length===2&&d[0].left>d[1].right&&l!=null&&c!=null)return(m=d.find(y=>l>y.left-h.left&&l<y.right+h.right&&c>y.top-h.top&&c<y.bottom+h.bottom))!=null?m:f;if(d.length>=2){if(Xd(r)==="x"){const E=d[0],S=d[d.length-1],A=El(r)==="top",L=E.top,W=S.bottom,z=A?E.left:S.left,U=A?E.right:S.right;return{top:L,bottom:W,left:z,right:U,width:U-z,height:W-L,x:z,y:L}}const y=El(r)==="left",g=uc(...d.map(E=>E.right)),_=eG(...d.map(E=>E.left)),b=d.filter(E=>y?E.left===_:E.right===g),T=b[0].top,I=b[b.length-1].bottom;return{top:T,bottom:I,left:_,right:g,width:g-_,height:I-T,x:_,y:T}}return f}},floating:i.floating,strategy:a});return s.reference.x!==p.reference.x||s.reference.y!==p.reference.y||s.reference.width!==p.reference.width||s.reference.height!==p.reference.height?{reset:{rects:p}}:{}}}};function sG(e){return e&&e.document&&e.location&&e.alert&&e.setInterval}function Ul(e){if(e==null)return window;if(!sG(e)){const t=e.ownerDocument;return t&&t.defaultView||window}return e}function Qc(e){return Ul(e).getComputedStyle(e)}function Xc(e){return sG(e)?"":e?(e.nodeName||"").toLowerCase():""}function oG(){const e=navigator.userAgentData;return e!=null&&e.brands?e.brands.map(t=>t.brand+"/"+t.version).join(" "):navigator.userAgent}function wl(e){return e instanceof Ul(e).HTMLElement}function al(e){return e instanceof Ul(e).Element}function i5(e){return typeof ShadowRoot>"u"?!1:e instanceof Ul(e).ShadowRoot||e instanceof ShadowRoot}function jS(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Qc(e);return/auto|scroll|overlay|hidden/.test(t+r+n)&&!["inline","contents"].includes(i)}function Iye(e){return["table","td","th"].includes(Xc(e))}function AP(e){const t=/firefox/i.test(oG()),n=Qc(e),r=n.backdropFilter||n.WebkitBackdropFilter;return n.transform!=="none"||n.perspective!=="none"||!!r&&r!=="none"||t&&n.willChange==="filter"||t&&!!n.filter&&n.filter!=="none"||["transform","perspective"].some(i=>n.willChange.includes(i))||["paint","layout","strict","content"].some(i=>{const s=n.contain;return s!=null&&s.includes(i)})}function aG(){return!/^((?!chrome|android).)*safari/i.test(oG())}function ck(e){return["html","body","#document"].includes(Xc(e))}const s5=Math.min,Sg=Math.max,bE=Math.round;function ul(e,t,n){var r,i,s,o;t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect();let u=1,l=1;t&&wl(e)&&(u=e.offsetWidth>0&&bE(a.width)/e.offsetWidth||1,l=e.offsetHeight>0&&bE(a.height)/e.offsetHeight||1);const c=al(e)?Ul(e):window,f=!aG()&&n,d=(a.left+(f&&(r=(i=c.visualViewport)==null?void 0:i.offsetLeft)!=null?r:0))/u,h=(a.top+(f&&(s=(o=c.visualViewport)==null?void 0:o.offsetTop)!=null?s:0))/l,p=a.width/u,m=a.height/l;return{width:p,height:m,top:h,right:d+p,bottom:h+m,left:d,x:d,y:h}}function Mc(e){return(t=e,(t instanceof Ul(t).Node?e.ownerDocument:e.document)||window.document).documentElement;var t}function US(e){return al(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function uG(e){return ul(Mc(e)).left+US(e).scrollLeft}function xye(e,t,n){const r=wl(t),i=Mc(t),s=ul(e,r&&function(u){const l=ul(u);return bE(l.width)!==u.offsetWidth||bE(l.height)!==u.offsetHeight}(t),n==="fixed");let o={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if(r||!r&&n!=="fixed")if((Xc(t)!=="body"||jS(i))&&(o=US(t)),wl(t)){const u=ul(t,!0);a.x=u.x+t.clientLeft,a.y=u.y+t.clientTop}else i&&(a.x=uG(i));return{x:s.left+o.scrollLeft-a.x,y:s.top+o.scrollTop-a.y,width:s.width,height:s.height}}function EE(e){if(Xc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||(i5(e)?e.host:null)||Mc(e);return i5(t)?t.host:t}function o5(e){return wl(e)&&Qc(e).position!=="fixed"?e.offsetParent:null}function a5(e){const t=Ul(e);let n=o5(e);for(;n&&Iye(n)&&Qc(n).position==="static";)n=o5(n);return n&&(Xc(n)==="html"||Xc(n)==="body"&&Qc(n).position==="static"&&!AP(n))?t:n||function(r){let i=EE(r);for(;wl(i)&&!ck(i);){if(AP(i))return i;i=EE(i)}return null}(e)||t}function u5(e){if(wl(e))return{width:e.offsetWidth,height:e.offsetHeight};const t=ul(e);return{width:t.width,height:t.height}}function lG(e){const t=EE(e);return ck(t)?e.ownerDocument.body:wl(t)&&jS(t)?t:lG(t)}function ll(e,t){var n;t===void 0&&(t=[]);const r=lG(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),s=Ul(r),o=i?[s].concat(s.visualViewport||[],jS(r)?r:[]):r,a=t.concat(o);return i?a:a.concat(ll(o))}function l5(e,t,n){return t==="viewport"?vy(function(r,i){const s=Ul(r),o=Mc(r),a=s.visualViewport;let u=o.clientWidth,l=o.clientHeight,c=0,f=0;if(a){u=a.width,l=a.height;const d=aG();(d||!d&&i==="fixed")&&(c=a.offsetLeft,f=a.offsetTop)}return{width:u,height:l,x:c,y:f}}(e,n)):al(t)?function(r,i){const s=ul(r,!1,i==="fixed"),o=s.top+r.clientTop,a=s.left+r.clientLeft;return{top:o,left:a,x:a,y:o,right:a+r.clientWidth,bottom:o+r.clientHeight,width:r.clientWidth,height:r.clientHeight}}(t,n):vy(function(r){var i;const s=Mc(r),o=US(r),a=(i=r.ownerDocument)==null?void 0:i.body,u=Sg(s.scrollWidth,s.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),l=Sg(s.scrollHeight,s.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0);let c=-o.scrollLeft+uG(r);const f=-o.scrollTop;return Qc(a||s).direction==="rtl"&&(c+=Sg(s.clientWidth,a?a.clientWidth:0)-u),{width:u,height:l,x:c,y:f}}(Mc(e)))}const Cye={getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const s=n==="clippingAncestors"?function(l){let c=ll(l).filter(h=>al(h)&&Xc(h)!=="body"),f=l,d=null;for(;al(f)&&!ck(f);){const h=Qc(f);h.position==="static"&&d&&["absolute","fixed"].includes(d.position)&&!AP(f)?c=c.filter(p=>p!==f):d=h,f=EE(f)}return c}(t):[].concat(n),o=[...s,r],a=o[0],u=o.reduce((l,c)=>{const f=l5(t,c,i);return l.top=Sg(f.top,l.top),l.right=s5(f.right,l.right),l.bottom=s5(f.bottom,l.bottom),l.left=Sg(f.left,l.left),l},l5(t,a,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{rect:t,offsetParent:n,strategy:r}=e;const i=wl(n),s=Mc(n);if(n===s)return t;let o={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if((i||!i&&r!=="fixed")&&((Xc(n)!=="body"||jS(s))&&(o=US(n)),wl(n))){const u=ul(n,!0);a.x=u.x+n.clientLeft,a.y=u.y+n.clientTop}return{...t,x:t.x-o.scrollLeft+a.x,y:t.y-o.scrollTop+a.y}},isElement:al,getDimensions:u5,getOffsetParent:a5,getDocumentElement:Mc,getElementRects:e=>{let{reference:t,floating:n,strategy:r}=e;return{reference:xye(t,a5(n),r),floating:{...u5(n),x:0,y:0}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>Qc(e).direction==="rtl"};function Aye(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=!0,animationFrame:a=!1}=r,u=i&&!a,l=u||s?[...al(e)?ll(e):e.contextElement?ll(e.contextElement):[],...ll(t)]:[];l.forEach(h=>{u&&h.addEventListener("scroll",n,{passive:!0}),s&&h.addEventListener("resize",n)});let c,f=null;if(o){let h=!0;f=new ResizeObserver(()=>{h||n(),h=!1}),al(e)&&!a&&f.observe(e),al(e)||!e.contextElement||a||f.observe(e.contextElement),f.observe(t)}let d=a?ul(e):null;return a&&function h(){const p=ul(e);!d||p.x===d.x&&p.y===d.y&&p.width===d.width&&p.height===d.height||n(),d=p,c=requestAnimationFrame(h)}(),n(),()=>{var h;l.forEach(p=>{u&&p.removeEventListener("scroll",n),s&&p.removeEventListener("resize",n)}),(h=f)==null||h.disconnect(),f=null,a&&cancelAnimationFrame(c)}}const Oye=(e,t,n)=>_ye(e,t,{platform:Cye,...n});var OP=typeof document<"u"?w.useLayoutEffect:w.useEffect;function wE(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!wE(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&e.$$typeof)&&!wE(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function Pye(e){const t=w.useRef(e);return OP(()=>{t.current=e}),t}function Rye(e){let{middleware:t=[],placement:n="bottom",strategy:r="absolute",whileElementsMounted:i}=e===void 0?{}:e;const[s,o]=w.useState({x:null,y:null,strategy:r,placement:n,middlewareData:{}}),[a,u]=w.useState(t);wE(a,t)||u(t);const l=w.useRef(null),c=w.useRef(null),f=w.useRef(null),d=w.useRef(s),h=Pye(i),p=w.useCallback(()=>{!l.current||!c.current||Oye(l.current,c.current,{middleware:a,placement:n,strategy:r}).then(T=>{m.current&&!wE(d.current,T)&&(d.current=T,y_.flushSync(()=>{o(T)}))})},[a,n,r]);OP(()=>{m.current&&p()},[p]);const m=w.useRef(!1);OP(()=>(m.current=!0,()=>{m.current=!1}),[]);const y=w.useCallback(()=>{if(typeof f.current=="function"&&(f.current(),f.current=null),l.current&&c.current)if(h.current){const T=h.current(l.current,c.current,p);f.current=T}else p()},[p,h]),g=w.useCallback(T=>{l.current=T,y()},[y]),_=w.useCallback(T=>{c.current=T,y()},[y]),b=w.useMemo(()=>({reference:l,floating:c}),[]);return w.useMemo(()=>({...s,update:p,refs:b,reference:g,floating:_}),[s,p,b,g,_])}const cG=e=>{const{element:t,padding:n}=e;function r(i){return Object.prototype.hasOwnProperty.call(i,"current")}return{name:"arrow",options:e,fn(i){return r(t)?t.current!=null?n5({element:t.current,padding:n}).fn(i):{}:t?n5({element:t,padding:n}).fn(i):{}}}};var Wp=typeof document<"u"?w.useLayoutEffect:w.useEffect;function Nye(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(i=>i(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){e.set(t,(e.get(t)||[]).filter(r=>r!==n))}}}let wC=!1,kye=0;const c5=()=>"floating-ui-"+kye++;function Dye(){const[e,t]=w.useState(()=>wC?c5():void 0);return Wp(()=>{e==null&&t(c5())},[]),w.useEffect(()=>{wC||(wC=!0)},[]),e}const f5=Sd.useId,d5=f5??Dye,$ye=w.createContext(null),Lye=w.createContext(null),fG=()=>{var e,t;return(e=(t=w.useContext($ye))==null?void 0:t.id)!=null?e:null},fk=()=>w.useContext(Lye);function pc(e){var t;return(t=e==null?void 0:e.ownerDocument)!=null?t:document}function dG(e){var t;return(t=pc(e).defaultView)!=null?t:window}function Jf(e){return e?e instanceof dG(e).Element:!1}function Mye(e){return e?e instanceof dG(e).HTMLElement:!1}const h5=Sd.useInsertionEffect;function Fye(e){const t=w.useRef(()=>{});return h5?h5(()=>{t.current=e}):t.current=e,w.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function dk(e){let{open:t=!1,onOpenChange:n,whileElementsMounted:r,placement:i,middleware:s,strategy:o,nodeId:a}=e===void 0?{}:e;const[u,l]=w.useState(null),c=fk(),f=w.useRef(null),d=w.useRef({}),h=w.useState(()=>Nye())[0],p=Rye({placement:i,middleware:s,strategy:o,whileElementsMounted:r}),m=Fye(n),y=w.useMemo(()=>({...p.refs,domReference:f}),[p.refs]),g=w.useMemo(()=>({...p,refs:y,dataRef:d,nodeId:a,events:h,open:t,onOpenChange:m,_:{domReference:u}}),[p,a,h,t,m,y,u]);Wp(()=>{const T=c==null?void 0:c.nodesRef.current.find(I=>I.id===a);T&&(T.context=g)});const{reference:_}=p,b=w.useCallback(T=>{(Jf(T)||T===null)&&(g.refs.domReference.current=T,l(T)),_(T)},[_,g.refs]);return w.useMemo(()=>({...p,context:g,refs:y,reference:b}),[p,y,g,b])}function TC(e,t,n){const r=new Map;return{...n==="floating"&&{tabIndex:-1},...e,...t.map(i=>i?i[n]:null).concat(e).reduce((i,s)=>(s&&Object.entries(s).forEach(o=>{let[a,u]=o;if(a.indexOf("on")===0){if(r.has(a)||r.set(a,[]),typeof u=="function"){var l;(l=r.get(a))==null||l.push(u),i[a]=function(){for(var c,f=arguments.length,d=new Array(f),h=0;h<f;h++)d[h]=arguments[h];(c=r.get(a))==null||c.forEach(p=>p(...d))}}}else i[a]=u}),i),{})}}const Bye=function(e){e===void 0&&(e=[]);const t=e,n=w.useCallback(s=>TC(s,e,"reference"),t),r=w.useCallback(s=>TC(s,e,"floating"),t),i=w.useCallback(s=>TC(s,e,"item"),t);return w.useMemo(()=>({getReferenceProps:n,getFloatingProps:r,getItemProps:i}),[n,r,i])};function SC(e,t){var n;let r=(n=e.filter(o=>{var a;return o.parentId===t&&((a=o.context)==null?void 0:a.open)}))!=null?n:[],i=r;for(;i.length;){var s;i=(s=e.filter(o=>{var a;return(a=i)==null?void 0:a.some(u=>{var l;return o.parentId===u.id&&((l=o.context)==null?void 0:l.open)})}))!=null?s:[],r=r.concat(i)}return r}function jye(e){return"composedPath"in e?e.composedPath()[0]:e.target}function p5(e){const t=w.useRef(e);return Wp(()=>{t.current=e}),t}function Uye(e){const t=w.useRef();return Wp(()=>{t.current=e},[e]),t.current}function Q1(e,t,n){return n&&n!=="mouse"?0:typeof e=="number"?e:e==null?void 0:e[t]}const Vye=function(e,t){let{enabled:n=!0,delay:r=0,handleClose:i=null,mouseOnly:s=!1,restMs:o=0,move:a=!0}=t===void 0?{}:t;const{open:u,onOpenChange:l,dataRef:c,events:f,refs:d,_:h}=e,p=fk(),m=fG(),y=p5(i),g=p5(r),_=Uye(u),b=w.useRef(),T=w.useRef(),I=w.useRef(),E=w.useRef(),S=w.useRef(!0),A=w.useRef(!1),L=w.useCallback(()=>{var Z;const H=(Z=c.current.openEvent)==null?void 0:Z.type;return(H==null?void 0:H.includes("mouse"))&&H!=="mousedown"},[c]);w.useEffect(()=>{if(!n)return;function Z(){clearTimeout(T.current),clearTimeout(E.current),S.current=!0}return f.on("dismiss",Z),()=>{f.off("dismiss",Z)}},[n,f,d]),w.useEffect(()=>{if(!n||!y.current)return;function Z(){L()&&l(!1)}const H=pc(d.floating.current).documentElement;return H.addEventListener("mouseleave",Z),()=>{H.removeEventListener("mouseleave",Z)}},[d,l,n,y,c,L]);const W=w.useCallback(function(Z){Z===void 0&&(Z=!0);const H=Q1(g.current,"close",b.current);H&&!I.current?(clearTimeout(T.current),T.current=setTimeout(()=>l(!1),H)):Z&&(clearTimeout(T.current),l(!1))},[g,l]),z=w.useCallback(()=>{I.current&&(pc(d.floating.current).removeEventListener("pointermove",I.current),I.current=void 0)},[d]),U=w.useCallback(()=>{pc(d.floating.current).body.style.pointerEvents="",A.current=!1},[d]);return w.useEffect(()=>{if(!n)return;function Z(){return c.current.openEvent?["click","mousedown"].includes(c.current.openEvent.type):!1}function H(oe){if(clearTimeout(T.current),S.current=!1,s&&b.current!=="mouse"||o>0&&Q1(g.current,"open")===0)return;c.current.openEvent=oe;const J=Q1(g.current,"open",b.current);J?T.current=setTimeout(()=>{l(!0)},J):l(!0)}function ue(oe){if(Z())return;const J=pc(d.floating.current);if(clearTimeout(E.current),y.current){clearTimeout(T.current),I.current&&J.removeEventListener("pointermove",I.current),I.current=y.current({...e,tree:p,x:oe.clientX,y:oe.clientY,onClose(){U(),z(),W()}}),J.addEventListener("pointermove",I.current);return}W()}function ie(oe){Z()||y.current==null||y.current({...e,tree:p,x:oe.clientX,y:oe.clientY,leave:!0,onClose(){U(),z(),W()}})(oe)}const _e=d.floating.current,te=d.domReference.current;if(Jf(te))return u&&te.addEventListener("mouseleave",ie),_e==null||_e.addEventListener("mouseleave",ie),a&&te.addEventListener("mousemove",H,{once:!0}),te.addEventListener("mouseenter",H),te.addEventListener("mouseleave",ue),()=>{u&&te.removeEventListener("mouseleave",ie),_e==null||_e.removeEventListener("mouseleave",ie),a&&te.removeEventListener("mousemove",H),te.removeEventListener("mouseenter",H),te.removeEventListener("mouseleave",ue)}},[h.domReference,n,e,s,o,a,W,z,U,l,u,p,d,g,y,c]),Wp(()=>{if(n&&u&&y.current&&y.current.__options.blockPointerEvents&&L()){pc(d.floating.current).body.style.pointerEvents="none",A.current=!0;const ue=d.domReference.current,ie=d.floating.current;if(Jf(ue)&&ie){var Z,H;const _e=p==null||(Z=p.nodesRef.current.find(te=>te.id===m))==null||(H=Z.context)==null?void 0:H.refs.floating.current;return _e&&(_e.style.pointerEvents=""),ue.style.pointerEvents="auto",ie.style.pointerEvents="auto",()=>{ue.style.pointerEvents="",ie.style.pointerEvents=""}}}},[n,u,m,d,p,y,c,L]),Wp(()=>{_&&!u&&(b.current=void 0,z(),U())}),w.useEffect(()=>()=>{z(),clearTimeout(T.current),clearTimeout(E.current),A.current&&U()},[n,z,U]),w.useMemo(()=>{if(!n)return{};function Z(H){b.current=H.pointerType}return{reference:{onPointerDown:Z,onPointerEnter:Z,onMouseMove(){u||o===0||(clearTimeout(E.current),E.current=setTimeout(()=>{S.current||l(!0)},o))}},floating:{onMouseEnter(){clearTimeout(T.current)},onMouseLeave(){W(!1)}}}},[n,o,u,l,W])},hG=w.createContext({delay:1e3,initialDelay:1e3,currentId:null,setCurrentId:()=>{},setState:()=>{}}),pG=()=>w.useContext(hG),zye=e=>{let{children:t,delay:n}=e;const[r,i]=w.useState({delay:n,initialDelay:n,currentId:null}),s=w.useCallback(o=>{i(a=>({...a,currentId:o}))},[]);return w.createElement(hG.Provider,{value:w.useMemo(()=>({...r,setState:i,setCurrentId:s}),[r,i,s])},t)},Hye=(e,t)=>{let{open:n,onOpenChange:r}=e,{id:i}=t;const{currentId:s,initialDelay:o,setState:a}=pG();w.useEffect(()=>{s&&(a(u=>({...u,delay:{open:1,close:Q1(o,"close")}})),s!==i&&r(!1))},[i,r,a,s,o]),w.useEffect(()=>{!n&&s===i&&(r(!1),a(u=>({...u,delay:o,currentId:null})))},[n,a,s,i,r,o])},Wye=function(e,t){let{open:n}=e,{enabled:r=!0,role:i="dialog"}=t===void 0?{}:t;const s=d5(),o=d5();return w.useMemo(()=>{const a={id:s,role:i};return r?i==="tooltip"?{reference:{"aria-describedby":n?s:void 0},floating:a}:{reference:{"aria-expanded":n?"true":"false","aria-haspopup":i==="alertdialog"?"dialog":i,"aria-controls":n?s:void 0,...i==="listbox"&&{role:"combobox"},...i==="menu"&&{id:o}},floating:{...a,...i==="menu"&&{"aria-labelledby":o}}}:{}},[r,i,n,s,o])};function IC(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}const qye={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},Gye={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Yye=function(e,t){let{open:n,onOpenChange:r,refs:i,events:s,nodeId:o}=e,{enabled:a=!0,escapeKey:u=!0,outsidePress:l=!0,outsidePressEvent:c="pointerdown",referencePress:f=!1,referencePressEvent:d="pointerdown",ancestorScroll:h=!1,bubbles:p=!0}=t===void 0?{}:t;const m=fk(),y=fG()!=null,g=w.useRef(!1);return w.useEffect(()=>{if(!n||!a)return;function _(S){if(S.key==="Escape"){if(!p&&m&&SC(m.nodesRef.current,o).length>0)return;s.emit("dismiss",{preventScroll:!1}),r(!1)}}function b(S){const A=g.current;if(g.current=!1,A)return;const L=jye(S);if(Jf(L)&&i.floating.current){var W;const U=(W=i.floating.current.ownerDocument.defaultView)!=null?W:window,Z=L.scrollWidth>L.clientWidth,H=L.scrollHeight>L.clientHeight;let ue=H&&S.offsetX>L.clientWidth;if(H&&U.getComputedStyle(L).direction==="rtl"&&(ue=S.offsetX<=L.offsetWidth-L.clientWidth),ue||Z&&S.offsetY>L.clientHeight)return}const z=m&&SC(m.nodesRef.current,o).some(U=>{var Z;return IC(S,(Z=U.context)==null?void 0:Z.refs.floating.current)});IC(S,i.floating.current)||IC(S,i.domReference.current)||z||!p&&m&&SC(m.nodesRef.current,o).length>0||(s.emit("dismiss",y?{preventScroll:!0}:!1),r(!1))}function T(){r(!1)}const I=pc(i.floating.current);u&&I.addEventListener("keydown",_),l&&I.addEventListener(c,b);let E=[];return h&&(Jf(i.domReference.current)&&(E=ll(i.domReference.current)),Jf(i.floating.current)&&(E=E.concat(ll(i.floating.current))),!Jf(i.reference.current)&&i.reference.current&&i.reference.current.contextElement&&(E=E.concat(ll(i.reference.current.contextElement)))),E=E.filter(S=>{var A;return S!==((A=I.defaultView)==null?void 0:A.visualViewport)}),E.forEach(S=>{S.addEventListener("scroll",T,{passive:!0})}),()=>{u&&I.removeEventListener("keydown",_),l&&I.removeEventListener(c,b),E.forEach(S=>{S.removeEventListener("scroll",T)})}},[u,l,c,s,m,o,n,r,h,a,p,i,y]),w.useEffect(()=>{g.current=!1},[l,c]),w.useMemo(()=>a?{reference:{[qye[d]]:()=>{f&&(s.emit("dismiss"),r(!1))}},floating:{[Gye[c]]:()=>{g.current=!0}}}:{},[a,s,f,c,d,r])},Kye=function(e,t){let{open:n,onOpenChange:r,dataRef:i,refs:s,events:o}=e,{enabled:a=!0,keyboardOnly:u=!0}=t===void 0?{}:t;const l=w.useRef(""),c=w.useRef(!1),f=w.useRef();return w.useEffect(()=>{var d;if(!a)return;const p=(d=pc(s.floating.current).defaultView)!=null?d:window;function m(){!n&&Mye(s.domReference.current)&&s.domReference.current.blur()}return p.addEventListener("blur",m),()=>{p.removeEventListener("blur",m)}},[s,n,a]),w.useEffect(()=>{if(!a)return;function d(){c.current=!0}return o.on("dismiss",d),()=>{o.off("dismiss",d)}},[o,a]),w.useEffect(()=>()=>{clearTimeout(f.current)},[]),w.useMemo(()=>a?{reference:{onPointerDown(d){let{pointerType:h}=d;l.current=h,c.current=!!(h&&u)},onPointerLeave(){c.current=!1},onFocus(d){var h,p,m;c.current||d.type==="focus"&&((h=i.current.openEvent)==null?void 0:h.type)==="mousedown"&&(p=s.domReference.current)!=null&&p.contains((m=i.current.openEvent)==null?void 0:m.target)||(i.current.openEvent=d.nativeEvent,r(!0))},onBlur(d){const h=d.relatedTarget;f.current=setTimeout(()=>{var p,m;(p=s.floating.current)!=null&&p.contains(h)||(m=s.domReference.current)!=null&&m.contains(h)||(c.current=!1,r(!1))})}}}:{},[a,u,s,i,r])};function mG({opened:e,floating:t,positionDependencies:n}){const[r,i]=w.useState(0);w.useEffect(()=>{if(t.refs.reference.current&&t.refs.floating.current)return Aye(t.refs.reference.current,t.refs.floating.current,t.update)},[t.refs.reference,t.refs.floating,e,r]),uo(()=>{t.update()},n),uo(()=>{i(s=>s+1)},[e])}function Qye(e){const t=[nG(e.offset)];return e.middlewares.shift&&t.push(lk({limiter:Tye()})),e.middlewares.flip&&t.push(tG()),e.middlewares.inline&&t.push(iG()),t.push(cG({element:e.arrowRef})),t}function Xye(e){const[t,n]=Ia({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),r=()=>{var o;(o=e.onClose)==null||o.call(e),n(!1)},i=()=>{var o,a;t?((o=e.onClose)==null||o.call(e),n(!1)):((a=e.onOpen)==null||a.call(e),n(!0))},s=dk({placement:e.position,middleware:[...Qye(e),...e.width==="target"?[Sye({apply({rects:o}){var a,u;Object.assign((u=(a=s.refs.floating.current)==null?void 0:a.style)!=null?u:{},{width:`${o.reference.width}px`})}})]:[]]});return mG({opened:e.opened,positionDependencies:e.positionDependencies,floating:s}),uo(()=>{var o;(o=e.onPositionChange)==null||o.call(e,s.placement)},[s.placement]),{floating:s,controlled:typeof e.opened=="boolean",opened:t,onClose:r,onToggle:i}}const gG={context:"Popover component was not found in the tree",children:"Popover.Target component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported"},[Jye,yG]=XH(gG.context);var Zye=Object.defineProperty,e_e=Object.defineProperties,t_e=Object.getOwnPropertyDescriptors,TE=Object.getOwnPropertySymbols,_G=Object.prototype.hasOwnProperty,vG=Object.prototype.propertyIsEnumerable,m5=(e,t,n)=>t in e?Zye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zv=(e,t)=>{for(var n in t||(t={}))_G.call(t,n)&&m5(e,n,t[n]);if(TE)for(var n of TE(t))vG.call(t,n)&&m5(e,n,t[n]);return e},n_e=(e,t)=>e_e(e,t_e(t)),r_e=(e,t)=>{var n={};for(var r in e)_G.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&TE)for(var r of TE(e))t.indexOf(r)<0&&vG.call(e,r)&&(n[r]=e[r]);return n};const bG=w.forwardRef((e,t)=>{var n=e,{children:r,refProp:i="ref",popupType:s="dialog"}=n,o=r_e(n,["children","refProp","popupType"]);if(!__(r))throw new Error(gG.children);const a=o,u=yG(),l=qo(u.reference,r.ref,t),c=u.withRoles?{"aria-haspopup":s,"aria-expanded":u.opened,"aria-controls":u.getDropdownId(),id:u.getTargetId()}:{};return w.cloneElement(r,zv(n_e(zv(zv(zv({},a),c),u.targetProps),{className:eW(u.targetProps.className,a.className,r.props.className),[i]:l}),u.controlled?null:{onClick:u.onToggle}))});bG.displayName="@mantine/core/PopoverTarget";var i_e=at((e,{radius:t,shadow:n})=>({dropdown:{position:"absolute",backgroundColor:e.white,background:e.colorScheme==="dark"?e.colors.dark[6]:e.white,border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]}`,padding:`${e.spacing.sm}px ${e.spacing.md}px`,boxShadow:e.shadows[n]||n||"none",borderRadius:e.fn.radius(t),"&:focus":{outline:0}},arrow:{backgroundColor:"inherit",border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]}`,zIndex:1}}));const s_e=i_e;var o_e=Object.defineProperty,g5=Object.getOwnPropertySymbols,a_e=Object.prototype.hasOwnProperty,u_e=Object.prototype.propertyIsEnumerable,y5=(e,t,n)=>t in e?o_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mh=(e,t)=>{for(var n in t||(t={}))a_e.call(t,n)&&y5(e,n,t[n]);if(g5)for(var n of g5(t))u_e.call(t,n)&&y5(e,n,t[n]);return e};const _5={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function EG({transition:e,state:t,duration:n,timingFunction:r}){const i={transitionDuration:`${n}ms`,transitionTimingFunction:r};return typeof e=="string"?e in Mv?mh(mh(mh({transitionProperty:Mv[e].transitionProperty},i),Mv[e].common),Mv[e][_5[t]]):null:mh(mh(mh({transitionProperty:e.transitionProperty},i),e.common),e[_5[t]])}function wG({duration:e,exitDuration:t,timingFunction:n,mounted:r,onEnter:i,onExit:s,onEntered:o,onExited:a}){const u=ts(),l=JN(),c=u.respectReducedMotion?l:!1,[f,d]=w.useState(r?"entered":"exited");let h=c?0:e;const p=w.useRef(-1),m=y=>{const g=y?i:s,_=y?o:a;if(d(y?"pre-entering":"pre-exiting"),window.clearTimeout(p.current),h=c?0:y?e:t,h===0)typeof g=="function"&&g(),typeof _=="function"&&_(),d(y?"entered":"exited");else{const b=window.setTimeout(()=>{typeof g=="function"&&g(),d(y?"entering":"exiting")},10);p.current=window.setTimeout(()=>{window.clearTimeout(b),typeof _=="function"&&_(),d(y?"entered":"exited")},h)}};return uo(()=>{m(r)},[r]),w.useEffect(()=>()=>window.clearTimeout(p.current),[]),{transitionDuration:h,transitionStatus:f,transitionTimingFunction:n||u.transitionTimingFunction}}function VS({transition:e,duration:t=250,exitDuration:n=t,mounted:r,children:i,timingFunction:s,onExit:o,onEntered:a,onEnter:u,onExited:l}){const{transitionDuration:c,transitionStatus:f,transitionTimingFunction:d}=wG({mounted:r,exitDuration:n,duration:t,timingFunction:s,onExit:o,onEntered:a,onEnter:u,onExited:l});return c===0?r?k.createElement(k.Fragment,null,i({})):null:f==="exited"?null:k.createElement(k.Fragment,null,i(EG({transition:e,duration:c,state:f,timingFunction:d})))}VS.displayName="@mantine/core/Transition";function TG({children:e,active:t=!0,refProp:n="ref"}){const r=RW(t),i=qo(r,e==null?void 0:e.ref);return __(e)?w.cloneElement(e,{[n]:i}):e}TG.displayName="@mantine/core/FocusTrap";var l_e=Object.defineProperty,c_e=Object.defineProperties,f_e=Object.getOwnPropertyDescriptors,v5=Object.getOwnPropertySymbols,d_e=Object.prototype.hasOwnProperty,h_e=Object.prototype.propertyIsEnumerable,b5=(e,t,n)=>t in e?l_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Xl=(e,t)=>{for(var n in t||(t={}))d_e.call(t,n)&&b5(e,n,t[n]);if(v5)for(var n of v5(t))h_e.call(t,n)&&b5(e,n,t[n]);return e},Hv=(e,t)=>c_e(e,f_e(t));function E5(e,t,n){return e==="center"?{top:t}:e==="end"?{bottom:n}:e==="start"?{top:n}:{}}function w5(e,t,n,r){return e==="center"?{[r==="ltr"?"left":"right"]:t}:e==="end"?{[r==="ltr"?"right":"left"]:n}:e==="start"?{[r==="ltr"?"left":"right"]:n}:{}}const p_e={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function m_e({position:e,withBorder:t,arrowSize:n,arrowOffset:r,arrowRadius:i,arrowX:s,arrowY:o,dir:a}){const[u,l="center"]=e.split("-"),c={width:n,height:n,transform:"rotate(45deg)",position:"absolute",[p_e[u]]:i},f=t?-n/2-1:-n/2;return u==="left"?Hv(Xl(Xl({},c),E5(l,o,r)),{right:f,borderLeft:0,borderBottom:0}):u==="right"?Hv(Xl(Xl({},c),E5(l,o,r)),{left:f,borderRight:0,borderTop:0}):u==="top"?Hv(Xl(Xl({},c),w5(l,s,r,a)),{bottom:f,borderTop:0,[a==="ltr"?"borderLeft":"borderRight"]:0}):u==="bottom"?Hv(Xl(Xl({},c),w5(l,s,r,a)),{top:f,borderBottom:0,[a==="ltr"?"borderRight":"borderLeft"]:0}):{}}var g_e=Object.defineProperty,y_e=Object.defineProperties,__e=Object.getOwnPropertyDescriptors,SE=Object.getOwnPropertySymbols,SG=Object.prototype.hasOwnProperty,IG=Object.prototype.propertyIsEnumerable,T5=(e,t,n)=>t in e?g_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,v_e=(e,t)=>{for(var n in t||(t={}))SG.call(t,n)&&T5(e,n,t[n]);if(SE)for(var n of SE(t))IG.call(t,n)&&T5(e,n,t[n]);return e},b_e=(e,t)=>y_e(e,__e(t)),E_e=(e,t)=>{var n={};for(var r in e)SG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&SE)for(var r of SE(e))t.indexOf(r)<0&&IG.call(e,r)&&(n[r]=e[r]);return n};const hk=w.forwardRef((e,t)=>{var n=e,{withBorder:r,position:i,arrowSize:s,arrowOffset:o,arrowRadius:a,visible:u,arrowX:l,arrowY:c}=n,f=E_e(n,["withBorder","position","arrowSize","arrowOffset","arrowRadius","visible","arrowX","arrowY"]);const d=ts();return u?k.createElement("div",b_e(v_e({},f),{ref:t,style:m_e({withBorder:r,position:i,arrowSize:s,arrowOffset:o,arrowRadius:a,dir:d.dir,arrowX:l,arrowY:c})})):null});hk.displayName="@mantine/core/FloatingArrow";var w_e=Object.defineProperty,T_e=Object.defineProperties,S_e=Object.getOwnPropertyDescriptors,IE=Object.getOwnPropertySymbols,xG=Object.prototype.hasOwnProperty,CG=Object.prototype.propertyIsEnumerable,S5=(e,t,n)=>t in e?w_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Wv=(e,t)=>{for(var n in t||(t={}))xG.call(t,n)&&S5(e,n,t[n]);if(IE)for(var n of IE(t))CG.call(t,n)&&S5(e,n,t[n]);return e},I5=(e,t)=>T_e(e,S_e(t)),I_e=(e,t)=>{var n={};for(var r in e)xG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&IE)for(var r of IE(e))t.indexOf(r)<0&&CG.call(e,r)&&(n[r]=e[r]);return n};function AG(e){var t=e,{style:n,className:r,children:i,onKeyDownCapture:s}=t,o=I_e(t,["style","className","children","onKeyDownCapture"]);const{classNames:a,styles:u,unstyled:l,staticSelector:c}=E_(),f=yG(),{classes:d,cx:h}=s_e({radius:f.radius,shadow:f.shadow},{name:c,classNames:a,styles:u,unstyled:l}),p=CW({opened:f.opened,shouldReturnFocus:f.returnFocus}),m=f.withRoles?{"aria-labelledby":f.getTargetId(),id:f.getDropdownId(),role:"dialog"}:{};return f.disabled?null:k.createElement(w_,{withinPortal:f.withinPortal},k.createElement(VS,{mounted:f.opened,transition:f.transition,duration:f.transitionDuration,exitDuration:typeof f.exitTransitionDuration=="number"?f.exitTransitionDuration:f.transitionDuration},y=>{var g,_;return k.createElement(TG,{active:f.trapFocus},k.createElement(lt,Wv(I5(Wv({},m),{tabIndex:-1,ref:f.floating,style:I5(Wv(Wv({},n),y),{zIndex:f.zIndex,top:(g=f.y)!=null?g:0,left:(_=f.x)!=null?_:0,width:f.width==="target"?void 0:f.width}),className:h(d.dropdown,r),onKeyDownCapture:$fe(f.onClose,{active:f.closeOnEscape,onTrigger:p,onKeyDown:s}),"data-position":f.placement}),o),i,k.createElement(hk,{ref:f.arrowRef,arrowX:f.arrowX,arrowY:f.arrowY,visible:f.withArrow,withBorder:!0,position:f.placement,arrowSize:f.arrowSize,arrowRadius:f.arrowRadius,arrowOffset:f.arrowOffset,className:d.arrow})))}))}AG.displayName="@mantine/core/PopoverDropdown";function OG(e,t){if(e==="rtl"&&(t.includes("right")||t.includes("left"))){const[n,r]=t.split("-"),i=n==="right"?"left":"right";return r===void 0?i:`${i}-${r}`}return t}var x5=Object.getOwnPropertySymbols,x_e=Object.prototype.hasOwnProperty,C_e=Object.prototype.propertyIsEnumerable,A_e=(e,t)=>{var n={};for(var r in e)x_e.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&x5)for(var r of x5(e))t.indexOf(r)<0&&C_e.call(e,r)&&(n[r]=e[r]);return n};const O_e={position:"bottom",offset:8,positionDependencies:[],transition:"fade",transitionDuration:150,middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,closeOnClickOutside:!0,withinPortal:!1,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:Eo("popover"),__staticSelector:"Popover",width:"max-content"};function Vl(e){var t,n,r,i,s,o;const a=w.useRef(null),u=ht("Popover",O_e,e),{children:l,position:c,offset:f,onPositionChange:d,positionDependencies:h,opened:p,transition:m,transitionDuration:y,width:g,middlewares:_,withArrow:b,arrowSize:T,arrowOffset:I,arrowRadius:E,unstyled:S,classNames:A,styles:L,closeOnClickOutside:W,withinPortal:z,closeOnEscape:U,clickOutsideEvents:Z,trapFocus:H,onClose:ue,onOpen:ie,onChange:_e,zIndex:te,radius:oe,shadow:J,id:x,defaultOpened:C,exitTransitionDuration:B,__staticSelector:P,withRoles:O,disabled:G,returnFocus:fe}=u,le=A_e(u,["children","position","offset","onPositionChange","positionDependencies","opened","transition","transitionDuration","width","middlewares","withArrow","arrowSize","arrowOffset","arrowRadius","unstyled","classNames","styles","closeOnClickOutside","withinPortal","closeOnEscape","clickOutsideEvents","trapFocus","onClose","onOpen","onChange","zIndex","radius","shadow","id","defaultOpened","exitTransitionDuration","__staticSelector","withRoles","disabled","returnFocus"]),[me,ge]=w.useState(null),[Se,de]=w.useState(null),st=Ru(x),Ke=ts(),qe=Xye({middlewares:_,width:g,position:OG(Ke.dir,c),offset:f+(b?T/2:0),arrowRef:a,onPositionChange:d,positionDependencies:h,opened:p,defaultOpened:C,onChange:_e,onOpen:ie,onClose:ue});Dhe(()=>W&&qe.onClose(),Z,[me,Se]);const $e=w.useCallback(ut=>{ge(ut),qe.floating.reference(ut)},[qe.floating.reference]),ot=w.useCallback(ut=>{de(ut),qe.floating.floating(ut)},[qe.floating.floating]);return k.createElement(SW,{classNames:A,styles:L,unstyled:S,staticSelector:P},k.createElement(Jye,{value:{returnFocus:fe,disabled:G,controlled:qe.controlled,reference:$e,floating:ot,x:qe.floating.x,y:qe.floating.y,arrowX:(r=(n=(t=qe.floating)==null?void 0:t.middlewareData)==null?void 0:n.arrow)==null?void 0:r.x,arrowY:(o=(s=(i=qe.floating)==null?void 0:i.middlewareData)==null?void 0:s.arrow)==null?void 0:o.y,opened:qe.opened,arrowRef:a,transition:m,transitionDuration:y,exitTransitionDuration:B,width:g,withArrow:b,arrowSize:T,arrowOffset:I,arrowRadius:E,placement:qe.floating.placement,trapFocus:H,withinPortal:z,zIndex:te,radius:oe,shadow:J,closeOnEscape:U,onClose:qe.onClose,onToggle:qe.onToggle,getTargetId:()=>`${st}-target`,getDropdownId:()=>`${st}-dropdown`,withRoles:O,targetProps:le}},l))}Vl.Target=bG;Vl.Dropdown=AG;Vl.displayName="@mantine/core/Popover";var P_e=Object.defineProperty,xE=Object.getOwnPropertySymbols,PG=Object.prototype.hasOwnProperty,RG=Object.prototype.propertyIsEnumerable,C5=(e,t,n)=>t in e?P_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,R_e=(e,t)=>{for(var n in t||(t={}))PG.call(t,n)&&C5(e,n,t[n]);if(xE)for(var n of xE(t))RG.call(t,n)&&C5(e,n,t[n]);return e},N_e=(e,t)=>{var n={};for(var r in e)PG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&xE)for(var r of xE(e))t.indexOf(r)<0&&RG.call(e,r)&&(n[r]=e[r]);return n};function k_e(e){var t=e,{children:n,component:r="div",maxHeight:i=220,direction:s="column",id:o,innerRef:a,__staticSelector:u,styles:l,classNames:c,unstyled:f}=t,d=N_e(t,["children","component","maxHeight","direction","id","innerRef","__staticSelector","styles","classNames","unstyled"]);const{classes:h}=yye(null,{name:u,styles:l,classNames:c,unstyled:f});return k.createElement(Vl.Dropdown,R_e({p:0,onMouseDown:p=>p.preventDefault()},d),k.createElement("div",{style:{maxHeight:i,display:"flex"}},k.createElement(lt,{component:r||"div",id:`${o}-items`,"aria-labelledby":`${o}-label`,role:"listbox",onMouseDown:p=>p.preventDefault(),style:{flex:1,overflowY:r!==BS?"auto":void 0},"data-combobox-popover":!0,ref:a},k.createElement("div",{className:h.itemsWrapper,style:{flexDirection:s}},n))))}function Fc({opened:e,transition:t="fade",transitionDuration:n=0,shadow:r,withinPortal:i,children:s,__staticSelector:o,onDirectionChange:a,switchDirectionOnFlip:u,zIndex:l,dropdownPosition:c,positionDependencies:f=[],classNames:d,styles:h,unstyled:p,readOnly:m}){return k.createElement(Vl,{unstyled:p,classNames:d,styles:h,width:"target",withRoles:!1,opened:e,middlewares:{flip:c==="flip",shift:!1},position:c==="flip"?"bottom":c,positionDependencies:f,zIndex:l,__staticSelector:o,withinPortal:i,transition:t,transitionDuration:n,shadow:r,disabled:m,onPositionChange:y=>u&&(a==null?void 0:a(y==="top"?"column-reverse":"column"))},s)}Fc.Target=Vl.Target;Fc.Dropdown=k_e;var D_e=Object.defineProperty,$_e=Object.defineProperties,L_e=Object.getOwnPropertyDescriptors,CE=Object.getOwnPropertySymbols,NG=Object.prototype.hasOwnProperty,kG=Object.prototype.propertyIsEnumerable,A5=(e,t,n)=>t in e?D_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xC=(e,t)=>{for(var n in t||(t={}))NG.call(t,n)&&A5(e,n,t[n]);if(CE)for(var n of CE(t))kG.call(t,n)&&A5(e,n,t[n]);return e},M_e=(e,t)=>$_e(e,L_e(t)),F_e=(e,t)=>{var n={};for(var r in e)NG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&CE)for(var r of CE(e))t.indexOf(r)<0&&kG.call(e,r)&&(n[r]=e[r]);return n};function DG(e,t,n){const r=ht(e,t,n),{label:i,description:s,error:o,required:a,classNames:u,styles:l,className:c,unstyled:f,__staticSelector:d,sx:h,errorProps:p,labelProps:m,descriptionProps:y,wrapperProps:g,id:_,size:b,style:T,inputContainer:I,inputWrapperOrder:E,withAsterisk:S}=r,A=F_e(r,["label","description","error","required","classNames","styles","className","unstyled","__staticSelector","sx","errorProps","labelProps","descriptionProps","wrapperProps","id","size","style","inputContainer","inputWrapperOrder","withAsterisk"]),L=Ru(_),{systemStyles:W,rest:z}=Kd(A);return M_e(xC({},z),{classNames:u,styles:l,unstyled:f,wrapperProps:xC(xC({label:i,description:s,error:o,required:a,classNames:u,className:c,__staticSelector:d,sx:h,errorProps:p,labelProps:m,descriptionProps:y,unstyled:f,styles:l,id:L,size:b,style:T,inputContainer:I,inputWrapperOrder:E,withAsterisk:S},g),W),inputProps:{required:a,classNames:u,styles:l,unstyled:f,id:L,size:b,__staticSelector:d,invalid:!!o}})}var B_e=at((e,{size:t})=>({label:{display:"inline-block",fontSize:e.fn.size({size:t,sizes:e.fontSizes}),fontWeight:500,color:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[9],wordBreak:"break-word",cursor:"default",WebkitTapHighlightColor:"transparent"},required:{color:e.fn.variant({variant:"filled",color:"red"}).background}}));const j_e=B_e;var U_e=Object.defineProperty,AE=Object.getOwnPropertySymbols,$G=Object.prototype.hasOwnProperty,LG=Object.prototype.propertyIsEnumerable,O5=(e,t,n)=>t in e?U_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,V_e=(e,t)=>{for(var n in t||(t={}))$G.call(t,n)&&O5(e,n,t[n]);if(AE)for(var n of AE(t))LG.call(t,n)&&O5(e,n,t[n]);return e},z_e=(e,t)=>{var n={};for(var r in e)$G.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&AE)for(var r of AE(e))t.indexOf(r)<0&&LG.call(e,r)&&(n[r]=e[r]);return n};const pk=w.forwardRef((e,t)=>{var n=e,{labelElement:r="label",children:i,required:s,size:o="sm",classNames:a,styles:u,unstyled:l,className:c,htmlFor:f,__staticSelector:d}=n,h=z_e(n,["labelElement","children","required","size","classNames","styles","unstyled","className","htmlFor","__staticSelector"]);const{classes:p,cx:m}=j_e({size:o},{name:["InputWrapper",d],classNames:a,styles:u,unstyled:l});return k.createElement(lt,V_e({component:r,ref:t,className:m(p.label,c),htmlFor:r==="label"?f:void 0},h),i,s&&k.createElement("span",{className:p.required,"aria-hidden":!0}," *"))});pk.displayName="@mantine/core/InputLabel";var H_e=at((e,{size:t})=>({error:{wordBreak:"break-word",color:e.fn.variant({variant:"filled",color:"red"}).background,fontSize:e.fn.size({size:t,sizes:e.fontSizes})-2,lineHeight:1.2,display:"block"}}));const W_e=H_e;var q_e=Object.defineProperty,OE=Object.getOwnPropertySymbols,MG=Object.prototype.hasOwnProperty,FG=Object.prototype.propertyIsEnumerable,P5=(e,t,n)=>t in e?q_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,G_e=(e,t)=>{for(var n in t||(t={}))MG.call(t,n)&&P5(e,n,t[n]);if(OE)for(var n of OE(t))FG.call(t,n)&&P5(e,n,t[n]);return e},Y_e=(e,t)=>{var n={};for(var r in e)MG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&OE)for(var r of OE(e))t.indexOf(r)<0&&FG.call(e,r)&&(n[r]=e[r]);return n};const mk=w.forwardRef((e,t)=>{var n=e,{children:r,className:i,classNames:s,styles:o,unstyled:a,size:u="sm",__staticSelector:l}=n,c=Y_e(n,["children","className","classNames","styles","unstyled","size","__staticSelector"]);const{classes:f,cx:d}=W_e({size:u},{name:["InputWrapper",l],classNames:s,styles:o,unstyled:a});return k.createElement(Ct,G_e({className:d(f.error,i),ref:t,role:"alert"},c),r)});mk.displayName="@mantine/core/InputError";var K_e=at((e,{size:t})=>({description:{wordBreak:"break-word",color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],fontSize:e.fn.size({size:t,sizes:e.fontSizes})-2,lineHeight:1.2,display:"block"}}));const Q_e=K_e;var X_e=Object.defineProperty,PE=Object.getOwnPropertySymbols,BG=Object.prototype.hasOwnProperty,jG=Object.prototype.propertyIsEnumerable,R5=(e,t,n)=>t in e?X_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,J_e=(e,t)=>{for(var n in t||(t={}))BG.call(t,n)&&R5(e,n,t[n]);if(PE)for(var n of PE(t))jG.call(t,n)&&R5(e,n,t[n]);return e},Z_e=(e,t)=>{var n={};for(var r in e)BG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&PE)for(var r of PE(e))t.indexOf(r)<0&&jG.call(e,r)&&(n[r]=e[r]);return n};const gk=w.forwardRef((e,t)=>{var n=e,{children:r,className:i,classNames:s,styles:o,unstyled:a,size:u="sm",__staticSelector:l}=n,c=Z_e(n,["children","className","classNames","styles","unstyled","size","__staticSelector"]);const{classes:f,cx:d}=Q_e({size:u},{name:["InputWrapper",l],classNames:s,styles:o,unstyled:a});return k.createElement(Ct,J_e({color:"dimmed",className:d(f.description,i),ref:t,unstyled:a},c),r)});gk.displayName="@mantine/core/InputDescription";const UG=w.createContext({offsetBottom:!1,offsetTop:!1}),eve=UG.Provider,tve=()=>w.useContext(UG);function nve(e,{hasDescription:t,hasError:n}){const r=e.findIndex(u=>u==="input"),i=e[r-1],s=e[r+1];return{offsetBottom:t&&s==="description"||n&&s==="error",offsetTop:t&&i==="description"||n&&i==="error"}}var rve=Object.defineProperty,ive=Object.defineProperties,sve=Object.getOwnPropertyDescriptors,N5=Object.getOwnPropertySymbols,ove=Object.prototype.hasOwnProperty,ave=Object.prototype.propertyIsEnumerable,k5=(e,t,n)=>t in e?rve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,uve=(e,t)=>{for(var n in t||(t={}))ove.call(t,n)&&k5(e,n,t[n]);if(N5)for(var n of N5(t))ave.call(t,n)&&k5(e,n,t[n]);return e},lve=(e,t)=>ive(e,sve(t)),cve=at(e=>({root:lve(uve({},e.fn.fontStyles()),{lineHeight:e.lineHeight})}));const fve=cve;var dve=Object.defineProperty,hve=Object.defineProperties,pve=Object.getOwnPropertyDescriptors,RE=Object.getOwnPropertySymbols,VG=Object.prototype.hasOwnProperty,zG=Object.prototype.propertyIsEnumerable,D5=(e,t,n)=>t in e?dve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Rf=(e,t)=>{for(var n in t||(t={}))VG.call(t,n)&&D5(e,n,t[n]);if(RE)for(var n of RE(t))zG.call(t,n)&&D5(e,n,t[n]);return e},$5=(e,t)=>hve(e,pve(t)),mve=(e,t)=>{var n={};for(var r in e)VG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&RE)for(var r of RE(e))t.indexOf(r)<0&&zG.call(e,r)&&(n[r]=e[r]);return n};const gve={labelElement:"label",size:"sm",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},HG=w.forwardRef((e,t)=>{const n=ht("InputWrapper",gve,e),{className:r,label:i,children:s,required:o,id:a,error:u,description:l,labelElement:c,labelProps:f,descriptionProps:d,errorProps:h,classNames:p,styles:m,size:y,inputContainer:g,__staticSelector:_,unstyled:b,inputWrapperOrder:T,withAsterisk:I}=n,E=mve(n,["className","label","children","required","id","error","description","labelElement","labelProps","descriptionProps","errorProps","classNames","styles","size","inputContainer","__staticSelector","unstyled","inputWrapperOrder","withAsterisk"]),{classes:S,cx:A}=fve(null,{classNames:p,styles:m,name:["InputWrapper",_],unstyled:b}),L={classNames:p,styles:m,unstyled:b,size:y,__staticSelector:_},W=typeof I=="boolean"?I:o,z=i&&k.createElement(pk,Rf(Rf({key:"label",labelElement:c,id:a?`${a}-label`:void 0,htmlFor:a,required:W},L),f),i),U=l&&k.createElement(gk,$5(Rf(Rf({key:"description"},d),L),{size:(d==null?void 0:d.size)||L.size}),l),Z=k.createElement(w.Fragment,{key:"input"},g(s)),H=typeof u!="boolean"&&u&&k.createElement(mk,$5(Rf(Rf({},h),L),{size:(h==null?void 0:h.size)||L.size,key:"error"}),u),ue=T.map(ie=>{switch(ie){case"label":return z;case"input":return Z;case"description":return U;case"error":return H;default:return null}});return k.createElement(eve,{value:nve(T,{hasDescription:!!U,hasError:!!H})},k.createElement(lt,Rf({className:A(S.root,r),ref:t},E),ue))});HG.displayName="@mantine/core/InputWrapper";var yve=Object.defineProperty,_ve=Object.defineProperties,vve=Object.getOwnPropertyDescriptors,L5=Object.getOwnPropertySymbols,bve=Object.prototype.hasOwnProperty,Eve=Object.prototype.propertyIsEnumerable,M5=(e,t,n)=>t in e?yve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,CC=(e,t)=>{for(var n in t||(t={}))bve.call(t,n)&&M5(e,n,t[n]);if(L5)for(var n of L5(t))Eve.call(t,n)&&M5(e,n,t[n]);return e},F5=(e,t)=>_ve(e,vve(t));const Ss={xs:30,sm:36,md:42,lg:50,xl:60};function wve({theme:e,variant:t}){return t==="default"?{border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white,transition:"border-color 100ms ease","&:focus, &:focus-within":e.focusRingStyles.inputStyles(e)}:t==="filled"?{border:"1px solid transparent",backgroundColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[1],"&:focus, &:focus-within":e.focusRingStyles.inputStyles(e)}:{borderWidth:0,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,backgroundColor:"transparent",minHeight:28,outline:0,"&:focus, &:focus-within":{outline:"none",borderColor:"transparent"},"&:disabled":{backgroundColor:"transparent","&:focus, &:focus-within":{outline:"none",borderColor:"transparent"}}}}var Tve=at((e,{size:t,multiline:n,radius:r,variant:i,invalid:s,rightSectionWidth:o,withRightSection:a,iconWidth:u,offsetBottom:l,offsetTop:c,pointer:f})=>{const d=e.fn.variant({variant:"filled",color:"red"}).background,h=i==="default"||i==="filled"?{minHeight:e.fn.size({size:t,sizes:Ss}),paddingLeft:e.fn.size({size:t,sizes:Ss})/3,paddingRight:a?o:e.fn.size({size:t,sizes:Ss})/3,borderRadius:e.fn.radius(r)}:null;return{wrapper:{position:"relative",marginTop:c?`calc(${e.spacing.xs}px / 2)`:void 0,marginBottom:l?`calc(${e.spacing.xs}px / 2)`:void 0},input:CC(F5(CC(F5(CC({},e.fn.fontStyles()),{height:n?i==="unstyled"?void 0:"auto":e.fn.size({size:t,sizes:Ss}),WebkitTapHighlightColor:"transparent",lineHeight:n?e.lineHeight:`${e.fn.size({size:t,sizes:Ss})-2}px`,appearance:"none",resize:"none",boxSizing:"border-box",fontSize:e.fn.size({size:t,sizes:e.fontSizes}),width:"100%",color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,display:"block",textAlign:"left",cursor:f?"pointer":void 0}),h),{"&:disabled":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[1],color:e.colors.dark[2],opacity:.6,cursor:"not-allowed","&::placeholder":{color:e.colors.dark[2]}},"&::placeholder":{opacity:1,userSelect:"none",color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]},"&::-webkit-inner-spin-button, &::-webkit-outer-spin-button, &::-webkit-search-decoration, &::-webkit-search-cancel-button, &::-webkit-search-results-button, &::-webkit-search-results-decoration":{appearance:"none"},"&[type=number]":{MozAppearance:"textfield"}}),wve({theme:e,variant:i})),withIcon:{paddingLeft:typeof u=="number"?u:e.fn.size({size:t,sizes:Ss})},invalid:{color:d,borderColor:d,"&::placeholder":{opacity:1,color:d}},disabled:{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[1],color:e.colors.dark[2],opacity:.6,cursor:"not-allowed","&::placeholder":{color:e.colors.dark[2]}},icon:{pointerEvents:"none",position:"absolute",zIndex:1,left:0,top:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",width:typeof u=="number"?u:e.fn.size({size:t,sizes:Ss}),color:s?e.colors.red[e.colorScheme==="dark"?6:7]:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[5]},rightSection:{position:"absolute",top:0,bottom:0,right:0,display:"flex",alignItems:"center",justifyContent:"center",width:o}}});const Sve=Tve;var Ive=Object.defineProperty,xve=Object.defineProperties,Cve=Object.getOwnPropertyDescriptors,NE=Object.getOwnPropertySymbols,WG=Object.prototype.hasOwnProperty,qG=Object.prototype.propertyIsEnumerable,B5=(e,t,n)=>t in e?Ive(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qv=(e,t)=>{for(var n in t||(t={}))WG.call(t,n)&&B5(e,n,t[n]);if(NE)for(var n of NE(t))qG.call(t,n)&&B5(e,n,t[n]);return e},j5=(e,t)=>xve(e,Cve(t)),Ave=(e,t)=>{var n={};for(var r in e)WG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&NE)for(var r of NE(e))t.indexOf(r)<0&&qG.call(e,r)&&(n[r]=e[r]);return n};const Ove={rightSectionWidth:36,size:"sm",variant:"default"},km=w.forwardRef((e,t)=>{const n=ht("Input",Ove,e),{className:r,invalid:i,required:s,disabled:o,variant:a,icon:u,style:l,rightSectionWidth:c,iconWidth:f,rightSection:d,rightSectionProps:h,radius:p,size:m,wrapperProps:y,classNames:g,styles:_,__staticSelector:b,multiline:T,sx:I,unstyled:E,pointer:S}=n,A=Ave(n,["className","invalid","required","disabled","variant","icon","style","rightSectionWidth","iconWidth","rightSection","rightSectionProps","radius","size","wrapperProps","classNames","styles","__staticSelector","multiline","sx","unstyled","pointer"]),{offsetBottom:L,offsetTop:W}=tve(),{classes:z,cx:U}=Sve({radius:p,size:m,multiline:T,variant:a,invalid:i,rightSectionWidth:c,iconWidth:f,withRightSection:!!d,offsetBottom:L,offsetTop:W,pointer:S},{classNames:g,styles:_,name:["Input",b],unstyled:E}),{systemStyles:Z,rest:H}=Kd(A);return k.createElement(lt,qv(qv({className:U(z.wrapper,r),sx:I,style:l},Z),y),u&&k.createElement("div",{className:z.icon},u),k.createElement(lt,j5(qv({component:"input"},H),{ref:t,required:s,"aria-invalid":i,disabled:o,className:U(z[`${a}Variant`],z.input,{[z.withIcon]:u,[z.invalid]:i,[z.disabled]:o})})),d&&k.createElement("div",j5(qv({},h),{className:z.rightSection}),d))});km.displayName="@mantine/core/Input";km.Wrapper=HG;km.Label=pk;km.Description=gk;km.Error=mk;const lo=km;var Pve=Object.defineProperty,Rve=Object.defineProperties,Nve=Object.getOwnPropertyDescriptors,U5=Object.getOwnPropertySymbols,kve=Object.prototype.hasOwnProperty,Dve=Object.prototype.propertyIsEnumerable,V5=(e,t,n)=>t in e?Pve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,AC=(e,t)=>{for(var n in t||(t={}))kve.call(t,n)&&V5(e,n,t[n]);if(U5)for(var n of U5(t))Dve.call(t,n)&&V5(e,n,t[n]);return e},$ve=(e,t)=>Rve(e,Nve(t));const OC={xs:{fontSize:9,height:16},sm:{fontSize:10,height:18},md:{fontSize:11,height:20},lg:{fontSize:13,height:26},xl:{fontSize:16,height:32}},Lve={xs:4,sm:4,md:6,lg:8,xl:10};function Mve({theme:e,variant:t,color:n,size:r,gradient:i}){if(t==="dot"){const o=e.fn.size({size:r,sizes:Lve});return{backgroundColor:"transparent",color:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[7],border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[3]}`,paddingLeft:e.fn.size({size:r,sizes:e.spacing})/1.5-o/2,"&::before":{content:'""',display:"block",width:o,height:o,borderRadius:o,backgroundColor:e.fn.themeColor(n,e.colorScheme==="dark"?4:e.fn.primaryShade("light"),!0),marginRight:o}}}const s=e.fn.variant({color:n,variant:t,gradient:i});return{background:s.background,color:s.color,border:`${t==="gradient"?0:1}px solid ${s.border}`}}var Fve=at((e,{color:t,size:n,radius:r,gradient:i,fullWidth:s,variant:o})=>{const{fontSize:a,height:u}=n in OC?OC[n]:OC.md;return{leftSection:{marginRight:`calc(${e.spacing.xs}px / 2)`},rightSection:{marginLeft:`calc(${e.spacing.xs}px / 2)`},inner:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},root:AC($ve(AC(AC({},e.fn.focusStyles()),e.fn.fontStyles()),{fontSize:a,height:u,WebkitTapHighlightColor:"transparent",lineHeight:`${u-2}px`,textDecoration:"none",padding:`0 ${e.fn.size({size:n,sizes:e.spacing})/1.5}px`,boxSizing:"border-box",display:s?"flex":"inline-flex",alignItems:"center",justifyContent:"center",width:s?"100%":"auto",textTransform:"uppercase",borderRadius:e.fn.radius(r),fontWeight:700,letterSpacing:.25,cursor:"inherit",textOverflow:"ellipsis",overflow:"hidden"}),Mve({theme:e,variant:o,color:t,size:n,gradient:i}))}});const Bve=Fve;var jve=Object.defineProperty,kE=Object.getOwnPropertySymbols,GG=Object.prototype.hasOwnProperty,YG=Object.prototype.propertyIsEnumerable,z5=(e,t,n)=>t in e?jve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Uve=(e,t)=>{for(var n in t||(t={}))GG.call(t,n)&&z5(e,n,t[n]);if(kE)for(var n of kE(t))YG.call(t,n)&&z5(e,n,t[n]);return e},Vve=(e,t)=>{var n={};for(var r in e)GG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&kE)for(var r of kE(e))t.indexOf(r)<0&&YG.call(e,r)&&(n[r]=e[r]);return n};const zve={variant:"light",size:"md",radius:"xl"},KG=w.forwardRef((e,t)=>{const n=ht("Badge",zve,e),{className:r,color:i,variant:s,fullWidth:o,children:a,size:u,leftSection:l,rightSection:c,radius:f,gradient:d,classNames:h,styles:p,unstyled:m}=n,y=Vve(n,["className","color","variant","fullWidth","children","size","leftSection","rightSection","radius","gradient","classNames","styles","unstyled"]),{classes:g,cx:_}=Bve({size:u,fullWidth:o,color:i,radius:f,variant:s,gradient:d},{classNames:h,styles:p,name:"Badge",unstyled:m});return k.createElement(lt,Uve({className:_(g.root,r),ref:t},y),l&&k.createElement("span",{className:g.leftSection},l),k.createElement("span",{className:g.inner},a),c&&k.createElement("span",{className:g.rightSection},c))});KG.displayName="@mantine/core/Badge";const Hve=KG;var Wve=at((e,{orientation:t,buttonBorderWidth:n})=>({root:{display:"flex",flexDirection:t==="vertical"?"column":"row","& [data-button]":{"&:first-of-type":{borderBottomRightRadius:0,[t==="vertical"?"borderBottomLeftRadius":"borderTopRightRadius"]:0,[t==="vertical"?"borderBottomWidth":"borderRightWidth"]:n/2},"&:last-of-type":{borderTopLeftRadius:0,[t==="vertical"?"borderTopRightRadius":"borderBottomLeftRadius"]:0,[t==="vertical"?"borderTopWidth":"borderLeftWidth"]:n/2},"&:not(:first-of-type):not(:last-of-type)":{borderRadius:0,[t==="vertical"?"borderTopWidth":"borderLeftWidth"]:n/2,[t==="vertical"?"borderBottomWidth":"borderRightWidth"]:n/2},"& + [data-button]":{[t==="vertical"?"marginTop":"marginLeft"]:-n,"@media (min-resolution: 192dpi)":{[t==="vertical"?"marginTop":"marginLeft"]:0}}}}}));const qve=Wve;var Gve=Object.defineProperty,DE=Object.getOwnPropertySymbols,QG=Object.prototype.hasOwnProperty,XG=Object.prototype.propertyIsEnumerable,H5=(e,t,n)=>t in e?Gve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Yve=(e,t)=>{for(var n in t||(t={}))QG.call(t,n)&&H5(e,n,t[n]);if(DE)for(var n of DE(t))XG.call(t,n)&&H5(e,n,t[n]);return e},Kve=(e,t)=>{var n={};for(var r in e)QG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&DE)for(var r of DE(e))t.indexOf(r)<0&&XG.call(e,r)&&(n[r]=e[r]);return n};const Qve={orientation:"horizontal",buttonBorderWidth:1},JG=w.forwardRef((e,t)=>{const n=ht("ButtonGroup",Qve,e),{className:r,orientation:i,buttonBorderWidth:s,unstyled:o}=n,a=Kve(n,["className","orientation","buttonBorderWidth","unstyled"]),{classes:u,cx:l}=qve({orientation:i,buttonBorderWidth:s},{name:"ButtonGroup",unstyled:o});return k.createElement(lt,Yve({className:l(u.root,r),ref:t},a))});JG.displayName="@mantine/core/ButtonGroup";var Xve=Object.defineProperty,Jve=Object.defineProperties,Zve=Object.getOwnPropertyDescriptors,W5=Object.getOwnPropertySymbols,e1e=Object.prototype.hasOwnProperty,t1e=Object.prototype.propertyIsEnumerable,q5=(e,t,n)=>t in e?Xve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Vf=(e,t)=>{for(var n in t||(t={}))e1e.call(t,n)&&q5(e,n,t[n]);if(W5)for(var n of W5(t))t1e.call(t,n)&&q5(e,n,t[n]);return e},PP=(e,t)=>Jve(e,Zve(t));const RP={xs:{height:Ss.xs,paddingLeft:14,paddingRight:14},sm:{height:Ss.sm,paddingLeft:18,paddingRight:18},md:{height:Ss.md,paddingLeft:22,paddingRight:22},lg:{height:Ss.lg,paddingLeft:26,paddingRight:26},xl:{height:Ss.xl,paddingLeft:32,paddingRight:32},"compact-xs":{height:22,paddingLeft:7,paddingRight:7},"compact-sm":{height:26,paddingLeft:8,paddingRight:8},"compact-md":{height:30,paddingLeft:10,paddingRight:10},"compact-lg":{height:34,paddingLeft:12,paddingRight:12},"compact-xl":{height:40,paddingLeft:14,paddingRight:14}};function n1e({compact:e,size:t,withLeftIcon:n,withRightIcon:r}){if(e)return RP[`compact-${t}`];const i=RP[t];return PP(Vf({},i),{paddingLeft:n?i.paddingLeft/1.5:i.paddingLeft,paddingRight:r?i.paddingRight/1.5:i.paddingRight})}const r1e=e=>({display:e?"block":"inline-block",width:e?"100%":"auto"});function i1e({variant:e,theme:t,color:n,gradient:r}){const i=t.fn.variant({color:n,variant:e,gradient:r});return e==="gradient"?{border:0,backgroundImage:i.background,color:i.color,"&:hover":t.fn.hover({backgroundSize:"200%"})}:Vf({border:`1px solid ${i.border}`,backgroundColor:i.background,color:i.color},t.fn.hover({backgroundColor:i.hover}))}var s1e=at((e,{color:t,size:n,radius:r,fullWidth:i,compact:s,gradient:o,variant:a,withLeftIcon:u,withRightIcon:l})=>({root:PP(Vf(PP(Vf(Vf(Vf(Vf({},n1e({compact:s,size:n,withLeftIcon:u,withRightIcon:l})),e.fn.fontStyles()),e.fn.focusStyles()),r1e(i)),{borderRadius:e.fn.radius(r),fontWeight:600,position:"relative",lineHeight:1,fontSize:e.fn.size({size:n,sizes:e.fontSizes}),userSelect:"none",cursor:"pointer"}),i1e({variant:a,theme:e,color:t,gradient:o})),{"&:active":e.activeStyles,"&:disabled, &[data-disabled]":{borderColor:"transparent",backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],color:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[5],cursor:"not-allowed",backgroundImage:"none",pointerEvents:"none","&:active":{transform:"none"}},"&[data-loading]":{pointerEvents:"none","&::before":{content:'""',position:"absolute",top:-1,left:-1,right:-1,bottom:-1,backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.colors.dark[7],.5):"rgba(255, 255, 255, .5)",borderRadius:e.fn.radius(r),cursor:"not-allowed"}}}),icon:{display:"flex",alignItems:"center"},leftIcon:{marginRight:10},rightIcon:{marginLeft:10},centerLoader:{position:"absolute",left:"50%",transform:"translateX(-50%)",opacity:.5},inner:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",overflow:"visible"},label:{whiteSpace:"nowrap",height:"100%",overflow:"hidden",display:"flex",alignItems:"center"}}));const o1e=s1e;var a1e=Object.defineProperty,$E=Object.getOwnPropertySymbols,ZG=Object.prototype.hasOwnProperty,eY=Object.prototype.propertyIsEnumerable,G5=(e,t,n)=>t in e?a1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Y5=(e,t)=>{for(var n in t||(t={}))ZG.call(t,n)&&G5(e,n,t[n]);if($E)for(var n of $E(t))eY.call(t,n)&&G5(e,n,t[n]);return e},u1e=(e,t)=>{var n={};for(var r in e)ZG.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&$E)for(var r of $E(e))t.indexOf(r)<0&&eY.call(e,r)&&(n[r]=e[r]);return n};const l1e={size:"sm",type:"button",variant:"filled",loaderPosition:"left"},yk=w.forwardRef((e,t)=>{const n=ht("Button",l1e,e),{className:r,size:i,color:s,type:o,disabled:a,children:u,leftIcon:l,rightIcon:c,fullWidth:f,variant:d,radius:h,uppercase:p,compact:m,loading:y,loaderPosition:g,loaderProps:_,gradient:b,classNames:T,styles:I,unstyled:E}=n,S=u1e(n,["className","size","color","type","disabled","children","leftIcon","rightIcon","fullWidth","variant","radius","uppercase","compact","loading","loaderPosition","loaderProps","gradient","classNames","styles","unstyled"]),{classes:A,cx:L,theme:W}=o1e({radius:h,color:s,size:i,fullWidth:f,compact:m,gradient:b,variant:d,withLeftIcon:!!l,withRightIcon:!!c},{name:"Button",unstyled:E,classNames:T,styles:I}),z=W.fn.variant({color:s,variant:d}),U=k.createElement(Nm,Y5({color:z.color,size:W.fn.size({size:i,sizes:RP}).height/2},_));return k.createElement(ek,Y5({className:L(A.root,r),type:o,disabled:a,"data-button":!0,"data-disabled":a||void 0,"data-loading":y||void 0,ref:t,unstyled:E},S),k.createElement("div",{className:A.inner},(l||y&&g==="left")&&k.createElement("span",{className:L(A.icon,A.leftIcon)},y&&g==="left"?U:l),y&&g==="center"&&k.createElement("span",{className:A.centerLoader},U),k.createElement("span",{className:A.label,style:{textTransform:p?"uppercase":void 0}},u),(c||y&&g==="right")&&k.createElement("span",{className:L(A.icon,A.rightIcon)},y&&g==="right"?U:c)))});yk.displayName="@mantine/core/Button";yk.Group=JG;const cl=yk;var c1e=at((e,{radius:t,shadow:n,withBorder:r})=>({root:{outline:0,WebkitTapHighlightColor:"transparent",display:"block",textDecoration:"none",color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white,boxSizing:"border-box",borderRadius:e.fn.radius(t),boxShadow:e.shadows[n]||n||"none",border:r?`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3]}`:void 0}}));const f1e=c1e;var d1e=Object.defineProperty,LE=Object.getOwnPropertySymbols,tY=Object.prototype.hasOwnProperty,nY=Object.prototype.propertyIsEnumerable,K5=(e,t,n)=>t in e?d1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,h1e=(e,t)=>{for(var n in t||(t={}))tY.call(t,n)&&K5(e,n,t[n]);if(LE)for(var n of LE(t))nY.call(t,n)&&K5(e,n,t[n]);return e},p1e=(e,t)=>{var n={};for(var r in e)tY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&LE)for(var r of LE(e))t.indexOf(r)<0&&nY.call(e,r)&&(n[r]=e[r]);return n};const m1e={},rY=w.forwardRef((e,t)=>{const n=ht("Paper",m1e,e),{className:r,children:i,radius:s,withBorder:o,shadow:a,unstyled:u}=n,l=p1e(n,["className","children","radius","withBorder","shadow","unstyled"]),{classes:c,cx:f}=f1e({radius:s,shadow:a,withBorder:o},{name:"Paper",unstyled:u});return k.createElement(lt,h1e({className:f(c.root,r),ref:t},l),i)});rY.displayName="@mantine/core/Paper";const yd=rY,iY=w.createContext({padding:0}),g1e=iY.Provider,y1e=()=>w.useContext(iY).padding;var _1e=at((e,{padding:t,withBorder:n,inheritPadding:r})=>{const i=e.fn.size({size:t,sizes:e.spacing}),s=-1*i,o=e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3];return{cardSection:{display:"block",marginLeft:s,marginRight:s,paddingLeft:r?i:void 0,paddingRight:r?i:void 0,borderTop:n&&`1px solid ${o}`,borderBottom:n&&`1px solid ${o}`,"& + &":{borderTop:0},"&[data-first]":{marginTop:s,borderTop:0,borderBottom:n&&`1px solid ${o}`},"&[data-last]":{marginBottom:s,borderBottom:0}}}});const v1e=_1e;var b1e=Object.defineProperty,ME=Object.getOwnPropertySymbols,sY=Object.prototype.hasOwnProperty,oY=Object.prototype.propertyIsEnumerable,Q5=(e,t,n)=>t in e?b1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,E1e=(e,t)=>{for(var n in t||(t={}))sY.call(t,n)&&Q5(e,n,t[n]);if(ME)for(var n of ME(t))oY.call(t,n)&&Q5(e,n,t[n]);return e},w1e=(e,t)=>{var n={};for(var r in e)sY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ME)for(var r of ME(e))t.indexOf(r)<0&&oY.call(e,r)&&(n[r]=e[r]);return n};const aY=w.forwardRef((e,t)=>{var n=e,{className:r,withBorder:i=!1,inheritPadding:s=!1,unstyled:o}=n,a=w1e(n,["className","withBorder","inheritPadding","unstyled"]);const{classes:u,cx:l}=v1e({padding:y1e(),withBorder:i,inheritPadding:s},{name:"Card",unstyled:o});return k.createElement(lt,E1e({className:l(u.cardSection,r),ref:t},a))});aY.displayName="@mantine/core/CardSection";const uY=aY;var T1e=at(e=>({root:{position:"relative",overflow:"hidden",backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white}}));const S1e=T1e;var I1e=Object.defineProperty,FE=Object.getOwnPropertySymbols,lY=Object.prototype.hasOwnProperty,cY=Object.prototype.propertyIsEnumerable,X5=(e,t,n)=>t in e?I1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,x1e=(e,t)=>{for(var n in t||(t={}))lY.call(t,n)&&X5(e,n,t[n]);if(FE)for(var n of FE(t))cY.call(t,n)&&X5(e,n,t[n]);return e},C1e=(e,t)=>{var n={};for(var r in e)lY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&FE)for(var r of FE(e))t.indexOf(r)<0&&cY.call(e,r)&&(n[r]=e[r]);return n};const A1e={p:"md"},_k=w.forwardRef((e,t)=>{const n=ht("Card",A1e,e),{className:r,p:i,radius:s,children:o,unstyled:a}=n,u=C1e(n,["className","p","radius","children","unstyled"]),{classes:l,cx:c}=S1e(null,{name:"Card",unstyled:a}),f=w.Children.toArray(o),d=f.map((h,p)=>typeof h=="object"&&h&&"type"in h&&h.type===uY?w.cloneElement(h,{padding:i,"data-first":p===0||void 0,"data-last":p===f.length-1||void 0}):h);return k.createElement(g1e,{value:{padding:i}},k.createElement(yd,x1e({className:c(l.root,r),radius:s,p:i,ref:t},u),d))});_k.Section=uY;_k.displayName="@mantine/core/Card";const O1e=_k;var P1e=Object.defineProperty,BE=Object.getOwnPropertySymbols,fY=Object.prototype.hasOwnProperty,dY=Object.prototype.propertyIsEnumerable,J5=(e,t,n)=>t in e?P1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,R1e=(e,t)=>{for(var n in t||(t={}))fY.call(t,n)&&J5(e,n,t[n]);if(BE)for(var n of BE(t))dY.call(t,n)&&J5(e,n,t[n]);return e},N1e=(e,t)=>{var n={};for(var r in e)fY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&BE)for(var r of BE(e))t.indexOf(r)<0&&dY.call(e,r)&&(n[r]=e[r]);return n};const hY=w.forwardRef((e,t)=>{const n=ht("Center",{},e),{inline:r,sx:i}=n,s=N1e(n,["inline","sx"]);return k.createElement(lt,R1e({ref:t,sx:[{display:r?"inline-flex":"flex",alignItems:"center",justifyContent:"center"},...Pd(i)]},s))});hY.displayName="@mantine/core/Center";const by=hY,pY=w.createContext(null),k1e=pY.Provider,D1e=()=>w.useContext(pY);function $1e(e){return w.Children.toArray(e).filter(Boolean)}const L1e={left:"flex-start",center:"center",right:"flex-end",apart:"space-between"};var M1e=at((e,{spacing:t,position:n,noWrap:r,grow:i,align:s,count:o})=>({root:{boxSizing:"border-box",display:"flex",flexDirection:"row",alignItems:s||"center",flexWrap:r?"nowrap":"wrap",justifyContent:L1e[n],gap:e.fn.size({size:t,sizes:e.spacing}),"& > *":{boxSizing:"border-box",maxWidth:i?`calc(${100/o}% - ${e.fn.size({size:t,sizes:e.spacing})-e.fn.size({size:t,sizes:e.spacing})/o}px)`:void 0,flexGrow:i?1:0}}}));const F1e=M1e;var B1e=Object.defineProperty,jE=Object.getOwnPropertySymbols,mY=Object.prototype.hasOwnProperty,gY=Object.prototype.propertyIsEnumerable,Z5=(e,t,n)=>t in e?B1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,j1e=(e,t)=>{for(var n in t||(t={}))mY.call(t,n)&&Z5(e,n,t[n]);if(jE)for(var n of jE(t))gY.call(t,n)&&Z5(e,n,t[n]);return e},U1e=(e,t)=>{var n={};for(var r in e)mY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&jE)for(var r of jE(e))t.indexOf(r)<0&&gY.call(e,r)&&(n[r]=e[r]);return n};const V1e={position:"left",spacing:"md"},Tl=w.forwardRef((e,t)=>{const n=ht("Group",V1e,e),{className:r,position:i,align:s,children:o,noWrap:a,grow:u,spacing:l,unstyled:c}=n,f=U1e(n,["className","position","align","children","noWrap","grow","spacing","unstyled"]),d=$1e(o),{classes:h,cx:p}=F1e({align:s,grow:u,noWrap:a,spacing:l,position:i,count:d.length},{unstyled:c,name:"Group"});return k.createElement(lt,j1e({className:p(h.root,r),ref:t},f),d)});Tl.displayName="@mantine/core/Group";var z1e=at((e,{spacing:t,align:n,justify:r})=>({root:{display:"flex",flexDirection:"column",alignItems:n,justifyContent:r,gap:e.fn.size({size:t,sizes:e.spacing})}}));const H1e=z1e;var W1e=Object.defineProperty,UE=Object.getOwnPropertySymbols,yY=Object.prototype.hasOwnProperty,_Y=Object.prototype.propertyIsEnumerable,eF=(e,t,n)=>t in e?W1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,q1e=(e,t)=>{for(var n in t||(t={}))yY.call(t,n)&&eF(e,n,t[n]);if(UE)for(var n of UE(t))_Y.call(t,n)&&eF(e,n,t[n]);return e},G1e=(e,t)=>{var n={};for(var r in e)yY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&UE)for(var r of UE(e))t.indexOf(r)<0&&_Y.call(e,r)&&(n[r]=e[r]);return n};const Y1e={spacing:"md",align:"stretch",justify:"top"},fl=w.forwardRef((e,t)=>{const n=ht("Stack",Y1e,e),{spacing:r,className:i,align:s,justify:o,unstyled:a}=n,u=G1e(n,["spacing","className","align","justify","unstyled"]),{classes:l,cx:c}=H1e({spacing:r,align:s,justify:o},{name:"Stack",unstyled:a});return k.createElement(lt,q1e({className:c(l.root,i),ref:t},u))});fl.displayName="@mantine/core/Stack";function vY({spacing:e,offset:t,orientation:n,children:r,role:i,unstyled:s}){return n==="horizontal"?k.createElement(Tl,{pt:t,spacing:e,role:i,unstyled:s},r):k.createElement(fl,{pt:t,spacing:e,role:i,unstyled:s},r)}var K1e=Object.defineProperty,VE=Object.getOwnPropertySymbols,bY=Object.prototype.hasOwnProperty,EY=Object.prototype.propertyIsEnumerable,tF=(e,t,n)=>t in e?K1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nF=(e,t)=>{for(var n in t||(t={}))bY.call(t,n)&&tF(e,n,t[n]);if(VE)for(var n of VE(t))EY.call(t,n)&&tF(e,n,t[n]);return e},Q1e=(e,t)=>{var n={};for(var r in e)bY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&VE)for(var r of VE(e))t.indexOf(r)<0&&EY.call(e,r)&&(n[r]=e[r]);return n};const X1e={orientation:"horizontal",spacing:"lg",size:"sm",offset:"xs"},wY=w.forwardRef((e,t)=>{const n=ht("CheckboxGroup",X1e,e),{children:r,value:i,defaultValue:s,onChange:o,orientation:a,spacing:u,size:l,wrapperProps:c,offset:f}=n,d=Q1e(n,["children","value","defaultValue","onChange","orientation","spacing","size","wrapperProps","offset"]),[h,p]=Ia({value:i,defaultValue:s,finalValue:[],onChange:o}),m=y=>{const g=y.currentTarget.value;p(h.includes(g)?h.filter(_=>_!==g):[...h,g])};return k.createElement(k1e,{value:{value:h,onChange:m,size:l}},k.createElement(lo.Wrapper,nF(nF({labelElement:"div",size:l,__staticSelector:"CheckboxGroup",ref:t},c),d),k.createElement(vY,{spacing:u,orientation:a,offset:f},r)))});wY.displayName="@mantine/core/CheckboxGroup";var J1e=Object.defineProperty,zE=Object.getOwnPropertySymbols,TY=Object.prototype.hasOwnProperty,SY=Object.prototype.propertyIsEnumerable,rF=(e,t,n)=>t in e?J1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,NP=(e,t)=>{for(var n in t||(t={}))TY.call(t,n)&&rF(e,n,t[n]);if(zE)for(var n of zE(t))SY.call(t,n)&&rF(e,n,t[n]);return e},Z1e=(e,t)=>{var n={};for(var r in e)TY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&zE)for(var r of zE(e))t.indexOf(r)<0&&SY.call(e,r)&&(n[r]=e[r]);return n};function ebe(e){return k.createElement("svg",NP({viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),k.createElement("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function tbe(e){var t=e,{indeterminate:n}=t,r=Z1e(t,["indeterminate"]);return n?k.createElement("svg",NP({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 6"},r),k.createElement("rect",{width:"32",height:"6",fill:"currentColor",rx:"3"})):k.createElement(ebe,NP({},r))}var nbe=Object.defineProperty,rbe=Object.defineProperties,ibe=Object.getOwnPropertyDescriptors,iF=Object.getOwnPropertySymbols,sbe=Object.prototype.hasOwnProperty,obe=Object.prototype.propertyIsEnumerable,sF=(e,t,n)=>t in e?nbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,abe=(e,t)=>{for(var n in t||(t={}))sbe.call(t,n)&&sF(e,n,t[n]);if(iF)for(var n of iF(t))obe.call(t,n)&&sF(e,n,t[n]);return e},ube=(e,t)=>rbe(e,ibe(t));const lbe={xs:16,sm:20,md:24,lg:30,xl:36},cbe={xs:8,sm:10,md:14,lg:16,xl:20};var fbe=at((e,{size:t,radius:n,color:r,transitionDuration:i,labelPosition:s,error:o,indeterminate:a},u)=>{const l=e.fn.size({size:t,sizes:lbe}),c=e.fn.variant({variant:"filled",color:r}),f=e.fn.variant({variant:"filled",color:"red"}).background;return{icon:{ref:u("icon"),color:a?"inherit":e.white,transform:a?"none":"translateY(5px) scale(0.5)",opacity:a?1:0,transitionProperty:"opacity, transform",transitionTimingFunction:"ease",transitionDuration:`${i}ms`,pointerEvents:"none",width:e.fn.size({size:t,sizes:cbe}),position:"absolute",zIndex:1,top:0,bottom:0,left:0,right:0,margin:"auto","@media (prefers-reduced-motion)":{transitionDuration:e.respectReducedMotion?"0ms":void 0}},inner:{position:"relative",width:l,height:l,order:s==="left"?2:1},input:ube(abe({},e.fn.focusStyles()),{appearance:"none",backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white,border:`1px solid ${o?f:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,width:l,height:l,borderRadius:e.fn.radius(n),padding:0,display:"block",margin:0,transition:`border-color ${i}ms ease, background-color ${i}ms ease`,cursor:e.cursorType,"&:checked":{backgroundColor:c.background,borderColor:c.background,[`& + .${u("icon")}`]:{opacity:1,color:e.white,transform:"translateY(0) scale(1)"}},"&:disabled":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],borderColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[3],cursor:"not-allowed",[`& + .${u("icon")}`]:{color:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[5]}}})}});const dbe=fbe;var hbe=Object.defineProperty,pbe=Object.defineProperties,mbe=Object.getOwnPropertyDescriptors,oF=Object.getOwnPropertySymbols,gbe=Object.prototype.hasOwnProperty,ybe=Object.prototype.propertyIsEnumerable,aF=(e,t,n)=>t in e?hbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_be=(e,t)=>{for(var n in t||(t={}))gbe.call(t,n)&&aF(e,n,t[n]);if(oF)for(var n of oF(t))ybe.call(t,n)&&aF(e,n,t[n]);return e},vbe=(e,t)=>pbe(e,mbe(t));const bbe={xs:16,sm:20,md:24,lg:30,xl:36};var Ebe=at((e,{labelPosition:t,size:n})=>({root:{},body:{display:"inline-flex"},labelWrapper:vbe(_be({},e.fn.fontStyles()),{display:"inline-flex",flexDirection:"column",WebkitTapHighlightColor:"transparent",fontSize:e.fn.size({size:n,sizes:e.fontSizes}),lineHeight:`${e.fn.size({size:n,sizes:bbe})}px`,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,cursor:e.cursorType,order:t==="left"?1:2}),description:{marginTop:`calc(${e.spacing.xs}px / 2)`,[t==="left"?"paddingRight":"paddingLeft"]:e.spacing.sm},error:{marginTop:`calc(${e.spacing.xs}px / 2)`,[t==="left"?"paddingRight":"paddingLeft"]:e.spacing.sm},label:{cursor:e.cursorType,[t==="left"?"paddingRight":"paddingLeft"]:e.spacing.sm,"&[data-disabled]":{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]}}}));const wbe=Ebe;var Tbe=Object.defineProperty,HE=Object.getOwnPropertySymbols,IY=Object.prototype.hasOwnProperty,xY=Object.prototype.propertyIsEnumerable,uF=(e,t,n)=>t in e?Tbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Sbe=(e,t)=>{for(var n in t||(t={}))IY.call(t,n)&&uF(e,n,t[n]);if(HE)for(var n of HE(t))xY.call(t,n)&&uF(e,n,t[n]);return e},Ibe=(e,t)=>{var n={};for(var r in e)IY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&HE)for(var r of HE(e))t.indexOf(r)<0&&xY.call(e,r)&&(n[r]=e[r]);return n};function vk(e){var t=e,{__staticSelector:n,className:r,classNames:i,styles:s,unstyled:o,children:a,label:u,description:l,id:c,disabled:f,error:d,size:h,labelPosition:p}=t,m=Ibe(t,["__staticSelector","className","classNames","styles","unstyled","children","label","description","id","disabled","error","size","labelPosition"]);const{classes:y,cx:g}=wbe({size:h,labelPosition:p},{name:n,styles:s,classNames:i,unstyled:o});return k.createElement(lt,Sbe({className:g(y.root,r)},m),k.createElement("div",{className:g(y.body)},a,k.createElement("div",{className:y.labelWrapper},u&&k.createElement("label",{className:y.label,"data-disabled":f||void 0,htmlFor:c},u),l&&k.createElement(lo.Description,{className:y.description},l),d&&d!=="boolean"&&k.createElement(lo.Error,{className:y.error},d))))}vk.displayName="@mantine/core/InlineInput";var xbe=Object.defineProperty,WE=Object.getOwnPropertySymbols,CY=Object.prototype.hasOwnProperty,AY=Object.prototype.propertyIsEnumerable,lF=(e,t,n)=>t in e?xbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Gv=(e,t)=>{for(var n in t||(t={}))CY.call(t,n)&&lF(e,n,t[n]);if(WE)for(var n of WE(t))AY.call(t,n)&&lF(e,n,t[n]);return e},Cbe=(e,t)=>{var n={};for(var r in e)CY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&WE)for(var r of WE(e))t.indexOf(r)<0&&AY.call(e,r)&&(n[r]=e[r]);return n};const Abe={size:"sm",transitionDuration:100,icon:tbe,labelPosition:"right"},qp=w.forwardRef((e,t)=>{const n=ht("Checkbox",Abe,e),{className:r,style:i,sx:s,checked:o,disabled:a,color:u,label:l,indeterminate:c,id:f,size:d,radius:h,wrapperProps:p,children:m,classNames:y,styles:g,transitionDuration:_,icon:b,unstyled:T,labelPosition:I,description:E,error:S}=n,A=Cbe(n,["className","style","sx","checked","disabled","color","label","indeterminate","id","size","radius","wrapperProps","children","classNames","styles","transitionDuration","icon","unstyled","labelPosition","description","error"]),L=D1e(),W=Ru(f),{systemStyles:z,rest:U}=Kd(A),{classes:Z}=dbe({size:(L==null?void 0:L.size)||d,radius:h,color:u,transitionDuration:_,labelPosition:I,error:!!S,indeterminate:c},{name:"Checkbox",classNames:y,styles:g,unstyled:T}),H=L?{checked:L.value.includes(U.value),onChange:L.onChange}:{};return k.createElement(vk,Gv(Gv({className:r,sx:s,style:i,id:W,size:(L==null?void 0:L.size)||d,labelPosition:I,label:l,description:E,error:S,disabled:a,__staticSelector:"Checkbox",classNames:y,styles:g,unstyled:T,"data-checked":H.checked||void 0},z),p),k.createElement("div",{className:Z.inner},k.createElement("input",Gv(Gv({id:W,ref:t,type:"checkbox",className:Z.input,checked:o,disabled:a},U),H)),k.createElement(b,{indeterminate:c,className:Z.icon})))});qp.displayName="@mantine/core/Checkbox";qp.Group=wY;var Obe=at((e,{fluid:t,size:n,sizes:r})=>({root:{paddingLeft:e.spacing.md,paddingRight:e.spacing.md,maxWidth:t?"100%":e.fn.size({size:n,sizes:r}),marginLeft:"auto",marginRight:"auto"}}));const Pbe=Obe;var Rbe=Object.defineProperty,qE=Object.getOwnPropertySymbols,OY=Object.prototype.hasOwnProperty,PY=Object.prototype.propertyIsEnumerable,cF=(e,t,n)=>t in e?Rbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Nbe=(e,t)=>{for(var n in t||(t={}))OY.call(t,n)&&cF(e,n,t[n]);if(qE)for(var n of qE(t))PY.call(t,n)&&cF(e,n,t[n]);return e},kbe=(e,t)=>{var n={};for(var r in e)OY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&qE)for(var r of qE(e))t.indexOf(r)<0&&PY.call(e,r)&&(n[r]=e[r]);return n};const Dbe={sizes:{xs:540,sm:720,md:960,lg:1140,xl:1320}},RY=w.forwardRef((e,t)=>{const n=ht("Container",Dbe,e),{className:r,fluid:i,size:s,unstyled:o,sizes:a}=n,u=kbe(n,["className","fluid","size","unstyled","sizes"]),{classes:l,cx:c}=Pbe({fluid:i,size:s,sizes:a},{unstyled:o,name:"Container"});return k.createElement(lt,Nbe({className:c(l.root,r),ref:t},u))});RY.displayName="@mantine/core/Container";function NY({transitions:e,duration:t=250,exitDuration:n=t,mounted:r,children:i,timingFunction:s,onExit:o,onEntered:a,onEnter:u,onExited:l}){const{transitionDuration:c,transitionStatus:f,transitionTimingFunction:d}=wG({mounted:r,duration:t,exitDuration:n,timingFunction:s,onExit:o,onEntered:a,onEnter:u,onExited:l});if(c===0)return r?k.createElement(k.Fragment,null,i({})):null;if(f==="exited")return null;const h=Object.keys(e).reduce((p,m)=>(p[m]=EG({duration:e[m].duration,transition:e[m].transition,timingFunction:e[m].timingFunction||d,state:f}),p),{});return k.createElement(k.Fragment,null,i(h))}NY.displayName="@mantine/core/GroupedTransition";var $be=at((e,{zIndex:t})=>({root:{position:"absolute",top:0,bottom:0,left:0,right:0,zIndex:t}}));const Lbe=$be;var Mbe=Object.defineProperty,Fbe=Object.defineProperties,Bbe=Object.getOwnPropertyDescriptors,GE=Object.getOwnPropertySymbols,kY=Object.prototype.hasOwnProperty,DY=Object.prototype.propertyIsEnumerable,fF=(e,t,n)=>t in e?Mbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,PC=(e,t)=>{for(var n in t||(t={}))kY.call(t,n)&&fF(e,n,t[n]);if(GE)for(var n of GE(t))DY.call(t,n)&&fF(e,n,t[n]);return e},jbe=(e,t)=>Fbe(e,Bbe(t)),Ube=(e,t)=>{var n={};for(var r in e)kY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&GE)for(var r of GE(e))t.indexOf(r)<0&&DY.call(e,r)&&(n[r]=e[r]);return n};const Vbe={opacity:.6,color:"#fff",zIndex:Eo("modal"),radius:0,blur:0},$Y=w.forwardRef((e,t)=>{const n=ht("Overlay",Vbe,e),{opacity:r,blur:i,color:s,gradient:o,zIndex:a,radius:u,sx:l,unstyled:c,className:f}=n,d=Ube(n,["opacity","blur","color","gradient","zIndex","radius","sx","unstyled","className"]),{classes:h,cx:p}=Lbe({zIndex:a},{name:"Overlay",unstyled:c}),m=o?{backgroundImage:o}:{backgroundColor:s},y=g=>k.createElement(lt,PC({ref:t,className:p(h.root,f),sx:[_=>jbe(PC({},m),{opacity:r,borderRadius:_.fn.size({size:u,sizes:_.radius})}),...Pd(l)]},g));return i?k.createElement(lt,PC({className:p(h.root,f),sx:[{backdropFilter:`blur(${i}px)`},...Pd(l)]},d),y()):y(d)});$Y.displayName="@mantine/core/Overlay";const zbe=$Y,Hbe={gap:{type:"spacing",property:"gap"},rowGap:{type:"spacing",property:"rowGap"},columnGap:{type:"spacing",property:"columnGap"},align:{type:"default",property:"alignItems"},justify:{type:"default",property:"justifyContent"},wrap:{type:"default",property:"flexWrap"},direction:{type:"default",property:"flexDirection"}};var Wbe=Object.defineProperty,qbe=Object.defineProperties,Gbe=Object.getOwnPropertyDescriptors,YE=Object.getOwnPropertySymbols,LY=Object.prototype.hasOwnProperty,MY=Object.prototype.propertyIsEnumerable,dF=(e,t,n)=>t in e?Wbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ybe=(e,t)=>{for(var n in t||(t={}))LY.call(t,n)&&dF(e,n,t[n]);if(YE)for(var n of YE(t))MY.call(t,n)&&dF(e,n,t[n]);return e},Kbe=(e,t)=>qbe(e,Gbe(t)),Qbe=(e,t)=>{var n={};for(var r in e)LY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&YE)for(var r of YE(e))t.indexOf(r)<0&&MY.call(e,r)&&(n[r]=e[r]);return n};const Xbe={},Rd=w.forwardRef((e,t)=>{const n=ht("Flex",Xbe,e),{gap:r,rowGap:i,columnGap:s,align:o,justify:a,wrap:u,direction:l,sx:c}=n,f=Qbe(n,["gap","rowGap","columnGap","align","justify","wrap","direction","sx"]);return k.createElement(lt,Kbe(Ybe({},f),{sx:[{display:"flex"},d=>TP({gap:r,rowGap:i,columnGap:s,align:o,justify:a,wrap:u,direction:l},d,Hbe),...Pd(c)],ref:t}))});Rd.displayName="@mantine/core/Flex";const FY=w.createContext(null),Jbe=FY.Provider,Zbe=()=>w.useContext(FY);var eEe=Object.defineProperty,hF=Object.getOwnPropertySymbols,tEe=Object.prototype.hasOwnProperty,nEe=Object.prototype.propertyIsEnumerable,pF=(e,t,n)=>t in e?eEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rEe=(e,t)=>{for(var n in t||(t={}))tEe.call(t,n)&&pF(e,n,t[n]);if(hF)for(var n of hF(t))nEe.call(t,n)&&pF(e,n,t[n]);return e};const bk=(e,t)=>e==="content"?"auto":e==="auto"?"0px":e?`${100/(t/e)}%`:void 0,BY=(e,t,n)=>n||e==="auto"||e==="content"?"unset":bk(e,t),jY=(e,t)=>{if(e)return e==="auto"||t?1:0},UY=(e,t)=>e===0?0:e?`${100/(t/e)}%`:void 0;function iEe({sizes:e,offsets:t,orders:n,theme:r,columns:i,grow:s}){return dde.reduce((o,a)=>(o[`@media (min-width: ${r.breakpoints[a]}px)`]={order:n[a],flexBasis:bk(e[a],i),flexShrink:0,width:e[a]==="content"?"auto":void 0,maxWidth:BY(e[a],i,s),marginLeft:UY(t[a],i),flexGrow:jY(e[a],s)},o),{})}var sEe=at((e,{gutter:t,grow:n,offset:r,offsetXs:i,offsetSm:s,offsetMd:o,offsetLg:a,offsetXl:u,columns:l,span:c,xs:f,sm:d,md:h,lg:p,xl:m,order:y,orderXs:g,orderSm:_,orderMd:b,orderLg:T,orderXl:I})=>({root:rEe({boxSizing:"border-box",flexGrow:jY(c,n),order:y,padding:e.fn.size({size:t,sizes:e.spacing})/2,marginLeft:UY(r,l),flexBasis:bk(c,l),flexShrink:0,width:c==="content"?"auto":void 0,maxWidth:BY(c,l,n)},iEe({sizes:{xs:f,sm:d,md:h,lg:p,xl:m},offsets:{xs:i,sm:s,md:o,lg:a,xl:u},orders:{xs:g,sm:_,md:b,lg:T,xl:I},theme:e,columns:l,grow:n}))}));const oEe=sEe;var aEe=Object.defineProperty,KE=Object.getOwnPropertySymbols,VY=Object.prototype.hasOwnProperty,zY=Object.prototype.propertyIsEnumerable,mF=(e,t,n)=>t in e?aEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,uEe=(e,t)=>{for(var n in t||(t={}))VY.call(t,n)&&mF(e,n,t[n]);if(KE)for(var n of KE(t))zY.call(t,n)&&mF(e,n,t[n]);return e},lEe=(e,t)=>{var n={};for(var r in e)VY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&KE)for(var r of KE(e))t.indexOf(r)<0&&zY.call(e,r)&&(n[r]=e[r]);return n};const cEe={};function fEe(e){return e==="auto"||e==="content"?!0:typeof e=="number"&&e>0&&e%1===0}const HY=w.forwardRef((e,t)=>{const n=ht("Grid.Col",cEe,e),{children:r,span:i,offset:s,offsetXs:o,offsetSm:a,offsetMd:u,offsetLg:l,offsetXl:c,xs:f,sm:d,md:h,lg:p,xl:m,order:y,orderXs:g,orderSm:_,orderMd:b,orderLg:T,orderXl:I,className:E,id:S,unstyled:A}=n,L=lEe(n,["children","span","offset","offsetXs","offsetSm","offsetMd","offsetLg","offsetXl","xs","sm","md","lg","xl","order","orderXs","orderSm","orderMd","orderLg","orderXl","className","id","unstyled"]),W=Zbe();if(!W)throw new Error("[@mantine/core] Grid.Col was used outside of Grid context");const z=i||W.columns,{classes:U,cx:Z}=oEe({gutter:W.gutter,offset:s,offsetXs:o,offsetSm:a,offsetMd:u,offsetLg:l,offsetXl:c,xs:f,sm:d,md:h,lg:p,xl:m,order:y,orderXs:g,orderSm:_,orderMd:b,orderLg:T,orderXl:I,grow:W.grow,columns:W.columns,span:z},{unstyled:A,name:"Col"});return!fEe(z)||z>W.columns?null:k.createElement(lt,uEe({className:Z(U.root,E),ref:t},L),r)});HY.displayName="@mantine/core/Col";var dEe=at((e,{justify:t,align:n,gutter:r})=>({root:{margin:-e.fn.size({size:r,sizes:e.spacing})/2,display:"flex",flexWrap:"wrap",justifyContent:t,alignItems:n}}));const hEe=dEe;var pEe=Object.defineProperty,QE=Object.getOwnPropertySymbols,WY=Object.prototype.hasOwnProperty,qY=Object.prototype.propertyIsEnumerable,gF=(e,t,n)=>t in e?pEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mEe=(e,t)=>{for(var n in t||(t={}))WY.call(t,n)&&gF(e,n,t[n]);if(QE)for(var n of QE(t))qY.call(t,n)&&gF(e,n,t[n]);return e},gEe=(e,t)=>{var n={};for(var r in e)WY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&QE)for(var r of QE(e))t.indexOf(r)<0&&qY.call(e,r)&&(n[r]=e[r]);return n};const yEe={gutter:"md",justify:"flex-start",align:"stretch",columns:12},Zu=w.forwardRef((e,t)=>{const n=ht("Grid",yEe,e),{gutter:r,children:i,grow:s,justify:o,align:a,columns:u,className:l,id:c,unstyled:f}=n,d=gEe(n,["gutter","children","grow","justify","align","columns","className","id","unstyled"]),{classes:h,cx:p}=hEe({gutter:r,justify:o,align:a},{unstyled:f,name:"Grid"});return k.createElement(Jbe,{value:{gutter:r,grow:s,columns:u}},k.createElement(lt,mEe({className:p(h.root,l),ref:t},d),i))});Zu.Col=HY;Zu.displayName="@mantine/core/Grid";function _Ee({open:e,close:t,openDelay:n,closeDelay:r}){const i=w.useRef(-1),s=w.useRef(-1),o=()=>{window.clearTimeout(i.current),window.clearTimeout(s.current)},a=()=>{o(),n===0?e():i.current=window.setTimeout(e,n)},u=()=>{o(),r===0?t():s.current=window.setTimeout(t,r)};return w.useEffect(()=>o,[]),{openDropdown:a,closeDropdown:u}}var vEe=Object.defineProperty,yF=Object.getOwnPropertySymbols,bEe=Object.prototype.hasOwnProperty,EEe=Object.prototype.propertyIsEnumerable,_F=(e,t,n)=>t in e?vEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wEe=(e,t)=>{for(var n in t||(t={}))bEe.call(t,n)&&_F(e,n,t[n]);if(yF)for(var n of yF(t))EEe.call(t,n)&&_F(e,n,t[n]);return e};function TEe(e){return k.createElement("svg",wEe({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),k.createElement("path",{d:"M2.5 1H12.5C13.3284 1 14 1.67157 14 2.5V12.5C14 13.3284 13.3284 14 12.5 14H2.5C1.67157 14 1 13.3284 1 12.5V2.5C1 1.67157 1.67157 1 2.5 1ZM2.5 2C2.22386 2 2 2.22386 2 2.5V8.3636L3.6818 6.6818C3.76809 6.59551 3.88572 6.54797 4.00774 6.55007C4.12975 6.55216 4.24568 6.60372 4.32895 6.69293L7.87355 10.4901L10.6818 7.6818C10.8575 7.50607 11.1425 7.50607 11.3182 7.6818L13 9.3636V2.5C13 2.22386 12.7761 2 12.5 2H2.5ZM2 12.5V9.6364L3.98887 7.64753L7.5311 11.4421L8.94113 13H2.5C2.22386 13 2 12.7761 2 12.5ZM12.5 13H10.155L8.48336 11.153L11 8.6364L13 10.6364V12.5C13 12.7761 12.7761 13 12.5 13ZM6.64922 5.5C6.64922 5.03013 7.03013 4.64922 7.5 4.64922C7.96987 4.64922 8.35078 5.03013 8.35078 5.5C8.35078 5.96987 7.96987 6.35078 7.5 6.35078C7.03013 6.35078 6.64922 5.96987 6.64922 5.5ZM7.5 3.74922C6.53307 3.74922 5.74922 4.53307 5.74922 5.5C5.74922 6.46693 6.53307 7.25078 7.5 7.25078C8.46693 7.25078 9.25078 6.46693 9.25078 5.5C9.25078 4.53307 8.46693 3.74922 7.5 3.74922Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}var SEe=Object.defineProperty,IEe=Object.defineProperties,xEe=Object.getOwnPropertyDescriptors,vF=Object.getOwnPropertySymbols,CEe=Object.prototype.hasOwnProperty,AEe=Object.prototype.propertyIsEnumerable,bF=(e,t,n)=>t in e?SEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,EF=(e,t)=>{for(var n in t||(t={}))CEe.call(t,n)&&bF(e,n,t[n]);if(vF)for(var n of vF(t))AEe.call(t,n)&&bF(e,n,t[n]);return e},wF=(e,t)=>IEe(e,xEe(t)),OEe=at((e,{radius:t})=>({root:{},imageWrapper:{position:"relative"},figure:{margin:0},image:wF(EF({},e.fn.fontStyles()),{display:"block",width:"100%",height:"100%",border:0,borderRadius:e.fn.size({size:t,sizes:e.radius})}),caption:{color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[7],marginTop:e.spacing.xs},placeholder:wF(EF({},e.fn.cover()),{display:"flex",alignItems:"center",justifyContent:"center",color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],backgroundColor:e.colorScheme==="dark"?e.colors.dark[8]:e.colors.gray[0],borderRadius:e.fn.size({size:t,sizes:e.radius})})}));const PEe=OEe;var REe=Object.defineProperty,XE=Object.getOwnPropertySymbols,GY=Object.prototype.hasOwnProperty,YY=Object.prototype.propertyIsEnumerable,TF=(e,t,n)=>t in e?REe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,RC=(e,t)=>{for(var n in t||(t={}))GY.call(t,n)&&TF(e,n,t[n]);if(XE)for(var n of XE(t))YY.call(t,n)&&TF(e,n,t[n]);return e},NEe=(e,t)=>{var n={};for(var r in e)GY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&XE)for(var r of XE(e))t.indexOf(r)<0&&YY.call(e,r)&&(n[r]=e[r]);return n};const kEe={fit:"cover",width:"100%",height:"auto",radius:0},x_=w.forwardRef((e,t)=>{const n=ht("Image",kEe,e),{className:r,alt:i,src:s,fit:o,width:a,height:u,radius:l,imageProps:c,withPlaceholder:f,placeholder:d,imageRef:h,classNames:p,styles:m,caption:y,unstyled:g,style:_}=n,b=NEe(n,["className","alt","src","fit","width","height","radius","imageProps","withPlaceholder","placeholder","imageRef","classNames","styles","caption","unstyled","style"]),{classes:T,cx:I}=PEe({radius:l},{classNames:p,styles:m,unstyled:g,name:"Image"}),[E,S]=w.useState(!s),A=f&&E;return uo(()=>{S(!1)},[s]),k.createElement(lt,RC({className:I(T.root,r),ref:t,style:RC({width:a},_)},b),k.createElement("figure",{className:T.figure},k.createElement("div",{className:T.imageWrapper},k.createElement("img",RC({className:T.image,src:s,alt:i,style:{objectFit:o,width:a,height:u},ref:h,onError:L=>{S(!0),typeof(c==null?void 0:c.onError)=="function"&&c.onError(L)}},c)),A&&k.createElement("div",{className:T.placeholder,title:i},d||k.createElement("div",null,k.createElement(TEe,{style:{width:40,height:40}})))),!!y&&k.createElement(Ct,{component:"figcaption",size:"sm",align:"center",className:T.caption},y)))});x_.displayName="@mantine/core/Image";function DEe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var $Ee=w.useLayoutEffect,LEe=function(t){var n=w.useRef(t);return $Ee(function(){n.current=t}),n},SF=function(t,n){if(typeof t=="function"){t(n);return}t.current=n},MEe=function(t,n){var r=w.useRef();return w.useCallback(function(i){t.current=i,r.current&&SF(r.current,null),r.current=n,n&&SF(n,i)},[n])},IF={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},xF=function(t){Object.keys(IF).forEach(function(n){t.style.setProperty(n,IF[n],"important")})},Gs=null,FEe=function(t,n){var r=t.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function BEe(e,t,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),Gs||(Gs=document.createElement("textarea"),Gs.setAttribute("tabindex","-1"),Gs.setAttribute("aria-hidden","true"),xF(Gs)),Gs.parentNode===null&&document.body.appendChild(Gs);var i=e.paddingSize,s=e.borderSize,o=e.sizingStyle,a=o.boxSizing;Object.keys(o).forEach(function(d){var h=d;Gs.style[h]=o[h]}),xF(Gs),Gs.value=t;var u=FEe(Gs,e);Gs.value="x";var l=Gs.scrollHeight-i,c=l*n;a==="border-box"&&(c=c+i+s),u=Math.max(c,u);var f=l*r;return a==="border-box"&&(f=f+i+s),u=Math.min(f,u),[u,l]}var CF=function(){},jEe=function(t,n){return t.reduce(function(r,i){return r[i]=n[i],r},{})},UEe=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],VEe=!!document.documentElement.currentStyle,zEe=function(t){var n=window.getComputedStyle(t);if(n===null)return null;var r=jEe(UEe,n),i=r.boxSizing;if(i==="")return null;VEe&&i==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var s=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),o=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:s,borderSize:o}},HEe=function(t){var n=LEe(t);w.useLayoutEffect(function(){var r=function(s){n.current(s)};return window.addEventListener("resize",r),function(){window.removeEventListener("resize",r)}},[])},WEe=function(t,n){var r=t.cacheMeasurements,i=t.maxRows,s=t.minRows,o=t.onChange,a=o===void 0?CF:o,u=t.onHeightChange,l=u===void 0?CF:u,c=DEe(t,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]),f=c.value!==void 0,d=w.useRef(null),h=MEe(d,n),p=w.useRef(0),m=w.useRef(),y=function(){var b=d.current,T=r&&m.current?m.current:zEe(b);if(T){m.current=T;var I=BEe(T,b.value||b.placeholder||"x",s,i),E=I[0],S=I[1];p.current!==E&&(p.current=E,b.style.setProperty("height",E+"px","important"),l(E,{rowHeight:S}))}},g=function(b){f||y(),a(b)};return w.useLayoutEffect(y),HEe(y),w.createElement("textarea",cr({},c,{onChange:g,ref:h}))},qEe=w.forwardRef(WEe);const GEe=qEe;var YEe=at(e=>({input:{paddingTop:e.spacing.xs,paddingBottom:e.spacing.xs}}));const KEe=YEe;var QEe=Object.defineProperty,XEe=Object.defineProperties,JEe=Object.getOwnPropertyDescriptors,JE=Object.getOwnPropertySymbols,KY=Object.prototype.hasOwnProperty,QY=Object.prototype.propertyIsEnumerable,AF=(e,t,n)=>t in e?QEe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gh=(e,t)=>{for(var n in t||(t={}))KY.call(t,n)&&AF(e,n,t[n]);if(JE)for(var n of JE(t))QY.call(t,n)&&AF(e,n,t[n]);return e},NC=(e,t)=>XEe(e,JEe(t)),ZEe=(e,t)=>{var n={};for(var r in e)KY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&JE)for(var r of JE(e))t.indexOf(r)<0&&QY.call(e,r)&&(n[r]=e[r]);return n};const ewe={autosize:!1,size:"sm",__staticSelector:"Textarea"},XY=w.forwardRef((e,t)=>{const n=ht("Textarea",ewe,e),{autosize:r,maxRows:i,minRows:s,label:o,error:a,description:u,id:l,className:c,required:f,style:d,wrapperProps:h,classNames:p,styles:m,size:y,__staticSelector:g,sx:_,errorProps:b,descriptionProps:T,labelProps:I,inputWrapperOrder:E,inputContainer:S,unstyled:A,withAsterisk:L}=n,W=ZEe(n,["autosize","maxRows","minRows","label","error","description","id","className","required","style","wrapperProps","classNames","styles","size","__staticSelector","sx","errorProps","descriptionProps","labelProps","inputWrapperOrder","inputContainer","unstyled","withAsterisk"]),z=Ru(l),{classes:U,cx:Z}=KEe(),{systemStyles:H,rest:ue}=Kd(W),ie=gh({required:f,ref:t,invalid:!!a,id:z,classNames:NC(gh({},p),{input:Z(U.input,p==null?void 0:p.input)}),styles:m,__staticSelector:g,size:y,multiline:!0,unstyled:A},ue);return k.createElement(lo.Wrapper,gh(gh({label:o,error:a,id:z,description:u,required:f,style:d,className:c,classNames:p,styles:m,size:y,__staticSelector:g,sx:_,errorProps:b,labelProps:I,descriptionProps:T,inputContainer:S,inputWrapperOrder:E,unstyled:A,withAsterisk:L},H),h),r?k.createElement(lo,NC(gh({},ie),{component:GEe,maxRows:i,minRows:s})):k.createElement(lo,NC(gh({},ie),{component:"textarea",rows:s})))});XY.displayName="@mantine/core/Textarea";const JY=w.createContext(null);function twe(){return w.useContext(JY)||{}}var nwe=at((e,{spacing:t,center:n},r)=>({itemWrapper:{ref:r("itemWrapper"),display:"inline-flex",flexDirection:"column",whiteSpace:"normal"},item:{whiteSpace:"nowrap",lineHeight:n?1:e.lineHeight,"&:not(:first-of-type)":{marginTop:e.fn.size({size:t,sizes:e.spacing})}},withIcon:{listStyle:"none",[`& .${r("itemWrapper")}`]:{display:"inline-flex",alignItems:n?"center":"flex-start",flexDirection:"row"}},itemIcon:{display:"inline-block",verticalAlign:"middle",marginRight:e.spacing.sm}}));const rwe=nwe;var iwe=Object.defineProperty,ZE=Object.getOwnPropertySymbols,ZY=Object.prototype.hasOwnProperty,eK=Object.prototype.propertyIsEnumerable,OF=(e,t,n)=>t in e?iwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,swe=(e,t)=>{for(var n in t||(t={}))ZY.call(t,n)&&OF(e,n,t[n]);if(ZE)for(var n of ZE(t))eK.call(t,n)&&OF(e,n,t[n]);return e},owe=(e,t)=>{var n={};for(var r in e)ZY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ZE)for(var r of ZE(e))t.indexOf(r)<0&&eK.call(e,r)&&(n[r]=e[r]);return n};function tK(e){var t=e,{className:n,children:r,icon:i}=t,s=owe(t,["className","children","icon"]);const{icon:o,spacing:a,center:u,listStyleType:l,size:c,withPadding:f}=twe(),{classNames:d,styles:h,unstyled:p}=E_(),m=i||o,{classes:y,cx:g}=rwe({withPadding:f,size:c,listStyleType:l,center:u,spacing:a},{classNames:d,styles:h,unstyled:p,name:"List"});return k.createElement(lt,swe({component:"li",className:g(y.item,{[y.withIcon]:m},n)},s),k.createElement("div",{className:y.itemWrapper},m&&k.createElement("span",{className:y.itemIcon},m),k.createElement("span",null,r)))}tK.displayName="@mantine/core/ListItem";var awe=Object.defineProperty,uwe=Object.defineProperties,lwe=Object.getOwnPropertyDescriptors,PF=Object.getOwnPropertySymbols,cwe=Object.prototype.hasOwnProperty,fwe=Object.prototype.propertyIsEnumerable,RF=(e,t,n)=>t in e?awe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,dwe=(e,t)=>{for(var n in t||(t={}))cwe.call(t,n)&&RF(e,n,t[n]);if(PF)for(var n of PF(t))fwe.call(t,n)&&RF(e,n,t[n]);return e},hwe=(e,t)=>uwe(e,lwe(t)),pwe=at((e,{withPadding:t,size:n,listStyleType:r})=>({root:hwe(dwe({},e.fn.fontStyles()),{listStyleType:r,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,fontSize:e.fn.size({size:n,sizes:e.fontSizes}),lineHeight:e.lineHeight,margin:0,paddingLeft:t?e.spacing.xl:0,listStylePosition:"inside"})}));const mwe=pwe;var gwe=Object.defineProperty,ew=Object.getOwnPropertySymbols,nK=Object.prototype.hasOwnProperty,rK=Object.prototype.propertyIsEnumerable,NF=(e,t,n)=>t in e?gwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ywe=(e,t)=>{for(var n in t||(t={}))nK.call(t,n)&&NF(e,n,t[n]);if(ew)for(var n of ew(t))rK.call(t,n)&&NF(e,n,t[n]);return e},_we=(e,t)=>{var n={};for(var r in e)nK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ew)for(var r of ew(e))t.indexOf(r)<0&&rK.call(e,r)&&(n[r]=e[r]);return n};const vwe={type:"unordered",size:"md",spacing:0},Gp=w.forwardRef((e,t)=>{const n=ht("List",vwe,e),{children:r,type:i,size:s,listStyleType:o,withPadding:a,center:u,spacing:l,icon:c,className:f,styles:d,classNames:h,unstyled:p}=n,m=_we(n,["children","type","size","listStyleType","withPadding","center","spacing","icon","className","styles","classNames","unstyled"]),{classes:y,cx:g}=mwe({withPadding:a,size:s,listStyleType:o,center:u,spacing:l},{classNames:h,styles:d,name:"List",unstyled:p});return k.createElement(SW,{classNames:h,styles:d,unstyled:p},k.createElement(JY.Provider,{value:{spacing:l,center:u,icon:c,listStyleType:o,size:s,withPadding:a}},k.createElement(lt,ywe({component:i==="unordered"?"ul":"ol",className:g(y.root,f),ref:t},m),r)))});Gp.Item=tK;Gp.displayName="@mantine/core/List";var bwe=at(e=>({divider:{margin:`calc(${e.spacing.xs}px / 2) -5px`,borderTop:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]}`}}));const Ewe=bwe;var wwe=Object.defineProperty,tw=Object.getOwnPropertySymbols,iK=Object.prototype.hasOwnProperty,sK=Object.prototype.propertyIsEnumerable,kF=(e,t,n)=>t in e?wwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Twe=(e,t)=>{for(var n in t||(t={}))iK.call(t,n)&&kF(e,n,t[n]);if(tw)for(var n of tw(t))sK.call(t,n)&&kF(e,n,t[n]);return e},Swe=(e,t)=>{var n={};for(var r in e)iK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&tw)for(var r of tw(e))t.indexOf(r)<0&&sK.call(e,r)&&(n[r]=e[r]);return n};function oK(e){var t=e,{children:n,className:r}=t,i=Swe(t,["children","className"]);const{classNames:s,styles:o,unstyled:a}=E_(),{classes:u,cx:l}=Ewe(null,{name:"Menu",classNames:s,styles:o,unstyled:a});return k.createElement(lt,Twe({className:l(u.divider,r)},i))}oK.displayName="@mantine/core/MenuDivider";const aK={context:"Menu component was not found in the tree",children:"Menu.Target component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported"},[Iwe,Ek]=XH(aK.context);var xwe=Object.defineProperty,nw=Object.getOwnPropertySymbols,uK=Object.prototype.hasOwnProperty,lK=Object.prototype.propertyIsEnumerable,DF=(e,t,n)=>t in e?xwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Cwe=(e,t)=>{for(var n in t||(t={}))uK.call(t,n)&&DF(e,n,t[n]);if(nw)for(var n of nw(t))lK.call(t,n)&&DF(e,n,t[n]);return e},Awe=(e,t)=>{var n={};for(var r in e)uK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&nw)for(var r of nw(e))t.indexOf(r)<0&&lK.call(e,r)&&(n[r]=e[r]);return n};function cK(e){var t=e,{children:n,onMouseEnter:r,onMouseLeave:i}=t,s=Awe(t,["children","onMouseEnter","onMouseLeave"]);const o=w.useRef(),a=Ek(),u=f=>{(f.key==="ArrowUp"||f.key==="ArrowDown")&&(f.preventDefault(),o.current.querySelectorAll("[data-menu-item]")[0].focus())},l=Ju(r,()=>a.trigger==="hover"&&a.openDropdown()),c=Ju(i,()=>a.trigger==="hover"&&a.closeDropdown());return k.createElement(Vl.Dropdown,Cwe({onMouseEnter:l,onMouseLeave:c,role:"menu","aria-orientation":"vertical"},s),k.createElement("div",{tabIndex:-1,"data-menu-dropdown":!0,"data-autofocus":!0,onKeyDown:u,ref:o,style:{outline:0}},n))}cK.displayName="@mantine/core/MenuDropdown";var Owe=Object.defineProperty,Pwe=Object.defineProperties,Rwe=Object.getOwnPropertyDescriptors,$F=Object.getOwnPropertySymbols,Nwe=Object.prototype.hasOwnProperty,kwe=Object.prototype.propertyIsEnumerable,LF=(e,t,n)=>t in e?Owe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Dwe=(e,t)=>{for(var n in t||(t={}))Nwe.call(t,n)&&LF(e,n,t[n]);if($F)for(var n of $F(t))kwe.call(t,n)&&LF(e,n,t[n]);return e},$we=(e,t)=>Pwe(e,Rwe(t)),Lwe=at((e,{color:t,radius:n})=>({item:$we(Dwe({},e.fn.fontStyles()),{WebkitTapHighlightColor:"transparent",fontSize:e.fontSizes.sm,border:0,backgroundColor:"transparent",outline:0,width:"100%",textAlign:"left",textDecoration:"none",boxSizing:"border-box",padding:`${e.spacing.xs}px ${e.spacing.sm}px`,cursor:"pointer",borderRadius:e.fn.radius(n),color:t?e.fn.variant({variant:"filled",primaryFallback:!1,color:t}).background:e.colorScheme==="dark"?e.colors.dark[0]:e.black,display:"flex",alignItems:"center","&:disabled":{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5],pointerEvents:"none",userSelect:"none"},"&[data-hovered]":{backgroundColor:t?e.fn.variant({variant:"light",color:t}).background:e.colorScheme==="dark"?e.fn.rgba(e.colors.dark[3],.35):e.colors.gray[0]}}),itemLabel:{flex:1},itemIcon:{display:"flex",justifyContent:"center",alignItems:"center",marginRight:e.spacing.xs},itemRightSection:{}}));const Mwe=Lwe;var Fwe=Object.defineProperty,Bwe=Object.defineProperties,jwe=Object.getOwnPropertyDescriptors,rw=Object.getOwnPropertySymbols,fK=Object.prototype.hasOwnProperty,dK=Object.prototype.propertyIsEnumerable,MF=(e,t,n)=>t in e?Fwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Uwe=(e,t)=>{for(var n in t||(t={}))fK.call(t,n)&&MF(e,n,t[n]);if(rw)for(var n of rw(t))dK.call(t,n)&&MF(e,n,t[n]);return e},Vwe=(e,t)=>Bwe(e,jwe(t)),zwe=(e,t)=>{var n={};for(var r in e)fK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&rw)for(var r of rw(e))t.indexOf(r)<0&&dK.call(e,r)&&(n[r]=e[r]);return n};const hK=w.forwardRef((e,t)=>{var n=e,{children:r,className:i,color:s,closeMenuOnClick:o,icon:a,rightSection:u}=n,l=zwe(n,["children","className","color","closeMenuOnClick","icon","rightSection"]);const c=Ek(),{classNames:f,styles:d,unstyled:h}=E_(),{classes:p,cx:m,theme:y}=Mwe({radius:c.radius,color:s},{name:"Menu",classNames:f,styles:d,unstyled:h}),g=w.useRef(),_=c.getItemIndex(g.current),b=l,T=Ju(b.onMouseLeave,()=>c.setHovered(-1)),I=Ju(b.onMouseEnter,()=>c.setHovered(c.getItemIndex(g.current))),E=Ju(b.onClick,()=>{typeof o=="boolean"?o&&c.closeDropdownImmediately():c.closeOnItemClick&&c.closeDropdownImmediately()}),S=Ju(b.onFocus,()=>c.setHovered(c.getItemIndex(g.current)));return k.createElement(lt,Vwe(Uwe({component:"button",type:"button"},l),{tabIndex:-1,onFocus:S,className:m(p.item,i),ref:qo(g,t),role:"menuitem","data-menu-item":!0,"data-hovered":c.hovered===_?!0:void 0,onMouseEnter:I,onMouseLeave:T,onClick:E,onKeyDown:Nfe({siblingSelector:"[data-menu-item]",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:c.loop,dir:y.dir,orientation:"vertical",onKeyDown:b.onKeydown})}),a&&k.createElement("div",{className:p.itemIcon},a),r&&k.createElement("div",{className:p.itemLabel},r),u&&k.createElement("div",{className:p.itemRightSection},u))});hK.displayName="@mantine/core/MenuItem";const Hwe=hK;var Wwe=at(e=>({label:{color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],fontWeight:500,fontSize:e.fontSizes.xs,padding:`calc(${e.spacing.xs}px / 2) ${e.spacing.sm}px`,cursor:"default"}}));const qwe=Wwe;var Gwe=Object.defineProperty,iw=Object.getOwnPropertySymbols,pK=Object.prototype.hasOwnProperty,mK=Object.prototype.propertyIsEnumerable,FF=(e,t,n)=>t in e?Gwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ywe=(e,t)=>{for(var n in t||(t={}))pK.call(t,n)&&FF(e,n,t[n]);if(iw)for(var n of iw(t))mK.call(t,n)&&FF(e,n,t[n]);return e},Kwe=(e,t)=>{var n={};for(var r in e)pK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&iw)for(var r of iw(e))t.indexOf(r)<0&&mK.call(e,r)&&(n[r]=e[r]);return n};function gK(e){var t=e,{children:n,className:r}=t,i=Kwe(t,["children","className"]);const{classNames:s,styles:o,unstyled:a}=E_(),{classes:u,cx:l}=qwe(null,{name:"Menu",classNames:s,styles:o,unstyled:a});return k.createElement(Ct,Ywe({className:l(u.label,r)},i),n)}gK.displayName="@mantine/core/MenuLabel";var Qwe=Object.defineProperty,sw=Object.getOwnPropertySymbols,yK=Object.prototype.hasOwnProperty,_K=Object.prototype.propertyIsEnumerable,BF=(e,t,n)=>t in e?Qwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Xwe=(e,t)=>{for(var n in t||(t={}))yK.call(t,n)&&BF(e,n,t[n]);if(sw)for(var n of sw(t))_K.call(t,n)&&BF(e,n,t[n]);return e},Jwe=(e,t)=>{var n={};for(var r in e)yK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&sw)for(var r of sw(e))t.indexOf(r)<0&&_K.call(e,r)&&(n[r]=e[r]);return n};const vK=w.forwardRef((e,t)=>{var n=e,{children:r,refProp:i="ref"}=n,s=Jwe(n,["children","refProp"]);if(!__(r))throw new Error(aK.children);const o=Ek(),a=Ju(r.props.onClick,()=>o.trigger==="click"&&o.toggleDropdown()),u=Ju(r.props.onMouseEnter,()=>o.trigger==="hover"&&o.openDropdown()),l=Ju(r.props.onMouseLeave,()=>o.trigger==="hover"&&o.closeDropdown());return k.createElement(Vl.Target,Xwe({refProp:i,popupType:"menu",ref:t},s),w.cloneElement(r,{onClick:a,onMouseEnter:u,onMouseLeave:l,"data-expanded":o.opened?!0:void 0}))});vK.displayName="@mantine/core/MenuTarget";var Zwe=at({dropdown:{padding:4}});const eTe=Zwe;var tTe=Object.defineProperty,nTe=Object.defineProperties,rTe=Object.getOwnPropertyDescriptors,ow=Object.getOwnPropertySymbols,bK=Object.prototype.hasOwnProperty,EK=Object.prototype.propertyIsEnumerable,jF=(e,t,n)=>t in e?tTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,UF=(e,t)=>{for(var n in t||(t={}))bK.call(t,n)&&jF(e,n,t[n]);if(ow)for(var n of ow(t))EK.call(t,n)&&jF(e,n,t[n]);return e},VF=(e,t)=>nTe(e,rTe(t)),iTe=(e,t)=>{var n={};for(var r in e)bK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ow)for(var r of ow(e))t.indexOf(r)<0&&EK.call(e,r)&&(n[r]=e[r]);return n};const sTe={closeOnItemClick:!0,loop:!0,trigger:"click",openDelay:0,closeDelay:100};function Ro(e){const t=ht("Menu",sTe,e),{children:n,onOpen:r,onClose:i,opened:s,defaultOpened:o,onChange:a,closeOnItemClick:u,loop:l,closeOnEscape:c,trigger:f,openDelay:d,closeDelay:h,classNames:p,styles:m,unstyled:y,radius:g}=t,_=iTe(t,["children","onOpen","onClose","opened","defaultOpened","onChange","closeOnItemClick","loop","closeOnEscape","trigger","openDelay","closeDelay","classNames","styles","unstyled","radius"]),{classes:b,cx:T}=eTe(),[I,{setHovered:E,resetHovered:S}]=Lfe(),[A,L]=Ia({value:s,defaultValue:o,finalValue:!1,onChange:a}),W=()=>{L(!1),A&&(i==null||i())},z=()=>{L(!0),!A&&(r==null||r())},U=()=>A?W():z(),{openDropdown:Z,closeDropdown:H}=_Ee({open:z,close:W,closeDelay:h,openDelay:d}),ue=ie=>kfe("[data-menu-item]","[data-menu-dropdown]",ie);return uo(()=>{S()},[A]),k.createElement(Iwe,{value:{opened:A,toggleDropdown:U,getItemIndex:ue,hovered:I,setHovered:E,closeOnItemClick:u,closeDropdown:f==="click"?W:H,openDropdown:f==="click"?z:Z,closeDropdownImmediately:W,loop:l,trigger:f,radius:g}},k.createElement(Vl,VF(UF({},_),{radius:g,opened:A,onChange:L,defaultOpened:o,trapFocus:f==="click",closeOnEscape:c&&f==="click",__staticSelector:"Menu",classNames:VF(UF({},p),{dropdown:T(b.dropdown,p==null?void 0:p.dropdown)}),styles:m,unstyled:y,onClose:W,onOpen:z}),n))}Ro.displayName="@mantine/core/Menu";Ro.Item=Hwe;Ro.Label=gK;Ro.Dropdown=cK;Ro.Target=vK;Ro.Divider=oK;var oTe=Object.defineProperty,zF=Object.getOwnPropertySymbols,aTe=Object.prototype.hasOwnProperty,uTe=Object.prototype.propertyIsEnumerable,HF=(e,t,n)=>t in e?oTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lTe=(e,t)=>{for(var n in t||(t={}))aTe.call(t,n)&&HF(e,n,t[n]);if(zF)for(var n of zF(t))uTe.call(t,n)&&HF(e,n,t[n]);return e};const cTe={xs:320,sm:380,md:440,lg:620,xl:780};function fTe(e){return e?{position:"absolute",top:0,left:0,right:0,bottom:0,maxHeight:"100vh",overflowY:"auto"}:{}}var dTe=at((e,{overflow:t,size:n,centered:r,zIndex:i,fullScreen:s})=>({close:{},overlay:{display:s?"none":void 0},root:{position:"fixed",zIndex:i,top:0,left:0,right:0,bottom:0},inner:{position:"absolute",top:0,left:0,right:0,bottom:0,overflowY:"auto",padding:s?0:`${e.spacing.xl*2}px ${e.spacing.md}px`,display:"flex",justifyContent:"center",alignItems:r?"center":"flex-start"},title:{marginRight:e.spacing.md,textOverflow:"ellipsis",display:"block",wordBreak:"break-word"},modal:lTe({position:"relative",width:s?"100vw":e.fn.size({sizes:cTe,size:n}),borderRadius:s?0:void 0,outline:0,backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white,marginTop:r?"auto":void 0,marginBottom:r?"auto":void 0,zIndex:1},fTe(s)),header:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:e.spacing.md,marginRight:-9},body:{maxHeight:t==="inside"?"calc(100vh - 185px)":null,overflowY:t==="inside"?"auto":null,wordBreak:"break-word"}}));const hTe=dTe;var pTe=Object.defineProperty,aw=Object.getOwnPropertySymbols,wK=Object.prototype.hasOwnProperty,TK=Object.prototype.propertyIsEnumerable,WF=(e,t,n)=>t in e?pTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mTe=(e,t)=>{for(var n in t||(t={}))wK.call(t,n)&&WF(e,n,t[n]);if(aw)for(var n of aw(t))TK.call(t,n)&&WF(e,n,t[n]);return e},gTe=(e,t)=>{var n={};for(var r in e)wK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&aw)for(var r of aw(e))t.indexOf(r)<0&&TK.call(e,r)&&(n[r]=e[r]);return n};const yTe={size:"md",transitionDuration:250,overflow:"outside",padding:"lg",shadow:"lg",closeOnClickOutside:!0,closeOnEscape:!0,trapFocus:!0,withCloseButton:!0,withinPortal:!0,lockScroll:!0,withFocusReturn:!0,overlayBlur:0,zIndex:Eo("modal"),exitTransitionDuration:0};function zS(e){const t=ht("Modal",yTe,e),{className:n,opened:r,title:i,onClose:s,children:o,withCloseButton:a,overlayOpacity:u,size:l,transitionDuration:c,exitTransitionDuration:f,closeButtonLabel:d,overlayColor:h,overflow:p,transition:m,padding:y,shadow:g,radius:_,id:b,classNames:T,styles:I,closeOnClickOutside:E,trapFocus:S,closeOnEscape:A,centered:L,target:W,withinPortal:z,zIndex:U,overlayBlur:Z,transitionTimingFunction:H,fullScreen:ue,unstyled:ie,lockScroll:_e,withFocusReturn:te}=t,oe=gTe(t,["className","opened","title","onClose","children","withCloseButton","overlayOpacity","size","transitionDuration","exitTransitionDuration","closeButtonLabel","overlayColor","overflow","transition","padding","shadow","radius","id","classNames","styles","closeOnClickOutside","trapFocus","closeOnEscape","centered","target","withinPortal","zIndex","overlayBlur","transitionTimingFunction","fullScreen","unstyled","lockScroll","withFocusReturn"]),J=Ru(b),x=`${J}-title`,C=`${J}-body`,{classes:B,cx:P,theme:O}=hTe({size:l,overflow:p,centered:L,zIndex:U,fullScreen:ue},{unstyled:ie,classNames:T,styles:I,name:"Modal"}),G=RW(S&&r),fe=w.useRef(null),le=qo(G,fe),me=typeof u=="number"?u:O.colorScheme==="dark"?.85:.75;spe(_e&&r);const ge=st=>{!S&&st.key==="Escape"&&A&&s()};w.useEffect(()=>{if(!S)return window.addEventListener("keydown",ge),()=>window.removeEventListener("keydown",ge)},[S]),CW({opened:r,shouldReturnFocus:S&&te});const Se=w.useRef(null);wP("mousedown",st=>{Se.current=st.target});const de=()=>{Se.current===fe.current&&E&&s()};return k.createElement(w_,{withinPortal:z,target:W},k.createElement(NY,{mounted:r,duration:c,exitDuration:f,timingFunction:H,transitions:{modal:{duration:c,transition:m||(ue?"fade":"pop")},overlay:{duration:c/2,transition:"fade",timingFunction:"ease"}}},st=>k.createElement(k.Fragment,null,k.createElement(lt,mTe({id:J,className:P(B.root,n)},oe),k.createElement("div",{style:st.overlay},k.createElement(zbe,{className:B.overlay,sx:{position:"fixed"},zIndex:0,blur:Z,color:h||(O.colorScheme==="dark"?O.colors.dark[9]:O.black),opacity:me,unstyled:ie})),k.createElement("div",{role:"presentation",className:B.inner,onClick:de,onKeyDown:Ke=>{var qe;((qe=Ke.target)==null?void 0:qe.getAttribute("data-mantine-stop-propagation"))!=="true"&&Ke.key==="Escape"&&A&&s()},ref:le},k.createElement(yd,{className:B.modal,shadow:g,p:y,radius:_,role:"dialog","aria-labelledby":x,"aria-describedby":C,"aria-modal":!0,tabIndex:-1,style:st.modal,unstyled:ie,onClick:Ke=>Ke.stopPropagation()},(i||a)&&k.createElement("div",{className:B.header},k.createElement(Ct,{id:x,className:B.title},i),a&&k.createElement(DS,{iconSize:16,onClick:s,"aria-label":d,className:B.close})),k.createElement("div",{id:C,className:B.body},o)))))))}zS.displayName="@mantine/core/Modal";const _Te={xs:16,sm:22,md:26,lg:30,xl:36},vTe={xs:10,sm:12,md:14,lg:16,xl:18};var bTe=at((e,{size:t,disabled:n,radius:r,readOnly:i,variant:s})=>({defaultValue:{display:"flex",alignItems:"center",backgroundColor:n?e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[3]:e.colorScheme==="dark"?e.colors.dark[7]:s==="filled"?e.white:e.colors.gray[1],color:n?e.colorScheme==="dark"?e.colors.dark[1]:e.colors.gray[7]:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[7],height:e.fn.size({size:t,sizes:_Te}),paddingLeft:e.fn.size({size:t,sizes:e.spacing}),paddingRight:n||i?e.fn.size({size:t,sizes:e.spacing}):0,fontWeight:500,fontSize:e.fn.size({size:t,sizes:vTe}),borderRadius:e.fn.size({size:r,sizes:e.radius}),cursor:n?"not-allowed":"default",userSelect:"none",maxWidth:"calc(100% - 20px)"},defaultValueRemove:{color:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[7],marginLeft:e.fn.size({size:t,sizes:e.spacing})/6},defaultValueLabel:{display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}));const ETe=bTe;var wTe=Object.defineProperty,uw=Object.getOwnPropertySymbols,SK=Object.prototype.hasOwnProperty,IK=Object.prototype.propertyIsEnumerable,qF=(e,t,n)=>t in e?wTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,TTe=(e,t)=>{for(var n in t||(t={}))SK.call(t,n)&&qF(e,n,t[n]);if(uw)for(var n of uw(t))IK.call(t,n)&&qF(e,n,t[n]);return e},STe=(e,t)=>{var n={};for(var r in e)SK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&uw)for(var r of uw(e))t.indexOf(r)<0&&IK.call(e,r)&&(n[r]=e[r]);return n};const GF={xs:16,sm:22,md:24,lg:26,xl:30};function xK(e){var t=e,{label:n,classNames:r,styles:i,className:s,onRemove:o,disabled:a,readOnly:u,size:l,radius:c="sm",variant:f}=t,d=STe(t,["label","classNames","styles","className","onRemove","disabled","readOnly","size","radius","variant"]);const{classes:h,cx:p}=ETe({size:l,disabled:a,readOnly:u,radius:c,variant:f},{classNames:r,styles:i,name:"MultiSelect"});return k.createElement("div",TTe({className:p(h.defaultValue,s)},d),k.createElement("span",{className:h.defaultValueLabel},n),!a&&!u&&k.createElement(DS,{"aria-hidden":!0,onMouseDown:o,size:GF[l],radius:2,color:"blue",variant:"transparent",iconSize:GF[l]/2,className:h.defaultValueRemove,tabIndex:-1}))}xK.displayName="@mantine/core/MultiSelect/DefaultValue";function ITe({data:e,searchable:t,limit:n,searchValue:r,filter:i,value:s}){if(!t&&s.length===0)return e;if(!t){const a=[];for(let u=0;u<e.length;u+=1)s.some(l=>l===e[u].value&&!e[u].disabled)||a.push(e[u]);return a}const o=[];for(let a=0;a<e.length&&(i(r,s.some(u=>u===e[a].value&&!e[a].disabled),e[a])&&o.push(e[a]),!(o.length>=n));a+=1);return o}var xTe=Object.defineProperty,lw=Object.getOwnPropertySymbols,CK=Object.prototype.hasOwnProperty,AK=Object.prototype.propertyIsEnumerable,YF=(e,t,n)=>t in e?xTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,KF=(e,t)=>{for(var n in t||(t={}))CK.call(t,n)&&YF(e,n,t[n]);if(lw)for(var n of lw(t))AK.call(t,n)&&YF(e,n,t[n]);return e},CTe=(e,t)=>{var n={};for(var r in e)CK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&lw)for(var r of lw(e))t.indexOf(r)<0&&AK.call(e,r)&&(n[r]=e[r]);return n};const ATe={xs:14,sm:18,md:20,lg:24,xl:28};function OTe(e){var t=e,{size:n,error:r,style:i}=t,s=CTe(t,["size","error","style"]);const o=ts(),a=o.fn.size({size:n,sizes:ATe});return k.createElement("svg",KF({width:a,height:a,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:KF({color:r?o.colors.red[6]:o.colors.gray[6]},i),"data-chevron":!0},s),k.createElement("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function OK({shouldClear:e,clearButtonLabel:t,onClear:n,size:r,error:i,clearButtonTabIndex:s}){return e?k.createElement(DS,{variant:"transparent","aria-label":t,onClick:n,size:r,tabIndex:s,onMouseDown:o=>o.preventDefault()}):k.createElement(OTe,{error:i,size:r})}OK.displayName="@mantine/core/SelectRightSection";var PTe=Object.defineProperty,RTe=Object.defineProperties,NTe=Object.getOwnPropertyDescriptors,cw=Object.getOwnPropertySymbols,PK=Object.prototype.hasOwnProperty,RK=Object.prototype.propertyIsEnumerable,QF=(e,t,n)=>t in e?PTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kC=(e,t)=>{for(var n in t||(t={}))PK.call(t,n)&&QF(e,n,t[n]);if(cw)for(var n of cw(t))RK.call(t,n)&&QF(e,n,t[n]);return e},XF=(e,t)=>RTe(e,NTe(t)),kTe=(e,t)=>{var n={};for(var r in e)PK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&cw)for(var r of cw(e))t.indexOf(r)<0&&RK.call(e,r)&&(n[r]=e[r]);return n};const DTe={xs:24,sm:30,md:34,lg:44,xl:54};function NK(e){var t=e,{styles:n,rightSection:r,rightSectionWidth:i,theme:s}=t,o=kTe(t,["styles","rightSection","rightSectionWidth","theme"]);if(r)return{rightSection:r,rightSectionWidth:i,styles:n};const a=typeof n=="function"?n(s):n;return{rightSectionWidth:s.fn.size({size:o.size,sizes:DTe}),rightSection:!o.readOnly&&!(o.disabled&&o.shouldClear)&&k.createElement(OK,kC({},o)),styles:XF(kC({},a),{rightSection:XF(kC({},a==null?void 0:a.rightSection),{pointerEvents:o.shouldClear?void 0:"none"})})}}var $Te=Object.defineProperty,LTe=Object.defineProperties,MTe=Object.getOwnPropertyDescriptors,JF=Object.getOwnPropertySymbols,FTe=Object.prototype.hasOwnProperty,BTe=Object.prototype.propertyIsEnumerable,ZF=(e,t,n)=>t in e?$Te(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jTe=(e,t)=>{for(var n in t||(t={}))FTe.call(t,n)&&ZF(e,n,t[n]);if(JF)for(var n of JF(t))BTe.call(t,n)&&ZF(e,n,t[n]);return e},UTe=(e,t)=>LTe(e,MTe(t)),VTe=at((e,{size:t,invalid:n})=>({wrapper:{position:"relative"},values:{minHeight:e.fn.size({size:t,sizes:Ss})-2,display:"flex",alignItems:"center",flexWrap:"wrap",marginLeft:`calc(${-e.spacing.xs}px / 2)`,boxSizing:"border-box"},value:{margin:`calc(${e.spacing.xs}px / 2 - 2px) calc(${e.spacing.xs}px / 2)`},searchInput:UTe(jTe({},e.fn.fontStyles()),{flex:1,minWidth:60,backgroundColor:"transparent",border:0,outline:0,fontSize:e.fn.size({size:t,sizes:e.fontSizes}),padding:0,marginLeft:`calc(${e.spacing.xs}px / 2)`,appearance:"none",color:"inherit",lineHeight:`${e.fn.size({size:t,sizes:Ss})-2}px`,"&::placeholder":{opacity:1,color:n?e.colors.red[e.colorScheme==="dark"?6:7]:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]},"&:disabled":{cursor:"not-allowed"}}),searchInputEmpty:{width:"100%"},searchInputInputHidden:{width:0,height:0,margin:0,overflow:"hidden"},searchInputPointer:{cursor:"pointer","&:disabled":{cursor:"not-allowed"}},input:{cursor:"pointer","&:disabled":{cursor:"not-allowed"}}}));const zTe=VTe;var HTe=Object.defineProperty,WTe=Object.defineProperties,qTe=Object.getOwnPropertyDescriptors,fw=Object.getOwnPropertySymbols,kK=Object.prototype.hasOwnProperty,DK=Object.prototype.propertyIsEnumerable,e8=(e,t,n)=>t in e?HTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yh=(e,t)=>{for(var n in t||(t={}))kK.call(t,n)&&e8(e,n,t[n]);if(fw)for(var n of fw(t))DK.call(t,n)&&e8(e,n,t[n]);return e},t8=(e,t)=>WTe(e,qTe(t)),GTe=(e,t)=>{var n={};for(var r in e)kK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&fw)for(var r of fw(e))t.indexOf(r)<0&&DK.call(e,r)&&(n[r]=e[r]);return n};function YTe(e,t,n){return t?!1:n.label.toLowerCase().trim().includes(e.toLowerCase().trim())}function KTe(e,t){return!!e&&!t.some(n=>n.value.toLowerCase()===e.toLowerCase())}function n8(e,t){if(!Array.isArray(e))return;if(t.length===0)return[];const n=typeof t[0]=="object"?t.map(r=>r.value):t;return e.filter(r=>n.includes(r))}const QTe={size:"sm",valueComponent:xK,itemComponent:ik,transition:"pop-top-left",transitionDuration:0,maxDropdownHeight:220,shadow:"sm",searchable:!1,filter:YTe,limit:1/0,clearSearchOnChange:!0,clearable:!1,clearSearchOnBlur:!1,disabled:!1,initiallyOpened:!1,creatable:!1,shouldCreate:KTe,switchDirectionOnFlip:!1,zIndex:Eo("popover"),selectOnBlur:!1,clearButtonTabIndex:0,positionDependencies:[]},$K=w.forwardRef((e,t)=>{const n=ht("MultiSelect",QTe,e),{className:r,style:i,required:s,label:o,description:a,size:u,error:l,classNames:c,styles:f,wrapperProps:d,value:h,defaultValue:p,data:m,onChange:y,valueComponent:g,itemComponent:_,id:b,transition:T,transitionDuration:I,transitionTimingFunction:E,maxDropdownHeight:S,shadow:A,nothingFound:L,onFocus:W,onBlur:z,searchable:U,placeholder:Z,filter:H,limit:ue,clearSearchOnChange:ie,clearable:_e,clearSearchOnBlur:te,clearButtonLabel:oe,variant:J,onSearchChange:x,searchValue:C,disabled:B,initiallyOpened:P,radius:O,icon:G,rightSection:fe,rightSectionWidth:le,creatable:me,getCreateLabel:ge,shouldCreate:Se,onCreate:de,sx:st,dropdownComponent:Ke,onDropdownClose:qe,onDropdownOpen:$e,maxSelectedValues:ot,withinPortal:ut,switchDirectionOnFlip:On,zIndex:Ue,selectOnBlur:Be,name:bt,dropdownPosition:je,errorProps:gt,labelProps:Yt,descriptionProps:an,clearButtonTabIndex:Yn,form:ce,positionDependencies:we,onKeyDown:Le,unstyled:rt,inputContainer:De,inputWrapperOrder:it,readOnly:Me,withAsterisk:Ze}=n,bn=GTe(n,["className","style","required","label","description","size","error","classNames","styles","wrapperProps","value","defaultValue","data","onChange","valueComponent","itemComponent","id","transition","transitionDuration","transitionTimingFunction","maxDropdownHeight","shadow","nothingFound","onFocus","onBlur","searchable","placeholder","filter","limit","clearSearchOnChange","clearable","clearSearchOnBlur","clearButtonLabel","variant","onSearchChange","searchValue","disabled","initiallyOpened","radius","icon","rightSection","rightSectionWidth","creatable","getCreateLabel","shouldCreate","onCreate","sx","dropdownComponent","onDropdownClose","onDropdownOpen","maxSelectedValues","withinPortal","switchDirectionOnFlip","zIndex","selectOnBlur","name","dropdownPosition","errorProps","labelProps","descriptionProps","clearButtonTabIndex","form","positionDependencies","onKeyDown","unstyled","inputContainer","inputWrapperOrder","readOnly","withAsterisk"]),{classes:Wt,cx:St,theme:Bn}=zTe({size:u,invalid:!!l},{classNames:c,styles:f,unstyled:rt,name:"MultiSelect"}),{systemStyles:En,rest:ta}=Kd(bn),fr=w.useRef(),Mi=w.useRef(),vr=w.useRef({}),$r=Ru(b),[dr,jn]=w.useState(P),[Zt,ri]=w.useState(-1),[br,Lr]=w.useState("column"),[yi,ms]=Ia({value:C,defaultValue:"",finalValue:void 0,onChange:x}),[K,j]=w.useState(!1),{scrollIntoView:X,targetRef:pe,scrollableRef:he}=DW({duration:0,offset:5,cancelable:!1,isList:!0}),He=me&&typeof ge=="function";let Te=null;const Ve=m.map(Ge=>typeof Ge=="string"?{label:Ge,value:Ge}:Ge),ct=JH({data:Ve}),[Je,mt]=Ia({value:n8(h,m),defaultValue:n8(p,m),finalValue:[],onChange:y}),Lt=w.useRef(!!ot&&ot<Je.length),$n=Ge=>{if(!Me){const zt=Je.filter(Hn=>Hn!==Ge);mt(zt),ot&&zt.length<ot&&(Lt.current=!1)}},pt=Ge=>{ms(Ge.currentTarget.value),!B&&!Lt.current&&U&&jn(!0)},xn=Ge=>{typeof W=="function"&&W(Ge),!B&&!Lt.current&&U&&jn(!0)},Et=ITe({data:ct,searchable:U,searchValue:yi,limit:ue,filter:H,value:Je}),mn=(Ge,zt,Hn)=>{let ii=Ge;for(;Hn(ii);)if(ii=zt(ii),!Et[ii].disabled)return ii;return Ge};uo(()=>{ri(-1)},[yi]),uo(()=>{!B&&Je.length>m.length&&jn(!1),ot&&Je.length<ot&&(Lt.current=!1),ot&&Je.length>=ot&&(Lt.current=!0,jn(!1))},[Je]);const tr=Ge=>{if(!Me)if(ie&&ms(""),Je.includes(Ge.value))$n(Ge.value);else{if(Ge.creatable&&typeof de=="function"){const zt=de(Ge.value);typeof zt<"u"&&zt!==null&&mt(typeof zt=="string"?[...Je,zt]:[...Je,zt.value])}else mt([...Je,Ge.value]);Je.length===ot-1&&(Lt.current=!0,jn(!1)),Zt===Et.length-1&&ri(Et.length-2),Et.length===1&&jn(!1)}},Wr=Ge=>{typeof z=="function"&&z(Ge),Be&&Et[Zt]&&dr&&tr(Et[Zt]),te&&ms(""),jn(!1)},Pr=Ge=>{if(K||(Le==null||Le(Ge),Me)||Ge.key!=="Backspace"&&ot&&Lt.current)return;const zt=br==="column",Hn=()=>{ri(gs=>{var R;const Y=mn(gs,M=>M+1,M=>M<Et.length-1);return dr&&(pe.current=vr.current[(R=Et[Y])==null?void 0:R.value],X({alignment:zt?"end":"start"})),Y})},ii=()=>{ri(gs=>{var R;const Y=mn(gs,M=>M-1,M=>M>0);return dr&&(pe.current=vr.current[(R=Et[Y])==null?void 0:R.value],X({alignment:zt?"start":"end"})),Y})};switch(Ge.key){case"ArrowUp":{Ge.preventDefault(),jn(!0),zt?ii():Hn();break}case"ArrowDown":{Ge.preventDefault(),jn(!0),zt?Hn():ii();break}case"Enter":{Ge.preventDefault(),Et[Zt]&&dr?tr(Et[Zt]):jn(!0);break}case" ":{U||(Ge.preventDefault(),Et[Zt]&&dr?tr(Et[Zt]):jn(!0));break}case"Backspace":{Je.length>0&&yi.length===0&&(mt(Je.slice(0,-1)),jn(!0),ot&&(Lt.current=!1));break}case"Home":{if(!U){Ge.preventDefault(),dr||jn(!0);const gs=Et.findIndex(R=>!R.disabled);ri(gs),X({alignment:zt?"end":"start"})}break}case"End":{if(!U){Ge.preventDefault(),dr||jn(!0);const gs=Et.map(R=>!!R.disabled).lastIndexOf(!1);ri(gs),X({alignment:zt?"end":"start"})}break}case"Escape":jn(!1)}},is=Je.map(Ge=>{let zt=ct.find(Hn=>Hn.value===Ge&&!Hn.disabled);return!zt&&He&&(zt={value:Ge,label:Ge}),zt}).filter(Ge=>!!Ge).map(Ge=>k.createElement(g,t8(yh({},Ge),{variant:J,disabled:B,className:Wt.value,readOnly:Me,onRemove:zt=>{zt.preventDefault(),zt.stopPropagation(),$n(Ge.value)},key:Ge.value,size:u,styles:f,classNames:c,radius:O}))),_i=()=>{var Ge;ms(""),mt([]),(Ge=fr.current)==null||Ge.focus(),ot&&(Lt.current=!1)};He&&Se(yi,ct)&&(Te=ge(yi),Et.push({label:yi,value:yi,creatable:!0}));const hr=!Me&&(Et.length>0?dr:dr&&!!L);return uo(()=>{const Ge=hr?$e:qe;typeof Ge=="function"&&Ge()},[hr]),k.createElement(lo.Wrapper,yh(yh({required:s,id:$r,label:o,error:l,description:a,size:u,className:r,style:i,classNames:c,styles:f,__staticSelector:"MultiSelect",sx:st,errorProps:gt,descriptionProps:an,labelProps:Yt,inputContainer:De,inputWrapperOrder:it,unstyled:rt,withAsterisk:Ze},En),d),k.createElement(Fc,{opened:hr,transition:T,transitionDuration:I,shadow:"sm",withinPortal:ut,__staticSelector:"MultiSelect",onDirectionChange:Lr,switchDirectionOnFlip:On,zIndex:Ue,dropdownPosition:je,positionDependencies:we,classNames:c,styles:f,unstyled:rt},k.createElement(Fc.Target,null,k.createElement("div",{className:Wt.wrapper,role:"combobox","aria-haspopup":"listbox","aria-owns":dr&&hr?`${$r}-items`:null,"aria-controls":$r,"aria-expanded":dr,onMouseLeave:()=>ri(-1),tabIndex:-1,ref:Mi},k.createElement("input",{type:"hidden",name:bt,value:Je.join(","),form:ce,disabled:B}),k.createElement(lo,yh({__staticSelector:"MultiSelect",style:{overflow:"hidden"},component:"div",multiline:!0,size:u,variant:J,disabled:B,invalid:!!l,required:s,radius:O,icon:G,unstyled:rt,onMouseDown:Ge=>{var zt;Ge.preventDefault(),!B&&!Lt.current&&jn(!dr),(zt=fr.current)==null||zt.focus()},classNames:t8(yh({},c),{input:St({[Wt.input]:!U},c==null?void 0:c.input)})},NK({theme:Bn,rightSection:fe,rightSectionWidth:le,styles:f,size:u,shouldClear:_e&&Je.length>0,clearButtonLabel:oe,onClear:_i,error:l,disabled:B,clearButtonTabIndex:Yn,readOnly:Me})),k.createElement("div",{className:Wt.values},is,k.createElement("input",yh({ref:qo(t,fr),type:"search",id:$r,className:St(Wt.searchInput,{[Wt.searchInputPointer]:!U,[Wt.searchInputInputHidden]:!dr&&Je.length>0||!U&&Je.length>0,[Wt.searchInputEmpty]:Je.length===0}),onKeyDown:Pr,value:yi,onChange:pt,onFocus:xn,onBlur:Wr,readOnly:!U||Lt.current||Me,placeholder:Je.length===0?Z:void 0,disabled:B,"data-mantine-stop-propagation":dr,autoComplete:"off",onCompositionStart:()=>j(!0),onCompositionEnd:()=>j(!1)},ta)))))),k.createElement(Fc.Dropdown,{component:Ke||BS,maxHeight:S,direction:br,id:$r,innerRef:he,__staticSelector:"MultiSelect",classNames:c,styles:f},k.createElement(rk,{data:Et,hovered:Zt,classNames:c,styles:f,uuid:$r,__staticSelector:"MultiSelect",onItemHover:ri,onItemSelect:tr,itemsRefs:vr,itemComponent:_,size:u,nothingFound:L,creatable:me&&!!Te,createLabel:Te,unstyled:rt}))))});$K.displayName="@mantine/core/MultiSelect";const XTe=(e,t,n)=>Number.isInteger(e)&&e>=0&&t===0?"numeric":!Number.isInteger(e)&&e>=0&&t!==0?"decimal":Number.isInteger(e)&&e<0&&t===0||!Number.isInteger(e)&&e<0&&t!==0?n==="ios"?"text":"decimal":"numeric";function r8({direction:e,size:t}){return k.createElement("svg",{style:{transform:e==="up"?"rotate(180deg)":void 0},width:t,height:t,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},k.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}const LK={xs:20,sm:24,md:30,lg:34,xl:36};var JTe=at((e,{radius:t,size:n})=>({rightSection:{display:"flex",flexDirection:"column",height:"calc(100% - 2px)",margin:1,marginRight:1,overflow:"hidden",borderTopRightRadius:e.fn.radius(t),borderBottomRightRadius:e.fn.radius(t)},control:{margin:0,position:"relative",flex:"0 0 50%",display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",width:e.fn.size({size:n,sizes:LK}),padding:0,WebkitTapHighlightColor:"transparent",borderBottom:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,borderLeft:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,borderTop:0,borderRight:0,backgroundColor:"transparent",marginRight:1,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,"&:not(:disabled):hover":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[0]},"&:disabled":{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4]}},controlUp:{},controlDown:{borderBottom:0}}));const ZTe=JTe;var eSe=Object.defineProperty,tSe=Object.defineProperties,nSe=Object.getOwnPropertyDescriptors,dw=Object.getOwnPropertySymbols,MK=Object.prototype.hasOwnProperty,FK=Object.prototype.propertyIsEnumerable,i8=(e,t,n)=>t in e?eSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,DC=(e,t)=>{for(var n in t||(t={}))MK.call(t,n)&&i8(e,n,t[n]);if(dw)for(var n of dw(t))FK.call(t,n)&&i8(e,n,t[n]);return e},rSe=(e,t)=>tSe(e,nSe(t)),iSe=(e,t)=>{var n={};for(var r in e)MK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&dw)for(var r of dw(e))t.indexOf(r)<0&&FK.call(e,r)&&(n[r]=e[r]);return n};const sSe={type:"text",size:"sm",__staticSelector:"TextInput"},wk=w.forwardRef((e,t)=>{const n=DG("TextInput",sSe,e),{inputProps:r,wrapperProps:i}=n,s=iSe(n,["inputProps","wrapperProps"]);return k.createElement(lo.Wrapper,DC({},i),k.createElement(lo,rSe(DC(DC({},r),s),{ref:t})))});wk.displayName="@mantine/core/TextInput";var oSe=Object.defineProperty,aSe=Object.defineProperties,uSe=Object.getOwnPropertyDescriptors,hw=Object.getOwnPropertySymbols,BK=Object.prototype.hasOwnProperty,jK=Object.prototype.propertyIsEnumerable,s8=(e,t,n)=>t in e?oSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lSe=(e,t)=>{for(var n in t||(t={}))BK.call(t,n)&&s8(e,n,t[n]);if(hw)for(var n of hw(t))jK.call(t,n)&&s8(e,n,t[n]);return e},cSe=(e,t)=>aSe(e,uSe(t)),fSe=(e,t)=>{var n={};for(var r in e)BK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&hw)for(var r of hw(e))t.indexOf(r)<0&&jK.call(e,r)&&(n[r]=e[r]);return n};const dSe=e=>e||"",hSe=e=>{if(e==="-")return e;let t=e;t[0]==="."&&(t=`0${e}`);const n=parseFloat(t);if(!Number.isNaN(n))return e},o8={xs:10,sm:14,md:16,lg:18,xl:20},pSe={step:1,hideControls:!1,size:"sm",precision:0,noClampOnBlur:!1,removeTrailingZeros:!1,formatter:dSe,parser:hSe,type:"text"},UK=w.forwardRef((e,t)=>{const n=ht("NumberInput",pSe,e),{disabled:r,value:i,onChange:s,decimalSeparator:o,min:a,max:u,startValue:l,step:c,stepHoldInterval:f,stepHoldDelay:d,onBlur:h,onFocus:p,onKeyDown:m,onKeyUp:y,hideControls:g,radius:_,variant:b,precision:T,removeTrailingZeros:I,defaultValue:E,noClampOnBlur:S,handlersRef:A,classNames:L,styles:W,size:z,rightSection:U,rightSectionWidth:Z,formatter:H,parser:ue,inputMode:ie,unstyled:_e,type:te}=n,oe=fSe(n,["disabled","value","onChange","decimalSeparator","min","max","startValue","step","stepHoldInterval","stepHoldDelay","onBlur","onFocus","onKeyDown","onKeyUp","hideControls","radius","variant","precision","removeTrailingZeros","defaultValue","noClampOnBlur","handlersRef","classNames","styles","size","rightSection","rightSectionWidth","formatter","parser","inputMode","unstyled","type"]),{classes:J,cx:x,theme:C}=ZTe({radius:_,size:z},{classNames:L,styles:W,unstyled:_e,name:"NumberInput"}),B=De=>{if(De===void 0)return;let it=De.toFixed(T);return I&&T>0&&(it=it.replace(new RegExp(`[0]{0,${T}}$`),""),(it.endsWith(".")||it.endsWith(o))&&(it=it.slice(0,-1))),it},[P,O]=w.useState(!1),[G,fe]=w.useState(typeof i=="number"?i:typeof E=="number"?E:void 0),le=typeof i=="number"?i:G,[me,ge]=w.useState(typeof le=="number"?B(le):""),Se=w.useRef(),de=De=>{De!==G&&!Number.isNaN(De)&&(typeof s=="function"&&s(De),fe(De))},st=(De="")=>{let it=typeof De=="number"?String(De):De;return o&&(it=it.replace(/\./g,o)),H(it)},Ke=De=>{let it=De;return o&&(it=it.replace(new RegExp(`\\${o}`,"g"),".")),ue(it)},qe=typeof a=="number"?a:-1/0,$e=typeof u=="number"?u:1/0,ot=w.useRef();ot.current=()=>{var De,it,Me;if(G===void 0)de((De=l??a)!=null?De:0),ge((Me=(it=B(l))!=null?it:B(a))!=null?Me:"0");else{const Ze=B(Lc(G+c,qe,$e));de(parseFloat(Ze)),ge(Ze)}};const ut=w.useRef();ut.current=()=>{var De,it,Me;if(G===void 0)de((De=l??a)!=null?De:0),ge((Me=(it=B(l))!=null?it:B(a))!=null?Me:"0");else{const Ze=B(Lc(G-c,qe,$e));de(parseFloat(Ze)),ge(Ze)}},NW(A,{increment:ot.current,decrement:ut.current}),w.useEffect(()=>{typeof i=="number"&&!P&&(fe(i),ge(B(i))),E===void 0&&i===void 0&&!P&&(fe(i),ge(""))},[i]);const On=d!==void 0&&f!==void 0,Ue=w.useRef(null),Be=w.useRef(0),bt=()=>{Ue.current&&window.clearTimeout(Ue.current),Ue.current=null,Be.current=0},je=De=>{De?ot.current():ut.current(),Be.current+=1},gt=De=>{if(je(De),On){const it=typeof f=="number"?f:f(Be.current);Ue.current=window.setTimeout(()=>gt(De),it)}},Yt=(De,it)=>{De.preventDefault(),Se.current.focus(),je(it),On&&(Ue.current=window.setTimeout(()=>gt(it),d))};w.useEffect(()=>(bt(),bt),[]);const an=k.createElement("div",{className:J.rightSection},k.createElement("button",{type:"button",tabIndex:-1,"aria-hidden":!0,disabled:le>=u,className:x(J.control,J.controlUp),onPointerDown:De=>{Yt(De,!0)},onPointerUp:bt,onPointerLeave:bt},k.createElement(r8,{size:C.fn.size({size:z,sizes:o8}),direction:"up"})),k.createElement("button",{type:"button",tabIndex:-1,"aria-hidden":!0,disabled:le<=a,className:x(J.control,J.controlDown),onPointerDown:De=>{Yt(De,!1)},onPointerUp:bt,onPointerLeave:bt},k.createElement(r8,{size:C.fn.size({size:z,sizes:o8}),direction:"down"}))),Yn=De=>{if(De.nativeEvent.isComposing)return;const Me=De.target.value,Ze=Ke(Me);ge(Ze),Me===""||Me==="-"?de(void 0):Me.trim()!==""&&!Number.isNaN(Ze)&&de(parseFloat(Ze))},ce=De=>{var it;if(De.target.value==="")ge(""),de(void 0);else{let Me=De.target.value;(Me[0]===`${o}`||Me[0]===".")&&(Me=`0${Me}`);const Ze=Ke(Me),bn=Lc(parseFloat(Ze),qe,$e);Number.isNaN(bn)?ge((it=B(le))!=null?it:""):S||(ge(B(bn)),de(parseFloat(B(bn))))}O(!1),typeof h=="function"&&h(De)},we=De=>{O(!0),typeof p=="function"&&p(De)},Le=De=>{if(typeof m=="function"&&m(De),De.repeat&&On&&(De.key==="ArrowUp"||De.key==="ArrowDown")){De.preventDefault();return}De.key==="ArrowUp"?Yt(De,!0):De.key==="ArrowDown"&&Yt(De,!1)},rt=De=>{typeof y=="function"&&y(De),(De.key==="ArrowUp"||De.key==="ArrowDown")&&bt()};return k.createElement(wk,cSe(lSe({},oe),{type:te,variant:b,value:st(me),disabled:r,ref:qo(Se,t),onChange:Yn,onBlur:ce,onFocus:we,onKeyDown:Le,onKeyUp:rt,rightSection:U||(r||g||b==="unstyled"?null:an),rightSectionWidth:Z||C.fn.size({size:z,sizes:LK})+1,radius:_,max:u,min:a,step:c,size:z,styles:W,classNames:L,inputMode:ie||XTe(c,T,ape()),__staticSelector:"NumberInput",unstyled:_e}))});UK.displayName="@mantine/core/NumberInput";const a8={xs:3,sm:5,md:8,lg:12,xl:16},mSe=lhe({from:{backgroundPosition:"0 0"},to:{backgroundPosition:"40px 0"}});var gSe=at((e,{color:t,radius:n,size:r,striped:i,animate:s})=>({root:{position:"relative",height:e.fn.size({size:r,sizes:a8}),backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],borderRadius:e.fn.size({size:n,sizes:e.radius}),overflow:"hidden"},bar:{position:"absolute",top:0,bottom:0,left:0,height:"100%",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:e.fn.variant({variant:"filled",primaryFallback:!1,color:t||e.primaryColor}).background,transition:"width 100ms linear",animation:s?`${mSe} 1000ms linear infinite`:"none",backgroundSize:"20px 20px",backgroundImage:i?"linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent)":"none","&:last-of-type":{borderTopRightRadius:e.fn.size({size:n,sizes:e.radius}),borderBottomRightRadius:e.fn.size({size:n,sizes:e.radius})},"&:first-of-type":{borderTopLeftRadius:e.fn.size({size:n,sizes:e.radius}),borderBottomLeftRadius:e.fn.size({size:n,sizes:e.radius})},"@media (prefers-reduced-motion)":{transitionDuration:e.respectReducedMotion?"0ms":void 0}},label:{color:e.white,fontSize:e.fn.size({size:r,sizes:a8})*.65,fontWeight:700,userSelect:"none",overflow:"hidden",whiteSpace:"nowrap"}}));const ySe=gSe,VK=w.createContext(!1),_Se=VK.Provider,vSe=()=>w.useContext(VK);function zK({children:e,openDelay:t=0,closeDelay:n=0}){return k.createElement(_Se,{value:!0},k.createElement(zye,{delay:{open:t,close:n}},e))}zK.displayName="@mantine/core/TooltipGroup";var bSe=Object.defineProperty,ESe=Object.defineProperties,wSe=Object.getOwnPropertyDescriptors,u8=Object.getOwnPropertySymbols,TSe=Object.prototype.hasOwnProperty,SSe=Object.prototype.propertyIsEnumerable,l8=(e,t,n)=>t in e?bSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,c8=(e,t)=>{for(var n in t||(t={}))TSe.call(t,n)&&l8(e,n,t[n]);if(u8)for(var n of u8(t))SSe.call(t,n)&&l8(e,n,t[n]);return e},ISe=(e,t)=>ESe(e,wSe(t));function xSe(e,t){if(!t)return{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[9],color:e.white};const n=e.fn.variant({variant:"filled",color:t,primaryFallback:!1});return{backgroundColor:n.background,color:n.color}}var CSe=at((e,{color:t,radius:n,width:r,multiline:i})=>({tooltip:ISe(c8(c8({},e.fn.fontStyles()),xSe(e,t)),{lineHeight:e.lineHeight,fontSize:e.fontSizes.sm,borderRadius:e.fn.radius(n),padding:`calc(${e.spacing.xs}px / 2) ${e.spacing.xs}px`,position:"absolute",whiteSpace:i?"unset":"nowrap",pointerEvents:"none",width:r}),arrow:{backgroundColor:"inherit",border:0,zIndex:1}}));const HK=CSe,WK={children:"Tooltip component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported"};function ASe({offset:e,position:t}){const[n,r]=w.useState(!1),i=w.useRef(),{x:s,y:o,reference:a,floating:u,refs:l,update:c,placement:f}=dk({placement:t,middleware:[lk({crossAxis:!0,padding:5,rootBoundary:"document"})]}),d=f.includes("right")?e:t.includes("left")?e*-1:0,h=f.includes("bottom")?e:t.includes("top")?e*-1:0,p=w.useCallback(({clientX:m,clientY:y})=>{a({getBoundingClientRect(){return{width:0,height:0,x:m,y,left:m+d,top:y+h,right:m,bottom:y}}})},[a]);return w.useEffect(()=>{if(l.floating.current){const m=i.current;m.addEventListener("mousemove",p);const y=ll(l.floating.current);return y.forEach(g=>{g.addEventListener("scroll",c)}),()=>{m.removeEventListener("mousemove",p),y.forEach(g=>{g.removeEventListener("scroll",c)})}}},[a,l.floating,c,p,n]),{handleMouseMove:p,x:s,y:o,opened:n,setOpened:r,boundaryRef:i,floating:u}}var OSe=Object.defineProperty,PSe=Object.defineProperties,RSe=Object.getOwnPropertyDescriptors,pw=Object.getOwnPropertySymbols,qK=Object.prototype.hasOwnProperty,GK=Object.prototype.propertyIsEnumerable,f8=(e,t,n)=>t in e?OSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$C=(e,t)=>{for(var n in t||(t={}))qK.call(t,n)&&f8(e,n,t[n]);if(pw)for(var n of pw(t))GK.call(t,n)&&f8(e,n,t[n]);return e},LC=(e,t)=>PSe(e,RSe(t)),NSe=(e,t)=>{var n={};for(var r in e)qK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&pw)for(var r of pw(e))t.indexOf(r)<0&&GK.call(e,r)&&(n[r]=e[r]);return n};const kSe={refProp:"ref",withinPortal:!0,offset:10,position:"right",zIndex:Eo("popover")};function YK(e){var t;const n=ht("TooltipFloating",kSe,e),{children:r,refProp:i,withinPortal:s,style:o,className:a,classNames:u,styles:l,unstyled:c,radius:f,color:d,label:h,offset:p,position:m,multiline:y,width:g,zIndex:_,disabled:b}=n,T=NSe(n,["children","refProp","withinPortal","style","className","classNames","styles","unstyled","radius","color","label","offset","position","multiline","width","zIndex","disabled"]),{handleMouseMove:I,x:E,y:S,opened:A,boundaryRef:L,floating:W,setOpened:z}=ASe({offset:p,position:m}),{classes:U,cx:Z}=HK({radius:f,color:d,multiline:y,width:g},{name:"Tooltip",classNames:u,styles:l,unstyled:c});if(!__(r))throw new Error(WK.children);const H=qo(L,r.ref),ue=_e=>{var te,oe;(oe=(te=r.props).onMouseEnter)==null||oe.call(te,_e),I(_e),z(!0)},ie=_e=>{var te,oe;(oe=(te=r.props).onMouseLeave)==null||oe.call(te,_e),z(!1)};return b?k.createElement(k.Fragment,null,r):k.createElement(k.Fragment,null,k.createElement(w_,{withinPortal:s},k.createElement(lt,LC($C({},T),{ref:W,className:Z(U.tooltip,a),style:LC($C({},o),{zIndex:_,display:A?"block":"none",top:S??"",left:(t=Math.round(E))!=null?t:""})}),h)),w.cloneElement(r,LC($C({},r.props),{[i]:H,onMouseEnter:ue,onMouseLeave:ie})))}YK.displayName="@mantine/core/TooltipFloating";function DSe(e){const[t,n]=w.useState(!1),i=typeof e.opened=="boolean"?e.opened:t,s=vSe(),o=Ru(),{delay:a,currentId:u,setCurrentId:l}=pG(),c=w.useCallback(A=>{n(A),A&&l(o)},[l,o]),{x:f,y:d,reference:h,floating:p,context:m,refs:y,update:g,placement:_,middlewareData:{arrow:{x:b,y:T}={}}}=dk({placement:e.position,open:i,onOpenChange:c,middleware:[nG(e.offset),lk({padding:8}),tG(),cG({element:e.arrowRef}),...e.inline?[iG()]:[]]}),{getReferenceProps:I,getFloatingProps:E}=Bye([Vye(m,{enabled:e.events.hover,delay:s?a:{open:e.openDelay,close:e.closeDelay},mouseOnly:!e.events.touch}),Kye(m,{enabled:e.events.focus,keyboardOnly:!0}),Wye(m,{role:"tooltip"}),Yye(m,{enabled:typeof e.opened===void 0}),Hye(m,{id:o})]);return mG({opened:i,positionDependencies:e.positionDependencies,floating:{refs:y,update:g}}),uo(()=>{var A;(A=e.onPositionChange)==null||A.call(e,_)},[_]),{x:f,y:d,arrowX:b,arrowY:T,reference:h,floating:p,getFloatingProps:E,getReferenceProps:I,isGroupPhase:i&&u&&u!==o,opened:i,placement:_}}var $Se=Object.defineProperty,LSe=Object.defineProperties,MSe=Object.getOwnPropertyDescriptors,mw=Object.getOwnPropertySymbols,KK=Object.prototype.hasOwnProperty,QK=Object.prototype.propertyIsEnumerable,d8=(e,t,n)=>t in e?$Se(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,I0=(e,t)=>{for(var n in t||(t={}))KK.call(t,n)&&d8(e,n,t[n]);if(mw)for(var n of mw(t))QK.call(t,n)&&d8(e,n,t[n]);return e},FSe=(e,t)=>LSe(e,MSe(t)),BSe=(e,t)=>{var n={};for(var r in e)KK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&mw)for(var r of mw(e))t.indexOf(r)<0&&QK.call(e,r)&&(n[r]=e[r]);return n};const jSe={position:"top",refProp:"ref",withinPortal:!1,inline:!1,arrowSize:4,arrowOffset:5,arrowRadius:0,offset:5,transition:"fade",transitionDuration:100,width:"auto",events:{hover:!0,focus:!1,touch:!1},zIndex:Eo("popover"),positionDependencies:[]},HS=w.forwardRef((e,t)=>{const n=w.useRef(null),r=ht("Tooltip",jSe,e),{children:i,position:s,refProp:o,label:a,openDelay:u,closeDelay:l,onPositionChange:c,opened:f,withinPortal:d,radius:h,color:p,classNames:m,styles:y,unstyled:g,style:_,className:b,withArrow:T,arrowSize:I,arrowOffset:E,arrowRadius:S,offset:A,transition:L,transitionDuration:W,multiline:z,width:U,events:Z,zIndex:H,disabled:ue,positionDependencies:ie,onClick:_e,onMouseEnter:te,onMouseLeave:oe,inline:J}=r,x=BSe(r,["children","position","refProp","label","openDelay","closeDelay","onPositionChange","opened","withinPortal","radius","color","classNames","styles","unstyled","style","className","withArrow","arrowSize","arrowOffset","arrowRadius","offset","transition","transitionDuration","multiline","width","events","zIndex","disabled","positionDependencies","onClick","onMouseEnter","onMouseLeave","inline"]),{classes:C,cx:B,theme:P}=HK({radius:h,color:p,width:U,multiline:z},{name:"Tooltip",classNames:m,styles:y,unstyled:g}),O=DSe({position:OG(P.dir,s),closeDelay:l,openDelay:u,onPositionChange:c,opened:f,events:Z,arrowRef:n,offset:A+(T?I/2:0),positionDependencies:[...ie,i],inline:J});if(!__(i))throw new Error(WK.children);const G=qo(O.reference,i.ref,t);return k.createElement(k.Fragment,null,k.createElement(w_,{withinPortal:d},k.createElement(VS,{mounted:!ue&&O.opened,transition:L,duration:O.isGroupPhase?10:W},fe=>{var le,me;return k.createElement(lt,I0(I0({},x),O.getFloatingProps({ref:O.floating,className:C.tooltip,style:FSe(I0(I0({},_),fe),{zIndex:H,top:(le=O.y)!=null?le:0,left:(me=O.x)!=null?me:0})})),a,k.createElement(hk,{ref:n,arrowX:O.arrowX,arrowY:O.arrowY,visible:T,withBorder:!1,position:O.placement,arrowSize:I,arrowOffset:E,arrowRadius:S,className:C.arrow}))})),w.cloneElement(i,O.getReferenceProps(I0({onClick:_e,onMouseEnter:te,onMouseLeave:oe,onMouseMove:e.onMouseMove,onPointerDown:e.onPointerDown,onPointerEnter:e.onPointerEnter,[o]:G,className:B(b,i.props.className)},i.props))))});HS.Group=zK;HS.Floating=YK;HS.displayName="@mantine/core/Tooltip";const XK=HS;var USe=Object.defineProperty,VSe=Object.defineProperties,zSe=Object.getOwnPropertyDescriptors,gw=Object.getOwnPropertySymbols,JK=Object.prototype.hasOwnProperty,ZK=Object.prototype.propertyIsEnumerable,h8=(e,t,n)=>t in e?USe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kP=(e,t)=>{for(var n in t||(t={}))JK.call(t,n)&&h8(e,n,t[n]);if(gw)for(var n of gw(t))ZK.call(t,n)&&h8(e,n,t[n]);return e},eQ=(e,t)=>VSe(e,zSe(t)),p8=(e,t)=>{var n={};for(var r in e)JK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&gw)for(var r of gw(e))t.indexOf(r)<0&&ZK.call(e,r)&&(n[r]=e[r]);return n};function HSe(e){return e.reduce((t,n)=>(t.sections.push(eQ(kP({},n),{accumulated:t.accumulated})),t.accumulated+=n.value,t),{accumulated:0,sections:[]}).sections}const WSe={size:"md",radius:"sm",striped:!1,animate:!1,label:""},tQ=w.forwardRef((e,t)=>{const n=ht("Progress",WSe,e),{className:r,value:i,color:s,size:o,radius:a,striped:u,animate:l,label:c,"aria-label":f,classNames:d,styles:h,sections:p,unstyled:m}=n,y=p8(n,["className","value","color","size","radius","striped","animate","label","aria-label","classNames","styles","sections","unstyled"]),{classes:g,cx:_,theme:b}=ySe({color:s,size:o,radius:a,striped:u||l,animate:l},{classNames:d,styles:h,unstyled:m,name:"Progress"}),T=Array.isArray(p)?HSe(p).map((I,E)=>{var S=I,{tooltip:A,accumulated:L,value:W,label:z,color:U}=S,Z=p8(S,["tooltip","accumulated","value","label","color"]);return k.createElement(XK.Floating,{label:A,disabled:!A,key:E},k.createElement(lt,eQ(kP({},Z),{className:_(g.bar,Z.className),sx:{width:`${W}%`,left:`${L}%`,backgroundColor:b.fn.variant({variant:"filled",primaryFallback:!1,color:U||b.primaryColor}).background}}),z&&k.createElement(Ct,{className:g.label},z)))}):null;return k.createElement(lt,kP({className:_(g.root,r),ref:t},y),T||k.createElement("div",{role:"progressbar","aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":i,"aria-label":f,className:g.bar,style:{width:`${i}%`}},c?k.createElement(Ct,{className:g.label},c):""))});tQ.displayName="@mantine/core/Progress";var qSe=Object.defineProperty,m8=Object.getOwnPropertySymbols,GSe=Object.prototype.hasOwnProperty,YSe=Object.prototype.propertyIsEnumerable,g8=(e,t,n)=>t in e?qSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,KSe=(e,t)=>{for(var n in t||(t={}))GSe.call(t,n)&&g8(e,n,t[n]);if(m8)for(var n of m8(t))YSe.call(t,n)&&g8(e,n,t[n]);return e};function QSe(e){return k.createElement("svg",KSe({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 5 5"},e),k.createElement("path",{fill:"currentColor",d:"M0 2.5a2.5 2.5 0 115 0 2.5 2.5 0 01-5 0z"}))}const nQ=w.createContext(null),XSe=nQ.Provider,JSe=()=>w.useContext(nQ);var ZSe=Object.defineProperty,yw=Object.getOwnPropertySymbols,rQ=Object.prototype.hasOwnProperty,iQ=Object.prototype.propertyIsEnumerable,y8=(e,t,n)=>t in e?ZSe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_8=(e,t)=>{for(var n in t||(t={}))rQ.call(t,n)&&y8(e,n,t[n]);if(yw)for(var n of yw(t))iQ.call(t,n)&&y8(e,n,t[n]);return e},eIe=(e,t)=>{var n={};for(var r in e)rQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&yw)for(var r of yw(e))t.indexOf(r)<0&&iQ.call(e,r)&&(n[r]=e[r]);return n};const tIe={orientation:"horizontal",spacing:"lg",offset:"xs",size:"sm"},sQ=w.forwardRef((e,t)=>{const n=ht("RadioGroup",tIe,e),{children:r,value:i,defaultValue:s,onChange:o,orientation:a,spacing:u,size:l,wrapperProps:c,unstyled:f,offset:d,name:h}=n,p=eIe(n,["children","value","defaultValue","onChange","orientation","spacing","size","wrapperProps","unstyled","offset","name"]),[m,y]=Ia({value:i,defaultValue:s,finalValue:"",onChange:o}),g=_=>y(_.currentTarget.value);return k.createElement(XSe,{value:{value:m,onChange:g,size:l,name:h}},k.createElement(lo.Wrapper,_8(_8({labelElement:"div",size:l,__staticSelector:"RadioGroup",ref:t,unstyled:f},c),p),k.createElement(vY,{spacing:u,orientation:a,unstyled:f,role:"radiogroup",offset:d},r)))});sQ.displayName="@mantine/core/RadioGroup";var nIe=Object.defineProperty,rIe=Object.defineProperties,iIe=Object.getOwnPropertyDescriptors,v8=Object.getOwnPropertySymbols,sIe=Object.prototype.hasOwnProperty,oIe=Object.prototype.propertyIsEnumerable,b8=(e,t,n)=>t in e?nIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,aIe=(e,t)=>{for(var n in t||(t={}))sIe.call(t,n)&&b8(e,n,t[n]);if(v8)for(var n of v8(t))oIe.call(t,n)&&b8(e,n,t[n]);return e},uIe=(e,t)=>rIe(e,iIe(t));const MC={xs:16,sm:20,md:24,lg:30,xl:36},Yv={xs:6,sm:8,md:10,lg:14,xl:16};var lIe=at((e,{size:t,color:n,transitionDuration:r,labelPosition:i,error:s},o)=>{const a=e.fn.variant({variant:"filled",color:n}),u=e.fn.variant({variant:"filled",color:"red"}).background;return{inner:{order:i==="left"?2:1,position:"relative",alignSelf:"flex-start"},icon:{ref:o("icon"),color:e.white,opacity:0,transform:"scale(0.75) translateY(2px)",transition:`opacity ${r}ms ${e.transitionTimingFunction}`,pointerEvents:"none",width:e.fn.size({sizes:Yv,size:t}),height:e.fn.size({sizes:Yv,size:t}),position:"absolute",top:`calc(50% - ${e.fn.size({sizes:Yv,size:t})/2}px)`,left:`calc(50% - ${e.fn.size({sizes:Yv,size:t})/2}px)`},radio:uIe(aIe({},e.fn.focusStyles()),{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white,border:`1px solid ${s?u:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,position:"relative",appearance:"none",width:e.fn.size({sizes:MC,size:t}),height:e.fn.size({sizes:MC,size:t}),borderRadius:e.fn.size({sizes:MC,size:t}),margin:0,display:"flex",alignItems:"center",justifyContent:"center",transitionProperty:"background-color, border-color",transitionTimingFunction:e.transitionTimingFunction,transitionDuration:`${r}ms`,cursor:e.cursorType,"&:checked":{background:a.background,borderColor:a.background,[`& + .${o("icon")}`]:{opacity:1,transform:"scale(1)"}},"&:disabled":{borderColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[4],backgroundColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[1],[`& + .${o("icon")}`]:{color:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[4]}}})}});const cIe=lIe;var fIe=Object.defineProperty,_w=Object.getOwnPropertySymbols,oQ=Object.prototype.hasOwnProperty,aQ=Object.prototype.propertyIsEnumerable,E8=(e,t,n)=>t in e?fIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Kv=(e,t)=>{for(var n in t||(t={}))oQ.call(t,n)&&E8(e,n,t[n]);if(_w)for(var n of _w(t))aQ.call(t,n)&&E8(e,n,t[n]);return e},dIe=(e,t)=>{var n={};for(var r in e)oQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&_w)for(var r of _w(e))t.indexOf(r)<0&&aQ.call(e,r)&&(n[r]=e[r]);return n};const hIe={icon:QSe,transitionDuration:100,size:"sm",labelPosition:"right"},vw=w.forwardRef((e,t)=>{var n,r;const i=ht("Radio",hIe,e),{className:s,style:o,id:a,label:u,size:l,title:c,disabled:f,color:d,classNames:h,styles:p,sx:m,icon:y,transitionDuration:g,wrapperProps:_,unstyled:b,labelPosition:T,description:I,error:E}=i,S=dIe(i,["className","style","id","label","size","title","disabled","color","classNames","styles","sx","icon","transitionDuration","wrapperProps","unstyled","labelPosition","description","error"]),A=JSe(),L=(n=A==null?void 0:A.size)!=null?n:l,W=e.size?l:L,{classes:z}=cIe({color:d,size:W,transitionDuration:g,labelPosition:T,error:!!E},{classNames:h,styles:p,unstyled:b,name:"Radio"}),{systemStyles:U,rest:Z}=Kd(S),H=Ru(a),ue=A?{checked:A.value===Z.value,name:(r=Z.name)!=null?r:A.name,onChange:A.onChange}:{};return k.createElement(vk,Kv(Kv({className:s,sx:m,style:o,id:H,size:W,labelPosition:T,label:u,description:I,error:E,disabled:f,__staticSelector:"Radio",classNames:h,styles:p,unstyled:b,"data-checked":ue.checked||void 0},U),_),k.createElement("div",{className:z.inner},k.createElement("input",Kv(Kv({ref:t,className:z.radio,type:"radio",id:H,disabled:f},Z),ue)),k.createElement(y,{className:z.icon,"aria-hidden":!0})))});vw.displayName="@mantine/core/Radio";vw.Group=sQ;var pIe=Object.defineProperty,mIe=Object.defineProperties,gIe=Object.getOwnPropertyDescriptors,w8=Object.getOwnPropertySymbols,yIe=Object.prototype.hasOwnProperty,_Ie=Object.prototype.propertyIsEnumerable,T8=(e,t,n)=>t in e?pIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Qv=(e,t)=>{for(var n in t||(t={}))yIe.call(t,n)&&T8(e,n,t[n]);if(w8)for(var n of w8(t))_Ie.call(t,n)&&T8(e,n,t[n]);return e},vIe=(e,t)=>mIe(e,gIe(t));const X1=4,S8={xs:"3px 6px",sm:"5px 10px",md:"7px 14px",lg:"9px 16px",xl:"12px 20px"};var bIe=at((e,{fullWidth:t,color:n,radius:r,shouldAnimate:i,transitionDuration:s,transitionTimingFunction:o,size:a,orientation:u},l)=>{const c=u==="vertical",f=e.fn.variant({variant:"filled",color:n});return{label:vIe(Qv(Qv({ref:l("label")},e.fn.focusStyles()),e.fn.fontStyles()),{WebkitTapHighlightColor:"transparent",borderRadius:e.fn.radius(r),fontWeight:500,fontSize:a in e.fontSizes?e.fontSizes[a]:e.fontSizes.sm,cursor:"pointer",display:"block",textAlign:"center",padding:S8[a in S8?a:"sm"],whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",userSelect:"none",color:e.colorScheme==="dark"?e.colors.dark[1]:e.colors.gray[7],transition:`color ${i?0:s}ms ${o||e.transitionTimingFunction}`,"&:hover":{color:e.colorScheme==="dark"?e.colors.dark[0]:e.black}}),control:{ref:l("control"),position:"relative",boxSizing:"border-box",flex:1,zIndex:2,transition:`border-left-color ${i?0:s}ms ${o||e.transitionTimingFunction}`,"&:not(:first-of-type)":{borderStyle:"solid",borderWidth:c?"1px 0 0 0":"0 0 0 1px",borderColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3]}},input:{height:0,width:0,position:"absolute",overflow:"hidden",whiteSpace:"nowrap",opacity:0,"&:focus":{outline:"none",[`& + .${l("label")}`]:Qv({},e.focusRing==="always"||e.focusRing==="auto"?e.focusRingStyles.styles(e):e.focusRingStyles.resetStyles(e)),"&:focus:not(:focus-visible)":{[`& + .${l("label")}`]:Qv({},e.focusRing==="auto"||e.focusRing==="never"?e.focusRingStyles.resetStyles(e):null)}}},root:{position:"relative",display:t||c?"flex":"inline-flex",width:c&&!t?"max-content":"auto",flexDirection:c?"column":"row",backgroundColor:e.colorScheme==="dark"?e.colors.dark[8]:e.colors.gray[1],borderRadius:e.fn.radius(r),overflow:"hidden",padding:X1},controlActive:{borderLeftColor:"transparent !important",borderTopColor:"transparent !important",[`& + .${l("control")}`]:{borderLeftColor:"transparent !important",borderTopColor:"transparent !important"},borderRadius:e.fn.radius(r),boxShadow:i?n||e.colorScheme==="dark"?"none":e.shadows.xs:void 0,backgroundColor:i?n?f.background:e.colorScheme==="dark"?e.colors.dark[5]:e.white:void 0},labelActive:{"&, &:hover":{color:n||e.colorScheme==="dark"?e.white:e.black}},disabled:{"&, &:hover":{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5],cursor:"not-allowed"}},active:{boxSizing:"border-box",borderRadius:e.fn.radius(r),position:"absolute",zIndex:1,boxShadow:n||e.colorScheme==="dark"?"none":e.shadows.xs,transition:`transform ${i?0:s}ms ${e.transitionTimingFunction}, width ${i?0:s/2}ms ${o||e.transitionTimingFunction}`,backgroundColor:n?f.background:e.colorScheme==="dark"?e.colors.dark[5]:e.white}}});const EIe=bIe;var wIe=Object.defineProperty,bw=Object.getOwnPropertySymbols,uQ=Object.prototype.hasOwnProperty,lQ=Object.prototype.propertyIsEnumerable,I8=(e,t,n)=>t in e?wIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,TIe=(e,t)=>{for(var n in t||(t={}))uQ.call(t,n)&&I8(e,n,t[n]);if(bw)for(var n of bw(t))lQ.call(t,n)&&I8(e,n,t[n]);return e},SIe=(e,t)=>{var n={};for(var r in e)uQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&bw)for(var r of bw(e))t.indexOf(r)<0&&lQ.call(e,r)&&(n[r]=e[r]);return n};const IIe={disabled:!1,size:"sm",transitionDuration:200},cQ=w.forwardRef((e,t)=>{var n,r,i,s;const o=ht("SegmentedControl",IIe,e),{className:a,disabled:u,data:l,name:c,value:f,onChange:d,color:h,fullWidth:p,radius:m,size:y,transitionDuration:g,transitionTimingFunction:_,classNames:b,styles:T,defaultValue:I,orientation:E,unstyled:S}=o,A=SIe(o,["className","disabled","data","name","value","onChange","color","fullWidth","radius","size","transitionDuration","transitionTimingFunction","classNames","styles","defaultValue","orientation","unstyled"]),L=ts(),W=JN(),z=L.respectReducedMotion?W:!1,U=l.map(le=>typeof le=="string"?{label:le,value:le}:le),Z=w.useRef(),[H,ue]=w.useState(!1),[ie,_e]=Ia({value:f,defaultValue:I,finalValue:Array.isArray(U)&&(s=(i=(n=U.find(le=>!le.disabled))==null?void 0:n.value)!=null?i:(r=U[0])==null?void 0:r.value)!=null?s:null,onChange:d}),{classes:te,cx:oe}=EIe({size:y,fullWidth:p,color:h,radius:m,shouldAnimate:z||!H,transitionDuration:g,transitionTimingFunction:_,orientation:E},{classNames:b,styles:T,unstyled:S,name:"SegmentedControl"}),[J,x]=w.useState({width:0,height:0,translate:[0,0]}),C=Ru(c),B=w.useRef({}),[P,O]=ZN();XN(()=>{Z.current?ue(!0):(Z.current=!0,ue(!1))}),w.useEffect(()=>{if(ie in B.current&&P.current){const le=B.current[ie],me=le.getBoundingClientRect(),ge=le.offsetWidth/me.width,Se=me.width*ge||0,de=me.height*ge||0,st=O.width-le.parentElement.offsetLeft+X1-Se,Ke=le.parentElement.offsetLeft-X1;x({width:Se,height:de,translate:[L.dir==="rtl"?st:Ke,le.parentElement.offsetTop-X1]})}},[ie,O]);const G=U.map(le=>k.createElement("div",{className:oe(te.control,{[te.controlActive]:ie===le.value}),key:le.value},k.createElement("input",{className:te.input,disabled:u||le.disabled,type:"radio",name:C,value:le.value,id:`${C}-${le.value}`,checked:ie===le.value,onChange:()=>_e(le.value)}),k.createElement("label",{className:oe(te.label,{[te.labelActive]:ie===le.value,[te.disabled]:u||le.disabled}),htmlFor:`${C}-${le.value}`,ref:me=>{B.current[le.value]=me}},le.label))),fe=qo(P,t);return U.length===0?null:k.createElement(lt,TIe({className:oe(te.root,a),ref:fe},A),typeof ie=="string"&&H&&k.createElement(lt,{component:"span",className:te.active,sx:{width:J.width,height:J.height,transform:`translate(${J.translate[0]}px, ${J.translate[1]}px )`}}),G)});cQ.displayName="@mantine/core/SegmentedControl";function xIe({data:e,searchable:t,limit:n,searchValue:r,filter:i,value:s,filterDataOnExactSearchMatch:o}){if(!t)return e;const a=s!=null&&e.find(l=>l.value===s)||null;if(a&&!o&&(a==null?void 0:a.label)===r)return e;const u=[];for(let l=0;l<e.length&&(i(r,e[l])&&u.push(e[l]),!(u.length>=n));l+=1);return u}var CIe=at(()=>({input:{"&:not(:disabled)":{cursor:"pointer","&::selection":{backgroundColor:"transparent"}}}}));const AIe=CIe;var OIe=Object.defineProperty,PIe=Object.defineProperties,RIe=Object.getOwnPropertyDescriptors,Ew=Object.getOwnPropertySymbols,fQ=Object.prototype.hasOwnProperty,dQ=Object.prototype.propertyIsEnumerable,x8=(e,t,n)=>t in e?OIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,x0=(e,t)=>{for(var n in t||(t={}))fQ.call(t,n)&&x8(e,n,t[n]);if(Ew)for(var n of Ew(t))dQ.call(t,n)&&x8(e,n,t[n]);return e},FC=(e,t)=>PIe(e,RIe(t)),NIe=(e,t)=>{var n={};for(var r in e)fQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Ew)for(var r of Ew(e))t.indexOf(r)<0&&dQ.call(e,r)&&(n[r]=e[r]);return n};function kIe(e,t){return t.label.toLowerCase().trim().includes(e.toLowerCase().trim())}function DIe(e,t){return!!e&&!t.some(n=>n.label.toLowerCase()===e.toLowerCase())}const $Ie={required:!1,size:"sm",shadow:"sm",itemComponent:ik,transition:"fade",transitionDuration:0,initiallyOpened:!1,filter:kIe,maxDropdownHeight:220,searchable:!1,clearable:!1,limit:1/0,disabled:!1,creatable:!1,shouldCreate:DIe,selectOnBlur:!1,switchDirectionOnFlip:!1,filterDataOnExactSearchMatch:!1,zIndex:Eo("popover"),clearButtonTabIndex:0,positionDependencies:[],dropdownPosition:"flip"},hQ=w.forwardRef((e,t)=>{const n=DG("Select",$Ie,e),{inputProps:r,wrapperProps:i,shadow:s,data:o,value:a,defaultValue:u,onChange:l,itemComponent:c,onKeyDown:f,onBlur:d,onFocus:h,transition:p,transitionDuration:m,initiallyOpened:y,transitionTimingFunction:g,unstyled:_,classNames:b,styles:T,filter:I,maxDropdownHeight:E,searchable:S,clearable:A,nothingFound:L,clearButtonLabel:W,limit:z,disabled:U,onSearchChange:Z,searchValue:H,rightSection:ue,rightSectionWidth:ie,creatable:_e,getCreateLabel:te,shouldCreate:oe,selectOnBlur:J,onCreate:x,dropdownComponent:C,onDropdownClose:B,onDropdownOpen:P,withinPortal:O,switchDirectionOnFlip:G,zIndex:fe,name:le,dropdownPosition:me,allowDeselect:ge,placeholder:Se,filterDataOnExactSearchMatch:de,clearButtonTabIndex:st,form:Ke,positionDependencies:qe,readOnly:$e}=n,ot=NIe(n,["inputProps","wrapperProps","shadow","data","value","defaultValue","onChange","itemComponent","onKeyDown","onBlur","onFocus","transition","transitionDuration","initiallyOpened","transitionTimingFunction","unstyled","classNames","styles","filter","maxDropdownHeight","searchable","clearable","nothingFound","clearButtonLabel","limit","disabled","onSearchChange","searchValue","rightSection","rightSectionWidth","creatable","getCreateLabel","shouldCreate","selectOnBlur","onCreate","dropdownComponent","onDropdownClose","onDropdownOpen","withinPortal","switchDirectionOnFlip","zIndex","name","dropdownPosition","allowDeselect","placeholder","filterDataOnExactSearchMatch","clearButtonTabIndex","form","positionDependencies","readOnly"]),{classes:ut,cx:On,theme:Ue}=AIe(),[Be,bt]=w.useState(y),[je,gt]=w.useState(-1),Yt=w.useRef(),an=w.useRef({}),[Yn,ce]=w.useState("column"),we=Yn==="column",{scrollIntoView:Le,targetRef:rt,scrollableRef:De}=DW({duration:0,offset:5,cancelable:!1,isList:!0}),it=ge===void 0?A:ge,Me=Te=>{if(Be!==Te){bt(Te);const Ve=Te?P:B;typeof Ve=="function"&&Ve()}},Ze=_e&&typeof te=="function";let bn=null;const Wt=o.map(Te=>typeof Te=="string"?{label:Te,value:Te}:Te),St=JH({data:Wt}),[Bn,En,ta]=Ia({value:a,defaultValue:u,finalValue:null,onChange:l}),fr=St.find(Te=>Te.value===Bn),[Mi,vr]=Ia({value:H,defaultValue:(fr==null?void 0:fr.label)||"",finalValue:void 0,onChange:Z}),$r=Te=>{vr(Te),S&&typeof Z=="function"&&Z(Te)},dr=()=>{var Te;$e||(En(null),ta||$r(""),(Te=Yt.current)==null||Te.focus())};w.useEffect(()=>{const Te=St.find(Ve=>Ve.value===Bn);Te?$r(Te.label):(!Ze||!Bn)&&$r("")},[Bn]),w.useEffect(()=>{fr&&(!S||!Be)&&$r(fr.label)},[fr==null?void 0:fr.label]);const jn=Te=>{if(!$e)if(it&&(fr==null?void 0:fr.value)===Te.value)En(null),Me(!1);else{if(Te.creatable&&typeof x=="function"){const Ve=x(Te.value);typeof Ve<"u"&&Ve!==null&&En(typeof Ve=="string"?Ve:Ve.value)}else En(Te.value);ta||$r(Te.label),gt(-1),Me(!1),Yt.current.focus()}},Zt=xIe({data:St,searchable:S,limit:z,searchValue:Mi,filter:I,filterDataOnExactSearchMatch:de,value:Bn});Ze&&oe(Mi,Zt)&&(bn=te(Mi),Zt.push({label:Mi,value:Mi,creatable:!0}));const ri=(Te,Ve,ct)=>{let Je=Te;for(;ct(Je);)if(Je=Ve(Je),!Zt[Je].disabled)return Je;return Te};uo(()=>{gt(-1)},[Mi]);const br=Bn?Zt.findIndex(Te=>Te.value===Bn):0,Lr=!$e&&(Zt.length>0?Be:Be&&!!L),yi=()=>{gt(Te=>{var Ve;const ct=ri(Te,Je=>Je-1,Je=>Je>0);return rt.current=an.current[(Ve=Zt[ct])==null?void 0:Ve.value],Lr&&Le({alignment:we?"start":"end"}),ct})},ms=()=>{gt(Te=>{var Ve;const ct=ri(Te,Je=>Je+1,Je=>Je<Zt.length-1);return rt.current=an.current[(Ve=Zt[ct])==null?void 0:Ve.value],Lr&&Le({alignment:we?"end":"start"}),ct})},K=()=>window.setTimeout(()=>{var Te;rt.current=an.current[(Te=Zt[br])==null?void 0:Te.value],Le({alignment:we?"end":"start"})},0);uo(()=>{Lr&&K()},[Lr]);const j=Te=>{switch(typeof f=="function"&&f(Te),Te.key){case"ArrowUp":{Te.preventDefault(),Be?we?yi():ms():(gt(br),Me(!0),K());break}case"ArrowDown":{Te.preventDefault(),Be?we?ms():yi():(gt(br),Me(!0),K());break}case"Home":{if(!S){Te.preventDefault(),Be||Me(!0);const Ve=Zt.findIndex(ct=>!ct.disabled);gt(Ve),Lr&&Le({alignment:we?"end":"start"})}break}case"End":{if(!S){Te.preventDefault(),Be||Me(!0);const Ve=Zt.map(ct=>!!ct.disabled).lastIndexOf(!1);gt(Ve),Lr&&Le({alignment:we?"end":"start"})}break}case"Escape":{Te.preventDefault(),Me(!1),gt(-1);break}case" ":{S||(Te.preventDefault(),Zt[je]&&Be?jn(Zt[je]):(Me(!0),gt(br),K()));break}case"Enter":S||Te.preventDefault(),Zt[je]&&Be&&(Te.preventDefault(),jn(Zt[je]))}},X=Te=>{typeof d=="function"&&d(Te);const Ve=St.find(ct=>ct.value===Bn);J&&Zt[je]&&Be&&jn(Zt[je]),$r((Ve==null?void 0:Ve.label)||""),Me(!1)},pe=Te=>{typeof h=="function"&&h(Te),S&&Me(!0)},he=Te=>{$e||($r(Te.currentTarget.value),A&&Te.currentTarget.value===""&&En(null),gt(-1),Me(!0))},He=()=>{$e||(Me(!Be),Bn&&!Be&&gt(br))};return k.createElement(lo.Wrapper,FC(x0({},i),{__staticSelector:"Select"}),k.createElement(Fc,{opened:Lr,transition:p,transitionDuration:m,shadow:"sm",withinPortal:O,__staticSelector:"Select",onDirectionChange:ce,switchDirectionOnFlip:G,zIndex:fe,dropdownPosition:me,positionDependencies:qe,classNames:b,styles:T,unstyled:_},k.createElement(Fc.Target,null,k.createElement("div",{role:"combobox","aria-haspopup":"listbox","aria-owns":Lr?`${r.id}-items`:null,"aria-controls":r.id,"aria-expanded":Lr,onMouseLeave:()=>gt(-1),tabIndex:-1},k.createElement("input",{type:"hidden",name:le,value:Bn||"",form:Ke,disabled:U}),k.createElement(lo,x0(FC(x0(x0({autoComplete:"off",type:"search"},r),ot),{ref:qo(t,Yt),onKeyDown:j,__staticSelector:"Select",value:Mi,placeholder:Se,onChange:he,"aria-autocomplete":"list","aria-controls":Lr?`${r.id}-items`:null,"aria-activedescendant":je>=0?`${r.id}-${je}`:null,onMouseDown:He,onBlur:X,onFocus:pe,readOnly:!S||$e,disabled:U,"data-mantine-stop-propagation":Lr,name:null,classNames:FC(x0({},b),{input:On({[ut.input]:!S},b==null?void 0:b.input)})}),NK({theme:Ue,rightSection:ue,rightSectionWidth:ie,styles:T,size:r.size,shouldClear:A&&!!fr,clearButtonLabel:W,onClear:dr,error:i.error,clearButtonTabIndex:st,disabled:U,readOnly:$e}))))),k.createElement(Fc.Dropdown,{component:C||BS,maxHeight:E,direction:Yn,id:r.id,innerRef:De,__staticSelector:"Select",classNames:b,styles:T},k.createElement(rk,{data:Zt,hovered:je,classNames:b,styles:T,isItemSelected:Te=>Te===Bn,uuid:r.id,__staticSelector:"Select",onItemHover:gt,onItemSelect:jn,itemsRefs:an,itemComponent:c,size:r.size,nothingFound:L,creatable:Ze&&!!bn,createLabel:bn,"aria-label":i.label,unstyled:_}))))});hQ.displayName="@mantine/core/Select";function ww({value:e,min:t,max:n}){const r=(e-t)/(n-t)*100;return Math.min(Math.max(r,0),100)}function DP({value:e,containerWidth:t,min:n,max:r,step:i,precision:s}){const a=(t?Math.min(Math.max(e,0),t)/t:e)*(r-n),u=(a!==0?Math.round(a/i)*i:0)+n,l=Math.max(u,n);return s!==void 0?Number(l.toFixed(s)):l}var LIe=Object.defineProperty,MIe=Object.defineProperties,FIe=Object.getOwnPropertyDescriptors,C8=Object.getOwnPropertySymbols,BIe=Object.prototype.hasOwnProperty,jIe=Object.prototype.propertyIsEnumerable,A8=(e,t,n)=>t in e?LIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,UIe=(e,t)=>{for(var n in t||(t={}))BIe.call(t,n)&&A8(e,n,t[n]);if(C8)for(var n of C8(t))jIe.call(t,n)&&A8(e,n,t[n]);return e},VIe=(e,t)=>MIe(e,FIe(t));const Ps={xs:4,sm:6,md:8,lg:10,xl:12};var zIe=at((e,{size:t,disabled:n})=>({root:VIe(UIe({},e.fn.fontStyles()),{WebkitTapHighlightColor:"transparent",outline:0,height:e.fn.size({sizes:Ps,size:t})*2,display:"flex",alignItems:"center",cursor:n?"not-allowed":"pointer",touchAction:"none"})}));const HIe=zIe;var WIe=Object.defineProperty,qIe=Object.defineProperties,GIe=Object.getOwnPropertyDescriptors,O8=Object.getOwnPropertySymbols,YIe=Object.prototype.hasOwnProperty,KIe=Object.prototype.propertyIsEnumerable,P8=(e,t,n)=>t in e?WIe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,QIe=(e,t)=>{for(var n in t||(t={}))YIe.call(t,n)&&P8(e,n,t[n]);if(O8)for(var n of O8(t))KIe.call(t,n)&&P8(e,n,t[n]);return e},XIe=(e,t)=>qIe(e,GIe(t)),JIe=at((e,{color:t,size:n,disabled:r,thumbSize:i})=>({label:{position:"absolute",top:-36,backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[9],fontSize:e.fontSizes.xs,color:e.white,padding:`calc(${e.spacing.xs}px / 2)`,borderRadius:e.radius.sm,whiteSpace:"nowrap",pointerEvents:"none",userSelect:"none",touchAction:"none"},thumb:XIe(QIe({},e.fn.focusStyles()),{boxSizing:"border-box",position:"absolute",display:r?"none":"flex",height:i||e.fn.size({sizes:Ps,size:n})*2,width:i||e.fn.size({sizes:Ps,size:n})*2,backgroundColor:e.colorScheme==="dark"?e.fn.themeColor(t,e.fn.primaryShade()):e.white,border:`4px solid ${e.colorScheme==="dark"?e.white:e.fn.themeColor(t,e.fn.primaryShade())}`,color:e.colorScheme==="dark"?e.white:e.fn.themeColor(t,e.fn.primaryShade()),transform:"translate(-50%, -50%)",top:"50%",cursor:"pointer",borderRadius:1e3,alignItems:"center",justifyContent:"center",transitionDuration:"100ms",transitionProperty:"box-shadow, transform",transitionTimingFunction:e.transitionTimingFunction,zIndex:3,userSelect:"none",touchAction:"none"}),dragging:{transform:"translate(-50%, -50%) scale(1.05)",boxShadow:e.shadows.sm}}));const ZIe=JIe,Tw=w.forwardRef(({max:e,min:t,value:n,position:r,label:i,dragging:s,onMouseDown:o,color:a,classNames:u,styles:l,size:c,labelTransition:f,labelTransitionDuration:d,labelTransitionTimingFunction:h,labelAlwaysOn:p,thumbLabel:m,onFocus:y,onBlur:g,showLabelOnHover:_,children:b=null,disabled:T,unstyled:I,thumbSize:E},S)=>{const{classes:A,cx:L,theme:W}=ZIe({color:a,size:c,disabled:T,thumbSize:E},{classNames:u,styles:l,unstyled:I,name:"Slider"}),[z,U]=w.useState(!1),Z=p||s||z||_;return k.createElement(lt,{tabIndex:0,role:"slider","aria-label":m,"aria-valuemax":e,"aria-valuemin":t,"aria-valuenow":n,ref:S,className:L(A.thumb,{[A.dragging]:s}),onFocus:()=>{U(!0),typeof y=="function"&&y()},onBlur:()=>{U(!1),typeof g=="function"&&g()},onTouchStart:o,onMouseDown:o,onClick:H=>H.stopPropagation(),style:{[W.dir==="rtl"?"right":"left"]:`${r}%`}},b,k.createElement(VS,{mounted:i!=null&&Z,duration:d,transition:f,timingFunction:h||W.transitionTimingFunction},H=>k.createElement("div",{style:H,className:A.label},i)))});Tw.displayName="@mantine/core/SliderThumb";function exe({mark:e,offset:t,value:n,inverted:r=!1}){return r?typeof t=="number"&&e.value<=t||e.value>=n:typeof t=="number"?e.value>=t&&e.value<=n:e.value<=n}var txe=at((e,{size:t,color:n,disabled:r})=>({markWrapper:{position:"absolute",top:0,zIndex:2},mark:{boxSizing:"border-box",border:`${e.fn.size({size:t,sizes:Ps})>=8?"2px":"1px"} solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]}`,height:e.fn.size({sizes:Ps,size:t}),width:e.fn.size({sizes:Ps,size:t}),borderRadius:1e3,transform:`translateX(-${e.fn.size({sizes:Ps,size:t})/2}px)`,backgroundColor:e.white},markFilled:{borderColor:r?e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4]:e.fn.variant({variant:"filled",color:n}).background},markLabel:{transform:"translate(-50%, 0)",fontSize:e.fontSizes.sm,color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],marginTop:`calc(${e.spacing.xs}px / 2)`,whiteSpace:"nowrap"}}));const nxe=txe;function pQ({marks:e,color:t,size:n,min:r,max:i,value:s,classNames:o,styles:a,offset:u,onChange:l,disabled:c,unstyled:f,inverted:d}){const{classes:h,cx:p}=nxe({size:n,color:t,disabled:c},{classNames:o,styles:a,unstyled:f,name:"Slider"}),m=e.map((y,g)=>k.createElement(lt,{className:h.markWrapper,sx:{left:`${ww({value:y.value,min:r,max:i})}%`},key:g},k.createElement("div",{className:p(h.mark,{[h.markFilled]:exe({mark:y,value:s,offset:u,inverted:d})})}),y.label&&k.createElement("div",{className:h.markLabel,onMouseDown:_=>{_.stopPropagation(),l(y.value)},onTouchStart:_=>{_.stopPropagation(),l(y.value)}},y.label)));return k.createElement("div",null,m)}pQ.displayName="@mantine/core/SliderMarks";var rxe=at((e,{radius:t,size:n,color:r,disabled:i,inverted:s})=>({track:{position:"relative",height:e.fn.size({sizes:Ps,size:n}),width:"100%",marginRight:e.fn.size({size:n,sizes:Ps}),marginLeft:e.fn.size({size:n,sizes:Ps}),"&::before":{content:'""',position:"absolute",top:0,bottom:0,borderRadius:e.fn.size({size:t,sizes:e.radius}),right:-e.fn.size({size:n,sizes:Ps}),left:-e.fn.size({size:n,sizes:Ps}),backgroundColor:s?i?e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4]:e.fn.variant({variant:"filled",color:r}).background:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],zIndex:0}},bar:{position:"absolute",zIndex:1,top:0,bottom:0,backgroundColor:s?e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]:i?e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4]:e.fn.variant({variant:"filled",color:r}).background,borderRadius:e.fn.size({size:t,sizes:e.radius})}}));const ixe=rxe;var sxe=Object.defineProperty,oxe=Object.defineProperties,axe=Object.getOwnPropertyDescriptors,Sw=Object.getOwnPropertySymbols,mQ=Object.prototype.hasOwnProperty,gQ=Object.prototype.propertyIsEnumerable,R8=(e,t,n)=>t in e?sxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,uxe=(e,t)=>{for(var n in t||(t={}))mQ.call(t,n)&&R8(e,n,t[n]);if(Sw)for(var n of Sw(t))gQ.call(t,n)&&R8(e,n,t[n]);return e},lxe=(e,t)=>oxe(e,axe(t)),cxe=(e,t)=>{var n={};for(var r in e)mQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Sw)for(var r of Sw(e))t.indexOf(r)<0&&gQ.call(e,r)&&(n[r]=e[r]);return n};function Tk(e){var t=e,{filled:n,size:r,color:i,classNames:s,styles:o,radius:a,children:u,offset:l,onMouseLeave:c,onMouseEnter:f,disabled:d,marksOffset:h,unstyled:p,inverted:m}=t,y=cxe(t,["filled","size","color","classNames","styles","radius","children","offset","onMouseLeave","onMouseEnter","disabled","marksOffset","unstyled","inverted"]);const{classes:g}=ixe({color:i,size:r,radius:a,disabled:d,inverted:m},{classNames:s,styles:o,unstyled:p,name:"Slider"});return k.createElement("div",{className:g.track,onMouseLeave:c,onMouseEnter:f},k.createElement(lt,{className:g.bar,sx:_=>({left:`calc(${l}% - ${_.fn.size({size:r,sizes:Ps})}px)`,width:`calc(${n}% + ${_.fn.size({size:r,sizes:Ps})}px)`})}),u,k.createElement(pQ,lxe(uxe({},y),{size:r,color:i,offset:h,classNames:s,styles:o,disabled:d,unstyled:p,inverted:m})))}Tk.displayName="@mantine/core/SliderTrack";var fxe=Object.defineProperty,dxe=Object.defineProperties,hxe=Object.getOwnPropertyDescriptors,Iw=Object.getOwnPropertySymbols,yQ=Object.prototype.hasOwnProperty,_Q=Object.prototype.propertyIsEnumerable,N8=(e,t,n)=>t in e?fxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pxe=(e,t)=>{for(var n in t||(t={}))yQ.call(t,n)&&N8(e,n,t[n]);if(Iw)for(var n of Iw(t))_Q.call(t,n)&&N8(e,n,t[n]);return e},mxe=(e,t)=>dxe(e,hxe(t)),gxe=(e,t)=>{var n={};for(var r in e)yQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Iw)for(var r of Iw(e))t.indexOf(r)<0&&_Q.call(e,r)&&(n[r]=e[r]);return n};const Sk=w.forwardRef((e,t)=>{var n=e,{className:r,size:i,classNames:s,styles:o,disabled:a,unstyled:u}=n,l=gxe(n,["className","size","classNames","styles","disabled","unstyled"]);const{classes:c,cx:f}=HIe({size:i,disabled:a},{classNames:s,styles:o,unstyled:u,name:"Slider"});return k.createElement(lt,mxe(pxe({},l),{tabIndex:-1,className:f(c.root,r),ref:t}))});Sk.displayName="@mantine/core/SliderRoot";var yxe=Object.defineProperty,_xe=Object.defineProperties,vxe=Object.getOwnPropertyDescriptors,xw=Object.getOwnPropertySymbols,vQ=Object.prototype.hasOwnProperty,bQ=Object.prototype.propertyIsEnumerable,k8=(e,t,n)=>t in e?yxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bxe=(e,t)=>{for(var n in t||(t={}))vQ.call(t,n)&&k8(e,n,t[n]);if(xw)for(var n of xw(t))bQ.call(t,n)&&k8(e,n,t[n]);return e},Exe=(e,t)=>_xe(e,vxe(t)),wxe=(e,t)=>{var n={};for(var r in e)vQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&xw)for(var r of xw(e))t.indexOf(r)<0&&bQ.call(e,r)&&(n[r]=e[r]);return n};const Txe={size:"md",radius:"xl",min:0,max:100,step:1,marks:[],label:e=>e,labelTransition:"skew-down",labelTransitionDuration:0,labelAlwaysOn:!1,thumbLabel:"",showLabelOnHover:!0,disabled:!1,scale:e=>e},EQ=w.forwardRef((e,t)=>{const n=ht("Slider",Txe,e),{classNames:r,styles:i,color:s,value:o,onChange:a,onChangeEnd:u,size:l,radius:c,min:f,max:d,step:h,precision:p,defaultValue:m,name:y,marks:g,label:_,labelTransition:b,labelTransitionDuration:T,labelTransitionTimingFunction:I,labelAlwaysOn:E,thumbLabel:S,showLabelOnHover:A,thumbChildren:L,disabled:W,unstyled:z,thumbSize:U,scale:Z,inverted:H}=n,ue=wxe(n,["classNames","styles","color","value","onChange","onChangeEnd","size","radius","min","max","step","precision","defaultValue","name","marks","label","labelTransition","labelTransitionDuration","labelTransitionTimingFunction","labelAlwaysOn","thumbLabel","showLabelOnHover","thumbChildren","disabled","unstyled","thumbSize","scale","inverted"]),ie=ts(),[_e,te]=w.useState(!1),[oe,J]=Ia({value:typeof o=="number"?Lc(o,f,d):o,defaultValue:typeof m=="number"?Lc(m,f,d):m,finalValue:Lc(0,f,d),onChange:a}),x=w.useRef(oe),C=w.useRef(),B=ww({value:oe,min:f,max:d}),P=Z(oe),O=typeof _=="function"?_(P):_,G=w.useCallback(({x:Se})=>{if(!W){const de=DP({value:Se,min:f,max:d,step:h,precision:p});J(de),x.current=de}},[W,f,d,h,p]),{ref:fe,active:le}=kW(G,{onScrubEnd:()=>u==null?void 0:u(x.current)},ie.dir),me=Se=>{Se.stopPropagation()},ge=Se=>{if(!W)switch(Se.key){case"ArrowUp":{Se.preventDefault(),C.current.focus();const de=Math.min(Math.max(oe+h,f),d);u==null||u(de),J(de);break}case"ArrowRight":{Se.preventDefault(),C.current.focus();const de=Math.min(Math.max(ie.dir==="rtl"?oe-h:oe+h,f),d);u==null||u(de),J(de);break}case"ArrowDown":{Se.preventDefault(),C.current.focus();const de=Math.min(Math.max(oe-h,f),d);u==null||u(de),J(de);break}case"ArrowLeft":{Se.preventDefault(),C.current.focus();const de=Math.min(Math.max(ie.dir==="rtl"?oe+h:oe-h,f),d);u==null||u(de),J(de);break}case"Home":{Se.preventDefault(),C.current.focus(),u==null||u(f),J(f);break}case"End":{Se.preventDefault(),C.current.focus(),u==null||u(d),J(d);break}}};return k.createElement(Sk,Exe(bxe({},ue),{size:l,ref:qo(fe,t),onKeyDownCapture:ge,onMouseDownCapture:()=>{var Se;return(Se=fe.current)==null?void 0:Se.focus()},classNames:r,styles:i,disabled:W,unstyled:z}),k.createElement(Tk,{inverted:H,offset:0,filled:B,marks:g,size:l,radius:c,color:s,min:f,max:d,value:P,onChange:J,onMouseEnter:A?()=>te(!0):void 0,onMouseLeave:A?()=>te(!1):void 0,classNames:r,styles:i,disabled:W,unstyled:z},k.createElement(Tw,{max:d,min:f,value:P,position:B,dragging:le,color:s,size:l,label:O,ref:C,onMouseDown:me,labelTransition:b,labelTransitionDuration:T,labelTransitionTimingFunction:I,labelAlwaysOn:E,classNames:r,styles:i,thumbLabel:S,showLabelOnHover:A&&_e,disabled:W,unstyled:z,thumbSize:U},L)),k.createElement("input",{type:"hidden",name:y,value:P}))});EQ.displayName="@mantine/core/Slider";function Sxe(e){return"TouchEvent"in window&&e instanceof window.TouchEvent?e.touches[0].clientX:e.clientX}var Ixe=Object.defineProperty,xxe=Object.defineProperties,Cxe=Object.getOwnPropertyDescriptors,Cw=Object.getOwnPropertySymbols,wQ=Object.prototype.hasOwnProperty,TQ=Object.prototype.propertyIsEnumerable,D8=(e,t,n)=>t in e?Ixe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,BC=(e,t)=>{for(var n in t||(t={}))wQ.call(t,n)&&D8(e,n,t[n]);if(Cw)for(var n of Cw(t))TQ.call(t,n)&&D8(e,n,t[n]);return e},jC=(e,t)=>xxe(e,Cxe(t)),Axe=(e,t)=>{var n={};for(var r in e)wQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Cw)for(var r of Cw(e))t.indexOf(r)<0&&TQ.call(e,r)&&(n[r]=e[r]);return n};const Oxe={size:"md",radius:"xl",min:0,max:100,minRange:10,step:1,marks:[],label:e=>e,labelTransition:"skew-down",labelTransitionDuration:0,labelAlwaysOn:!1,thumbFromLabel:"",thumbToLabel:"",showLabelOnHover:!0,disabled:!1,scale:e=>e},SQ=w.forwardRef((e,t)=>{const n=ht("RangeSlider",Oxe,e),{classNames:r,styles:i,color:s,value:o,onChange:a,onChangeEnd:u,size:l,radius:c,min:f,max:d,minRange:h,step:p,precision:m,defaultValue:y,name:g,marks:_,label:b,labelTransition:T,labelTransitionDuration:I,labelTransitionTimingFunction:E,labelAlwaysOn:S,thumbFromLabel:A,thumbToLabel:L,showLabelOnHover:W,thumbChildren:z,disabled:U,unstyled:Z,thumbSize:H,scale:ue,inverted:ie}=n,_e=Axe(n,["classNames","styles","color","value","onChange","onChangeEnd","size","radius","min","max","minRange","step","precision","defaultValue","name","marks","label","labelTransition","labelTransitionDuration","labelTransitionTimingFunction","labelAlwaysOn","thumbFromLabel","thumbToLabel","showLabelOnHover","thumbChildren","disabled","unstyled","thumbSize","scale","inverted"]),te=ts(),[oe,J]=w.useState(-1),[x,C]=w.useState(!1),[B,P]=Ia({value:o,defaultValue:y,finalValue:[f,d],onChange:a}),O=w.useRef(B),G=w.useRef([]),fe=w.useRef(void 0),le=[ww({value:B[0],min:f,max:d}),ww({value:B[1],min:f,max:d})],me=Ue=>{P(Ue),O.current=Ue};w.useEffect(()=>{Array.isArray(o)&&(O.current=o)},Array.isArray(o)?[o[0],o[1]]:[null,null]);const ge=(Ue,Be,bt)=>{const je=[...O.current];je[Be]=Ue,Be===0&&(Ue>je[1]-(h-1e-9)&&(je[1]=Math.min(Ue+h,d)),Ue>(d-(h-1e-9)||f)&&(je[Be]=O.current[Be])),Be===1&&(Ue<je[0]+h&&(je[0]=Math.max(Ue-h,f)),Ue<je[0]+h&&(je[Be]=O.current[Be])),me(je),bt&&(u==null||u(O.current))},Se=Ue=>{if(!U){const Be=DP({value:Ue,min:f,max:d,step:p,precision:m});ge(Be,fe.current,!1)}},{ref:de,active:st}=kW(({x:Ue})=>Se(Ue),{onScrubEnd:()=>u==null?void 0:u(O.current)},te.dir);function Ke(Ue,Be){Ue.stopPropagation(),fe.current=Be}const qe=Ue=>{de.current.focus();const Be=de.current.getBoundingClientRect(),bt=Sxe(Ue.nativeEvent),je=DP({value:bt-Be.left,max:d,min:f,step:p,containerWidth:Be.width}),gt=Math.abs(B[0]-je)>Math.abs(B[1]-je)?1:0,Yt=te.dir==="ltr"?gt:gt===1?0:1;fe.current=Yt},$e=()=>oe!==1&&oe!==0?(J(0),0):oe,ot=Ue=>{if(!U)switch(Ue.key){case"ArrowUp":{Ue.preventDefault();const Be=$e();G.current[Be].focus(),ge(Math.min(Math.max(O.current[Be]+p,f),d),Be,!0);break}case"ArrowRight":{Ue.preventDefault();const Be=$e();G.current[Be].focus(),ge(Math.min(Math.max(te.dir==="rtl"?O.current[Be]-p:O.current[Be]+p,f),d),Be,!0);break}case"ArrowDown":{Ue.preventDefault();const Be=$e();G.current[Be].focus(),ge(Math.min(Math.max(O.current[Be]-p,f),d),Be,!0);break}case"ArrowLeft":{Ue.preventDefault();const Be=$e();G.current[Be].focus(),ge(Math.min(Math.max(te.dir==="rtl"?O.current[Be]+p:O.current[Be]-p,f),d),Be,!0);break}}},ut={max:d,min:f,color:s,size:l,labelTransition:T,labelTransitionDuration:I,labelTransitionTimingFunction:E,labelAlwaysOn:S,onBlur:()=>J(-1),classNames:r,styles:i},On=Array.isArray(z);return k.createElement(Sk,jC(BC({},_e),{size:l,ref:qo(de,t),onTouchStartCapture:qe,onTouchEndCapture:()=>{fe.current=-1},onMouseDownCapture:qe,onMouseUpCapture:()=>{fe.current=-1},onKeyDownCapture:ot,styles:i,classNames:r,disabled:U,unstyled:Z}),k.createElement(Tk,{offset:le[0],marksOffset:B[0],filled:le[1]-le[0],marks:_,inverted:ie,size:l,radius:c,color:s,min:f,max:d,value:B[1],styles:i,classNames:r,onMouseEnter:W?()=>C(!0):void 0,onMouseLeave:W?()=>C(!1):void 0,onChange:Ue=>{const Be=Math.abs(B[0]-Ue)>Math.abs(B[1]-Ue)?1:0,bt=[...B];bt[Be]=Ue,me(bt)},disabled:U,unstyled:Z},k.createElement(Tw,jC(BC({},ut),{value:ue(B[0]),position:le[0],dragging:st,label:typeof b=="function"?b(ue(B[0])):b,ref:Ue=>{G.current[0]=Ue},thumbLabel:A,onMouseDown:Ue=>Ke(Ue,0),onFocus:()=>J(0),showLabelOnHover:W&&x,disabled:U,unstyled:Z,thumbSize:H}),On?z[0]:z),k.createElement(Tw,jC(BC({},ut),{thumbLabel:L,value:ue(B[1]),position:le[1],dragging:st,label:typeof b=="function"?b(ue(B[1])):b,ref:Ue=>{G.current[1]=Ue},onMouseDown:Ue=>Ke(Ue,1),onFocus:()=>J(1),showLabelOnHover:W&&x,disabled:U,unstyled:Z,thumbSize:H}),On?z[1]:z)),k.createElement("input",{type:"hidden",name:`${g}_from`,value:B[0]}),k.createElement("input",{type:"hidden",name:`${g}_to`,value:B[1]}))});SQ.displayName="@mantine/core/RangeSlider";var Pxe=Object.defineProperty,Aw=Object.getOwnPropertySymbols,IQ=Object.prototype.hasOwnProperty,xQ=Object.prototype.propertyIsEnumerable,$8=(e,t,n)=>t in e?Pxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Rxe=(e,t)=>{for(var n in t||(t={}))IQ.call(t,n)&&$8(e,n,t[n]);if(Aw)for(var n of Aw(t))xQ.call(t,n)&&$8(e,n,t[n]);return e},Nxe=(e,t)=>{var n={};for(var r in e)IQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Aw)for(var r of Aw(e))t.indexOf(r)<0&&xQ.call(e,r)&&(n[r]=e[r]);return n};const kxe={w:0,h:0},Yp=w.forwardRef((e,t)=>{const n=ht("Space",kxe,e),{w:r,h:i,sx:s}=n,o=Nxe(n,["w","h","sx"]);return k.createElement(lt,Rxe({ref:t,sx:[a=>{const u=a.fn.size({size:r,sizes:a.spacing}),l=a.fn.size({size:i,sizes:a.spacing});return{width:u,height:l,minWidth:u,minHeight:l}},...Pd(s)]},o))});Yp.displayName="@mantine/core/Space";var Dxe=Object.defineProperty,$xe=Object.defineProperties,Lxe=Object.getOwnPropertyDescriptors,L8=Object.getOwnPropertySymbols,Mxe=Object.prototype.hasOwnProperty,Fxe=Object.prototype.propertyIsEnumerable,M8=(e,t,n)=>t in e?Dxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Bxe=(e,t)=>{for(var n in t||(t={}))Mxe.call(t,n)&&M8(e,n,t[n]);if(L8)for(var n of L8(t))Fxe.call(t,n)&&M8(e,n,t[n]);return e},jxe=(e,t)=>$xe(e,Lxe(t));function Uxe(e,t,n){return typeof e<"u"?e in n.headings.sizes?n.headings.sizes[e].fontSize:e:n.headings.sizes[t].fontSize}function Vxe(e,t,n){return typeof e<"u"&&e in n.headings.sizes?n.headings.sizes[e].lineHeight:n.headings.sizes[t].lineHeight}var zxe=at((e,{element:t,weight:n,size:r,inline:i})=>({root:jxe(Bxe({},e.fn.fontStyles()),{fontFamily:e.headings.fontFamily,fontWeight:n||e.headings.sizes[t].fontWeight||e.headings.fontWeight,fontSize:Uxe(r,t,e),lineHeight:i?1:Vxe(r,t,e),margin:0})}));const Hxe=zxe;var Wxe=Object.defineProperty,Ow=Object.getOwnPropertySymbols,CQ=Object.prototype.hasOwnProperty,AQ=Object.prototype.propertyIsEnumerable,F8=(e,t,n)=>t in e?Wxe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qxe=(e,t)=>{for(var n in t||(t={}))CQ.call(t,n)&&F8(e,n,t[n]);if(Ow)for(var n of Ow(t))AQ.call(t,n)&&F8(e,n,t[n]);return e},Gxe=(e,t)=>{var n={};for(var r in e)CQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Ow)for(var r of Ow(e))t.indexOf(r)<0&&AQ.call(e,r)&&(n[r]=e[r]);return n};const Yxe={order:1},lc=w.forwardRef((e,t)=>{const n=ht("Title",Yxe,e),{className:r,order:i,children:s,unstyled:o,size:a,weight:u,inline:l}=n,c=Gxe(n,["className","order","children","unstyled","size","weight","inline"]),{classes:f,cx:d}=Hxe({element:`h${i}`,weight:u,size:a,inline:l},{name:"Title",unstyled:o});return[1,2,3,4,5,6].includes(i)?k.createElement(Ct,qxe({component:`h${i}`,ref:t,className:d(f.root,r)},c),s):null});lc.displayName="@mantine/core/Title";function $P(e){const t=e.split("/")||[];return t[(t==null?void 0:t.length)-1].replace(/\.[^\.]+$/,"").replace(".","_").replace(" ","_").replace("/","_")}const Kxe="https://github.com/revisit-studies/study/tree/main/public/",Qxe=({globalConfig:e,studyConfigs:t})=>{const{configsList:n}=e,r=Yd();return $.jsxs(RY,{size:"xs",px:"xs",style:{marginTop:100,marginBottom:100},children:[$.jsx(x_,{maw:150,mx:"auto",mb:"xl",radius:"md",src:`${Lu}assets/revisitLogoSquare.svg`,alt:"reVISit"}),$.jsx(Ct,{children:"Select an experiment to launch:"}),n.map(i=>{const s=t[i];if(!s)return null;const o=$P(i);return $.jsx(ek,{onClick:()=>{r(`/${o}`)},my:"sm",style:{width:"100%"},children:$.jsxs(O1e,{shadow:"sm",radius:"md",withBorder:!0,children:[$.jsx(Ct,{fw:"bold",children:s.studyMetadata.title}),$.jsxs(Ct,{c:"dimmed",children:["Authors: ",s.studyMetadata.authors]}),$.jsx(Ct,{c:"dimmed",children:s.studyMetadata.description}),$.jsx(Ct,{c:"dimmed",ta:"right",style:{paddingRight:5},children:$.jsxs(mq,{target:"_blank",onClick:a=>a.stopPropagation(),href:`${Kxe}${o}`,children:["View source: ",o]})})]})},i)})]})};var OQ={exports:{}},PQ={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kp=w;function Xxe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Jxe=typeof Object.is=="function"?Object.is:Xxe,Zxe=Kp.useState,eCe=Kp.useEffect,tCe=Kp.useLayoutEffect,nCe=Kp.useDebugValue;function rCe(e,t){var n=t(),r=Zxe({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return tCe(function(){i.value=n,i.getSnapshot=t,UC(i)&&s({inst:i})},[e,n,t]),eCe(function(){return UC(i)&&s({inst:i}),e(function(){UC(i)&&s({inst:i})})},[e]),nCe(n),n}function UC(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Jxe(e,n)}catch{return!0}}function iCe(e,t){return t()}var sCe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?iCe:rCe;PQ.useSyncExternalStore=Kp.useSyncExternalStore!==void 0?Kp.useSyncExternalStore:sCe;OQ.exports=PQ;var oCe=OQ.exports,RQ={exports:{}},NQ={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WS=w,aCe=oCe;function uCe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var lCe=typeof Object.is=="function"?Object.is:uCe,cCe=aCe.useSyncExternalStore,fCe=WS.useRef,dCe=WS.useEffect,hCe=WS.useMemo,pCe=WS.useDebugValue;NQ.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var s=fCe(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=hCe(function(){function u(h){if(!l){if(l=!0,c=h,h=r(h),i!==void 0&&o.hasValue){var p=o.value;if(i(p,h))return f=p}return f=h}if(p=f,lCe(c,h))return p;var m=r(h);return i!==void 0&&i(p,m)?p:(c=h,f=m)}var l=!1,c,f,d=n===void 0?null:n;return[function(){return u(t())},d===null?void 0:function(){return u(d())}]},[t,n,r,i]);var a=cCe(e,s[0],s[1]);return dCe(function(){o.hasValue=!0,o.value=a},[a]),pCe(a),a};RQ.exports=NQ;var mCe=RQ.exports;function gCe(e){e()}let kQ=gCe;const yCe=e=>kQ=e,_Ce=()=>kQ,Jc=w.createContext(null);function DQ(){return w.useContext(Jc)}const vCe=()=>{throw new Error("uSES not initialized!")};let $Q=vCe;const bCe=e=>{$Q=e},ECe=(e,t)=>e===t;function wCe(e=Jc){const t=e===Jc?DQ:()=>w.useContext(e);return function(r,i=ECe){const{store:s,subscription:o,getServerState:a}=t(),u=$Q(o.addNestedSub,s.getState,a||s.getState,r,i);return w.useDebugValue(u),u}}const TCe=wCe();var Fn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ik=Symbol.for("react.element"),xk=Symbol.for("react.portal"),qS=Symbol.for("react.fragment"),GS=Symbol.for("react.strict_mode"),YS=Symbol.for("react.profiler"),KS=Symbol.for("react.provider"),QS=Symbol.for("react.context"),SCe=Symbol.for("react.server_context"),XS=Symbol.for("react.forward_ref"),JS=Symbol.for("react.suspense"),ZS=Symbol.for("react.suspense_list"),eI=Symbol.for("react.memo"),tI=Symbol.for("react.lazy"),ICe=Symbol.for("react.offscreen"),LQ;LQ=Symbol.for("react.module.reference");function Yo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Ik:switch(e=e.type,e){case qS:case YS:case GS:case JS:case ZS:return e;default:switch(e=e&&e.$$typeof,e){case SCe:case QS:case XS:case tI:case eI:case KS:return e;default:return t}}case xk:return t}}}Fn.ContextConsumer=QS;Fn.ContextProvider=KS;Fn.Element=Ik;Fn.ForwardRef=XS;Fn.Fragment=qS;Fn.Lazy=tI;Fn.Memo=eI;Fn.Portal=xk;Fn.Profiler=YS;Fn.StrictMode=GS;Fn.Suspense=JS;Fn.SuspenseList=ZS;Fn.isAsyncMode=function(){return!1};Fn.isConcurrentMode=function(){return!1};Fn.isContextConsumer=function(e){return Yo(e)===QS};Fn.isContextProvider=function(e){return Yo(e)===KS};Fn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ik};Fn.isForwardRef=function(e){return Yo(e)===XS};Fn.isFragment=function(e){return Yo(e)===qS};Fn.isLazy=function(e){return Yo(e)===tI};Fn.isMemo=function(e){return Yo(e)===eI};Fn.isPortal=function(e){return Yo(e)===xk};Fn.isProfiler=function(e){return Yo(e)===YS};Fn.isStrictMode=function(e){return Yo(e)===GS};Fn.isSuspense=function(e){return Yo(e)===JS};Fn.isSuspenseList=function(e){return Yo(e)===ZS};Fn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===qS||e===YS||e===GS||e===JS||e===ZS||e===ICe||typeof e=="object"&&e!==null&&(e.$$typeof===tI||e.$$typeof===eI||e.$$typeof===KS||e.$$typeof===QS||e.$$typeof===XS||e.$$typeof===LQ||e.getModuleId!==void 0)};Fn.typeOf=Yo;function xCe(){const e=_Ce();let t=null,n=null;return{clear(){t=null,n=null},notify(){e(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=t;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,s=n={callback:r,next:null,prev:n};return s.prev?s.prev.next=s:t=s,function(){!i||t===null||(i=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}const B8={notify(){},get:()=>[]};function CCe(e,t){let n,r=B8;function i(f){return u(),r.subscribe(f)}function s(){r.notify()}function o(){c.onStateChange&&c.onStateChange()}function a(){return!!n}function u(){n||(n=t?t.addNestedSub(o):e.subscribe(o),r=xCe())}function l(){n&&(n(),n=void 0,r.clear(),r=B8)}const c={addNestedSub:i,notifyNestedSubs:s,handleChangeWrapper:o,isSubscribed:a,trySubscribe:u,tryUnsubscribe:l,getListeners:()=>r};return c}const ACe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",OCe=ACe?w.useLayoutEffect:w.useEffect;function PCe({store:e,context:t,children:n,serverState:r}){const i=w.useMemo(()=>{const a=CCe(e);return{store:e,subscription:a,getServerState:r?()=>r:void 0}},[e,r]),s=w.useMemo(()=>e.getState(),[e]);OCe(()=>{const{subscription:a}=i;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),s!==e.getState()&&a.notifyNestedSubs(),()=>{a.tryUnsubscribe(),a.onStateChange=void 0}},[i,s]);const o=t||Jc;return k.createElement(o.Provider,{value:i},n)}function MQ(e=Jc){const t=e===Jc?DQ:()=>w.useContext(e);return function(){const{store:r}=t();return r}}const RCe=MQ();function NCe(e=Jc){const t=e===Jc?RCe:MQ(e);return function(){return t().dispatch}}const FQ=NCe();bCe(mCe.useSyncExternalStoreWithSelector);yCe(y_.unstable_batchedUpdates);const kCe={},DCe=Object.freeze(Object.defineProperty({__proto__:null,default:kCe},Symbol.toStringTag,{value:"Module"})),$Ce=rue(DCe);var LCe=$Ce;function MCe(e,t){var n,r="",i=0,s=!0,o=0,a;function u(){return a=e.charAt(o),o++,a}for(u(),a==="-"&&(r="-",u());a>="0"&&a<="9";)s&&(a=="0"?i++:s=!1),r+=a,u();if(s&&i--,a===".")for(r+=".";u()&&a>="0"&&a<="9";)r+=a;if(a==="e"||a==="E")for(r+=a,u(),(a==="-"||a==="+")&&(r+=a,u());a>="0"&&a<="9";)r+=a,u();for(;a&&a<=" ";)u();if(t&&(a===","||a==="}"||a==="]"||a==="#"||a==="/"&&(e[o]==="/"||e[o]==="*"))&&(a=0),n=+r,!(a||i||!isFinite(n)))return n}function FCe(e,t){return Object.defineProperty&&Object.defineProperty(e,"__COMMENTS__",{enumerable:!1,writable:!0}),e.__COMMENTS__=t||{}}function BCe(e){Object.defineProperty(e,"__COMMENTS__",{value:void 0})}function jCe(e){return e.__COMMENTS__}function UCe(e){if(!e)return"";var t=e.split(`
`),n,r,i,s;for(i=0;i<t.length;i++)for(n=t[i],s=n.length,r=0;r<s;r++){var o=n[r];if(o==="#")break;if(o==="/"&&(n[r+1]==="/"||n[r+1]==="*")){n[r+1]==="*"&&(i=t.length);break}else if(o>" "){t[i]="# "+n;break}}return t.join(`
`)}var nI={EOL:LCe.EOL||`
`,tryParseNumber:MCe,createComment:FCe,removeComment:BCe,getComment:jCe,forceComment:UCe},VCe="3.2.1";function zCe(e,t){if(Object.prototype.toString.apply(e)!=="[object Array]"){if(e)throw new Error("dsf option must contain an array!");return j8}else if(e.length===0)return j8;var n=[];function r(i){return{}.toString.call(i)==="[object Function]"}return e.forEach(function(i){if(!i.name||!r(i.parse)||!r(i.stringify))throw new Error("extension does not match the DSF interface");n.push(function(){try{if(t=="parse")return i.parse.apply(null,arguments);if(t=="stringify"){var s=i.stringify.apply(null,arguments);if(s!==void 0&&(typeof s!="string"||s.length===0||s[0]==='"'||[].some.call(s,function(o){return WCe(o)})))throw new Error("value may not be empty, start with a quote or contain a punctuator character except colon: "+s);return s}else throw new Error("Invalid type")}catch(o){throw new Error("DSF-"+i.name+" failed; "+o.message)}})}),HCe.bind(null,n)}function HCe(e,t){if(e)for(var n=0;n<e.length;n++){var r=e[n](t);if(r!==void 0)return r}}function j8(){}function WCe(e){return e==="{"||e==="}"||e==="["||e==="]"||e===","}function BQ(){return{name:"math",parse:function(e){switch(e){case"+inf":case"inf":case"+Inf":case"Inf":return 1/0;case"-inf":case"-Inf":return-1/0;case"nan":case"NaN":return NaN}},stringify:function(e){if(typeof e=="number"){if(1/e===-1/0)return"-0";if(e===1/0)return"Inf";if(e===-1/0)return"-Inf";if(isNaN(e))return"NaN"}}}}BQ.description="support for Inf/inf, -Inf/-inf, Nan/naN and -0";function jQ(e){var t=e&&e.out;return{name:"hex",parse:function(n){if(/^0x[0-9A-Fa-f]+$/.test(n))return parseInt(n,16)},stringify:function(n){if(t&&Number.isInteger(n))return"0x"+n.toString(16)}}}jQ.description="parse hexadecimal numbers prefixed with 0x";function UQ(){return{name:"date",parse:function(e){if(/^\d{4}-\d{2}-\d{2}$/.test(e)||/^\d{4}-\d{2}-\d{2}T\d{2}\:\d{2}\:\d{2}(?:.\d+)(?:Z|[+-]\d{2}:\d{2})$/.test(e)){var t=Date.parse(e);if(!isNaN(t))return new Date(t)}},stringify:function(e){if(Object.prototype.toString.call(e)==="[object Date]"){var t=e.toISOString();return t.indexOf("T00:00:00.000Z",t.length-14)!==-1?t.substr(0,10):t}}}}UQ.description="support ISO dates";var Ck={loadDsf:zCe,std:{math:BQ,hex:jQ,date:UQ}},qCe=function(e,t){var n=nI,r=Ck,i,s,o,a={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},u,l;function c(){s=0,o=" "}function f(H){return H==="{"||H==="}"||H==="["||H==="]"||H===","||H===":"}function d(H){var ue,ie=0,_e=1;for(ue=s-1;ue>0&&i[ue]!==`
`;ue--,ie++);for(;ue>0;ue--)i[ue]===`
`&&_e++;throw new Error(H+" at line "+_e+","+ie+" >>>"+i.substr(s-ie,20)+" ...")}function h(){return o=i.charAt(s),s++,o}function p(H){return i.charAt(s+H)}function m(H){for(var ue="",ie=o;h();){if(o===ie)return h(),H&&ie==="'"&&o==="'"&&ue.length===0?(h(),y()):ue;if(o==="\\")if(h(),o==="u"){for(var _e=0,te=0;te<4;te++){h();var oe=o.charCodeAt(0),J;o>="0"&&o<="9"?J=oe-48:o>="a"&&o<="f"?J=oe-97+10:o>="A"&&o<="F"?J=oe-65+10:d("Bad \\u char "+o),_e=_e*16+J}ue+=String.fromCharCode(_e)}else if(typeof a[o]=="string")ue+=a[o];else break;else o===`
`||o==="\r"?d("Bad string containing newline"):ue+=o}d("Bad string")}function y(){for(var H="",ue=0,ie=0;;){var _e=p(-ie-5);if(!_e||_e===`
`)break;ie++}function te(){for(var oe=ie;o&&o<=" "&&o!==`
`&&oe-- >0;)h()}for(;o&&o<=" "&&o!==`
`;)h();for(o===`
`&&(h(),te());;){if(!o)d("Bad multiline string");else if(o==="'"){if(ue++,h(),ue===3)return H.slice(-1)===`
`&&(H=H.slice(0,-1)),H;continue}else for(;ue>0;)H+="'",ue--;o===`
`?(H+=`
`,h(),te()):(o!=="\r"&&(H+=o),h())}}function g(){if(o==='"'||o==="'")return m(!1);for(var H="",ue=s,ie=-1;;){if(o===":")return H?ie>=0&&ie!==H.length&&(s=ue+ie,d("Found whitespace in your key name (use quotes to include)")):d("Found ':' but no key name (for an empty key name use quotes)"),H;o<=" "?o?ie<0&&(ie=H.length):d("Found EOF while looking for a key name (check your syntax)"):f(o)?d("Found '"+o+"' where a key name was expected (check your syntax or use quotes if the key name includes {}[],: or whitespace)"):H+=o,h()}}function _(){for(;o;){for(;o&&o<=" ";)h();if(o==="#"||o==="/"&&p(0)==="/")for(;o&&o!==`
`;)h();else if(o==="/"&&p(0)==="*"){for(h(),h();o&&!(o==="*"&&p(0)==="/");)h();o&&(h(),h())}else break}}function b(){var H=o;for(f(o)&&d("Found a punctuator character '"+o+"' when expecting a quoteless string (check your syntax)");;){h();var ue=o==="\r"||o===`
`||o==="";if(ue||o===","||o==="}"||o==="]"||o==="#"||o==="/"&&(p(0)==="/"||p(0)==="*")){var ie=H[0];switch(ie){case"f":if(H.trim()==="false")return!1;break;case"n":if(H.trim()==="null")return null;break;case"t":if(H.trim()==="true")return!0;break;default:if(ie==="-"||ie>="0"&&ie<="9"){var _e=n.tryParseNumber(H);if(_e!==void 0)return _e}}if(ue){H=H.trim();var te=l(H);return te!==void 0?te:H}}H+=o}}function T(H,ue){var ie;for(H--,ie=s-2;ie>H&&i[ie]<=" "&&i[ie]!==`
`;ie--);i[ie]===`
`&&ie--,i[ie]==="\r"&&ie--;var _e=i.substr(H,ie-H+1);for(ie=0;ie<_e.length;ie++)if(_e[ie]>" "){var te=_e.indexOf(`
`);if(te>=0){var oe=[_e.substr(0,te),_e.substr(te+1)];return ue&&oe[0].trim().length===0&&oe.shift(),oe}else return[_e]}return[]}function I(H){function ue(_e,te){var oe,J,x,C;switch(typeof _e){case"string":_e.indexOf(te)>=0&&(C=_e);break;case"object":if(Object.prototype.toString.apply(_e)==="[object Array]")for(oe=0,x=_e.length;oe<x;oe++)C=ue(_e[oe],te)||C;else for(J in _e)Object.prototype.hasOwnProperty.call(_e,J)&&(C=ue(_e[J],te)||C)}return C}function ie(_e){var te=ue(H,_e);return te?"found '"+_e+`' in a string value, your mistake could be with:
  > `+te+`
  (unquoted strings contain everything up to the next line!)`:""}return ie("}")||ie("]")}function E(){var H=[],ue,ie,_e;try{if(u&&(ue=n.createComment(H,{a:[]})),h(),ie=s,_(),ue&&(_e=T(ie,!0).join(`
`)),o==="]")return h(),ue&&(ue.e=[_e]),H;for(;o;){if(H.push(A()),ie=s,_(),o===","&&(h(),ie=s,_()),ue){var te=T(ie);ue.a.push([_e||"",te[0]||""]),_e=te[1]}if(o==="]")return h(),ue&&(ue.a[ue.a.length-1][1]+=_e||""),H;_()}d("End of input while parsing an array (missing ']')")}catch(oe){throw oe.hint=oe.hint||I(H),oe}}function S(H){var ue="",ie={},_e,te,oe;try{if(u&&(_e=n.createComment(ie,{c:{},o:[]})),H?te=1:(h(),te=s),_(),_e&&(oe=T(te,!0).join(`
`)),o==="}"&&!H)return _e&&(_e.e=[oe]),h(),ie;for(;o;){if(ue=g(),_(),o!==":"&&d("Expected ':' instead of '"+o+"'"),h(),ie[ue]=A(),te=s,_(),o===","&&(h(),te=s,_()),_e){var J=T(te);_e.c[ue]=[oe||"",J[0]||""],oe=J[1],_e.o.push(ue)}if(o==="}"&&!H)return h(),_e&&(_e.c[ue][1]+=oe||""),ie;_()}if(H)return ie;d("End of input while parsing an object (missing '}')")}catch(x){throw x.hint=x.hint||I(ie),x}}function A(){switch(_(),o){case"{":return S();case"[":return E();case"'":case'"':return m(!0);default:return b()}}function L(H,ue){var ie=s;if(_(),o&&d("Syntax error, found trailing characters"),u){var _e=ue.join(`
`),te=T(ie).join(`
`);if(te||_e){var oe=n.createComment(H,n.getComment(H));oe.r=[_e,te]}}return H}function W(){_();var H=u?T(1):null;switch(o){case"{":return L(S(),H);case"[":return L(E(),H);default:return L(A(),H)}}function z(){_();var H=u?T(1):null;switch(o){case"{":return L(S(),H);case"[":return L(E(),H)}try{return L(S(!0),H)}catch(ue){c();try{return L(A(),H)}catch{throw ue}}}if(typeof e!="string")throw new Error("source is not a string");var U=null,Z=!0;return t&&typeof t=="object"&&(u=t.keepWsc,U=t.dsf,Z=t.legacyRoot!==!1),l=r.loadDsf(U,"parse"),i=e,c(),Z?z():W()},GCe=function(e,t){var n=nI,r=Ck,i={obj:["{","}"],arr:["[","]"],key:["",""],qkey:['"','"'],col:[":",""],com:[",",""],str:["",""],qstr:['"','"'],mstr:["'''","'''"],num:["",""],lit:["",""],dsf:["",""],esc:["\\",""],uni:["\\u",""],rem:["",""]},s=n.EOL,o="  ",a=!1,u=!1,l=!1,c=!1,f=0,d=1,h="",p=null,m=!1,y=i;if(t&&typeof t=="object"){t.quotes=t.quotes==="always"?"strings":t.quotes,(t.eol===`
`||t.eol===`\r
`)&&(s=t.eol),a=t.keepWsc,f=t.condense||0,u=t.bracesSameLine,l=t.quotes==="all"||t.quotes==="keys",c=t.quotes==="all"||t.quotes==="strings"||t.separator===!0,c||t.multiline=="off"?d=0:d=t.multiline=="no-tabs"?2:1,h=t.separator===!0?y.com[0]:"",p=t.dsf,m=t.sortProps,typeof t.space=="number"?o=new Array(t.space+1).join(" "):typeof t.space=="string"&&(o=t.space),t.colors===!0&&(y={obj:["\x1B[37m{\x1B[0m","\x1B[37m}\x1B[0m"],arr:["\x1B[37m[\x1B[0m","\x1B[37m]\x1B[0m"],key:["\x1B[33m","\x1B[0m"],qkey:['\x1B[33m"','"\x1B[0m'],col:["\x1B[37m:\x1B[0m",""],com:["\x1B[37m,\x1B[0m",""],str:["\x1B[37;1m","\x1B[0m"],qstr:['\x1B[37;1m"','"\x1B[0m'],mstr:["\x1B[37;1m'''","'''\x1B[0m"],num:["\x1B[36;1m","\x1B[0m"],lit:["\x1B[36m","\x1B[0m"],dsf:["\x1B[37m","\x1B[0m"],esc:["\x1B[31m\\","\x1B[0m"],uni:["\x1B[31m\\u","\x1B[0m"],rem:["\x1B[35m","\x1B[0m"]});var g,_=Object.keys(i);for(g=_.length-1;g>=0;g--){var b=_[g];y[b].push(i[b][0].length,i[b][1].length)}}var T,I="---\u2028--\uFEFF-",E=new RegExp('[\\\\\\"\0-'+I+"]","g"),S=new RegExp(`^\\s|^"|^'|^#|^\\/\\*|^\\/\\/|^\\{|^\\}|^\\[|^\\]|^:|^,|\\s$|[\0-`+I+"]","g"),A=new RegExp("'''|^[\\s]+$|[\0-"+(d===2?"	":"\b")+"\v\f-"+I+"]","g"),L=new RegExp("^(true|false|null)\\s*((,|\\]|\\}|#|//|/\\*).*)?$"),W={"\b":"b","	":"t","\n":"n","\f":"f","\r":"r",'"':'"',"\\":"\\"},z=/[,\{\[\}\]\s:#"']|\/\/|\/\*/,U="",Z=0;function H(C,B){return Z+=C[0].length+C[1].length-C[2]-C[3],C[0]+B+C[1]}function ue(C){return C.replace(E,function(B){var P=W[B];return typeof P=="string"?H(y.esc,P):H(y.uni,("0000"+B.charCodeAt(0).toString(16)).slice(-4))})}function ie(C,B,P,O){return C?(S.lastIndex=0,L.lastIndex=0,c||P||S.test(C)||n.tryParseNumber(C,!0)!==void 0||L.test(C)?(E.lastIndex=0,A.lastIndex=0,E.test(C)?!A.test(C)&&!O&&d?_e(C,B):H(y.qstr,ue(C)):H(y.qstr,C)):H(y.str,C)):H(y.qstr,"")}function _e(C,B){var P,O=C.replace(/\r/g,"").split(`
`);if(B+=o,O.length===1)return H(y.mstr,O[0]);var G=s+B+y.mstr[0];for(P=0;P<O.length;P++)G+=s,O[P]&&(G+=B+O[P]);return G+s+B+y.mstr[1]}function te(C){return C?l||z.test(C)?(E.lastIndex=0,H(y.qkey,E.test(C)?ue(C):C)):H(y.key,C):'""'}function oe(C,B,P,O){function G(Ze){return Ze&&Ze[Ze[0]==="\r"?1:0]===`
`}function fe(Ze){return Ze&&!G(Ze)}function le(Ze,bn,Wt){if(!Ze)return"";Ze=n.forceComment(Ze);var St,Bn=Ze.length;for(St=0;St<Bn&&Ze[St]<=" ";St++);return Wt&&St>0&&(Ze=Ze.substr(St)),St<Bn?bn+H(y.rem,Ze):Ze}var me=T(C);if(me!==void 0)return H(y.dsf,me);switch(typeof C){case"string":return ie(C,U,B,O);case"number":return isFinite(C)?H(y.num,String(C)):H(y.lit,"null");case"boolean":return H(y.lit,String(C));case"object":if(!C)return H(y.lit,"null");var ge;a&&(ge=n.getComment(C));var Se=Object.prototype.toString.apply(C)==="[object Array]",de=U;U+=o;var st=s+de,Ke=s+U,qe=P||u?"":st,$e=[],ot,ut=f?[]:null,On=c,Ue=d,Be=h?"":y.com[0],bt=0,je,gt,Yt,an,Yn,ce,we,Le,rt;if(Se){for(je=0,gt=C.length;je<gt;je++){if(ot=je<gt-1,ge?(ce=ge.a[je]||[],we=fe(ce[1]),$e.push(le(ce[0],`
`)+Ke),ut&&(ce[0]||ce[1]||we)&&(ut=null)):$e.push(Ke),Z=0,an=C[je],$e.push(oe(an,ge?we:!1,!0)+(ot?h:"")),ut){switch(typeof an){case"string":Z=0,c=!0,d=0,ut.push(oe(an,!1,!0)+(ot?y.com[0]:"")),c=On,d=Ue;break;case"object":if(an){ut=null;break}default:ut.push($e[$e.length-1]+(ot?Be:""));break}ot&&(Z+=y.com[0].length-y.com[2]),bt+=Z}ge&&ce[1]&&$e.push(le(ce[1],we?" ":`
`,we))}gt===0?ge&&ge.e&&$e.push(le(ge.e[0],`
`)+st):$e.push(st),$e.length===0?Le=H(y.arr,""):(Le=qe+H(y.arr,$e.join("")),ut&&(rt=ut.join(" "),rt.length-bt<=f&&(Le=H(y.arr,rt))))}else{var De=ge?ge.o.slice():[],it=[];for(Yt in C)Object.prototype.hasOwnProperty.call(C,Yt)&&De.indexOf(Yt)<0&&it.push(Yt);m&&it.sort();var Me=De.concat(it);for(je=0,gt=Me.length;je<gt;je++)if(ot=je<gt-1,Yt=Me[je],ge?(ce=ge.c[Yt]||[],we=fe(ce[1]),$e.push(le(ce[0],`
`)+Ke),ut&&(ce[0]||ce[1]||we)&&(ut=null)):$e.push(Ke),Z=0,an=C[Yt],Yn=oe(an,ge&&we),$e.push(te(Yt)+y.col[0]+(G(Yn)?"":" ")+Yn+(ot?h:"")),ge&&ce[1]&&$e.push(le(ce[1],we?" ":`
`,we)),ut){switch(typeof an){case"string":Z=0,c=!0,d=0,Yn=oe(an,!1),c=On,d=Ue,ut.push(te(Yt)+y.col[0]+" "+Yn+(ot?y.com[0]:""));break;case"object":if(an){ut=null;break}default:ut.push($e[$e.length-1]+(ot?Be:""));break}Z+=y.col[0].length-y.col[2],ot&&(Z+=y.com[0].length-y.com[2]),bt+=Z}gt===0?ge&&ge.e&&$e.push(le(ge.e[0],`
`)+st):$e.push(st),$e.length===0?Le=H(y.obj,""):(Le=qe+H(y.obj,$e.join("")),ut&&(rt=ut.join(" "),rt.length-bt<=f&&(Le=H(y.obj,rt))))}return U=de,Le}}T=r.loadDsf(p,"stringify");var J="",x=a?x=(n.getComment(e)||{}).r:null;return x&&x[0]&&(J=x[0]+`
`),J+=oe(e,null,!0,!0),x&&(J+=x[1]||""),J},pp=nI;function Ig(e,t,n){var r;return e&&(r={b:e}),t&&((r=r||{}).a=t),n&&((r=r||{}).x=n),r}function LP(e,t){if(!(e===null||typeof e!="object")){var n=pp.getComment(e);n&&pp.removeComment(e);var r,i,s,o;if(Object.prototype.toString.apply(e)==="[object Array]"){for(o={a:{}},r=0,i=e.length;r<i;r++)U8(o.a,r,n.a[r],LP(e[r]))&&(s=!0);!s&&n.e&&(o.e=Ig(n.e[0],n.e[1]),s=!0)}else{o={s:{}};var a,u=Object.keys(e);for(n&&n.o?(a=[],n.o.concat(u).forEach(function(c){Object.prototype.hasOwnProperty.call(e,c)&&a.indexOf(c)<0&&a.push(c)})):a=u,o.o=a,r=0,i=a.length;r<i;r++){var l=a[r];U8(o.s,l,n.c[l],LP(e[l]))&&(s=!0)}!s&&n.e&&(o.e=Ig(n.e[0],n.e[1]),s=!0)}return t&&n&&n.r&&(o.r=Ig(n.r[0],n.r[1])),s?o:void 0}}function YCe(){var e="";return[].forEach.call(arguments,function(t){t&&t.trim()!==""&&(e&&(e+="; "),e+=t.trim())}),e}function KCe(e,t){var n=[];if(MP(e,t,n,[]),n.length>0){var r=Pw(t,null,1);r+=`
# Orphaned comments:
`,n.forEach(function(i){r+=("# "+i.path.join("/")+": "+YCe(i.b,i.a,i.e)).replace(`
`,"\\n ")+`
`}),Pw(t,r,1)}}function U8(e,t,n,r){var i=Ig(n?n[0]:void 0,n?n[1]:void 0,r);return i&&(e[t]=i),i}function xg(e,t){var n=Ig(t.b,t.a);return n.path=e,n}function Cg(e,t,n){if(e){var r,i;if(e.a)for(r=0,i=e.a.length;r<i;r++){var s=n.slice().concat([r]),o=e.a[r];o&&(t.push(xg(s,o)),Cg(o.x,t,s))}else e.o&&e.o.forEach(function(a){var u=n.slice().concat([a]),l=e.s[a];l&&(t.push(xg(u,l)),Cg(l.x,t,u))});e.e&&t.push(xg(n,e.e))}}function MP(e,t,n,r){if(e){if(t===null||typeof t!="object"){Cg(e,n,r);return}var i,s=pp.createComment(t);if(r.length===0&&e.r&&(s.r=[e.r.b,e.r.a]),Object.prototype.toString.apply(t)==="[object Array]"){s.a=[];var o=e.a||{};for(var a in o)if(o.hasOwnProperty(a)){i=parseInt(a);var u=e.a[a];if(u){var l=r.slice().concat([i]);i<t.length?(s.a[i]=[u.b,u.a],MP(u.x,t[i],n,l)):(n.push(xg(l,u)),Cg(u.x,n,l))}}i===0&&e.e&&(s.e=[e.e.b,e.e.a])}else s.c={},s.o=[],(e.o||[]).forEach(function(c){var f=r.slice().concat([c]),d=e.s[c];Object.prototype.hasOwnProperty.call(t,c)?(s.o.push(c),d&&(s.c[c]=[d.b,d.a],MP(d.x,t[c],n,f))):d&&(n.push(xg(f,d)),Cg(d.x,n,f))}),e.e&&(s.e=[e.e.b,e.e.a])}}function Pw(e,t,n){var r=pp.createComment(e,pp.getComment(e));return r.r||(r.r=["",""]),(t||t==="")&&(r.r[n]=pp.forceComment(t)),r.r[n]||""}var QCe={extract:function(e){return LP(e,!0)},merge:KCe,header:function(e,t){return Pw(e,t,0)},footer:function(e,t){return Pw(e,t,1)}};/*!
 * Hjson v3.2.1
 * https://hjson.github.io
 *
 * Copyright 2014-2017 Christian Zangl, MIT license
 * Details and documentation:
 * https://github.com/hjson/hjson-js
 *
 * This code is based on the the JSON version by Douglas Crockford:
 * https://github.com/douglascrockford/JSON-js (json_parse.js, json2.js)
 */var V8=nI,XCe=VCe,z8=qCe,H8=GCe,JCe=QCe,ZCe=Ck,Ak={parse:z8,stringify:H8,endOfLine:function(){return V8.EOL},setEndOfLine:function(e){(e===`
`||e===`\r
`)&&(V8.EOL=e)},version:XCe,rt:{parse:function(e,t){return(t=t||{}).keepWsc=!0,z8(e,t)},stringify:function(e,t){return(t=t||{}).keepWsc=!0,H8(e,t)}},comments:JCe,dsf:ZCe.std},FP={exports:{}},VQ={},Ea={},Qp={},C_={},Gt={},Ey={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends t{constructor(_){if(super(),!e.IDENTIFIER.test(_))throw new Error("CodeGen: name must be a valid identifier");this.str=_}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=n;class r extends t{constructor(_){super(),this._items=typeof _=="string"?[_]:_}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const _=this._items[0];return _===""||_==='""'}get str(){var _;return(_=this._str)!==null&&_!==void 0?_:this._str=this._items.reduce((b,T)=>`${b}${T}`,"")}get names(){var _;return(_=this._names)!==null&&_!==void 0?_:this._names=this._items.reduce((b,T)=>(T instanceof n&&(b[T.str]=(b[T.str]||0)+1),b),{})}}e._Code=r,e.nil=new r("");function i(g,..._){const b=[g[0]];let T=0;for(;T<_.length;)a(b,_[T]),b.push(g[++T]);return new r(b)}e._=i;const s=new r("+");function o(g,..._){const b=[h(g[0])];let T=0;for(;T<_.length;)b.push(s),a(b,_[T]),b.push(s,h(g[++T]));return u(b),new r(b)}e.str=o;function a(g,_){_ instanceof r?g.push(..._._items):_ instanceof n?g.push(_):g.push(f(_))}e.addCodeArg=a;function u(g){let _=1;for(;_<g.length-1;){if(g[_]===s){const b=l(g[_-1],g[_+1]);if(b!==void 0){g.splice(_-1,3,b);continue}g[_++]="+"}_++}}function l(g,_){if(_==='""')return g;if(g==='""')return _;if(typeof g=="string")return _ instanceof n||g[g.length-1]!=='"'?void 0:typeof _!="string"?`${g.slice(0,-1)}${_}"`:_[0]==='"'?g.slice(0,-1)+_.slice(1):void 0;if(typeof _=="string"&&_[0]==='"'&&!(g instanceof n))return`"${g}${_.slice(1)}`}function c(g,_){return _.emptyStr()?g:g.emptyStr()?_:o`${g}${_}`}e.strConcat=c;function f(g){return typeof g=="number"||typeof g=="boolean"||g===null?g:h(Array.isArray(g)?g.join(","):g)}function d(g){return new r(h(g))}e.stringify=d;function h(g){return JSON.stringify(g).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=h;function p(g){return typeof g=="string"&&e.IDENTIFIER.test(g)?new r(`.${g}`):i`[${g}]`}e.getProperty=p;function m(g){if(typeof g=="string"&&e.IDENTIFIER.test(g))return new r(`${g}`);throw new Error(`CodeGen: invalid export name: ${g}, use explicit $id name mapping`)}e.getEsmExportName=m;function y(g){return new r(g.toString())}e.regexpCode=y})(Ey);var BP={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=Ey;class n extends Error{constructor(l){super(`CodeGen: "code" for ${l} not defined`),this.value=l.value}}var r;(function(u){u[u.Started=0]="Started",u[u.Completed=1]="Completed"})(r=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class i{constructor({prefixes:l,parent:c}={}){this._names={},this._prefixes=l,this._parent=c}toName(l){return l instanceof t.Name?l:this.name(l)}name(l){return new t.Name(this._newName(l))}_newName(l){const c=this._names[l]||this._nameGroup(l);return`${l}${c.index++}`}_nameGroup(l){var c,f;if(!((f=(c=this._parent)===null||c===void 0?void 0:c._prefixes)===null||f===void 0)&&f.has(l)||this._prefixes&&!this._prefixes.has(l))throw new Error(`CodeGen: prefix "${l}" is not allowed in this scope`);return this._names[l]={prefix:l,index:0}}}e.Scope=i;class s extends t.Name{constructor(l,c){super(c),this.prefix=l}setValue(l,{property:c,itemIndex:f}){this.value=l,this.scopePath=(0,t._)`.${new t.Name(c)}[${f}]`}}e.ValueScopeName=s;const o=(0,t._)`\n`;class a extends i{constructor(l){super(l),this._values={},this._scope=l.scope,this.opts={...l,_n:l.lines?o:t.nil}}get(){return this._scope}name(l){return new s(l,this._newName(l))}value(l,c){var f;if(c.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const d=this.toName(l),{prefix:h}=d,p=(f=c.key)!==null&&f!==void 0?f:c.ref;let m=this._values[h];if(m){const _=m.get(p);if(_)return _}else m=this._values[h]=new Map;m.set(p,d);const y=this._scope[h]||(this._scope[h]=[]),g=y.length;return y[g]=c.ref,d.setValue(c,{property:h,itemIndex:g}),d}getValue(l,c){const f=this._values[l];if(f)return f.get(c)}scopeRefs(l,c=this._values){return this._reduceValues(c,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,t._)`${l}${f.scopePath}`})}scopeCode(l=this._values,c,f){return this._reduceValues(l,d=>{if(d.value===void 0)throw new Error(`CodeGen: name "${d}" has no value`);return d.value.code},c,f)}_reduceValues(l,c,f={},d){let h=t.nil;for(const p in l){const m=l[p];if(!m)continue;const y=f[p]=f[p]||new Map;m.forEach(g=>{if(y.has(g))return;y.set(g,r.Started);let _=c(g);if(_){const b=this.opts.es5?e.varKinds.var:e.varKinds.const;h=(0,t._)`${h}${b} ${g} = ${_};${this.opts._n}`}else if(_=d==null?void 0:d(g))h=(0,t._)`${h}${_}${this.opts._n}`;else throw new n(g);y.set(g,r.Completed)})}return h}}e.ValueScope=a})(BP);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=Ey,n=BP;var r=Ey;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return r.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return r.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return r.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}});var i=BP;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class s{optimizeNodes(){return this}optimizeNames(P,O){return this}}class o extends s{constructor(P,O,G){super(),this.varKind=P,this.name=O,this.rhs=G}render({es5:P,_n:O}){const G=P?n.varKinds.var:this.varKind,fe=this.rhs===void 0?"":` = ${this.rhs}`;return`${G} ${this.name}${fe};`+O}optimizeNames(P,O){if(P[this.name.str])return this.rhs&&(this.rhs=H(this.rhs,P,O)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class a extends s{constructor(P,O,G){super(),this.lhs=P,this.rhs=O,this.sideEffects=G}render({_n:P}){return`${this.lhs} = ${this.rhs};`+P}optimizeNames(P,O){if(!(this.lhs instanceof t.Name&&!P[this.lhs.str]&&!this.sideEffects))return this.rhs=H(this.rhs,P,O),this}get names(){const P=this.lhs instanceof t.Name?{}:{...this.lhs.names};return Z(P,this.rhs)}}class u extends a{constructor(P,O,G,fe){super(P,G,fe),this.op=O}render({_n:P}){return`${this.lhs} ${this.op}= ${this.rhs};`+P}}class l extends s{constructor(P){super(),this.label=P,this.names={}}render({_n:P}){return`${this.label}:`+P}}class c extends s{constructor(P){super(),this.label=P,this.names={}}render({_n:P}){return`break${this.label?` ${this.label}`:""};`+P}}class f extends s{constructor(P){super(),this.error=P}render({_n:P}){return`throw ${this.error};`+P}get names(){return this.error.names}}class d extends s{constructor(P){super(),this.code=P}render({_n:P}){return`${this.code};`+P}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(P,O){return this.code=H(this.code,P,O),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class h extends s{constructor(P=[]){super(),this.nodes=P}render(P){return this.nodes.reduce((O,G)=>O+G.render(P),"")}optimizeNodes(){const{nodes:P}=this;let O=P.length;for(;O--;){const G=P[O].optimizeNodes();Array.isArray(G)?P.splice(O,1,...G):G?P[O]=G:P.splice(O,1)}return P.length>0?this:void 0}optimizeNames(P,O){const{nodes:G}=this;let fe=G.length;for(;fe--;){const le=G[fe];le.optimizeNames(P,O)||(ue(P,le.names),G.splice(fe,1))}return G.length>0?this:void 0}get names(){return this.nodes.reduce((P,O)=>U(P,O.names),{})}}class p extends h{render(P){return"{"+P._n+super.render(P)+"}"+P._n}}class m extends h{}class y extends p{}y.kind="else";class g extends p{constructor(P,O){super(O),this.condition=P}render(P){let O=`if(${this.condition})`+super.render(P);return this.else&&(O+="else "+this.else.render(P)),O}optimizeNodes(){super.optimizeNodes();const P=this.condition;if(P===!0)return this.nodes;let O=this.else;if(O){const G=O.optimizeNodes();O=this.else=Array.isArray(G)?new y(G):G}if(O)return P===!1?O instanceof g?O:O.nodes:this.nodes.length?this:new g(ie(P),O instanceof g?[O]:O.nodes);if(!(P===!1||!this.nodes.length))return this}optimizeNames(P,O){var G;if(this.else=(G=this.else)===null||G===void 0?void 0:G.optimizeNames(P,O),!!(super.optimizeNames(P,O)||this.else))return this.condition=H(this.condition,P,O),this}get names(){const P=super.names;return Z(P,this.condition),this.else&&U(P,this.else.names),P}}g.kind="if";class _ extends p{}_.kind="for";class b extends _{constructor(P){super(),this.iteration=P}render(P){return`for(${this.iteration})`+super.render(P)}optimizeNames(P,O){if(super.optimizeNames(P,O))return this.iteration=H(this.iteration,P,O),this}get names(){return U(super.names,this.iteration.names)}}class T extends _{constructor(P,O,G,fe){super(),this.varKind=P,this.name=O,this.from=G,this.to=fe}render(P){const O=P.es5?n.varKinds.var:this.varKind,{name:G,from:fe,to:le}=this;return`for(${O} ${G}=${fe}; ${G}<${le}; ${G}++)`+super.render(P)}get names(){const P=Z(super.names,this.from);return Z(P,this.to)}}class I extends _{constructor(P,O,G,fe){super(),this.loop=P,this.varKind=O,this.name=G,this.iterable=fe}render(P){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(P)}optimizeNames(P,O){if(super.optimizeNames(P,O))return this.iterable=H(this.iterable,P,O),this}get names(){return U(super.names,this.iterable.names)}}class E extends p{constructor(P,O,G){super(),this.name=P,this.args=O,this.async=G}render(P){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(P)}}E.kind="func";class S extends h{render(P){return"return "+super.render(P)}}S.kind="return";class A extends p{render(P){let O="try"+super.render(P);return this.catch&&(O+=this.catch.render(P)),this.finally&&(O+=this.finally.render(P)),O}optimizeNodes(){var P,O;return super.optimizeNodes(),(P=this.catch)===null||P===void 0||P.optimizeNodes(),(O=this.finally)===null||O===void 0||O.optimizeNodes(),this}optimizeNames(P,O){var G,fe;return super.optimizeNames(P,O),(G=this.catch)===null||G===void 0||G.optimizeNames(P,O),(fe=this.finally)===null||fe===void 0||fe.optimizeNames(P,O),this}get names(){const P=super.names;return this.catch&&U(P,this.catch.names),this.finally&&U(P,this.finally.names),P}}class L extends p{constructor(P){super(),this.error=P}render(P){return`catch(${this.error})`+super.render(P)}}L.kind="catch";class W extends p{render(P){return"finally"+super.render(P)}}W.kind="finally";class z{constructor(P,O={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...O,_n:O.lines?`
`:""},this._extScope=P,this._scope=new n.Scope({parent:P}),this._nodes=[new m]}toString(){return this._root.render(this.opts)}name(P){return this._scope.name(P)}scopeName(P){return this._extScope.name(P)}scopeValue(P,O){const G=this._extScope.value(P,O);return(this._values[G.prefix]||(this._values[G.prefix]=new Set)).add(G),G}getScopeValue(P,O){return this._extScope.getValue(P,O)}scopeRefs(P){return this._extScope.scopeRefs(P,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(P,O,G,fe){const le=this._scope.toName(O);return G!==void 0&&fe&&(this._constants[le.str]=G),this._leafNode(new o(P,le,G)),le}const(P,O,G){return this._def(n.varKinds.const,P,O,G)}let(P,O,G){return this._def(n.varKinds.let,P,O,G)}var(P,O,G){return this._def(n.varKinds.var,P,O,G)}assign(P,O,G){return this._leafNode(new a(P,O,G))}add(P,O){return this._leafNode(new u(P,e.operators.ADD,O))}code(P){return typeof P=="function"?P():P!==t.nil&&this._leafNode(new d(P)),this}object(...P){const O=["{"];for(const[G,fe]of P)O.length>1&&O.push(","),O.push(G),(G!==fe||this.opts.es5)&&(O.push(":"),(0,t.addCodeArg)(O,fe));return O.push("}"),new t._Code(O)}if(P,O,G){if(this._blockNode(new g(P)),O&&G)this.code(O).else().code(G).endIf();else if(O)this.code(O).endIf();else if(G)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(P){return this._elseNode(new g(P))}else(){return this._elseNode(new y)}endIf(){return this._endBlockNode(g,y)}_for(P,O){return this._blockNode(P),O&&this.code(O).endFor(),this}for(P,O){return this._for(new b(P),O)}forRange(P,O,G,fe,le=this.opts.es5?n.varKinds.var:n.varKinds.let){const me=this._scope.toName(P);return this._for(new T(le,me,O,G),()=>fe(me))}forOf(P,O,G,fe=n.varKinds.const){const le=this._scope.toName(P);if(this.opts.es5){const me=O instanceof t.Name?O:this.var("_arr",O);return this.forRange("_i",0,(0,t._)`${me}.length`,ge=>{this.var(le,(0,t._)`${me}[${ge}]`),G(le)})}return this._for(new I("of",fe,le,O),()=>G(le))}forIn(P,O,G,fe=this.opts.es5?n.varKinds.var:n.varKinds.const){if(this.opts.ownProperties)return this.forOf(P,(0,t._)`Object.keys(${O})`,G);const le=this._scope.toName(P);return this._for(new I("in",fe,le,O),()=>G(le))}endFor(){return this._endBlockNode(_)}label(P){return this._leafNode(new l(P))}break(P){return this._leafNode(new c(P))}return(P){const O=new S;if(this._blockNode(O),this.code(P),O.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(S)}try(P,O,G){if(!O&&!G)throw new Error('CodeGen: "try" without "catch" and "finally"');const fe=new A;if(this._blockNode(fe),this.code(P),O){const le=this.name("e");this._currNode=fe.catch=new L(le),O(le)}return G&&(this._currNode=fe.finally=new W,this.code(G)),this._endBlockNode(L,W)}throw(P){return this._leafNode(new f(P))}block(P,O){return this._blockStarts.push(this._nodes.length),P&&this.code(P).endBlock(O),this}endBlock(P){const O=this._blockStarts.pop();if(O===void 0)throw new Error("CodeGen: not in self-balancing block");const G=this._nodes.length-O;if(G<0||P!==void 0&&G!==P)throw new Error(`CodeGen: wrong number of nodes: ${G} vs ${P} expected`);return this._nodes.length=O,this}func(P,O=t.nil,G,fe){return this._blockNode(new E(P,O,G)),fe&&this.code(fe).endFunc(),this}endFunc(){return this._endBlockNode(E)}optimize(P=1){for(;P-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(P){return this._currNode.nodes.push(P),this}_blockNode(P){this._currNode.nodes.push(P),this._nodes.push(P)}_endBlockNode(P,O){const G=this._currNode;if(G instanceof P||O&&G instanceof O)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${O?`${P.kind}/${O.kind}`:P.kind}"`)}_elseNode(P){const O=this._currNode;if(!(O instanceof g))throw new Error('CodeGen: "else" without "if"');return this._currNode=O.else=P,this}get _root(){return this._nodes[0]}get _currNode(){const P=this._nodes;return P[P.length-1]}set _currNode(P){const O=this._nodes;O[O.length-1]=P}}e.CodeGen=z;function U(B,P){for(const O in P)B[O]=(B[O]||0)+(P[O]||0);return B}function Z(B,P){return P instanceof t._CodeOrName?U(B,P.names):B}function H(B,P,O){if(B instanceof t.Name)return G(B);if(!fe(B))return B;return new t._Code(B._items.reduce((le,me)=>(me instanceof t.Name&&(me=G(me)),me instanceof t._Code?le.push(...me._items):le.push(me),le),[]));function G(le){const me=O[le.str];return me===void 0||P[le.str]!==1?le:(delete P[le.str],me)}function fe(le){return le instanceof t._Code&&le._items.some(me=>me instanceof t.Name&&P[me.str]===1&&O[me.str]!==void 0)}}function ue(B,P){for(const O in P)B[O]=(B[O]||0)-(P[O]||0)}function ie(B){return typeof B=="boolean"||typeof B=="number"||B===null?!B:(0,t._)`!${C(B)}`}e.not=ie;const _e=x(e.operators.AND);function te(...B){return B.reduce(_e)}e.and=te;const oe=x(e.operators.OR);function J(...B){return B.reduce(oe)}e.or=J;function x(B){return(P,O)=>P===t.nil?O:O===t.nil?P:(0,t._)`${C(P)} ${B} ${C(O)}`}function C(B){return B instanceof t.Name?B:(0,t._)`(${B})`}})(Gt);var pn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;const t=Gt,n=Ey;function r(E){const S={};for(const A of E)S[A]=!0;return S}e.toHash=r;function i(E,S){return typeof S=="boolean"?S:Object.keys(S).length===0?!0:(s(E,S),!o(S,E.self.RULES.all))}e.alwaysValidSchema=i;function s(E,S=E.schema){const{opts:A,self:L}=E;if(!A.strictSchema||typeof S=="boolean")return;const W=L.RULES.keywords;for(const z in S)W[z]||I(E,`unknown keyword: "${z}"`)}e.checkUnknownRules=s;function o(E,S){if(typeof E=="boolean")return!E;for(const A in E)if(S[A])return!0;return!1}e.schemaHasRules=o;function a(E,S){if(typeof E=="boolean")return!E;for(const A in E)if(A!=="$ref"&&S.all[A])return!0;return!1}e.schemaHasRulesButRef=a;function u({topSchemaRef:E,schemaPath:S},A,L,W){if(!W){if(typeof A=="number"||typeof A=="boolean")return A;if(typeof A=="string")return(0,t._)`${A}`}return(0,t._)`${E}${S}${(0,t.getProperty)(L)}`}e.schemaRefOrVal=u;function l(E){return d(decodeURIComponent(E))}e.unescapeFragment=l;function c(E){return encodeURIComponent(f(E))}e.escapeFragment=c;function f(E){return typeof E=="number"?`${E}`:E.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=f;function d(E){return E.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=d;function h(E,S){if(Array.isArray(E))for(const A of E)S(A);else S(E)}e.eachItem=h;function p({mergeNames:E,mergeToName:S,mergeValues:A,resultToName:L}){return(W,z,U,Z)=>{const H=U===void 0?z:U instanceof t.Name?(z instanceof t.Name?E(W,z,U):S(W,z,U),U):z instanceof t.Name?(S(W,U,z),z):A(z,U);return Z===t.Name&&!(H instanceof t.Name)?L(W,H):H}}e.mergeEvaluated={props:p({mergeNames:(E,S,A)=>E.if((0,t._)`${A} !== true && ${S} !== undefined`,()=>{E.if((0,t._)`${S} === true`,()=>E.assign(A,!0),()=>E.assign(A,(0,t._)`${A} || {}`).code((0,t._)`Object.assign(${A}, ${S})`))}),mergeToName:(E,S,A)=>E.if((0,t._)`${A} !== true`,()=>{S===!0?E.assign(A,!0):(E.assign(A,(0,t._)`${A} || {}`),y(E,A,S))}),mergeValues:(E,S)=>E===!0?!0:{...E,...S},resultToName:m}),items:p({mergeNames:(E,S,A)=>E.if((0,t._)`${A} !== true && ${S} !== undefined`,()=>E.assign(A,(0,t._)`${S} === true ? true : ${A} > ${S} ? ${A} : ${S}`)),mergeToName:(E,S,A)=>E.if((0,t._)`${A} !== true`,()=>E.assign(A,S===!0?!0:(0,t._)`${A} > ${S} ? ${A} : ${S}`)),mergeValues:(E,S)=>E===!0?!0:Math.max(E,S),resultToName:(E,S)=>E.var("items",S)})};function m(E,S){if(S===!0)return E.var("props",!0);const A=E.var("props",(0,t._)`{}`);return S!==void 0&&y(E,A,S),A}e.evaluatedPropsToName=m;function y(E,S,A){Object.keys(A).forEach(L=>E.assign((0,t._)`${S}${(0,t.getProperty)(L)}`,!0))}e.setEvaluated=y;const g={};function _(E,S){return E.scopeValue("func",{ref:S,code:g[S.code]||(g[S.code]=new n._Code(S.code))})}e.useFunc=_;var b;(function(E){E[E.Num=0]="Num",E[E.Str=1]="Str"})(b=e.Type||(e.Type={}));function T(E,S,A){if(E instanceof t.Name){const L=S===b.Num;return A?L?(0,t._)`"[" + ${E} + "]"`:(0,t._)`"['" + ${E} + "']"`:L?(0,t._)`"/" + ${E}`:(0,t._)`"/" + ${E}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return A?(0,t.getProperty)(E).toString():"/"+f(E)}e.getErrorPath=T;function I(E,S,A=E.opts.strictSchema){if(A){if(S=`strict mode: ${S}`,A===!0)throw new Error(S);E.self.logger.warn(S)}}e.checkStrictMode=I})(pn);var Nu={};Object.defineProperty(Nu,"__esModule",{value:!0});const ji=Gt,eAe={data:new ji.Name("data"),valCxt:new ji.Name("valCxt"),instancePath:new ji.Name("instancePath"),parentData:new ji.Name("parentData"),parentDataProperty:new ji.Name("parentDataProperty"),rootData:new ji.Name("rootData"),dynamicAnchors:new ji.Name("dynamicAnchors"),vErrors:new ji.Name("vErrors"),errors:new ji.Name("errors"),this:new ji.Name("this"),self:new ji.Name("self"),scope:new ji.Name("scope"),json:new ji.Name("json"),jsonPos:new ji.Name("jsonPos"),jsonLen:new ji.Name("jsonLen"),jsonPart:new ji.Name("jsonPart")};Nu.default=eAe;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=Gt,n=pn,r=Nu;e.keywordError={message:({keyword:y})=>(0,t.str)`must pass "${y}" keyword validation`},e.keyword$DataError={message:({keyword:y,schemaType:g})=>g?(0,t.str)`"${y}" keyword must be ${g} ($data)`:(0,t.str)`"${y}" keyword is invalid ($data)`};function i(y,g=e.keywordError,_,b){const{it:T}=y,{gen:I,compositeRule:E,allErrors:S}=T,A=f(y,g,_);b??(E||S)?u(I,A):l(T,(0,t._)`[${A}]`)}e.reportError=i;function s(y,g=e.keywordError,_){const{it:b}=y,{gen:T,compositeRule:I,allErrors:E}=b,S=f(y,g,_);u(T,S),I||E||l(b,r.default.vErrors)}e.reportExtraError=s;function o(y,g){y.assign(r.default.errors,g),y.if((0,t._)`${r.default.vErrors} !== null`,()=>y.if(g,()=>y.assign((0,t._)`${r.default.vErrors}.length`,g),()=>y.assign(r.default.vErrors,null)))}e.resetErrorsCount=o;function a({gen:y,keyword:g,schemaValue:_,data:b,errsCount:T,it:I}){if(T===void 0)throw new Error("ajv implementation error");const E=y.name("err");y.forRange("i",T,r.default.errors,S=>{y.const(E,(0,t._)`${r.default.vErrors}[${S}]`),y.if((0,t._)`${E}.instancePath === undefined`,()=>y.assign((0,t._)`${E}.instancePath`,(0,t.strConcat)(r.default.instancePath,I.errorPath))),y.assign((0,t._)`${E}.schemaPath`,(0,t.str)`${I.errSchemaPath}/${g}`),I.opts.verbose&&(y.assign((0,t._)`${E}.schema`,_),y.assign((0,t._)`${E}.data`,b))})}e.extendErrors=a;function u(y,g){const _=y.const("err",g);y.if((0,t._)`${r.default.vErrors} === null`,()=>y.assign(r.default.vErrors,(0,t._)`[${_}]`),(0,t._)`${r.default.vErrors}.push(${_})`),y.code((0,t._)`${r.default.errors}++`)}function l(y,g){const{gen:_,validateName:b,schemaEnv:T}=y;T.$async?_.throw((0,t._)`new ${y.ValidationError}(${g})`):(_.assign((0,t._)`${b}.errors`,g),_.return(!1))}const c={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function f(y,g,_){const{createErrors:b}=y.it;return b===!1?(0,t._)`{}`:d(y,g,_)}function d(y,g,_={}){const{gen:b,it:T}=y,I=[h(T,_),p(y,_)];return m(y,g,I),b.object(...I)}function h({errorPath:y},{instancePath:g}){const _=g?(0,t.str)`${y}${(0,n.getErrorPath)(g,n.Type.Str)}`:y;return[r.default.instancePath,(0,t.strConcat)(r.default.instancePath,_)]}function p({keyword:y,it:{errSchemaPath:g}},{schemaPath:_,parentSchema:b}){let T=b?g:(0,t.str)`${g}/${y}`;return _&&(T=(0,t.str)`${T}${(0,n.getErrorPath)(_,n.Type.Str)}`),[c.schemaPath,T]}function m(y,{params:g,message:_},b){const{keyword:T,data:I,schemaValue:E,it:S}=y,{opts:A,propertyName:L,topSchemaRef:W,schemaPath:z}=S;b.push([c.keyword,T],[c.params,typeof g=="function"?g(y):g||(0,t._)`{}`]),A.messages&&b.push([c.message,typeof _=="function"?_(y):_]),A.verbose&&b.push([c.schema,E],[c.parentSchema,(0,t._)`${W}${z}`],[r.default.data,I]),L&&b.push([c.propertyName,L])}})(C_);Object.defineProperty(Qp,"__esModule",{value:!0});Qp.boolOrEmptySchema=Qp.topBoolOrEmptySchema=void 0;const tAe=C_,nAe=Gt,rAe=Nu,iAe={message:"boolean schema is false"};function sAe(e){const{gen:t,schema:n,validateName:r}=e;n===!1?zQ(e,!1):typeof n=="object"&&n.$async===!0?t.return(rAe.default.data):(t.assign((0,nAe._)`${r}.errors`,null),t.return(!0))}Qp.topBoolOrEmptySchema=sAe;function oAe(e,t){const{gen:n,schema:r}=e;r===!1?(n.var(t,!1),zQ(e)):n.var(t,!0)}Qp.boolOrEmptySchema=oAe;function zQ(e,t){const{gen:n,data:r}=e,i={gen:n,keyword:"false schema",data:r,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,tAe.reportError)(i,iAe,void 0,t)}var A_={},Nd={};Object.defineProperty(Nd,"__esModule",{value:!0});Nd.getRules=Nd.isJSONType=void 0;const aAe=["string","number","integer","boolean","null","object","array"],uAe=new Set(aAe);function lAe(e){return typeof e=="string"&&uAe.has(e)}Nd.isJSONType=lAe;function cAe(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}Nd.getRules=cAe;var dl={};Object.defineProperty(dl,"__esModule",{value:!0});dl.shouldUseRule=dl.shouldUseGroup=dl.schemaHasRulesForType=void 0;function fAe({schema:e,self:t},n){const r=t.RULES.types[n];return r&&r!==!0&&HQ(e,r)}dl.schemaHasRulesForType=fAe;function HQ(e,t){return t.rules.some(n=>WQ(e,n))}dl.shouldUseGroup=HQ;function WQ(e,t){var n;return e[t.keyword]!==void 0||((n=t.definition.implements)===null||n===void 0?void 0:n.some(r=>e[r]!==void 0))}dl.shouldUseRule=WQ;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;const t=Nd,n=dl,r=C_,i=Gt,s=pn;var o;(function(b){b[b.Correct=0]="Correct",b[b.Wrong=1]="Wrong"})(o=e.DataType||(e.DataType={}));function a(b){const T=u(b.type);if(T.includes("null")){if(b.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!T.length&&b.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');b.nullable===!0&&T.push("null")}return T}e.getSchemaTypes=a;function u(b){const T=Array.isArray(b)?b:b?[b]:[];if(T.every(t.isJSONType))return T;throw new Error("type must be JSONType or JSONType[]: "+T.join(","))}e.getJSONTypes=u;function l(b,T){const{gen:I,data:E,opts:S}=b,A=f(T,S.coerceTypes),L=T.length>0&&!(A.length===0&&T.length===1&&(0,n.schemaHasRulesForType)(b,T[0]));if(L){const W=m(T,E,S.strictNumbers,o.Wrong);I.if(W,()=>{A.length?d(b,T,A):g(b)})}return L}e.coerceAndCheckDataType=l;const c=new Set(["string","number","integer","boolean","null"]);function f(b,T){return T?b.filter(I=>c.has(I)||T==="array"&&I==="array"):[]}function d(b,T,I){const{gen:E,data:S,opts:A}=b,L=E.let("dataType",(0,i._)`typeof ${S}`),W=E.let("coerced",(0,i._)`undefined`);A.coerceTypes==="array"&&E.if((0,i._)`${L} == 'object' && Array.isArray(${S}) && ${S}.length == 1`,()=>E.assign(S,(0,i._)`${S}[0]`).assign(L,(0,i._)`typeof ${S}`).if(m(T,S,A.strictNumbers),()=>E.assign(W,S))),E.if((0,i._)`${W} !== undefined`);for(const U of I)(c.has(U)||U==="array"&&A.coerceTypes==="array")&&z(U);E.else(),g(b),E.endIf(),E.if((0,i._)`${W} !== undefined`,()=>{E.assign(S,W),h(b,W)});function z(U){switch(U){case"string":E.elseIf((0,i._)`${L} == "number" || ${L} == "boolean"`).assign(W,(0,i._)`"" + ${S}`).elseIf((0,i._)`${S} === null`).assign(W,(0,i._)`""`);return;case"number":E.elseIf((0,i._)`${L} == "boolean" || ${S} === null
              || (${L} == "string" && ${S} && ${S} == +${S})`).assign(W,(0,i._)`+${S}`);return;case"integer":E.elseIf((0,i._)`${L} === "boolean" || ${S} === null
              || (${L} === "string" && ${S} && ${S} == +${S} && !(${S} % 1))`).assign(W,(0,i._)`+${S}`);return;case"boolean":E.elseIf((0,i._)`${S} === "false" || ${S} === 0 || ${S} === null`).assign(W,!1).elseIf((0,i._)`${S} === "true" || ${S} === 1`).assign(W,!0);return;case"null":E.elseIf((0,i._)`${S} === "" || ${S} === 0 || ${S} === false`),E.assign(W,null);return;case"array":E.elseIf((0,i._)`${L} === "string" || ${L} === "number"
              || ${L} === "boolean" || ${S} === null`).assign(W,(0,i._)`[${S}]`)}}}function h({gen:b,parentData:T,parentDataProperty:I},E){b.if((0,i._)`${T} !== undefined`,()=>b.assign((0,i._)`${T}[${I}]`,E))}function p(b,T,I,E=o.Correct){const S=E===o.Correct?i.operators.EQ:i.operators.NEQ;let A;switch(b){case"null":return(0,i._)`${T} ${S} null`;case"array":A=(0,i._)`Array.isArray(${T})`;break;case"object":A=(0,i._)`${T} && typeof ${T} == "object" && !Array.isArray(${T})`;break;case"integer":A=L((0,i._)`!(${T} % 1) && !isNaN(${T})`);break;case"number":A=L();break;default:return(0,i._)`typeof ${T} ${S} ${b}`}return E===o.Correct?A:(0,i.not)(A);function L(W=i.nil){return(0,i.and)((0,i._)`typeof ${T} == "number"`,W,I?(0,i._)`isFinite(${T})`:i.nil)}}e.checkDataType=p;function m(b,T,I,E){if(b.length===1)return p(b[0],T,I,E);let S;const A=(0,s.toHash)(b);if(A.array&&A.object){const L=(0,i._)`typeof ${T} != "object"`;S=A.null?L:(0,i._)`!${T} || ${L}`,delete A.null,delete A.array,delete A.object}else S=i.nil;A.number&&delete A.integer;for(const L in A)S=(0,i.and)(S,p(L,T,I,E));return S}e.checkDataTypes=m;const y={message:({schema:b})=>`must be ${b}`,params:({schema:b,schemaValue:T})=>typeof b=="string"?(0,i._)`{type: ${b}}`:(0,i._)`{type: ${T}}`};function g(b){const T=_(b);(0,r.reportError)(T,y)}e.reportTypeError=g;function _(b){const{gen:T,data:I,schema:E}=b,S=(0,s.schemaRefOrVal)(b,E,"type");return{gen:T,keyword:"type",data:I,schema:E.type,schemaCode:S,schemaValue:S,parentSchema:E,params:{},it:b}}})(A_);var rI={};Object.defineProperty(rI,"__esModule",{value:!0});rI.assignDefaults=void 0;const _h=Gt,dAe=pn;function hAe(e,t){const{properties:n,items:r}=e.schema;if(t==="object"&&n)for(const i in n)W8(e,i,n[i].default);else t==="array"&&Array.isArray(r)&&r.forEach((i,s)=>W8(e,s,i.default))}rI.assignDefaults=hAe;function W8(e,t,n){const{gen:r,compositeRule:i,data:s,opts:o}=e;if(n===void 0)return;const a=(0,_h._)`${s}${(0,_h.getProperty)(t)}`;if(i){(0,dAe.checkStrictMode)(e,`default is ignored for: ${a}`);return}let u=(0,_h._)`${a} === undefined`;o.useDefaults==="empty"&&(u=(0,_h._)`${u} || ${a} === null || ${a} === ""`),r.if(u,(0,_h._)`${a} = ${(0,_h.stringify)(n)}`)}var nu={},qt={};Object.defineProperty(qt,"__esModule",{value:!0});qt.validateUnion=qt.validateArray=qt.usePattern=qt.callValidateCode=qt.schemaProperties=qt.allSchemaProperties=qt.noPropertyInData=qt.propertyInData=qt.isOwnProperty=qt.hasPropFunc=qt.reportMissingProp=qt.checkMissingProp=qt.checkReportMissingProp=void 0;const Xn=Gt,Ok=pn,Jl=Nu,pAe=pn;function mAe(e,t){const{gen:n,data:r,it:i}=e;n.if(Rk(n,r,t,i.opts.ownProperties),()=>{e.setParams({missingProperty:(0,Xn._)`${t}`},!0),e.error()})}qt.checkReportMissingProp=mAe;function gAe({gen:e,data:t,it:{opts:n}},r,i){return(0,Xn.or)(...r.map(s=>(0,Xn.and)(Rk(e,t,s,n.ownProperties),(0,Xn._)`${i} = ${s}`)))}qt.checkMissingProp=gAe;function yAe(e,t){e.setParams({missingProperty:t},!0),e.error()}qt.reportMissingProp=yAe;function qQ(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,Xn._)`Object.prototype.hasOwnProperty`})}qt.hasPropFunc=qQ;function Pk(e,t,n){return(0,Xn._)`${qQ(e)}.call(${t}, ${n})`}qt.isOwnProperty=Pk;function _Ae(e,t,n,r){const i=(0,Xn._)`${t}${(0,Xn.getProperty)(n)} !== undefined`;return r?(0,Xn._)`${i} && ${Pk(e,t,n)}`:i}qt.propertyInData=_Ae;function Rk(e,t,n,r){const i=(0,Xn._)`${t}${(0,Xn.getProperty)(n)} === undefined`;return r?(0,Xn.or)(i,(0,Xn.not)(Pk(e,t,n))):i}qt.noPropertyInData=Rk;function GQ(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}qt.allSchemaProperties=GQ;function vAe(e,t){return GQ(t).filter(n=>!(0,Ok.alwaysValidSchema)(e,t[n]))}qt.schemaProperties=vAe;function bAe({schemaCode:e,data:t,it:{gen:n,topSchemaRef:r,schemaPath:i,errorPath:s},it:o},a,u,l){const c=l?(0,Xn._)`${e}, ${t}, ${r}${i}`:t,f=[[Jl.default.instancePath,(0,Xn.strConcat)(Jl.default.instancePath,s)],[Jl.default.parentData,o.parentData],[Jl.default.parentDataProperty,o.parentDataProperty],[Jl.default.rootData,Jl.default.rootData]];o.opts.dynamicRef&&f.push([Jl.default.dynamicAnchors,Jl.default.dynamicAnchors]);const d=(0,Xn._)`${c}, ${n.object(...f)}`;return u!==Xn.nil?(0,Xn._)`${a}.call(${u}, ${d})`:(0,Xn._)`${a}(${d})`}qt.callValidateCode=bAe;const EAe=(0,Xn._)`new RegExp`;function wAe({gen:e,it:{opts:t}},n){const r=t.unicodeRegExp?"u":"",{regExp:i}=t.code,s=i(n,r);return e.scopeValue("pattern",{key:s.toString(),ref:s,code:(0,Xn._)`${i.code==="new RegExp"?EAe:(0,pAe.useFunc)(e,i)}(${n}, ${r})`})}qt.usePattern=wAe;function TAe(e){const{gen:t,data:n,keyword:r,it:i}=e,s=t.name("valid");if(i.allErrors){const a=t.let("valid",!0);return o(()=>t.assign(a,!1)),a}return t.var(s,!0),o(()=>t.break()),s;function o(a){const u=t.const("len",(0,Xn._)`${n}.length`);t.forRange("i",0,u,l=>{e.subschema({keyword:r,dataProp:l,dataPropType:Ok.Type.Num},s),t.if((0,Xn.not)(s),a)})}}qt.validateArray=TAe;function SAe(e){const{gen:t,schema:n,keyword:r,it:i}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(n.some(u=>(0,Ok.alwaysValidSchema)(i,u))&&!i.opts.unevaluated)return;const o=t.let("valid",!1),a=t.name("_valid");t.block(()=>n.forEach((u,l)=>{const c=e.subschema({keyword:r,schemaProp:l,compositeRule:!0},a);t.assign(o,(0,Xn._)`${o} || ${a}`),e.mergeValidEvaluated(c,a)||t.if((0,Xn.not)(o))})),e.result(o,()=>e.reset(),()=>e.error(!0))}qt.validateUnion=SAe;Object.defineProperty(nu,"__esModule",{value:!0});nu.validateKeywordUsage=nu.validSchemaType=nu.funcKeywordCode=nu.macroKeywordCode=void 0;const as=Gt,zf=Nu,IAe=qt,xAe=C_;function CAe(e,t){const{gen:n,keyword:r,schema:i,parentSchema:s,it:o}=e,a=t.macro.call(o.self,i,s,o),u=YQ(n,r,a);o.opts.validateSchema!==!1&&o.self.validateSchema(a,!0);const l=n.name("valid");e.subschema({schema:a,schemaPath:as.nil,errSchemaPath:`${o.errSchemaPath}/${r}`,topSchemaRef:u,compositeRule:!0},l),e.pass(l,()=>e.error(!0))}nu.macroKeywordCode=CAe;function AAe(e,t){var n;const{gen:r,keyword:i,schema:s,parentSchema:o,$data:a,it:u}=e;PAe(u,t);const l=!a&&t.compile?t.compile.call(u.self,s,o,u):t.validate,c=YQ(r,i,l),f=r.let("valid");e.block$data(f,d),e.ok((n=t.valid)!==null&&n!==void 0?n:f);function d(){if(t.errors===!1)m(),t.modifying&&q8(e),y(()=>e.error());else{const g=t.async?h():p();t.modifying&&q8(e),y(()=>OAe(e,g))}}function h(){const g=r.let("ruleErrs",null);return r.try(()=>m((0,as._)`await `),_=>r.assign(f,!1).if((0,as._)`${_} instanceof ${u.ValidationError}`,()=>r.assign(g,(0,as._)`${_}.errors`),()=>r.throw(_))),g}function p(){const g=(0,as._)`${c}.errors`;return r.assign(g,null),m(as.nil),g}function m(g=t.async?(0,as._)`await `:as.nil){const _=u.opts.passContext?zf.default.this:zf.default.self,b=!("compile"in t&&!a||t.schema===!1);r.assign(f,(0,as._)`${g}${(0,IAe.callValidateCode)(e,c,_,b)}`,t.modifying)}function y(g){var _;r.if((0,as.not)((_=t.valid)!==null&&_!==void 0?_:f),g)}}nu.funcKeywordCode=AAe;function q8(e){const{gen:t,data:n,it:r}=e;t.if(r.parentData,()=>t.assign(n,(0,as._)`${r.parentData}[${r.parentDataProperty}]`))}function OAe(e,t){const{gen:n}=e;n.if((0,as._)`Array.isArray(${t})`,()=>{n.assign(zf.default.vErrors,(0,as._)`${zf.default.vErrors} === null ? ${t} : ${zf.default.vErrors}.concat(${t})`).assign(zf.default.errors,(0,as._)`${zf.default.vErrors}.length`),(0,xAe.extendErrors)(e)},()=>e.error())}function PAe({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function YQ(e,t,n){if(n===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof n=="function"?{ref:n}:{ref:n,code:(0,as.stringify)(n)})}function RAe(e,t,n=!1){return!t.length||t.some(r=>r==="array"?Array.isArray(e):r==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==r||n&&typeof e>"u")}nu.validSchemaType=RAe;function NAe({schema:e,opts:t,self:n,errSchemaPath:r},i,s){if(Array.isArray(i.keyword)?!i.keyword.includes(s):i.keyword!==s)throw new Error("ajv implementation error");const o=i.dependencies;if(o!=null&&o.some(a=>!Object.prototype.hasOwnProperty.call(e,a)))throw new Error(`parent schema must have dependencies of ${s}: ${o.join(",")}`);if(i.validateSchema&&!i.validateSchema(e[s])){const u=`keyword "${s}" value is invalid at path "${r}": `+n.errorsText(i.validateSchema.errors);if(t.validateSchema==="log")n.logger.error(u);else throw new Error(u)}}nu.validateKeywordUsage=NAe;var Bc={};Object.defineProperty(Bc,"__esModule",{value:!0});Bc.extendSubschemaMode=Bc.extendSubschemaData=Bc.getSubschema=void 0;const Ga=Gt,KQ=pn;function kAe(e,{keyword:t,schemaProp:n,schema:r,schemaPath:i,errSchemaPath:s,topSchemaRef:o}){if(t!==void 0&&r!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const a=e.schema[t];return n===void 0?{schema:a,schemaPath:(0,Ga._)`${e.schemaPath}${(0,Ga.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:a[n],schemaPath:(0,Ga._)`${e.schemaPath}${(0,Ga.getProperty)(t)}${(0,Ga.getProperty)(n)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,KQ.escapeFragment)(n)}`}}if(r!==void 0){if(i===void 0||s===void 0||o===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:r,schemaPath:i,topSchemaRef:o,errSchemaPath:s}}throw new Error('either "keyword" or "schema" must be passed')}Bc.getSubschema=kAe;function DAe(e,t,{dataProp:n,dataPropType:r,data:i,dataTypes:s,propertyName:o}){if(i!==void 0&&n!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:a}=t;if(n!==void 0){const{errorPath:l,dataPathArr:c,opts:f}=t,d=a.let("data",(0,Ga._)`${t.data}${(0,Ga.getProperty)(n)}`,!0);u(d),e.errorPath=(0,Ga.str)`${l}${(0,KQ.getErrorPath)(n,r,f.jsPropertySyntax)}`,e.parentDataProperty=(0,Ga._)`${n}`,e.dataPathArr=[...c,e.parentDataProperty]}if(i!==void 0){const l=i instanceof Ga.Name?i:a.let("data",i,!0);u(l),o!==void 0&&(e.propertyName=o)}s&&(e.dataTypes=s);function u(l){e.data=l,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,l]}}Bc.extendSubschemaData=DAe;function $Ae(e,{jtdDiscriminator:t,jtdMetadata:n,compositeRule:r,createErrors:i,allErrors:s}){r!==void 0&&(e.compositeRule=r),i!==void 0&&(e.createErrors=i),s!==void 0&&(e.allErrors=s),e.jtdDiscriminator=t,e.jtdMetadata=n}Bc.extendSubschemaMode=$Ae;var Ai={},Nk=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(s=Object.keys(t),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n};const G8=Oa(Nk);var QQ={exports:{}},Sc=QQ.exports=function(e,t,n){typeof t=="function"&&(n=t,t={}),n=t.cb||n;var r=typeof n=="function"?n:n.pre||function(){},i=n.post||function(){};J1(t,r,i,e,"",e)};Sc.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Sc.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Sc.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Sc.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function J1(e,t,n,r,i,s,o,a,u,l){if(r&&typeof r=="object"&&!Array.isArray(r)){t(r,i,s,o,a,u,l);for(var c in r){var f=r[c];if(Array.isArray(f)){if(c in Sc.arrayKeywords)for(var d=0;d<f.length;d++)J1(e,t,n,f[d],i+"/"+c+"/"+d,s,i,c,r,d)}else if(c in Sc.propsKeywords){if(f&&typeof f=="object")for(var h in f)J1(e,t,n,f[h],i+"/"+c+"/"+LAe(h),s,i,c,r,h)}else(c in Sc.keywords||e.allKeys&&!(c in Sc.skipKeywords))&&J1(e,t,n,f,i+"/"+c,s,i,c,r)}n(r,i,s,o,a,u,l)}}function LAe(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var MAe=QQ.exports;Object.defineProperty(Ai,"__esModule",{value:!0});Ai.getSchemaRefs=Ai.resolveUrl=Ai.normalizeId=Ai._getFullPath=Ai.getFullPath=Ai.inlineRef=void 0;const FAe=pn,BAe=Nk,jAe=MAe,UAe=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function VAe(e,t=!0){return typeof e=="boolean"?!0:t===!0?!jP(e):t?XQ(e)<=t:!1}Ai.inlineRef=VAe;const zAe=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function jP(e){for(const t in e){if(zAe.has(t))return!0;const n=e[t];if(Array.isArray(n)&&n.some(jP)||typeof n=="object"&&jP(n))return!0}return!1}function XQ(e){let t=0;for(const n in e){if(n==="$ref")return 1/0;if(t++,!UAe.has(n)&&(typeof e[n]=="object"&&(0,FAe.eachItem)(e[n],r=>t+=XQ(r)),t===1/0))return 1/0}return t}function JQ(e,t="",n){n!==!1&&(t=mp(t));const r=e.parse(t);return ZQ(e,r)}Ai.getFullPath=JQ;function ZQ(e,t){return e.serialize(t).split("#")[0]+"#"}Ai._getFullPath=ZQ;const HAe=/#\/?$/;function mp(e){return e?e.replace(HAe,""):""}Ai.normalizeId=mp;function WAe(e,t,n){return n=mp(n),e.resolve(t,n)}Ai.resolveUrl=WAe;const qAe=/^[a-z_][-a-z0-9._]*$/i;function GAe(e,t){if(typeof e=="boolean")return{};const{schemaId:n,uriResolver:r}=this.opts,i=mp(e[n]||t),s={"":i},o=JQ(r,i,!1),a={},u=new Set;return jAe(e,{allKeys:!0},(f,d,h,p)=>{if(p===void 0)return;const m=o+d;let y=s[p];typeof f[n]=="string"&&(y=g.call(this,f[n])),_.call(this,f.$anchor),_.call(this,f.$dynamicAnchor),s[d]=y;function g(b){const T=this.opts.uriResolver.resolve;if(b=mp(y?T(y,b):b),u.has(b))throw c(b);u.add(b);let I=this.refs[b];return typeof I=="string"&&(I=this.refs[I]),typeof I=="object"?l(f,I.schema,b):b!==mp(m)&&(b[0]==="#"?(l(f,a[b],b),a[b]=f):this.refs[b]=m),b}function _(b){if(typeof b=="string"){if(!qAe.test(b))throw new Error(`invalid anchor "${b}"`);g.call(this,`#${b}`)}}}),a;function l(f,d,h){if(d!==void 0&&!BAe(f,d))throw c(h)}function c(f){return new Error(`reference "${f}" resolves to more than one schema`)}}Ai.getSchemaRefs=GAe;Object.defineProperty(Ea,"__esModule",{value:!0});Ea.getData=Ea.KeywordCxt=Ea.validateFunctionCode=void 0;const eX=Qp,Y8=A_,kk=dl,Rw=A_,YAe=rI,Ag=nu,VC=Bc,et=Gt,yt=Nu,KAe=Ai,hl=pn,C0=C_;function QAe(e){if(rX(e)&&(iX(e),nX(e))){ZAe(e);return}tX(e,()=>(0,eX.topBoolOrEmptySchema)(e))}Ea.validateFunctionCode=QAe;function tX({gen:e,validateName:t,schema:n,schemaEnv:r,opts:i},s){i.code.es5?e.func(t,(0,et._)`${yt.default.data}, ${yt.default.valCxt}`,r.$async,()=>{e.code((0,et._)`"use strict"; ${K8(n,i)}`),JAe(e,i),e.code(s)}):e.func(t,(0,et._)`${yt.default.data}, ${XAe(i)}`,r.$async,()=>e.code(K8(n,i)).code(s))}function XAe(e){return(0,et._)`{${yt.default.instancePath}="", ${yt.default.parentData}, ${yt.default.parentDataProperty}, ${yt.default.rootData}=${yt.default.data}${e.dynamicRef?(0,et._)`, ${yt.default.dynamicAnchors}={}`:et.nil}}={}`}function JAe(e,t){e.if(yt.default.valCxt,()=>{e.var(yt.default.instancePath,(0,et._)`${yt.default.valCxt}.${yt.default.instancePath}`),e.var(yt.default.parentData,(0,et._)`${yt.default.valCxt}.${yt.default.parentData}`),e.var(yt.default.parentDataProperty,(0,et._)`${yt.default.valCxt}.${yt.default.parentDataProperty}`),e.var(yt.default.rootData,(0,et._)`${yt.default.valCxt}.${yt.default.rootData}`),t.dynamicRef&&e.var(yt.default.dynamicAnchors,(0,et._)`${yt.default.valCxt}.${yt.default.dynamicAnchors}`)},()=>{e.var(yt.default.instancePath,(0,et._)`""`),e.var(yt.default.parentData,(0,et._)`undefined`),e.var(yt.default.parentDataProperty,(0,et._)`undefined`),e.var(yt.default.rootData,yt.default.data),t.dynamicRef&&e.var(yt.default.dynamicAnchors,(0,et._)`{}`)})}function ZAe(e){const{schema:t,opts:n,gen:r}=e;tX(e,()=>{n.$comment&&t.$comment&&oX(e),iOe(e),r.let(yt.default.vErrors,null),r.let(yt.default.errors,0),n.unevaluated&&eOe(e),sX(e),aOe(e)})}function eOe(e){const{gen:t,validateName:n}=e;e.evaluated=t.const("evaluated",(0,et._)`${n}.evaluated`),t.if((0,et._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,et._)`${e.evaluated}.props`,(0,et._)`undefined`)),t.if((0,et._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,et._)`${e.evaluated}.items`,(0,et._)`undefined`))}function K8(e,t){const n=typeof e=="object"&&e[t.schemaId];return n&&(t.code.source||t.code.process)?(0,et._)`/*# sourceURL=${n} */`:et.nil}function tOe(e,t){if(rX(e)&&(iX(e),nX(e))){nOe(e,t);return}(0,eX.boolOrEmptySchema)(e,t)}function nX({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const n in e)if(t.RULES.all[n])return!0;return!1}function rX(e){return typeof e.schema!="boolean"}function nOe(e,t){const{schema:n,gen:r,opts:i}=e;i.$comment&&n.$comment&&oX(e),sOe(e),oOe(e);const s=r.const("_errs",yt.default.errors);sX(e,s),r.var(t,(0,et._)`${s} === ${yt.default.errors}`)}function iX(e){(0,hl.checkUnknownRules)(e),rOe(e)}function sX(e,t){if(e.opts.jtd)return Q8(e,[],!1,t);const n=(0,Y8.getSchemaTypes)(e.schema),r=(0,Y8.coerceAndCheckDataType)(e,n);Q8(e,n,!r,t)}function rOe(e){const{schema:t,errSchemaPath:n,opts:r,self:i}=e;t.$ref&&r.ignoreKeywordsWithRef&&(0,hl.schemaHasRulesButRef)(t,i.RULES)&&i.logger.warn(`$ref: keywords ignored in schema at path "${n}"`)}function iOe(e){const{schema:t,opts:n}=e;t.default!==void 0&&n.useDefaults&&n.strictSchema&&(0,hl.checkStrictMode)(e,"default is ignored in the schema root")}function sOe(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,KAe.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function oOe(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function oX({gen:e,schemaEnv:t,schema:n,errSchemaPath:r,opts:i}){const s=n.$comment;if(i.$comment===!0)e.code((0,et._)`${yt.default.self}.logger.log(${s})`);else if(typeof i.$comment=="function"){const o=(0,et.str)`${r}/$comment`,a=e.scopeValue("root",{ref:t.root});e.code((0,et._)`${yt.default.self}.opts.$comment(${s}, ${o}, ${a}.schema)`)}}function aOe(e){const{gen:t,schemaEnv:n,validateName:r,ValidationError:i,opts:s}=e;n.$async?t.if((0,et._)`${yt.default.errors} === 0`,()=>t.return(yt.default.data),()=>t.throw((0,et._)`new ${i}(${yt.default.vErrors})`)):(t.assign((0,et._)`${r}.errors`,yt.default.vErrors),s.unevaluated&&uOe(e),t.return((0,et._)`${yt.default.errors} === 0`))}function uOe({gen:e,evaluated:t,props:n,items:r}){n instanceof et.Name&&e.assign((0,et._)`${t}.props`,n),r instanceof et.Name&&e.assign((0,et._)`${t}.items`,r)}function Q8(e,t,n,r){const{gen:i,schema:s,data:o,allErrors:a,opts:u,self:l}=e,{RULES:c}=l;if(s.$ref&&(u.ignoreKeywordsWithRef||!(0,hl.schemaHasRulesButRef)(s,c))){i.block(()=>lX(e,"$ref",c.all.$ref.definition));return}u.jtd||lOe(e,t),i.block(()=>{for(const d of c.rules)f(d);f(c.post)});function f(d){(0,kk.shouldUseGroup)(s,d)&&(d.type?(i.if((0,Rw.checkDataType)(d.type,o,u.strictNumbers)),X8(e,d),t.length===1&&t[0]===d.type&&n&&(i.else(),(0,Rw.reportTypeError)(e)),i.endIf()):X8(e,d),a||i.if((0,et._)`${yt.default.errors} === ${r||0}`))}}function X8(e,t){const{gen:n,schema:r,opts:{useDefaults:i}}=e;i&&(0,YAe.assignDefaults)(e,t.type),n.block(()=>{for(const s of t.rules)(0,kk.shouldUseRule)(r,s)&&lX(e,s.keyword,s.definition,t.type)})}function lOe(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(cOe(e,t),e.opts.allowUnionTypes||fOe(e,t),dOe(e,e.dataTypes))}function cOe(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(n=>{aX(e.dataTypes,n)||Dk(e,`type "${n}" not allowed by context "${e.dataTypes.join(",")}"`)}),pOe(e,t)}}function fOe(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&Dk(e,"use allowUnionTypes to allow union type keyword")}function dOe(e,t){const n=e.self.RULES.all;for(const r in n){const i=n[r];if(typeof i=="object"&&(0,kk.shouldUseRule)(e.schema,i)){const{type:s}=i.definition;s.length&&!s.some(o=>hOe(t,o))&&Dk(e,`missing type "${s.join(",")}" for keyword "${r}"`)}}}function hOe(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function aX(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function pOe(e,t){const n=[];for(const r of e.dataTypes)aX(t,r)?n.push(r):t.includes("integer")&&r==="number"&&n.push("integer");e.dataTypes=n}function Dk(e,t){const n=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${n}" (strictTypes)`,(0,hl.checkStrictMode)(e,t,e.opts.strictTypes)}class uX{constructor(t,n,r){if((0,Ag.validateKeywordUsage)(t,n,r),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=r,this.data=t.data,this.schema=t.schema[r],this.$data=n.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,hl.schemaRefOrVal)(t,this.schema,r,this.$data),this.schemaType=n.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=n,this.$data)this.schemaCode=t.gen.const("vSchema",cX(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,Ag.validSchemaType)(this.schema,n.schemaType,n.allowUndefined))throw new Error(`${r} value must be ${JSON.stringify(n.schemaType)}`);("code"in n?n.trackErrors:n.errors!==!1)&&(this.errsCount=t.gen.const("_errs",yt.default.errors))}result(t,n,r){this.failResult((0,et.not)(t),n,r)}failResult(t,n,r){this.gen.if(t),r?r():this.error(),n?(this.gen.else(),n(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,n){this.failResult((0,et.not)(t),void 0,n)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:n}=this;this.fail((0,et._)`${n} !== undefined && (${(0,et.or)(this.invalid$data(),t)})`)}error(t,n,r){if(n){this.setParams(n),this._error(t,r),this.setParams({});return}this._error(t,r)}_error(t,n){(t?C0.reportExtraError:C0.reportError)(this,this.def.error,n)}$dataError(){(0,C0.reportError)(this,this.def.$dataError||C0.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,C0.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,n){n?Object.assign(this.params,t):this.params=t}block$data(t,n,r=et.nil){this.gen.block(()=>{this.check$data(t,r),n()})}check$data(t=et.nil,n=et.nil){if(!this.$data)return;const{gen:r,schemaCode:i,schemaType:s,def:o}=this;r.if((0,et.or)((0,et._)`${i} === undefined`,n)),t!==et.nil&&r.assign(t,!0),(s.length||o.validateSchema)&&(r.elseIf(this.invalid$data()),this.$dataError(),t!==et.nil&&r.assign(t,!1)),r.else()}invalid$data(){const{gen:t,schemaCode:n,schemaType:r,def:i,it:s}=this;return(0,et.or)(o(),a());function o(){if(r.length){if(!(n instanceof et.Name))throw new Error("ajv implementation error");const u=Array.isArray(r)?r:[r];return(0,et._)`${(0,Rw.checkDataTypes)(u,n,s.opts.strictNumbers,Rw.DataType.Wrong)}`}return et.nil}function a(){if(i.validateSchema){const u=t.scopeValue("validate$data",{ref:i.validateSchema});return(0,et._)`!${u}(${n})`}return et.nil}}subschema(t,n){const r=(0,VC.getSubschema)(this.it,t);(0,VC.extendSubschemaData)(r,this.it,t),(0,VC.extendSubschemaMode)(r,t);const i={...this.it,...r,items:void 0,props:void 0};return tOe(i,n),i}mergeEvaluated(t,n){const{it:r,gen:i}=this;r.opts.unevaluated&&(r.props!==!0&&t.props!==void 0&&(r.props=hl.mergeEvaluated.props(i,t.props,r.props,n)),r.items!==!0&&t.items!==void 0&&(r.items=hl.mergeEvaluated.items(i,t.items,r.items,n)))}mergeValidEvaluated(t,n){const{it:r,gen:i}=this;if(r.opts.unevaluated&&(r.props!==!0||r.items!==!0))return i.if(n,()=>this.mergeEvaluated(t,et.Name)),!0}}Ea.KeywordCxt=uX;function lX(e,t,n,r){const i=new uX(e,n,t);"code"in n?n.code(i,r):i.$data&&n.validate?(0,Ag.funcKeywordCode)(i,n):"macro"in n?(0,Ag.macroKeywordCode)(i,n):(n.compile||n.validate)&&(0,Ag.funcKeywordCode)(i,n)}const mOe=/^\/(?:[^~]|~0|~1)*$/,gOe=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function cX(e,{dataLevel:t,dataNames:n,dataPathArr:r}){let i,s;if(e==="")return yt.default.rootData;if(e[0]==="/"){if(!mOe.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);i=e,s=yt.default.rootData}else{const l=gOe.exec(e);if(!l)throw new Error(`Invalid JSON-pointer: ${e}`);const c=+l[1];if(i=l[2],i==="#"){if(c>=t)throw new Error(u("property/index",c));return r[t-c]}if(c>t)throw new Error(u("data",c));if(s=n[t-c],!i)return s}let o=s;const a=i.split("/");for(const l of a)l&&(s=(0,et._)`${s}${(0,et.getProperty)((0,hl.unescapeJsonPointer)(l))}`,o=(0,et._)`${o} && ${s}`);return o;function u(l,c){return`Cannot access ${l} ${c} levels up, current level is ${t}`}}Ea.getData=cX;var O_={};Object.defineProperty(O_,"__esModule",{value:!0});class yOe extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}O_.default=yOe;var P_={};Object.defineProperty(P_,"__esModule",{value:!0});const zC=Ai;class _Oe extends Error{constructor(t,n,r,i){super(i||`can't resolve reference ${r} from id ${n}`),this.missingRef=(0,zC.resolveUrl)(t,n,r),this.missingSchema=(0,zC.normalizeId)((0,zC.getFullPath)(t,this.missingRef))}}P_.default=_Oe;var Rs={};Object.defineProperty(Rs,"__esModule",{value:!0});Rs.resolveSchema=Rs.getCompilingSchema=Rs.resolveRef=Rs.compileSchema=Rs.SchemaEnv=void 0;const ra=Gt,vOe=O_,Nf=Nu,ha=Ai,J8=pn,bOe=Ea;class iI{constructor(t){var n;this.refs={},this.dynamicAnchors={};let r;typeof t.schema=="object"&&(r=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(n=t.baseId)!==null&&n!==void 0?n:(0,ha.normalizeId)(r==null?void 0:r[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=r==null?void 0:r.$async,this.refs={}}}Rs.SchemaEnv=iI;function $k(e){const t=fX.call(this,e);if(t)return t;const n=(0,ha.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:r,lines:i}=this.opts.code,{ownProperties:s}=this.opts,o=new ra.CodeGen(this.scope,{es5:r,lines:i,ownProperties:s});let a;e.$async&&(a=o.scopeValue("Error",{ref:vOe.default,code:(0,ra._)`require("ajv/dist/runtime/validation_error").default`}));const u=o.scopeName("validate");e.validateName=u;const l={gen:o,allErrors:this.opts.allErrors,data:Nf.default.data,parentData:Nf.default.parentData,parentDataProperty:Nf.default.parentDataProperty,dataNames:[Nf.default.data],dataPathArr:[ra.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,ra.stringify)(e.schema)}:{ref:e.schema}),validateName:u,ValidationError:a,schema:e.schema,schemaEnv:e,rootId:n,baseId:e.baseId||n,schemaPath:ra.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,ra._)`""`,opts:this.opts,self:this};let c;try{this._compilations.add(e),(0,bOe.validateFunctionCode)(l),o.optimize(this.opts.code.optimize);const f=o.toString();c=`${o.scopeRefs(Nf.default.scope)}return ${f}`,this.opts.code.process&&(c=this.opts.code.process(c,e));const h=new Function(`${Nf.default.self}`,`${Nf.default.scope}`,c)(this,this.scope.get());if(this.scope.value(u,{ref:h}),h.errors=null,h.schema=e.schema,h.schemaEnv=e,e.$async&&(h.$async=!0),this.opts.code.source===!0&&(h.source={validateName:u,validateCode:f,scopeValues:o._values}),this.opts.unevaluated){const{props:p,items:m}=l;h.evaluated={props:p instanceof ra.Name?void 0:p,items:m instanceof ra.Name?void 0:m,dynamicProps:p instanceof ra.Name,dynamicItems:m instanceof ra.Name},h.source&&(h.source.evaluated=(0,ra.stringify)(h.evaluated))}return e.validate=h,e}catch(f){throw delete e.validate,delete e.validateName,c&&this.logger.error("Error compiling schema, function code:",c),f}finally{this._compilations.delete(e)}}Rs.compileSchema=$k;function EOe(e,t,n){var r;n=(0,ha.resolveUrl)(this.opts.uriResolver,t,n);const i=e.refs[n];if(i)return i;let s=SOe.call(this,e,n);if(s===void 0){const o=(r=e.localRefs)===null||r===void 0?void 0:r[n],{schemaId:a}=this.opts;o&&(s=new iI({schema:o,schemaId:a,root:e,baseId:t}))}if(s!==void 0)return e.refs[n]=wOe.call(this,s)}Rs.resolveRef=EOe;function wOe(e){return(0,ha.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:$k.call(this,e)}function fX(e){for(const t of this._compilations)if(TOe(t,e))return t}Rs.getCompilingSchema=fX;function TOe(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function SOe(e,t){let n;for(;typeof(n=this.refs[t])=="string";)t=n;return n||this.schemas[t]||sI.call(this,e,t)}function sI(e,t){const n=this.opts.uriResolver.parse(t),r=(0,ha._getFullPath)(this.opts.uriResolver,n);let i=(0,ha.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&r===i)return HC.call(this,n,e);const s=(0,ha.normalizeId)(r),o=this.refs[s]||this.schemas[s];if(typeof o=="string"){const a=sI.call(this,e,o);return typeof(a==null?void 0:a.schema)!="object"?void 0:HC.call(this,n,a)}if(typeof(o==null?void 0:o.schema)=="object"){if(o.validate||$k.call(this,o),s===(0,ha.normalizeId)(t)){const{schema:a}=o,{schemaId:u}=this.opts,l=a[u];return l&&(i=(0,ha.resolveUrl)(this.opts.uriResolver,i,l)),new iI({schema:a,schemaId:u,root:e,baseId:i})}return HC.call(this,n,o)}}Rs.resolveSchema=sI;const IOe=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function HC(e,{baseId:t,schema:n,root:r}){var i;if(((i=e.fragment)===null||i===void 0?void 0:i[0])!=="/")return;for(const a of e.fragment.slice(1).split("/")){if(typeof n=="boolean")return;const u=n[(0,J8.unescapeFragment)(a)];if(u===void 0)return;n=u;const l=typeof n=="object"&&n[this.opts.schemaId];!IOe.has(a)&&l&&(t=(0,ha.resolveUrl)(this.opts.uriResolver,t,l))}let s;if(typeof n!="boolean"&&n.$ref&&!(0,J8.schemaHasRulesButRef)(n,this.RULES)){const a=(0,ha.resolveUrl)(this.opts.uriResolver,t,n.$ref);s=sI.call(this,r,a)}const{schemaId:o}=this.opts;if(s=s||new iI({schema:n,schemaId:o,root:r,baseId:t}),s.schema!==s.root.schema)return s}const xOe="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",COe="Meta-schema for $data reference (JSON AnySchema extension proposal)",AOe="object",OOe=["$data"],POe={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},ROe=!1,NOe={$id:xOe,description:COe,type:AOe,required:OOe,properties:POe,additionalProperties:ROe};var Lk={},UP={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(n,r){r(t)})(no,function(n){function r(){for(var K=arguments.length,j=Array(K),X=0;X<K;X++)j[X]=arguments[X];if(j.length>1){j[0]=j[0].slice(0,-1);for(var pe=j.length-1,he=1;he<pe;++he)j[he]=j[he].slice(1,-1);return j[pe]=j[pe].slice(1),j.join("")}else return j[0]}function i(K){return"(?:"+K+")"}function s(K){return K===void 0?"undefined":K===null?"null":Object.prototype.toString.call(K).split(" ").pop().split("]").shift().toLowerCase()}function o(K){return K.toUpperCase()}function a(K){return K!=null?K instanceof Array?K:typeof K.length!="number"||K.split||K.setInterval||K.call?[K]:Array.prototype.slice.call(K):[]}function u(K,j){var X=K;if(j)for(var pe in j)X[pe]=j[pe];return X}function l(K){var j="[A-Za-z]",X="[0-9]",pe=r(X,"[A-Fa-f]"),he=i(i("%[EFef]"+pe+"%"+pe+pe+"%"+pe+pe)+"|"+i("%[89A-Fa-f]"+pe+"%"+pe+pe)+"|"+i("%"+pe+pe)),He="[\\:\\/\\?\\#\\[\\]\\@]",Te="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Ve=r(He,Te),ct=K?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Je=K?"[\\uE000-\\uF8FF]":"[]",mt=r(j,X,"[\\-\\.\\_\\~]",ct);i(j+r(j,X,"[\\+\\-\\.]")+"*"),i(i(he+"|"+r(mt,Te,"[\\:]"))+"*");var Lt=i(i("25[0-5]")+"|"+i("2[0-4]"+X)+"|"+i("1"+X+X)+"|"+i("0?[1-9]"+X)+"|0?0?"+X),$n=i(Lt+"\\."+Lt+"\\."+Lt+"\\."+Lt),pt=i(pe+"{1,4}"),xn=i(i(pt+"\\:"+pt)+"|"+$n),Et=i(i(pt+"\\:")+"{6}"+xn),mn=i("\\:\\:"+i(pt+"\\:")+"{5}"+xn),tr=i(i(pt)+"?\\:\\:"+i(pt+"\\:")+"{4}"+xn),Wr=i(i(i(pt+"\\:")+"{0,1}"+pt)+"?\\:\\:"+i(pt+"\\:")+"{3}"+xn),Pr=i(i(i(pt+"\\:")+"{0,2}"+pt)+"?\\:\\:"+i(pt+"\\:")+"{2}"+xn),is=i(i(i(pt+"\\:")+"{0,3}"+pt)+"?\\:\\:"+pt+"\\:"+xn),_i=i(i(i(pt+"\\:")+"{0,4}"+pt)+"?\\:\\:"+xn),hr=i(i(i(pt+"\\:")+"{0,5}"+pt)+"?\\:\\:"+pt),Ge=i(i(i(pt+"\\:")+"{0,6}"+pt)+"?\\:\\:"),zt=i([Et,mn,tr,Wr,Pr,is,_i,hr,Ge].join("|")),Hn=i(i(mt+"|"+he)+"+");i("[vV]"+pe+"+\\."+r(mt,Te,"[\\:]")+"+"),i(i(he+"|"+r(mt,Te))+"*");var ii=i(he+"|"+r(mt,Te,"[\\:\\@]"));return i(i(he+"|"+r(mt,Te,"[\\@]"))+"+"),i(i(ii+"|"+r("[\\/\\?]",Je))+"*"),{NOT_SCHEME:new RegExp(r("[^]",j,X,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(r("[^\\%\\:]",mt,Te),"g"),NOT_HOST:new RegExp(r("[^\\%\\[\\]\\:]",mt,Te),"g"),NOT_PATH:new RegExp(r("[^\\%\\/\\:\\@]",mt,Te),"g"),NOT_PATH_NOSCHEME:new RegExp(r("[^\\%\\/\\@]",mt,Te),"g"),NOT_QUERY:new RegExp(r("[^\\%]",mt,Te,"[\\:\\@\\/\\?]",Je),"g"),NOT_FRAGMENT:new RegExp(r("[^\\%]",mt,Te,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(r("[^]",mt,Te),"g"),UNRESERVED:new RegExp(mt,"g"),OTHER_CHARS:new RegExp(r("[^\\%]",mt,Ve),"g"),PCT_ENCODED:new RegExp(he,"g"),IPV4ADDRESS:new RegExp("^("+$n+")$"),IPV6ADDRESS:new RegExp("^\\[?("+zt+")"+i(i("\\%25|\\%(?!"+pe+"{2})")+"("+Hn+")")+"?\\]?$")}}var c=l(!1),f=l(!0),d=function(){function K(j,X){var pe=[],he=!0,He=!1,Te=void 0;try{for(var Ve=j[Symbol.iterator](),ct;!(he=(ct=Ve.next()).done)&&(pe.push(ct.value),!(X&&pe.length===X));he=!0);}catch(Je){He=!0,Te=Je}finally{try{!he&&Ve.return&&Ve.return()}finally{if(He)throw Te}}return pe}return function(j,X){if(Array.isArray(j))return j;if(Symbol.iterator in Object(j))return K(j,X);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(K){if(Array.isArray(K)){for(var j=0,X=Array(K.length);j<K.length;j++)X[j]=K[j];return X}else return Array.from(K)},p=2147483647,m=36,y=1,g=26,_=38,b=700,T=72,I=128,E="-",S=/^xn--/,A=/[^\0-\x7E]/,L=/[\x2E\u3002\uFF0E\uFF61]/g,W={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},z=m-y,U=Math.floor,Z=String.fromCharCode;function H(K){throw new RangeError(W[K])}function ue(K,j){for(var X=[],pe=K.length;pe--;)X[pe]=j(K[pe]);return X}function ie(K,j){var X=K.split("@"),pe="";X.length>1&&(pe=X[0]+"@",K=X[1]),K=K.replace(L,".");var he=K.split("."),He=ue(he,j).join(".");return pe+He}function _e(K){for(var j=[],X=0,pe=K.length;X<pe;){var he=K.charCodeAt(X++);if(he>=55296&&he<=56319&&X<pe){var He=K.charCodeAt(X++);(He&64512)==56320?j.push(((he&1023)<<10)+(He&1023)+65536):(j.push(he),X--)}else j.push(he)}return j}var te=function(j){return String.fromCodePoint.apply(String,h(j))},oe=function(j){return j-48<10?j-22:j-65<26?j-65:j-97<26?j-97:m},J=function(j,X){return j+22+75*(j<26)-((X!=0)<<5)},x=function(j,X,pe){var he=0;for(j=pe?U(j/b):j>>1,j+=U(j/X);j>z*g>>1;he+=m)j=U(j/z);return U(he+(z+1)*j/(j+_))},C=function(j){var X=[],pe=j.length,he=0,He=I,Te=T,Ve=j.lastIndexOf(E);Ve<0&&(Ve=0);for(var ct=0;ct<Ve;++ct)j.charCodeAt(ct)>=128&&H("not-basic"),X.push(j.charCodeAt(ct));for(var Je=Ve>0?Ve+1:0;Je<pe;){for(var mt=he,Lt=1,$n=m;;$n+=m){Je>=pe&&H("invalid-input");var pt=oe(j.charCodeAt(Je++));(pt>=m||pt>U((p-he)/Lt))&&H("overflow"),he+=pt*Lt;var xn=$n<=Te?y:$n>=Te+g?g:$n-Te;if(pt<xn)break;var Et=m-xn;Lt>U(p/Et)&&H("overflow"),Lt*=Et}var mn=X.length+1;Te=x(he-mt,mn,mt==0),U(he/mn)>p-He&&H("overflow"),He+=U(he/mn),he%=mn,X.splice(he++,0,He)}return String.fromCodePoint.apply(String,X)},B=function(j){var X=[];j=_e(j);var pe=j.length,he=I,He=0,Te=T,Ve=!0,ct=!1,Je=void 0;try{for(var mt=j[Symbol.iterator](),Lt;!(Ve=(Lt=mt.next()).done);Ve=!0){var $n=Lt.value;$n<128&&X.push(Z($n))}}catch(be){ct=!0,Je=be}finally{try{!Ve&&mt.return&&mt.return()}finally{if(ct)throw Je}}var pt=X.length,xn=pt;for(pt&&X.push(E);xn<pe;){var Et=p,mn=!0,tr=!1,Wr=void 0;try{for(var Pr=j[Symbol.iterator](),is;!(mn=(is=Pr.next()).done);mn=!0){var _i=is.value;_i>=he&&_i<Et&&(Et=_i)}}catch(be){tr=!0,Wr=be}finally{try{!mn&&Pr.return&&Pr.return()}finally{if(tr)throw Wr}}var hr=xn+1;Et-he>U((p-He)/hr)&&H("overflow"),He+=(Et-he)*hr,he=Et;var Ge=!0,zt=!1,Hn=void 0;try{for(var ii=j[Symbol.iterator](),gs;!(Ge=(gs=ii.next()).done);Ge=!0){var R=gs.value;if(R<he&&++He>p&&H("overflow"),R==he){for(var Y=He,M=m;;M+=m){var ne=M<=Te?y:M>=Te+g?g:M-Te;if(Y<ne)break;var se=Y-ne,ee=m-ne;X.push(Z(J(ne+se%ee,0))),Y=U(se/ee)}X.push(Z(J(Y,0))),Te=x(He,hr,xn==pt),He=0,++xn}}}catch(be){zt=!0,Hn=be}finally{try{!Ge&&ii.return&&ii.return()}finally{if(zt)throw Hn}}++He,++he}return X.join("")},P=function(j){return ie(j,function(X){return S.test(X)?C(X.slice(4).toLowerCase()):X})},O=function(j){return ie(j,function(X){return A.test(X)?"xn--"+B(X):X})},G={version:"2.1.0",ucs2:{decode:_e,encode:te},decode:C,encode:B,toASCII:O,toUnicode:P},fe={};function le(K){var j=K.charCodeAt(0),X=void 0;return j<16?X="%0"+j.toString(16).toUpperCase():j<128?X="%"+j.toString(16).toUpperCase():j<2048?X="%"+(j>>6|192).toString(16).toUpperCase()+"%"+(j&63|128).toString(16).toUpperCase():X="%"+(j>>12|224).toString(16).toUpperCase()+"%"+(j>>6&63|128).toString(16).toUpperCase()+"%"+(j&63|128).toString(16).toUpperCase(),X}function me(K){for(var j="",X=0,pe=K.length;X<pe;){var he=parseInt(K.substr(X+1,2),16);if(he<128)j+=String.fromCharCode(he),X+=3;else if(he>=194&&he<224){if(pe-X>=6){var He=parseInt(K.substr(X+4,2),16);j+=String.fromCharCode((he&31)<<6|He&63)}else j+=K.substr(X,6);X+=6}else if(he>=224){if(pe-X>=9){var Te=parseInt(K.substr(X+4,2),16),Ve=parseInt(K.substr(X+7,2),16);j+=String.fromCharCode((he&15)<<12|(Te&63)<<6|Ve&63)}else j+=K.substr(X,9);X+=9}else j+=K.substr(X,3),X+=3}return j}function ge(K,j){function X(pe){var he=me(pe);return he.match(j.UNRESERVED)?he:pe}return K.scheme&&(K.scheme=String(K.scheme).replace(j.PCT_ENCODED,X).toLowerCase().replace(j.NOT_SCHEME,"")),K.userinfo!==void 0&&(K.userinfo=String(K.userinfo).replace(j.PCT_ENCODED,X).replace(j.NOT_USERINFO,le).replace(j.PCT_ENCODED,o)),K.host!==void 0&&(K.host=String(K.host).replace(j.PCT_ENCODED,X).toLowerCase().replace(j.NOT_HOST,le).replace(j.PCT_ENCODED,o)),K.path!==void 0&&(K.path=String(K.path).replace(j.PCT_ENCODED,X).replace(K.scheme?j.NOT_PATH:j.NOT_PATH_NOSCHEME,le).replace(j.PCT_ENCODED,o)),K.query!==void 0&&(K.query=String(K.query).replace(j.PCT_ENCODED,X).replace(j.NOT_QUERY,le).replace(j.PCT_ENCODED,o)),K.fragment!==void 0&&(K.fragment=String(K.fragment).replace(j.PCT_ENCODED,X).replace(j.NOT_FRAGMENT,le).replace(j.PCT_ENCODED,o)),K}function Se(K){return K.replace(/^0*(.*)/,"$1")||"0"}function de(K,j){var X=K.match(j.IPV4ADDRESS)||[],pe=d(X,2),he=pe[1];return he?he.split(".").map(Se).join("."):K}function st(K,j){var X=K.match(j.IPV6ADDRESS)||[],pe=d(X,3),he=pe[1],He=pe[2];if(he){for(var Te=he.toLowerCase().split("::").reverse(),Ve=d(Te,2),ct=Ve[0],Je=Ve[1],mt=Je?Je.split(":").map(Se):[],Lt=ct.split(":").map(Se),$n=j.IPV4ADDRESS.test(Lt[Lt.length-1]),pt=$n?7:8,xn=Lt.length-pt,Et=Array(pt),mn=0;mn<pt;++mn)Et[mn]=mt[mn]||Lt[xn+mn]||"";$n&&(Et[pt-1]=de(Et[pt-1],j));var tr=Et.reduce(function(hr,Ge,zt){if(!Ge||Ge==="0"){var Hn=hr[hr.length-1];Hn&&Hn.index+Hn.length===zt?Hn.length++:hr.push({index:zt,length:1})}return hr},[]),Wr=tr.sort(function(hr,Ge){return Ge.length-hr.length})[0],Pr=void 0;if(Wr&&Wr.length>1){var is=Et.slice(0,Wr.index),_i=Et.slice(Wr.index+Wr.length);Pr=is.join(":")+"::"+_i.join(":")}else Pr=Et.join(":");return He&&(Pr+="%"+He),Pr}else return K}var Ke=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,qe="".match(/(){0}/)[1]===void 0;function $e(K){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},X={},pe=j.iri!==!1?f:c;j.reference==="suffix"&&(K=(j.scheme?j.scheme+":":"")+"//"+K);var he=K.match(Ke);if(he){qe?(X.scheme=he[1],X.userinfo=he[3],X.host=he[4],X.port=parseInt(he[5],10),X.path=he[6]||"",X.query=he[7],X.fragment=he[8],isNaN(X.port)&&(X.port=he[5])):(X.scheme=he[1]||void 0,X.userinfo=K.indexOf("@")!==-1?he[3]:void 0,X.host=K.indexOf("//")!==-1?he[4]:void 0,X.port=parseInt(he[5],10),X.path=he[6]||"",X.query=K.indexOf("?")!==-1?he[7]:void 0,X.fragment=K.indexOf("#")!==-1?he[8]:void 0,isNaN(X.port)&&(X.port=K.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?he[4]:void 0)),X.host&&(X.host=st(de(X.host,pe),pe)),X.scheme===void 0&&X.userinfo===void 0&&X.host===void 0&&X.port===void 0&&!X.path&&X.query===void 0?X.reference="same-document":X.scheme===void 0?X.reference="relative":X.fragment===void 0?X.reference="absolute":X.reference="uri",j.reference&&j.reference!=="suffix"&&j.reference!==X.reference&&(X.error=X.error||"URI is not a "+j.reference+" reference.");var He=fe[(j.scheme||X.scheme||"").toLowerCase()];if(!j.unicodeSupport&&(!He||!He.unicodeSupport)){if(X.host&&(j.domainHost||He&&He.domainHost))try{X.host=G.toASCII(X.host.replace(pe.PCT_ENCODED,me).toLowerCase())}catch(Te){X.error=X.error||"Host's domain name can not be converted to ASCII via punycode: "+Te}ge(X,c)}else ge(X,pe);He&&He.parse&&He.parse(X,j)}else X.error=X.error||"URI can not be parsed.";return X}function ot(K,j){var X=j.iri!==!1?f:c,pe=[];return K.userinfo!==void 0&&(pe.push(K.userinfo),pe.push("@")),K.host!==void 0&&pe.push(st(de(String(K.host),X),X).replace(X.IPV6ADDRESS,function(he,He,Te){return"["+He+(Te?"%25"+Te:"")+"]"})),(typeof K.port=="number"||typeof K.port=="string")&&(pe.push(":"),pe.push(String(K.port))),pe.length?pe.join(""):void 0}var ut=/^\.\.?\//,On=/^\/\.(\/|$)/,Ue=/^\/\.\.(\/|$)/,Be=/^\/?(?:.|\n)*?(?=\/|$)/;function bt(K){for(var j=[];K.length;)if(K.match(ut))K=K.replace(ut,"");else if(K.match(On))K=K.replace(On,"/");else if(K.match(Ue))K=K.replace(Ue,"/"),j.pop();else if(K==="."||K==="..")K="";else{var X=K.match(Be);if(X){var pe=X[0];K=K.slice(pe.length),j.push(pe)}else throw new Error("Unexpected dot segment condition")}return j.join("")}function je(K){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},X=j.iri?f:c,pe=[],he=fe[(j.scheme||K.scheme||"").toLowerCase()];if(he&&he.serialize&&he.serialize(K,j),K.host&&!X.IPV6ADDRESS.test(K.host)){if(j.domainHost||he&&he.domainHost)try{K.host=j.iri?G.toUnicode(K.host):G.toASCII(K.host.replace(X.PCT_ENCODED,me).toLowerCase())}catch(Ve){K.error=K.error||"Host's domain name can not be converted to "+(j.iri?"Unicode":"ASCII")+" via punycode: "+Ve}}ge(K,X),j.reference!=="suffix"&&K.scheme&&(pe.push(K.scheme),pe.push(":"));var He=ot(K,j);if(He!==void 0&&(j.reference!=="suffix"&&pe.push("//"),pe.push(He),K.path&&K.path.charAt(0)!=="/"&&pe.push("/")),K.path!==void 0){var Te=K.path;!j.absolutePath&&(!he||!he.absolutePath)&&(Te=bt(Te)),He===void 0&&(Te=Te.replace(/^\/\//,"/%2F")),pe.push(Te)}return K.query!==void 0&&(pe.push("?"),pe.push(K.query)),K.fragment!==void 0&&(pe.push("#"),pe.push(K.fragment)),pe.join("")}function gt(K,j){var X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},pe=arguments[3],he={};return pe||(K=$e(je(K,X),X),j=$e(je(j,X),X)),X=X||{},!X.tolerant&&j.scheme?(he.scheme=j.scheme,he.userinfo=j.userinfo,he.host=j.host,he.port=j.port,he.path=bt(j.path||""),he.query=j.query):(j.userinfo!==void 0||j.host!==void 0||j.port!==void 0?(he.userinfo=j.userinfo,he.host=j.host,he.port=j.port,he.path=bt(j.path||""),he.query=j.query):(j.path?(j.path.charAt(0)==="/"?he.path=bt(j.path):((K.userinfo!==void 0||K.host!==void 0||K.port!==void 0)&&!K.path?he.path="/"+j.path:K.path?he.path=K.path.slice(0,K.path.lastIndexOf("/")+1)+j.path:he.path=j.path,he.path=bt(he.path)),he.query=j.query):(he.path=K.path,j.query!==void 0?he.query=j.query:he.query=K.query),he.userinfo=K.userinfo,he.host=K.host,he.port=K.port),he.scheme=K.scheme),he.fragment=j.fragment,he}function Yt(K,j,X){var pe=u({scheme:"null"},X);return je(gt($e(K,pe),$e(j,pe),pe,!0),pe)}function an(K,j){return typeof K=="string"?K=je($e(K,j),j):s(K)==="object"&&(K=$e(je(K,j),j)),K}function Yn(K,j,X){return typeof K=="string"?K=je($e(K,X),X):s(K)==="object"&&(K=je(K,X)),typeof j=="string"?j=je($e(j,X),X):s(j)==="object"&&(j=je(j,X)),K===j}function ce(K,j){return K&&K.toString().replace(!j||!j.iri?c.ESCAPE:f.ESCAPE,le)}function we(K,j){return K&&K.toString().replace(!j||!j.iri?c.PCT_ENCODED:f.PCT_ENCODED,me)}var Le={scheme:"http",domainHost:!0,parse:function(j,X){return j.host||(j.error=j.error||"HTTP URIs must have a host."),j},serialize:function(j,X){var pe=String(j.scheme).toLowerCase()==="https";return(j.port===(pe?443:80)||j.port==="")&&(j.port=void 0),j.path||(j.path="/"),j}},rt={scheme:"https",domainHost:Le.domainHost,parse:Le.parse,serialize:Le.serialize};function De(K){return typeof K.secure=="boolean"?K.secure:String(K.scheme).toLowerCase()==="wss"}var it={scheme:"ws",domainHost:!0,parse:function(j,X){var pe=j;return pe.secure=De(pe),pe.resourceName=(pe.path||"/")+(pe.query?"?"+pe.query:""),pe.path=void 0,pe.query=void 0,pe},serialize:function(j,X){if((j.port===(De(j)?443:80)||j.port==="")&&(j.port=void 0),typeof j.secure=="boolean"&&(j.scheme=j.secure?"wss":"ws",j.secure=void 0),j.resourceName){var pe=j.resourceName.split("?"),he=d(pe,2),He=he[0],Te=he[1];j.path=He&&He!=="/"?He:void 0,j.query=Te,j.resourceName=void 0}return j.fragment=void 0,j}},Me={scheme:"wss",domainHost:it.domainHost,parse:it.parse,serialize:it.serialize},Ze={},bn="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Wt="[0-9A-Fa-f]",St=i(i("%[EFef]"+Wt+"%"+Wt+Wt+"%"+Wt+Wt)+"|"+i("%[89A-Fa-f]"+Wt+"%"+Wt+Wt)+"|"+i("%"+Wt+Wt)),Bn="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",En="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",ta=r(En,'[\\"\\\\]'),fr="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",Mi=new RegExp(bn,"g"),vr=new RegExp(St,"g"),$r=new RegExp(r("[^]",Bn,"[\\.]",'[\\"]',ta),"g"),dr=new RegExp(r("[^]",bn,fr),"g"),jn=dr;function Zt(K){var j=me(K);return j.match(Mi)?j:K}var ri={scheme:"mailto",parse:function(j,X){var pe=j,he=pe.to=pe.path?pe.path.split(","):[];if(pe.path=void 0,pe.query){for(var He=!1,Te={},Ve=pe.query.split("&"),ct=0,Je=Ve.length;ct<Je;++ct){var mt=Ve[ct].split("=");switch(mt[0]){case"to":for(var Lt=mt[1].split(","),$n=0,pt=Lt.length;$n<pt;++$n)he.push(Lt[$n]);break;case"subject":pe.subject=we(mt[1],X);break;case"body":pe.body=we(mt[1],X);break;default:He=!0,Te[we(mt[0],X)]=we(mt[1],X);break}}He&&(pe.headers=Te)}pe.query=void 0;for(var xn=0,Et=he.length;xn<Et;++xn){var mn=he[xn].split("@");if(mn[0]=we(mn[0]),X.unicodeSupport)mn[1]=we(mn[1],X).toLowerCase();else try{mn[1]=G.toASCII(we(mn[1],X).toLowerCase())}catch(tr){pe.error=pe.error||"Email address's domain name can not be converted to ASCII via punycode: "+tr}he[xn]=mn.join("@")}return pe},serialize:function(j,X){var pe=j,he=a(j.to);if(he){for(var He=0,Te=he.length;He<Te;++He){var Ve=String(he[He]),ct=Ve.lastIndexOf("@"),Je=Ve.slice(0,ct).replace(vr,Zt).replace(vr,o).replace($r,le),mt=Ve.slice(ct+1);try{mt=X.iri?G.toUnicode(mt):G.toASCII(we(mt,X).toLowerCase())}catch(xn){pe.error=pe.error||"Email address's domain name can not be converted to "+(X.iri?"Unicode":"ASCII")+" via punycode: "+xn}he[He]=Je+"@"+mt}pe.path=he.join(",")}var Lt=j.headers=j.headers||{};j.subject&&(Lt.subject=j.subject),j.body&&(Lt.body=j.body);var $n=[];for(var pt in Lt)Lt[pt]!==Ze[pt]&&$n.push(pt.replace(vr,Zt).replace(vr,o).replace(dr,le)+"="+Lt[pt].replace(vr,Zt).replace(vr,o).replace(jn,le));return $n.length&&(pe.query=$n.join("&")),pe}},br=/^([^\:]+)\:(.*)/,Lr={scheme:"urn",parse:function(j,X){var pe=j.path&&j.path.match(br),he=j;if(pe){var He=X.scheme||he.scheme||"urn",Te=pe[1].toLowerCase(),Ve=pe[2],ct=He+":"+(X.nid||Te),Je=fe[ct];he.nid=Te,he.nss=Ve,he.path=void 0,Je&&(he=Je.parse(he,X))}else he.error=he.error||"URN can not be parsed.";return he},serialize:function(j,X){var pe=X.scheme||j.scheme||"urn",he=j.nid,He=pe+":"+(X.nid||he),Te=fe[He];Te&&(j=Te.serialize(j,X));var Ve=j,ct=j.nss;return Ve.path=(he||X.nid)+":"+ct,Ve}},yi=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,ms={scheme:"urn:uuid",parse:function(j,X){var pe=j;return pe.uuid=pe.nss,pe.nss=void 0,!X.tolerant&&(!pe.uuid||!pe.uuid.match(yi))&&(pe.error=pe.error||"UUID is not valid."),pe},serialize:function(j,X){var pe=j;return pe.nss=(j.uuid||"").toLowerCase(),pe}};fe[Le.scheme]=Le,fe[rt.scheme]=rt,fe[it.scheme]=it,fe[Me.scheme]=Me,fe[ri.scheme]=ri,fe[Lr.scheme]=Lr,fe[ms.scheme]=ms,n.SCHEMES=fe,n.pctEncChar=le,n.pctDecChars=me,n.parse=$e,n.removeDotSegments=bt,n.serialize=je,n.resolveComponents=gt,n.resolve=Yt,n.normalize=an,n.equal=Yn,n.escapeComponent=ce,n.unescapeComponent=we,Object.defineProperty(n,"__esModule",{value:!0})})})(UP,UP.exports);var kOe=UP.exports;Object.defineProperty(Lk,"__esModule",{value:!0});const dX=kOe;dX.code='require("ajv/dist/runtime/uri").default';Lk.default=dX;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=Ea;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var n=Gt;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return n.CodeGen}});const r=O_,i=P_,s=Nd,o=Rs,a=Gt,u=Ai,l=A_,c=pn,f=NOe,d=Lk,h=(J,x)=>new RegExp(J,x);h.code="new RegExp";const p=["removeAdditional","useDefaults","coerceTypes"],m=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),y={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},g={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},_=200;function b(J){var x,C,B,P,O,G,fe,le,me,ge,Se,de,st,Ke,qe,$e,ot,ut,On,Ue,Be,bt,je,gt,Yt;const an=J.strict,Yn=(x=J.code)===null||x===void 0?void 0:x.optimize,ce=Yn===!0||Yn===void 0?1:Yn||0,we=(B=(C=J.code)===null||C===void 0?void 0:C.regExp)!==null&&B!==void 0?B:h,Le=(P=J.uriResolver)!==null&&P!==void 0?P:d.default;return{strictSchema:(G=(O=J.strictSchema)!==null&&O!==void 0?O:an)!==null&&G!==void 0?G:!0,strictNumbers:(le=(fe=J.strictNumbers)!==null&&fe!==void 0?fe:an)!==null&&le!==void 0?le:!0,strictTypes:(ge=(me=J.strictTypes)!==null&&me!==void 0?me:an)!==null&&ge!==void 0?ge:"log",strictTuples:(de=(Se=J.strictTuples)!==null&&Se!==void 0?Se:an)!==null&&de!==void 0?de:"log",strictRequired:(Ke=(st=J.strictRequired)!==null&&st!==void 0?st:an)!==null&&Ke!==void 0?Ke:!1,code:J.code?{...J.code,optimize:ce,regExp:we}:{optimize:ce,regExp:we},loopRequired:(qe=J.loopRequired)!==null&&qe!==void 0?qe:_,loopEnum:($e=J.loopEnum)!==null&&$e!==void 0?$e:_,meta:(ot=J.meta)!==null&&ot!==void 0?ot:!0,messages:(ut=J.messages)!==null&&ut!==void 0?ut:!0,inlineRefs:(On=J.inlineRefs)!==null&&On!==void 0?On:!0,schemaId:(Ue=J.schemaId)!==null&&Ue!==void 0?Ue:"$id",addUsedSchema:(Be=J.addUsedSchema)!==null&&Be!==void 0?Be:!0,validateSchema:(bt=J.validateSchema)!==null&&bt!==void 0?bt:!0,validateFormats:(je=J.validateFormats)!==null&&je!==void 0?je:!0,unicodeRegExp:(gt=J.unicodeRegExp)!==null&&gt!==void 0?gt:!0,int32range:(Yt=J.int32range)!==null&&Yt!==void 0?Yt:!0,uriResolver:Le}}class T{constructor(x={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,x=this.opts={...x,...b(x)};const{es5:C,lines:B}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:m,es5:C,lines:B}),this.logger=U(x.logger);const P=x.validateFormats;x.validateFormats=!1,this.RULES=(0,s.getRules)(),I.call(this,y,x,"NOT SUPPORTED"),I.call(this,g,x,"DEPRECATED","warn"),this._metaOpts=W.call(this),x.formats&&A.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),x.keywords&&L.call(this,x.keywords),typeof x.meta=="object"&&this.addMetaSchema(x.meta),S.call(this),x.validateFormats=P}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:x,meta:C,schemaId:B}=this.opts;let P=f;B==="id"&&(P={...f},P.id=P.$id,delete P.$id),C&&x&&this.addMetaSchema(P,P[B],!1)}defaultMeta(){const{meta:x,schemaId:C}=this.opts;return this.opts.defaultMeta=typeof x=="object"?x[C]||x:void 0}validate(x,C){let B;if(typeof x=="string"){if(B=this.getSchema(x),!B)throw new Error(`no schema with key or ref "${x}"`)}else B=this.compile(x);const P=B(C);return"$async"in B||(this.errors=B.errors),P}compile(x,C){const B=this._addSchema(x,C);return B.validate||this._compileSchemaEnv(B)}compileAsync(x,C){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:B}=this.opts;return P.call(this,x,C);async function P(ge,Se){await O.call(this,ge.$schema);const de=this._addSchema(ge,Se);return de.validate||G.call(this,de)}async function O(ge){ge&&!this.getSchema(ge)&&await P.call(this,{$ref:ge},!0)}async function G(ge){try{return this._compileSchemaEnv(ge)}catch(Se){if(!(Se instanceof i.default))throw Se;return fe.call(this,Se),await le.call(this,Se.missingSchema),G.call(this,ge)}}function fe({missingSchema:ge,missingRef:Se}){if(this.refs[ge])throw new Error(`AnySchema ${ge} is loaded but ${Se} cannot be resolved`)}async function le(ge){const Se=await me.call(this,ge);this.refs[ge]||await O.call(this,Se.$schema),this.refs[ge]||this.addSchema(Se,ge,C)}async function me(ge){const Se=this._loading[ge];if(Se)return Se;try{return await(this._loading[ge]=B(ge))}finally{delete this._loading[ge]}}}addSchema(x,C,B,P=this.opts.validateSchema){if(Array.isArray(x)){for(const G of x)this.addSchema(G,void 0,B,P);return this}let O;if(typeof x=="object"){const{schemaId:G}=this.opts;if(O=x[G],O!==void 0&&typeof O!="string")throw new Error(`schema ${G} must be string`)}return C=(0,u.normalizeId)(C||O),this._checkUnique(C),this.schemas[C]=this._addSchema(x,B,C,P,!0),this}addMetaSchema(x,C,B=this.opts.validateSchema){return this.addSchema(x,C,!0,B),this}validateSchema(x,C){if(typeof x=="boolean")return!0;let B;if(B=x.$schema,B!==void 0&&typeof B!="string")throw new Error("$schema must be a string");if(B=B||this.opts.defaultMeta||this.defaultMeta(),!B)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const P=this.validate(B,x);if(!P&&C){const O="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(O);else throw new Error(O)}return P}getSchema(x){let C;for(;typeof(C=E.call(this,x))=="string";)x=C;if(C===void 0){const{schemaId:B}=this.opts,P=new o.SchemaEnv({schema:{},schemaId:B});if(C=o.resolveSchema.call(this,P,x),!C)return;this.refs[x]=C}return C.validate||this._compileSchemaEnv(C)}removeSchema(x){if(x instanceof RegExp)return this._removeAllSchemas(this.schemas,x),this._removeAllSchemas(this.refs,x),this;switch(typeof x){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const C=E.call(this,x);return typeof C=="object"&&this._cache.delete(C.schema),delete this.schemas[x],delete this.refs[x],this}case"object":{const C=x;this._cache.delete(C);let B=x[this.opts.schemaId];return B&&(B=(0,u.normalizeId)(B),delete this.schemas[B],delete this.refs[B]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(x){for(const C of x)this.addKeyword(C);return this}addKeyword(x,C){let B;if(typeof x=="string")B=x,typeof C=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),C.keyword=B);else if(typeof x=="object"&&C===void 0){if(C=x,B=C.keyword,Array.isArray(B)&&!B.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(H.call(this,B,C),!C)return(0,c.eachItem)(B,O=>ue.call(this,O)),this;_e.call(this,C);const P={...C,type:(0,l.getJSONTypes)(C.type),schemaType:(0,l.getJSONTypes)(C.schemaType)};return(0,c.eachItem)(B,P.type.length===0?O=>ue.call(this,O,P):O=>P.type.forEach(G=>ue.call(this,O,P,G))),this}getKeyword(x){const C=this.RULES.all[x];return typeof C=="object"?C.definition:!!C}removeKeyword(x){const{RULES:C}=this;delete C.keywords[x],delete C.all[x];for(const B of C.rules){const P=B.rules.findIndex(O=>O.keyword===x);P>=0&&B.rules.splice(P,1)}return this}addFormat(x,C){return typeof C=="string"&&(C=new RegExp(C)),this.formats[x]=C,this}errorsText(x=this.errors,{separator:C=", ",dataVar:B="data"}={}){return!x||x.length===0?"No errors":x.map(P=>`${B}${P.instancePath} ${P.message}`).reduce((P,O)=>P+C+O)}$dataMetaSchema(x,C){const B=this.RULES.all;x=JSON.parse(JSON.stringify(x));for(const P of C){const O=P.split("/").slice(1);let G=x;for(const fe of O)G=G[fe];for(const fe in B){const le=B[fe];if(typeof le!="object")continue;const{$data:me}=le.definition,ge=G[fe];me&&ge&&(G[fe]=oe(ge))}}return x}_removeAllSchemas(x,C){for(const B in x){const P=x[B];(!C||C.test(B))&&(typeof P=="string"?delete x[B]:P&&!P.meta&&(this._cache.delete(P.schema),delete x[B]))}}_addSchema(x,C,B,P=this.opts.validateSchema,O=this.opts.addUsedSchema){let G;const{schemaId:fe}=this.opts;if(typeof x=="object")G=x[fe];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof x!="boolean")throw new Error("schema must be object or boolean")}let le=this._cache.get(x);if(le!==void 0)return le;B=(0,u.normalizeId)(G||B);const me=u.getSchemaRefs.call(this,x,B);return le=new o.SchemaEnv({schema:x,schemaId:fe,meta:C,baseId:B,localRefs:me}),this._cache.set(le.schema,le),O&&!B.startsWith("#")&&(B&&this._checkUnique(B),this.refs[B]=le),P&&this.validateSchema(x,!0),le}_checkUnique(x){if(this.schemas[x]||this.refs[x])throw new Error(`schema with key or id "${x}" already exists`)}_compileSchemaEnv(x){if(x.meta?this._compileMetaSchema(x):o.compileSchema.call(this,x),!x.validate)throw new Error("ajv implementation error");return x.validate}_compileMetaSchema(x){const C=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,x)}finally{this.opts=C}}}e.default=T,T.ValidationError=r.default,T.MissingRefError=i.default;function I(J,x,C,B="error"){for(const P in J){const O=P;O in x&&this.logger[B](`${C}: option ${P}. ${J[O]}`)}}function E(J){return J=(0,u.normalizeId)(J),this.schemas[J]||this.refs[J]}function S(){const J=this.opts.schemas;if(J)if(Array.isArray(J))this.addSchema(J);else for(const x in J)this.addSchema(J[x],x)}function A(){for(const J in this.opts.formats){const x=this.opts.formats[J];x&&this.addFormat(J,x)}}function L(J){if(Array.isArray(J)){this.addVocabulary(J);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const x in J){const C=J[x];C.keyword||(C.keyword=x),this.addKeyword(C)}}function W(){const J={...this.opts};for(const x of p)delete J[x];return J}const z={log(){},warn(){},error(){}};function U(J){if(J===!1)return z;if(J===void 0)return console;if(J.log&&J.warn&&J.error)return J;throw new Error("logger must implement log, warn and error methods")}const Z=/^[a-z_$][a-z0-9_$:-]*$/i;function H(J,x){const{RULES:C}=this;if((0,c.eachItem)(J,B=>{if(C.keywords[B])throw new Error(`Keyword ${B} is already defined`);if(!Z.test(B))throw new Error(`Keyword ${B} has invalid name`)}),!!x&&x.$data&&!("code"in x||"validate"in x))throw new Error('$data keyword must have "code" or "validate" function')}function ue(J,x,C){var B;const P=x==null?void 0:x.post;if(C&&P)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:O}=this;let G=P?O.post:O.rules.find(({type:le})=>le===C);if(G||(G={type:C,rules:[]},O.rules.push(G)),O.keywords[J]=!0,!x)return;const fe={keyword:J,definition:{...x,type:(0,l.getJSONTypes)(x.type),schemaType:(0,l.getJSONTypes)(x.schemaType)}};x.before?ie.call(this,G,fe,x.before):G.rules.push(fe),O.all[J]=fe,(B=x.implements)===null||B===void 0||B.forEach(le=>this.addKeyword(le))}function ie(J,x,C){const B=J.rules.findIndex(P=>P.keyword===C);B>=0?J.rules.splice(B,0,x):(J.rules.push(x),this.logger.warn(`rule ${C} is not defined`))}function _e(J){let{metaSchema:x}=J;x!==void 0&&(J.$data&&this.opts.$data&&(x=oe(x)),J.validateSchema=this.compile(x,!0))}const te={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function oe(J){return{anyOf:[J,te]}}})(VQ);var Mk={},Fk={},Bk={};Object.defineProperty(Bk,"__esModule",{value:!0});const DOe={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};Bk.default=DOe;var kd={};Object.defineProperty(kd,"__esModule",{value:!0});kd.callRef=kd.getValidate=void 0;const $Oe=P_,Z8=qt,ws=Gt,vh=Nu,e9=Rs,Xv=pn,LOe={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:n,it:r}=e,{baseId:i,schemaEnv:s,validateName:o,opts:a,self:u}=r,{root:l}=s;if((n==="#"||n==="#/")&&i===l.baseId)return f();const c=e9.resolveRef.call(u,l,i,n);if(c===void 0)throw new $Oe.default(r.opts.uriResolver,i,n);if(c instanceof e9.SchemaEnv)return d(c);return h(c);function f(){if(s===l)return Z1(e,o,s,s.$async);const p=t.scopeValue("root",{ref:l});return Z1(e,(0,ws._)`${p}.validate`,l,l.$async)}function d(p){const m=hX(e,p);Z1(e,m,p,p.$async)}function h(p){const m=t.scopeValue("schema",a.code.source===!0?{ref:p,code:(0,ws.stringify)(p)}:{ref:p}),y=t.name("valid"),g=e.subschema({schema:p,dataTypes:[],schemaPath:ws.nil,topSchemaRef:m,errSchemaPath:n},y);e.mergeEvaluated(g),e.ok(y)}}};function hX(e,t){const{gen:n}=e;return t.validate?n.scopeValue("validate",{ref:t.validate}):(0,ws._)`${n.scopeValue("wrapper",{ref:t})}.validate`}kd.getValidate=hX;function Z1(e,t,n,r){const{gen:i,it:s}=e,{allErrors:o,schemaEnv:a,opts:u}=s,l=u.passContext?vh.default.this:ws.nil;r?c():f();function c(){if(!a.$async)throw new Error("async schema referenced by sync schema");const p=i.let("valid");i.try(()=>{i.code((0,ws._)`await ${(0,Z8.callValidateCode)(e,t,l)}`),h(t),o||i.assign(p,!0)},m=>{i.if((0,ws._)`!(${m} instanceof ${s.ValidationError})`,()=>i.throw(m)),d(m),o||i.assign(p,!1)}),e.ok(p)}function f(){e.result((0,Z8.callValidateCode)(e,t,l),()=>h(t),()=>d(t))}function d(p){const m=(0,ws._)`${p}.errors`;i.assign(vh.default.vErrors,(0,ws._)`${vh.default.vErrors} === null ? ${m} : ${vh.default.vErrors}.concat(${m})`),i.assign(vh.default.errors,(0,ws._)`${vh.default.vErrors}.length`)}function h(p){var m;if(!s.opts.unevaluated)return;const y=(m=n==null?void 0:n.validate)===null||m===void 0?void 0:m.evaluated;if(s.props!==!0)if(y&&!y.dynamicProps)y.props!==void 0&&(s.props=Xv.mergeEvaluated.props(i,y.props,s.props));else{const g=i.var("props",(0,ws._)`${p}.evaluated.props`);s.props=Xv.mergeEvaluated.props(i,g,s.props,ws.Name)}if(s.items!==!0)if(y&&!y.dynamicItems)y.items!==void 0&&(s.items=Xv.mergeEvaluated.items(i,y.items,s.items));else{const g=i.var("items",(0,ws._)`${p}.evaluated.items`);s.items=Xv.mergeEvaluated.items(i,g,s.items,ws.Name)}}}kd.callRef=Z1;kd.default=LOe;Object.defineProperty(Fk,"__esModule",{value:!0});const MOe=Bk,FOe=kd,BOe=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",MOe.default,FOe.default];Fk.default=BOe;var jk={},Uk={};Object.defineProperty(Uk,"__esModule",{value:!0});const Nw=Gt,Zl=Nw.operators,kw={maximum:{okStr:"<=",ok:Zl.LTE,fail:Zl.GT},minimum:{okStr:">=",ok:Zl.GTE,fail:Zl.LT},exclusiveMaximum:{okStr:"<",ok:Zl.LT,fail:Zl.GTE},exclusiveMinimum:{okStr:">",ok:Zl.GT,fail:Zl.LTE}},jOe={message:({keyword:e,schemaCode:t})=>(0,Nw.str)`must be ${kw[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,Nw._)`{comparison: ${kw[e].okStr}, limit: ${t}}`},UOe={keyword:Object.keys(kw),type:"number",schemaType:"number",$data:!0,error:jOe,code(e){const{keyword:t,data:n,schemaCode:r}=e;e.fail$data((0,Nw._)`${n} ${kw[t].fail} ${r} || isNaN(${n})`)}};Uk.default=UOe;var Vk={};Object.defineProperty(Vk,"__esModule",{value:!0});const Og=Gt,VOe={message:({schemaCode:e})=>(0,Og.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,Og._)`{multipleOf: ${e}}`},zOe={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:VOe,code(e){const{gen:t,data:n,schemaCode:r,it:i}=e,s=i.opts.multipleOfPrecision,o=t.let("res"),a=s?(0,Og._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${s}`:(0,Og._)`${o} !== parseInt(${o})`;e.fail$data((0,Og._)`(${r} === 0 || (${o} = ${n}/${r}, ${a}))`)}};Vk.default=zOe;var zk={},Hk={};Object.defineProperty(Hk,"__esModule",{value:!0});function pX(e){const t=e.length;let n=0,r=0,i;for(;r<t;)n++,i=e.charCodeAt(r++),i>=55296&&i<=56319&&r<t&&(i=e.charCodeAt(r),(i&64512)===56320&&r++);return n}Hk.default=pX;pX.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(zk,"__esModule",{value:!0});const Hf=Gt,HOe=pn,WOe=Hk,qOe={message({keyword:e,schemaCode:t}){const n=e==="maxLength"?"more":"fewer";return(0,Hf.str)`must NOT have ${n} than ${t} characters`},params:({schemaCode:e})=>(0,Hf._)`{limit: ${e}}`},GOe={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:qOe,code(e){const{keyword:t,data:n,schemaCode:r,it:i}=e,s=t==="maxLength"?Hf.operators.GT:Hf.operators.LT,o=i.opts.unicode===!1?(0,Hf._)`${n}.length`:(0,Hf._)`${(0,HOe.useFunc)(e.gen,WOe.default)}(${n})`;e.fail$data((0,Hf._)`${o} ${s} ${r}`)}};zk.default=GOe;var Wk={};Object.defineProperty(Wk,"__esModule",{value:!0});const YOe=qt,Dw=Gt,KOe={message:({schemaCode:e})=>(0,Dw.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,Dw._)`{pattern: ${e}}`},QOe={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:KOe,code(e){const{data:t,$data:n,schema:r,schemaCode:i,it:s}=e,o=s.opts.unicodeRegExp?"u":"",a=n?(0,Dw._)`(new RegExp(${i}, ${o}))`:(0,YOe.usePattern)(e,r);e.fail$data((0,Dw._)`!${a}.test(${t})`)}};Wk.default=QOe;var qk={};Object.defineProperty(qk,"__esModule",{value:!0});const Pg=Gt,XOe={message({keyword:e,schemaCode:t}){const n=e==="maxProperties"?"more":"fewer";return(0,Pg.str)`must NOT have ${n} than ${t} properties`},params:({schemaCode:e})=>(0,Pg._)`{limit: ${e}}`},JOe={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:XOe,code(e){const{keyword:t,data:n,schemaCode:r}=e,i=t==="maxProperties"?Pg.operators.GT:Pg.operators.LT;e.fail$data((0,Pg._)`Object.keys(${n}).length ${i} ${r}`)}};qk.default=JOe;var Gk={};Object.defineProperty(Gk,"__esModule",{value:!0});const A0=qt,Rg=Gt,ZOe=pn,ePe={message:({params:{missingProperty:e}})=>(0,Rg.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,Rg._)`{missingProperty: ${e}}`},tPe={keyword:"required",type:"object",schemaType:"array",$data:!0,error:ePe,code(e){const{gen:t,schema:n,schemaCode:r,data:i,$data:s,it:o}=e,{opts:a}=o;if(!s&&n.length===0)return;const u=n.length>=a.loopRequired;if(o.allErrors?l():c(),a.strictRequired){const h=e.parentSchema.properties,{definedProperties:p}=e.it;for(const m of n)if((h==null?void 0:h[m])===void 0&&!p.has(m)){const y=o.schemaEnv.baseId+o.errSchemaPath,g=`required property "${m}" is not defined at "${y}" (strictRequired)`;(0,ZOe.checkStrictMode)(o,g,o.opts.strictRequired)}}function l(){if(u||s)e.block$data(Rg.nil,f);else for(const h of n)(0,A0.checkReportMissingProp)(e,h)}function c(){const h=t.let("missing");if(u||s){const p=t.let("valid",!0);e.block$data(p,()=>d(h,p)),e.ok(p)}else t.if((0,A0.checkMissingProp)(e,n,h)),(0,A0.reportMissingProp)(e,h),t.else()}function f(){t.forOf("prop",r,h=>{e.setParams({missingProperty:h}),t.if((0,A0.noPropertyInData)(t,i,h,a.ownProperties),()=>e.error())})}function d(h,p){e.setParams({missingProperty:h}),t.forOf(h,r,()=>{t.assign(p,(0,A0.propertyInData)(t,i,h,a.ownProperties)),t.if((0,Rg.not)(p),()=>{e.error(),t.break()})},Rg.nil)}}};Gk.default=tPe;var Yk={};Object.defineProperty(Yk,"__esModule",{value:!0});const Ng=Gt,nPe={message({keyword:e,schemaCode:t}){const n=e==="maxItems"?"more":"fewer";return(0,Ng.str)`must NOT have ${n} than ${t} items`},params:({schemaCode:e})=>(0,Ng._)`{limit: ${e}}`},rPe={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:nPe,code(e){const{keyword:t,data:n,schemaCode:r}=e,i=t==="maxItems"?Ng.operators.GT:Ng.operators.LT;e.fail$data((0,Ng._)`${n}.length ${i} ${r}`)}};Yk.default=rPe;var Kk={},R_={};Object.defineProperty(R_,"__esModule",{value:!0});const mX=Nk;mX.code='require("ajv/dist/runtime/equal").default';R_.default=mX;Object.defineProperty(Kk,"__esModule",{value:!0});const WC=A_,wi=Gt,iPe=pn,sPe=R_,oPe={message:({params:{i:e,j:t}})=>(0,wi.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,wi._)`{i: ${e}, j: ${t}}`},aPe={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:oPe,code(e){const{gen:t,data:n,$data:r,schema:i,parentSchema:s,schemaCode:o,it:a}=e;if(!r&&!i)return;const u=t.let("valid"),l=s.items?(0,WC.getSchemaTypes)(s.items):[];e.block$data(u,c,(0,wi._)`${o} === false`),e.ok(u);function c(){const p=t.let("i",(0,wi._)`${n}.length`),m=t.let("j");e.setParams({i:p,j:m}),t.assign(u,!0),t.if((0,wi._)`${p} > 1`,()=>(f()?d:h)(p,m))}function f(){return l.length>0&&!l.some(p=>p==="object"||p==="array")}function d(p,m){const y=t.name("item"),g=(0,WC.checkDataTypes)(l,y,a.opts.strictNumbers,WC.DataType.Wrong),_=t.const("indices",(0,wi._)`{}`);t.for((0,wi._)`;${p}--;`,()=>{t.let(y,(0,wi._)`${n}[${p}]`),t.if(g,(0,wi._)`continue`),l.length>1&&t.if((0,wi._)`typeof ${y} == "string"`,(0,wi._)`${y} += "_"`),t.if((0,wi._)`typeof ${_}[${y}] == "number"`,()=>{t.assign(m,(0,wi._)`${_}[${y}]`),e.error(),t.assign(u,!1).break()}).code((0,wi._)`${_}[${y}] = ${p}`)})}function h(p,m){const y=(0,iPe.useFunc)(t,sPe.default),g=t.name("outer");t.label(g).for((0,wi._)`;${p}--;`,()=>t.for((0,wi._)`${m} = ${p}; ${m}--;`,()=>t.if((0,wi._)`${y}(${n}[${p}], ${n}[${m}])`,()=>{e.error(),t.assign(u,!1).break(g)})))}}};Kk.default=aPe;var Qk={};Object.defineProperty(Qk,"__esModule",{value:!0});const VP=Gt,uPe=pn,lPe=R_,cPe={message:"must be equal to constant",params:({schemaCode:e})=>(0,VP._)`{allowedValue: ${e}}`},fPe={keyword:"const",$data:!0,error:cPe,code(e){const{gen:t,data:n,$data:r,schemaCode:i,schema:s}=e;r||s&&typeof s=="object"?e.fail$data((0,VP._)`!${(0,uPe.useFunc)(t,lPe.default)}(${n}, ${i})`):e.fail((0,VP._)`${s} !== ${n}`)}};Qk.default=fPe;var Xk={};Object.defineProperty(Xk,"__esModule",{value:!0});const eg=Gt,dPe=pn,hPe=R_,pPe={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,eg._)`{allowedValues: ${e}}`},mPe={keyword:"enum",schemaType:"array",$data:!0,error:pPe,code(e){const{gen:t,data:n,$data:r,schema:i,schemaCode:s,it:o}=e;if(!r&&i.length===0)throw new Error("enum must have non-empty array");const a=i.length>=o.opts.loopEnum;let u;const l=()=>u??(u=(0,dPe.useFunc)(t,hPe.default));let c;if(a||r)c=t.let("valid"),e.block$data(c,f);else{if(!Array.isArray(i))throw new Error("ajv implementation error");const h=t.const("vSchema",s);c=(0,eg.or)(...i.map((p,m)=>d(h,m)))}e.pass(c);function f(){t.assign(c,!1),t.forOf("v",s,h=>t.if((0,eg._)`${l()}(${n}, ${h})`,()=>t.assign(c,!0).break()))}function d(h,p){const m=i[p];return typeof m=="object"&&m!==null?(0,eg._)`${l()}(${n}, ${h}[${p}])`:(0,eg._)`${n} === ${m}`}}};Xk.default=mPe;Object.defineProperty(jk,"__esModule",{value:!0});const gPe=Uk,yPe=Vk,_Pe=zk,vPe=Wk,bPe=qk,EPe=Gk,wPe=Yk,TPe=Kk,SPe=Qk,IPe=Xk,xPe=[gPe.default,yPe.default,_Pe.default,vPe.default,bPe.default,EPe.default,wPe.default,TPe.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},SPe.default,IPe.default];jk.default=xPe;var Jk={},Dm={};Object.defineProperty(Dm,"__esModule",{value:!0});Dm.validateAdditionalItems=void 0;const Wf=Gt,zP=pn,CPe={message:({params:{len:e}})=>(0,Wf.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Wf._)`{limit: ${e}}`},APe={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:CPe,code(e){const{parentSchema:t,it:n}=e,{items:r}=t;if(!Array.isArray(r)){(0,zP.checkStrictMode)(n,'"additionalItems" is ignored when "items" is not an array of schemas');return}gX(e,r)}};function gX(e,t){const{gen:n,schema:r,data:i,keyword:s,it:o}=e;o.items=!0;const a=n.const("len",(0,Wf._)`${i}.length`);if(r===!1)e.setParams({len:t.length}),e.pass((0,Wf._)`${a} <= ${t.length}`);else if(typeof r=="object"&&!(0,zP.alwaysValidSchema)(o,r)){const l=n.var("valid",(0,Wf._)`${a} <= ${t.length}`);n.if((0,Wf.not)(l),()=>u(l)),e.ok(l)}function u(l){n.forRange("i",t.length,a,c=>{e.subschema({keyword:s,dataProp:c,dataPropType:zP.Type.Num},l),o.allErrors||n.if((0,Wf.not)(l),()=>n.break())})}}Dm.validateAdditionalItems=gX;Dm.default=APe;var Zk={},$m={};Object.defineProperty($m,"__esModule",{value:!0});$m.validateTuple=void 0;const t9=Gt,eb=pn,OPe=qt,PPe={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:n}=e;if(Array.isArray(t))return yX(e,"additionalItems",t);n.items=!0,!(0,eb.alwaysValidSchema)(n,t)&&e.ok((0,OPe.validateArray)(e))}};function yX(e,t,n=e.schema){const{gen:r,parentSchema:i,data:s,keyword:o,it:a}=e;c(i),a.opts.unevaluated&&n.length&&a.items!==!0&&(a.items=eb.mergeEvaluated.items(r,n.length,a.items));const u=r.name("valid"),l=r.const("len",(0,t9._)`${s}.length`);n.forEach((f,d)=>{(0,eb.alwaysValidSchema)(a,f)||(r.if((0,t9._)`${l} > ${d}`,()=>e.subschema({keyword:o,schemaProp:d,dataProp:d},u)),e.ok(u))});function c(f){const{opts:d,errSchemaPath:h}=a,p=n.length,m=p===f.minItems&&(p===f.maxItems||f[t]===!1);if(d.strictTuples&&!m){const y=`"${o}" is ${p}-tuple, but minItems or maxItems/${t} are not specified or different at path "${h}"`;(0,eb.checkStrictMode)(a,y,d.strictTuples)}}}$m.validateTuple=yX;$m.default=PPe;Object.defineProperty(Zk,"__esModule",{value:!0});const RPe=$m,NPe={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,RPe.validateTuple)(e,"items")};Zk.default=NPe;var eD={};Object.defineProperty(eD,"__esModule",{value:!0});const n9=Gt,kPe=pn,DPe=qt,$Pe=Dm,LPe={message:({params:{len:e}})=>(0,n9.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,n9._)`{limit: ${e}}`},MPe={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:LPe,code(e){const{schema:t,parentSchema:n,it:r}=e,{prefixItems:i}=n;r.items=!0,!(0,kPe.alwaysValidSchema)(r,t)&&(i?(0,$Pe.validateAdditionalItems)(e,i):e.ok((0,DPe.validateArray)(e)))}};eD.default=MPe;var tD={};Object.defineProperty(tD,"__esModule",{value:!0});const Ao=Gt,Jv=pn,FPe={message:({params:{min:e,max:t}})=>t===void 0?(0,Ao.str)`must contain at least ${e} valid item(s)`:(0,Ao.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,Ao._)`{minContains: ${e}}`:(0,Ao._)`{minContains: ${e}, maxContains: ${t}}`},BPe={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:FPe,code(e){const{gen:t,schema:n,parentSchema:r,data:i,it:s}=e;let o,a;const{minContains:u,maxContains:l}=r;s.opts.next?(o=u===void 0?1:u,a=l):o=1;const c=t.const("len",(0,Ao._)`${i}.length`);if(e.setParams({min:o,max:a}),a===void 0&&o===0){(0,Jv.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(a!==void 0&&o>a){(0,Jv.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,Jv.alwaysValidSchema)(s,n)){let m=(0,Ao._)`${c} >= ${o}`;a!==void 0&&(m=(0,Ao._)`${m} && ${c} <= ${a}`),e.pass(m);return}s.items=!0;const f=t.name("valid");a===void 0&&o===1?h(f,()=>t.if(f,()=>t.break())):o===0?(t.let(f,!0),a!==void 0&&t.if((0,Ao._)`${i}.length > 0`,d)):(t.let(f,!1),d()),e.result(f,()=>e.reset());function d(){const m=t.name("_valid"),y=t.let("count",0);h(m,()=>t.if(m,()=>p(y)))}function h(m,y){t.forRange("i",0,c,g=>{e.subschema({keyword:"contains",dataProp:g,dataPropType:Jv.Type.Num,compositeRule:!0},m),y()})}function p(m){t.code((0,Ao._)`${m}++`),a===void 0?t.if((0,Ao._)`${m} >= ${o}`,()=>t.assign(f,!0).break()):(t.if((0,Ao._)`${m} > ${a}`,()=>t.assign(f,!1).break()),o===1?t.assign(f,!0):t.if((0,Ao._)`${m} >= ${o}`,()=>t.assign(f,!0)))}}};tD.default=BPe;var _X={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=Gt,n=pn,r=qt;e.error={message:({params:{property:u,depsCount:l,deps:c}})=>{const f=l===1?"property":"properties";return(0,t.str)`must have ${f} ${c} when property ${u} is present`},params:({params:{property:u,depsCount:l,deps:c,missingProperty:f}})=>(0,t._)`{property: ${u},
    missingProperty: ${f},
    depsCount: ${l},
    deps: ${c}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(u){const[l,c]=s(u);o(u,l),a(u,c)}};function s({schema:u}){const l={},c={};for(const f in u){if(f==="__proto__")continue;const d=Array.isArray(u[f])?l:c;d[f]=u[f]}return[l,c]}function o(u,l=u.schema){const{gen:c,data:f,it:d}=u;if(Object.keys(l).length===0)return;const h=c.let("missing");for(const p in l){const m=l[p];if(m.length===0)continue;const y=(0,r.propertyInData)(c,f,p,d.opts.ownProperties);u.setParams({property:p,depsCount:m.length,deps:m.join(", ")}),d.allErrors?c.if(y,()=>{for(const g of m)(0,r.checkReportMissingProp)(u,g)}):(c.if((0,t._)`${y} && (${(0,r.checkMissingProp)(u,m,h)})`),(0,r.reportMissingProp)(u,h),c.else())}}e.validatePropertyDeps=o;function a(u,l=u.schema){const{gen:c,data:f,keyword:d,it:h}=u,p=c.name("valid");for(const m in l)(0,n.alwaysValidSchema)(h,l[m])||(c.if((0,r.propertyInData)(c,f,m,h.opts.ownProperties),()=>{const y=u.subschema({keyword:d,schemaProp:m},p);u.mergeValidEvaluated(y,p)},()=>c.var(p,!0)),u.ok(p))}e.validateSchemaDeps=a,e.default=i})(_X);var nD={};Object.defineProperty(nD,"__esModule",{value:!0});const vX=Gt,jPe=pn,UPe={message:"property name must be valid",params:({params:e})=>(0,vX._)`{propertyName: ${e.propertyName}}`},VPe={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:UPe,code(e){const{gen:t,schema:n,data:r,it:i}=e;if((0,jPe.alwaysValidSchema)(i,n))return;const s=t.name("valid");t.forIn("key",r,o=>{e.setParams({propertyName:o}),e.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},s),t.if((0,vX.not)(s),()=>{e.error(!0),i.allErrors||t.break()})}),e.ok(s)}};nD.default=VPe;var oI={};Object.defineProperty(oI,"__esModule",{value:!0});const Zv=qt,sa=Gt,zPe=Nu,e1=pn,HPe={message:"must NOT have additional properties",params:({params:e})=>(0,sa._)`{additionalProperty: ${e.additionalProperty}}`},WPe={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:HPe,code(e){const{gen:t,schema:n,parentSchema:r,data:i,errsCount:s,it:o}=e;if(!s)throw new Error("ajv implementation error");const{allErrors:a,opts:u}=o;if(o.props=!0,u.removeAdditional!=="all"&&(0,e1.alwaysValidSchema)(o,n))return;const l=(0,Zv.allSchemaProperties)(r.properties),c=(0,Zv.allSchemaProperties)(r.patternProperties);f(),e.ok((0,sa._)`${s} === ${zPe.default.errors}`);function f(){t.forIn("key",i,y=>{!l.length&&!c.length?p(y):t.if(d(y),()=>p(y))})}function d(y){let g;if(l.length>8){const _=(0,e1.schemaRefOrVal)(o,r.properties,"properties");g=(0,Zv.isOwnProperty)(t,_,y)}else l.length?g=(0,sa.or)(...l.map(_=>(0,sa._)`${y} === ${_}`)):g=sa.nil;return c.length&&(g=(0,sa.or)(g,...c.map(_=>(0,sa._)`${(0,Zv.usePattern)(e,_)}.test(${y})`))),(0,sa.not)(g)}function h(y){t.code((0,sa._)`delete ${i}[${y}]`)}function p(y){if(u.removeAdditional==="all"||u.removeAdditional&&n===!1){h(y);return}if(n===!1){e.setParams({additionalProperty:y}),e.error(),a||t.break();return}if(typeof n=="object"&&!(0,e1.alwaysValidSchema)(o,n)){const g=t.name("valid");u.removeAdditional==="failing"?(m(y,g,!1),t.if((0,sa.not)(g),()=>{e.reset(),h(y)})):(m(y,g),a||t.if((0,sa.not)(g),()=>t.break()))}}function m(y,g,_){const b={keyword:"additionalProperties",dataProp:y,dataPropType:e1.Type.Str};_===!1&&Object.assign(b,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(b,g)}}};oI.default=WPe;var rD={};Object.defineProperty(rD,"__esModule",{value:!0});const qPe=Ea,r9=qt,qC=pn,i9=oI,GPe={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,parentSchema:r,data:i,it:s}=e;s.opts.removeAdditional==="all"&&r.additionalProperties===void 0&&i9.default.code(new qPe.KeywordCxt(s,i9.default,"additionalProperties"));const o=(0,r9.allSchemaProperties)(n);for(const f of o)s.definedProperties.add(f);s.opts.unevaluated&&o.length&&s.props!==!0&&(s.props=qC.mergeEvaluated.props(t,(0,qC.toHash)(o),s.props));const a=o.filter(f=>!(0,qC.alwaysValidSchema)(s,n[f]));if(a.length===0)return;const u=t.name("valid");for(const f of a)l(f)?c(f):(t.if((0,r9.propertyInData)(t,i,f,s.opts.ownProperties)),c(f),s.allErrors||t.else().var(u,!0),t.endIf()),e.it.definedProperties.add(f),e.ok(u);function l(f){return s.opts.useDefaults&&!s.compositeRule&&n[f].default!==void 0}function c(f){e.subschema({keyword:"properties",schemaProp:f,dataProp:f},u)}}};rD.default=GPe;var iD={};Object.defineProperty(iD,"__esModule",{value:!0});const s9=qt,t1=Gt,o9=pn,a9=pn,YPe={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,data:r,parentSchema:i,it:s}=e,{opts:o}=s,a=(0,s9.allSchemaProperties)(n),u=a.filter(m=>(0,o9.alwaysValidSchema)(s,n[m]));if(a.length===0||u.length===a.length&&(!s.opts.unevaluated||s.props===!0))return;const l=o.strictSchema&&!o.allowMatchingProperties&&i.properties,c=t.name("valid");s.props!==!0&&!(s.props instanceof t1.Name)&&(s.props=(0,a9.evaluatedPropsToName)(t,s.props));const{props:f}=s;d();function d(){for(const m of a)l&&h(m),s.allErrors?p(m):(t.var(c,!0),p(m),t.if(c))}function h(m){for(const y in l)new RegExp(m).test(y)&&(0,o9.checkStrictMode)(s,`property ${y} matches pattern ${m} (use allowMatchingProperties)`)}function p(m){t.forIn("key",r,y=>{t.if((0,t1._)`${(0,s9.usePattern)(e,m)}.test(${y})`,()=>{const g=u.includes(m);g||e.subschema({keyword:"patternProperties",schemaProp:m,dataProp:y,dataPropType:a9.Type.Str},c),s.opts.unevaluated&&f!==!0?t.assign((0,t1._)`${f}[${y}]`,!0):!g&&!s.allErrors&&t.if((0,t1.not)(c),()=>t.break())})})}}};iD.default=YPe;var sD={};Object.defineProperty(sD,"__esModule",{value:!0});const KPe=pn,QPe={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:n,it:r}=e;if((0,KPe.alwaysValidSchema)(r,n)){e.fail();return}const i=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),e.failResult(i,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};sD.default=QPe;var oD={};Object.defineProperty(oD,"__esModule",{value:!0});const XPe=qt,JPe={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:XPe.validateUnion,error:{message:"must match a schema in anyOf"}};oD.default=JPe;var aD={};Object.defineProperty(aD,"__esModule",{value:!0});const tb=Gt,ZPe=pn,e2e={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,tb._)`{passingSchemas: ${e.passing}}`},t2e={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:e2e,code(e){const{gen:t,schema:n,parentSchema:r,it:i}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(i.opts.discriminator&&r.discriminator)return;const s=n,o=t.let("valid",!1),a=t.let("passing",null),u=t.name("_valid");e.setParams({passing:a}),t.block(l),e.result(o,()=>e.reset(),()=>e.error(!0));function l(){s.forEach((c,f)=>{let d;(0,ZPe.alwaysValidSchema)(i,c)?t.var(u,!0):d=e.subschema({keyword:"oneOf",schemaProp:f,compositeRule:!0},u),f>0&&t.if((0,tb._)`${u} && ${o}`).assign(o,!1).assign(a,(0,tb._)`[${a}, ${f}]`).else(),t.if(u,()=>{t.assign(o,!0),t.assign(a,f),d&&e.mergeEvaluated(d,tb.Name)})})}}};aD.default=t2e;var uD={};Object.defineProperty(uD,"__esModule",{value:!0});const n2e=pn,r2e={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:n,it:r}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");const i=t.name("valid");n.forEach((s,o)=>{if((0,n2e.alwaysValidSchema)(r,s))return;const a=e.subschema({keyword:"allOf",schemaProp:o},i);e.ok(i),e.mergeEvaluated(a)})}};uD.default=r2e;var lD={};Object.defineProperty(lD,"__esModule",{value:!0});const $w=Gt,bX=pn,i2e={message:({params:e})=>(0,$w.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,$w._)`{failingKeyword: ${e.ifClause}}`},s2e={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:i2e,code(e){const{gen:t,parentSchema:n,it:r}=e;n.then===void 0&&n.else===void 0&&(0,bX.checkStrictMode)(r,'"if" without "then" and "else" is ignored');const i=u9(r,"then"),s=u9(r,"else");if(!i&&!s)return;const o=t.let("valid",!0),a=t.name("_valid");if(u(),e.reset(),i&&s){const c=t.let("ifClause");e.setParams({ifClause:c}),t.if(a,l("then",c),l("else",c))}else i?t.if(a,l("then")):t.if((0,$w.not)(a),l("else"));e.pass(o,()=>e.error(!0));function u(){const c=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);e.mergeEvaluated(c)}function l(c,f){return()=>{const d=e.subschema({keyword:c},a);t.assign(o,a),e.mergeValidEvaluated(d,o),f?t.assign(f,(0,$w._)`${c}`):e.setParams({ifClause:c})}}}};function u9(e,t){const n=e.schema[t];return n!==void 0&&!(0,bX.alwaysValidSchema)(e,n)}lD.default=s2e;var cD={};Object.defineProperty(cD,"__esModule",{value:!0});const o2e=pn,a2e={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:n}){t.if===void 0&&(0,o2e.checkStrictMode)(n,`"${e}" without "if" is ignored`)}};cD.default=a2e;Object.defineProperty(Jk,"__esModule",{value:!0});const u2e=Dm,l2e=Zk,c2e=$m,f2e=eD,d2e=tD,h2e=_X,p2e=nD,m2e=oI,g2e=rD,y2e=iD,_2e=sD,v2e=oD,b2e=aD,E2e=uD,w2e=lD,T2e=cD;function S2e(e=!1){const t=[_2e.default,v2e.default,b2e.default,E2e.default,w2e.default,T2e.default,p2e.default,m2e.default,h2e.default,g2e.default,y2e.default];return e?t.push(l2e.default,f2e.default):t.push(u2e.default,c2e.default),t.push(d2e.default),t}Jk.default=S2e;var fD={},dD={};Object.defineProperty(dD,"__esModule",{value:!0});const Nr=Gt,I2e={message:({schemaCode:e})=>(0,Nr.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,Nr._)`{format: ${e}}`},x2e={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:I2e,code(e,t){const{gen:n,data:r,$data:i,schema:s,schemaCode:o,it:a}=e,{opts:u,errSchemaPath:l,schemaEnv:c,self:f}=a;if(!u.validateFormats)return;i?d():h();function d(){const p=n.scopeValue("formats",{ref:f.formats,code:u.code.formats}),m=n.const("fDef",(0,Nr._)`${p}[${o}]`),y=n.let("fType"),g=n.let("format");n.if((0,Nr._)`typeof ${m} == "object" && !(${m} instanceof RegExp)`,()=>n.assign(y,(0,Nr._)`${m}.type || "string"`).assign(g,(0,Nr._)`${m}.validate`),()=>n.assign(y,(0,Nr._)`"string"`).assign(g,m)),e.fail$data((0,Nr.or)(_(),b()));function _(){return u.strictSchema===!1?Nr.nil:(0,Nr._)`${o} && !${g}`}function b(){const T=c.$async?(0,Nr._)`(${m}.async ? await ${g}(${r}) : ${g}(${r}))`:(0,Nr._)`${g}(${r})`,I=(0,Nr._)`(typeof ${g} == "function" ? ${T} : ${g}.test(${r}))`;return(0,Nr._)`${g} && ${g} !== true && ${y} === ${t} && !${I}`}}function h(){const p=f.formats[s];if(!p){_();return}if(p===!0)return;const[m,y,g]=b(p);m===t&&e.pass(T());function _(){if(u.strictSchema===!1){f.logger.warn(I());return}throw new Error(I());function I(){return`unknown format "${s}" ignored in schema at path "${l}"`}}function b(I){const E=I instanceof RegExp?(0,Nr.regexpCode)(I):u.code.formats?(0,Nr._)`${u.code.formats}${(0,Nr.getProperty)(s)}`:void 0,S=n.scopeValue("formats",{key:s,ref:I,code:E});return typeof I=="object"&&!(I instanceof RegExp)?[I.type||"string",I.validate,(0,Nr._)`${S}.validate`]:["string",I,S]}function T(){if(typeof p=="object"&&!(p instanceof RegExp)&&p.async){if(!c.$async)throw new Error("async format in sync schema");return(0,Nr._)`await ${g}(${r})`}return typeof y=="function"?(0,Nr._)`${g}(${r})`:(0,Nr._)`${g}.test(${r})`}}}};dD.default=x2e;Object.defineProperty(fD,"__esModule",{value:!0});const C2e=dD,A2e=[C2e.default];fD.default=A2e;var Xp={};Object.defineProperty(Xp,"__esModule",{value:!0});Xp.contentVocabulary=Xp.metadataVocabulary=void 0;Xp.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Xp.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(Mk,"__esModule",{value:!0});const O2e=Fk,P2e=jk,R2e=Jk,N2e=fD,l9=Xp,k2e=[O2e.default,P2e.default,(0,R2e.default)(),N2e.default,l9.metadataVocabulary,l9.contentVocabulary];Mk.default=k2e;var hD={},EX={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))})(EX);Object.defineProperty(hD,"__esModule",{value:!0});const Ch=Gt,HP=EX,c9=Rs,D2e=pn,$2e={message:({params:{discrError:e,tagName:t}})=>e===HP.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:n}})=>(0,Ch._)`{error: ${e}, tag: ${n}, tagValue: ${t}}`},L2e={keyword:"discriminator",type:"object",schemaType:"object",error:$2e,code(e){const{gen:t,data:n,schema:r,parentSchema:i,it:s}=e,{oneOf:o}=i;if(!s.opts.discriminator)throw new Error("discriminator: requires discriminator option");const a=r.propertyName;if(typeof a!="string")throw new Error("discriminator: requires propertyName");if(r.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");const u=t.let("valid",!1),l=t.const("tag",(0,Ch._)`${n}${(0,Ch.getProperty)(a)}`);t.if((0,Ch._)`typeof ${l} == "string"`,()=>c(),()=>e.error(!1,{discrError:HP.DiscrError.Tag,tag:l,tagName:a})),e.ok(u);function c(){const h=d();t.if(!1);for(const p in h)t.elseIf((0,Ch._)`${l} === ${p}`),t.assign(u,f(h[p]));t.else(),e.error(!1,{discrError:HP.DiscrError.Mapping,tag:l,tagName:a}),t.endIf()}function f(h){const p=t.name("valid"),m=e.subschema({keyword:"oneOf",schemaProp:h},p);return e.mergeEvaluated(m,Ch.Name),p}function d(){var h;const p={},m=g(i);let y=!0;for(let T=0;T<o.length;T++){let I=o[T];I!=null&&I.$ref&&!(0,D2e.schemaHasRulesButRef)(I,s.self.RULES)&&(I=c9.resolveRef.call(s.self,s.schemaEnv.root,s.baseId,I==null?void 0:I.$ref),I instanceof c9.SchemaEnv&&(I=I.schema));const E=(h=I==null?void 0:I.properties)===null||h===void 0?void 0:h[a];if(typeof E!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);y=y&&(m||g(I)),_(E,T)}if(!y)throw new Error(`discriminator: "${a}" must be required`);return p;function g({required:T}){return Array.isArray(T)&&T.includes(a)}function _(T,I){if(T.const)b(T.const,I);else if(T.enum)for(const E of T.enum)b(E,I);else throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`)}function b(T,I){if(typeof T!="string"||T in p)throw new Error(`discriminator: "${a}" values must be unique strings`);p[T]=I}}}};hD.default=L2e;const M2e="http://json-schema.org/draft-07/schema#",F2e="http://json-schema.org/draft-07/schema#",B2e="Core schema meta-schema",j2e={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},U2e=["object","boolean"],V2e={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},z2e={$schema:M2e,$id:F2e,title:B2e,definitions:j2e,type:U2e,properties:V2e,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const n=VQ,r=Mk,i=hD,s=z2e,o=["/properties"],a="http://json-schema.org/draft-07/schema";class u extends n.default{_addVocabularies(){super._addVocabularies(),r.default.forEach(p=>this.addVocabulary(p)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const p=this.opts.$data?this.$dataMetaSchema(s,o):s;this.addMetaSchema(p,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}e.exports=t=u,Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var l=Ea;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return l.KeywordCxt}});var c=Gt;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return c._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return c.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return c.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return c.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return c.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return c.CodeGen}});var f=O_;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return f.default}});var d=P_;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return d.default}})})(FP,FP.exports);var H2e=FP.exports;const wX=Oa(H2e),W2e="#/definitions/StudyConfig",q2e="http://json-schema.org/draft-07/schema#",G2e={Answer:{additionalProperties:!1,description:"The Answer interface is used to define the properties of an answer. Answers are used to define the correct answer for a task. These are generally used in training tasks.",properties:{acceptableHigh:{description:"The acceptable high value for the answer. This is used to define a range of acceptable answers.",type:"number"},acceptableLow:{description:"The acceptable low value for the answer. This is used to define a range of acceptable answers.",type:"number"},answer:{description:"The correct answer to the question."},id:{description:"The id of the answer. This is used to identify the answer in the data file.",type:"string"}},required:["id","answer"],type:"object"},CheckboxResponse:{additionalProperties:!1,description:"The CheckboxResponse interface is used to define the properties of a checkbox response. CheckboxResponses render as a checkbox input with user specified options.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},options:{description:"The options that are displayed as checkboxes.",items:{$ref:"#/definitions/Option"},type:"array"},paramCapture:{description:"Use to capture querystring parameters such as PROLIFIC_ID. See the examples for how this is used.",type:"string"},prompt:{description:"The prompt that is displayed to the participant.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"checkbox",type:"string"}},required:["id","location","options","prompt","required","type"],type:"object"},DropdownResponse:{additionalProperties:!1,description:"The DropdownResponse interface is used to define the properties of a dropdown response. DropdownResponses render as a select input with user specified options.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},options:{description:"The options that are displayed in the dropdown.",items:{$ref:"#/definitions/Option"},type:"array"},paramCapture:{description:"Use to capture querystring parameters such as PROLIFIC_ID. See the examples for how this is used.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"dropdown",type:"string"}},required:["id","location","options","prompt","required","type"],type:"object"},IFrameResponse:{additionalProperties:!1,description:"The IFrameResponse interface is used to define the properties of an iframe response. IFrameResponses render as a list, that is connected to a WebsiteComponent. When data is sent from the WebsiteComponent, it is displayed in the list.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},paramCapture:{description:"Use to capture querystring parameters such as PROLIFIC_ID. See the examples for how this is used.",type:"string"},prompt:{description:"The prompt that is displayed to the participant.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"iframe",type:"string"}},required:["id","location","prompt","required","type"],type:"object"},ImageComponent:{additionalProperties:!1,description:"The ImageComponent interface is used to define the properties of an image component. This component is used to render an image with optional styling.",properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},path:{description:"The path to the image. This should be a relative path from the public folder.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},style:{additionalProperties:{type:"string"},description:"The style of the image. This is an object with css properties as keys and css values as values.",type:"object"},type:{const:"image",type:"string"}},required:["path","response","type"],type:"object"},IndividualComponent:{anyOf:[{$ref:"#/definitions/MarkdownComponent"},{$ref:"#/definitions/ReactComponent"},{$ref:"#/definitions/ImageComponent"},{$ref:"#/definitions/WebsiteComponent"},{$ref:"#/definitions/QuestionnaireComponent"}]},InheritedComponent:{additionalProperties:!1,description:"An InheritedComponent is a component that inherits properties from a baseComponent. This is used to avoid repeating properties in components. This also means that components in the baseComponents object can be partially defined, while components in the components object can inherit from them and must be fully defined and include all properties (after potentially merging with a base component).",properties:{baseComponent:{type:"string"},correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{anyOf:[{additionalProperties:{},description:"The parameters that are passed to the react component. These can be used within your react component to render different things.",type:"object"},{additionalProperties:{},description:"The parameters that are passed to the website (iframe). These can be used within your website to render different things.",type:"object"}],description:"The parameters that are passed to the react component. These can be used within your react component to render different things."},path:{description:"The path to the markdown file. This should be a relative path from the public folder.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},style:{additionalProperties:{type:"string"},description:"The style of the image. This is an object with css properties as keys and css values as values.",type:"object"},type:{enum:["markdown","react-component","image","website","questionnaire"],type:"string"}},required:["baseComponent"],type:"object"},LikertResponse:{additionalProperties:!1,description:"The LikertResponse interface is used to define the properties of a likert response. LikertResponses render as radio buttons with a user specified number of options, which can be controlled through the preset. For example, preset: 5 will render 5 radio buttons, and preset: 7 will render 7 radio buttons. LikertResponses can also have a description, and left and right labels. The left and right labels are used to label the left and right ends of the likert scale with values such as 'Strongly Disagree' and 'Strongly Agree'.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},desc:{description:"The description of the likert scale.",type:"string"},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},leftLabel:{description:"The left label of the likert scale. E.g Strongly Disagree",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},paramCapture:{description:"Use to capture querystring parameters such as PROLIFIC_ID. See the examples for how this is used.",type:"string"},preset:{description:"The number of options to render.",type:"number"},prompt:{description:"The prompt that is displayed to the participant.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},rightLabel:{description:"The right label of the likert scale. E.g Strongly Agree",type:"string"},type:{const:"likert",type:"string"}},required:["id","location","preset","prompt","required","type"],type:"object"},LongTextResponse:{additionalProperties:!1,description:"The LongTextResponse interface is used to define the properties of a long text response. LongTextResponses render as a text area that accepts any text and can optionally have a placeholder.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},paramCapture:{description:"Use to capture querystring parameters such as PROLIFIC_ID. See the examples for how this is used.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"longText",type:"string"}},required:["id","location","prompt","required","type"],type:"object"},MarkdownComponent:{additionalProperties:!1,description:"The MarkdownComponent interface is used to define the properties of a markdown component. The components can be used to render many different things, such as consent forms, instructions, and debriefs. Additionally, you can use the markdown component to render images, videos, and other media, with supporting text.",properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},path:{description:"The path to the markdown file. This should be a relative path from the public folder.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},type:{const:"markdown",type:"string"}},required:["path","response","type"],type:"object"},NumericalResponse:{additionalProperties:!1,description:"The NumericalResponse interface is used to define the properties of a numerical response. NumericalResponses render as a text input that only accepts numbers, and can optionally have a min and max value, or a placeholder.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},max:{description:"The maximum value that is accepted in the input.",type:"number"},min:{description:"The minimum value that is accepted in the input.",type:"number"},paramCapture:{description:"Use to capture querystring parameters such as PROLIFIC_ID. See the examples for how this is used.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"numerical",type:"string"}},required:["id","location","prompt","required","type"],type:"object"},Option:{additionalProperties:!1,description:"The Option interface is used to define the options for a dropdown, slider, radio, or checkbox response. The label is the text that is displayed to the user, and the value is the value that is stored in the data file. The Option interface is used in the Response interface.",properties:{label:{description:"The label displayed to participants.",type:"string"},value:{description:"The value stored in the participant's data.",type:["string","number"]}},required:["label","value"],type:"object"},OrderObject:{additionalProperties:!1,description:"The OrderObject interface is used to define the properties of an order object. This is used to define the order of components in a study. It supports random assignment of trials using a pure random assignment and a latin square.",properties:{components:{description:"The components that are included in the order.",items:{anyOf:[{type:"string"},{$ref:"#/definitions/OrderObject"}]},type:"array"},numSamples:{description:"The number of samples to use for the random assignments. This means you can randomize across 3 components while only showing a participant 2 at a time.",type:"number"},order:{description:"The type of order. This can be random (pure random), latinSquare (random with some guarantees), or fixed.",enum:["random","latinSquare","fixed"],type:"string"}},required:["order","components"],type:"object"},QuestionnaireComponent:{additionalProperties:!1,description:"The QuestionnaireComponent interface is used to define the properties of a questionnaire component. A QuestionnaireComponent is used to render questions with different response types. The response types are also defined with these documentation. The main use case of this component type is to ask participants questions, without using markdown, websites, images, etc.",properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},type:{const:"questionnaire",type:"string"}},required:["response","type"],type:"object"},RadioResponse:{additionalProperties:!1,description:"The RadioResponse interface is used to define the properties of a radio response. RadioResponses render as a radio input with user specified options, and optionally left and right labels.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},leftLabel:{type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},options:{items:{$ref:"#/definitions/Option"},type:"array"},paramCapture:{description:"Use to capture querystring parameters such as PROLIFIC_ID. See the examples for how this is used.",type:"string"},prompt:{description:"The prompt that is displayed to the participant.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},rightLabel:{type:"string"},type:{const:"radio",type:"string"}},required:["id","location","options","prompt","required","type"],type:"object"},ReactComponent:{additionalProperties:!1,description:"The ReactComponent interface is used to define the properties of a react component. This component is used to render react code with certain parameters. These parameters can be used within your react code to render different things.",properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{additionalProperties:{},description:"The parameters that are passed to the react component. These can be used within your react component to render different things.",type:"object"},path:{description:"The path to the react component. This should be a relative path from the src/public folder.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},type:{const:"react-component",type:"string"}},required:["path","response","type"],type:"object"},Response:{anyOf:[{$ref:"#/definitions/NumericalResponse"},{$ref:"#/definitions/ShortTextResponse"},{$ref:"#/definitions/LongTextResponse"},{$ref:"#/definitions/LikertResponse"},{$ref:"#/definitions/DropdownResponse"},{$ref:"#/definitions/SliderResponse"},{$ref:"#/definitions/RadioResponse"},{$ref:"#/definitions/CheckboxResponse"},{$ref:"#/definitions/IFrameResponse"}]},ResponseBlockLocation:{enum:["sidebar","aboveStimulus","belowStimulus"],type:"string"},ShortTextResponse:{additionalProperties:!1,description:"The ShortTextResponse interface is used to define the properties of a short text response. ShortTextResponses render as a text input that accepts any text and can optionally have a placeholder.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},paramCapture:{description:"Use to capture querystring parameters such as PROLIFIC_ID. See the examples for how this is used.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"shortText",type:"string"}},required:["id","location","prompt","required","type"],type:"object"},SliderResponse:{additionalProperties:!1,description:"The SliderResponse interface is used to define the properties of a slider response. SliderResponses render as a slider input with user specified steps. For example, you could have steps of 0, 50, and 100.",properties:{correctAnswer:{description:"The correct answer to the response. This is used in the data download and can be shown in the admin panel."},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses."},options:{description:"This define the steps in the slider and the extent of the slider.",items:{$ref:"#/definitions/Option"},type:"array"},paramCapture:{description:"Use to capture querystring parameters such as PROLIFIC_ID. See the examples for how this is used.",type:"string"},prompt:{description:"The prompt that is displayed to the participant.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},type:{const:"slider",type:"string"}},required:["id","location","options","prompt","required","type"],type:"object"},StudyConfig:{additionalProperties:!1,description:"The StudyConfig interface is used to define the properties of a study configuration. These are the hjson files that live in the public folder. In our repo, one example of this would be public/cleveland/config-cleveland.hjson.",properties:{$schema:{description:"A required json schema property. This should point to the github link for the version of the schema you would like. See examples for more information",type:"string"},baseComponents:{additionalProperties:{anyOf:[{$ref:"#/definitions/IndividualComponent"},{additionalProperties:!1,properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{anyOf:[{additionalProperties:{},description:"The parameters that are passed to the react component. These can be used within your react component to render different things.",type:"object"},{additionalProperties:{},description:"The parameters that are passed to the website (iframe). These can be used within your website to render different things.",type:"object"}],description:"The parameters that are passed to the react component. These can be used within your react component to render different things."},path:{description:"The path to the markdown file. This should be a relative path from the public folder.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},style:{additionalProperties:{type:"string"},description:"The style of the image. This is an object with css properties as keys and css values as values.",type:"object"},type:{enum:["markdown","react-component","image","website","questionnaire"],type:"string"}},type:"object"}]},description:"The components that are used in the study (baseComponents allow PartialComponents which allows for inheriting from them in components).",type:"object"},components:{additionalProperties:{anyOf:[{$ref:"#/definitions/IndividualComponent"},{$ref:"#/definitions/InheritedComponent"}]},description:"The components that are used in the study. They must be fully defined here with all properties. Some properties may be inherited from baseComponents.",type:"object"},sequence:{$ref:"#/definitions/OrderObject",description:"The order of the components in the study. This might include some randomness."},studyMetadata:{$ref:"#/definitions/StudyMetadata",description:"The metadata for the study. This is used to identify the study and version in the data file."},uiConfig:{$ref:"#/definitions/UIConfig",description:"The UI configuration for the study. This is used to configure the UI of the app."}},required:["$schema","studyMetadata","uiConfig","components","sequence"],type:"object"},StudyMetadata:{additionalProperties:!1,description:"The StudyMetadata is used to describe certain properties of a study. Some of this data is displayed on the landing page when running the app, such as the title and description. This data is also included in the data file that is downloaded at the end of the study, to help identify the study and version.",properties:{authors:{description:"The authors of your study.",items:{type:"string"},type:"array"},date:{description:"The date of your study, may be useful for the researcher.",type:"string"},description:{description:"The description of your study, shown on the landing page.",type:"string"},organizations:{description:"The organizations that are associated with your study.",items:{type:"string"},type:"array"},title:{description:"The title of your study, shown on the landing page.",type:"string"},version:{description:"The version of your study, shown on the landing page and attached to participant data. This might be useful for seeing which version of the study a participant saw.",type:"string"}},required:["title","version","authors","date","description","organizations"],type:"object"},UIConfig:{additionalProperties:!1,description:"The UIConfig is used to configure the UI of the app. This includes the logo, contact email, and whether to show a progress bar. The UIConfig is also used to configure the sidebar, which can be used to display the task instructions and capture responses.",properties:{autoDownloadStudy:{description:"Controls whether the study data is automatically downloaded at the end of the study.",type:"boolean"},autoDownloadTime:{description:"The time in milliseconds to wait before automatically downloading the study data.",type:"number"},contactEmail:{description:"The email address that used during the study if a participant clicks contact.",type:"string"},helpTextPath:{description:"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported.",type:"string"},logoPath:{description:"The path to the logo image. This is displayed on the landing page and the header.",type:"string"},sidebar:{description:"Controls whether the left sidebar is rendered at all. Required to be true if your response's location is set to sidebar for any question.",type:"boolean"},studyEndMsg:{description:"The message to display when the study ends.",type:"string"},windowEventDebounceTime:{description:"Debounce time in milliseconds for automatically tracked window events. Defaults to 100. E.g 100 here means 1000ms / 100ms = 10 times a second, 200 here means 1000ms / 200ms = 5 times per second",type:"number"},withProgressBar:{description:"Controls whether the progress bar is rendered in the study.",type:"boolean"}},required:["contactEmail","logoPath","withProgressBar","sidebar"],type:"object"},WebsiteComponent:{additionalProperties:!1,description:"The WebsiteComponent interface is used to define the properties of a website component. A WebsiteComponent is used to render an iframe with a website inside of it. This can be used to display an external website or an html file that is located in the public folder.",properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{additionalProperties:{},description:"The parameters that are passed to the website (iframe). These can be used within your website to render different things.",type:"object"},path:{description:"The path to the website. This should be a relative path from the public folder or could be an external website.",type:"string"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},type:{const:"website",type:"string"}},required:["path","response","type"],type:"object"}},Y2e={$ref:W2e,$schema:q2e,definitions:G2e},K2e="#/definitions/GlobalConfig",Q2e="http://json-schema.org/draft-07/schema#",X2e={GlobalConfig:{additionalProperties:!1,description:"The GlobalConfig is used to generate the list of available studies in the UI. This list is displayed on the landing page when running the app.",properties:{$schema:{description:"A required json schema property. This should point to the github link for the version of the schema you would like. See examples for more information",type:"string"},configs:{additionalProperties:{additionalProperties:!1,description:"The key is used to identify the study config file. This key is used in the configList property.",properties:{path:{description:"The path to the study config file. This should be a relative path from the public folder.",type:"string"}},required:["path"],type:"object"},description:"A required property that specifies the options for the configList property.",type:"object"},configsList:{description:"A required property that is used to generate the list of available studies in the UI. This list is displayed on the landing page when running the app.",items:{type:"string"},type:"array"}},required:["$schema","configs","configsList"],type:"object"}},J2e={$ref:K2e,$schema:Q2e,definitions:X2e},TX=new wX;TX.addSchema(J2e);const f9=TX.getSchema("#/definitions/GlobalConfig"),SX=new wX;SX.addSchema(Y2e);const d9=SX.getSchema("#/definitions/StudyConfig");function Z2e(e){const t=[];return[e.configsList.every(r=>e.configs[r]===void 0?(t.push({message:`Config ${r} is not defined in configs object, but is present in configsList`}),!1):!0),t]}function aI(e){return e.baseComponent!==void 0}function eRe(e){const t=Ak.parse(e),n=f9(t),r=Z2e(t);if(n&&r[0])return t;throw console.error("Global config parsing errors",[...f9.errors||[],...r[1]]),Error("There was an issue validating your file global.hjson")}function tRe(e){const t=[];return[Object.values(e.components).every(r=>{var i;return aI(r)?!!((i=e.baseComponents)!=null&&i[r.baseComponent]):!0}),t]}function IX(e,t){const n=Ak.parse(e),r=d9(n),i=tRe(n);if(r&&i[0])return n;throw console.error(`${t} parsing errors`,[...d9.errors||[],...i[1]]),Error(`There was an issue validating your file ${t}`)}function pa(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Zc(e){return!!e&&!!e[or]}function Sl(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===cRe}(e)||Array.isArray(e)||!!e[v9]||!!(!((t=e.constructor)===null||t===void 0)&&t[v9])||pD(e)||mD(e))}function Dd(e,t,n){n===void 0&&(n=!1),Lm(e)===0?(n?Object.keys:yp)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function Lm(e){var t=e[or];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:pD(e)?2:mD(e)?3:0}function gp(e,t){return Lm(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function nRe(e,t){return Lm(e)===2?e.get(t):e[t]}function xX(e,t,n){var r=Lm(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function CX(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function pD(e){return uRe&&e instanceof Map}function mD(e){return lRe&&e instanceof Set}function $f(e){return e.o||e.t}function gD(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=OX(e);delete t[or];for(var n=yp(t),r=0;r<n.length;r++){var i=n[r],s=t[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function yD(e,t){return t===void 0&&(t=!1),_D(e)||Zc(e)||!Sl(e)||(Lm(e)>1&&(e.set=e.add=e.clear=e.delete=rRe),Object.freeze(e),t&&Dd(e,function(n,r){return yD(r,!0)},!0)),e}function rRe(){pa(2)}function _D(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function fu(e){var t=YP[e];return t||pa(18,e),t}function iRe(e,t){YP[e]||(YP[e]=t)}function WP(){return wy}function GC(e,t){t&&(fu("Patches"),e.u=[],e.s=[],e.v=t)}function Lw(e){qP(e),e.p.forEach(sRe),e.p=null}function qP(e){e===wy&&(wy=e.l)}function h9(e){return wy={p:[],l:wy,h:e,m:!0,_:0}}function sRe(e){var t=e[or];t.i===0||t.i===1?t.j():t.O=!0}function YC(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.g||fu("ES5").S(t,e,r),r?(n[or].P&&(Lw(t),pa(4)),Sl(e)&&(e=Mw(t,e),t.l||Fw(t,e)),t.u&&fu("Patches").M(n[or].t,e,t.u,t.s)):e=Mw(t,n,[]),Lw(t),t.u&&t.v(t.u,t.s),e!==AX?e:void 0}function Mw(e,t,n){if(_D(t))return t;var r=t[or];if(!r)return Dd(t,function(a,u){return p9(e,r,t,a,u,n)},!0),t;if(r.A!==e)return t;if(!r.P)return Fw(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=gD(r.k):r.o,s=i,o=!1;r.i===3&&(s=new Set(i),i.clear(),o=!0),Dd(s,function(a,u){return p9(e,r,i,a,u,n,o)}),Fw(e,i,!1),n&&e.u&&fu("Patches").N(r,n,e.u,e.s)}return r.o}function p9(e,t,n,r,i,s,o){if(Zc(i)){var a=Mw(e,i,s&&t&&t.i!==3&&!gp(t.R,r)?s.concat(r):void 0);if(xX(n,r,a),!Zc(a))return;e.m=!1}else o&&n.add(i);if(Sl(i)&&!_D(i)){if(!e.h.D&&e._<1)return;Mw(e,i),t&&t.A.l||Fw(e,i)}}function Fw(e,t,n){n===void 0&&(n=!1),!e.l&&e.h.D&&e.m&&yD(t,n)}function KC(e,t){var n=e[or];return(n?$f(n):e)[t]}function m9(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function mc(e){e.P||(e.P=!0,e.l&&mc(e.l))}function QC(e){e.o||(e.o=gD(e.t))}function GP(e,t,n){var r=pD(t)?fu("MapSet").F(t,n):mD(t)?fu("MapSet").T(t,n):e.g?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:WP(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},u=a,l=Ty;o&&(u=[a],l=tg);var c=Proxy.revocable(u,l),f=c.revoke,d=c.proxy;return a.k=d,a.j=f,d}(t,n):fu("ES5").J(t,n);return(n?n.A:WP()).p.push(r),r}function oRe(e){return Zc(e)||pa(22,e),function t(n){if(!Sl(n))return n;var r,i=n[or],s=Lm(n);if(i){if(!i.P&&(i.i<4||!fu("ES5").K(i)))return i.t;i.I=!0,r=g9(n,s),i.I=!1}else r=g9(n,s);return Dd(r,function(o,a){i&&nRe(i.t,o)===a||xX(r,o,t(a))}),s===3?new Set(r):r}(e)}function g9(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return gD(e)}function aRe(){function e(s,o){var a=i[s];return a?a.enumerable=o:i[s]=a={configurable:!0,enumerable:o,get:function(){var u=this[or];return Ty.get(u,s)},set:function(u){var l=this[or];Ty.set(l,s,u)}},a}function t(s){for(var o=s.length-1;o>=0;o--){var a=s[o][or];if(!a.P)switch(a.i){case 5:r(a)&&mc(a);break;case 4:n(a)&&mc(a)}}}function n(s){for(var o=s.t,a=s.k,u=yp(a),l=u.length-1;l>=0;l--){var c=u[l];if(c!==or){var f=o[c];if(f===void 0&&!gp(o,c))return!0;var d=a[c],h=d&&d[or];if(h?h.t!==f:!CX(d,f))return!0}}var p=!!o[or];return u.length!==yp(o).length+(p?0:1)}function r(s){var o=s.k;if(o.length!==s.t.length)return!0;var a=Object.getOwnPropertyDescriptor(o,o.length-1);if(a&&!a.get)return!0;for(var u=0;u<o.length;u++)if(!o.hasOwnProperty(u))return!0;return!1}var i={};iRe("ES5",{J:function(s,o){var a=Array.isArray(s),u=function(c,f){if(c){for(var d=Array(f.length),h=0;h<f.length;h++)Object.defineProperty(d,""+h,e(h,!0));return d}var p=OX(f);delete p[or];for(var m=yp(p),y=0;y<m.length;y++){var g=m[y];p[g]=e(g,c||!!p[g].enumerable)}return Object.create(Object.getPrototypeOf(f),p)}(a,s),l={i:a?5:4,A:o?o.A:WP(),P:!1,I:!1,R:{},l:o,t:s,k:u,o:null,O:!1,C:!1};return Object.defineProperty(u,or,{value:l,writable:!0}),u},S:function(s,o,a){a?Zc(o)&&o[or].A===s&&t(s.p):(s.u&&function u(l){if(l&&typeof l=="object"){var c=l[or];if(c){var f=c.t,d=c.k,h=c.R,p=c.i;if(p===4)Dd(d,function(b){b!==or&&(f[b]!==void 0||gp(f,b)?h[b]||u(d[b]):(h[b]=!0,mc(c)))}),Dd(f,function(b){d[b]!==void 0||gp(d,b)||(h[b]=!1,mc(c))});else if(p===5){if(r(c)&&(mc(c),h.length=!0),d.length<f.length)for(var m=d.length;m<f.length;m++)h[m]=!1;else for(var y=f.length;y<d.length;y++)h[y]=!0;for(var g=Math.min(d.length,f.length),_=0;_<g;_++)d.hasOwnProperty(_)||(h[_]=!0),h[_]===void 0&&u(d[_])}}}}(s.p[0]),t(s.p))},K:function(s){return s.i===4?n(s):r(s)}})}var y9,wy,vD=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",uRe=typeof Map<"u",lRe=typeof Set<"u",_9=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",AX=vD?Symbol.for("immer-nothing"):((y9={})["immer-nothing"]=!0,y9),v9=vD?Symbol.for("immer-draftable"):"__$immer_draftable",or=vD?Symbol.for("immer-state"):"__$immer_state",cRe=""+Object.prototype.constructor,yp=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,OX=Object.getOwnPropertyDescriptors||function(e){var t={};return yp(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},YP={},Ty={get:function(e,t){if(t===or)return e;var n=$f(e);if(!gp(n,t))return function(i,s,o){var a,u=m9(s,o);return u?"value"in u?u.value:(a=u.get)===null||a===void 0?void 0:a.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!Sl(r)?r:r===KC(e.t,t)?(QC(e),e.o[t]=GP(e.A.h,r,e)):r},has:function(e,t){return t in $f(e)},ownKeys:function(e){return Reflect.ownKeys($f(e))},set:function(e,t,n){var r=m9($f(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=KC($f(e),t),s=i==null?void 0:i[or];if(s&&s.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(CX(n,i)&&(n!==void 0||gp(e.t,t)))return!0;QC(e),mc(e)}return e.o[t]===n&&(n!==void 0||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return KC(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,QC(e),mc(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=$f(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){pa(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){pa(12)}},tg={};Dd(Ty,function(e,t){tg[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),tg.deleteProperty=function(e,t){return tg.set.call(this,e,t,void 0)},tg.set=function(e,t,n){return Ty.set.call(this,e[0],t,n,e[0])};var fRe=function(){function e(n){var r=this;this.g=_9,this.D=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var u=r;return function(m){var y=this;m===void 0&&(m=a);for(var g=arguments.length,_=Array(g>1?g-1:0),b=1;b<g;b++)_[b-1]=arguments[b];return u.produce(m,function(T){var I;return(I=s).call.apply(I,[y,T].concat(_))})}}var l;if(typeof s!="function"&&pa(6),o!==void 0&&typeof o!="function"&&pa(7),Sl(i)){var c=h9(r),f=GP(r,i,void 0),d=!0;try{l=s(f),d=!1}finally{d?Lw(c):qP(c)}return typeof Promise<"u"&&l instanceof Promise?l.then(function(m){return GC(c,o),YC(m,c)},function(m){throw Lw(c),m}):(GC(c,o),YC(l,c))}if(!i||typeof i!="object"){if((l=s(i))===void 0&&(l=i),l===AX&&(l=void 0),r.D&&yD(l,!0),o){var h=[],p=[];fu("Patches").M(i,l,h,p),o(h,p)}return l}pa(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(l){for(var c=arguments.length,f=Array(c>1?c-1:0),d=1;d<c;d++)f[d-1]=arguments[d];return r.produceWithPatches(l,function(h){return i.apply(void 0,[h].concat(f))})};var o,a,u=r.produce(i,s,function(l,c){o=l,a=c});return typeof Promise<"u"&&u instanceof Promise?u.then(function(l){return[l,o,a]}):[u,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){Sl(n)||pa(8),Zc(n)&&(n=oRe(n));var r=h9(this),i=GP(this,n,void 0);return i[or].C=!0,qP(r),i},t.finishDraft=function(n,r){var i=n&&n[or],s=i.A;return GC(s,r),YC(void 0,s)},t.setAutoFreeze=function(n){this.D=n},t.setUseProxies=function(n){n&&!_9&&pa(20),this.g=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=fu("Patches").$;return Zc(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},e}(),ho=new fRe,PX=ho.produce;ho.produceWithPatches.bind(ho);ho.setAutoFreeze.bind(ho);ho.setUseProxies.bind(ho);ho.applyPatches.bind(ho);ho.createDraft.bind(ho);ho.finishDraft.bind(ho);function Sy(e){"@babel/helpers - typeof";return Sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sy(e)}function dRe(e,t){if(Sy(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Sy(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hRe(e){var t=dRe(e,"string");return Sy(t)==="symbol"?t:String(t)}function pRe(e,t,n){return t=hRe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function E9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?b9(Object(n),!0).forEach(function(r){pRe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zi(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var w9=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),XC=function(){return Math.random().toString(36).substring(7).split("").join(".")},Bw={INIT:"@@redux/INIT"+XC(),REPLACE:"@@redux/REPLACE"+XC(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+XC()}};function mRe(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function RX(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(zi(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(zi(1));return n(RX)(e,t)}if(typeof e!="function")throw new Error(zi(2));var i=e,s=t,o=[],a=o,u=!1;function l(){a===o&&(a=o.slice())}function c(){if(u)throw new Error(zi(3));return s}function f(m){if(typeof m!="function")throw new Error(zi(4));if(u)throw new Error(zi(5));var y=!0;return l(),a.push(m),function(){if(y){if(u)throw new Error(zi(6));y=!1,l();var _=a.indexOf(m);a.splice(_,1),o=null}}}function d(m){if(!mRe(m))throw new Error(zi(7));if(typeof m.type>"u")throw new Error(zi(8));if(u)throw new Error(zi(9));try{u=!0,s=i(s,m)}finally{u=!1}for(var y=o=a,g=0;g<y.length;g++){var _=y[g];_()}return m}function h(m){if(typeof m!="function")throw new Error(zi(10));i=m,d({type:Bw.REPLACE})}function p(){var m,y=f;return m={subscribe:function(_){if(typeof _!="object"||_===null)throw new Error(zi(11));function b(){_.next&&_.next(c())}b();var T=y(b);return{unsubscribe:T}}},m[w9]=function(){return this},m}return d({type:Bw.INIT}),r={dispatch:d,subscribe:f,getState:c,replaceReducer:h},r[w9]=p,r}function gRe(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:Bw.INIT});if(typeof r>"u")throw new Error(zi(12));if(typeof n(void 0,{type:Bw.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(zi(13))})}function yRe(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];typeof e[i]=="function"&&(n[i]=e[i])}var s=Object.keys(n),o;try{gRe(n)}catch(a){o=a}return function(u,l){if(u===void 0&&(u={}),o)throw o;for(var c=!1,f={},d=0;d<s.length;d++){var h=s[d],p=n[h],m=u[h],y=p(m,l);if(typeof y>"u")throw l&&l.type,new Error(zi(14));f[h]=y,c=c||y!==m}return c=c||s.length!==Object.keys(u).length,c?f:u}}function jw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function _Re(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(zi(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=t.map(function(u){return u(o)});return s=jw.apply(void 0,a)(i.dispatch),E9(E9({},i),{},{dispatch:s})}}}function NX(e){var t=function(r){var i=r.dispatch,s=r.getState;return function(o){return function(a){return typeof a=="function"?a(i,s,e):o(a)}}};return t}var kX=NX();kX.withExtraArgument=NX;const T9=kX;var vRe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),N_=function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){n.label=l[1];break}if(l[0]===6&&n.label<s[1]){n.label=s[1],s=l;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(l);break}s[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(c){l=[6,c],i=0}finally{r=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},Iy=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},bRe=Object.defineProperty,ERe=Object.defineProperties,wRe=Object.getOwnPropertyDescriptors,S9=Object.getOwnPropertySymbols,TRe=Object.prototype.hasOwnProperty,SRe=Object.prototype.propertyIsEnumerable,I9=function(e,t,n){return t in e?bRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},jc=function(e,t){for(var n in t||(t={}))TRe.call(t,n)&&I9(e,n,t[n]);if(S9)for(var r=0,i=S9(t);r<i.length;r++){var n=i[r];SRe.call(t,n)&&I9(e,n,t[n])}return e},JC=function(e,t){return ERe(e,wRe(t))},k_=function(e,t,n){return new Promise(function(r,i){var s=function(u){try{a(n.next(u))}catch(l){i(l)}},o=function(u){try{a(n.throw(u))}catch(l){i(l)}},a=function(u){return u.done?r(u.value):Promise.resolve(u.value).then(s,o)};a((n=n.apply(e,t)).next())})},IRe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?jw:jw.apply(null,arguments)};function xRe(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var n=t;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return t===n}var CRe=function(e){vRe(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,Iy([void 0],n[0].concat(this)))):new(t.bind.apply(t,Iy([void 0],n.concat(this))))},t}(Array);function KP(e){return Sl(e)?PX(e,function(){}):e}function ARe(e){return typeof e=="boolean"}function ORe(){return function(t){return PRe(t)}}function PRe(e){e===void 0&&(e={});var t=e.thunk,n=t===void 0?!0:t;e.immutableCheck,e.serializableCheck;var r=new CRe;return n&&(ARe(n)?r.push(T9):r.push(T9.withExtraArgument(n.extraArgument))),r}var RRe=!0;function DX(e){var t=ORe(),n=e||{},r=n.reducer,i=r===void 0?void 0:r,s=n.middleware,o=s===void 0?t():s,a=n.devTools,u=a===void 0?!0:a,l=n.preloadedState,c=l===void 0?void 0:l,f=n.enhancers,d=f===void 0?void 0:f,h;if(typeof i=="function")h=i;else if(xRe(i))h=yRe(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var p=o;typeof p=="function"&&(p=p(t));var m=_Re.apply(void 0,p),y=jw;u&&(y=IRe(jc({trace:!RRe},typeof u=="object"&&u)));var g=[m];Array.isArray(d)?g=Iy([m],d):typeof d=="function"&&(g=d(g));var _=y.apply(void 0,g);return RX(h,c,_)}function du(e,t){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(t){var s=t.apply(void 0,r);if(!s)throw new Error("prepareAction did not return an object");return jc(jc({type:e,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:e,payload:r[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(r){return r.type===e},n}function $X(e){var t={},n=[],r,i={addCase:function(s,o){var a=typeof s=="string"?s:s.type;if(a in t)throw new Error("addCase cannot be called with two reducers for the same action type");return t[a]=o,i},addMatcher:function(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase:function(s){return r=s,i}};return e(i),[t,n,r]}function NRe(e){return typeof e=="function"}function kRe(e,t,n,r){n===void 0&&(n=[]);var i=typeof t=="function"?$X(t):[t,n,r],s=i[0],o=i[1],a=i[2],u;if(NRe(e))u=function(){return KP(e())};else{var l=KP(e);u=function(){return l}}function c(f,d){f===void 0&&(f=u());var h=Iy([s[d.type]],o.filter(function(p){var m=p.matcher;return m(d)}).map(function(p){var m=p.reducer;return m}));return h.filter(function(p){return!!p}).length===0&&(h=[a]),h.reduce(function(p,m){if(m)if(Zc(p)){var y=p,g=m(y,d);return g===void 0?p:g}else{if(Sl(p))return PX(p,function(_){return m(_,d)});var g=m(p,d);if(g===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}return p},f)}return c.getInitialState=u,c}function DRe(e,t){return e+"/"+t}function LX(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof e.initialState=="function"?e.initialState:KP(e.initialState),r=e.reducers||{},i=Object.keys(r),s={},o={},a={};i.forEach(function(c){var f=r[c],d=DRe(t,c),h,p;"reducer"in f?(h=f.reducer,p=f.prepare):h=f,s[c]=h,o[d]=h,a[c]=p?du(d,p):du(d)});function u(){var c=typeof e.extraReducers=="function"?$X(e.extraReducers):[e.extraReducers],f=c[0],d=f===void 0?{}:f,h=c[1],p=h===void 0?[]:h,m=c[2],y=m===void 0?void 0:m,g=jc(jc({},d),o);return kRe(n,function(_){for(var b in g)_.addCase(b,g[b]);for(var T=0,I=p;T<I.length;T++){var E=I[T];_.addMatcher(E.matcher,E.reducer)}y&&_.addDefaultCase(y)})}var l;return{name:t,reducer:function(c,f){return l||(l=u()),l(c,f)},actions:a,caseReducers:s,getInitialState:function(){return l||(l=u()),l.getInitialState()}}}var $Re="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",MX=function(e){e===void 0&&(e=21);for(var t="",n=e;n--;)t+=$Re[Math.random()*64|0];return t},LRe=["name","message","stack","code"],ZC=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),x9=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),MRe=function(e){if(typeof e=="object"&&e!==null){for(var t={},n=0,r=LRe;n<r.length;n++){var i=r[n];typeof e[i]=="string"&&(t[i]=e[i])}return t}return{message:String(e)}};(function(){function e(t,n,r){var i=du(t+"/fulfilled",function(l,c,f,d){return{payload:l,meta:JC(jc({},d||{}),{arg:f,requestId:c,requestStatus:"fulfilled"})}}),s=du(t+"/pending",function(l,c,f){return{payload:void 0,meta:JC(jc({},f||{}),{arg:c,requestId:l,requestStatus:"pending"})}}),o=du(t+"/rejected",function(l,c,f,d,h){return{payload:d,error:(r&&r.serializeError||MRe)(l||"Rejected"),meta:JC(jc({},h||{}),{arg:f,requestId:c,rejectedWithValue:!!d,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function l(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return l.prototype.abort=function(){},l}();function u(l){return function(c,f,d){var h=r!=null&&r.idGenerator?r.idGenerator(l):MX(),p=new a,m;function y(_){m=_,p.abort()}var g=function(){return k_(this,null,function(){var _,b,T,I,E,S,A;return N_(this,function(L){switch(L.label){case 0:return L.trys.push([0,4,,5]),I=(_=r==null?void 0:r.condition)==null?void 0:_.call(r,l,{getState:f,extra:d}),BRe(I)?[4,I]:[3,2];case 1:I=L.sent(),L.label=2;case 2:if(I===!1||p.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return E=new Promise(function(W,z){return p.signal.addEventListener("abort",function(){return z({name:"AbortError",message:m||"Aborted"})})}),c(s(h,l,(b=r==null?void 0:r.getPendingMeta)==null?void 0:b.call(r,{requestId:h,arg:l},{getState:f,extra:d}))),[4,Promise.race([E,Promise.resolve(n(l,{dispatch:c,getState:f,extra:d,requestId:h,signal:p.signal,abort:y,rejectWithValue:function(W,z){return new ZC(W,z)},fulfillWithValue:function(W,z){return new x9(W,z)}})).then(function(W){if(W instanceof ZC)throw W;return W instanceof x9?i(W.payload,h,l,W.meta):i(W,h,l)})])];case 3:return T=L.sent(),[3,5];case 4:return S=L.sent(),T=S instanceof ZC?o(null,h,l,S.payload,S.meta):o(S,h,l),[3,5];case 5:return A=r&&!r.dispatchConditionRejection&&o.match(T)&&T.meta.condition,A||c(T),[2,T]}})})}();return Object.assign(g,{abort:y,requestId:h,arg:l,unwrap:function(){return g.then(FRe)}})}}return Object.assign(u,{pending:s,rejected:o,fulfilled:i,typePrefix:t})}return e.withTypes=function(){return e},e})();function FRe(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function BRe(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var jRe=function(e){return e&&typeof e.match=="function"},URe=function(e,t){return jRe(e)?e.match(t):e(t)};function C9(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(n){return e.some(function(r){return URe(r,n)})}}var bD=function(e,t){if(typeof e!="function")throw new TypeError(t+" is not a function")},QP=function(){},FX=function(e,t){return t===void 0&&(t=QP),e.catch(t),e},BX=function(e,t){return e.addEventListener("abort",t,{once:!0}),function(){return e.removeEventListener("abort",t)}},_p=function(e,t){var n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},VRe="task",jX="listener",UX="completed",ED="cancelled",zRe="task-"+ED,HRe="task-"+UX,VX=jX+"-"+ED,WRe=jX+"-"+UX,uI=function(){function e(t){this.code=t,this.name="TaskAbortError",this.message=VRe+" "+ED+" (reason: "+t+")"}return e}(),vp=function(e){if(e.aborted)throw new uI(e.reason)};function zX(e,t){var n=QP;return new Promise(function(r,i){var s=function(){return i(new uI(e.reason))};if(e.aborted){s();return}n=BX(e,s),t.finally(function(){return n()}).then(r,i)}).finally(function(){n=QP})}var qRe=function(e,t){return k_(void 0,null,function(){var n,r;return N_(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,4,5]),[4,Promise.resolve()];case 1:return i.sent(),[4,e()];case 2:return n=i.sent(),[2,{status:"ok",value:n}];case 3:return r=i.sent(),[2,{status:r instanceof uI?"cancelled":"rejected",error:r}];case 4:return t==null||t(),[7];case 5:return[2]}})})},Uw=function(e){return function(t){return FX(zX(e,t).then(function(n){return vp(e),n}))}},HX=function(e){var t=Uw(e);return function(n){return t(new Promise(function(r){return setTimeout(r,n)}))}},GRe=Object.assign,A9={},D_="listenerMiddleware",YRe=function(e){var t=function(n){return BX(e,function(){return _p(n,e.reason)})};return function(n){bD(n,"taskExecutor");var r=new AbortController;t(r);var i=qRe(function(){return k_(void 0,null,function(){var s;return N_(this,function(o){switch(o.label){case 0:return vp(e),vp(r.signal),[4,n({pause:Uw(r.signal),delay:HX(r.signal),signal:r.signal})];case 1:return s=o.sent(),vp(r.signal),[2,s]}})})},function(){return _p(r,HRe)});return{result:Uw(e)(i),cancel:function(){_p(r,zRe)}}}},KRe=function(e,t){var n=function(r,i){return k_(void 0,null,function(){var s,o,a,u;return N_(this,function(l){switch(l.label){case 0:vp(t),s=function(){},o=new Promise(function(c,f){var d=e({predicate:r,effect:function(h,p){p.unsubscribe(),c([h,p.getState(),p.getOriginalState()])}});s=function(){d(),f()}}),a=[o],i!=null&&a.push(new Promise(function(c){return setTimeout(c,i,null)})),l.label=1;case 1:return l.trys.push([1,,3,4]),[4,zX(t,Promise.race(a))];case 2:return u=l.sent(),vp(t),[2,u];case 3:return s(),[7];case 4:return[2]}})})};return function(r,i){return FX(n(r,i))}},WX=function(e){var t=e.type,n=e.actionCreator,r=e.matcher,i=e.predicate,s=e.effect;if(t)i=du(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error("Creating or removing a listener requires one of the known fields for matching an action");return bD(s,"options.listener"),{predicate:i,type:t,effect:s}},QRe=function(e){var t=WX(e),n=t.type,r=t.predicate,i=t.effect,s=MX(),o={id:s,effect:i,type:n,predicate:r,pending:new Set,unsubscribe:function(){throw new Error("Unsubscribe not initialized")}};return o},XP=function(e){e.pending.forEach(function(t){_p(t,VX)})},XRe=function(e){return function(){e.forEach(XP),e.clear()}},O9=function(e,t,n){try{e(t,n)}catch(r){setTimeout(function(){throw r},0)}},JRe=du(D_+"/add"),ZRe=du(D_+"/removeAll"),eNe=du(D_+"/remove"),tNe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,Iy([D_+"/error"],e))};function nNe(e){var t=this;e===void 0&&(e={});var n=new Map,r=e.extra,i=e.onError,s=i===void 0?tNe:i;bD(s,"onError");var o=function(h){return h.unsubscribe=function(){return n.delete(h.id)},n.set(h.id,h),function(p){h.unsubscribe(),p!=null&&p.cancelActive&&XP(h)}},a=function(h){for(var p=0,m=Array.from(n.values());p<m.length;p++){var y=m[p];if(h(y))return y}},u=function(h){var p=a(function(m){return m.effect===h.effect});return p||(p=QRe(h)),o(p)},l=function(h){var p=WX(h),m=p.type,y=p.effect,g=p.predicate,_=a(function(b){var T=typeof m=="string"?b.type===m:b.predicate===g;return T&&b.effect===y});return _&&(_.unsubscribe(),h.cancelActive&&XP(_)),!!_},c=function(h,p,m,y){return k_(t,null,function(){var g,_,b;return N_(this,function(T){switch(T.label){case 0:g=new AbortController,_=KRe(u,g.signal),T.label=1;case 1:return T.trys.push([1,3,4,5]),h.pending.add(g),[4,Promise.resolve(h.effect(p,GRe({},m,{getOriginalState:y,condition:function(I,E){return _(I,E).then(Boolean)},take:_,delay:HX(g.signal),pause:Uw(g.signal),extra:r,signal:g.signal,fork:YRe(g.signal),unsubscribe:h.unsubscribe,subscribe:function(){n.set(h.id,h)},cancelActiveListeners:function(){h.pending.forEach(function(I,E,S){I!==g&&(_p(I,VX),S.delete(I))})}})))];case 2:return T.sent(),[3,5];case 3:return b=T.sent(),b instanceof uI||O9(s,b,{raisedBy:"effect"}),[3,5];case 4:return _p(g,WRe),h.pending.delete(g),[7];case 5:return[2]}})})},f=XRe(n),d=function(h){return function(p){return function(m){if(JRe.match(m))return u(m.payload);if(ZRe.match(m)){f();return}if(eNe.match(m))return l(m.payload);var y=h.getState(),g=function(){if(y===A9)throw new Error(D_+": getOriginalState can only be called synchronously");return y},_;try{if(_=p(m),n.size>0)for(var b=h.getState(),T=Array.from(n.values()),I=0,E=T;I<E.length;I++){var S=E[I],A=!1;try{A=S.predicate(m,b,y)}catch(L){A=!1,O9(s,L,{raisedBy:"predicate"})}A&&c(S,m,h,g)}}finally{y=A9}return _}}};return{middleware:d,startListening:u,stopListening:l,clearListeners:f}}var P9;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);aRe();async function rNe(e,t,n,r){const i=Object.assign({},n.map(c=>({[c]:{}}))),s=Object.assign({},...n.map(c=>({[c]:{aboveStimulus:{valid:!1,values:{}},belowStimulus:{valid:!1,values:{}},sidebar:{valid:!1,values:{}}}}))),o=Object.assign({},...n.map(c=>({[c]:{aboveStimulus:!0,belowStimulus:!0,sidebar:!0,values:{}}}))),a={studyId:e,answers:r||i,sequence:n,config:t,showAdmin:!1,showHelpText:!1,alertModal:{show:!1,message:""},trialValidation:r?o:s,iframeAnswers:[]},u=LX({name:"storeSlice",initialState:a,reducers:{setConfig(c,f){c.config=f.payload},toggleShowAdmin:c=>{c.showAdmin=!c.showAdmin},toggleShowHelpText:c=>{c.showHelpText=!c.showHelpText},setAlertModal:(c,f)=>{c.alertModal=f.payload},setIframeAnswers:(c,f)=>{c.iframeAnswers=f.payload},updateResponseBlockValidation:(c,{payload:f})=>{if(!f.currentStep||f.currentStep.length===0)return c;c.trialValidation[f.currentStep]||(c.trialValidation[f.currentStep]={aboveStimulus:{valid:!1,values:{}},belowStimulus:{valid:!1,values:{}},sidebar:{valid:!1,values:{}},provenanceGraph:void 0}),c.trialValidation[f.currentStep][f.location]={valid:f.status,values:f.values},f.provenanceGraph&&(c.trialValidation[f.currentStep].provenanceGraph=f.provenanceGraph)},saveTrialAnswer(c,{payload:f}){const{currentStep:d,answer:h,startTime:p,endTime:m,provenanceGraph:y,windowEvents:g}=f;c.answers[d]={answer:h,startTime:p,endTime:m,provenanceGraph:y,windowEvents:g}}}});return{store:DX({reducer:u.reducer,preloadedState:a}),actions:u.actions}}const qX=w.createContext(null);function zl(){return w.useContext(qX).actions}const Hl=FQ,ku=TCe;function iNe(e){return ku(t=>{if(e===void 0||e.length===0)return!0;const n=Object.values(t.trialValidation[e]).every(r=>typeof r=="object"&&"valid"in r?r.valid:!0);return n?Object.values(n).every(r=>r):!1})}function GX(){return Pm().pathname.split("/")[1]}function Pa(){return Pm().pathname.split("/")[2]}function wD(e){return structuredClone(e)}function TD(){const{answers:e}=ku(n=>n),t=Pa();return e[t]}var YX={exports:{}},sNe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",oNe=sNe,aNe=oNe;function KX(){}function QX(){}QX.resetWarningCache=KX;var uNe=function(){function e(r,i,s,o,a,u){if(u!==aNe){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:QX,resetWarningCache:KX};return n.PropTypes=n,n};YX.exports=uNe();var lNe=YX.exports;const dt=Oa(lNe);var cNe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},fNe=Object.defineProperty,dNe=Object.defineProperties,hNe=Object.getOwnPropertyDescriptors,Vw=Object.getOwnPropertySymbols,XX=Object.prototype.hasOwnProperty,JX=Object.prototype.propertyIsEnumerable,R9=(e,t,n)=>t in e?fNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,N9=(e,t)=>{for(var n in t||(t={}))XX.call(t,n)&&R9(e,n,t[n]);if(Vw)for(var n of Vw(t))JX.call(t,n)&&R9(e,n,t[n]);return e},pNe=(e,t)=>dNe(e,hNe(t)),mNe=(e,t)=>{var n={};for(var r in e)XX.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Vw)for(var r of Vw(e))t.indexOf(r)<0&&JX.call(e,r)&&(n[r]=e[r]);return n},Wl=(e,t,n)=>{const r=w.forwardRef((i,s)=>{var o=i,{color:a="currentColor",size:u=24,stroke:l=2,children:c}=o,f=mNe(o,["color","size","stroke","children"]);return w.createElement("svg",N9(pNe(N9({ref:s},cNe),{width:u,height:u,stroke:a,strokeWidth:l,className:`tabler-icon tabler-icon-${e}`}),f),[...n.map(([d,h])=>w.createElement(d,h)),...c||[]])});return r.propTypes={color:dt.string,size:dt.oneOfType([dt.string,dt.number]),stroke:dt.oneOfType([dt.string,dt.number])},r.displayName=`${t}`,r},gNe=Wl("alert-circle","IconAlertCircle",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 8v4",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]]),yNe=Wl("arrow-right","IconArrowRight",[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M13 18l6 -6",key:"svg-1"}],["path",{d:"M13 6l6 6",key:"svg-2"}]]),_Ne=Wl("arrows-shuffle","IconArrowsShuffle",[["path",{d:"M18 4l3 3l-3 3",key:"svg-0"}],["path",{d:"M18 20l3 -3l-3 -3",key:"svg-1"}],["path",{d:"M3 7h3a5 5 0 0 1 5 5a5 5 0 0 0 5 5h5",key:"svg-2"}],["path",{d:"M21 7h-5a4.978 4.978 0 0 0 -3 1m-4 8a4.984 4.984 0 0 1 -3 1h-3",key:"svg-3"}]]),vNe=Wl("code-dots","IconCodeDots",[["path",{d:"M15 12h.01",key:"svg-0"}],["path",{d:"M12 12h.01",key:"svg-1"}],["path",{d:"M9 12h.01",key:"svg-2"}],["path",{d:"M6 19a2 2 0 0 1 -2 -2v-4l-1 -1l1 -1v-4a2 2 0 0 1 2 -2",key:"svg-3"}],["path",{d:"M18 19a2 2 0 0 0 2 -2v-4l1 -1l-1 -1v-4a2 2 0 0 0 -2 -2",key:"svg-4"}]]),bNe=Wl("code-plus","IconCodePlus",[["path",{d:"M9 12h6",key:"svg-0"}],["path",{d:"M12 9v6",key:"svg-1"}],["path",{d:"M6 19a2 2 0 0 1 -2 -2v-4l-1 -1l1 -1v-4a2 2 0 0 1 2 -2",key:"svg-2"}],["path",{d:"M18 19a2 2 0 0 0 2 -2v-4l1 -1l-1 -1v-4a2 2 0 0 0 -2 -2",key:"svg-3"}]]),ENe=Wl("dots-vertical","IconDotsVertical",[["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]),wNe=Wl("mail","IconMail",[["path",{d:"M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10z",key:"svg-0"}],["path",{d:"M3 7l9 6l9 -6",key:"svg-1"}]]),k9=Wl("schema","IconSchema",[["path",{d:"M5 2h5v4h-5z",key:"svg-0"}],["path",{d:"M15 10h5v4h-5z",key:"svg-1"}],["path",{d:"M5 18h5v4h-5z",key:"svg-2"}],["path",{d:"M5 10h5v4h-5z",key:"svg-3"}],["path",{d:"M10 12h5",key:"svg-4"}],["path",{d:"M7.5 6v4",key:"svg-5"}],["path",{d:"M7.5 14v4",key:"svg-6"}]]),ZX=Wl("table","IconTable",[["path",{d:"M3 5a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-14z",key:"svg-0"}],["path",{d:"M3 10h18",key:"svg-1"}],["path",{d:"M10 3v18",key:"svg-2"}]]),zw={exports:{}};zw.exports;(function(e,t){var n=200,r="__lodash_hash_undefined__",i=800,s=16,o=9007199254740991,a="[object Arguments]",u="[object Array]",l="[object AsyncFunction]",c="[object Boolean]",f="[object Date]",d="[object Error]",h="[object Function]",p="[object GeneratorFunction]",m="[object Map]",y="[object Number]",g="[object Null]",_="[object Object]",b="[object Proxy]",T="[object RegExp]",I="[object Set]",E="[object String]",S="[object Undefined]",A="[object WeakMap]",L="[object ArrayBuffer]",W="[object DataView]",z="[object Float32Array]",U="[object Float64Array]",Z="[object Int8Array]",H="[object Int16Array]",ue="[object Int32Array]",ie="[object Uint8Array]",_e="[object Uint8ClampedArray]",te="[object Uint16Array]",oe="[object Uint32Array]",J=/[\\^$.*+?()[\]{}|]/g,x=/^\[object .+?Constructor\]$/,C=/^(?:0|[1-9]\d*)$/,B={};B[z]=B[U]=B[Z]=B[H]=B[ue]=B[ie]=B[_e]=B[te]=B[oe]=!0,B[a]=B[u]=B[L]=B[c]=B[W]=B[f]=B[d]=B[h]=B[m]=B[y]=B[_]=B[T]=B[I]=B[E]=B[A]=!1;var P=typeof no=="object"&&no&&no.Object===Object&&no,O=typeof self=="object"&&self&&self.Object===Object&&self,G=P||O||Function("return this")(),fe=t&&!t.nodeType&&t,le=fe&&!0&&e&&!e.nodeType&&e,me=le&&le.exports===fe,ge=me&&P.process,Se=function(){try{var V=le&&le.require&&le.require("util").types;return V||ge&&ge.binding&&ge.binding("util")}catch{}}(),de=Se&&Se.isTypedArray;function st(V,re,ye){switch(ye.length){case 0:return V.call(re);case 1:return V.call(re,ye[0]);case 2:return V.call(re,ye[0],ye[1]);case 3:return V.call(re,ye[0],ye[1],ye[2])}return V.apply(re,ye)}function Ke(V,re){for(var ye=-1,We=Array(V);++ye<V;)We[ye]=re(ye);return We}function qe(V){return function(re){return V(re)}}function $e(V,re){return V==null?void 0:V[re]}function ot(V,re){return function(ye){return V(re(ye))}}var ut=Array.prototype,On=Function.prototype,Ue=Object.prototype,Be=G["__core-js_shared__"],bt=On.toString,je=Ue.hasOwnProperty,gt=function(){var V=/[^.]+$/.exec(Be&&Be.keys&&Be.keys.IE_PROTO||"");return V?"Symbol(src)_1."+V:""}(),Yt=Ue.toString,an=bt.call(Object),Yn=RegExp("^"+bt.call(je).replace(J,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ce=me?G.Buffer:void 0,we=G.Symbol,Le=G.Uint8Array,rt=ce?ce.allocUnsafe:void 0,De=ot(Object.getPrototypeOf,Object),it=Object.create,Me=Ue.propertyIsEnumerable,Ze=ut.splice,bn=we?we.toStringTag:void 0,Wt=function(){try{var V=Pe(Object,"defineProperty");return V({},"",{}),V}catch{}}(),St=ce?ce.isBuffer:void 0,Bn=Math.max,En=Date.now,ta=Pe(G,"Map"),fr=Pe(Object,"create"),Mi=function(){function V(){}return function(re){if(!Pf(re))return{};if(it)return it(re);V.prototype=re;var ye=new V;return V.prototype=void 0,ye}}();function vr(V){var re=-1,ye=V==null?0:V.length;for(this.clear();++re<ye;){var We=V[re];this.set(We[0],We[1])}}function $r(){this.__data__=fr?fr(null):{},this.size=0}function dr(V){var re=this.has(V)&&delete this.__data__[V];return this.size-=re?1:0,re}function jn(V){var re=this.__data__;if(fr){var ye=re[V];return ye===r?void 0:ye}return je.call(re,V)?re[V]:void 0}function Zt(V){var re=this.__data__;return fr?re[V]!==void 0:je.call(re,V)}function ri(V,re){var ye=this.__data__;return this.size+=this.has(V)?0:1,ye[V]=fr&&re===void 0?r:re,this}vr.prototype.clear=$r,vr.prototype.delete=dr,vr.prototype.get=jn,vr.prototype.has=Zt,vr.prototype.set=ri;function br(V){var re=-1,ye=V==null?0:V.length;for(this.clear();++re<ye;){var We=V[re];this.set(We[0],We[1])}}function Lr(){this.__data__=[],this.size=0}function yi(V){var re=this.__data__,ye=tr(re,V);if(ye<0)return!1;var We=re.length-1;return ye==We?re.pop():Ze.call(re,ye,1),--this.size,!0}function ms(V){var re=this.__data__,ye=tr(re,V);return ye<0?void 0:re[ye][1]}function K(V){return tr(this.__data__,V)>-1}function j(V,re){var ye=this.__data__,We=tr(ye,V);return We<0?(++this.size,ye.push([V,re])):ye[We][1]=re,this}br.prototype.clear=Lr,br.prototype.delete=yi,br.prototype.get=ms,br.prototype.has=K,br.prototype.set=j;function X(V){var re=-1,ye=V==null?0:V.length;for(this.clear();++re<ye;){var We=V[re];this.set(We[0],We[1])}}function pe(){this.size=0,this.__data__={hash:new vr,map:new(ta||br),string:new vr}}function he(V){var re=Oe(this,V).delete(V);return this.size-=re?1:0,re}function He(V){return Oe(this,V).get(V)}function Te(V){return Oe(this,V).has(V)}function Ve(V,re){var ye=Oe(this,V),We=ye.size;return ye.set(V,re),this.size+=ye.size==We?0:1,this}X.prototype.clear=pe,X.prototype.delete=he,X.prototype.get=He,X.prototype.has=Te,X.prototype.set=Ve;function ct(V){var re=this.__data__=new br(V);this.size=re.size}function Je(){this.__data__=new br,this.size=0}function mt(V){var re=this.__data__,ye=re.delete(V);return this.size=re.size,ye}function Lt(V){return this.__data__.get(V)}function $n(V){return this.__data__.has(V)}function pt(V,re){var ye=this.__data__;if(ye instanceof br){var We=ye.__data__;if(!ta||We.length<n-1)return We.push([V,re]),this.size=++ye.size,this;ye=this.__data__=new X(We)}return ye.set(V,re),this.size=ye.size,this}ct.prototype.clear=Je,ct.prototype.delete=mt,ct.prototype.get=Lt,ct.prototype.has=$n,ct.prototype.set=pt;function xn(V,re){var ye=Lx(V),We=!ye&&hh(V),un=!ye&&!We&&Z6(V),Un=!ye&&!We&&!un&&tL(V),rr=ye||We||un||Un,en=rr?Ke(V.length,String):[],ir=en.length;for(var To in V)(re||je.call(V,To))&&!(rr&&(To=="length"||un&&(To=="offset"||To=="parent")||Un&&(To=="buffer"||To=="byteLength"||To=="byteOffset")||Bt(To,ir)))&&en.push(To);return en}function Et(V,re,ye){(ye!==void 0&&!dh(V[re],ye)||ye===void 0&&!(re in V))&&Wr(V,re,ye)}function mn(V,re,ye){var We=V[re];(!(je.call(V,re)&&dh(We,ye))||ye===void 0&&!(re in V))&&Wr(V,re,ye)}function tr(V,re){for(var ye=V.length;ye--;)if(dh(V[ye][0],re))return ye;return-1}function Wr(V,re,ye){re=="__proto__"&&Wt?Wt(V,re,{configurable:!0,enumerable:!0,value:ye,writable:!0}):V[re]=ye}var Pr=Ie();function is(V){return V==null?V===void 0?S:g:bn&&bn in Object(V)?ke(V):Of(V)}function _i(V){return f0(V)&&is(V)==a}function hr(V){if(!Pf(V)||Er(V))return!1;var re=Fx(V)?Yn:x;return re.test($x(V))}function Ge(V){return f0(V)&&eL(V.length)&&!!B[is(V)]}function zt(V){if(!Pf(V))return ys(V);var re=nr(V),ye=[];for(var We in V)We=="constructor"&&(re||!je.call(V,We))||ye.push(We);return ye}function Hn(V,re,ye,We,un){V!==re&&Pr(re,function(Un,rr){if(un||(un=new ct),Pf(Un))ii(V,re,rr,ye,Hn,We,un);else{var en=We?We(l0(V,rr),Un,rr+"",V,re,un):void 0;en===void 0&&(en=Un),Et(V,rr,en)}},nL)}function ii(V,re,ye,We,un,Un,rr){var en=l0(V,ye),ir=l0(re,ye),To=rr.get(ir);if(To){Et(V,ye,To);return}var Ws=Un?Un(en,ir,ye+"",V,re,rr):void 0,d0=Ws===void 0;if(d0){var Bx=Lx(ir),jx=!Bx&&Z6(ir),iL=!Bx&&!jx&&tL(ir);Ws=ir,Bx||jx||iL?Lx(en)?Ws=en:Yae(en)?Ws=se(en):jx?(d0=!1,Ws=Y(ir,!0)):iL?(d0=!1,Ws=ne(ir,!0)):Ws=[]:Kae(ir)||hh(ir)?(Ws=en,hh(en)?Ws=Qae(en):(!Pf(en)||Fx(en))&&(Ws=Qe(ir))):d0=!1}d0&&(rr.set(ir,Ws),un(Ws,ir,We,Un,rr),rr.delete(ir)),Et(V,ye,Ws)}function gs(V,re){return c0(u0(V,re,rL),V+"")}var R=Wt?function(V,re){return Wt(V,"toString",{configurable:!0,enumerable:!1,value:Jae(re),writable:!0})}:rL;function Y(V,re){if(re)return V.slice();var ye=V.length,We=rt?rt(ye):new V.constructor(ye);return V.copy(We),We}function M(V){var re=new V.constructor(V.byteLength);return new Le(re).set(new Le(V)),re}function ne(V,re){var ye=re?M(V.buffer):V.buffer;return new V.constructor(ye,V.byteOffset,V.length)}function se(V,re){var ye=-1,We=V.length;for(re||(re=Array(We));++ye<We;)re[ye]=V[ye];return re}function ee(V,re,ye,We){var un=!ye;ye||(ye={});for(var Un=-1,rr=re.length;++Un<rr;){var en=re[Un],ir=We?We(ye[en],V[en],en,ye,V):void 0;ir===void 0&&(ir=V[en]),un?Wr(ye,en,ir):mn(ye,en,ir)}return ye}function be(V){return gs(function(re,ye){var We=-1,un=ye.length,Un=un>1?ye[un-1]:void 0,rr=un>2?ye[2]:void 0;for(Un=V.length>3&&typeof Un=="function"?(un--,Un):void 0,rr&&gn(ye[0],ye[1],rr)&&(Un=un<3?void 0:Un,un=1),re=Object(re);++We<un;){var en=ye[We];en&&V(re,en,We,Un)}return re})}function Ie(V){return function(re,ye,We){for(var un=-1,Un=Object(re),rr=We(re),en=rr.length;en--;){var ir=rr[V?en:++un];if(ye(Un[ir],ir,Un)===!1)break}return re}}function Oe(V,re){var ye=V.__data__;return wn(re)?ye[typeof re=="string"?"string":"hash"]:ye.map}function Pe(V,re){var ye=$e(V,re);return hr(ye)?ye:void 0}function ke(V){var re=je.call(V,bn),ye=V[bn];try{V[bn]=void 0;var We=!0}catch{}var un=Yt.call(V);return We&&(re?V[bn]=ye:delete V[bn]),un}function Qe(V){return typeof V.constructor=="function"&&!nr(V)?Mi(De(V)):{}}function Bt(V,re){var ye=typeof V;return re=re??o,!!re&&(ye=="number"||ye!="symbol"&&C.test(V))&&V>-1&&V%1==0&&V<re}function gn(V,re,ye){if(!Pf(ye))return!1;var We=typeof re;return(We=="number"?Mx(ye)&&Bt(re,ye.length):We=="string"&&re in ye)?dh(ye[re],V):!1}function wn(V){var re=typeof V;return re=="string"||re=="number"||re=="symbol"||re=="boolean"?V!=="__proto__":V===null}function Er(V){return!!gt&&gt in V}function nr(V){var re=V&&V.constructor,ye=typeof re=="function"&&re.prototype||Ue;return V===ye}function ys(V){var re=[];if(V!=null)for(var ye in Object(V))re.push(ye);return re}function Of(V){return Yt.call(V)}function u0(V,re,ye){return re=Bn(re===void 0?V.length-1:re,0),function(){for(var We=arguments,un=-1,Un=Bn(We.length-re,0),rr=Array(Un);++un<Un;)rr[un]=We[re+un];un=-1;for(var en=Array(re+1);++un<re;)en[un]=We[un];return en[re]=ye(rr),st(V,this,en)}}function l0(V,re){if(!(re==="constructor"&&typeof V[re]=="function")&&re!="__proto__")return V[re]}var c0=J6(R);function J6(V){var re=0,ye=0;return function(){var We=En(),un=s-(We-ye);if(ye=We,un>0){if(++re>=i)return arguments[0]}else re=0;return V.apply(void 0,arguments)}}function $x(V){if(V!=null){try{return bt.call(V)}catch{}try{return V+""}catch{}}return""}function dh(V,re){return V===re||V!==V&&re!==re}var hh=_i(function(){return arguments}())?_i:function(V){return f0(V)&&je.call(V,"callee")&&!Me.call(V,"callee")},Lx=Array.isArray;function Mx(V){return V!=null&&eL(V.length)&&!Fx(V)}function Yae(V){return f0(V)&&Mx(V)}var Z6=St||Zae;function Fx(V){if(!Pf(V))return!1;var re=is(V);return re==h||re==p||re==l||re==b}function eL(V){return typeof V=="number"&&V>-1&&V%1==0&&V<=o}function Pf(V){var re=typeof V;return V!=null&&(re=="object"||re=="function")}function f0(V){return V!=null&&typeof V=="object"}function Kae(V){if(!f0(V)||is(V)!=_)return!1;var re=De(V);if(re===null)return!0;var ye=je.call(re,"constructor")&&re.constructor;return typeof ye=="function"&&ye instanceof ye&&bt.call(ye)==an}var tL=de?qe(de):Ge;function Qae(V){return ee(V,nL(V))}function nL(V){return Mx(V)?xn(V,!0):zt(V)}var Xae=be(function(V,re,ye){Hn(V,re,ye)});function Jae(V){return function(){return V}}function rL(V){return V}function Zae(){return!1}e.exports=Xae})(zw,zw.exports);var TNe=zw.exports;const SD=Oa(TNe),JP=["description","instruction","answer","correctAnswer","startTime","endTime","duration","taskOrder"],nb=["participantId","trialId","responseId"];async function SNe(e=[...nb,...JP],t,n,r){const s=(await n.getAllParticipantsData()).map(l=>INe(l,r,e)).flat(),o=l=>l.replace(/"/g,'""'),a=s.map(l=>e.map(c=>l===null?"":typeof l[c]=="string"?`"${o(l[c])}"`:JSON.stringify(l[c])).join(",")),u=[e.join(","),...a].join(`
`);ZP(u,t)}function INe(e,t,n){return Object.entries(t.components).map(([r,i])=>{const s=aI(i)&&i.baseComponent&&t.baseComponents?SD({},t.baseComponents[i.baseComponent],i):i,o=e.answers[r],a=o!==void 0?o:{answer:{},startTime:-1,endTime:-1,windowEvents:[]},u=a.endTime-a.startTime;return Object.entries(a.answer).map(([c,f])=>{const d={participantId:e.participantId,trialId:r,responseId:c,startTime:new Date(a.startTime).toUTCString(),endTime:new Date(a.endTime).toUTCString(),duration:u};return n.includes("description")&&(d.description=s.description),n.includes("instruction")&&(d.instruction=s.instruction),n.includes("answer")&&(d.answer=f),n.includes("correctAnswer")&&(d.correctAnswer=s.correctAnswer),n.includes("taskOrder")&&(d.taskOrder=e.sequence.indexOf(r)),d}).flat()}).flat()}function xNe({opened:e,close:t,filename:n,studyConfig:r}){const[i,s]=lpe([...nb,...JP]),o=w.useCallback(l=>{nb.every(c=>l.includes(c))&&s(l)},[s]),a=w.useMemo(()=>[...nb,...JP],[]),{storageEngine:u}=_f();return u?$.jsxs(zS,{opened:e,size:"lg",onClose:t,title:$.jsx(Ct,{size:"xl",children:"Download Tidy CSV"}),centered:!0,radius:"md",padding:"xl",children:[$.jsx(lt,{children:$.jsx($K,{searchable:!0,limit:30,nothingFound:"Property not found",data:a,value:i,onChange:o,label:$.jsx(Ct,{fw:"bold",size:"lg",children:"Select properties to include in tidy csv:"}),placeholder:"Select atleast one property"})}),$.jsxs(Rd,{mt:"xl",direction:{base:"column",sm:"row"},gap:{base:"sm",sm:"lg"},justify:{sm:"space-around"},children:[$.jsx(cl,{leftIcon:$.jsx(ZX,{}),onClick:()=>SNe(i,n,u,r),children:"Download"}),$.jsx(cl,{onClick:t,color:"red",children:"Close"})]})]}):null}function ZP(e,t){const n="data:text/json;charset=utf-8,"+encodeURIComponent(e),r=document.createElement("a");r.setAttribute("href",n),r.setAttribute("download",t),document.body.appendChild(r),r.click(),r.remove()}function CNe({studyConfig:e}){const{storageEngine:t}=_f(),[n,{open:r,close:i}]=cpe(!1),s=e.uiConfig.autoDownloadStudy||!1,o=s&&e.uiConfig.autoDownloadTime||-1,[a,u]=w.useState(Math.floor(o/1e3));w.useEffect(()=>{if(a<=0)return;const p=setInterval(()=>{u(m=>m-1)},1e3);return()=>clearInterval(p)},[a]);const[l,c]=w.useState(),[f,d]=w.useState(""),h=e.studyMetadata.title.replace(" ","_");return w.useEffect(()=>{async function p(){if(t){const m=await t.getCurrentParticipantId(),y=await t.getParticipantData();d(m),c(y)}}p()},[t]),$.jsxs(fl,{children:[$.jsx(cl,{leftIcon:$.jsx(vNe,{}),mt:"1em",mr:"0.5em",onClick:()=>ZP(JSON.stringify(l,null,2),`${h}_${f}.json`),display:"block",children:"Download Current (JSON)"}),$.jsx(cl,{disabled:!(t!=null&&t.isConnected()),leftIcon:$.jsx(bNe,{}),mt:"1em",mr:"0.5em",onClick:async()=>{if(!t)return;const p=await t.getAllParticipantsData();ZP(JSON.stringify(p,null,2),`${h}_all.json`)},display:"block",children:"Download All (JSON)"}),$.jsx(cl,{disabled:!(t!=null&&t.isConnected()),leftIcon:$.jsx(ZX,{}),mt:"1em",mr:"0.5em",onClick:r,display:"block",children:"Download All (Tidy)"}),s&&$.jsxs(Ct,{size:"lg",children:["Study results will be downloaded in ",a," seconds. If the download does not start automatically, click above to download."]}),$.jsx(xNe,{opened:n,close:i,filename:`${h}_${f}.csv`,studyConfig:e})]})}function eJ({order:e}){const{studyId:t=null}=jN(),n=Pa(),r=Yd();return $.jsx(fl,{spacing:"xs",children:e.components.map((i,s)=>typeof i=="string"?$.jsx(Tl,{children:$.jsx(Hve,{style:{cursor:"pointer"},color:i===n?"red":"blue",onClick:()=>r(`/${t}/${i}`),size:"xs",children:i},i)},s):$.jsx(fl,{spacing:"xs",children:$.jsxs(Tl,{spacing:"xs",style:{width:"100%"},noWrap:!0,align:"center",position:"center",children:[i.order==="random"||i.order==="latinSquare"?$.jsx(_Ne,{textAnchor:"middle"}):null,$.jsx(fl,{style:{width:"100%"},children:$.jsx(eJ,{order:i})})]})},s))})}function Jp(){return ku(e=>e.config)}function ANe(){const{showAdmin:e,sequence:t}=ku(a=>a),n=Yd(),{studyId:r=null}=jN(),i=Pa(),s=Jp(),o=t.map(a=>({...s.components[a],id:a}));return e?$.jsx(Yh,{p:"0",width:{base:300},style:{zIndex:0},children:$.jsxs(Z0,{p:"0",children:[$.jsx(Yh.Section,{grow:!0,component:Z0,px:"xs",my:"lg",children:$.jsx(eJ,{order:s.sequence})}),$.jsx(Yh.Section,{grow:!0,component:Z0,px:"xs",my:"lg",children:i==="end"&&$.jsx(CNe,{studyConfig:s})}),$.jsx(Yh.Section,{grow:!0,component:Z0,px:"xs",my:"lg",children:o.map((a,u)=>$.jsxs(k.Fragment,{children:[$.jsxs(yd,{radius:0,p:0,withBorder:!0,children:[$.jsx(yd,{radius:0,p:"xl",children:$.jsxs(Rd,{style:{justifyContent:"space-between"},children:[$.jsxs(Ct,{c:"gray.9",children:[$.jsxs(Ct,{span:!0,fw:700,inherit:!0,children:["Task ",u+1,":"]})," ",a.id]}),$.jsx(Yp,{}),$.jsx(tk,{bg:"white",onClick:()=>n(`/${r}/${a.id}`),children:$.jsx(yNe,{size:"1.125rem"})})]})}),$.jsxs(yd,{radius:0,p:"xl",children:[a.description&&$.jsxs(Ct,{fw:900,children:["Description:"," ",$.jsx(Ct,{fw:400,component:"span",children:a.description})]}),a.meta&&$.jsx(Ct,{fw:900,children:"Task Meta:"}),a.meta&&Object.keys(a.meta).map(l=>$.jsxs(Ct,{children:[l,": ",a.meta[l]]},l))]})]}),$.jsx(Yp,{h:"md"})]},`admin_${a.id}`))})]})}):null}function ONe(){const{config:e,sequence:t}=ku(b=>b),n=Hl(),{toggleShowHelpText:r,toggleShowAdmin:i}=zl(),{storageEngine:s}=_f(),o=Pa(),a=e!==null?t.indexOf(o):0,u=t.length-1,l=a/u*100,[c,f]=w.useState(!1),d=e==null?void 0:e.uiConfig.logoPath,h=e==null?void 0:e.uiConfig.withProgressBar,[p]=w.useState(new URLSearchParams(window.location.search)),m=p.get("admin")||"f",y=GX(),g=ffe(`/${y}`);function _(){s==null||s.nextParticipant().then(()=>{window.location.href=g}).catch(b=>{console.error(b)})}return $.jsx(Cq,{height:"70",p:"md",children:$.jsxs(Zu,{mt:-7,align:"center",children:[$.jsx(Zu.Col,{span:4,children:$.jsxs(Rd,{align:"center",children:[$.jsx(x_,{maw:40,src:`${Lu}${d}`,alt:"Study Logo"}),$.jsx(Yp,{w:"md"}),$.jsx(lc,{order:4,children:e==null?void 0:e.studyMetadata.title})]})}),$.jsx(Zu.Col,{span:4,children:h&&$.jsx(tQ,{radius:"md",size:"lg",value:l})}),$.jsx(Zu.Col,{span:4,children:$.jsxs(Rd,{align:"center",justify:"flex-end",children:[(e==null?void 0:e.uiConfig.helpTextPath)!==void 0&&$.jsx(cl,{variant:"outline",onClick:()=>n(r()),children:"Help"}),$.jsx(Yp,{w:"md"}),m==="t"&&$.jsxs(Ro,{shadow:"md",width:200,zIndex:1,opened:c,onChange:f,children:[$.jsx(Ro.Target,{children:$.jsx(tk,{size:"lg",children:$.jsx(ENe,{})})}),$.jsxs(Ro.Dropdown,{children:[$.jsx(Ro.Item,{icon:$.jsx(k9,{size:14}),onClick:()=>n(i()),children:"Admin Mode"}),$.jsx(Ro.Item,{component:"a",href:e!==null?`mailto:${e.uiConfig.contactEmail}`:void 0,icon:$.jsx(wNe,{size:14}),children:"Contact"}),$.jsx(Ro.Item,{icon:$.jsx(k9,{size:14}),onClick:()=>_(),children:"Next Participant"})]})]})]})})]})})}const D9=["http","https","mailto","tel"];function PNe(e){const t=(e||"").trim(),n=t.charAt(0);if(n==="#"||n==="/")return t;const r=t.indexOf(":");if(r===-1)return t;let i=-1;for(;++i<D9.length;){const s=D9[i];if(r===s.length&&t.slice(0,s.length).toLowerCase()===s)return t}return i=t.indexOf("?"),i!==-1&&r>i||(i=t.indexOf("#"),i!==-1&&r>i)?t:"javascript:void(0)"}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var RNe=function(t){return t!=null&&t.constructor!=null&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)};const ID=Oa(RNe);function bp(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?$9(e.position):"start"in e||"end"in e?$9(e):"line"in e||"column"in e?e2(e):""}function e2(e){return L9(e&&e.line)+":"+L9(e&&e.column)}function $9(e){return e2(e&&e.start)+"-"+e2(e&&e.end)}function L9(e){return e&&typeof e=="number"?e:1}let Ko=class extends Error{constructor(t,n,r){const i=[null,null];let s={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof n=="string"&&(r=n,n=void 0),typeof r=="string"){const o=r.indexOf(":");o===-1?i[1]=r:(i[0]=r.slice(0,o),i[1]=r.slice(o+1))}n&&("type"in n||"position"in n?n.position&&(s=n.position):"start"in n||"end"in n?s=n:("line"in n||"column"in n)&&(s.start=n)),this.name=bp(n)||"1:1",this.message=typeof t=="object"?t.message:t,this.stack="",typeof t=="object"&&t.stack&&(this.stack=t.stack),this.reason=this.message,this.fatal,this.line=s.start.line,this.column=s.start.column,this.position=s,this.source=i[0],this.ruleId=i[1],this.file,this.actual,this.expected,this.url,this.note}};Ko.prototype.file="";Ko.prototype.name="";Ko.prototype.reason="";Ko.prototype.message="";Ko.prototype.stack="";Ko.prototype.fatal=null;Ko.prototype.column=null;Ko.prototype.line=null;Ko.prototype.source=null;Ko.prototype.ruleId=null;Ko.prototype.position=null;const Fa={basename:NNe,dirname:kNe,extname:DNe,join:$Ne,sep:"/"};function NNe(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');$_(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.charCodeAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,a=t.length-1;for(;i--;)if(e.charCodeAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(e.charCodeAt(i)===t.charCodeAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function kNe(e){if($_(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.charCodeAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.charCodeAt(0)===47?"/":".":t===1&&e.charCodeAt(0)===47?"//":e.slice(0,t)}function DNe(e){$_(e);let t=e.length,n=-1,r=0,i=-1,s=0,o;for(;t--;){const a=e.charCodeAt(t);if(a===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),a===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function $Ne(...e){let t=-1,n;for(;++t<e.length;)$_(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":LNe(n)}function LNe(e){$_(e);const t=e.charCodeAt(0)===47;let n=MNe(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.charCodeAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function MNe(e,t){let n="",r=0,i=-1,s=0,o=-1,a,u;for(;++o<=e.length;){if(o<e.length)a=e.charCodeAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function $_(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const FNe={cwd:BNe};function BNe(){return"/"}function t2(e){return e!==null&&typeof e=="object"&&e.href&&e.origin}function jNe(e){if(typeof e=="string")e=new URL(e);else if(!t2(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return UNe(e)}function UNe(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.charCodeAt(n)===37&&t.charCodeAt(n+1)===50){const r=t.charCodeAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const eA=["history","path","basename","stem","extname","dirname"];let VNe=class{constructor(t){let n;t?typeof t=="string"||ID(t)?n={value:t}:t2(t)?n={path:t}:n=t:n={},this.data={},this.messages=[],this.history=[],this.cwd=FNe.cwd(),this.value,this.stored,this.result,this.map;let r=-1;for(;++r<eA.length;){const s=eA[r];s in n&&n[s]!==void 0&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)eA.includes(i)||(this[i]=n[i])}get path(){return this.history[this.history.length-1]}set path(t){t2(t)&&(t=jNe(t)),nA(t,"path"),this.path!==t&&this.history.push(t)}get dirname(){return typeof this.path=="string"?Fa.dirname(this.path):void 0}set dirname(t){M9(this.basename,"dirname"),this.path=Fa.join(t||"",this.basename)}get basename(){return typeof this.path=="string"?Fa.basename(this.path):void 0}set basename(t){nA(t,"basename"),tA(t,"basename"),this.path=Fa.join(this.dirname||"",t)}get extname(){return typeof this.path=="string"?Fa.extname(this.path):void 0}set extname(t){if(tA(t,"extname"),M9(this.dirname,"extname"),t){if(t.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Fa.join(this.dirname,this.stem+(t||""))}get stem(){return typeof this.path=="string"?Fa.basename(this.path,this.extname):void 0}set stem(t){nA(t,"stem"),tA(t,"stem"),this.path=Fa.join(this.dirname||"",t+(this.extname||""))}toString(t){return(this.value||"").toString(t)}message(t,n,r){const i=new Ko(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=null,i}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}};function tA(e,t){if(e&&e.includes(Fa.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Fa.sep+"`")}function nA(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function M9(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function F9(e){if(e)throw e}var rb=Object.prototype.hasOwnProperty,tJ=Object.prototype.toString,B9=Object.defineProperty,j9=Object.getOwnPropertyDescriptor,U9=function(t){return typeof Array.isArray=="function"?Array.isArray(t):tJ.call(t)==="[object Array]"},V9=function(t){if(!t||tJ.call(t)!=="[object Object]")return!1;var n=rb.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&rb.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||rb.call(t,i)},z9=function(t,n){B9&&n.name==="__proto__"?B9(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},H9=function(t,n){if(n==="__proto__")if(rb.call(t,n)){if(j9)return j9(t,n).value}else return;return t[n]},zNe=function e(){var t,n,r,i,s,o,a=arguments[0],u=1,l=arguments.length,c=!1;for(typeof a=="boolean"&&(c=a,a=arguments[1]||{},u=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});u<l;++u)if(t=arguments[u],t!=null)for(n in t)r=H9(a,n),i=H9(t,n),a!==i&&(c&&i&&(V9(i)||(s=U9(i)))?(s?(s=!1,o=r&&U9(r)?r:[]):o=r&&V9(r)?r:{},z9(a,{name:n,newValue:e(c,o,i)})):typeof i<"u"&&z9(a,{name:n,newValue:i}));return a};const W9=Oa(zNe);function n2(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function HNe(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(u,...l){const c=e[++s];let f=-1;if(u){o(u);return}for(;++f<i.length;)(l[f]===null||l[f]===void 0)&&(l[f]=i[f]);i=l,c?WNe(c,a)(...l):o(null,...l)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function WNe(e,t){let n;return r;function r(...o){const a=e.length>o.length;let u;a&&o.push(i);try{u=e.apply(this,o)}catch(l){const c=l;if(a&&n)throw c;return i(c)}a||(u instanceof Promise?u.then(s,i):u instanceof Error?i(u):s(u))}function i(o,...a){n||(n=!0,t(o,...a))}function s(o){i(null,o)}}class Qo extends Error{constructor(t,n,r){const i=[null,null];let s={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof n=="string"&&(r=n,n=void 0),typeof r=="string"){const o=r.indexOf(":");o===-1?i[1]=r:(i[0]=r.slice(0,o),i[1]=r.slice(o+1))}n&&("type"in n||"position"in n?n.position&&(s=n.position):"start"in n||"end"in n?s=n:("line"in n||"column"in n)&&(s.start=n)),this.name=bp(n)||"1:1",this.message=typeof t=="object"?t.message:t,this.stack="",typeof t=="object"&&t.stack&&(this.stack=t.stack),this.reason=this.message,this.fatal,this.line=s.start.line,this.column=s.start.column,this.position=s,this.source=i[0],this.ruleId=i[1],this.file,this.actual,this.expected,this.url,this.note}}Qo.prototype.file="";Qo.prototype.name="";Qo.prototype.reason="";Qo.prototype.message="";Qo.prototype.stack="";Qo.prototype.fatal=null;Qo.prototype.column=null;Qo.prototype.line=null;Qo.prototype.source=null;Qo.prototype.ruleId=null;Qo.prototype.position=null;const Ba={basename:qNe,dirname:GNe,extname:YNe,join:KNe,sep:"/"};function qNe(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');L_(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.charCodeAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,a=t.length-1;for(;i--;)if(e.charCodeAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(e.charCodeAt(i)===t.charCodeAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function GNe(e){if(L_(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.charCodeAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.charCodeAt(0)===47?"/":".":t===1&&e.charCodeAt(0)===47?"//":e.slice(0,t)}function YNe(e){L_(e);let t=e.length,n=-1,r=0,i=-1,s=0,o;for(;t--;){const a=e.charCodeAt(t);if(a===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),a===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function KNe(...e){let t=-1,n;for(;++t<e.length;)L_(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":QNe(n)}function QNe(e){L_(e);const t=e.charCodeAt(0)===47;let n=XNe(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.charCodeAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function XNe(e,t){let n="",r=0,i=-1,s=0,o=-1,a,u;for(;++o<=e.length;){if(o<e.length)a=e.charCodeAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function L_(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const JNe={cwd:ZNe};function ZNe(){return"/"}function r2(e){return e!==null&&typeof e=="object"&&e.href&&e.origin}function eke(e){if(typeof e=="string")e=new URL(e);else if(!r2(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return tke(e)}function tke(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.charCodeAt(n)===37&&t.charCodeAt(n+1)===50){const r=t.charCodeAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const rA=["history","path","basename","stem","extname","dirname"];class nke{constructor(t){let n;t?typeof t=="string"||ID(t)?n={value:t}:r2(t)?n={path:t}:n=t:n={},this.data={},this.messages=[],this.history=[],this.cwd=JNe.cwd(),this.value,this.stored,this.result,this.map;let r=-1;for(;++r<rA.length;){const s=rA[r];s in n&&n[s]!==void 0&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)rA.includes(i)||(this[i]=n[i])}get path(){return this.history[this.history.length-1]}set path(t){r2(t)&&(t=eke(t)),sA(t,"path"),this.path!==t&&this.history.push(t)}get dirname(){return typeof this.path=="string"?Ba.dirname(this.path):void 0}set dirname(t){q9(this.basename,"dirname"),this.path=Ba.join(t||"",this.basename)}get basename(){return typeof this.path=="string"?Ba.basename(this.path):void 0}set basename(t){sA(t,"basename"),iA(t,"basename"),this.path=Ba.join(this.dirname||"",t)}get extname(){return typeof this.path=="string"?Ba.extname(this.path):void 0}set extname(t){if(iA(t,"extname"),q9(this.dirname,"extname"),t){if(t.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Ba.join(this.dirname,this.stem+(t||""))}get stem(){return typeof this.path=="string"?Ba.basename(this.path,this.extname):void 0}set stem(t){sA(t,"stem"),iA(t,"stem"),this.path=Ba.join(this.dirname||"",t+(this.extname||""))}toString(t){return(this.value||"").toString(t)}message(t,n,r){const i=new Qo(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=null,i}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}}function iA(e,t){if(e&&e.includes(Ba.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Ba.sep+"`")}function sA(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function q9(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}const rke=rJ().freeze(),nJ={}.hasOwnProperty;function rJ(){const e=HNe(),t=[];let n={},r,i=-1;return s.data=o,s.Parser=void 0,s.Compiler=void 0,s.freeze=a,s.attachers=t,s.use=u,s.parse=l,s.stringify=c,s.run=f,s.runSync=d,s.process=h,s.processSync=p,s;function s(){const m=rJ();let y=-1;for(;++y<t.length;)m.use(...t[y]);return m.data(W9(!0,{},n)),m}function o(m,y){return typeof m=="string"?arguments.length===2?(uA("data",r),n[m]=y,s):nJ.call(n,m)&&n[m]||null:m?(uA("data",r),n=m,s):n}function a(){if(r)return s;for(;++i<t.length;){const[m,...y]=t[i];if(y[0]===!1)continue;y[0]===!0&&(y[0]=void 0);const g=m.call(s,...y);typeof g=="function"&&e.use(g)}return r=!0,i=Number.POSITIVE_INFINITY,s}function u(m,...y){let g;if(uA("use",r),m!=null)if(typeof m=="function")I(m,...y);else if(typeof m=="object")Array.isArray(m)?T(m):b(m);else throw new TypeError("Expected usable value, not `"+m+"`");return g&&(n.settings=Object.assign(n.settings||{},g)),s;function _(E){if(typeof E=="function")I(E);else if(typeof E=="object")if(Array.isArray(E)){const[S,...A]=E;I(S,...A)}else b(E);else throw new TypeError("Expected usable value, not `"+E+"`")}function b(E){T(E.plugins),E.settings&&(g=Object.assign(g||{},E.settings))}function T(E){let S=-1;if(E!=null)if(Array.isArray(E))for(;++S<E.length;){const A=E[S];_(A)}else throw new TypeError("Expected a list of plugins, not `"+E+"`")}function I(E,S){let A=-1,L;for(;++A<t.length;)if(t[A][0]===E){L=t[A];break}L?(n2(L[1])&&n2(S)&&(S=W9(!0,L[1],S)),L[1]=S):t.push([...arguments])}}function l(m){s.freeze();const y=O0(m),g=s.Parser;return oA("parse",g),G9(g,"parse")?new g(String(y),y).parse():g(String(y),y)}function c(m,y){s.freeze();const g=O0(y),_=s.Compiler;return aA("stringify",_),Y9(m),G9(_,"compile")?new _(m,g).compile():_(m,g)}function f(m,y,g){if(Y9(m),s.freeze(),!g&&typeof y=="function"&&(g=y,y=void 0),!g)return new Promise(_);_(null,g);function _(b,T){e.run(m,O0(y),I);function I(E,S,A){S=S||m,E?T(E):b?b(S):g(null,S,A)}}}function d(m,y){let g,_;return s.run(m,y,b),K9("runSync","run",_),g;function b(T,I){F9(T),g=I,_=!0}}function h(m,y){if(s.freeze(),oA("process",s.Parser),aA("process",s.Compiler),!y)return new Promise(g);g(null,y);function g(_,b){const T=O0(m);s.run(s.parse(T),T,(E,S,A)=>{if(E||!S||!A)I(E);else{const L=s.stringify(S,A);L==null||(oke(L)?A.value=L:A.result=L),I(E,A)}});function I(E,S){E||!S?b(E):_?_(S):y(null,S)}}}function p(m){let y;s.freeze(),oA("processSync",s.Parser),aA("processSync",s.Compiler);const g=O0(m);return s.process(g,_),K9("processSync","process",y),g;function _(b){y=!0,F9(b)}}}function G9(e,t){return typeof e=="function"&&e.prototype&&(ike(e.prototype)||t in e.prototype)}function ike(e){let t;for(t in e)if(nJ.call(e,t))return!0;return!1}function oA(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `Parser`")}function aA(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `Compiler`")}function uA(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Y9(e){if(!n2(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function K9(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function O0(e){return ske(e)?e:new nke(e)}function ske(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function oke(e){return typeof e=="string"||ID(e)}function ake(e,t){var{includeImageAlt:n=!0}=t||{};return iJ(e,n)}function iJ(e,t){return e&&typeof e=="object"&&(e.value||(t?e.alt:"")||"children"in e&&Q9(e.children,t)||Array.isArray(e)&&Q9(e,t))||""}function Q9(e,t){for(var n=[],r=-1;++r<e.length;)n[r]=iJ(e[r],t);return n.join("")}function Eu(e,t,n,r){const i=e.length;let s=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),[].splice.apply(e,o);else for(n&&[].splice.apply(e,[t,n]);s<r.length;)o=r.slice(s,s+1e4),o.unshift(t,0),[].splice.apply(e,o),s+=1e4,t+=1e4}function No(e,t){return e.length>0?(Eu(e,e.length,0,t),e):t}const X9={}.hasOwnProperty;function uke(e){const t={};let n=-1;for(;++n<e.length;)lke(t,e[n]);return t}function lke(e,t){let n;for(n in t){const i=(X9.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let o;for(o in s){X9.call(i,o)||(i[o]=[]);const a=s[o];cke(i[o],Array.isArray(a)?a:a?[a]:[])}}}function cke(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Eu(e,0,0,r)}const fke=/[!-/:-@[-`{-~\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,Ya=bf(/[A-Za-z]/),i2=bf(/\d/),dke=bf(/[\dA-Fa-f]/),io=bf(/[\dA-Za-z]/),hke=bf(/[!-/:-@[-`{-~]/),J9=bf(/[#-'*+\--9=?A-Z^-~]/);function s2(e){return e!==null&&(e<32||e===127)}function Uo(e){return e!==null&&(e<0||e===32)}function wt(e){return e!==null&&e<-2}function Ur(e){return e===-2||e===-1||e===32}const pke=bf(/\s/),mke=bf(fke);function bf(e){return t;function t(n){return n!==null&&e.test(String.fromCharCode(n))}}function Vn(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(u){return Ur(u)?(e.enter(n),a(u)):t(u)}function a(u){return Ur(u)&&s++<i?(e.consume(u),a):(e.exit(n),t(u))}}const gke={tokenize:yke};function yke(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),Vn(e,t,"linePrefix")}function i(a){return e.enter("paragraph"),s(a)}function s(a){const u=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=u),n=u,o(a)}function o(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return wt(a)?(e.consume(a),e.exit("chunkText"),s):(e.consume(a),o)}}const _ke={tokenize:vke},Z9={tokenize:bke};function vke(e){const t=this,n=[];let r=0,i,s,o;return a;function a(b){if(r<n.length){const T=n[r];return t.containerState=T[1],e.attempt(T[0].continuation,u,l)(b)}return l(b)}function u(b){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&_();const T=t.events.length;let I=T,E;for(;I--;)if(t.events[I][0]==="exit"&&t.events[I][1].type==="chunkFlow"){E=t.events[I][1].end;break}g(r);let S=T;for(;S<t.events.length;)t.events[S][1].end=Object.assign({},E),S++;return Eu(t.events,I+1,0,t.events.slice(T)),t.events.length=S,l(b)}return a(b)}function l(b){if(r===n.length){if(!i)return d(b);if(i.currentConstruct&&i.currentConstruct.concrete)return p(b);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Z9,c,f)(b)}function c(b){return i&&_(),g(r),d(b)}function f(b){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,p(b)}function d(b){return t.containerState={},e.attempt(Z9,h,p)(b)}function h(b){return r++,n.push([t.currentConstruct,t.containerState]),d(b)}function p(b){if(b===null){i&&_(),g(0),e.consume(b);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:s,_tokenizer:i}),m(b)}function m(b){if(b===null){y(e.exit("chunkFlow"),!0),g(0),e.consume(b);return}return wt(b)?(e.consume(b),y(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(b),m)}function y(b,T){const I=t.sliceStream(b);if(T&&I.push(null),b.previous=s,s&&(s.next=b),s=b,i.defineSkip(b.start),i.write(I),t.parser.lazy[b.start.line]){let E=i.events.length;for(;E--;)if(i.events[E][1].start.offset<o&&(!i.events[E][1].end||i.events[E][1].end.offset>o))return;const S=t.events.length;let A=S,L,W;for(;A--;)if(t.events[A][0]==="exit"&&t.events[A][1].type==="chunkFlow"){if(L){W=t.events[A][1].end;break}L=!0}for(g(r),E=S;E<t.events.length;)t.events[E][1].end=Object.assign({},W),E++;Eu(t.events,A+1,0,t.events.slice(S)),t.events.length=E}}function g(b){let T=n.length;for(;T-- >b;){const I=n[T];t.containerState=I[1],I[0].exit.call(t,e)}n.length=b}function _(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function bke(e,t,n){return Vn(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function eB(e){if(e===null||Uo(e)||pke(e))return 1;if(mke(e))return 2}function xD(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const o2={name:"attention",tokenize:wke,resolveAll:Eke};function Eke(e,t){let n=-1,r,i,s,o,a,u,l,c;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;u=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f=Object.assign({},e[r][1].end),d=Object.assign({},e[n][1].start);tB(f,-u),tB(d,u),o={type:u>1?"strongSequence":"emphasisSequence",start:f,end:Object.assign({},e[r][1].end)},a={type:u>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[n][1].start),end:d},s={type:u>1?"strongText":"emphasisText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[n][1].start)},i={type:u>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},a.end)},e[r][1].end=Object.assign({},o.start),e[n][1].start=Object.assign({},a.end),l=[],e[r][1].end.offset-e[r][1].start.offset&&(l=No(l,[["enter",e[r][1],t],["exit",e[r][1],t]])),l=No(l,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",s,t]]),l=No(l,xD(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),l=No(l,[["exit",s,t],["enter",a,t],["exit",a,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(c=2,l=No(l,[["enter",e[n][1],t],["exit",e[n][1],t]])):c=0,Eu(e,r-1,n-r+3,l),n=r+l.length-c-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function wke(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=eB(r);let s;return o;function o(u){return e.enter("attentionSequence"),s=u,a(u)}function a(u){if(u===s)return e.consume(u),a;const l=e.exit("attentionSequence"),c=eB(u),f=!c||c===2&&i||n.includes(u),d=!i||i===2&&c||n.includes(r);return l._open=!!(s===42?f:f&&(i||!d)),l._close=!!(s===42?d:d&&(c||!f)),t(u)}}function tB(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Tke={name:"autolink",tokenize:Ske};function Ske(e,t,n){let r=1;return i;function i(p){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(p){return Ya(p)?(e.consume(p),o):J9(p)?l(p):n(p)}function o(p){return p===43||p===45||p===46||io(p)?a(p):l(p)}function a(p){return p===58?(e.consume(p),u):(p===43||p===45||p===46||io(p))&&r++<32?(e.consume(p),a):l(p)}function u(p){return p===62?(e.exit("autolinkProtocol"),h(p)):p===null||p===32||p===60||s2(p)?n(p):(e.consume(p),u)}function l(p){return p===64?(e.consume(p),r=0,c):J9(p)?(e.consume(p),l):n(p)}function c(p){return io(p)?f(p):n(p)}function f(p){return p===46?(e.consume(p),r=0,c):p===62?(e.exit("autolinkProtocol").type="autolinkEmail",h(p)):d(p)}function d(p){return(p===45||io(p))&&r++<63?(e.consume(p),p===45?d:f):n(p)}function h(p){return e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t}}const lI={tokenize:Ike,partial:!0};function Ike(e,t,n){return Vn(e,r,"linePrefix");function r(i){return i===null||wt(i)?t(i):n(i)}}const sJ={name:"blockQuote",tokenize:xke,continuation:{tokenize:Cke},exit:Ake};function xke(e,t,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),s}return n(o)}function s(o){return Ur(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function Cke(e,t,n){return Vn(e,e.attempt(sJ,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Ake(e){e.exit("blockQuote")}const oJ={name:"characterEscape",tokenize:Oke};function Oke(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return hke(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const nB=document.createElement("i");function CD(e){const t="&"+e+";";nB.innerHTML=t;const n=nB.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}const aJ={name:"characterReference",tokenize:Pke};function Pke(e,t,n){const r=this;let i=0,s,o;return a;function a(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),u}function u(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),l):(e.enter("characterReferenceValue"),s=31,o=io,c(f))}function l(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,o=dke,c):(e.enter("characterReferenceValue"),s=7,o=i2,c(f))}function c(f){let d;return f===59&&i?(d=e.exit("characterReferenceValue"),o===io&&!CD(r.sliceSerialize(d))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)):o(f)&&i++<s?(e.consume(f),c):n(f)}}const rB={name:"codeFenced",tokenize:Rke,concrete:!0};function Rke(e,t,n){const r=this,i={tokenize:I,partial:!0},s={tokenize:T,partial:!0},o=this.events[this.events.length-1],a=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0;let u=0,l;return c;function c(E){return e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),l=E,f(E)}function f(E){return E===l?(e.consume(E),u++,f):(e.exit("codeFencedFenceSequence"),u<3?n(E):Vn(e,d,"whitespace")(E))}function d(E){return E===null||wt(E)?y(E):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(E))}function h(E){return E===null||Uo(E)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Vn(e,p,"whitespace")(E)):E===96&&E===l?n(E):(e.consume(E),h)}function p(E){return E===null||wt(E)?y(E):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),m(E))}function m(E){return E===null||wt(E)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),y(E)):E===96&&E===l?n(E):(e.consume(E),m)}function y(E){return e.exit("codeFencedFence"),r.interrupt?t(E):g(E)}function g(E){return E===null?b(E):wt(E)?e.attempt(s,e.attempt(i,b,a?Vn(e,g,"linePrefix",a+1):g),b)(E):(e.enter("codeFlowValue"),_(E))}function _(E){return E===null||wt(E)?(e.exit("codeFlowValue"),g(E)):(e.consume(E),_)}function b(E){return e.exit("codeFenced"),t(E)}function T(E,S,A){const L=this;return W;function W(U){return E.enter("lineEnding"),E.consume(U),E.exit("lineEnding"),z}function z(U){return L.parser.lazy[L.now().line]?A(U):S(U)}}function I(E,S,A){let L=0;return Vn(E,W,"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function W(Z){return E.enter("codeFencedFence"),E.enter("codeFencedFenceSequence"),z(Z)}function z(Z){return Z===l?(E.consume(Z),L++,z):L<u?A(Z):(E.exit("codeFencedFenceSequence"),Vn(E,U,"whitespace")(Z))}function U(Z){return Z===null||wt(Z)?(E.exit("codeFencedFence"),S(Z)):A(Z)}}}const lA={name:"codeIndented",tokenize:kke},Nke={tokenize:Dke,partial:!0};function kke(e,t,n){const r=this;return i;function i(l){return e.enter("codeIndented"),Vn(e,s,"linePrefix",5)(l)}function s(l){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?o(l):n(l)}function o(l){return l===null?u(l):wt(l)?e.attempt(Nke,o,u)(l):(e.enter("codeFlowValue"),a(l))}function a(l){return l===null||wt(l)?(e.exit("codeFlowValue"),o(l)):(e.consume(l),a)}function u(l){return e.exit("codeIndented"),t(l)}}function Dke(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):wt(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):Vn(e,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):wt(o)?i(o):n(o)}}const $ke={name:"codeText",tokenize:Fke,resolve:Lke,previous:Mke};function Lke(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function Mke(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Fke(e,t,n){let r=0,i,s;return o;function o(f){return e.enter("codeText"),e.enter("codeTextSequence"),a(f)}function a(f){return f===96?(e.consume(f),r++,a):(e.exit("codeTextSequence"),u(f))}function u(f){return f===null?n(f):f===96?(s=e.enter("codeTextSequence"),i=0,c(f)):f===32?(e.enter("space"),e.consume(f),e.exit("space"),u):wt(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),u):(e.enter("codeTextData"),l(f))}function l(f){return f===null||f===32||f===96||wt(f)?(e.exit("codeTextData"),u(f)):(e.consume(f),l)}function c(f){return f===96?(e.consume(f),i++,c):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(s.type="codeTextData",l(f))}}function uJ(e){const t={};let n=-1,r,i,s,o,a,u,l;for(;++n<e.length;){for(;n in t;)n=t[n];if(r=e[n],n&&r[1].type==="chunkFlow"&&e[n-1][1].type==="listItemPrefix"&&(u=r[1]._tokenizer.events,s=0,s<u.length&&u[s][1].type==="lineEndingBlank"&&(s+=2),s<u.length&&u[s][1].type==="content"))for(;++s<u.length&&u[s][1].type!=="content";)u[s][1].type==="chunkText"&&(u[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,Bke(e,n)),n=t[n],l=!0);else if(r[1]._container){for(s=n,i=void 0;s--&&(o=e[s],o[1].type==="lineEnding"||o[1].type==="lineEndingBlank");)o[0]==="enter"&&(i&&(e[i][1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);i&&(r[1].end=Object.assign({},e[i][1].start),a=e.slice(i,n),a.unshift(r),Eu(e,i,n-i+1,a))}}return!l}function Bke(e,t){const n=e[t][1],r=e[t][2];let i=t-1;const s=[],o=n._tokenizer||r.parser[n.contentType](n.start),a=o.events,u=[],l={};let c,f,d=-1,h=n,p=0,m=0;const y=[m];for(;h;){for(;e[++i][1]!==h;);s.push(i),h._tokenizer||(c=r.sliceStream(h),h.next||c.push(null),f&&o.defineSkip(h.start),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(c),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=h,h=h.next}for(h=n;++d<a.length;)a[d][0]==="exit"&&a[d-1][0]==="enter"&&a[d][1].type===a[d-1][1].type&&a[d][1].start.line!==a[d][1].end.line&&(m=d+1,y.push(m),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(o.events=[],h?(h._tokenizer=void 0,h.previous=void 0):y.pop(),d=y.length;d--;){const g=a.slice(y[d],y[d+1]),_=s.pop();u.unshift([_,_+g.length-1]),Eu(e,_,2,g)}for(d=-1;++d<u.length;)l[p+u[d][0]]=p+u[d][1],p+=u[d][1]-u[d][0]-1;return l}const jke={tokenize:zke,resolve:Vke},Uke={tokenize:Hke,partial:!0};function Vke(e){return uJ(e),e}function zke(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):wt(a)?e.check(Uke,o,s)(a):(e.consume(a),i)}function s(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function o(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Hke(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),Vn(e,s,"linePrefix")}function s(o){if(o===null||wt(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function lJ(e,t,n,r,i,s,o,a,u){const l=u||Number.POSITIVE_INFINITY;let c=0;return f;function f(g){return g===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(g),e.exit(s),d):g===null||g===41||s2(g)?n(g):(e.enter(r),e.enter(o),e.enter(a),e.enter("chunkString",{contentType:"string"}),m(g))}function d(g){return g===62?(e.enter(s),e.consume(g),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),h(g))}function h(g){return g===62?(e.exit("chunkString"),e.exit(a),d(g)):g===null||g===60||wt(g)?n(g):(e.consume(g),g===92?p:h)}function p(g){return g===60||g===62||g===92?(e.consume(g),h):h(g)}function m(g){return g===40?++c>l?n(g):(e.consume(g),m):g===41?c--?(e.consume(g),m):(e.exit("chunkString"),e.exit(a),e.exit(o),e.exit(r),t(g)):g===null||Uo(g)?c?n(g):(e.exit("chunkString"),e.exit(a),e.exit(o),e.exit(r),t(g)):s2(g)?n(g):(e.consume(g),g===92?y:m)}function y(g){return g===40||g===41||g===92?(e.consume(g),m):m(g)}}function cJ(e,t,n,r,i,s){const o=this;let a=0,u;return l;function l(h){return e.enter(r),e.enter(i),e.consume(h),e.exit(i),e.enter(s),c}function c(h){return h===null||h===91||h===93&&!u||h===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs||a>999?n(h):h===93?(e.exit(s),e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):wt(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),f(h))}function f(h){return h===null||h===91||h===93||wt(h)||a++>999?(e.exit("chunkString"),c(h)):(e.consume(h),u=u||!Ur(h),h===92?d:f)}function d(h){return h===91||h===92||h===93?(e.consume(h),a++,f):f(h)}}function fJ(e,t,n,r,i,s){let o;return a;function a(d){return e.enter(r),e.enter(i),e.consume(d),e.exit(i),o=d===40?41:d,u}function u(d){return d===o?(e.enter(i),e.consume(d),e.exit(i),e.exit(r),t):(e.enter(s),l(d))}function l(d){return d===o?(e.exit(s),u(o)):d===null?n(d):wt(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),Vn(e,l,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(d))}function c(d){return d===o||d===null||wt(d)?(e.exit("chunkString"),l(d)):(e.consume(d),d===92?f:c)}function f(d){return d===o||d===92?(e.consume(d),c):c(d)}}function kg(e,t){let n;return r;function r(i){return wt(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Ur(i)?Vn(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}function Ep(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Wke={name:"definition",tokenize:Gke},qke={tokenize:Yke,partial:!0};function Gke(e,t,n){const r=this;let i;return s;function s(u){return e.enter("definition"),cJ.call(r,e,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(u)}function o(u){return i=Ep(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),u===58?(e.enter("definitionMarker"),e.consume(u),e.exit("definitionMarker"),kg(e,lJ(e,e.attempt(qke,Vn(e,a,"whitespace"),Vn(e,a,"whitespace")),n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString"))):n(u)}function a(u){return u===null||wt(u)?(e.exit("definition"),r.parser.defined.includes(i)||r.parser.defined.push(i),t(u)):n(u)}}function Yke(e,t,n){return r;function r(o){return Uo(o)?kg(e,i)(o):n(o)}function i(o){return o===34||o===39||o===40?fJ(e,Vn(e,s,"whitespace"),n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o):n(o)}function s(o){return o===null||wt(o)?t(o):n(o)}}const Kke={name:"hardBreakEscape",tokenize:Qke};function Qke(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.enter("escapeMarker"),e.consume(s),i}function i(s){return wt(s)?(e.exit("escapeMarker"),e.exit("hardBreakEscape"),t(s)):n(s)}}const Xke={name:"headingAtx",tokenize:Zke,resolve:Jke};function Jke(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Eu(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function Zke(e,t,n){const r=this;let i=0;return s;function s(c){return e.enter("atxHeading"),e.enter("atxHeadingSequence"),o(c)}function o(c){return c===35&&i++<6?(e.consume(c),o):c===null||Uo(c)?(e.exit("atxHeadingSequence"),r.interrupt?t(c):a(c)):n(c)}function a(c){return c===35?(e.enter("atxHeadingSequence"),u(c)):c===null||wt(c)?(e.exit("atxHeading"),t(c)):Ur(c)?Vn(e,a,"whitespace")(c):(e.enter("atxHeadingText"),l(c))}function u(c){return c===35?(e.consume(c),u):(e.exit("atxHeadingSequence"),a(c))}function l(c){return c===null||c===35||Uo(c)?(e.exit("atxHeadingText"),a(c)):(e.consume(c),l)}}const eDe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],iB=["pre","script","style","textarea"],tDe={name:"htmlFlow",tokenize:iDe,resolveTo:rDe,concrete:!0},nDe={tokenize:sDe,partial:!0};function rDe(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function iDe(e,t,n){const r=this;let i,s,o,a,u;return l;function l(C){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(C),c}function c(C){return C===33?(e.consume(C),f):C===47?(e.consume(C),p):C===63?(e.consume(C),i=3,r.interrupt?t:oe):Ya(C)?(e.consume(C),o=String.fromCharCode(C),s=!0,m):n(C)}function f(C){return C===45?(e.consume(C),i=2,d):C===91?(e.consume(C),i=5,o="CDATA[",a=0,h):Ya(C)?(e.consume(C),i=4,r.interrupt?t:oe):n(C)}function d(C){return C===45?(e.consume(C),r.interrupt?t:oe):n(C)}function h(C){return C===o.charCodeAt(a++)?(e.consume(C),a===o.length?r.interrupt?t:z:h):n(C)}function p(C){return Ya(C)?(e.consume(C),o=String.fromCharCode(C),m):n(C)}function m(C){return C===null||C===47||C===62||Uo(C)?C!==47&&s&&iB.includes(o.toLowerCase())?(i=1,r.interrupt?t(C):z(C)):eDe.includes(o.toLowerCase())?(i=6,C===47?(e.consume(C),y):r.interrupt?t(C):z(C)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(C):s?_(C):g(C)):C===45||io(C)?(e.consume(C),o+=String.fromCharCode(C),m):n(C)}function y(C){return C===62?(e.consume(C),r.interrupt?t:z):n(C)}function g(C){return Ur(C)?(e.consume(C),g):L(C)}function _(C){return C===47?(e.consume(C),L):C===58||C===95||Ya(C)?(e.consume(C),b):Ur(C)?(e.consume(C),_):L(C)}function b(C){return C===45||C===46||C===58||C===95||io(C)?(e.consume(C),b):T(C)}function T(C){return C===61?(e.consume(C),I):Ur(C)?(e.consume(C),T):_(C)}function I(C){return C===null||C===60||C===61||C===62||C===96?n(C):C===34||C===39?(e.consume(C),u=C,E):Ur(C)?(e.consume(C),I):(u=null,S(C))}function E(C){return C===null||wt(C)?n(C):C===u?(e.consume(C),A):(e.consume(C),E)}function S(C){return C===null||C===34||C===39||C===60||C===61||C===62||C===96||Uo(C)?T(C):(e.consume(C),S)}function A(C){return C===47||C===62||Ur(C)?_(C):n(C)}function L(C){return C===62?(e.consume(C),W):n(C)}function W(C){return Ur(C)?(e.consume(C),W):C===null||wt(C)?z(C):n(C)}function z(C){return C===45&&i===2?(e.consume(C),ue):C===60&&i===1?(e.consume(C),ie):C===62&&i===4?(e.consume(C),J):C===63&&i===3?(e.consume(C),oe):C===93&&i===5?(e.consume(C),te):wt(C)&&(i===6||i===7)?e.check(nDe,J,U)(C):C===null||wt(C)?U(C):(e.consume(C),z)}function U(C){return e.exit("htmlFlowData"),Z(C)}function Z(C){return C===null?x(C):wt(C)?e.attempt({tokenize:H,partial:!0},Z,x)(C):(e.enter("htmlFlowData"),z(C))}function H(C,B,P){return O;function O(fe){return C.enter("lineEnding"),C.consume(fe),C.exit("lineEnding"),G}function G(fe){return r.parser.lazy[r.now().line]?P(fe):B(fe)}}function ue(C){return C===45?(e.consume(C),oe):z(C)}function ie(C){return C===47?(e.consume(C),o="",_e):z(C)}function _e(C){return C===62&&iB.includes(o.toLowerCase())?(e.consume(C),J):Ya(C)&&o.length<8?(e.consume(C),o+=String.fromCharCode(C),_e):z(C)}function te(C){return C===93?(e.consume(C),oe):z(C)}function oe(C){return C===62?(e.consume(C),J):C===45&&i===2?(e.consume(C),oe):z(C)}function J(C){return C===null||wt(C)?(e.exit("htmlFlowData"),x(C)):(e.consume(C),J)}function x(C){return e.exit("htmlFlow"),t(C)}}function sDe(e,t,n){return r;function r(i){return e.exit("htmlFlowData"),e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),e.attempt(lI,t,n)}}const oDe={name:"htmlText",tokenize:aDe};function aDe(e,t,n){const r=this;let i,s,o,a;return u;function u(x){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(x),l}function l(x){return x===33?(e.consume(x),c):x===47?(e.consume(x),S):x===63?(e.consume(x),I):Ya(x)?(e.consume(x),W):n(x)}function c(x){return x===45?(e.consume(x),f):x===91?(e.consume(x),s="CDATA[",o=0,y):Ya(x)?(e.consume(x),T):n(x)}function f(x){return x===45?(e.consume(x),d):n(x)}function d(x){return x===null||x===62?n(x):x===45?(e.consume(x),h):p(x)}function h(x){return x===null||x===62?n(x):p(x)}function p(x){return x===null?n(x):x===45?(e.consume(x),m):wt(x)?(a=p,te(x)):(e.consume(x),p)}function m(x){return x===45?(e.consume(x),J):p(x)}function y(x){return x===s.charCodeAt(o++)?(e.consume(x),o===s.length?g:y):n(x)}function g(x){return x===null?n(x):x===93?(e.consume(x),_):wt(x)?(a=g,te(x)):(e.consume(x),g)}function _(x){return x===93?(e.consume(x),b):g(x)}function b(x){return x===62?J(x):x===93?(e.consume(x),b):g(x)}function T(x){return x===null||x===62?J(x):wt(x)?(a=T,te(x)):(e.consume(x),T)}function I(x){return x===null?n(x):x===63?(e.consume(x),E):wt(x)?(a=I,te(x)):(e.consume(x),I)}function E(x){return x===62?J(x):I(x)}function S(x){return Ya(x)?(e.consume(x),A):n(x)}function A(x){return x===45||io(x)?(e.consume(x),A):L(x)}function L(x){return wt(x)?(a=L,te(x)):Ur(x)?(e.consume(x),L):J(x)}function W(x){return x===45||io(x)?(e.consume(x),W):x===47||x===62||Uo(x)?z(x):n(x)}function z(x){return x===47?(e.consume(x),J):x===58||x===95||Ya(x)?(e.consume(x),U):wt(x)?(a=z,te(x)):Ur(x)?(e.consume(x),z):J(x)}function U(x){return x===45||x===46||x===58||x===95||io(x)?(e.consume(x),U):Z(x)}function Z(x){return x===61?(e.consume(x),H):wt(x)?(a=Z,te(x)):Ur(x)?(e.consume(x),Z):z(x)}function H(x){return x===null||x===60||x===61||x===62||x===96?n(x):x===34||x===39?(e.consume(x),i=x,ue):wt(x)?(a=H,te(x)):Ur(x)?(e.consume(x),H):(e.consume(x),i=void 0,_e)}function ue(x){return x===i?(e.consume(x),ie):x===null?n(x):wt(x)?(a=ue,te(x)):(e.consume(x),ue)}function ie(x){return x===62||x===47||Uo(x)?z(x):n(x)}function _e(x){return x===null||x===34||x===39||x===60||x===61||x===96?n(x):x===62||Uo(x)?z(x):(e.consume(x),_e)}function te(x){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(x),e.exit("lineEnding"),Vn(e,oe,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function oe(x){return e.enter("htmlTextData"),a(x)}function J(x){return x===62?(e.consume(x),e.exit("htmlTextData"),e.exit("htmlText"),t):n(x)}}const AD={name:"labelEnd",tokenize:hDe,resolveTo:dDe,resolveAll:fDe},uDe={tokenize:pDe},lDe={tokenize:mDe},cDe={tokenize:gDe};function fDe(e){let t=-1,n;for(;++t<e.length;)n=e[t][1],(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(e.splice(t+1,n.type==="labelImage"?4:2),n.type="data",t++);return e}function dDe(e,t){let n=e.length,r=0,i,s,o,a;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const u={type:e[s][1].type==="labelLink"?"link":"image",start:Object.assign({},e[s][1].start),end:Object.assign({},e[e.length-1][1].end)},l={type:"label",start:Object.assign({},e[s][1].start),end:Object.assign({},e[o][1].end)},c={type:"labelText",start:Object.assign({},e[s+r+2][1].end),end:Object.assign({},e[o-2][1].start)};return a=[["enter",u,t],["enter",l,t]],a=No(a,e.slice(s+1,s+r+3)),a=No(a,[["enter",c,t]]),a=No(a,xD(t.parser.constructs.insideSpan.null,e.slice(s+r+4,o-3),t)),a=No(a,[["exit",c,t],e[o-2],e[o-1],["exit",l,t]]),a=No(a,e.slice(o+1)),a=No(a,[["exit",u,t]]),Eu(e,s,e.length,a),e}function hDe(e,t,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(c){return s?s._inactive?l(c):(o=r.parser.defined.includes(Ep(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(c),e.exit("labelMarker"),e.exit("labelEnd"),u):n(c)}function u(c){return c===40?e.attempt(uDe,t,o?t:l)(c):c===91?e.attempt(lDe,t,o?e.attempt(cDe,t,l):l)(c):o?t(c):l(c)}function l(c){return s._balanced=!0,n(c)}}function pDe(e,t,n){return r;function r(u){return e.enter("resource"),e.enter("resourceMarker"),e.consume(u),e.exit("resourceMarker"),kg(e,i)}function i(u){return u===41?a(u):lJ(e,s,n,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(u)}function s(u){return Uo(u)?kg(e,o)(u):a(u)}function o(u){return u===34||u===39||u===40?fJ(e,kg(e,a),n,"resourceTitle","resourceTitleMarker","resourceTitleString")(u):a(u)}function a(u){return u===41?(e.enter("resourceMarker"),e.consume(u),e.exit("resourceMarker"),e.exit("resource"),t):n(u)}}function mDe(e,t,n){const r=this;return i;function i(o){return cJ.call(r,e,s,n,"reference","referenceMarker","referenceString")(o)}function s(o){return r.parser.defined.includes(Ep(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(o):n(o)}}function gDe(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const yDe={name:"labelStartImage",tokenize:_De,resolveAll:AD.resolveAll};function _De(e,t,n){const r=this;return i;function i(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),s}function s(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const vDe={name:"labelStartLink",tokenize:bDe,resolveAll:AD.resolveAll};function bDe(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const cA={name:"lineEnding",tokenize:EDe};function EDe(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Vn(e,t,"linePrefix")}}const ib={name:"thematicBreak",tokenize:wDe};function wDe(e,t,n){let r=0,i;return s;function s(u){return e.enter("thematicBreak"),i=u,o(u)}function o(u){return u===i?(e.enter("thematicBreakSequence"),a(u)):Ur(u)?Vn(e,o,"whitespace")(u):r<3||u!==null&&!wt(u)?n(u):(e.exit("thematicBreak"),t(u))}function a(u){return u===i?(e.consume(u),r++,a):(e.exit("thematicBreakSequence"),o(u))}}const bs={name:"list",tokenize:IDe,continuation:{tokenize:xDe},exit:ADe},TDe={tokenize:ODe,partial:!0},SDe={tokenize:CDe,partial:!0};function IDe(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(h){const p=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:i2(h)){if(r.containerState.type||(r.containerState.type=p,e.enter(p,{_container:!0})),p==="listUnordered")return e.enter("listItemPrefix"),h===42||h===45?e.check(ib,n,l)(h):l(h);if(!r.interrupt||h===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),u(h)}return n(h)}function u(h){return i2(h)&&++o<10?(e.consume(h),u):(!r.interrupt||o<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(e.exit("listItemValue"),l(h)):n(h)}function l(h){return e.enter("listItemMarker"),e.consume(h),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,e.check(lI,r.interrupt?n:c,e.attempt(TDe,d,f))}function c(h){return r.containerState.initialBlankLine=!0,s++,d(h)}function f(h){return Ur(h)?(e.enter("listItemPrefixWhitespace"),e.consume(h),e.exit("listItemPrefixWhitespace"),d):n(h)}function d(h){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(h)}}function xDe(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(lI,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Vn(e,t,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!Ur(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(SDe,t,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,Vn(e,e.attempt(bs,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function CDe(e,t,n){const r=this;return Vn(e,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(s):n(s)}}function ADe(e){e.exit(this.containerState.type)}function ODe(e,t,n){const r=this;return Vn(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!Ur(s)&&o&&o[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const sB={name:"setextUnderline",tokenize:RDe,resolveTo:PDe};function PDe(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",o,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end=Object.assign({},e[s][1].end)):e[r][1]=o,e.push(["exit",o,t]),e}function RDe(e,t,n){const r=this;let i=r.events.length,s,o;for(;i--;)if(r.events[i][1].type!=="lineEnding"&&r.events[i][1].type!=="linePrefix"&&r.events[i][1].type!=="content"){o=r.events[i][1].type==="paragraph";break}return a;function a(c){return!r.parser.lazy[r.now().line]&&(r.interrupt||o)?(e.enter("setextHeadingLine"),e.enter("setextHeadingLineSequence"),s=c,u(c)):n(c)}function u(c){return c===s?(e.consume(c),u):(e.exit("setextHeadingLineSequence"),Vn(e,l,"lineSuffix")(c))}function l(c){return c===null||wt(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const NDe={tokenize:kDe};function kDe(e){const t=this,n=e.attempt(lI,r,e.attempt(this.parser.constructs.flowInitial,i,Vn(e,e.attempt(this.parser.constructs.flow,i,e.attempt(jke,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const DDe={resolveAll:hJ()},$De=dJ("string"),LDe=dJ("text");function dJ(e){return{tokenize:t,resolveAll:hJ(e==="text"?MDe:void 0)};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,o,a);return o;function o(c){return l(c)?s(c):a(c)}function a(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),u}function u(c){return l(c)?(n.exit("data"),s(c)):(n.consume(c),u)}function l(c){if(c===null)return!0;const f=i[c];let d=-1;if(f)for(;++d<f.length;){const h=f[d];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}function hJ(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function MDe(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,o=-1,a=0,u;for(;s--;){const l=i[s];if(typeof l=="string"){for(o=l.length;l.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(l===-2)u=!0,a++;else if(l!==-1){s++;break}}if(a){const l={type:n===e.length||u||a<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-a,offset:r.end.offset-a,_index:r.start._index+s,_bufferIndex:s?o:r.start._bufferIndex+o},end:Object.assign({},r.end)};r.end=Object.assign({},l.start),r.start.offset===r.end.offset?Object.assign(r,l):(e.splice(n,0,["enter",l,t],["exit",l,t]),n+=2)}n++}return e}function FDe(e,t,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},s=[];let o=[],a=[];const u={consume:_,enter:b,exit:T,attempt:S(I),check:S(E),interrupt:S(E,{interrupt:!0})},l={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:h,sliceSerialize:d,now:p,defineSkip:m,write:f};let c=t.tokenize.call(l,u);return t.resolveAll&&s.push(t),l;function f(z){return o=No(o,z),y(),o[o.length-1]!==null?[]:(A(t,0),l.events=xD(s,l.events,l),l.events)}function d(z,U){return jDe(h(z),U)}function h(z){return BDe(o,z)}function p(){return Object.assign({},r)}function m(z){i[z.line]=z.column,W()}function y(){let z;for(;r._index<o.length;){const U=o[r._index];if(typeof U=="string")for(z=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===z&&r._bufferIndex<U.length;)g(U.charCodeAt(r._bufferIndex));else g(U)}}function g(z){c=c(z)}function _(z){wt(z)?(r.line++,r.column=1,r.offset+=z===-3?2:1,W()):z!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),l.previous=z}function b(z,U){const Z=U||{};return Z.type=z,Z.start=p(),l.events.push(["enter",Z,l]),a.push(Z),Z}function T(z){const U=a.pop();return U.end=p(),l.events.push(["exit",U,l]),U}function I(z,U){A(z,U.from)}function E(z,U){U.restore()}function S(z,U){return Z;function Z(H,ue,ie){let _e,te,oe,J;return Array.isArray(H)?C(H):"tokenize"in H?C([H]):x(H);function x(G){return fe;function fe(le){const me=le!==null&&G[le],ge=le!==null&&G.null,Se=[...Array.isArray(me)?me:me?[me]:[],...Array.isArray(ge)?ge:ge?[ge]:[]];return C(Se)(le)}}function C(G){return _e=G,te=0,G.length===0?ie:B(G[te])}function B(G){return fe;function fe(le){return J=L(),oe=G,G.partial||(l.currentConstruct=G),G.name&&l.parser.constructs.disable.null.includes(G.name)?O():G.tokenize.call(U?Object.assign(Object.create(l),U):l,u,P,O)(le)}}function P(G){return z(oe,J),ue}function O(G){return J.restore(),++te<_e.length?B(_e[te]):ie}}}function A(z,U){z.resolveAll&&!s.includes(z)&&s.push(z),z.resolve&&Eu(l.events,U,l.events.length-U,z.resolve(l.events.slice(U),l)),z.resolveTo&&(l.events=z.resolveTo(l.events,l))}function L(){const z=p(),U=l.previous,Z=l.currentConstruct,H=l.events.length,ue=Array.from(a);return{restore:ie,from:H};function ie(){r=z,l.previous=U,l.currentConstruct=Z,l.events.length=H,a=ue,W()}}function W(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function BDe(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let o;return n===i?o=[e[n].slice(r,s)]:(o=e.slice(n,i),r>-1&&(o[0]=o[0].slice(r)),s>0&&o.push(e[i].slice(0,s))),o}function jDe(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}const UDe={42:bs,43:bs,45:bs,48:bs,49:bs,50:bs,51:bs,52:bs,53:bs,54:bs,55:bs,56:bs,57:bs,62:sJ},VDe={91:Wke},zDe={[-2]:lA,[-1]:lA,32:lA},HDe={35:Xke,42:ib,45:[sB,ib],60:tDe,61:sB,95:ib,96:rB,126:rB},WDe={38:aJ,92:oJ},qDe={[-5]:cA,[-4]:cA,[-3]:cA,33:yDe,38:aJ,42:o2,60:[Tke,oDe],91:vDe,92:[Kke,oJ],93:AD,95:o2,96:$ke},GDe={null:[o2,DDe]},YDe={null:[42,95]},KDe={null:[]},QDe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:YDe,contentInitial:VDe,disable:KDe,document:UDe,flow:HDe,flowInitial:zDe,insideSpan:GDe,string:WDe,text:qDe},Symbol.toStringTag,{value:"Module"}));function XDe(e={}){const t=uke([QDe].concat(e.extensions||[])),n={defined:[],lazy:{},constructs:t,content:r(gke),document:r(_ke),flow:r(NDe),string:r($De),text:r(LDe)};return n;function r(i){return s;function s(o){return FDe(n,i,o)}}}const oB=/[\0\t\n\r]/g;function JDe(){let e=1,t="",n=!0,r;return i;function i(s,o,a){const u=[];let l,c,f,d,h;for(s=t+s.toString(o),f=0,t="",n&&(s.charCodeAt(0)===65279&&f++,n=void 0);f<s.length;){if(oB.lastIndex=f,l=oB.exec(s),d=l&&l.index!==void 0?l.index:s.length,h=s.charCodeAt(d),!l){t=s.slice(f);break}if(h===10&&f===d&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),f<d&&(u.push(s.slice(f,d)),e+=d-f),h){case 0:{u.push(65533),e++;break}case 9:{for(c=Math.ceil(e/4)*4,u.push(-2);e++<c;)u.push(-1);break}case 10:{u.push(-4),e=1;break}default:r=!0,e=1}f=d+1}return a&&(r&&u.push(-5),t&&u.push(t),u.push(null)),u}}function ZDe(e){for(;!uJ(e););return e}function pJ(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCharCode(n)}const e$e=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function t$e(e){return e.replace(e$e,n$e)}function n$e(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return pJ(n.slice(s?2:1),s?16:10)}return CD(n)||e}const a2={}.hasOwnProperty,r$e=function(e,t,n){return typeof t!="string"&&(n=t,t=void 0),i$e(n)(ZDe(XDe(n).document().write(JDe()(e,t,!0))))};function i$e(e={}){const t=mJ({transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:u(Be),autolinkProtocol:U,autolinkEmail:U,atxHeading:u(ot),blockQuote:u(de),characterEscape:U,characterReference:U,codeFenced:u(st),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:u(st,l),codeText:u(Ke,l),codeTextData:U,data:U,codeFlowValue:U,definition:u(qe),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:u($e),hardBreakEscape:u(ut),hardBreakTrailing:u(ut),htmlFlow:u(On,l),htmlFlowData:U,htmlText:u(On,l),htmlTextData:U,image:u(Ue),label:l,link:u(Be),listItem:u(je),listItemValue:m,listOrdered:u(bt,p),listUnordered:u(bt),paragraph:u(gt),reference:G,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:u(ot),strong:u(Yt),thematicBreak:u(Yn)},exit:{atxHeading:f(),atxHeadingSequence:A,autolink:f(),autolinkEmail:Se,autolinkProtocol:ge,blockQuote:f(),characterEscapeValue:Z,characterReferenceMarkerHexadecimal:le,characterReferenceMarkerNumeric:le,characterReferenceValue:me,codeFenced:f(b),codeFencedFence:_,codeFencedFenceInfo:y,codeFencedFenceMeta:g,codeFlowValue:Z,codeIndented:f(T),codeText:f(te),codeTextData:Z,data:Z,definition:f(),definitionDestinationString:S,definitionLabelString:I,definitionTitleString:E,emphasis:f(),hardBreakEscape:f(ue),hardBreakTrailing:f(ue),htmlFlow:f(ie),htmlFlowData:Z,htmlText:f(_e),htmlTextData:Z,image:f(J),label:C,labelText:x,lineEnding:H,link:f(oe),listItem:f(),listOrdered:f(),listUnordered:f(),paragraph:f(),referenceString:fe,resourceDestinationString:B,resourceTitleString:P,resource:O,setextHeading:f(z),setextHeadingLineSequence:W,setextHeadingText:L,strong:f(),thematicBreak:f()}},e.mdastExtensions||[]),n={};return r;function r(ce){let we={type:"root",children:[]};const Le=[we],rt=[],De=[],it={stack:Le,tokenStack:rt,config:t,enter:c,exit:d,buffer:l,resume:h,setData:s,getData:o};let Me=-1;for(;++Me<ce.length;)if(ce[Me][1].type==="listOrdered"||ce[Me][1].type==="listUnordered")if(ce[Me][0]==="enter")De.push(Me);else{const Ze=De.pop();Me=i(ce,Ze,Me)}for(Me=-1;++Me<ce.length;){const Ze=t[ce[Me][0]];a2.call(Ze,ce[Me][1].type)&&Ze[ce[Me][1].type].call(Object.assign({sliceSerialize:ce[Me][2].sliceSerialize},it),ce[Me][1])}if(rt.length>0){const Ze=rt[rt.length-1];(Ze[1]||aB).call(it,void 0,Ze[0])}for(we.position={start:a(ce.length>0?ce[0][1].start:{line:1,column:1,offset:0}),end:a(ce.length>0?ce[ce.length-2][1].end:{line:1,column:1,offset:0})},Me=-1;++Me<t.transforms.length;)we=t.transforms[Me](we)||we;return we}function i(ce,we,Le){let rt=we-1,De=-1,it=!1,Me,Ze,bn,Wt;for(;++rt<=Le;){const St=ce[rt];if(St[1].type==="listUnordered"||St[1].type==="listOrdered"||St[1].type==="blockQuote"?(St[0]==="enter"?De++:De--,Wt=void 0):St[1].type==="lineEndingBlank"?St[0]==="enter"&&(Me&&!Wt&&!De&&!bn&&(bn=rt),Wt=void 0):St[1].type==="linePrefix"||St[1].type==="listItemValue"||St[1].type==="listItemMarker"||St[1].type==="listItemPrefix"||St[1].type==="listItemPrefixWhitespace"||(Wt=void 0),!De&&St[0]==="enter"&&St[1].type==="listItemPrefix"||De===-1&&St[0]==="exit"&&(St[1].type==="listUnordered"||St[1].type==="listOrdered")){if(Me){let Bn=rt;for(Ze=void 0;Bn--;){const En=ce[Bn];if(En[1].type==="lineEnding"||En[1].type==="lineEndingBlank"){if(En[0]==="exit")continue;Ze&&(ce[Ze][1].type="lineEndingBlank",it=!0),En[1].type="lineEnding",Ze=Bn}else if(!(En[1].type==="linePrefix"||En[1].type==="blockQuotePrefix"||En[1].type==="blockQuotePrefixWhitespace"||En[1].type==="blockQuoteMarker"||En[1].type==="listItemIndent"))break}bn&&(!Ze||bn<Ze)&&(Me._spread=!0),Me.end=Object.assign({},Ze?ce[Ze][1].start:St[1].end),ce.splice(Ze||rt,0,["exit",Me,St[2]]),rt++,Le++}St[1].type==="listItemPrefix"&&(Me={type:"listItem",_spread:!1,start:Object.assign({},St[1].start)},ce.splice(rt,0,["enter",Me,St[2]]),rt++,Le++,bn=void 0,Wt=!0)}}return ce[we][1]._spread=it,Le}function s(ce,we){n[ce]=we}function o(ce){return n[ce]}function a(ce){return{line:ce.line,column:ce.column,offset:ce.offset}}function u(ce,we){return Le;function Le(rt){c.call(this,ce(rt),rt),we&&we.call(this,rt)}}function l(){this.stack.push({type:"fragment",children:[]})}function c(ce,we,Le){return this.stack[this.stack.length-1].children.push(ce),this.stack.push(ce),this.tokenStack.push([we,Le]),ce.position={start:a(we.start)},ce}function f(ce){return we;function we(Le){ce&&ce.call(this,Le),d.call(this,Le)}}function d(ce,we){const Le=this.stack.pop(),rt=this.tokenStack.pop();if(rt)rt[0].type!==ce.type&&(we?we.call(this,ce,rt[0]):(rt[1]||aB).call(this,ce,rt[0]));else throw new Error("Cannot close `"+ce.type+"` ("+bp({start:ce.start,end:ce.end})+"): its not open");return Le.position.end=a(ce.end),Le}function h(){return ake(this.stack.pop())}function p(){s("expectingFirstListItemValue",!0)}function m(ce){if(o("expectingFirstListItemValue")){const we=this.stack[this.stack.length-2];we.start=Number.parseInt(this.sliceSerialize(ce),10),s("expectingFirstListItemValue")}}function y(){const ce=this.resume(),we=this.stack[this.stack.length-1];we.lang=ce}function g(){const ce=this.resume(),we=this.stack[this.stack.length-1];we.meta=ce}function _(){o("flowCodeInside")||(this.buffer(),s("flowCodeInside",!0))}function b(){const ce=this.resume(),we=this.stack[this.stack.length-1];we.value=ce.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),s("flowCodeInside")}function T(){const ce=this.resume(),we=this.stack[this.stack.length-1];we.value=ce.replace(/(\r?\n|\r)$/g,"")}function I(ce){const we=this.resume(),Le=this.stack[this.stack.length-1];Le.label=we,Le.identifier=Ep(this.sliceSerialize(ce)).toLowerCase()}function E(){const ce=this.resume(),we=this.stack[this.stack.length-1];we.title=ce}function S(){const ce=this.resume(),we=this.stack[this.stack.length-1];we.url=ce}function A(ce){const we=this.stack[this.stack.length-1];if(!we.depth){const Le=this.sliceSerialize(ce).length;we.depth=Le}}function L(){s("setextHeadingSlurpLineEnding",!0)}function W(ce){const we=this.stack[this.stack.length-1];we.depth=this.sliceSerialize(ce).charCodeAt(0)===61?1:2}function z(){s("setextHeadingSlurpLineEnding")}function U(ce){const we=this.stack[this.stack.length-1];let Le=we.children[we.children.length-1];(!Le||Le.type!=="text")&&(Le=an(),Le.position={start:a(ce.start)},we.children.push(Le)),this.stack.push(Le)}function Z(ce){const we=this.stack.pop();we.value+=this.sliceSerialize(ce),we.position.end=a(ce.end)}function H(ce){const we=this.stack[this.stack.length-1];if(o("atHardBreak")){const Le=we.children[we.children.length-1];Le.position.end=a(ce.end),s("atHardBreak");return}!o("setextHeadingSlurpLineEnding")&&t.canContainEols.includes(we.type)&&(U.call(this,ce),Z.call(this,ce))}function ue(){s("atHardBreak",!0)}function ie(){const ce=this.resume(),we=this.stack[this.stack.length-1];we.value=ce}function _e(){const ce=this.resume(),we=this.stack[this.stack.length-1];we.value=ce}function te(){const ce=this.resume(),we=this.stack[this.stack.length-1];we.value=ce}function oe(){const ce=this.stack[this.stack.length-1];o("inReference")?(ce.type+="Reference",ce.referenceType=o("referenceType")||"shortcut",delete ce.url,delete ce.title):(delete ce.identifier,delete ce.label),s("referenceType")}function J(){const ce=this.stack[this.stack.length-1];o("inReference")?(ce.type+="Reference",ce.referenceType=o("referenceType")||"shortcut",delete ce.url,delete ce.title):(delete ce.identifier,delete ce.label),s("referenceType")}function x(ce){const we=this.stack[this.stack.length-2],Le=this.sliceSerialize(ce);we.label=t$e(Le),we.identifier=Ep(Le).toLowerCase()}function C(){const ce=this.stack[this.stack.length-1],we=this.resume(),Le=this.stack[this.stack.length-1];s("inReference",!0),Le.type==="link"?Le.children=ce.children:Le.alt=we}function B(){const ce=this.resume(),we=this.stack[this.stack.length-1];we.url=ce}function P(){const ce=this.resume(),we=this.stack[this.stack.length-1];we.title=ce}function O(){s("inReference")}function G(){s("referenceType","collapsed")}function fe(ce){const we=this.resume(),Le=this.stack[this.stack.length-1];Le.label=we,Le.identifier=Ep(this.sliceSerialize(ce)).toLowerCase(),s("referenceType","full")}function le(ce){s("characterReferenceType",ce.type)}function me(ce){const we=this.sliceSerialize(ce),Le=o("characterReferenceType");let rt;Le?(rt=pJ(we,Le==="characterReferenceMarkerNumeric"?10:16),s("characterReferenceType")):rt=CD(we);const De=this.stack.pop();De.value+=rt,De.position.end=a(ce.end)}function ge(ce){Z.call(this,ce);const we=this.stack[this.stack.length-1];we.url=this.sliceSerialize(ce)}function Se(ce){Z.call(this,ce);const we=this.stack[this.stack.length-1];we.url="mailto:"+this.sliceSerialize(ce)}function de(){return{type:"blockquote",children:[]}}function st(){return{type:"code",lang:null,meta:null,value:""}}function Ke(){return{type:"inlineCode",value:""}}function qe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function $e(){return{type:"emphasis",children:[]}}function ot(){return{type:"heading",depth:void 0,children:[]}}function ut(){return{type:"break"}}function On(){return{type:"html",value:""}}function Ue(){return{type:"image",title:null,url:"",alt:null}}function Be(){return{type:"link",title:null,url:"",children:[]}}function bt(ce){return{type:"list",ordered:ce.type==="listOrdered",start:null,spread:ce._spread,children:[]}}function je(ce){return{type:"listItem",spread:ce._spread,checked:null,children:[]}}function gt(){return{type:"paragraph",children:[]}}function Yt(){return{type:"strong",children:[]}}function an(){return{type:"text",value:""}}function Yn(){return{type:"thematicBreak"}}}function mJ(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?mJ(e,r):s$e(e,r)}return e}function s$e(e,t){let n;for(n in t)if(a2.call(t,n)){const r=n==="canContainEols"||n==="transforms",s=(a2.call(e,n)?e[n]:void 0)||(e[n]=r?[]:{}),o=t[n];o&&(r?e[n]=[...s,...o]:Object.assign(s,o))}}function aB(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+bp({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+bp({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+bp({start:t.start,end:t.end})+") is still open")}function o$e(e){Object.assign(this,{Parser:n=>{const r=this.data("settings");return r$e(n,Object.assign({},r,e,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}var Jr=function(e,t,n){var r={type:String(e)};return n==null&&(typeof t=="string"||Array.isArray(t))?n=t:Object.assign(r,t),Array.isArray(n)?r.children=n:n!=null&&(r.value=String(n)),r};const sb={}.hasOwnProperty;function a$e(e,t){const n=t.data||{};return"value"in t&&!(sb.call(n,"hName")||sb.call(n,"hProperties")||sb.call(n,"hChildren"))?e.augment(t,Jr("text",t.value)):e(t,"div",ns(e,t))}function gJ(e,t,n){const r=t&&t.type;let i;if(!r)throw new Error("Expected node, got `"+t+"`");return sb.call(e.handlers,r)?i=e.handlers[r]:e.passThrough&&e.passThrough.includes(r)?i=u$e:i=e.unknownHandler,(typeof i=="function"?i:a$e)(e,t,n)}function u$e(e,t){return"children"in t?{...t,children:ns(e,t)}:t}function ns(e,t){const n=[];if("children"in t){const r=t.children;let i=-1;for(;++i<r.length;){const s=gJ(e,r[i],t);if(s){if(i&&r[i-1].type==="break"&&(!Array.isArray(s)&&s.type==="text"&&(s.value=s.value.replace(/^\s+/,"")),!Array.isArray(s)&&s.type==="element")){const o=s.children[0];o&&o.type==="text"&&(o.value=o.value.replace(/^\s+/,""))}Array.isArray(s)?n.push(...s):n.push(s)}}}return n}const yJ=function(e){if(e==null)return d$e;if(typeof e=="string")return f$e(e);if(typeof e=="object")return Array.isArray(e)?l$e(e):c$e(e);if(typeof e=="function")return cI(e);throw new Error("Expected function, string, or object as test")};function l$e(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=yJ(e[n]);return cI(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].call(this,...i))return!0;return!1}}function c$e(e){return cI(t);function t(n){let r;for(r in e)if(n[r]!==e[r])return!1;return!0}}function f$e(e){return cI(t);function t(n){return n&&n.type===e}}function cI(e){return t;function t(...n){return!!e.call(this,...n)}}function d$e(){return!0}const h$e=!0,p$e="skip",uB=!1,m$e=function(e,t,n,r){typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null);const i=yJ(t),s=r?-1:1;o(e,null,[])();function o(a,u,l){const c=typeof a=="object"&&a!==null?a:{};let f;return typeof c.type=="string"&&(f=typeof c.tagName=="string"?c.tagName:typeof c.name=="string"?c.name:void 0,Object.defineProperty(d,"name",{value:"node ("+(c.type+(f?"<"+f+">":""))+")"})),d;function d(){let h=[],p,m,y;if((!t||i(a,u,l[l.length-1]||null))&&(h=g$e(n(a,l)),h[0]===uB))return h;if(a.children&&h[0]!==p$e)for(m=(r?a.children.length:-1)+s,y=l.concat(a);m>-1&&m<a.children.length;){if(p=o(a.children[m],m,y)(),p[0]===uB)return p;m=typeof p[1]=="number"?p[1]:m+s}return h}}};function g$e(e){return Array.isArray(e)?e:typeof e=="number"?[h$e,e]:[e]}const OD=function(e,t,n,r){typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null),m$e(e,t,i,r);function i(s,o){const a=o[o.length-1];return n(s,a?a.children.indexOf(s):null,a)}},_J=bJ("start"),vJ=bJ("end");function bJ(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};return{line:r.line||null,column:r.column||null,offset:r.offset>-1?r.offset:null}}}function y$e(e){return!e||!e.position||!e.position.start||!e.position.start.line||!e.position.start.column||!e.position.end||!e.position.end.line||!e.position.end.column}const lB={}.hasOwnProperty;function _$e(e){const t=Object.create(null);if(!e||!e.type)throw new Error("mdast-util-definitions expected node");return OD(e,"definition",r=>{const i=cB(r.identifier);i&&!lB.call(t,i)&&(t[i]=r)}),n;function n(r){const i=cB(r);return i&&lB.call(t,i)?t[i]:null}}function cB(e){return String(e||"").toUpperCase()}function Mm(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let o="";if(s===37&&io(e.charCodeAt(n+1))&&io(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=e.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o=""}else o=String.fromCharCode(s);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function el(e,t){const n=[];let r=-1;for(t&&n.push(Jr("text",`
`));++r<e.length;)r&&n.push(Jr("text",`
`)),n.push(e[r]);return t&&e.length>0&&n.push(Jr("text",`
`)),n}function v$e(e){let t=-1;const n=[];for(;++t<e.footnoteOrder.length;){const r=e.footnoteById[e.footnoteOrder[t].toUpperCase()];if(!r)continue;const i=ns(e,r),s=String(r.identifier),o=Mm(s.toLowerCase());let a=0;const u=[];for(;++a<=e.footnoteCounts[s];){const f={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fnref-"+o+(a>1?"-"+a:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:e.footnoteBackLabel},children:[{type:"text",value:""}]};a>1&&f.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(a)}]}),u.length>0&&u.push({type:"text",value:" "}),u.push(f)}const l=i[i.length-1];if(l&&l.type==="element"&&l.tagName==="p"){const f=l.children[l.children.length-1];f&&f.type==="text"?f.value+=" ":l.children.push({type:"text",value:" "}),l.children.push(...u)}else i.push(...u);const c={type:"element",tagName:"li",properties:{id:e.clobberPrefix+"fn-"+o},children:el(i,!0)};r.position&&(c.position=r.position),n.push(c)}return n.length===0?null:{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:e.footnoteLabelTagName,properties:{...JSON.parse(JSON.stringify(e.footnoteLabelProperties)),id:"footnote-label"},children:[Jr("text",e.footnoteLabel)]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:el(n,!0)},{type:"text",value:`
`}]}}function b$e(e,t){return e(t,"blockquote",el(ns(e,t),!0))}function E$e(e,t){return[e(t,"br"),Jr("text",`
`)]}function w$e(e,t){const n=t.value?t.value+`
`:"",r=t.lang&&t.lang.match(/^[^ \t]+(?=[ \t]|$)/),i={};r&&(i.className=["language-"+r]);const s=e(t,"code",i,[Jr("text",n)]);return t.meta&&(s.data={meta:t.meta}),e(t.position,"pre",[s])}function T$e(e,t){return e(t,"del",ns(e,t))}function S$e(e,t){return e(t,"em",ns(e,t))}function EJ(e,t){const n=String(t.identifier),r=Mm(n.toLowerCase()),i=e.footnoteOrder.indexOf(n);let s;i===-1?(e.footnoteOrder.push(n),e.footnoteCounts[n]=1,s=e.footnoteOrder.length):(e.footnoteCounts[n]++,s=i+1);const o=e.footnoteCounts[n];return e(t,"sup",[e(t.position,"a",{href:"#"+e.clobberPrefix+"fn-"+r,id:e.clobberPrefix+"fnref-"+r+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:"footnote-label"},[Jr("text",String(s))])])}function I$e(e,t){const n=e.footnoteById;let r=1;for(;r in n;)r++;const i=String(r);return n[i]={type:"footnoteDefinition",identifier:i,children:[{type:"paragraph",children:t.children}],position:t.position},EJ(e,{type:"footnoteReference",identifier:i,position:t.position})}function x$e(e,t){return e(t,"h"+t.depth,ns(e,t))}function C$e(e,t){return e.dangerous?e.augment(t,Jr("raw",t.value)):null}function wJ(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return Jr("text","!["+t.alt+r);const i=ns(e,t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift(Jr("text","["));const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push(Jr("text",r)),i}function A$e(e,t){const n=e.definition(t.identifier);if(!n)return wJ(e,t);const r={src:Mm(n.url||""),alt:t.alt};return n.title!==null&&n.title!==void 0&&(r.title=n.title),e(t,"img",r)}function O$e(e,t){const n={src:Mm(t.url),alt:t.alt};return t.title!==null&&t.title!==void 0&&(n.title=t.title),e(t,"img",n)}function P$e(e,t){return e(t,"code",[Jr("text",t.value.replace(/\r?\n|\r/g," "))])}function R$e(e,t){const n=e.definition(t.identifier);if(!n)return wJ(e,t);const r={href:Mm(n.url||"")};return n.title!==null&&n.title!==void 0&&(r.title=n.title),e(t,"a",r,ns(e,t))}function N$e(e,t){const n={href:Mm(t.url)};return t.title!==null&&t.title!==void 0&&(n.title=t.title),e(t,"a",n,ns(e,t))}function k$e(e,t,n){const r=ns(e,t),i=n?D$e(n):TJ(t),s={},o=[];if(typeof t.checked=="boolean"){let l;r[0]&&r[0].type==="element"&&r[0].tagName==="p"?l=r[0]:(l=e(null,"p",[]),r.unshift(l)),l.children.length>0&&l.children.unshift(Jr("text"," ")),l.children.unshift(e(null,"input",{type:"checkbox",checked:t.checked,disabled:!0})),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const l=r[a];(i||a!==0||l.type!=="element"||l.tagName!=="p")&&o.push(Jr("text",`
`)),l.type==="element"&&l.tagName==="p"&&!i?o.push(...l.children):o.push(l)}const u=r[r.length-1];return u&&(i||!("tagName"in u)||u.tagName!=="p")&&o.push(Jr("text",`
`)),e(t,"li",s,o)}function D$e(e){let t=e.spread;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=TJ(n[r]);return!!t}function TJ(e){const t=e.spread;return t??e.children.length>1}function $$e(e,t){const n={},r=t.ordered?"ol":"ul",i=ns(e,t);let s=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++s<i.length;){const o=i[s];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}return e(t,r,n,el(i,!0))}function L$e(e,t){return e(t,"p",ns(e,t))}function M$e(e,t){return e.augment(t,Jr("root",el(ns(e,t))))}function F$e(e,t){return e(t,"strong",ns(e,t))}function B$e(e,t){const n=t.children;let r=-1;const i=t.align||[],s=[];for(;++r<n.length;){const o=n[r].children,a=r===0?"th":"td",u=[];let l=-1;const c=t.align?i.length:o.length;for(;++l<c;){const f=o[l];u.push(e(f,a,{align:i[l]},f?ns(e,f):[]))}s[r]=e(n[r],"tr",el(u,!0))}return e(t,"table",el([e(s[0].position,"thead",el([s[0]],!0))].concat(s[1]?e({start:_J(s[1]),end:vJ(s[s.length-1])},"tbody",el(s.slice(1),!0)):[]),!0))}const fB=9,dB=32;function j$e(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(hB(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(hB(t.slice(i),i>0,!1)),s.join("")}function hB(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===fB||s===dB;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===fB||s===dB;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function U$e(e,t){return e.augment(t,Jr("text",j$e(String(t.value))))}function V$e(e,t){return e(t,"hr")}const z$e={blockquote:b$e,break:E$e,code:w$e,delete:T$e,emphasis:S$e,footnoteReference:EJ,footnote:I$e,heading:x$e,html:C$e,imageReference:A$e,image:O$e,inlineCode:P$e,linkReference:R$e,link:N$e,listItem:k$e,list:$$e,paragraph:L$e,root:M$e,strong:F$e,table:B$e,text:U$e,thematicBreak:V$e,toml:n1,yaml:n1,definition:n1,footnoteDefinition:n1};function n1(){return null}const H$e={}.hasOwnProperty;function W$e(e,t){const n=t||{},r=n.allowDangerousHtml||!1,i={};return o.dangerous=r,o.clobberPrefix=n.clobberPrefix===void 0||n.clobberPrefix===null?"user-content-":n.clobberPrefix,o.footnoteLabel=n.footnoteLabel||"Footnotes",o.footnoteLabelTagName=n.footnoteLabelTagName||"h2",o.footnoteLabelProperties=n.footnoteLabelProperties||{className:["sr-only"]},o.footnoteBackLabel=n.footnoteBackLabel||"Back to content",o.definition=_$e(e),o.footnoteById=i,o.footnoteOrder=[],o.footnoteCounts={},o.augment=s,o.handlers={...z$e,...n.handlers},o.unknownHandler=n.unknownHandler,o.passThrough=n.passThrough,OD(e,"footnoteDefinition",a=>{const u=String(a.identifier).toUpperCase();H$e.call(i,u)||(i[u]=a)}),o;function s(a,u){if(a&&"data"in a&&a.data){const l=a.data;l.hName&&(u.type!=="element"&&(u={type:"element",tagName:"",properties:{},children:[]}),u.tagName=l.hName),u.type==="element"&&l.hProperties&&(u.properties={...u.properties,...l.hProperties}),"children"in u&&u.children&&l.hChildren&&(u.children=l.hChildren)}if(a){const l="type"in a?a:{position:a};y$e(l)||(u.position={start:_J(l),end:vJ(l)})}return u}function o(a,u,l,c){return Array.isArray(l)&&(c=l,l={}),s(a,{type:"element",tagName:u,properties:l||{},children:c||[]})}}function SJ(e,t){const n=W$e(e,t),r=gJ(n,e,null),i=v$e(n);return i&&r.children.push(Jr("text",`
`),i),Array.isArray(r)?{type:"root",children:r}:r}const q$e=function(e,t){return e&&"run"in e?Y$e(e,t):K$e(e||t)},G$e=q$e;function Y$e(e,t){return(n,r,i)=>{e.run(SJ(n,t),r,s=>{i(s)})}}function K$e(e){return t=>SJ(t,e)}let M_=class{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}};M_.prototype.property={};M_.prototype.normal={};M_.prototype.space=null;function IJ(e,t){const n={},r={};let i=-1;for(;++i<e.length;)Object.assign(n,e[i].property),Object.assign(r,e[i].normal);return new M_(n,r,t)}function xy(e){return e.toLowerCase()}class Xo{constructor(t,n){this.property=t,this.attribute=n}}Xo.prototype.space=null;Xo.prototype.boolean=!1;Xo.prototype.booleanish=!1;Xo.prototype.overloadedBoolean=!1;Xo.prototype.number=!1;Xo.prototype.commaSeparated=!1;Xo.prototype.spaceSeparated=!1;Xo.prototype.commaOrSpaceSeparated=!1;Xo.prototype.mustUseProperty=!1;Xo.prototype.defined=!1;let Q$e=0;const Ut=Jd(),Fr=Jd(),xJ=Jd(),Ne=Jd(),Qn=Jd(),wp=Jd(),Ks=Jd();function Jd(){return 2**++Q$e}const u2=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ut,booleanish:Fr,commaOrSpaceSeparated:Ks,commaSeparated:wp,number:Ne,overloadedBoolean:xJ,spaceSeparated:Qn},Symbol.toStringTag,{value:"Module"})),fA=Object.keys(u2);class PD extends Xo{constructor(t,n,r,i){let s=-1;if(super(t,n),pB(this,"space",i),typeof r=="number")for(;++s<fA.length;){const o=fA[s];pB(this,fA[s],(r&u2[o])===u2[o])}}}PD.prototype.defined=!0;function pB(e,t,n){n&&(e[t]=n)}const X$e={}.hasOwnProperty;function Fm(e){const t={},n={};let r;for(r in e.properties)if(X$e.call(e.properties,r)){const i=e.properties[r],s=new PD(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[xy(r)]=r,n[xy(s.attribute)]=r}return new M_(t,n,e.space)}const CJ=Fm({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),AJ=Fm({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function OJ(e,t){return t in e?e[t]:t}function PJ(e,t){return OJ(e,t.toLowerCase())}const RJ=Fm({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:PJ,properties:{xmlns:null,xmlnsXLink:null}}),NJ=Fm({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Fr,ariaAutoComplete:null,ariaBusy:Fr,ariaChecked:Fr,ariaColCount:Ne,ariaColIndex:Ne,ariaColSpan:Ne,ariaControls:Qn,ariaCurrent:null,ariaDescribedBy:Qn,ariaDetails:null,ariaDisabled:Fr,ariaDropEffect:Qn,ariaErrorMessage:null,ariaExpanded:Fr,ariaFlowTo:Qn,ariaGrabbed:Fr,ariaHasPopup:null,ariaHidden:Fr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Qn,ariaLevel:Ne,ariaLive:null,ariaModal:Fr,ariaMultiLine:Fr,ariaMultiSelectable:Fr,ariaOrientation:null,ariaOwns:Qn,ariaPlaceholder:null,ariaPosInSet:Ne,ariaPressed:Fr,ariaReadOnly:Fr,ariaRelevant:null,ariaRequired:Fr,ariaRoleDescription:Qn,ariaRowCount:Ne,ariaRowIndex:Ne,ariaRowSpan:Ne,ariaSelected:Fr,ariaSetSize:Ne,ariaSort:null,ariaValueMax:Ne,ariaValueMin:Ne,ariaValueNow:Ne,ariaValueText:null,role:null}}),J$e=Fm({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:PJ,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:wp,acceptCharset:Qn,accessKey:Qn,action:null,allow:null,allowFullScreen:Ut,allowPaymentRequest:Ut,allowUserMedia:Ut,alt:null,as:null,async:Ut,autoCapitalize:null,autoComplete:Qn,autoFocus:Ut,autoPlay:Ut,capture:Ut,charSet:null,checked:Ut,cite:null,className:Qn,cols:Ne,colSpan:null,content:null,contentEditable:Fr,controls:Ut,controlsList:Qn,coords:Ne|wp,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ut,defer:Ut,dir:null,dirName:null,disabled:Ut,download:xJ,draggable:Fr,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ut,formTarget:null,headers:Qn,height:Ne,hidden:Ut,high:Ne,href:null,hrefLang:null,htmlFor:Qn,httpEquiv:Qn,id:null,imageSizes:null,imageSrcSet:null,inputMode:null,integrity:null,is:null,isMap:Ut,itemId:null,itemProp:Qn,itemRef:Qn,itemScope:Ut,itemType:Qn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ut,low:Ne,manifest:null,max:null,maxLength:Ne,media:null,method:null,min:null,minLength:Ne,multiple:Ut,muted:Ut,name:null,nonce:null,noModule:Ut,noValidate:Ut,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ut,optimum:Ne,pattern:null,ping:Qn,placeholder:null,playsInline:Ut,poster:null,preload:null,readOnly:Ut,referrerPolicy:null,rel:Qn,required:Ut,reversed:Ut,rows:Ne,rowSpan:Ne,sandbox:Qn,scope:null,scoped:Ut,seamless:Ut,selected:Ut,shape:null,size:Ne,sizes:null,slot:null,span:Ne,spellCheck:Fr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ne,step:null,style:null,tabIndex:Ne,target:null,title:null,translate:null,type:null,typeMustMatch:Ut,useMap:null,value:Fr,width:Ne,wrap:null,align:null,aLink:null,archive:Qn,axis:null,background:null,bgColor:null,border:Ne,borderColor:null,bottomMargin:Ne,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ut,declare:Ut,event:null,face:null,frame:null,frameBorder:null,hSpace:Ne,leftMargin:Ne,link:null,longDesc:null,lowSrc:null,marginHeight:Ne,marginWidth:Ne,noResize:Ut,noHref:Ut,noShade:Ut,noWrap:Ut,object:null,profile:null,prompt:null,rev:null,rightMargin:Ne,rules:null,scheme:null,scrolling:Fr,standby:null,summary:null,text:null,topMargin:Ne,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ne,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ut,disableRemotePlayback:Ut,prefix:null,property:null,results:Ne,security:null,unselectable:null}}),Z$e=Fm({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:OJ,properties:{about:Ks,accentHeight:Ne,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ne,amplitude:Ne,arabicForm:null,ascent:Ne,attributeName:null,attributeType:null,azimuth:Ne,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ne,by:null,calcMode:null,capHeight:Ne,className:Qn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ne,diffuseConstant:Ne,direction:null,display:null,dur:null,divisor:Ne,dominantBaseline:null,download:Ut,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ne,enableBackground:null,end:null,event:null,exponent:Ne,externalResourcesRequired:null,fill:null,fillOpacity:Ne,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:wp,g2:wp,glyphName:wp,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ne,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ne,horizOriginX:Ne,horizOriginY:Ne,id:null,ideographic:Ne,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ne,k:Ne,k1:Ne,k2:Ne,k3:Ne,k4:Ne,kernelMatrix:Ks,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ne,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ne,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ne,overlineThickness:Ne,paintOrder:null,panose1:null,path:null,pathLength:Ne,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Qn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ne,pointsAtY:Ne,pointsAtZ:Ne,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Ks,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Ks,rev:Ks,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Ks,requiredFeatures:Ks,requiredFonts:Ks,requiredFormats:Ks,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ne,specularExponent:Ne,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ne,strikethroughThickness:Ne,string:null,stroke:null,strokeDashArray:Ks,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ne,strokeOpacity:Ne,strokeWidth:null,style:null,surfaceScale:Ne,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Ks,tabIndex:Ne,tableValues:null,target:null,targetX:Ne,targetY:Ne,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Ks,to:null,transform:null,u1:null,u2:null,underlinePosition:Ne,underlineThickness:Ne,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ne,values:null,vAlphabetic:Ne,vMathematical:Ne,vectorEffect:null,vHanging:Ne,vIdeographic:Ne,version:null,vertAdvY:Ne,vertOriginX:Ne,vertOriginY:Ne,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ne,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),e3e=/^data[-\w.:]+$/i,mB=/-[a-z]/g,t3e=/[A-Z]/g;function fI(e,t){const n=xy(t);let r=t,i=Xo;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&e3e.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(mB,r3e);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!mB.test(s)){let o=s.replace(t3e,n3e);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=PD}return new i(r,t)}function n3e(e){return"-"+e.toLowerCase()}function r3e(e){return e.charAt(1).toUpperCase()}const gB={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},F_=IJ([AJ,CJ,RJ,NJ,J$e],"html"),Bm=IJ([AJ,CJ,RJ,NJ,Z$e],"svg");function i3e(e){if(e.allowedElements&&e.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(e.allowedElements||e.disallowedElements||e.allowElement)return t=>{OD(t,"element",(n,r,i)=>{const s=i;let o;if(e.allowedElements?o=!e.allowedElements.includes(n.tagName):e.disallowedElements&&(o=e.disallowedElements.includes(n.tagName)),!o&&e.allowElement&&typeof r=="number"&&(o=!e.allowElement(n,r,s)),o&&typeof r=="number")return e.unwrapDisallowed&&n.children?s.children.splice(r,1,...n.children):s.children.splice(r,1),r})}}var kJ={exports:{}},Dn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RD=Symbol.for("react.element"),ND=Symbol.for("react.portal"),dI=Symbol.for("react.fragment"),hI=Symbol.for("react.strict_mode"),pI=Symbol.for("react.profiler"),mI=Symbol.for("react.provider"),gI=Symbol.for("react.context"),s3e=Symbol.for("react.server_context"),yI=Symbol.for("react.forward_ref"),_I=Symbol.for("react.suspense"),vI=Symbol.for("react.suspense_list"),bI=Symbol.for("react.memo"),EI=Symbol.for("react.lazy"),o3e=Symbol.for("react.offscreen"),DJ;DJ=Symbol.for("react.module.reference");function Jo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case RD:switch(e=e.type,e){case dI:case pI:case hI:case _I:case vI:return e;default:switch(e=e&&e.$$typeof,e){case s3e:case gI:case yI:case EI:case bI:case mI:return e;default:return t}}case ND:return t}}}Dn.ContextConsumer=gI;Dn.ContextProvider=mI;Dn.Element=RD;Dn.ForwardRef=yI;Dn.Fragment=dI;Dn.Lazy=EI;Dn.Memo=bI;Dn.Portal=ND;Dn.Profiler=pI;Dn.StrictMode=hI;Dn.Suspense=_I;Dn.SuspenseList=vI;Dn.isAsyncMode=function(){return!1};Dn.isConcurrentMode=function(){return!1};Dn.isContextConsumer=function(e){return Jo(e)===gI};Dn.isContextProvider=function(e){return Jo(e)===mI};Dn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===RD};Dn.isForwardRef=function(e){return Jo(e)===yI};Dn.isFragment=function(e){return Jo(e)===dI};Dn.isLazy=function(e){return Jo(e)===EI};Dn.isMemo=function(e){return Jo(e)===bI};Dn.isPortal=function(e){return Jo(e)===ND};Dn.isProfiler=function(e){return Jo(e)===pI};Dn.isStrictMode=function(e){return Jo(e)===hI};Dn.isSuspense=function(e){return Jo(e)===_I};Dn.isSuspenseList=function(e){return Jo(e)===vI};Dn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===dI||e===pI||e===hI||e===_I||e===vI||e===o3e||typeof e=="object"&&e!==null&&(e.$$typeof===EI||e.$$typeof===bI||e.$$typeof===mI||e.$$typeof===gI||e.$$typeof===yI||e.$$typeof===DJ||e.getModuleId!==void 0)};Dn.typeOf=Jo;kJ.exports=Dn;var a3e=kJ.exports;const u3e=Oa(a3e);function l3e(e){const t=e&&typeof e=="object"&&e.type==="text"?e.value||"":e;return typeof t=="string"&&t.replace(/[ \t\n\f\r]/g,"")===""}function yB(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function $J(e){return e.join(" ").trim()}function _B(e){const t=[],n=String(e||"");let r=n.indexOf(","),i=0,s=!1;for(;!s;){r===-1&&(r=n.length,s=!0);const o=n.slice(i,r).trim();(o||!s)&&t.push(o),i=r+1,r=n.indexOf(",",i)}return t}function LJ(e,t){const n=t||{};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}var kD={exports:{}},vB=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,c3e=/\n/g,f3e=/^\s*/,d3e=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,h3e=/^:\s*/,p3e=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,m3e=/^[;\s]*/,g3e=/^\s+|\s+$/g,y3e=`
`,bB="/",EB="*",qf="",_3e="comment",v3e="declaration",b3e=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(p){var m=p.match(c3e);m&&(n+=m.length);var y=p.lastIndexOf(y3e);r=~y?p.length-y:r+p.length}function s(){var p={line:n,column:r};return function(m){return m.position=new o(p),l(),m}}function o(p){this.start=p,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function a(p){var m=new Error(t.source+":"+n+":"+r+": "+p);if(m.reason=p,m.filename=t.source,m.line=n,m.column=r,m.source=e,!t.silent)throw m}function u(p){var m=p.exec(e);if(m){var y=m[0];return i(y),e=e.slice(y.length),m}}function l(){u(f3e)}function c(p){var m;for(p=p||[];m=f();)m!==!1&&p.push(m);return p}function f(){var p=s();if(!(bB!=e.charAt(0)||EB!=e.charAt(1))){for(var m=2;qf!=e.charAt(m)&&(EB!=e.charAt(m)||bB!=e.charAt(m+1));)++m;if(m+=2,qf===e.charAt(m-1))return a("End of comment missing");var y=e.slice(2,m-2);return r+=2,i(y),e=e.slice(m),r+=2,p({type:_3e,comment:y})}}function d(){var p=s(),m=u(d3e);if(m){if(f(),!u(h3e))return a("property missing ':'");var y=u(p3e),g=p({type:v3e,property:wB(m[0].replace(vB,qf)),value:y?wB(y[0].replace(vB,qf)):qf});return u(m3e),g}}function h(){var p=[];c(p);for(var m;m=d();)m!==!1&&(p.push(m),c(p));return p}return l(),h()};function wB(e){return e?e.replace(g3e,qf):qf}var E3e=b3e;function MJ(e,t){var n=null;if(!e||typeof e!="string")return n;for(var r,i=E3e(e),s=typeof t=="function",o,a,u=0,l=i.length;u<l;u++)r=i[u],o=r.property,a=r.value,s?t(o,a,r):a&&(n||(n={}),n[o]=a);return n}kD.exports=MJ;kD.exports.default=MJ;var w3e=kD.exports;const T3e=Oa(w3e),l2={}.hasOwnProperty,S3e=new Set(["table","thead","tbody","tfoot","tr"]);function FJ(e,t){const n=[];let r=-1,i;for(;++r<t.children.length;)i=t.children[r],i.type==="element"?n.push(I3e(e,i,r,t)):i.type==="text"?(t.type!=="element"||!S3e.has(t.tagName)||!l3e(i))&&n.push(i.value):i.type==="raw"&&!e.options.skipHtml&&n.push(i.value);return n}function I3e(e,t,n,r){const i=e.options,s=i.transformLinkUri===void 0?PNe:i.transformLinkUri,o=e.schema,a=t.tagName,u={};let l=o,c;if(o.space==="html"&&a==="svg"&&(l=Bm,e.schema=l),t.properties)for(c in t.properties)l2.call(t.properties,c)&&C3e(u,c,t.properties[c],e);(a==="ol"||a==="ul")&&e.listDepth++;const f=FJ(e,t);(a==="ol"||a==="ul")&&e.listDepth--,e.schema=o;const d=t.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},h=i.components&&l2.call(i.components,a)?i.components[a]:a,p=typeof h=="string"||h===k.Fragment;if(!u3e.isValidElementType(h))throw new TypeError(`Component for name \`${a}\` not defined or is not renderable`);if(u.key=[a,d.start.line,d.start.column,n].join("-"),a==="a"&&i.linkTarget&&(u.target=typeof i.linkTarget=="function"?i.linkTarget(String(u.href||""),t.children,typeof u.title=="string"?u.title:null):i.linkTarget),a==="a"&&s&&(u.href=s(String(u.href||""),t.children,typeof u.title=="string"?u.title:null)),!p&&a==="code"&&r.type==="element"&&r.tagName!=="pre"&&(u.inline=!0),!p&&(a==="h1"||a==="h2"||a==="h3"||a==="h4"||a==="h5"||a==="h6")&&(u.level=Number.parseInt(a.charAt(1),10)),a==="img"&&i.transformImageUri&&(u.src=i.transformImageUri(String(u.src||""),String(u.alt||""),typeof u.title=="string"?u.title:null)),!p&&a==="li"&&r.type==="element"){const m=x3e(t);u.checked=m&&m.properties?!!m.properties.checked:null,u.index=dA(r,t),u.ordered=r.tagName==="ol"}return!p&&(a==="ol"||a==="ul")&&(u.ordered=a==="ol",u.depth=e.listDepth),(a==="td"||a==="th")&&(u.align&&(u.style||(u.style={}),u.style.textAlign=u.align,delete u.align),p||(u.isHeader=a==="th")),!p&&a==="tr"&&r.type==="element"&&(u.isHeader=r.tagName==="thead"),i.sourcePos&&(u["data-sourcepos"]=P3e(d)),!p&&i.rawSourcePos&&(u.sourcePosition=t.position),!p&&i.includeElementIndex&&(u.index=dA(r,t),u.siblingCount=dA(r)),p||(u.node=t),f.length>0?k.createElement(h,u,f):k.createElement(h,u)}function x3e(e){let t=-1;for(;++t<e.children.length;){const n=e.children[t];if(n.type==="element"&&n.tagName==="input")return n}return null}function dA(e,t){let n=-1,r=0;for(;++n<e.children.length&&e.children[n]!==t;)e.children[n].type==="element"&&r++;return r}function C3e(e,t,n,r){const i=fI(r.schema,t);let s=n;s==null||s!==s||(Array.isArray(s)&&(s=i.commaSeparated?LJ(s):$J(s)),i.property==="style"&&typeof s=="string"&&(s=A3e(s)),i.space&&i.property?e[l2.call(gB,i.property)?gB[i.property]:i.property]=s:i.attribute&&(e[i.attribute]=s))}function A3e(e){const t={};try{T3e(e,n)}catch{}return t;function n(r,i){const s=r.slice(0,4)==="-ms-"?`ms-${r.slice(4)}`:r;t[s.replace(/-([a-z])/g,O3e)]=i}}function O3e(e,t){return t.toUpperCase()}function P3e(e){return[e.start.line,":",e.start.column,"-",e.end.line,":",e.end.column].map(String).join("")}const TB={}.hasOwnProperty,R3e="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",r1={plugins:{to:"remarkPlugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function BJ(e){for(const s in r1)if(TB.call(r1,s)&&TB.call(e,s)){const o=r1[s];console.warn(`[react-markdown] Warning: please ${o.to?`use \`${o.to}\` instead of`:"remove"} \`${s}\` (see <${R3e}#${o.id}> for more info)`),delete r1[s]}const t=rke().use(o$e).use(e.remarkPlugins||[]).use(G$e,{...e.remarkRehypeOptions,allowDangerousHtml:!0}).use(e.rehypePlugins||[]).use(i3e,e),n=new VNe;typeof e.children=="string"?n.value=e.children:e.children!==void 0&&e.children!==null&&console.warn(`[react-markdown] Warning: please pass a string as \`children\` (not: \`${e.children}\`)`);const r=t.runSync(t.parse(n),n);if(r.type!=="root")throw new TypeError("Expected a `root` node");let i=k.createElement(k.Fragment,{},FJ({options:e,schema:F_,listDepth:0},r));return e.className&&(i=k.createElement("div",{className:e.className},i)),i}BJ.propTypes={children:dt.string,className:dt.string,allowElement:dt.func,allowedElements:dt.arrayOf(dt.string),disallowedElements:dt.arrayOf(dt.string),unwrapDisallowed:dt.bool,remarkPlugins:dt.arrayOf(dt.oneOfType([dt.object,dt.func,dt.arrayOf(dt.oneOfType([dt.bool,dt.string,dt.object,dt.func,dt.arrayOf(dt.any)]))])),rehypePlugins:dt.arrayOf(dt.oneOfType([dt.object,dt.func,dt.arrayOf(dt.oneOfType([dt.bool,dt.string,dt.object,dt.func,dt.arrayOf(dt.any)]))])),sourcePos:dt.bool,rawSourcePos:dt.bool,skipHtml:dt.bool,includeElementIndex:dt.bool,transformLinkUri:dt.oneOfType([dt.func,dt.bool]),linkTarget:dt.oneOfType([dt.func,dt.string]),transformImageUri:dt.func,components:dt.object};const jJ=-1,wI=0,Hw=1,Ww=2,DD=3,$D=4,LD=5,MD=6,UJ=7,VJ=8,SB=typeof self=="object"?self:globalThis,N3e=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,o]=t[i];switch(s){case wI:case jJ:return n(o,i);case Hw:{const a=n([],i);for(const u of o)a.push(r(u));return a}case Ww:{const a=n({},i);for(const[u,l]of o)a[r(u)]=r(l);return a}case DD:return n(new Date(o),i);case $D:{const{source:a,flags:u}=o;return n(new RegExp(a,u),i)}case LD:{const a=n(new Map,i);for(const[u,l]of o)a.set(r(u),r(l));return a}case MD:{const a=n(new Set,i);for(const u of o)a.add(r(u));return a}case UJ:{const{name:a,message:u}=o;return n(new SB[a](u),i)}case VJ:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i)}return n(new SB[s](o),i)};return r},IB=e=>N3e(new Map,e)(0),bh="",{toString:k3e}={},{keys:D3e}=Object,P0=e=>{const t=typeof e;if(t!=="object"||!e)return[wI,t];const n=k3e.call(e).slice(8,-1);switch(n){case"Array":return[Hw,bh];case"Object":return[Ww,bh];case"Date":return[DD,bh];case"RegExp":return[$D,bh];case"Map":return[LD,bh];case"Set":return[MD,bh]}return n.includes("Array")?[Hw,n]:n.includes("Error")?[UJ,n]:[Ww,n]},i1=([e,t])=>e===wI&&(t==="function"||t==="symbol"),$3e=(e,t,n,r)=>{const i=(o,a)=>{const u=r.push(o)-1;return n.set(a,u),u},s=o=>{if(n.has(o))return n.get(o);let[a,u]=P0(o);switch(a){case wI:{let c=o;switch(u){case"bigint":a=VJ,c=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+u);c=null;break;case"undefined":return i([jJ],o)}return i([a,c],o)}case Hw:{if(u)return i([u,[...o]],o);const c=[],f=i([a,c],o);for(const d of o)c.push(s(d));return f}case Ww:{if(u)switch(u){case"BigInt":return i([u,o.toString()],o);case"Boolean":case"Number":case"String":return i([u,o.valueOf()],o)}if(t&&"toJSON"in o)return s(o.toJSON());const c=[],f=i([a,c],o);for(const d of D3e(o))(e||!i1(P0(o[d])))&&c.push([s(d),s(o[d])]);return f}case DD:return i([a,o.toISOString()],o);case $D:{const{source:c,flags:f}=o;return i([a,{source:c,flags:f}],o)}case LD:{const c=[],f=i([a,c],o);for(const[d,h]of o)(e||!(i1(P0(d))||i1(P0(h))))&&c.push([s(d),s(h)]);return f}case MD:{const c=[],f=i([a,c],o);for(const d of o)(e||!i1(P0(d)))&&c.push(s(d));return f}}const{message:l}=o;return i([a,{name:u,message:l}],o)};return s},xB=(e,{json:t,lossy:n}={})=>{const r=[];return $3e(!(t||n),!!t,new Map,r)(e),r},CB=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?IB(xB(e,t)):structuredClone(e):(e,t)=>IB(xB(e,t));const AB=/[#.]/g;function L3e(e,t){const n=e||"",r={};let i=0,s,o;for(;i<n.length;){AB.lastIndex=i;const a=AB.exec(n),u=n.slice(i,a?a.index:n.length);u&&(s?s==="#"?r.id=u:Array.isArray(r.className)?r.className.push(u):r.className=[u]:o=u,i+=u.length),a&&(s=a[0],i++)}return{type:"element",tagName:o||t||"div",properties:r,children:[]}}const M3e=new Set(["button","menu","reset","submit"]),c2={}.hasOwnProperty;function zJ(e,t,n){const r=n&&U3e(n);function i(s,o,...a){let u=-1,l;if(s==null){l={type:"root",children:[]};const c=o;a.unshift(c)}else if(l=L3e(s,t),l.tagName=l.tagName.toLowerCase(),r&&c2.call(r,l.tagName)&&(l.tagName=r[l.tagName]),F3e(o,l.tagName)){let c;for(c in o)c2.call(o,c)&&B3e(e,l.properties,c,o[c])}else a.unshift(o);for(;++u<a.length;)f2(l.children,a[u]);return l.type==="element"&&l.tagName==="template"&&(l.content={type:"root",children:l.children},l.children=[]),l}return i}function F3e(e,t){return e==null||typeof e!="object"||Array.isArray(e)?!1:t==="input"||!e.type||typeof e.type!="string"?!0:"children"in e&&Array.isArray(e.children)?!1:t==="button"?M3e.has(e.type.toLowerCase()):!("value"in e)}function B3e(e,t,n,r){const i=fI(e,n);let s=-1,o;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;o=r}else typeof r=="boolean"?o=r:typeof r=="string"?i.spaceSeparated?o=yB(r):i.commaSeparated?o=_B(r):i.commaOrSpaceSeparated?o=yB(_B(r).join(" ")):o=OB(i,i.property,r):Array.isArray(r)?o=r.concat():o=i.property==="style"?j3e(r):String(r);if(Array.isArray(o)){const a=[];for(;++s<o.length;){const u=OB(i,i.property,o[s]);a[s]=u}o=a}if(i.property==="className"&&Array.isArray(t.className)){const a=o;o=t.className.concat(a)}t[i.property]=o}}function f2(e,t){let n=-1;if(t!=null)if(typeof t=="string"||typeof t=="number")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(;++n<t.length;)f2(e,t[n]);else if(typeof t=="object"&&"type"in t)t.type==="root"?f2(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function OB(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||xy(n)===xy(t)))return!0}return n}function j3e(e){const t=[];let n;for(n in e)c2.call(e,n)&&t.push([n,e[n]].join(": "));return t.join("; ")}function U3e(e){const t={};let n=-1;for(;++n<e.length;)t[e[n].toLowerCase()]=e[n];return t}const V3e=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],z3e=zJ(F_,"div"),H3e=zJ(Bm,"g",V3e),hA=/\r?\n|\r/g;function W3e(e){const t=String(e),n=[];for(hA.lastIndex=0;hA.test(t);)n.push(hA.lastIndex);return n.push(t.length+1),{toPoint:r,toOffset:i};function r(s){let o=-1;if(typeof s=="number"&&s>-1&&s<n[n.length-1]){for(;++o<n.length;)if(n[o]>s)return{line:o+1,column:s-(o>0?n[o-1]:0)+1,offset:s}}}function i(s){const o=s&&s.line,a=s&&s.column;if(typeof o=="number"&&typeof a=="number"&&!Number.isNaN(o)&&!Number.isNaN(a)&&o-1 in n){const u=(n[o-2]||0)+a-1||0;if(u>-1&&u<n[n.length-1])return u}}}const Zf={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},HJ={}.hasOwnProperty,q3e=Object.prototype;function G3e(e,t){const n=t||{};return FD({file:n.file||void 0,location:!1,schema:n.space==="svg"?Bm:F_,verbose:n.verbose||!1},e)}function FD(e,t){let n;switch(t.nodeName){case"#comment":{const r=t;return n={type:"comment",value:r.data},ob(e,r,n),n}case"#document":case"#document-fragment":{const r=t,i="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:WJ(e,t.childNodes),data:{quirksMode:i}},e.file&&e.location){const s=String(e.file),o=W3e(s),a=o.toPoint(0),u=o.toPoint(s.length);n.position={start:a,end:u}}return n}case"#documentType":{const r=t;return n={type:"doctype"},ob(e,r,n),n}case"#text":{const r=t;return n={type:"text",value:r.value},ob(e,r,n),n}default:return n=Y3e(e,t),n}}function WJ(e,t){let n=-1;const r=[];for(;++n<t.length;){const i=FD(e,t[n]);r.push(i)}return r}function Y3e(e,t){const n=e.schema;e.schema=t.namespaceURI===Zf.svg?Bm:F_;let r=-1;const i={};for(;++r<t.attrs.length;){const a=t.attrs[r],u=(a.prefix?a.prefix+":":"")+a.name;HJ.call(q3e,u)||(i[u]=a.value)}const o=(e.schema.space==="svg"?H3e:z3e)(t.tagName,i,WJ(e,t.childNodes));if(ob(e,t,o),o.tagName==="template"){const a=t,u=a.sourceCodeLocation,l=u&&u.startTag&&Kh(u.startTag),c=u&&u.endTag&&Kh(u.endTag),f=FD(e,a.content);l&&c&&e.file&&(f.position={start:l.end,end:c.start}),o.content=f}return e.schema=n,o}function ob(e,t,n){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const r=K3e(e,n,t.sourceCodeLocation);r&&(e.location=!0,n.position=r)}}function K3e(e,t,n){const r=Kh(n);if(t.type==="element"){const i=t.children[t.children.length-1];if(r&&!n.endTag&&i&&i.position&&i.position.end&&(r.end=Object.assign({},i.position.end)),e.verbose){const s={};let o;if(n.attrs)for(o in n.attrs)HJ.call(n.attrs,o)&&(s[fI(e.schema,o).property]=Kh(n.attrs[o]));n.startTag;const a=Kh(n.startTag),u=n.endTag?Kh(n.endTag):void 0,l={opening:a};u&&(l.closing=u),l.properties=s,t.data={position:l}}}return r}function Kh(e){const t=PB({line:e.startLine,column:e.startCol,offset:e.startOffset}),n=PB({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||n?{start:t,end:n}:void 0}function PB(e){return e.line&&e.column?e:void 0}const RB={}.hasOwnProperty;function qJ(e,t){const n=t||{};function r(i,...s){let o=r.invalid;const a=r.handlers;if(i&&RB.call(i,e)){const u=String(i[e]);o=RB.call(a,u)?a[u]:r.unknown}if(o)return o.call(this,i,...s)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const Q3e={},X3e={}.hasOwnProperty,GJ=qJ("type",{handlers:{root:Z3e,element:i6e,text:n6e,comment:r6e,doctype:t6e}});function J3e(e,t){const r=(t||Q3e).space;return GJ(e,r==="svg"?Bm:F_)}function Z3e(e,t){const n={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=BD(e.children,n,t),jm(e,n),n}function e6e(e,t){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=BD(e.children,n,t),jm(e,n),n}function t6e(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return jm(e,t),t}function n6e(e){const t={nodeName:"#text",value:e.value,parentNode:null};return jm(e,t),t}function r6e(e){const t={nodeName:"#comment",data:e.value,parentNode:null};return jm(e,t),t}function i6e(e,t){const n=t;let r=n;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&n.space==="html"&&(r=Bm);const i=[];let s;if(e.properties){for(s in e.properties)if(s!=="children"&&X3e.call(e.properties,s)){const u=s6e(r,s,e.properties[s]);u&&i.push(u)}}const o=r.space,a={nodeName:e.tagName,tagName:e.tagName,attrs:i,namespaceURI:Zf[o],childNodes:[],parentNode:null};return a.childNodes=BD(e.children,a,r),jm(e,a),e.tagName==="template"&&e.content&&(a.content=e6e(e.content,r)),a}function s6e(e,t,n){const r=fI(e,t);if(n===!1||n===null||n===void 0||typeof n=="number"&&Number.isNaN(n)||!n&&r.boolean)return;Array.isArray(n)&&(n=r.commaSeparated?LJ(n):$J(n));const i={name:r.attribute,value:n===!0?"":String(n)};if(r.space&&r.space!=="html"&&r.space!=="svg"){const s=i.name.indexOf(":");s<0?i.prefix="":(i.name=i.name.slice(s+1),i.prefix=r.attribute.slice(0,s)),i.namespace=Zf[r.space]}return i}function BD(e,t,n){let r=-1;const i=[];if(e)for(;++r<e.length;){const s=GJ(e[r],n);s.parentNode=t,i.push(s)}return i}function jm(e,t){const n=e.position;n&&n.start&&n.end&&(n.start.offset,n.end.offset,t.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const o6e=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],a6e=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),sr="";var D;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.NUMBER_SIGN=35]="NUMBER_SIGN",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_F=70]="LATIN_CAPITAL_F",e[e.LATIN_CAPITAL_X=88]="LATIN_CAPITAL_X",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_F=102]="LATIN_SMALL_F",e[e.LATIN_SMALL_X=120]="LATIN_SMALL_X",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z",e[e.REPLACEMENT_CHARACTER=65533]="REPLACEMENT_CHARACTER"})(D=D||(D={}));const _s={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function YJ(e){return e>=55296&&e<=57343}function u6e(e){return e>=56320&&e<=57343}function l6e(e,t){return(e-55296)*1024+9216+t}function KJ(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function QJ(e){return e>=64976&&e<=65007||a6e.has(e)}var ve;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(ve=ve||(ve={}));const c6e=65536;class f6e{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=c6e,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t){const{line:n,col:r,offset:i}=this;return{code:t,startLine:n,endLine:n,startCol:r,endCol:r,startOffset:i,endOffset:i}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(u6e(n))return this.pos++,this._addGap(),l6e(t,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,D.EOF;return this._err(ve.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,n){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,n){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(t,this.pos);for(let r=0;r<t.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==t.charCodeAt(r))return!1;return!0}peek(t){const n=this.pos+t;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,D.EOF;const r=this.html.charCodeAt(n);return r===D.CARRIAGE_RETURN?D.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,D.EOF;let t=this.html.charCodeAt(this.pos);return t===D.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,D.LINE_FEED):t===D.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,YJ(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===D.LINE_FEED||t===D.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){KJ(t)?this._err(ve.controlCharacterInInputStream):QJ(t)&&this._err(ve.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var Ht;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(Ht=Ht||(Ht={}));function XJ(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}const rc=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),d6e=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(e=>e.charCodeAt(0)));var pA;const h6e=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),p6e=(pA=String.fromCodePoint)!==null&&pA!==void 0?pA:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function m6e(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=h6e.get(e))!==null&&t!==void 0?t:e}var fi;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(fi||(fi={}));const g6e=32;var ru;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(ru||(ru={}));function d2(e){return e>=fi.ZERO&&e<=fi.NINE}function y6e(e){return e>=fi.UPPER_A&&e<=fi.UPPER_F||e>=fi.LOWER_A&&e<=fi.LOWER_F}function _6e(e){return e>=fi.UPPER_A&&e<=fi.UPPER_Z||e>=fi.LOWER_A&&e<=fi.LOWER_Z||d2(e)}function v6e(e){return e===fi.EQUALS||_6e(e)}var oi;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(oi||(oi={}));var Gf;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(Gf||(Gf={}));class b6e{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=oi.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Gf.Strict}startEntity(t){this.decodeMode=t,this.state=oi.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case oi.EntityStart:return t.charCodeAt(n)===fi.NUM?(this.state=oi.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=oi.NamedEntity,this.stateNamedEntity(t,n));case oi.NumericStart:return this.stateNumericStart(t,n);case oi.NumericDecimal:return this.stateNumericDecimal(t,n);case oi.NumericHex:return this.stateNumericHex(t,n);case oi.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|g6e)===fi.LOWER_X?(this.state=oi.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=oi.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,r,i){if(n!==r){const s=r-n;this.result=this.result*Math.pow(i,s)+parseInt(t.substr(n,s),i),this.consumed+=s}}stateNumericHex(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(d2(i)||y6e(i))n+=1;else return this.addToNumericResult(t,r,n,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(t,r,n,16),-1}stateNumericDecimal(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(d2(i))n+=1;else return this.addToNumericResult(t,r,n,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(t,r,n,10),-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===fi.SEMI)this.consumed+=1;else if(this.decodeMode===Gf.Strict)return 0;return this.emitCodePoint(m6e(this.result),this.consumed),this.errors&&(t!==fi.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let i=r[this.treeIndex],s=(i&ru.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const o=t.charCodeAt(n);if(this.treeIndex=ZJ(r,i,this.treeIndex+Math.max(1,s),o),this.treeIndex<0)return this.result===0||this.decodeMode===Gf.Attribute&&(s===0||v6e(o))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],s=(i&ru.VALUE_LENGTH)>>14,s!==0){if(o===fi.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==Gf.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,i=(r[n]&ru.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,i,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:i}=this;return this.emitCodePoint(n===1?i[t]&~ru.VALUE_LENGTH:i[t+1],r),n===3&&this.emitCodePoint(i[t+2],r),r}end(){var t;switch(this.state){case oi.NamedEntity:return this.result!==0&&(this.decodeMode!==Gf.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case oi.NumericDecimal:return this.emitNumericEntity(0,2);case oi.NumericHex:return this.emitNumericEntity(0,3);case oi.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case oi.EntityStart:return 0}}}function JJ(e){let t="";const n=new b6e(e,r=>t+=p6e(r));return function(i,s){let o=0,a=0;for(;(a=i.indexOf("&",a))>=0;){t+=i.slice(o,a),n.startEntity(s);const l=n.write(i,a+1);if(l<0){o=a+n.end();break}o=a+l,a=l===0?o+1:o}const u=t+i.slice(o);return t="",u}}function ZJ(e,t,n,r){const i=(t&ru.BRANCH_LENGTH)>>7,s=t&ru.JUMP_TABLE;if(i===0)return s!==0&&r===s?n:-1;if(s){const u=r-s;return u<0||u>=i?-1:e[n+u]-1}let o=n,a=o+i-1;for(;o<=a;){const u=o+a>>>1,l=e[u];if(l<r)o=u+1;else if(l>r)a=u-1;else return e[u+i]}return-1}JJ(rc);JJ(d6e);var Ee;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(Ee=Ee||(Ee={}));var Uc;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(Uc=Uc||(Uc={}));var Js;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(Js=Js||(Js={}));var ae;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(ae=ae||(ae={}));var v;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SECTION=94]="SECTION",e[e.SELECT=95]="SELECT",e[e.SOURCE=96]="SOURCE",e[e.SMALL=97]="SMALL",e[e.SPAN=98]="SPAN",e[e.STRIKE=99]="STRIKE",e[e.STRONG=100]="STRONG",e[e.STYLE=101]="STYLE",e[e.SUB=102]="SUB",e[e.SUMMARY=103]="SUMMARY",e[e.SUP=104]="SUP",e[e.TABLE=105]="TABLE",e[e.TBODY=106]="TBODY",e[e.TEMPLATE=107]="TEMPLATE",e[e.TEXTAREA=108]="TEXTAREA",e[e.TFOOT=109]="TFOOT",e[e.TD=110]="TD",e[e.TH=111]="TH",e[e.THEAD=112]="THEAD",e[e.TITLE=113]="TITLE",e[e.TR=114]="TR",e[e.TRACK=115]="TRACK",e[e.TT=116]="TT",e[e.U=117]="U",e[e.UL=118]="UL",e[e.SVG=119]="SVG",e[e.VAR=120]="VAR",e[e.WBR=121]="WBR",e[e.XMP=122]="XMP"})(v=v||(v={}));const E6e=new Map([[ae.A,v.A],[ae.ADDRESS,v.ADDRESS],[ae.ANNOTATION_XML,v.ANNOTATION_XML],[ae.APPLET,v.APPLET],[ae.AREA,v.AREA],[ae.ARTICLE,v.ARTICLE],[ae.ASIDE,v.ASIDE],[ae.B,v.B],[ae.BASE,v.BASE],[ae.BASEFONT,v.BASEFONT],[ae.BGSOUND,v.BGSOUND],[ae.BIG,v.BIG],[ae.BLOCKQUOTE,v.BLOCKQUOTE],[ae.BODY,v.BODY],[ae.BR,v.BR],[ae.BUTTON,v.BUTTON],[ae.CAPTION,v.CAPTION],[ae.CENTER,v.CENTER],[ae.CODE,v.CODE],[ae.COL,v.COL],[ae.COLGROUP,v.COLGROUP],[ae.DD,v.DD],[ae.DESC,v.DESC],[ae.DETAILS,v.DETAILS],[ae.DIALOG,v.DIALOG],[ae.DIR,v.DIR],[ae.DIV,v.DIV],[ae.DL,v.DL],[ae.DT,v.DT],[ae.EM,v.EM],[ae.EMBED,v.EMBED],[ae.FIELDSET,v.FIELDSET],[ae.FIGCAPTION,v.FIGCAPTION],[ae.FIGURE,v.FIGURE],[ae.FONT,v.FONT],[ae.FOOTER,v.FOOTER],[ae.FOREIGN_OBJECT,v.FOREIGN_OBJECT],[ae.FORM,v.FORM],[ae.FRAME,v.FRAME],[ae.FRAMESET,v.FRAMESET],[ae.H1,v.H1],[ae.H2,v.H2],[ae.H3,v.H3],[ae.H4,v.H4],[ae.H5,v.H5],[ae.H6,v.H6],[ae.HEAD,v.HEAD],[ae.HEADER,v.HEADER],[ae.HGROUP,v.HGROUP],[ae.HR,v.HR],[ae.HTML,v.HTML],[ae.I,v.I],[ae.IMG,v.IMG],[ae.IMAGE,v.IMAGE],[ae.INPUT,v.INPUT],[ae.IFRAME,v.IFRAME],[ae.KEYGEN,v.KEYGEN],[ae.LABEL,v.LABEL],[ae.LI,v.LI],[ae.LINK,v.LINK],[ae.LISTING,v.LISTING],[ae.MAIN,v.MAIN],[ae.MALIGNMARK,v.MALIGNMARK],[ae.MARQUEE,v.MARQUEE],[ae.MATH,v.MATH],[ae.MENU,v.MENU],[ae.META,v.META],[ae.MGLYPH,v.MGLYPH],[ae.MI,v.MI],[ae.MO,v.MO],[ae.MN,v.MN],[ae.MS,v.MS],[ae.MTEXT,v.MTEXT],[ae.NAV,v.NAV],[ae.NOBR,v.NOBR],[ae.NOFRAMES,v.NOFRAMES],[ae.NOEMBED,v.NOEMBED],[ae.NOSCRIPT,v.NOSCRIPT],[ae.OBJECT,v.OBJECT],[ae.OL,v.OL],[ae.OPTGROUP,v.OPTGROUP],[ae.OPTION,v.OPTION],[ae.P,v.P],[ae.PARAM,v.PARAM],[ae.PLAINTEXT,v.PLAINTEXT],[ae.PRE,v.PRE],[ae.RB,v.RB],[ae.RP,v.RP],[ae.RT,v.RT],[ae.RTC,v.RTC],[ae.RUBY,v.RUBY],[ae.S,v.S],[ae.SCRIPT,v.SCRIPT],[ae.SECTION,v.SECTION],[ae.SELECT,v.SELECT],[ae.SOURCE,v.SOURCE],[ae.SMALL,v.SMALL],[ae.SPAN,v.SPAN],[ae.STRIKE,v.STRIKE],[ae.STRONG,v.STRONG],[ae.STYLE,v.STYLE],[ae.SUB,v.SUB],[ae.SUMMARY,v.SUMMARY],[ae.SUP,v.SUP],[ae.TABLE,v.TABLE],[ae.TBODY,v.TBODY],[ae.TEMPLATE,v.TEMPLATE],[ae.TEXTAREA,v.TEXTAREA],[ae.TFOOT,v.TFOOT],[ae.TD,v.TD],[ae.TH,v.TH],[ae.THEAD,v.THEAD],[ae.TITLE,v.TITLE],[ae.TR,v.TR],[ae.TRACK,v.TRACK],[ae.TT,v.TT],[ae.U,v.U],[ae.UL,v.UL],[ae.SVG,v.SVG],[ae.VAR,v.VAR],[ae.WBR,v.WBR],[ae.XMP,v.XMP]]);function Um(e){var t;return(t=E6e.get(e))!==null&&t!==void 0?t:v.UNKNOWN}const Ae=v,w6e={[Ee.HTML]:new Set([Ae.ADDRESS,Ae.APPLET,Ae.AREA,Ae.ARTICLE,Ae.ASIDE,Ae.BASE,Ae.BASEFONT,Ae.BGSOUND,Ae.BLOCKQUOTE,Ae.BODY,Ae.BR,Ae.BUTTON,Ae.CAPTION,Ae.CENTER,Ae.COL,Ae.COLGROUP,Ae.DD,Ae.DETAILS,Ae.DIR,Ae.DIV,Ae.DL,Ae.DT,Ae.EMBED,Ae.FIELDSET,Ae.FIGCAPTION,Ae.FIGURE,Ae.FOOTER,Ae.FORM,Ae.FRAME,Ae.FRAMESET,Ae.H1,Ae.H2,Ae.H3,Ae.H4,Ae.H5,Ae.H6,Ae.HEAD,Ae.HEADER,Ae.HGROUP,Ae.HR,Ae.HTML,Ae.IFRAME,Ae.IMG,Ae.INPUT,Ae.LI,Ae.LINK,Ae.LISTING,Ae.MAIN,Ae.MARQUEE,Ae.MENU,Ae.META,Ae.NAV,Ae.NOEMBED,Ae.NOFRAMES,Ae.NOSCRIPT,Ae.OBJECT,Ae.OL,Ae.P,Ae.PARAM,Ae.PLAINTEXT,Ae.PRE,Ae.SCRIPT,Ae.SECTION,Ae.SELECT,Ae.SOURCE,Ae.STYLE,Ae.SUMMARY,Ae.TABLE,Ae.TBODY,Ae.TD,Ae.TEMPLATE,Ae.TEXTAREA,Ae.TFOOT,Ae.TH,Ae.THEAD,Ae.TITLE,Ae.TR,Ae.TRACK,Ae.UL,Ae.WBR,Ae.XMP]),[Ee.MATHML]:new Set([Ae.MI,Ae.MO,Ae.MN,Ae.MS,Ae.MTEXT,Ae.ANNOTATION_XML]),[Ee.SVG]:new Set([Ae.TITLE,Ae.FOREIGN_OBJECT,Ae.DESC]),[Ee.XLINK]:new Set,[Ee.XML]:new Set,[Ee.XMLNS]:new Set};function eZ(e){return e===Ae.H1||e===Ae.H2||e===Ae.H3||e===Ae.H4||e===Ae.H5||e===Ae.H6}ae.STYLE,ae.SCRIPT,ae.XMP,ae.IFRAME,ae.NOEMBED,ae.NOFRAMES,ae.PLAINTEXT;const T6e=new Map([[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);var F;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.NAMED_CHARACTER_REFERENCE=72]="NAMED_CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=73]="AMBIGUOUS_AMPERSAND",e[e.NUMERIC_CHARACTER_REFERENCE=74]="NUMERIC_CHARACTER_REFERENCE",e[e.HEXADEMICAL_CHARACTER_REFERENCE_START=75]="HEXADEMICAL_CHARACTER_REFERENCE_START",e[e.HEXADEMICAL_CHARACTER_REFERENCE=76]="HEXADEMICAL_CHARACTER_REFERENCE",e[e.DECIMAL_CHARACTER_REFERENCE=77]="DECIMAL_CHARACTER_REFERENCE",e[e.NUMERIC_CHARACTER_REFERENCE_END=78]="NUMERIC_CHARACTER_REFERENCE_END"})(F||(F={}));const Dr={DATA:F.DATA,RCDATA:F.RCDATA,RAWTEXT:F.RAWTEXT,SCRIPT_DATA:F.SCRIPT_DATA,PLAINTEXT:F.PLAINTEXT,CDATA_SECTION:F.CDATA_SECTION};function Dg(e){return e>=D.DIGIT_0&&e<=D.DIGIT_9}function ng(e){return e>=D.LATIN_CAPITAL_A&&e<=D.LATIN_CAPITAL_Z}function S6e(e){return e>=D.LATIN_SMALL_A&&e<=D.LATIN_SMALL_Z}function ic(e){return S6e(e)||ng(e)}function h2(e){return ic(e)||Dg(e)}function tZ(e){return e>=D.LATIN_CAPITAL_A&&e<=D.LATIN_CAPITAL_F}function nZ(e){return e>=D.LATIN_SMALL_A&&e<=D.LATIN_SMALL_F}function I6e(e){return Dg(e)||tZ(e)||nZ(e)}function s1(e){return e+32}function rZ(e){return e===D.SPACE||e===D.LINE_FEED||e===D.TABULATION||e===D.FORM_FEED}function x6e(e){return e===D.EQUALS_SIGN||h2(e)}function NB(e){return rZ(e)||e===D.SOLIDUS||e===D.GREATER_THAN_SIGN}class C6e{constructor(t,n){this.options=t,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=F.DATA,this.returnState=F.DATA,this.charRefCode=-1,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new f6e(n),this.currentLocation=this.getCurrentLocation(-1)}_err(t){var n,r;(r=(n=this.handler).onParseError)===null||r===void 0||r.call(n,this.preprocessor.getError(t))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t==null||t())}write(t,n,r){this.active=!0,this.preprocessor.write(t,n),this._runParsingLoop(),this.paused||r==null||r()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this._unconsume(this.consumedAfterSnapshot),this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_unconsume(t){this.consumedAfterSnapshot-=t,this.preprocessor.retreat(t)}_reconsumeInState(t,n){this.state=t,this._callState(n)}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let n=0;n<t;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,n){return this.preprocessor.startsWith(t,n)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:Ht.START_TAG,tagName:"",tagID:v.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:Ht.END_TAG,tagName:"",tagID:v.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:Ht.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:Ht.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,n){this.currentCharacterToken={type:t,chars:n,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,n;const r=this.currentToken;if(XJ(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const i=(t=(n=r.location).attrs)!==null&&t!==void 0?t:n.attrs=Object.create(null);i[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(ve.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=Um(t.tagName),t.type===Ht.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(ve.endTagWithAttributes),t.selfClosing&&this._err(ve.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case Ht.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case Ht.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case Ht.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:Ht.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type!==t)this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();else{this.currentCharacterToken.chars+=n;return}this._createCharacterToken(t,n)}_emitCodePoint(t){const n=rZ(t)?Ht.WHITESPACE_CHARACTER:t===D.NULL?Ht.NULL_CHARACTER:Ht.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(Ht.CHARACTER,t)}_matchNamedCharacterReference(t){let n=null,r=0,i=!1;for(let s=0,o=rc[0];s>=0&&(s=ZJ(rc,o,s+1,t),!(s<0));t=this._consume()){r+=1,o=rc[s];const a=o&ru.VALUE_LENGTH;if(a){const u=(a>>14)-1;if(t!==D.SEMICOLON&&this._isCharacterReferenceInAttribute()&&x6e(this.preprocessor.peek(1))?(n=[D.AMPERSAND],s+=u):(n=u===0?[rc[s]&~ru.VALUE_LENGTH]:u===1?[rc[++s]]:[rc[++s],rc[++s]],r=0,i=t!==D.SEMICOLON),u===0){this._consume();break}}}return this._unconsume(r),i&&!this.preprocessor.endOfChunkHit&&this._err(ve.missingSemicolonAfterCharacterReference),this._unconsume(1),n}_isCharacterReferenceInAttribute(){return this.returnState===F.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===F.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===F.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case F.DATA:{this._stateData(t);break}case F.RCDATA:{this._stateRcdata(t);break}case F.RAWTEXT:{this._stateRawtext(t);break}case F.SCRIPT_DATA:{this._stateScriptData(t);break}case F.PLAINTEXT:{this._statePlaintext(t);break}case F.TAG_OPEN:{this._stateTagOpen(t);break}case F.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case F.TAG_NAME:{this._stateTagName(t);break}case F.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case F.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case F.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case F.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case F.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case F.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case F.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case F.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case F.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case F.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case F.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case F.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case F.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case F.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case F.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case F.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case F.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case F.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case F.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case F.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case F.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case F.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case F.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case F.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case F.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case F.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case F.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case F.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case F.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case F.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case F.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case F.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case F.BOGUS_COMMENT:{this._stateBogusComment(t);break}case F.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case F.COMMENT_START:{this._stateCommentStart(t);break}case F.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case F.COMMENT:{this._stateComment(t);break}case F.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case F.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case F.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case F.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case F.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case F.COMMENT_END:{this._stateCommentEnd(t);break}case F.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case F.DOCTYPE:{this._stateDoctype(t);break}case F.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case F.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case F.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case F.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case F.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case F.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case F.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case F.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case F.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case F.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case F.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case F.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case F.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case F.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case F.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case F.CDATA_SECTION:{this._stateCdataSection(t);break}case F.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case F.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case F.CHARACTER_REFERENCE:{this._stateCharacterReference(t);break}case F.NAMED_CHARACTER_REFERENCE:{this._stateNamedCharacterReference(t);break}case F.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}case F.NUMERIC_CHARACTER_REFERENCE:{this._stateNumericCharacterReference(t);break}case F.HEXADEMICAL_CHARACTER_REFERENCE_START:{this._stateHexademicalCharacterReferenceStart(t);break}case F.HEXADEMICAL_CHARACTER_REFERENCE:{this._stateHexademicalCharacterReference(t);break}case F.DECIMAL_CHARACTER_REFERENCE:{this._stateDecimalCharacterReference(t);break}case F.NUMERIC_CHARACTER_REFERENCE_END:{this._stateNumericCharacterReferenceEnd(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case D.LESS_THAN_SIGN:{this.state=F.TAG_OPEN;break}case D.AMPERSAND:{this.returnState=F.DATA,this.state=F.CHARACTER_REFERENCE;break}case D.NULL:{this._err(ve.unexpectedNullCharacter),this._emitCodePoint(t);break}case D.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case D.AMPERSAND:{this.returnState=F.RCDATA,this.state=F.CHARACTER_REFERENCE;break}case D.LESS_THAN_SIGN:{this.state=F.RCDATA_LESS_THAN_SIGN;break}case D.NULL:{this._err(ve.unexpectedNullCharacter),this._emitChars(sr);break}case D.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case D.LESS_THAN_SIGN:{this.state=F.RAWTEXT_LESS_THAN_SIGN;break}case D.NULL:{this._err(ve.unexpectedNullCharacter),this._emitChars(sr);break}case D.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case D.LESS_THAN_SIGN:{this.state=F.SCRIPT_DATA_LESS_THAN_SIGN;break}case D.NULL:{this._err(ve.unexpectedNullCharacter),this._emitChars(sr);break}case D.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case D.NULL:{this._err(ve.unexpectedNullCharacter),this._emitChars(sr);break}case D.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(ic(t))this._createStartTagToken(),this.state=F.TAG_NAME,this._stateTagName(t);else switch(t){case D.EXCLAMATION_MARK:{this.state=F.MARKUP_DECLARATION_OPEN;break}case D.SOLIDUS:{this.state=F.END_TAG_OPEN;break}case D.QUESTION_MARK:{this._err(ve.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=F.BOGUS_COMMENT,this._stateBogusComment(t);break}case D.EOF:{this._err(ve.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(ve.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=F.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(ic(t))this._createEndTagToken(),this.state=F.TAG_NAME,this._stateTagName(t);else switch(t){case D.GREATER_THAN_SIGN:{this._err(ve.missingEndTagName),this.state=F.DATA;break}case D.EOF:{this._err(ve.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(ve.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=F.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const n=this.currentToken;switch(t){case D.SPACE:case D.LINE_FEED:case D.TABULATION:case D.FORM_FEED:{this.state=F.BEFORE_ATTRIBUTE_NAME;break}case D.SOLIDUS:{this.state=F.SELF_CLOSING_START_TAG;break}case D.GREATER_THAN_SIGN:{this.state=F.DATA,this.emitCurrentTagToken();break}case D.NULL:{this._err(ve.unexpectedNullCharacter),n.tagName+=sr;break}case D.EOF:{this._err(ve.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(ng(t)?s1(t):t)}}_stateRcdataLessThanSign(t){t===D.SOLIDUS?this.state=F.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=F.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){ic(t)?(this.state=F.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=F.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case D.SPACE:case D.LINE_FEED:case D.TABULATION:case D.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=F.BEFORE_ATTRIBUTE_NAME,!1;case D.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=F.SELF_CLOSING_START_TAG,!1;case D.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=F.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=F.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===D.SOLIDUS?this.state=F.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=F.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){ic(t)?(this.state=F.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=F.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=F.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case D.SOLIDUS:{this.state=F.SCRIPT_DATA_END_TAG_OPEN;break}case D.EXCLAMATION_MARK:{this.state=F.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=F.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){ic(t)?(this.state=F.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=F.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=F.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===D.HYPHEN_MINUS?(this.state=F.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=F.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===D.HYPHEN_MINUS?(this.state=F.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=F.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case D.HYPHEN_MINUS:{this.state=F.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case D.LESS_THAN_SIGN:{this.state=F.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case D.NULL:{this._err(ve.unexpectedNullCharacter),this._emitChars(sr);break}case D.EOF:{this._err(ve.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case D.HYPHEN_MINUS:{this.state=F.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case D.LESS_THAN_SIGN:{this.state=F.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case D.NULL:{this._err(ve.unexpectedNullCharacter),this.state=F.SCRIPT_DATA_ESCAPED,this._emitChars(sr);break}case D.EOF:{this._err(ve.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=F.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case D.HYPHEN_MINUS:{this._emitChars("-");break}case D.LESS_THAN_SIGN:{this.state=F.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case D.GREATER_THAN_SIGN:{this.state=F.SCRIPT_DATA,this._emitChars(">");break}case D.NULL:{this._err(ve.unexpectedNullCharacter),this.state=F.SCRIPT_DATA_ESCAPED,this._emitChars(sr);break}case D.EOF:{this._err(ve.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=F.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===D.SOLIDUS?this.state=F.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:ic(t)?(this._emitChars("<"),this.state=F.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=F.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){ic(t)?(this.state=F.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=F.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=F.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(_s.SCRIPT,!1)&&NB(this.preprocessor.peek(_s.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<_s.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=F.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=F.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case D.HYPHEN_MINUS:{this.state=F.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case D.LESS_THAN_SIGN:{this.state=F.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case D.NULL:{this._err(ve.unexpectedNullCharacter),this._emitChars(sr);break}case D.EOF:{this._err(ve.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case D.HYPHEN_MINUS:{this.state=F.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case D.LESS_THAN_SIGN:{this.state=F.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case D.NULL:{this._err(ve.unexpectedNullCharacter),this.state=F.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(sr);break}case D.EOF:{this._err(ve.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=F.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case D.HYPHEN_MINUS:{this._emitChars("-");break}case D.LESS_THAN_SIGN:{this.state=F.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case D.GREATER_THAN_SIGN:{this.state=F.SCRIPT_DATA,this._emitChars(">");break}case D.NULL:{this._err(ve.unexpectedNullCharacter),this.state=F.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(sr);break}case D.EOF:{this._err(ve.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=F.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===D.SOLIDUS?(this.state=F.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=F.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(_s.SCRIPT,!1)&&NB(this.preprocessor.peek(_s.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<_s.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=F.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=F.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case D.SPACE:case D.LINE_FEED:case D.TABULATION:case D.FORM_FEED:break;case D.SOLIDUS:case D.GREATER_THAN_SIGN:case D.EOF:{this.state=F.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case D.EQUALS_SIGN:{this._err(ve.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=F.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=F.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case D.SPACE:case D.LINE_FEED:case D.TABULATION:case D.FORM_FEED:case D.SOLIDUS:case D.GREATER_THAN_SIGN:case D.EOF:{this._leaveAttrName(),this.state=F.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case D.EQUALS_SIGN:{this._leaveAttrName(),this.state=F.BEFORE_ATTRIBUTE_VALUE;break}case D.QUOTATION_MARK:case D.APOSTROPHE:case D.LESS_THAN_SIGN:{this._err(ve.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case D.NULL:{this._err(ve.unexpectedNullCharacter),this.currentAttr.name+=sr;break}default:this.currentAttr.name+=String.fromCodePoint(ng(t)?s1(t):t)}}_stateAfterAttributeName(t){switch(t){case D.SPACE:case D.LINE_FEED:case D.TABULATION:case D.FORM_FEED:break;case D.SOLIDUS:{this.state=F.SELF_CLOSING_START_TAG;break}case D.EQUALS_SIGN:{this.state=F.BEFORE_ATTRIBUTE_VALUE;break}case D.GREATER_THAN_SIGN:{this.state=F.DATA,this.emitCurrentTagToken();break}case D.EOF:{this._err(ve.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=F.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case D.SPACE:case D.LINE_FEED:case D.TABULATION:case D.FORM_FEED:break;case D.QUOTATION_MARK:{this.state=F.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case D.APOSTROPHE:{this.state=F.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case D.GREATER_THAN_SIGN:{this._err(ve.missingAttributeValue),this.state=F.DATA,this.emitCurrentTagToken();break}default:this.state=F.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case D.QUOTATION_MARK:{this.state=F.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case D.AMPERSAND:{this.returnState=F.ATTRIBUTE_VALUE_DOUBLE_QUOTED,this.state=F.CHARACTER_REFERENCE;break}case D.NULL:{this._err(ve.unexpectedNullCharacter),this.currentAttr.value+=sr;break}case D.EOF:{this._err(ve.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case D.APOSTROPHE:{this.state=F.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case D.AMPERSAND:{this.returnState=F.ATTRIBUTE_VALUE_SINGLE_QUOTED,this.state=F.CHARACTER_REFERENCE;break}case D.NULL:{this._err(ve.unexpectedNullCharacter),this.currentAttr.value+=sr;break}case D.EOF:{this._err(ve.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case D.SPACE:case D.LINE_FEED:case D.TABULATION:case D.FORM_FEED:{this._leaveAttrValue(),this.state=F.BEFORE_ATTRIBUTE_NAME;break}case D.AMPERSAND:{this.returnState=F.ATTRIBUTE_VALUE_UNQUOTED,this.state=F.CHARACTER_REFERENCE;break}case D.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=F.DATA,this.emitCurrentTagToken();break}case D.NULL:{this._err(ve.unexpectedNullCharacter),this.currentAttr.value+=sr;break}case D.QUOTATION_MARK:case D.APOSTROPHE:case D.LESS_THAN_SIGN:case D.EQUALS_SIGN:case D.GRAVE_ACCENT:{this._err(ve.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case D.EOF:{this._err(ve.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case D.SPACE:case D.LINE_FEED:case D.TABULATION:case D.FORM_FEED:{this._leaveAttrValue(),this.state=F.BEFORE_ATTRIBUTE_NAME;break}case D.SOLIDUS:{this._leaveAttrValue(),this.state=F.SELF_CLOSING_START_TAG;break}case D.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=F.DATA,this.emitCurrentTagToken();break}case D.EOF:{this._err(ve.eofInTag),this._emitEOFToken();break}default:this._err(ve.missingWhitespaceBetweenAttributes),this.state=F.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case D.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=F.DATA,this.emitCurrentTagToken();break}case D.EOF:{this._err(ve.eofInTag),this._emitEOFToken();break}default:this._err(ve.unexpectedSolidusInTag),this.state=F.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const n=this.currentToken;switch(t){case D.GREATER_THAN_SIGN:{this.state=F.DATA,this.emitCurrentComment(n);break}case D.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case D.NULL:{this._err(ve.unexpectedNullCharacter),n.data+=sr;break}default:n.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(_s.DASH_DASH,!0)?(this._createCommentToken(_s.DASH_DASH.length+1),this.state=F.COMMENT_START):this._consumeSequenceIfMatch(_s.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(_s.DOCTYPE.length+1),this.state=F.DOCTYPE):this._consumeSequenceIfMatch(_s.CDATA_START,!0)?this.inForeignNode?this.state=F.CDATA_SECTION:(this._err(ve.cdataInHtmlContent),this._createCommentToken(_s.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=F.BOGUS_COMMENT):this._ensureHibernation()||(this._err(ve.incorrectlyOpenedComment),this._createCommentToken(2),this.state=F.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case D.HYPHEN_MINUS:{this.state=F.COMMENT_START_DASH;break}case D.GREATER_THAN_SIGN:{this._err(ve.abruptClosingOfEmptyComment),this.state=F.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=F.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const n=this.currentToken;switch(t){case D.HYPHEN_MINUS:{this.state=F.COMMENT_END;break}case D.GREATER_THAN_SIGN:{this._err(ve.abruptClosingOfEmptyComment),this.state=F.DATA,this.emitCurrentComment(n);break}case D.EOF:{this._err(ve.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=F.COMMENT,this._stateComment(t)}}_stateComment(t){const n=this.currentToken;switch(t){case D.HYPHEN_MINUS:{this.state=F.COMMENT_END_DASH;break}case D.LESS_THAN_SIGN:{n.data+="<",this.state=F.COMMENT_LESS_THAN_SIGN;break}case D.NULL:{this._err(ve.unexpectedNullCharacter),n.data+=sr;break}case D.EOF:{this._err(ve.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const n=this.currentToken;switch(t){case D.EXCLAMATION_MARK:{n.data+="!",this.state=F.COMMENT_LESS_THAN_SIGN_BANG;break}case D.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=F.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===D.HYPHEN_MINUS?this.state=F.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=F.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===D.HYPHEN_MINUS?this.state=F.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=F.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==D.GREATER_THAN_SIGN&&t!==D.EOF&&this._err(ve.nestedComment),this.state=F.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const n=this.currentToken;switch(t){case D.HYPHEN_MINUS:{this.state=F.COMMENT_END;break}case D.EOF:{this._err(ve.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=F.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const n=this.currentToken;switch(t){case D.GREATER_THAN_SIGN:{this.state=F.DATA,this.emitCurrentComment(n);break}case D.EXCLAMATION_MARK:{this.state=F.COMMENT_END_BANG;break}case D.HYPHEN_MINUS:{n.data+="-";break}case D.EOF:{this._err(ve.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=F.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const n=this.currentToken;switch(t){case D.HYPHEN_MINUS:{n.data+="--!",this.state=F.COMMENT_END_DASH;break}case D.GREATER_THAN_SIGN:{this._err(ve.incorrectlyClosedComment),this.state=F.DATA,this.emitCurrentComment(n);break}case D.EOF:{this._err(ve.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=F.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case D.SPACE:case D.LINE_FEED:case D.TABULATION:case D.FORM_FEED:{this.state=F.BEFORE_DOCTYPE_NAME;break}case D.GREATER_THAN_SIGN:{this.state=F.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case D.EOF:{this._err(ve.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ve.missingWhitespaceBeforeDoctypeName),this.state=F.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(ng(t))this._createDoctypeToken(String.fromCharCode(s1(t))),this.state=F.DOCTYPE_NAME;else switch(t){case D.SPACE:case D.LINE_FEED:case D.TABULATION:case D.FORM_FEED:break;case D.NULL:{this._err(ve.unexpectedNullCharacter),this._createDoctypeToken(sr),this.state=F.DOCTYPE_NAME;break}case D.GREATER_THAN_SIGN:{this._err(ve.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=F.DATA;break}case D.EOF:{this._err(ve.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=F.DOCTYPE_NAME}}_stateDoctypeName(t){const n=this.currentToken;switch(t){case D.SPACE:case D.LINE_FEED:case D.TABULATION:case D.FORM_FEED:{this.state=F.AFTER_DOCTYPE_NAME;break}case D.GREATER_THAN_SIGN:{this.state=F.DATA,this.emitCurrentDoctype(n);break}case D.NULL:{this._err(ve.unexpectedNullCharacter),n.name+=sr;break}case D.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(ng(t)?s1(t):t)}}_stateAfterDoctypeName(t){const n=this.currentToken;switch(t){case D.SPACE:case D.LINE_FEED:case D.TABULATION:case D.FORM_FEED:break;case D.GREATER_THAN_SIGN:{this.state=F.DATA,this.emitCurrentDoctype(n);break}case D.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(_s.PUBLIC,!1)?this.state=F.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(_s.SYSTEM,!1)?this.state=F.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(ve.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=F.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const n=this.currentToken;switch(t){case D.SPACE:case D.LINE_FEED:case D.TABULATION:case D.FORM_FEED:{this.state=F.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case D.QUOTATION_MARK:{this._err(ve.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=F.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case D.APOSTROPHE:{this._err(ve.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=F.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case D.GREATER_THAN_SIGN:{this._err(ve.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=F.DATA,this.emitCurrentDoctype(n);break}case D.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ve.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=F.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case D.SPACE:case D.LINE_FEED:case D.TABULATION:case D.FORM_FEED:break;case D.QUOTATION_MARK:{n.publicId="",this.state=F.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case D.APOSTROPHE:{n.publicId="",this.state=F.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case D.GREATER_THAN_SIGN:{this._err(ve.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=F.DATA,this.emitCurrentDoctype(n);break}case D.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ve.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=F.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case D.QUOTATION_MARK:{this.state=F.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case D.NULL:{this._err(ve.unexpectedNullCharacter),n.publicId+=sr;break}case D.GREATER_THAN_SIGN:{this._err(ve.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=F.DATA;break}case D.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case D.APOSTROPHE:{this.state=F.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case D.NULL:{this._err(ve.unexpectedNullCharacter),n.publicId+=sr;break}case D.GREATER_THAN_SIGN:{this._err(ve.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=F.DATA;break}case D.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case D.SPACE:case D.LINE_FEED:case D.TABULATION:case D.FORM_FEED:{this.state=F.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case D.GREATER_THAN_SIGN:{this.state=F.DATA,this.emitCurrentDoctype(n);break}case D.QUOTATION_MARK:{this._err(ve.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=F.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case D.APOSTROPHE:{this._err(ve.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=F.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case D.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ve.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=F.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const n=this.currentToken;switch(t){case D.SPACE:case D.LINE_FEED:case D.TABULATION:case D.FORM_FEED:break;case D.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=F.DATA;break}case D.QUOTATION_MARK:{n.systemId="",this.state=F.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case D.APOSTROPHE:{n.systemId="",this.state=F.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case D.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ve.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=F.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const n=this.currentToken;switch(t){case D.SPACE:case D.LINE_FEED:case D.TABULATION:case D.FORM_FEED:{this.state=F.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case D.QUOTATION_MARK:{this._err(ve.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=F.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case D.APOSTROPHE:{this._err(ve.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=F.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case D.GREATER_THAN_SIGN:{this._err(ve.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=F.DATA,this.emitCurrentDoctype(n);break}case D.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ve.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=F.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case D.SPACE:case D.LINE_FEED:case D.TABULATION:case D.FORM_FEED:break;case D.QUOTATION_MARK:{n.systemId="",this.state=F.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case D.APOSTROPHE:{n.systemId="",this.state=F.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case D.GREATER_THAN_SIGN:{this._err(ve.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=F.DATA,this.emitCurrentDoctype(n);break}case D.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ve.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=F.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case D.QUOTATION_MARK:{this.state=F.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case D.NULL:{this._err(ve.unexpectedNullCharacter),n.systemId+=sr;break}case D.GREATER_THAN_SIGN:{this._err(ve.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=F.DATA;break}case D.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case D.APOSTROPHE:{this.state=F.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case D.NULL:{this._err(ve.unexpectedNullCharacter),n.systemId+=sr;break}case D.GREATER_THAN_SIGN:{this._err(ve.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=F.DATA;break}case D.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case D.SPACE:case D.LINE_FEED:case D.TABULATION:case D.FORM_FEED:break;case D.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=F.DATA;break}case D.EOF:{this._err(ve.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ve.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=F.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const n=this.currentToken;switch(t){case D.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=F.DATA;break}case D.NULL:{this._err(ve.unexpectedNullCharacter);break}case D.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case D.RIGHT_SQUARE_BRACKET:{this.state=F.CDATA_SECTION_BRACKET;break}case D.EOF:{this._err(ve.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===D.RIGHT_SQUARE_BRACKET?this.state=F.CDATA_SECTION_END:(this._emitChars("]"),this.state=F.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case D.GREATER_THAN_SIGN:{this.state=F.DATA;break}case D.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=F.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(t){t===D.NUMBER_SIGN?this.state=F.NUMERIC_CHARACTER_REFERENCE:h2(t)?(this.state=F.NAMED_CHARACTER_REFERENCE,this._stateNamedCharacterReference(t)):(this._flushCodePointConsumedAsCharacterReference(D.AMPERSAND),this._reconsumeInState(this.returnState,t))}_stateNamedCharacterReference(t){const n=this._matchNamedCharacterReference(t);if(!this._ensureHibernation())if(n){for(let r=0;r<n.length;r++)this._flushCodePointConsumedAsCharacterReference(n[r]);this.state=this.returnState}else this._flushCodePointConsumedAsCharacterReference(D.AMPERSAND),this.state=F.AMBIGUOUS_AMPERSAND}_stateAmbiguousAmpersand(t){h2(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===D.SEMICOLON&&this._err(ve.unknownNamedCharacterReference),this._reconsumeInState(this.returnState,t))}_stateNumericCharacterReference(t){this.charRefCode=0,t===D.LATIN_SMALL_X||t===D.LATIN_CAPITAL_X?this.state=F.HEXADEMICAL_CHARACTER_REFERENCE_START:Dg(t)?(this.state=F.DECIMAL_CHARACTER_REFERENCE,this._stateDecimalCharacterReference(t)):(this._err(ve.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(D.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(D.NUMBER_SIGN),this._reconsumeInState(this.returnState,t))}_stateHexademicalCharacterReferenceStart(t){I6e(t)?(this.state=F.HEXADEMICAL_CHARACTER_REFERENCE,this._stateHexademicalCharacterReference(t)):(this._err(ve.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(D.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(D.NUMBER_SIGN),this._unconsume(2),this.state=this.returnState)}_stateHexademicalCharacterReference(t){tZ(t)?this.charRefCode=this.charRefCode*16+t-55:nZ(t)?this.charRefCode=this.charRefCode*16+t-87:Dg(t)?this.charRefCode=this.charRefCode*16+t-48:t===D.SEMICOLON?this.state=F.NUMERIC_CHARACTER_REFERENCE_END:(this._err(ve.missingSemicolonAfterCharacterReference),this.state=F.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(t))}_stateDecimalCharacterReference(t){Dg(t)?this.charRefCode=this.charRefCode*10+t-48:t===D.SEMICOLON?this.state=F.NUMERIC_CHARACTER_REFERENCE_END:(this._err(ve.missingSemicolonAfterCharacterReference),this.state=F.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(t))}_stateNumericCharacterReferenceEnd(t){if(this.charRefCode===D.NULL)this._err(ve.nullCharacterReference),this.charRefCode=D.REPLACEMENT_CHARACTER;else if(this.charRefCode>1114111)this._err(ve.characterReferenceOutsideUnicodeRange),this.charRefCode=D.REPLACEMENT_CHARACTER;else if(YJ(this.charRefCode))this._err(ve.surrogateCharacterReference),this.charRefCode=D.REPLACEMENT_CHARACTER;else if(QJ(this.charRefCode))this._err(ve.noncharacterCharacterReference);else if(KJ(this.charRefCode)||this.charRefCode===D.CARRIAGE_RETURN){this._err(ve.controlCharacterReference);const n=T6e.get(this.charRefCode);n!==void 0&&(this.charRefCode=n)}this._flushCodePointConsumedAsCharacterReference(this.charRefCode),this._reconsumeInState(this.returnState,t)}}const iZ=new Set([v.DD,v.DT,v.LI,v.OPTGROUP,v.OPTION,v.P,v.RB,v.RP,v.RT,v.RTC]),kB=new Set([...iZ,v.CAPTION,v.COLGROUP,v.TBODY,v.TD,v.TFOOT,v.TH,v.THEAD,v.TR]),o1=new Map([[v.APPLET,Ee.HTML],[v.CAPTION,Ee.HTML],[v.HTML,Ee.HTML],[v.MARQUEE,Ee.HTML],[v.OBJECT,Ee.HTML],[v.TABLE,Ee.HTML],[v.TD,Ee.HTML],[v.TEMPLATE,Ee.HTML],[v.TH,Ee.HTML],[v.ANNOTATION_XML,Ee.MATHML],[v.MI,Ee.MATHML],[v.MN,Ee.MATHML],[v.MO,Ee.MATHML],[v.MS,Ee.MATHML],[v.MTEXT,Ee.MATHML],[v.DESC,Ee.SVG],[v.FOREIGN_OBJECT,Ee.SVG],[v.TITLE,Ee.SVG]]),A6e=[v.H1,v.H2,v.H3,v.H4,v.H5,v.H6],O6e=[v.TR,v.TEMPLATE,v.HTML],P6e=[v.TBODY,v.TFOOT,v.THEAD,v.TEMPLATE,v.HTML],R6e=[v.TABLE,v.TEMPLATE,v.HTML],N6e=[v.TD,v.TH];class k6e{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=v.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===v.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===Ee.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,n){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,n,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,n){const r=this._indexOf(t);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(t,n,r){const i=this._indexOf(t)+1;this.items.splice(i,0,n),this.tagIDs.splice(i,0,r),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(t){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(t,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==Ee.HTML);this.shortenToLength(n<0?0:n)}shortenToLength(t){for(;this.stackTop>=t;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<t)}}popUntilElementPopped(t){const n=this._indexOf(t);this.shortenToLength(n<0?0:n)}popUntilPopped(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r<0?0:r)}popUntilNumberedHeaderPopped(){this.popUntilPopped(A6e,Ee.HTML)}popUntilTableCellPopped(){this.popUntilPopped(N6e,Ee.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,n){for(let r=this.stackTop;r>=0;r--)if(t.includes(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(R6e,Ee.HTML)}clearBackToTableBodyContext(){this.clearBackTo(P6e,Ee.HTML)}clearBackToTableRowContext(){this.clearBackTo(O6e,Ee.HTML)}remove(t){const n=this._indexOf(t);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===v.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const n=this._indexOf(t)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===v.HTML}hasInScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===t&&i===Ee.HTML)return!0;if(o1.get(r)===i)return!1}return!0}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t],r=this.treeAdapter.getNamespaceURI(this.items[t]);if(eZ(n)&&r===Ee.HTML)return!0;if(o1.get(n)===r)return!1}return!0}hasInListItemScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===t&&i===Ee.HTML)return!0;if((r===v.UL||r===v.OL)&&i===Ee.HTML||o1.get(r)===i)return!1}return!0}hasInButtonScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===t&&i===Ee.HTML)return!0;if(r===v.BUTTON&&i===Ee.HTML||o1.get(r)===i)return!1}return!0}hasInTableScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n];if(this.treeAdapter.getNamespaceURI(this.items[n])===Ee.HTML){if(r===t)return!0;if(r===v.TABLE||r===v.TEMPLATE||r===v.HTML)return!1}}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];if(this.treeAdapter.getNamespaceURI(this.items[t])===Ee.HTML){if(n===v.TBODY||n===v.THEAD||n===v.TFOOT)return!0;if(n===v.TABLE||n===v.HTML)return!1}}return!0}hasInSelectScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n];if(this.treeAdapter.getNamespaceURI(this.items[n])===Ee.HTML){if(r===t)return!0;if(r!==v.OPTION&&r!==v.OPTGROUP)return!1}}return!0}generateImpliedEndTags(){for(;iZ.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;kB.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==t&&kB.has(this.currentTagId);)this.pop()}}const mA=3;var da;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(da=da||(da={}));const DB={type:da.Marker};class D6e{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,n){const r=[],i=n.length,s=this.treeAdapter.getTagName(t),o=this.treeAdapter.getNamespaceURI(t);for(let a=0;a<this.entries.length;a++){const u=this.entries[a];if(u.type===da.Marker)break;const{element:l}=u;if(this.treeAdapter.getTagName(l)===s&&this.treeAdapter.getNamespaceURI(l)===o){const c=this.treeAdapter.getAttrList(l);c.length===i&&r.push({idx:a,attrs:c})}}return r}_ensureNoahArkCondition(t){if(this.entries.length<mA)return;const n=this.treeAdapter.getAttrList(t),r=this._getNoahArkConditionCandidates(t,n);if(r.length<mA)return;const i=new Map(n.map(o=>[o.name,o.value]));let s=0;for(let o=0;o<r.length;o++){const a=r[o];a.attrs.every(u=>i.get(u.name)===u.value)&&(s+=1,s>=mA&&this.entries.splice(a.idx,1))}}insertMarker(){this.entries.unshift(DB)}pushElement(t,n){this._ensureNoahArkCondition(t),this.entries.unshift({type:da.Element,element:t,token:n})}insertElementAfterBookmark(t,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:da.Element,element:t,token:n})}removeEntry(t){const n=this.entries.indexOf(t);n>=0&&this.entries.splice(n,1)}clearToLastMarker(){const t=this.entries.indexOf(DB);t>=0?this.entries.splice(0,t+1):this.entries.length=0}getElementEntryInScopeWithTagName(t){const n=this.entries.find(r=>r.type===da.Marker||this.treeAdapter.getTagName(r.element)===t);return n&&n.type===da.Element?n:null}getElementEntry(t){return this.entries.find(n=>n.type===da.Element&&n.element===t)}}function $B(e){return{nodeName:"#text",value:e,parentNode:null}}const Ah={createDocument(){return{nodeName:"#document",mode:Js.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,n,r){const i=e.childNodes.find(s=>s.nodeName==="#documentType");if(i)i.name=t,i.publicId=n,i.systemId=r;else{const s={nodeName:"#documentType",name:t,publicId:n,systemId:r,parentNode:null};Ah.appendChild(e,s)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(Ah.isTextNode(n)){n.value+=t;return}}Ah.appendChild(e,$B(t))},insertTextBefore(e,t,n){const r=e.childNodes[e.childNodes.indexOf(n)-1];r&&Ah.isTextNode(r)?r.value+=t:Ah.insertBefore(e,$B(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map(r=>r.name));for(let r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},sZ="html",$6e="about:legacy-compat",L6e="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",oZ=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],M6e=[...oZ,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],F6e=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),aZ=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],B6e=[...aZ,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function LB(e,t){return t.some(n=>e.startsWith(n))}function j6e(e){return e.name===sZ&&e.publicId===null&&(e.systemId===null||e.systemId===$6e)}function U6e(e){if(e.name!==sZ)return Js.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===L6e)return Js.QUIRKS;let{publicId:n}=e;if(n!==null){if(n=n.toLowerCase(),F6e.has(n))return Js.QUIRKS;let r=t===null?M6e:oZ;if(LB(n,r))return Js.QUIRKS;if(r=t===null?aZ:B6e,LB(n,r))return Js.LIMITED_QUIRKS}return Js.NO_QUIRKS}const MB={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},V6e="definitionurl",z6e="definitionURL",H6e=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),W6e=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:Ee.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:Ee.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:Ee.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:Ee.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:Ee.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:Ee.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:Ee.XLINK}],["xml:base",{prefix:"xml",name:"base",namespace:Ee.XML}],["xml:lang",{prefix:"xml",name:"lang",namespace:Ee.XML}],["xml:space",{prefix:"xml",name:"space",namespace:Ee.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:Ee.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:Ee.XMLNS}]]),q6e=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),G6e=new Set([v.B,v.BIG,v.BLOCKQUOTE,v.BODY,v.BR,v.CENTER,v.CODE,v.DD,v.DIV,v.DL,v.DT,v.EM,v.EMBED,v.H1,v.H2,v.H3,v.H4,v.H5,v.H6,v.HEAD,v.HR,v.I,v.IMG,v.LI,v.LISTING,v.MENU,v.META,v.NOBR,v.OL,v.P,v.PRE,v.RUBY,v.S,v.SMALL,v.SPAN,v.STRONG,v.STRIKE,v.SUB,v.SUP,v.TABLE,v.TT,v.U,v.UL,v.VAR]);function Y6e(e){const t=e.tagID;return t===v.FONT&&e.attrs.some(({name:r})=>r===Uc.COLOR||r===Uc.SIZE||r===Uc.FACE)||G6e.has(t)}function uZ(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===V6e){e.attrs[t].name=z6e;break}}function lZ(e){for(let t=0;t<e.attrs.length;t++){const n=H6e.get(e.attrs[t].name);n!=null&&(e.attrs[t].name=n)}}function jD(e){for(let t=0;t<e.attrs.length;t++){const n=W6e.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function K6e(e){const t=q6e.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=Um(e.tagName))}function Q6e(e,t){return t===Ee.MATHML&&(e===v.MI||e===v.MO||e===v.MN||e===v.MS||e===v.MTEXT)}function X6e(e,t,n){if(t===Ee.MATHML&&e===v.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===Uc.ENCODING){const i=n[r].value.toLowerCase();return i===MB.TEXT_HTML||i===MB.APPLICATION_XML}}return t===Ee.SVG&&(e===v.FOREIGN_OBJECT||e===v.DESC||e===v.TITLE)}function J6e(e,t,n,r){return(!r||r===Ee.HTML)&&X6e(e,t,n)||(!r||r===Ee.MATHML)&&Q6e(e,t)}const Z6e="hidden",eLe=8,tLe=3;var q;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(q||(q={}));const nLe={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},cZ=new Set([v.TABLE,v.TBODY,v.TFOOT,v.THEAD,v.TR]),FB={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:Ah,onParseError:null};let BB=class{constructor(t,n,r=null,i=null){this.fragmentContext=r,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=q.INITIAL,this.originalInsertionMode=q.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...FB,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new C6e(this.options,this),this.activeFormattingElements=new D6e(this.treeAdapter),this.fragmentContextID=r?Um(this.treeAdapter.getTagName(r)):v.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new k6e(this.document,this.treeAdapter,this)}static parse(t,n){const r=new this(n);return r.tokenizer.write(t,!0),r.document}static getFragmentParser(t,n){const r={...FB,...n};t??(t=r.treeAdapter.createElement(ae.TEMPLATE,Ee.HTML,[]));const i=r.treeAdapter.createElement("documentmock",Ee.HTML,[]),s=new this(r,i,t);return s.fragmentContextID===v.TEMPLATE&&s.tmplInsertionModeStack.unshift(q.IN_TEMPLATE),s._initTokenizerForFragmentParsing(),s._insertFakeRootElement(),s._resetInsertionMode(),s._findFormInFragmentContext(),s}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,n),n}_err(t,n,r){var i;if(!this.onParseError)return;const s=(i=t.location)!==null&&i!==void 0?i:nLe,o={code:n,startLine:s.startLine,startCol:s.startCol,startOffset:s.startOffset,endLine:r?s.startLine:s.endLine,endCol:r?s.startCol:s.endCol,endOffset:r?s.startOffset:s.endOffset};this.onParseError(o)}onItemPush(t,n,r){var i,s;(s=(i=this.treeAdapter).onItemPush)===null||s===void 0||s.call(i,t),r&&this.openElements.stackTop>0&&this._setContextModes(t,n)}onItemPop(t,n){var r,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(i=(r=this.treeAdapter).onItemPop)===null||i===void 0||i.call(r,t,this.openElements.current),n){let s,o;this.openElements.stackTop===0&&this.fragmentContext?(s=this.fragmentContext,o=this.fragmentContextID):{current:s,currentTagId:o}=this.openElements,this._setContextModes(s,o)}}_setContextModes(t,n){const r=t===this.document||this.treeAdapter.getNamespaceURI(t)===Ee.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&!this._isIntegrationPoint(n,t)}_switchToTextParsing(t,n){this._insertElement(t,Ee.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=q.TEXT}switchToPlaintextParsing(){this.insertionMode=q.TEXT,this.originalInsertionMode=q.IN_BODY,this.tokenizer.state=Dr.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===ae.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==Ee.HTML))switch(this.fragmentContextID){case v.TITLE:case v.TEXTAREA:{this.tokenizer.state=Dr.RCDATA;break}case v.STYLE:case v.XMP:case v.IFRAME:case v.NOEMBED:case v.NOFRAMES:case v.NOSCRIPT:{this.tokenizer.state=Dr.RAWTEXT;break}case v.SCRIPT:{this.tokenizer.state=Dr.SCRIPT_DATA;break}case v.PLAINTEXT:{this.tokenizer.state=Dr.PLAINTEXT;break}}}_setDocumentType(t){const n=t.name||"",r=t.publicId||"",i=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,i),t.location){const o=this.treeAdapter.getChildNodes(this.document).find(a=>this.treeAdapter.isDocumentTypeNode(a));o&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}}_attachElementToTree(t,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(t,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r,t)}}_appendElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location)}_insertElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID)}_insertFakeElement(t,n){const r=this.treeAdapter.createElement(t,Ee.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(t){const n=this.treeAdapter.createElement(t.tagName,Ee.HTML,t.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(ae.HTML,Ee.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,v.HTML)}_appendCommentNode(t,n){const r=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location)}_insertCharacters(t){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,t.chars,r):this.treeAdapter.insertText(n,t.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,t.chars)),!t.location)return;const i=this.treeAdapter.getChildNodes(n),s=r?i.lastIndexOf(r):i.length,o=i[s-1];if(this.treeAdapter.getNodeSourceCodeLocation(o)){const{endLine:u,endCol:l,endOffset:c}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(o,{endLine:u,endCol:l,endOffset:c})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}_adoptNodes(t,n){for(let r=this.treeAdapter.getFirstChild(t);r;r=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(t,n){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&n.location){const r=n.location,i=this.treeAdapter.getTagName(t),s=n.type===Ht.END_TAG&&i===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,s)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,t.tagID===v.SVG&&this.treeAdapter.getTagName(n)===ae.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===Ee.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===v.MGLYPH||t.tagID===v.MALIGNMARK)&&!this._isIntegrationPoint(r,n,Ee.HTML)}_processToken(t){switch(t.type){case Ht.CHARACTER:{this.onCharacter(t);break}case Ht.NULL_CHARACTER:{this.onNullCharacter(t);break}case Ht.COMMENT:{this.onComment(t);break}case Ht.DOCTYPE:{this.onDoctype(t);break}case Ht.START_TAG:{this._processStartTag(t);break}case Ht.END_TAG:{this.onEndTag(t);break}case Ht.EOF:{this.onEof(t);break}case Ht.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,n,r){const i=this.treeAdapter.getNamespaceURI(n),s=this.treeAdapter.getAttrList(n);return J6e(t,i,s,r)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const n=this.activeFormattingElements.entries.findIndex(i=>i.type===da.Marker||this.openElements.contains(i.element)),r=n<0?t-1:n-1;for(let i=r;i>=0;i--){const s=this.activeFormattingElements.entries[i];this._insertElement(s.token,this.treeAdapter.getNamespaceURI(s.element)),s.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=q.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(v.P),this.openElements.popUntilTagNamePopped(v.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case v.TR:{this.insertionMode=q.IN_ROW;return}case v.TBODY:case v.THEAD:case v.TFOOT:{this.insertionMode=q.IN_TABLE_BODY;return}case v.CAPTION:{this.insertionMode=q.IN_CAPTION;return}case v.COLGROUP:{this.insertionMode=q.IN_COLUMN_GROUP;return}case v.TABLE:{this.insertionMode=q.IN_TABLE;return}case v.BODY:{this.insertionMode=q.IN_BODY;return}case v.FRAMESET:{this.insertionMode=q.IN_FRAMESET;return}case v.SELECT:{this._resetInsertionModeForSelect(t);return}case v.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case v.HTML:{this.insertionMode=this.headElement?q.AFTER_HEAD:q.BEFORE_HEAD;return}case v.TD:case v.TH:{if(t>0){this.insertionMode=q.IN_CELL;return}break}case v.HEAD:{if(t>0){this.insertionMode=q.IN_HEAD;return}break}}this.insertionMode=q.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let n=t-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===v.TEMPLATE)break;if(r===v.TABLE){this.insertionMode=q.IN_SELECT_IN_TABLE;return}}this.insertionMode=q.IN_SELECT}_isElementCausesFosterParenting(t){return cZ.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const n=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case v.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===Ee.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case v.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,t,n.beforeElement):this.treeAdapter.appendChild(n.parent,t)}_isSpecialElement(t,n){const r=this.treeAdapter.getNamespaceURI(t);return w6e[r].has(n)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){NMe(this,t);return}switch(this.insertionMode){case q.INITIAL:{R0(this,t);break}case q.BEFORE_HTML:{$g(this,t);break}case q.BEFORE_HEAD:{Lg(this,t);break}case q.IN_HEAD:{Mg(this,t);break}case q.IN_HEAD_NO_SCRIPT:{Fg(this,t);break}case q.AFTER_HEAD:{Bg(this,t);break}case q.IN_BODY:case q.IN_CAPTION:case q.IN_CELL:case q.IN_TEMPLATE:{dZ(this,t);break}case q.TEXT:case q.IN_SELECT:case q.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case q.IN_TABLE:case q.IN_TABLE_BODY:case q.IN_ROW:{gA(this,t);break}case q.IN_TABLE_TEXT:{_Z(this,t);break}case q.IN_COLUMN_GROUP:{qw(this,t);break}case q.AFTER_BODY:{Gw(this,t);break}case q.AFTER_AFTER_BODY:{ab(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){RMe(this,t);return}switch(this.insertionMode){case q.INITIAL:{R0(this,t);break}case q.BEFORE_HTML:{$g(this,t);break}case q.BEFORE_HEAD:{Lg(this,t);break}case q.IN_HEAD:{Mg(this,t);break}case q.IN_HEAD_NO_SCRIPT:{Fg(this,t);break}case q.AFTER_HEAD:{Bg(this,t);break}case q.TEXT:{this._insertCharacters(t);break}case q.IN_TABLE:case q.IN_TABLE_BODY:case q.IN_ROW:{gA(this,t);break}case q.IN_COLUMN_GROUP:{qw(this,t);break}case q.AFTER_BODY:{Gw(this,t);break}case q.AFTER_AFTER_BODY:{ab(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){p2(this,t);return}switch(this.insertionMode){case q.INITIAL:case q.BEFORE_HTML:case q.BEFORE_HEAD:case q.IN_HEAD:case q.IN_HEAD_NO_SCRIPT:case q.AFTER_HEAD:case q.IN_BODY:case q.IN_TABLE:case q.IN_CAPTION:case q.IN_COLUMN_GROUP:case q.IN_TABLE_BODY:case q.IN_ROW:case q.IN_CELL:case q.IN_SELECT:case q.IN_SELECT_IN_TABLE:case q.IN_TEMPLATE:case q.IN_FRAMESET:case q.AFTER_FRAMESET:{p2(this,t);break}case q.IN_TABLE_TEXT:{N0(this,t);break}case q.AFTER_BODY:{lLe(this,t);break}case q.AFTER_AFTER_BODY:case q.AFTER_AFTER_FRAMESET:{cLe(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case q.INITIAL:{fLe(this,t);break}case q.BEFORE_HEAD:case q.IN_HEAD:case q.IN_HEAD_NO_SCRIPT:case q.AFTER_HEAD:{this._err(t,ve.misplacedDoctype);break}case q.IN_TABLE_TEXT:{N0(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,ve.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?kMe(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case q.INITIAL:{R0(this,t);break}case q.BEFORE_HTML:{dLe(this,t);break}case q.BEFORE_HEAD:{pLe(this,t);break}case q.IN_HEAD:{Ra(this,t);break}case q.IN_HEAD_NO_SCRIPT:{yLe(this,t);break}case q.AFTER_HEAD:{vLe(this,t);break}case q.IN_BODY:{rs(this,t);break}case q.IN_TABLE:{Zp(this,t);break}case q.IN_TABLE_TEXT:{N0(this,t);break}case q.IN_CAPTION:{mMe(this,t);break}case q.IN_COLUMN_GROUP:{zD(this,t);break}case q.IN_TABLE_BODY:{II(this,t);break}case q.IN_ROW:{xI(this,t);break}case q.IN_CELL:{_Me(this,t);break}case q.IN_SELECT:{EZ(this,t);break}case q.IN_SELECT_IN_TABLE:{bMe(this,t);break}case q.IN_TEMPLATE:{wMe(this,t);break}case q.AFTER_BODY:{SMe(this,t);break}case q.IN_FRAMESET:{IMe(this,t);break}case q.AFTER_FRAMESET:{CMe(this,t);break}case q.AFTER_AFTER_BODY:{OMe(this,t);break}case q.AFTER_AFTER_FRAMESET:{PMe(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?DMe(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case q.INITIAL:{R0(this,t);break}case q.BEFORE_HTML:{hLe(this,t);break}case q.BEFORE_HEAD:{mLe(this,t);break}case q.IN_HEAD:{gLe(this,t);break}case q.IN_HEAD_NO_SCRIPT:{_Le(this,t);break}case q.AFTER_HEAD:{bLe(this,t);break}case q.IN_BODY:{SI(this,t);break}case q.TEXT:{sMe(this,t);break}case q.IN_TABLE:{Cy(this,t);break}case q.IN_TABLE_TEXT:{N0(this,t);break}case q.IN_CAPTION:{gMe(this,t);break}case q.IN_COLUMN_GROUP:{yMe(this,t);break}case q.IN_TABLE_BODY:{m2(this,t);break}case q.IN_ROW:{bZ(this,t);break}case q.IN_CELL:{vMe(this,t);break}case q.IN_SELECT:{wZ(this,t);break}case q.IN_SELECT_IN_TABLE:{EMe(this,t);break}case q.IN_TEMPLATE:{TMe(this,t);break}case q.AFTER_BODY:{SZ(this,t);break}case q.IN_FRAMESET:{xMe(this,t);break}case q.AFTER_FRAMESET:{AMe(this,t);break}case q.AFTER_AFTER_BODY:{ab(this,t);break}}}onEof(t){switch(this.insertionMode){case q.INITIAL:{R0(this,t);break}case q.BEFORE_HTML:{$g(this,t);break}case q.BEFORE_HEAD:{Lg(this,t);break}case q.IN_HEAD:{Mg(this,t);break}case q.IN_HEAD_NO_SCRIPT:{Fg(this,t);break}case q.AFTER_HEAD:{Bg(this,t);break}case q.IN_BODY:case q.IN_TABLE:case q.IN_CAPTION:case q.IN_COLUMN_GROUP:case q.IN_TABLE_BODY:case q.IN_ROW:case q.IN_CELL:case q.IN_SELECT:case q.IN_SELECT_IN_TABLE:{gZ(this,t);break}case q.TEXT:{oMe(this,t);break}case q.IN_TABLE_TEXT:{N0(this,t);break}case q.IN_TEMPLATE:{TZ(this,t);break}case q.AFTER_BODY:case q.IN_FRAMESET:case q.AFTER_FRAMESET:case q.AFTER_AFTER_BODY:case q.AFTER_AFTER_FRAMESET:{VD(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===D.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case q.IN_HEAD:case q.IN_HEAD_NO_SCRIPT:case q.AFTER_HEAD:case q.TEXT:case q.IN_COLUMN_GROUP:case q.IN_SELECT:case q.IN_SELECT_IN_TABLE:case q.IN_FRAMESET:case q.AFTER_FRAMESET:{this._insertCharacters(t);break}case q.IN_BODY:case q.IN_CAPTION:case q.IN_CELL:case q.IN_TEMPLATE:case q.AFTER_BODY:case q.AFTER_AFTER_BODY:case q.AFTER_AFTER_FRAMESET:{fZ(this,t);break}case q.IN_TABLE:case q.IN_TABLE_BODY:case q.IN_ROW:{gA(this,t);break}case q.IN_TABLE_TEXT:{yZ(this,t);break}}}};function rLe(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):mZ(e,t),n}function iLe(e,t){let n=null,r=e.openElements.stackTop;for(;r>=0;r--){const i=e.openElements.items[r];if(i===t.element)break;e._isSpecialElement(i,e.openElements.tagIDs[r])&&(n=i)}return n||(e.openElements.shortenToLength(r<0?0:r),e.activeFormattingElements.removeEntry(t)),n}function sLe(e,t,n){let r=t,i=e.openElements.getCommonAncestor(t);for(let s=0,o=i;o!==n;s++,o=i){i=e.openElements.getCommonAncestor(o);const a=e.activeFormattingElements.getElementEntry(o),u=a&&s>=tLe;!a||u?(u&&e.activeFormattingElements.removeEntry(a),e.openElements.remove(o)):(o=oLe(e,a),r===t&&(e.activeFormattingElements.bookmark=a),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(o,r),r=o)}return r}function oLe(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function aLe(e,t,n){const r=e.treeAdapter.getTagName(t),i=Um(r);if(e._isElementCausesFosterParenting(i))e._fosterParentElement(n);else{const s=e.treeAdapter.getNamespaceURI(t);i===v.TEMPLATE&&s===Ee.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function uLe(e,t,n){const r=e.treeAdapter.getNamespaceURI(n.element),{token:i}=n,s=e.treeAdapter.createElement(i.tagName,r,i.attrs);e._adoptNodes(t,s),e.treeAdapter.appendChild(t,s),e.activeFormattingElements.insertElementAfterBookmark(s,i),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,s,i.tagID)}function UD(e,t){for(let n=0;n<eLe;n++){const r=rLe(e,t);if(!r)break;const i=iLe(e,r);if(!i)break;e.activeFormattingElements.bookmark=r;const s=sLe(e,i,r.element),o=e.openElements.getCommonAncestor(r.element);e.treeAdapter.detachNode(s),o&&aLe(e,o,s),uLe(e,i,r)}}function p2(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function lLe(e,t){e._appendCommentNode(t,e.openElements.items[0])}function cLe(e,t){e._appendCommentNode(t,e.document)}function VD(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const r=e.openElements.items[0],i=e.treeAdapter.getNodeSourceCodeLocation(r);if(i&&!i.endTag&&(e._setEndLocation(r,t),e.openElements.stackTop>=1)){const s=e.openElements.items[1],o=e.treeAdapter.getNodeSourceCodeLocation(s);o&&!o.endTag&&e._setEndLocation(s,t)}}}}function fLe(e,t){e._setDocumentType(t);const n=t.forceQuirks?Js.QUIRKS:U6e(t);j6e(t)||e._err(t,ve.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=q.BEFORE_HTML}function R0(e,t){e._err(t,ve.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,Js.QUIRKS),e.insertionMode=q.BEFORE_HTML,e._processToken(t)}function dLe(e,t){t.tagID===v.HTML?(e._insertElement(t,Ee.HTML),e.insertionMode=q.BEFORE_HEAD):$g(e,t)}function hLe(e,t){const n=t.tagID;(n===v.HTML||n===v.HEAD||n===v.BODY||n===v.BR)&&$g(e,t)}function $g(e,t){e._insertFakeRootElement(),e.insertionMode=q.BEFORE_HEAD,e._processToken(t)}function pLe(e,t){switch(t.tagID){case v.HTML:{rs(e,t);break}case v.HEAD:{e._insertElement(t,Ee.HTML),e.headElement=e.openElements.current,e.insertionMode=q.IN_HEAD;break}default:Lg(e,t)}}function mLe(e,t){const n=t.tagID;n===v.HEAD||n===v.BODY||n===v.HTML||n===v.BR?Lg(e,t):e._err(t,ve.endTagWithoutMatchingOpenElement)}function Lg(e,t){e._insertFakeElement(ae.HEAD,v.HEAD),e.headElement=e.openElements.current,e.insertionMode=q.IN_HEAD,e._processToken(t)}function Ra(e,t){switch(t.tagID){case v.HTML:{rs(e,t);break}case v.BASE:case v.BASEFONT:case v.BGSOUND:case v.LINK:case v.META:{e._appendElement(t,Ee.HTML),t.ackSelfClosing=!0;break}case v.TITLE:{e._switchToTextParsing(t,Dr.RCDATA);break}case v.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,Dr.RAWTEXT):(e._insertElement(t,Ee.HTML),e.insertionMode=q.IN_HEAD_NO_SCRIPT);break}case v.NOFRAMES:case v.STYLE:{e._switchToTextParsing(t,Dr.RAWTEXT);break}case v.SCRIPT:{e._switchToTextParsing(t,Dr.SCRIPT_DATA);break}case v.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=q.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(q.IN_TEMPLATE);break}case v.HEAD:{e._err(t,ve.misplacedStartTagForHeadElement);break}default:Mg(e,t)}}function gLe(e,t){switch(t.tagID){case v.HEAD:{e.openElements.pop(),e.insertionMode=q.AFTER_HEAD;break}case v.BODY:case v.BR:case v.HTML:{Mg(e,t);break}case v.TEMPLATE:{Zd(e,t);break}default:e._err(t,ve.endTagWithoutMatchingOpenElement)}}function Zd(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==v.TEMPLATE&&e._err(t,ve.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(v.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,ve.endTagWithoutMatchingOpenElement)}function Mg(e,t){e.openElements.pop(),e.insertionMode=q.AFTER_HEAD,e._processToken(t)}function yLe(e,t){switch(t.tagID){case v.HTML:{rs(e,t);break}case v.BASEFONT:case v.BGSOUND:case v.HEAD:case v.LINK:case v.META:case v.NOFRAMES:case v.STYLE:{Ra(e,t);break}case v.NOSCRIPT:{e._err(t,ve.nestedNoscriptInHead);break}default:Fg(e,t)}}function _Le(e,t){switch(t.tagID){case v.NOSCRIPT:{e.openElements.pop(),e.insertionMode=q.IN_HEAD;break}case v.BR:{Fg(e,t);break}default:e._err(t,ve.endTagWithoutMatchingOpenElement)}}function Fg(e,t){const n=t.type===Ht.EOF?ve.openElementsLeftAfterEof:ve.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=q.IN_HEAD,e._processToken(t)}function vLe(e,t){switch(t.tagID){case v.HTML:{rs(e,t);break}case v.BODY:{e._insertElement(t,Ee.HTML),e.framesetOk=!1,e.insertionMode=q.IN_BODY;break}case v.FRAMESET:{e._insertElement(t,Ee.HTML),e.insertionMode=q.IN_FRAMESET;break}case v.BASE:case v.BASEFONT:case v.BGSOUND:case v.LINK:case v.META:case v.NOFRAMES:case v.SCRIPT:case v.STYLE:case v.TEMPLATE:case v.TITLE:{e._err(t,ve.abandonedHeadElementChild),e.openElements.push(e.headElement,v.HEAD),Ra(e,t),e.openElements.remove(e.headElement);break}case v.HEAD:{e._err(t,ve.misplacedStartTagForHeadElement);break}default:Bg(e,t)}}function bLe(e,t){switch(t.tagID){case v.BODY:case v.HTML:case v.BR:{Bg(e,t);break}case v.TEMPLATE:{Zd(e,t);break}default:e._err(t,ve.endTagWithoutMatchingOpenElement)}}function Bg(e,t){e._insertFakeElement(ae.BODY,v.BODY),e.insertionMode=q.IN_BODY,TI(e,t)}function TI(e,t){switch(t.type){case Ht.CHARACTER:{dZ(e,t);break}case Ht.WHITESPACE_CHARACTER:{fZ(e,t);break}case Ht.COMMENT:{p2(e,t);break}case Ht.START_TAG:{rs(e,t);break}case Ht.END_TAG:{SI(e,t);break}case Ht.EOF:{gZ(e,t);break}}}function fZ(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function dZ(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function ELe(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function wLe(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}function TLe(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,Ee.HTML),e.insertionMode=q.IN_FRAMESET)}function SLe(e,t){e.openElements.hasInButtonScope(v.P)&&e._closePElement(),e._insertElement(t,Ee.HTML)}function ILe(e,t){e.openElements.hasInButtonScope(v.P)&&e._closePElement(),eZ(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,Ee.HTML)}function xLe(e,t){e.openElements.hasInButtonScope(v.P)&&e._closePElement(),e._insertElement(t,Ee.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function CLe(e,t){const n=e.openElements.tmplCount>0;(!e.formElement||n)&&(e.openElements.hasInButtonScope(v.P)&&e._closePElement(),e._insertElement(t,Ee.HTML),n||(e.formElement=e.openElements.current))}function ALe(e,t){e.framesetOk=!1;const n=t.tagID;for(let r=e.openElements.stackTop;r>=0;r--){const i=e.openElements.tagIDs[r];if(n===v.LI&&i===v.LI||(n===v.DD||n===v.DT)&&(i===v.DD||i===v.DT)){e.openElements.generateImpliedEndTagsWithExclusion(i),e.openElements.popUntilTagNamePopped(i);break}if(i!==v.ADDRESS&&i!==v.DIV&&i!==v.P&&e._isSpecialElement(e.openElements.items[r],i))break}e.openElements.hasInButtonScope(v.P)&&e._closePElement(),e._insertElement(t,Ee.HTML)}function OLe(e,t){e.openElements.hasInButtonScope(v.P)&&e._closePElement(),e._insertElement(t,Ee.HTML),e.tokenizer.state=Dr.PLAINTEXT}function PLe(e,t){e.openElements.hasInScope(v.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(v.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,Ee.HTML),e.framesetOk=!1}function RLe(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(ae.A);n&&(UD(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,Ee.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function NLe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Ee.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function kLe(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(v.NOBR)&&(UD(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,Ee.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function DLe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Ee.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function $Le(e,t){e.treeAdapter.getDocumentMode(e.document)!==Js.QUIRKS&&e.openElements.hasInButtonScope(v.P)&&e._closePElement(),e._insertElement(t,Ee.HTML),e.framesetOk=!1,e.insertionMode=q.IN_TABLE}function hZ(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,Ee.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function pZ(e){const t=XJ(e,Uc.TYPE);return t!=null&&t.toLowerCase()===Z6e}function LLe(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,Ee.HTML),pZ(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function MLe(e,t){e._appendElement(t,Ee.HTML),t.ackSelfClosing=!0}function FLe(e,t){e.openElements.hasInButtonScope(v.P)&&e._closePElement(),e._appendElement(t,Ee.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function BLe(e,t){t.tagName=ae.IMG,t.tagID=v.IMG,hZ(e,t)}function jLe(e,t){e._insertElement(t,Ee.HTML),e.skipNextNewLine=!0,e.tokenizer.state=Dr.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=q.TEXT}function ULe(e,t){e.openElements.hasInButtonScope(v.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,Dr.RAWTEXT)}function VLe(e,t){e.framesetOk=!1,e._switchToTextParsing(t,Dr.RAWTEXT)}function jB(e,t){e._switchToTextParsing(t,Dr.RAWTEXT)}function zLe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Ee.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===q.IN_TABLE||e.insertionMode===q.IN_CAPTION||e.insertionMode===q.IN_TABLE_BODY||e.insertionMode===q.IN_ROW||e.insertionMode===q.IN_CELL?q.IN_SELECT_IN_TABLE:q.IN_SELECT}function HLe(e,t){e.openElements.currentTagId===v.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,Ee.HTML)}function WLe(e,t){e.openElements.hasInScope(v.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,Ee.HTML)}function qLe(e,t){e.openElements.hasInScope(v.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(v.RTC),e._insertElement(t,Ee.HTML)}function GLe(e,t){e._reconstructActiveFormattingElements(),uZ(t),jD(t),t.selfClosing?e._appendElement(t,Ee.MATHML):e._insertElement(t,Ee.MATHML),t.ackSelfClosing=!0}function YLe(e,t){e._reconstructActiveFormattingElements(),lZ(t),jD(t),t.selfClosing?e._appendElement(t,Ee.SVG):e._insertElement(t,Ee.SVG),t.ackSelfClosing=!0}function UB(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Ee.HTML)}function rs(e,t){switch(t.tagID){case v.I:case v.S:case v.B:case v.U:case v.EM:case v.TT:case v.BIG:case v.CODE:case v.FONT:case v.SMALL:case v.STRIKE:case v.STRONG:{NLe(e,t);break}case v.A:{RLe(e,t);break}case v.H1:case v.H2:case v.H3:case v.H4:case v.H5:case v.H6:{ILe(e,t);break}case v.P:case v.DL:case v.OL:case v.UL:case v.DIV:case v.DIR:case v.NAV:case v.MAIN:case v.MENU:case v.ASIDE:case v.CENTER:case v.FIGURE:case v.FOOTER:case v.HEADER:case v.HGROUP:case v.DIALOG:case v.DETAILS:case v.ADDRESS:case v.ARTICLE:case v.SECTION:case v.SUMMARY:case v.FIELDSET:case v.BLOCKQUOTE:case v.FIGCAPTION:{SLe(e,t);break}case v.LI:case v.DD:case v.DT:{ALe(e,t);break}case v.BR:case v.IMG:case v.WBR:case v.AREA:case v.EMBED:case v.KEYGEN:{hZ(e,t);break}case v.HR:{FLe(e,t);break}case v.RB:case v.RTC:{WLe(e,t);break}case v.RT:case v.RP:{qLe(e,t);break}case v.PRE:case v.LISTING:{xLe(e,t);break}case v.XMP:{ULe(e,t);break}case v.SVG:{YLe(e,t);break}case v.HTML:{ELe(e,t);break}case v.BASE:case v.LINK:case v.META:case v.STYLE:case v.TITLE:case v.SCRIPT:case v.BGSOUND:case v.BASEFONT:case v.TEMPLATE:{Ra(e,t);break}case v.BODY:{wLe(e,t);break}case v.FORM:{CLe(e,t);break}case v.NOBR:{kLe(e,t);break}case v.MATH:{GLe(e,t);break}case v.TABLE:{$Le(e,t);break}case v.INPUT:{LLe(e,t);break}case v.PARAM:case v.TRACK:case v.SOURCE:{MLe(e,t);break}case v.IMAGE:{BLe(e,t);break}case v.BUTTON:{PLe(e,t);break}case v.APPLET:case v.OBJECT:case v.MARQUEE:{DLe(e,t);break}case v.IFRAME:{VLe(e,t);break}case v.SELECT:{zLe(e,t);break}case v.OPTION:case v.OPTGROUP:{HLe(e,t);break}case v.NOEMBED:{jB(e,t);break}case v.FRAMESET:{TLe(e,t);break}case v.TEXTAREA:{jLe(e,t);break}case v.NOSCRIPT:{e.options.scriptingEnabled?jB(e,t):UB(e,t);break}case v.PLAINTEXT:{OLe(e,t);break}case v.COL:case v.TH:case v.TD:case v.TR:case v.HEAD:case v.FRAME:case v.TBODY:case v.TFOOT:case v.THEAD:case v.CAPTION:case v.COLGROUP:break;default:UB(e,t)}}function KLe(e,t){if(e.openElements.hasInScope(v.BODY)&&(e.insertionMode=q.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}function QLe(e,t){e.openElements.hasInScope(v.BODY)&&(e.insertionMode=q.AFTER_BODY,SZ(e,t))}function XLe(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function JLe(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(v.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(v.FORM):n&&e.openElements.remove(n))}function ZLe(e){e.openElements.hasInButtonScope(v.P)||e._insertFakeElement(ae.P,v.P),e._closePElement()}function eMe(e){e.openElements.hasInListItemScope(v.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(v.LI),e.openElements.popUntilTagNamePopped(v.LI))}function tMe(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}function nMe(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function rMe(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function iMe(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(ae.BR,v.BR),e.openElements.pop(),e.framesetOk=!1}function mZ(e,t){const n=t.tagName,r=t.tagID;for(let i=e.openElements.stackTop;i>0;i--){const s=e.openElements.items[i],o=e.openElements.tagIDs[i];if(r===o&&(r!==v.UNKNOWN||e.treeAdapter.getTagName(s)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=i&&e.openElements.shortenToLength(i);break}if(e._isSpecialElement(s,o))break}}function SI(e,t){switch(t.tagID){case v.A:case v.B:case v.I:case v.S:case v.U:case v.EM:case v.TT:case v.BIG:case v.CODE:case v.FONT:case v.NOBR:case v.SMALL:case v.STRIKE:case v.STRONG:{UD(e,t);break}case v.P:{ZLe(e);break}case v.DL:case v.UL:case v.OL:case v.DIR:case v.DIV:case v.NAV:case v.PRE:case v.MAIN:case v.MENU:case v.ASIDE:case v.BUTTON:case v.CENTER:case v.FIGURE:case v.FOOTER:case v.HEADER:case v.HGROUP:case v.DIALOG:case v.ADDRESS:case v.ARTICLE:case v.DETAILS:case v.SECTION:case v.SUMMARY:case v.LISTING:case v.FIELDSET:case v.BLOCKQUOTE:case v.FIGCAPTION:{XLe(e,t);break}case v.LI:{eMe(e);break}case v.DD:case v.DT:{tMe(e,t);break}case v.H1:case v.H2:case v.H3:case v.H4:case v.H5:case v.H6:{nMe(e);break}case v.BR:{iMe(e);break}case v.BODY:{KLe(e,t);break}case v.HTML:{QLe(e,t);break}case v.FORM:{JLe(e);break}case v.APPLET:case v.OBJECT:case v.MARQUEE:{rMe(e,t);break}case v.TEMPLATE:{Zd(e,t);break}default:mZ(e,t)}}function gZ(e,t){e.tmplInsertionModeStack.length>0?TZ(e,t):VD(e,t)}function sMe(e,t){var n;t.tagID===v.SCRIPT&&((n=e.scriptHandler)===null||n===void 0||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function oMe(e,t){e._err(t,ve.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function gA(e,t){if(cZ.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=q.IN_TABLE_TEXT,t.type){case Ht.CHARACTER:{_Z(e,t);break}case Ht.WHITESPACE_CHARACTER:{yZ(e,t);break}}else B_(e,t)}function aMe(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,Ee.HTML),e.insertionMode=q.IN_CAPTION}function uMe(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,Ee.HTML),e.insertionMode=q.IN_COLUMN_GROUP}function lMe(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(ae.COLGROUP,v.COLGROUP),e.insertionMode=q.IN_COLUMN_GROUP,zD(e,t)}function cMe(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,Ee.HTML),e.insertionMode=q.IN_TABLE_BODY}function fMe(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(ae.TBODY,v.TBODY),e.insertionMode=q.IN_TABLE_BODY,II(e,t)}function dMe(e,t){e.openElements.hasInTableScope(v.TABLE)&&(e.openElements.popUntilTagNamePopped(v.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function hMe(e,t){pZ(t)?e._appendElement(t,Ee.HTML):B_(e,t),t.ackSelfClosing=!0}function pMe(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,Ee.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function Zp(e,t){switch(t.tagID){case v.TD:case v.TH:case v.TR:{fMe(e,t);break}case v.STYLE:case v.SCRIPT:case v.TEMPLATE:{Ra(e,t);break}case v.COL:{lMe(e,t);break}case v.FORM:{pMe(e,t);break}case v.TABLE:{dMe(e,t);break}case v.TBODY:case v.TFOOT:case v.THEAD:{cMe(e,t);break}case v.INPUT:{hMe(e,t);break}case v.CAPTION:{aMe(e,t);break}case v.COLGROUP:{uMe(e,t);break}default:B_(e,t)}}function Cy(e,t){switch(t.tagID){case v.TABLE:{e.openElements.hasInTableScope(v.TABLE)&&(e.openElements.popUntilTagNamePopped(v.TABLE),e._resetInsertionMode());break}case v.TEMPLATE:{Zd(e,t);break}case v.BODY:case v.CAPTION:case v.COL:case v.COLGROUP:case v.HTML:case v.TBODY:case v.TD:case v.TFOOT:case v.TH:case v.THEAD:case v.TR:break;default:B_(e,t)}}function B_(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,TI(e,t),e.fosterParentingEnabled=n}function yZ(e,t){e.pendingCharacterTokens.push(t)}function _Z(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function N0(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)B_(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const vZ=new Set([v.CAPTION,v.COL,v.COLGROUP,v.TBODY,v.TD,v.TFOOT,v.TH,v.THEAD,v.TR]);function mMe(e,t){const n=t.tagID;vZ.has(n)?e.openElements.hasInTableScope(v.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(v.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=q.IN_TABLE,Zp(e,t)):rs(e,t)}function gMe(e,t){const n=t.tagID;switch(n){case v.CAPTION:case v.TABLE:{e.openElements.hasInTableScope(v.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(v.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=q.IN_TABLE,n===v.TABLE&&Cy(e,t));break}case v.BODY:case v.COL:case v.COLGROUP:case v.HTML:case v.TBODY:case v.TD:case v.TFOOT:case v.TH:case v.THEAD:case v.TR:break;default:SI(e,t)}}function zD(e,t){switch(t.tagID){case v.HTML:{rs(e,t);break}case v.COL:{e._appendElement(t,Ee.HTML),t.ackSelfClosing=!0;break}case v.TEMPLATE:{Ra(e,t);break}default:qw(e,t)}}function yMe(e,t){switch(t.tagID){case v.COLGROUP:{e.openElements.currentTagId===v.COLGROUP&&(e.openElements.pop(),e.insertionMode=q.IN_TABLE);break}case v.TEMPLATE:{Zd(e,t);break}case v.COL:break;default:qw(e,t)}}function qw(e,t){e.openElements.currentTagId===v.COLGROUP&&(e.openElements.pop(),e.insertionMode=q.IN_TABLE,e._processToken(t))}function II(e,t){switch(t.tagID){case v.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,Ee.HTML),e.insertionMode=q.IN_ROW;break}case v.TH:case v.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(ae.TR,v.TR),e.insertionMode=q.IN_ROW,xI(e,t);break}case v.CAPTION:case v.COL:case v.COLGROUP:case v.TBODY:case v.TFOOT:case v.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=q.IN_TABLE,Zp(e,t));break}default:Zp(e,t)}}function m2(e,t){const n=t.tagID;switch(t.tagID){case v.TBODY:case v.TFOOT:case v.THEAD:{e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=q.IN_TABLE);break}case v.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=q.IN_TABLE,Cy(e,t));break}case v.BODY:case v.CAPTION:case v.COL:case v.COLGROUP:case v.HTML:case v.TD:case v.TH:case v.TR:break;default:Cy(e,t)}}function xI(e,t){switch(t.tagID){case v.TH:case v.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,Ee.HTML),e.insertionMode=q.IN_CELL,e.activeFormattingElements.insertMarker();break}case v.CAPTION:case v.COL:case v.COLGROUP:case v.TBODY:case v.TFOOT:case v.THEAD:case v.TR:{e.openElements.hasInTableScope(v.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=q.IN_TABLE_BODY,II(e,t));break}default:Zp(e,t)}}function bZ(e,t){switch(t.tagID){case v.TR:{e.openElements.hasInTableScope(v.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=q.IN_TABLE_BODY);break}case v.TABLE:{e.openElements.hasInTableScope(v.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=q.IN_TABLE_BODY,m2(e,t));break}case v.TBODY:case v.TFOOT:case v.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(v.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=q.IN_TABLE_BODY,m2(e,t));break}case v.BODY:case v.CAPTION:case v.COL:case v.COLGROUP:case v.HTML:case v.TD:case v.TH:break;default:Cy(e,t)}}function _Me(e,t){const n=t.tagID;vZ.has(n)?(e.openElements.hasInTableScope(v.TD)||e.openElements.hasInTableScope(v.TH))&&(e._closeTableCell(),xI(e,t)):rs(e,t)}function vMe(e,t){const n=t.tagID;switch(n){case v.TD:case v.TH:{e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=q.IN_ROW);break}case v.TABLE:case v.TBODY:case v.TFOOT:case v.THEAD:case v.TR:{e.openElements.hasInTableScope(n)&&(e._closeTableCell(),bZ(e,t));break}case v.BODY:case v.CAPTION:case v.COL:case v.COLGROUP:case v.HTML:break;default:SI(e,t)}}function EZ(e,t){switch(t.tagID){case v.HTML:{rs(e,t);break}case v.OPTION:{e.openElements.currentTagId===v.OPTION&&e.openElements.pop(),e._insertElement(t,Ee.HTML);break}case v.OPTGROUP:{e.openElements.currentTagId===v.OPTION&&e.openElements.pop(),e.openElements.currentTagId===v.OPTGROUP&&e.openElements.pop(),e._insertElement(t,Ee.HTML);break}case v.INPUT:case v.KEYGEN:case v.TEXTAREA:case v.SELECT:{e.openElements.hasInSelectScope(v.SELECT)&&(e.openElements.popUntilTagNamePopped(v.SELECT),e._resetInsertionMode(),t.tagID!==v.SELECT&&e._processStartTag(t));break}case v.SCRIPT:case v.TEMPLATE:{Ra(e,t);break}}}function wZ(e,t){switch(t.tagID){case v.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===v.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===v.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===v.OPTGROUP&&e.openElements.pop();break}case v.OPTION:{e.openElements.currentTagId===v.OPTION&&e.openElements.pop();break}case v.SELECT:{e.openElements.hasInSelectScope(v.SELECT)&&(e.openElements.popUntilTagNamePopped(v.SELECT),e._resetInsertionMode());break}case v.TEMPLATE:{Zd(e,t);break}}}function bMe(e,t){const n=t.tagID;n===v.CAPTION||n===v.TABLE||n===v.TBODY||n===v.TFOOT||n===v.THEAD||n===v.TR||n===v.TD||n===v.TH?(e.openElements.popUntilTagNamePopped(v.SELECT),e._resetInsertionMode(),e._processStartTag(t)):EZ(e,t)}function EMe(e,t){const n=t.tagID;n===v.CAPTION||n===v.TABLE||n===v.TBODY||n===v.TFOOT||n===v.THEAD||n===v.TR||n===v.TD||n===v.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(v.SELECT),e._resetInsertionMode(),e.onEndTag(t)):wZ(e,t)}function wMe(e,t){switch(t.tagID){case v.BASE:case v.BASEFONT:case v.BGSOUND:case v.LINK:case v.META:case v.NOFRAMES:case v.SCRIPT:case v.STYLE:case v.TEMPLATE:case v.TITLE:{Ra(e,t);break}case v.CAPTION:case v.COLGROUP:case v.TBODY:case v.TFOOT:case v.THEAD:{e.tmplInsertionModeStack[0]=q.IN_TABLE,e.insertionMode=q.IN_TABLE,Zp(e,t);break}case v.COL:{e.tmplInsertionModeStack[0]=q.IN_COLUMN_GROUP,e.insertionMode=q.IN_COLUMN_GROUP,zD(e,t);break}case v.TR:{e.tmplInsertionModeStack[0]=q.IN_TABLE_BODY,e.insertionMode=q.IN_TABLE_BODY,II(e,t);break}case v.TD:case v.TH:{e.tmplInsertionModeStack[0]=q.IN_ROW,e.insertionMode=q.IN_ROW,xI(e,t);break}default:e.tmplInsertionModeStack[0]=q.IN_BODY,e.insertionMode=q.IN_BODY,rs(e,t)}}function TMe(e,t){t.tagID===v.TEMPLATE&&Zd(e,t)}function TZ(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(v.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):VD(e,t)}function SMe(e,t){t.tagID===v.HTML?rs(e,t):Gw(e,t)}function SZ(e,t){var n;if(t.tagID===v.HTML){if(e.fragmentContext||(e.insertionMode=q.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===v.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(!((n=e.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&e._setEndLocation(r,t)}}else Gw(e,t)}function Gw(e,t){e.insertionMode=q.IN_BODY,TI(e,t)}function IMe(e,t){switch(t.tagID){case v.HTML:{rs(e,t);break}case v.FRAMESET:{e._insertElement(t,Ee.HTML);break}case v.FRAME:{e._appendElement(t,Ee.HTML),t.ackSelfClosing=!0;break}case v.NOFRAMES:{Ra(e,t);break}}}function xMe(e,t){t.tagID===v.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==v.FRAMESET&&(e.insertionMode=q.AFTER_FRAMESET))}function CMe(e,t){switch(t.tagID){case v.HTML:{rs(e,t);break}case v.NOFRAMES:{Ra(e,t);break}}}function AMe(e,t){t.tagID===v.HTML&&(e.insertionMode=q.AFTER_AFTER_FRAMESET)}function OMe(e,t){t.tagID===v.HTML?rs(e,t):ab(e,t)}function ab(e,t){e.insertionMode=q.IN_BODY,TI(e,t)}function PMe(e,t){switch(t.tagID){case v.HTML:{rs(e,t);break}case v.NOFRAMES:{Ra(e,t);break}}}function RMe(e,t){t.chars=sr,e._insertCharacters(t)}function NMe(e,t){e._insertCharacters(t),e.framesetOk=!1}function IZ(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==Ee.HTML&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function kMe(e,t){if(Y6e(t))IZ(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===Ee.MATHML?uZ(t):r===Ee.SVG&&(K6e(t),lZ(t)),jD(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}function DMe(e,t){if(t.tagID===v.P||t.tagID===v.BR){IZ(e),e._endTagOutsideForeignContent(t);return}for(let n=e.openElements.stackTop;n>0;n--){const r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===Ee.HTML){e._endTagOutsideForeignContent(t);break}const i=e.treeAdapter.getTagName(r);if(i.toLowerCase()===t.tagName){t.tagName=i,e.openElements.shortenToLength(n);break}}}ae.AREA,ae.BASE,ae.BASEFONT,ae.BGSOUND,ae.BR,ae.COL,ae.EMBED,ae.FRAME,ae.HR,ae.IMG,ae.INPUT,ae.KEYGEN,ae.LINK,ae.META,ae.PARAM,ae.SOURCE,ae.TRACK,ae.WBR;const xZ=CZ("end"),eh=CZ("start");function CZ(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}const AZ=function(e){if(e==null)return FMe;if(typeof e=="function")return CI(e);if(typeof e=="object")return Array.isArray(e)?$Me(e):LMe(e);if(typeof e=="string")return MMe(e);throw new Error("Expected function, string, or object as test")};function $Me(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=AZ(e[n]);return CI(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function LMe(e){const t=e;return CI(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function MMe(e){return CI(t);function t(n){return n&&n.type===e}}function CI(e){return t;function t(n,r,i){return!!(BMe(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function FMe(){return!0}function BMe(e){return e!==null&&typeof e=="object"&&"type"in e}const OZ=[],jMe=!0,VB=!1,UMe="skip";function VMe(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=AZ(i),o=r?-1:1;a(e,void 0,[])();function a(u,l,c){const f=u&&typeof u=="object"?u:{};if(typeof f.type=="string"){const h=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(d,"name",{value:"node ("+(u.type+(h?"<"+h+">":""))+")"})}return d;function d(){let h=OZ,p,m,y;if((!t||s(u,l,c[c.length-1]||void 0))&&(h=zMe(n(u,c)),h[0]===VB))return h;if("children"in u&&u.children){const g=u;if(g.children&&h[0]!==UMe)for(m=(r?g.children.length:-1)+o,y=c.concat(g);m>-1&&m<g.children.length;){const _=g.children[m];if(p=a(_,m,y)(),p[0]===VB)return p;m=typeof p[1]=="number"?p[1]:m+o}}return h}}}function zMe(e){return Array.isArray(e)?e:typeof e=="number"?[jMe,e]:e==null?OZ:[e]}function HMe(e,t,n,r){let i,s,o;typeof t=="function"&&typeof n!="function"?(s=void 0,o=t,i=n):(s=t,o=n,i=r),VMe(e,s,a,i);function a(u,l){const c=l[l.length-1],f=c?c.children.indexOf(u):void 0;return o(u,f,c)}}const WMe=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),zB={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function PZ(e,t){const n=t4e(e),r=qJ("type",{handlers:{root:qMe,element:GMe,text:YMe,comment:NZ,doctype:KMe,raw:XMe},unknown:JMe}),i={parser:n?new BB(zB):BB.getFragmentParser(void 0,zB),handle(a){r(a,i)},stitches:!1,options:t||{}};r(e,i),Vm(i,eh());const s=n?i.parser.document:i.parser.getFragment(),o=G3e(s,{file:i.options.file});return i.stitches&&HMe(o,"comment",function(a,u,l){const c=a;if(c.value.stitch&&l&&u!==void 0){const f=l.children;return f[u]=c.value.stitch,u}}),o.type==="root"&&o.children.length===1&&o.children[0].type===e.type?o.children[0]:o}function RZ(e,t){let n=-1;if(e)for(;++n<e.length;)t.handle(e[n])}function qMe(e,t){RZ(e.children,t)}function GMe(e,t){ZMe(e,t),RZ(e.children,t),e4e(e,t)}function YMe(e,t){const n={type:Ht.CHARACTER,chars:e.value,location:j_(e)};Vm(t,eh(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function KMe(e,t){const n={type:Ht.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:j_(e)};Vm(t,eh(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function QMe(e,t){t.stitches=!0;const n=n4e(e);if("children"in e&&"children"in n){const r=PZ({type:"root",children:e.children},t.options);n.children=r.children}NZ({type:"comment",value:{stitch:n}},t)}function NZ(e,t){const n=e.value,r={type:Ht.COMMENT,data:n,location:j_(e)};Vm(t,eh(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function XMe(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,kZ(t,eh(e)),t.parser.tokenizer.write(e.value,!1),t.parser.tokenizer._runParsingLoop(),t.parser.tokenizer.state===72||t.parser.tokenizer.state===78){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;const n=t.parser.tokenizer._consume();t.parser.tokenizer._callState(n)}}function JMe(e,t){const n=e;if(t.options.passThrough&&t.options.passThrough.includes(n.type))QMe(n,t);else{let r="";throw WMe.has(n.type)&&(r=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+r)}}function Vm(e,t){kZ(e,t);const n=e.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=e.parser.tokenizer.preprocessor.line,n.location.endCol=e.parser.tokenizer.preprocessor.col+1,n.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=Dr.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}function kZ(e,t){if(t&&t.offset!==void 0){const n={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=-t.column+1,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=n}}function ZMe(e,t){if(t.parser.tokenizer.state===Dr.PLAINTEXT)return;Vm(t,eh(e));const n=t.parser.openElements.current;let r="namespaceURI"in n?n.namespaceURI:Zf.html;r===Zf.html&&e.tagName==="svg"&&(r=Zf.svg);const i=J3e({...e,children:[]},{space:r===Zf.svg?"svg":"html"}),s="attrs"in i?i.attrs:[],o={type:Ht.START_TAG,tagName:e.tagName,tagID:Um(e.tagName),selfClosing:!1,ackSelfClosing:!1,attrs:s,location:j_(e)};t.parser.currentToken=o,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=e.tagName}function e4e(e,t){if(!t.parser.tokenizer.inForeignNode&&o6e.includes(e.tagName)||t.parser.tokenizer.state===Dr.PLAINTEXT)return;Vm(t,xZ(e));const n={type:Ht.END_TAG,tagName:e.tagName,tagID:Um(e.tagName),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:j_(e)};t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken),n.tagName===t.parser.tokenizer.lastStartTagName&&(t.parser.tokenizer.state===Dr.RCDATA||t.parser.tokenizer.state===Dr.RAWTEXT||t.parser.tokenizer.state===Dr.SCRIPT_DATA)&&(t.parser.tokenizer.state=Dr.DATA)}function t4e(e){const t=e.type==="root"?e.children[0]:e;return!!(t&&(t.type==="doctype"||t.type==="element"&&t.tagName==="html"))}function j_(e){const t=eh(e)||{line:void 0,column:void 0,offset:void 0},n=xZ(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function n4e(e){return"children"in e?CB({...e,children:[]}):CB(e)}function r4e(e){return function(t,n){return PZ(t,{...e,file:n})}}function em({text:e}){const t={img:({node:n,...r})=>$.jsx(x_,{...r}),p:({node:n,...r})=>$.jsx(Ct,{...r,pb:8}),h1:({node:n,...r})=>$.jsx(lc,{order:1,...r,pb:12}),h2:({node:n,...r})=>$.jsx(lc,{order:2,...r,pb:12}),h3:({node:n,...r})=>$.jsx(lc,{order:3,...r,pb:12}),h4:({node:n,...r})=>$.jsx(lc,{order:4,...r,pb:12}),h5:({node:n,...r})=>$.jsx(lc,{order:5,...r,pb:12}),h6:({node:n,...r})=>$.jsx(lc,{order:6,...r,pb:12}),a:({node:n,...r})=>$.jsx(mq,{...r}),ul:({node:n,...r})=>$.jsx(Gp,{withPadding:!0,...r,pb:8}),ol:({node:n,...r})=>$.jsx(Gp,{type:"ordered",withPadding:!0,...r,pb:8})};return $.jsx($.Fragment,{children:$.jsx(BJ,{components:t,rehypePlugins:[r4e],children:e})})}function i4e(){var u,l;const e=(u=Jp())==null?void 0:u.uiConfig.sidebar,t=Jp(),n=Pa(),r=t.components[n],i=r?aI(r)&&t.baseComponents?SD({},(l=t.baseComponents)==null?void 0:l[r.baseComponent],r):r:null,s=TD(),o=(i==null?void 0:i.instruction)||"",a=(i==null?void 0:i.instructionLocation)==="sidebar"||(i==null?void 0:i.instructionLocation)===void 0;return e&&i?$.jsxs(Tg,{bg:"gray.1",display:"block",width:{base:300},style:{zIndex:0,overflowY:"scroll"},children:[a&&o!==""&&$.jsx(Tg.Section,{bg:"gray.3",p:"xl",children:$.jsxs(Ct,{c:"gray.9",children:[$.jsx(Ct,{span:!0,c:"orange.8",fw:700,inherit:!0,children:"Task:"}),$.jsx(em,{text:o})]})}),$.jsx(Tg.Section,{p:"xl",children:$.jsx(Yw,{status:s,config:i,location:"sidebar"},`${n}-sidebar-response-block`)})]}):$.jsx(Yw,{status:s,config:i,location:"sidebar",style:{display:"hidden"}},`${n}-sidebar-response-block`)}function s4e(){const{showHelpText:e,config:t}=ku(o=>o),n=Hl(),{toggleShowHelpText:r}=zl(),[i,s]=w.useState("");return w.useEffect(()=>{t&&t.uiConfig.helpTextPath&&fetch(`${Lu}${t.uiConfig.helpTextPath}`).then(o=>o.text()).then(o=>s(o))},[t]),$.jsx(zS,{size:"70%",opened:e,withCloseButton:!1,onClose:()=>n(r()),children:$.jsx(em,{text:i})})}function o4e(){const{alertModal:e}=ku(o=>o),{setAlertModal:t}=zl(),n=Hl(),[r,i]=w.useState(e.show),s=w.useCallback(()=>n(t({...e,show:!1})),[e,t,n]);return w.useEffect(()=>i(e.show),[e.show]),$.jsx(zS,{opened:r,centered:!0,size:"lg",withCloseButton:!1,styles:{modal:{padding:"0 !important"}},onClose:s,children:$.jsxs(uq,{color:"red",radius:"xs",p:"lg",title:"Alert",icon:$.jsx(gNe,{}),onClose:s,styles:{root:{backgroundColor:"unset"}},children:[$.jsx(Ct,{my:"md",children:e.message}),$.jsx(lt,{style:{float:"right"},color:"red",children:$.jsx(cl,{onClick:s,color:"red",variant:"filled",children:"Continue Study"})})]})})}var a4e="Expected a function",HB=NaN,u4e="[object Symbol]",l4e=/^\s+|\s+$/g,c4e=/^[-+]0x[0-9a-f]+$/i,f4e=/^0b[01]+$/i,d4e=/^0o[0-7]+$/i,h4e=parseInt,p4e=typeof no=="object"&&no&&no.Object===Object&&no,m4e=typeof self=="object"&&self&&self.Object===Object&&self,g4e=p4e||m4e||Function("return this")(),y4e=Object.prototype,_4e=y4e.toString,v4e=Math.max,b4e=Math.min,yA=function(){return g4e.Date.now()};function E4e(e,t,n){var r,i,s,o,a,u,l=0,c=!1,f=!1,d=!0;if(typeof e!="function")throw new TypeError(a4e);t=WB(t)||0,g2(n)&&(c=!!n.leading,f="maxWait"in n,s=f?v4e(WB(n.maxWait)||0,t):s,d="trailing"in n?!!n.trailing:d);function h(E){var S=r,A=i;return r=i=void 0,l=E,o=e.apply(A,S),o}function p(E){return l=E,a=setTimeout(g,t),c?h(E):o}function m(E){var S=E-u,A=E-l,L=t-S;return f?b4e(L,s-A):L}function y(E){var S=E-u,A=E-l;return u===void 0||S>=t||S<0||f&&A>=s}function g(){var E=yA();if(y(E))return _(E);a=setTimeout(g,m(E))}function _(E){return a=void 0,d&&r?h(E):(r=i=void 0,o)}function b(){a!==void 0&&clearTimeout(a),l=0,r=u=i=a=void 0}function T(){return a===void 0?o:_(yA())}function I(){var E=yA(),S=y(E);if(r=arguments,i=this,u=E,S){if(a===void 0)return p(u);if(f)return a=setTimeout(g,t),h(u)}return a===void 0&&(a=setTimeout(g,t)),o}return I.cancel=b,I.flush=T,I}function g2(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function w4e(e){return!!e&&typeof e=="object"}function T4e(e){return typeof e=="symbol"||w4e(e)&&_4e.call(e)==u4e}function WB(e){if(typeof e=="number")return e;if(T4e(e))return HB;if(g2(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=g2(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(l4e,"");var n=f4e.test(e);return n||d4e.test(e)?h4e(e.slice(2),n?2:8):c4e.test(e)?HB:+e}var S4e=E4e;const $a=Oa(S4e),DZ=w.createContext(null);function I4e(){const e=w.useContext(DZ);if(!e)throw new Error("useWindowEvents must be used within a WindowEventsProvider");return e}function x4e(){const e=w.useRef([]),n=Jp().uiConfig.windowEventDebounceTime??100;return w.useEffect(()=>{const r=$a(d=>{e.current.push([Date.now(),"focus",d.target instanceof HTMLElement?d.target.tagName:""])},n,{maxWait:n}),i=$a(d=>{e.current.push([Date.now(),"input",d.data??""])},n,{maxWait:n}),s=$a(d=>{e.current.push([Date.now(),"keypress",d.key])},n,{maxWait:n}),o=$a(d=>{e.current.push([Date.now(),"mousedown",[d.clientX,d.clientY]])},n,{maxWait:n}),a=$a(d=>{e.current.push([Date.now(),"mouseup",[d.clientX,d.clientY]])},n,{maxWait:n}),u=$a(()=>{e.current.push([Date.now(),"resize",[window.innerWidth,window.innerHeight]])},n,{maxWait:n}),l=$a(d=>{e.current.push([Date.now(),"mousemove",[d.clientX,d.clientY]])},n,{maxWait:n}),c=$a(()=>{e.current.push([Date.now(),"scroll",[window.scrollX,window.scrollY]])},n,{maxWait:n}),f=$a(()=>{e.current.push([Date.now(),"visibility",document.visibilityState])},n,{maxWait:n});return window.addEventListener("focus",r,!0),window.addEventListener("input",i),window.addEventListener("keypress",s),window.addEventListener("mousedown",o),window.addEventListener("mouseup",a),window.addEventListener("resize",u),window.addEventListener("mousemove",l),window.addEventListener("scroll",c),document.addEventListener("visibilitychange",f),()=>{window.removeEventListener("focus",r,!0),window.removeEventListener("input",i),window.removeEventListener("keypress",s),window.addEventListener("mousedown",o),window.addEventListener("mouseup",a),window.removeEventListener("resize",u),window.removeEventListener("mousemove",l),window.removeEventListener("scroll",c),document.removeEventListener("visibilitychange",f)}},[]),$.jsx(DZ.Provider,{value:e,children:$.jsxs(Pq,{navbar:$.jsx(i4e,{}),aside:$.jsx(ANe,{}),header:$.jsx(ONe,{}),children:[$.jsx(s4e,{}),$.jsx(o4e,{}),$.jsx(Sfe,{})]})})}function C4e(){const e=Pa(),{sequence:t,trialValidation:n}=ku(g=>g),r=TD(),i=Hl(),{saveTrialAnswer:s,setIframeAnswers:o}=zl(),{storageEngine:a}=_f(),l=!iNe(e),c=r==null?void 0:r.answer,f=Yd(),d=w.useMemo(()=>{const g=t.indexOf(e);return t[g+1]||"end"},[e,t]),h=`/${GX()}/${d}`,p=w.useMemo(()=>Date.now(),[]),m=I4e(),y=w.useCallback(()=>{const g=wD(n[e]),_=Object.values(g).reduce((E,S)=>Object.hasOwn(S,"values")?{...E,...S.values}:E,{}),b=g.provenanceGraph,T=Date.now(),I=m&&"current"in m&&m.current?m.current.splice(0,m.current.length):[];Object.keys(c||{}).length===0&&(i(s({currentStep:e,answer:_,startTime:p,endTime:T,provenanceGraph:b,windowEvents:I})),a&&a.saveAnswer(e,{answer:_,startTime:p,endTime:T,provenanceGraph:b,windowEvents:I}),i(o([]))),f(`${h}${window.location.search}`)},[o,a,i,c,n,f,p,e,s,h,m]);return{nextStep:d,isNextDisabled:l,goToNextStep:y}}function A4e({label:e="Next",disabled:t=!1,setCheckClicked:n=()=>{},onClick:r}){const{isNextDisabled:i,goToNextStep:s}=C4e(),o=w.useCallback(()=>{n(!1),r&&r(),s()},[s,r,n]);return $.jsx(cl,{type:"submit",disabled:t||i,onClick:o,children:e})}function y2(e){return e===null||typeof e!="object"?{}:Object.keys(e).reduce((t,n)=>{const r=e[n];return r!=null&&r!==!1&&(t[n]=r),t},{})}var O4e=Object.defineProperty,qB=Object.getOwnPropertySymbols,P4e=Object.prototype.hasOwnProperty,R4e=Object.prototype.propertyIsEnumerable,GB=(e,t,n)=>t in e?O4e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,N4e=(e,t)=>{for(var n in t||(t={}))P4e.call(t,n)&&GB(e,n,t[n]);if(qB)for(var n of qB(t))R4e.call(t,n)&&GB(e,n,t[n]);return e};function $Z(e,t){if(t===null||typeof t!="object")return{};const n=N4e({},t);return Object.keys(t).forEach(r=>{r.includes(`${String(e)}.`)&&delete n[r]}),n}const k4e="__MANTINE_FORM_INDEX__";function YB(e,t){return t?typeof t=="boolean"?t:Array.isArray(t)?t.includes(e.replace(/[.][0-9]/g,`.${k4e}`)):!1:!1}function KB(e,t,n){typeof n.value=="object"&&(n.value=Qh(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function Qh(e){if(typeof e!="object")return e;var t=0,n,r,i,s=Object.prototype.toString.call(e);if(s==="[object Object]"?i=Object.create(e.__proto__||null):s==="[object Array]"?i=Array(e.length):s==="[object Set]"?(i=new Set,e.forEach(function(o){i.add(Qh(o))})):s==="[object Map]"?(i=new Map,e.forEach(function(o,a){i.set(Qh(a),Qh(o))})):s==="[object Date]"?i=new Date(+e):s==="[object RegExp]"?i=new RegExp(e.source,e.flags):s==="[object DataView]"?i=new e.constructor(Qh(e.buffer)):s==="[object ArrayBuffer]"?i=e.slice(0):s.slice(-6)==="Array]"&&(i=new e.constructor(e)),i){for(r=Object.getOwnPropertySymbols(e);t<r.length;t++)KB(i,r[t],Object.getOwnPropertyDescriptor(e,r[t]));for(t=0,r=Object.getOwnPropertyNames(e);t<r.length;t++)Object.hasOwnProperty.call(i,n=r[t])&&i[n]===e[n]||KB(i,n,Object.getOwnPropertyDescriptor(e,n))}return i||e}function LZ(e){return typeof e!="string"?[]:e.split(".")}function AI(e,t,n){const r=LZ(e);if(r.length===0)return n;const i=Qh(n);if(r.length===1)return i[r[0]]=t,i;let s=i[r[0]];for(let o=1;o<r.length-1;o+=1){if(s===void 0)return i;s=s[r[o]]}return s[r[r.length-1]]=t,i}function Wu(e,t){const n=LZ(e);if(n.length===0||typeof t!="object"||t===null)return;let r=t[n[0]];for(let i=1;i<n.length&&r!==void 0;i+=1)r=r[n[i]];return r}function QB(e){const t=y2(e);return{hasErrors:Object.keys(t).length>0,errors:t}}function _2(e,t,n="",r={}){return typeof e!="object"||e===null?r:Object.keys(e).reduce((i,s)=>{const o=e[s],a=`${n===""?"":`${n}.`}${s}`,u=Wu(a,t);let l=!1;return typeof o=="function"&&(i[a]=o(u,t,a)),typeof o=="object"&&Array.isArray(u)&&(l=!0,u.forEach((c,f)=>_2(o,t,`${a}.${f}`,i))),typeof o=="object"&&typeof u=="object"&&u!==null&&(l||_2(o,t,a,i)),i},r)}function v2(e,t){return QB(typeof e=="function"?e(t):_2(e,t))}function a1(e,t,n){if(typeof e!="string")return{hasError:!1,error:null};const r=v2(t,n),i=Object.keys(r.errors).find(s=>e.split(".").every((o,a)=>o===s.split(".")[a]));return{hasError:!!i,error:i?r.errors[i]:null}}function D4e(e,{from:t,to:n},r){const i=Wu(e,r);if(!Array.isArray(i))return r;const s=[...i],o=i[t];return s.splice(t,1),s.splice(n,0,o),AI(e,s,r)}var $4e=Object.defineProperty,XB=Object.getOwnPropertySymbols,L4e=Object.prototype.hasOwnProperty,M4e=Object.prototype.propertyIsEnumerable,JB=(e,t,n)=>t in e?$4e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,F4e=(e,t)=>{for(var n in t||(t={}))L4e.call(t,n)&&JB(e,n,t[n]);if(XB)for(var n of XB(t))M4e.call(t,n)&&JB(e,n,t[n]);return e};function B4e(e,{from:t,to:n},r){const i=`${e}.${t}`,s=`${e}.${n}`,o=F4e({},r);return Object.keys(r).every(a=>{let u,l;if(a.startsWith(i)&&(u=a,l=a.replace(i,s)),a.startsWith(s)&&(u=a.replace(s,i),l=a),u&&l){const c=o[u],f=o[l];return f===void 0?delete o[u]:o[u]=f,c===void 0?delete o[l]:o[l]=c,!1}return!0}),o}function j4e(e,t,n){const r=Wu(e,n);return Array.isArray(r)?AI(e,r.filter((i,s)=>s!==t),n):n}var U4e=Object.defineProperty,ZB=Object.getOwnPropertySymbols,V4e=Object.prototype.hasOwnProperty,z4e=Object.prototype.propertyIsEnumerable,ej=(e,t,n)=>t in e?U4e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,H4e=(e,t)=>{for(var n in t||(t={}))V4e.call(t,n)&&ej(e,n,t[n]);if(ZB)for(var n of ZB(t))z4e.call(t,n)&&ej(e,n,t[n]);return e};function tj(e,t){const n=e.substring(t.length+1).split(".")[0];return parseInt(n,10)}function nj(e,t,n,r){if(t===void 0)return n;const i=`${String(e)}`;let s=n;r===-1&&(s=$Z(`${i}.${t}`,s));const o=H4e({},s),a=new Set;return Object.entries(s).filter(([u])=>{if(!u.startsWith(`${i}.`))return!1;const l=tj(u,i);return Number.isNaN(l)?!1:l>=t}).forEach(([u,l])=>{const c=tj(u,i),f=u.replace(`${i}.${c}`,`${i}.${c+r}`);o[f]=l,a.add(f),a.has(u)||delete o[u]}),o}function W4e(e,t,n,r){const i=Wu(e,r);if(!Array.isArray(i))return r;const s=[...i];return s.splice(typeof n=="number"?n:s.length,0,t),AI(e,s,r)}function rj(e,t){const n=Object.keys(e);if(typeof t=="string"){const r=n.filter(i=>i.startsWith(`${t}.`));return e[t]||r.some(i=>e[i])||!1}return n.some(r=>e[r])}function q4e(e){return t=>{if(!t)e(t);else if(typeof t=="function")e(t);else if(typeof t=="object"&&"nativeEvent"in t){const{currentTarget:n}=t;n instanceof HTMLInputElement?n.type==="checkbox"?e(n.checked):e(n.value):(n instanceof HTMLTextAreaElement||n instanceof HTMLSelectElement)&&e(n.value)}else e(t)}}var G4e=Object.defineProperty,Y4e=Object.defineProperties,K4e=Object.getOwnPropertyDescriptors,ij=Object.getOwnPropertySymbols,Q4e=Object.prototype.hasOwnProperty,X4e=Object.prototype.propertyIsEnumerable,sj=(e,t,n)=>t in e?G4e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ec=(e,t)=>{for(var n in t||(t={}))Q4e.call(t,n)&&sj(e,n,t[n]);if(ij)for(var n of ij(t))X4e.call(t,n)&&sj(e,n,t[n]);return e},_A=(e,t)=>Y4e(e,K4e(t));function J4e({initialValues:e={},initialErrors:t={},initialDirty:n={},initialTouched:r={},clearInputErrorOnChange:i=!0,validateInputOnChange:s=!1,validateInputOnBlur:o=!1,transformValues:a=l=>l,validate:u}={}){const[l,c]=w.useState(r),[f,d]=w.useState(n),[h,p]=w.useState(e),[m,y]=w.useState(y2(t)),g=w.useRef(e),_=O=>{g.current=O},b=w.useCallback(()=>c({}),[]),T=O=>{const G=O?ec(ec({},h),O):h;_(G),d({})},I=w.useCallback(O=>y(G=>y2(typeof O=="function"?O(G):O)),[]),E=w.useCallback(()=>y({}),[]),S=w.useCallback(()=>{p(e),E(),_(e),d({}),b()},[]),A=w.useCallback((O,G)=>I(fe=>_A(ec({},fe),{[O]:G})),[]),L=w.useCallback(O=>I(G=>{if(typeof O!="string")return G;const fe=ec({},G);return delete fe[O],fe}),[]),W=w.useCallback(O=>d(G=>{if(typeof O!="string")return G;const fe=$Z(O,G);return delete fe[O],fe}),[]),z=w.useCallback((O,G)=>{const fe=YB(O,s);W(O),c(le=>_A(ec({},le),{[O]:!0})),p(le=>{const me=AI(O,G,le);if(fe){const ge=a1(O,u,me);ge.hasError?A(O,ge.error):L(O)}return me}),!fe&&i&&A(O,null)},[]),U=w.useCallback(O=>{p(G=>{const fe=typeof O=="function"?O(G):O;return ec(ec({},G),fe)}),i&&E()},[]),Z=w.useCallback((O,G)=>{W(O),p(fe=>D4e(O,G,fe)),y(fe=>B4e(O,G,fe))},[]),H=w.useCallback((O,G)=>{W(O),p(fe=>j4e(O,G,fe)),y(fe=>nj(O,G,fe,-1))},[]),ue=w.useCallback((O,G,fe)=>{W(O),p(le=>W4e(O,G,fe,le)),y(le=>nj(O,fe,le,1))},[]),ie=w.useCallback(()=>{const O=v2(u,h);return y(O.errors),O},[h,u]),_e=w.useCallback(O=>{const G=a1(O,u,h);return G.hasError?A(O,G.error):L(O),G},[h,u]),te=(O,{type:G="input",withError:fe=!0,withFocus:le=!0}={})=>{const ge={onChange:q4e(Se=>z(O,Se))};return fe&&(ge.error=m[O]),G==="checkbox"?ge.checked=Wu(O,h):ge.value=Wu(O,h),le&&(ge.onFocus=()=>c(Se=>_A(ec({},Se),{[O]:!0})),ge.onBlur=()=>{if(YB(O,o)){const Se=a1(O,u,h);Se.hasError?A(O,Se.error):L(O)}}),ge},oe=(O,G)=>fe=>{fe==null||fe.preventDefault();const le=ie();le.hasErrors?G==null||G(le.errors,h,fe):O==null||O(a(h),fe)},J=O=>a(O||h),x=w.useCallback(O=>{O.preventDefault(),S()},[]),C=O=>{if(O){const fe=Wu(O,f);if(typeof fe=="boolean")return fe;const le=Wu(O,h),me=Wu(O,g.current);return!G8(le,me)}return Object.keys(f).length>0?rj(f):!G8(h,g.current)},B=w.useCallback(O=>rj(l,O),[l]),P=w.useCallback(O=>O?!a1(O,u,h).hasError:!v2(u,h).hasErrors,[h,u]);return{values:h,errors:m,setValues:U,setErrors:I,setFieldValue:z,setFieldError:A,clearFieldError:L,clearErrors:E,reset:S,validate:ie,validateField:_e,reorderListItem:Z,removeListItem:H,insertListItem:ue,getInputProps:te,onSubmit:oe,onReset:x,isDirty:C,isTouched:B,setTouched:c,setDirty:d,resetTouched:b,resetDirty:T,isValid:P,getTransformedValues:J}}const Z4e=new URLSearchParams(window.location.search),e5e=(e,t)=>{let n={};return e.forEach(r=>{const i=t?t[r.id]:{};i?n={...n,[r.id]:i}:n={...n,[r.id]:r.type==="iframe"?[]:r.paramCapture?Z4e.get(r.paramCapture):""}}),{...n}},t5e=e=>{let t={};return e.forEach(n=>{n.required&&(t={...t,[n.id]:r=>{if(Array.isArray(r)){if(n.requiredValue!=null&&!Array.isArray(n.requiredValue))return"Incorrect required value";if(n.requiredValue!=null&&Array.isArray(n.requiredValue)){if(n.requiredValue.length!==r.length)return"Incorrect input";const i=[...n.requiredValue].sort(),s=[...r].sort();return i.every((o,a)=>o===s[a])?null:"Incorrect input"}return r.length===0?"Empty input":null}return n.required&&n.requiredValue!=null&&r!=null?r.toString()!==n.requiredValue.toString()?"Incorrect input":null:n.required?r==null||r===""?"Empty input":null:r===null?"Empty input":null}})}),t};function n5e(e,t,n){const[r,i]=w.useState(null),s=J4e({initialValues:e5e(e,n),validate:t5e(e)});return w.useEffect(()=>{r!==t&&(i(t),s.reset())},[r,s,t]),s}function th(e,t,n){var o;const{requiredValue:r,requiredLabel:i}=e;let s="";return t.checked&&Array.isArray(r)?s=r&&[...r].sort().toString()!==[...t.checked].sort().toString()?`Please ${n?"select":"enter"} ${i||r.toString()} to continue.`:null:s=t.value&&r&&r.toString()!==t.value.toString()?`Please ${n?"select":"enter"} ${i||(n?(o=n.find(a=>a.value===r))==null?void 0:o.label:r.toString())} to continue.`:null,s}function r5e({response:e,disabled:t,answer:n}){const{prompt:r,required:i,options:s}=e;return $.jsx(qp.Group,{label:r,withAsterisk:i,...n,error:th(e,n,s),children:$.jsx(Tl,{mt:"md",children:s.map(o=>$.jsx(qp,{disabled:t,value:o.value,label:o.label},o.value))})})}function i5e({response:e,disabled:t,answer:n}){const{placeholder:r,prompt:i,required:s,options:o}=e;return $.jsx($.Fragment,{children:$.jsx(hQ,{disabled:t,label:i,placeholder:r,data:o,withAsterisk:s,radius:"md",size:"md",...n,error:th(e,n,o)})})}function s5e({response:e,answer:t}){const{prompt:n}=e;return $.jsxs($.Fragment,{children:[$.jsx(Ct,{fz:"md",fw:500,children:n}),$.jsx(Gp,{children:Array.isArray(t.value)&&t.value.map(r=>$.jsx(Gp.Item,{children:r},r))})]})}function MZ({response:e,disabled:t,answer:n}){const{prompt:r,required:i,options:s,leftLabel:o,rightLabel:a}=e;return $.jsx($.Fragment,{children:$.jsxs(vw.Group,{name:`radioInput${e.id}`,label:r,withAsterisk:i,size:"md",...n,error:th(e,n,s),children:[o?$.jsx(Ct,{children:o}):null,$.jsx(Tl,{mt:"xs",children:s.map(u=>$.jsx(vw,{disabled:t,value:u.value,label:u.label},u.label))}),$.jsx(Ct,{children:a})]},e.id)})}function o5e({response:e,disabled:t,answer:n}){const{preset:r}=e,i=[];for(let o=1;o<=+r;o++)i.push({label:`${o}`,value:`${o}`});const s={...e,type:"radio",options:i};return $.jsx(MZ,{disabled:t,response:s,answer:n})}function a5e({response:e,disabled:t,answer:n}){const{prompt:r,required:i,min:s,max:o,placeholder:a}=e;return $.jsx($.Fragment,{children:$.jsx(UK,{disabled:t,placeholder:a,label:r,withAsterisk:i,radius:"md",size:"md",min:s,max:o,...n,error:th(e,n)})})}function u5e({response:e,disabled:t,answer:n}){const{prompt:r,options:i}=e,s=th(e,n);return $.jsxs(fl,{spacing:2,children:[$.jsx(Ct,{fz:"md",fw:500,children:r}),$.jsx(EQ,{disabled:t,labelAlwaysOn:!0,sx:{marginTop:"5px",marginBottom:"30px"},marks:i,...n,styles:o=>({mark:{width:12,height:12,borderRadius:6,transform:"translateX(-3px) translateY(-2px)"},markFilled:{borderColor:o.colors.blue[6]},markLabel:{fontSize:o.fontSizes.sm,marginBottom:5,marginTop:0},thumb:{height:24,width:24,backgroundColor:o.white,borderWidth:1,boxShadow:o.shadows.sm},label:{top:-4,height:28,lineHeight:28,width:28,padding:0,display:"flex",justifyContent:"center",alignItems:"center",fontWeight:700,color:"orange",backgroundColor:"transparent"}})}),s?$.jsx(Ct,{size:12,c:"#fa5252",children:s}):null]})}function l5e({response:e,disabled:t,answer:n}){const{placeholder:r,prompt:i,required:s}=e;return $.jsx($.Fragment,{children:$.jsx(wk,{disabled:t,placeholder:r,label:i,radius:"md",size:"md",withAsterisk:s,...n,value:n.value||"",error:th(e,n)})})}function c5e({response:e,disabled:t,answer:n}){const{placeholder:r,prompt:i,required:s}=e;return $.jsx($.Fragment,{children:$.jsx(XY,{disabled:t,placeholder:r,label:i,radius:"md",size:"md",withAsterisk:s,...n,value:n.value||"",error:th(e,n)})})}function f5e({response:e,answer:t,storedAnswer:n}){const r=(n?{value:n}:t)||{value:void 0},i=!!n,[s]=QH(),o=w.useMemo(()=>{if(e.paramCapture){const a=s.get(e.paramCapture);return i||!!a}return i},[i,e.paramCapture,s]);return $.jsx($.Fragment,{children:$.jsxs(lt,{sx:{margin:10,padding:5},children:[e.type==="numerical"&&$.jsx(a5e,{response:e,disabled:o,answer:r}),e.type==="shortText"&&$.jsx(l5e,{response:e,disabled:o,answer:r}),e.type==="longText"&&$.jsx(c5e,{response:e,disabled:o,answer:r}),e.type==="likert"&&$.jsx(o5e,{response:e,disabled:o,answer:r}),e.type==="dropdown"&&$.jsx(i5e,{response:e,disabled:o,answer:r}),e.type==="slider"&&$.jsx(u5e,{response:e,disabled:o,answer:r}),e.type==="radio"&&$.jsx(MZ,{response:e,disabled:o,answer:r}),e.type==="checkbox"&&$.jsx(r5e,{response:e,disabled:o,answer:r}),e.type==="iframe"&&$.jsx(s5e,{response:e,disabled:o,answer:r})]})})}function Yw({config:e,location:t,status:n,style:r}){var y,g;const i=Pa(),s=n==null?void 0:n.answer,o=e,a=((y=o==null?void 0:o.response)==null?void 0:y.filter(_=>_.location?_.location===t:t==="belowStimulus"))||[],u=Hl(),{updateResponseBlockValidation:l}=zl(),c=n5e(a,i,s||{}),[f,d]=w.useState(!1),{iframeAnswers:h}=ku(_=>_),p=(((g=o==null?void 0:o.correctAnswer)==null?void 0:g.length)||0)>0,m=t===((o==null?void 0:o.nextButtonLocation)||"belowStimulus");return w.useEffect(()=>{const _=a.find(b=>b.type==="iframe");if(_){const b=_.id;c.setValues({...c.values,[b]:h})}},[h]),w.useEffect(()=>{u(l({location:t,currentStep:i,status:c.isValid(),values:wD(c.values)}))},[c.values,i,t]),$.jsxs("div",{style:r,children:[a.map(_=>{var b,T;return $.jsx(k.Fragment,{children:_.hidden?"":$.jsxs($.Fragment,{children:[$.jsx(f5e,{storedAnswer:s?s[_.id]:void 0,answer:{...c.getInputProps(_.id,{type:_.type==="checkbox"?"checkbox":"input"})},response:_}),p&&f&&$.jsxs(Ct,{children:["The correct answer is: ",(T=(b=o.correctAnswer)==null?void 0:b.find(I=>I.id===_.id))==null?void 0:T.answer]})]})},`${_.id}-${i}`)}),$.jsxs(Tl,{position:"right",spacing:"xs",mt:"xl",children:[p&&m&&$.jsx(cl,{onClick:()=>d(!0),disabled:!c.isValid(),children:"Check Answer"}),m&&$.jsx(A4e,{disabled:p&&!f,setCheckClicked:d,label:o.nextButtonText||"Next"})]})]})}const u1="@REVISIT_COMMS",d5e={minHeight:"500px",width:"100%",border:0,marginTop:"-50px"};function h5e({currentConfig:e}){const{setIframeAnswers:t}=zl(),n=Hl(),r=FQ(),i=w.useRef(null),s=w.useMemo(()=>crypto.randomUUID?crypto.randomUUID():`testID-${Date.now()}`,[]),o=Pa(),a=Yd(),u=w.useCallback((l,c)=>{var f,d;(d=(f=i.current)==null?void 0:f.contentWindow)==null||d.postMessage({error:!1,type:`${u1}/${l}`,iframeId:s,message:c},"*")},[i,s]);return w.useEffect(()=>{const l=c=>{const f=c.data;if(typeof f=="object"&&s===f.iframeId)switch(f.type){case`${u1}/WINDOW_READY`:e.parameters&&u("STUDY_DATA",e.parameters);break;case`${u1}/READY`:i.current&&(i.current.style.height=`${f.message.documentHeight}px`);break;case`${u1}/ANSWERS`:n(t(f.message.answer));break}};return window.addEventListener("message",l),()=>window.removeEventListener("message",l)},[n,o,r,s,a,e,u]),$.jsx("div",{children:$.jsx("iframe",{ref:i,src:`${Lu}${e.path}?trialid=${o}&id=${s}`,style:d5e})})}const p5e={maxWidth:"100%"},m5e=({currentConfig:e})=>{const t={...p5e,...e.style};return $.jsx(x_,{mx:"auto",src:`${Lu}${e.path}`,style:t})},vi={Purple:"#6D3E91",DarkOrange:"#C05917",LightTeal:"#58AC8C",Blue:"#286BBB",Maroon:"#883039",Camel:"#BC8E5A",MidnightBlue:"#00295B",DustyCoral:"#C15065",DarkOliveGreen:"#18470F",DarkCopper:"#9A5129",Peach:"#E56E5A",Mauve:"#A2559C",Turquoise:"#38AABA",OliveGreen:"#578145",Cherry:"#970046",Teal:"#00847E",RustyOrange:"#B13507",Denim:"#4C6A9C",Fuchsia:"#CF0A66",TealishGreen:"#00875E",Copper:"#B16214",DarkMauve:"#8C4569",Lime:"#3B8E1D",Coral:"#D73C50"},Eh={DarkOrangeDarker:"#BE5915",PeachDarker:"#C4523E",LightTealDarker:"#2C8465",TurquoiseDarker:"#008291",CamelDarker:"#996D39",LimeDarker:"#338711"},HD=[vi.DustyCoral,Eh.LightTealDarker,Eh.DarkOrangeDarker,vi.Purple,vi.DarkOliveGreen,vi.Blue,vi.Maroon,Eh.CamelDarker,vi.MidnightBlue,vi.DarkCopper,Eh.PeachDarker,vi.Mauve,Eh.TurquoiseDarker,vi.OliveGreen,vi.Cherry,vi.Teal,vi.RustyOrange,vi.Denim,vi.TealishGreen,vi.Copper,vi.DarkMauve,Eh.LimeDarker,vi.Coral],g5e=Object.freeze(Object.defineProperty({__proto__:null,OwidDistinctLinesPalette:HD},Symbol.toStringTag,{value:"Module"}));function Tp(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function y5e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function WD(e){let t,n,r;e.length!==2?(t=Tp,n=(a,u)=>Tp(e(a),u),r=(a,u)=>e(a)-u):(t=e===Tp||e===y5e?e:_5e,n=e,r=e);function i(a,u,l=0,c=a.length){if(l<c){if(t(u,u)!==0)return c;do{const f=l+c>>>1;n(a[f],u)<0?l=f+1:c=f}while(l<c)}return l}function s(a,u,l=0,c=a.length){if(l<c){if(t(u,u)!==0)return c;do{const f=l+c>>>1;n(a[f],u)<=0?l=f+1:c=f}while(l<c)}return l}function o(a,u,l=0,c=a.length){const f=i(a,u,l,c-1);return f>l&&r(a[f-1],u)>-r(a[f],u)?f-1:f}return{left:i,center:o,right:s}}function _5e(){return 0}function v5e(e){return e===null?NaN:+e}function*b5e(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const E5e=WD(Tp),w5e=E5e.right;WD(v5e).center;const T5e=w5e;function Sp(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let s of e)(s=t(s,++i,e))!=null&&(n===void 0?s>=s&&(n=r=s):(n>s&&(n=s),r<s&&(r=s)))}return[n,r]}class b2 extends Map{constructor(t,n=x5e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(oj(this,t))}has(t){return super.has(oj(this,t))}set(t,n){return super.set(S5e(this,t),n)}delete(t){return super.delete(I5e(this,t))}}function oj({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function S5e({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function I5e({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function x5e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function C5e(e){return e}function A5e(e,t,...n){return O5e(e,C5e,t,n)}function O5e(e,t,n,r){return function i(s,o){if(o>=r.length)return n(s);const a=new b2,u=r[o++];let l=-1;for(const c of s){const f=u(c,++l,s),d=a.get(f);d?d.push(c):a.set(f,[c])}for(const[c,f]of a)a.set(c,i(f,o));return t(a)}(e,0)}function P5e(e=Tp){if(e===Tp)return FZ;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function FZ(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const R5e=Math.sqrt(50),N5e=Math.sqrt(10),k5e=Math.sqrt(2);function Kw(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=R5e?10:s>=N5e?5:s>=k5e?2:1;let a,u,l;return i<0?(l=Math.pow(10,-i)/o,a=Math.round(e*l),u=Math.round(t*l),a/l<e&&++a,u/l>t&&--u,l=-l):(l=Math.pow(10,i)*o,a=Math.round(e/l),u=Math.round(t/l),a*l<e&&++a,u*l>t&&--u),u<a&&.5<=n&&n<2?Kw(e,t,n*2):[a,u,l]}function D5e(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,s,o]=r?Kw(t,e,n):Kw(e,t,n);if(!(s>=i))return[];const a=s-i+1,u=new Array(a);if(r)if(o<0)for(let l=0;l<a;++l)u[l]=(s-l)/-o;else for(let l=0;l<a;++l)u[l]=(s-l)*o;else if(o<0)for(let l=0;l<a;++l)u[l]=(i+l)/-o;else for(let l=0;l<a;++l)u[l]=(i+l)*o;return u}function E2(e,t,n){return t=+t,e=+e,n=+n,Kw(e,t,n)[2]}function w2(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?E2(t,e,n):E2(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Qw(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function Xw(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function BZ(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?FZ:P5e(i);r>n;){if(r-n>600){const u=r-n+1,l=t-n+1,c=Math.log(u),f=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*f*(u-f)/u)*(l-u/2<0?-1:1),h=Math.max(n,Math.floor(t-l*f/u+d)),p=Math.min(r,Math.floor(t+(u-l)*f/u+d));BZ(e,t,h,p,i)}const s=e[t];let o=n,a=r;for(k0(e,n,t),i(e[r],s)>0&&k0(e,n,r);o<a;){for(k0(e,o,a),++o,--a;i(e[o],s)<0;)++o;for(;i(e[a],s)>0;)--a}i(e[n],s)===0?k0(e,n,a):(++a,k0(e,a,r)),a<=t&&(n=a+1),t<=a&&(r=a-1)}return e}function k0(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function vA(e,t,n){if(e=Float64Array.from(b5e(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return Xw(e);if(t>=1)return Qw(e);var r,i=(r-1)*t,s=Math.floor(i),o=Qw(BZ(e,s).subarray(0,s+1)),a=Xw(e.subarray(s+1));return o+(a-o)*(i-s)}}function qD(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function jZ(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function U_(){}var Ay=.7,Jw=1/Ay,Ip="\\s*([+-]?\\d+)\\s*",Oy="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",hu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$5e=/^#([0-9a-f]{3,8})$/,L5e=new RegExp(`^rgb\\(${Ip},${Ip},${Ip}\\)$`),M5e=new RegExp(`^rgb\\(${hu},${hu},${hu}\\)$`),F5e=new RegExp(`^rgba\\(${Ip},${Ip},${Ip},${Oy}\\)$`),B5e=new RegExp(`^rgba\\(${hu},${hu},${hu},${Oy}\\)$`),j5e=new RegExp(`^hsl\\(${Oy},${hu},${hu}\\)$`),U5e=new RegExp(`^hsla\\(${Oy},${hu},${hu},${Oy}\\)$`),aj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};qD(U_,Py,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:uj,formatHex:uj,formatHex8:V5e,formatHsl:z5e,formatRgb:lj,toString:lj});function uj(){return this.rgb().formatHex()}function V5e(){return this.rgb().formatHex8()}function z5e(){return UZ(this).formatHsl()}function lj(){return this.rgb().formatRgb()}function Py(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=$5e.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?cj(t):n===3?new ks(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?l1(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?l1(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=L5e.exec(e))?new ks(t[1],t[2],t[3],1):(t=M5e.exec(e))?new ks(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=F5e.exec(e))?l1(t[1],t[2],t[3],t[4]):(t=B5e.exec(e))?l1(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=j5e.exec(e))?hj(t[1],t[2]/100,t[3]/100,1):(t=U5e.exec(e))?hj(t[1],t[2]/100,t[3]/100,t[4]):aj.hasOwnProperty(e)?cj(aj[e]):e==="transparent"?new ks(NaN,NaN,NaN,0):null}function cj(e){return new ks(e>>16&255,e>>8&255,e&255,1)}function l1(e,t,n,r){return r<=0&&(e=t=n=NaN),new ks(e,t,n,r)}function H5e(e){return e instanceof U_||(e=Py(e)),e?(e=e.rgb(),new ks(e.r,e.g,e.b,e.opacity)):new ks}function T2(e,t,n,r){return arguments.length===1?H5e(e):new ks(e,t,n,r??1)}function ks(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}qD(ks,T2,jZ(U_,{brighter(e){return e=e==null?Jw:Math.pow(Jw,e),new ks(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ay:Math.pow(Ay,e),new ks(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ks(_d(this.r),_d(this.g),_d(this.b),Zw(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:fj,formatHex:fj,formatHex8:W5e,formatRgb:dj,toString:dj}));function fj(){return`#${ed(this.r)}${ed(this.g)}${ed(this.b)}`}function W5e(){return`#${ed(this.r)}${ed(this.g)}${ed(this.b)}${ed((isNaN(this.opacity)?1:this.opacity)*255)}`}function dj(){const e=Zw(this.opacity);return`${e===1?"rgb(":"rgba("}${_d(this.r)}, ${_d(this.g)}, ${_d(this.b)}${e===1?")":`, ${e})`}`}function Zw(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function _d(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ed(e){return e=_d(e),(e<16?"0":"")+e.toString(16)}function hj(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ma(e,t,n,r)}function UZ(e){if(e instanceof ma)return new ma(e.h,e.s,e.l,e.opacity);if(e instanceof U_||(e=Py(e)),!e)return new ma;if(e instanceof ma)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),o=NaN,a=s-i,u=(s+i)/2;return a?(t===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-t)/a+2:o=(t-n)/a+4,a/=u<.5?s+i:2-s-i,o*=60):a=u>0&&u<1?0:o,new ma(o,a,u,e.opacity)}function q5e(e,t,n,r){return arguments.length===1?UZ(e):new ma(e,t,n,r??1)}function ma(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}qD(ma,q5e,jZ(U_,{brighter(e){return e=e==null?Jw:Math.pow(Jw,e),new ma(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ay:Math.pow(Ay,e),new ma(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new ks(bA(e>=240?e-240:e+120,i,r),bA(e,i,r),bA(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new ma(pj(this.h),c1(this.s),c1(this.l),Zw(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Zw(this.opacity);return`${e===1?"hsl(":"hsla("}${pj(this.h)}, ${c1(this.s)*100}%, ${c1(this.l)*100}%${e===1?")":`, ${e})`}`}}));function pj(e){return e=(e||0)%360,e<0?e+360:e}function c1(e){return Math.max(0,Math.min(1,e||0))}function bA(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const GD=e=>()=>e;function G5e(e,t){return function(n){return e+n*t}}function Y5e(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function K5e(e){return(e=+e)==1?VZ:function(t,n){return n-t?Y5e(t,n,e):GD(isNaN(t)?n:t)}}function VZ(e,t){var n=t-e;return n?G5e(e,n):GD(isNaN(e)?t:e)}const mj=function e(t){var n=K5e(t);function r(i,s){var o=n((i=T2(i)).r,(s=T2(s)).r),a=n(i.g,s.g),u=n(i.b,s.b),l=VZ(i.opacity,s.opacity);return function(c){return i.r=o(c),i.g=a(c),i.b=u(c),i.opacity=l(c),i+""}}return r.gamma=e,r}(1);function Q5e(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=e[i]*(1-s)+t[i]*s;return r}}function X5e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function J5e(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=YD(e[o],t[o]);for(;o<n;++o)s[o]=t[o];return function(a){for(o=0;o<r;++o)s[o]=i[o](a);return s}}function Z5e(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function eT(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function eFe(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=YD(e[i],t[i]):r[i]=t[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var S2=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,EA=new RegExp(S2.source,"g");function tFe(e){return function(){return e}}function nFe(e){return function(t){return e(t)+""}}function rFe(e,t){var n=S2.lastIndex=EA.lastIndex=0,r,i,s,o=-1,a=[],u=[];for(e=e+"",t=t+"";(r=S2.exec(e))&&(i=EA.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,u.push({i:o,x:eT(r,i)})),n=EA.lastIndex;return n<t.length&&(s=t.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?u[0]?nFe(u[0].x):tFe(t):(t=u.length,function(l){for(var c=0,f;c<t;++c)a[(f=u[c]).i]=f.x(l);return a.join("")})}function YD(e,t){var n=typeof t,r;return t==null||n==="boolean"?GD(t):(n==="number"?eT:n==="string"?(r=Py(t))?(t=r,mj):rFe:t instanceof Py?mj:t instanceof Date?Z5e:X5e(t)?Q5e:Array.isArray(t)?J5e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?eFe:eT)(e,t)}function iFe(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}const I2=Math.PI,x2=2*I2,Lf=1e-6,sFe=x2-Lf;function zZ(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function oFe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return zZ;const n=10**t;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class aFe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?zZ:oFe(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,s,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(t,n,r,i,s){if(t=+t,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,u=r-t,l=i-n,c=o-t,f=a-n,d=c*c+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(d>Lf)if(!(Math.abs(f*u-l*c)>Lf)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-o,p=i-a,m=u*u+l*l,y=h*h+p*p,g=Math.sqrt(m),_=Math.sqrt(d),b=s*Math.tan((I2-Math.acos((m+d-y)/(2*g*_)))/2),T=b/_,I=b/g;Math.abs(T-1)>Lf&&this._append`L${t+T*c},${n+T*f}`,this._append`A${s},${s},0,0,${+(f*h>c*p)},${this._x1=t+I*u},${this._y1=n+I*l}`}}arc(t,n,r,i,s,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),u=r*Math.sin(i),l=t+a,c=n+u,f=1^o,d=o?i-s:s-i;this._x1===null?this._append`M${l},${c}`:(Math.abs(this._x1-l)>Lf||Math.abs(this._y1-c)>Lf)&&this._append`L${l},${c}`,r&&(d<0&&(d=d%x2+x2),d>sFe?this._append`A${r},${r},0,1,${f},${t-a},${n-u}A${r},${r},0,1,${f},${this._x1=l},${this._y1=c}`:d>Lf&&this._append`A${r},${r},0,${+(d>=I2)},${f},${this._x1=t+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}var gj={},wA={},TA=34,D0=10,SA=13;function HZ(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function uFe(e,t){var n=HZ(e);return function(r,i){return t(n(r),i,e)}}function yj(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function Es(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function lFe(e){return e<0?"-"+Es(-e,6):e>9999?"+"+Es(e,6):Es(e,4)}function cFe(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":lFe(e.getUTCFullYear())+"-"+Es(e.getUTCMonth()+1,2)+"-"+Es(e.getUTCDate(),2)+(i?"T"+Es(t,2)+":"+Es(n,2)+":"+Es(r,2)+"."+Es(i,3)+"Z":r?"T"+Es(t,2)+":"+Es(n,2)+":"+Es(r,2)+"Z":n||t?"T"+Es(t,2)+":"+Es(n,2)+"Z":"")}function fFe(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(f,d){var h,p,m=i(f,function(y,g){if(h)return h(y,g-1);p=y,h=d?uFe(y,d):HZ(y)});return m.columns=p||[],m}function i(f,d){var h=[],p=f.length,m=0,y=0,g,_=p<=0,b=!1;f.charCodeAt(p-1)===D0&&--p,f.charCodeAt(p-1)===SA&&--p;function T(){if(_)return wA;if(b)return b=!1,gj;var E,S=m,A;if(f.charCodeAt(S)===TA){for(;m++<p&&f.charCodeAt(m)!==TA||f.charCodeAt(++m)===TA;);return(E=m)>=p?_=!0:(A=f.charCodeAt(m++))===D0?b=!0:A===SA&&(b=!0,f.charCodeAt(m)===D0&&++m),f.slice(S+1,E-1).replace(/""/g,'"')}for(;m<p;){if((A=f.charCodeAt(E=m++))===D0)b=!0;else if(A===SA)b=!0,f.charCodeAt(m)===D0&&++m;else if(A!==n)continue;return f.slice(S,E)}return _=!0,f.slice(S,p)}for(;(g=T())!==wA;){for(var I=[];g!==gj&&g!==wA;)I.push(g),g=T();d&&(I=d(I,y++))==null||h.push(I)}return h}function s(f,d){return f.map(function(h){return d.map(function(p){return c(h[p])}).join(e)})}function o(f,d){return d==null&&(d=yj(f)),[d.map(c).join(e)].concat(s(f,d)).join(`
`)}function a(f,d){return d==null&&(d=yj(f)),s(f,d).join(`
`)}function u(f){return f.map(l).join(`
`)}function l(f){return f.map(c).join(e)}function c(f){return f==null?"":f instanceof Date?cFe(f):t.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:r,parseRows:i,format:o,formatBody:a,formatRows:u,formatRow:l,formatValue:c}}var dFe=fFe(","),hFe=dFe.parse;function pFe(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function mFe(e,t){return fetch(e,t).then(pFe)}function gFe(e){return function(t,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=void 0),mFe(t,n).then(function(i){return e(i,r)})}}var yFe=gFe(hFe);function _Fe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function tT(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function tm(e){return e=tT(Math.abs(e)),e?e[1]:NaN}function vFe(e,t){return function(n,r){for(var i=n.length,s=[],o=0,a=e[0],u=0;i>0&&a>0&&(u+a+1>r&&(a=Math.max(1,r-u)),s.push(n.substring(i-=a,i+a)),!((u+=a+1)>r));)a=e[o=(o+1)%e.length];return s.reverse().join(t)}}function bFe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var EFe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function nT(e){if(!(t=EFe.exec(e)))throw new Error("invalid format: "+e);var t;return new KD({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}nT.prototype=KD.prototype;function KD(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}KD.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function wFe(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var WZ;function TFe(e,t){var n=tT(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-(WZ=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+tT(e,Math.max(0,t+s-1))[0]}function _j(e,t){var n=tT(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const vj={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:_Fe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>_j(e*100,t),r:_j,s:TFe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function bj(e){return e}var Ej=Array.prototype.map,wj=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function SFe(e){var t=e.grouping===void 0||e.thousands===void 0?bj:vFe(Ej.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?bj:bFe(Ej.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function l(f){f=nT(f);var d=f.fill,h=f.align,p=f.sign,m=f.symbol,y=f.zero,g=f.width,_=f.comma,b=f.precision,T=f.trim,I=f.type;I==="n"?(_=!0,I="g"):vj[I]||(b===void 0&&(b=12),T=!0,I="g"),(y||d==="0"&&h==="=")&&(y=!0,d="0",h="=");var E=m==="$"?n:m==="#"&&/[boxX]/.test(I)?"0"+I.toLowerCase():"",S=m==="$"?r:/[%p]/.test(I)?o:"",A=vj[I],L=/[defgprs%]/.test(I);b=b===void 0?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function W(z){var U=E,Z=S,H,ue,ie;if(I==="c")Z=A(z)+Z,z="";else{z=+z;var _e=z<0||1/z<0;if(z=isNaN(z)?u:A(Math.abs(z),b),T&&(z=wFe(z)),_e&&+z==0&&p!=="+"&&(_e=!1),U=(_e?p==="("?p:a:p==="-"||p==="("?"":p)+U,Z=(I==="s"?wj[8+WZ/3]:"")+Z+(_e&&p==="("?")":""),L){for(H=-1,ue=z.length;++H<ue;)if(ie=z.charCodeAt(H),48>ie||ie>57){Z=(ie===46?i+z.slice(H+1):z.slice(H))+Z,z=z.slice(0,H);break}}}_&&!y&&(z=t(z,1/0));var te=U.length+z.length+Z.length,oe=te<g?new Array(g-te+1).join(d):"";switch(_&&y&&(z=t(oe+z,oe.length?g-Z.length:1/0),oe=""),h){case"<":z=U+z+Z+oe;break;case"=":z=U+oe+z+Z;break;case"^":z=oe.slice(0,te=oe.length>>1)+U+z+Z+oe.slice(te);break;default:z=oe+U+z+Z;break}return s(z)}return W.toString=function(){return f+""},W}function c(f,d){var h=l((f=nT(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(tm(d)/3)))*3,m=Math.pow(10,-p),y=wj[8+p/3];return function(g){return h(m*g)+y}}return{format:l,formatPrefix:c}}var f1,Vc,qZ;IFe({thousands:",",grouping:[3],currency:["$",""]});function IFe(e){return f1=SFe(e),Vc=f1.format,qZ=f1.formatPrefix,f1}function xFe(e){return Math.max(0,-tm(Math.abs(e)))}function CFe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(tm(t)/3)))*3-tm(Math.abs(e)))}function AFe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,tm(t)-tm(e))+1}function QD(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const Tj=Symbol("implicit");function XD(){var e=new b2,t=[],n=[],r=Tj;function i(s){let o=e.get(s);if(o===void 0){if(r!==Tj)return r;e.set(s,o=t.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new b2;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return XD(t,n).unknown(r)},QD.apply(i,arguments),i}function OFe(e){return function(){return e}}function PFe(e){return+e}var Sj=[0,1];function Xh(e){return e}function C2(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:OFe(isNaN(t)?NaN:.5)}function RFe(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function NFe(e,t,n){var r=e[0],i=e[1],s=t[0],o=t[1];return i<r?(r=C2(i,r),s=n(o,s)):(r=C2(r,i),s=n(s,o)),function(a){return s(r(a))}}function kFe(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),s=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=C2(e[o],e[o+1]),s[o]=n(t[o],t[o+1]);return function(a){var u=T5e(e,a,1,r)-1;return s[u](i[u](a))}}function GZ(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function DFe(){var e=Sj,t=Sj,n=YD,r,i,s,o=Xh,a,u,l;function c(){var d=Math.min(e.length,t.length);return o!==Xh&&(o=RFe(e[0],e[d-1])),a=d>2?kFe:NFe,u=l=null,f}function f(d){return d==null||isNaN(d=+d)?s:(u||(u=a(e.map(r),t,n)))(r(o(d)))}return f.invert=function(d){return o(i((l||(l=a(t,e.map(r),eT)))(d)))},f.domain=function(d){return arguments.length?(e=Array.from(d,PFe),c()):e.slice()},f.range=function(d){return arguments.length?(t=Array.from(d),c()):t.slice()},f.rangeRound=function(d){return t=Array.from(d),n=iFe,c()},f.clamp=function(d){return arguments.length?(o=d?!0:Xh,c()):o!==Xh},f.interpolate=function(d){return arguments.length?(n=d,c()):n},f.unknown=function(d){return arguments.length?(s=d,f):s},function(d,h){return r=d,i=h,c()}}function YZ(){return DFe()(Xh,Xh)}function $Fe(e,t,n,r){var i=w2(e,t,n),s;switch(r=nT(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=CFe(i,o))&&(r.precision=s),qZ(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=AFe(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=xFe(i))&&(r.precision=s-(r.type==="%")*2);break}}return Vc(r)}function LFe(e){var t=e.domain;return e.ticks=function(n){var r=t();return D5e(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return $Fe(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,s=r.length-1,o=r[i],a=r[s],u,l,c=10;for(a<o&&(l=o,o=a,a=l,l=i,i=s,s=l);c-- >0;){if(l=E2(o,a,n),l===u)return r[i]=o,r[s]=a,t(r);if(l>0)o=Math.floor(o/l)*l,a=Math.ceil(a/l)*l;else if(l<0)o=Math.ceil(o*l)/l,a=Math.floor(a*l)/l;else break;u=l}return e},e}function OI(){var e=YZ();return e.copy=function(){return GZ(e,OI())},QD.apply(e,arguments),LFe(e)}function MFe(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],s=e[r],o;return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),e[n]=t.floor(i),e[r]=t.ceil(s),e}const IA=new Date,xA=new Date;function ni(e,t,n,r){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const o=i(s),a=i.ceil(s);return s-o<a-s?o:a},i.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,a)=>{const u=[];if(s=i.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return u;let l;do u.push(l=new Date(+s)),t(s,a),e(s);while(l<s&&s<o);return u},i.filter=s=>ni(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;t(o,-1),!s(o););else for(;--a>=0;)for(;t(o,1),!s(o););}),n&&(i.count=(s,o)=>(IA.setTime(+s),xA.setTime(+o),e(IA),e(xA),Math.floor(n(IA,xA))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?o=>r(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const rT=ni(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);rT.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ni(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):rT);rT.range;const tl=1e3,Bo=tl*60,nl=Bo*60,Il=nl*24,JD=Il*7,Ij=Il*30,CA=Il*365,Jh=ni(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*tl)},(e,t)=>(t-e)/tl,e=>e.getUTCSeconds());Jh.range;const ZD=ni(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*tl)},(e,t)=>{e.setTime(+e+t*Bo)},(e,t)=>(t-e)/Bo,e=>e.getMinutes());ZD.range;const FFe=ni(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Bo)},(e,t)=>(t-e)/Bo,e=>e.getUTCMinutes());FFe.range;const e$=ni(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*tl-e.getMinutes()*Bo)},(e,t)=>{e.setTime(+e+t*nl)},(e,t)=>(t-e)/nl,e=>e.getHours());e$.range;const BFe=ni(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*nl)},(e,t)=>(t-e)/nl,e=>e.getUTCHours());BFe.range;const V_=ni(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Bo)/Il,e=>e.getDate()-1);V_.range;const t$=ni(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Il,e=>e.getUTCDate()-1);t$.range;const jFe=ni(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Il,e=>Math.floor(e/Il));jFe.range;function nh(e){return ni(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Bo)/JD)}const PI=nh(0),iT=nh(1),UFe=nh(2),VFe=nh(3),nm=nh(4),zFe=nh(5),HFe=nh(6);PI.range;iT.range;UFe.range;VFe.range;nm.range;zFe.range;HFe.range;function rh(e){return ni(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/JD)}const KZ=rh(0),sT=rh(1),WFe=rh(2),qFe=rh(3),rm=rh(4),GFe=rh(5),YFe=rh(6);KZ.range;sT.range;WFe.range;qFe.range;rm.range;GFe.range;YFe.range;const n$=ni(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());n$.range;const KFe=ni(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());KFe.range;const xl=ni(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());xl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ni(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});xl.range;const $d=ni(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());$d.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ni(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});$d.range;function QFe(e,t,n,r,i,s){const o=[[Jh,1,tl],[Jh,5,5*tl],[Jh,15,15*tl],[Jh,30,30*tl],[s,1,Bo],[s,5,5*Bo],[s,15,15*Bo],[s,30,30*Bo],[i,1,nl],[i,3,3*nl],[i,6,6*nl],[i,12,12*nl],[r,1,Il],[r,2,2*Il],[n,1,JD],[t,1,Ij],[t,3,3*Ij],[e,1,CA]];function a(l,c,f){const d=c<l;d&&([l,c]=[c,l]);const h=f&&typeof f.range=="function"?f:u(l,c,f),p=h?h.range(l,+c+1):[];return d?p.reverse():p}function u(l,c,f){const d=Math.abs(c-l)/f,h=WD(([,,y])=>y).right(o,d);if(h===o.length)return e.every(w2(l/CA,c/CA,f));if(h===0)return rT.every(Math.max(w2(l,c,f),1));const[p,m]=o[d/o[h-1][2]<o[h][2]/d?h-1:h];return p.every(m)}return[a,u]}const[XFe,JFe]=QFe(xl,n$,PI,V_,e$,ZD);function AA(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function OA(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function $0(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function ZFe(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,s=e.days,o=e.shortDays,a=e.months,u=e.shortMonths,l=L0(i),c=M0(i),f=L0(s),d=M0(s),h=L0(o),p=M0(o),m=L0(a),y=M0(a),g=L0(u),_=M0(u),b={a:_e,A:te,b:oe,B:J,c:null,d:Rj,e:Rj,f:w8e,g:N8e,G:D8e,H:v8e,I:b8e,j:E8e,L:QZ,m:T8e,M:S8e,p:x,q:C,Q:Dj,s:$j,S:I8e,u:x8e,U:C8e,V:A8e,w:O8e,W:P8e,x:null,X:null,y:R8e,Y:k8e,Z:$8e,"%":kj},T={a:B,A:P,b:O,B:G,c:null,d:Nj,e:Nj,f:B8e,g:K8e,G:X8e,H:L8e,I:M8e,j:F8e,L:JZ,m:j8e,M:U8e,p:fe,q:le,Q:Dj,s:$j,S:V8e,u:z8e,U:H8e,V:W8e,w:q8e,W:G8e,x:null,X:null,y:Y8e,Y:Q8e,Z:J8e,"%":kj},I={a:W,A:z,b:U,B:Z,c:H,d:Oj,e:Oj,f:m8e,g:Aj,G:Cj,H:Pj,I:Pj,j:f8e,L:p8e,m:c8e,M:d8e,p:L,q:l8e,Q:y8e,s:_8e,S:h8e,u:i8e,U:s8e,V:o8e,w:r8e,W:a8e,x:ue,X:ie,y:Aj,Y:Cj,Z:u8e,"%":g8e};b.x=E(n,b),b.X=E(r,b),b.c=E(t,b),T.x=E(n,T),T.X=E(r,T),T.c=E(t,T);function E(me,ge){return function(Se){var de=[],st=-1,Ke=0,qe=me.length,$e,ot,ut;for(Se instanceof Date||(Se=new Date(+Se));++st<qe;)me.charCodeAt(st)===37&&(de.push(me.slice(Ke,st)),(ot=xj[$e=me.charAt(++st)])!=null?$e=me.charAt(++st):ot=$e==="e"?" ":"0",(ut=ge[$e])&&($e=ut(Se,ot)),de.push($e),Ke=st+1);return de.push(me.slice(Ke,st)),de.join("")}}function S(me,ge){return function(Se){var de=$0(1900,void 0,1),st=A(de,me,Se+="",0),Ke,qe;if(st!=Se.length)return null;if("Q"in de)return new Date(de.Q);if("s"in de)return new Date(de.s*1e3+("L"in de?de.L:0));if(ge&&!("Z"in de)&&(de.Z=0),"p"in de&&(de.H=de.H%12+de.p*12),de.m===void 0&&(de.m="q"in de?de.q:0),"V"in de){if(de.V<1||de.V>53)return null;"w"in de||(de.w=1),"Z"in de?(Ke=OA($0(de.y,0,1)),qe=Ke.getUTCDay(),Ke=qe>4||qe===0?sT.ceil(Ke):sT(Ke),Ke=t$.offset(Ke,(de.V-1)*7),de.y=Ke.getUTCFullYear(),de.m=Ke.getUTCMonth(),de.d=Ke.getUTCDate()+(de.w+6)%7):(Ke=AA($0(de.y,0,1)),qe=Ke.getDay(),Ke=qe>4||qe===0?iT.ceil(Ke):iT(Ke),Ke=V_.offset(Ke,(de.V-1)*7),de.y=Ke.getFullYear(),de.m=Ke.getMonth(),de.d=Ke.getDate()+(de.w+6)%7)}else("W"in de||"U"in de)&&("w"in de||(de.w="u"in de?de.u%7:"W"in de?1:0),qe="Z"in de?OA($0(de.y,0,1)).getUTCDay():AA($0(de.y,0,1)).getDay(),de.m=0,de.d="W"in de?(de.w+6)%7+de.W*7-(qe+5)%7:de.w+de.U*7-(qe+6)%7);return"Z"in de?(de.H+=de.Z/100|0,de.M+=de.Z%100,OA(de)):AA(de)}}function A(me,ge,Se,de){for(var st=0,Ke=ge.length,qe=Se.length,$e,ot;st<Ke;){if(de>=qe)return-1;if($e=ge.charCodeAt(st++),$e===37){if($e=ge.charAt(st++),ot=I[$e in xj?ge.charAt(st++):$e],!ot||(de=ot(me,Se,de))<0)return-1}else if($e!=Se.charCodeAt(de++))return-1}return de}function L(me,ge,Se){var de=l.exec(ge.slice(Se));return de?(me.p=c.get(de[0].toLowerCase()),Se+de[0].length):-1}function W(me,ge,Se){var de=h.exec(ge.slice(Se));return de?(me.w=p.get(de[0].toLowerCase()),Se+de[0].length):-1}function z(me,ge,Se){var de=f.exec(ge.slice(Se));return de?(me.w=d.get(de[0].toLowerCase()),Se+de[0].length):-1}function U(me,ge,Se){var de=g.exec(ge.slice(Se));return de?(me.m=_.get(de[0].toLowerCase()),Se+de[0].length):-1}function Z(me,ge,Se){var de=m.exec(ge.slice(Se));return de?(me.m=y.get(de[0].toLowerCase()),Se+de[0].length):-1}function H(me,ge,Se){return A(me,t,ge,Se)}function ue(me,ge,Se){return A(me,n,ge,Se)}function ie(me,ge,Se){return A(me,r,ge,Se)}function _e(me){return o[me.getDay()]}function te(me){return s[me.getDay()]}function oe(me){return u[me.getMonth()]}function J(me){return a[me.getMonth()]}function x(me){return i[+(me.getHours()>=12)]}function C(me){return 1+~~(me.getMonth()/3)}function B(me){return o[me.getUTCDay()]}function P(me){return s[me.getUTCDay()]}function O(me){return u[me.getUTCMonth()]}function G(me){return a[me.getUTCMonth()]}function fe(me){return i[+(me.getUTCHours()>=12)]}function le(me){return 1+~~(me.getUTCMonth()/3)}return{format:function(me){var ge=E(me+="",b);return ge.toString=function(){return me},ge},parse:function(me){var ge=S(me+="",!1);return ge.toString=function(){return me},ge},utcFormat:function(me){var ge=E(me+="",T);return ge.toString=function(){return me},ge},utcParse:function(me){var ge=S(me+="",!0);return ge.toString=function(){return me},ge}}}var xj={"-":"",_:" ",0:"0"},mi=/^\s*\d+/,e8e=/^%/,t8e=/[\\^$*+?|[\]().{}]/g;function vn(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(t)+i:i)}function n8e(e){return e.replace(t8e,"\\$&")}function L0(e){return new RegExp("^(?:"+e.map(n8e).join("|")+")","i")}function M0(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function r8e(e,t,n){var r=mi.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function i8e(e,t,n){var r=mi.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function s8e(e,t,n){var r=mi.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function o8e(e,t,n){var r=mi.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function a8e(e,t,n){var r=mi.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Cj(e,t,n){var r=mi.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Aj(e,t,n){var r=mi.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function u8e(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function l8e(e,t,n){var r=mi.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function c8e(e,t,n){var r=mi.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Oj(e,t,n){var r=mi.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function f8e(e,t,n){var r=mi.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Pj(e,t,n){var r=mi.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function d8e(e,t,n){var r=mi.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function h8e(e,t,n){var r=mi.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function p8e(e,t,n){var r=mi.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function m8e(e,t,n){var r=mi.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function g8e(e,t,n){var r=e8e.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function y8e(e,t,n){var r=mi.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function _8e(e,t,n){var r=mi.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Rj(e,t){return vn(e.getDate(),t,2)}function v8e(e,t){return vn(e.getHours(),t,2)}function b8e(e,t){return vn(e.getHours()%12||12,t,2)}function E8e(e,t){return vn(1+V_.count(xl(e),e),t,3)}function QZ(e,t){return vn(e.getMilliseconds(),t,3)}function w8e(e,t){return QZ(e,t)+"000"}function T8e(e,t){return vn(e.getMonth()+1,t,2)}function S8e(e,t){return vn(e.getMinutes(),t,2)}function I8e(e,t){return vn(e.getSeconds(),t,2)}function x8e(e){var t=e.getDay();return t===0?7:t}function C8e(e,t){return vn(PI.count(xl(e)-1,e),t,2)}function XZ(e){var t=e.getDay();return t>=4||t===0?nm(e):nm.ceil(e)}function A8e(e,t){return e=XZ(e),vn(nm.count(xl(e),e)+(xl(e).getDay()===4),t,2)}function O8e(e){return e.getDay()}function P8e(e,t){return vn(iT.count(xl(e)-1,e),t,2)}function R8e(e,t){return vn(e.getFullYear()%100,t,2)}function N8e(e,t){return e=XZ(e),vn(e.getFullYear()%100,t,2)}function k8e(e,t){return vn(e.getFullYear()%1e4,t,4)}function D8e(e,t){var n=e.getDay();return e=n>=4||n===0?nm(e):nm.ceil(e),vn(e.getFullYear()%1e4,t,4)}function $8e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+vn(t/60|0,"0",2)+vn(t%60,"0",2)}function Nj(e,t){return vn(e.getUTCDate(),t,2)}function L8e(e,t){return vn(e.getUTCHours(),t,2)}function M8e(e,t){return vn(e.getUTCHours()%12||12,t,2)}function F8e(e,t){return vn(1+t$.count($d(e),e),t,3)}function JZ(e,t){return vn(e.getUTCMilliseconds(),t,3)}function B8e(e,t){return JZ(e,t)+"000"}function j8e(e,t){return vn(e.getUTCMonth()+1,t,2)}function U8e(e,t){return vn(e.getUTCMinutes(),t,2)}function V8e(e,t){return vn(e.getUTCSeconds(),t,2)}function z8e(e){var t=e.getUTCDay();return t===0?7:t}function H8e(e,t){return vn(KZ.count($d(e)-1,e),t,2)}function ZZ(e){var t=e.getUTCDay();return t>=4||t===0?rm(e):rm.ceil(e)}function W8e(e,t){return e=ZZ(e),vn(rm.count($d(e),e)+($d(e).getUTCDay()===4),t,2)}function q8e(e){return e.getUTCDay()}function G8e(e,t){return vn(sT.count($d(e)-1,e),t,2)}function Y8e(e,t){return vn(e.getUTCFullYear()%100,t,2)}function K8e(e,t){return e=ZZ(e),vn(e.getUTCFullYear()%100,t,2)}function Q8e(e,t){return vn(e.getUTCFullYear()%1e4,t,4)}function X8e(e,t){var n=e.getUTCDay();return e=n>=4||n===0?rm(e):rm.ceil(e),vn(e.getUTCFullYear()%1e4,t,4)}function J8e(){return"+0000"}function kj(){return"%"}function Dj(e){return+e}function $j(e){return Math.floor(+e/1e3)}var wh,eee,td,r$;Z8e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Z8e(e){return wh=ZFe(e),eee=wh.format,td=wh.parse,r$=wh.utcFormat,wh.utcParse,wh}function e9e(e){return new Date(e)}function t9e(e){return e instanceof Date?+e:+new Date(+e)}function tee(e,t,n,r,i,s,o,a,u,l){var c=YZ(),f=c.invert,d=c.domain,h=l(".%L"),p=l(":%S"),m=l("%I:%M"),y=l("%I %p"),g=l("%a %d"),_=l("%b %d"),b=l("%B"),T=l("%Y");function I(E){return(u(E)<E?h:a(E)<E?p:o(E)<E?m:s(E)<E?y:r(E)<E?i(E)<E?g:_:n(E)<E?b:T)(E)}return c.invert=function(E){return new Date(f(E))},c.domain=function(E){return arguments.length?d(Array.from(E,t9e)):d().map(e9e)},c.ticks=function(E){var S=d();return e(S[0],S[S.length-1],E??10)},c.tickFormat=function(E,S){return S==null?I:l(S)},c.nice=function(E){var S=d();return(!E||typeof E.range!="function")&&(E=t(S[0],S[S.length-1],E??10)),E?d(MFe(S,E)):c},c.copy=function(){return GZ(c,tee(e,t,n,r,i,s,o,a,u,l))},c}function Ry(){return QD.apply(tee(XFe,JFe,xl,n$,PI,V_,e$,ZD,Jh,eee).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ai(e){return function(){return e}}function nee(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new aFe(t)}function ree(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function iee(e){this._context=e}iee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function see(e){return new iee(e)}function oee(e){return e[0]}function aee(e){return e[1]}function jg(e,t){var n=ai(!0),r=null,i=see,s=null,o=nee(a);e=typeof e=="function"?e:e===void 0?oee:ai(e),t=typeof t=="function"?t:t===void 0?aee:ai(t);function a(u){var l,c=(u=ree(u)).length,f,d=!1,h;for(r==null&&(s=i(h=o())),l=0;l<=c;++l)!(l<c&&n(f=u[l],l,u))===d&&((d=!d)?s.lineStart():s.lineEnd()),d&&s.point(+e(f,l,u),+t(f,l,u));if(h)return s=null,h+""||null}return a.x=function(u){return arguments.length?(e=typeof u=="function"?u:ai(+u),a):e},a.y=function(u){return arguments.length?(t=typeof u=="function"?u:ai(+u),a):t},a.defined=function(u){return arguments.length?(n=typeof u=="function"?u:ai(!!u),a):n},a.curve=function(u){return arguments.length?(i=u,r!=null&&(s=i(r)),a):i},a.context=function(u){return arguments.length?(u==null?r=s=null:s=i(r=u),a):r},a}function uee(e,t,n){var r=null,i=ai(!0),s=null,o=see,a=null,u=nee(l);e=typeof e=="function"?e:e===void 0?oee:ai(+e),t=typeof t=="function"?t:ai(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?aee:ai(+n);function l(f){var d,h,p,m=(f=ree(f)).length,y,g=!1,_,b=new Array(m),T=new Array(m);for(s==null&&(a=o(_=u())),d=0;d<=m;++d){if(!(d<m&&i(y=f[d],d,f))===g)if(g=!g)h=d,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),p=d-1;p>=h;--p)a.point(b[p],T[p]);a.lineEnd(),a.areaEnd()}g&&(b[d]=+e(y,d,f),T[d]=+t(y,d,f),a.point(r?+r(y,d,f):b[d],n?+n(y,d,f):T[d]))}if(_)return a=null,_+""||null}function c(){return jg().defined(i).curve(o).context(s)}return l.x=function(f){return arguments.length?(e=typeof f=="function"?f:ai(+f),r=null,l):e},l.x0=function(f){return arguments.length?(e=typeof f=="function"?f:ai(+f),l):e},l.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:ai(+f),l):r},l.y=function(f){return arguments.length?(t=typeof f=="function"?f:ai(+f),n=null,l):t},l.y0=function(f){return arguments.length?(t=typeof f=="function"?f:ai(+f),l):t},l.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:ai(+f),l):n},l.lineX0=l.lineY0=function(){return c().x(e).y(t)},l.lineY1=function(){return c().x(e).y(n)},l.lineX1=function(){return c().x(r).y(t)},l.defined=function(f){return arguments.length?(i=typeof f=="function"?f:ai(!!f),l):i},l.curve=function(f){return arguments.length?(o=f,s!=null&&(a=o(s)),l):o},l.context=function(f){return arguments.length?(f==null?s=a=null:a=o(s=f),l):s},l}function Lj(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function lee(e){this._context=e}lee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Lj(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Lj(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Zh(e){return new lee(e)}function rg(e,t,n){this.k=e,this.x=t,this.y=n}rg.prototype={constructor:rg,scale:function(e){return e===1?this:new rg(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new rg(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};rg.prototype;function cee({xScale:e,yRange:t,vertPosition:n,ticks:r,isDate:i=!1,showLines:s=!0}){const o=w.useMemo(()=>r.length>1?Math.abs(r[1].offset-r[0].offset):e.range()[0]-e.range()[1],[r,e]),a=w.useCallback(u=>(i?r$("%b%e, %Y"):Vc(".2s"))(u),[i]);return $.jsxs($.Fragment,{children:[s?$.jsx("path",{transform:`translate(0, ${t[1]})`,d:["M",e.range()[0],0,"H",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}):null,r.map(({value:u,offset:l})=>$.jsxs("g",{transform:`translate(${l}, ${n})`,children:[$.jsx("line",{y2:"6",stroke:"currentColor"}),s?$.jsx("line",{y2:`${-(t[0]-t[1])}`,stroke:"lightgray"}):null,$.jsx("foreignObject",{x:0-o/2,y:10,width:o,height:20,children:$.jsx(by,{children:$.jsx(XK,{withinPortal:!0,label:u,children:$.jsx(Ct,{px:2,size:10,style:{textAlign:"center",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},children:+u==0?0:a(i?new Date(u):u)})})})})]},u))]})}const n9e=Object.freeze(Object.defineProperty({__proto__:null,XAxis:cee},Symbol.toStringTag,{value:"Module"}));function fee({dataset:e,yScale:t,xRange:n,horizontalPosition:r}){const i=w.useMemo(()=>t.ticks(6).map(o=>({value:o,yOffset:t(o)})),[t]),s=w.useMemo(()=>e=="clean_stocks"?Vc(",.0%"):t.domain()[1]<5?Vc(",.2r"):Vc(",.0f"),[e,t]);return $.jsx($.Fragment,{children:i.map(({value:o,yOffset:a})=>$.jsxs("g",{transform:`translate(${r}, ${a})`,children:[$.jsx("line",{x2:`${n[1]-n[0]}`,stroke:`${o===0?"black":"gainsboro"}`,strokeWidth:o===0?1:.4}),$.jsx("text",{style:{dominantBaseline:"middle",fontSize:"10px",textAnchor:"end",transform:"translateX(-6px)",fill:"black",font:"Roboto"},children:s(o)},o)]},o))})}const r9e=Object.freeze(Object.defineProperty({__proto__:null,YAxis:fee},Symbol.toStringTag,{value:"Module"})),Ys={top:30,left:40,right:100,bottom:50};function A2({parameters:e,data:t,items:n,selection:r,range:i,guardrail:s}){const[o,a]=w.useState(null),u=U=>r!=null&&r.includes(U)?!o||o.length==0?!0:o.includes(U):!1,l=w.useMemo(()=>{const U=n.filter(H=>r==null?void 0:r.includes(H.name)).map(H=>H.group);return n.filter(H=>U==null?void 0:U.includes(H.group)).filter(H=>!(r!=null&&r.includes(H.name))).map(H=>H.name)},[r,n]),c=w.useMemo(()=>{const U=n.map(ie=>ie.group),Z=t.filter(ie=>U==null?void 0:U.includes(ie[e.group_var]));return[...A5e(Z,ie=>({mean:vA(ie,.5,_e=>_e[e.y_var]),upperq:vA(ie,.75,_e=>_e[e.y_var]),lowerq:vA(ie,.25,_e=>_e[e.y_var])}),ie=>ie[e.x_var])].flatMap(([ie,_e])=>({date:ie,mean:_e.mean,upperq:_e.upperq,lowerq:_e.lowerq}))},[t,n,e]),[f,{height:d,width:h}]=ZN(),p=w.useMemo(()=>h-Ys.left-Ys.right,[h]),m=w.useMemo(()=>d-Ys.top-Ys.bottom,[d]),{xMin:y,yMin:g,xMax:_,yMax:b}=w.useMemo(()=>{let U=[];switch(s){case"super_data":U=r==null?void 0:r.concat(l);break;default:U=r;break}const Z=t.map(B=>+B[e.x_var]).filter(B=>B!==null),[H,ue]=Sp(Z),ie=t.filter(B=>U.includes(B[e.cat_var])).map(B=>+B[e.y_var]).filter(B=>B!==null),[_e,te]=e.dataset=="clean_stocks"?Sp(ie):[0,Sp(ie)[1]],[oe,J]=[Xw(c.map(B=>B.lowerq)),Qw(c.map(B=>B.upperq))],x=s=="super_summ"?Xw([_e,oe]):_e,C=s=="super_summ"?Qw([te,J]):te;return{xMin:H,xMax:ue,yMin:x,yMax:C}},[t,r,i,s]),T=w.useMemo(()=>i?Ry([Ys.left,p+Ys.left]).domain(i):Ry([Ys.left,p+Ys.left]).domain([new Date(e.start_date),new Date(e.end_date)]),[p,_,y,i]),I=w.useMemo(()=>OI([m+Ys.top,Ys.top]).domain([g,b]).nice(),[m,b,g]),E=w.useMemo(()=>{const U=Array.from(new Set(t.map(Z=>Z[e.cat_var])));return XD(HD).domain(U)},[t]),S=w.useMemo(()=>{if(!T||!I)return;const U=jg();return U.x(H=>T(td("%Y-%m-%d")(H[e.x_var]))),U.y(H=>I(H[e.y_var])),U.curve(Zh),r==null?void 0:r.map(H=>({country:H,path:U(t.filter(ue=>ue[e.cat_var]==H))}))},[t,T,I,r,_,s]),A=w.useMemo(()=>{if(s!="super_data")return null;const U=jg();return U.x(H=>T(td("%Y-%m-%d")(H[e.x_var]))),U.y(H=>I(H[e.y_var])),U.curve(Zh),l==null?void 0:l.map(H=>({country:H,path:U(t.filter(ue=>ue[e.cat_var]==H))}))},[t,T,I,r,_,s]),L=w.useMemo(()=>{if(s!="super_summ")return null;const U=jg();U.x(ie=>T(td("%Y-%m-%d")(ie.date))),U.y(ie=>I(ie.mean)),U.curve(Zh);const Z=U(c),H=uee();H.x(ie=>T(td("%Y-%m-%d")(ie.date))),H.y0(ie=>I(ie.lowerq)),H.y1(ie=>I(ie.upperq)),H.curve(Zh);const ue=H(c);return{meanLine:Z,confidenceBands:ue,data:c}},[t,T,I,r,_,s]),W=w.useMemo(()=>e.dataset=="clean_stocks"?"Market Index":"Average",[e]),z=w.useMemo(()=>{let Z=null;switch(s){case"super_data":Z=r==null?void 0:r.concat(A==null?void 0:A.map(ue=>ue.country));break;case"super_summ":Z=r==null?void 0:r.concat([W]);break;default:Z=r;break}const H=Z==null?void 0:Z.map(ue=>({country:ue,label_pos:ue==W?L==null?void 0:L.data.slice(-1).map(ie=>I(ie.mean))[0]:t.filter(ie=>ie[e.cat_var]==ue).slice(-1).map(ie=>I(ie[e.y_var]))[0]})).sort((ue,ie)=>ue.label_pos<ie.label_pos?1:-1);if(!H)return H;for(let ue=0;ue<(H==null?void 0:H.length);ue++){if(!H[ue-1])continue;const ie=H[ue-1].label_pos-H[ue].label_pos;ie>=10||(H[ue].label_pos=H[ue].label_pos-10+ie)}return H},[t,r,I,s]);return(r==null?void 0:r.length)==0?$.jsx(by,{ref:f,style:{width:"800px",height:"400px"},children:$.jsx(Ct,{fs:"italic",c:"dimmed",children:"Select an item to view the chart."})}):$.jsxs("svg",{id:"baseLineChart",ref:f,style:{height:"400px",width:"800px",fontFamily:'"Helvetica Neue", "Helvetica", "Arial", sans-serif'},children:[$.jsxs("g",{id:"axes",children:[$.jsx(cee,{isDate:!0,xScale:T,yRange:I.range(),vertPosition:m+Ys.top,showLines:!1,ticks:T.ticks(6).map(U=>({value:U.toString(),offset:T(U)}))}),$.jsx(fee,{dataset:e.dataset,yScale:I,horizontalPosition:Ys.left,xRange:T.range()})]}),$.jsx("svg",{style:{width:`${p}`},children:A==null?void 0:A.map(U=>$.jsx("g",{children:$.jsx("path",{id:`${U.country}`,fill:"none",stroke:u(U.country)?E(U.country):"gray",strokeDasharray:"4,1",strokeWidth:.5,d:U.path},`${U.country}_key`)},`${U.country}_g`))},"control_lines"),$.jsx("svg",{style:{width:`${p}`},children:L?$.jsxs("g",{children:[$.jsx("path",{id:"confidenceBands",fill:"lightgray",opacity:.25,stroke:"none",d:L.confidenceBands},"confidenceBands_key"),$.jsx("path",{id:"meanLine",fill:"none",stroke:"gray",strokeDasharray:"4,1",strokeWidth:.5,d:L.meanLine},"meanLine_key")]},"summary_g"):null},"control_bands"),$.jsxs("svg",{style:{width:`${p}`},children:[S==null?void 0:S.map(U=>$.jsx("g",{children:$.jsx("path",{id:`${U.country}`,fill:"none",stroke:u(U.country)?E(U.country):"gainsboro",strokeWidth:o!=null&&o.includes(U.country)?2:1.5,d:U.path},`${U.country}_key`)},`${U.country}_g`)),z==null?void 0:z.map(U=>$.jsx("foreignObject",{x:p+Ys.left+5,y:U.label_pos-7,width:100,height:20,children:$.jsx(Ct,{px:2,size:10,color:u(U.country)?E(U.country):"silver",onMouseOver:Z=>{const H=Z.target;r!=null&&r.includes(H.innerText)&&a([H.innerText])},onMouseOut:()=>a([]),children:U.country.includes("Policy")?U.country.split("(Policy")[0]:U.country})},`${U.country}_label`))]},"lines")]})}const i9e=Object.freeze(Object.defineProperty({__proto__:null,LineChart:A2,default:A2},Symbol.toStringTag,{value:"Module"})),Th={top:0,left:0,right:0,bottom:0},Mj=20,PA=60;function O2({parameters:e,data:t,items:n,selection:r,setSelection:i,trackSelection:s,range:o,guardrail:a}){const u=w.useMemo(()=>o?Ry([Th.left,PA+Th.left]).domain(o):Ry([Th.left,PA+Th.left]).domain([new Date(e.start_date),new Date(e.end_date)]),[e,o]),l=w.useMemo(()=>{const d=t.filter(m=>n==null?void 0:n.map(y=>y.name).includes(m[e.cat_var])).map(m=>+m[e.y_var]).filter(m=>m!==null),[h,p]=Sp(d);return OI([Mj+Th.top,Th.top]).domain([h,p]).nice()},[e,t,n]),c=w.useMemo(()=>{const d=Array.from(new Set(t.map(h=>h[e.cat_var])));return XD(HD).domain(d)},[e,t]),f=w.useMemo(()=>{if(a!="juxt_data")return null;const d=uee();d.x(m=>u(td("%Y-%m-%d")(m[e.x_var]))),d.y0(()=>l(0)),d.y1(m=>l(m[e.y_var])),d.curve(Zh);const h=jg();return h.x(m=>u(td("%Y-%m-%d")(m[e.x_var]))),h.y(m=>l(m[e.y_var])),h.curve(Zh),n==null?void 0:n.map(m=>({country:m.name,path:h(t.filter(y=>y[e.cat_var]==m.name)),area:d(t.filter(y=>y[e.cat_var]==m.name))}))},[e,a,t,n,u,l]);return $.jsx(qp.Group,{orientation:"vertical",onChange:d=>{i(d),s(d)},spacing:0,offset:"sm",children:n==null?void 0:n.map(d=>$.jsxs($.Fragment,{children:[d.name==="Eldoril North"?$.jsx(md,{size:"xs",label:"Policy A",labelPosition:"left",color:"darkgray"}):null,d.name==="Eldoril West"?$.jsx(md,{size:"xs",label:"Policy B",labelPosition:"left",color:"darkgray"}):null,d.name==="Silvoria North"?$.jsx(md,{size:"xs",label:"Policy C",labelPosition:"left",color:"darkgray"}):null,$.jsxs(Zu,{grow:!0,gutter:8,columns:2,children:[$.jsx(Zu.Col,{span:1,children:$.jsx(qp,{value:d.name,label:d.name.includes("Policy")?d.name.split("(Policy")[0]:d.name,styles:a=="juxt_data"?{root:{display:"flex",alignItems:"flex-end",padding:"2px 0"}}:{},children:d.name},`${d.name}_checkbox`)},`${d.name}_grid1`),$.jsx(Zu.Col,{span:a=="juxt_data"?"auto":3,children:$.jsxs("svg",{style:{width:`${PA}`,height:`${Mj}`},children:[$.jsx("path",{id:`${d.name}_sparkarea`,fill:r!=null&&r.includes(d.name)?c(d.name):"gray",stroke:"none",opacity:.25,d:f==null?void 0:f.filter(h=>h.country==d.name)[0].area},`${d.name}_sparkarea`),$.jsx("path",{id:`${d.name}_spark`,fill:"none",stroke:r!=null&&r.includes(d.name)?c(d.name):"gray",strokeWidth:.75,d:f==null?void 0:f.filter(h=>h.country==d.name)[0].path},`${d.name}_spark`)]},`${d.name}_sparksvg`)},`${d.name}_grid2`)]},`${d.name}_grid`)]}))})}const s9e=Object.freeze(Object.defineProperty({__proto__:null,Sidebar:O2,default:O2},Symbol.toStringTag,{value:"Module"}));function P2({parameters:e,setRange:t,trackRange:n}){function r(s){return Ry([0,100]).domain([new Date(e.start_date),new Date(e.end_date)]).invert(s)}function i(s){const o=r(s);return r$("%b %e, %Y")(o)}return $.jsx(SQ,{defaultValue:[0,100],label:i,labelAlwaysOn:!0,disabled:!e.allow_time_slider,onChange:([s,o])=>{t([r(s),r(o)]),n([r(s),r(o)])}})}const o9e=Object.freeze(Object.defineProperty({__proto__:null,RangeSelector:P2,default:P2},Symbol.toStringTag,{value:"Module"}));function R2({guardrail:e,setGuardrail:t}){return $.jsxs($.Fragment,{children:[$.jsx(Ct,{children:"Guardrail:"}),$.jsx(cQ,{value:e,onChange:t,data:[{value:"none",label:"none"},{value:"super_data",label:"super_data"},{value:"super_summ",label:"super_summ"},{value:"juxt_data",label:"juxt_data"},{value:"juxt_summ",label:"juxt_summ"}]})]})}const a9e=Object.freeze(Object.defineProperty({__proto__:null,Selector:R2,default:R2},Symbol.toStringTag,{value:"Module"})),yn=Array.isArray;function js(e){return e!=null?yn(e)?e:[e]:[]}function u9e(e=0,t=1/0){return`${Fj(e)} < row_number() && row_number() <= ${Fj(t)}`}function Fj(e){return e<0?`count() + ${e}`:e}class dee{constructor(t){t&&(this._params=t)}params(t){return arguments.length?(t&&(this._params={...this._params,...t}),this):this._params}reify(t){return this.__reify(this,t)}count(t){return this.__count(this,t)}derive(t,n){return this.__derive(this,t,n)}filter(t){return this.__filter(this,t)}slice(t,n){return this.filter(u9e(t,n)).reify()}groupby(...t){return this.__groupby(this,t.flat())}orderby(...t){return this.__orderby(this,t.flat())}relocate(t,n){return this.__relocate(this,js(t),n)}rename(...t){return this.__rename(this,t.flat())}rollup(t){return this.__rollup(this,t)}sample(t,n){return this.__sample(this,t,n)}select(...t){return this.__select(this,t.flat())}ungroup(){return this.__ungroup(this)}unorder(){return this.__unorder(this)}dedupe(...t){return this.__dedupe(this,t.flat())}impute(t,n){return this.__impute(this,t,n)}fold(t,n){return this.__fold(this,t,n)}pivot(t,n,r){return this.__pivot(this,t,n,r)}spread(t,n){return this.__spread(this,t,n)}unroll(t,n){return this.__unroll(this,t,n)}lookup(t,n,...r){return this.__lookup(this,t,n,r.flat())}join(t,n,r,i){return this.__join(this,t,n,r,i)}join_left(t,n,r,i){const s={...i,left:!0,right:!1};return this.__join(this,t,n,r,s)}join_right(t,n,r,i){const s={...i,left:!1,right:!0};return this.__join(this,t,n,r,s)}join_full(t,n,r,i){const s={...i,left:!0,right:!0};return this.__join(this,t,n,r,s)}cross(t,n,r){return this.__cross(this,t,n,r)}semijoin(t,n){return this.__semijoin(this,t,n)}antijoin(t,n){return this.__antijoin(this,t,n)}concat(...t){return this.__concat(this,t.flat())}union(...t){return this.__union(this,t.flat())}intersect(...t){return this.__intersect(this,t.flat())}except(...t){return this.__except(this,t.flat())}}function jt(e){throw Error(e)}function cs(e){return typeof e=="number"}function er(e){return typeof e=="function"}function RI(e,t){const n=Array(e);if(er(t))for(let r=0;r<e;++r)n[r]=t(r);else n.fill(t);return n}let l9e=class extends dee{constructor(t,n,r,i,s,o,a){super(a),this._names=Object.freeze(t),this._data=r,this._total=n,this._nrows=i?i.count():n,this._mask=n!==this._nrows&&i||null,this._group=s||null,this._order=o||null}create(t){jt("Not implemented")}get[Symbol.toStringTag](){if(!this._names)return"Object";const t=this.numRows()+" row"+(this.numRows()!==1?"s":"");return`Table: ${this.numCols()+" col"+(this.numCols()!==1?"s":"")} x ${t}`+(this.isFiltered()?` (${this.totalRows()} backing)`:"")+(this.isGrouped()?`, ${this._group.size} groups`:"")+(this.isOrdered()?", ordered":"")}isFiltered(){return!!this._mask}isGrouped(){return!!this._group}isOrdered(){return!!this._order}data(){return this._data}mask(){return this._mask}groups(){return this._group}comparator(){return this._order}totalRows(){return this._total}numRows(){return this._nrows}get size(){return this._nrows}numCols(){return this._names.length}columnNames(t){return t?this._names.filter(t):this._names.slice()}columnName(t){return this._names[t]}columnIndex(t){return this._names.indexOf(t)}columnArray(t,n){return this.array(t,n)}array(t,n){jt("Not implemented")}*values(t){const n=this.getter(t),r=this.numRows();for(let i=0;i<r;++i)yield n(i)}get(t,n=0){jt("Not implemented")}getter(t){jt("Not implemented")}objects(t){jt("Not implemented")}object(t){jt("Not implemented")}[Symbol.iterator](){jt("Not implemented")}print(t={}){cs(t)?t={limit:t}:t.limit==null&&(t.limit=10);const n=this.objects({...t,grouped:!1}),r=`${this[Symbol.toStringTag]}. Showing ${n.length} rows.`;return console.log(r),console.table(n),this}indices(t=!0){if(this._index)return this._index;const n=this.numRows(),r=new Uint32Array(n),i=this.isOrdered(),s=this.mask();let o=-1;if(s)for(let a=s.next(0);a>=0;a=s.next(a+1))r[++o]=a;else for(let a=0;a<n;++a)r[++o]=a;if(t&&i){const a=this._order,u=this._data;r.sort((l,c)=>a(l,c,u))}return(t||!i)&&(this._index=r),r}partitions(t=!0){if(this._partitions)return this._partitions;if(!this.isGrouped())return[this.indices(t)];const{keys:n,size:r}=this._group,i=RI(r,()=>[]),s=this._index,o=this.mask(),a=this.numRows();if(s&&this.isOrdered())for(let u=0,l;u<a;++u)l=s[u],i[n[l]].push(l);else if(o)for(let u=o.next(0);u>=0;u=o.next(u+1))i[n[u]].push(u);else for(let u=0;u<a;++u)i[n[u]].push(u);if(t&&!s&&this.isOrdered()){const u=this._order,l=this._data;for(let c=0;c<r;++c)i[c].sort((f,d)=>u(f,d,l))}return(t||!this.isOrdered())&&(this._partitions=i),i}scan(t,n,r=1/0,i=0){const s=this._mask,o=this._nrows,a=this._data;let u=i||0;if(u>o)return;const l=Math.min(o,u+r),c=()=>u=this._total;if(n&&this.isOrdered()||s&&this._index){const f=this.indices(),d=this._data;for(;u<l;++u)t(f[u],d,c)}else if(s){let f=l-u+1;for(u=s.nth(u);--f&&u>-1;u=s.next(u+1))t(u,a,c)}else for(;u<l;++u)t(u,a,c)}slice(t=0,n=1/0){if(this.isGrouped())return super.slice(t,n);const r=[],i=this.numRows();return t=Math.max(0,t+(t<0?i:0)),n=Math.min(i,Math.max(0,n+(n<0?i:0))),this.scan(s=>r.push(s),!0,n-t,t),this.reify(r)}reduce(t){return this.__reduce(this,t)}},c9e=class{constructor(t){this.data=t}get length(){return this.data.length}get(t){return this.data[t]}[Symbol.iterator](){return this.data[Symbol.iterator]()}},f9e=function(e){return e&&er(e.get)?e:new c9e(e)};function Cl(e){return e instanceof Date}function Xi(e){return e===Object(e)}function oT(e){return e instanceof RegExp}function Li(e){return typeof e=="string"}function d9e(e,t){const n=r=>jt(`Illegal argument type: ${r||typeof e}`);return e instanceof Map?Bj(e.entries(),t):Cl(e)?n("Date"):oT(e)?n("RegExp"):Li(e)?n():yn(e)?h9e(e,t):er(e[Symbol.iterator])?p9e(e,t):Xi(e)?Bj(Object.entries(e),t):n()}function Bj(e,t=["key","value"]){const n=[],r=[];for(const[s,o]of e)n.push(s),r.push(o);const i={};return t[0]&&(i[t[0]]=n),t[1]&&(i[t[1]]=r),i}function h9e(e,t){const n=e.length,r={},i=s=>r[s]=Array(n);if(n){t=t||Object.keys(e[0]);const s=t.map(i),o=s.length;for(let a=0;a<n;++a){const u=e[a];for(let l=0;l<o;++l)s[l][a]=u[t[l]]}}else t&&t.forEach(i);return r}function p9e(e,t){const n={},r=o=>n[o]=[];let i,s;for(const o of e){i||(t=t||Object.keys(o),i=t.map(r),s=i.length);for(let a=0;a<s;++a)i[a].push(o[t[a]])}return!i&&t&&t.forEach(r),n}const{hasOwnProperty:m9e}=Object.prototype;function xa(e,t){return m9e.call(e,t)}function wo(e){return e?new jj({...e.data()},e.columnNames()):new jj}class jj{constructor(t,n){this.data=t||{},this.names=n||[]}add(t,n){return this.has(t)||this.names.push(t+""),this.data[t]=n}has(t){return xa(this.data,t)}new(){return this.filter=null,this.groups=this.groups||null,this.order=null,this}groupby(t){return this.groups=t,this}}const dn=void 0,g9e=Object.getPrototypeOf(Int8Array);function z_(e){return e instanceof g9e}function nd(e){return yn(e)||z_(e)}function ya(e){return e!=null&&e===e}const F0=e=>nd(e)||Li(e),y9e={compact:e=>nd(e)?e.filter(t=>ya(t)):e,concat:(...e)=>[].concat(...e),includes:(e,t,n)=>F0(e)?e.includes(t,n):!1,indexof:(e,t)=>F0(e)?e.indexOf(t):-1,join:(e,t)=>nd(e)?e.join(t):dn,lastindexof:(e,t)=>F0(e)?e.lastIndexOf(t):-1,length:e=>F0(e)?e.length:0,pluck:(e,t)=>nd(e)?e.map(n=>ya(n)?n[t]:dn):dn,reverse:e=>nd(e)?e.slice().reverse():Li(e)?e.split("").reverse().join(""):dn,slice:(e,t,n)=>F0(e)?e.slice(t,n):dn};function _9e(e,t,n,r,i){return e==null?null:e<t?-1/0:e>n?1/0:(e=Math.max(t,Math.min(e,n)),t+r*Math.floor(1e-14+(e-t)/r+(i||0)))}function ub(e,t,n="0"){const r=e+"",i=r.length;return i<t?Array(t-i+1).join(n)+r:r}const Da=e=>(e<10?"0":"")+e,v9e=e=>e<0?"-"+ub(-e,6):e>9999?"+"+ub(e,6):ub(e,4);function hee(e,t,n,r,i,s,o,a,u){const l=a?"Z":"";return v9e(e)+"-"+Da(t+1)+"-"+Da(n)+(!u||o?"T"+Da(r)+":"+Da(i)+":"+Da(s)+"."+ub(o,3)+l:s?"T"+Da(r)+":"+Da(i)+":"+Da(s)+l:i||r||!a?"T"+Da(r)+":"+Da(i)+l:"")}function pee(e,t){return isNaN(e)?"Invalid Date":hee(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds(),!1,t)}function NI(e,t){return isNaN(e)?"Invalid Date":hee(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds(),!0,t)}const b9e=/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/;function E9e(e){return e.match(b9e)}function w9e(e,t=Date.parse){return E9e(e)?t(e):e}const mee=6e4,gee=864e5,yee=6048e5,Sr=new Date,Ir=new Date,Rr=e=>(Sr.setTime(typeof e=="string"?w9e(e):e),Sr);function T9e(e,t,n,r,i,s,o){return arguments.length?new Date(e,t||0,n??1,r||0,i||0,s||0,o||0):new Date(Date.now())}function S9e(e,t,n,r,i,s,o){return arguments.length?new Date(Date.UTC(e,t||0,n??1,r||0,i||0,s||0,o||0)):new Date(Date.now())}function I9e(e){Ir.setTime(+e),Ir.setHours(0,0,0,0),Sr.setTime(+Ir),Sr.setMonth(0),Sr.setDate(1);const t=(Ir.getTimezoneOffset()-Sr.getTimezoneOffset())*mee;return Math.floor(1+(Ir-Sr-t)/gee)}function x9e(e){Ir.setTime(+e),Ir.setUTCHours(0,0,0,0);const t=Date.UTC(Ir.getUTCFullYear(),0,1);return Math.floor(1+(Ir-t)/gee)}function C9e(e,t){const n=t||0;Ir.setTime(+e),Ir.setDate(Ir.getDate()-(Ir.getDay()+7-n)%7),Ir.setHours(0,0,0,0),Sr.setTime(+e),Sr.setMonth(0),Sr.setDate(1),Sr.setDate(1-(Sr.getDay()+7-n)%7),Sr.setHours(0,0,0,0);const r=(Ir.getTimezoneOffset()-Sr.getTimezoneOffset())*mee;return Math.floor((1+(Ir-Sr)-r)/yee)}function A9e(e,t){const n=t||0;return Ir.setTime(+e),Ir.setUTCDate(Ir.getUTCDate()-(Ir.getUTCDay()+7-n)%7),Ir.setUTCHours(0,0,0,0),Sr.setTime(+e),Sr.setUTCMonth(0),Sr.setUTCDate(1),Sr.setUTCDate(1-(Sr.getUTCDay()+7-n)%7),Sr.setUTCHours(0,0,0,0),Math.floor((1+(Ir-Sr))/yee)}const O9e={format_date:(e,t)=>pee(Rr(e),!t),format_utcdate:(e,t)=>NI(Rr(e),!t),timestamp:e=>+Rr(e),year:e=>Rr(e).getFullYear(),quarter:e=>Math.floor(Rr(e).getMonth()/3),month:e=>Rr(e).getMonth(),date:e=>Rr(e).getDate(),dayofweek:e=>Rr(e).getDay(),hours:e=>Rr(e).getHours(),minutes:e=>Rr(e).getMinutes(),seconds:e=>Rr(e).getSeconds(),milliseconds:e=>Rr(e).getMilliseconds(),utcyear:e=>Rr(e).getUTCFullYear(),utcquarter:e=>Math.floor(Rr(e).getUTCMonth()/3),utcmonth:e=>Rr(e).getUTCMonth(),utcdate:e=>Rr(e).getUTCDate(),utcdayofweek:e=>Rr(e).getUTCDay(),utchours:e=>Rr(e).getUTCHours(),utcminutes:e=>Rr(e).getUTCMinutes(),utcseconds:e=>Rr(e).getUTCSeconds(),utcmilliseconds:e=>Rr(e).getUTCMilliseconds(),datetime:T9e,dayofyear:I9e,week:C9e,utcdatetime:S9e,utcdayofyear:x9e,utcweek:A9e,now:Date.now};function i$(e,t){return e==null||t==null||e!==e||t!==t?!1:e===t?!0:Cl(e)||Cl(t)?+e==+t:oT(e)&&oT(t)?e+""==t+"":Xi(e)&&Xi(t)?P9e(e,t):!1}function P9e(e,t){if(Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;if(e.length||t.length)return Uj(e,t);const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length||(n.sort(),r.sort(),!Uj(n,r,(s,o)=>s===o)))return!1;const i=n.length;for(let s=0;s<i;++s){const o=n[s];if(!i$(e[o],t[o]))return!1}return!0}function Uj(e,t,n=i$){const r=e.length;if(r!==t.length)return!1;for(let i=0;i<r;++i)if(!n(e[i],t[i]))return!1;return!0}const R9e={parse_json:e=>JSON.parse(e),to_json:e=>JSON.stringify(e)};let N9e=Math.random;function zm(){return N9e()}const k9e={random:zm,is_nan:Number.isNaN,is_finite:Number.isFinite,abs:Math.abs,cbrt:Math.cbrt,ceil:Math.ceil,clz32:Math.clz32,exp:Math.exp,expm1:Math.expm1,floor:Math.floor,fround:Math.fround,greatest:Math.max,least:Math.min,log:Math.log,log10:Math.log10,log1p:Math.log1p,log2:Math.log2,pow:Math.pow,round:Math.round,sign:Math.sign,sqrt:Math.sqrt,trunc:Math.trunc,degrees:e=>180*e/Math.PI,radians:e=>Math.PI*e/180,acos:Math.acos,acosh:Math.acosh,asin:Math.asin,asinh:Math.asinh,atan:Math.atan,atan2:Math.atan2,atanh:Math.atanh,cos:Math.cos,cosh:Math.cosh,sin:Math.sin,sinh:Math.sinh,tan:Math.tan,tanh:Math.tanh};function s$(e){return e instanceof Map}function D9e(e){return e instanceof Set}function lb(e){return s$(e)||D9e(e)}function RA(e){return Array.from(e)}const $9e={has:(e,t)=>lb(e)?e.has(t):e!=null?xa(e,t):!1,keys:e=>s$(e)?RA(e.keys()):e!=null?Object.keys(e):[],values:e=>lb(e)?RA(e.values()):e!=null?Object.values(e):[],entries:e=>lb(e)?RA(e.entries()):e!=null?Object.entries(e):[],object:e=>e?Object.fromEntries(e):dn};function L9e(e,t,n){if(t instanceof Map){if(t.has(e))return t.get(e)}else if(xa(t,e))return t[e];return n!==void 0?n:e}function M9e(e,t,n){let r=arguments.length;e=+e,t=+t,n=r<2?(t=e,e=0,1):r<3?1:+n,r=Math.max(0,Math.ceil((t-e)/n))|0;const i=new Array(r);for(let s=0;s<r;++s)i[s]=e+s*n;return i}const F9e={parse_date:e=>e==null?e:new Date(e),parse_float:e=>e==null?e:Number.parseFloat(e),parse_int:(e,t)=>e==null?e:Number.parseInt(e,t),endswith:(e,t,n)=>e==null?!1:String(e).endsWith(t,n),match:(e,t,n)=>{const r=e==null?e:String(e).match(t);return n==null||r==null?r:typeof n=="number"?r[n]:r.groups?r.groups[n]:null},normalize:(e,t)=>e==null?e:String(e).normalize(t),padend:(e,t,n)=>e==null?e:String(e).padEnd(t,n),padstart:(e,t,n)=>e==null?e:String(e).padStart(t,n),upper:e=>e==null?e:String(e).toUpperCase(),lower:e=>e==null?e:String(e).toLowerCase(),repeat:(e,t)=>e==null?e:String(e).repeat(t),replace:(e,t,n)=>e==null?e:String(e).replace(t,String(n)),substring:(e,t,n)=>e==null?e:String(e).substring(t,n),split:(e,t,n)=>e==null?[]:String(e).split(t,n),startswith:(e,t,n)=>e==null?!1:String(e).startsWith(t,n),trim:e=>e==null?e:String(e).trim()},ep={bin:_9e,equal:i$,recode:L9e,sequence:M9e,...y9e,...O9e,...R9e,...k9e,...$9e,...F9e};function Ny(e){return typeof e=="bigint"}function wu(e){return e===void 0?e+"":Ny(e)?e+"n":JSON.stringify(e)}function Mt(e,t=[],n=[]){return new B9e(e,js(t),js(n))}let B9e=class{constructor(t,n,r){this.name=t,this.fields=n,this.params=r}toString(){const t=[...this.fields.map(n=>`d[${wu(n)}]`),...this.params.map(wu)];return`d => op.${this.name}(${t})`}toObject(){return{expr:this.toString(),func:!0}}};const _ee=e=>Mt("any",e),vee=()=>Mt("count"),bee=e=>Mt("array_agg",e),Eee=e=>Mt("array_agg_distinct",e),wee=(e,t)=>Mt("map_agg",[e,t]),Tee=(e,t)=>Mt("object_agg",[e,t]),See=(e,t)=>Mt("entries_agg",[e,t]);({...ep});function j9e(e,t){e=lb(e)?e:new Set(e);let n=t,r=0;for(;e.has(n);)n=t+ ++r;return n}function U9e(e,t){if(!e||!t)return e;const{keys:n,rows:r,size:i}=e,s=new Int32Array(i);t.scan(c=>s[n[c]]=1);const o=s.reduce((c,f)=>c+f,0);if(o===i)return e;const a=Array(o);let u=0;for(let c=0;c<i;++c)s[c]&&(a[s[c]=u++]=r[c]);const l=new Uint32Array(n.length);return t.scan(c=>l[c]=s[n[c]]),{...e,keys:l,rows:a,size:u}}function V9e(e,t,n,r){const{keys:i,rows:s,size:o}=e;let a=s,u=o,l=null;if(n){l=new Int32Array(o),t(p=>l[i[p]]=1);const h=l.reduce((p,m)=>p+m,0);if(h!==o){a=Array(h),u=0;for(let p=0;p<o;++p)l[p]&&(a[l[p]=u++]=s[p])}}let c=-1;const f=new Uint32Array(r);return t(u!==o?h=>f[++c]=l[i[h]]:h=>f[++c]=i[h]),{...e,keys:f,rows:a,size:u}}function z9e(e,t,n,r){const i=r==="map"||r===!0?wee:r==="entries"?See:r==="object"?Tee:jt('groups option must be "map", "entries", or "object".'),{names:s}=e.groups(),o=j9e(e.columnNames(),"_");let a=e.select().reify(t).create({data:{[o]:n}}).rollup({[o]:bee(o)});for(let u=s.length;--u>=0;)a=a.groupby(s.slice(0,u)).rollup({[o]:i(s[u],o)});return a.get(o)}const H9e="ArrayPattern",W9e="ArrowFunctionExpression",q9e="FunctionExpression",zc="Identifier",Hm="Literal",Iee="MemberExpression",G9e="ObjectExpression",xee="ObjectPattern",Cee="Property",H_="Column",Y9e="Constant",K9e="Dictionary",Q9e="Function",X9e="Parameter",Aee="Op",Wn=(e,t)=>{const n=J9e[e.type];return n?n(e,t):jt(`Unsupported expression construct: ${e.type}`)},NA=(e,t)=>"("+Wn(e.left,t)+" "+e.operator+" "+Wn(e.right,t)+")",kA=(e,t)=>"("+ja(e.params,t)+")=>"+Wn(e.body,t),Vj=(e,t)=>Wn(e.callee,t)+"("+ja(e.arguments,t)+")",ja=(e,t,n=",")=>e.map(r=>Wn(r,t)).join(n),Oee=e=>e.computed?`[${wu(e.name)}]`:`.${e.name}`,zj=(e,t,n)=>{const r=e.table||"";return`data${r}${Oee(e)}.${n}(${t.index}${r})`},J9e={Constant:e=>e.raw,Column:(e,t)=>zj(e,t,"get"),Dictionary:(e,t)=>zj(e,t,"key"),Function:e=>`fn.${e.name}`,Parameter:e=>`$${Oee(e)}`,Op:(e,t)=>`op(${wu(e.name)},${t.op||t.index})`,Literal:e=>e.raw,Identifier:e=>e.name,TemplateLiteral:(e,t)=>{const{quasis:n,expressions:r}=e,i=r.length;let s=n[0].value.raw;for(let o=0;o<i;)s+="${"+Wn(r[o],t)+"}"+n[++o].value.raw;return"`"+s+"`"},MemberExpression:(e,t)=>{const n=!e.computed,r=Wn(e.object,t),i=Wn(e.property,t);return r+(n?"."+i:"["+i+"]")},CallExpression:Vj,NewExpression:(e,t)=>"new "+Vj(e,t),ArrayExpression:(e,t)=>"["+ja(e.elements,t)+"]",AssignmentExpression:NA,BinaryExpression:NA,LogicalExpression:NA,UnaryExpression:(e,t)=>"("+e.operator+Wn(e.argument,t)+")",ConditionalExpression:(e,t)=>"("+Wn(e.test,t)+"?"+Wn(e.consequent,t)+":"+Wn(e.alternate,t)+")",ObjectExpression:(e,t)=>"({"+ja(e.properties,t)+"})",Property:(e,t)=>{const n=Wn(e.key,t);return(e.computed?`[${n}]`:n)+":"+Wn(e.value,t)},ArrowFunctionExpression:kA,FunctionExpression:kA,FunctionDeclaration:kA,ArrayPattern:(e,t)=>"["+ja(e.elements,t)+"]",ObjectPattern:(e,t)=>"{"+ja(e.properties,t)+"}",VariableDeclaration:(e,t)=>e.kind+" "+ja(e.declarations,t,","),VariableDeclarator:(e,t)=>Wn(e.id,t)+"="+Wn(e.init,t),SpreadElement:(e,t)=>"..."+Wn(e.argument,t),BlockStatement:(e,t)=>"{"+ja(e.body,t,";")+";}",BreakStatement:()=>"break",ExpressionStatement:(e,t)=>Wn(e.expression,t),IfStatement:(e,t)=>"if ("+Wn(e.test,t)+")"+Wn(e.consequent,t)+(e.alternate?" else "+Wn(e.alternate,t):""),SwitchStatement:(e,t)=>"switch ("+Wn(e.discriminant,t)+") {"+ja(e.cases,t,"")+"}",SwitchCase:(e,t)=>(e.test?"case "+Wn(e.test,t):"default")+": "+ja(e.consequent,t,";")+";",ReturnStatement:(e,t)=>"return "+Wn(e.argument,t),Program:(e,t)=>Wn(e.body[0],t)};function aT(e,t={index:"row"}){return Wn(e,t)}function Z9e(e,t,n=15,r=!0,i=0,s){const a=Math.LN10;if(s==null){const u=Math.ceil(Math.log(n)/a),l=t-e||Math.abs(e)||1,c=[5,2];for(s=Math.max(i,Math.pow(10,Math.round(Math.log(l)/a)-u));Math.ceil(l/s)>n;)s*=10;const f=c.length;for(let d=0;d<f;++d){const h=s/c[d];h>=i&&l/h<=n&&(s=h)}}if(r){let u=Math.log(s);const l=u>=0?0:~~(-u/a)+1,c=Math.pow(10,-l-1);u=Math.floor(e/s+c)*s,e=e<u?u-s:u,t=Math.ceil(t/s)*s}return[e,t===e?e+s:t,s]}function im(e){const t=typeof e;return t==="string"?`"${e}"`:t!=="object"||!e?e:Cl(e)?+e:yn(e)||z_(e)?`[${e.map(im)}]`:oT(e)?e+"":eBe(e)}function eBe(e){let t="{",n=-1;for(const r in e)++n>0&&(t+=","),t+=`"${r}":${im(e[r])}`;return t+="}",t}function uT(e,t){const n=e.length;return n===1?(r,i)=>im(e[0](r,i)):(r,i)=>{let s="";for(let o=0;o<n;++o){o>0&&(s+="|");const a=e[o](r,i);if(t&&(a==null||a!==a))return null;s+=im(a)}return s}}function tBe(){const e=new Map;return{count(){return e.size},values(){return Array.from(e.values(),t=>t.v)},increment(t){const n=im(t),r=e.get(n);r?++r.n:e.set(n,{v:t,n:1})},decrement(t){const n=im(t),r=e.get(n);r.n===1?e.delete(n):--r.n},forEach(t){e.forEach(({v:n,n:r})=>t(n,r))}}}function Hu(){}function nBe(e,t=0,n=e.length){let r=e[t++];for(let i=t;i<n;++i)r*=e[i];return r}function qr(e){return e.init=e.init||Hu,e.add=e.add||Hu,e.rem=e.rem||Hu,e}function Hj(e,t){return e.product_v=!1,e.product=t}const Pee={count:{create:()=>qr({value:e=>e.count}),param:[]},array_agg:{create:()=>qr({init:e=>e.values=!0,value:e=>e.list.values(e.stream)}),param:[1]},object_agg:{create:()=>qr({init:e=>e.values=!0,value:e=>Object.fromEntries(e.list.values())}),param:[2]},map_agg:{create:()=>qr({init:e=>e.values=!0,value:e=>new Map(e.list.values())}),param:[2]},entries_agg:{create:()=>qr({init:e=>e.values=!0,value:e=>e.list.values(e.stream)}),param:[2]},any:{create:()=>qr({add:(e,t)=>{e.any==null&&(e.any=t)},value:e=>e.valid?e.any:dn}),param:[1]},valid:{create:()=>qr({value:e=>e.valid}),param:[1]},invalid:{create:()=>qr({value:e=>e.count-e.valid}),param:[1]},distinct:{create:()=>({init:e=>e.distinct=tBe(),value:e=>e.distinct.count()+(e.valid===e.count?0:1),add:(e,t)=>e.distinct.increment(t),rem:(e,t)=>e.distinct.decrement(t)}),param:[1]},array_agg_distinct:{create:()=>qr({value:e=>e.distinct.values()}),param:[1],req:["distinct"]},mode:{create:()=>qr({value:e=>{let t=dn,n=0;return e.distinct.forEach((r,i)=>{i>n&&(n=i,t=r)}),t}}),param:[1],req:["distinct"]},sum:{create:()=>({init:e=>e.sum=0,value:e=>e.valid?e.sum:dn,add:(e,t)=>Ny(t)?e.sum===0?e.sum=t:e.sum+=t:e.sum+=+t,rem:(e,t)=>e.sum-=t}),param:[1]},product:{create:()=>({init:e=>Hj(e,1),value:e=>e.valid?e.product_v?Hj(e,nBe(e.list.values())):e.product:void 0,add:(e,t)=>Ny(t)&&e.product===1?e.product=t:e.product*=t,rem:(e,t)=>t==0||t===1/0||t===-1/0?e.product_v=!0:e.product/=t}),param:[1],stream:["array_agg"]},mean:{create:()=>({init:e=>e.mean=0,value:e=>e.valid?e.mean:dn,add:(e,t)=>{e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid},rem:(e,t)=>{e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean}}),param:[1]},average:{create:()=>qr({value:e=>e.valid?e.mean:dn}),param:[1],req:["mean"]},variance:{create:()=>({init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):dn,add:(e,t)=>e.dev+=e.mean_d*(t-e.mean),rem:(e,t)=>e.dev-=e.mean_d*(t-e.mean)}),param:[1],req:["mean"]},variancep:{create:()=>qr({value:e=>e.valid>1?e.dev/e.valid:dn}),param:[1],req:["variance"]},stdev:{create:()=>qr({value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):dn}),param:[1],req:["variance"]},stdevp:{create:()=>qr({value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):dn}),param:[1],req:["variance"]},min:{create:()=>({init:e=>e.min=dn,value:e=>e.min=Number.isNaN(e.min)?e.list.min():e.min,add:(e,t)=>{(t<e.min||e.min===dn)&&(e.min=t)},rem:(e,t)=>{t<=e.min&&(e.min=NaN)}}),param:[1],stream:["array_agg"]},max:{create:()=>({init:e=>e.max=dn,value:e=>e.max=Number.isNaN(e.max)?e.list.max():e.max,add:(e,t)=>{(t>e.max||e.max===dn)&&(e.max=t)},rem:(e,t)=>{t>=e.max&&(e.max=NaN)}}),param:[1],stream:["array_agg"]},quantile:{create:e=>qr({value:t=>t.list.quantile(e)}),param:[1,1],req:["array_agg"]},median:{create:()=>qr({value:e=>e.list.quantile(.5)}),param:[1],req:["array_agg"]},covariance:{create:()=>({init:e=>{e.cov=e.mean_x=e.mean_y=e.dev_x=e.dev_y=0},value:e=>e.valid>1?e.cov/(e.valid-1):dn,add:(e,t,n)=>{const r=t-e.mean_x,i=n-e.mean_y;e.mean_x+=r/e.valid,e.mean_y+=i/e.valid;const s=n-e.mean_y;e.dev_x+=r*(t-e.mean_x),e.dev_y+=i*s,e.cov+=r*s},rem:(e,t,n)=>{const r=t-e.mean_x,i=n-e.mean_y;e.mean_x-=e.valid?r/e.valid:e.mean_x,e.mean_y-=e.valid?i/e.valid:e.mean_y;const s=n-e.mean_y;e.dev_x-=r*(t-e.mean_x),e.dev_y-=i*s,e.cov-=r*s}}),param:[2]},covariancep:{create:()=>qr({value:e=>e.valid>1?e.cov/e.valid:dn}),param:[2],req:["covariance"]},corr:{create:()=>qr({value:e=>e.valid>1?e.cov/(Math.sqrt(e.dev_x)*Math.sqrt(e.dev_y)):dn}),param:[2],req:["covariance"]},bins:{create:(e,t,n,r)=>qr({value:i=>Z9e(i.min,i.max,e,t,n,r)}),param:[1,4],req:["min","max"]}},Wj={create(){let e;return{init:()=>e=1,value:t=>{const n=t.index;return n&&!t.peer(n)?e=n+1:e}}},param:[]},qj={create(){let e;return{init:()=>e=0,value:t=>{const{index:n,peer:r,size:i}=t;let s=n;if(e<s){for(;s+1<i&&r(s+1);)++s;e=s}return(1+e)/i}}},param:[]},Ree={row_number:{create(){return{init:Hu,value:e=>e.index+1}},param:[]},rank:Wj,avg_rank:{create(){let e,t;return{init:()=>(e=-1,t=1),value:n=>{const r=n.index;if(r>=e){for(t=e=r+1;n.peer(e);t+=++e);t/=e-r}return t}}},param:[]},dense_rank:{create(){let e;return{init:()=>e=1,value:t=>{const n=t.index;return n&&!t.peer(n)?++e:e}}},param:[]},percent_rank:{create(){const{init:e,value:t}=Wj.create();return{init:e,value:n=>(t(n)-1)/(n.size-1)}},param:[]},cume_dist:qj,ntile:{create(e){e=+e,e>0||jt("ntile num must be greater than zero.");const{init:t,value:n}=qj.create();return{init:t,value:r=>Math.ceil(e*n(r))}},param:[0,1]},lag:{create(e,t=dn){return e=+e||1,{init:Hu,value:(n,r)=>{const i=n.index-e;return i>=0?n.value(i,r):t}}},param:[1,2]},lead:{create(e,t=dn){return e=+e||1,{init:Hu,value:(n,r)=>{const i=n.index+e;return i<n.size?n.value(i,r):t}}},param:[1,2]},first_value:{create(){return{init:Hu,value:(e,t)=>e.value(e.i0,t)}},param:[1]},last_value:{create(){return{init:Hu,value:(e,t)=>e.value(e.i1-1,t)}},param:[1]},nth_value:{create(e){return e=+e,e>0||jt("nth_value nth must be greater than zero."),{init:Hu,value:(t,n)=>{const r=t.i0+(e-1);return r<t.i1?t.value(r,n):dn}}},param:[1,1]},fill_down:{create(e=dn){let t;return{init:()=>t=e,value:(n,r)=>{const i=n.value(n.index,r);return ya(i)?t=i:t}}},param:[1,1]},fill_up:{create(e=dn){let t,n;return{init:()=>(t=e,n=-1),value:(r,i)=>r.index<=n?t:(n=rBe(r,i,r.index))>=0?t=r.value(n,i):(n=r.size,t=e)}},param:[1,1]}};function rBe(e,t,n){for(const r=e.size;n<r;++n)if(ya(e.value(n,t)))return n;return-1}function o$(e){return xa(Pee,e)}function a$(e){return xa(Ree,e)}function Nee(e){return xa(ep,e)||e==="row_object"}function kee(e){return o$(e)&&Pee[e]}function Dee(e){return a$(e)&&Ree[e]}function B0(e,t,n){return e=`"use strict"; return ${e};`,Function("fn","$",e)(t,n)}const u$={escape:(e,t,n)=>B0(e,t,n),expr:(e,t)=>B0(`(row,data,op)=>${e}`,ep,t),expr2:(e,t)=>B0(`(row0,data0,row,data)=>${e}`,ep,t),join:(e,t)=>B0(`(row1,data1,row2,data2)=>${e}`,ep,t),param:(e,t)=>B0(e,ep,t)},iBe={"==":1,"!=":1,"===":1,"!==":1};function $ee(e,t,n=0,r,i){if(e.type=H_,e.name=t,e.table=n,i&&r&&er(r.keyFor)){const s=iBe[i.operator]?i.left===e?i.right:i.left:i.callee&&i.callee.name==="equal"?i.arguments[i.arguments[0]===e?1:0]:null;s&&s.type===Hm&&sBe(i,e,s,r.keyFor(s.value))}return e}function sBe(e,t,n,r){return r<0?(e.type=Hm,e.value=!1,e.raw="false"):(t.type=K9e,n.value=r,n.raw=r+""),!0}function kI(e){return yn(e)?e:s$(e)?e.entries():e?Object.entries(e):[]}const Lee="row_object";function Mee(e,t){e.type=G9e;const n=e.properties=[];for(const r of kI(t)){const[i,s]=yn(r)?r:[r,r];n.push({type:Cee,key:{type:Hm,raw:wu(s)},value:$ee({computed:!0},i)})}return e}function Fee(e){return aT(Mee({},e))}function Bee(e){return u$.expr(Fee(e))}function l$(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function qu(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{l(r.next(c))}catch(f){o(f)}}function u(c){try{l(r.throw(c))}catch(f){o(f)}}function l(c){c.done?s(c.value):i(c.value).then(a,u)}l((r=r.apply(e,t||[])).next())})}function Gj(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function rn(e){return this instanceof rn?(this.v=e,this):new rn(e)}function rd(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(d){r[d]&&(i[d]=function(h){return new Promise(function(p,m){s.push([d,h,p,m])>1||a(d,h)})})}function a(d,h){try{u(r[d](h))}catch(p){f(s[0][3],p)}}function u(d){d.value instanceof rn?Promise.resolve(d.value.v).then(l,c):f(s[0][2],d)}function l(d){a("next",d)}function c(d){a("throw",d)}function f(d,h){d(h),s.shift(),s.length&&a(s[0][0],s[0][1])}}function DA(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,s){t[i]=e[i]?function(o){return(n=!n)?{value:rn(e[i](o)),done:!1}:s?s(o):o}:s}}function Ug(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Gj=="function"?Gj(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(o){return new Promise(function(a,u){o=e[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}}const oBe=new TextDecoder("utf-8"),N2=e=>oBe.decode(e),aBe=new TextEncoder,c$=e=>aBe.encode(e),[Tnt,jee]=(()=>{const e=()=>{throw new Error("BigInt is not available in this environment")};function t(){throw e()}return t.asIntN=()=>{throw e()},t.asUintN=()=>{throw e()},typeof BigInt<"u"?[BigInt,!0]:[t,!1]})(),[ih,Snt]=(()=>{const e=()=>{throw new Error("BigInt64Array is not available in this environment")};class t{static get BYTES_PER_ELEMENT(){return 8}static of(){throw e()}static from(){throw e()}constructor(){throw e()}}return typeof BigInt64Array<"u"?[BigInt64Array,!0]:[t,!1]})(),[sh,Int]=(()=>{const e=()=>{throw new Error("BigUint64Array is not available in this environment")};class t{static get BYTES_PER_ELEMENT(){return 8}static of(){throw e()}static from(){throw e()}constructor(){throw e()}}return typeof BigUint64Array<"u"?[BigUint64Array,!0]:[t,!1]})(),uBe=e=>typeof e=="boolean",Is=e=>typeof e=="function",Ef=e=>e!=null&&Object(e)===e,DI=e=>Ef(e)&&Is(e.then),f$=e=>Ef(e)&&Is(e[Symbol.iterator]),$I=e=>Ef(e)&&Is(e[Symbol.asyncIterator]),lBe=e=>Ef(e)&&"done"in e&&"value"in e,Uee=e=>"_getDOMStream"in e&&"_getNodeStream"in e,cBe=e=>Ef(e)&&Is(e.abort)&&Is(e.getWriter)&&!Uee(e),fBe=e=>Ef(e)&&Is(e.end)&&Is(e.write)&&uBe(e.writable)&&!Uee(e),dBe=e=>Ef(e)&&Is(e.clear)&&Is(e.bytes)&&Is(e.position)&&Is(e.setPosition)&&Is(e.capacity)&&Is(e.getBufferIdentifier)&&Is(e.createLong),d$=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:ArrayBuffer;function hBe(e){const t=e[0]?[e[0]]:[];let n,r,i,s;for(let o,a,u=0,l=0,c=e.length;++u<c;){if(o=t[l],a=e[u],!o||!a||o.buffer!==a.buffer||a.byteOffset<o.byteOffset){a&&(t[++l]=a);continue}if({byteOffset:n,byteLength:i}=o,{byteOffset:r,byteLength:s}=a,n+i<r||r+s<n){a&&(t[++l]=a);continue}t[l]=new Uint8Array(o.buffer,n,r-n+s)}return t}function lT(e,t,n=0,r=t.byteLength){const i=e.byteLength,s=new Uint8Array(e.buffer,e.byteOffset,i),o=new Uint8Array(t.buffer,t.byteOffset,Math.min(r,i));return s.set(o,n),e}function Tu(e,t){const n=hBe(e),r=n.reduce((c,f)=>c+f.byteLength,0);let i,s,o,a=0,u=-1;const l=Math.min(t||Number.POSITIVE_INFINITY,r);for(const c=n.length;++u<c;){if(i=n[u],s=i.subarray(0,Math.min(i.length,l-a)),l<=a+s.length){s.length<i.length?n[u]=i.subarray(s.length):s.length===i.length&&u++,o?lT(o,s,a):o=s;break}lT(o||(o=new Uint8Array(l)),s,a),a+=s.length}return[o||new Uint8Array(0),n.slice(u),r-(o?o.byteLength:0)]}function Ii(e,t){let n=lBe(t)?t.value:t;return n instanceof e?e===Uint8Array?new e(n.buffer,n.byteOffset,n.byteLength):n:n?(typeof n=="string"&&(n=c$(n)),n instanceof ArrayBuffer?new e(n):n instanceof d$?new e(n):dBe(n)?Ii(e,n.bytes()):ArrayBuffer.isView(n)?n.byteLength<=0?new e(0):new e(n.buffer,n.byteOffset,n.byteLength/e.BYTES_PER_ELEMENT):e.from(n)):new e(0)}const j0=e=>Ii(Int32Array,e),Pn=e=>Ii(Uint8Array,e),k2=e=>(e.next(),e);function*pBe(e,t){const n=function*(i){yield i},r=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof d$?n(t):f$(t)?t:n(t);return yield*k2(function*(i){let s=null;do s=i.next(yield Ii(e,s));while(!s.done)}(r[Symbol.iterator]())),new e}const mBe=e=>pBe(Uint8Array,e);function Vee(e,t){return rd(this,arguments,function*(){if(DI(t))return yield rn(yield rn(yield*DA(Ug(Vee(e,yield rn(t))))));const r=function(o){return rd(this,arguments,function*(){yield yield rn(yield rn(o))})},i=function(o){return rd(this,arguments,function*(){yield rn(yield*DA(Ug(k2(function*(a){let u=null;do u=a.next(yield u==null?void 0:u.value);while(!u.done)}(o[Symbol.iterator]())))))})},s=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof d$?r(t):f$(t)?i(t):$I(t)?t:r(t);return yield rn(yield*DA(Ug(k2(function(o){return rd(this,arguments,function*(){let a=null;do a=yield rn(o.next(yield yield rn(Ii(e,a))));while(!a.done)})}(s[Symbol.asyncIterator]()))))),yield rn(new e)})}const gBe=e=>Vee(Uint8Array,e);function h$(e,t,n){if(e!==0){n=n.slice(0,t+1);for(let r=-1;++r<=t;)n[r]+=e}return n}function yBe(e,t){let n=0;const r=e.length;if(r!==t.length)return!1;if(r>0)do if(e[n]!==t[n])return!1;while(++n<r);return!0}const Yj={fromIterable(e){return d1(_Be(e))},fromAsyncIterable(e){return d1(vBe(e))},fromDOMStream(e){return d1(bBe(e))},fromNodeStream(e){return d1(wBe(e))},toDOMStream(e,t){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(e,t){throw new Error('"toNodeStream" not available in this environment')}},d1=e=>(e.next(),e);function*_Be(e){let t,n=!1,r=[],i,s,o,a=0;function u(){return s==="peek"?Tu(r,o)[0]:([i,r,a]=Tu(r,o),i)}({cmd:s,size:o}=yield null);const l=mBe(e)[Symbol.iterator]();try{do if({done:t,value:i}=Number.isNaN(o-a)?l.next():l.next(o-a),!t&&i.byteLength>0&&(r.push(i),a+=i.byteLength),t||o<=a)do({cmd:s,size:o}=yield u());while(o<a);while(!t)}catch(c){(n=!0)&&typeof l.throw=="function"&&l.throw(c)}finally{n===!1&&typeof l.return=="function"&&l.return(null)}return null}function vBe(e){return rd(this,arguments,function*(){let n,r=!1,i=[],s,o,a,u=0;function l(){return o==="peek"?Tu(i,a)[0]:([s,i,u]=Tu(i,a),s)}({cmd:o,size:a}=yield yield rn(null));const c=gBe(e)[Symbol.asyncIterator]();try{do if({done:n,value:s}=Number.isNaN(a-u)?yield rn(c.next()):yield rn(c.next(a-u)),!n&&s.byteLength>0&&(i.push(s),u+=s.byteLength),n||a<=u)do({cmd:o,size:a}=yield yield rn(l()));while(a<u);while(!n)}catch(f){(r=!0)&&typeof c.throw=="function"&&(yield rn(c.throw(f)))}finally{r===!1&&typeof c.return=="function"&&(yield rn(c.return(new Uint8Array(0))))}return yield rn(null)})}function bBe(e){return rd(this,arguments,function*(){let n=!1,r=!1,i=[],s,o,a,u=0;function l(){return o==="peek"?Tu(i,a)[0]:([s,i,u]=Tu(i,a),s)}({cmd:o,size:a}=yield yield rn(null));const c=new EBe(e);try{do if({done:n,value:s}=Number.isNaN(a-u)?yield rn(c.read()):yield rn(c.read(a-u)),!n&&s.byteLength>0&&(i.push(Pn(s)),u+=s.byteLength),n||a<=u)do({cmd:o,size:a}=yield yield rn(l()));while(a<u);while(!n)}catch(f){(r=!0)&&(yield rn(c.cancel(f)))}finally{r===!1?yield rn(c.cancel()):e.locked&&c.releaseLock()}return yield rn(null)})}class EBe{constructor(t){this.source=t,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(t){return qu(this,void 0,void 0,function*(){const{reader:n,source:r}=this;n&&(yield n.cancel(t).catch(()=>{})),r&&r.locked&&this.releaseLock()})}read(t){return qu(this,void 0,void 0,function*(){if(t===0)return{done:this.reader==null,value:new Uint8Array(0)};const n=yield this.reader.read();return!n.done&&(n.value=Pn(n)),n})}}const $A=(e,t)=>{const n=i=>r([t,i]);let r;return[t,n,new Promise(i=>(r=i)&&e.once(t,n))]};function wBe(e){return rd(this,arguments,function*(){const n=[];let r="error",i=!1,s=null,o,a,u=0,l=[],c;function f(){return o==="peek"?Tu(l,a)[0]:([c,l,u]=Tu(l,a),c)}if({cmd:o,size:a}=yield yield rn(null),e.isTTY)return yield yield rn(new Uint8Array(0)),yield rn(null);try{n[0]=$A(e,"end"),n[1]=$A(e,"error");do{if(n[2]=$A(e,"readable"),[r,s]=yield rn(Promise.race(n.map(h=>h[2]))),r==="error")break;if((i=r==="end")||(Number.isFinite(a-u)?(c=Pn(e.read(a-u)),c.byteLength<a-u&&(c=Pn(e.read()))):c=Pn(e.read()),c.byteLength>0&&(l.push(c),u+=c.byteLength)),i||a<=u)do({cmd:o,size:a}=yield yield rn(f()));while(a<u)}while(!i)}finally{yield rn(d(n,r==="error"?s:null))}return yield rn(null);function d(h,p){return c=l=null,new Promise((m,y)=>{for(const[g,_]of h)e.off(g,_);try{const g=e.destroy;g&&g.call(e,p),p=void 0}catch(g){p=g||p}finally{p!=null?y(p):m()}})}})}var to;(function(e){e[e.V1=0]="V1",e[e.V2=1]="V2",e[e.V3=2]="V3",e[e.V4=3]="V4",e[e.V5=4]="V5"})(to||(to={}));var Ho;(function(e){e[e.Sparse=0]="Sparse",e[e.Dense=1]="Dense"})(Ho||(Ho={}));var Ni;(function(e){e[e.HALF=0]="HALF",e[e.SINGLE=1]="SINGLE",e[e.DOUBLE=2]="DOUBLE"})(Ni||(Ni={}));var Su;(function(e){e[e.DAY=0]="DAY",e[e.MILLISECOND=1]="MILLISECOND"})(Su||(Su={}));var sn;(function(e){e[e.SECOND=0]="SECOND",e[e.MILLISECOND=1]="MILLISECOND",e[e.MICROSECOND=2]="MICROSECOND",e[e.NANOSECOND=3]="NANOSECOND"})(sn||(sn={}));var Iu;(function(e){e[e.YEAR_MONTH=0]="YEAR_MONTH",e[e.DAY_TIME=1]="DAY_TIME",e[e.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(Iu||(Iu={}));var ci;(function(e){e[e.NONE=0]="NONE",e[e.Schema=1]="Schema",e[e.DictionaryBatch=2]="DictionaryBatch",e[e.RecordBatch=3]="RecordBatch",e[e.Tensor=4]="Tensor",e[e.SparseTensor=5]="SparseTensor"})(ci||(ci={}));var Q;(function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.Float=3]="Float",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct=13]="Struct",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Dictionary=-1]="Dictionary",e[e.Int8=-2]="Int8",e[e.Int16=-3]="Int16",e[e.Int32=-4]="Int32",e[e.Int64=-5]="Int64",e[e.Uint8=-6]="Uint8",e[e.Uint16=-7]="Uint16",e[e.Uint32=-8]="Uint32",e[e.Uint64=-9]="Uint64",e[e.Float16=-10]="Float16",e[e.Float32=-11]="Float32",e[e.Float64=-12]="Float64",e[e.DateDay=-13]="DateDay",e[e.DateMillisecond=-14]="DateMillisecond",e[e.TimestampSecond=-15]="TimestampSecond",e[e.TimestampMillisecond=-16]="TimestampMillisecond",e[e.TimestampMicrosecond=-17]="TimestampMicrosecond",e[e.TimestampNanosecond=-18]="TimestampNanosecond",e[e.TimeSecond=-19]="TimeSecond",e[e.TimeMillisecond=-20]="TimeMillisecond",e[e.TimeMicrosecond=-21]="TimeMicrosecond",e[e.TimeNanosecond=-22]="TimeNanosecond",e[e.DenseUnion=-23]="DenseUnion",e[e.SparseUnion=-24]="SparseUnion",e[e.IntervalDayTime=-25]="IntervalDayTime",e[e.IntervalYearMonth=-26]="IntervalYearMonth"})(Q||(Q={}));var Uu;(function(e){e[e.OFFSET=0]="OFFSET",e[e.DATA=1]="DATA",e[e.VALIDITY=2]="VALIDITY",e[e.TYPE=3]="TYPE"})(Uu||(Uu={}));const TBe=void 0;function Hc(e){if(e===null)return"null";if(e===TBe)return"undefined";switch(typeof e){case"number":return`${e}`;case"bigint":return`${e}`;case"string":return`"${e}"`}return typeof e[Symbol.toPrimitive]=="function"?e[Symbol.toPrimitive]("string"):ArrayBuffer.isView(e)?e instanceof ih||e instanceof sh?`[${[...e].map(t=>Hc(t))}]`:`[${e}]`:ArrayBuffer.isView(e)?`[${e}]`:JSON.stringify(e,(t,n)=>typeof n=="bigint"?`${n}`:n)}const SBe=Symbol.for("isArrowBigNum");function Na(e,...t){return t.length===0?Object.setPrototypeOf(Ii(this.TypedArray,e),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(e,...t),this.constructor.prototype)}Na.prototype[SBe]=!0;Na.prototype.toJSON=function(){return`"${vd(this)}"`};Na.prototype.valueOf=function(){return zee(this)};Na.prototype.toString=function(){return vd(this)};Na.prototype[Symbol.toPrimitive]=function(e="default"){switch(e){case"number":return zee(this);case"string":return vd(this);case"default":return D2(this)}return vd(this)};function xp(...e){return Na.apply(this,e)}function Cp(...e){return Na.apply(this,e)}function ky(...e){return Na.apply(this,e)}Object.setPrototypeOf(xp.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf(Cp.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(ky.prototype,Object.create(Uint32Array.prototype));Object.assign(xp.prototype,Na.prototype,{constructor:xp,signed:!0,TypedArray:Int32Array,BigIntArray:ih});Object.assign(Cp.prototype,Na.prototype,{constructor:Cp,signed:!1,TypedArray:Uint32Array,BigIntArray:sh});Object.assign(ky.prototype,Na.prototype,{constructor:ky,signed:!0,TypedArray:Uint32Array,BigIntArray:sh});function zee(e){const{buffer:t,byteOffset:n,length:r,signed:i}=e,s=new sh(t,n,r),o=i&&s[s.length-1]&BigInt(1)<<BigInt(63);let a=BigInt(o?1:0),u=BigInt(0);if(o){for(const l of s)a+=~l*(BigInt(1)<<BigInt(32)*u++);a*=BigInt(-1)}else for(const l of s)a+=l*(BigInt(1)<<BigInt(32)*u++);return a}let vd,D2;jee?(D2=e=>e.byteLength===8?new e.BigIntArray(e.buffer,e.byteOffset,1)[0]:LA(e),vd=e=>e.byteLength===8?`${new e.BigIntArray(e.buffer,e.byteOffset,1)[0]}`:LA(e)):(vd=LA,D2=vd);function LA(e){let t="";const n=new Uint32Array(2);let r=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2);const i=new Uint32Array((r=new Uint16Array(r).reverse()).buffer);let s=-1;const o=r.length-1;do{for(n[0]=r[s=0];s<o;)r[s++]=n[1]=n[0]/10,n[0]=(n[0]-n[1]*10<<16)+r[s];r[s]=n[1]=n[0]/10,n[0]=n[0]-n[1]*10,t=`${n[0]}${t}`}while(i[0]||i[1]||i[2]||i[3]);return t??"0"}class p${static new(t,n){switch(n){case!0:return new xp(t);case!1:return new Cp(t)}switch(t.constructor){case Int8Array:case Int16Array:case Int32Array:case ih:return new xp(t)}return t.byteLength===16?new ky(t):new Cp(t)}static signed(t){return new xp(t)}static unsigned(t){return new Cp(t)}static decimal(t){return new ky(t)}constructor(t,n){return p$.new(t,n)}}var Hee,Wee,qee,Gee,Yee,Kee,Qee,Xee,Jee,Zee,ete,tte,nte,rte,ite,ste,ote,ate,ute;class Qt{static isNull(t){return(t==null?void 0:t.typeId)===Q.Null}static isInt(t){return(t==null?void 0:t.typeId)===Q.Int}static isFloat(t){return(t==null?void 0:t.typeId)===Q.Float}static isBinary(t){return(t==null?void 0:t.typeId)===Q.Binary}static isUtf8(t){return(t==null?void 0:t.typeId)===Q.Utf8}static isBool(t){return(t==null?void 0:t.typeId)===Q.Bool}static isDecimal(t){return(t==null?void 0:t.typeId)===Q.Decimal}static isDate(t){return(t==null?void 0:t.typeId)===Q.Date}static isTime(t){return(t==null?void 0:t.typeId)===Q.Time}static isTimestamp(t){return(t==null?void 0:t.typeId)===Q.Timestamp}static isInterval(t){return(t==null?void 0:t.typeId)===Q.Interval}static isList(t){return(t==null?void 0:t.typeId)===Q.List}static isStruct(t){return(t==null?void 0:t.typeId)===Q.Struct}static isUnion(t){return(t==null?void 0:t.typeId)===Q.Union}static isFixedSizeBinary(t){return(t==null?void 0:t.typeId)===Q.FixedSizeBinary}static isFixedSizeList(t){return(t==null?void 0:t.typeId)===Q.FixedSizeList}static isMap(t){return(t==null?void 0:t.typeId)===Q.Map}static isDictionary(t){return(t==null?void 0:t.typeId)===Q.Dictionary}static isDenseUnion(t){return Qt.isUnion(t)&&t.mode===Ho.Dense}static isSparseUnion(t){return Qt.isUnion(t)&&t.mode===Ho.Sparse}get typeId(){return Q.NONE}}Hee=Symbol.toStringTag;Qt[Hee]=(e=>(e.children=null,e.ArrayType=Array,e[Symbol.toStringTag]="DataType"))(Qt.prototype);let Al=class extends Qt{toString(){return"Null"}get typeId(){return Q.Null}};Wee=Symbol.toStringTag;Al[Wee]=(e=>e[Symbol.toStringTag]="Null")(Al.prototype);class fs extends Qt{constructor(t,n){super(),this.isSigned=t,this.bitWidth=n}get typeId(){return Q.Int}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?ih:sh}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}qee=Symbol.toStringTag;fs[qee]=(e=>(e.isSigned=null,e.bitWidth=null,e[Symbol.toStringTag]="Int"))(fs.prototype);class m$ extends fs{constructor(){super(!0,8)}get ArrayType(){return Int8Array}}class g$ extends fs{constructor(){super(!0,16)}get ArrayType(){return Int16Array}}class ef extends fs{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}class y$ extends fs{constructor(){super(!0,64)}get ArrayType(){return ih}}class _$ extends fs{constructor(){super(!1,8)}get ArrayType(){return Uint8Array}}class v$ extends fs{constructor(){super(!1,16)}get ArrayType(){return Uint16Array}}class b$ extends fs{constructor(){super(!1,32)}get ArrayType(){return Uint32Array}}class E$ extends fs{constructor(){super(!1,64)}get ArrayType(){return sh}}Object.defineProperty(m$.prototype,"ArrayType",{value:Int8Array});Object.defineProperty(g$.prototype,"ArrayType",{value:Int16Array});Object.defineProperty(ef.prototype,"ArrayType",{value:Int32Array});Object.defineProperty(y$.prototype,"ArrayType",{value:ih});Object.defineProperty(_$.prototype,"ArrayType",{value:Uint8Array});Object.defineProperty(v$.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(b$.prototype,"ArrayType",{value:Uint32Array});Object.defineProperty(E$.prototype,"ArrayType",{value:sh});class tf extends Qt{constructor(t){super(),this.precision=t}get typeId(){return Q.Float}get ArrayType(){switch(this.precision){case Ni.HALF:return Uint16Array;case Ni.SINGLE:return Float32Array;case Ni.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}Gee=Symbol.toStringTag;tf[Gee]=(e=>(e.precision=null,e[Symbol.toStringTag]="Float"))(tf.prototype);class lte extends tf{constructor(){super(Ni.HALF)}}class w$ extends tf{constructor(){super(Ni.SINGLE)}}class T$ extends tf{constructor(){super(Ni.DOUBLE)}}Object.defineProperty(lte.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(w$.prototype,"ArrayType",{value:Float32Array});Object.defineProperty(T$.prototype,"ArrayType",{value:Float64Array});let Dy=class extends Qt{constructor(){super()}get typeId(){return Q.Binary}toString(){return"Binary"}};Yee=Symbol.toStringTag;Dy[Yee]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Binary"))(Dy.prototype);let sm=class extends Qt{constructor(){super()}get typeId(){return Q.Utf8}toString(){return"Utf8"}};Kee=Symbol.toStringTag;sm[Kee]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Utf8"))(sm.prototype);let $y=class extends Qt{constructor(){super()}get typeId(){return Q.Bool}toString(){return"Bool"}};Qee=Symbol.toStringTag;$y[Qee]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Bool"))($y.prototype);let cT=class extends Qt{constructor(t,n,r=128){super(),this.scale=t,this.precision=n,this.bitWidth=r}get typeId(){return Q.Decimal}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}};Xee=Symbol.toStringTag;cT[Xee]=(e=>(e.scale=null,e.precision=null,e.ArrayType=Uint32Array,e[Symbol.toStringTag]="Decimal"))(cT.prototype);class om extends Qt{constructor(t){super(),this.unit=t}get typeId(){return Q.Date}toString(){return`Date${(this.unit+1)*32}<${Su[this.unit]}>`}}Jee=Symbol.toStringTag;om[Jee]=(e=>(e.unit=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Date"))(om.prototype);class IBe extends om{constructor(){super(Su.DAY)}}class xBe extends om{constructor(){super(Su.MILLISECOND)}}class Ol extends Qt{constructor(t,n){super(),this.unit=t,this.bitWidth=n}get typeId(){return Q.Time}toString(){return`Time${this.bitWidth}<${sn[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return ih}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}}Zee=Symbol.toStringTag;Ol[Zee]=(e=>(e.unit=null,e.bitWidth=null,e[Symbol.toStringTag]="Time"))(Ol.prototype);class CBe extends Ol{constructor(){super(sn.SECOND,32)}}class ABe extends Ol{constructor(){super(sn.MILLISECOND,32)}}class OBe extends Ol{constructor(){super(sn.MICROSECOND,64)}}class PBe extends Ol{constructor(){super(sn.NANOSECOND,64)}}class fT extends Qt{constructor(t,n){super(),this.unit=t,this.timezone=n}get typeId(){return Q.Timestamp}toString(){return`Timestamp<${sn[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}ete=Symbol.toStringTag;fT[ete]=(e=>(e.unit=null,e.timezone=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Timestamp"))(fT.prototype);class am extends Qt{constructor(t){super(),this.unit=t}get typeId(){return Q.Interval}toString(){return`Interval<${Iu[this.unit]}>`}}tte=Symbol.toStringTag;am[tte]=(e=>(e.unit=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Interval"))(am.prototype);class RBe extends am{constructor(){super(Iu.DAY_TIME)}}class NBe extends am{constructor(){super(Iu.YEAR_MONTH)}}let um=class extends Qt{constructor(t){super(),this.children=[t]}get typeId(){return Q.List}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}};nte=Symbol.toStringTag;um[nte]=(e=>(e.children=null,e[Symbol.toStringTag]="List"))(um.prototype);class Gi extends Qt{constructor(t){super(),this.children=t}get typeId(){return Q.Struct}toString(){return`Struct<{${this.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}rte=Symbol.toStringTag;Gi[rte]=(e=>(e.children=null,e[Symbol.toStringTag]="Struct"))(Gi.prototype);class Ly extends Qt{constructor(t,n,r){super(),this.mode=t,this.children=r,this.typeIds=n=Int32Array.from(n),this.typeIdToChildIndex=n.reduce((i,s,o)=>(i[s]=o)&&i||i,Object.create(null))}get typeId(){return Q.Union}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(t=>`${t.type}`).join(" | ")}>`}}ite=Symbol.toStringTag;Ly[ite]=(e=>(e.mode=null,e.typeIds=null,e.children=null,e.typeIdToChildIndex=null,e.ArrayType=Int8Array,e[Symbol.toStringTag]="Union"))(Ly.prototype);let dT=class extends Qt{constructor(t){super(),this.byteWidth=t}get typeId(){return Q.FixedSizeBinary}toString(){return`FixedSizeBinary[${this.byteWidth}]`}};ste=Symbol.toStringTag;dT[ste]=(e=>(e.byteWidth=null,e.ArrayType=Uint8Array,e[Symbol.toStringTag]="FixedSizeBinary"))(dT.prototype);let lm=class extends Qt{constructor(t,n){super(),this.listSize=t,this.children=[n]}get typeId(){return Q.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}};ote=Symbol.toStringTag;lm[ote]=(e=>(e.children=null,e.listSize=null,e[Symbol.toStringTag]="FixedSizeList"))(lm.prototype);class My extends Qt{constructor(t,n=!1){super(),this.children=[t],this.keysSorted=n}get typeId(){return Q.Map}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}ate=Symbol.toStringTag;My[ate]=(e=>(e.children=null,e.keysSorted=null,e[Symbol.toStringTag]="Map_"))(My.prototype);const kBe=(e=>()=>++e)(-1);class nf extends Qt{constructor(t,n,r,i){super(),this.indices=n,this.dictionary=t,this.isOrdered=i||!1,this.id=r==null?kBe():typeof r=="number"?r:r.low}get typeId(){return Q.Dictionary}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}ute=Symbol.toStringTag;nf[ute]=(e=>(e.id=null,e.indices=null,e.isOrdered=null,e.dictionary=null,e[Symbol.toStringTag]="Dictionary"))(nf.prototype);function za(e){const t=e;switch(e.typeId){case Q.Decimal:return e.bitWidth/32;case Q.Timestamp:return 2;case Q.Date:return 1+t.unit;case Q.Interval:return 1+t.unit;case Q.FixedSizeList:return t.listSize;case Q.FixedSizeBinary:return t.byteWidth;default:return 1}}class on{visitMany(t,...n){return t.map((r,i)=>this.visit(r,...n.map(s=>s[i])))}visit(...t){return this.getVisitFn(t[0],!1).apply(this,t)}getVisitFn(t,n=!0){return DBe(this,t,n)}getVisitFnByTypeId(t,n=!0){return Oh(this,t,n)}visitNull(t,...n){return null}visitBool(t,...n){return null}visitInt(t,...n){return null}visitFloat(t,...n){return null}visitUtf8(t,...n){return null}visitBinary(t,...n){return null}visitFixedSizeBinary(t,...n){return null}visitDate(t,...n){return null}visitTimestamp(t,...n){return null}visitTime(t,...n){return null}visitDecimal(t,...n){return null}visitList(t,...n){return null}visitStruct(t,...n){return null}visitUnion(t,...n){return null}visitDictionary(t,...n){return null}visitInterval(t,...n){return null}visitFixedSizeList(t,...n){return null}visitMap(t,...n){return null}}function DBe(e,t,n=!0){return typeof t=="number"?Oh(e,t,n):typeof t=="string"&&t in Q?Oh(e,Q[t],n):t&&t instanceof Qt?Oh(e,Kj(t),n):t!=null&&t.type&&t.type instanceof Qt?Oh(e,Kj(t.type),n):Oh(e,Q.NONE,n)}function Oh(e,t,n=!0){let r=null;switch(t){case Q.Null:r=e.visitNull;break;case Q.Bool:r=e.visitBool;break;case Q.Int:r=e.visitInt;break;case Q.Int8:r=e.visitInt8||e.visitInt;break;case Q.Int16:r=e.visitInt16||e.visitInt;break;case Q.Int32:r=e.visitInt32||e.visitInt;break;case Q.Int64:r=e.visitInt64||e.visitInt;break;case Q.Uint8:r=e.visitUint8||e.visitInt;break;case Q.Uint16:r=e.visitUint16||e.visitInt;break;case Q.Uint32:r=e.visitUint32||e.visitInt;break;case Q.Uint64:r=e.visitUint64||e.visitInt;break;case Q.Float:r=e.visitFloat;break;case Q.Float16:r=e.visitFloat16||e.visitFloat;break;case Q.Float32:r=e.visitFloat32||e.visitFloat;break;case Q.Float64:r=e.visitFloat64||e.visitFloat;break;case Q.Utf8:r=e.visitUtf8;break;case Q.Binary:r=e.visitBinary;break;case Q.FixedSizeBinary:r=e.visitFixedSizeBinary;break;case Q.Date:r=e.visitDate;break;case Q.DateDay:r=e.visitDateDay||e.visitDate;break;case Q.DateMillisecond:r=e.visitDateMillisecond||e.visitDate;break;case Q.Timestamp:r=e.visitTimestamp;break;case Q.TimestampSecond:r=e.visitTimestampSecond||e.visitTimestamp;break;case Q.TimestampMillisecond:r=e.visitTimestampMillisecond||e.visitTimestamp;break;case Q.TimestampMicrosecond:r=e.visitTimestampMicrosecond||e.visitTimestamp;break;case Q.TimestampNanosecond:r=e.visitTimestampNanosecond||e.visitTimestamp;break;case Q.Time:r=e.visitTime;break;case Q.TimeSecond:r=e.visitTimeSecond||e.visitTime;break;case Q.TimeMillisecond:r=e.visitTimeMillisecond||e.visitTime;break;case Q.TimeMicrosecond:r=e.visitTimeMicrosecond||e.visitTime;break;case Q.TimeNanosecond:r=e.visitTimeNanosecond||e.visitTime;break;case Q.Decimal:r=e.visitDecimal;break;case Q.List:r=e.visitList;break;case Q.Struct:r=e.visitStruct;break;case Q.Union:r=e.visitUnion;break;case Q.DenseUnion:r=e.visitDenseUnion||e.visitUnion;break;case Q.SparseUnion:r=e.visitSparseUnion||e.visitUnion;break;case Q.Dictionary:r=e.visitDictionary;break;case Q.Interval:r=e.visitInterval;break;case Q.IntervalDayTime:r=e.visitIntervalDayTime||e.visitInterval;break;case Q.IntervalYearMonth:r=e.visitIntervalYearMonth||e.visitInterval;break;case Q.FixedSizeList:r=e.visitFixedSizeList;break;case Q.Map:r=e.visitMap;break}if(typeof r=="function")return r;if(!n)return()=>null;throw new Error(`Unrecognized type '${Q[t]}'`)}function Kj(e){switch(e.typeId){case Q.Null:return Q.Null;case Q.Int:{const{bitWidth:t,isSigned:n}=e;switch(t){case 8:return n?Q.Int8:Q.Uint8;case 16:return n?Q.Int16:Q.Uint16;case 32:return n?Q.Int32:Q.Uint32;case 64:return n?Q.Int64:Q.Uint64}return Q.Int}case Q.Float:switch(e.precision){case Ni.HALF:return Q.Float16;case Ni.SINGLE:return Q.Float32;case Ni.DOUBLE:return Q.Float64}return Q.Float;case Q.Binary:return Q.Binary;case Q.Utf8:return Q.Utf8;case Q.Bool:return Q.Bool;case Q.Decimal:return Q.Decimal;case Q.Time:switch(e.unit){case sn.SECOND:return Q.TimeSecond;case sn.MILLISECOND:return Q.TimeMillisecond;case sn.MICROSECOND:return Q.TimeMicrosecond;case sn.NANOSECOND:return Q.TimeNanosecond}return Q.Time;case Q.Timestamp:switch(e.unit){case sn.SECOND:return Q.TimestampSecond;case sn.MILLISECOND:return Q.TimestampMillisecond;case sn.MICROSECOND:return Q.TimestampMicrosecond;case sn.NANOSECOND:return Q.TimestampNanosecond}return Q.Timestamp;case Q.Date:switch(e.unit){case Su.DAY:return Q.DateDay;case Su.MILLISECOND:return Q.DateMillisecond}return Q.Date;case Q.Interval:switch(e.unit){case Iu.DAY_TIME:return Q.IntervalDayTime;case Iu.YEAR_MONTH:return Q.IntervalYearMonth}return Q.Interval;case Q.Map:return Q.Map;case Q.List:return Q.List;case Q.Struct:return Q.Struct;case Q.Union:switch(e.mode){case Ho.Dense:return Q.DenseUnion;case Ho.Sparse:return Q.SparseUnion}return Q.Union;case Q.FixedSizeBinary:return Q.FixedSizeBinary;case Q.FixedSizeList:return Q.FixedSizeList;case Q.Dictionary:return Q.Dictionary}throw new Error(`Unrecognized type '${Q[e.typeId]}'`)}on.prototype.visitInt8=null;on.prototype.visitInt16=null;on.prototype.visitInt32=null;on.prototype.visitInt64=null;on.prototype.visitUint8=null;on.prototype.visitUint16=null;on.prototype.visitUint32=null;on.prototype.visitUint64=null;on.prototype.visitFloat16=null;on.prototype.visitFloat32=null;on.prototype.visitFloat64=null;on.prototype.visitDateDay=null;on.prototype.visitDateMillisecond=null;on.prototype.visitTimestampSecond=null;on.prototype.visitTimestampMillisecond=null;on.prototype.visitTimestampMicrosecond=null;on.prototype.visitTimestampNanosecond=null;on.prototype.visitTimeSecond=null;on.prototype.visitTimeMillisecond=null;on.prototype.visitTimeMicrosecond=null;on.prototype.visitTimeNanosecond=null;on.prototype.visitDenseUnion=null;on.prototype.visitSparseUnion=null;on.prototype.visitIntervalDayTime=null;on.prototype.visitIntervalYearMonth=null;const cte=new Float64Array(1),Sh=new Uint32Array(cte.buffer);function fte(e){const t=(e&31744)>>10,n=(e&1023)/1024,r=Math.pow(-1,(e&32768)>>15);switch(t){case 31:return r*(n?Number.NaN:1/0);case 0:return r*(n?6103515625e-14*n:0)}return r*Math.pow(2,t-15)*(1+n)}function dte(e){if(e!==e)return 32256;cte[0]=e;const t=(Sh[1]&2147483648)>>16&65535;let n=Sh[1]&2146435072,r=0;return n>=1089470464?Sh[0]>0?n=31744:(n=(n&2080374784)>>16,r=(Sh[1]&1048575)>>10):n<=1056964608?(r=1048576+(Sh[1]&1048575),r=1048576+(r<<(n>>20)-998)>>21,n=0):(n=n-1056964608>>10,r=(Sh[1]&1048575)+512>>10),t|n|r&65535}class kt extends on{}function Ft(e){return(t,n,r)=>{if(t.setValid(n,r!=null))return e(t,n,r)}}const $Be=(e,t,n)=>{e[t]=Math.trunc(n/864e5)},S$=(e,t,n)=>{e[t]=Math.trunc(n%4294967296),e[t+1]=Math.trunc(n/4294967296)},LBe=(e,t,n)=>{e[t]=Math.trunc(n*1e3%4294967296),e[t+1]=Math.trunc(n*1e3/4294967296)},MBe=(e,t,n)=>{e[t]=Math.trunc(n*1e6%4294967296),e[t+1]=Math.trunc(n*1e6/4294967296)},hte=(e,t,n,r)=>{if(n+1<t.length){const{[n]:i,[n+1]:s}=t;e.set(r.subarray(0,s-i),i)}},FBe=({offset:e,values:t},n,r)=>{const i=e+n;r?t[i>>3]|=1<<i%8:t[i>>3]&=~(1<<i%8)},ql=({values:e},t,n)=>{e[t]=n},I$=({values:e},t,n)=>{e[t]=n},pte=({values:e},t,n)=>{e[t]=dte(n)},BBe=(e,t,n)=>{switch(e.type.precision){case Ni.HALF:return pte(e,t,n);case Ni.SINGLE:case Ni.DOUBLE:return I$(e,t,n)}},x$=({values:e},t,n)=>{$Be(e,t,n.valueOf())},C$=({values:e},t,n)=>{S$(e,t*2,n.valueOf())},mte=({stride:e,values:t},n,r)=>{t.set(r.subarray(0,e),e*n)},jBe=({values:e,valueOffsets:t},n,r)=>hte(e,t,n,r),UBe=({values:e,valueOffsets:t},n,r)=>{hte(e,t,n,c$(r))},gte=(e,t,n)=>{e.type.unit===Su.DAY?x$(e,t,n):C$(e,t,n)},A$=({values:e},t,n)=>S$(e,t*2,n/1e3),O$=({values:e},t,n)=>S$(e,t*2,n),P$=({values:e},t,n)=>LBe(e,t*2,n),R$=({values:e},t,n)=>MBe(e,t*2,n),yte=(e,t,n)=>{switch(e.type.unit){case sn.SECOND:return A$(e,t,n);case sn.MILLISECOND:return O$(e,t,n);case sn.MICROSECOND:return P$(e,t,n);case sn.NANOSECOND:return R$(e,t,n)}},N$=({values:e},t,n)=>{e[t]=n},k$=({values:e},t,n)=>{e[t]=n},D$=({values:e},t,n)=>{e[t]=n},$$=({values:e},t,n)=>{e[t]=n},_te=(e,t,n)=>{switch(e.type.unit){case sn.SECOND:return N$(e,t,n);case sn.MILLISECOND:return k$(e,t,n);case sn.MICROSECOND:return D$(e,t,n);case sn.NANOSECOND:return $$(e,t,n)}},vte=({values:e,stride:t},n,r)=>{e.set(r.subarray(0,t),t*n)},VBe=(e,t,n)=>{const r=e.children[0],i=e.valueOffsets,s=Wo.getVisitFn(r);if(Array.isArray(n))for(let o=-1,a=i[t],u=i[t+1];a<u;)s(r,a++,n[++o]);else for(let o=-1,a=i[t],u=i[t+1];a<u;)s(r,a++,n.get(++o))},zBe=(e,t,n)=>{const r=e.children[0],{valueOffsets:i}=e,s=Wo.getVisitFn(r);let{[t]:o,[t+1]:a}=i;const u=n instanceof Map?n.entries():Object.entries(n);for(const l of u)if(s(r,o,l),++o>=a)break},HBe=(e,t)=>(n,r,i,s)=>r&&n(r,e,t[s]),WBe=(e,t)=>(n,r,i,s)=>r&&n(r,e,t.get(s)),qBe=(e,t)=>(n,r,i,s)=>r&&n(r,e,t.get(i.name)),GBe=(e,t)=>(n,r,i,s)=>r&&n(r,e,t[i.name]),YBe=(e,t,n)=>{const r=e.type.children.map(s=>Wo.getVisitFn(s.type)),i=n instanceof Map?qBe(t,n):n instanceof _n?WBe(t,n):Array.isArray(n)?HBe(t,n):GBe(t,n);e.type.children.forEach((s,o)=>i(r[o],e.children[o],s,o))},KBe=(e,t,n)=>{e.type.mode===Ho.Dense?bte(e,t,n):Ete(e,t,n)},bte=(e,t,n)=>{const r=e.type.typeIdToChildIndex[e.typeIds[t]],i=e.children[r];Wo.visit(i,e.valueOffsets[t],n)},Ete=(e,t,n)=>{const r=e.type.typeIdToChildIndex[e.typeIds[t]],i=e.children[r];Wo.visit(i,t,n)},QBe=(e,t,n)=>{var r;(r=e.dictionary)===null||r===void 0||r.set(e.values[t],n)},wte=(e,t,n)=>{e.type.unit===Iu.DAY_TIME?L$(e,t,n):M$(e,t,n)},L$=({values:e},t,n)=>{e.set(n.subarray(0,2),2*t)},M$=({values:e},t,n)=>{e[t]=n[0]*12+n[1]%12},XBe=(e,t,n)=>{const{stride:r}=e,i=e.children[0],s=Wo.getVisitFn(i);if(Array.isArray(n))for(let o=-1,a=t*r;++o<r;)s(i,a+o,n[o]);else for(let o=-1,a=t*r;++o<r;)s(i,a+o,n.get(o))};kt.prototype.visitBool=Ft(FBe);kt.prototype.visitInt=Ft(ql);kt.prototype.visitInt8=Ft(ql);kt.prototype.visitInt16=Ft(ql);kt.prototype.visitInt32=Ft(ql);kt.prototype.visitInt64=Ft(ql);kt.prototype.visitUint8=Ft(ql);kt.prototype.visitUint16=Ft(ql);kt.prototype.visitUint32=Ft(ql);kt.prototype.visitUint64=Ft(ql);kt.prototype.visitFloat=Ft(BBe);kt.prototype.visitFloat16=Ft(pte);kt.prototype.visitFloat32=Ft(I$);kt.prototype.visitFloat64=Ft(I$);kt.prototype.visitUtf8=Ft(UBe);kt.prototype.visitBinary=Ft(jBe);kt.prototype.visitFixedSizeBinary=Ft(mte);kt.prototype.visitDate=Ft(gte);kt.prototype.visitDateDay=Ft(x$);kt.prototype.visitDateMillisecond=Ft(C$);kt.prototype.visitTimestamp=Ft(yte);kt.prototype.visitTimestampSecond=Ft(A$);kt.prototype.visitTimestampMillisecond=Ft(O$);kt.prototype.visitTimestampMicrosecond=Ft(P$);kt.prototype.visitTimestampNanosecond=Ft(R$);kt.prototype.visitTime=Ft(_te);kt.prototype.visitTimeSecond=Ft(N$);kt.prototype.visitTimeMillisecond=Ft(k$);kt.prototype.visitTimeMicrosecond=Ft(D$);kt.prototype.visitTimeNanosecond=Ft($$);kt.prototype.visitDecimal=Ft(vte);kt.prototype.visitList=Ft(VBe);kt.prototype.visitStruct=Ft(YBe);kt.prototype.visitUnion=Ft(KBe);kt.prototype.visitDenseUnion=Ft(bte);kt.prototype.visitSparseUnion=Ft(Ete);kt.prototype.visitDictionary=Ft(QBe);kt.prototype.visitInterval=Ft(wte);kt.prototype.visitIntervalDayTime=Ft(L$);kt.prototype.visitIntervalYearMonth=Ft(M$);kt.prototype.visitFixedSizeList=Ft(XBe);kt.prototype.visitMap=Ft(zBe);const Wo=new kt,ca=Symbol.for("parent"),Ap=Symbol.for("rowIndex");class F${constructor(t,n){return this[ca]=t,this[Ap]=n,new Proxy(this,new ZBe)}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[Ap],n=this[ca],r=n.type.children,i={};for(let s=-1,o=r.length;++s<o;)i[r[s].name]=Us.visit(n.children[s],t);return i}toString(){return`{${[...this].map(([t,n])=>`${Hc(t)}: ${Hc(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new JBe(this[ca],this[Ap])}}class JBe{constructor(t,n){this.childIndex=0,this.children=t.children,this.rowIndex=n,this.childFields=t.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){const t=this.childIndex;return t<this.numChildren?(this.childIndex=t+1,{done:!1,value:[this.childFields[t].name,Us.visit(this.children[t],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(F$.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[ca]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Ap]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class ZBe{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[ca].type.children.map(n=>n.name)}has(t,n){return t[ca].type.children.findIndex(r=>r.name===n)!==-1}getOwnPropertyDescriptor(t,n){if(t[ca].type.children.findIndex(r=>r.name===n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,n){if(Reflect.has(t,n))return t[n];const r=t[ca].type.children.findIndex(i=>i.name===n);if(r!==-1){const i=Us.visit(t[ca].children[r],t[Ap]);return Reflect.set(t,n,i),i}}set(t,n,r){const i=t[ca].type.children.findIndex(s=>s.name===n);return i!==-1?(Wo.visit(t[ca].children[i],t[Ap],r),Reflect.set(t,n,r)):Reflect.has(t,n)||typeof n=="symbol"?Reflect.set(t,n,r):!1}}class At extends on{}function Dt(e){return(t,n)=>t.getValid(n)?e(t,n):null}const eje=(e,t)=>864e5*e[t],B$=(e,t)=>4294967296*e[t+1]+(e[t]>>>0),tje=(e,t)=>4294967296*(e[t+1]/1e3)+(e[t]>>>0)/1e3,nje=(e,t)=>4294967296*(e[t+1]/1e6)+(e[t]>>>0)/1e6,Tte=e=>new Date(e),rje=(e,t)=>Tte(eje(e,t)),ije=(e,t)=>Tte(B$(e,t)),sje=(e,t)=>null,Ste=(e,t,n)=>{if(n+1>=t.length)return null;const r=t[n],i=t[n+1];return e.subarray(r,i)},oje=({offset:e,values:t},n)=>{const r=e+n;return(t[r>>3]&1<<r%8)!==0},Ite=({values:e},t)=>rje(e,t),xte=({values:e},t)=>ije(e,t*2),wf=({stride:e,values:t},n)=>t[e*n],aje=({stride:e,values:t},n)=>fte(t[e*n]),Cte=({values:e},t)=>e[t],uje=({stride:e,values:t},n)=>t.subarray(e*n,e*(n+1)),lje=({values:e,valueOffsets:t},n)=>Ste(e,t,n),cje=({values:e,valueOffsets:t},n)=>{const r=Ste(e,t,n);return r!==null?N2(r):null},fje=({values:e},t)=>e[t],dje=({type:e,values:t},n)=>e.precision!==Ni.HALF?t[n]:fte(t[n]),hje=(e,t)=>e.type.unit===Su.DAY?Ite(e,t):xte(e,t),Ate=({values:e},t)=>1e3*B$(e,t*2),Ote=({values:e},t)=>B$(e,t*2),Pte=({values:e},t)=>tje(e,t*2),Rte=({values:e},t)=>nje(e,t*2),pje=(e,t)=>{switch(e.type.unit){case sn.SECOND:return Ate(e,t);case sn.MILLISECOND:return Ote(e,t);case sn.MICROSECOND:return Pte(e,t);case sn.NANOSECOND:return Rte(e,t)}},Nte=({values:e},t)=>e[t],kte=({values:e},t)=>e[t],Dte=({values:e},t)=>e[t],$te=({values:e},t)=>e[t],mje=(e,t)=>{switch(e.type.unit){case sn.SECOND:return Nte(e,t);case sn.MILLISECOND:return kte(e,t);case sn.MICROSECOND:return Dte(e,t);case sn.NANOSECOND:return $te(e,t)}},gje=({values:e,stride:t},n)=>p$.decimal(e.subarray(t*n,t*(n+1))),yje=(e,t)=>{const{valueOffsets:n,stride:r,children:i}=e,{[t*r]:s,[t*r+1]:o}=n,u=i[0].slice(s,o-s);return new _n([u])},_je=(e,t)=>{const{valueOffsets:n,children:r}=e,{[t]:i,[t+1]:s}=n,o=r[0];return new LI(o.slice(i,s-i))},vje=(e,t)=>new F$(e,t),bje=(e,t)=>e.type.mode===Ho.Dense?Lte(e,t):Mte(e,t),Lte=(e,t)=>{const n=e.type.typeIdToChildIndex[e.typeIds[t]],r=e.children[n];return Us.visit(r,e.valueOffsets[t])},Mte=(e,t)=>{const n=e.type.typeIdToChildIndex[e.typeIds[t]],r=e.children[n];return Us.visit(r,t)},Eje=(e,t)=>{var n;return(n=e.dictionary)===null||n===void 0?void 0:n.get(e.values[t])},wje=(e,t)=>e.type.unit===Iu.DAY_TIME?Fte(e,t):Bte(e,t),Fte=({values:e},t)=>e.subarray(2*t,2*(t+1)),Bte=({values:e},t)=>{const n=e[t],r=new Int32Array(2);return r[0]=Math.trunc(n/12),r[1]=Math.trunc(n%12),r},Tje=(e,t)=>{const{stride:n,children:r}=e,s=r[0].slice(t*n,n);return new _n([s])};At.prototype.visitNull=Dt(sje);At.prototype.visitBool=Dt(oje);At.prototype.visitInt=Dt(fje);At.prototype.visitInt8=Dt(wf);At.prototype.visitInt16=Dt(wf);At.prototype.visitInt32=Dt(wf);At.prototype.visitInt64=Dt(Cte);At.prototype.visitUint8=Dt(wf);At.prototype.visitUint16=Dt(wf);At.prototype.visitUint32=Dt(wf);At.prototype.visitUint64=Dt(Cte);At.prototype.visitFloat=Dt(dje);At.prototype.visitFloat16=Dt(aje);At.prototype.visitFloat32=Dt(wf);At.prototype.visitFloat64=Dt(wf);At.prototype.visitUtf8=Dt(cje);At.prototype.visitBinary=Dt(lje);At.prototype.visitFixedSizeBinary=Dt(uje);At.prototype.visitDate=Dt(hje);At.prototype.visitDateDay=Dt(Ite);At.prototype.visitDateMillisecond=Dt(xte);At.prototype.visitTimestamp=Dt(pje);At.prototype.visitTimestampSecond=Dt(Ate);At.prototype.visitTimestampMillisecond=Dt(Ote);At.prototype.visitTimestampMicrosecond=Dt(Pte);At.prototype.visitTimestampNanosecond=Dt(Rte);At.prototype.visitTime=Dt(mje);At.prototype.visitTimeSecond=Dt(Nte);At.prototype.visitTimeMillisecond=Dt(kte);At.prototype.visitTimeMicrosecond=Dt(Dte);At.prototype.visitTimeNanosecond=Dt($te);At.prototype.visitDecimal=Dt(gje);At.prototype.visitList=Dt(yje);At.prototype.visitStruct=Dt(vje);At.prototype.visitUnion=Dt(bje);At.prototype.visitDenseUnion=Dt(Lte);At.prototype.visitSparseUnion=Dt(Mte);At.prototype.visitDictionary=Dt(Eje);At.prototype.visitInterval=Dt(wje);At.prototype.visitIntervalDayTime=Dt(Fte);At.prototype.visitIntervalYearMonth=Dt(Bte);At.prototype.visitFixedSizeList=Dt(Tje);At.prototype.visitMap=Dt(_je);const Us=new At,ga=Symbol.for("keys"),Op=Symbol.for("vals");class LI{constructor(t){return this[ga]=new _n([t.children[0]]).memoize(),this[Op]=t.children[1],new Proxy(this,new Ije)}[Symbol.iterator](){return new Sje(this[ga],this[Op])}get size(){return this[ga].length}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[ga],n=this[Op],r={};for(let i=-1,s=t.length;++i<s;)r[t.get(i)]=Us.visit(n,i);return r}toString(){return`{${[...this].map(([t,n])=>`${Hc(t)}: ${Hc(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}class Sje{constructor(t,n){this.keys=t,this.vals=n,this.keyIndex=0,this.numKeys=t.length}[Symbol.iterator](){return this}next(){const t=this.keyIndex;return t===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(t),Us.visit(this.vals,t)]})}}class Ije{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[ga].toArray().map(String)}has(t,n){return t[ga].includes(n)}getOwnPropertyDescriptor(t,n){if(t[ga].indexOf(n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,n){if(Reflect.has(t,n))return t[n];const r=t[ga].indexOf(n);if(r!==-1){const i=Us.visit(Reflect.get(t,Op),r);return Reflect.set(t,n,i),i}}set(t,n,r){const i=t[ga].indexOf(n);return i!==-1?(Wo.visit(Reflect.get(t,Op),i,r),Reflect.set(t,n,r)):Reflect.has(t,n)?Reflect.set(t,n,r):!1}}Object.defineProperties(LI.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[ga]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Op]:{writable:!0,enumerable:!1,configurable:!1,value:null}});let Qj;function jte(e,t,n,r){const{length:i=0}=e;let s=typeof t!="number"?0:t,o=typeof n!="number"?i:n;return s<0&&(s=(s%i+i)%i),o<0&&(o=(o%i+i)%i),o<s&&(Qj=s,s=o,o=Qj),o>i&&(o=i),r?r(e,s,o):[s,o]}const Xj=e=>e!==e;function Wm(e){if(typeof e!=="object"||e===null)return Xj(e)?Xj:n=>n===e;if(e instanceof Date){const n=e.valueOf();return r=>r instanceof Date?r.valueOf()===n:!1}return ArrayBuffer.isView(e)?n=>n?yBe(e,n):!1:e instanceof Map?Cje(e):Array.isArray(e)?xje(e):e instanceof _n?Aje(e):Oje(e,!0)}function xje(e){const t=[];for(let n=-1,r=e.length;++n<r;)t[n]=Wm(e[n]);return MI(t)}function Cje(e){let t=-1;const n=[];for(const r of e.values())n[++t]=Wm(r);return MI(n)}function Aje(e){const t=[];for(let n=-1,r=e.length;++n<r;)t[n]=Wm(e.get(n));return MI(t)}function Oje(e,t=!1){const n=Object.keys(e);if(!t&&n.length===0)return()=>!1;const r=[];for(let i=-1,s=n.length;++i<s;)r[i]=Wm(e[n[i]]);return MI(r,n)}function MI(e,t){return n=>{if(!n||typeof n!="object")return!1;switch(n.constructor){case Array:return Pje(e,n);case Map:return Jj(e,n,n.keys());case LI:case F$:case Object:case void 0:return Jj(e,n,t||Object.keys(n))}return n instanceof _n?Rje(e,n):!1}}function Pje(e,t){const n=e.length;if(t.length!==n)return!1;for(let r=-1;++r<n;)if(!e[r](t[r]))return!1;return!0}function Rje(e,t){const n=e.length;if(t.length!==n)return!1;for(let r=-1;++r<n;)if(!e[r](t.get(r)))return!1;return!0}function Jj(e,t,n){const r=n[Symbol.iterator](),i=t instanceof Map?t.keys():Object.keys(t)[Symbol.iterator](),s=t instanceof Map?t.values():Object.values(t)[Symbol.iterator]();let o=0;const a=e.length;let u=s.next(),l=r.next(),c=i.next();for(;o<a&&!l.done&&!c.done&&!u.done&&!(l.value!==c.value||!e[o](u.value));++o,l=r.next(),c=i.next(),u=s.next());return o===a&&l.done&&c.done&&u.done?!0:(r.return&&r.return(),i.return&&i.return(),s.return&&s.return(),!1)}function Ute(e,t,n,r){return(n&1<<r)!==0}function Nje(e,t,n,r){return(n&1<<r)>>r}function j$(e,t,n){const r=n.byteLength+7&-8;if(e>0||n.byteLength<r){const i=new Uint8Array(r);return i.set(e%8===0?n.subarray(e>>3):Vte(new U$(n,e,t,null,Ute)).subarray(0,r)),i}return n}function Vte(e){const t=[];let n=0,r=0,i=0;for(const o of e)o&&(i|=1<<r),++r===8&&(t[n++]=i,i=r=0);(n===0||r>0)&&(t[n++]=i);const s=new Uint8Array(t.length+7&-8);return s.set(t),s}class U${constructor(t,n,r,i,s){this.bytes=t,this.length=r,this.context=i,this.get=s,this.bit=n%8,this.byteIndex=n>>3,this.byte=t[this.byteIndex++],this.index=0}next(){return this.index<this.length?(this.bit===8&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}function $2(e,t,n){if(n-t<=0)return 0;if(n-t<8){let s=0;for(const o of new U$(e,t,n-t,e,Nje))s+=o;return s}const r=n>>3<<3,i=t+(t%8===0?0:8-t%8);return $2(e,t,i)+$2(e,r,n)+kje(e,i>>3,r-i>>3)}function kje(e,t,n){let r=0,i=Math.trunc(t);const s=new DataView(e.buffer,e.byteOffset,e.byteLength),o=n===void 0?e.byteLength:i+n;for(;o-i>=4;)r+=MA(s.getUint32(i)),i+=4;for(;o-i>=2;)r+=MA(s.getUint16(i)),i+=2;for(;o-i>=1;)r+=MA(s.getUint8(i)),i+=1;return r}function MA(e){let t=Math.trunc(e);return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),(t+(t>>>4)&252645135)*16843009>>>24}const Dje=-1;class Mn{constructor(t,n,r,i,s,o=[],a){this.type=t,this.children=o,this.dictionary=a,this.offset=Math.floor(Math.max(n||0,0)),this.length=Math.floor(Math.max(r||0,0)),this._nullCount=Math.floor(Math.max(i||0,-1));let u;s instanceof Mn?(this.stride=s.stride,this.values=s.values,this.typeIds=s.typeIds,this.nullBitmap=s.nullBitmap,this.valueOffsets=s.valueOffsets):(this.stride=za(t),s&&((u=s[0])&&(this.valueOffsets=u),(u=s[1])&&(this.values=u),(u=s[2])&&(this.nullBitmap=u),(u=s[3])&&(this.typeIds=u))),this.nullable=this._nullCount!==0&&this.nullBitmap&&this.nullBitmap.byteLength>0}get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get byteLength(){let t=0;const{valueOffsets:n,values:r,nullBitmap:i,typeIds:s}=this;return n&&(t+=n.byteLength),r&&(t+=r.byteLength),i&&(t+=i.byteLength),s&&(t+=s.byteLength),this.children.reduce((o,a)=>o+a.byteLength,t)}get nullCount(){let t=this._nullCount,n;return t<=Dje&&(n=this.nullBitmap)&&(this._nullCount=t=this.length-$2(n,this.offset,this.offset+this.length)),t}getValid(t){if(this.nullable&&this.nullCount>0){const n=this.offset+t;return(this.nullBitmap[n>>3]&1<<n%8)!==0}return!0}setValid(t,n){if(!this.nullable)return n;if(!this.nullBitmap||this.nullBitmap.byteLength<=t>>3){const{nullBitmap:u}=this._changeLengthAndBackfillNullBitmap(this.length);Object.assign(this,{nullBitmap:u,_nullCount:0})}const{nullBitmap:r,offset:i}=this,s=i+t>>3,o=(i+t)%8,a=r[s]>>o&1;return n?a===0&&(r[s]|=1<<o,this._nullCount=this.nullCount+1):a===1&&(r[s]&=~(1<<o),this._nullCount=this.nullCount-1),n}clone(t=this.type,n=this.offset,r=this.length,i=this._nullCount,s=this,o=this.children){return new Mn(t,n,r,i,s,o,this.dictionary)}slice(t,n){const{stride:r,typeId:i,children:s}=this,o=+(this._nullCount===0)-1,a=i===16?r:1,u=this._sliceBuffers(t,n,r,i);return this.clone(this.type,this.offset+t,n,o,u,s.length===0||this.valueOffsets?s:this._sliceChildren(s,a*t,a*n))}_changeLengthAndBackfillNullBitmap(t){if(this.typeId===Q.Null)return this.clone(this.type,0,t,0);const{length:n,nullCount:r}=this,i=new Uint8Array((t+63&-64)>>3).fill(255,0,n>>3);i[n>>3]=(1<<n-(n&-8))-1,r>0&&i.set(j$(this.offset,n,this.nullBitmap),0);const s=this.buffers;return s[Uu.VALIDITY]=i,this.clone(this.type,0,t,r+(t-n),s)}_sliceBuffers(t,n,r,i){let s;const{buffers:o}=this;return(s=o[Uu.TYPE])&&(o[Uu.TYPE]=s.subarray(t,t+n)),(s=o[Uu.OFFSET])&&(o[Uu.OFFSET]=s.subarray(t,t+n+1))||(s=o[Uu.DATA])&&(o[Uu.DATA]=i===6?s:s.subarray(r*t,r*(t+n))),o}_sliceChildren(t,n,r){return t.map(i=>i.slice(n,r))}}Mn.prototype.children=Object.freeze([]);class Vg extends on{visit(t){return this.getVisitFn(t.type).call(this,t)}visitNull(t){const{["type"]:n,["offset"]:r=0,["length"]:i=0}=t;return new Mn(n,r,i,0)}visitBool(t){const{["type"]:n,["offset"]:r=0}=t,i=Pn(t.nullBitmap),s=Ii(n.ArrayType,t.data),{["length"]:o=s.length>>3,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Mn(n,r,o,a,[void 0,s,i])}visitInt(t){const{["type"]:n,["offset"]:r=0}=t,i=Pn(t.nullBitmap),s=Ii(n.ArrayType,t.data),{["length"]:o=s.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Mn(n,r,o,a,[void 0,s,i])}visitFloat(t){const{["type"]:n,["offset"]:r=0}=t,i=Pn(t.nullBitmap),s=Ii(n.ArrayType,t.data),{["length"]:o=s.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Mn(n,r,o,a,[void 0,s,i])}visitUtf8(t){const{["type"]:n,["offset"]:r=0}=t,i=Pn(t.data),s=Pn(t.nullBitmap),o=j0(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new Mn(n,r,a,u,[o,i,s])}visitBinary(t){const{["type"]:n,["offset"]:r=0}=t,i=Pn(t.data),s=Pn(t.nullBitmap),o=j0(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new Mn(n,r,a,u,[o,i,s])}visitFixedSizeBinary(t){const{["type"]:n,["offset"]:r=0}=t,i=Pn(t.nullBitmap),s=Ii(n.ArrayType,t.data),{["length"]:o=s.length/za(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Mn(n,r,o,a,[void 0,s,i])}visitDate(t){const{["type"]:n,["offset"]:r=0}=t,i=Pn(t.nullBitmap),s=Ii(n.ArrayType,t.data),{["length"]:o=s.length/za(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Mn(n,r,o,a,[void 0,s,i])}visitTimestamp(t){const{["type"]:n,["offset"]:r=0}=t,i=Pn(t.nullBitmap),s=Ii(n.ArrayType,t.data),{["length"]:o=s.length/za(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Mn(n,r,o,a,[void 0,s,i])}visitTime(t){const{["type"]:n,["offset"]:r=0}=t,i=Pn(t.nullBitmap),s=Ii(n.ArrayType,t.data),{["length"]:o=s.length/za(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Mn(n,r,o,a,[void 0,s,i])}visitDecimal(t){const{["type"]:n,["offset"]:r=0}=t,i=Pn(t.nullBitmap),s=Ii(n.ArrayType,t.data),{["length"]:o=s.length/za(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Mn(n,r,o,a,[void 0,s,i])}visitList(t){const{["type"]:n,["offset"]:r=0,["child"]:i}=t,s=Pn(t.nullBitmap),o=j0(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new Mn(n,r,a,u,[o,void 0,s],[i])}visitStruct(t){const{["type"]:n,["offset"]:r=0,["children"]:i=[]}=t,s=Pn(t.nullBitmap),{length:o=i.reduce((u,{length:l})=>Math.max(u,l),0),nullCount:a=t.nullBitmap?-1:0}=t;return new Mn(n,r,o,a,[void 0,void 0,s],i)}visitUnion(t){const{["type"]:n,["offset"]:r=0,["children"]:i=[]}=t,s=Pn(t.nullBitmap),o=Ii(n.ArrayType,t.typeIds),{["length"]:a=o.length,["nullCount"]:u=t.nullBitmap?-1:0}=t;if(Qt.isSparseUnion(n))return new Mn(n,r,a,u,[void 0,void 0,s,o],i);const l=j0(t.valueOffsets);return new Mn(n,r,a,u,[l,void 0,s,o],i)}visitDictionary(t){const{["type"]:n,["offset"]:r=0}=t,i=Pn(t.nullBitmap),s=Ii(n.indices.ArrayType,t.data),{["dictionary"]:o=new _n([new Vg().visit({type:n.dictionary})])}=t,{["length"]:a=s.length,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new Mn(n,r,a,u,[void 0,s,i],[],o)}visitInterval(t){const{["type"]:n,["offset"]:r=0}=t,i=Pn(t.nullBitmap),s=Ii(n.ArrayType,t.data),{["length"]:o=s.length/za(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Mn(n,r,o,a,[void 0,s,i])}visitFixedSizeList(t){const{["type"]:n,["offset"]:r=0,["child"]:i=new Vg().visit({type:n.valueType})}=t,s=Pn(t.nullBitmap),{["length"]:o=i.length/za(n),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Mn(n,r,o,a,[void 0,void 0,s],[i])}visitMap(t){const{["type"]:n,["offset"]:r=0,["child"]:i=new Vg().visit({type:n.childType})}=t,s=Pn(t.nullBitmap),o=j0(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:u=t.nullBitmap?-1:0}=t;return new Mn(n,r,a,u,[o,void 0,s],[i])}}function Hi(e){return new Vg().visit(e)}class Zj{constructor(t=0,n){this.numChunks=t,this.getChunkIterator=n,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){const t=this.chunkIterator.next();if(!t.done)return t;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}}function zte(e){return e.reduce((t,n)=>t+n.nullCount,0)}function Hte(e){return e.reduce((t,n,r)=>(t[r+1]=t[r]+n.length,t),new Uint32Array(e.length+1))}function Wte(e,t,n,r){const i=[];for(let s=-1,o=e.length;++s<o;){const a=e[s],u=t[s],{length:l}=a;if(u>=r)break;if(n>=u+l)continue;if(u>=n&&u+l<=r){i.push(a);continue}const c=Math.max(0,n-u),f=Math.min(r-u,l);i.push(a.slice(c,f-c))}return i.length===0&&i.push(e[0].slice(0,0)),i}function V$(e,t,n,r){let i=0,s=0,o=t.length-1;do{if(i>=o-1)return n<t[o]?r(e,i,n-t[i]):null;s=i+Math.trunc((o-i)*.5),n<t[s]?o=s:i=s}while(i<o)}function z$(e,t){return e.getValid(t)}function Pp(e){function t(n,r,i){return e(n[r],i)}return function(n){const r=this.data;return V$(r,this._offsets,n,t)}}function qte(e){let t;function n(r,i,s){return e(r[i],s,t)}return function(r,i){const s=this.data;t=i;const o=V$(s,this._offsets,r,n);return t=void 0,o}}function Gte(e){let t;function n(r,i,s){let o=s,a=0,u=0;for(let l=i-1,c=r.length;++l<c;){const f=r[l];if(~(a=e(f,t,o)))return u+a;o=0,u+=f.length}return-1}return function(r,i){t=r;const s=this.data,o=typeof i!="number"?n(s,0,0):V$(s,this._offsets,i,n);return t=void 0,o}}class Ot extends on{}function $je(e,t){return t===null&&e.length>0?0:-1}function Lje(e,t){const{nullBitmap:n}=e;if(!n||e.nullCount<=0)return-1;let r=0;for(const i of new U$(n,e.offset+(t||0),e.length,n,Ute)){if(!i)return r;++r}return-1}function Vt(e,t,n){if(t===void 0)return-1;if(t===null)return Lje(e,n);const r=Us.getVisitFn(e),i=Wm(t);for(let s=(n||0)-1,o=e.length;++s<o;)if(i(r(e,s)))return s;return-1}function Yte(e,t,n){const r=Us.getVisitFn(e),i=Wm(t);for(let s=(n||0)-1,o=e.length;++s<o;)if(i(r(e,s)))return s;return-1}Ot.prototype.visitNull=$je;Ot.prototype.visitBool=Vt;Ot.prototype.visitInt=Vt;Ot.prototype.visitInt8=Vt;Ot.prototype.visitInt16=Vt;Ot.prototype.visitInt32=Vt;Ot.prototype.visitInt64=Vt;Ot.prototype.visitUint8=Vt;Ot.prototype.visitUint16=Vt;Ot.prototype.visitUint32=Vt;Ot.prototype.visitUint64=Vt;Ot.prototype.visitFloat=Vt;Ot.prototype.visitFloat16=Vt;Ot.prototype.visitFloat32=Vt;Ot.prototype.visitFloat64=Vt;Ot.prototype.visitUtf8=Vt;Ot.prototype.visitBinary=Vt;Ot.prototype.visitFixedSizeBinary=Vt;Ot.prototype.visitDate=Vt;Ot.prototype.visitDateDay=Vt;Ot.prototype.visitDateMillisecond=Vt;Ot.prototype.visitTimestamp=Vt;Ot.prototype.visitTimestampSecond=Vt;Ot.prototype.visitTimestampMillisecond=Vt;Ot.prototype.visitTimestampMicrosecond=Vt;Ot.prototype.visitTimestampNanosecond=Vt;Ot.prototype.visitTime=Vt;Ot.prototype.visitTimeSecond=Vt;Ot.prototype.visitTimeMillisecond=Vt;Ot.prototype.visitTimeMicrosecond=Vt;Ot.prototype.visitTimeNanosecond=Vt;Ot.prototype.visitDecimal=Vt;Ot.prototype.visitList=Vt;Ot.prototype.visitStruct=Vt;Ot.prototype.visitUnion=Vt;Ot.prototype.visitDenseUnion=Yte;Ot.prototype.visitSparseUnion=Yte;Ot.prototype.visitDictionary=Vt;Ot.prototype.visitInterval=Vt;Ot.prototype.visitIntervalDayTime=Vt;Ot.prototype.visitIntervalYearMonth=Vt;Ot.prototype.visitFixedSizeList=Vt;Ot.prototype.visitMap=Vt;const hT=new Ot;class Pt extends on{}function $t(e){const{type:t}=e;if(e.nullCount===0&&e.stride===1&&(t.typeId===Q.Timestamp||t instanceof fs&&t.bitWidth!==64||t instanceof Ol&&t.bitWidth!==64||t instanceof tf&&t.precision!==Ni.HALF))return new Zj(e.data.length,r=>{const i=e.data[r];return i.values.subarray(0,i.length)[Symbol.iterator]()});let n=0;return new Zj(e.data.length,r=>{const s=e.data[r].length,o=e.slice(n,n+s);return n+=s,new Mje(o)})}class Mje{constructor(t){this.vector=t,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}Pt.prototype.visitNull=$t;Pt.prototype.visitBool=$t;Pt.prototype.visitInt=$t;Pt.prototype.visitInt8=$t;Pt.prototype.visitInt16=$t;Pt.prototype.visitInt32=$t;Pt.prototype.visitInt64=$t;Pt.prototype.visitUint8=$t;Pt.prototype.visitUint16=$t;Pt.prototype.visitUint32=$t;Pt.prototype.visitUint64=$t;Pt.prototype.visitFloat=$t;Pt.prototype.visitFloat16=$t;Pt.prototype.visitFloat32=$t;Pt.prototype.visitFloat64=$t;Pt.prototype.visitUtf8=$t;Pt.prototype.visitBinary=$t;Pt.prototype.visitFixedSizeBinary=$t;Pt.prototype.visitDate=$t;Pt.prototype.visitDateDay=$t;Pt.prototype.visitDateMillisecond=$t;Pt.prototype.visitTimestamp=$t;Pt.prototype.visitTimestampSecond=$t;Pt.prototype.visitTimestampMillisecond=$t;Pt.prototype.visitTimestampMicrosecond=$t;Pt.prototype.visitTimestampNanosecond=$t;Pt.prototype.visitTime=$t;Pt.prototype.visitTimeSecond=$t;Pt.prototype.visitTimeMillisecond=$t;Pt.prototype.visitTimeMicrosecond=$t;Pt.prototype.visitTimeNanosecond=$t;Pt.prototype.visitDecimal=$t;Pt.prototype.visitList=$t;Pt.prototype.visitStruct=$t;Pt.prototype.visitUnion=$t;Pt.prototype.visitDenseUnion=$t;Pt.prototype.visitSparseUnion=$t;Pt.prototype.visitDictionary=$t;Pt.prototype.visitInterval=$t;Pt.prototype.visitIntervalDayTime=$t;Pt.prototype.visitIntervalYearMonth=$t;Pt.prototype.visitFixedSizeList=$t;Pt.prototype.visitMap=$t;const H$=new Pt,Fje=(e,t)=>e+t;class Tf extends on{visitNull(t,n){return 0}visitInt(t,n){return t.type.bitWidth/8}visitFloat(t,n){return t.type.ArrayType.BYTES_PER_ELEMENT}visitBool(t,n){return 1/8}visitDecimal(t,n){return t.type.bitWidth/8}visitDate(t,n){return(t.type.unit+1)*4}visitTime(t,n){return t.type.bitWidth/8}visitTimestamp(t,n){return t.type.unit===sn.SECOND?4:8}visitInterval(t,n){return(t.type.unit+1)*4}visitStruct(t,n){return t.children.reduce((r,i)=>r+xu.visit(i,n),0)}visitFixedSizeBinary(t,n){return t.type.byteWidth}visitMap(t,n){return 8+t.children.reduce((r,i)=>r+xu.visit(i,n),0)}visitDictionary(t,n){var r;return t.type.indices.bitWidth/8+(((r=t.dictionary)===null||r===void 0?void 0:r.getByteLength(t.values[n]))||0)}}const Bje=({valueOffsets:e},t)=>8+(e[t+1]-e[t]),jje=({valueOffsets:e},t)=>8+(e[t+1]-e[t]),Uje=({valueOffsets:e,stride:t,children:n},r)=>{const i=n[0],{[r*t]:s}=e,{[r*t+1]:o}=e,a=xu.getVisitFn(i.type),u=i.slice(s,o-s);let l=8;for(let c=-1,f=o-s;++c<f;)l+=a(u,c);return l},Vje=({stride:e,children:t},n)=>{const r=t[0],i=r.slice(n*e,e),s=xu.getVisitFn(r.type);let o=0;for(let a=-1,u=i.length;++a<u;)o+=s(i,a);return o},zje=(e,t)=>e.type.mode===Ho.Dense?Kte(e,t):Qte(e,t),Kte=({type:e,children:t,typeIds:n,valueOffsets:r},i)=>{const s=e.typeIdToChildIndex[n[i]];return 8+xu.visit(t[s],r[i])},Qte=({children:e},t)=>4+xu.visitMany(e,e.map(()=>t)).reduce(Fje,0);Tf.prototype.visitUtf8=Bje;Tf.prototype.visitBinary=jje;Tf.prototype.visitList=Uje;Tf.prototype.visitFixedSizeList=Vje;Tf.prototype.visitUnion=zje;Tf.prototype.visitDenseUnion=Kte;Tf.prototype.visitSparseUnion=Qte;const xu=new Tf;var Xte;const Jte={},Zte={};class _n{constructor(t){var n,r,i;const s=t[0]instanceof _n?t.flatMap(a=>a.data):t;if(s.length===0||s.some(a=>!(a instanceof Mn)))throw new TypeError("Vector constructor expects an Array of Data instances.");const o=(n=s[0])===null||n===void 0?void 0:n.type;switch(s.length){case 0:this._offsets=[0];break;case 1:{const{get:a,set:u,indexOf:l,byteLength:c}=Jte[o.typeId],f=s[0];this.isValid=d=>z$(f,d),this.get=d=>a(f,d),this.set=(d,h)=>u(f,d,h),this.indexOf=d=>l(f,d),this.getByteLength=d=>c(f,d),this._offsets=[0,f.length];break}default:Object.setPrototypeOf(this,Zte[o.typeId]),this._offsets=Hte(s);break}this.data=s,this.type=o,this.stride=za(o),this.numChildren=(i=(r=o.children)===null||r===void 0?void 0:r.length)!==null&&i!==void 0?i:0,this.length=this._offsets[this._offsets.length-1]}get byteLength(){return this._byteLength===-1&&(this._byteLength=this.data.reduce((t,n)=>t+n.byteLength,0)),this._byteLength}get nullCount(){return this._nullCount===-1&&(this._nullCount=zte(this.data)),this._nullCount}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${Q[this.type.typeId]}Vector`}isValid(t){return!1}get(t){return null}set(t,n){}indexOf(t,n){return-1}includes(t,n){return this.indexOf(t,n)>0}getByteLength(t){return 0}[Symbol.iterator](){return H$.visit(this)}concat(...t){return new _n(this.data.concat(t.flatMap(n=>n.data).flat(Number.POSITIVE_INFINITY)))}slice(t,n){return new _n(jte(this,t,n,({data:r,_offsets:i},s,o)=>Wte(r,i,s,o)))}toJSON(){return[...this]}toArray(){const{type:t,data:n,length:r,stride:i,ArrayType:s}=this;switch(t.typeId){case Q.Int:case Q.Float:case Q.Decimal:case Q.Time:case Q.Timestamp:switch(n.length){case 0:return new s;case 1:return n[0].values.subarray(0,r*i);default:return n.reduce((o,{values:a,length:u})=>(o.array.set(a.subarray(0,u*i),o.offset),o.offset+=u*i,o),{array:new s(r*i),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(t){var n;return this.getChildAt((n=this.type.children)===null||n===void 0?void 0:n.findIndex(r=>r.name===t))}getChildAt(t){return t>-1&&t<this.numChildren?new _n(this.data.map(({children:n})=>n[t])):null}get isMemoized(){return Qt.isDictionary(this.type)?this.data[0].dictionary.isMemoized:!1}memoize(){if(Qt.isDictionary(this.type)){const t=new pT(this.data[0].dictionary),n=this.data.map(r=>{const i=r.clone();return i.dictionary=t,i});return new _n(n)}return new pT(this)}unmemoize(){if(Qt.isDictionary(this.type)&&this.isMemoized){const t=this.data[0].dictionary.unmemoize(),n=this.data.map(r=>{const i=r.clone();return i.dictionary=t,i});return new _n(n)}return this}}Xte=Symbol.toStringTag;_n[Xte]=(e=>{e.type=Qt.prototype,e.data=[],e.length=0,e.stride=1,e.numChildren=0,e._nullCount=-1,e._byteLength=-1,e._offsets=new Uint32Array([0]),e[Symbol.isConcatSpreadable]=!0;const t=Object.keys(Q).map(n=>Q[n]).filter(n=>typeof n=="number"&&n!==Q.NONE);for(const n of t){const r=Us.getVisitFnByTypeId(n),i=Wo.getVisitFnByTypeId(n),s=hT.getVisitFnByTypeId(n),o=xu.getVisitFnByTypeId(n);Jte[n]={get:r,set:i,indexOf:s,byteLength:o},Zte[n]=Object.create(e,{isValid:{value:Pp(z$)},get:{value:Pp(Us.getVisitFnByTypeId(n))},set:{value:qte(Wo.getVisitFnByTypeId(n))},indexOf:{value:Gte(hT.getVisitFnByTypeId(n))},getByteLength:{value:Pp(xu.getVisitFnByTypeId(n))}})}return"Vector"})(_n.prototype);class pT extends _n{constructor(t){super(t.data);const n=this.get,r=this.set,i=this.slice,s=new Array(this.length);Object.defineProperty(this,"get",{value(o){const a=s[o];if(a!==void 0)return a;const u=n.call(this,o);return s[o]=u,u}}),Object.defineProperty(this,"set",{value(o,a){r.call(this,o,a),s[o]=a}}),Object.defineProperty(this,"slice",{value:(o,a)=>new pT(i.call(this,o,a))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new _n(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}function Hje(e){if(!e||e.length<=0)return function(i){return!0};let t="";const n=e.filter(r=>r===r);return n.length>0&&(t=`
    switch (x) {${n.map(r=>`
        case ${Wje(r)}:`).join("")}
            return false;
    }`),e.length!==n.length&&(t=`if (x !== x) return false;
${t}`),new Function("x",`${t}
return true;`)}function Wje(e){return typeof e!="bigint"?Hc(e):jee?`${Hc(e)}n`:`"${Hc(e)}"`}const FA=(e,t)=>(Math.ceil(e)*t+63&-64||64)/t,qje=(e,t=0)=>e.length>=t?e.subarray(0,t):lT(new e.constructor(t),e,0);class FI{constructor(t,n=1){this.buffer=t,this.stride=n,this.BYTES_PER_ELEMENT=t.BYTES_PER_ELEMENT,this.ArrayType=t.constructor,this._resize(this.length=Math.ceil(t.length/n))}get byteLength(){return Math.ceil(this.length*this.stride)*this.BYTES_PER_ELEMENT}get reservedLength(){return this.buffer.length/this.stride}get reservedByteLength(){return this.buffer.byteLength}set(t,n){return this}append(t){return this.set(this.length,t)}reserve(t){if(t>0){this.length+=t;const n=this.stride,r=this.length*n,i=this.buffer.length;r>=i&&this._resize(i===0?FA(r*1,this.BYTES_PER_ELEMENT):FA(r*2,this.BYTES_PER_ELEMENT))}return this}flush(t=this.length){t=FA(t*this.stride,this.BYTES_PER_ELEMENT);const n=qje(this.buffer,t);return this.clear(),n}clear(){return this.length=0,this._resize(0),this}_resize(t){return this.buffer=lT(new this.ArrayType(t),this.buffer)}}FI.prototype.offset=0;class W_ extends FI{last(){return this.get(this.length-1)}get(t){return this.buffer[t]}set(t,n){return this.reserve(t-this.length+1),this.buffer[t*this.stride]=n,this}}class ene extends W_{constructor(t=new Uint8Array(0)){super(t,1/8),this.numValid=0}get numInvalid(){return this.length-this.numValid}get(t){return this.buffer[t>>3]>>t%8&1}set(t,n){const{buffer:r}=this.reserve(t-this.length+1),i=t>>3,s=t%8,o=r[i]>>s&1;return n?o===0&&(r[i]|=1<<s,++this.numValid):o===1&&(r[i]&=~(1<<s),--this.numValid),this}clear(){return this.numValid=0,super.clear()}}class tne extends W_{constructor(t=new Int32Array(1)){super(t,1)}append(t){return this.set(this.length-1,t)}set(t,n){const r=this.length-1,i=this.reserve(t-r+1).buffer;return r<t++&&i.fill(i[r],r,t),i[t]=i[t-1]+n,this}flush(t=this.length-1){return t>this.length&&this.set(t-1,0),super.flush(t+1)}}let zs=class{constructor({type:t,nullValues:n}){this.length=0,this.finished=!1,this.type=t,this.children=[],this.nullValues=n,this.stride=za(t),this._nulls=new ene,n&&n.length>0&&(this._isValid=Hje(n))}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t){throw new Error('"throughDOM" not available in this environment')}toVector(){return new _n([this.flush()])}get ArrayType(){return this.type.ArrayType}get nullCount(){return this._nulls.numInvalid}get numChildren(){return this.children.length}get byteLength(){let t=0;const{_offsets:n,_values:r,_nulls:i,_typeIds:s,children:o}=this;return n&&(t+=n.byteLength),r&&(t+=r.byteLength),i&&(t+=i.byteLength),s&&(t+=s.byteLength),o.reduce((a,u)=>a+u.byteLength,t)}get reservedLength(){return this._nulls.reservedLength}get reservedByteLength(){let t=0;return this._offsets&&(t+=this._offsets.reservedByteLength),this._values&&(t+=this._values.reservedByteLength),this._nulls&&(t+=this._nulls.reservedByteLength),this._typeIds&&(t+=this._typeIds.reservedByteLength),this.children.reduce((n,r)=>n+r.reservedByteLength,t)}get valueOffsets(){return this._offsets?this._offsets.buffer:null}get values(){return this._values?this._values.buffer:null}get nullBitmap(){return this._nulls?this._nulls.buffer:null}get typeIds(){return this._typeIds?this._typeIds.buffer:null}append(t){return this.set(this.length,t)}isValid(t){return this._isValid(t)}set(t,n){return this.setValid(t,this.isValid(n))&&this.setValue(t,n),this}setValue(t,n){this._setValue(this,t,n)}setValid(t,n){return this.length=this._nulls.set(t,+n).length,n}addChild(t,n=`${this.numChildren}`){throw new Error(`Cannot append children to non-nested type "${this.type}"`)}getChildAt(t){return this.children[t]||null}flush(){let t,n,r,i;const{type:s,length:o,nullCount:a,_typeIds:u,_offsets:l,_values:c,_nulls:f}=this;(n=u==null?void 0:u.flush(o))?i=l==null?void 0:l.flush(o):(i=l==null?void 0:l.flush(o))?t=c==null?void 0:c.flush(l.last()):t=c==null?void 0:c.flush(o),a>0&&(r=f==null?void 0:f.flush(o));const d=this.children.map(h=>h.flush());return this.clear(),Hi({type:s,length:o,nullCount:a,children:d,child:d[0],data:t,typeIds:n,nullBitmap:r,valueOffsets:i})}finish(){this.finished=!0;for(const t of this.children)t.finish();return this}clear(){var t,n,r,i;this.length=0,(t=this._nulls)===null||t===void 0||t.clear(),(n=this._values)===null||n===void 0||n.clear(),(r=this._offsets)===null||r===void 0||r.clear(),(i=this._typeIds)===null||i===void 0||i.clear();for(const s of this.children)s.clear();return this}};zs.prototype.length=1;zs.prototype.stride=1;zs.prototype.children=null;zs.prototype.finished=!1;zs.prototype.nullValues=null;zs.prototype._isValid=()=>!0;class Sf extends zs{constructor(t){super(t),this._values=new W_(new this.ArrayType(0),this.stride)}setValue(t,n){const r=this._values;return r.reserve(t-r.length+1),super.setValue(t,n)}}class BI extends zs{constructor(t){super(t),this._pendingLength=0,this._offsets=new tne}setValue(t,n){const r=this._pending||(this._pending=new Map),i=r.get(t);i&&(this._pendingLength-=i.length),this._pendingLength+=n instanceof LI?n[ga].length:n.length,r.set(t,n)}setValid(t,n){return super.setValid(t,n)?!0:((this._pending||(this._pending=new Map)).set(t,void 0),!1)}clear(){return this._pendingLength=0,this._pending=void 0,super.clear()}flush(){return this._flush(),super.flush()}finish(){return this._flush(),super.finish()}_flush(){const t=this._pending,n=this._pendingLength;return this._pendingLength=0,this._pending=void 0,t&&t.size>0&&this._flushPending(t,n),this}}class L2{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(t,n,r,i){return t.prep(8,24),t.writeInt64(i),t.pad(4),t.writeInt32(r),t.writeInt64(n),t.offset()}}const BA=2,Ka=4,Gu=4,zn=4,cc=new Int32Array(2),eU=new Float32Array(cc.buffer),tU=new Float64Array(cc.buffer),h1=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;let pl=class M2{constructor(t,n){this.low=t|0,this.high=n|0}static create(t,n){return t==0&&n==0?M2.ZERO:new M2(t,n)}toFloat64(){return(this.low>>>0)+this.high*4294967296}equals(t){return this.low==t.low&&this.high==t.high}};pl.ZERO=new pl(0,0);var F2;(function(e){e[e.UTF8_BYTES=1]="UTF8_BYTES",e[e.UTF16_STRING=2]="UTF16_STRING"})(F2||(F2={}));let mT=class nne{constructor(t){this.bytes_=t,this.position_=0}static allocate(t){return new nne(new Uint8Array(t))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(t){this.position_=t}capacity(){return this.bytes_.length}readInt8(t){return this.readUint8(t)<<24>>24}readUint8(t){return this.bytes_[t]}readInt16(t){return this.readUint16(t)<<16>>16}readUint16(t){return this.bytes_[t]|this.bytes_[t+1]<<8}readInt32(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24}readUint32(t){return this.readInt32(t)>>>0}readInt64(t){return new pl(this.readInt32(t),this.readInt32(t+4))}readUint64(t){return new pl(this.readUint32(t),this.readUint32(t+4))}readFloat32(t){return cc[0]=this.readInt32(t),eU[0]}readFloat64(t){return cc[h1?0:1]=this.readInt32(t),cc[h1?1:0]=this.readInt32(t+4),tU[0]}writeInt8(t,n){this.bytes_[t]=n}writeUint8(t,n){this.bytes_[t]=n}writeInt16(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8}writeUint16(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8}writeInt32(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8,this.bytes_[t+2]=n>>16,this.bytes_[t+3]=n>>24}writeUint32(t,n){this.bytes_[t]=n,this.bytes_[t+1]=n>>8,this.bytes_[t+2]=n>>16,this.bytes_[t+3]=n>>24}writeInt64(t,n){this.writeInt32(t,n.low),this.writeInt32(t+4,n.high)}writeUint64(t,n){this.writeUint32(t,n.low),this.writeUint32(t+4,n.high)}writeFloat32(t,n){eU[0]=n,this.writeInt32(t,cc[0])}writeFloat64(t,n){tU[0]=n,this.writeInt32(t,cc[h1?0:1]),this.writeInt32(t+4,cc[h1?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+Ka+Gu)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let t="";for(let n=0;n<Gu;n++)t+=String.fromCharCode(this.readInt8(this.position_+Ka+n));return t}__offset(t,n){const r=t-this.readInt32(t);return n<this.readInt16(r)?this.readInt16(r+n):0}__union(t,n){return t.bb_pos=n+this.readInt32(n),t.bb=this,t}__string(t,n){t+=this.readInt32(t);const r=this.readInt32(t);let i="",s=0;if(t+=Ka,n===F2.UTF8_BYTES)return this.bytes_.subarray(t,t+r);for(;s<r;){let o;const a=this.readUint8(t+s++);if(a<192)o=a;else{const u=this.readUint8(t+s++);if(a<224)o=(a&31)<<6|u&63;else{const l=this.readUint8(t+s++);if(a<240)o=(a&15)<<12|(u&63)<<6|l&63;else{const c=this.readUint8(t+s++);o=(a&7)<<18|(u&63)<<12|(l&63)<<6|c&63}}}o<65536?i+=String.fromCharCode(o):(o-=65536,i+=String.fromCharCode((o>>10)+55296,(o&1023)+56320))}return i}__union_with_string(t,n){return typeof t=="string"?this.__string(n):this.__union(t,n)}__indirect(t){return t+this.readInt32(t)}__vector(t){return t+this.readInt32(t)+Ka}__vector_len(t){return this.readInt32(t+this.readInt32(t))}__has_identifier(t){if(t.length!=Gu)throw new Error("FlatBuffers: file identifier must be length "+Gu);for(let n=0;n<Gu;n++)if(t.charCodeAt(n)!=this.readInt8(this.position()+Ka+n))return!1;return!0}createLong(t,n){return pl.create(t,n)}createScalarList(t,n){const r=[];for(let i=0;i<n;++i)t(i)!==null&&r.push(t(i));return r}createObjList(t,n){const r=[];for(let i=0;i<n;++i){const s=t(i);s!==null&&r.push(s.unpack())}return r}},rne=class ine{constructor(t){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null;let n;t?n=t:n=1024,this.bb=mT.allocate(n),this.space=n}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(t){this.force_defaults=t}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(t,n){t>this.minalign&&(this.minalign=t);const r=~(this.bb.capacity()-this.space+n)+1&t-1;for(;this.space<r+t+n;){const i=this.bb.capacity();this.bb=ine.growByteBuffer(this.bb),this.space+=this.bb.capacity()-i}this.pad(r)}pad(t){for(let n=0;n<t;n++)this.bb.writeInt8(--this.space,0)}writeInt8(t){this.bb.writeInt8(this.space-=1,t)}writeInt16(t){this.bb.writeInt16(this.space-=2,t)}writeInt32(t){this.bb.writeInt32(this.space-=4,t)}writeInt64(t){this.bb.writeInt64(this.space-=8,t)}writeFloat32(t){this.bb.writeFloat32(this.space-=4,t)}writeFloat64(t){this.bb.writeFloat64(this.space-=8,t)}addInt8(t){this.prep(1,0),this.writeInt8(t)}addInt16(t){this.prep(2,0),this.writeInt16(t)}addInt32(t){this.prep(4,0),this.writeInt32(t)}addInt64(t){this.prep(8,0),this.writeInt64(t)}addFloat32(t){this.prep(4,0),this.writeFloat32(t)}addFloat64(t){this.prep(8,0),this.writeFloat64(t)}addFieldInt8(t,n,r){(this.force_defaults||n!=r)&&(this.addInt8(n),this.slot(t))}addFieldInt16(t,n,r){(this.force_defaults||n!=r)&&(this.addInt16(n),this.slot(t))}addFieldInt32(t,n,r){(this.force_defaults||n!=r)&&(this.addInt32(n),this.slot(t))}addFieldInt64(t,n,r){(this.force_defaults||!n.equals(r))&&(this.addInt64(n),this.slot(t))}addFieldFloat32(t,n,r){(this.force_defaults||n!=r)&&(this.addFloat32(n),this.slot(t))}addFieldFloat64(t,n,r){(this.force_defaults||n!=r)&&(this.addFloat64(n),this.slot(t))}addFieldOffset(t,n,r){(this.force_defaults||n!=r)&&(this.addOffset(n),this.slot(t))}addFieldStruct(t,n,r){n!=r&&(this.nested(n),this.slot(t))}nested(t){if(t!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")}slot(t){this.vtable!==null&&(this.vtable[t]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(t){const n=t.capacity();if(n&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const r=n<<1,i=mT.allocate(r);return i.setPosition(r-n),i.bytes().set(t.bytes(),r-n),i}addOffset(t){this.prep(Ka,0),this.writeInt32(this.offset()-t+Ka)}startObject(t){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=t;for(let n=0;n<t;n++)this.vtable[n]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const t=this.offset();let n=this.vtable_in_use-1;for(;n>=0&&this.vtable[n]==0;n--);const r=n+1;for(;n>=0;n--)this.addInt16(this.vtable[n]!=0?t-this.vtable[n]:0);const i=2;this.addInt16(t-this.object_start);const s=(r+i)*BA;this.addInt16(s);let o=0;const a=this.space;e:for(n=0;n<this.vtables.length;n++){const u=this.bb.capacity()-this.vtables[n];if(s==this.bb.readInt16(u)){for(let l=BA;l<s;l+=BA)if(this.bb.readInt16(a+l)!=this.bb.readInt16(u+l))continue e;o=this.vtables[n];break}}return o?(this.space=this.bb.capacity()-t,this.bb.writeInt32(this.space,o-t)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-t,this.offset()-t)),this.isNested=!1,t}finish(t,n,r){const i=r?zn:0;if(n){const s=n;if(this.prep(this.minalign,Ka+Gu+i),s.length!=Gu)throw new Error("FlatBuffers: file identifier must be length "+Gu);for(let o=Gu-1;o>=0;o--)this.writeInt8(s.charCodeAt(o))}this.prep(this.minalign,Ka+i),this.addOffset(t),i&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(t,n){this.finish(t,n,!0)}requiredField(t,n){const r=this.bb.capacity()-t,i=r-this.bb.readInt32(r);if(!(this.bb.readInt16(i+n)!=0))throw new Error("FlatBuffers: field "+n+" must be set")}startVector(t,n,r){this.notNested(),this.vector_num_elems=n,this.prep(Ka,t*n),this.prep(r,t*n)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(t){if(!t)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(t))return this.string_maps.get(t);const n=this.createString(t);return this.string_maps.set(t,n),n}createString(t){if(!t)return 0;let n;if(t instanceof Uint8Array)n=t;else{n=[];let r=0;for(;r<t.length;){let i;const s=t.charCodeAt(r++);if(s<55296||s>=56320)i=s;else{const o=t.charCodeAt(r++);i=(s<<10)+o+-56613888}i<128?n.push(i):(i<2048?n.push(i>>6&31|192):(i<65536?n.push(i>>12&15|224):n.push(i>>18&7|240,i>>12&63|128),n.push(i>>6&63|128)),n.push(i&63|128))}}this.addInt8(0),this.startVector(1,n.length,1),this.bb.setPosition(this.space-=n.length);for(let r=0,i=this.space,s=this.bb.bytes();r<n.length;r++)s[i++]=n[r];return this.endVector()}createLong(t,n){return pl.create(t,n)}createObjectOffset(t){return t===null?0:typeof t=="string"?this.createString(t):t.pack(this)}createObjectOffsetList(t){const n=[];for(let r=0;r<t.length;++r){const i=t[r];if(i!==null)n.push(this.createObjectOffset(i));else throw new Error("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return n}createStructOffsetList(t,n){return n(this,t.length),this.createObjectOffsetList(t),this.endVector()}};class Yr{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsKeyValue(t,n){return(n||new Yr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsKeyValue(t,n){return t.setPosition(t.position()+zn),(n||new Yr).__init(t.readInt32(t.position())+t.position(),t)}key(t){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,t):null}value(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,t):null}static startKeyValue(t){t.startObject(2)}static addKey(t,n){t.addFieldOffset(0,n,0)}static addValue(t,n){t.addFieldOffset(1,n,0)}static endKeyValue(t){return t.endObject()}static createKeyValue(t,n,r){return Yr.startKeyValue(t),Yr.addKey(t,n),Yr.addValue(t,r),Yr.endKeyValue(t)}}var cm;(function(e){e[e.V1=0]="V1",e[e.V2=1]="V2",e[e.V3=2]="V3",e[e.V4=3]="V4",e[e.V5=4]="V5"})(cm||(cm={}));var fm;(function(e){e[e.Little=0]="Little",e[e.Big=1]="Big"})(fm||(fm={}));var gT;(function(e){e[e.DenseArray=0]="DenseArray"})(gT||(gT={}));class Zs{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsInt(t,n){return(n||new Zs).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInt(t,n){return t.setPosition(t.position()+zn),(n||new Zs).__init(t.readInt32(t.position())+t.position(),t)}bitWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}isSigned(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startInt(t){t.startObject(2)}static addBitWidth(t,n){t.addFieldInt32(0,n,0)}static addIsSigned(t,n){t.addFieldInt8(1,+n,0)}static endInt(t){return t.endObject()}static createInt(t,n,r){return Zs.startInt(t),Zs.addBitWidth(t,n),Zs.addIsSigned(t,r),Zs.endInt(t)}}class Yu{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDictionaryEncoding(t,n){return(n||new Yu).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryEncoding(t,n){return t.setPosition(t.position()+zn),(n||new Yu).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}indexType(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new Zs).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isOrdered(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}dictionaryKind(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):gT.DenseArray}static startDictionaryEncoding(t){t.startObject(4)}static addId(t,n){t.addFieldInt64(0,n,t.createLong(0,0))}static addIndexType(t,n){t.addFieldOffset(1,n,0)}static addIsOrdered(t,n){t.addFieldInt8(2,+n,0)}static addDictionaryKind(t,n){t.addFieldInt16(3,n,gT.DenseArray)}static endDictionaryEncoding(t){return t.endObject()}}class id{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBinary(t,n){return(n||new id).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBinary(t,n){return t.setPosition(t.position()+zn),(n||new id).__init(t.readInt32(t.position())+t.position(),t)}static startBinary(t){t.startObject(0)}static endBinary(t){return t.endObject()}static createBinary(t){return id.startBinary(t),id.endBinary(t)}}class sd{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBool(t,n){return(n||new sd).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBool(t,n){return t.setPosition(t.position()+zn),(n||new sd).__init(t.readInt32(t.position())+t.position(),t)}static startBool(t){t.startObject(0)}static endBool(t){return t.endObject()}static createBool(t){return sd.startBool(t),sd.endBool(t)}}var yT;(function(e){e[e.DAY=0]="DAY",e[e.MILLISECOND=1]="MILLISECOND"})(yT||(yT={}));let cb=class Ph{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDate(t,n){return(n||new Ph).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDate(t,n){return t.setPosition(t.position()+zn),(n||new Ph).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):yT.MILLISECOND}static startDate(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,yT.MILLISECOND)}static endDate(t){return t.endObject()}static createDate(t,n){return Ph.startDate(t),Ph.addUnit(t,n),Ph.endDate(t)}};class xs{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDecimal(t,n){return(n||new xs).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDecimal(t,n){return t.setPosition(t.position()+zn),(n||new xs).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}scale(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0}bitWidth(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):128}static startDecimal(t){t.startObject(3)}static addPrecision(t,n){t.addFieldInt32(0,n,0)}static addScale(t,n){t.addFieldInt32(1,n,0)}static addBitWidth(t,n){t.addFieldInt32(2,n,128)}static endDecimal(t){return t.endObject()}static createDecimal(t,n,r,i){return xs.startDecimal(t),xs.addPrecision(t,n),xs.addScale(t,r),xs.addBitWidth(t,i),xs.endDecimal(t)}}var dm;(function(e){e[e.SECOND=0]="SECOND",e[e.MILLISECOND=1]="MILLISECOND",e[e.MICROSECOND=2]="MICROSECOND",e[e.NANOSECOND=3]="NANOSECOND"})(dm||(dm={}));class Qa{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFixedSizeBinary(t,n){return(n||new Qa).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeBinary(t,n){return t.setPosition(t.position()+zn),(n||new Qa).__init(t.readInt32(t.position())+t.position(),t)}byteWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeBinary(t){t.startObject(1)}static addByteWidth(t,n){t.addFieldInt32(0,n,0)}static endFixedSizeBinary(t){return t.endObject()}static createFixedSizeBinary(t,n){return Qa.startFixedSizeBinary(t),Qa.addByteWidth(t,n),Qa.endFixedSizeBinary(t)}}class Xa{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFixedSizeList(t,n){return(n||new Xa).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeList(t,n){return t.setPosition(t.position()+zn),(n||new Xa).__init(t.readInt32(t.position())+t.position(),t)}listSize(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeList(t){t.startObject(1)}static addListSize(t,n){t.addFieldInt32(0,n,0)}static endFixedSizeList(t){return t.endObject()}static createFixedSizeList(t,n){return Xa.startFixedSizeList(t),Xa.addListSize(t,n),Xa.endFixedSizeList(t)}}var _T;(function(e){e[e.HALF=0]="HALF",e[e.SINGLE=1]="SINGLE",e[e.DOUBLE=2]="DOUBLE"})(_T||(_T={}));class Ja{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFloatingPoint(t,n){return(n||new Ja).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFloatingPoint(t,n){return t.setPosition(t.position()+zn),(n||new Ja).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):_T.HALF}static startFloatingPoint(t){t.startObject(1)}static addPrecision(t,n){t.addFieldInt16(0,n,_T.HALF)}static endFloatingPoint(t){return t.endObject()}static createFloatingPoint(t,n){return Ja.startFloatingPoint(t),Ja.addPrecision(t,n),Ja.endFloatingPoint(t)}}var vT;(function(e){e[e.YEAR_MONTH=0]="YEAR_MONTH",e[e.DAY_TIME=1]="DAY_TIME",e[e.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(vT||(vT={}));class Za{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsInterval(t,n){return(n||new Za).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInterval(t,n){return t.setPosition(t.position()+zn),(n||new Za).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):vT.YEAR_MONTH}static startInterval(t){t.startObject(1)}static addUnit(t,n){t.addFieldInt16(0,n,vT.YEAR_MONTH)}static endInterval(t){return t.endObject()}static createInterval(t,n){return Za.startInterval(t),Za.addUnit(t,n),Za.endInterval(t)}}class od{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsList(t,n){return(n||new od).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsList(t,n){return t.setPosition(t.position()+zn),(n||new od).__init(t.readInt32(t.position())+t.position(),t)}static startList(t){t.startObject(0)}static endList(t){return t.endObject()}static createList(t){return od.startList(t),od.endList(t)}}let fb=class Rh{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsMap(t,n){return(n||new Rh).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMap(t,n){return t.setPosition(t.position()+zn),(n||new Rh).__init(t.readInt32(t.position())+t.position(),t)}keysSorted(){const t=this.bb.__offset(this.bb_pos,4);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startMap(t){t.startObject(1)}static addKeysSorted(t,n){t.addFieldInt8(0,+n,0)}static endMap(t){return t.endObject()}static createMap(t,n){return Rh.startMap(t),Rh.addKeysSorted(t,n),Rh.endMap(t)}};class ad{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsNull(t,n){return(n||new ad).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsNull(t,n){return t.setPosition(t.position()+zn),(n||new ad).__init(t.readInt32(t.position())+t.position(),t)}static startNull(t){t.startObject(0)}static endNull(t){return t.endObject()}static createNull(t){return ad.startNull(t),ad.endNull(t)}}class ud{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsStruct_(t,n){return(n||new ud).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsStruct_(t,n){return t.setPosition(t.position()+zn),(n||new ud).__init(t.readInt32(t.position())+t.position(),t)}static startStruct_(t){t.startObject(0)}static endStruct_(t){return t.endObject()}static createStruct_(t){return ud.startStruct_(t),ud.endStruct_(t)}}class ko{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsTime(t,n){return(n||new ko).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTime(t,n){return t.setPosition(t.position()+zn),(n||new ko).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):dm.MILLISECOND}bitWidth(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):32}static startTime(t){t.startObject(2)}static addUnit(t,n){t.addFieldInt16(0,n,dm.MILLISECOND)}static addBitWidth(t,n){t.addFieldInt32(1,n,32)}static endTime(t){return t.endObject()}static createTime(t,n,r){return ko.startTime(t),ko.addUnit(t,n),ko.addBitWidth(t,r),ko.endTime(t)}}let ig=class Mf{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsTimestamp(t,n){return(n||new Mf).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTimestamp(t,n){return t.setPosition(t.position()+zn),(n||new Mf).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):dm.SECOND}timezone(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,t):null}static startTimestamp(t){t.startObject(2)}static addUnit(t,n){t.addFieldInt16(0,n,dm.SECOND)}static addTimezone(t,n){t.addFieldOffset(1,n,0)}static endTimestamp(t){return t.endObject()}static createTimestamp(t,n,r){return Mf.startTimestamp(t),Mf.addUnit(t,n),Mf.addTimezone(t,r),Mf.endTimestamp(t)}};var bT;(function(e){e[e.Sparse=0]="Sparse",e[e.Dense=1]="Dense"})(bT||(bT={}));class As{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsUnion(t,n){return(n||new As).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUnion(t,n){return t.setPosition(t.position()+zn),(n||new As).__init(t.readInt32(t.position())+t.position(),t)}mode(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):bT.Sparse}typeIds(t){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.readInt32(this.bb.__vector(this.bb_pos+n)+t*4):0}typeIdsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}typeIdsArray(){const t=this.bb.__offset(this.bb_pos,6);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startUnion(t){t.startObject(2)}static addMode(t,n){t.addFieldInt16(0,n,bT.Sparse)}static addTypeIds(t,n){t.addFieldOffset(1,n,0)}static createTypeIdsVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addInt32(n[r]);return t.endVector()}static startTypeIdsVector(t,n){t.startVector(4,n,4)}static endUnion(t){return t.endObject()}static createUnion(t,n,r){return As.startUnion(t),As.addMode(t,n),As.addTypeIds(t,r),As.endUnion(t)}}class ld{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsUtf8(t,n){return(n||new ld).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUtf8(t,n){return t.setPosition(t.position()+zn),(n||new ld).__init(t.readInt32(t.position())+t.position(),t)}static startUtf8(t){t.startObject(0)}static endUtf8(t){return t.endObject()}static createUtf8(t){return ld.startUtf8(t),ld.endUtf8(t)}}var pr;(function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.FloatingPoint=3]="FloatingPoint",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct_=13]="Struct_",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Duration=18]="Duration",e[e.LargeBinary=19]="LargeBinary",e[e.LargeUtf8=20]="LargeUtf8",e[e.LargeList=21]="LargeList"})(pr||(pr={}));let xo=class db{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsField(t,n){return(n||new db).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsField(t,n){return t.setPosition(t.position()+zn),(n||new db).__init(t.readInt32(t.position())+t.position(),t)}name(t){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,t):null}nullable(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}typeType(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint8(this.bb_pos+t):pr.NONE}type(t){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.__union(t,this.bb_pos+n):null}dictionary(t){const n=this.bb.__offset(this.bb_pos,12);return n?(t||new Yu).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}children(t,n){const r=this.bb.__offset(this.bb_pos,14);return r?(n||new db).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}childrenLength(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,16);return r?(n||new Yr).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}static startField(t){t.startObject(7)}static addName(t,n){t.addFieldOffset(0,n,0)}static addNullable(t,n){t.addFieldInt8(1,+n,0)}static addTypeType(t,n){t.addFieldInt8(2,n,pr.NONE)}static addType(t,n){t.addFieldOffset(3,n,0)}static addDictionary(t,n){t.addFieldOffset(4,n,0)}static addChildren(t,n){t.addFieldOffset(5,n,0)}static createChildrenVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startChildrenVector(t,n){t.startVector(4,n,4)}static addCustomMetadata(t,n){t.addFieldOffset(6,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endField(t){return t.endObject()}},Ua=class Bu{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsSchema(t,n){return(n||new Bu).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsSchema(t,n){return t.setPosition(t.position()+zn),(n||new Bu).__init(t.readInt32(t.position())+t.position(),t)}endianness(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):fm.Little}fields(t,n){const r=this.bb.__offset(this.bb_pos,6);return r?(n||new xo).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}fieldsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new Yr).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}features(t){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.readInt64(this.bb.__vector(this.bb_pos+n)+t*8):this.bb.createLong(0,0)}featuresLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}static startSchema(t){t.startObject(4)}static addEndianness(t,n){t.addFieldInt16(0,n,fm.Little)}static addFields(t,n){t.addFieldOffset(1,n,0)}static createFieldsVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startFieldsVector(t,n){t.startVector(4,n,4)}static addCustomMetadata(t,n){t.addFieldOffset(2,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static addFeatures(t,n){t.addFieldOffset(3,n,0)}static createFeaturesVector(t,n){t.startVector(8,n.length,8);for(let r=n.length-1;r>=0;r--)t.addInt64(n[r]);return t.endVector()}static startFeaturesVector(t,n){t.startVector(8,n,8)}static endSchema(t){return t.endObject()}static finishSchemaBuffer(t,n){t.finish(n)}static finishSizePrefixedSchemaBuffer(t,n){t.finish(n,void 0,!0)}static createSchema(t,n,r,i,s){return Bu.startSchema(t),Bu.addEndianness(t,n),Bu.addFields(t,r),Bu.addCustomMetadata(t,i),Bu.addFeatures(t,s),Bu.endSchema(t)}};class Qs{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsFooter(t,n){return(n||new Qs).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFooter(t,n){return t.setPosition(t.position()+zn),(n||new Qs).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):cm.V1}schema(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new Ua).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}dictionaries(t,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new L2).__init(this.bb.__vector(this.bb_pos+r)+t*24,this.bb):null}dictionariesLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}recordBatches(t,n){const r=this.bb.__offset(this.bb_pos,10);return r?(n||new L2).__init(this.bb.__vector(this.bb_pos+r)+t*24,this.bb):null}recordBatchesLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,12);return r?(n||new Yr).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startFooter(t){t.startObject(5)}static addVersion(t,n){t.addFieldInt16(0,n,cm.V1)}static addSchema(t,n){t.addFieldOffset(1,n,0)}static addDictionaries(t,n){t.addFieldOffset(2,n,0)}static startDictionariesVector(t,n){t.startVector(24,n,8)}static addRecordBatches(t,n){t.addFieldOffset(3,n,0)}static startRecordBatchesVector(t,n){t.startVector(24,n,8)}static addCustomMetadata(t,n){t.addFieldOffset(4,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endFooter(t){return t.endObject()}static finishFooterBuffer(t,n){t.finish(n)}static finishSizePrefixedFooterBuffer(t,n){t.finish(n,void 0,!0)}}class An{constructor(t=[],n,r){this.fields=t||[],this.metadata=n||new Map,r||(r=B2(t)),this.dictionaries=r}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(t=>t.name)}toString(){return`Schema<{ ${this.fields.map((t,n)=>`${n}: ${t}`).join(", ")} }>`}select(t){const n=new Set(t),r=this.fields.filter(i=>n.has(i.name));return new An(r,this.metadata)}selectAt(t){const n=t.map(r=>this.fields[r]).filter(Boolean);return new An(n,this.metadata)}assign(...t){const n=t[0]instanceof An?t[0]:Array.isArray(t[0])?new An(t[0]):new An(t),r=[...this.fields],i=p1(p1(new Map,this.metadata),n.metadata),s=n.fields.filter(a=>{const u=r.findIndex(l=>l.name===a.name);return~u?(r[u]=a.clone({metadata:p1(p1(new Map,r[u].metadata),a.metadata)}))&&!1:!0}),o=B2(s,new Map);return new An([...r,...s],i,new Map([...this.dictionaries,...o]))}}An.prototype.fields=null;An.prototype.metadata=null;An.prototype.dictionaries=null;class In{constructor(t,n,r=!1,i){this.name=t,this.type=n,this.nullable=r,this.metadata=i||new Map}static new(...t){let[n,r,i,s]=t;return t[0]&&typeof t[0]=="object"&&({name:n}=t[0],r===void 0&&(r=t[0].type),i===void 0&&(i=t[0].nullable),s===void 0&&(s=t[0].metadata)),new In(`${n}`,r,i,s)}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...t){let[n,r,i,s]=t;return!t[0]||typeof t[0]!="object"?[n=this.name,r=this.type,i=this.nullable,s=this.metadata]=t:{name:n=this.name,type:r=this.type,nullable:i=this.nullable,metadata:s=this.metadata}=t[0],In.new(n,r,i,s)}}In.prototype.type=null;In.prototype.name=null;In.prototype.nullable=null;In.prototype.metadata=null;function p1(e,t){return new Map([...e||new Map,...t||new Map])}function B2(e,t=new Map){for(let n=-1,r=e.length;++n<r;){const s=e[n].type;if(Qt.isDictionary(s)){if(!t.has(s.id))t.set(s.id,s.dictionary);else if(t.get(s.id)!==s.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}s.children&&s.children.length>0&&B2(s.children,t)}return t}var nU=pl,Gje=rne,Yje=mT;class j2{constructor(t,n=to.V4,r,i){this.schema=t,this.version=n,r&&(this._recordBatches=r),i&&(this._dictionaryBatches=i)}static decode(t){t=new Yje(Pn(t));const n=Qs.getRootAsFooter(t),r=An.decode(n.schema());return new Kje(r,n)}static encode(t){const n=new Gje,r=An.encode(n,t.schema);Qs.startRecordBatchesVector(n,t.numRecordBatches);for(const o of[...t.recordBatches()].slice().reverse())rf.encode(n,o);const i=n.endVector();Qs.startDictionariesVector(n,t.numDictionaries);for(const o of[...t.dictionaryBatches()].slice().reverse())rf.encode(n,o);const s=n.endVector();return Qs.startFooter(n),Qs.addSchema(n,r),Qs.addVersion(n,to.V4),Qs.addRecordBatches(n,i),Qs.addDictionaries(n,s),Qs.finishFooterBuffer(n,Qs.endFooter(n)),n.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}*recordBatches(){for(let t,n=-1,r=this.numRecordBatches;++n<r;)(t=this.getRecordBatch(n))&&(yield t)}*dictionaryBatches(){for(let t,n=-1,r=this.numDictionaries;++n<r;)(t=this.getDictionaryBatch(n))&&(yield t)}getRecordBatch(t){return t>=0&&t<this.numRecordBatches&&this._recordBatches[t]||null}getDictionaryBatch(t){return t>=0&&t<this.numDictionaries&&this._dictionaryBatches[t]||null}}class Kje extends j2{constructor(t,n){super(t,n.version()),this._footer=n}get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}getRecordBatch(t){if(t>=0&&t<this.numRecordBatches){const n=this._footer.recordBatches(t);if(n)return rf.decode(n)}return null}getDictionaryBatch(t){if(t>=0&&t<this.numDictionaries){const n=this._footer.dictionaries(t);if(n)return rf.decode(n)}return null}}class rf{constructor(t,n,r){this.metaDataLength=t,this.offset=typeof r=="number"?r:r.low,this.bodyLength=typeof n=="number"?n:n.low}static decode(t){return new rf(t.metaDataLength(),t.bodyLength(),t.offset())}static encode(t,n){const{metaDataLength:r}=n,i=new nU(n.offset,0),s=new nU(n.bodyLength,0);return L2.createBlock(t,i,r,s)}}const m1=Object.freeze({done:!0,value:void 0});class sne{tee(){return this._getDOMStream().tee()}pipe(t,n){return this._getNodeStream().pipe(t,n)}pipeTo(t,n){return this._getDOMStream().pipeTo(t,n)}pipeThrough(t,n){return this._getDOMStream().pipeThrough(t,n)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}class Qje extends sne{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise(t=>this._closedPromiseResolve=t)}get closed(){return this._closedPromise}cancel(t){return qu(this,void 0,void 0,function*(){yield this.return(t)})}write(t){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(t):this.resolvers.shift().resolve({done:!1,value:t}))}abort(t){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:t}:this.resolvers.shift().reject({done:!0,value:t}))}close(){if(this._closedPromiseResolve){const{resolvers:t}=this;for(;t.length>0;)t.shift().resolve(m1);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(t){return Yj.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,t)}toNodeStream(t){return Yj.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,t)}throw(t){return qu(this,void 0,void 0,function*(){return yield this.abort(t),m1})}return(t){return qu(this,void 0,void 0,function*(){return yield this.close(),m1})}read(t){return qu(this,void 0,void 0,function*(){return(yield this.next(t,"read")).value})}peek(t){return qu(this,void 0,void 0,function*(){return(yield this.next(t,"peek")).value})}next(...t){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((n,r)=>{this.resolvers.push({resolve:n,reject:r})}):Promise.resolve(m1)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}}class jA extends Qje{write(t){if((t=Pn(t)).byteLength>0)return super.write(t)}toString(t=!1){return t?N2(this.toUint8Array(!0)):this.toUint8Array(!1).then(N2)}toUint8Array(t=!1){return t?Tu(this._values)[0]:qu(this,void 0,void 0,function*(){var n,r;const i=[];let s=0;try{for(var o=Ug(this),a;a=yield o.next(),!a.done;){const u=a.value;i.push(u),s+=u.byteLength}}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=o.return)&&(yield r.call(o))}finally{if(n)throw n.error}}return Tu(i,s)[0]})}}class one extends BI{constructor(t){super(t),this._values=new FI(new Uint8Array(0))}get byteLength(){let t=this._pendingLength+this.length*4;return this._offsets&&(t+=this._offsets.byteLength),this._values&&(t+=this._values.byteLength),this._nulls&&(t+=this._nulls.byteLength),t}setValue(t,n){return super.setValue(t,Pn(n))}_flushPending(t,n){const r=this._offsets,i=this._values.reserve(n).buffer;let s=0;for(const[o,a]of t)if(a===void 0)r.set(o,0);else{const u=a.length;i.set(a,s),r.set(o,u),s+=u}}}class Xje extends zs{constructor(t){super(t),this._values=new ene}setValue(t,n){this._values.set(t,+n)}}class jI extends Sf{}jI.prototype._setValue=gte;class ane extends jI{}ane.prototype._setValue=x$;class une extends jI{}une.prototype._setValue=C$;class lne extends Sf{}lne.prototype._setValue=vte;class Jje extends zs{constructor({type:t,nullValues:n,dictionaryHashFunction:r}){super({type:new nf(t.dictionary,t.indices,t.id,t.isOrdered)}),this._nulls=null,this._dictionaryOffset=0,this._keysToIndices=Object.create(null),this.indices=ET({type:this.type.indices,nullValues:n}),this.dictionary=ET({type:this.type.dictionary,nullValues:null}),typeof r=="function"&&(this.valueToKey=r)}get values(){return this.indices.values}get nullCount(){return this.indices.nullCount}get nullBitmap(){return this.indices.nullBitmap}get byteLength(){return this.indices.byteLength+this.dictionary.byteLength}get reservedLength(){return this.indices.reservedLength+this.dictionary.reservedLength}get reservedByteLength(){return this.indices.reservedByteLength+this.dictionary.reservedByteLength}isValid(t){return this.indices.isValid(t)}setValid(t,n){const r=this.indices;return n=r.setValid(t,n),this.length=r.length,n}setValue(t,n){const r=this._keysToIndices,i=this.valueToKey(n);let s=r[i];return s===void 0&&(r[i]=s=this._dictionaryOffset+this.dictionary.append(n).length-1),this.indices.setValue(t,s)}flush(){const t=this.type,n=this._dictionary,r=this.dictionary.toVector(),i=this.indices.flush().clone(t);return i.dictionary=n?n.concat(r):r,this.finished||(this._dictionaryOffset+=r.length),this._dictionary=i.dictionary,this.clear(),i}finish(){return this.indices.finish(),this.dictionary.finish(),this._dictionaryOffset=0,this._keysToIndices=Object.create(null),super.finish()}clear(){return this.indices.clear(),this.dictionary.clear(),super.clear()}valueToKey(t){return typeof t=="string"?t:`${t}`}}class cne extends Sf{}cne.prototype._setValue=mte;class Zje extends zs{setValue(t,n){const[r]=this.children,i=t*this.stride;for(let s=-1,o=n.length;++s<o;)r.set(i+s,n[s])}addChild(t,n="0"){if(this.numChildren>0)throw new Error("FixedSizeListBuilder can only have one child.");const r=this.children.push(t);return this.type=new lm(this.type.listSize,new In(n,t.type,!0)),r}}class UI extends Sf{setValue(t,n){this._values.set(t,n)}}class eUe extends UI{setValue(t,n){super.setValue(t,dte(n))}}class tUe extends UI{}class nUe extends UI{}class VI extends Sf{}VI.prototype._setValue=wte;class fne extends VI{}fne.prototype._setValue=L$;class dne extends VI{}dne.prototype._setValue=M$;class Gl extends Sf{setValue(t,n){this._values.set(t,n)}}class rUe extends Gl{}class iUe extends Gl{}class sUe extends Gl{}class oUe extends Gl{}class aUe extends Gl{}class uUe extends Gl{}class lUe extends Gl{}class cUe extends Gl{}class fUe extends BI{constructor(t){super(t),this._offsets=new tne}addChild(t,n="0"){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=t,this.type=new um(new In(n,t.type,!0)),this.numChildren-1}_flushPending(t){const n=this._offsets,[r]=this.children;for(const[i,s]of t)if(typeof s>"u")n.set(i,0);else{const o=s.length,a=n.set(i,o).buffer[i];for(let u=-1;++u<o;)r.set(a+u,s[u])}}}class dUe extends BI{set(t,n){return super.set(t,n)}setValue(t,n){const r=n instanceof Map?n:new Map(Object.entries(n)),i=this._pending||(this._pending=new Map),s=i.get(t);s&&(this._pendingLength-=s.size),this._pendingLength+=r.size,i.set(t,r)}addChild(t,n=`${this.numChildren}`){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=t,this.type=new My(new In(n,t.type,!0),this.type.keysSorted),this.numChildren-1}_flushPending(t){const n=this._offsets,[r]=this.children;for(const[i,s]of t)if(s===void 0)n.set(i,0);else{let{[i]:o,[i+1]:a}=n.set(i,s.size).buffer;for(const u of s.entries())if(r.set(o,u),++o>=a)break}}}class hUe extends zs{setValue(t,n){}setValid(t,n){return this.length=Math.max(t+1,this.length),n}}class pUe extends zs{setValue(t,n){const{children:r,type:i}=this;switch(Array.isArray(n)||n.constructor){case!0:return i.children.forEach((s,o)=>r[o].set(t,n[o]));case Map:return i.children.forEach((s,o)=>r[o].set(t,n.get(s.name)));default:return i.children.forEach((s,o)=>r[o].set(t,n[s.name]))}}setValid(t,n){return super.setValid(t,n)||this.children.forEach(r=>r.setValid(t,n)),n}addChild(t,n=`${this.numChildren}`){const r=this.children.push(t);return this.type=new Gi([...this.type.children,new In(n,t.type,!0)]),r}}class qm extends Sf{}qm.prototype._setValue=yte;class hne extends qm{}hne.prototype._setValue=A$;class pne extends qm{}pne.prototype._setValue=O$;class mne extends qm{}mne.prototype._setValue=P$;class gne extends qm{}gne.prototype._setValue=R$;class Gm extends Sf{}Gm.prototype._setValue=_te;class yne extends Gm{}yne.prototype._setValue=N$;class _ne extends Gm{}_ne.prototype._setValue=k$;class vne extends Gm{}vne.prototype._setValue=D$;class bne extends Gm{}bne.prototype._setValue=$$;class W$ extends zs{constructor(t){super(t),this._typeIds=new W_(new Int8Array(0),1),typeof t.valueToChildTypeId=="function"&&(this._valueToChildTypeId=t.valueToChildTypeId)}get typeIdToChildIndex(){return this.type.typeIdToChildIndex}append(t,n){return this.set(this.length,t,n)}set(t,n,r){return r===void 0&&(r=this._valueToChildTypeId(this,n,t)),this.setValid(t,this.isValid(n))&&this.setValue(t,n,r),this}setValue(t,n,r){this._typeIds.set(t,r);const i=this.type.typeIdToChildIndex[r],s=this.children[i];s==null||s.set(t,n)}addChild(t,n=`${this.children.length}`){const r=this.children.push(t),{type:{children:i,mode:s,typeIds:o}}=this,a=[...i,new In(n,t.type)];return this.type=new Ly(s,[...o,r],a),r}_valueToChildTypeId(t,n,r){throw new Error("Cannot map UnionBuilder value to child typeId. Pass the `childTypeId` as the second argument to unionBuilder.append(), or supply a `valueToChildTypeId` function as part of the UnionBuilder constructor options.")}}class mUe extends W${}class gUe extends W${constructor(t){super(t),this._offsets=new W_(new Int32Array(0))}setValue(t,n,r){const i=this._typeIds.set(t,r).buffer[t],s=this.getChildAt(this.type.typeIdToChildIndex[i]),o=this._offsets.set(t,s.length).buffer[t];s==null||s.set(o,n)}}class Ene extends BI{constructor(t){super(t),this._values=new FI(new Uint8Array(0))}get byteLength(){let t=this._pendingLength+this.length*4;return this._offsets&&(t+=this._offsets.byteLength),this._values&&(t+=this._values.byteLength),this._nulls&&(t+=this._nulls.byteLength),t}setValue(t,n){return super.setValue(t,c$(n))}_flushPending(t,n){}}Ene.prototype._flushPending=one.prototype._flushPending;class yUe extends on{visitNull(){return hUe}visitBool(){return Xje}visitInt(){return Gl}visitInt8(){return rUe}visitInt16(){return iUe}visitInt32(){return sUe}visitInt64(){return oUe}visitUint8(){return aUe}visitUint16(){return uUe}visitUint32(){return lUe}visitUint64(){return cUe}visitFloat(){return UI}visitFloat16(){return eUe}visitFloat32(){return tUe}visitFloat64(){return nUe}visitUtf8(){return Ene}visitBinary(){return one}visitFixedSizeBinary(){return cne}visitDate(){return jI}visitDateDay(){return ane}visitDateMillisecond(){return une}visitTimestamp(){return qm}visitTimestampSecond(){return hne}visitTimestampMillisecond(){return pne}visitTimestampMicrosecond(){return mne}visitTimestampNanosecond(){return gne}visitTime(){return Gm}visitTimeSecond(){return yne}visitTimeMillisecond(){return _ne}visitTimeMicrosecond(){return vne}visitTimeNanosecond(){return bne}visitDecimal(){return lne}visitList(){return fUe}visitStruct(){return pUe}visitUnion(){return W$}visitDenseUnion(){return gUe}visitSparseUnion(){return mUe}visitDictionary(){return Jje}visitInterval(){return VI}visitIntervalDayTime(){return fne}visitIntervalYearMonth(){return dne}visitFixedSizeList(){return Zje}visitMap(){return dUe}}const _Ue=new yUe;class Rt extends on{compareSchemas(t,n){return t===n||n instanceof t.constructor&&this.compareManyFields(t.fields,n.fields)}compareManyFields(t,n){return t===n||Array.isArray(t)&&Array.isArray(n)&&t.length===n.length&&t.every((r,i)=>this.compareFields(r,n[i]))}compareFields(t,n){return t===n||n instanceof t.constructor&&t.name===n.name&&t.nullable===n.nullable&&this.visit(t.type,n.type)}}function Hs(e,t){return t instanceof e.constructor}function q_(e,t){return e===t||Hs(e,t)}function Yl(e,t){return e===t||Hs(e,t)&&e.bitWidth===t.bitWidth&&e.isSigned===t.isSigned}function zI(e,t){return e===t||Hs(e,t)&&e.precision===t.precision}function vUe(e,t){return e===t||Hs(e,t)&&e.byteWidth===t.byteWidth}function q$(e,t){return e===t||Hs(e,t)&&e.unit===t.unit}function G_(e,t){return e===t||Hs(e,t)&&e.unit===t.unit&&e.timezone===t.timezone}function Y_(e,t){return e===t||Hs(e,t)&&e.unit===t.unit&&e.bitWidth===t.bitWidth}function bUe(e,t){return e===t||Hs(e,t)&&e.children.length===t.children.length&&sf.compareManyFields(e.children,t.children)}function EUe(e,t){return e===t||Hs(e,t)&&e.children.length===t.children.length&&sf.compareManyFields(e.children,t.children)}function G$(e,t){return e===t||Hs(e,t)&&e.mode===t.mode&&e.typeIds.every((n,r)=>n===t.typeIds[r])&&sf.compareManyFields(e.children,t.children)}function wUe(e,t){return e===t||Hs(e,t)&&e.id===t.id&&e.isOrdered===t.isOrdered&&sf.visit(e.indices,t.indices)&&sf.visit(e.dictionary,t.dictionary)}function Y$(e,t){return e===t||Hs(e,t)&&e.unit===t.unit}function TUe(e,t){return e===t||Hs(e,t)&&e.listSize===t.listSize&&e.children.length===t.children.length&&sf.compareManyFields(e.children,t.children)}function SUe(e,t){return e===t||Hs(e,t)&&e.keysSorted===t.keysSorted&&e.children.length===t.children.length&&sf.compareManyFields(e.children,t.children)}Rt.prototype.visitNull=q_;Rt.prototype.visitBool=q_;Rt.prototype.visitInt=Yl;Rt.prototype.visitInt8=Yl;Rt.prototype.visitInt16=Yl;Rt.prototype.visitInt32=Yl;Rt.prototype.visitInt64=Yl;Rt.prototype.visitUint8=Yl;Rt.prototype.visitUint16=Yl;Rt.prototype.visitUint32=Yl;Rt.prototype.visitUint64=Yl;Rt.prototype.visitFloat=zI;Rt.prototype.visitFloat16=zI;Rt.prototype.visitFloat32=zI;Rt.prototype.visitFloat64=zI;Rt.prototype.visitUtf8=q_;Rt.prototype.visitBinary=q_;Rt.prototype.visitFixedSizeBinary=vUe;Rt.prototype.visitDate=q$;Rt.prototype.visitDateDay=q$;Rt.prototype.visitDateMillisecond=q$;Rt.prototype.visitTimestamp=G_;Rt.prototype.visitTimestampSecond=G_;Rt.prototype.visitTimestampMillisecond=G_;Rt.prototype.visitTimestampMicrosecond=G_;Rt.prototype.visitTimestampNanosecond=G_;Rt.prototype.visitTime=Y_;Rt.prototype.visitTimeSecond=Y_;Rt.prototype.visitTimeMillisecond=Y_;Rt.prototype.visitTimeMicrosecond=Y_;Rt.prototype.visitTimeNanosecond=Y_;Rt.prototype.visitDecimal=q_;Rt.prototype.visitList=bUe;Rt.prototype.visitStruct=EUe;Rt.prototype.visitUnion=G$;Rt.prototype.visitDenseUnion=G$;Rt.prototype.visitSparseUnion=G$;Rt.prototype.visitDictionary=wUe;Rt.prototype.visitInterval=Y$;Rt.prototype.visitIntervalDayTime=Y$;Rt.prototype.visitIntervalYearMonth=Y$;Rt.prototype.visitFixedSizeList=TUe;Rt.prototype.visitMap=SUe;const sf=new Rt;function U2(e,t){return sf.compareSchemas(e,t)}function ET(e){const t=e.type,n=new(_Ue.getVisitFn(t)())(e);if(t.children&&t.children.length>0){const r=e.children||[],i={nullValues:e.nullValues},s=Array.isArray(r)?(o,a)=>r[a]||i:({name:o})=>r[o]||i;for(const[o,a]of t.children.entries()){const{type:u}=a,l=s(a,o);n.children.push(ET(Object.assign(Object.assign({},l),{type:u})))}}return n}function UA(e,t){return IUe(e,t.map(n=>n.data.concat()))}function IUe(e,t){const n=[...e.fields],r=[],i={numBatches:t.reduce((f,d)=>Math.max(f,d.length),0)};let s=0,o=0,a=-1;const u=t.length;let l,c=[];for(;i.numBatches-- >0;){for(o=Number.POSITIVE_INFINITY,a=-1;++a<u;)c[a]=l=t[a].shift(),o=Math.min(o,l?l.length:o);Number.isFinite(o)&&(c=xUe(n,o,c,t,i),o>0&&(r[s++]=Hi({type:new Gi(n),length:o,nullCount:0,children:c.slice()})))}return[e=e.assign(n),r.map(f=>new eo(e,f))]}function xUe(e,t,n,r,i){var s;const o=(t+63&-64)>>3;for(let a=-1,u=r.length;++a<u;){const l=n[a],c=l==null?void 0:l.length;if(c>=t)c===t?n[a]=l:(n[a]=l.slice(0,t),i.numBatches=Math.max(i.numBatches,r[a].unshift(l.slice(t,c-t))));else{const f=e[a];e[a]=f.clone({nullable:!0}),n[a]=(s=l==null?void 0:l._changeLengthAndBackfillNullBitmap(t))!==null&&s!==void 0?s:Hi({type:f.type,length:t,nullCount:t,nullBitmap:new Uint8Array(o)})}}return n}var wne;class Os{constructor(...t){var n,r;if(t.length===0)return this.batches=[],this.schema=new An([]),this._offsets=[0],this;let i,s;t[0]instanceof An&&(i=t.shift()),t[t.length-1]instanceof Uint32Array&&(s=t.pop());const o=u=>{if(u){if(u instanceof eo)return[u];if(u instanceof Os)return u.batches;if(u instanceof Mn){if(u.type instanceof Gi)return[new eo(new An(u.type.children),u)]}else{if(Array.isArray(u))return u.flatMap(l=>o(l));if(typeof u[Symbol.iterator]=="function")return[...u].flatMap(l=>o(l));if(typeof u=="object"){const l=Object.keys(u),c=l.map(h=>new _n([u[h]])),f=new An(l.map((h,p)=>new In(String(h),c[p].type))),[,d]=UA(f,c);return d.length===0?[new eo(u)]:d}}}return[]},a=t.flatMap(u=>o(u));if(i=(r=i??((n=a[0])===null||n===void 0?void 0:n.schema))!==null&&r!==void 0?r:new An([]),!(i instanceof An))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(const u of a){if(!(u instanceof eo))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!U2(i,u.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=i,this.batches=a,this._offsets=s??Hte(this.data)}get data(){return this.batches.map(({data:t})=>t)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((t,n)=>t+n.length,0)}get nullCount(){return this._nullCount===-1&&(this._nullCount=zte(this.data)),this._nullCount}isValid(t){return!1}get(t){return null}set(t,n){}indexOf(t,n){return-1}getByteLength(t){return 0}[Symbol.iterator](){return this.batches.length>0?H$.visit(new _n(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return`[
  ${this.toArray().join(`,
  `)}
]`}concat(...t){const n=this.schema,r=this.data.concat(t.flatMap(({data:i})=>i));return new Os(n,r.map(i=>new eo(n,i)))}slice(t,n){const r=this.schema;[t,n]=jte({length:this.numRows},t,n);const i=Wte(this.data,this._offsets,t,n);return new Os(r,i.map(s=>new eo(r,s)))}getChild(t){return this.getChildAt(this.schema.fields.findIndex(n=>n.name===t))}getChildAt(t){if(t>-1&&t<this.schema.fields.length){const n=this.data.map(r=>r.children[t]);if(n.length===0){const{type:r}=this.schema.fields[t],i=Hi({type:r,length:0,nullCount:0});n.push(i._changeLengthAndBackfillNullBitmap(this.numRows))}return new _n(n)}return null}setChild(t,n){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===t),n)}setChildAt(t,n){let r=this.schema,i=[...this.batches];if(t>-1&&t<this.numCols){n||(n=new _n([Hi({type:new Al,length:this.numRows})]));const s=r.fields.slice(),o=s[t].clone({type:n.type}),a=this.schema.fields.map((u,l)=>this.getChildAt(l));[s[t],a[t]]=[o,n],[r,i]=UA(r,a)}return new Os(r,i)}select(t){const n=this.schema.fields.reduce((r,i,s)=>r.set(i.name,s),new Map);return this.selectAt(t.map(r=>n.get(r)).filter(r=>r>-1))}selectAt(t){const n=this.schema.selectAt(t),r=this.batches.map(i=>i.selectAt(t));return new Os(n,r)}assign(t){const n=this.schema.fields,[r,i]=t.schema.fields.reduce((a,u,l)=>{const[c,f]=a,d=n.findIndex(h=>h.name===u.name);return~d?f[d]=l:c.push(l),a},[[],[]]),s=this.schema.assign(t.schema),o=[...n.map((a,u)=>[u,i[u]]).map(([a,u])=>u===void 0?this.getChildAt(a):t.getChildAt(u)),...r.map(a=>t.getChildAt(a))].filter(Boolean);return new Os(...UA(s,o))}}wne=Symbol.toStringTag;Os[wne]=(e=>(e.schema=null,e.batches=[],e._offsets=new Uint32Array([0]),e._nullCount=-1,e[Symbol.isConcatSpreadable]=!0,e.isValid=Pp(z$),e.get=Pp(Us.getVisitFn(Q.Struct)),e.set=qte(Wo.getVisitFn(Q.Struct)),e.indexOf=Gte(hT.getVisitFn(Q.Struct)),e.getByteLength=Pp(xu.getVisitFn(Q.Struct)),"Table"))(Os.prototype);var Tne;let eo=class sg{constructor(...t){switch(t.length){case 2:{if([this.schema]=t,!(this.schema instanceof An))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=Hi({nullCount:0,type:new Gi(this.schema.fields),children:this.schema.fields.map(n=>Hi({type:n.type,nullCount:0}))})]=t,!(this.data instanceof Mn))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=rU(this.schema,this.data.children);break}case 1:{const[n]=t,{fields:r,children:i,length:s}=Object.keys(n).reduce((u,l,c)=>(u.children[c]=n[l],u.length=Math.max(u.length,n[l].length),u.fields[c]=In.new({name:l,type:n[l].type,nullable:!0}),u),{length:0,fields:new Array,children:new Array}),o=new An(r),a=Hi({type:new Gi(r),length:s,children:i,nullCount:0});[this.schema,this.data]=rU(o,a.children,s);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=Sne(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(t){return this.data.getValid(t)}get(t){return Us.visit(this.data,t)}set(t,n){return Wo.visit(this.data,t,n)}indexOf(t,n){return hT.visit(this.data,t,n)}getByteLength(t){return xu.visit(this.data,t)}[Symbol.iterator](){return H$.visit(new _n([this.data]))}toArray(){return[...this]}concat(...t){return new Os(this.schema,[this,...t])}slice(t,n){const[r]=new _n([this.data]).slice(t,n).data;return new sg(this.schema,r)}getChild(t){var n;return this.getChildAt((n=this.schema.fields)===null||n===void 0?void 0:n.findIndex(r=>r.name===t))}getChildAt(t){return t>-1&&t<this.schema.fields.length?new _n([this.data.children[t]]):null}setChild(t,n){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===t),n)}setChildAt(t,n){let r=this.schema,i=this.data;if(t>-1&&t<this.numCols){n||(n=new _n([Hi({type:new Al,length:this.numRows})]));const s=r.fields.slice(),o=i.children.slice(),a=s[t].clone({type:n.type});[s[t],o[t]]=[a,n.data[0]],r=new An(s,new Map(this.schema.metadata)),i=Hi({type:new Gi(s),children:o})}return new sg(r,i)}select(t){const n=this.schema.select(t),r=new Gi(n.fields),i=[];for(const s of t){const o=this.schema.fields.findIndex(a=>a.name===s);~o&&(i[o]=this.data.children[o])}return new sg(n,Hi({type:r,length:this.numRows,children:i}))}selectAt(t){const n=this.schema.selectAt(t),r=t.map(s=>this.data.children[s]).filter(Boolean),i=Hi({type:new Gi(n.fields),length:this.numRows,children:r});return new sg(n,i)}};Tne=Symbol.toStringTag;eo[Tne]=(e=>(e._nullCount=-1,e[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(eo.prototype);function rU(e,t,n=t.reduce((r,i)=>Math.max(r,i.length),0)){var r;const i=[...e.fields],s=[...t],o=(n+63&-64)>>3;for(const[a,u]of e.fields.entries()){const l=t[a];(!l||l.length!==n)&&(i[a]=u.clone({nullable:!0}),s[a]=(r=l==null?void 0:l._changeLengthAndBackfillNullBitmap(n))!==null&&r!==void 0?r:Hi({type:u.type,length:n,nullCount:n,nullBitmap:new Uint8Array(o)}))}return[e.assign(i),Hi({type:new Gi(i),length:n,children:s})]}function Sne(e,t,n=new Map){for(let r=-1,i=e.length;++r<i;){const o=e[r].type,a=t[r];if(Qt.isDictionary(o)){if(!n.has(o.id))a.dictionary&&n.set(o.id,a.dictionary);else if(n.get(o.id)!==a.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}o.children&&o.children.length>0&&Sne(o.children,a.children,n)}return n}class CUe extends eo{constructor(t){const n=t.fields.map(i=>Hi({type:i.type})),r=Hi({type:new Gi(t.fields),nullCount:0,children:n});super(t,r)}}var wT;(function(e){e[e.BUFFER=0]="BUFFER"})(wT||(wT={}));var TT;(function(e){e[e.LZ4_FRAME=0]="LZ4_FRAME",e[e.ZSTD=1]="ZSTD"})(TT||(TT={}));class fc{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsBodyCompression(t,n){return(n||new fc).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBodyCompression(t,n){return t.setPosition(t.position()+zn),(n||new fc).__init(t.readInt32(t.position())+t.position(),t)}codec(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt8(this.bb_pos+t):TT.LZ4_FRAME}method(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt8(this.bb_pos+t):wT.BUFFER}static startBodyCompression(t){t.startObject(2)}static addCodec(t,n){t.addFieldInt8(0,n,TT.LZ4_FRAME)}static addMethod(t,n){t.addFieldInt8(1,n,wT.BUFFER)}static endBodyCompression(t){return t.endObject()}static createBodyCompression(t,n,r){return fc.startBodyCompression(t),fc.addCodec(t,n),fc.addMethod(t,r),fc.endBodyCompression(t)}}class Ine{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(t,n,r){return t.prep(8,16),t.writeInt64(r),t.writeInt64(n),t.offset()}}let xne=class{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(t,n,r){return t.prep(8,16),t.writeInt64(r),t.writeInt64(n),t.offset()}},Vu=class V2{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsRecordBatch(t,n){return(n||new V2).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsRecordBatch(t,n){return t.setPosition(t.position()+zn),(n||new V2).__init(t.readInt32(t.position())+t.position(),t)}length(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}nodes(t,n){const r=this.bb.__offset(this.bb_pos,6);return r?(n||new xne).__init(this.bb.__vector(this.bb_pos+r)+t*16,this.bb):null}nodesLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}buffers(t,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new Ine).__init(this.bb.__vector(this.bb_pos+r)+t*16,this.bb):null}buffersLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}compression(t){const n=this.bb.__offset(this.bb_pos,10);return n?(t||new fc).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}static startRecordBatch(t){t.startObject(4)}static addLength(t,n){t.addFieldInt64(0,n,t.createLong(0,0))}static addNodes(t,n){t.addFieldOffset(1,n,0)}static startNodesVector(t,n){t.startVector(16,n,8)}static addBuffers(t,n){t.addFieldOffset(2,n,0)}static startBuffersVector(t,n){t.startVector(16,n,8)}static addCompression(t,n){t.addFieldOffset(3,n,0)}static endRecordBatch(t){return t.endObject()}},Nh=class z2{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsDictionaryBatch(t,n){return(n||new z2).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryBatch(t,n){return t.setPosition(t.position()+zn),(n||new z2).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}data(t){const n=this.bb.__offset(this.bb_pos,6);return n?(t||new Vu).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isDelta(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startDictionaryBatch(t){t.startObject(3)}static addId(t,n){t.addFieldInt64(0,n,t.createLong(0,0))}static addData(t,n){t.addFieldOffset(1,n,0)}static addIsDelta(t,n){t.addFieldInt8(2,+n,0)}static endDictionaryBatch(t){return t.endObject()}};var ST;(function(e){e[e.NONE=0]="NONE",e[e.Schema=1]="Schema",e[e.DictionaryBatch=2]="DictionaryBatch",e[e.RecordBatch=3]="RecordBatch",e[e.Tensor=4]="Tensor",e[e.SparseTensor=5]="SparseTensor"})(ST||(ST={}));let tc=class La{constructor(){this.bb=null,this.bb_pos=0}__init(t,n){return this.bb_pos=t,this.bb=n,this}static getRootAsMessage(t,n){return(n||new La).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMessage(t,n){return t.setPosition(t.position()+zn),(n||new La).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):cm.V1}headerType(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb_pos+t):ST.NONE}header(t){const n=this.bb.__offset(this.bb_pos,8);return n?this.bb.__union(t,this.bb_pos+n):null}bodyLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}customMetadata(t,n){const r=this.bb.__offset(this.bb_pos,12);return r?(n||new Yr).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startMessage(t){t.startObject(5)}static addVersion(t,n){t.addFieldInt16(0,n,cm.V1)}static addHeaderType(t,n){t.addFieldInt8(1,n,ST.NONE)}static addHeader(t,n){t.addFieldOffset(2,n,0)}static addBodyLength(t,n){t.addFieldInt64(3,n,t.createLong(0,0))}static addCustomMetadata(t,n){t.addFieldOffset(4,n,0)}static createCustomMetadataVector(t,n){t.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)t.addOffset(n[r]);return t.endVector()}static startCustomMetadataVector(t,n){t.startVector(4,n,4)}static endMessage(t){return t.endObject()}static finishMessageBuffer(t,n){t.finish(n)}static finishSizePrefixedMessageBuffer(t,n){t.finish(n,void 0,!0)}static createMessage(t,n,r,i,s,o){return La.startMessage(t),La.addVersion(t,n),La.addHeaderType(t,r),La.addHeader(t,i),La.addBodyLength(t,s),La.addCustomMetadata(t,o),La.endMessage(t)}};var AUe=pl;class OUe extends on{visit(t,n){return t==null||n==null?void 0:super.visit(t,n)}visitNull(t,n){return ad.startNull(n),ad.endNull(n)}visitInt(t,n){return Zs.startInt(n),Zs.addBitWidth(n,t.bitWidth),Zs.addIsSigned(n,t.isSigned),Zs.endInt(n)}visitFloat(t,n){return Ja.startFloatingPoint(n),Ja.addPrecision(n,t.precision),Ja.endFloatingPoint(n)}visitBinary(t,n){return id.startBinary(n),id.endBinary(n)}visitBool(t,n){return sd.startBool(n),sd.endBool(n)}visitUtf8(t,n){return ld.startUtf8(n),ld.endUtf8(n)}visitDecimal(t,n){return xs.startDecimal(n),xs.addScale(n,t.scale),xs.addPrecision(n,t.precision),xs.addBitWidth(n,t.bitWidth),xs.endDecimal(n)}visitDate(t,n){return cb.startDate(n),cb.addUnit(n,t.unit),cb.endDate(n)}visitTime(t,n){return ko.startTime(n),ko.addUnit(n,t.unit),ko.addBitWidth(n,t.bitWidth),ko.endTime(n)}visitTimestamp(t,n){const r=t.timezone&&n.createString(t.timezone)||void 0;return ig.startTimestamp(n),ig.addUnit(n,t.unit),r!==void 0&&ig.addTimezone(n,r),ig.endTimestamp(n)}visitInterval(t,n){return Za.startInterval(n),Za.addUnit(n,t.unit),Za.endInterval(n)}visitList(t,n){return od.startList(n),od.endList(n)}visitStruct(t,n){return ud.startStruct_(n),ud.endStruct_(n)}visitUnion(t,n){As.startTypeIdsVector(n,t.typeIds.length);const r=As.createTypeIdsVector(n,t.typeIds);return As.startUnion(n),As.addMode(n,t.mode),As.addTypeIds(n,r),As.endUnion(n)}visitDictionary(t,n){const r=this.visit(t.indices,n);return Yu.startDictionaryEncoding(n),Yu.addId(n,new AUe(t.id,0)),Yu.addIsOrdered(n,t.isOrdered),r!==void 0&&Yu.addIndexType(n,r),Yu.endDictionaryEncoding(n)}visitFixedSizeBinary(t,n){return Qa.startFixedSizeBinary(n),Qa.addByteWidth(n,t.byteWidth),Qa.endFixedSizeBinary(n)}visitFixedSizeList(t,n){return Xa.startFixedSizeList(n),Xa.addListSize(n,t.listSize),Xa.endFixedSizeList(n)}visitMap(t,n){return fb.startMap(n),fb.addKeysSorted(n,t.keysSorted),fb.endMap(n)}}const VA=new OUe;function PUe(e,t=new Map){return new An(NUe(e,t),hb(e.customMetadata),t)}function Cne(e){return new po(e.count,Ane(e.columns),One(e.columns))}function RUe(e){return new Cu(Cne(e.data),e.id,e.isDelta)}function NUe(e,t){return(e.fields||[]).filter(Boolean).map(n=>In.fromJSON(n,t))}function iU(e,t){return(e.children||[]).filter(Boolean).map(n=>In.fromJSON(n,t))}function Ane(e){return(e||[]).reduce((t,n)=>[...t,new oh(n.count,kUe(n.VALIDITY)),...Ane(n.children)],[])}function One(e,t=[]){for(let n=-1,r=(e||[]).length;++n<r;){const i=e[n];i.VALIDITY&&t.push(new iu(t.length,i.VALIDITY.length)),i.TYPE&&t.push(new iu(t.length,i.TYPE.length)),i.OFFSET&&t.push(new iu(t.length,i.OFFSET.length)),i.DATA&&t.push(new iu(t.length,i.DATA.length)),t=One(i.children,t)}return t}function kUe(e){return(e||[]).reduce((t,n)=>t+ +(n===0),0)}function DUe(e,t){let n,r,i,s,o,a;return!t||!(s=e.dictionary)?(o=oU(e,iU(e,t)),i=new In(e.name,o,e.nullable,hb(e.customMetadata))):t.has(n=s.id)?(r=(r=s.indexType)?sU(r):new ef,a=new nf(t.get(n),r,n,s.isOrdered),i=new In(e.name,a,e.nullable,hb(e.customMetadata))):(r=(r=s.indexType)?sU(r):new ef,t.set(n,o=oU(e,iU(e,t))),a=new nf(o,r,n,s.isOrdered),i=new In(e.name,a,e.nullable,hb(e.customMetadata))),i||null}function hb(e){return new Map(Object.entries(e||{}))}function sU(e){return new fs(e.isSigned,e.bitWidth)}function oU(e,t){const n=e.type.name;switch(n){case"NONE":return new Al;case"null":return new Al;case"binary":return new Dy;case"utf8":return new sm;case"bool":return new $y;case"list":return new um((t||[])[0]);case"struct":return new Gi(t||[]);case"struct_":return new Gi(t||[])}switch(n){case"int":{const r=e.type;return new fs(r.isSigned,r.bitWidth)}case"floatingpoint":{const r=e.type;return new tf(Ni[r.precision])}case"decimal":{const r=e.type;return new cT(r.scale,r.precision,r.bitWidth)}case"date":{const r=e.type;return new om(Su[r.unit])}case"time":{const r=e.type;return new Ol(sn[r.unit],r.bitWidth)}case"timestamp":{const r=e.type;return new fT(sn[r.unit],r.timezone)}case"interval":{const r=e.type;return new am(Iu[r.unit])}case"union":{const r=e.type;return new Ly(Ho[r.mode],r.typeIds||[],t||[])}case"fixedsizebinary":{const r=e.type;return new dT(r.byteWidth)}case"fixedsizelist":{const r=e.type;return new lm(r.listSize,(t||[])[0])}case"map":{const r=e.type;return new My((t||[])[0],r.keysSorted)}}throw new Error(`Unrecognized type: "${n}"`)}var Ld=pl,$Ue=rne,LUe=mT;class eu{constructor(t,n,r,i){this._version=n,this._headerType=r,this.body=new Uint8Array(0),i&&(this._createHeader=()=>i),this._bodyLength=typeof t=="number"?t:t.low}static fromJSON(t,n){const r=new eu(0,to.V4,n);return r._createHeader=MUe(t,n),r}static decode(t){t=new LUe(Pn(t));const n=tc.getRootAsMessage(t),r=n.bodyLength(),i=n.version(),s=n.headerType(),o=new eu(r,i,s);return o._createHeader=FUe(n,s),o}static encode(t){const n=new $Ue;let r=-1;return t.isSchema()?r=An.encode(n,t.header()):t.isRecordBatch()?r=po.encode(n,t.header()):t.isDictionaryBatch()&&(r=Cu.encode(n,t.header())),tc.startMessage(n),tc.addVersion(n,to.V4),tc.addHeader(n,r),tc.addHeaderType(n,t.headerType),tc.addBodyLength(n,new Ld(t.bodyLength,0)),tc.finishMessageBuffer(n,tc.endMessage(n)),n.asUint8Array()}static from(t,n=0){if(t instanceof An)return new eu(0,to.V4,ci.Schema,t);if(t instanceof po)return new eu(n,to.V4,ci.RecordBatch,t);if(t instanceof Cu)return new eu(n,to.V4,ci.DictionaryBatch,t);throw new Error(`Unrecognized Message header: ${t}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===ci.Schema}isRecordBatch(){return this.headerType===ci.RecordBatch}isDictionaryBatch(){return this.headerType===ci.DictionaryBatch}}class po{constructor(t,n,r){this._nodes=n,this._buffers=r,this._length=typeof t=="number"?t:t.low}get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}}class Cu{constructor(t,n,r=!1){this._data=t,this._isDelta=r,this._id=typeof n=="number"?n:n.low}get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}}class iu{constructor(t,n){this.offset=typeof t=="number"?t:t.low,this.length=typeof n=="number"?n:n.low}}class oh{constructor(t,n){this.length=typeof t=="number"?t:t.low,this.nullCount=typeof n=="number"?n:n.low}}function MUe(e,t){return()=>{switch(t){case ci.Schema:return An.fromJSON(e);case ci.RecordBatch:return po.fromJSON(e);case ci.DictionaryBatch:return Cu.fromJSON(e)}throw new Error(`Unrecognized Message type: { name: ${ci[t]}, type: ${t} }`)}}function FUe(e,t){return()=>{switch(t){case ci.Schema:return An.decode(e.header(new Ua));case ci.RecordBatch:return po.decode(e.header(new Vu),e.version());case ci.DictionaryBatch:return Cu.decode(e.header(new Nh),e.version())}throw new Error(`Unrecognized Message type: { name: ${ci[t]}, type: ${t} }`)}}In.encode=KUe;In.decode=GUe;In.fromJSON=DUe;An.encode=YUe;An.decode=BUe;An.fromJSON=PUe;po.encode=QUe;po.decode=jUe;po.fromJSON=Cne;Cu.encode=XUe;Cu.decode=UUe;Cu.fromJSON=RUe;oh.encode=JUe;oh.decode=zUe;iu.encode=ZUe;iu.decode=VUe;function BUe(e,t=new Map){const n=qUe(e,t);return new An(n,pb(e),t)}function jUe(e,t=to.V4){if(e.compression()!==null)throw new Error("Record batch compression not implemented");return new po(e.length(),HUe(e),WUe(e,t))}function UUe(e,t=to.V4){return new Cu(po.decode(e.data(),t),e.id(),e.isDelta())}function VUe(e){return new iu(e.offset(),e.length())}function zUe(e){return new oh(e.length(),e.nullCount())}function HUe(e){const t=[];for(let n,r=-1,i=-1,s=e.nodesLength();++r<s;)(n=e.nodes(r))&&(t[++i]=oh.decode(n));return t}function WUe(e,t){const n=[];for(let r,i=-1,s=-1,o=e.buffersLength();++i<o;)(r=e.buffers(i))&&(t<to.V4&&(r.bb_pos+=8*(i+1)),n[++s]=iu.decode(r));return n}function qUe(e,t){const n=[];for(let r,i=-1,s=-1,o=e.fieldsLength();++i<o;)(r=e.fields(i))&&(n[++s]=In.decode(r,t));return n}function aU(e,t){const n=[];for(let r,i=-1,s=-1,o=e.childrenLength();++i<o;)(r=e.children(i))&&(n[++s]=In.decode(r,t));return n}function GUe(e,t){let n,r,i,s,o,a;return!t||!(a=e.dictionary())?(i=lU(e,aU(e,t)),r=new In(e.name(),i,e.nullable(),pb(e))):t.has(n=a.id().low)?(s=(s=a.indexType())?uU(s):new ef,o=new nf(t.get(n),s,n,a.isOrdered()),r=new In(e.name(),o,e.nullable(),pb(e))):(s=(s=a.indexType())?uU(s):new ef,t.set(n,i=lU(e,aU(e,t))),o=new nf(i,s,n,a.isOrdered()),r=new In(e.name(),o,e.nullable(),pb(e))),r||null}function pb(e){const t=new Map;if(e)for(let n,r,i=-1,s=Math.trunc(e.customMetadataLength());++i<s;)(n=e.customMetadata(i))&&(r=n.key())!=null&&t.set(r,n.value());return t}function uU(e){return new fs(e.isSigned(),e.bitWidth())}function lU(e,t){const n=e.typeType();switch(n){case pr.NONE:return new Al;case pr.Null:return new Al;case pr.Binary:return new Dy;case pr.Utf8:return new sm;case pr.Bool:return new $y;case pr.List:return new um((t||[])[0]);case pr.Struct_:return new Gi(t||[])}switch(n){case pr.Int:{const r=e.type(new Zs);return new fs(r.isSigned(),r.bitWidth())}case pr.FloatingPoint:{const r=e.type(new Ja);return new tf(r.precision())}case pr.Decimal:{const r=e.type(new xs);return new cT(r.scale(),r.precision(),r.bitWidth())}case pr.Date:{const r=e.type(new cb);return new om(r.unit())}case pr.Time:{const r=e.type(new ko);return new Ol(r.unit(),r.bitWidth())}case pr.Timestamp:{const r=e.type(new ig);return new fT(r.unit(),r.timezone())}case pr.Interval:{const r=e.type(new Za);return new am(r.unit())}case pr.Union:{const r=e.type(new As);return new Ly(r.mode(),r.typeIdsArray()||[],t||[])}case pr.FixedSizeBinary:{const r=e.type(new Qa);return new dT(r.byteWidth())}case pr.FixedSizeList:{const r=e.type(new Xa);return new lm(r.listSize(),(t||[])[0])}case pr.Map:{const r=e.type(new fb);return new My((t||[])[0],r.keysSorted())}}throw new Error(`Unrecognized type: "${pr[n]}" (${n})`)}function YUe(e,t){const n=t.fields.map(s=>In.encode(e,s));Ua.startFieldsVector(e,n.length);const r=Ua.createFieldsVector(e,n),i=t.metadata&&t.metadata.size>0?Ua.createCustomMetadataVector(e,[...t.metadata].map(([s,o])=>{const a=e.createString(`${s}`),u=e.createString(`${o}`);return Yr.startKeyValue(e),Yr.addKey(e,a),Yr.addValue(e,u),Yr.endKeyValue(e)})):-1;return Ua.startSchema(e),Ua.addFields(e,r),Ua.addEndianness(e,eVe?fm.Little:fm.Big),i!==-1&&Ua.addCustomMetadata(e,i),Ua.endSchema(e)}function KUe(e,t){let n=-1,r=-1,i=-1;const s=t.type;let o=t.typeId;Qt.isDictionary(s)?(o=s.dictionary.typeId,i=VA.visit(s,e),r=VA.visit(s.dictionary,e)):r=VA.visit(s,e);const a=(s.children||[]).map(c=>In.encode(e,c)),u=xo.createChildrenVector(e,a),l=t.metadata&&t.metadata.size>0?xo.createCustomMetadataVector(e,[...t.metadata].map(([c,f])=>{const d=e.createString(`${c}`),h=e.createString(`${f}`);return Yr.startKeyValue(e),Yr.addKey(e,d),Yr.addValue(e,h),Yr.endKeyValue(e)})):-1;return t.name&&(n=e.createString(t.name)),xo.startField(e),xo.addType(e,r),xo.addTypeType(e,o),xo.addChildren(e,u),xo.addNullable(e,!!t.nullable),n!==-1&&xo.addName(e,n),i!==-1&&xo.addDictionary(e,i),l!==-1&&xo.addCustomMetadata(e,l),xo.endField(e)}function QUe(e,t){const n=t.nodes||[],r=t.buffers||[];Vu.startNodesVector(e,n.length);for(const o of n.slice().reverse())oh.encode(e,o);const i=e.endVector();Vu.startBuffersVector(e,r.length);for(const o of r.slice().reverse())iu.encode(e,o);const s=e.endVector();return Vu.startRecordBatch(e),Vu.addLength(e,new Ld(t.length,0)),Vu.addNodes(e,i),Vu.addBuffers(e,s),Vu.endRecordBatch(e)}function XUe(e,t){const n=po.encode(e,t.data);return Nh.startDictionaryBatch(e),Nh.addId(e,new Ld(t.id,0)),Nh.addIsDelta(e,t.isDelta),Nh.addData(e,n),Nh.endDictionaryBatch(e)}function JUe(e,t){return xne.createFieldNode(e,new Ld(t.length,0),new Ld(t.nullCount,0))}function ZUe(e,t){return Ine.createBuffer(e,new Ld(t.offset,0),new Ld(t.length,0))}const eVe=(()=>{const e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),new Int16Array(e)[0]===256})(),H2="ARROW1",K$=new Uint8Array(H2.length);for(let e=0;e<H2.length;e+=1)K$[e]=H2.codePointAt(e);K$.length;class Hr extends on{constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}static assemble(...t){const n=i=>i.flatMap(s=>Array.isArray(s)?n(s):s instanceof eo?s.data.children:s.data),r=new Hr;return r.visitMany(n(t)),r}visit(t){if(t instanceof _n)return this.visitMany(t.data),this;const{type:n}=t;if(!Qt.isDictionary(n)){const{length:r,nullCount:i}=t;if(r>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");Qt.isNull(n)||wa.call(this,i<=0?new Uint8Array(0):j$(t.offset,r,t.nullBitmap)),this.nodes.push(new oh(r,i))}return super.visit(t)}visitNull(t){return this}visitDictionary(t){return this.visit(t.clone(t.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}function wa(e){const t=e.byteLength+7&-8;return this.buffers.push(e),this.bufferRegions.push(new iu(this._byteLength,t)),this._byteLength+=t,this}function tVe(e){const{type:t,length:n,typeIds:r,valueOffsets:i}=e;if(wa.call(this,r),t.mode===Ho.Sparse)return W2.call(this,e);if(t.mode===Ho.Dense){if(e.offset<=0)return wa.call(this,i),W2.call(this,e);{const s=r.reduce((c,f)=>Math.max(c,f),r[0]),o=new Int32Array(s+1),a=new Int32Array(s+1).fill(-1),u=new Int32Array(n),l=h$(-i[0],n,i);for(let c,f,d=-1;++d<n;)(f=a[c=r[d]])===-1&&(f=a[c]=l[c]),u[d]=l[d]-f,++o[c];wa.call(this,u);for(let c,f=-1,d=t.children.length;++f<d;)if(c=e.children[f]){const h=t.typeIds[f],p=Math.min(n,o[h]);this.visit(c.slice(a[h],p))}}}return this}function nVe(e){let t;return e.nullCount>=e.length?wa.call(this,new Uint8Array(0)):(t=e.values)instanceof Uint8Array?wa.call(this,j$(e.offset,e.length,t)):wa.call(this,Vte(e.values))}function If(e){return wa.call(this,e.values.subarray(0,e.length*e.stride))}function Pne(e){const{length:t,values:n,valueOffsets:r}=e,i=r[0],s=r[t],o=Math.min(s-i,n.byteLength-i);return wa.call(this,h$(-r[0],t,r)),wa.call(this,n.subarray(i,i+o)),this}function Q$(e){const{length:t,valueOffsets:n}=e;return n&&wa.call(this,h$(n[0],t,n)),this.visit(e.children[0])}function W2(e){return this.visitMany(e.type.children.map((t,n)=>e.children[n]).filter(Boolean))[0]}Hr.prototype.visitBool=nVe;Hr.prototype.visitInt=If;Hr.prototype.visitFloat=If;Hr.prototype.visitUtf8=Pne;Hr.prototype.visitBinary=Pne;Hr.prototype.visitFixedSizeBinary=If;Hr.prototype.visitDate=If;Hr.prototype.visitTimestamp=If;Hr.prototype.visitTime=If;Hr.prototype.visitDecimal=If;Hr.prototype.visitList=Q$;Hr.prototype.visitStruct=W2;Hr.prototype.visitUnion=tVe;Hr.prototype.visitInterval=If;Hr.prototype.visitFixedSizeList=Q$;Hr.prototype.visitMap=Q$;class Rne extends sne{constructor(t){super(),this._position=0,this._started=!1,this._sink=new jA,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,Ef(t)||(t={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof t.autoDestroy=="boolean"?t.autoDestroy:!0,this._writeLegacyIpcFormat=typeof t.writeLegacyIpcFormat=="boolean"?t.writeLegacyIpcFormat:!1}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,n){throw new Error('"throughDOM" not available in this environment')}toString(t=!1){return this._sink.toString(t)}toUint8Array(t=!1){return this._sink.toUint8Array(t)}writeAll(t){return DI(t)?t.then(n=>this.writeAll(n)):$I(t)?e3(this,t):Z$(this,t)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(t){return this._sink.toDOMStream(t)}toNodeStream(t){return this._sink.toNodeStream(t)}close(){return this.reset()._sink.close()}abort(t){return this.reset()._sink.abort(t)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(t=this._sink,n=null){return t===this._sink||t instanceof jA?this._sink=t:(this._sink=new jA,t&&cBe(t)?this.toDOMStream({type:"bytes"}).pipeTo(t):t&&fBe(t)&&this.toNodeStream({objectMode:!1}).pipe(t)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,(!n||!U2(n,this._schema))&&(n==null?(this._position=0,this._schema=null):(this._started=!0,this._schema=n,this._writeSchema(n))),this}write(t){let n=null;if(this._sink){if(t==null)return this.finish()&&void 0;if(t instanceof Os&&!(n=t.schema))return this.finish()&&void 0;if(t instanceof eo&&!(n=t.schema))return this.finish()&&void 0}else throw new Error("RecordBatchWriter is closed");if(n&&!U2(n,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,n)}t instanceof eo?t instanceof CUe||this._writeRecordBatch(t):t instanceof Os?this.writeAll(t.batches):f$(t)&&this.writeAll(t)}_writeMessage(t,n=8){const r=n-1,i=eu.encode(t),s=i.byteLength,o=this._writeLegacyIpcFormat?4:8,a=s+o+r&~r,u=a-s-o;return t.headerType===ci.RecordBatch?this._recordBatchBlocks.push(new rf(a,t.bodyLength,this._position)):t.headerType===ci.DictionaryBatch&&this._dictionaryBlocks.push(new rf(a,t.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(a-o)),s>0&&this._write(i),this._writePadding(u)}_write(t){if(this._started){const n=Pn(t);n&&n.byteLength>0&&(this._sink.write(n),this._position+=n.byteLength)}return this}_writeSchema(t){return this._writeMessage(eu.from(t))}_writeFooter(t){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(K$)}_writePadding(t){return t>0?this._write(new Uint8Array(t)):this}_writeRecordBatch(t){const{byteLength:n,nodes:r,bufferRegions:i,buffers:s}=Hr.assemble(t),o=new po(t.numRows,r,i),a=eu.from(o,n);return this._writeDictionaries(t)._writeMessage(a)._writeBodyBuffers(s)}_writeDictionaryBatch(t,n,r=!1){this._dictionaryDeltaOffsets.set(n,t.length+(this._dictionaryDeltaOffsets.get(n)||0));const{byteLength:i,nodes:s,bufferRegions:o,buffers:a}=Hr.assemble(new _n([t])),u=new po(t.length,s,o),l=new Cu(u,n,r),c=eu.from(l,i);return this._writeMessage(c)._writeBodyBuffers(a)}_writeBodyBuffers(t){let n,r,i;for(let s=-1,o=t.length;++s<o;)(n=t[s])&&(r=n.byteLength)>0&&(this._write(n),(i=(r+7&-8)-r)>0&&this._writePadding(i));return this}_writeDictionaries(t){for(let[n,r]of t.dictionaries){let i=this._dictionaryDeltaOffsets.get(n)||0;if(i===0||(r=r==null?void 0:r.slice(i)).length>0)for(const s of r.data)this._writeDictionaryBatch(s,n,i>0),i+=s.length}return this}}class X$ extends Rne{static writeAll(t,n){const r=new X$(n);return DI(t)?t.then(i=>r.writeAll(i)):$I(t)?e3(r,t):Z$(r,t)}}class J$ extends Rne{static writeAll(t){const n=new J$;return DI(t)?t.then(r=>n.writeAll(r)):$I(t)?e3(n,t):Z$(n,t)}constructor(){super(),this._autoDestroy=!0}_writeSchema(t){return this._writeMagic()._writePadding(2)}_writeFooter(t){const n=j2.encode(new j2(t,to.V4,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(t)._write(n)._write(Int32Array.of(n.byteLength))._writeMagic()}}function Z$(e,t){let n=t;t instanceof Os&&(n=t.batches,e.reset(void 0,t.schema));for(const r of n)e.write(r);return e.finish()}function e3(e,t){var n,r,i,s;return qu(this,void 0,void 0,function*(){try{for(n=Ug(t);r=yield n.next(),!r.done;){const o=r.value;e.write(o)}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}return e.finish()})}function rVe(e,t="stream"){return(t==="stream"?X$:J$).writeAll(e).toUint8Array(!0)}function t3(e,t=1){return(e*t+63&-64||64)/t}function of(e,t,n=e.BYTES_PER_ELEMENT){return new e(t3(t,n))}function n3(e){return e instanceof Mn?e:new Mn(e.type,0,e.length,e.nulls,e.buffers,null,e.dict)}function iVe(e){return new _n([n3(e)])}const r3=new TextEncoder;function sVe(e,t,n){const r=r3.encode(n);return e.set(r,t),r.length}function oVe(e,t,n){return r3.encodeInto(n,e.subarray(t)).written}const aVe=r3.encodeInto?oVe:sVe;function cU(e,t){const n=of(e.ArrayType,t);return{set(r,i){n[i]=r},data:()=>({type:e,length:t,buffers:[null,n]})}}function uVe(e,t){const n=of(e.ArrayType,t/8);return{set(r,i){r&&(n[i>>3]|=1<<i%8)},data:()=>({type:e,length:t,buffers:[null,n]})}}function lVe(e,t){const n=of(e.ArrayType,t);return{set(r,i){n[i]=r/864e5|0},data:()=>({type:e,length:t,buffers:[null,n]})}}function cVe(e,t){const n=of(e.ArrayType,t<<1);return{set(r,i){const s=i<<1;n[s]=r%4294967296|0,n[s+1]=r/4294967296|0},data:()=>({type:e,length:t,buffers:[null,n]})}}function fVe(e){const t=ET({type:e,nullValues:[null,void 0]});return{set(n,r){t.set(r,n)},data:()=>t.finish().flush()}}function dVe(e,t,n){const r=of(Int32Array,t+1),i=of(Uint8Array,3*n);let s=0;return{set(o,a){s+=aVe(i,s,o),r[a+1]=s},data:()=>{const o=t3(s),a=i.length>o?i.subarray(0,o):i;return{type:e,length:t,buffers:[r,a]}}}}function hVe(e,t){const n=[],r=of(e.indices.ArrayType,t),i=Object.create(null);let s=-1,o=0;return{set(a,u){const l=String(a);let c=i[l];c===void 0&&(o+=l.length,i[l]=c=++s,n.push(l)),r[u]=c},data:()=>({type:e,length:t,buffers:[null,r],dict:pVe(e.dictionary,n,o)})}}function pVe(e,t,n){const r=dVe(e,t.length,n);return t.forEach(r.set),iVe(r.data())}function mVe(e,t){const n=of(Uint8Array,t/8);let r=0;return{set(i,s){i==null?++r:(e.set(i,s),n[s>>3]|=1<<s%8)},data:()=>{const i=e.data();return r&&(i.nulls=r,i.buffers[2]=n),i}}}function gVe(e,t,n=!0){let r;switch(e.typeId){case Q.Int:r=e.bitWidth<64?cU:null;break;case Q.Float:r=e.precision>0?cU:null;break;case Q.Dictionary:r=e.dictionary.typeId===Q.Utf8&&e.indices.typeId===Q.Int&&e.indices.bitWidth<64?hVe:null;break;case Q.Bool:r=uVe;break;case Q.Date:r=e.unit?cVe:lVe;break}return r==null?fVe(e):n?mVe(r(e,t),t):r(e,t)}function yVe(e,t){const n=e.length,r=t3(n,e.BYTES_PER_ELEMENT);let i=e;return n!==r&&(i=new e.constructor(r),i.set(e)),n3({type:t,length:n,buffers:[null,i]})}function Nne(e,t,n,r,i=!0){const s=gVe(r,e,i);return t(n,s.set),n3(s.data())}function i3(e){if(e instanceof Qt||e==null)return e;switch(e){case Q.Binary:return new Dy;case Q.Bool:return new $y;case Q.DateDay:return new IBe;case Q.DateMillisecond:case Q.Date:return new xBe;case Q.Dictionary:return new nf(new sm,new ef);case Q.Float16:return new lte;case Q.Float32:return new w$;case Q.Float64:case Q.Float:return new T$;case Q.Int8:return new m$;case Q.Int16:return new g$;case Q.Int32:case Q.Int:return new ef;case Q.Int64:return new y$;case Q.IntervalDayTime:return new RBe;case Q.Interval:case Q.IntervalYearMonth:return new NBe;case Q.Null:return new Al;case Q.TimeMicrosecond:return new OBe;case Q.TimeMillisecond:case Q.Time:return new ABe;case Q.TimeNanosecond:return new PBe;case Q.TimeSecond:return new CBe;case Q.Uint8:return new _$;case Q.Uint16:return new v$;case Q.Uint32:return new b$;case Q.Uint64:return new E$;case Q.Utf8:return new sm;default:jt(`Unsupported type code: ${wu(e)}. Use a data type constructor instead?`)}}function _Ve(e){return e.getUTCHours()===0&&e.getUTCMinutes()===0&&e.getUTCSeconds()===0&&e.getUTCMilliseconds()===0}function kne(e,t){const n=q2();return e(t,n.add),n}function q2(){const e={count:0,nulls:0,bools:0,nums:0,ints:0,bigints:0,min:1/0,max:-1/0,digits:0,dates:0,utcdays:0,strings:0,strlen:0,arrays:0,minlen:1/0,maxlen:0,structs:0,add(t){if(++e.count,t==null){++e.nulls;return}const n=typeof t;if(n==="string")++e.strings;else if(n==="number")++e.nums,t<e.min&&(e.min=t),t>e.max&&(e.max=t),Number.isInteger(t)&&++e.ints;else if(n==="boolean")++e.bools;else if(n==="object")if(Cl(t))++e.dates,_Ve(t)&&++e.utcdays;else if(nd(t)){++e.arrays,t.length<e.minlen&&(e.minlen=t.length),t.length>e.maxlen&&(e.maxlen=t.length);const r=e.array_prof||(e.array_prof=q2());t.forEach(r.add)}else{++e.structs;const r=e.struct_prof||(e.struct_prof={});for(const i in t)(r[i]||(r[i]=q2())).add(t[i])}else n==="bigint"&&(++e.bigints,t<e.min&&(e.min=t),t>e.max&&(e.max=t))},type(){return i3(vVe(e))}};return e}function vVe(e){const t=e.count-e.nulls;if(t===0)return Q.Null;if(e.ints===t){const n=Math.max(Math.abs(e.min)-1,e.max);return e.min<0?n>=2**31?Q.Float64:n<128?Q.Int8:n<32768?Q.Int16:Q.Int32:n>=2**32?Q.Float64:n<256?Q.Uint8:n<65536?Q.Uint16:Q.Uint32}else{if(e.nums===t)return Q.Float64;if(e.bigints===t){const n=-e.min>e.max?-e.min-1n:e.max;return e.min<0?n<2**63?Q.Int64:jt(`BigInt exceeds 64 bits: ${n}`):e.max<2**64?Q.Uint64:jt(`BigInt exceeds 64 bits: ${e.max}`)}else{if(e.bools===t)return Q.Bool;if(e.utcdays===t)return Q.DateDay;if(e.dates===t)return Q.DateMillisecond;if(e.arrays===t){const n=In.new("value",e.array_prof.type(),!0);return e.minlen===e.maxlen?new lm(e.minlen,n):new um(n)}else if(e.structs===t){const n=e.struct_prof;return new Gi(Object.keys(n).map(r=>In.new(r,n[r].type(),!0)))}else{if(e.strings>0)return Q.Dictionary;jt("Type inference failure")}}}}function bVe(e,t,n,r,i,s=!0){if(i=i3(i),!i){const o=kne(r,t);s=o.nulls>0,i=o.type()}return Nne(n,r,t,i,s)}function EVe(e,t,n,r,i,s=!0){i=i3(i);const o=e.column(t),a=!(e.isFiltered()||e.isOrdered()),u=wVe(o);if(u&&a&&fU(u.type,i))return u;const l=o.data;if(z_(l)){const c=TVe(l);if(a&&c&&fU(c,i))return yVe(l,c);i=i||c,s=!1}if(!i){const c=kne(r,o);s=c.nulls>0,i=c.type()}return Nne(n,r,o,i,s)}function wVe(e){return e instanceof _n?e:e.vector instanceof _n?e.vector:null}function TVe(e){const n={Float32Array:w$,Float64Array:T$,Int8Array:m$,Int16Array:g$,Int32Array:ef,Uint8Array:_$,Uint16Array:v$,Uint32Array:b$,BigInt64Array:y$,BigUint64Array:E$}[e.constructor.name];return n?new n:null}function fU(e,t){return!e||!t?!0:e.compareTo(t)}function SVe(e,t,n){const r=Math.min(e.length,n+t);return(i,s)=>{for(let o=n;o<r;++o)s(e[o][i],o)}}function IVe(e,t,n){const r=n===0&&e.numRows()<=t&&!e.isFiltered()&&!e.isOrdered();return(i,s)=>{let o=-1;r&&nd(i.data)?i.data.forEach(s):e.scan(a=>s(i.get(a),++o),!0,t,n)}}const xVe=()=>jt("Apache Arrow not imported, see https://github.com/uwdata/arquero#usage");function CVe(){try{return Os}catch{xVe()}}function Dne(e,t={}){const{types:n={}}=t,{dataFrom:r,names:i,nrows:s,scan:o}=AVe(e,t),a={};i.forEach(l=>{const c=r(e,l,s,o,n[l]);c.length!==s&&jt("Column length mismatch"),a[l]=c});const u=CVe();return new u(a)}function AVe(e,t){const{columns:n,limit:r=1/0,offset:i=0}=t,s=er(n)?n(e):yn(n)?n:null;if(yn(e))return{dataFrom:bVe,names:s||Object.keys(e[0]),nrows:Math.min(r,e.length-i),scan:SVe(e,r,i)};if(OVe(e))return{dataFrom:EVe,names:s||e.columnNames(),nrows:Math.min(r,e.numRows()-i),scan:IVe(e,r,i)};jt("Unsupported input data type")}function OVe(e){return e&&er(e.reify)}function PVe(e,t={}){const{format:n,...r}=t,i=n||"stream";if(!["stream","file"].includes(i))throw Error("Unrecognised output format");return rVe(Dne(e,r),n)}function RVe(e){return e.getUTCHours()===0&&e.getUTCMinutes()===0&&e.getUTCSeconds()===0&&e.getUTCMilliseconds()===0}function NVe(e,t={}){let n=0,r=0,i=0,s=0,o=0,a=0;return e(u=>{if(++n,u==null){++r;return}const l=typeof u;if(l==="object"&&Cl(u))++i,RVe(u)&&++s;else if(l==="number"&&(++o,u===u&&(u|0)!==u)){const c=u+"",f=c.indexOf(".");if(f>=0){const d=c.indexOf("e"),h=d>0?d:c.length;a=Math.max(a,h-f-1)}}}),{align:(r+o+i)/n>.5?"r":"l",format:{utc:i===s,digits:Math.min(a,t.maxdigits||6)}}}function HI(e,t){return er(t)?t(e):t||e.columnNames()}function $ne(e,t,n){const r=n.format||{},i=n.align||{},s={},o={};return t.forEach(a=>{const u=NVe(kVe(e,a),n);o[a]=i[a]||u.align,s[a]=r[a]||u.format}),{align:o,format:s}}function kVe(e,t){const n=e.column(t);return r=>e.scan(i=>r(n.get(i)))}function s3(e,t,n=100,r,i){const s=e.data(),o=t.length;e.scan(a=>{i.row(a);for(let u=0;u<o;++u){const l=t[u];i.cell(s[t[u]].get(a),l,u)}},!0,n,r)}function DVe(e,t={}){const n=HI(e,t.columns),r=t.format||{},i=t.delimiter||",",s=new RegExp(`["${i}
\r]`),o=l=>l==null?"":Cl(l)?NI(l,!0):s.test(l+="")?'"'+l.replace(/"/g,'""')+'"':l,a=n.map(o);let u="";return s3(e,n,t.limit||1/0,t.offset,{row(){u+=a.join(i)+`
`},cell(l,c,f){a[f]=o(r[c]?r[c](l):l)}}),u+a.join(i)}function Lne(e,t={}){if(er(t))return t(e)+"";const n=typeof e;if(n==="object"){if(Cl(e))return t.utc?NI(e):pee(e);{const r=JSON.stringify(e,(s,o)=>z_(o)?Array.from(o):o),i=t.maxlen||30;return r.length>i?r.slice(0,28)+""+(r[0]==="["?"]":"}"):r}}else if(n==="number"){const r=t.digits||0;let i;return e!==0&&((i=Math.abs(e))>=1e18||i<Math.pow(10,-r))?e.toExponential(r):e.toFixed(r)}else return e+""}function WI(e,t,n={}){for(const r in e)n[r]=t(e[r],r);return n}function $Ve(e,t={}){const n=HI(e,t.columns),{align:r,format:i}=$ne(e,n,t),s=LVe(t),o=t.null,a=m=>m==="c"?"center":m==="r"?"right":"left",u=m=>m.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),l=(m,y)=>u(Lne(m,y)),c=o?(m,y)=>m==null?o(m):l(m,y):l;let f=-1,d=-1;const h=(m,y,g)=>{const _=g?a(r[y]):"",b=s[m]&&s[m](y,d,f)||"",T=(_?`text-align: ${_};`+(b?" ":""):"")+b;return`<${m}${T?` style="${T}"`:""}>`};let p=h("table")+h("thead")+h("tr",f)+n.map(m=>`${h("th",m,1)}${m}</th>`).join("")+"</tr></thead>"+h("tbody");return s3(e,n,t.limit,t.offset,{row(m){f=m,p+=(++d?"</tr>":"")+h("tr")},cell(m,y){p+=h("td",y,1)+c(m,i[y])+"</td>"}}),p+"</tr></tbody></table>"}function LVe(e){return WI(e.style,t=>er(t)?t:()=>t)}function MVe(e,t=!0,n=!1){return e===void 0||e?t:n}const FVe=e=>Cl(e)?NI(e,!0):e;function BVe(e,t={}){const n=MVe(t.schema),r=t.format||{},i=HI(e,t.columns);let s="{";return n&&(s+='"schema":{"fields":'+JSON.stringify(i.map(o=>({name:o})))+'},"data":{'),i.forEach((o,a)=>{s+=(a?",":"")+JSON.stringify(o)+":[";const u=e.column(o),l=r[o]||FVe;let c=-1;e.scan(f=>{const d=u.get(f);s+=(++c?",":"")+JSON.stringify(l(d))},!0,t.limit,t.offset),s+="]"}),s+"}"+(n?"}":"")}function jVe(e,t={}){const n=HI(e,t.columns),{align:r,format:i}=$ne(e,n,t),s=u=>u==="c"?":-:":u==="r"?"-:":":-",o=u=>u.replace(/\|/g,"\\|");let a="|"+n.map(o).join("|")+`|
|`+n.map(u=>s(r[u])).join("|")+"|";return s3(e,n,t.limit,t.offset,{row(){a+=`
|`},cell(u,l){a+=o(Lne(u,i[l]))+"|"}}),a+`
`}function Mne(e,t){for(const[n,r]of kI(t))e.set(n,r);return e}function UVe(e){return e.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&")}function Pl(e,t,n=new Map){return t=cs(t)?e.columnName(t):t,Li(t)?n.set(t,t):yn(t)?t.forEach(r=>Pl(e,r,n)):er(t)?Pl(e,t(e),n):Xi(t)?Mne(n,t):jt(`Invalid column selection: ${wu(t)}`),n}function qI(e,t){return e.toObject=t,e}function Fne(e){return yn(e)?e.map(Fne):e&&e.toObject?e.toObject():e}function hm(){return qI(e=>e.columnNames(),()=>({all:[]}))}function Bne(...e){return e=e.flat(),qI(t=>{const n=Pl(t,e);return t.columnNames(r=>!n.has(r))},()=>({not:Fne(e)}))}function VVe(e,t){return qI(n=>{let r=cs(e)?e:n.columnIndex(e),i=cs(t)?t:n.columnIndex(t);if(i<r){const s=i;i=r,r=s}return n.columnNames().slice(r,i+1)},()=>({range:[e,t]}))}function zVe(e){return Li(e)&&(e=RegExp(UVe(e))),qI(t=>t.columnNames(n=>e.test(n)),()=>({matches:[e.source,e.flags]}))}function HVe(e){return z_(e.data)?e.data.constructor:Array}class Ku extends l9e{static from(t,n){return new Ku(d9e(t,n),n)}static new(t,n){if(t instanceof Ku)return t;const r={},i=[];for(const[s,o]of kI(t))r[s]=o,i.push(s);return new Ku(r,n||i)}constructor(t,n,r,i,s,o){WI(t,f9e,t),n=n||Object.keys(t);const a=n.length?t[n[0]].length:0;super(n,a,t,r,i,s,o)}create({data:t,names:n,filter:r,groups:i,order:s}){const o=r!==void 0?r:this.mask();return new Ku(t||this._data,n||(t?null:this._names),o,i!==void 0?i:U9e(this._group,r&&o),s!==void 0?s:this._order,this._params)}assign(...t){const n=this.numRows(),r=this.reify(),i=wo(r).groupby(r.groups());return t.forEach(s=>{s=Ku.new(s),s.numRows()!==n&&jt("Assign row counts do not match"),s=s.reify(),s.columnNames(o=>i.add(o,s.column(o)))}),this.create(i.new())}columns(){return this._data}column(t){return this._data[t]}columnAt(t){return this._data[this._names[t]]}array(t,n=Array){const r=this.column(t),i=new n(this.numRows());let s=-1;return this.scan(o=>i[++s]=r.get(o),!0),i}get(t,n=0){const r=this.column(t);return this.isFiltered()||this.isOrdered()?r.get(this.indices()[n]):r.get(n)}getter(t){const n=this.column(t),r=this.isFiltered()||this.isOrdered()?this.indices():null;return r?i=>n.get(r[i]):n?i=>n.get(i):jt(`Unrecognized column: ${t}`)}object(t=0){return dU(this)(t)}objects(t={}){const{grouped:n,limit:r,offset:i}=t,s=Pl(this,t.columns||hm()),o=Bee(s),a=[];if(this.scan((u,l)=>a.push(o(u,l)),!0,r,i),n&&this.isGrouped()){const u=[];return this.scan(l=>u.push(l),!0,r,i),z9e(this,u,a,n)}return a}*[Symbol.iterator](){const t=dU(this),n=this.numRows();for(let r=0;r<n;++r)yield t(r)}reify(t){const n=t?t.length:this.numRows(),r=this._names;let i,s;if(!t&&!this.isOrdered())if(this.isFiltered())n===this.totalRows()&&(i=this.data());else return this;if(!i){const o=t?u=>t.forEach(u):u=>this.scan(u,!0),a=r.length;i={};for(let u=0;u<a;++u){const l=r[u],c=this.column(l),f=i[l]=new(HVe(c))(n);let d=-1;o(h=>f[++d]=c.get(h))}this.isGrouped()&&(s=V9e(this.groups(),o,!!t,n))}return this.create({data:i,names:r,groups:s,filter:null,order:null})}transform(...t){return t.flat().reduce((n,r)=>r(n),this)}toArrow(t){return Dne(this,t)}toArrowBuffer(t){return PVe(this,t)}toCSV(t){return DVe(this,t)}toHTML(t){return $Ve(this,t)}toJSON(t){return BVe(this,t)}toMarkdown(t){return jVe(this,t)}}function dU(e){let t=e._builder;if(!t){const n=Bee(e.columnNames()),r=e.data();if(e.isOrdered()||e.isFiltered()){const i=e.indices();t=s=>n(i[s],r)}else t=i=>n(i,r);e._builder=t}return t}class WVe{constructor(t){this._outputs=t}size(){return this._outputs.length}outputs(){return this._outputs}init(){return{}}add(){}rem(){}write(){}}function cn(e,t,n,r){const i=n[e.type]||n.Default;if(i&&i(e,t,r)===!1)return;const s=qVe[e.type];s&&s(e,t,n)}const g1=(e,t,n)=>{cn(e.argument,t,n,e)},zA=(e,t,n)=>{cn(e.left,t,n,e),cn(e.right,t,n,e)},hU=(e,t,n)=>{cn(e.test,t,n,e),cn(e.consequent,t,n,e),e.alternate&&cn(e.alternate,t,n,e)},HA=(e,t,n)=>{Va(e.params,t,n,e),cn(e.body,t,n,e)},pU=(e,t,n)=>{cn(e.callee,t,n,e),Va(e.arguments,t,n,e)},Va=(e,t,n,r)=>{e.forEach(i=>cn(i,t,n,r))},qVe={TemplateLiteral:(e,t,n)=>{Va(e.expressions,t,n,e),Va(e.quasis,t,n,e)},MemberExpression:(e,t,n)=>{cn(e.object,t,n,e),cn(e.property,t,n,e)},CallExpression:pU,NewExpression:pU,ArrayExpression:(e,t,n)=>{Va(e.elements,t,n,e)},AssignmentExpression:zA,AwaitExpression:g1,BinaryExpression:zA,LogicalExpression:zA,UnaryExpression:g1,UpdateExpression:g1,ConditionalExpression:hU,ObjectExpression:(e,t,n)=>{Va(e.properties,t,n,e)},Property:(e,t,n)=>{cn(e.key,t,n,e),cn(e.value,t,n,e)},ArrowFunctionExpression:HA,FunctionExpression:HA,FunctionDeclaration:HA,VariableDeclaration:(e,t,n)=>{Va(e.declarations,t,n,e)},VariableDeclarator:(e,t,n)=>{cn(e.id,t,n,e),cn(e.init,t,n,e)},SpreadElement:(e,t,n)=>{cn(e.argument,t,n,e)},BlockStatement:(e,t,n)=>{Va(e.body,t,n,e)},ExpressionStatement:(e,t,n)=>{cn(e.expression,t,n,e)},IfStatement:hU,ForStatement:(e,t,n)=>{cn(e.init,t,n,e),cn(e.test,t,n,e),cn(e.update,t,n,e),cn(e.body,t,n,e)},WhileStatement:(e,t,n)=>{cn(e.test,t,n,e),cn(e.body,t,n,e)},DoWhileStatement:(e,t,n)=>{cn(e.body,t,n,e),cn(e.test,t,n,e)},SwitchStatement:(e,t,n)=>{cn(e.discriminant,t,n,e),Va(e.cases,t,n,e)},SwitchCase:(e,t,n)=>{e.test&&cn(e.test,t,n,e),Va(e.consequent,t,n,e)},ReturnStatement:g1,Program:(e,t,n)=>{cn(e.body[0],t,n,e)}};function jne(e){delete e.start,delete e.end,delete e.optional}function mU(e){jne(e),delete e.object,delete e.property,delete e.computed,e.table||delete e.table}function GVe(e){return cn(e,null,{Column:mU,Constant:mU,Default:jne}),e}function Kr(e,t){return t&&t.type===e}function YVe(e){return Kr(q9e,e)||Kr(W9e,e)}function KVe(e){return er(e)?e:()=>e}const QVe="Escaped functions are not valid as rollup or pivot values.";function XVe(e,t,n){e.aggronly&&jt(QVe);const r="(row,data)=>fn("+Fee(e.table.columnNames())+",$)";return{escape:u$.escape(r,KVe(t.expr),n)}}var JVe=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],Une=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],ZVe="-----------------------------------------------------------------------------------------------------------------------------------------------------",Vne="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",WA={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},qA="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",e7e={5:qA,"5module":qA+" export import",6:qA+" const class extends export import super"},t7e=/^in(stanceof)?$/,n7e=new RegExp("["+Vne+"]"),r7e=new RegExp("["+Vne+ZVe+"]");function G2(e,t){for(var n=65536,r=0;r<t.length;r+=2){if(n+=t[r],n>e)return!1;if(n+=t[r+1],n>=e)return!0}return!1}function Rl(e,t){return e<65?e===36:e<91?!0:e<97?e===95:e<123?!0:e<=65535?e>=170&&n7e.test(String.fromCharCode(e)):t===!1?!1:G2(e,Une)}function pm(e,t){return e<48?e===36:e<58?!0:e<65?!1:e<91?!0:e<97?e===95:e<123?!0:e<=65535?e>=170&&r7e.test(String.fromCharCode(e)):t===!1?!1:G2(e,Une)||G2(e,JVe)}var fn=function(t,n){n===void 0&&(n={}),this.label=t,this.keyword=n.keyword,this.beforeExpr=!!n.beforeExpr,this.startsExpr=!!n.startsExpr,this.isLoop=!!n.isLoop,this.isAssign=!!n.isAssign,this.prefix=!!n.prefix,this.postfix=!!n.postfix,this.binop=n.binop||null,this.updateContext=null};function So(e,t){return new fn(e,{beforeExpr:!0,binop:t})}var Io={beforeExpr:!0},vs={startsExpr:!0},o3={};function tn(e,t){return t===void 0&&(t={}),t.keyword=e,o3[e]=new fn(e,t)}var N={num:new fn("num",vs),regexp:new fn("regexp",vs),string:new fn("string",vs),name:new fn("name",vs),privateId:new fn("privateId",vs),eof:new fn("eof"),bracketL:new fn("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new fn("]"),braceL:new fn("{",{beforeExpr:!0,startsExpr:!0}),braceR:new fn("}"),parenL:new fn("(",{beforeExpr:!0,startsExpr:!0}),parenR:new fn(")"),comma:new fn(",",Io),semi:new fn(";",Io),colon:new fn(":",Io),dot:new fn("."),question:new fn("?",Io),questionDot:new fn("?."),arrow:new fn("=>",Io),template:new fn("template"),invalidTemplate:new fn("invalidTemplate"),ellipsis:new fn("...",Io),backQuote:new fn("`",vs),dollarBraceL:new fn("${",{beforeExpr:!0,startsExpr:!0}),eq:new fn("=",{beforeExpr:!0,isAssign:!0}),assign:new fn("_=",{beforeExpr:!0,isAssign:!0}),incDec:new fn("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new fn("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:So("||",1),logicalAND:So("&&",2),bitwiseOR:So("|",3),bitwiseXOR:So("^",4),bitwiseAND:So("&",5),equality:So("==/!=/===/!==",6),relational:So("</>/<=/>=",7),bitShift:So("<</>>/>>>",8),plusMin:new fn("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:So("%",10),star:So("*",10),slash:So("/",10),starstar:new fn("**",{beforeExpr:!0}),coalesce:So("??",1),_break:tn("break"),_case:tn("case",Io),_catch:tn("catch"),_continue:tn("continue"),_debugger:tn("debugger"),_default:tn("default",Io),_do:tn("do",{isLoop:!0,beforeExpr:!0}),_else:tn("else",Io),_finally:tn("finally"),_for:tn("for",{isLoop:!0}),_function:tn("function",vs),_if:tn("if"),_return:tn("return",Io),_switch:tn("switch"),_throw:tn("throw",Io),_try:tn("try"),_var:tn("var"),_const:tn("const"),_while:tn("while",{isLoop:!0}),_with:tn("with"),_new:tn("new",{beforeExpr:!0,startsExpr:!0}),_this:tn("this",vs),_super:tn("super",vs),_class:tn("class",vs),_extends:tn("extends",Io),_export:tn("export"),_import:tn("import",vs),_null:tn("null",vs),_true:tn("true",vs),_false:tn("false",vs),_in:tn("in",{beforeExpr:!0,binop:7}),_instanceof:tn("instanceof",{beforeExpr:!0,binop:7}),_typeof:tn("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:tn("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:tn("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},Zo=/\r\n?|\n|\u2028|\u2029/,i7e=new RegExp(Zo.source,"g");function Ym(e){return e===10||e===13||e===8232||e===8233}function zne(e,t,n){n===void 0&&(n=e.length);for(var r=t;r<n;r++){var i=e.charCodeAt(r);if(Ym(i))return r<n-1&&i===13&&e.charCodeAt(r+1)===10?r+2:r+1}return-1}var Hne=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Do=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,Wne=Object.prototype,s7e=Wne.hasOwnProperty,o7e=Wne.toString,K_=Object.hasOwn||function(e,t){return s7e.call(e,t)},gU=Array.isArray||function(e){return o7e.call(e)==="[object Array]"},yU=Object.create(null);function Ic(e){return yU[e]||(yU[e]=new RegExp("^(?:"+e.replace(/ /g,"|")+")$"))}function af(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10)+55296,(e&1023)+56320))}var a7e=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,Fy=function(t,n){this.line=t,this.column=n};Fy.prototype.offset=function(t){return new Fy(this.line,this.column+t)};var GI=function(t,n,r){this.start=n,this.end=r,t.sourceFile!==null&&(this.source=t.sourceFile)};function qne(e,t){for(var n=1,r=0;;){var i=zne(e,r,t);if(i<0)return new Fy(n,t-r);++n,r=i}}var Y2={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},_U=!1;function u7e(e){var t={};for(var n in Y2)t[n]=e&&K_(e,n)?e[n]:Y2[n];if(t.ecmaVersion==="latest"?t.ecmaVersion=1e8:t.ecmaVersion==null?(!_U&&typeof console=="object"&&console.warn&&(_U=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),t.ecmaVersion=11):t.ecmaVersion>=2015&&(t.ecmaVersion-=2009),t.allowReserved==null&&(t.allowReserved=t.ecmaVersion<5),(!e||e.allowHashBang==null)&&(t.allowHashBang=t.ecmaVersion>=14),gU(t.onToken)){var r=t.onToken;t.onToken=function(i){return r.push(i)}}return gU(t.onComment)&&(t.onComment=l7e(t,t.onComment)),t}function l7e(e,t){return function(n,r,i,s,o,a){var u={type:n?"Block":"Line",value:r,start:i,end:s};e.locations&&(u.loc=new GI(this,o,a)),e.ranges&&(u.range=[i,s]),t.push(u)}}var By=1,Km=2,a3=4,Gne=8,Yne=16,Kne=32,u3=64,Qne=128,Q_=256,l3=By|Km|Q_;function c3(e,t){return Km|(e?a3:0)|(t?Gne:0)}var IT=0,f3=1,Kl=2,Xne=3,Jne=4,Zne=5,ti=function(t,n,r){this.options=t=u7e(t),this.sourceFile=t.sourceFile,this.keywords=Ic(e7e[t.ecmaVersion>=6?6:t.sourceType==="module"?"5module":5]);var i="";t.allowReserved!==!0&&(i=WA[t.ecmaVersion>=6?6:t.ecmaVersion===5?5:3],t.sourceType==="module"&&(i+=" await")),this.reservedWords=Ic(i);var s=(i?i+" ":"")+WA.strict;this.reservedWordsStrict=Ic(s),this.reservedWordsStrictBind=Ic(s+" "+WA.strictBind),this.input=String(n),this.containsEsc=!1,r?(this.pos=r,this.lineStart=this.input.lastIndexOf(`
`,r-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(Zo).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=N.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=t.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&t.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(By),this.regexpState=null,this.privateNameStack=[]},Du={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};ti.prototype.parse=function(){var t=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(t)};Du.inFunction.get=function(){return(this.currentVarScope().flags&Km)>0};Du.inGenerator.get=function(){return(this.currentVarScope().flags&Gne)>0&&!this.currentVarScope().inClassFieldInit};Du.inAsync.get=function(){return(this.currentVarScope().flags&a3)>0&&!this.currentVarScope().inClassFieldInit};Du.canAwait.get=function(){for(var e=this.scopeStack.length-1;e>=0;e--){var t=this.scopeStack[e];if(t.inClassFieldInit||t.flags&Q_)return!1;if(t.flags&Km)return(t.flags&a3)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};Du.allowSuper.get=function(){var e=this.currentThisScope(),t=e.flags,n=e.inClassFieldInit;return(t&u3)>0||n||this.options.allowSuperOutsideMethod};Du.allowDirectSuper.get=function(){return(this.currentThisScope().flags&Qne)>0};Du.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};Du.allowNewDotTarget.get=function(){var e=this.currentThisScope(),t=e.flags,n=e.inClassFieldInit;return(t&(Km|Q_))>0||n};Du.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&Q_)>0};ti.extend=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];for(var r=this,i=0;i<t.length;i++)r=t[i](r);return r};ti.parse=function(t,n){return new this(n,t).parse()};ti.parseExpressionAt=function(t,n,r){var i=new this(r,t,n);return i.nextToken(),i.parseExpression()};ti.tokenizer=function(t,n){return new this(n,t)};Object.defineProperties(ti.prototype,Du);var ps=ti.prototype,c7e=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;ps.strictDirective=function(e){if(this.options.ecmaVersion<5)return!1;for(;;){Do.lastIndex=e,e+=Do.exec(this.input)[0].length;var t=c7e.exec(this.input.slice(e));if(!t)return!1;if((t[1]||t[2])==="use strict"){Do.lastIndex=e+t[0].length;var n=Do.exec(this.input),r=n.index+n[0].length,i=this.input.charAt(r);return i===";"||i==="}"||Zo.test(n[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(i)||i==="!"&&this.input.charAt(r+1)==="=")}e+=t[0].length,Do.lastIndex=e,e+=Do.exec(this.input)[0].length,this.input[e]===";"&&e++}};ps.eat=function(e){return this.type===e?(this.next(),!0):!1};ps.isContextual=function(e){return this.type===N.name&&this.value===e&&!this.containsEsc};ps.eatContextual=function(e){return this.isContextual(e)?(this.next(),!0):!1};ps.expectContextual=function(e){this.eatContextual(e)||this.unexpected()};ps.canInsertSemicolon=function(){return this.type===N.eof||this.type===N.braceR||Zo.test(this.input.slice(this.lastTokEnd,this.start))};ps.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};ps.semicolon=function(){!this.eat(N.semi)&&!this.insertSemicolon()&&this.unexpected()};ps.afterTrailingComma=function(e,t){if(this.type===e)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),t||this.next(),!0};ps.expect=function(e){this.eat(e)||this.unexpected()};ps.unexpected=function(e){this.raise(e??this.start,"Unexpected token")};var YI=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};ps.checkPatternErrors=function(e,t){if(e){e.trailingComma>-1&&this.raiseRecoverable(e.trailingComma,"Comma is not permitted after the rest element");var n=t?e.parenthesizedAssign:e.parenthesizedBind;n>-1&&this.raiseRecoverable(n,t?"Assigning to rvalue":"Parenthesized pattern")}};ps.checkExpressionErrors=function(e,t){if(!e)return!1;var n=e.shorthandAssign,r=e.doubleProto;if(!t)return n>=0||r>=0;n>=0&&this.raise(n,"Shorthand property assignments are valid only in destructuring patterns"),r>=0&&this.raiseRecoverable(r,"Redefinition of __proto__ property")};ps.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};ps.isSimpleAssignTarget=function(e){return e.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(e.expression):e.type==="Identifier"||e.type==="MemberExpression"};var nt=ti.prototype;nt.parseTopLevel=function(e){var t=Object.create(null);for(e.body||(e.body=[]);this.type!==N.eof;){var n=this.parseStatement(null,!0,t);e.body.push(n)}if(this.inModule)for(var r=0,i=Object.keys(this.undefinedExports);r<i.length;r+=1){var s=i[r];this.raiseRecoverable(this.undefinedExports[s].start,"Export '"+s+"' is not defined")}return this.adaptDirectivePrologue(e.body),this.next(),e.sourceType=this.options.sourceType,this.finishNode(e,"Program")};var d3={kind:"loop"},f7e={kind:"switch"};nt.isLet=function(e){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;Do.lastIndex=this.pos;var t=Do.exec(this.input),n=this.pos+t[0].length,r=this.input.charCodeAt(n);if(r===91||r===92)return!0;if(e)return!1;if(r===123||r>55295&&r<56320)return!0;if(Rl(r,!0)){for(var i=n+1;pm(r=this.input.charCodeAt(i),!0);)++i;if(r===92||r>55295&&r<56320)return!0;var s=this.input.slice(n,i);if(!t7e.test(s))return!0}return!1};nt.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;Do.lastIndex=this.pos;var e=Do.exec(this.input),t=this.pos+e[0].length,n;return!Zo.test(this.input.slice(this.pos,t))&&this.input.slice(t,t+8)==="function"&&(t+8===this.input.length||!(pm(n=this.input.charCodeAt(t+8))||n>55295&&n<56320))};nt.parseStatement=function(e,t,n){var r=this.type,i=this.startNode(),s;switch(this.isLet(e)&&(r=N._var,s="let"),r){case N._break:case N._continue:return this.parseBreakContinueStatement(i,r.keyword);case N._debugger:return this.parseDebuggerStatement(i);case N._do:return this.parseDoStatement(i);case N._for:return this.parseForStatement(i);case N._function:return e&&(this.strict||e!=="if"&&e!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(i,!1,!e);case N._class:return e&&this.unexpected(),this.parseClass(i,!0);case N._if:return this.parseIfStatement(i);case N._return:return this.parseReturnStatement(i);case N._switch:return this.parseSwitchStatement(i);case N._throw:return this.parseThrowStatement(i);case N._try:return this.parseTryStatement(i);case N._const:case N._var:return s=s||this.value,e&&s!=="var"&&this.unexpected(),this.parseVarStatement(i,s);case N._while:return this.parseWhileStatement(i);case N._with:return this.parseWithStatement(i);case N.braceL:return this.parseBlock(!0,i);case N.semi:return this.parseEmptyStatement(i);case N._export:case N._import:if(this.options.ecmaVersion>10&&r===N._import){Do.lastIndex=this.pos;var o=Do.exec(this.input),a=this.pos+o[0].length,u=this.input.charCodeAt(a);if(u===40||u===46)return this.parseExpressionStatement(i,this.parseExpression())}return this.options.allowImportExportEverywhere||(t||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),r===N._import?this.parseImport(i):this.parseExport(i,n);default:if(this.isAsyncFunction())return e&&this.unexpected(),this.next(),this.parseFunctionStatement(i,!0,!e);var l=this.value,c=this.parseExpression();return r===N.name&&c.type==="Identifier"&&this.eat(N.colon)?this.parseLabeledStatement(i,l,c,e):this.parseExpressionStatement(i,c)}};nt.parseBreakContinueStatement=function(e,t){var n=t==="break";this.next(),this.eat(N.semi)||this.insertSemicolon()?e.label=null:this.type!==N.name?this.unexpected():(e.label=this.parseIdent(),this.semicolon());for(var r=0;r<this.labels.length;++r){var i=this.labels[r];if((e.label==null||i.name===e.label.name)&&(i.kind!=null&&(n||i.kind==="loop")||e.label&&n))break}return r===this.labels.length&&this.raise(e.start,"Unsyntactic "+t),this.finishNode(e,n?"BreakStatement":"ContinueStatement")};nt.parseDebuggerStatement=function(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")};nt.parseDoStatement=function(e){return this.next(),this.labels.push(d3),e.body=this.parseStatement("do"),this.labels.pop(),this.expect(N._while),e.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(N.semi):this.semicolon(),this.finishNode(e,"DoWhileStatement")};nt.parseForStatement=function(e){this.next();var t=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(d3),this.enterScope(0),this.expect(N.parenL),this.type===N.semi)return t>-1&&this.unexpected(t),this.parseFor(e,null);var n=this.isLet();if(this.type===N._var||this.type===N._const||n){var r=this.startNode(),i=n?"let":this.value;return this.next(),this.parseVar(r,!0,i),this.finishNode(r,"VariableDeclaration"),(this.type===N._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&r.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===N._in?t>-1&&this.unexpected(t):e.await=t>-1),this.parseForIn(e,r)):(t>-1&&this.unexpected(t),this.parseFor(e,r))}var s=this.isContextual("let"),o=!1,a=new YI,u=this.parseExpression(t>-1?"await":!0,a);return this.type===N._in||(o=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===N._in?t>-1&&this.unexpected(t):e.await=t>-1),s&&o&&this.raise(u.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(u,!1,a),this.checkLValPattern(u),this.parseForIn(e,u)):(this.checkExpressionErrors(a,!0),t>-1&&this.unexpected(t),this.parseFor(e,u))};nt.parseFunctionStatement=function(e,t,n){return this.next(),this.parseFunction(e,zg|(n?0:K2),!1,t)};nt.parseIfStatement=function(e){return this.next(),e.test=this.parseParenExpression(),e.consequent=this.parseStatement("if"),e.alternate=this.eat(N._else)?this.parseStatement("if"):null,this.finishNode(e,"IfStatement")};nt.parseReturnStatement=function(e){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(N.semi)||this.insertSemicolon()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")};nt.parseSwitchStatement=function(e){this.next(),e.discriminant=this.parseParenExpression(),e.cases=[],this.expect(N.braceL),this.labels.push(f7e),this.enterScope(0);for(var t,n=!1;this.type!==N.braceR;)if(this.type===N._case||this.type===N._default){var r=this.type===N._case;t&&this.finishNode(t,"SwitchCase"),e.cases.push(t=this.startNode()),t.consequent=[],this.next(),r?t.test=this.parseExpression():(n&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),n=!0,t.test=null),this.expect(N.colon)}else t||this.unexpected(),t.consequent.push(this.parseStatement(null));return this.exitScope(),t&&this.finishNode(t,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(e,"SwitchStatement")};nt.parseThrowStatement=function(e){return this.next(),Zo.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")};var d7e=[];nt.parseCatchClauseParam=function(){var e=this.parseBindingAtom(),t=e.type==="Identifier";return this.enterScope(t?Kne:0),this.checkLValPattern(e,t?Jne:Kl),this.expect(N.parenR),e};nt.parseTryStatement=function(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.type===N._catch){var t=this.startNode();this.next(),this.eat(N.parenL)?t.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),t.param=null,this.enterScope(0)),t.body=this.parseBlock(!1),this.exitScope(),e.handler=this.finishNode(t,"CatchClause")}return e.finalizer=this.eat(N._finally)?this.parseBlock():null,!e.handler&&!e.finalizer&&this.raise(e.start,"Missing catch or finally clause"),this.finishNode(e,"TryStatement")};nt.parseVarStatement=function(e,t,n){return this.next(),this.parseVar(e,!1,t,n),this.semicolon(),this.finishNode(e,"VariableDeclaration")};nt.parseWhileStatement=function(e){return this.next(),e.test=this.parseParenExpression(),this.labels.push(d3),e.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(e,"WhileStatement")};nt.parseWithStatement=function(e){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),e.object=this.parseParenExpression(),e.body=this.parseStatement("with"),this.finishNode(e,"WithStatement")};nt.parseEmptyStatement=function(e){return this.next(),this.finishNode(e,"EmptyStatement")};nt.parseLabeledStatement=function(e,t,n,r){for(var i=0,s=this.labels;i<s.length;i+=1){var o=s[i];o.name===t&&this.raise(n.start,"Label '"+t+"' is already declared")}for(var a=this.type.isLoop?"loop":this.type===N._switch?"switch":null,u=this.labels.length-1;u>=0;u--){var l=this.labels[u];if(l.statementStart===e.start)l.statementStart=this.start,l.kind=a;else break}return this.labels.push({name:t,kind:a,statementStart:this.start}),e.body=this.parseStatement(r?r.indexOf("label")===-1?r+"label":r:"label"),this.labels.pop(),e.label=n,this.finishNode(e,"LabeledStatement")};nt.parseExpressionStatement=function(e,t){return e.expression=t,this.semicolon(),this.finishNode(e,"ExpressionStatement")};nt.parseBlock=function(e,t,n){for(e===void 0&&(e=!0),t===void 0&&(t=this.startNode()),t.body=[],this.expect(N.braceL),e&&this.enterScope(0);this.type!==N.braceR;){var r=this.parseStatement(null);t.body.push(r)}return n&&(this.strict=!1),this.next(),e&&this.exitScope(),this.finishNode(t,"BlockStatement")};nt.parseFor=function(e,t){return e.init=t,this.expect(N.semi),e.test=this.type===N.semi?null:this.parseExpression(),this.expect(N.semi),e.update=this.type===N.parenR?null:this.parseExpression(),this.expect(N.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,"ForStatement")};nt.parseForIn=function(e,t){var n=this.type===N._in;return this.next(),t.type==="VariableDeclaration"&&t.declarations[0].init!=null&&(!n||this.options.ecmaVersion<8||this.strict||t.kind!=="var"||t.declarations[0].id.type!=="Identifier")&&this.raise(t.start,(n?"for-in":"for-of")+" loop variable declaration may not have an initializer"),e.left=t,e.right=n?this.parseExpression():this.parseMaybeAssign(),this.expect(N.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,n?"ForInStatement":"ForOfStatement")};nt.parseVar=function(e,t,n,r){for(e.declarations=[],e.kind=n;;){var i=this.startNode();if(this.parseVarId(i,n),this.eat(N.eq)?i.init=this.parseMaybeAssign(t):!r&&n==="const"&&!(this.type===N._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!r&&i.id.type!=="Identifier"&&!(t&&(this.type===N._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):i.init=null,e.declarations.push(this.finishNode(i,"VariableDeclarator")),!this.eat(N.comma))break}return e};nt.parseVarId=function(e,t){e.id=this.parseBindingAtom(),this.checkLValPattern(e.id,t==="var"?f3:Kl,!1)};var zg=1,K2=2,ere=4;nt.parseFunction=function(e,t,n,r,i){this.initFunction(e),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!r)&&(this.type===N.star&&t&K2&&this.unexpected(),e.generator=this.eat(N.star)),this.options.ecmaVersion>=8&&(e.async=!!r),t&zg&&(e.id=t&ere&&this.type!==N.name?null:this.parseIdent(),e.id&&!(t&K2)&&this.checkLValSimple(e.id,this.strict||e.generator||e.async?this.treatFunctionsAsVar?f3:Kl:Xne));var s=this.yieldPos,o=this.awaitPos,a=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(c3(e.async,e.generator)),t&zg||(e.id=this.type===N.name?this.parseIdent():null),this.parseFunctionParams(e),this.parseFunctionBody(e,n,!1,i),this.yieldPos=s,this.awaitPos=o,this.awaitIdentPos=a,this.finishNode(e,t&zg?"FunctionDeclaration":"FunctionExpression")};nt.parseFunctionParams=function(e){this.expect(N.parenL),e.params=this.parseBindingList(N.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};nt.parseClass=function(e,t){this.next();var n=this.strict;this.strict=!0,this.parseClassId(e,t),this.parseClassSuper(e);var r=this.enterClassBody(),i=this.startNode(),s=!1;for(i.body=[],this.expect(N.braceL);this.type!==N.braceR;){var o=this.parseClassElement(e.superClass!==null);o&&(i.body.push(o),o.type==="MethodDefinition"&&o.kind==="constructor"?(s&&this.raiseRecoverable(o.start,"Duplicate constructor in the same class"),s=!0):o.key&&o.key.type==="PrivateIdentifier"&&h7e(r,o)&&this.raiseRecoverable(o.key.start,"Identifier '#"+o.key.name+"' has already been declared"))}return this.strict=n,this.next(),e.body=this.finishNode(i,"ClassBody"),this.exitClassBody(),this.finishNode(e,t?"ClassDeclaration":"ClassExpression")};nt.parseClassElement=function(e){if(this.eat(N.semi))return null;var t=this.options.ecmaVersion,n=this.startNode(),r="",i=!1,s=!1,o="method",a=!1;if(this.eatContextual("static")){if(t>=13&&this.eat(N.braceL))return this.parseClassStaticBlock(n),n;this.isClassElementNameStart()||this.type===N.star?a=!0:r="static"}if(n.static=a,!r&&t>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===N.star)&&!this.canInsertSemicolon()?s=!0:r="async"),!r&&(t>=9||!s)&&this.eat(N.star)&&(i=!0),!r&&!s&&!i){var u=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?o=u:r=u)}if(r?(n.computed=!1,n.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),n.key.name=r,this.finishNode(n.key,"Identifier")):this.parseClassElementName(n),t<13||this.type===N.parenL||o!=="method"||i||s){var l=!n.static&&xT(n,"constructor"),c=l&&e;l&&o!=="method"&&this.raise(n.key.start,"Constructor can't have get/set modifier"),n.kind=l?"constructor":o,this.parseClassMethod(n,i,s,c)}else this.parseClassField(n);return n};nt.isClassElementNameStart=function(){return this.type===N.name||this.type===N.privateId||this.type===N.num||this.type===N.string||this.type===N.bracketL||this.type.keyword};nt.parseClassElementName=function(e){this.type===N.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),e.computed=!1,e.key=this.parsePrivateIdent()):this.parsePropertyName(e)};nt.parseClassMethod=function(e,t,n,r){var i=e.key;e.kind==="constructor"?(t&&this.raise(i.start,"Constructor can't be a generator"),n&&this.raise(i.start,"Constructor can't be an async method")):e.static&&xT(e,"prototype")&&this.raise(i.start,"Classes may not have a static property named prototype");var s=e.value=this.parseMethod(t,n,r);return e.kind==="get"&&s.params.length!==0&&this.raiseRecoverable(s.start,"getter should have no params"),e.kind==="set"&&s.params.length!==1&&this.raiseRecoverable(s.start,"setter should have exactly one param"),e.kind==="set"&&s.params[0].type==="RestElement"&&this.raiseRecoverable(s.params[0].start,"Setter cannot use rest params"),this.finishNode(e,"MethodDefinition")};nt.parseClassField=function(e){if(xT(e,"constructor")?this.raise(e.key.start,"Classes can't have a field named 'constructor'"):e.static&&xT(e,"prototype")&&this.raise(e.key.start,"Classes can't have a static field named 'prototype'"),this.eat(N.eq)){var t=this.currentThisScope(),n=t.inClassFieldInit;t.inClassFieldInit=!0,e.value=this.parseMaybeAssign(),t.inClassFieldInit=n}else e.value=null;return this.semicolon(),this.finishNode(e,"PropertyDefinition")};nt.parseClassStaticBlock=function(e){e.body=[];var t=this.labels;for(this.labels=[],this.enterScope(Q_|u3);this.type!==N.braceR;){var n=this.parseStatement(null);e.body.push(n)}return this.next(),this.exitScope(),this.labels=t,this.finishNode(e,"StaticBlock")};nt.parseClassId=function(e,t){this.type===N.name?(e.id=this.parseIdent(),t&&this.checkLValSimple(e.id,Kl,!1)):(t===!0&&this.unexpected(),e.id=null)};nt.parseClassSuper=function(e){e.superClass=this.eat(N._extends)?this.parseExprSubscripts(null,!1):null};nt.enterClassBody=function(){var e={declared:Object.create(null),used:[]};return this.privateNameStack.push(e),e.declared};nt.exitClassBody=function(){var e=this.privateNameStack.pop(),t=e.declared,n=e.used;if(this.options.checkPrivateFields)for(var r=this.privateNameStack.length,i=r===0?null:this.privateNameStack[r-1],s=0;s<n.length;++s){var o=n[s];K_(t,o.name)||(i?i.used.push(o):this.raiseRecoverable(o.start,"Private field '#"+o.name+"' must be declared in an enclosing class"))}};function h7e(e,t){var n=t.key.name,r=e[n],i="true";return t.type==="MethodDefinition"&&(t.kind==="get"||t.kind==="set")&&(i=(t.static?"s":"i")+t.kind),r==="iget"&&i==="iset"||r==="iset"&&i==="iget"||r==="sget"&&i==="sset"||r==="sset"&&i==="sget"?(e[n]="true",!1):r?!0:(e[n]=i,!1)}function xT(e,t){var n=e.computed,r=e.key;return!n&&(r.type==="Identifier"&&r.name===t||r.type==="Literal"&&r.value===t)}nt.parseExportAllDeclaration=function(e,t){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(e.exported=this.parseModuleExportName(),this.checkExport(t,e.exported,this.lastTokStart)):e.exported=null),this.expectContextual("from"),this.type!==N.string&&this.unexpected(),e.source=this.parseExprAtom(),this.semicolon(),this.finishNode(e,"ExportAllDeclaration")};nt.parseExport=function(e,t){if(this.next(),this.eat(N.star))return this.parseExportAllDeclaration(e,t);if(this.eat(N._default))return this.checkExport(t,"default",this.lastTokStart),e.declaration=this.parseExportDefaultDeclaration(),this.finishNode(e,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())e.declaration=this.parseExportDeclaration(e),e.declaration.type==="VariableDeclaration"?this.checkVariableExport(t,e.declaration.declarations):this.checkExport(t,e.declaration.id,e.declaration.id.start),e.specifiers=[],e.source=null;else{if(e.declaration=null,e.specifiers=this.parseExportSpecifiers(t),this.eatContextual("from"))this.type!==N.string&&this.unexpected(),e.source=this.parseExprAtom();else{for(var n=0,r=e.specifiers;n<r.length;n+=1){var i=r[n];this.checkUnreserved(i.local),this.checkLocalExport(i.local),i.local.type==="Literal"&&this.raise(i.local.start,"A string literal cannot be used as an exported binding without `from`.")}e.source=null}this.semicolon()}return this.finishNode(e,"ExportNamedDeclaration")};nt.parseExportDeclaration=function(e){return this.parseStatement(null)};nt.parseExportDefaultDeclaration=function(){var e;if(this.type===N._function||(e=this.isAsyncFunction())){var t=this.startNode();return this.next(),e&&this.next(),this.parseFunction(t,zg|ere,!1,e)}else if(this.type===N._class){var n=this.startNode();return this.parseClass(n,"nullableID")}else{var r=this.parseMaybeAssign();return this.semicolon(),r}};nt.checkExport=function(e,t,n){e&&(typeof t!="string"&&(t=t.type==="Identifier"?t.name:t.value),K_(e,t)&&this.raiseRecoverable(n,"Duplicate export '"+t+"'"),e[t]=!0)};nt.checkPatternExport=function(e,t){var n=t.type;if(n==="Identifier")this.checkExport(e,t,t.start);else if(n==="ObjectPattern")for(var r=0,i=t.properties;r<i.length;r+=1){var s=i[r];this.checkPatternExport(e,s)}else if(n==="ArrayPattern")for(var o=0,a=t.elements;o<a.length;o+=1){var u=a[o];u&&this.checkPatternExport(e,u)}else n==="Property"?this.checkPatternExport(e,t.value):n==="AssignmentPattern"?this.checkPatternExport(e,t.left):n==="RestElement"&&this.checkPatternExport(e,t.argument)};nt.checkVariableExport=function(e,t){if(e)for(var n=0,r=t;n<r.length;n+=1){var i=r[n];this.checkPatternExport(e,i.id)}};nt.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};nt.parseExportSpecifier=function(e){var t=this.startNode();return t.local=this.parseModuleExportName(),t.exported=this.eatContextual("as")?this.parseModuleExportName():t.local,this.checkExport(e,t.exported,t.exported.start),this.finishNode(t,"ExportSpecifier")};nt.parseExportSpecifiers=function(e){var t=[],n=!0;for(this.expect(N.braceL);!this.eat(N.braceR);){if(n)n=!1;else if(this.expect(N.comma),this.afterTrailingComma(N.braceR))break;t.push(this.parseExportSpecifier(e))}return t};nt.parseImport=function(e){return this.next(),this.type===N.string?(e.specifiers=d7e,e.source=this.parseExprAtom()):(e.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),e.source=this.type===N.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(e,"ImportDeclaration")};nt.parseImportSpecifier=function(){var e=this.startNode();return e.imported=this.parseModuleExportName(),this.eatContextual("as")?e.local=this.parseIdent():(this.checkUnreserved(e.imported),e.local=e.imported),this.checkLValSimple(e.local,Kl),this.finishNode(e,"ImportSpecifier")};nt.parseImportDefaultSpecifier=function(){var e=this.startNode();return e.local=this.parseIdent(),this.checkLValSimple(e.local,Kl),this.finishNode(e,"ImportDefaultSpecifier")};nt.parseImportNamespaceSpecifier=function(){var e=this.startNode();return this.next(),this.expectContextual("as"),e.local=this.parseIdent(),this.checkLValSimple(e.local,Kl),this.finishNode(e,"ImportNamespaceSpecifier")};nt.parseImportSpecifiers=function(){var e=[],t=!0;if(this.type===N.name&&(e.push(this.parseImportDefaultSpecifier()),!this.eat(N.comma)))return e;if(this.type===N.star)return e.push(this.parseImportNamespaceSpecifier()),e;for(this.expect(N.braceL);!this.eat(N.braceR);){if(t)t=!1;else if(this.expect(N.comma),this.afterTrailingComma(N.braceR))break;e.push(this.parseImportSpecifier())}return e};nt.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===N.string){var e=this.parseLiteral(this.value);return a7e.test(e.value)&&this.raise(e.start,"An export name cannot include a lone surrogate."),e}return this.parseIdent(!0)};nt.adaptDirectivePrologue=function(e){for(var t=0;t<e.length&&this.isDirectiveCandidate(e[t]);++t)e[t].directive=e[t].expression.raw.slice(1,-1)};nt.isDirectiveCandidate=function(e){return this.options.ecmaVersion>=5&&e.type==="ExpressionStatement"&&e.expression.type==="Literal"&&typeof e.expression.value=="string"&&(this.input[e.start]==='"'||this.input[e.start]==="'")};var ea=ti.prototype;ea.toAssignable=function(e,t,n){if(this.options.ecmaVersion>=6&&e)switch(e.type){case"Identifier":this.inAsync&&e.name==="await"&&this.raise(e.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":e.type="ObjectPattern",n&&this.checkPatternErrors(n,!0);for(var r=0,i=e.properties;r<i.length;r+=1){var s=i[r];this.toAssignable(s,t),s.type==="RestElement"&&(s.argument.type==="ArrayPattern"||s.argument.type==="ObjectPattern")&&this.raise(s.argument.start,"Unexpected token")}break;case"Property":e.kind!=="init"&&this.raise(e.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(e.value,t);break;case"ArrayExpression":e.type="ArrayPattern",n&&this.checkPatternErrors(n,!0),this.toAssignableList(e.elements,t);break;case"SpreadElement":e.type="RestElement",this.toAssignable(e.argument,t),e.argument.type==="AssignmentPattern"&&this.raise(e.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":e.operator!=="="&&this.raise(e.left.end,"Only '=' operator can be used for specifying default value."),e.type="AssignmentPattern",delete e.operator,this.toAssignable(e.left,t);break;case"ParenthesizedExpression":this.toAssignable(e.expression,t,n);break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!t)break;default:this.raise(e.start,"Assigning to rvalue")}else n&&this.checkPatternErrors(n,!0);return e};ea.toAssignableList=function(e,t){for(var n=e.length,r=0;r<n;r++){var i=e[r];i&&this.toAssignable(i,t)}if(n){var s=e[n-1];this.options.ecmaVersion===6&&t&&s&&s.type==="RestElement"&&s.argument.type!=="Identifier"&&this.unexpected(s.argument.start)}return e};ea.parseSpread=function(e){var t=this.startNode();return this.next(),t.argument=this.parseMaybeAssign(!1,e),this.finishNode(t,"SpreadElement")};ea.parseRestBinding=function(){var e=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==N.name&&this.unexpected(),e.argument=this.parseBindingAtom(),this.finishNode(e,"RestElement")};ea.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case N.bracketL:var e=this.startNode();return this.next(),e.elements=this.parseBindingList(N.bracketR,!0,!0),this.finishNode(e,"ArrayPattern");case N.braceL:return this.parseObj(!0)}return this.parseIdent()};ea.parseBindingList=function(e,t,n,r){for(var i=[],s=!0;!this.eat(e);)if(s?s=!1:this.expect(N.comma),t&&this.type===N.comma)i.push(null);else{if(n&&this.afterTrailingComma(e))break;if(this.type===N.ellipsis){var o=this.parseRestBinding();this.parseBindingListItem(o),i.push(o),this.type===N.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(e);break}else i.push(this.parseAssignableListItem(r))}return i};ea.parseAssignableListItem=function(e){var t=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(t),t};ea.parseBindingListItem=function(e){return e};ea.parseMaybeDefault=function(e,t,n){if(n=n||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(N.eq))return n;var r=this.startNodeAt(e,t);return r.left=n,r.right=this.parseMaybeAssign(),this.finishNode(r,"AssignmentPattern")};ea.checkLValSimple=function(e,t,n){t===void 0&&(t=IT);var r=t!==IT;switch(e.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(e.name)&&this.raiseRecoverable(e.start,(r?"Binding ":"Assigning to ")+e.name+" in strict mode"),r&&(t===Kl&&e.name==="let"&&this.raiseRecoverable(e.start,"let is disallowed as a lexically bound name"),n&&(K_(n,e.name)&&this.raiseRecoverable(e.start,"Argument name clash"),n[e.name]=!0),t!==Zne&&this.declareName(e.name,t,e.start));break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":r&&this.raiseRecoverable(e.start,"Binding member expression");break;case"ParenthesizedExpression":return r&&this.raiseRecoverable(e.start,"Binding parenthesized expression"),this.checkLValSimple(e.expression,t,n);default:this.raise(e.start,(r?"Binding":"Assigning to")+" rvalue")}};ea.checkLValPattern=function(e,t,n){switch(t===void 0&&(t=IT),e.type){case"ObjectPattern":for(var r=0,i=e.properties;r<i.length;r+=1){var s=i[r];this.checkLValInnerPattern(s,t,n)}break;case"ArrayPattern":for(var o=0,a=e.elements;o<a.length;o+=1){var u=a[o];u&&this.checkLValInnerPattern(u,t,n)}break;default:this.checkLValSimple(e,t,n)}};ea.checkLValInnerPattern=function(e,t,n){switch(t===void 0&&(t=IT),e.type){case"Property":this.checkLValInnerPattern(e.value,t,n);break;case"AssignmentPattern":this.checkLValPattern(e.left,t,n);break;case"RestElement":this.checkLValPattern(e.argument,t,n);break;default:this.checkLValPattern(e,t,n)}};var oa=function(t,n,r,i,s){this.token=t,this.isExpr=!!n,this.preserveSpace=!!r,this.override=i,this.generator=!!s},lr={b_stat:new oa("{",!1),b_expr:new oa("{",!0),b_tmpl:new oa("${",!1),p_stat:new oa("(",!1),p_expr:new oa("(",!0),q_tmpl:new oa("`",!0,!0,function(e){return e.tryReadTemplateToken()}),f_stat:new oa("function",!1),f_expr:new oa("function",!0),f_expr_gen:new oa("function",!0,!1,null,!0),f_gen:new oa("function",!1,!1,null,!0)},Qm=ti.prototype;Qm.initialContext=function(){return[lr.b_stat]};Qm.curContext=function(){return this.context[this.context.length-1]};Qm.braceIsBlock=function(e){var t=this.curContext();return t===lr.f_expr||t===lr.f_stat?!0:e===N.colon&&(t===lr.b_stat||t===lr.b_expr)?!t.isExpr:e===N._return||e===N.name&&this.exprAllowed?Zo.test(this.input.slice(this.lastTokEnd,this.start)):e===N._else||e===N.semi||e===N.eof||e===N.parenR||e===N.arrow?!0:e===N.braceL?t===lr.b_stat:e===N._var||e===N._const||e===N.name?!1:!this.exprAllowed};Qm.inGeneratorContext=function(){for(var e=this.context.length-1;e>=1;e--){var t=this.context[e];if(t.token==="function")return t.generator}return!1};Qm.updateContext=function(e){var t,n=this.type;n.keyword&&e===N.dot?this.exprAllowed=!1:(t=n.updateContext)?t.call(this,e):this.exprAllowed=n.beforeExpr};Qm.overrideContext=function(e){this.curContext()!==e&&(this.context[this.context.length-1]=e)};N.parenR.updateContext=N.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var e=this.context.pop();e===lr.b_stat&&this.curContext().token==="function"&&(e=this.context.pop()),this.exprAllowed=!e.isExpr};N.braceL.updateContext=function(e){this.context.push(this.braceIsBlock(e)?lr.b_stat:lr.b_expr),this.exprAllowed=!0};N.dollarBraceL.updateContext=function(){this.context.push(lr.b_tmpl),this.exprAllowed=!0};N.parenL.updateContext=function(e){var t=e===N._if||e===N._for||e===N._with||e===N._while;this.context.push(t?lr.p_stat:lr.p_expr),this.exprAllowed=!0};N.incDec.updateContext=function(){};N._function.updateContext=N._class.updateContext=function(e){e.beforeExpr&&e!==N._else&&!(e===N.semi&&this.curContext()!==lr.p_stat)&&!(e===N._return&&Zo.test(this.input.slice(this.lastTokEnd,this.start)))&&!((e===N.colon||e===N.braceL)&&this.curContext()===lr.b_stat)?this.context.push(lr.f_expr):this.context.push(lr.f_stat),this.exprAllowed=!1};N.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0};N.backQuote.updateContext=function(){this.curContext()===lr.q_tmpl?this.context.pop():this.context.push(lr.q_tmpl),this.exprAllowed=!1};N.star.updateContext=function(e){if(e===N._function){var t=this.context.length-1;this.context[t]===lr.f_expr?this.context[t]=lr.f_expr_gen:this.context[t]=lr.f_gen}this.exprAllowed=!0};N.name.updateContext=function(e){var t=!1;this.options.ecmaVersion>=6&&e!==N.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(t=!0),this.exprAllowed=t};var vt=ti.prototype;vt.checkPropClash=function(e,t,n){if(!(this.options.ecmaVersion>=9&&e.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(e.computed||e.method||e.shorthand))){var r=e.key,i;switch(r.type){case"Identifier":i=r.name;break;case"Literal":i=String(r.value);break;default:return}var s=e.kind;if(this.options.ecmaVersion>=6){i==="__proto__"&&s==="init"&&(t.proto&&(n?n.doubleProto<0&&(n.doubleProto=r.start):this.raiseRecoverable(r.start,"Redefinition of __proto__ property")),t.proto=!0);return}i="$"+i;var o=t[i];if(o){var a;s==="init"?a=this.strict&&o.init||o.get||o.set:a=o.init||o[s],a&&this.raiseRecoverable(r.start,"Redefinition of property")}else o=t[i]={init:!1,get:!1,set:!1};o[s]=!0}};vt.parseExpression=function(e,t){var n=this.start,r=this.startLoc,i=this.parseMaybeAssign(e,t);if(this.type===N.comma){var s=this.startNodeAt(n,r);for(s.expressions=[i];this.eat(N.comma);)s.expressions.push(this.parseMaybeAssign(e,t));return this.finishNode(s,"SequenceExpression")}return i};vt.parseMaybeAssign=function(e,t,n){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(e);this.exprAllowed=!1}var r=!1,i=-1,s=-1,o=-1;t?(i=t.parenthesizedAssign,s=t.trailingComma,o=t.doubleProto,t.parenthesizedAssign=t.trailingComma=-1):(t=new YI,r=!0);var a=this.start,u=this.startLoc;(this.type===N.parenL||this.type===N.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=e==="await");var l=this.parseMaybeConditional(e,t);if(n&&(l=n.call(this,l,a,u)),this.type.isAssign){var c=this.startNodeAt(a,u);return c.operator=this.value,this.type===N.eq&&(l=this.toAssignable(l,!1,t)),r||(t.parenthesizedAssign=t.trailingComma=t.doubleProto=-1),t.shorthandAssign>=l.start&&(t.shorthandAssign=-1),this.type===N.eq?this.checkLValPattern(l):this.checkLValSimple(l),c.left=l,this.next(),c.right=this.parseMaybeAssign(e),o>-1&&(t.doubleProto=o),this.finishNode(c,"AssignmentExpression")}else r&&this.checkExpressionErrors(t,!0);return i>-1&&(t.parenthesizedAssign=i),s>-1&&(t.trailingComma=s),l};vt.parseMaybeConditional=function(e,t){var n=this.start,r=this.startLoc,i=this.parseExprOps(e,t);if(this.checkExpressionErrors(t))return i;if(this.eat(N.question)){var s=this.startNodeAt(n,r);return s.test=i,s.consequent=this.parseMaybeAssign(),this.expect(N.colon),s.alternate=this.parseMaybeAssign(e),this.finishNode(s,"ConditionalExpression")}return i};vt.parseExprOps=function(e,t){var n=this.start,r=this.startLoc,i=this.parseMaybeUnary(t,!1,!1,e);return this.checkExpressionErrors(t)||i.start===n&&i.type==="ArrowFunctionExpression"?i:this.parseExprOp(i,n,r,-1,e)};vt.parseExprOp=function(e,t,n,r,i){var s=this.type.binop;if(s!=null&&(!i||this.type!==N._in)&&s>r){var o=this.type===N.logicalOR||this.type===N.logicalAND,a=this.type===N.coalesce;a&&(s=N.logicalAND.binop);var u=this.value;this.next();var l=this.start,c=this.startLoc,f=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,i),l,c,s,i),d=this.buildBinary(t,n,e,f,u,o||a);return(o&&this.type===N.coalesce||a&&(this.type===N.logicalOR||this.type===N.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(d,t,n,r,i)}return e};vt.buildBinary=function(e,t,n,r,i,s){r.type==="PrivateIdentifier"&&this.raise(r.start,"Private identifier can only be left side of binary expression");var o=this.startNodeAt(e,t);return o.left=n,o.operator=i,o.right=r,this.finishNode(o,s?"LogicalExpression":"BinaryExpression")};vt.parseMaybeUnary=function(e,t,n,r){var i=this.start,s=this.startLoc,o;if(this.isContextual("await")&&this.canAwait)o=this.parseAwait(r),t=!0;else if(this.type.prefix){var a=this.startNode(),u=this.type===N.incDec;a.operator=this.value,a.prefix=!0,this.next(),a.argument=this.parseMaybeUnary(null,!0,u,r),this.checkExpressionErrors(e,!0),u?this.checkLValSimple(a.argument):this.strict&&a.operator==="delete"&&a.argument.type==="Identifier"?this.raiseRecoverable(a.start,"Deleting local variable in strict mode"):a.operator==="delete"&&tre(a.argument)?this.raiseRecoverable(a.start,"Private fields can not be deleted"):t=!0,o=this.finishNode(a,u?"UpdateExpression":"UnaryExpression")}else if(!t&&this.type===N.privateId)(r||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),o=this.parsePrivateIdent(),this.type!==N._in&&this.unexpected();else{if(o=this.parseExprSubscripts(e,r),this.checkExpressionErrors(e))return o;for(;this.type.postfix&&!this.canInsertSemicolon();){var l=this.startNodeAt(i,s);l.operator=this.value,l.prefix=!1,l.argument=o,this.checkLValSimple(o),this.next(),o=this.finishNode(l,"UpdateExpression")}}if(!n&&this.eat(N.starstar))if(t)this.unexpected(this.lastTokStart);else return this.buildBinary(i,s,o,this.parseMaybeUnary(null,!1,!1,r),"**",!1);else return o};function tre(e){return e.type==="MemberExpression"&&e.property.type==="PrivateIdentifier"||e.type==="ChainExpression"&&tre(e.expression)}vt.parseExprSubscripts=function(e,t){var n=this.start,r=this.startLoc,i=this.parseExprAtom(e,t);if(i.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return i;var s=this.parseSubscripts(i,n,r,!1,t);return e&&s.type==="MemberExpression"&&(e.parenthesizedAssign>=s.start&&(e.parenthesizedAssign=-1),e.parenthesizedBind>=s.start&&(e.parenthesizedBind=-1),e.trailingComma>=s.start&&(e.trailingComma=-1)),s};vt.parseSubscripts=function(e,t,n,r,i){for(var s=this.options.ecmaVersion>=8&&e.type==="Identifier"&&e.name==="async"&&this.lastTokEnd===e.end&&!this.canInsertSemicolon()&&e.end-e.start===5&&this.potentialArrowAt===e.start,o=!1;;){var a=this.parseSubscript(e,t,n,r,s,o,i);if(a.optional&&(o=!0),a===e||a.type==="ArrowFunctionExpression"){if(o){var u=this.startNodeAt(t,n);u.expression=a,a=this.finishNode(u,"ChainExpression")}return a}e=a}};vt.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(N.arrow)};vt.parseSubscriptAsyncArrow=function(e,t,n,r){return this.parseArrowExpression(this.startNodeAt(e,t),n,!0,r)};vt.parseSubscript=function(e,t,n,r,i,s,o){var a=this.options.ecmaVersion>=11,u=a&&this.eat(N.questionDot);r&&u&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var l=this.eat(N.bracketL);if(l||u&&this.type!==N.parenL&&this.type!==N.backQuote||this.eat(N.dot)){var c=this.startNodeAt(t,n);c.object=e,l?(c.property=this.parseExpression(),this.expect(N.bracketR)):this.type===N.privateId&&e.type!=="Super"?c.property=this.parsePrivateIdent():c.property=this.parseIdent(this.options.allowReserved!=="never"),c.computed=!!l,a&&(c.optional=u),e=this.finishNode(c,"MemberExpression")}else if(!r&&this.eat(N.parenL)){var f=new YI,d=this.yieldPos,h=this.awaitPos,p=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var m=this.parseExprList(N.parenR,this.options.ecmaVersion>=8,!1,f);if(i&&!u&&this.shouldParseAsyncArrow())return this.checkPatternErrors(f,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=d,this.awaitPos=h,this.awaitIdentPos=p,this.parseSubscriptAsyncArrow(t,n,m,o);this.checkExpressionErrors(f,!0),this.yieldPos=d||this.yieldPos,this.awaitPos=h||this.awaitPos,this.awaitIdentPos=p||this.awaitIdentPos;var y=this.startNodeAt(t,n);y.callee=e,y.arguments=m,a&&(y.optional=u),e=this.finishNode(y,"CallExpression")}else if(this.type===N.backQuote){(u||s)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var g=this.startNodeAt(t,n);g.tag=e,g.quasi=this.parseTemplate({isTagged:!0}),e=this.finishNode(g,"TaggedTemplateExpression")}return e};vt.parseExprAtom=function(e,t,n){this.type===N.slash&&this.readRegexp();var r,i=this.potentialArrowAt===this.start;switch(this.type){case N._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),r=this.startNode(),this.next(),this.type===N.parenL&&!this.allowDirectSuper&&this.raise(r.start,"super() call outside constructor of a subclass"),this.type!==N.dot&&this.type!==N.bracketL&&this.type!==N.parenL&&this.unexpected(),this.finishNode(r,"Super");case N._this:return r=this.startNode(),this.next(),this.finishNode(r,"ThisExpression");case N.name:var s=this.start,o=this.startLoc,a=this.containsEsc,u=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!a&&u.name==="async"&&!this.canInsertSemicolon()&&this.eat(N._function))return this.overrideContext(lr.f_expr),this.parseFunction(this.startNodeAt(s,o),0,!1,!0,t);if(i&&!this.canInsertSemicolon()){if(this.eat(N.arrow))return this.parseArrowExpression(this.startNodeAt(s,o),[u],!1,t);if(this.options.ecmaVersion>=8&&u.name==="async"&&this.type===N.name&&!a&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return u=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(N.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(s,o),[u],!0,t)}return u;case N.regexp:var l=this.value;return r=this.parseLiteral(l.value),r.regex={pattern:l.pattern,flags:l.flags},r;case N.num:case N.string:return this.parseLiteral(this.value);case N._null:case N._true:case N._false:return r=this.startNode(),r.value=this.type===N._null?null:this.type===N._true,r.raw=this.type.keyword,this.next(),this.finishNode(r,"Literal");case N.parenL:var c=this.start,f=this.parseParenAndDistinguishExpression(i,t);return e&&(e.parenthesizedAssign<0&&!this.isSimpleAssignTarget(f)&&(e.parenthesizedAssign=c),e.parenthesizedBind<0&&(e.parenthesizedBind=c)),f;case N.bracketL:return r=this.startNode(),this.next(),r.elements=this.parseExprList(N.bracketR,!0,!0,e),this.finishNode(r,"ArrayExpression");case N.braceL:return this.overrideContext(lr.b_expr),this.parseObj(!1,e);case N._function:return r=this.startNode(),this.next(),this.parseFunction(r,0);case N._class:return this.parseClass(this.startNode(),!1);case N._new:return this.parseNew();case N.backQuote:return this.parseTemplate();case N._import:return this.options.ecmaVersion>=11?this.parseExprImport(n):this.unexpected();default:return this.parseExprAtomDefault()}};vt.parseExprAtomDefault=function(){this.unexpected()};vt.parseExprImport=function(e){var t=this.startNode();this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import");var n=this.parseIdent(!0);if(this.type===N.parenL&&!e)return this.parseDynamicImport(t);if(this.type===N.dot)return t.meta=n,this.parseImportMeta(t);this.unexpected()};vt.parseDynamicImport=function(e){if(this.next(),e.source=this.parseMaybeAssign(),!this.eat(N.parenR)){var t=this.start;this.eat(N.comma)&&this.eat(N.parenR)?this.raiseRecoverable(t,"Trailing comma is not allowed in import()"):this.unexpected(t)}return this.finishNode(e,"ImportExpression")};vt.parseImportMeta=function(e){this.next();var t=this.containsEsc;return e.property=this.parseIdent(!0),e.property.name!=="meta"&&this.raiseRecoverable(e.property.start,"The only valid meta property for import is 'import.meta'"),t&&this.raiseRecoverable(e.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(e.start,"Cannot use 'import.meta' outside a module"),this.finishNode(e,"MetaProperty")};vt.parseLiteral=function(e){var t=this.startNode();return t.value=e,t.raw=this.input.slice(this.start,this.end),t.raw.charCodeAt(t.raw.length-1)===110&&(t.bigint=t.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(t,"Literal")};vt.parseParenExpression=function(){this.expect(N.parenL);var e=this.parseExpression();return this.expect(N.parenR),e};vt.shouldParseArrow=function(e){return!this.canInsertSemicolon()};vt.parseParenAndDistinguishExpression=function(e,t){var n=this.start,r=this.startLoc,i,s=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var o=this.start,a=this.startLoc,u=[],l=!0,c=!1,f=new YI,d=this.yieldPos,h=this.awaitPos,p;for(this.yieldPos=0,this.awaitPos=0;this.type!==N.parenR;)if(l?l=!1:this.expect(N.comma),s&&this.afterTrailingComma(N.parenR,!0)){c=!0;break}else if(this.type===N.ellipsis){p=this.start,u.push(this.parseParenItem(this.parseRestBinding())),this.type===N.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else u.push(this.parseMaybeAssign(!1,f,this.parseParenItem));var m=this.lastTokEnd,y=this.lastTokEndLoc;if(this.expect(N.parenR),e&&this.shouldParseArrow(u)&&this.eat(N.arrow))return this.checkPatternErrors(f,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=d,this.awaitPos=h,this.parseParenArrowList(n,r,u,t);(!u.length||c)&&this.unexpected(this.lastTokStart),p&&this.unexpected(p),this.checkExpressionErrors(f,!0),this.yieldPos=d||this.yieldPos,this.awaitPos=h||this.awaitPos,u.length>1?(i=this.startNodeAt(o,a),i.expressions=u,this.finishNodeAt(i,"SequenceExpression",m,y)):i=u[0]}else i=this.parseParenExpression();if(this.options.preserveParens){var g=this.startNodeAt(n,r);return g.expression=i,this.finishNode(g,"ParenthesizedExpression")}else return i};vt.parseParenItem=function(e){return e};vt.parseParenArrowList=function(e,t,n,r){return this.parseArrowExpression(this.startNodeAt(e,t),n,!1,r)};var p7e=[];vt.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var e=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===N.dot){var t=this.startNodeAt(e.start,e.startLoc);t.name="new",e.meta=this.finishNode(t,"Identifier"),this.next();var n=this.containsEsc;return e.property=this.parseIdent(!0),e.property.name!=="target"&&this.raiseRecoverable(e.property.start,"The only valid meta property for new is 'new.target'"),n&&this.raiseRecoverable(e.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(e.start,"'new.target' can only be used in functions and class static block"),this.finishNode(e,"MetaProperty")}var r=this.start,i=this.startLoc;return e.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),r,i,!0,!1),this.eat(N.parenL)?e.arguments=this.parseExprList(N.parenR,this.options.ecmaVersion>=8,!1):e.arguments=p7e,this.finishNode(e,"NewExpression")};vt.parseTemplateElement=function(e){var t=e.isTagged,n=this.startNode();return this.type===N.invalidTemplate?(t||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),n.value={raw:this.value,cooked:null}):n.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),n.tail=this.type===N.backQuote,this.finishNode(n,"TemplateElement")};vt.parseTemplate=function(e){e===void 0&&(e={});var t=e.isTagged;t===void 0&&(t=!1);var n=this.startNode();this.next(),n.expressions=[];var r=this.parseTemplateElement({isTagged:t});for(n.quasis=[r];!r.tail;)this.type===N.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(N.dollarBraceL),n.expressions.push(this.parseExpression()),this.expect(N.braceR),n.quasis.push(r=this.parseTemplateElement({isTagged:t}));return this.next(),this.finishNode(n,"TemplateLiteral")};vt.isAsyncProp=function(e){return!e.computed&&e.key.type==="Identifier"&&e.key.name==="async"&&(this.type===N.name||this.type===N.num||this.type===N.string||this.type===N.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===N.star)&&!Zo.test(this.input.slice(this.lastTokEnd,this.start))};vt.parseObj=function(e,t){var n=this.startNode(),r=!0,i={};for(n.properties=[],this.next();!this.eat(N.braceR);){if(r)r=!1;else if(this.expect(N.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(N.braceR))break;var s=this.parseProperty(e,t);e||this.checkPropClash(s,i,t),n.properties.push(s)}return this.finishNode(n,e?"ObjectPattern":"ObjectExpression")};vt.parseProperty=function(e,t){var n=this.startNode(),r,i,s,o;if(this.options.ecmaVersion>=9&&this.eat(N.ellipsis))return e?(n.argument=this.parseIdent(!1),this.type===N.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(n,"RestElement")):(n.argument=this.parseMaybeAssign(!1,t),this.type===N.comma&&t&&t.trailingComma<0&&(t.trailingComma=this.start),this.finishNode(n,"SpreadElement"));this.options.ecmaVersion>=6&&(n.method=!1,n.shorthand=!1,(e||t)&&(s=this.start,o=this.startLoc),e||(r=this.eat(N.star)));var a=this.containsEsc;return this.parsePropertyName(n),!e&&!a&&this.options.ecmaVersion>=8&&!r&&this.isAsyncProp(n)?(i=!0,r=this.options.ecmaVersion>=9&&this.eat(N.star),this.parsePropertyName(n)):i=!1,this.parsePropertyValue(n,e,r,i,s,o,t,a),this.finishNode(n,"Property")};vt.parseGetterSetter=function(e){e.kind=e.key.name,this.parsePropertyName(e),e.value=this.parseMethod(!1);var t=e.kind==="get"?0:1;if(e.value.params.length!==t){var n=e.value.start;e.kind==="get"?this.raiseRecoverable(n,"getter should have no params"):this.raiseRecoverable(n,"setter should have exactly one param")}else e.kind==="set"&&e.value.params[0].type==="RestElement"&&this.raiseRecoverable(e.value.params[0].start,"Setter cannot use rest params")};vt.parsePropertyValue=function(e,t,n,r,i,s,o,a){(n||r)&&this.type===N.colon&&this.unexpected(),this.eat(N.colon)?(e.value=t?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,o),e.kind="init"):this.options.ecmaVersion>=6&&this.type===N.parenL?(t&&this.unexpected(),e.kind="init",e.method=!0,e.value=this.parseMethod(n,r)):!t&&!a&&this.options.ecmaVersion>=5&&!e.computed&&e.key.type==="Identifier"&&(e.key.name==="get"||e.key.name==="set")&&this.type!==N.comma&&this.type!==N.braceR&&this.type!==N.eq?((n||r)&&this.unexpected(),this.parseGetterSetter(e)):this.options.ecmaVersion>=6&&!e.computed&&e.key.type==="Identifier"?((n||r)&&this.unexpected(),this.checkUnreserved(e.key),e.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=i),e.kind="init",t?e.value=this.parseMaybeDefault(i,s,this.copyNode(e.key)):this.type===N.eq&&o?(o.shorthandAssign<0&&(o.shorthandAssign=this.start),e.value=this.parseMaybeDefault(i,s,this.copyNode(e.key))):e.value=this.copyNode(e.key),e.shorthand=!0):this.unexpected()};vt.parsePropertyName=function(e){if(this.options.ecmaVersion>=6){if(this.eat(N.bracketL))return e.computed=!0,e.key=this.parseMaybeAssign(),this.expect(N.bracketR),e.key;e.computed=!1}return e.key=this.type===N.num||this.type===N.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};vt.initFunction=function(e){e.id=null,this.options.ecmaVersion>=6&&(e.generator=e.expression=!1),this.options.ecmaVersion>=8&&(e.async=!1)};vt.parseMethod=function(e,t,n){var r=this.startNode(),i=this.yieldPos,s=this.awaitPos,o=this.awaitIdentPos;return this.initFunction(r),this.options.ecmaVersion>=6&&(r.generator=e),this.options.ecmaVersion>=8&&(r.async=!!t),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(c3(t,r.generator)|u3|(n?Qne:0)),this.expect(N.parenL),r.params=this.parseBindingList(N.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(r,!1,!0,!1),this.yieldPos=i,this.awaitPos=s,this.awaitIdentPos=o,this.finishNode(r,"FunctionExpression")};vt.parseArrowExpression=function(e,t,n,r){var i=this.yieldPos,s=this.awaitPos,o=this.awaitIdentPos;return this.enterScope(c3(n,!1)|Yne),this.initFunction(e),this.options.ecmaVersion>=8&&(e.async=!!n),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,e.params=this.toAssignableList(t,!0),this.parseFunctionBody(e,!0,!1,r),this.yieldPos=i,this.awaitPos=s,this.awaitIdentPos=o,this.finishNode(e,"ArrowFunctionExpression")};vt.parseFunctionBody=function(e,t,n,r){var i=t&&this.type!==N.braceL,s=this.strict,o=!1;if(i)e.body=this.parseMaybeAssign(r),e.expression=!0,this.checkParams(e,!1);else{var a=this.options.ecmaVersion>=7&&!this.isSimpleParamList(e.params);(!s||a)&&(o=this.strictDirective(this.end),o&&a&&this.raiseRecoverable(e.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var u=this.labels;this.labels=[],o&&(this.strict=!0),this.checkParams(e,!s&&!o&&!t&&!n&&this.isSimpleParamList(e.params)),this.strict&&e.id&&this.checkLValSimple(e.id,Zne),e.body=this.parseBlock(!1,void 0,o&&!s),e.expression=!1,this.adaptDirectivePrologue(e.body.body),this.labels=u}this.exitScope()};vt.isSimpleParamList=function(e){for(var t=0,n=e;t<n.length;t+=1){var r=n[t];if(r.type!=="Identifier")return!1}return!0};vt.checkParams=function(e,t){for(var n=Object.create(null),r=0,i=e.params;r<i.length;r+=1){var s=i[r];this.checkLValInnerPattern(s,f3,t?null:n)}};vt.parseExprList=function(e,t,n,r){for(var i=[],s=!0;!this.eat(e);){if(s)s=!1;else if(this.expect(N.comma),t&&this.afterTrailingComma(e))break;var o=void 0;n&&this.type===N.comma?o=null:this.type===N.ellipsis?(o=this.parseSpread(r),r&&this.type===N.comma&&r.trailingComma<0&&(r.trailingComma=this.start)):o=this.parseMaybeAssign(!1,r),i.push(o)}return i};vt.checkUnreserved=function(e){var t=e.start,n=e.end,r=e.name;if(this.inGenerator&&r==="yield"&&this.raiseRecoverable(t,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&r==="await"&&this.raiseRecoverable(t,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&r==="arguments"&&this.raiseRecoverable(t,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(r==="arguments"||r==="await")&&this.raise(t,"Cannot use "+r+" in class static initialization block"),this.keywords.test(r)&&this.raise(t,"Unexpected keyword '"+r+"'"),!(this.options.ecmaVersion<6&&this.input.slice(t,n).indexOf("\\")!==-1)){var i=this.strict?this.reservedWordsStrict:this.reservedWords;i.test(r)&&(!this.inAsync&&r==="await"&&this.raiseRecoverable(t,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(t,"The keyword '"+r+"' is reserved"))}};vt.parseIdent=function(e){var t=this.parseIdentNode();return this.next(!!e),this.finishNode(t,"Identifier"),e||(this.checkUnreserved(t),t.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=t.start)),t};vt.parseIdentNode=function(){var e=this.startNode();return this.type===N.name?e.name=this.value:this.type.keyword?(e.name=this.type.keyword,(e.name==="class"||e.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=N.name):this.unexpected(),e};vt.parsePrivateIdent=function(){var e=this.startNode();return this.type===N.privateId?e.name=this.value:this.unexpected(),this.next(),this.finishNode(e,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(e.start,"Private field '#"+e.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(e)),e};vt.parseYield=function(e){this.yieldPos||(this.yieldPos=this.start);var t=this.startNode();return this.next(),this.type===N.semi||this.canInsertSemicolon()||this.type!==N.star&&!this.type.startsExpr?(t.delegate=!1,t.argument=null):(t.delegate=this.eat(N.star),t.argument=this.parseMaybeAssign(e)),this.finishNode(t,"YieldExpression")};vt.parseAwait=function(e){this.awaitPos||(this.awaitPos=this.start);var t=this.startNode();return this.next(),t.argument=this.parseMaybeUnary(null,!0,!1,e),this.finishNode(t,"AwaitExpression")};var CT=ti.prototype;CT.raise=function(e,t){var n=qne(this.input,e);t+=" ("+n.line+":"+n.column+")";var r=new SyntaxError(t);throw r.pos=e,r.loc=n,r.raisedAt=this.pos,r};CT.raiseRecoverable=CT.raise;CT.curPosition=function(){if(this.options.locations)return new Fy(this.curLine,this.pos-this.lineStart)};var xf=ti.prototype,m7e=function(t){this.flags=t,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};xf.enterScope=function(e){this.scopeStack.push(new m7e(e))};xf.exitScope=function(){this.scopeStack.pop()};xf.treatFunctionsAsVarInScope=function(e){return e.flags&Km||!this.inModule&&e.flags&By};xf.declareName=function(e,t,n){var r=!1;if(t===Kl){var i=this.currentScope();r=i.lexical.indexOf(e)>-1||i.functions.indexOf(e)>-1||i.var.indexOf(e)>-1,i.lexical.push(e),this.inModule&&i.flags&By&&delete this.undefinedExports[e]}else if(t===Jne){var s=this.currentScope();s.lexical.push(e)}else if(t===Xne){var o=this.currentScope();this.treatFunctionsAsVar?r=o.lexical.indexOf(e)>-1:r=o.lexical.indexOf(e)>-1||o.var.indexOf(e)>-1,o.functions.push(e)}else for(var a=this.scopeStack.length-1;a>=0;--a){var u=this.scopeStack[a];if(u.lexical.indexOf(e)>-1&&!(u.flags&Kne&&u.lexical[0]===e)||!this.treatFunctionsAsVarInScope(u)&&u.functions.indexOf(e)>-1){r=!0;break}if(u.var.push(e),this.inModule&&u.flags&By&&delete this.undefinedExports[e],u.flags&l3)break}r&&this.raiseRecoverable(n,"Identifier '"+e+"' has already been declared")};xf.checkLocalExport=function(e){this.scopeStack[0].lexical.indexOf(e.name)===-1&&this.scopeStack[0].var.indexOf(e.name)===-1&&(this.undefinedExports[e.name]=e)};xf.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};xf.currentVarScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&l3)return t}};xf.currentThisScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&l3&&!(t.flags&Yne))return t}};var KI=function(t,n,r){this.type="",this.start=n,this.end=0,t.options.locations&&(this.loc=new GI(t,r)),t.options.directSourceFile&&(this.sourceFile=t.options.directSourceFile),t.options.ranges&&(this.range=[n,0])},X_=ti.prototype;X_.startNode=function(){return new KI(this,this.start,this.startLoc)};X_.startNodeAt=function(e,t){return new KI(this,e,t)};function nre(e,t,n,r){return e.type=t,e.end=n,this.options.locations&&(e.loc.end=r),this.options.ranges&&(e.range[1]=n),e}X_.finishNode=function(e,t){return nre.call(this,e,t,this.lastTokEnd,this.lastTokEndLoc)};X_.finishNodeAt=function(e,t,n,r){return nre.call(this,e,t,n,r)};X_.copyNode=function(e){var t=new KI(this,e.start,this.startLoc);for(var n in e)t[n]=e[n];return t};var rre="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",ire=rre+" Extended_Pictographic",sre=ire,ore=sre+" EBase EComp EMod EPres ExtPict",are=ore,g7e=are,y7e={9:rre,10:ire,11:sre,12:ore,13:are,14:g7e},_7e="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",v7e={9:"",10:"",11:"",12:"",13:"",14:_7e},vU="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",ure="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",lre=ure+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",cre=lre+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",fre=cre+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",dre=fre+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",b7e=dre+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz",E7e={9:ure,10:lre,11:cre,12:fre,13:dre,14:b7e},hre={};function w7e(e){var t=hre[e]={binary:Ic(y7e[e]+" "+vU),binaryOfStrings:Ic(v7e[e]),nonBinary:{General_Category:Ic(vU),Script:Ic(E7e[e])}};t.nonBinary.Script_Extensions=t.nonBinary.Script,t.nonBinary.gc=t.nonBinary.General_Category,t.nonBinary.sc=t.nonBinary.Script,t.nonBinary.scx=t.nonBinary.Script_Extensions}for(var GA=0,bU=[9,10,11,12,13,14];GA<bU.length;GA+=1){var T7e=bU[GA];w7e(T7e)}var Ye=ti.prototype,$u=function(t){this.parser=t,this.validFlags="gim"+(t.options.ecmaVersion>=6?"uy":"")+(t.options.ecmaVersion>=9?"s":"")+(t.options.ecmaVersion>=13?"d":"")+(t.options.ecmaVersion>=15?"v":""),this.unicodeProperties=hre[t.options.ecmaVersion>=14?14:t.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};$u.prototype.reset=function(t,n,r){var i=r.indexOf("v")!==-1,s=r.indexOf("u")!==-1;this.start=t|0,this.source=n+"",this.flags=r,i&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=s&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=s&&this.parser.options.ecmaVersion>=9)};$u.prototype.raise=function(t){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+t)};$u.prototype.at=function(t,n){n===void 0&&(n=!1);var r=this.source,i=r.length;if(t>=i)return-1;var s=r.charCodeAt(t);if(!(n||this.switchU)||s<=55295||s>=57344||t+1>=i)return s;var o=r.charCodeAt(t+1);return o>=56320&&o<=57343?(s<<10)+o-56613888:s};$u.prototype.nextIndex=function(t,n){n===void 0&&(n=!1);var r=this.source,i=r.length;if(t>=i)return i;var s=r.charCodeAt(t),o;return!(n||this.switchU)||s<=55295||s>=57344||t+1>=i||(o=r.charCodeAt(t+1))<56320||o>57343?t+1:t+2};$u.prototype.current=function(t){return t===void 0&&(t=!1),this.at(this.pos,t)};$u.prototype.lookahead=function(t){return t===void 0&&(t=!1),this.at(this.nextIndex(this.pos,t),t)};$u.prototype.advance=function(t){t===void 0&&(t=!1),this.pos=this.nextIndex(this.pos,t)};$u.prototype.eat=function(t,n){return n===void 0&&(n=!1),this.current(n)===t?(this.advance(n),!0):!1};$u.prototype.eatChars=function(t,n){n===void 0&&(n=!1);for(var r=this.pos,i=0,s=t;i<s.length;i+=1){var o=s[i],a=this.at(r,n);if(a===-1||a!==o)return!1;r=this.nextIndex(r,n)}return this.pos=r,!0};Ye.validateRegExpFlags=function(e){for(var t=e.validFlags,n=e.flags,r=!1,i=!1,s=0;s<n.length;s++){var o=n.charAt(s);t.indexOf(o)===-1&&this.raise(e.start,"Invalid regular expression flag"),n.indexOf(o,s+1)>-1&&this.raise(e.start,"Duplicate regular expression flag"),o==="u"&&(r=!0),o==="v"&&(i=!0)}this.options.ecmaVersion>=15&&r&&i&&this.raise(e.start,"Invalid regular expression flag")};Ye.validateRegExpPattern=function(e){this.regexp_pattern(e),!e.switchN&&this.options.ecmaVersion>=9&&e.groupNames.length>0&&(e.switchN=!0,this.regexp_pattern(e))};Ye.regexp_pattern=function(e){e.pos=0,e.lastIntValue=0,e.lastStringValue="",e.lastAssertionIsQuantifiable=!1,e.numCapturingParens=0,e.maxBackReference=0,e.groupNames.length=0,e.backReferenceNames.length=0,this.regexp_disjunction(e),e.pos!==e.source.length&&(e.eat(41)&&e.raise("Unmatched ')'"),(e.eat(93)||e.eat(125))&&e.raise("Lone quantifier brackets")),e.maxBackReference>e.numCapturingParens&&e.raise("Invalid escape");for(var t=0,n=e.backReferenceNames;t<n.length;t+=1){var r=n[t];e.groupNames.indexOf(r)===-1&&e.raise("Invalid named capture referenced")}};Ye.regexp_disjunction=function(e){for(this.regexp_alternative(e);e.eat(124);)this.regexp_alternative(e);this.regexp_eatQuantifier(e,!0)&&e.raise("Nothing to repeat"),e.eat(123)&&e.raise("Lone quantifier brackets")};Ye.regexp_alternative=function(e){for(;e.pos<e.source.length&&this.regexp_eatTerm(e););};Ye.regexp_eatTerm=function(e){return this.regexp_eatAssertion(e)?(e.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(e)&&e.switchU&&e.raise("Invalid quantifier"),!0):(e.switchU?this.regexp_eatAtom(e):this.regexp_eatExtendedAtom(e))?(this.regexp_eatQuantifier(e),!0):!1};Ye.regexp_eatAssertion=function(e){var t=e.pos;if(e.lastAssertionIsQuantifiable=!1,e.eat(94)||e.eat(36))return!0;if(e.eat(92)){if(e.eat(66)||e.eat(98))return!0;e.pos=t}if(e.eat(40)&&e.eat(63)){var n=!1;if(this.options.ecmaVersion>=9&&(n=e.eat(60)),e.eat(61)||e.eat(33))return this.regexp_disjunction(e),e.eat(41)||e.raise("Unterminated group"),e.lastAssertionIsQuantifiable=!n,!0}return e.pos=t,!1};Ye.regexp_eatQuantifier=function(e,t){return t===void 0&&(t=!1),this.regexp_eatQuantifierPrefix(e,t)?(e.eat(63),!0):!1};Ye.regexp_eatQuantifierPrefix=function(e,t){return e.eat(42)||e.eat(43)||e.eat(63)||this.regexp_eatBracedQuantifier(e,t)};Ye.regexp_eatBracedQuantifier=function(e,t){var n=e.pos;if(e.eat(123)){var r=0,i=-1;if(this.regexp_eatDecimalDigits(e)&&(r=e.lastIntValue,e.eat(44)&&this.regexp_eatDecimalDigits(e)&&(i=e.lastIntValue),e.eat(125)))return i!==-1&&i<r&&!t&&e.raise("numbers out of order in {} quantifier"),!0;e.switchU&&!t&&e.raise("Incomplete quantifier"),e.pos=n}return!1};Ye.regexp_eatAtom=function(e){return this.regexp_eatPatternCharacters(e)||e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)};Ye.regexp_eatReverseSolidusAtomEscape=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatAtomEscape(e))return!0;e.pos=t}return!1};Ye.regexp_eatUncapturingGroup=function(e){var t=e.pos;if(e.eat(40)){if(e.eat(63)&&e.eat(58)){if(this.regexp_disjunction(e),e.eat(41))return!0;e.raise("Unterminated group")}e.pos=t}return!1};Ye.regexp_eatCapturingGroup=function(e){if(e.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(e):e.current()===63&&e.raise("Invalid group"),this.regexp_disjunction(e),e.eat(41))return e.numCapturingParens+=1,!0;e.raise("Unterminated group")}return!1};Ye.regexp_eatExtendedAtom=function(e){return e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)||this.regexp_eatInvalidBracedQuantifier(e)||this.regexp_eatExtendedPatternCharacter(e)};Ye.regexp_eatInvalidBracedQuantifier=function(e){return this.regexp_eatBracedQuantifier(e,!0)&&e.raise("Nothing to repeat"),!1};Ye.regexp_eatSyntaxCharacter=function(e){var t=e.current();return pre(t)?(e.lastIntValue=t,e.advance(),!0):!1};function pre(e){return e===36||e>=40&&e<=43||e===46||e===63||e>=91&&e<=94||e>=123&&e<=125}Ye.regexp_eatPatternCharacters=function(e){for(var t=e.pos,n=0;(n=e.current())!==-1&&!pre(n);)e.advance();return e.pos!==t};Ye.regexp_eatExtendedPatternCharacter=function(e){var t=e.current();return t!==-1&&t!==36&&!(t>=40&&t<=43)&&t!==46&&t!==63&&t!==91&&t!==94&&t!==124?(e.advance(),!0):!1};Ye.regexp_groupSpecifier=function(e){if(e.eat(63)){if(this.regexp_eatGroupName(e)){e.groupNames.indexOf(e.lastStringValue)!==-1&&e.raise("Duplicate capture group name"),e.groupNames.push(e.lastStringValue);return}e.raise("Invalid group")}};Ye.regexp_eatGroupName=function(e){if(e.lastStringValue="",e.eat(60)){if(this.regexp_eatRegExpIdentifierName(e)&&e.eat(62))return!0;e.raise("Invalid capture group name")}return!1};Ye.regexp_eatRegExpIdentifierName=function(e){if(e.lastStringValue="",this.regexp_eatRegExpIdentifierStart(e)){for(e.lastStringValue+=af(e.lastIntValue);this.regexp_eatRegExpIdentifierPart(e);)e.lastStringValue+=af(e.lastIntValue);return!0}return!1};Ye.regexp_eatRegExpIdentifierStart=function(e){var t=e.pos,n=this.options.ecmaVersion>=11,r=e.current(n);return e.advance(n),r===92&&this.regexp_eatRegExpUnicodeEscapeSequence(e,n)&&(r=e.lastIntValue),S7e(r)?(e.lastIntValue=r,!0):(e.pos=t,!1)};function S7e(e){return Rl(e,!0)||e===36||e===95}Ye.regexp_eatRegExpIdentifierPart=function(e){var t=e.pos,n=this.options.ecmaVersion>=11,r=e.current(n);return e.advance(n),r===92&&this.regexp_eatRegExpUnicodeEscapeSequence(e,n)&&(r=e.lastIntValue),I7e(r)?(e.lastIntValue=r,!0):(e.pos=t,!1)};function I7e(e){return pm(e,!0)||e===36||e===95||e===8204||e===8205}Ye.regexp_eatAtomEscape=function(e){return this.regexp_eatBackReference(e)||this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)||e.switchN&&this.regexp_eatKGroupName(e)?!0:(e.switchU&&(e.current()===99&&e.raise("Invalid unicode escape"),e.raise("Invalid escape")),!1)};Ye.regexp_eatBackReference=function(e){var t=e.pos;if(this.regexp_eatDecimalEscape(e)){var n=e.lastIntValue;if(e.switchU)return n>e.maxBackReference&&(e.maxBackReference=n),!0;if(n<=e.numCapturingParens)return!0;e.pos=t}return!1};Ye.regexp_eatKGroupName=function(e){if(e.eat(107)){if(this.regexp_eatGroupName(e))return e.backReferenceNames.push(e.lastStringValue),!0;e.raise("Invalid named reference")}return!1};Ye.regexp_eatCharacterEscape=function(e){return this.regexp_eatControlEscape(e)||this.regexp_eatCControlLetter(e)||this.regexp_eatZero(e)||this.regexp_eatHexEscapeSequence(e)||this.regexp_eatRegExpUnicodeEscapeSequence(e,!1)||!e.switchU&&this.regexp_eatLegacyOctalEscapeSequence(e)||this.regexp_eatIdentityEscape(e)};Ye.regexp_eatCControlLetter=function(e){var t=e.pos;if(e.eat(99)){if(this.regexp_eatControlLetter(e))return!0;e.pos=t}return!1};Ye.regexp_eatZero=function(e){return e.current()===48&&!QI(e.lookahead())?(e.lastIntValue=0,e.advance(),!0):!1};Ye.regexp_eatControlEscape=function(e){var t=e.current();return t===116?(e.lastIntValue=9,e.advance(),!0):t===110?(e.lastIntValue=10,e.advance(),!0):t===118?(e.lastIntValue=11,e.advance(),!0):t===102?(e.lastIntValue=12,e.advance(),!0):t===114?(e.lastIntValue=13,e.advance(),!0):!1};Ye.regexp_eatControlLetter=function(e){var t=e.current();return mre(t)?(e.lastIntValue=t%32,e.advance(),!0):!1};function mre(e){return e>=65&&e<=90||e>=97&&e<=122}Ye.regexp_eatRegExpUnicodeEscapeSequence=function(e,t){t===void 0&&(t=!1);var n=e.pos,r=t||e.switchU;if(e.eat(117)){if(this.regexp_eatFixedHexDigits(e,4)){var i=e.lastIntValue;if(r&&i>=55296&&i<=56319){var s=e.pos;if(e.eat(92)&&e.eat(117)&&this.regexp_eatFixedHexDigits(e,4)){var o=e.lastIntValue;if(o>=56320&&o<=57343)return e.lastIntValue=(i-55296)*1024+(o-56320)+65536,!0}e.pos=s,e.lastIntValue=i}return!0}if(r&&e.eat(123)&&this.regexp_eatHexDigits(e)&&e.eat(125)&&x7e(e.lastIntValue))return!0;r&&e.raise("Invalid unicode escape"),e.pos=n}return!1};function x7e(e){return e>=0&&e<=1114111}Ye.regexp_eatIdentityEscape=function(e){if(e.switchU)return this.regexp_eatSyntaxCharacter(e)?!0:e.eat(47)?(e.lastIntValue=47,!0):!1;var t=e.current();return t!==99&&(!e.switchN||t!==107)?(e.lastIntValue=t,e.advance(),!0):!1};Ye.regexp_eatDecimalEscape=function(e){e.lastIntValue=0;var t=e.current();if(t>=49&&t<=57){do e.lastIntValue=10*e.lastIntValue+(t-48),e.advance();while((t=e.current())>=48&&t<=57);return!0}return!1};var gre=0,Nl=1,$o=2;Ye.regexp_eatCharacterClassEscape=function(e){var t=e.current();if(C7e(t))return e.lastIntValue=-1,e.advance(),Nl;var n=!1;if(e.switchU&&this.options.ecmaVersion>=9&&((n=t===80)||t===112)){e.lastIntValue=-1,e.advance();var r;if(e.eat(123)&&(r=this.regexp_eatUnicodePropertyValueExpression(e))&&e.eat(125))return n&&r===$o&&e.raise("Invalid property name"),r;e.raise("Invalid property name")}return gre};function C7e(e){return e===100||e===68||e===115||e===83||e===119||e===87}Ye.regexp_eatUnicodePropertyValueExpression=function(e){var t=e.pos;if(this.regexp_eatUnicodePropertyName(e)&&e.eat(61)){var n=e.lastStringValue;if(this.regexp_eatUnicodePropertyValue(e)){var r=e.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(e,n,r),Nl}}if(e.pos=t,this.regexp_eatLoneUnicodePropertyNameOrValue(e)){var i=e.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(e,i)}return gre};Ye.regexp_validateUnicodePropertyNameAndValue=function(e,t,n){K_(e.unicodeProperties.nonBinary,t)||e.raise("Invalid property name"),e.unicodeProperties.nonBinary[t].test(n)||e.raise("Invalid property value")};Ye.regexp_validateUnicodePropertyNameOrValue=function(e,t){if(e.unicodeProperties.binary.test(t))return Nl;if(e.switchV&&e.unicodeProperties.binaryOfStrings.test(t))return $o;e.raise("Invalid property name")};Ye.regexp_eatUnicodePropertyName=function(e){var t=0;for(e.lastStringValue="";yre(t=e.current());)e.lastStringValue+=af(t),e.advance();return e.lastStringValue!==""};function yre(e){return mre(e)||e===95}Ye.regexp_eatUnicodePropertyValue=function(e){var t=0;for(e.lastStringValue="";A7e(t=e.current());)e.lastStringValue+=af(t),e.advance();return e.lastStringValue!==""};function A7e(e){return yre(e)||QI(e)}Ye.regexp_eatLoneUnicodePropertyNameOrValue=function(e){return this.regexp_eatUnicodePropertyValue(e)};Ye.regexp_eatCharacterClass=function(e){if(e.eat(91)){var t=e.eat(94),n=this.regexp_classContents(e);return e.eat(93)||e.raise("Unterminated character class"),t&&n===$o&&e.raise("Negated character class may contain strings"),!0}return!1};Ye.regexp_classContents=function(e){return e.current()===93?Nl:e.switchV?this.regexp_classSetExpression(e):(this.regexp_nonEmptyClassRanges(e),Nl)};Ye.regexp_nonEmptyClassRanges=function(e){for(;this.regexp_eatClassAtom(e);){var t=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassAtom(e)){var n=e.lastIntValue;e.switchU&&(t===-1||n===-1)&&e.raise("Invalid character class"),t!==-1&&n!==-1&&t>n&&e.raise("Range out of order in character class")}}};Ye.regexp_eatClassAtom=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatClassEscape(e))return!0;if(e.switchU){var n=e.current();(n===99||bre(n))&&e.raise("Invalid class escape"),e.raise("Invalid escape")}e.pos=t}var r=e.current();return r!==93?(e.lastIntValue=r,e.advance(),!0):!1};Ye.regexp_eatClassEscape=function(e){var t=e.pos;if(e.eat(98))return e.lastIntValue=8,!0;if(e.switchU&&e.eat(45))return e.lastIntValue=45,!0;if(!e.switchU&&e.eat(99)){if(this.regexp_eatClassControlLetter(e))return!0;e.pos=t}return this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)};Ye.regexp_classSetExpression=function(e){var t=Nl,n;if(!this.regexp_eatClassSetRange(e))if(n=this.regexp_eatClassSetOperand(e)){n===$o&&(t=$o);for(var r=e.pos;e.eatChars([38,38]);){if(e.current()!==38&&(n=this.regexp_eatClassSetOperand(e))){n!==$o&&(t=Nl);continue}e.raise("Invalid character in character class")}if(r!==e.pos)return t;for(;e.eatChars([45,45]);)this.regexp_eatClassSetOperand(e)||e.raise("Invalid character in character class");if(r!==e.pos)return t}else e.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(e)){if(n=this.regexp_eatClassSetOperand(e),!n)return t;n===$o&&(t=$o)}};Ye.regexp_eatClassSetRange=function(e){var t=e.pos;if(this.regexp_eatClassSetCharacter(e)){var n=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassSetCharacter(e)){var r=e.lastIntValue;return n!==-1&&r!==-1&&n>r&&e.raise("Range out of order in character class"),!0}e.pos=t}return!1};Ye.regexp_eatClassSetOperand=function(e){return this.regexp_eatClassSetCharacter(e)?Nl:this.regexp_eatClassStringDisjunction(e)||this.regexp_eatNestedClass(e)};Ye.regexp_eatNestedClass=function(e){var t=e.pos;if(e.eat(91)){var n=e.eat(94),r=this.regexp_classContents(e);if(e.eat(93))return n&&r===$o&&e.raise("Negated character class may contain strings"),r;e.pos=t}if(e.eat(92)){var i=this.regexp_eatCharacterClassEscape(e);if(i)return i;e.pos=t}return null};Ye.regexp_eatClassStringDisjunction=function(e){var t=e.pos;if(e.eatChars([92,113])){if(e.eat(123)){var n=this.regexp_classStringDisjunctionContents(e);if(e.eat(125))return n}else e.raise("Invalid escape");e.pos=t}return null};Ye.regexp_classStringDisjunctionContents=function(e){for(var t=this.regexp_classString(e);e.eat(124);)this.regexp_classString(e)===$o&&(t=$o);return t};Ye.regexp_classString=function(e){for(var t=0;this.regexp_eatClassSetCharacter(e);)t++;return t===1?Nl:$o};Ye.regexp_eatClassSetCharacter=function(e){var t=e.pos;if(e.eat(92))return this.regexp_eatCharacterEscape(e)||this.regexp_eatClassSetReservedPunctuator(e)?!0:e.eat(98)?(e.lastIntValue=8,!0):(e.pos=t,!1);var n=e.current();return n<0||n===e.lookahead()&&O7e(n)||P7e(n)?!1:(e.advance(),e.lastIntValue=n,!0)};function O7e(e){return e===33||e>=35&&e<=38||e>=42&&e<=44||e===46||e>=58&&e<=64||e===94||e===96||e===126}function P7e(e){return e===40||e===41||e===45||e===47||e>=91&&e<=93||e>=123&&e<=125}Ye.regexp_eatClassSetReservedPunctuator=function(e){var t=e.current();return R7e(t)?(e.lastIntValue=t,e.advance(),!0):!1};function R7e(e){return e===33||e===35||e===37||e===38||e===44||e===45||e>=58&&e<=62||e===64||e===96||e===126}Ye.regexp_eatClassControlLetter=function(e){var t=e.current();return QI(t)||t===95?(e.lastIntValue=t%32,e.advance(),!0):!1};Ye.regexp_eatHexEscapeSequence=function(e){var t=e.pos;if(e.eat(120)){if(this.regexp_eatFixedHexDigits(e,2))return!0;e.switchU&&e.raise("Invalid escape"),e.pos=t}return!1};Ye.regexp_eatDecimalDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;QI(n=e.current());)e.lastIntValue=10*e.lastIntValue+(n-48),e.advance();return e.pos!==t};function QI(e){return e>=48&&e<=57}Ye.regexp_eatHexDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;_re(n=e.current());)e.lastIntValue=16*e.lastIntValue+vre(n),e.advance();return e.pos!==t};function _re(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}function vre(e){return e>=65&&e<=70?10+(e-65):e>=97&&e<=102?10+(e-97):e-48}Ye.regexp_eatLegacyOctalEscapeSequence=function(e){if(this.regexp_eatOctalDigit(e)){var t=e.lastIntValue;if(this.regexp_eatOctalDigit(e)){var n=e.lastIntValue;t<=3&&this.regexp_eatOctalDigit(e)?e.lastIntValue=t*64+n*8+e.lastIntValue:e.lastIntValue=t*8+n}else e.lastIntValue=t;return!0}return!1};Ye.regexp_eatOctalDigit=function(e){var t=e.current();return bre(t)?(e.lastIntValue=t-48,e.advance(),!0):(e.lastIntValue=0,!1)};function bre(e){return e>=48&&e<=55}Ye.regexp_eatFixedHexDigits=function(e,t){var n=e.pos;e.lastIntValue=0;for(var r=0;r<t;++r){var i=e.current();if(!_re(i))return e.pos=n,!1;e.lastIntValue=16*e.lastIntValue+vre(i),e.advance()}return!0};var h3=function(t){this.type=t.type,this.value=t.value,this.start=t.start,this.end=t.end,t.options.locations&&(this.loc=new GI(t,t.startLoc,t.endLoc)),t.options.ranges&&(this.range=[t.start,t.end])},Jt=ti.prototype;Jt.next=function(e){!e&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new h3(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};Jt.getToken=function(){return this.next(),new h3(this)};typeof Symbol<"u"&&(Jt[Symbol.iterator]=function(){var e=this;return{next:function(){var t=e.getToken();return{done:t.type===N.eof,value:t}}}});Jt.nextToken=function(){var e=this.curContext();if((!e||!e.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(N.eof);if(e.override)return e.override(this);this.readToken(this.fullCharCodeAtPos())};Jt.readToken=function(e){return Rl(e,this.options.ecmaVersion>=6)||e===92?this.readWord():this.getTokenFromCode(e)};Jt.fullCharCodeAtPos=function(){var e=this.input.charCodeAt(this.pos);if(e<=55295||e>=56320)return e;var t=this.input.charCodeAt(this.pos+1);return t<=56319||t>=57344?e:(e<<10)+t-56613888};Jt.skipBlockComment=function(){var e=this.options.onComment&&this.curPosition(),t=this.pos,n=this.input.indexOf("*/",this.pos+=2);if(n===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=n+2,this.options.locations)for(var r=void 0,i=t;(r=zne(this.input,i,this.pos))>-1;)++this.curLine,i=this.lineStart=r;this.options.onComment&&this.options.onComment(!0,this.input.slice(t+2,n),t,this.pos,e,this.curPosition())};Jt.skipLineComment=function(e){for(var t=this.pos,n=this.options.onComment&&this.curPosition(),r=this.input.charCodeAt(this.pos+=e);this.pos<this.input.length&&!Ym(r);)r=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(t+e,this.pos),t,this.pos,n,this.curPosition())};Jt.skipSpace=function(){e:for(;this.pos<this.input.length;){var e=this.input.charCodeAt(this.pos);switch(e){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(e>8&&e<14||e>=5760&&Hne.test(String.fromCharCode(e)))++this.pos;else break e}}};Jt.finishToken=function(e,t){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var n=this.type;this.type=e,this.value=t,this.updateContext(n)};Jt.readToken_dot=function(){var e=this.input.charCodeAt(this.pos+1);if(e>=48&&e<=57)return this.readNumber(!0);var t=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&e===46&&t===46?(this.pos+=3,this.finishToken(N.ellipsis)):(++this.pos,this.finishToken(N.dot))};Jt.readToken_slash=function(){var e=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):e===61?this.finishOp(N.assign,2):this.finishOp(N.slash,1)};Jt.readToken_mult_modulo_exp=function(e){var t=this.input.charCodeAt(this.pos+1),n=1,r=e===42?N.star:N.modulo;return this.options.ecmaVersion>=7&&e===42&&t===42&&(++n,r=N.starstar,t=this.input.charCodeAt(this.pos+2)),t===61?this.finishOp(N.assign,n+1):this.finishOp(r,n)};Jt.readToken_pipe_amp=function(e){var t=this.input.charCodeAt(this.pos+1);if(t===e){if(this.options.ecmaVersion>=12){var n=this.input.charCodeAt(this.pos+2);if(n===61)return this.finishOp(N.assign,3)}return this.finishOp(e===124?N.logicalOR:N.logicalAND,2)}return t===61?this.finishOp(N.assign,2):this.finishOp(e===124?N.bitwiseOR:N.bitwiseAND,1)};Jt.readToken_caret=function(){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(N.assign,2):this.finishOp(N.bitwiseXOR,1)};Jt.readToken_plus_min=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?t===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||Zo.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(N.incDec,2):t===61?this.finishOp(N.assign,2):this.finishOp(N.plusMin,1)};Jt.readToken_lt_gt=function(e){var t=this.input.charCodeAt(this.pos+1),n=1;return t===e?(n=e===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+n)===61?this.finishOp(N.assign,n+1):this.finishOp(N.bitShift,n)):t===33&&e===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(t===61&&(n=2),this.finishOp(N.relational,n))};Jt.readToken_eq_excl=function(e){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(N.equality,this.input.charCodeAt(this.pos+2)===61?3:2):e===61&&t===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(N.arrow)):this.finishOp(e===61?N.eq:N.prefix,1)};Jt.readToken_question=function(){var e=this.options.ecmaVersion;if(e>=11){var t=this.input.charCodeAt(this.pos+1);if(t===46){var n=this.input.charCodeAt(this.pos+2);if(n<48||n>57)return this.finishOp(N.questionDot,2)}if(t===63){if(e>=12){var r=this.input.charCodeAt(this.pos+2);if(r===61)return this.finishOp(N.assign,3)}return this.finishOp(N.coalesce,2)}}return this.finishOp(N.question,1)};Jt.readToken_numberSign=function(){var e=this.options.ecmaVersion,t=35;if(e>=13&&(++this.pos,t=this.fullCharCodeAtPos(),Rl(t,!0)||t===92))return this.finishToken(N.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+af(t)+"'")};Jt.getTokenFromCode=function(e){switch(e){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(N.parenL);case 41:return++this.pos,this.finishToken(N.parenR);case 59:return++this.pos,this.finishToken(N.semi);case 44:return++this.pos,this.finishToken(N.comma);case 91:return++this.pos,this.finishToken(N.bracketL);case 93:return++this.pos,this.finishToken(N.bracketR);case 123:return++this.pos,this.finishToken(N.braceL);case 125:return++this.pos,this.finishToken(N.braceR);case 58:return++this.pos,this.finishToken(N.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(N.backQuote);case 48:var t=this.input.charCodeAt(this.pos+1);if(t===120||t===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(t===111||t===79)return this.readRadixNumber(8);if(t===98||t===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(e);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(e);case 124:case 38:return this.readToken_pipe_amp(e);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(e);case 60:case 62:return this.readToken_lt_gt(e);case 61:case 33:return this.readToken_eq_excl(e);case 63:return this.readToken_question();case 126:return this.finishOp(N.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+af(e)+"'")};Jt.finishOp=function(e,t){var n=this.input.slice(this.pos,this.pos+t);return this.pos+=t,this.finishToken(e,n)};Jt.readRegexp=function(){for(var e,t,n=this.pos;;){this.pos>=this.input.length&&this.raise(n,"Unterminated regular expression");var r=this.input.charAt(this.pos);if(Zo.test(r)&&this.raise(n,"Unterminated regular expression"),e)e=!1;else{if(r==="[")t=!0;else if(r==="]"&&t)t=!1;else if(r==="/"&&!t)break;e=r==="\\"}++this.pos}var i=this.input.slice(n,this.pos);++this.pos;var s=this.pos,o=this.readWord1();this.containsEsc&&this.unexpected(s);var a=this.regexpState||(this.regexpState=new $u(this));a.reset(n,i,o),this.validateRegExpFlags(a),this.validateRegExpPattern(a);var u=null;try{u=new RegExp(i,o)}catch{}return this.finishToken(N.regexp,{pattern:i,flags:o,value:u})};Jt.readInt=function(e,t,n){for(var r=this.options.ecmaVersion>=12&&t===void 0,i=n&&this.input.charCodeAt(this.pos)===48,s=this.pos,o=0,a=0,u=0,l=t??1/0;u<l;++u,++this.pos){var c=this.input.charCodeAt(this.pos),f=void 0;if(r&&c===95){i&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),a===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),u===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),a=c;continue}if(c>=97?f=c-97+10:c>=65?f=c-65+10:c>=48&&c<=57?f=c-48:f=1/0,f>=e)break;a=c,o=o*e+f}return r&&a===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===s||t!=null&&this.pos-s!==t?null:o};function N7e(e,t){return t?parseInt(e,8):parseFloat(e.replace(/_/g,""))}function Ere(e){return typeof BigInt!="function"?null:BigInt(e.replace(/_/g,""))}Jt.readRadixNumber=function(e){var t=this.pos;this.pos+=2;var n=this.readInt(e);return n==null&&this.raise(this.start+2,"Expected number in radix "+e),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(n=Ere(this.input.slice(t,this.pos)),++this.pos):Rl(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(N.num,n)};Jt.readNumber=function(e){var t=this.pos;!e&&this.readInt(10,void 0,!0)===null&&this.raise(t,"Invalid number");var n=this.pos-t>=2&&this.input.charCodeAt(t)===48;n&&this.strict&&this.raise(t,"Invalid number");var r=this.input.charCodeAt(this.pos);if(!n&&!e&&this.options.ecmaVersion>=11&&r===110){var i=Ere(this.input.slice(t,this.pos));return++this.pos,Rl(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(N.num,i)}n&&/[89]/.test(this.input.slice(t,this.pos))&&(n=!1),r===46&&!n&&(++this.pos,this.readInt(10),r=this.input.charCodeAt(this.pos)),(r===69||r===101)&&!n&&(r=this.input.charCodeAt(++this.pos),(r===43||r===45)&&++this.pos,this.readInt(10)===null&&this.raise(t,"Invalid number")),Rl(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var s=N7e(this.input.slice(t,this.pos),n);return this.finishToken(N.num,s)};Jt.readCodePoint=function(){var e=this.input.charCodeAt(this.pos),t;if(e===123){this.options.ecmaVersion<6&&this.unexpected();var n=++this.pos;t=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,t>1114111&&this.invalidStringToken(n,"Code point out of bounds")}else t=this.readHexChar(4);return t};Jt.readString=function(e){for(var t="",n=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var r=this.input.charCodeAt(this.pos);if(r===e)break;r===92?(t+=this.input.slice(n,this.pos),t+=this.readEscapedChar(!1),n=this.pos):r===8232||r===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(Ym(r)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return t+=this.input.slice(n,this.pos++),this.finishToken(N.string,t)};var wre={};Jt.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(e){if(e===wre)this.readInvalidTemplateToken();else throw e}this.inTemplateElement=!1};Jt.invalidStringToken=function(e,t){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw wre;this.raise(e,t)};Jt.readTmplToken=function(){for(var e="",t=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var n=this.input.charCodeAt(this.pos);if(n===96||n===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===N.template||this.type===N.invalidTemplate)?n===36?(this.pos+=2,this.finishToken(N.dollarBraceL)):(++this.pos,this.finishToken(N.backQuote)):(e+=this.input.slice(t,this.pos),this.finishToken(N.template,e));if(n===92)e+=this.input.slice(t,this.pos),e+=this.readEscapedChar(!0),t=this.pos;else if(Ym(n)){switch(e+=this.input.slice(t,this.pos),++this.pos,n){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:e+=`
`;break;default:e+=String.fromCharCode(n);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),t=this.pos}else++this.pos}};Jt.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(N.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")};Jt.readEscapedChar=function(e){var t=this.input.charCodeAt(++this.pos);switch(++this.pos,t){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return af(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),e){var n=this.pos-1;this.invalidStringToken(n,"Invalid escape sequence in template string")}default:if(t>=48&&t<=55){var r=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],i=parseInt(r,8);return i>255&&(r=r.slice(0,-1),i=parseInt(r,8)),this.pos+=r.length-1,t=this.input.charCodeAt(this.pos),(r!=="0"||t===56||t===57)&&(this.strict||e)&&this.invalidStringToken(this.pos-1-r.length,e?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(i)}return Ym(t)?"":String.fromCharCode(t)}};Jt.readHexChar=function(e){var t=this.pos,n=this.readInt(16,e);return n===null&&this.invalidStringToken(t,"Bad character escape sequence"),n};Jt.readWord1=function(){this.containsEsc=!1;for(var e="",t=!0,n=this.pos,r=this.options.ecmaVersion>=6;this.pos<this.input.length;){var i=this.fullCharCodeAtPos();if(pm(i,r))this.pos+=i<=65535?1:2;else if(i===92){this.containsEsc=!0,e+=this.input.slice(n,this.pos);var s=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var o=this.readCodePoint();(t?Rl:pm)(o,r)||this.invalidStringToken(s,"Invalid Unicode escape"),e+=af(o),n=this.pos}else break;t=!1}return e+this.input.slice(n,this.pos)};Jt.readWord=function(){var e=this.readWord1(),t=N.name;return this.keywords.test(e)&&(t=o3[e]),this.finishToken(t,e)};var k7e="8.11.2";ti.acorn={Parser:ti,version:k7e,defaultOptions:Y2,Position:Fy,SourceLocation:GI,getLineInfo:qne,Node:KI,TokenType:fn,tokTypes:N,keywordTypes:o3,TokContext:oa,tokContexts:lr,isIdentifierChar:pm,isIdentifierStart:Rl,Token:h3,isNewLine:Ym,lineBreak:Zo,lineBreakG:i7e,nonASCIIwhitespace:Hne};function D7e(e,t){return ti.parse(e,t)}const p3={undefined:"void(0)",Infinity:"Number.POSITIVE_INFINITY",NaN:"Number.NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2"},$7e={ecmaVersion:11},EU="$",L7e="d",M7e="d1",F7e="d2",Si=e=>(t,n)=>n.error(t,e+" not allowed"),B7e=Si("Aggregate function"),j7e=Si("Window function"),U7e="Invalid argument",m3="Invalid column reference",V7e=m3+" (must be input to an aggregate function)",Tre="Invalid function call",z7e="Invalid member expression",H7e="Invalid operator parameter",W7e="Invalid param reference",q7e="Invalid variable reference",G7e="Variable not accessible in operator call",Y7e="Unsupported variable declaration",K7e="Unsupported destructuring pattern",Sre="Table expressions do not support closures",Ire="Use aq.escape(fn) to use a function as-is (including closures)",Q7e="use table.params({ name: value }) to define dynamic parameters",X7e="use aq.addFunction(name, fn) to add new op functions",J7e=`
Note: ${Sre}. ${Ire}, or ${Q7e}.`,xre=`
Note: ${Sre}. ${Ire}, or ${X7e}.`,Z7e=`The ${Lee} method is not valid in multi-table expressions.`;function eze(e,t){const n=tze(t);let r=e.root=n;return e.spec=t,e.tuple=null,e.tuple1=null,e.tuple2=null,e.$param=null,e.$op=0,e.scope=new Set,e.paramsRef=new Map,e.columnRef=new Map,YVe(r)?(rze(r,e),r=r.body):e.join?(e.scope.add(e.tuple1=M7e),e.scope.add(e.tuple2=F7e),e.scope.add(e.$param=EU)):(e.scope.add(e.tuple=L7e),e.scope.add(e.$param=EU)),cn(r,e,g3),e.root}function tze(e){try{const t=e.field?nze(e):yn(e)?wu(e):e;return D7e(`expr=(${t})`,$7e).body[0].expression.right}catch{jt(`Expression parse error: ${e+""}`)}}function nze(e){const t=JSON.stringify(e+"");return e.table?`(a,b)=>b[${t}]`:`d=>d[${t}]`}const g3={FunctionDeclaration:Si("Function definitions"),ForStatement:Si("For loops"),ForOfStatement:Si("For-of loops"),ForInStatement:Si("For-in loops"),WhileStatement:Si("While loops"),DoWhileStatement:Si("Do-while loops"),AwaitExpression:Si("Await expressions"),ArrowFunctionExpression:Si("Function definitions"),AssignmentExpression:Si("Assignments"),FunctionExpression:Si("Function definitions"),NewExpression:Si('Use of "new"'),UpdateExpression:Si("Update expressions"),VariableDeclarator(e,t){J2(e.id,t)},Identifier(e,t,n){Ore(e,t,n)&&!t.scope.has(e.name)&&t.error(e,q7e,J7e)},CallExpression(e,t){const n=Cre(e.callee),r=kee(n)||Dee(n);if(r){if((t.join||t.aggregate===!1)&&o$(n)&&B7e(e,t),(t.join||t.window===!1)&&a$(n)&&j7e(e,t),t.$op=1,t.ast)X2(e,n,t),e.arguments.forEach(i=>cn(i,t,Q2));else{const i=t.op(ize(t,r,n,e.arguments));Object.assign(e,{type:Aee,name:i.id})}return t.$op=0,!1}else Nee(n)?X2(e,n,t):t.error(e,Tre,xre)},MemberExpression(e,t,n){const{object:r,property:i}=e;if(!Kr(zc,r))return;const{name:s}=r;if(Are(e)&&Kr(zc,i)&&xa(p3,i.name)){Nre(e,i.name);return}const o=s===t.tuple?0:s===t.tuple1?1:s===t.tuple2?2:-1;if(o>=0)return wU(e,o,t,Pre,n);if(s===t.$param)return wU(e,o,t,oze);t.paramsRef.has(s)?jy(e,t.paramsRef.get(s)):t.columnRef.has(s)?Rre(r,s,t,e):xa(t.params,s)&&jy(r,s)}};function wU(e,t,n,r,i){const{property:s,computed:o}=e;let a;if(!o)a=s.name;else if(Kr(Hm,s))a=s.value;else try{cn(s,n,g3,e),a=n.param(s)}catch{n.error(e,z7e)}return r(e,a,t,n,i),!1}const Q2={...g3,VariableDeclarator:Si("Variable declaration in operator call"),Identifier(e,t,n){Ore(e,t,n)&&t.error(e,G7e)},CallExpression(e,t){const n=Cre(e.callee);Nee(n)?X2(e,n,t):t.error(e,Tre,xre)}};function rze(e,t){e.generator&&Si("Generator functions")(e,t),e.async&&Si("Async functions")(e,t);const{params:n}=e,r=n.length,i=o=>(a,u)=>t.columnRef.set(a,[u,o]),s=(o,a)=>t.paramsRef.set(o,a);r&&(t.join?(U0(t,n[0],"tuple1",i(1)),r>1&&U0(t,n[1],"tuple2",i(2)),r>2&&U0(t,n[2],"$param",s)):(U0(t,n[0],"tuple",i(0)),r>1&&U0(t,n[1],"$param",s))),t.root=e.body}function U0(e,t,n,r){Kr(zc,t)?(e.scope.add(t.name),e[n]=t.name):Kr(xee,t)&&t.properties.forEach(i=>{const s=Kr(zc,i.key)?i.key.name:Kr(Hm,i.key)?i.key.value:e.error(i,U7e);Kr(zc,i.value)||e.error(i.value,K7e),r(i.value.name,s)})}function ize(e,t,n,r){const i=[],s=[],o=t.param[0]||0,a=o+(t.param[1]||0);return r.forEach((u,l)=>{l<o?(cn(u,e,Q2),i.push(e.field(u))):l<a?(cn(u,e,Q2),s.push(e.param(u))):e.error(u,H7e)}),{name:n,fields:i,params:s,...e.spec.window||{}}}function Cre(e){return Kr(zc,e)?e.name:Kr(Iee,e)?Are(e)?sze(e.property.name):e.property.name:null}function Are(e){return Kr(zc,e.object)&&e.object.name==="Math"}function sze(e){return e==="max"?"greatest":e==="min"?"least":e}function Ore(e,t,n){const{name:r}=e;if(!(Kr(Iee,n)&&n.property===e)){if(!(Kr(Cee,n)&&n.key===e))if(t.paramsRef.has(r))jy(e,t.paramsRef.get(r));else if(t.columnRef.has(r))Rre(e,r,t,n);else if(xa(t.params,r))jy(e,r);else if(xa(p3,r))Nre(e,r);else return!0}}function Pre(e,t,n,r,i){const s=n===0?r.table:n>0?r.join[n-1]:null,o=s&&s.column(t);s&&!o&&r.error(e,m3),r.aggronly&&!r.$op&&r.error(e,V7e),$ee(e,t,n,o,i)}function Rre(e,t,n,r){const[i,s]=n.columnRef.get(t);Pre(e,i,s,n,r)}function oze(e,t,n,r){r.params&&!xa(r.params,t)&&r.error(e,W7e),jy(e,t)}function jy(e,t){e.type=X9e,e.name=t}function Nre(e,t){e.type=Y9e,e.name=t,e.raw=p3[t]}function X2(e,t,n){if(t===Lee){const r=n.table;r||n.error(e,Z7e),Mee(e,e.arguments.length?e.arguments.map(i=>{const s=n.param(i),o=cs(s)?r.columnName(s):s;return r.column(o)||n.error(i,m3),o}):r.columnNames())}else e.callee={type:Q9e,name:t}}function J2(e,t){Kr(zc,e)?t.scope.add(e.name):Kr(H9e,e)?e.elements.forEach(n=>J2(n,t)):Kr(xee,e)?e.properties.forEach(n=>J2(n.value,t)):t.error(e.id,Y7e)}const aze={[H_]:1,[Aee]:1};function Vs(e,t={}){const n=t.generate||aT,r=t.compiler||u$,i=lze(t),s={},o={},a=[],u=[];let l=0,c=-1;const f=t.join?r.join:t.index==1?r.expr2:r.expr,d={op(m){const y=uze(m);return o[y]||(m.id=++c,o[y]=m)},field(m){const y=n(m);return s[y]||(s[y]=++l)},param(m){return Kr(Hm,m)?m.value:r.param(n(m),i)},value(m,y){a.push(m);const g=y.escape||(t.ast?GVe(y):f(n(y),i));u.push(g),aze[y.type]&&g!==y&&Xi(g)&&(g.field=y.name)},error(m,y,g=""){const _=m.start-6,b=m.end-6,T=String(d.spec).slice(_,b);jt(`${y}: "${T}"${g}`)}};Object.assign(d,t,{params:i});for(const[m,y]of kI(e))d.value(m+"",y.escape?XVe(d,y,i):eze(d,y));if(t.ast)return{names:a,exprs:u};const h=[];for(const m in s)h[s[m]]=r.expr(m,i);const p=Object.values(o);return p.forEach(m=>m.fields=m.fields.map(y=>h[y])),{names:a,exprs:u,ops:p}}function uze(e){let t=`${e.name}(${e.fields.concat(e.params).join(",")})`;if(e.frame){const n=e.frame.map(r=>Number.isFinite(r)?Math.abs(r):-1);t+=`[${n},${!!e.peers}]`}return t}function lze(e){return(e.table?YA(e.table):e.join?{...YA(e.join[1]),...YA(e.join[0])}:{})||{}}function YA(e){return e&&er(e.params)?e.params():{}}const kre="Expr",aa="ExprList",Dre="ExprNumber",og="ExprObject",tp="JoinKeys",AT="JoinValues",Co="Options",y3="OrderKeys",sc="SelectionList",Yf="TableRef",np="TableRefList",cze="Descending",fze="Query",dze="Selection",hze="Verb",pze="Window";function XI(e,t){return e&&e.expr?new TU({...e,...t}):new TU(t,e)}class TU{constructor(t,n){this.expr=n,Object.assign(this,t)}toString(){return String(this.expr)}toObject(){return{...this,expr:this.toString(),...er(this.expr)?{func:!0}:{}}}}function mze(e){return XI(e,{desc:!0})}function Md(e,t,n=0){const r=n?{field:!0,table:n}:{field:!0};return XI(e,t?{expr:t,...r}:r)}function gze(e,t,n){return XI(e,{window:{frame:t||[-1/0,0],peers:!!n}})}function yze(e){const t=n=>n;return t.toString=()=>e,t}function SU(e,t){return t=t&&er(t.query)?t.query():t,t&&er(t.evaluate)?t.evaluate(null,e):e(t)}function $re(e){return Xi(e)&&(yn(e.all)||yn(e.matches)||yn(e.not)||yn(e.range))}function Uy(e){return e&&er(e.toObject)?e.toObject():er(e)?{expr:String(e),func:!0}:yn(e)?e.map(Uy):Xi(e)?WI(e,t=>Uy(t)):e}function _3(e){return yn(e)?e.map(_3):Xi(e)?yn(e.verbs)?b3.from(e):yn(e.all)?hm():yn(e.range)?VVe(...e.range):yn(e.match)?zVe(RegExp(...e.match)):yn(e.not)?Bne(e.not.map(Uy)):_ze(e):e}function _ze(e){let t=e,n=e.expr;if(n!=null){if(e.field===!0?t=n=Md(n):e.func===!0&&(t=n=yze(n)),Xi(e.window)){const{frame:r,peers:i}=e.window;t=n=gze(n,r,i)}e.desc===!0&&(t=mze(n))}return e===t?WI(e,r=>_3(r)):t}function vze(e){return yn(e)?e.map(bze):e}function bze(e){const t=[];return js(e).forEach(n=>{cs(n)?t.push(n):Li(n)?t.push(Md(n,null)):Xi(n)&&n.expr||er(n)?t.push(n):jt(`Invalid key value: ${n+""}`)}),t}function Eze(e){return yn(e)?e.map(wze):e}function wze(e,t){return t<2?js(e):e}function Tze(e){const t=[];return e.forEach(n=>{const r=n.expr!=null?n.expr:n;if(Xi(r)&&!er(r))for(const i in r)t.push(r[i]);else n=cs(r)?r:Li(r)?Md(n):er(r)?n:jt(`Invalid orderby field: ${n+""}`),t.push(n)}),t}const Sze={[kre]:Bre,[aa]:mm,[Dre]:Pze,[og]:uf,[tp]:Rze,[AT]:Nze,[y3]:mm,[sc]:Aze};function Ize(e,t,n){return t===Yf?IU(e):t===np?e.map(IU):Lre(Uy(e),t,n)}function Lre(e,t,n){return t===Co?e&&xze(e,n):Sze[t](e)}function xze(e,t={}){const n={};for(const r in e){const i=e[r];n[r]=t[r]?Lre(i,t[r]):i}return n}function Cze(e,t){return Vs({expr:e},{...t,ast:!0}).exprs[0]}function v3(e){return{type:H_,name:e}}function Mre(e){return{type:H_,index:e}}function uf(e,t){if(Li(e))return Cze(e,t);if(e.expr){let n;if(e.field===!0?n=v3(e.expr):e.func===!0&&(n=uf(e.expr,t)),n)return e.desc&&(n={type:cze,expr:n}),e.window&&(n={type:pze,expr:n,...e.window}),n}return Object.keys(e).map(n=>({...uf(e[n],t),as:n}))}function Fre(e){const t=dze;return e.all?{type:t,operator:"all"}:e.not?{type:t,operator:"not",arguments:mm(e.not)}:e.range?{type:t,operator:"range",arguments:mm(e.range)}:e.matches?{type:t,operator:"matches",arguments:e.matches}:jt("Invalid input")}function Aze(e){return js(e).map(Oze).flat()}function Oze(e){return $re(e)?Fre(e):cs(e)?Mre(e):Li(e)?v3(e):Xi(e)?Object.keys(e).map(t=>({type:H_,name:t,as:e[t]})):jt("Invalid input")}function Bre(e){return $re(e)?Fre(e):cs(e)?Mre(e):Li(e)?v3(e):Xi(e)?uf(e):jt("Invalid input")}function mm(e){return js(e).map(Bre).flat()}function Pze(e){return cs(e)?e:uf(e)}function Rze(e){return yn(e)?e.map(mm):uf(e,{join:!0})}function Nze(e){return yn(e)?e.map((t,n)=>n<2?mm(t):uf(t,{join:!0})):uf(e,{join:!0})}function IU(e){return e&&er(e.toAST)?e.toAST():e}class jre{constructor(t,n=[],r=[]){this.verb=t,this.schema=n,n.forEach((i,s)=>{const o=i.type,a=r[s],u=o===tp?vze(a):o===AT?Eze(a):o===y3?Tze(a):a;this[i.name]=u!==void 0?u:i.default})}static from(t){const n=Z2[t.verb],r=(n.schema||[]).map(({name:i})=>_3(t[i]));return n(...r)}evaluate(t,n){const r=this.schema.map(({name:i,type:s})=>{const o=this[i];return s===Yf?SU(n,o):s===np?o.map(a=>SU(n,a)):o});return t[this.verb](...r)}toObject(){const t={verb:this.verb};return this.schema.forEach(({name:n})=>{t[n]=Uy(this[n])}),t}toAST(){const t={type:hze,verb:this.verb};return this.schema.forEach(({name:n,type:r,props:i})=>{t[n]=Ize(this[n],r,i)}),t}}function Ln(e,t){return Object.assign((...n)=>new jre(e,t,n),{schema:t})}const Z2={count:Ln("count",[{name:"options",type:Co}]),derive:Ln("derive",[{name:"values",type:og},{name:"options",type:Co,props:{before:sc,after:sc}}]),filter:Ln("filter",[{name:"criteria",type:og}]),groupby:Ln("groupby",[{name:"keys",type:aa}]),orderby:Ln("orderby",[{name:"keys",type:y3}]),relocate:Ln("relocate",[{name:"columns",type:sc},{name:"options",type:Co,props:{before:sc,after:sc}}]),rename:Ln("rename",[{name:"columns",type:sc}]),rollup:Ln("rollup",[{name:"values",type:og}]),sample:Ln("sample",[{name:"size",type:Dre},{name:"options",type:Co,props:{weight:kre}}]),select:Ln("select",[{name:"columns",type:sc}]),ungroup:Ln("ungroup"),unorder:Ln("unorder"),reify:Ln("reify"),dedupe:Ln("dedupe",[{name:"keys",type:aa,default:[]}]),impute:Ln("impute",[{name:"values",type:og},{name:"options",type:Co,props:{expand:aa}}]),fold:Ln("fold",[{name:"values",type:aa},{name:"options",type:Co}]),pivot:Ln("pivot",[{name:"keys",type:aa},{name:"values",type:aa},{name:"options",type:Co}]),spread:Ln("spread",[{name:"values",type:aa},{name:"options",type:Co}]),unroll:Ln("unroll",[{name:"values",type:aa},{name:"options",type:Co,props:{drop:aa}}]),lookup:Ln("lookup",[{name:"table",type:Yf},{name:"on",type:tp},{name:"values",type:aa}]),join:Ln("join",[{name:"table",type:Yf},{name:"on",type:tp},{name:"values",type:AT},{name:"options",type:Co}]),cross:Ln("cross",[{name:"table",type:Yf},{name:"values",type:AT},{name:"options",type:Co}]),semijoin:Ln("semijoin",[{name:"table",type:Yf},{name:"on",type:tp}]),antijoin:Ln("antijoin",[{name:"table",type:Yf},{name:"on",type:tp}]),concat:Ln("concat",[{name:"tables",type:np}]),union:Ln("union",[{name:"tables",type:np}]),intersect:Ln("intersect",[{name:"tables",type:np}]),except:Ln("except",[{name:"tables",type:np}])};let b3=class Ure extends dee{constructor(t,n,r){super(n),this._verbs=t||[],this._table=r}static from({verbs:t,table:n,params:r}){return new Ure(t.map(jre.from),r,n)}get[Symbol.toStringTag](){return this._verbs?`Query: ${this._verbs.length} verbs`+(this._table?` on '${this._table}'`:""):"Object"}get length(){return this._verbs.length}get tableName(){return this._table}params(t){return arguments.length?(this._params={...this._params,...t},this):this._params}evaluate(t,n){t=t||n(this._table);for(const r of this._verbs)t=r.evaluate(t.params(this._params),n);return t}toObject(){return xU(this,"toObject")}toJSON(){return this.toObject()}toAST(){return xU(this,"toAST",{type:fze})}};function xU(e,t,n){return{...n,verbs:e._verbs.map(r=>r[t]()),...e._params?{params:e._params}:null,...e._table?{table:e._table}:null}}function kze(e,t){return new b3(e._verbs.concat(t),e._params,e._table)}for(const e in Z2){const t=Z2[e];b3.prototype["__"+e]=function(n,...r){return kze(n,t(...r))}}function Xm(e,t,...n){const r=["_","$"],i=r.slice(0,n.length);return i.push('"use strict"; const '+n.map((s,o)=>s.map((a,u)=>`${r[o]}${u} = ${r[o]}[${u}]`).join(", ")).join(", ")+`; return (${e}) => ${t};`),Function(...i)(...n)}function Dze(e,t=[]){return e.groupby(t.length?t:e.columnNames()).filter("row_number() === 1").ungroup().reify()}function E3(e,t){const n=wo();return t.forEach((r,i)=>{const s=Li(r)?r:i;if(s){const o=e.column(i)||jt(`Unrecognized column: ${i}`);n.add(s,o)}}),e.create(n)}function Vre(e,t,{before:n,after:r}={}){const i=n!=null,s=r!=null;i||s||jt("relocate requires a before or after option."),i&&s&&jt("relocate accepts only one of the before or after options."),t=Pl(e,t);const o=[...Pl(e,i?n:r).keys()],a=i?o[0]:o.pop(),u=new Map;return e.columnNames().forEach(l=>{const c=!t.has(l);if(l===a){s&&c&&u.set(l,l);for(const[f,d]of t)u.set(f,d);if(s)return}c&&u.set(l,l)}),E3(e,u)}function J_(e,t=r=>r,n=""){const r=e.length;if(!r)return"";let i=t(e[0],0);for(let s=1;s<r;++s)i+=n+t(e[s],s);return i}function w3(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function $ze(e,t=0,n=e.length){let r=n?e[t++]:dn;for(let i=t;i<n;++i)r>e[i]&&(r=e[i]);return r}function Lze(e,t=0,n=e.length){let r=n?e[t++]:dn;for(let i=t;i<n;++i)r<e[i]&&(r=e[i]);return r}function y1(e){return Ny(e)?e:+e}function Mze(e,t){const n=e.length;if(!n)return dn;if((t=+t)<=0||n<2)return y1(e[0]);if(t>=1)return y1(e[n-1]);const r=(n-1)*t,i=Math.floor(r),s=y1(e[i]);return Ny(s)?s:s+(y1(e[i+1])-s)*(r-i)}class Fze{constructor(t){this._values=t||[],this._sorted=null,this._start=0}values(t){return this._start&&(this._values=this._values.slice(this._start),this._start=0),t?this._values.slice():this._values}add(t){this._values.push(t),this._sorted=null}rem(){this._start+=1,this._sorted=null}min(){return this._sorted&&this._sorted.length?this._sorted[0]:$ze(this._values,this._start)}max(){return this._sorted&&this._sorted.length?this._sorted[this._sorted.length-1]:Lze(this._values,this._start)}quantile(t){return this._sorted||(this._sorted=this.values(!0),this._sorted.sort(w3)),Mze(this._sorted,t)}}const OT=(e,t,n)=>Xm(t,"{"+J_(e,(r,i)=>`_${i}.${n}(${t});`)+"}",e);function Bze(e,t){const{ops:n,output:r}=jze(e,t),i=e[0].fields,s=i.length,o=s===0?T3:s===1?Uze:s===2?Vze:jt("Unsupported field count: "+s);return new o(i,n,r,t)}function jze(e,t){const n={},r=[];function i(o,a=[]){const u=o+":"+a;if(n[u])return n[u];const l=kee(o),c=l.create(...a);return t<0&&l.stream&&l.stream.forEach(f=>i(f,[])),l.req&&l.req.forEach(f=>i(f,[])),n[u]=c,r.push(c),c}const s=e.map(o=>{const a=i(o.name,o.params);return a.output=o.id,a});return{ops:r,output:s}}class T3 extends WVe{constructor(t,n,r,i){super(r),this._op=n,this._fields=t,this._stream=!!i}init(){const t={count:0,valid:0,stream:this._stream};return this._op.forEach(n=>n.init(t)),t.values&&(t.list=new Fze),t}write(t,n,r){const i=this._outputs,s=i.length;for(let o=0;o<s;++o)n[i[o].output][r]=i[o].value(t);return 1}_add(){}_rem(){}add(t){++t.count}rem(t){--t.count}}class Uze extends T3{constructor(t,n,r,i){super(t,n,r,i);const s=["state","v1","v2"];this._add=OT(n,s,"add"),this._rem=OT(n,s,"rem")}add(t,n,r){const i=this._fields[0](n,r);++t.count,ya(i)&&(++t.valid,t.list&&t.list.add(i),this._add(t,i))}rem(t,n,r){const i=this._fields[0](n,r);--t.count,ya(i)&&(--t.valid,t.list&&t.list.rem(),this._rem(t,i))}}class Vze extends T3{constructor(t,n,r,i){super(t,n,r,i);const s=["state","v1","v2"];this._add=OT(n,s,"add"),this._rem=OT(n,s,"rem")}add(t,n,r){const i=this._fields[0](n,r),s=this._fields[1](n,r);++t.count,ya(i)&&ya(s)&&(++t.valid,t.list&&t.list.add([i,s]),this._add(t,i,s))}rem(t,n,r){const i=this._fields[0](n,r),s=this._fields[1](n,r);--t.count,ya(i)&&ya(s)&&(--t.valid,t.list&&t.list.rem(),this._rem(t,i,s))}}function ah(e,t,n){if(t.length){const r=e.data(),{keys:i}=e.groups()||{},s=Jm(e,t),o=i?(a,u)=>s[a][i[u]]:a=>s[a][0];n=n.map(a=>u=>a(u,r,o))}return n}function Jm(e,t,n){if(!t.length)return n;const r=zre(t),i=e.groups(),s=i?i.size:1;return n=n||RI(t.length,()=>Array(s)),s>1?r.forEach(o=>{const a=Wre(e,o,i);for(let u=0;u<s;++u)o.write(a[u],n,u)}):r.forEach(o=>{const a=Hre(e,o);o.write(a,n,0)}),n}function zre(e,t){const n=[],r={};for(const i of e){const s=i.fields.map(o=>o+"").join(",");(r[s]||(r[s]=[])).push(i)}for(const i in r)n.push(Bze(r[i],t));return n}function Hre(e,t){const n=t.init(),r=e.totalRows(),i=e.data(),s=e.mask();if(e.isOrdered()){const o=e.indices();for(let a=0;a<r;++a)t.add(n,o[a],i)}else if(s)for(let o=s.next(0);o>=0;o=s.next(o+1))t.add(n,o,i);else for(let o=0;o<r;++o)t.add(n,o,i);return n}function Wre(e,t,n){const{keys:r,size:i}=n,s=RI(i,()=>t.init()),o=e.data();if(e.isOrdered()){const a=e.indices(),u=a.length;for(let l=0;l<u;++l){const c=a[l];t.add(s[r[c]],c,o)}}else if(e.isFiltered()){const a=e.mask();for(let u=a.next(0);u>=0;u=a.next(u+1))t.add(s[r[u]],u,o)}else{const a=e.totalRows();for(let u=0;u<a;++u)t.add(s[r[u]],u,o)}return s}function qre(e,t){const{get:n,names:r,rows:i,size:s}=t,o=r.length;for(let a=0;a<o;++a){const u=e.add(r[a],Array(s)),l=n[a];for(let c=0;c<s;++c)u[c]=l(i[c])}}function Gre(e){return{left(t,n,r,i){for(r==null&&(r=0),i==null&&(i=t.length);r<i;){const s=r+i>>>1;e(t[s],n)<0?r=s+1:i=s}return r},right(t,n,r,i){for(r==null&&(r=0),i==null&&(i=t.length);r<i;){const s=r+i>>>1;e(t[s],n)>0?i=s:r=s+1}return r}}}const CU=Gre(w3);function zze(e,t,n,r,i){let s,o,a,u,l;const c=m=>o[m-1]===o[m],f=r.length,d=i.length,h=r.length?Xm(["w","r","k"],"{"+J_(r,(m,y)=>`r[_${y}.id][k]=_${y}.value(w,_${y}.get);`)+"}",r):()=>{},p={i0:0,i1:0,index:0,size:0,peer:c,init(m,y,g,_){p.index=p.i0=p.i1=0,p.size=y.length,s=m,o=y,u=g,l=_,a=i?i.map(b=>b.init()):null;for(let b=0;b<f;++b)r[b].init();return p},value(m,y){return y(s[m],e)},step(m){const[y,g]=t,_=p.size,b=p.i0,T=p.i1;p.i0=y!=null?Math.max(0,m-Math.abs(y)):0,p.i1=g!=null?Math.min(_,m+Math.abs(g)+1):_,p.index=m,n&&(p.i0>0&&c(p.i0)&&(p.i0=CU.left(o,o[p.i0])),p.i1<_&&c(p.i1)&&(p.i1=CU.right(o,o[p.i1-1])));for(let I=0;I<d;++I){const E=i[I],S=a[I];for(let A=b;A<p.i0;++A)E.rem(S,s[A],e);for(let A=T;A<p.i1;++A)E.add(S,s[A],e);E.write(S,u,l)}return h(p,u,l),u}};return p}const Hze=e=>(e.frame||[null,null]).map(t=>Number.isFinite(t)?Math.abs(t):null),Wze=e=>!!e.peers;function qze(e){const{id:t,name:n,fields:r=[],params:i=[]}=e,s=Dee(n).create(...i);return r.length&&(s.get=r[0]),s.id=t,s}function Gze(e,t,n,r={},i){const s=e.data(),o=Yze(i,s),a=o.length,u=Xm(["r","d","op"],"{"+J_(t,(l,c)=>`_${c}[r] = $${c}(r, d, op);`)+"}",t,n);e.partitions().forEach((l,c)=>{const f=l.length,d=Kze(e,l);for(let p=0;p<a;++p)o[p].init(l,d,r,c);const h=p=>r[p][c];for(let p=0;p<f;++p){for(let m=0;m<a;++m)o[m].step(p);u(l[p],s,h)}})}function Yze(e,t){const n={};return e.forEach(r=>{const i=Hze(r),s=Wze(r),o=`${i},${s}`,{aggOps:a,winOps:u}=n[o]||(n[o]={frame:i,peers:s,aggOps:[],winOps:[]});o$(r.name)?a.push(r):u.push(qze(r))}),Object.values(n).map(r=>zze(t,r.frame,r.peers,r.winOps,zre(r.aggOps,r.frame[0]!=null?-1:1)))}function Kze(e,t){if(e.isOrdered()){const n=e.comparator(),r=e.data(),i=t.length,s=new Uint32Array(i);for(let o=1,a=0;o<i;++o)s[o]=n(t[o-1],t[o],r)?++a:a;return s}else return t}function Qze(e){return a$(e.name)||e.frame&&(Number.isFinite(e.frame[0])||Number.isFinite(e.frame[1]))}function S3(e,{names:t,exprs:n,ops:r},i={}){const s=e.totalRows(),o=wo(i.drop?null:e),a=t.map(d=>o.add(d,Array(s))),[u,l]=Xze(r),c=e.isGrouped()?e.groups().size:1,f=Jm(e,u,RI(r.length,()=>Array(c)));return l.length?Gze(e,a,n,f,l):Jze(e,a,n,f),e.create(o)}function Xze(e){const t=[],n=[],r=e.length;for(let i=0;i<r;++i){const s=e[i];s.id=i,(Qze(s)?n:t).push(s)}return[t,n]}function Jze(e,t,n,r){const i=e.mask(),s=e.data(),{keys:o}=e.groups()||{},a=o?(l,c)=>r[l][o[c]]:l=>r[l][0],u=t.length;for(let l=0;l<u;++l){const c=n[l],f=t[l];if(i)for(let d=i.next(0);d>=0;d=i.next(d+1))f[d]=c(d,s,a);else{const d=e.totalRows();for(let h=0;h<d;++h)f[h]=c(h,s,a)}}}function Zze(e,t,n={}){const r=S3(e,Vs(t,{table:e}),n);return n.drop||n.before==null&&n.after==null?r:Vre(r,Object.keys(t).filter(i=>!e.column(i)),n)}function eHe(e,t){if(t.length===0)return e;const n=e.columnNames();return t.reduce((r,i)=>r.antijoin(i.select(n)),e).dedupe()}const _1=2147483648,tHe=4294967295;class Yre{constructor(t){this._size=t,this._bits=new Uint32Array(Math.ceil(t/32))}get length(){return this._size}count(){const t=this._bits.length;let n=0;for(let r=0;r<t;++r)for(let i=this._bits[r];i;++n)i&=i-1;return n}get(t){return this._bits[t>>5]&_1>>>t}set(t){this._bits[t>>5]|=_1>>>t}clear(t){this._bits[t>>5]&=~(_1>>>t)}scan(t){for(let n=this.next(0);n>=0;n=this.next(n+1))t(n)}next(t){const n=this._bits,r=n.length;let i=t>>5,s=n[i]&tHe>>>t;for(;i<r;s=n[++i])if(s!==0)return(i<<5)+Math.clz32(s);return-1}nth(t){let n=this.next(0);for(;t--&&n>=0;)n=this.next(n+1);return n}not(){const t=this._bits,n=t.length;for(let i=0;i<n;++i)t[i]=~t[i];const r=this._size%32;return r&&(t[n-1]&=_1>>r-1),this}and(t){if(t){const n=this._bits,r=t._bits,i=n.length;for(let s=0;s<i;++s)n[s]&=r[s]}return this}or(t){if(t){const n=this._bits,r=t._bits,i=n.length;for(let s=0;s<i;++s)n[s]|=r[s]}return this}}function nHe(e,t){const n=e.totalRows(),r=e.mask(),i=e.data(),s=new Yre(n);if(r)for(let o=r.next(0);o>=0;o=r.next(o+1))t(o,i)&&s.set(o);else for(let o=0;o<n;++o)t(o,i)&&s.set(o);return e.create({filter:s})}function rHe(e,t){const n=Vs({p:t},{table:e});let r=n.exprs[0];if(n.ops.length){const{data:i}=S3(e,n,{drop:!0}).column("p");r=s=>i[s]}return nHe(e,r)}function Kre(e,{names:t=[],exprs:n=[],ops:r=[]},i={}){if(!t.length)return e;const s=i.limit>0?+i.limit:1/0,o=i.index?i.index===!0?"index":i.index+"":null,a=new Set(i.drop),u=ah(e,r,n),l=wo(),c=new Set(t),f=[],d=[],h=[];e.columnNames().forEach(T=>{if(!a.has(T)){const I=l.add(T,[]);c.has(T)||(f.push(e.column(T)),d.push(I))}}),t.forEach(T=>{a.has(T)||(l.has(T)||l.add(T,[]),h.push(l.data[T]))});const p=o?l.add(o,[]):null;let m=0;const y=f.length,g=h.length,_=(T,I)=>{for(let E=0;E<y;++E)d[E].length=m+I,d[E].fill(f[E].get(T),m,m+I)},b=p?(T,I)=>{for(let E=0;E<I;++E)p[T+E]=E}:()=>{};if(g===1){const T=u[0],I=h[0];e.scan((E,S)=>{const A=js(T(E,S)),L=Math.min(A.length,s);_(E,L);for(let W=0;W<L;++W)I[m+W]=A[W];b(m,L),m+=L})}else e.scan((T,I)=>{let E=0;const S=u.map(A=>{const L=js(A(T,I));return E=Math.min(Math.max(E,L.length),s),L});_(T,E);for(let A=0;A<g;++A){const L=h[A],W=S[A];for(let z=0;z<E;++z)L[m+z]=W[z]}b(m,E),m+=E});return e.create(l.new())}function iHe(e,{names:t=[],exprs:n=[],ops:r=[]},i={}){if(t.length===0)return e;const[s="key",o="value"]=i.as||[],a=ah(e,r,n);return Kre(e,{names:[s,o],exprs:[()=>t,(u,l)=>a.map(c=>c(u,l))]},{...i,drop:t})}function Ca(e,t,n,r={window:!1}){const i=new Map,s=o=>{o=cs(o)?t.columnName(o):o,Li(o)?i.set(o,Md(o)):er(o)?Pl(t,o).forEach(s):Xi(o)?Mne(i,o):jt(`Invalid ${e} value: ${o+""}`)};return js(n).forEach(s),r.preparse&&r.preparse(i),Vs(i,{table:t,...r})}function sHe(e,t,n){return iHe(e,Ca("fold",e,t),n)}function AU(e,t,n,r){const i=n&&n.length;return oHe(i?aHe(e,n,r):e,t,i)}function oHe(e,{names:t,exprs:n,ops:r},i){const s=ah(e,r,n),o=i?null:wo(e),a=e.totalRows();return t.forEach((u,l)=>{const c=e.column(u),f=i?c.data:o.add(u,Array(a)),d=s[l];e.scan(h=>{const p=c.get(h);f[h]=ya(p)?p:d(h)})}),i?e:e.create(o)}function aHe(e,t,n){const r=e.groups(),i=e.data(),s=(r?r.names:[]).concat(t),o=(r?r.get:[]).concat(t.map(p=>e.getter(p))),a=new Set,u=uT(o);e.scan((p,m)=>a.add(u(p,m)));const l=e.columnNames(),c=wo(),f=l.map(p=>c.add(p,[]));l.forEach((p,m)=>{const y=i[p],g=f[m];e.scan(_=>g.push(y.get(_)))});const d=uT(o.map((p,m)=>y=>y[m])),h=Xm("v","{"+f.map((p,m)=>`_${m}.push(v[$${m}]);`).join("")+"}",f,l.map(p=>s.indexOf(p)));if(r){let p=r.keys.length;const m=n.reduce((g,_)=>g*_.length,r.size),y=new Uint32Array(m+(p-a.size));y.set(r.keys),OU(r,n,(g,_)=>{a.has(d(g))||(h(g),y[p++]=_[0])}),c.groupby({...r,keys:y})}else OU(r,n,p=>{a.has(d(p))||h(p)});return e.create(c.new())}function OU(e,t,n){const r=e?e.get.length:0,i=e?1:0,s=i+t.length,o=new Int32Array(s),a=new Int32Array(s),u=[];if(e){const{get:c,rows:f,size:d}=e;o[0]=d,u.push((h,p)=>{const m=f[p];for(let y=0;y<r;++y)h[y]=c[y](m)})}t.forEach((c,f)=>{const d=f+r;o[f+i]=c.length,u.push((h,p)=>h[d]=c[p])});const l=Array(r+t.length);for(let c=0;c<s;++c)u[c](l,0);n(l,a);for(let c=s-1;c>=0;){const f=++a[c];f<o[c]?(u[c](l,f),n(l,a),c=s-1):(a[c]=0,u[c](l,0),--c)}}function I3(e,{names:t,exprs:n,ops:r}){const i=wo(),s=e.groups();return s&&qre(i,s),uHe(t,n,s,Jm(e,r),i),e.create(i.new())}function uHe(e,t,n,r=[],i){if(!t.length)return;const s=n?n.size:1,o=(u,l)=>r[u][l],a=e.length;for(let u=0;u<a;++u){const l=t[u];if(l.field!=null)i.add(e[u],r[l.field]);else if(s>1){const c=i.add(e[u],Array(s));for(let f=0;f<s;++f)c[f]=l(f,null,o)}else i.add(e[u],[l(0,null,o)])}}function lHe(e,t,n={}){if(t=Vs(t,{table:e}),t.names.forEach(r=>e.column(r)?0:jt(`Invalid impute column ${wu(r)}`)),n.expand){const r={preparse:cHe,aggronly:!0},i=Ca("impute",e,n.expand,r),s=I3(e.ungroup(),i);return AU(e,t,i.names,i.names.map(o=>s.get(o,0)))}else return AU(e,t)}function cHe(e){e.forEach((t,n)=>t.field?e.set(n,Eee(t+"")):0)}function fHe(e,t){const n=e.columnNames();return t.length?t.reduce((r,i)=>r.semijoin(i.select(n)),e).dedupe():e.reify([])}function Qre(e,t){const n=new Map;return e.scan((r,i)=>{const s=t(r,i);s!=null&&s===s&&n.set(s,r)}),n}function dHe(e,t,n){const r=new Map,i=e.length;for(let s=0;s<i;++s){const o=e[s],a=n(o,t);a!=null&&a===a&&(r.has(a)?r.get(a).push(s):r.set(a,[s]))}return r}function hHe(e,t){const n=["i","a","j","b"];return Xm(n,"{"+J_(e,(r,i)=>`_${i}.push($${i}(${n}));`)+"}",e,t)}function pHe(e,t,n,{names:r,exprs:i},s={}){const o=e.data(),a=e.indices(!1),u=a.length,l=new Int32Array(u),c=t.data(),f=t.indices(!1),d=f.length,h=new Int32Array(d),p=r.length,m=wo(),y=Array(p),g=Array(p);for(let T=0;T<r.length;++T)y[T]=m.add(r[T],[]),g[T]=i[T];const _=hHe(y,g);if((yn(n)?gHe:mHe)(_,n,o,c,a,f,l,h,u,d),s.left)for(let T=0;T<u;++T)l[T]||_(a[T],o,-1,c);if(s.right)for(let T=0;T<d;++T)h[T]||_(-1,o,f[T],c);return e.create(m.new())}function mHe(e,t,n,r,i,s,o,a,u,l){for(let c=0;c<u;++c){const f=i[c];for(let d=0;d<l;++d){const h=s[d];t(f,n,h,r)&&(e(f,n,h,r),o[c]=1,a[d]=1)}}}function gHe(e,[t,n],r,i,s,o,a,u,l,c){let f,d,h,p,m,y,g,_,b=e;l>=c?(f=r,d=t,h=a,p=s,m=i,y=n,g=u,_=o):(f=i,d=n,h=u,p=o,m=r,y=t,g=a,_=s,b=(E,S,A,L)=>e(A,L,E,S));const T=dHe(_,m,y),I=p.length;for(let E=0;E<I;++E){const S=p[E],A=T.get(d(S,f));if(A){const L=A.length;for(let W=0;W<L;++W){const z=A[W];b(S,f,_[z],m),g[z]=1}h[E]=1}}}function PT(e,t,n){const r=new Map;js(n).forEach((s,o)=>{s=cs(s)?t.columnName(s):s,Li(s)?r.set(o,Md(s)):er(s)||Xi(s)&&s.expr?r.set(o,s):jt(`Invalid ${e} key value: ${s+""}`)});const i=Vs(r,{table:t,aggregate:!1,window:!1});return uT(i.exprs,!0)}function yHe(e,t){const n=new Set(t);return e.filter(r=>n.has(r))}function x3(e,t,n){if(n)Li(n)?n=[n,n]:yn(n)&&n.length===1&&(n=[n[0],n[0]]);else{const r=yHe(e.columnNames(),t.columnNames());r.length||jt("Natural join requires shared column names."),n=[r,r]}return n}function Xre(e,t,n,r){return n.length!==r.length&&jt("Mismatched number of join keys"),[PT("join",e,n),PT("join",t,r)]}const _He={aggregate:!1,window:!1},vHe={..._He,index:1};function PU(e,t,n,r,i={}){n=x3(e,t,n);const s={join:[e,t]};let o;if(yn(n)){const[a,u]=n.map(js);o=Xre(e,t,a,u),r||(r=bHe(e,a,u,i))}else o=Vs({on:n},s).exprs[0],r||(r=[hm(),hm()]);return pHe(e,t,o,EHe(e,t,r,s,i&&i.suffix),i)}function bHe(e,t,n,r){const i=[];t.forEach((o,a)=>Li(o)&&o===n[a]?i.push(o):0);const s=Bne(i);if(r.left&&r.right){const o=new Set(i);return[e.columnNames().map(a=>{const u=`[${wu(a)}]`;return o.has(a)?{[a]:`(a, b) => a${u} == null ? b${u} : a${u}`}:a}),s]}return r.right?[s,hm()]:[hm(),s]}function EHe(e,t,n,r,i=[]){if(yn(n)){let s,o,a,u=n.length;s=o=a={names:[],exprs:[]},u--&&(s=Ca("join",e,n[0],r)),u--&&(o=Ca("join",t,n[1],vHe)),u--&&(a=Vs(n[2],r));const l=new Set,c=new Set(s.names);return o.names.forEach(f=>{c.has(f)&&l.add(f)}),l.size&&(RU(s.names,l,i[0]||"_1"),RU(o.names,l,i[1]||"_2")),{names:s.names.concat(o.names,a.names),exprs:s.exprs.concat(o.exprs,a.exprs)}}else return Vs(n,r)}function RU(e,t,n){e.forEach((r,i)=>t.has(r)?e[i]=r+n:0)}function wHe(e,t,n,r={}){const i=new Yre(e.totalRows());return(yn(n)?THe:SHe)(i,e,t,n),r.anti&&i.not().and(e.mask()),e.create({filter:i})}function THe(e,t,n,[r,i]){const s=Qre(n,i);t.scan((o,a)=>{s.get(r(o,a))>=0&&e.set(o)})}function SHe(e,t,n,r){const i=t.numRows(),s=n.numRows(),o=t.data(),a=n.data();if(t.isFiltered()||n.isFiltered()){const u=t.indices(!1),l=n.indices(!1);for(let c=0;c<i;++c){const f=u[c];for(let d=0;d<s;++d)if(r(f,o,l[d],a)){e.set(f);break}}}else for(let u=0;u<i;++u)for(let l=0;l<s;++l)if(r(u,o,l,a)){e.set(u);break}}function NU(e,t,n,r){n=x3(e,t,n);const i=yn(n)?Xre(e,t,...n.map(js)):Vs({on:n},{join:[e,t]}).exprs[0];return wHe(e,t,i,r)}function IHe(e,t,[n,r],{names:i,exprs:s,ops:o}){const a=wo(e),u=e.totalRows();i.forEach(d=>a.add(d,Array(u).fill(dn)));const l=Qre(t,r),c=Xm(["lr","rr","data"],"{"+J_(i,(d,h)=>`_[${h}][lr] = $[${h}](rr, data);`)+"}",i.map(d=>a.data[d]),ah(t,o,s)),f=t.data();return e.scan((d,h)=>{const p=l.get(n(d,h));p>=0&&c(d,p,f)}),e.create(a)}function xHe(e,t,n,r){return n=x3(e,t,n),IHe(e,t,[PT("lookup",e,n[0]),PT("lookup",t,n[1])],Ca("lookup",t,r))}const eR=(e,t)=>e??t;function CHe(e,t,n,r={}){const{keys:i,keyColumn:s}=AHe(e,t,r),o=eR(r.valueSeparator,"_"),a=n.names.length>1?(l,c)=>c+o+i[l]:l=>i[l],u=i.map(l=>Jm(e,n.ops.map(c=>{if(c.name==="count"){const d=h=>l===s[h]?1:NaN;return d.toString=()=>l+":1",{...c,name:"sum",fields:[d]}}const f=c.fields.map(d=>{const h=(p,m)=>l===s[p]?d(p,m):NaN;return h.toString=()=>l+":"+d,h});return{...c,fields:f}})));return e.create(OHe(n,a,e.groups(),u))}function AHe(e,t,n){const r=n.limit>0?+n.limit:1/0,i=eR(n.sort,!0),s=eR(n.keySeparator,"_"),o=ah(e,t.ops,t.exprs),a=o.length===1?o[0]:(f,d)=>o.map(h=>h(f,d)).join(s),u=Array(e.totalRows());e.scan((f,d)=>u[f]=a(f,d));const l=Jm(e.ungroup(),[{id:0,name:"array_agg_distinct",fields:[f=>u[f]],params:[]}])[0][0],c=i?l.sort():l;return{keys:Number.isFinite(r)?c.slice(0,r):c,keyColumn:u}}function OHe({names:e,exprs:t},n,r,i){const s=r?r.size:1,o=wo(),a=i.length,u=e.length;let l;const c=(f,d)=>l[f][d];r&&qre(o,r);for(let f=0;f<u;++f){const d=t[f];if(d.field!=null)for(let h=0;h<a;++h)o.add(n(h,e[f]),i[h][d.field]);else if(s>1)for(let h=0;h<a;++h){l=i[h];const p=o.add(n(h,e[f]),Array(s));for(let m=0;m<s;++m)p[m]=d(m,null,c)}else for(let h=0;h<a;++h)l=i[h],o.add(n(h,e[f]),[d(0,null,c)])}return o.new()}function PHe(e,t,n,r){return CHe(e,Ca("fold",e,t),Ca("fold",e,n,{preparse:RHe,aggronly:!0}),r)}function RHe(e){e.forEach((t,n)=>t.field?e.set(n,_ee(t+"")):0)}function NHe(e,t){const n=new Map;return e.columnNames(r=>(n.set(r,r),0)),E3(e,Pl(e,t,n))}function kU(e,t){return I3(e,Vs(t,{table:e,aggronly:!0,window:!1}))}function kHe(e,t,n,r){return(t?r?$He:DHe:r?MHe:LHe)(e.length,e,n,r)}function DHe(e,t,n){const r=n.length;for(let i=0;i<e;++i)t[i]=n[r*zm()|0];return t}function $He(e,t,n,r){const i=n.length,s=new Float64Array(i);let o=0;for(let u=0;u<i;++u)s[u]=o+=r(n[u]);const a=Gre(w3).right;for(let u=0;u<e;++u)t[u]=n[a(s,o*zm())];return t}function LHe(e,t,n){const r=n.length;if(e>=r)return n;for(let i=0;i<e;++i)t[i]=n[i];for(let i=e;i<r;++i){const s=i*zm();s<e&&(t[s|0]=n[i])}return t}function MHe(e,t,n,r){const i=n.length;if(e>=i)return n;const s=new Float32Array(i),o=new Uint32Array(i);for(let a=0;a<i;++a)o[a]=a,s[a]=-Math.log(zm())/r(n[a]);o.sort((a,u)=>s[a]-s[u]);for(let a=0;a<e;++a)t[a]=n[o[a]];return t}function FHe(e,t=0,n=e.length){let r=n-(t=+t);for(;r;){const i=zm()*r--|0,s=e[r+t];e[r+t]=e[i+t],e[i+t]=s}return e}function BHe(e,t,n,r={}){const{replace:i,shuffle:s}=r,o=e.partitions(!1);let a=0;t=o.map((c,f)=>{let d=t(f);return a+=d=i?d:Math.min(c.length,d),d});const u=new Uint32Array(a);let l=0;return o.forEach((c,f)=>{const d=t[f],h=u.subarray(l,l+=d);!i&&d===c.length?h.set(c):kHe(h,i,c,n)}),s!==!1&&(o.length>1||!i)&&FHe(u),e.reify(u)}function jHe(e,t,n={}){return BHe(e,UHe(e,t),VHe(e,n.weight),n)}const Jre=e=>t=>e.get(t)||0;function UHe(e,t){return cs(t)?()=>t:Jre(I3(e,Vs({size:t},{table:e,window:!1})).column("size"))}function VHe(e,t){return t==null?null:(t=cs(t)?e.columnName(t):t,Jre(Li(t)?e.column(t):S3(e,Vs({w:t},{table:e}),{drop:!0}).column("w")))}function zHe(e,t){return E3(e,Pl(e,t))}function HHe(e,{names:t,exprs:n,ops:r=[]},i={}){if(t.length===0)return e;const s=t.length===1&&i.as||[],o=i.drop==null?!0:!!i.drop,a=i.limit==null?s.length||1/0:Math.max(1,+i.limit||1),u=ah(e,r,n),l=wo(),c=t.reduce((d,h,p)=>d.set(h,p),new Map),f=(d,h)=>{const p=WHe(e,u[d],a),m=p.length;for(let y=0;y<m;++y)l.add(s[y]||`${h}_${y+1}`,p[y])};return e.columnNames().forEach(d=>{c.has(d)?(o||l.add(d,e.column(d)),f(c.get(d),d),c.delete(d)):l.add(d,e.column(d))}),c.forEach(f),e.create(l)}function WHe(e,t,n){const r=e.totalRows(),i=[];return e.scan((s,o)=>{const a=js(t(s,o)),u=Math.min(a.length,n);for(;i.length<u;)i.push(Array(r).fill(dn));for(let l=0;l<u;++l)i[l][s]=a[l]}),i}function qHe(e,t,n){return HHe(e,Ca("spread",e,t),n)}function GHe(e,t){return e.concat(t).dedupe()}function YHe(e,t,n){return Kre(e,Ca("unroll",e,t),n&&n.drop?{...n,drop:Ca("unroll",e,n.drop).names}:n)}function KHe(e,t){return e.create({groups:QHe(e,t)})}function QHe(e,{names:t=[],exprs:n=[],ops:r=[]}){const i=t.length;if(i===0)return null;if(i===1&&!e.isFiltered()&&n[0].field){const h=e.column(n[0].field);if(h.groups)return h.groups(t)}let s=ah(e,r,n);const o=uT(s),a=e.totalRows(),u=new Uint32Array(a),l={},c=[],f=e.data(),d=e.mask();if(d)for(let h=d.next(0);h>=0;h=d.next(h+1)){const p=o(h,f)+"",m=l[p];u[h]=m??(l[p]=c.push(h)-1)}else for(let h=0;h<a;++h){const p=o(h,f)+"",m=l[p];u[h]=m??(l[p]=c.push(h)-1)}return r.length||(s=s.map(h=>p=>h(p,f))),{keys:u,get:s,names:t,rows:c,size:c.length}}function XHe(e,t){return KHe(e,Ca("groupby",e,t))}function JHe(e,t){return e.create({order:t})}const ZHe=(e,t,n,r)=>`((u = ${e}) < (v = ${t}) || u == null) && v != null ? ${n}
    : (u > v || v == null) && u != null ? ${r}
    : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${n}
    : v !== v && u === u ? ${r} : `;function eWe(e,t){const n=[],r=[],i=[];let s=null,o="0",a="0";e.isGrouped()&&(s=e.groups().keys,o="ka",a="kb");const{ops:u}=Vs(t,{table:e,value:(h,p)=>{if(n.push(h),p.escape){const m=y=>`fn[${i.length}](${y}, data)`;r.push([m("a"),m("b")]),i.push(p.escape)}else r.push([aT(p,{index:"a",op:o}),aT(p,{index:"b",op:a})])},window:!1}),l=Jm(e,u),c=(h,p)=>l[h][p],f=n.length;let d="return (a, b) => {"+(c&&e.isGrouped()?"const ka = keys[a], kb = keys[b];":"")+"let u, v; return ";for(let h=0;h<f;++h){const p=t.get(n[h]).desc?-1:1,[m,y]=r[h];d+=ZHe(m,y,-p,p)}return d+="0;};",Function("op","keys","fn","data",d)(c,s,i,e.data())}function tWe(e,t){return JHe(e,nWe(e,t))}function nWe(e,t){let n=-1;const r=new Map,i=s=>r.set(++n+"",s);return t.forEach(s=>{const o=s.expr!=null?s.expr:s;if(Xi(o)&&!er(o))for(const a in o)i(o[a]);else i(cs(o)?Md(s,e.columnName(o)):Li(o)?Md(s):er(o)?s:jt(`Invalid orderby field: ${s+""}`))}),eWe(e,r)}function rWe(e,t){const n=e.numRows(),r=n+t.reduce((o,a)=>o+a.numRows(),0);if(n===r)return e;const i=[e,...t],s=wo();return e.columnNames().forEach(o=>{const a=Array(r);let u=0;i.forEach(l=>{const c=l.column(o)||{get:()=>dn};l.scan(f=>a[u++]=c.get(f))}),s.add(o,a)}),e.create(s.new())}function iWe(e,t){const n=wo(),r=e.groups(),{get:i,names:s=[],rows:o,size:a=1}=r||{},u=new Uint32Array(a+1);s.forEach(d=>n.add(d,null));const l=r?Wre(e,t,r):[Hre(e,t)];t.outputs().map(d=>n.add(d,[]));const c=u.length-1;let f=0;for(let d=0;d<c;++d)f+=u[d+1]=t.write(l[d],n.data,u[d]);if(r){const d=e.data();s.forEach((h,p)=>{const m=n.data[h]=Array(f),y=i[p];for(let g=0,_=0;g<a;++g)m.fill(y(o[g],d),_,_+=u[g+1])})}return e.create(n.new())}function sWe(e){return e.isGrouped()?e.create({groups:null}):e}function oWe(e){return e.isOrdered()?e.create({order:null}):e}const aWe={__antijoin:(e,t,n)=>NU(e,t,n,{anti:!0}),__count:(e,t={})=>kU(e,{[t.as||"count"]:vee()}),__cross:(e,t,n,r)=>PU(e,t,()=>!0,n,{...r,left:!0,right:!0}),__concat:rWe,__dedupe:Dze,__derive:Zze,__except:eHe,__filter:rHe,__fold:sHe,__impute:lHe,__intersect:fHe,__join:PU,__lookup:xHe,__pivot:PHe,__relocate:Vre,__rename:NHe,__rollup:kU,__sample:jHe,__select:zHe,__semijoin:NU,__spread:qHe,__union:GHe,__unroll:YHe,__groupby:XHe,__orderby:tWe,__ungroup:sWe,__unorder:oWe,__reduce:iWe};Object.assign(Ku.prototype,aWe);function uWe(e,t){return Ku.from(e,t)}function lWe(e){return XI(e,{escape:!0,toString(){jt("Escaped values can not be serialized.")}})}Ku.prototype;const ia={top:30,left:60,right:80,bottom:50};function Zre({data:e,selection:t,parameters:n}){const[r,{width:i,height:s}]=ZN();console.log(n);const o=w.useMemo(()=>{const c=e.map(f=>({...f,value:+f[n.y_var]}));return uWe(c)},[e,n]),a=w.useMemo(()=>{const c=Sp(o.filter(lWe(f=>t.includes(f[n.cat_var]))).array("value"));return n.dataset==="clean_stocks"?c:[0,c[1]]},[o,t,n]),u=w.useMemo(()=>OI([ia.top,s-ia.bottom]).domain(Sp(o.array("value")).reverse()),[o,s]),l=n.dataset==="clean_stocks"?Vc(".0%"):Vc(",.0f");return console.log(a),console.log(u.domain(),u.range(),e),(t==null?void 0:t.length)===0?null:$.jsxs("svg",{ref:r,style:{height:"400px",width:"60px",overflow:"visible"},children:[$.jsx("rect",{y:u(a[1]),height:u(a[0])-u(a[1]),x:ia.left-10,width:10,opacity:.1,fill:"black"}),$.jsx("text",{style:{fontSize:10,dominantBaseline:"middle",textAnchor:"middle",fontFamily:'"Helvetica Neue", Helvetica, Arial, sans-serif'},x:25,y:ia.top-5,children:l(u.domain()[0])}),$.jsx("text",{style:{fontSize:10,dominantBaseline:"middle",textAnchor:"middle",fontFamily:'"Helvetica Neue", Helvetica, Arial, sans-serif'},x:25,y:s-ia.bottom+8,children:l(u.domain()[1])}),$.jsx("text",{style:{fontSize:10,dominantBaseline:"middle",fontFamily:'"Helvetica Neue", Helvetica, Arial, sans-serif'},x:ia.left-5,y:u(a[0]),children:l(a[0])}),$.jsx("text",{style:{fontSize:10,dominantBaseline:"middle",fontFamily:'"Helvetica Neue", Helvetica, Arial, sans-serif'},x:ia.left-5,y:u(a[1]),children:l(a[1])}),e.map(c=>$.jsx("rect",{opacity:.2,fill:+c[n.y_var]>0?"steelblue":"firebrick",x:0,width:50,y:u(+c[n.y_var]),height:1})),$.jsx("line",{strokeWidth:2,stroke:"black",style:{fontSize:10,dominantBaseline:"middle"},x1:0,x2:50,y1:u(a[0]),y2:u(a[0])}),$.jsx("line",{strokeWidth:2,stroke:"black",x1:0,x2:50,y1:u(a[1]),y2:u(a[1])}),$.jsx("line",{strokeWidth:2,stroke:"black",x1:0,x2:0,y1:u(a[1]),y2:u(a[0])}),$.jsx("line",{strokeWidth:2,stroke:"black",x1:50,x2:50,y1:u(a[1]),y2:u(a[0])}),$.jsx("path",{fill:"black",opacity:"0.1",d:`M${ia.left}, ${u(a[1])} L ${i+20+33}, ${ia.top} L ${i+20+33}, ${s-ia.bottom} L ${ia.left}, ${u(a[0])}`})]})}const cWe=Object.freeze(Object.defineProperty({__proto__:null,Histogram:Zre},Symbol.toStringTag,{value:"Module"}));function fWe(){const e=new Map;return{listen(t,n){return e.has(t)||e.set(t,[]),e.get(t).push(n),()=>{e.set(t,(e.get(t)||[]).filter(r=>r!==n))}},fire(t,n){const r=e.get(t);r&&r.forEach(i=>i(n))}}}let v1;const dWe=new Uint8Array(16);function hWe(){if(!v1&&(v1=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!v1))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return v1(dWe)}const bi=[];for(let e=0;e<256;++e)bi.push((e+256).toString(16).slice(1));function pWe(e,t=0){return(bi[e[t+0]]+bi[e[t+1]]+bi[e[t+2]]+bi[e[t+3]]+"-"+bi[e[t+4]]+bi[e[t+5]]+"-"+bi[e[t+6]]+bi[e[t+7]]+"-"+bi[e[t+8]]+bi[e[t+9]]+"-"+bi[e[t+10]]+bi[e[t+11]]+bi[e[t+12]]+bi[e[t+13]]+bi[e[t+14]]+bi[e[t+15]]).toLowerCase()}const mWe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),DU={randomUUID:mWe};function $U(e,t,n){if(DU.randomUUID&&!t&&!e)return DU.randomUUID();e=e||{};const r=e.random||(e.rng||hWe)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=r[i];return t}return pWe(r)}let pu=class{static get(){let t=$U();for(;this.ids.has(t);)t=$U();return this.ids.set(t,!0),t}};pu.ids=new Map;function mu(e){return"parent"in e}function gWe(e){const{label:t=void 0,state:n,initialArtifact:r,initialMetadata:i}=e,s={annotation:[],bookmark:[]},o=Object.keys(i||{}).reduce((u,l)=>(u[l]=[],i&&i[l]&&u[l].push({type:l,id:pu.get(),val:i[l],createdOn:Date.now()}),u),s),a=r?[{id:pu.get(),createdOn:Date.now(),val:r}]:[];return{id:pu.get(),label:t||"Root",event:"Root",children:[],level:0,createdOn:Date.now(),meta:o,artifacts:a,state:{type:"checkpoint",val:n}}}function yWe({parent:e,state:t,label:n,sideEffects:r={do:[],undo:[]},initialMetadata:i,initialArtifact:s,event:o}){const a={annotation:[],bookmark:[]},u=Object.keys(i||{}).reduce((c,f)=>(c[f]=[],i&&i[f]&&c[f].push({type:f,id:pu.get(),val:i[f],createdOn:Date.now()}),c),a),l=s?[{id:pu.get(),createdOn:Date.now(),val:s}]:[];return{id:pu.get(),label:n,event:o,children:[],parent:e.id,createdOn:Date.now(),meta:u,artifacts:l,sideEffects:r,state:t,level:e.level+1}}function xr(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if({}.NODE_ENV!=="production"){var i=xWe[e],s=i?typeof i=="function"?i.apply(null,n):i:"unknown error nr: "+e;throw Error("[Immer] "+s)}throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(o){return"'"+o+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Fd(e){return!!e&&!!e[mo]}function lf(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===CWe}(e)||Array.isArray(e)||!!e[Hg]||!!(!((t=e.constructor)===null||t===void 0)&&t[Hg])||JI(e)||ZI(e))}function gm(e,t,n){n===void 0&&(n=!1),cf(e)===0?(n?Object.keys:N3)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function cf(e){var t=e[mo];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:JI(e)?2:ZI(e)?3:0}function Vy(e,t){return cf(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function mb(e,t){return cf(e)===2?e.get(t):e[t]}function eie(e,t,n){var r=cf(e);r===2?e.set(t,n):r===3?(e.delete(t),e.add(n)):e[t]=n}function _We(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function JI(e){return SWe&&e instanceof Map}function ZI(e){return IWe&&e instanceof Set}function Ff(e){return e.o||e.t}function C3(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=AWe(e);delete t[mo];for(var n=N3(t),r=0;r<n.length;r++){var i=n[r],s=t[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function A3(e,t){return t===void 0&&(t=!1),O3(e)||Fd(e)||!lf(e)||(cf(e)>1&&(e.set=e.add=e.clear=e.delete=vWe),Object.freeze(e),t&&gm(e,function(n,r){return A3(r,!0)},!0)),e}function vWe(){xr(2)}function O3(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function gu(e){var t=iR[e];return t||xr(18,e),t}function bWe(e,t){iR[e]||(iR[e]=t)}function LU(){return{}.NODE_ENV==="production"||ym||xr(0),ym}function KA(e,t){t&&(gu("Patches"),e.u=[],e.s=[],e.v=t)}function RT(e){tR(e),e.p.forEach(EWe),e.p=null}function tR(e){e===ym&&(ym=e.l)}function MU(e){return ym={p:[],l:ym,h:e,m:!0,_:0}}function EWe(e){var t=e[mo];t.i===0||t.i===1?t.j():t.O=!0}function QA(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.g||gu("ES5").S(t,e,r),r?(n[mo].P&&(RT(t),xr(4)),lf(e)&&(e=NT(t,e),t.l||kT(t,e)),t.u&&gu("Patches").M(n[mo].t,e,t.u,t.s)):e=NT(t,n,[]),RT(t),t.u&&t.v(t.u,t.s),e!==R3?e:void 0}function NT(e,t,n){if(O3(t))return t;var r=t[mo];if(!r)return gm(t,function(s,o){return FU(e,r,t,s,o,n)},!0),t;if(r.A!==e)return t;if(!r.P)return kT(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=C3(r.k):r.o;gm(r.i===3?new Set(i):i,function(s,o){return FU(e,r,i,s,o,n)}),kT(e,i,!1),n&&e.u&&gu("Patches").R(r,n,e.u,e.s)}return r.o}function FU(e,t,n,r,i,s){if({}.NODE_ENV!=="production"&&i===n&&xr(5),Fd(i)){var o=NT(e,i,s&&t&&t.i!==3&&!Vy(t.D,r)?s.concat(r):void 0);if(eie(n,r,o),!Fd(o))return;e.m=!1}if(lf(i)&&!O3(i)){if(!e.h.F&&e._<1)return;NT(e,i),t&&t.A.l||kT(e,i)}}function kT(e,t,n){n===void 0&&(n=!1),e.h.F&&e.m&&A3(t,n)}function XA(e,t){var n=e[mo];return(n?Ff(n):e)[t]}function BU(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function nR(e){e.P||(e.P=!0,e.l&&nR(e.l))}function JA(e){e.o||(e.o=C3(e.t))}function rR(e,t,n){var r=JI(t)?gu("MapSet").N(t,n):ZI(t)?gu("MapSet").T(t,n):e.g?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:LU(),P:!1,I:!1,D:{},l:s,t:i,k:null,o:null,j:null,C:!1},u=a,l=sR;o&&(u=[a],l=ag);var c=Proxy.revocable(u,l),f=c.revoke,d=c.proxy;return a.k=d,a.j=f,d}(t,n):gu("ES5").J(t,n);return(n?n.A:LU()).p.push(r),r}function wWe(e){return Fd(e)||xr(22,e),function t(n){if(!lf(n))return n;var r,i=n[mo],s=cf(n);if(i){if(!i.P&&(i.i<4||!gu("ES5").K(i)))return i.t;i.I=!0,r=jU(n,s),i.I=!1}else r=jU(n,s);return gm(r,function(o,a){i&&mb(i.t,o)===a||eie(r,o,t(a))}),s===3?new Set(r):r}(e)}function jU(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return C3(e)}function TWe(){function e(r){if(!lf(r))return r;if(Array.isArray(r))return r.map(e);if(JI(r))return new Map(Array.from(r.entries()).map(function(o){return[o[0],e(o[1])]}));if(ZI(r))return new Set(Array.from(r).map(e));var i=Object.create(Object.getPrototypeOf(r));for(var s in r)i[s]=e(r[s]);return Vy(r,Hg)&&(i[Hg]=r[Hg]),i}function t(r){return Fd(r)?e(r):r}var n="add";bWe("Patches",{$:function(r,i){return i.forEach(function(s){for(var o=s.path,a=s.op,u=r,l=0;l<o.length-1;l++){var c=cf(u),f=""+o[l];c!==0&&c!==1||f!=="__proto__"&&f!=="constructor"||xr(24),typeof u=="function"&&f==="prototype"&&xr(24),typeof(u=mb(u,f))!="object"&&xr(15,o.join("/"))}var d=cf(u),h=e(s.value),p=o[o.length-1];switch(a){case"replace":switch(d){case 2:return u.set(p,h);case 3:xr(16);default:return u[p]=h}case n:switch(d){case 1:return p==="-"?u.push(h):u.splice(p,0,h);case 2:return u.set(p,h);case 3:return u.add(h);default:return u[p]=h}case"remove":switch(d){case 1:return u.splice(p,1);case 2:return u.delete(p);case 3:return u.delete(s.value);default:return delete u[p]}default:xr(17,a)}}),r},R:function(r,i,s,o){switch(r.i){case 0:case 4:case 2:return function(a,u,l,c){var f=a.t,d=a.o;gm(a.D,function(h,p){var m=mb(f,h),y=mb(d,h),g=p?Vy(f,h)?"replace":n:"remove";if(m!==y||g!=="replace"){var _=u.concat(h);l.push(g==="remove"?{op:g,path:_}:{op:g,path:_,value:y}),c.push(g===n?{op:"remove",path:_}:g==="remove"?{op:n,path:_,value:t(m)}:{op:"replace",path:_,value:t(m)})}})}(r,i,s,o);case 5:case 1:return function(a,u,l,c){var f=a.t,d=a.D,h=a.o;if(h.length<f.length){var p=[h,f];f=p[0],h=p[1];var m=[c,l];l=m[0],c=m[1]}for(var y=0;y<f.length;y++)if(d[y]&&h[y]!==f[y]){var g=u.concat([y]);l.push({op:"replace",path:g,value:t(h[y])}),c.push({op:"replace",path:g,value:t(f[y])})}for(var _=f.length;_<h.length;_++){var b=u.concat([_]);l.push({op:n,path:b,value:t(h[_])})}f.length<h.length&&c.push({op:"replace",path:u.concat(["length"]),value:f.length})}(r,i,s,o);case 3:return function(a,u,l,c){var f=a.t,d=a.o,h=0;f.forEach(function(p){if(!d.has(p)){var m=u.concat([h]);l.push({op:"remove",path:m,value:p}),c.unshift({op:n,path:m,value:p})}h++}),h=0,d.forEach(function(p){if(!f.has(p)){var m=u.concat([h]);l.push({op:n,path:m,value:p}),c.unshift({op:"remove",path:m,value:p})}h++})}(r,i,s,o)}},M:function(r,i,s,o){s.push({op:"replace",path:[],value:i===R3?void 0:i}),o.push({op:"replace",path:[],value:r})}})}var UU,ym,P3=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",SWe=typeof Map<"u",IWe=typeof Set<"u",VU=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",R3=P3?Symbol.for("immer-nothing"):((UU={})["immer-nothing"]=!0,UU),Hg=P3?Symbol.for("immer-draftable"):"__$immer_draftable",mo=P3?Symbol.for("immer-state"):"__$immer_state",xWe={0:"Illegal state",1:"Immer drafts cannot have computed properties",2:"This object has been frozen and should not be mutated",3:function(e){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+e},4:"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.",5:"Immer forbids circular references",6:"The first or second argument to `produce` must be a function",7:"The third argument to `produce` must be a function or undefined",8:"First argument to `createDraft` must be a plain object, an array, or an immerable object",9:"First argument to `finishDraft` must be a draft returned by `createDraft`",10:"The given draft is already finalized",11:"Object.defineProperty() cannot be used on an Immer draft",12:"Object.setPrototypeOf() cannot be used on an Immer draft",13:"Immer only supports deleting array indices",14:"Immer only supports setting array indices and the 'length' property",15:function(e){return"Cannot apply patch, path doesn't resolve: "+e},16:'Sets cannot have "replace" patches.',17:function(e){return"Unsupported patch operation: "+e},18:function(e){return"The plugin for '"+e+"' has not been loaded into Immer. To enable the plugin, import and call `enable"+e+"()` when initializing your application."},20:"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available",21:function(e){return"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '"+e+"'"},22:function(e){return"'current' expects a draft, got: "+e},23:function(e){return"'original' expects a draft, got: "+e},24:"Patching reserved attributes like __proto__, prototype and constructor is not allowed"},CWe=""+Object.prototype.constructor,N3=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,AWe=Object.getOwnPropertyDescriptors||function(e){var t={};return N3(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},iR={},sR={get:function(e,t){if(t===mo)return e;var n=Ff(e);if(!Vy(n,t))return function(i,s,o){var a,u=BU(s,o);return u?"value"in u?u.value:(a=u.get)===null||a===void 0?void 0:a.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!lf(r)?r:r===XA(e.t,t)?(JA(e),e.o[t]=rR(e.A.h,r,e)):r},has:function(e,t){return t in Ff(e)},ownKeys:function(e){return Reflect.ownKeys(Ff(e))},set:function(e,t,n){var r=BU(Ff(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=XA(Ff(e),t),s=i==null?void 0:i[mo];if(s&&s.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(_We(n,i)&&(n!==void 0||Vy(e.t,t)))return!0;JA(e),nR(e)}return e.o[t]===n&&typeof n!="number"&&(n!==void 0||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return XA(e.t,t)!==void 0||t in e.t?(e.D[t]=!1,JA(e),nR(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Ff(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){xr(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){xr(12)}},ag={};gm(sR,function(e,t){ag[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),ag.deleteProperty=function(e,t){return{}.NODE_ENV!=="production"&&isNaN(parseInt(t))&&xr(13),ag.set.call(this,e,t,void 0)},ag.set=function(e,t,n){return{}.NODE_ENV!=="production"&&t!=="length"&&isNaN(parseInt(t))&&xr(14),sR.set.call(this,e[0],t,n,e[0])};var OWe=function(){function e(n){var r=this;this.g=VU,this.F=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var u=r;return function(m){var y=this;m===void 0&&(m=a);for(var g=arguments.length,_=Array(g>1?g-1:0),b=1;b<g;b++)_[b-1]=arguments[b];return u.produce(m,function(T){var I;return(I=s).call.apply(I,[y,T].concat(_))})}}var l;if(typeof s!="function"&&xr(6),o!==void 0&&typeof o!="function"&&xr(7),lf(i)){var c=MU(r),f=rR(r,i,void 0),d=!0;try{l=s(f),d=!1}finally{d?RT(c):tR(c)}return typeof Promise<"u"&&l instanceof Promise?l.then(function(m){return KA(c,o),QA(m,c)},function(m){throw RT(c),m}):(KA(c,o),QA(l,c))}if(!i||typeof i!="object"){if((l=s(i))===void 0&&(l=i),l===R3&&(l=void 0),r.F&&A3(l,!0),o){var h=[],p=[];gu("Patches").M(i,l,h,p),o(h,p)}return l}xr(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(l){for(var c=arguments.length,f=Array(c>1?c-1:0),d=1;d<c;d++)f[d-1]=arguments[d];return r.produceWithPatches(l,function(h){return i.apply(void 0,[h].concat(f))})};var o,a,u=r.produce(i,s,function(l,c){o=l,a=c});return typeof Promise<"u"&&u instanceof Promise?u.then(function(l){return[l,o,a]}):[u,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){lf(n)||xr(8),Fd(n)&&(n=wWe(n));var r=MU(this),i=rR(this,n,void 0);return i[mo].C=!0,tR(r),i},t.finishDraft=function(n,r){var i=n&&n[mo];({}).NODE_ENV!=="production"&&(i&&i.C||xr(9),i.I&&xr(10));var s=i.A;return KA(s,r),QA(void 0,s)},t.setAutoFreeze=function(n){this.F=n},t.setUseProxies=function(n){n&&!VU&&xr(20),this.g=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=gu("Patches").$;return Fd(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},e}(),go=new OWe,PWe=go.produce;go.produceWithPatches.bind(go);go.setAutoFreeze.bind(go);go.setUseProxies.bind(go);go.applyPatches.bind(go);go.createDraft.bind(go);go.finishDraft.bind(go);function RWe(e,t={}){const{artifact:n=void 0,metadata:r=void 0,rootLabel:i="Root"}=t,s=gWe({state:e,label:i,initialArtifact:n,initialMetadata:r}),o={nodes:{[s.id]:s},root:s.id,current:s.id};return LX({name:"provenance-graph",initialState:o,reducers:{addMetadata(a,u){const{id:l,meta:c}=u.payload,f=a.nodes[l].meta,d=Object.keys(c).reduce((h,p)=>(h[p]||(h[p]=[]),h[p].push({type:p,id:pu.get(),val:c[p],createdOn:Date.now()}),h),f);a.nodes[u.payload.id].meta=d},addArtifact(a,u){a.nodes[u.payload.id].artifacts.push({id:pu.get(),createdOn:Date.now(),val:u.payload.artifact})},changeCurrent(a,u){a.current=u.payload},addNode(a,{payload:u}){a.nodes[u.id]=u,a.nodes[u.parent].children.push(u.id),a.current=u.id},load(a,{payload:u}){return u}}})}function NWe(e){const t=new Map,{reducer:n,actions:r,getInitialState:i}=RWe(e),s=nNe();s.startListening({matcher:C9(r.changeCurrent,r.addNode),effect:(a,u)=>{u.cancelActiveListeners(),t.forEach(l=>{const c=C9(r.addNode)(a),{skipOnNew:f}=l.config;f&&c||l.func(c?"new":"traversal")})}});const o=DX({reducer:n,middleware:a=>a().prepend(s.middleware)});return{initialState:i(),get backend(){return o.getState()},get current(){return o.getState().nodes[o.getState().current]},get root(){return o.getState().nodes[o.getState().root]},currentChange(a,u){const l={id:pu.get(),func:a,config:u};return t.set(l.id,l),()=>t.delete(l.id)},update:o.dispatch,...r}}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var kWe=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),DWe=Object.prototype.hasOwnProperty;function oR(e,t){return DWe.call(e,t)}function aR(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var i in e)oR(e,i)&&r.push(i);return r}function Ds(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function uR(e){for(var t=0,n=e.length,r;t<n;){if(r=e.charCodeAt(t),r>=48&&r<=57){t++;continue}return!1}return!0}function Bf(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function tie(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function lR(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(lR(e[t]))return!0}else if(typeof e=="object"){for(var r=aR(e),i=r.length,s=0;s<i;s++)if(lR(e[r[s]]))return!0}}return!1}function zU(e,t){var n=[e];for(var r in t){var i=typeof t[r]=="object"?JSON.stringify(t[r],null,2):t[r];typeof i<"u"&&n.push(r+": "+i)}return n.join(`
`)}var nie=function(e){kWe(t,e);function t(n,r,i,s,o){var a=this.constructor,u=e.call(this,zU(n,{name:r,index:i,operation:s,tree:o}))||this;return u.name=r,u.index=i,u.operation=s,u.tree=o,Object.setPrototypeOf(u,a.prototype),u.message=zU(n,{name:r,index:i,operation:s,tree:o}),u}return t}(Error),wr=nie,$We=Ds,rp={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=DT(n,this.path);r&&(r=Ds(r));var i=bd(n,{op:"remove",path:this.from}).removed;return bd(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=DT(n,this.from);return bd(n,{op:"add",path:this.path,value:Ds(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:zy(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},LWe={add:function(e,t,n){return uR(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var r=e.splice(t,1);return{newDocument:n,removed:r[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:rp.move,copy:rp.copy,test:rp.test,_get:rp._get};function DT(e,t){if(t=="")return e;var n={op:"_get",path:t};return bd(e,n),n.value}function bd(e,t,n,r,i,s){if(n===void 0&&(n=!1),r===void 0&&(r=!0),i===void 0&&(i=!0),s===void 0&&(s=0),n&&(typeof n=="function"?n(t,0,e,t.path):$T(t,0)),t.path===""){var o={newDocument:e};if(t.op==="add")return o.newDocument=t.value,o;if(t.op==="replace")return o.newDocument=t.value,o.removed=e,o;if(t.op==="move"||t.op==="copy")return o.newDocument=DT(e,t.from),t.op==="move"&&(o.removed=e),o;if(t.op==="test"){if(o.test=zy(e,t.value),o.test===!1)throw new wr("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o.newDocument=e,o}else{if(t.op==="remove")return o.removed=e,o.newDocument=null,o;if(t.op==="_get")return t.value=e,o;if(n)throw new wr("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",s,t,e);return o}}else{r||(e=Ds(e));var a=t.path||"",u=a.split("/"),l=e,c=1,f=u.length,d=void 0,h=void 0,p=void 0;for(typeof n=="function"?p=n:p=$T;;){if(h=u[c],h&&h.indexOf("~")!=-1&&(h=tie(h)),i&&(h=="__proto__"||h=="prototype"&&c>0&&u[c-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&d===void 0&&(l[h]===void 0?d=u.slice(0,c).join("/"):c==f-1&&(d=t.path),d!==void 0&&p(t,0,e,d)),c++,Array.isArray(l)){if(h==="-")h=l.length;else{if(n&&!uR(h))throw new wr("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",s,t,e);uR(h)&&(h=~~h)}if(c>=f){if(n&&t.op==="add"&&h>l.length)throw new wr("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",s,t,e);var o=LWe[t.op].call(t,l,h,e);if(o.test===!1)throw new wr("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o}}else if(c>=f){var o=rp[t.op].call(t,l,h,e);if(o.test===!1)throw new wr("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o}if(l=l[h],n&&c<f&&(!l||typeof l!="object"))throw new wr("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",s,t,e)}}}function ex(e,t,n,r,i){if(r===void 0&&(r=!0),i===void 0&&(i=!0),n&&!Array.isArray(t))throw new wr("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=Ds(e));for(var s=new Array(t.length),o=0,a=t.length;o<a;o++)s[o]=bd(e,t[o],n,!0,i,o),e=s[o].newDocument;return s.newDocument=e,s}function MWe(e,t,n){var r=bd(e,t);if(r.test===!1)throw new wr("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function $T(e,t,n,r){if(typeof e!="object"||e===null||Array.isArray(e))throw new wr("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(rp[e.op]){if(typeof e.path!="string")throw new wr("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new wr('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new wr("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new wr("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&lR(e.value))throw new wr("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var i=e.path.split("/").length,s=r.split("/").length;if(i!==s+1&&i!==s)throw new wr("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==r)throw new wr("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var o={op:"_get",path:e.from,value:void 0},a=rie([o],n);if(a&&a.name==="OPERATION_PATH_UNRESOLVABLE")throw new wr("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new wr("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function rie(e,t,n){try{if(!Array.isArray(e))throw new wr("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)ex(Ds(t),Ds(e),n||!0);else{n=n||$T;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(i){if(i instanceof wr)return i;throw i}}function zy(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),r=Array.isArray(t),i,s,o;if(n&&r){if(s=e.length,s!=t.length)return!1;for(i=s;i--!==0;)if(!zy(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var a=Object.keys(e);if(s=a.length,s!==Object.keys(t).length)return!1;for(i=s;i--!==0;)if(!t.hasOwnProperty(a[i]))return!1;for(i=s;i--!==0;)if(o=a[i],!zy(e[o],t[o]))return!1;return!0}return e!==e&&t!==t}const FWe=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:wr,_areEquals:zy,applyOperation:bd,applyPatch:ex,applyReducer:MWe,deepClone:$We,getValueByPointer:DT,validate:rie,validator:$T},Symbol.toStringTag,{value:"Module"}));/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var k3=new WeakMap,BWe=function(){function e(t){this.observers=new Map,this.obj=t}return e}(),jWe=function(){function e(t,n){this.callback=t,this.observer=n}return e}();function UWe(e){return k3.get(e)}function VWe(e,t){return e.observers.get(t)}function zWe(e,t){e.observers.delete(t.callback)}function HWe(e,t){t.unobserve()}function WWe(e,t){var n=[],r,i=UWe(e);if(!i)i=new BWe(e),k3.set(e,i);else{var s=VWe(i,t);r=s&&s.observer}if(r)return r;if(r={},i.value=Ds(e),t){r.callback=t,r.next=null;var o=function(){cR(r)},a=function(){clearTimeout(r.next),r.next=setTimeout(o)};typeof window<"u"&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return r.patches=n,r.object=e,r.unobserve=function(){cR(r),clearTimeout(r.next),zWe(i,r),typeof window<"u"&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},i.observers.set(t,new jWe(t,r)),r}function cR(e,t){t===void 0&&(t=!1);var n=k3.get(e.object);D3(n.value,e.object,e.patches,"",t),e.patches.length&&ex(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function D3(e,t,n,r,i){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var s=aR(t),o=aR(e),a=!1,u=o.length-1;u>=0;u--){var l=o[u],c=e[l];if(oR(t,l)&&!(t[l]===void 0&&c!==void 0&&Array.isArray(t)===!1)){var f=t[l];typeof c=="object"&&c!=null&&typeof f=="object"&&f!=null&&Array.isArray(c)===Array.isArray(f)?D3(c,f,n,r+"/"+Bf(l),i):c!==f&&(i&&n.push({op:"test",path:r+"/"+Bf(l),value:Ds(c)}),n.push({op:"replace",path:r+"/"+Bf(l),value:Ds(f)}))}else Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+Bf(l),value:Ds(c)}),n.push({op:"remove",path:r+"/"+Bf(l)}),a=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}))}if(!(!a&&s.length==o.length))for(var u=0;u<s.length;u++){var l=s[u];!oR(e,l)&&t[l]!==void 0&&n.push({op:"add",path:r+"/"+Bf(l),value:Ds(t[l])})}}}function iie(e,t,n){n===void 0&&(n=!1);var r=[];return D3(e,t,r,"",n),r}const qWe=Object.freeze(Object.defineProperty({__proto__:null,compare:iie,generate:cR,observe:WWe,unobserve:HWe},Symbol.toStringTag,{value:"Module"}));Object.assign({},FWe,qWe,{JsonPatchError:nie,deepClone:Ds,escapePathComponent:Bf,unescapePathComponent:tie});var ug=(e=>(e.TRAVERSAL_START="Traversal_Start",e.TRAVERSAL_END="Traversal_End",e))(ug||{});function gb(e,t){const n=e.state;if(n.type==="checkpoint")return n.val;const{checkpointRef:r}=n,i=t[r],s=sie(i,e,t);s.shift();const o=s.map(u=>t[u]).map(u=>u.state.val).reduce((u,l)=>[...u,...l],[]),a=gb(i,t);return ex(a,Ds(o),!0,!1).newDocument}function GWe(e,t){const n=Object.keys(e).length;return new Set(t.map(r=>r.path.split("/")[0])).size<n/2?"patch":"checkpoint"}function YWe({registry:e,initialState:t}){let n=!1;const r=fWe(),i=NWe(t);function s(c){return i.backend.nodes[c]}r.listen(ug.TRAVERSAL_START,()=>{n=!0}),r.listen(ug.TRAVERSAL_END,()=>{n=!1});const o={add(c,f=i.current.id){i.update(i.addMetadata({id:f,meta:c}))},latestOfType(c,f=i.current.id){var d;return(d=i.backend.nodes[f].meta[c])==null?void 0:d.at(-1)},allOfType(c,f=i.current.id){return i.backend.nodes[f].meta[c]},latest(c=i.current.id){const f=i.backend.nodes[c].meta,d=Object.keys(f).reduce((h,p)=>{const m=f[p].at(-1);return m&&(h[p]=m),h},{});return Object.keys(d).length>0?d:void 0},all(c=i.current.id){return i.backend.nodes[c].meta},types(c=i.current.id){return Object.keys(i.backend.nodes[c].meta)}},a={add(c,f=i.current.id){i.update(i.addArtifact({id:f,artifact:c}))},latest(c=i.current.id){return i.backend.nodes[c].artifacts.at(-1)},all(c=i.current.id){return i.backend.nodes[c].artifacts}},u={add(c,f=i.current.id){o.add({annotation:c},f)},latest(c=i.current.id){var f;return(f=o.latestOfType("annotation",c))==null?void 0:f.val},all(c=i.current.id){var f;return(f=o.allOfType("annotation",c))==null?void 0:f.map(d=>d.val)}},l={add(c=i.current.id){o.add({bookmark:!0},c)},remove(c=i.current.id){o.add({bookmark:!1},c)},is(c=i.current.id){var f;return!!((f=o.latestOfType("bookmark",c))!=null&&f.val)},toggle(c=i.current.id){l.is(c)?l.remove(c):l.add(c)}};return{registry:e,get isTraversing(){return n},getState(c=i.current){return gb(c,i.backend.nodes)},graph:i,get current(){return i.current},get root(){return i.root},record({label:c,state:f,sideEffects:d,eventType:h,onlySideEffects:p=!1}){let m=null,y=null;const g=gb(this.current,this.graph.backend.nodes);if(p)y={type:"checkpoint",val:f};else{const _=iie(g,f);if(GWe(f,_)==="checkpoint")y={type:"checkpoint",val:f};else{const b=this.current.state.type==="checkpoint"?this.current.id:this.current.state.checkpointRef;y={type:"patch",val:_,checkpointRef:b}}}if(!y)throw new Error(`Could not calculate new state. Previous state is: ${JSON.stringify(this.current.state,null,2)}`);if(m=yWe({label:c,state:y,parent:this.current,sideEffects:d,event:h}),!m)throw new Error("State Node creation failed!");i.update(i.addNode(m))},async apply(c,f){const d=e.get(f.type),h=gb(this.current,this.graph.backend.nodes);if(d.config.hasSideEffects){const{do:p=f,undo:m}=d.func(f.payload);this.record({label:c,state:h,sideEffects:{do:[p],undo:[m]},eventType:d.config.eventType})}else{const p=d.func(h,f.payload);this.record({label:c,state:p,sideEffects:{do:[],undo:[]},eventType:d.config.eventType})}},async to(c){r.fire(ug.TRAVERSAL_START);const f=sie(i.current,i.backend.nodes[c],i.backend.nodes),d=[];for(let h=0;h<f.length-1;++h){const p=s(f[h]),m=s(f[h+1]);QWe(p,m)?mu(p)&&d.push(...p.sideEffects.undo):mu(m)&&d.push(...m.sideEffects.do)}for(const h of d){const p=e.get(h.type).func;await p(h.payload)}i.update(i.changeCurrent(c)),r.fire(ug.TRAVERSAL_END)},undo(){const{current:c}=i;return mu(c)?this.to(c.parent):Promise.resolve(console.warn("Already at root!"))},redo(c="latest"){const{current:f}=i;return f.children.length>0?this.to(f.children[c==="oldest"?0:f.children.length-1]):Promise.resolve(console.warn("Already at latest in this branch!"))},currentChange(c,f=!1){return i.currentChange(c,{skipOnNew:f})},done(){console.log("Setup later for URL sharing.")},tree(){return oie(i.root,i.backend.nodes)},on(c,f){r.listen(c,f)},export(){return JSON.stringify(i.backend)},exportObject(){return JSON.parse(JSON.stringify(i.backend))},import(c){const f=JSON.parse(c),d=f.current;f.current=f.root,i.update(i.load(f)),this.to(d)},importObject(c){const f=c.current;c.current=c.root,i.update(i.load(c)),this.to(f)},metadata:o,artifact:a,annotations:u,bookmarks:l}}function KWe(e,t,n){let[r,i]=[e,t];r.level>i.level&&([r,i]=[i,r]);let s=i.level-r.level;for(;mu(i)&&s!==0;)i=n[i.parent],s-=1;if(r.id===i.id)return r.id;for(;r.id!==i.id;)mu(r)&&(r=n[r.parent]),mu(i)&&(i=n[i.parent]);return r.id}function sie(e,t,n){const r=KWe(e,t,n),i=n[r],s=[],o=[];let[a,u]=[e,t];for(;a.id!==i.id;)s.push(a),mu(a)&&(a=n[a.parent]);for(s.push(a);u.id!==i.id;)o.push(u),mu(u)&&(u=n[u.parent]);const l=o.reverse();return[...s,...l].map(c=>c.id)}function QWe(e,t){if(mu(e)&&e.parent===t.id)return!0;if(mu(t)&&t.parent===e.id)return!1;throw new Error("Incorrect use of function. Nodes are not connected to each other.")}function oie(e,t){return{...e,children:e.children.map(n=>oie(t[n],t)),name:`${e.label}`}}TWe();function XWe(e){return e.length===2?PWe(e):e}class $3{static create(){return new $3}constructor(){this.registry=new Map}has(t){return this.registry.has(t)}register(t,n,r){const i=n.length===2;if(n.length>2)throw new Error("Incorrect action function signature. Action function can only have two arguments at most!");if(this.has(t))throw new Error(`Already registered: ${t}`);const{label:s=t,eventType:o=t}=r||{};return this.registry.set(t,{func:XWe(n),config:{hasSideEffects:!i,label:typeof s=="string"?()=>s:s,eventType:o}}),du(t)}get(t){const n=this.registry.get(t);if(!n)throw new Error(`Not registered: ${t}`);return n}}function HU({parameters:e,setAnswer:t}){const[n,r]=w.useState(null),[i,s]=w.useState([]),[o,a]=w.useState(null),[u,l]=w.useState([new Date(e.start_date),new Date(e.end_date)]),[c,f]=w.useState(e.guardrail);w.useEffect(()=>{yFe(`./data/${e.dataset}.csv`).then(_=>{r(_),a(Array.from(new Set(_.map(b=>JSON.stringify({name:b[e.cat_var],group:b[e.group_var]})))).map(b=>JSON.parse(b)))})},[e]);const d=w.useMemo(()=>n&&u?n.filter(_=>new Date(_[e.x_var]).getTime()>=u[0].getTime()).filter(_=>new Date(_[e.x_var]).getTime()<=u[1].getTime()):null,[n,u]),{actions:h,trrack:p}=w.useMemo(()=>{const _=$3.create(),b=_.register("selection",(E,S)=>(E.selection=S,E)),T=_.register("range",(E,S)=>(E.range=S,E)),I=YWe({registry:_,initialState:{selection:[],range:[e.start_date,e.end_date]}});return{actions:{selection:b,range:T},trrack:I}},[]),m=w.useCallback(_=>{p.apply("Change daterange",h.range([_[0].toISOString().slice(0,10),_[1].toISOString().slice(0,10)]))},[p,h,l]),y=w.useMemo(()=>$a(m,200),[m]),g=w.useCallback(_=>{p.apply("Change selection",h.selection(_)),t({status:!0,provenanceGraph:p.graph.backend,answers:{}})},[p,h,t]);return d&&o&&u&&i?$.jsxs(fl,{children:[$.jsx(yd,{shadow:"sm",radius:"md",p:"md",style:{width:"500px"},children:$.jsx(R2,{guardrail:c,setGuardrail:f})}),$.jsx(Rd,{children:$.jsx(yd,{shadow:"md",radius:"md",p:"md",withBorder:!0,children:$.jsxs(Tl,{children:[$.jsx(O2,{parameters:e,data:d,items:o,selection:i,setSelection:s,trackSelection:g,range:u,guardrail:c}),$.jsx(md,{orientation:"vertical",size:"xs"}),$.jsxs("g",{children:[$.jsx(Ct,{fw:500,children:e.dataset==="clean_stocks"?"Percent change in stock price":"Infections per million people"}),c==="super_summ"?$.jsx(Ct,{fz:"xs",c:"dimmed",children:"Shaded area represents the middle 50% of all values."}):null,c==="juxt_summ"?$.jsx(Ct,{fz:"xs",c:"dimmed",children:"Bar on the left highlights the range of selection among all data."}):null,$.jsxs(fl,{children:[$.jsxs(Tl,{children:[c==="juxt_summ"?$.jsx(Zre,{parameters:e,data:d,selection:i}):null,$.jsx(A2,{parameters:e,data:d,items:o,selection:i,range:u,guardrail:c})]}),e.allow_time_slider?$.jsx("div",{style:{width:"500px"},children:$.jsx(P2,{parameters:e,setRange:l,trackRange:y})}):null]})]})]})})})]}):$.jsx(Nm,{})}const JWe=Object.freeze(Object.defineProperty({__proto__:null,DataExplorer:HU,default:HU},Symbol.toStringTag,{value:"Module"})),ZWe=Object.assign({"../public/viz-guardrails/Color.tsx":g5e,"../public/viz-guardrails/DataExplorer.tsx":JWe,"../public/viz-guardrails/Histogram.tsx":cWe,"../public/viz-guardrails/LineChart.tsx":i9e,"../public/viz-guardrails/RangeSelector.tsx":o9e,"../public/viz-guardrails/Selector.tsx":a9e,"../public/viz-guardrails/Sidebar.tsx":s9e,"../public/viz-guardrails/XAxis.tsx":n9e,"../public/viz-guardrails/YAxis.tsx":r9e}),eqe=({currentConfig:e})=>{const t=Pa(),n=`../public/${e.path}`,r=ZWe[n].default,i=Hl(),{updateResponseBlockValidation:s,setIframeAnswers:o}=zl();function a({status:u,provenanceGraph:l,answers:c}){i(s({location:"sidebar",currentStep:t,status:u,values:c,provenanceGraph:l})),i(o(Object.values(c).map(f=>f)))}return $.jsx(w.Suspense,{fallback:$.jsx("div",{children:"Loading..."}),children:$.jsx(r,{parameters:e.parameters,setAnswer:a})})};function tqe({currentConfig:e}){const[t,n]=w.useState(null);return w.useEffect(()=>{fetch(`${Lu}${e.path}`).then(r=>r.text()).then(r=>n(r))},[e]),t===null?null:$.jsx($.Fragment,{children:$.jsx(em,{text:t})})}function aie(){const e=Pa(),{setAlertModal:t}=zl(),n=Hl();w.useEffect(()=>{(new URLSearchParams(window.location.search).get("admin")||"f")==="t"||(window.history.pushState(null,"",window.location.href),window.onpopstate=()=>{window.history.pushState(null,"",window.location.href),n(t({show:!0,message:"Using the browser's back button is prohibited during the study."}))})},[e,t,n])}function nqe(){var f;const e=Jp(),t=Pa(),n=e.components[t],r=TD(),i=aI(n)&&e.baseComponents?SD({},(f=e.baseComponents)==null?void 0:f[n.baseComponent],n):n,s=i.instruction||"",o=i.instructionLocation,a=e.uiConfig.sidebar&&(o==="sidebar"||o===void 0);aie();const{storageEngine:u}=_f(),l=Hl(),{setAlertModal:c}=zl();return w.useEffect(()=>{(u==null?void 0:u.getEngine())!=="firebase"&&l(c({show:!0,message:"There was an issue connecting to the firebase database. This could be caused by a network issue or your adblocker. If you are using an adblocker, please disable it for this website and refresh."}))},[c,u,l]),$.jsxs($.Fragment,{children:[o==="aboveStimulus"&&$.jsx(em,{text:s}),$.jsx(Yw,{status:r,config:i,location:"aboveStimulus"},`${t}-above-response-block`),$.jsxs(w.Suspense,{fallback:$.jsx("div",{children:"Loading..."}),children:[i.type==="markdown"&&$.jsx(tqe,{currentConfig:i}),i.type==="website"&&$.jsx(h5e,{currentConfig:i}),i.type==="image"&&$.jsx(m5e,{currentConfig:i}),i.type==="react-component"&&$.jsx(eqe,{currentConfig:i})]},`${t}-stimulus`),(o==="belowStimulus"||o===void 0&&!a)&&$.jsx(em,{text:s}),$.jsx(Yw,{status:r,config:i,location:"belowStimulus"},`${t}-below-response-block`)]})}function rqe(e){const[t]=QH();return $.jsx(Tfe,{...e,to:{pathname:e.to,search:t.toString()}})}function iqe(){const e=Jp(),{storageEngine:t}=_f(),{answers:n}=ku(s=>s),[r,i]=w.useState(!1);return w.useEffect(()=>{const s=setInterval(async()=>{await t.verifyCompletion(n)&&(i(!0),clearInterval(s))},1e3)},[]),aie(),$.jsx($.Fragment,{children:$.jsx(by,{style:{height:"100%"},children:$.jsx(Rd,{direction:"column",children:r?$.jsx(Ct,{size:"xl",display:"block",children:e.uiConfig.studyEndMsg?$.jsx(em,{text:e.uiConfig.studyEndMsg}):"Thank you for completing the study. You may close this window now."}):$.jsxs($.Fragment,{children:[$.jsx(Ct,{size:"xl",display:"block",children:"Please wait while your answers are uploaded."}),$.jsx(Yp,{h:"lg"}),$.jsx(by,{children:$.jsx(Nm,{color:"blue"})})]})})})})}function sqe(e,t=!1){return typeof e=="number"?WU(e,t):WU(e.length,t).map(r=>r.map(i=>e[i]))}function WU(e,t){if(e<0)throw new Error("Latin square size must be > 0");if(e==0)return[];if(e==1)return[[0]];let n=new Array(e);for(let s=0;s<e;s++)s<2?n[s]=s:s%2==0?n[s]=e-s/2:n[s]=Math.floor(s/2)+1;let r=[n],i=n;for(let s=1;s<e;s+=1){let o=i.map(a=>(a+1)%e);r.push(o),i=o}if(t&&e%2>0)for(let s=0;s<e;s+=1)r.push(r[s].slice().reverse());return r}function uie(e,t,n){for(let r=0;r<e.components.length;r++){const i=e.components[r];typeof i!="string"&&(e.components[r]=uie(i,t,n+"-"+r))}if(e.order==="random"){const r=e.components.sort(()=>.5-Math.random());e.components=r}else e.order==="latinSquare"&&t&&(e.components=t[n].pop().map(r=>r.startsWith("_orderObj")?e.components[+r.slice(9)]:r));return e.components.slice(0,e.numSamples?e.numSamples:void 0).flat()}function oqe(e,t){const n=wD(e);return uie(n,t,"root"),n.components.slice(0,e.numSamples?e.numSamples:void 0).flat()}function lie(e,t,n,r=0){const i=n.length>0?`${n}-${r}`:"root";e.order==="latinSquare"&&t.push(i),e.components.forEach((s,o)=>{typeof s!="string"&&lie(s,t,i,o)})}function aqe(e){const t=[];return lie(e,t,"",0),t}function qU(e,t){const n=t.split("-");let r={};n.forEach(o=>{o==="root"?r=e.sequence:r=r.components[+o]});const i=r.components.map((o,a)=>typeof o=="string"?o:`_orderObj${a}`);return sqe(i.sort(()=>.5-Math.random()),!0)}function uqe(e,t=1e3){const r=aqe(e.sequence).map(s=>({[s]:qU(e,s)})).reduce((s,o)=>({...s,...o}),{}),i=[];return Array.from({length:t}).forEach(()=>{const s=oqe(e.sequence,r);s.push("end"),i.push(s),Object.entries(r).forEach(([o,a])=>{a.length===0&&(r[o]=qU(e,o))})}),i}async function lqe(e,t){const n=await(await fetch(`${Lu}${e}`)).text();return IX(n,t)}function cqe({globalConfig:e}){const{studyId:t}=jN();if(!t||!e.configsList.find(c=>$P(c)))throw new Error("Study id invalid");const[n,r]=w.useState(null);w.useEffect(()=>{const c=e.configsList.find(f=>$P(f)===t);if(c){const f=e.configs[c];lqe(`${f.path}`,c).then(d=>{r(d)})}},[e,t]);const[i,s]=w.useState([]),[o,a]=w.useState(null),{storageEngine:u}=_f();w.useEffect(()=>{async function c(){if(!u||!n||!t)return;await u.initializeStudyDb(t,n),await u.getSequenceArray()||await u.setSequenceArray(await uqe(n));const d=await u.initializeParticipantSession(),h=await rNe(t,n,d.sequence,d.answers);a(h),s(fqe(t,n,d.sequence))}c()},[u,n,t]);const l=KH(i);return!l||!o?$.jsx(lt,{style:{height:"100vh"},children:$.jsx(by,{style:{height:"100%"},children:$.jsx(Nm,{style:{height:"100%"},size:60})})}):$.jsx(qX.Provider,{value:o,children:$.jsx(PCe,{store:o.store,children:l})})}function fqe(e,t,n){const r=[];if(e&&t&&n){const i=[];i.push({path:"/",element:$.jsx(rqe,{to:`${n[0]}`,replace:!0})}),n.forEach(o=>{o==="end"?i.push({path:"/end",element:$.jsx(iqe,{})}):i.push({path:`/${o}`,element:$.jsx(nqe,{})})});const s={element:$.jsx(x4e,{}),children:i};r.push(s)}return r}const Lu="/viz-guardrails-study/";async function dqe(){const t=await(await fetch(`${Lu}configs/global.hjson`)).text();return eRe(t)}async function hqe(e){const t={},n=e.configsList.map(i=>`${Lu}${e.configs[i].path}`),r=await Promise.all(n.map(i=>fetch(i))).then(i=>Promise.all(i.map(s=>s.text()))).then(i=>Promise.all(i.map((s,o)=>IX(s,e.configsList[o]))));return e.configsList.forEach((i,s)=>{t[i]=r[s]}),t}function pqe(){const[e,t]=w.useState(null),[n,r]=w.useState({});return w.useEffect(()=>{async function i(){e&&r(await hqe(e))}i()},[e]),w.useEffect(()=>{e||dqe().then(i=>{t(i)})},[e]),e?$.jsx(Afe,{basename:Lu,children:$.jsxs(xfe,{children:[$.jsx(gP,{path:"/",element:$.jsx(Qxe,{globalConfig:e,studyConfigs:n})}),$.jsx(gP,{path:"/:studyId/*",element:$.jsx(cqe,{globalConfig:e})})]})}):null}class cie{constructor(t){qs(this,"engine");qs(this,"connected",!1);qs(this,"currentParticipantId",null);this.engine=t}isConnected(){return this.connected}getEngine(){return this.engine}}function b1(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var fie={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,s){function o(l,c){if(!i[l]){if(!r[l]){var f=typeof b1=="function"&&b1;if(!c&&f)return f(l,!0);if(a)return a(l,!0);var d=new Error("Cannot find module '"+l+"'");throw d.code="MODULE_NOT_FOUND",d}var h=i[l]={exports:{}};r[l][0].call(h.exports,function(p){var m=r[l][1][p];return o(m||p)},h,h.exports,n,r,i,s)}return i[l].exports}for(var a=typeof b1=="function"&&b1,u=0;u<s.length;u++)o(s[u]);return o}({1:[function(n,r,i){(function(s){var o=s.MutationObserver||s.WebKitMutationObserver,a;if(o){var u=0,l=new o(p),c=s.document.createTextNode("");l.observe(c,{characterData:!0}),a=function(){c.data=u=++u%2}}else if(!s.setImmediate&&typeof s.MessageChannel<"u"){var f=new s.MessageChannel;f.port1.onmessage=p,a=function(){f.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?a=function(){var y=s.document.createElement("script");y.onreadystatechange=function(){p(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},s.document.documentElement.appendChild(y)}:a=function(){setTimeout(p,0)};var d,h=[];function p(){d=!0;for(var y,g,_=h.length;_;){for(g=h,h=[],y=-1;++y<_;)g[y]();_=h.length}d=!1}r.exports=m;function m(y){h.push(y)===1&&!d&&a()}}).call(this,typeof no<"u"?no:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,i){var s=n(1);function o(){}var a={},u=["REJECTED"],l=["FULFILLED"],c=["PENDING"];r.exports=f;function f(I){if(typeof I!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,I!==o&&m(this,I)}f.prototype.catch=function(I){return this.then(null,I)},f.prototype.then=function(I,E){if(typeof I!="function"&&this.state===l||typeof E!="function"&&this.state===u)return this;var S=new this.constructor(o);if(this.state!==c){var A=this.state===l?I:E;h(S,A,this.outcome)}else this.queue.push(new d(S,I,E));return S};function d(I,E,S){this.promise=I,typeof E=="function"&&(this.onFulfilled=E,this.callFulfilled=this.otherCallFulfilled),typeof S=="function"&&(this.onRejected=S,this.callRejected=this.otherCallRejected)}d.prototype.callFulfilled=function(I){a.resolve(this.promise,I)},d.prototype.otherCallFulfilled=function(I){h(this.promise,this.onFulfilled,I)},d.prototype.callRejected=function(I){a.reject(this.promise,I)},d.prototype.otherCallRejected=function(I){h(this.promise,this.onRejected,I)};function h(I,E,S){s(function(){var A;try{A=E(S)}catch(L){return a.reject(I,L)}A===I?a.reject(I,new TypeError("Cannot resolve promise with itself")):a.resolve(I,A)})}a.resolve=function(I,E){var S=y(p,E);if(S.status==="error")return a.reject(I,S.value);var A=S.value;if(A)m(I,A);else{I.state=l,I.outcome=E;for(var L=-1,W=I.queue.length;++L<W;)I.queue[L].callFulfilled(E)}return I},a.reject=function(I,E){I.state=u,I.outcome=E;for(var S=-1,A=I.queue.length;++S<A;)I.queue[S].callRejected(E);return I};function p(I){var E=I&&I.then;if(I&&(typeof I=="object"||typeof I=="function")&&typeof E=="function")return function(){E.apply(I,arguments)}}function m(I,E){var S=!1;function A(U){S||(S=!0,a.reject(I,U))}function L(U){S||(S=!0,a.resolve(I,U))}function W(){E(L,A)}var z=y(W);z.status==="error"&&A(z.value)}function y(I,E){var S={};try{S.value=I(E),S.status="success"}catch(A){S.status="error",S.value=A}return S}f.resolve=g;function g(I){return I instanceof this?I:a.resolve(new this(o),I)}f.reject=_;function _(I){var E=new this(o);return a.reject(E,I)}f.all=b;function b(I){var E=this;if(Object.prototype.toString.call(I)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=I.length,A=!1;if(!S)return this.resolve([]);for(var L=new Array(S),W=0,z=-1,U=new this(o);++z<S;)Z(I[z],z);return U;function Z(H,ue){E.resolve(H).then(ie,function(_e){A||(A=!0,a.reject(U,_e))});function ie(_e){L[ue]=_e,++W===S&&!A&&(A=!0,a.resolve(U,L))}}}f.race=T;function T(I){var E=this;if(Object.prototype.toString.call(I)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=I.length,A=!1;if(!S)return this.resolve([]);for(var L=-1,W=new this(o);++L<S;)z(I[L]);return W;function z(U){E.resolve(U).then(function(Z){A||(A=!0,a.resolve(W,Z))},function(Z){A||(A=!0,a.reject(W,Z))})}}},{1:1}],3:[function(n,r,i){(function(s){typeof s.Promise!="function"&&(s.Promise=n(2))}).call(this,typeof no<"u"?no:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,i){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R};function o(R,Y){if(!(R instanceof Y))throw new TypeError("Cannot call a class as a function")}function a(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var u=a();function l(){try{if(!u||!u.open)return!1;var R=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),Y=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!R||Y)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function c(R,Y){R=R||[],Y=Y||{};try{return new Blob(R,Y)}catch(ee){if(ee.name!=="TypeError")throw ee;for(var M=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,ne=new M,se=0;se<R.length;se+=1)ne.append(R[se]);return ne.getBlob(Y.type)}}typeof Promise>"u"&&n(3);var f=Promise;function d(R,Y){Y&&R.then(function(M){Y(null,M)},function(M){Y(M)})}function h(R,Y,M){typeof Y=="function"&&R.then(Y),typeof M=="function"&&R.catch(M)}function p(R){return typeof R!="string"&&(console.warn(R+" used as a key, but it is not a string."),R=String(R)),R}function m(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var y="local-forage-detect-blob-support",g=void 0,_={},b=Object.prototype.toString,T="readonly",I="readwrite";function E(R){for(var Y=R.length,M=new ArrayBuffer(Y),ne=new Uint8Array(M),se=0;se<Y;se++)ne[se]=R.charCodeAt(se);return M}function S(R){return new f(function(Y){var M=R.transaction(y,I),ne=c([""]);M.objectStore(y).put(ne,"key"),M.onabort=function(se){se.preventDefault(),se.stopPropagation(),Y(!1)},M.oncomplete=function(){var se=navigator.userAgent.match(/Chrome\/(\d+)/),ee=navigator.userAgent.match(/Edge\//);Y(ee||!se||parseInt(se[1],10)>=43)}}).catch(function(){return!1})}function A(R){return typeof g=="boolean"?f.resolve(g):S(R).then(function(Y){return g=Y,g})}function L(R){var Y=_[R.name],M={};M.promise=new f(function(ne,se){M.resolve=ne,M.reject=se}),Y.deferredOperations.push(M),Y.dbReady?Y.dbReady=Y.dbReady.then(function(){return M.promise}):Y.dbReady=M.promise}function W(R){var Y=_[R.name],M=Y.deferredOperations.pop();if(M)return M.resolve(),M.promise}function z(R,Y){var M=_[R.name],ne=M.deferredOperations.pop();if(ne)return ne.reject(Y),ne.promise}function U(R,Y){return new f(function(M,ne){if(_[R.name]=_[R.name]||C(),R.db)if(Y)L(R),R.db.close();else return M(R.db);var se=[R.name];Y&&se.push(R.version);var ee=u.open.apply(u,se);Y&&(ee.onupgradeneeded=function(be){var Ie=ee.result;try{Ie.createObjectStore(R.storeName),be.oldVersion<=1&&Ie.createObjectStore(y)}catch(Oe){if(Oe.name==="ConstraintError")console.warn('The database "'+R.name+'" has been upgraded from version '+be.oldVersion+" to version "+be.newVersion+', but the storage "'+R.storeName+'" already exists.');else throw Oe}}),ee.onerror=function(be){be.preventDefault(),ne(ee.error)},ee.onsuccess=function(){var be=ee.result;be.onversionchange=function(Ie){Ie.target.close()},M(be),W(R)}})}function Z(R){return U(R,!1)}function H(R){return U(R,!0)}function ue(R,Y){if(!R.db)return!0;var M=!R.db.objectStoreNames.contains(R.storeName),ne=R.version<R.db.version,se=R.version>R.db.version;if(ne&&(R.version!==Y&&console.warn('The database "'+R.name+`" can't be downgraded from version `+R.db.version+" to version "+R.version+"."),R.version=R.db.version),se||M){if(M){var ee=R.db.version+1;ee>R.version&&(R.version=ee)}return!0}return!1}function ie(R){return new f(function(Y,M){var ne=new FileReader;ne.onerror=M,ne.onloadend=function(se){var ee=btoa(se.target.result||"");Y({__local_forage_encoded_blob:!0,data:ee,type:R.type})},ne.readAsBinaryString(R)})}function _e(R){var Y=E(atob(R.data));return c([Y],{type:R.type})}function te(R){return R&&R.__local_forage_encoded_blob}function oe(R){var Y=this,M=Y._initReady().then(function(){var ne=_[Y._dbInfo.name];if(ne&&ne.dbReady)return ne.dbReady});return h(M,R,R),M}function J(R){L(R);for(var Y=_[R.name],M=Y.forages,ne=0;ne<M.length;ne++){var se=M[ne];se._dbInfo.db&&(se._dbInfo.db.close(),se._dbInfo.db=null)}return R.db=null,Z(R).then(function(ee){return R.db=ee,ue(R)?H(R):ee}).then(function(ee){R.db=Y.db=ee;for(var be=0;be<M.length;be++)M[be]._dbInfo.db=ee}).catch(function(ee){throw z(R,ee),ee})}function x(R,Y,M,ne){ne===void 0&&(ne=1);try{var se=R.db.transaction(R.storeName,Y);M(null,se)}catch(ee){if(ne>0&&(!R.db||ee.name==="InvalidStateError"||ee.name==="NotFoundError"))return f.resolve().then(function(){if(!R.db||ee.name==="NotFoundError"&&!R.db.objectStoreNames.contains(R.storeName)&&R.version<=R.db.version)return R.db&&(R.version=R.db.version+1),H(R)}).then(function(){return J(R).then(function(){x(R,Y,M,ne-1)})}).catch(M);M(ee)}}function C(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function B(R){var Y=this,M={db:null};if(R)for(var ne in R)M[ne]=R[ne];var se=_[M.name];se||(se=C(),_[M.name]=se),se.forages.push(Y),Y._initReady||(Y._initReady=Y.ready,Y.ready=oe);var ee=[];function be(){return f.resolve()}for(var Ie=0;Ie<se.forages.length;Ie++){var Oe=se.forages[Ie];Oe!==Y&&ee.push(Oe._initReady().catch(be))}var Pe=se.forages.slice(0);return f.all(ee).then(function(){return M.db=se.db,Z(M)}).then(function(ke){return M.db=ke,ue(M,Y._defaultConfig.version)?H(M):ke}).then(function(ke){M.db=se.db=ke,Y._dbInfo=M;for(var Qe=0;Qe<Pe.length;Qe++){var Bt=Pe[Qe];Bt!==Y&&(Bt._dbInfo.db=M.db,Bt._dbInfo.version=M.version)}})}function P(R,Y){var M=this;R=p(R);var ne=new f(function(se,ee){M.ready().then(function(){x(M._dbInfo,T,function(be,Ie){if(be)return ee(be);try{var Oe=Ie.objectStore(M._dbInfo.storeName),Pe=Oe.get(R);Pe.onsuccess=function(){var ke=Pe.result;ke===void 0&&(ke=null),te(ke)&&(ke=_e(ke)),se(ke)},Pe.onerror=function(){ee(Pe.error)}}catch(ke){ee(ke)}})}).catch(ee)});return d(ne,Y),ne}function O(R,Y){var M=this,ne=new f(function(se,ee){M.ready().then(function(){x(M._dbInfo,T,function(be,Ie){if(be)return ee(be);try{var Oe=Ie.objectStore(M._dbInfo.storeName),Pe=Oe.openCursor(),ke=1;Pe.onsuccess=function(){var Qe=Pe.result;if(Qe){var Bt=Qe.value;te(Bt)&&(Bt=_e(Bt));var gn=R(Bt,Qe.key,ke++);gn!==void 0?se(gn):Qe.continue()}else se()},Pe.onerror=function(){ee(Pe.error)}}catch(Qe){ee(Qe)}})}).catch(ee)});return d(ne,Y),ne}function G(R,Y,M){var ne=this;R=p(R);var se=new f(function(ee,be){var Ie;ne.ready().then(function(){return Ie=ne._dbInfo,b.call(Y)==="[object Blob]"?A(Ie.db).then(function(Oe){return Oe?Y:ie(Y)}):Y}).then(function(Oe){x(ne._dbInfo,I,function(Pe,ke){if(Pe)return be(Pe);try{var Qe=ke.objectStore(ne._dbInfo.storeName);Oe===null&&(Oe=void 0);var Bt=Qe.put(Oe,R);ke.oncomplete=function(){Oe===void 0&&(Oe=null),ee(Oe)},ke.onabort=ke.onerror=function(){var gn=Bt.error?Bt.error:Bt.transaction.error;be(gn)}}catch(gn){be(gn)}})}).catch(be)});return d(se,M),se}function fe(R,Y){var M=this;R=p(R);var ne=new f(function(se,ee){M.ready().then(function(){x(M._dbInfo,I,function(be,Ie){if(be)return ee(be);try{var Oe=Ie.objectStore(M._dbInfo.storeName),Pe=Oe.delete(R);Ie.oncomplete=function(){se()},Ie.onerror=function(){ee(Pe.error)},Ie.onabort=function(){var ke=Pe.error?Pe.error:Pe.transaction.error;ee(ke)}}catch(ke){ee(ke)}})}).catch(ee)});return d(ne,Y),ne}function le(R){var Y=this,M=new f(function(ne,se){Y.ready().then(function(){x(Y._dbInfo,I,function(ee,be){if(ee)return se(ee);try{var Ie=be.objectStore(Y._dbInfo.storeName),Oe=Ie.clear();be.oncomplete=function(){ne()},be.onabort=be.onerror=function(){var Pe=Oe.error?Oe.error:Oe.transaction.error;se(Pe)}}catch(Pe){se(Pe)}})}).catch(se)});return d(M,R),M}function me(R){var Y=this,M=new f(function(ne,se){Y.ready().then(function(){x(Y._dbInfo,T,function(ee,be){if(ee)return se(ee);try{var Ie=be.objectStore(Y._dbInfo.storeName),Oe=Ie.count();Oe.onsuccess=function(){ne(Oe.result)},Oe.onerror=function(){se(Oe.error)}}catch(Pe){se(Pe)}})}).catch(se)});return d(M,R),M}function ge(R,Y){var M=this,ne=new f(function(se,ee){if(R<0){se(null);return}M.ready().then(function(){x(M._dbInfo,T,function(be,Ie){if(be)return ee(be);try{var Oe=Ie.objectStore(M._dbInfo.storeName),Pe=!1,ke=Oe.openKeyCursor();ke.onsuccess=function(){var Qe=ke.result;if(!Qe){se(null);return}R===0||Pe?se(Qe.key):(Pe=!0,Qe.advance(R))},ke.onerror=function(){ee(ke.error)}}catch(Qe){ee(Qe)}})}).catch(ee)});return d(ne,Y),ne}function Se(R){var Y=this,M=new f(function(ne,se){Y.ready().then(function(){x(Y._dbInfo,T,function(ee,be){if(ee)return se(ee);try{var Ie=be.objectStore(Y._dbInfo.storeName),Oe=Ie.openKeyCursor(),Pe=[];Oe.onsuccess=function(){var ke=Oe.result;if(!ke){ne(Pe);return}Pe.push(ke.key),ke.continue()},Oe.onerror=function(){se(Oe.error)}}catch(ke){se(ke)}})}).catch(se)});return d(M,R),M}function de(R,Y){Y=m.apply(this,arguments);var M=this.config();R=typeof R!="function"&&R||{},R.name||(R.name=R.name||M.name,R.storeName=R.storeName||M.storeName);var ne=this,se;if(!R.name)se=f.reject("Invalid arguments");else{var ee=R.name===M.name&&ne._dbInfo.db,be=ee?f.resolve(ne._dbInfo.db):Z(R).then(function(Ie){var Oe=_[R.name],Pe=Oe.forages;Oe.db=Ie;for(var ke=0;ke<Pe.length;ke++)Pe[ke]._dbInfo.db=Ie;return Ie});R.storeName?se=be.then(function(Ie){if(Ie.objectStoreNames.contains(R.storeName)){var Oe=Ie.version+1;L(R);var Pe=_[R.name],ke=Pe.forages;Ie.close();for(var Qe=0;Qe<ke.length;Qe++){var Bt=ke[Qe];Bt._dbInfo.db=null,Bt._dbInfo.version=Oe}var gn=new f(function(wn,Er){var nr=u.open(R.name,Oe);nr.onerror=function(ys){var Of=nr.result;Of.close(),Er(ys)},nr.onupgradeneeded=function(){var ys=nr.result;ys.deleteObjectStore(R.storeName)},nr.onsuccess=function(){var ys=nr.result;ys.close(),wn(ys)}});return gn.then(function(wn){Pe.db=wn;for(var Er=0;Er<ke.length;Er++){var nr=ke[Er];nr._dbInfo.db=wn,W(nr._dbInfo)}}).catch(function(wn){throw(z(R,wn)||f.resolve()).catch(function(){}),wn})}}):se=be.then(function(Ie){L(R);var Oe=_[R.name],Pe=Oe.forages;Ie.close();for(var ke=0;ke<Pe.length;ke++){var Qe=Pe[ke];Qe._dbInfo.db=null}var Bt=new f(function(gn,wn){var Er=u.deleteDatabase(R.name);Er.onerror=function(){var nr=Er.result;nr&&nr.close(),wn(Er.error)},Er.onblocked=function(){console.warn('dropInstance blocked for database "'+R.name+'" until all open connections are closed')},Er.onsuccess=function(){var nr=Er.result;nr&&nr.close(),gn(nr)}});return Bt.then(function(gn){Oe.db=gn;for(var wn=0;wn<Pe.length;wn++){var Er=Pe[wn];W(Er._dbInfo)}}).catch(function(gn){throw(z(R,gn)||f.resolve()).catch(function(){}),gn})})}return d(se,Y),se}var st={_driver:"asyncStorage",_initStorage:B,_support:l(),iterate:O,getItem:P,setItem:G,removeItem:fe,clear:le,length:me,key:ge,keys:Se,dropInstance:de};function Ke(){return typeof openDatabase=="function"}var qe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$e="~~local_forage_type~",ot=/^~~local_forage_type~([^~]+)~/,ut="__lfsc__:",On=ut.length,Ue="arbf",Be="blob",bt="si08",je="ui08",gt="uic8",Yt="si16",an="si32",Yn="ur16",ce="ui32",we="fl32",Le="fl64",rt=On+Ue.length,De=Object.prototype.toString;function it(R){var Y=R.length*.75,M=R.length,ne,se=0,ee,be,Ie,Oe;R[R.length-1]==="="&&(Y--,R[R.length-2]==="="&&Y--);var Pe=new ArrayBuffer(Y),ke=new Uint8Array(Pe);for(ne=0;ne<M;ne+=4)ee=qe.indexOf(R[ne]),be=qe.indexOf(R[ne+1]),Ie=qe.indexOf(R[ne+2]),Oe=qe.indexOf(R[ne+3]),ke[se++]=ee<<2|be>>4,ke[se++]=(be&15)<<4|Ie>>2,ke[se++]=(Ie&3)<<6|Oe&63;return Pe}function Me(R){var Y=new Uint8Array(R),M="",ne;for(ne=0;ne<Y.length;ne+=3)M+=qe[Y[ne]>>2],M+=qe[(Y[ne]&3)<<4|Y[ne+1]>>4],M+=qe[(Y[ne+1]&15)<<2|Y[ne+2]>>6],M+=qe[Y[ne+2]&63];return Y.length%3===2?M=M.substring(0,M.length-1)+"=":Y.length%3===1&&(M=M.substring(0,M.length-2)+"=="),M}function Ze(R,Y){var M="";if(R&&(M=De.call(R)),R&&(M==="[object ArrayBuffer]"||R.buffer&&De.call(R.buffer)==="[object ArrayBuffer]")){var ne,se=ut;R instanceof ArrayBuffer?(ne=R,se+=Ue):(ne=R.buffer,M==="[object Int8Array]"?se+=bt:M==="[object Uint8Array]"?se+=je:M==="[object Uint8ClampedArray]"?se+=gt:M==="[object Int16Array]"?se+=Yt:M==="[object Uint16Array]"?se+=Yn:M==="[object Int32Array]"?se+=an:M==="[object Uint32Array]"?se+=ce:M==="[object Float32Array]"?se+=we:M==="[object Float64Array]"?se+=Le:Y(new Error("Failed to get type for BinaryArray"))),Y(se+Me(ne))}else if(M==="[object Blob]"){var ee=new FileReader;ee.onload=function(){var be=$e+R.type+"~"+Me(this.result);Y(ut+Be+be)},ee.readAsArrayBuffer(R)}else try{Y(JSON.stringify(R))}catch(be){console.error("Couldn't convert value into a JSON string: ",R),Y(null,be)}}function bn(R){if(R.substring(0,On)!==ut)return JSON.parse(R);var Y=R.substring(rt),M=R.substring(On,rt),ne;if(M===Be&&ot.test(Y)){var se=Y.match(ot);ne=se[1],Y=Y.substring(se[0].length)}var ee=it(Y);switch(M){case Ue:return ee;case Be:return c([ee],{type:ne});case bt:return new Int8Array(ee);case je:return new Uint8Array(ee);case gt:return new Uint8ClampedArray(ee);case Yt:return new Int16Array(ee);case Yn:return new Uint16Array(ee);case an:return new Int32Array(ee);case ce:return new Uint32Array(ee);case we:return new Float32Array(ee);case Le:return new Float64Array(ee);default:throw new Error("Unkown type: "+M)}}var Wt={serialize:Ze,deserialize:bn,stringToBuffer:it,bufferToString:Me};function St(R,Y,M,ne){R.executeSql("CREATE TABLE IF NOT EXISTS "+Y.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],M,ne)}function Bn(R){var Y=this,M={db:null};if(R)for(var ne in R)M[ne]=typeof R[ne]!="string"?R[ne].toString():R[ne];var se=new f(function(ee,be){try{M.db=openDatabase(M.name,String(M.version),M.description,M.size)}catch(Ie){return be(Ie)}M.db.transaction(function(Ie){St(Ie,M,function(){Y._dbInfo=M,ee()},function(Oe,Pe){be(Pe)})},be)});return M.serializer=Wt,se}function En(R,Y,M,ne,se,ee){R.executeSql(M,ne,se,function(be,Ie){Ie.code===Ie.SYNTAX_ERR?be.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[Y.storeName],function(Oe,Pe){Pe.rows.length?ee(Oe,Ie):St(Oe,Y,function(){Oe.executeSql(M,ne,se,ee)},ee)},ee):ee(be,Ie)},ee)}function ta(R,Y){var M=this;R=p(R);var ne=new f(function(se,ee){M.ready().then(function(){var be=M._dbInfo;be.db.transaction(function(Ie){En(Ie,be,"SELECT * FROM "+be.storeName+" WHERE key = ? LIMIT 1",[R],function(Oe,Pe){var ke=Pe.rows.length?Pe.rows.item(0).value:null;ke&&(ke=be.serializer.deserialize(ke)),se(ke)},function(Oe,Pe){ee(Pe)})})}).catch(ee)});return d(ne,Y),ne}function fr(R,Y){var M=this,ne=new f(function(se,ee){M.ready().then(function(){var be=M._dbInfo;be.db.transaction(function(Ie){En(Ie,be,"SELECT * FROM "+be.storeName,[],function(Oe,Pe){for(var ke=Pe.rows,Qe=ke.length,Bt=0;Bt<Qe;Bt++){var gn=ke.item(Bt),wn=gn.value;if(wn&&(wn=be.serializer.deserialize(wn)),wn=R(wn,gn.key,Bt+1),wn!==void 0){se(wn);return}}se()},function(Oe,Pe){ee(Pe)})})}).catch(ee)});return d(ne,Y),ne}function Mi(R,Y,M,ne){var se=this;R=p(R);var ee=new f(function(be,Ie){se.ready().then(function(){Y===void 0&&(Y=null);var Oe=Y,Pe=se._dbInfo;Pe.serializer.serialize(Y,function(ke,Qe){Qe?Ie(Qe):Pe.db.transaction(function(Bt){En(Bt,Pe,"INSERT OR REPLACE INTO "+Pe.storeName+" (key, value) VALUES (?, ?)",[R,ke],function(){be(Oe)},function(gn,wn){Ie(wn)})},function(Bt){if(Bt.code===Bt.QUOTA_ERR){if(ne>0){be(Mi.apply(se,[R,Oe,M,ne-1]));return}Ie(Bt)}})})}).catch(Ie)});return d(ee,M),ee}function vr(R,Y,M){return Mi.apply(this,[R,Y,M,1])}function $r(R,Y){var M=this;R=p(R);var ne=new f(function(se,ee){M.ready().then(function(){var be=M._dbInfo;be.db.transaction(function(Ie){En(Ie,be,"DELETE FROM "+be.storeName+" WHERE key = ?",[R],function(){se()},function(Oe,Pe){ee(Pe)})})}).catch(ee)});return d(ne,Y),ne}function dr(R){var Y=this,M=new f(function(ne,se){Y.ready().then(function(){var ee=Y._dbInfo;ee.db.transaction(function(be){En(be,ee,"DELETE FROM "+ee.storeName,[],function(){ne()},function(Ie,Oe){se(Oe)})})}).catch(se)});return d(M,R),M}function jn(R){var Y=this,M=new f(function(ne,se){Y.ready().then(function(){var ee=Y._dbInfo;ee.db.transaction(function(be){En(be,ee,"SELECT COUNT(key) as c FROM "+ee.storeName,[],function(Ie,Oe){var Pe=Oe.rows.item(0).c;ne(Pe)},function(Ie,Oe){se(Oe)})})}).catch(se)});return d(M,R),M}function Zt(R,Y){var M=this,ne=new f(function(se,ee){M.ready().then(function(){var be=M._dbInfo;be.db.transaction(function(Ie){En(Ie,be,"SELECT key FROM "+be.storeName+" WHERE id = ? LIMIT 1",[R+1],function(Oe,Pe){var ke=Pe.rows.length?Pe.rows.item(0).key:null;se(ke)},function(Oe,Pe){ee(Pe)})})}).catch(ee)});return d(ne,Y),ne}function ri(R){var Y=this,M=new f(function(ne,se){Y.ready().then(function(){var ee=Y._dbInfo;ee.db.transaction(function(be){En(be,ee,"SELECT key FROM "+ee.storeName,[],function(Ie,Oe){for(var Pe=[],ke=0;ke<Oe.rows.length;ke++)Pe.push(Oe.rows.item(ke).key);ne(Pe)},function(Ie,Oe){se(Oe)})})}).catch(se)});return d(M,R),M}function br(R){return new f(function(Y,M){R.transaction(function(ne){ne.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(se,ee){for(var be=[],Ie=0;Ie<ee.rows.length;Ie++)be.push(ee.rows.item(Ie).name);Y({db:R,storeNames:be})},function(se,ee){M(ee)})},function(ne){M(ne)})})}function Lr(R,Y){Y=m.apply(this,arguments);var M=this.config();R=typeof R!="function"&&R||{},R.name||(R.name=R.name||M.name,R.storeName=R.storeName||M.storeName);var ne=this,se;return R.name?se=new f(function(ee){var be;R.name===M.name?be=ne._dbInfo.db:be=openDatabase(R.name,"","",0),R.storeName?ee({db:be,storeNames:[R.storeName]}):ee(br(be))}).then(function(ee){return new f(function(be,Ie){ee.db.transaction(function(Oe){function Pe(gn){return new f(function(wn,Er){Oe.executeSql("DROP TABLE IF EXISTS "+gn,[],function(){wn()},function(nr,ys){Er(ys)})})}for(var ke=[],Qe=0,Bt=ee.storeNames.length;Qe<Bt;Qe++)ke.push(Pe(ee.storeNames[Qe]));f.all(ke).then(function(){be()}).catch(function(gn){Ie(gn)})},function(Oe){Ie(Oe)})})}):se=f.reject("Invalid arguments"),d(se,Y),se}var yi={_driver:"webSQLStorage",_initStorage:Bn,_support:Ke(),iterate:fr,getItem:ta,setItem:vr,removeItem:$r,clear:dr,length:jn,key:Zt,keys:ri,dropInstance:Lr};function ms(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function K(R,Y){var M=R.name+"/";return R.storeName!==Y.storeName&&(M+=R.storeName+"/"),M}function j(){var R="_localforage_support_test";try{return localStorage.setItem(R,!0),localStorage.removeItem(R),!1}catch{return!0}}function X(){return!j()||localStorage.length>0}function pe(R){var Y=this,M={};if(R)for(var ne in R)M[ne]=R[ne];return M.keyPrefix=K(R,Y._defaultConfig),X()?(Y._dbInfo=M,M.serializer=Wt,f.resolve()):f.reject()}function he(R){var Y=this,M=Y.ready().then(function(){for(var ne=Y._dbInfo.keyPrefix,se=localStorage.length-1;se>=0;se--){var ee=localStorage.key(se);ee.indexOf(ne)===0&&localStorage.removeItem(ee)}});return d(M,R),M}function He(R,Y){var M=this;R=p(R);var ne=M.ready().then(function(){var se=M._dbInfo,ee=localStorage.getItem(se.keyPrefix+R);return ee&&(ee=se.serializer.deserialize(ee)),ee});return d(ne,Y),ne}function Te(R,Y){var M=this,ne=M.ready().then(function(){for(var se=M._dbInfo,ee=se.keyPrefix,be=ee.length,Ie=localStorage.length,Oe=1,Pe=0;Pe<Ie;Pe++){var ke=localStorage.key(Pe);if(ke.indexOf(ee)===0){var Qe=localStorage.getItem(ke);if(Qe&&(Qe=se.serializer.deserialize(Qe)),Qe=R(Qe,ke.substring(be),Oe++),Qe!==void 0)return Qe}}});return d(ne,Y),ne}function Ve(R,Y){var M=this,ne=M.ready().then(function(){var se=M._dbInfo,ee;try{ee=localStorage.key(R)}catch{ee=null}return ee&&(ee=ee.substring(se.keyPrefix.length)),ee});return d(ne,Y),ne}function ct(R){var Y=this,M=Y.ready().then(function(){for(var ne=Y._dbInfo,se=localStorage.length,ee=[],be=0;be<se;be++){var Ie=localStorage.key(be);Ie.indexOf(ne.keyPrefix)===0&&ee.push(Ie.substring(ne.keyPrefix.length))}return ee});return d(M,R),M}function Je(R){var Y=this,M=Y.keys().then(function(ne){return ne.length});return d(M,R),M}function mt(R,Y){var M=this;R=p(R);var ne=M.ready().then(function(){var se=M._dbInfo;localStorage.removeItem(se.keyPrefix+R)});return d(ne,Y),ne}function Lt(R,Y,M){var ne=this;R=p(R);var se=ne.ready().then(function(){Y===void 0&&(Y=null);var ee=Y;return new f(function(be,Ie){var Oe=ne._dbInfo;Oe.serializer.serialize(Y,function(Pe,ke){if(ke)Ie(ke);else try{localStorage.setItem(Oe.keyPrefix+R,Pe),be(ee)}catch(Qe){(Qe.name==="QuotaExceededError"||Qe.name==="NS_ERROR_DOM_QUOTA_REACHED")&&Ie(Qe),Ie(Qe)}})})});return d(se,M),se}function $n(R,Y){if(Y=m.apply(this,arguments),R=typeof R!="function"&&R||{},!R.name){var M=this.config();R.name=R.name||M.name,R.storeName=R.storeName||M.storeName}var ne=this,se;return R.name?se=new f(function(ee){R.storeName?ee(K(R,ne._defaultConfig)):ee(R.name+"/")}).then(function(ee){for(var be=localStorage.length-1;be>=0;be--){var Ie=localStorage.key(be);Ie.indexOf(ee)===0&&localStorage.removeItem(Ie)}}):se=f.reject("Invalid arguments"),d(se,Y),se}var pt={_driver:"localStorageWrapper",_initStorage:pe,_support:ms(),iterate:Te,getItem:He,setItem:Lt,removeItem:mt,clear:he,length:Je,key:Ve,keys:ct,dropInstance:$n},xn=function(Y,M){return Y===M||typeof Y=="number"&&typeof M=="number"&&isNaN(Y)&&isNaN(M)},Et=function(Y,M){for(var ne=Y.length,se=0;se<ne;){if(xn(Y[se],M))return!0;se++}return!1},mn=Array.isArray||function(R){return Object.prototype.toString.call(R)==="[object Array]"},tr={},Wr={},Pr={INDEXEDDB:st,WEBSQL:yi,LOCALSTORAGE:pt},is=[Pr.INDEXEDDB._driver,Pr.WEBSQL._driver,Pr.LOCALSTORAGE._driver],_i=["dropInstance"],hr=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(_i),Ge={description:"",driver:is.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function zt(R,Y){R[Y]=function(){var M=arguments;return R.ready().then(function(){return R[Y].apply(R,M)})}}function Hn(){for(var R=1;R<arguments.length;R++){var Y=arguments[R];if(Y)for(var M in Y)Y.hasOwnProperty(M)&&(mn(Y[M])?arguments[0][M]=Y[M].slice():arguments[0][M]=Y[M])}return arguments[0]}var ii=function(){function R(Y){o(this,R);for(var M in Pr)if(Pr.hasOwnProperty(M)){var ne=Pr[M],se=ne._driver;this[M]=se,tr[se]||this.defineDriver(ne)}this._defaultConfig=Hn({},Ge),this._config=Hn({},this._defaultConfig,Y),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return R.prototype.config=function(M){if((typeof M>"u"?"undefined":s(M))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var ne in M){if(ne==="storeName"&&(M[ne]=M[ne].replace(/\W/g,"_")),ne==="version"&&typeof M[ne]!="number")return new Error("Database version must be a number.");this._config[ne]=M[ne]}return"driver"in M&&M.driver?this.setDriver(this._config.driver):!0}else return typeof M=="string"?this._config[M]:this._config},R.prototype.defineDriver=function(M,ne,se){var ee=new f(function(be,Ie){try{var Oe=M._driver,Pe=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!M._driver){Ie(Pe);return}for(var ke=hr.concat("_initStorage"),Qe=0,Bt=ke.length;Qe<Bt;Qe++){var gn=ke[Qe],wn=!Et(_i,gn);if((wn||M[gn])&&typeof M[gn]!="function"){Ie(Pe);return}}var Er=function(){for(var Of=function($x){return function(){var dh=new Error("Method "+$x+" is not implemented by the current driver"),hh=f.reject(dh);return d(hh,arguments[arguments.length-1]),hh}},u0=0,l0=_i.length;u0<l0;u0++){var c0=_i[u0];M[c0]||(M[c0]=Of(c0))}};Er();var nr=function(Of){tr[Oe]&&console.info("Redefining LocalForage driver: "+Oe),tr[Oe]=M,Wr[Oe]=Of,be()};"_support"in M?M._support&&typeof M._support=="function"?M._support().then(nr,Ie):nr(!!M._support):nr(!0)}catch(ys){Ie(ys)}});return h(ee,ne,se),ee},R.prototype.driver=function(){return this._driver||null},R.prototype.getDriver=function(M,ne,se){var ee=tr[M]?f.resolve(tr[M]):f.reject(new Error("Driver not found."));return h(ee,ne,se),ee},R.prototype.getSerializer=function(M){var ne=f.resolve(Wt);return h(ne,M),ne},R.prototype.ready=function(M){var ne=this,se=ne._driverSet.then(function(){return ne._ready===null&&(ne._ready=ne._initDriver()),ne._ready});return h(se,M,M),se},R.prototype.setDriver=function(M,ne,se){var ee=this;mn(M)||(M=[M]);var be=this._getSupportedDrivers(M);function Ie(){ee._config.driver=ee.driver()}function Oe(Qe){return ee._extend(Qe),Ie(),ee._ready=ee._initStorage(ee._config),ee._ready}function Pe(Qe){return function(){var Bt=0;function gn(){for(;Bt<Qe.length;){var wn=Qe[Bt];return Bt++,ee._dbInfo=null,ee._ready=null,ee.getDriver(wn).then(Oe).catch(gn)}Ie();var Er=new Error("No available storage method found.");return ee._driverSet=f.reject(Er),ee._driverSet}return gn()}}var ke=this._driverSet!==null?this._driverSet.catch(function(){return f.resolve()}):f.resolve();return this._driverSet=ke.then(function(){var Qe=be[0];return ee._dbInfo=null,ee._ready=null,ee.getDriver(Qe).then(function(Bt){ee._driver=Bt._driver,Ie(),ee._wrapLibraryMethodsWithReady(),ee._initDriver=Pe(be)})}).catch(function(){Ie();var Qe=new Error("No available storage method found.");return ee._driverSet=f.reject(Qe),ee._driverSet}),h(this._driverSet,ne,se),this._driverSet},R.prototype.supports=function(M){return!!Wr[M]},R.prototype._extend=function(M){Hn(this,M)},R.prototype._getSupportedDrivers=function(M){for(var ne=[],se=0,ee=M.length;se<ee;se++){var be=M[se];this.supports(be)&&ne.push(be)}return ne},R.prototype._wrapLibraryMethodsWithReady=function(){for(var M=0,ne=hr.length;M<ne;M++)zt(this,hr[M])},R.prototype.createInstance=function(M){return new R(M)},R}(),gs=new ii;r.exports=gs},{3:3}]},{},[4])(4)})})(fie);var mqe=fie.exports;const die=Oa(mqe);let E1;const gqe=new Uint8Array(16);function yqe(){if(!E1&&(E1=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!E1))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return E1(gqe)}const Ei=[];for(let e=0;e<256;++e)Ei.push((e+256).toString(16).slice(1));function _qe(e,t=0){return Ei[e[t+0]]+Ei[e[t+1]]+Ei[e[t+2]]+Ei[e[t+3]]+"-"+Ei[e[t+4]]+Ei[e[t+5]]+"-"+Ei[e[t+6]]+Ei[e[t+7]]+"-"+Ei[e[t+8]]+Ei[e[t+9]]+"-"+Ei[e[t+10]]+Ei[e[t+11]]+Ei[e[t+12]]+Ei[e[t+13]]+Ei[e[t+14]]+Ei[e[t+15]]}const vqe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),GU={randomUUID:vqe};function YU(e,t,n){if(GU.randomUUID&&!t&&!e)return GU.randomUUID();e=e||{};const r=e.random||(e.rng||yqe)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=r[i];return t}return _qe(r)}class bqe extends cie{constructor(){super("localStorage");qs(this,"studyDatabase")}async connect(){this.connected=!0}async initializeStudyDb(n,r){this.studyDatabase=await die.createInstance({name:n}),await this.studyDatabase.setItem("config",r)}async initializeParticipantSession(){var i;if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");if(await this.getCurrentParticipantId(),!this.currentParticipantId)throw new Error("Participant not initialized");const n=await this.studyDatabase.getItem(this.currentParticipantId);if(n)return n;const r={participantId:this.currentParticipantId,sequence:await this.getSequence(),answers:{}};return await((i=this.studyDatabase)==null?void 0:i.setItem(this.currentParticipantId,r)),r}async getCurrentParticipantId(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=await this.studyDatabase.getItem("currentParticipant");if(n)return this.currentParticipantId=n,n;{const r=YU();return await this.studyDatabase.setItem("currentParticipant",r),this.currentParticipantId=r,r}}async clearCurrentParticipantId(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");await this.studyDatabase.removeItem("currentParticipant")}async saveAnswer(n,r){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");if(!this.currentParticipantId)throw new Error("Participant not initialized");const i=await this.studyDatabase.getItem(this.currentParticipantId);if(!i)throw new Error("Participant not initialized");i.answers[n]=r,await this.studyDatabase.setItem(this.currentParticipantId,i)}async setSequenceArray(n){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");this.studyDatabase.setItem("sequenceArray",n)}async getSequence(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=await this.studyDatabase.getItem("sequenceArray");if(!n)throw new Error("Latin square not initialized");const r=n.pop();if(!r)throw new Error("Latin square is empty");return await this.studyDatabase.setItem("sequenceArray",n),r}async getSequenceArray(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");return await this.studyDatabase.getItem("sequenceArray")}async getAllParticipantsData(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=[];return await this.studyDatabase.iterate((r,i)=>{i!=="config"&&i!=="currentParticipant"&&i!=="sequenceArray"&&n.push(r)}),n}async getParticipantData(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=await this.studyDatabase.getItem("currentParticipant");return n?await this.studyDatabase.getItem(n):null}async nextParticipant(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=YU();this.studyDatabase.setItem("currentParticipant",n),this.currentParticipantId=n;let r=await this.studyDatabase.getItem(n);if(!r){const i={participantId:n,sequence:await this.getSequence(),answers:{}};await this.studyDatabase.setItem(n,i),r=i}return r}async verifyCompletion(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=await this.getParticipantData();if(!n)throw new Error("Participant not initialized");return n.sequence.every(i=>i==="end"?!0:n.answers[i]!==void 0)}_verifyStudyDatabase(n){return n!==void 0}}var KU={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hie=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Eqe=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],a=e[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(u>>10)),t[r++]=String.fromCharCode(56320+(u&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},L3={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,a=o?e[i+1]:0,u=i+2<e.length,l=u?e[i+2]:0,c=s>>2,f=(s&3)<<4|a>>4;let d=(a&15)<<2|l>>6,h=l&63;u||(h=64,o||(d=64)),r.push(n[c],n[f],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(hie(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Eqe(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const l=i<e.length?n[e.charAt(i)]:64;++i;const f=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||a==null||l==null||f==null)throw new wqe;const d=s<<2|a>>4;if(r.push(d),l!==64){const h=a<<4&240|l>>2;if(r.push(h),f!==64){const p=l<<6&192|f;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class wqe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Tqe=function(e){const t=hie(e);return L3.encodeByteArray(t,!0)},LT=function(e){return Tqe(e).replace(/\./g,"")},pie=function(e){try{return L3.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mie(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sqe=()=>mie().__FIREBASE_DEFAULTS__,Iqe=()=>{if(typeof process>"u"||typeof KU>"u")return;const e=KU.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},xqe=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&pie(e[1]);return t&&JSON.parse(t)},M3=()=>{try{return Sqe()||Iqe()||xqe()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},gie=e=>{var t,n;return(n=(t=M3())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},Cqe=e=>{const t=gie(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},yie=()=>{var e;return(e=M3())===null||e===void 0?void 0:e.config},_ie=e=>{var t;return(t=M3())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aqe(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[LT(JSON.stringify(n)),LT(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Oqe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ji())}function Pqe(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Rqe(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Nqe(){const e=Ji();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function F3(){try{return typeof indexedDB=="object"}catch{return!1}}function kqe(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dqe="FirebaseError";class Mu extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=Dqe,Object.setPrototypeOf(this,Mu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zm.prototype.create)}}class Zm{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?$qe(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Mu(i,a,r)}}function $qe(e,t){return e.replace(Lqe,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const Lqe=/\{\$([^}]+)}/g;function Mqe(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Wy(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(QU(s)&&QU(o)){if(!Wy(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function QU(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Fqe(e,t){const n=new Bqe(e,t);return n.subscribe.bind(n)}class Bqe{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");jqe(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=ZA),i.error===void 0&&(i.error=ZA),i.complete===void 0&&(i.complete=ZA);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jqe(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function ZA(){}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uqe=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vqe=1e3,zqe=2,Hqe=4*60*60*1e3,Wqe=.5;function qqe(e,t=Vqe,n=zqe){const r=t*Math.pow(n,e),i=Math.round(Wqe*r*(Math.random()-.5)*2);return Math.min(Hqe,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(e){return e&&e._delegate?e._delegate:e}class Au{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jf="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gqe{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new Hy;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Kqe(t))try{this.getOrInitializeService({instanceIdentifier:jf})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=jf){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=jf){return this.instances.has(t)}getOptions(t=jf){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Yqe(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=jf){return this.component?this.component.multipleInstances?t:jf:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Yqe(e){return e===jf?void 0:e}function Kqe(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qqe{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Gqe(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nn;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(nn||(nn={}));const Xqe={debug:nn.DEBUG,verbose:nn.VERBOSE,info:nn.INFO,warn:nn.WARN,error:nn.ERROR,silent:nn.SILENT},Jqe=nn.INFO,Zqe={[nn.DEBUG]:"log",[nn.VERBOSE]:"log",[nn.INFO]:"info",[nn.WARN]:"warn",[nn.ERROR]:"error"},eGe=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=Zqe[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class tx{constructor(t){this.name=t,this._logLevel=Jqe,this._logHandler=eGe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in nn))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Xqe[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,nn.DEBUG,...t),this._logHandler(this,nn.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,nn.VERBOSE,...t),this._logHandler(this,nn.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,nn.INFO,...t),this._logHandler(this,nn.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,nn.WARN,...t),this._logHandler(this,nn.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,nn.ERROR,...t),this._logHandler(this,nn.ERROR,...t)}}const tGe=(e,t)=>t.some(n=>e instanceof n);let XU,JU;function nGe(){return XU||(XU=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rGe(){return JU||(JU=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vie=new WeakMap,fR=new WeakMap,bie=new WeakMap,eO=new WeakMap,B3=new WeakMap;function iGe(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(Wc(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&vie.set(n,e)}).catch(()=>{}),B3.set(t,e),t}function sGe(e){if(fR.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});fR.set(e,t)}let dR={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return fR.get(e);if(t==="objectStoreNames")return e.objectStoreNames||bie.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wc(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function oGe(e){dR=e(dR)}function aGe(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(tO(this),t,...n);return bie.set(r,t.sort?t.sort():[t]),Wc(r)}:rGe().includes(e)?function(...t){return e.apply(tO(this),t),Wc(vie.get(this))}:function(...t){return Wc(e.apply(tO(this),t))}}function uGe(e){return typeof e=="function"?aGe(e):(e instanceof IDBTransaction&&sGe(e),tGe(e,nGe())?new Proxy(e,dR):e)}function Wc(e){if(e instanceof IDBRequest)return iGe(e);if(eO.has(e))return eO.get(e);const t=uGe(e);return t!==e&&(eO.set(e,t),B3.set(t,e)),t}const tO=e=>B3.get(e);function lGe(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=Wc(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Wc(o.result),u.oldVersion,u.newVersion,Wc(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const cGe=["get","getKey","getAll","getAllKeys","count"],fGe=["put","add","delete","clear"],nO=new Map;function ZU(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(nO.get(t))return nO.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=fGe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||cGe.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),i&&u.done]))[0]};return nO.set(t,s),s}oGe(e=>({...e,get:(t,n,r)=>ZU(t,n)||e.get(t,n,r),has:(t,n)=>!!ZU(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dGe{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(hGe(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function hGe(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const hR="@firebase/app",eV="0.9.24";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd=new tx("@firebase/app"),pGe="@firebase/app-compat",mGe="@firebase/analytics-compat",gGe="@firebase/analytics",yGe="@firebase/app-check-compat",_Ge="@firebase/app-check",vGe="@firebase/auth",bGe="@firebase/auth-compat",EGe="@firebase/database",wGe="@firebase/database-compat",TGe="@firebase/functions",SGe="@firebase/functions-compat",IGe="@firebase/installations",xGe="@firebase/installations-compat",CGe="@firebase/messaging",AGe="@firebase/messaging-compat",OGe="@firebase/performance",PGe="@firebase/performance-compat",RGe="@firebase/remote-config",NGe="@firebase/remote-config-compat",kGe="@firebase/storage",DGe="@firebase/storage-compat",$Ge="@firebase/firestore",LGe="@firebase/firestore-compat",MGe="firebase",FGe="10.7.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR="[DEFAULT]",BGe={[hR]:"fire-core",[pGe]:"fire-core-compat",[gGe]:"fire-analytics",[mGe]:"fire-analytics-compat",[_Ge]:"fire-app-check",[yGe]:"fire-app-check-compat",[vGe]:"fire-auth",[bGe]:"fire-auth-compat",[EGe]:"fire-rtdb",[wGe]:"fire-rtdb-compat",[TGe]:"fire-fn",[SGe]:"fire-fn-compat",[IGe]:"fire-iid",[xGe]:"fire-iid-compat",[CGe]:"fire-fcm",[AGe]:"fire-fcm-compat",[OGe]:"fire-perf",[PGe]:"fire-perf-compat",[RGe]:"fire-rc",[NGe]:"fire-rc-compat",[kGe]:"fire-gcs",[DGe]:"fire-gcs-compat",[$Ge]:"fire-fst",[LGe]:"fire-fst-compat","fire-js":"fire-js",[MGe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT=new Map,mR=new Map;function jGe(e,t){try{e.container.addComponent(t)}catch(n){Bd.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function kl(e){const t=e.name;if(mR.has(t))return Bd.debug(`There were multiple attempts to register component ${t}.`),!1;mR.set(t,e);for(const n of MT.values())jGe(n,e);return!0}function e0(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UGe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},qc=new Zm("app","Firebase",UGe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VGe{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Au("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw qc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh=FGe;function Eie(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:pR,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw qc.create("bad-app-name",{appName:String(i)});if(n||(n=yie()),!n)throw qc.create("no-options");const s=MT.get(i);if(s){if(Wy(n,s.options)&&Wy(r,s.config))return s;throw qc.create("duplicate-app",{appName:i})}const o=new Qqe(i);for(const u of mR.values())o.addComponent(u);const a=new VGe(n,r,o);return MT.set(i,a),a}function j3(e=pR){const t=MT.get(e);if(!t&&e===pR&&yie())return Eie();if(!t)throw qc.create("no-app",{appName:e});return t}function Ta(e,t,n){var r;let i=(r=BGe[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${t}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Bd.warn(a.join(" "));return}kl(new Au(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zGe="firebase-heartbeat-database",HGe=1,qy="firebase-heartbeat-store";let rO=null;function wie(){return rO||(rO=lGe(zGe,HGe,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(qy)}}}).catch(e=>{throw qc.create("idb-open",{originalErrorMessage:e.message})})),rO}async function WGe(e){try{return await(await wie()).transaction(qy).objectStore(qy).get(Tie(e))}catch(t){if(t instanceof Mu)Bd.warn(t.message);else{const n=qc.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Bd.warn(n.message)}}}async function tV(e,t){try{const r=(await wie()).transaction(qy,"readwrite");await r.objectStore(qy).put(t,Tie(e)),await r.done}catch(n){if(n instanceof Mu)Bd.warn(n.message);else{const r=qc.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Bd.warn(r.message)}}}function Tie(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qGe=1024,GGe=30*24*60*60*1e3;class YGe{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new QGe(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=nV();if(!(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=GGe}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=nV(),{heartbeatsToSend:r,unsentEntries:i}=KGe(this._heartbeatsCache.heartbeats),s=LT(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function nV(){return new Date().toISOString().substring(0,10)}function KGe(e,t=qGe){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),rV(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),rV(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class QGe{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return F3()?kqe().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await WGe(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return tV(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return tV(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function rV(e){return LT(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XGe(e){kl(new Au("platform-logger",t=>new dGe(t),"PRIVATE")),kl(new Au("heartbeat",t=>new YGe(t),"PRIVATE")),Ta(hR,eV,e),Ta(hR,eV,"esm2017"),Ta("fire-js","")}XGe("");var JGe="firebase",ZGe="10.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ta(JGe,ZGe,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sie="firebasestorage.googleapis.com",Iie="storageBucket",eYe=2*60*1e3,tYe=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or extends Mu{constructor(t,n,r=0){super(iO(t),`Firebase Storage: ${n} (${iO(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Or.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return iO(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Cr;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Cr||(Cr={}));function iO(e){return"storage/"+e}function U3(){const e="An unknown error occurred, please check the error payload for server response.";return new Or(Cr.UNKNOWN,e)}function nYe(e){return new Or(Cr.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function rYe(e){return new Or(Cr.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function iYe(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Or(Cr.UNAUTHENTICATED,e)}function sYe(){return new Or(Cr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function oYe(e){return new Or(Cr.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function aYe(){return new Or(Cr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function uYe(){return new Or(Cr.CANCELED,"User canceled the upload/download.")}function lYe(e){return new Or(Cr.INVALID_URL,"Invalid URL '"+e+"'.")}function cYe(e){return new Or(Cr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function fYe(){return new Or(Cr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Iie+"' property when initializing the app?")}function dYe(){return new Or(Cr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function hYe(){return new Or(Cr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function pYe(e){return new Or(Cr.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function gR(e){return new Or(Cr.INVALID_ARGUMENT,e)}function xie(){return new Or(Cr.APP_DELETED,"The Firebase app was deleted.")}function mYe(e){return new Or(Cr.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Wg(e,t){return new Or(Cr.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function V0(e){throw new Or(Cr.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=so.makeFromUrl(t,n)}catch{return new so(t,"")}if(r.path==="")return r;throw cYe(t)}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(T){T.path.charAt(T.path.length-1)==="/"&&(T.path_=T.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function l(T){T.path_=decodeURIComponent(T.path)}const c="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",h=new RegExp(`^https?://${f}/${c}/b/${i}/o${d}`,"i"),p={bucket:1,path:3},m=n===Sie?"(?:storage.googleapis.com|storage.cloud.google.com)":n,y="([^?#]*)",g=new RegExp(`^https?://${m}/${i}/${y}`,"i"),b=[{regex:a,indices:u,postModify:s},{regex:h,indices:p,postModify:l},{regex:g,indices:{bucket:1,path:2},postModify:l}];for(let T=0;T<b.length;T++){const I=b[T],E=I.regex.exec(t);if(E){const S=E[I.indices.bucket];let A=E[I.indices.path];A||(A=""),r=new so(S,A),I.postModify(r);break}}if(r==null)throw lYe(t);return r}}class gYe{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yYe(e,t,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return a===2}let l=!1;function c(...y){l||(l=!0,t.apply(null,y))}function f(y){i=setTimeout(()=>{i=null,e(h,u())},y)}function d(){s&&clearTimeout(s)}function h(y,...g){if(l){d();return}if(y){d(),c.call(null,y,...g);return}if(u()||o){d(),c.call(null,y,...g);return}r<64&&(r*=2);let b;a===1?(a=2,b=0):b=(r+Math.random())*1e3,f(b)}let p=!1;function m(y){p||(p=!0,d(),!l&&(i!==null?(y||(a=2),clearTimeout(i),f(0)):y||(a=1)))}return f(0),s=setTimeout(()=>{o=!0,m(!0)},n),m}function _Ye(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vYe(e){return e!==void 0}function bYe(e){return typeof e=="object"&&!Array.isArray(e)}function V3(e){return typeof e=="string"||e instanceof String}function iV(e){return z3()&&e instanceof Blob}function z3(){return typeof Blob<"u"}function sV(e,t,n,r){if(r<t)throw gR(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw gR(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H3(e,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function Cie(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ed;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Ed||(Ed={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EYe(e,t){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,s=t.indexOf(e)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wYe{constructor(t,n,r,i,s,o,a,u,l,c,f,d=!0){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=f,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,p)=>{this.resolve_=h,this.reject_=p,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new w1(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const u=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,l)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Ed.NO_ERROR,u=s.getStatus();if(!a||EYe(u,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===Ed.ABORT;r(!1,new w1(!1,null,c));return}const l=this.successCodes_.indexOf(u)!==-1;r(!0,new w1(l,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());vYe(u)?s(u):s()}catch(u){o(u)}else if(a!==null){const u=U3();u.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,u)):o(u)}else if(i.canceled){const u=this.appDelete_?xie():uYe();o(u)}else{const u=aYe();o(u)}};this.canceled_?n(!1,new w1(!1,null,!0)):this.backoffId_=yYe(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&_Ye(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class w1{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function TYe(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function SYe(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function IYe(e,t){t&&(e["X-Firebase-GMPID"]=t)}function xYe(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function CYe(e,t,n,r,i,s,o=!0){const a=Cie(e.urlParams),u=e.url+a,l=Object.assign({},e.headers);return IYe(l,t),TYe(l,n),SYe(l,s),xYe(l,r),new wYe(u,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AYe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function OYe(...e){const t=AYe();if(t!==void 0){const n=new t;for(let r=0;r<e.length;r++)n.append(e[r]);return n.getBlob()}else{if(z3())return new Blob(e);throw new Or(Cr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function PYe(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RYe(e){if(typeof atob>"u")throw pYe("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class sO{constructor(t,n){this.data=t,this.contentType=n||null}}function NYe(e,t){switch(e){case su.RAW:return new sO(Aie(t));case su.BASE64:case su.BASE64URL:return new sO(Oie(e,t));case su.DATA_URL:return new sO(DYe(t),$Ye(t))}throw U3()}function Aie(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const s=r,o=e.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function kYe(e){let t;try{t=decodeURIComponent(e)}catch{throw Wg(su.DATA_URL,"Malformed data URL.")}return Aie(t)}function Oie(e,t){switch(e){case su.BASE64:{const i=t.indexOf("-")!==-1,s=t.indexOf("_")!==-1;if(i||s)throw Wg(e,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case su.BASE64URL:{const i=t.indexOf("+")!==-1,s=t.indexOf("/")!==-1;if(i||s)throw Wg(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=RYe(t)}catch(i){throw i.message.includes("polyfill")?i:Wg(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class Pie{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw Wg(su.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=LYe(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function DYe(e){const t=new Pie(e);return t.base64?Oie(su.BASE64,t.rest):kYe(t.rest)}function $Ye(e){return new Pie(e).contentType}function LYe(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(t,n){let r=0,i="";iV(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(t,n){if(iV(this.data_)){const r=this.data_,i=PYe(r,t,n);return i===null?null:new gc(i)}else{const r=new Uint8Array(this.data_.buffer,t,n-t);return new gc(r,!0)}}static getBlob(...t){if(z3()){const n=t.map(r=>r instanceof gc?r.data_:r);return new gc(OYe.apply(null,n))}else{const n=t.map(o=>V3(o)?NYe(su.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new gc(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rie(e){let t;try{t=JSON.parse(e)}catch{return null}return bYe(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MYe(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function FYe(e,t){const n=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?n:e+"/"+n}function Nie(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BYe(e,t){return t}class ss{constructor(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||BYe}}let T1=null;function jYe(e){return!V3(e)||e.length<2?e:Nie(e)}function kie(){if(T1)return T1;const e=[];e.push(new ss("bucket")),e.push(new ss("generation")),e.push(new ss("metageneration")),e.push(new ss("name","fullPath",!0));function t(s,o){return jYe(o)}const n=new ss("name");n.xform=t,e.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new ss("size");return i.xform=r,e.push(i),e.push(new ss("timeCreated")),e.push(new ss("updated")),e.push(new ss("md5Hash",null,!0)),e.push(new ss("cacheControl",null,!0)),e.push(new ss("contentDisposition",null,!0)),e.push(new ss("contentEncoding",null,!0)),e.push(new ss("contentLanguage",null,!0)),e.push(new ss("contentType",null,!0)),e.push(new ss("metadata","customMetadata",!0)),T1=e,T1}function UYe(e,t){function n(){const r=e.bucket,i=e.fullPath,s=new so(r,i);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function VYe(e,t,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,t[o.server])}return UYe(r,e),r}function Die(e,t,n){const r=Rie(t);return r===null?null:VYe(e,r,n)}function zYe(e,t,n,r){const i=Rie(t);if(i===null||!V3(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(l=>{const c=e.bucket,f=e.fullPath,d="/b/"+o(c)+"/o/"+o(f),h=H3(d,n,r),p=Cie({alt:"media",token:l});return h+p})[0]}function HYe(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const s=t[i];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}class $ie{constructor(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lie(e){if(!e)throw U3()}function WYe(e,t){function n(r,i){const s=Die(e,i,t);return Lie(s!==null),s}return n}function qYe(e,t){function n(r,i){const s=Die(e,i,t);return Lie(s!==null),zYe(s,i,e.host,e._protocol)}return n}function Mie(e){function t(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=sYe():i=iYe():n.getStatus()===402?i=rYe(e.bucket):n.getStatus()===403?i=oYe(e.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return t}function GYe(e){const t=Mie(e);function n(r,i){let s=t(r,i);return r.getStatus()===404&&(s=nYe(e.path)),s.serverResponse=i.serverResponse,s}return n}function YYe(e,t,n){const r=t.fullServerUrl(),i=H3(r,e.host,e._protocol),s="GET",o=e.maxOperationRetryTime,a=new $ie(i,s,qYe(e,n),o);return a.errorHandler=GYe(t),a}function KYe(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function QYe(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=KYe(null,t)),r}function XYe(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let b="";for(let T=0;T<2;T++)b=b+Math.random().toString().slice(2);return b}const u=a();o["Content-Type"]="multipart/related; boundary="+u;const l=QYe(t,r,i),c=HYe(l,n),f="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+u+`\r
Content-Type: `+l.contentType+`\r
\r
`,d=`\r
--`+u+"--",h=gc.getBlob(f,r,d);if(h===null)throw dYe();const p={name:l.fullPath},m=H3(s,e.host,e._protocol),y="POST",g=e.maxUploadRetryTime,_=new $ie(m,y,WYe(e,n),g);return _.urlParams=p,_.headers=o,_.body=h.uploadData(),_.errorHandler=Mie(t),_}class JYe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ed.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ed.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ed.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,i){if(this.sent_)throw V0("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw V0("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw V0("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw V0("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw V0("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class ZYe extends JYe{initXhr(){this.xhr_.responseType="text"}}function Fie(){return new ZYe}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(t,n){this._service=t,n instanceof so?this._location=n:this._location=so.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new jd(t,n)}get root(){const t=new so(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Nie(this._location.path)}get storage(){return this._service}get parent(){const t=MYe(this._location.path);if(t===null)return null;const n=new so(this._location.bucket,t);return new jd(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw mYe(t)}}function eKe(e,t,n){e._throwIfRoot("uploadBytes");const r=XYe(e.storage,e._location,kie(),new gc(t,!0),n);return e.storage.makeRequestWithTokens(r,Fie).then(i=>({metadata:i,ref:e}))}function tKe(e){e._throwIfRoot("getDownloadURL");const t=YYe(e.storage,e._location,kie());return e.storage.makeRequestWithTokens(t,Fie).then(n=>{if(n===null)throw hYe();return n})}function nKe(e,t){const n=FYe(e._location.path,t),r=new so(e._location.bucket,n);return new jd(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rKe(e){return/^[A-Za-z]+:\/\//.test(e)}function iKe(e,t){return new jd(e,t)}function Bie(e,t){if(e instanceof W3){const n=e;if(n._bucket==null)throw fYe();const r=new jd(n,n._bucket);return t!=null?Bie(r,t):r}else return t!==void 0?nKe(e,t):e}function sKe(e,t){if(t&&rKe(t)){if(e instanceof W3)return iKe(e,t);throw gR("To use ref(service, url), the first argument must be a Storage instance.")}else return Bie(e,t)}function oV(e,t){const n=t==null?void 0:t[Iie];return n==null?null:so.makeFromBucketSpec(n,e)}function oKe(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken=typeof i=="string"?i:Aqe(i,e.app.options.projectId))}class W3{constructor(t,n,r,i,s){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=Sie,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=eYe,this._maxUploadRetryTime=tYe,this._requests=new Set,i!=null?this._bucket=so.makeFromBucketSpec(i,this._host):this._bucket=oV(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=so.makeFromBucketSpec(this._url,t):this._bucket=oV(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){sV("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){sV("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new jd(this,t)}_makeRequest(t,n,r,i,s=!0){if(this._deleted)return new gYe(xie());{const o=CYe(t,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()}}const aV="@firebase/storage",uV="0.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jie="storage";function aKe(e,t,n){return e=Zi(e),eKe(e,t,n)}function uKe(e){return e=Zi(e),tKe(e)}function lV(e,t){return e=Zi(e),sKe(e,t)}function cV(e=j3(),t){e=Zi(e);const r=e0(e,jie).getImmediate({identifier:t}),i=Cqe("storage");return i&&lKe(r,...i),r}function lKe(e,t,n,r={}){oKe(e,t,n,r)}function cKe(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new W3(n,r,i,t,uh)}function fKe(){kl(new Au(jie,cKe,"PUBLIC").setMultipleInstances(!0)),Ta(aV,uV,""),Ta(aV,uV,"esm2017")}fKe();var dKe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Fe,q3=q3||{},Tt=dKe||self;function nx(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function ev(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function hKe(e){return Object.prototype.hasOwnProperty.call(e,oO)&&e[oO]||(e[oO]=++pKe)}var oO="closure_uid_"+(1e9*Math.random()>>>0),pKe=0;function mKe(e,t,n){return e.call.apply(e.bind,arguments)}function gKe(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function Yi(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Yi=mKe:Yi=gKe,Yi.apply(null,arguments)}function S1(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function gi(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[i].apply(r,o)}}function Cf(){this.s=this.s,this.o=this.o}var yKe=0;Cf.prototype.s=!1;Cf.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),yKe!=0)&&hKe(this)};Cf.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Uie=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function G3(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function fV(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(nx(r)){const i=e.length||0,s=r.length||0;e.length=i+s;for(let o=0;o<s;o++)e[i+o]=r[o]}else e.push(r)}}function Ki(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Ki.prototype.h=function(){this.defaultPrevented=!0};var _Ke=function(){if(!Tt.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const n=()=>{};Tt.addEventListener("test",n,t),Tt.removeEventListener("test",n,t)}catch{}return e}();function Gy(e){return/^[\s\xa0]*$/.test(e)}function rx(){var e=Tt.navigator;return e&&(e=e.userAgent)?e:""}function tu(e){return rx().indexOf(e)!=-1}function Y3(e){return Y3[" "](e),e}Y3[" "]=function(){};function vKe(e,t){var n=fQe;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var bKe=tu("Opera"),_m=tu("Trident")||tu("MSIE"),Vie=tu("Edge"),yR=Vie||_m,zie=tu("Gecko")&&!(rx().toLowerCase().indexOf("webkit")!=-1&&!tu("Edge"))&&!(tu("Trident")||tu("MSIE"))&&!tu("Edge"),EKe=rx().toLowerCase().indexOf("webkit")!=-1&&!tu("Edge");function Hie(){var e=Tt.document;return e?e.documentMode:void 0}var _R;e:{var aO="",uO=function(){var e=rx();if(zie)return/rv:([^\);]+)(\)|;)/.exec(e);if(Vie)return/Edge\/([\d\.]+)/.exec(e);if(_m)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(EKe)return/WebKit\/(\S+)/.exec(e);if(bKe)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(uO&&(aO=uO?uO[1]:""),_m){var lO=Hie();if(lO!=null&&lO>parseFloat(aO)){_R=String(lO);break e}}_R=aO}var vR;if(Tt.document&&_m){var dV=Hie();vR=dV||parseInt(_R,10)||void 0}else vR=void 0;var wKe=vR;function Yy(e,t){if(Ki.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(zie){e:{try{Y3(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:TKe[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Yy.$.h.call(this)}}gi(Yy,Ki);var TKe={2:"touch",3:"pen",4:"mouse"};Yy.prototype.h=function(){Yy.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var tv="closure_listenable_"+(1e6*Math.random()|0),SKe=0;function IKe(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++SKe,this.fa=this.ia=!1}function ix(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function K3(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function xKe(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function Wie(e){const t={};for(const n in e)t[n]=e[n];return t}const hV="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function qie(e,t){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(let s=0;s<hV.length;s++)n=hV[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function sx(e){this.src=e,this.g={},this.h=0}sx.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var o=ER(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):(t=new IKe(t,this.src,s,!!r,i),t.ia=n,e.push(t)),t};function bR(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=Uie(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(ix(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function ER(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}var Q3="closure_lm_"+(1e6*Math.random()|0),cO={};function Gie(e,t,n,r,i){if(r&&r.once)return Kie(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Gie(e,t[s],n,r,i);return null}return n=Z3(n),e&&e[tv]?e.O(t,n,ev(r)?!!r.capture:!!r,i):Yie(e,t,n,!1,r,i)}function Yie(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=ev(i)?!!i.capture:!!i,a=J3(e);if(a||(e[Q3]=a=new sx(e)),n=a.add(t,n,r,o,s),n.proxy)return n;if(r=CKe(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)_Ke||(i=o),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Xie(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function CKe(){function e(n){return t.call(e.src,e.listener,n)}const t=AKe;return e}function Kie(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Kie(e,t[s],n,r,i);return null}return n=Z3(n),e&&e[tv]?e.P(t,n,ev(r)?!!r.capture:!!r,i):Yie(e,t,n,!0,r,i)}function Qie(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Qie(e,t[s],n,r,i);else r=ev(r)?!!r.capture:!!r,n=Z3(n),e&&e[tv]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=ER(s,n,r,i),-1<n&&(ix(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=J3(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ER(t,n,r,i)),(n=-1<e?t[e]:null)&&X3(n))}function X3(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[tv])bR(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Xie(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=J3(t))?(bR(n,e),n.h==0&&(n.src=null,t[Q3]=null)):ix(e)}}}function Xie(e){return e in cO?cO[e]:cO[e]="on"+e}function AKe(e,t){if(e.fa)e=!0;else{t=new Yy(t,this);var n=e.listener,r=e.la||e.src;e.ia&&X3(e),e=n.call(r,t)}return e}function J3(e){return e=e[Q3],e instanceof sx?e:null}var fO="__closure_events_fn_"+(1e9*Math.random()>>>0);function Z3(e){return typeof e=="function"?e:(e[fO]||(e[fO]=function(t){return e.handleEvent(t)}),e[fO])}function hi(){Cf.call(this),this.i=new sx(this),this.S=this,this.J=null}gi(hi,Cf);hi.prototype[tv]=!0;hi.prototype.removeEventListener=function(e,t,n,r){Qie(this,e,t,n,r)};function ki(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,typeof t=="string")t=new Ki(t,e);else if(t instanceof Ki)t.target=t.target||e;else{var i=t;t=new Ki(r,e),qie(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=I1(o,r,!0,t)&&i}if(o=t.g=e,i=I1(o,r,!0,t)&&i,i=I1(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)o=t.g=n[s],i=I1(o,r,!1,t)&&i}hi.prototype.N=function(){if(hi.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)ix(n[r]);delete e.g[t],e.h--}}this.J=null};hi.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};hi.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function I1(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&bR(e.i,o),i=a.call(u,r)!==!1&&i}}return i&&!r.defaultPrevented}var e6=Tt.JSON.stringify;class OKe{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function PKe(){var e=t6;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class RKe{constructor(){this.h=this.g=null}add(t,n){const r=Jie.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Jie=new OKe(()=>new NKe,e=>e.reset());class NKe{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function kKe(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function DKe(e){Tt.setTimeout(()=>{throw e},0)}let Ky,Qy=!1,t6=new RKe,Zie=()=>{const e=Tt.Promise.resolve(void 0);Ky=()=>{e.then($Ke)}};var $Ke=()=>{for(var e;e=PKe();){try{e.h.call(e.g)}catch(n){DKe(n)}var t=Jie;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Qy=!1};function ox(e,t){hi.call(this),this.h=e||1,this.g=t||Tt,this.j=Yi(this.qb,this),this.l=Date.now()}gi(ox,hi);Fe=ox.prototype;Fe.ga=!1;Fe.T=null;Fe.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ki(this,"tick"),this.ga&&(n6(this),this.start()))}};Fe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function n6(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}Fe.N=function(){ox.$.N.call(this),n6(this),delete this.g};function r6(e,t,n){if(typeof e=="function")n&&(e=Yi(e,n));else if(e&&typeof e.handleEvent=="function")e=Yi(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:Tt.setTimeout(e,t||0)}function ese(e){e.g=r6(()=>{e.g=null,e.i&&(e.i=!1,ese(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class LKe extends Cf{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:ese(this)}N(){super.N(),this.g&&(Tt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xy(e){Cf.call(this),this.h=e,this.g={}}gi(Xy,Cf);var pV=[];function tse(e,t,n,r){Array.isArray(n)||(n&&(pV[0]=n.toString()),n=pV);for(var i=0;i<n.length;i++){var s=Gie(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function nse(e){K3(e.g,function(t,n){this.g.hasOwnProperty(n)&&X3(t)},e),e.g={}}Xy.prototype.N=function(){Xy.$.N.call(this),nse(this)};Xy.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function ax(){this.g=!0}ax.prototype.Ea=function(){this.g=!1};function MKe(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var f=c.split("_");o=2<=f.length&&f[1]=="type"?o+(c+"="+l+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+o})}function FKe(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+o})}function ip(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+jKe(e,n)+(r?" "+r:"")})}function BKe(e,t){e.info(function(){return"TIMEOUT: "+t})}ax.prototype.info=function(){};function jKe(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return e6(n)}catch{return t}}var lh={},mV=null;function ux(){return mV=mV||new hi}lh.Ta="serverreachability";function rse(e){Ki.call(this,lh.Ta,e)}gi(rse,Ki);function Jy(e){const t=ux();ki(t,new rse(t))}lh.STAT_EVENT="statevent";function ise(e,t){Ki.call(this,lh.STAT_EVENT,e),this.stat=t}gi(ise,Ki);function us(e){const t=ux();ki(t,new ise(t,e))}lh.Ua="timingevent";function sse(e,t){Ki.call(this,lh.Ua,e),this.size=t}gi(sse,Ki);function nv(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return Tt.setTimeout(function(){e()},t)}var lx={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ose={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function i6(){}i6.prototype.h=null;function gV(e){return e.h||(e.h=e.i())}function ase(){}var rv={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function s6(){Ki.call(this,"d")}gi(s6,Ki);function o6(){Ki.call(this,"c")}gi(o6,Ki);var wR;function cx(){}gi(cx,i6);cx.prototype.g=function(){return new XMLHttpRequest};cx.prototype.i=function(){return{}};wR=new cx;function iv(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Xy(this),this.P=UKe,e=yR?125:void 0,this.V=new ox(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new use}function use(){this.i=null,this.g="",this.h=!1}var UKe=45e3,lse={},TR={};Fe=iv.prototype;Fe.setTimeout=function(e){this.P=e};function SR(e,t,n){e.L=1,e.A=dx(Dl(t)),e.u=n,e.S=!0,cse(e,null)}function cse(e,t){e.G=Date.now(),sv(e),e.B=Dl(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),_se(n.i,"t",r),e.o=0,n=e.l.J,e.h=new use,e.g=Bse(e.l,n?t:null,!e.u),0<e.O&&(e.M=new LKe(Yi(e.Pa,e,e.g),e.O)),tse(e.U,e.g,"readystatechange",e.nb),t=e.I?Wie(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),Jy(),MKe(e.j,e.v,e.B,e.m,e.W,e.u)}Fe.nb=function(e){e=e.target;const t=this.M;t&&ou(e)==3?t.l():this.Pa(e)};Fe.Pa=function(e){try{if(e==this.g)e:{const c=ou(this.g);var t=this.g.Ia();const f=this.g.da();if(!(3>c)&&(c!=3||yR||this.g&&(this.h.h||this.g.ja()||bV(this.g)))){this.J||c!=4||t==7||(t==8||0>=f?Jy(3):Jy(2)),fx(this);var n=this.g.da();this.ca=n;t:if(fse(this)){var r=bV(this.g);e="";var i=r.length,s=ou(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){cd(this),qg(this);var o="";break t}this.h.i=new Tt.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.length=0,this.h.g+=e,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,FKe(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Gy(a)){var l=a;break t}}l=null}if(n=l)ip(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,IR(this,n);else{this.i=!1,this.s=3,us(12),cd(this),qg(this);break e}}this.S?(dse(this,c,o),yR&&this.i&&c==3&&(tse(this.U,this.V,"tick",this.mb),this.V.start())):(ip(this.j,this.m,o,null),IR(this,o)),c==4&&cd(this),this.i&&!this.J&&(c==4?$se(this.l,this):(this.i=!1,sv(this)))}else uQe(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,us(12)):(this.s=0,us(13)),cd(this),qg(this)}}}catch{}finally{}};function fse(e){return e.g?e.v=="GET"&&e.L!=2&&e.l.Ha:!1}function dse(e,t,n){let r=!0,i;for(;!e.J&&e.o<n.length;)if(i=VKe(e,n),i==TR){t==4&&(e.s=4,us(14),r=!1),ip(e.j,e.m,null,"[Incomplete Response]");break}else if(i==lse){e.s=4,us(15),ip(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else ip(e.j,e.m,i,null),IR(e,i);fse(e)&&e.o!=0&&(e.h.g=e.h.g.slice(e.o),e.o=0),t!=4||n.length!=0||e.h.h||(e.s=1,us(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),d6(t),t.M=!0,us(11))):(ip(e.j,e.m,n,"[Invalid Chunked Response]"),cd(e),qg(e))}Fe.mb=function(){if(this.g){var e=ou(this.g),t=this.g.ja();this.o<t.length&&(fx(this),dse(this,e,t),this.i&&e!=4&&sv(this))}};function VKe(e,t){var n=e.o,r=t.indexOf(`
`,n);return r==-1?TR:(n=Number(t.substring(n,r)),isNaN(n)?lse:(r+=1,r+n>t.length?TR:(t=t.slice(r,r+n),e.o=r+n,t)))}Fe.cancel=function(){this.J=!0,cd(this)};function sv(e){e.Y=Date.now()+e.P,hse(e,e.P)}function hse(e,t){if(e.C!=null)throw Error("WatchDog timer not null");e.C=nv(Yi(e.lb,e),t)}function fx(e){e.C&&(Tt.clearTimeout(e.C),e.C=null)}Fe.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(BKe(this.j,this.B),this.L!=2&&(Jy(),us(17)),cd(this),this.s=2,qg(this)):hse(this,this.Y-e)};function qg(e){e.l.H==0||e.J||$se(e.l,e)}function cd(e){fx(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,n6(e.V),nse(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function IR(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||xR(n.i,e))){if(!e.K&&xR(n.i,e)&&n.H==3){try{var r=n.Ja.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)jT(n),gx(n);else break e;f6(n),us(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=nv(Yi(n.ib,n),6e3));if(1>=Ese(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else fd(n,11)}else if((e.K||n.g==e)&&jT(n),!Gy(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let l=i[t];if(n.V=l[0],l=l[1],n.H==2)if(l[0]=="c"){n.K=l[1],n.pa=l[2];const c=l[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const f=l[4];f!=null&&(n.Ga=f,n.l.info("SVER="+n.Ga));const d=l[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const p=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(a6(s,s.h),s.h=null))}if(r.F){const m=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,Jn(r.I,r.F,m))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=e;if(r.wa=Fse(r,r.J?r.pa:null,r.Y),o.K){wse(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.C&&(fx(a),sv(a)),r.g=o}else kse(r);0<n.j.length&&yx(n)}else l[0]!="stop"&&l[0]!="close"||fd(n,7);else n.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?fd(n,7):c6(n):l[0]!="noop"&&n.h&&n.h.Aa(l),n.A=0)}}Jy(4)}catch{}}function zKe(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(nx(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function HKe(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(nx(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function pse(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(nx(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=HKe(e),r=zKe(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}var mse=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function WKe(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function wd(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof wd){this.h=e.h,FT(this,e.j),this.s=e.s,this.g=e.g,BT(this,e.m),this.l=e.l;var t=e.i,n=new Zy;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),yV(this,n),this.o=e.o}else e&&(t=String(e).match(mse))?(this.h=!1,FT(this,t[1]||"",!0),this.s=lg(t[2]||""),this.g=lg(t[3]||"",!0),BT(this,t[4]),this.l=lg(t[5]||"",!0),yV(this,t[6]||"",!0),this.o=lg(t[7]||"")):(this.h=!1,this.i=new Zy(null,this.h))}wd.prototype.toString=function(){var e=[],t=this.j;t&&e.push(cg(t,_V,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(cg(t,_V,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(cg(n,n.charAt(0)=="/"?YKe:GKe,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",cg(n,QKe)),e.join("")};function Dl(e){return new wd(e)}function FT(e,t,n){e.j=n?lg(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function BT(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function yV(e,t,n){t instanceof Zy?(e.i=t,XKe(e.i,e.h)):(n||(t=cg(t,KKe)),e.i=new Zy(t,e.h))}function Jn(e,t,n){e.i.set(t,n)}function dx(e){return Jn(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function lg(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function cg(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,qKe),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function qKe(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var _V=/[#\/\?@]/g,GKe=/[#\?:]/g,YKe=/[#\?]/g,KKe=/[#\?@]/g,QKe=/#/g;function Zy(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Af(e){e.g||(e.g=new Map,e.h=0,e.i&&WKe(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}Fe=Zy.prototype;Fe.add=function(e,t){Af(this),this.i=null,e=t0(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function gse(e,t){Af(e),t=t0(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function yse(e,t){return Af(e),t=t0(e,t),e.g.has(t)}Fe.forEach=function(e,t){Af(this),this.g.forEach(function(n,r){n.forEach(function(i){e.call(t,i,r,this)},this)},this)};Fe.ta=function(){Af(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let s=0;s<i.length;s++)n.push(t[r])}return n};Fe.Z=function(e){Af(this);let t=[];if(typeof e=="string")yse(this,e)&&(t=t.concat(this.g.get(t0(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};Fe.set=function(e,t){return Af(this),this.i=null,e=t0(this,e),yse(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};Fe.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function _se(e,t,n){gse(e,t),0<n.length&&(e.i=null,e.g.set(t0(e,t),G3(n)),e.h+=n.length)}Fe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};function t0(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function XKe(e,t){t&&!e.j&&(Af(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(gse(this,r),_se(this,i,n))},e)),e.j=t}var JKe=class{constructor(e,t){this.g=e,this.map=t}};function vse(e){this.l=e||ZKe,Tt.PerformanceNavigationTiming?(e=Tt.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(Tt.g&&Tt.g.Ka&&Tt.g.Ka()&&Tt.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ZKe=10;function bse(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function Ese(e){return e.h?1:e.g?e.g.size:0}function xR(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function a6(e,t){e.g?e.g.add(t):e.h=t}function wse(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}vse.prototype.cancel=function(){if(this.i=Tse(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function Tse(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return G3(e.i)}var eQe=class{stringify(e){return Tt.JSON.stringify(e,void 0)}parse(e){return Tt.JSON.parse(e,void 0)}};function tQe(){this.g=new eQe}function nQe(e,t,n){const r=n||"";try{pse(e,function(i,s){let o=i;ev(i)&&(o=e6(i)),t.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function rQe(e,t){const n=new ax;if(Tt.Image){const r=new Image;r.onload=S1(x1,n,r,"TestLoadImage: loaded",!0,t),r.onerror=S1(x1,n,r,"TestLoadImage: error",!1,t),r.onabort=S1(x1,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=S1(x1,n,r,"TestLoadImage: timeout",!1,t),Tt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function x1(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function hx(e){this.l=e.ec||null,this.j=e.ob||!1}gi(hx,i6);hx.prototype.g=function(){return new px(this.l,this.j)};hx.prototype.i=function(e){return function(){return e}}({});function px(e,t){hi.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=u6,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}gi(px,hi);var u6=0;Fe=px.prototype;Fe.open=function(e,t){if(this.readyState!=u6)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,e_(this)};Fe.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Tt).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};Fe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ov(this)),this.readyState=u6};Fe.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,e_(this)),this.g&&(this.readyState=3,e_(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Tt.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Sse(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function Sse(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}Fe.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?ov(this):e_(this),this.readyState==3&&Sse(this)}};Fe.Za=function(e){this.g&&(this.response=this.responseText=e,ov(this))};Fe.Ya=function(e){this.g&&(this.response=e,ov(this))};Fe.ka=function(){this.g&&ov(this)};function ov(e){e.readyState=4,e.l=null,e.j=null,e.A=null,e_(e)}Fe.setRequestHeader=function(e,t){this.v.append(e,t)};Fe.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};Fe.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function e_(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(px.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var iQe=Tt.JSON.parse;function Ar(e){hi.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Ise,this.L=this.M=!1}gi(Ar,hi);var Ise="",sQe=/^https?$/i,oQe=["POST","PUT"];Fe=Ar.prototype;Fe.Oa=function(e){this.M=e};Fe.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():wR.g(),this.C=this.u?gV(this.u):gV(wR),this.g.onreadystatechange=Yi(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){vV(this,s);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Tt.FormData&&e instanceof Tt.FormData,!(0<=Uie(oQe,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Ase(this),0<this.B&&((this.L=aQe(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Yi(this.ua,this)):this.A=r6(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){vV(this,s)}};function aQe(e){return _m&&typeof e.timeout=="number"&&e.ontimeout!==void 0}Fe.ua=function(){typeof q3<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ki(this,"timeout"),this.abort(8))};function vV(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,xse(e),mx(e)}function xse(e){e.F||(e.F=!0,ki(e,"complete"),ki(e,"error"))}Fe.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ki(this,"complete"),ki(this,"abort"),mx(this))};Fe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),mx(this,!0)),Ar.$.N.call(this)};Fe.La=function(){this.s||(this.G||this.v||this.l?Cse(this):this.kb())};Fe.kb=function(){Cse(this)};function Cse(e){if(e.h&&typeof q3<"u"&&(!e.C[1]||ou(e)!=4||e.da()!=2)){if(e.v&&ou(e)==4)r6(e.La,0,e);else if(ki(e,"readystatechange"),ou(e)==4){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=o===0){var i=String(e.I).match(mse)[1]||null;!i&&Tt.self&&Tt.self.location&&(i=Tt.self.location.protocol.slice(0,-1)),r=!sQe.test(i?i.toLowerCase():"")}n=r}if(n)ki(e,"complete"),ki(e,"success");else{e.m=6;try{var s=2<ou(e)?e.g.statusText:""}catch{s=""}e.j=s+" ["+e.da()+"]",xse(e)}}finally{mx(e)}}}}function mx(e,t){if(e.g){Ase(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||ki(e,"ready");try{n.onreadystatechange=r}catch{}}}function Ase(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Tt.clearTimeout(e.A),e.A=null)}Fe.isActive=function(){return!!this.g};function ou(e){return e.g?e.g.readyState:0}Fe.da=function(){try{return 2<ou(this)?this.g.status:-1}catch{return-1}};Fe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Fe.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),iQe(t)}};function bV(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Ise:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function uQe(e){const t={};e=(e.g&&2<=ou(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<e.length;r++){if(Gy(e[r]))continue;var n=kKe(e[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}xKe(t,function(r){return r.join(", ")})}Fe.Ia=function(){return this.m};Fe.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Ose(e){let t="";return K3(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function l6(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ose(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Jn(e,t,n))}function z0(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Pse(e){this.Ga=0,this.j=[],this.l=new ax,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=z0("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=z0("baseRetryDelayMs",5e3,e),this.hb=z0("retryDelaySeedMs",1e4,e),this.eb=z0("forwardChannelMaxRetries",2,e),this.xa=z0("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new vse(e&&e.concurrentRequestLimit),this.Ja=new tQe,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Fe=Pse.prototype;Fe.ra=8;Fe.H=1;function c6(e){if(Rse(e),e.H==3){var t=e.W++,n=Dl(e.I);if(Jn(n,"SID",e.K),Jn(n,"RID",t),Jn(n,"TYPE","terminate"),av(e,n),t=new iv(e,e.l,t),t.L=2,t.A=dx(Dl(n)),n=!1,Tt.navigator&&Tt.navigator.sendBeacon)try{n=Tt.navigator.sendBeacon(t.A.toString(),"")}catch{}!n&&Tt.Image&&(new Image().src=t.A,n=!0),n||(t.g=Bse(t.l,null),t.g.ha(t.A)),t.G=Date.now(),sv(t)}Mse(e)}function gx(e){e.g&&(d6(e),e.g.cancel(),e.g=null)}function Rse(e){gx(e),e.u&&(Tt.clearTimeout(e.u),e.u=null),jT(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&Tt.clearTimeout(e.m),e.m=null)}function yx(e){if(!bse(e.i)&&!e.m){e.m=!0;var t=e.Na;Ky||Zie(),Qy||(Ky(),Qy=!0),t6.add(t,e),e.C=0}}function lQe(e,t){return Ese(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=nv(Yi(e.Na,e,t),Lse(e,e.C)),e.C++,!0)}Fe.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new iv(this,this.l,e);let s=this.s;if(this.U&&(s?(s=Wie(s),qie(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break e}if(t===4096||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Nse(this,i,t),n=Dl(this.I),Jn(n,"RID",e),Jn(n,"CVER",22),this.F&&Jn(n,"X-HTTP-Session-Id",this.F),av(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Ose(s)))+"&"+t:this.o&&l6(n,this.o,s)),a6(this.i,i),this.bb&&Jn(n,"TYPE","init"),this.P?(Jn(n,"$req",t),Jn(n,"SID","null"),i.aa=!0,SR(i,n,null)):SR(i,n,t),this.H=2}}else this.H==3&&(e?EV(this,e):this.j.length==0||bse(this.i)||EV(this))};function EV(e,t){var n;t?n=t.m:n=e.W++;const r=Dl(e.I);Jn(r,"SID",e.K),Jn(r,"RID",n),Jn(r,"AID",e.V),av(e,r),e.o&&e.s&&l6(r,e.o,e.s),n=new iv(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Nse(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),a6(e.i,n),SR(n,r,t)}function av(e,t){e.na&&K3(e.na,function(n,r){Jn(t,r,n)}),e.h&&pse({},function(n,r){Jn(t,r,n)})}function Nse(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Yi(e.h.Va,e.h,e):null;e:{var i=e.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let l=i[u].g;const c=i[u].map;if(l-=s,0>l)s=Math.max(0,i[u].g-100),a=!1;else try{nQe(c,o,"req"+l+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function kse(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Ky||Zie(),Qy||(Ky(),Qy=!0),t6.add(t,e),e.A=0}}function f6(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=nv(Yi(e.Ma,e),Lse(e,e.A)),e.A++,!0)}Fe.Ma=function(){if(this.u=null,Dse(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=nv(Yi(this.jb,this),e)}};Fe.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,us(10),gx(this),Dse(this))};function d6(e){e.B!=null&&(Tt.clearTimeout(e.B),e.B=null)}function Dse(e){e.g=new iv(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=Dl(e.wa);Jn(t,"RID","rpc"),Jn(t,"SID",e.K),Jn(t,"AID",e.V),Jn(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Jn(t,"TO",e.qa),Jn(t,"TYPE","xmlhttp"),av(e,t),e.o&&e.s&&l6(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=dx(Dl(t)),n.u=null,n.S=!0,cse(n,e)}Fe.ib=function(){this.v!=null&&(this.v=null,gx(this),f6(this),us(19))};function jT(e){e.v!=null&&(Tt.clearTimeout(e.v),e.v=null)}function $se(e,t){var n=null;if(e.g==t){jT(e),d6(e),e.g=null;var r=2}else if(xR(e.i,t))n=t.F,wse(e.i,t),r=1;else return;if(e.H!=0){if(t.i)if(r==1){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;r=ux(),ki(r,new sse(r,n)),yx(e)}else kse(e);else if(i=t.s,i==3||i==0&&0<t.ca||!(r==1&&lQe(e,t)||r==2&&f6(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:fd(e,5);break;case 4:fd(e,10);break;case 3:fd(e,6);break;default:fd(e,2)}}}function Lse(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function fd(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var r=Yi(e.pb,e);n||(n=new wd("//www.google.com/images/cleardot.gif"),Tt.location&&Tt.location.protocol=="http"||FT(n,"https"),dx(n)),rQe(n.toString(),r)}else us(2);e.H=0,e.h&&e.h.za(t),Mse(e),Rse(e)}Fe.pb=function(e){e?(this.l.info("Successfully pinged google.com"),us(2)):(this.l.info("Failed to ping google.com"),us(1))};function Mse(e){if(e.H=0,e.ma=[],e.h){const t=Tse(e.i);(t.length!=0||e.j.length!=0)&&(fV(e.ma,t),fV(e.ma,e.j),e.i.i.length=0,G3(e.j),e.j.length=0),e.h.ya()}}function Fse(e,t,n){var r=n instanceof wd?Dl(n):new wd(n);if(r.g!="")t&&(r.g=t+"."+r.g),BT(r,r.m);else{var i=Tt.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new wd(null);r&&FT(s,r),t&&(s.g=t),i&&BT(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&Jn(r,n,t),Jn(r,"VER",e.ra),av(e,r),r}function Bse(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=e.Ha&&!e.va?new Ar(new hx({ob:n})):new Ar(e.va),t.Oa(e.J),t}Fe.isActive=function(){return!!this.h&&this.h.isActive(this)};function jse(){}Fe=jse.prototype;Fe.Ba=function(){};Fe.Aa=function(){};Fe.za=function(){};Fe.ya=function(){};Fe.isActive=function(){return!0};Fe.Va=function(){};function UT(){if(_m&&!(10<=Number(wKe)))throw Error("Environmental error: no available transport.")}UT.prototype.g=function(e,t){return new yo(e,t)};function yo(e,t){hi.call(this),this.g=new Pse(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Gy(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Gy(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new n0(this)}gi(yo,hi);yo.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;us(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Fse(e,null,e.Y),yx(e)};yo.prototype.close=function(){c6(this.g)};yo.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=e6(e),e=n);t.j.push(new JKe(t.fb++,e)),t.H==3&&yx(t)};yo.prototype.N=function(){this.g.h=null,delete this.j,c6(this.g),delete this.g,yo.$.N.call(this)};function Use(e){s6.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}gi(Use,s6);function Vse(){o6.call(this),this.status=1}gi(Vse,o6);function n0(e){this.g=e}gi(n0,jse);n0.prototype.Ba=function(){ki(this.g,"a")};n0.prototype.Aa=function(e){ki(this.g,new Use(e))};n0.prototype.za=function(e){ki(this.g,new Vse)};n0.prototype.ya=function(){ki(this.g,"b")};function cQe(){this.blockSize=-1}function Aa(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}gi(Aa,cQe);Aa.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function dO(e,t,n){n||(n=0);var r=Array(16);if(typeof t=="string")for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[1]+3905402710&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[5]+1200080426&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[9]+2336552879&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[13]+4254626195&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(i^s&(n^i))+r[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[6]+3225465664&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[10]+38016083&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[14]+3275163606&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[2]+4243563512&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(n^i^s)+r[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[8]+2272392833&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[4]+1272893353&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[0]+3936430074&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[12]+3873151461&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(i^(n|~s))+r[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[7]+1126891415&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[3]+2399980690&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[15]+4264355552&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[11]+3174756917&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}Aa.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(i==0)for(;s<=n;)dO(this,e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){dO(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){dO(this,r),i=0;break}}this.h=i,this.i+=t};Aa.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};function Nn(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=e[i]|0;r&&s==t||(n[i]=s,r=!1)}this.g=n}var fQe={};function h6(e){return-128<=e&&128>e?vKe(e,function(t){return new Nn([t|0],0>t?-1:0)}):new Nn([e|0],0>e?-1:0)}function au(e){if(isNaN(e)||!isFinite(e))return Rp;if(0>e)return Oi(au(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=CR;return new Nn(t,0)}function zse(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return Oi(zse(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=au(Math.pow(t,8)),r=Rp,i=0;i<e.length;i+=8){var s=Math.min(8,e.length-i),o=parseInt(e.substring(i,i+s),t);8>s?(s=au(Math.pow(t,s)),r=r.R(s).add(au(o))):(r=r.R(n),r=r.add(au(o)))}return r}var CR=4294967296,Rp=h6(0),AR=h6(1),wV=h6(16777216);Fe=Nn.prototype;Fe.ea=function(){if(Lo(this))return-Oi(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:CR+r)*t,t*=CR}return e};Fe.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(rl(this))return"0";if(Lo(this))return"-"+Oi(this).toString(e);for(var t=au(Math.pow(e,6)),n=this,r="";;){var i=zT(n,t).g;n=VT(n,i.R(t));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=i,rl(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};Fe.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function rl(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function Lo(e){return e.h==-1}Fe.X=function(e){return e=VT(this,e),Lo(e)?-1:rl(e)?0:1};function Oi(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Nn(n,~e.h).add(AR)}Fe.abs=function(){return Lo(this)?Oi(this):this};Fe.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(this.D(i)&65535)+(e.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Nn(n,n[n.length-1]&-2147483648?-1:0)};function VT(e,t){return e.add(Oi(t))}Fe.R=function(e){if(rl(this)||rl(e))return Rp;if(Lo(this))return Lo(e)?Oi(this).R(Oi(e)):Oi(Oi(this).R(e));if(Lo(e))return Oi(this.R(Oi(e)));if(0>this.X(wV)&&0>e.X(wV))return au(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=e.D(i)>>>16,u=e.D(i)&65535;n[2*r+2*i]+=o*u,C1(n,2*r+2*i),n[2*r+2*i+1]+=s*u,C1(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,C1(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,C1(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Nn(n,0)};function C1(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function H0(e,t){this.g=e,this.h=t}function zT(e,t){if(rl(t))throw Error("division by zero");if(rl(e))return new H0(Rp,Rp);if(Lo(e))return t=zT(Oi(e),t),new H0(Oi(t.g),Oi(t.h));if(Lo(t))return t=zT(e,Oi(t)),new H0(Oi(t.g),t.h);if(30<e.g.length){if(Lo(e)||Lo(t))throw Error("slowDivide_ only works with positive integers.");for(var n=AR,r=t;0>=r.X(e);)n=TV(n),r=TV(r);var i=Ih(n,1),s=Ih(r,1);for(r=Ih(r,2),n=Ih(n,2);!rl(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=Ih(r,1),n=Ih(n,1)}return t=VT(e,i.R(t)),new H0(i,t)}for(i=Rp;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=au(n),o=s.R(t);Lo(o)||0<o.X(e);)n-=r,s=au(n),o=s.R(t);rl(s)&&(s=AR),i=i.add(s),e=VT(e,o)}return new H0(i,e)}Fe.gb=function(e){return zT(this,e).h};Fe.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Nn(n,this.h&e.h)};Fe.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Nn(n,this.h|e.h)};Fe.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Nn(n,this.h^e.h)};function TV(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Nn(n,e.h)}function Ih(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new Nn(i,e.h)}UT.prototype.createWebChannel=UT.prototype.g;yo.prototype.send=yo.prototype.u;yo.prototype.open=yo.prototype.m;yo.prototype.close=yo.prototype.close;lx.NO_ERROR=0;lx.TIMEOUT=8;lx.HTTP_ERROR=6;ose.COMPLETE="complete";ase.EventType=rv;rv.OPEN="a";rv.CLOSE="b";rv.ERROR="c";rv.MESSAGE="d";hi.prototype.listen=hi.prototype.O;Ar.prototype.listenOnce=Ar.prototype.P;Ar.prototype.getLastError=Ar.prototype.Sa;Ar.prototype.getLastErrorCode=Ar.prototype.Ia;Ar.prototype.getStatus=Ar.prototype.da;Ar.prototype.getResponseJson=Ar.prototype.Wa;Ar.prototype.getResponseText=Ar.prototype.ja;Ar.prototype.send=Ar.prototype.ha;Ar.prototype.setWithCredentials=Ar.prototype.Oa;Aa.prototype.digest=Aa.prototype.l;Aa.prototype.reset=Aa.prototype.reset;Aa.prototype.update=Aa.prototype.j;Nn.prototype.add=Nn.prototype.add;Nn.prototype.multiply=Nn.prototype.R;Nn.prototype.modulo=Nn.prototype.gb;Nn.prototype.compare=Nn.prototype.X;Nn.prototype.toNumber=Nn.prototype.ea;Nn.prototype.toString=Nn.prototype.toString;Nn.prototype.getBits=Nn.prototype.D;Nn.fromNumber=au;Nn.fromString=zse;var dQe=function(){return new UT},hQe=function(){return ux()},hO=lx,pQe=ose,mQe=lh,SV={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},A1=ase,gQe=Ar,yQe=Aa,Np=Nn;const IV="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ts.UNAUTHENTICATED=new Ts(null),Ts.GOOGLE_CREDENTIALS=new Ts("google-credentials-uid"),Ts.FIRST_PARTY=new Ts("first-party-uid"),Ts.MOCK_USER=new Ts("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let r0="10.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud=new tx("@firebase/firestore");function W0(){return Ud.logLevel}function Xe(e,...t){if(Ud.logLevel<=nn.DEBUG){const n=t.map(p6);Ud.debug(`Firestore (${r0}): ${e}`,...n)}}function $l(e,...t){if(Ud.logLevel<=nn.ERROR){const n=t.map(p6);Ud.error(`Firestore (${r0}): ${e}`,...n)}}function t_(e,...t){if(Ud.logLevel<=nn.WARN){const n=t.map(p6);Ud.warn(`Firestore (${r0}): ${e}`,...n)}}function p6(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(e="Unexpected state"){const t=`FIRESTORE (${r0}) INTERNAL ASSERTION FAILED: `+e;throw $l(t),new Error(t)}function Gn(e,t){e||_t()}function Nt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class tt extends Mu{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Qe{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class vQe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Ts.UNAUTHENTICATED))}shutdown(){}}class bQe{constructor(t){this.t=t,this.currentUser=Ts.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new ml;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ml,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;t.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{Xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(Xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ml)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(Xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Gn(typeof r.accessToken=="string"),new _Qe(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Gn(t===null||typeof t=="string"),new Ts(t)}}class EQe{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Ts.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class wQe{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new EQe(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Ts.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class TQe{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class SQe{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const r=s=>{s.error!=null&&Xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Xe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{Xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Gn(typeof n.token=="string"),this.R=n.token,new TQe(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IQe(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hse{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=IQe(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length))}return r}}function Sn(e,t){return e<t?-1:e>t?1:0}function vm(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new tt(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new tt(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new tt(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new tt(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Zr.fromMillis(Date.now())}static fromDate(t){return Zr.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new Zr(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Sn(this.nanoseconds,t.nanoseconds):Sn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(t){this.timestamp=t}static fromTimestamp(t){return new It(t)}static min(){return new It(new Zr(0,0))}static max(){return new It(new Zr(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(t,n,r){n===void 0?n=0:n>t.length&&_t(),r===void 0?r=t.length-n:r>t.length-n&&_t(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return n_.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof n_?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const s=t.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class ur extends n_{construct(t,n,r){return new ur(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new tt(xe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ur(n)}static emptyPath(){return new ur([])}}const xQe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pi extends n_{construct(t,n,r){return new Pi(t,n,r)}static isValidIdentifier(t){return xQe.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pi.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Pi(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new tt(xe.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new tt(xe.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new tt(xe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new tt(xe.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Pi(n)}static emptyPath(){return new Pi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(t){this.path=t}static fromPath(t){return new ft(ur.fromString(t))}static fromName(t){return new ft(ur.fromString(t).popFirst(5))}static empty(){return new ft(ur.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ur.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ur.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ft(new ur(t.slice()))}}function CQe(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=It.fromTimestamp(r===1e9?new Zr(n+1,0):new Zr(n,r));return new ff(i,ft.empty(),t)}function AQe(e){return new ff(e.readTime,e.key,-1)}class ff{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new ff(It.min(),ft.empty(),-1)}static max(){return new ff(It.max(),ft.empty(),-1)}}function OQe(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=ft.comparator(e.documentKey,t.documentKey),n!==0?n:Sn(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PQe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class RQe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uv(e){if(e.code!==xe.FAILED_PRECONDITION||e.message!==PQe)throw e;Xe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&_t(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Ce((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof Ce?n:Ce.resolve(n)}catch(n){return Ce.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):Ce.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):Ce.reject(n)}static resolve(t){return new Ce((n,r)=>{n(t)})}static reject(t){return new Ce((n,r)=>{r(t)})}static waitFor(t){return new Ce((n,r)=>{let i=0,s=0,o=!1;t.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(t){let n=Ce.resolve(!1);for(const r of t)n=n.next(i=>i?Ce.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(t,n){return new Ce((r,i)=>{const s=t.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const l=u;n(t[l]).next(c=>{o[l]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(t,n){return new Ce((r,i)=>{const s=()=>{t()===!0?n().next(()=>{s()},i):r()};s()})}}function lv(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}m6._e=-1;function _x(e){return e==null}function HT(e){return e===0&&1/e==-1/0}function NQe(e){return typeof e=="number"&&Number.isInteger(e)&&!HT(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xV(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function i0(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Wse(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(t,n){this.comparator=t,this.root=n||xi.EMPTY}insert(t,n){return new _r(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,xi.BLACK,null,null))}remove(t){return new _r(this.comparator,this.root.remove(t,this.comparator).copy(null,null,xi.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new O1(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new O1(this.root,t,this.comparator,!1)}getReverseIterator(){return new O1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new O1(this.root,t,this.comparator,!0)}}class O1{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,n&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class xi{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??xi.RED,this.left=i??xi.EMPTY,this.right=s??xi.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,s){return new xi(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return xi.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return xi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,xi.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,xi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _t();const t=this.left.check();if(t!==this.right.check())throw _t();return t+(this.isRed()?0:1)}}xi.EMPTY=null,xi.RED=!0,xi.BLACK=!1;xi.EMPTY=new class{constructor(){this.size=0}get key(){throw _t()}get value(){throw _t()}get color(){throw _t()}get left(){throw _t()}get right(){throw _t()}copy(t,n,r,i,s){return this}insert(t,n,r){return new xi(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(t){this.comparator=t,this.data=new _r(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new CV(this.data.getIterator())}getIteratorFrom(t){return new CV(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof Di)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Di(this.comparator);return n.data=t,n}}class CV{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(t){this.fields=t,t.sort(Pi.comparator)}static empty(){return new _a([])}unionWith(t){let n=new Di(Pi.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new _a(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return vm(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qse extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new qse("Invalid base64 string: "+s):s}}(t);return new es(n)}static fromUint8Array(t){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(t);return new es(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Sn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}es.EMPTY_BYTE_STRING=new es("");const kQe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function df(e){if(Gn(!!e),typeof e=="string"){let t=0;const n=kQe.exec(e);if(Gn(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Br(e.seconds),nanos:Br(e.nanos)}}function Br(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Vd(e){return typeof e=="string"?es.fromBase64String(e):es.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g6(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function y6(e){const t=e.mapValue.fields.__previous_value__;return g6(t)?y6(t):t}function r_(e){const t=df(e.mapValue.fields.__local_write_time__.timestampValue);return new Zr(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DQe{constructor(t,n,r,i,s,o,a,u,l){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}}class i_{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new i_("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof i_&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function zd(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?g6(e)?4:$Qe(e)?9007199254740991:10:_t()}function Ou(e,t){if(e===t)return!0;const n=zd(e);if(n!==zd(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return r_(e).isEqual(r_(t));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=df(i.timestampValue),a=df(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,s){return Vd(i.bytesValue).isEqual(Vd(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,s){return Br(i.geoPointValue.latitude)===Br(s.geoPointValue.latitude)&&Br(i.geoPointValue.longitude)===Br(s.geoPointValue.longitude)}(e,t);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Br(i.integerValue)===Br(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Br(i.doubleValue),a=Br(s.doubleValue);return o===a?HT(o)===HT(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return vm(e.arrayValue.values||[],t.arrayValue.values||[],Ou);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(xV(o)!==xV(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Ou(o[u],a[u])))return!1;return!0}(e,t);default:return _t()}}function s_(e,t){return(e.values||[]).find(n=>Ou(n,t))!==void 0}function bm(e,t){if(e===t)return 0;const n=zd(e),r=zd(t);if(n!==r)return Sn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Sn(e.booleanValue,t.booleanValue);case 2:return function(s,o){const a=Br(s.integerValue||s.doubleValue),u=Br(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(e,t);case 3:return AV(e.timestampValue,t.timestampValue);case 4:return AV(r_(e),r_(t));case 5:return Sn(e.stringValue,t.stringValue);case 6:return function(s,o){const a=Vd(s),u=Vd(o);return a.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){const c=Sn(a[l],u[l]);if(c!==0)return c}return Sn(a.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,o){const a=Sn(Br(s.latitude),Br(o.latitude));return a!==0?a:Sn(Br(s.longitude),Br(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(s,o){const a=s.values||[],u=o.values||[];for(let l=0;l<a.length&&l<u.length;++l){const c=bm(a[l],u[l]);if(c)return c}return Sn(a.length,u.length)}(e.arrayValue,t.arrayValue);case 10:return function(s,o){if(s===P1.mapValue&&o===P1.mapValue)return 0;if(s===P1.mapValue)return 1;if(o===P1.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),l=o.fields||{},c=Object.keys(l);u.sort(),c.sort();for(let f=0;f<u.length&&f<c.length;++f){const d=Sn(u[f],c[f]);if(d!==0)return d;const h=bm(a[u[f]],l[c[f]]);if(h!==0)return h}return Sn(u.length,c.length)}(e.mapValue,t.mapValue);default:throw _t()}}function AV(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Sn(e,t);const n=df(e),r=df(t),i=Sn(n.seconds,r.seconds);return i!==0?i:Sn(n.nanos,r.nanos)}function Em(e){return OR(e)}function OR(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=df(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Vd(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return ft.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=OR(s);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${OR(n.fields[o])}`;return i+"}"}(e.mapValue):_t()}function PR(e){return!!e&&"integerValue"in e}function _6(e){return!!e&&"arrayValue"in e}function OV(e){return!!e&&"nullValue"in e}function PV(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function yb(e){return!!e&&"mapValue"in e}function Gg(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return i0(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Gg(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Gg(e.arrayValue.values[n]);return t}return Object.assign({},e)}function $Qe(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(t){this.value=t}static empty(){return new Mo({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!yb(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Gg(n)}setAll(t){let n=Pi.emptyPath(),r={},i=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Gg(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(t){const n=this.field(t.popLast());yb(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Ou(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];yb(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){i0(n,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new Mo(Gg(this.value))}}function Gse(e){const t=[];return i0(e.fields,(n,r)=>{const i=new Pi([n]);if(yb(r)){const s=Gse(r.mapValue).fields;if(s.length===0)t.push(i);else for(const o of s)t.push(i.child(o))}else t.push(i)}),new _a(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(t,n,r,i,s,o,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new qi(t,0,It.min(),It.min(),It.min(),Mo.empty(),0)}static newFoundDocument(t,n,r,i){return new qi(t,1,n,It.min(),r,i,0)}static newNoDocument(t,n){return new qi(t,2,n,It.min(),It.min(),Mo.empty(),0)}static newUnknownDocument(t,n){return new qi(t,3,n,It.min(),It.min(),Mo.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(It.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Mo.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Mo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=It.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof qi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new qi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(t,n){this.position=t,this.inclusive=n}}function RV(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(s.field.isKeyField()?r=ft.comparator(ft.fromName(o.referenceValue),n.key):r=bm(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function NV(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Ou(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(t,n="asc"){this.field=t,this.dir=n}}function LQe(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yse{}class Qr extends Yse{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new FQe(t,n,r):n==="array-contains"?new UQe(t,r):n==="in"?new VQe(t,r):n==="not-in"?new zQe(t,r):n==="array-contains-any"?new HQe(t,r):new Qr(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new BQe(t,r):new jQe(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(bm(n,this.value)):n!==null&&zd(this.value)===zd(n)&&this.matchesComparison(bm(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pu extends Yse{constructor(t,n){super(),this.filters=t,this.op=n,this.ue=null}static create(t,n){return new Pu(t,n)}matches(t){return Kse(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Kse(e){return e.op==="and"}function Qse(e){return MQe(e)&&Kse(e)}function MQe(e){for(const t of e.filters)if(t instanceof Pu)return!1;return!0}function RR(e){if(e instanceof Qr)return e.field.canonicalString()+e.op.toString()+Em(e.value);if(Qse(e))return e.filters.map(t=>RR(t)).join(",");{const t=e.filters.map(n=>RR(n)).join(",");return`${e.op}(${t})`}}function Xse(e,t){return e instanceof Qr?function(r,i){return i instanceof Qr&&r.op===i.op&&r.field.isEqual(i.field)&&Ou(r.value,i.value)}(e,t):e instanceof Pu?function(r,i){return i instanceof Pu&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&Xse(o,i.filters[a]),!0):!1}(e,t):void _t()}function Jse(e){return e instanceof Qr?function(n){return`${n.field.canonicalString()} ${n.op} ${Em(n.value)}`}(e):e instanceof Pu?function(n){return n.op.toString()+" {"+n.getFilters().map(Jse).join(" ,")+"}"}(e):"Filter"}class FQe extends Qr{constructor(t,n,r){super(t,n,r),this.key=ft.fromName(r.referenceValue)}matches(t){const n=ft.comparator(t.key,this.key);return this.matchesComparison(n)}}class BQe extends Qr{constructor(t,n){super(t,"in",n),this.keys=Zse("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class jQe extends Qr{constructor(t,n){super(t,"not-in",n),this.keys=Zse("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function Zse(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ft.fromName(r.referenceValue))}class UQe extends Qr{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return _6(n)&&s_(n.arrayValue,this.value)}}class VQe extends Qr{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&s_(this.value.arrayValue,n)}}class zQe extends Qr{constructor(t,n){super(t,"not-in",n)}matches(t){if(s_(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!s_(this.value.arrayValue,n)}}class HQe extends Qr{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!_6(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>s_(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WQe{constructor(t,n=null,r=[],i=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function kV(e,t=null,n=[],r=[],i=null,s=null,o=null){return new WQe(e,t,n,r,i,s,o)}function v6(e){const t=Nt(e);if(t.ce===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>RR(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),_x(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Em(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Em(r)).join(",")),t.ce=n}return t.ce}function b6(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!LQe(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Xse(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!NV(e.startAt,t.startAt)&&NV(e.endAt,t.endAt)}function NR(e){return ft.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(t,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function qQe(e,t,n,r,i,s,o,a){return new vx(e,t,n,r,i,s,o,a)}function E6(e){return new vx(e)}function DV(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function GQe(e){return e.collectionGroup!==null}function Yg(e){const t=Nt(e);if(t.le===null){t.le=[];const n=new Set;for(const s of t.explicitOrderBy)t.le.push(s),n.add(s.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Di(Pi.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.le.push(new qT(s,r))}),n.has(Pi.keyField().canonicalString())||t.le.push(new qT(Pi.keyField(),r))}return t.le}function yu(e){const t=Nt(e);return t.he||(t.he=YQe(t,Yg(e))),t.he}function YQe(e,t){if(e.limitType==="F")return kV(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new qT(i.field,s)});const n=e.endAt?new WT(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new WT(e.startAt.position,e.startAt.inclusive):null;return kV(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function kR(e,t,n){return new vx(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function bx(e,t){return b6(yu(e),yu(t))&&e.limitType===t.limitType}function eoe(e){return`${v6(yu(e))}|lt:${e.limitType}`}function kh(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Jse(i)).join(", ")}]`),_x(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Em(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Em(i)).join(",")),`Target(${r})`}(yu(e))}; limitType=${e.limitType})`}function Ex(e,t){return t.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ft.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(e,t)&&function(r,i){for(const s of Yg(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(o,a,u){const l=RV(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,Yg(r),i)||r.endAt&&!function(o,a,u){const l=RV(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,Yg(r),i))}(e,t)}function KQe(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function toe(e){return(t,n)=>{let r=!1;for(const i of Yg(e)){const s=QQe(i,t,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function QQe(e,t,n){const r=e.field.isKeyField()?ft.comparator(t.key,n.key):function(s,o,a){const u=o.data.field(s),l=a.data.field(s);return u!==null&&l!==null?bm(u,l):_t()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return _t()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){i0(this.inner,(n,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return Wse(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XQe=new _r(ft.comparator);function Ll(){return XQe}const noe=new _r(ft.comparator);function fg(...e){let t=noe;for(const n of e)t=t.insert(n.key,n);return t}function roe(e){let t=noe;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function dd(){return Kg()}function ioe(){return Kg()}function Kg(){return new s0(e=>e.toString(),(e,t)=>e.isEqual(t))}const JQe=new _r(ft.comparator),ZQe=new Di(ft.comparator);function Kt(...e){let t=ZQe;for(const n of e)t=t.add(n);return t}const eXe=new Di(Sn);function tXe(){return eXe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function soe(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:HT(t)?"-0":t}}function ooe(e){return{integerValue:""+e}}function nXe(e,t){return NQe(t)?ooe(t):soe(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(){this._=void 0}}function rXe(e,t,n){return e instanceof GT?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&g6(s)&&(s=y6(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,t):e instanceof o_?uoe(e,t):e instanceof a_?loe(e,t):function(i,s){const o=aoe(i,s),a=$V(o)+$V(i.Ie);return PR(o)&&PR(i.Ie)?ooe(a):soe(i.serializer,a)}(e,t)}function iXe(e,t,n){return e instanceof o_?uoe(e,t):e instanceof a_?loe(e,t):n}function aoe(e,t){return e instanceof YT?function(r){return PR(r)||function(s){return!!s&&"doubleValue"in s}(r)}(t)?t:{integerValue:0}:null}class GT extends wx{}class o_ extends wx{constructor(t){super(),this.elements=t}}function uoe(e,t){const n=coe(t);for(const r of e.elements)n.some(i=>Ou(i,r))||n.push(r);return{arrayValue:{values:n}}}class a_ extends wx{constructor(t){super(),this.elements=t}}function loe(e,t){let n=coe(t);for(const r of e.elements)n=n.filter(i=>!Ou(i,r));return{arrayValue:{values:n}}}class YT extends wx{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function $V(e){return Br(e.integerValue||e.doubleValue)}function coe(e){return _6(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function sXe(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof o_&&i instanceof o_||r instanceof a_&&i instanceof a_?vm(r.elements,i.elements,Ou):r instanceof YT&&i instanceof YT?Ou(r.Ie,i.Ie):r instanceof GT&&i instanceof GT}(e.transform,t.transform)}class oXe{constructor(t,n){this.version=t,this.transformResults=n}}class gl{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new gl}static exists(t){return new gl(void 0,t)}static updateTime(t){return new gl(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function _b(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Tx{}function foe(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new hoe(e.key,gl.none()):new cv(e.key,e.data,gl.none());{const n=e.data,r=Mo.empty();let i=new Di(Pi.comparator);for(let s of t.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ch(e.key,r,new _a(i.toArray()),gl.none())}}function aXe(e,t,n){e instanceof cv?function(i,s,o){const a=i.value.clone(),u=MV(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof ch?function(i,s,o){if(!_b(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=MV(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(doe(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(e,t,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function Qg(e,t,n,r){return e instanceof cv?function(s,o,a,u){if(!_b(s.precondition,o))return a;const l=s.value.clone(),c=FV(s.fieldTransforms,u,o);return l.setAll(c),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(e,t,n,r):e instanceof ch?function(s,o,a,u){if(!_b(s.precondition,o))return a;const l=FV(s.fieldTransforms,u,o),c=o.data;return c.setAll(doe(s)),c.setAll(l),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(e,t,n,r):function(s,o,a){return _b(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function uXe(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),s=aoe(r.transform,i||null);s!=null&&(n===null&&(n=Mo.empty()),n.set(r.field,s))}return n||null}function LV(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&vm(r,i,(s,o)=>sXe(s,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class cv extends Tx{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ch extends Tx{constructor(t,n,r,i,s=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function doe(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function MV(e,t,n){const r=new Map;Gn(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,iXe(o,a,n[i]))}return r}function FV(e,t,n){const r=new Map;for(const i of e){const s=i.transform,o=n.data.field(i.field);r.set(i.field,rXe(s,o,t))}return r}class hoe extends Tx{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lXe extends Tx{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cXe{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&aXe(s,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Qg(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Qg(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=ioe();return this.mutations.forEach(i=>{const s=t.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=foe(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(It.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Kt())}isEqual(t){return this.batchId===t.batchId&&vm(this.mutations,t.mutations,(n,r)=>LV(n,r))&&vm(this.baseMutations,t.baseMutations,(n,r)=>LV(n,r))}}class w6{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){Gn(t.mutations.length===r.length);let i=function(){return JQe}();const s=t.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new w6(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fXe{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dXe{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mr,ln;function hXe(e){switch(e){default:return _t();case xe.CANCELLED:case xe.UNKNOWN:case xe.DEADLINE_EXCEEDED:case xe.RESOURCE_EXHAUSTED:case xe.INTERNAL:case xe.UNAVAILABLE:case xe.UNAUTHENTICATED:return!1;case xe.INVALID_ARGUMENT:case xe.NOT_FOUND:case xe.ALREADY_EXISTS:case xe.PERMISSION_DENIED:case xe.FAILED_PRECONDITION:case xe.ABORTED:case xe.OUT_OF_RANGE:case xe.UNIMPLEMENTED:case xe.DATA_LOSS:return!0}}function poe(e){if(e===void 0)return $l("GRPC error has no .code"),xe.UNKNOWN;switch(e){case Mr.OK:return xe.OK;case Mr.CANCELLED:return xe.CANCELLED;case Mr.UNKNOWN:return xe.UNKNOWN;case Mr.DEADLINE_EXCEEDED:return xe.DEADLINE_EXCEEDED;case Mr.RESOURCE_EXHAUSTED:return xe.RESOURCE_EXHAUSTED;case Mr.INTERNAL:return xe.INTERNAL;case Mr.UNAVAILABLE:return xe.UNAVAILABLE;case Mr.UNAUTHENTICATED:return xe.UNAUTHENTICATED;case Mr.INVALID_ARGUMENT:return xe.INVALID_ARGUMENT;case Mr.NOT_FOUND:return xe.NOT_FOUND;case Mr.ALREADY_EXISTS:return xe.ALREADY_EXISTS;case Mr.PERMISSION_DENIED:return xe.PERMISSION_DENIED;case Mr.FAILED_PRECONDITION:return xe.FAILED_PRECONDITION;case Mr.ABORTED:return xe.ABORTED;case Mr.OUT_OF_RANGE:return xe.OUT_OF_RANGE;case Mr.UNIMPLEMENTED:return xe.UNIMPLEMENTED;case Mr.DATA_LOSS:return xe.DATA_LOSS;default:return _t()}}(ln=Mr||(Mr={}))[ln.OK=0]="OK",ln[ln.CANCELLED=1]="CANCELLED",ln[ln.UNKNOWN=2]="UNKNOWN",ln[ln.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ln[ln.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ln[ln.NOT_FOUND=5]="NOT_FOUND",ln[ln.ALREADY_EXISTS=6]="ALREADY_EXISTS",ln[ln.PERMISSION_DENIED=7]="PERMISSION_DENIED",ln[ln.UNAUTHENTICATED=16]="UNAUTHENTICATED",ln[ln.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ln[ln.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ln[ln.ABORTED=10]="ABORTED",ln[ln.OUT_OF_RANGE=11]="OUT_OF_RANGE",ln[ln.UNIMPLEMENTED=12]="UNIMPLEMENTED",ln[ln.INTERNAL=13]="INTERNAL",ln[ln.UNAVAILABLE=14]="UNAVAILABLE",ln[ln.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pXe(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mXe=new Np([4294967295,4294967295],0);function BV(e){const t=pXe().encode(e),n=new yQe;return n.update(t),new Uint8Array(n.digest())}function jV(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Np([n,r],0),new Np([i,s],0)]}class T6{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new dg(`Invalid padding: ${n}`);if(r<0)throw new dg(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new dg(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new dg(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*t.length-n,this.Ee=Np.fromNumber(this.Te)}de(t,n,r){let i=t.add(n.multiply(Np.fromNumber(r)));return i.compare(mXe)===1&&(i=new Np([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Te===0)return!1;const n=BV(t),[r,i]=jV(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new T6(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(t){if(this.Te===0)return;const n=BV(t),[r,i]=jV(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class dg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,fv.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new Sx(It.min(),i,new _r(Sn),Ll(),Kt())}}class fv{constructor(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new fv(r,n,Kt(),Kt(),Kt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(t,n,r,i){this.Ve=t,this.removedTargetIds=n,this.key=r,this.me=i}}class moe{constructor(t,n){this.targetId=t,this.fe=n}}class goe{constructor(t,n,r=es.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class UV{constructor(){this.ge=0,this.pe=zV(),this.ye=es.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=Kt(),n=Kt(),r=Kt();return this.pe.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:_t()}}),new fv(this.ye,this.we,t,n,r)}Fe(){this.Se=!1,this.pe=zV()}Me(t,n){this.Se=!0,this.pe=this.pe.insert(t,n)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1,Gn(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class gXe{constructor(t){this.Le=t,this.ke=new Map,this.qe=Ll(),this.Qe=VV(),this.Ke=new _r(Sn)}$e(t){for(const n of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(n,t.me):this.We(n,t.key,t.me);for(const n of t.removedTargetIds)this.We(n,t.key,t.me)}Ge(t){this.forEachTarget(t,n=>{const r=this.ze(n);switch(t.state){case 0:this.je(n)&&r.Ce(t.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(t.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(t.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(t.resumeToken));break;default:_t()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(t){const n=t.targetId,r=t.fe.count,i=this.Ye(n);if(i){const s=i.target;if(NR(s))if(r===0){const o=new ft(s.path);this.We(n,o,qi.newNoDocument(o,It.min()))}else Gn(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(t),u=a?this.et(a,t,o):1;if(u!==0){this.He(n);const l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,l)}}}}}Xe(t){const n=t.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Vd(r).toUint8Array()}catch(u){if(u instanceof qse)return t_("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new T6(o,i,s)}catch(u){return t_(u instanceof dg?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Te===0?null:a}et(t,n,r){return n.fe.count===r-this.rt(t,n.targetId)?0:2}rt(t,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(a)||(this.We(n,s,null),i++)}),i}it(t){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&NR(a.target)){const u=new ft(a.target.path);this.qe.get(u)!==null||this.st(o,u)||this.We(o,u,qi.newNoDocument(u,t))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=Kt();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const l=this.Ye(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(t));const i=new Sx(t,n,this.Ke,this.qe,r);return this.qe=Ll(),this.Qe=VV(),this.Ke=new _r(Sn),i}Ue(t,n){if(!this.je(t))return;const r=this.st(t,n.key)?2:0;this.ze(t).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(t))}We(t,n,r){if(!this.je(t))return;const i=this.ze(t);this.st(t,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(t)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(t){this.ke.delete(t)}Ze(t){const n=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let n=this.ke.get(t);return n||(n=new UV,this.ke.set(t,n)),n}ot(t){let n=this.Qe.get(t);return n||(n=new Di(Sn),this.Qe=this.Qe.insert(t,n)),n}je(t){const n=this.Ye(t)!==null;return n||Xe("WatchChangeAggregator","Detected inactive target",t),n}Ye(t){const n=this.ke.get(t);return n&&n.be?null:this.Le._t(t)}He(t){this.ke.set(t,new UV),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.We(t,n,null)})}st(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function VV(){return new _r(ft.comparator)}function zV(){return new _r(ft.comparator)}const yXe={asc:"ASCENDING",desc:"DESCENDING"},_Xe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vXe={and:"AND",or:"OR"};class bXe{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function DR(e,t){return e.useProto3Json||_x(t)?t:{value:t}}function KT(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function yoe(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function EXe(e,t){return KT(e,t.toTimestamp())}function _u(e){return Gn(!!e),It.fromTimestamp(function(n){const r=df(n);return new Zr(r.seconds,r.nanos)}(e))}function S6(e,t){return function(r){return new ur(["projects",r.projectId,"databases",r.database])}(e).child("documents").child(t).canonicalString()}function _oe(e){const t=ur.fromString(e);return Gn(woe(t)),t}function $R(e,t){return S6(e.databaseId,t.path)}function pO(e,t){const n=_oe(t);if(n.get(1)!==e.databaseId.projectId)throw new tt(xe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new tt(xe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ft(voe(n))}function LR(e,t){return S6(e.databaseId,t)}function wXe(e){const t=_oe(e);return t.length===4?ur.emptyPath():voe(t)}function MR(e){return new ur(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function voe(e){return Gn(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function HV(e,t,n){return{name:$R(e,t),fields:n.value.mapValue.fields}}function TXe(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:_t()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(l,c){return l.useProto3Json?(Gn(c===void 0||typeof c=="string"),es.fromBase64String(c||"")):(Gn(c===void 0||c instanceof Uint8Array),es.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(l){const c=l.code===void 0?xe.UNKNOWN:poe(l.code);return new tt(c,l.message||"")}(o);n=new goe(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=pO(e,r.document.name),s=_u(r.document.updateTime),o=r.document.createTime?_u(r.document.createTime):It.min(),a=new Mo({mapValue:{fields:r.document.fields}}),u=qi.newFoundDocument(i,s,o,a),l=r.targetIds||[],c=r.removedTargetIds||[];n=new vb(l,c,u.key,u)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=pO(e,r.document),s=r.readTime?_u(r.readTime):It.min(),o=qi.newNoDocument(i,s),a=r.removedTargetIds||[];n=new vb([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=pO(e,r.document),s=r.removedTargetIds||[];n=new vb([],s,i,null)}else{if(!("filter"in t))return _t();{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new dXe(i,s),a=r.targetId;n=new moe(a,o)}}return n}function SXe(e,t){let n;if(t instanceof cv)n={update:HV(e,t.key,t.value)};else if(t instanceof hoe)n={delete:$R(e,t.key)};else if(t instanceof ch)n={update:HV(e,t.key,t.data),updateMask:kXe(t.fieldMask)};else{if(!(t instanceof lXe))return _t();n={verify:$R(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof GT)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof o_)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof a_)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof YT)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw _t()}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:EXe(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:_t()}(e,t.precondition)),n}function IXe(e,t){return e&&e.length>0?(Gn(t!==void 0),e.map(n=>function(i,s){let o=i.updateTime?_u(i.updateTime):_u(s);return o.isEqual(It.min())&&(o=_u(s)),new oXe(o,i.transformResults||[])}(n,t))):[]}function xXe(e,t){return{documents:[LR(e,t.path)]}}function CXe(e,t){const n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=LR(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=LR(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(u.length!==0)return Eoe(Pu.create(u,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(u.length!==0)return u.map(l=>function(f){return{field:Dh(f.field),direction:PXe(f.dir)}}(l))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=DR(e,t.limit);return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(t.endAt)),n}function AXe(e){let t=wXe(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Gn(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let s=[];n.where&&(s=function(f){const d=boe(f);return d instanceof Pu&&Qse(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(d=>function(p){return new qT($h(p.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(f){let d;return d=typeof f=="object"?f.value:f,_x(d)?null:d}(n.limit));let u=null;n.startAt&&(u=function(f){const d=!!f.before,h=f.values||[];return new WT(h,d)}(n.startAt));let l=null;return n.endAt&&(l=function(f){const d=!f.before,h=f.values||[];return new WT(h,d)}(n.endAt)),qQe(t,i,o,s,a,"F",u,l)}function OXe(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function boe(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=$h(n.unaryFilter.field);return Qr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=$h(n.unaryFilter.field);return Qr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=$h(n.unaryFilter.field);return Qr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=$h(n.unaryFilter.field);return Qr.create(o,"!=",{nullValue:"NULL_VALUE"});default:return _t()}}(e):e.fieldFilter!==void 0?function(n){return Qr.create($h(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _t()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Pu.create(n.compositeFilter.filters.map(r=>boe(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return _t()}}(n.compositeFilter.op))}(e):_t()}function PXe(e){return yXe[e]}function RXe(e){return _Xe[e]}function NXe(e){return vXe[e]}function Dh(e){return{fieldPath:e.canonicalString()}}function $h(e){return Pi.fromServerFormat(e.fieldPath)}function Eoe(e){return e instanceof Qr?function(n){if(n.op==="=="){if(PV(n.value))return{unaryFilter:{field:Dh(n.field),op:"IS_NAN"}};if(OV(n.value))return{unaryFilter:{field:Dh(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(PV(n.value))return{unaryFilter:{field:Dh(n.field),op:"IS_NOT_NAN"}};if(OV(n.value))return{unaryFilter:{field:Dh(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Dh(n.field),op:RXe(n.op),value:n.value}}}(e):e instanceof Pu?function(n){const r=n.getFilters().map(i=>Eoe(i));return r.length===1?r[0]:{compositeFilter:{op:NXe(n.op),filters:r}}}(e):_t()}function kXe(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function woe(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(t,n,r,i,s=It.min(),o=It.min(),a=es.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(t){return new xc(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new xc(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new xc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new xc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DXe{constructor(t){this.ut=t}}function $Xe(e){const t=AXe({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?kR(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LXe{constructor(){this.on=new MXe}addToCollectionParentIndex(t,n){return this.on.add(n),Ce.resolve()}getCollectionParents(t,n){return Ce.resolve(this.on.getEntries(n))}addFieldIndex(t,n){return Ce.resolve()}deleteFieldIndex(t,n){return Ce.resolve()}deleteAllFieldIndexes(t){return Ce.resolve()}createTargetIndexes(t,n){return Ce.resolve()}getDocumentsMatchingTarget(t,n){return Ce.resolve(null)}getIndexType(t,n){return Ce.resolve(0)}getFieldIndexes(t,n){return Ce.resolve([])}getNextCollectionGroupToUpdate(t){return Ce.resolve(null)}getMinOffset(t,n){return Ce.resolve(ff.min())}getMinOffsetFromCollectionGroup(t,n){return Ce.resolve(ff.min())}updateCollectionGroup(t,n,r){return Ce.resolve()}updateIndexEntries(t,n){return Ce.resolve()}}class MXe{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new Di(ur.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new Di(ur.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(t){this.xn=t}next(){return this.xn+=2,this.xn}static On(){return new wm(0)}static Nn(){return new wm(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FXe{constructor(){this.changes=new s0(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,qi.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ce.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BXe{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jXe{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&Qg(r.mutation,i,_a.empty(),Zr.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,Kt()).next(()=>r))}getLocalViewOfDocuments(t,n,r=Kt()){const i=dd();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(s=>{let o=fg();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=dd();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,Kt()))}populateOverlays(t,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,r,i){let s=Ll();const o=Kg(),a=function(){return Kg()}();return n.forEach((u,l)=>{const c=r.get(l.key);i.has(l.key)&&(c===void 0||c.mutation instanceof ch)?s=s.insert(l.key,l):c!==void 0?(o.set(l.key,c.mutation.getFieldMask()),Qg(c.mutation,l,c.mutation.getFieldMask(),Zr.now())):o.set(l.key,_a.empty())}),this.recalculateAndSaveOverlays(t,s).next(u=>(u.forEach((l,c)=>o.set(l,c)),n.forEach((l,c)=>{var f;return a.set(l,new BXe(c,(f=o.get(l))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(t,n){const r=Kg();let i=new _r((o,a)=>o-a),s=Kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const l=n.get(u);if(l===null)return;let c=r.get(u)||_a.empty();c=a.applyToLocalView(l,c),r.set(u,c);const f=(i.get(a.batchId)||Kt()).add(u);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),l=u.key,c=u.value,f=ioe();c.forEach(d=>{if(!s.has(d)){const h=foe(n.get(d),r.get(d));h!==null&&f.set(d,h),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(t,l,f))}return Ce.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return function(o){return ft.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):GQe(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-s.size):Ce.resolve(dd());let a=-1,u=s;return o.next(l=>Ce.forEach(l,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(c)?Ce.resolve():this.remoteDocumentCache.getEntry(t,c).next(d=>{u=u.insert(c,d)}))).next(()=>this.populateOverlays(t,l,s)).next(()=>this.computeViews(t,u,l,Kt())).next(c=>({batchId:a,changes:roe(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new ft(n)).next(r=>{let i=fg();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const s=n.collectionGroup;let o=fg();return this.indexManager.getCollectionParents(t,s).next(a=>Ce.forEach(a,u=>{const l=function(f,d){return new vx(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(t,l,r,i).next(c=>{c.forEach((f,d)=>{o=o.insert(f,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,s,i))).next(o=>{s.forEach((u,l)=>{const c=l.getKey();o.get(c)===null&&(o=o.insert(c,qi.newInvalidDocument(c)))});let a=fg();return o.forEach((u,l)=>{const c=s.get(u);c!==void 0&&Qg(c.mutation,l,_a.empty(),Zr.now()),Ex(n,l)&&(a=a.insert(u,l))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UXe{constructor(t){this.serializer=t,this.ur=new Map,this.cr=new Map}getBundleMetadata(t,n){return Ce.resolve(this.ur.get(n))}saveBundleMetadata(t,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:_u(i.createTime)}}(n)),Ce.resolve()}getNamedQuery(t,n){return Ce.resolve(this.cr.get(n))}saveNamedQuery(t,n){return this.cr.set(n.name,function(i){return{name:i.name,query:$Xe(i.bundledQuery),readTime:_u(i.readTime)}}(n)),Ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VXe{constructor(){this.overlays=new _r(ft.comparator),this.lr=new Map}getOverlay(t,n){return Ce.resolve(this.overlays.get(n))}getOverlays(t,n){const r=dd();return Ce.forEach(n,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,s)=>{this.lt(t,n,s)}),Ce.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),Ce.resolve()}getOverlaysForCollection(t,n,r){const i=dd(),s=n.length+1,o=new ft(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return Ce.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let s=new _r((l,c)=>l-c);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let c=s.get(l.largestBatchId);c===null&&(c=dd(),s=s.insert(l.largestBatchId,c)),c.set(l.getKey(),l)}}const a=dd(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,c)=>a.set(l,c)),!(a.size()>=i)););return Ce.resolve(a)}lt(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new fXe(n,r));let s=this.lr.get(n);s===void 0&&(s=Kt(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(){this.hr=new Di(ui.Pr),this.Ir=new Di(ui.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(t,n){const r=new ui(t,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.dr(new ui(t,n))}Ar(t,n){t.forEach(r=>this.removeReference(r,n))}Rr(t){const n=new ft(new ur([])),r=new ui(n,t),i=new ui(n,t+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(t=>this.dr(t))}dr(t){this.hr=this.hr.delete(t),this.Ir=this.Ir.delete(t)}mr(t){const n=new ft(new ur([])),r=new ui(n,t),i=new ui(n,t+1);let s=Kt();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new ui(t,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class ui{constructor(t,n){this.key=t,this.gr=n}static Pr(t,n){return ft.comparator(t.key,n.key)||Sn(t.gr,n.gr)}static Tr(t,n){return Sn(t.gr,n.gr)||ft.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zXe{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Di(ui.Pr)}checkEmpty(t){return Ce.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new cXe(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new ui(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return Ce.resolve(o)}lookupMutationBatch(t,n){return Ce.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.Sr(r),s=i<0?0:i;return Ce.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ce.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(t){return Ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new ui(n,0),i=new ui(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),Ce.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Di(Sn);return n.forEach(i=>{const s=new ui(i,0),o=new ui(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),Ce.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let s=r;ft.isDocumentKey(s)||(s=s.child(""));const o=new ui(new ft(s),0);let a=new Di(Sn);return this.yr.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.gr)),!0)},o),Ce.resolve(this.br(a))}br(t){const n=[];return t.forEach(r=>{const i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){Gn(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return Ce.forEach(n.mutations,i=>{const s=new ui(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.yr=r})}Fn(t){}containsKey(t,n){const r=new ui(n,0),i=this.yr.firstAfterOrEqual(r);return Ce.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,Ce.resolve()}Dr(t,n){return this.Sr(t)}Sr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}wr(t){const n=this.Sr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HXe{constructor(t){this.Cr=t,this.docs=function(){return new _r(ft.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return Ce.resolve(r?r.document.mutableCopy():qi.newInvalidDocument(n))}getEntries(t,n){let r=Ll();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():qi.newInvalidDocument(i))}),Ce.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let s=Ll();const o=n.path,a=new ft(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:l,value:{document:c}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||OQe(AQe(c),r)<=0||(i.has(c.key)||Ex(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return Ce.resolve(s)}getAllFromCollectionGroup(t,n,r,i){_t()}vr(t,n){return Ce.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new WXe(this)}getSize(t){return Ce.resolve(this.size)}}class WXe extends FXe{constructor(t){super(),this._r=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(t,i)):this._r.removeEntry(r)}),Ce.waitFor(n)}getFromCache(t,n){return this._r.getEntry(t,n)}getAllFromCache(t,n){return this._r.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qXe{constructor(t){this.persistence=t,this.Fr=new s0(n=>v6(n),b6),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this.Mr=0,this.Or=new I6,this.targetCount=0,this.Nr=wm.On()}forEachTarget(t,n){return this.Fr.forEach((r,i)=>n(i)),Ce.resolve()}getLastRemoteSnapshotVersion(t){return Ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Ce.resolve(this.Mr)}allocateTargetId(t){return this.highestTargetId=this.Nr.next(),Ce.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),Ce.resolve()}kn(t){this.Fr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Nr=new wm(n),this.highestTargetId=n),t.sequenceNumber>this.Mr&&(this.Mr=t.sequenceNumber)}addTargetData(t,n){return this.kn(n),this.targetCount+=1,Ce.resolve()}updateTargetData(t,n){return this.kn(n),Ce.resolve()}removeTargetData(t,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,Ce.resolve()}removeTargets(t,n,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),Ce.waitFor(s).next(()=>i)}getTargetCount(t){return Ce.resolve(this.targetCount)}getTargetData(t,n){const r=this.Fr.get(n)||null;return Ce.resolve(r)}addMatchingKeys(t,n,r){return this.Or.Er(n,r),Ce.resolve()}removeMatchingKeys(t,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(t,o))}),Ce.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.Or.Rr(n),Ce.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Or.mr(n);return Ce.resolve(r)}containsKey(t,n){return Ce.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GXe{constructor(t,n){this.Br={},this.overlays={},this.Lr=new m6(0),this.kr=!1,this.kr=!0,this.referenceDelegate=t(this),this.qr=new qXe(this),this.indexManager=new LXe,this.remoteDocumentCache=function(i){return new HXe(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new DXe(n),this.Kr=new UXe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new VXe,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Br[t.toKey()];return r||(r=new zXe(n,this.referenceDelegate),this.Br[t.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(t,n,r){Xe("MemoryPersistence","Starting transaction:",t);const i=new YXe(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(t,n){return Ce.or(Object.values(this.Br).map(r=>()=>r.containsKey(t,n)))}}class YXe extends RQe{constructor(t){super(),this.currentSequenceNumber=t}}class x6{constructor(t){this.persistence=t,this.Gr=new I6,this.zr=null}static jr(t){return new x6(t)}get Hr(){if(this.zr)return this.zr;throw _t()}addReference(t,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),Ce.resolve()}removeReference(t,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),Ce.resolve()}markPotentiallyOrphaned(t,n){return this.Hr.add(n.toString()),Ce.resolve()}removeTarget(t,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(t,n))}$r(){this.zr=new Set}Ur(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ce.forEach(this.Hr,r=>{const i=ft.fromPath(r);return this.Jr(t,i).next(s=>{s||n.removeEntry(i,It.min())})}).next(()=>(this.zr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Jr(t,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(t){return 0}Jr(t,n){return Ce.or([()=>Ce.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Wr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.ki=r,this.qi=i}static Qi(t,n){let r=Kt(),i=Kt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new C6(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KXe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QXe{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(t,n){this.Gi=t,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(t,n,r,i){const s={result:null};return this.zi(t,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(t,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new KXe;return this.Hi(t,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(t,n,o,a.size)})}).next(()=>s.result)}Ji(t,n,r,i){return r.documentReadCount<this.Ui?(W0()<=nn.DEBUG&&Xe("QueryEngine","SDK will not create cache indexes for query:",kh(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),Ce.resolve()):(W0()<=nn.DEBUG&&Xe("QueryEngine","Query:",kh(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(W0()<=nn.DEBUG&&Xe("QueryEngine","The SDK decides to create cache indexes for query:",kh(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,yu(n))):Ce.resolve())}zi(t,n){if(DV(n))return Ce.resolve(null);let r=yu(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=kR(n,null,"F"),r=yu(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const o=Kt(...s);return this.Gi.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,r).next(u=>{const l=this.Yi(n,a);return this.Zi(n,l,o,u.readTime)?this.zi(t,kR(n,null,"F")):this.Xi(t,l,n,u)}))})))}ji(t,n,r,i){return DV(n)||i.isEqual(It.min())?Ce.resolve(null):this.Gi.getDocuments(t,r).next(s=>{const o=this.Yi(n,s);return this.Zi(n,o,r,i)?Ce.resolve(null):(W0()<=nn.DEBUG&&Xe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),kh(n)),this.Xi(t,o,n,CQe(i,-1)).next(a=>a))})}Yi(t,n){let r=new Di(toe(t));return n.forEach((i,s)=>{Ex(t,s)&&(r=r.add(s))}),r}Zi(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(t,n,r){return W0()<=nn.DEBUG&&Xe("QueryEngine","Using full collection scan to execute query:",kh(n)),this.Gi.getDocumentsMatchingQuery(t,n,ff.min(),r)}Xi(t,n,r,i){return this.Gi.getDocumentsMatchingQuery(t,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XXe{constructor(t,n,r,i){this.persistence=t,this.es=n,this.serializer=i,this.ts=new _r(Sn),this.ns=new s0(s=>v6(s),b6),this.rs=new Map,this.ss=t.getRemoteDocumentCache(),this.qr=t.getTargetCache(),this.Kr=t.getBundleCache(),this.os(r)}os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new jXe(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.ts))}}function JXe(e,t,n,r){return new XXe(e,t,n,r)}async function Toe(e,t){const n=Nt(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(t),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=Kt();for(const l of i){o.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}for(const l of s){a.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}return n.localDocuments.getDocuments(r,u).next(l=>({_s:l,removedBatchIds:o,addedBatchIds:a}))})})}function ZXe(e,t){const n=Nt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,u,l,c){const f=l.batch,d=f.keys();let h=Ce.resolve();return d.forEach(p=>{h=h.next(()=>c.getEntry(u,p)).next(m=>{const y=l.docVersions.get(p);Gn(y!==null),m.version.compareTo(y)<0&&(f.applyToRemoteDocument(m,l),m.isValidDocument()&&(m.setReadTime(l.commitVersion),c.addEntry(m)))})}),h.next(()=>a.mutationQueue.removeMutationBatch(u,f))}(n,r,t,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=Kt();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function Soe(e){const t=Nt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.qr.getLastRemoteSnapshotVersion(n))}function eJe(e,t){const n=Nt(e),r=t.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];t.targetChanges.forEach((c,f)=>{const d=i.get(f);if(!d)return;a.push(n.qr.removeMatchingKeys(s,c.removedDocuments,f).next(()=>n.qr.addMatchingKeys(s,c.addedDocuments,f)));let h=d.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(f)!==null?h=h.withResumeToken(es.EMPTY_BYTE_STRING,It.min()).withLastLimboFreeSnapshotVersion(It.min()):c.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(c.resumeToken,r)),i=i.insert(f,h),function(m,y,g){return m.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(d,h,c)&&a.push(n.qr.updateTargetData(s,h))});let u=Ll(),l=Kt();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(tJe(s,o,t.documentUpdates).next(c=>{u=c.us,l=c.cs})),!r.isEqual(It.min())){const c=n.qr.getLastRemoteSnapshotVersion(s).next(f=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return Ce.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.ts=i,s))}function tJe(e,t,n){let r=Kt(),i=Kt();return n.forEach(s=>r=r.add(s)),t.getEntries(e,r).next(s=>{let o=Ll();return n.forEach((a,u)=>{const l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(It.min())?(t.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(t.addEntry(u),o=o.insert(a,u)):Xe("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{us:o,cs:i}})}function nJe(e,t){const n=Nt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function rJe(e,t){const n=Nt(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,t).next(s=>s?(i=s,Ce.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new xc(t,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(t,r.targetId)),r})}async function FR(e,t,n){const r=Nt(e),i=r.ts.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!lv(o))throw o;Xe("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.ts=r.ts.remove(t),r.ns.delete(i.target)}function WV(e,t,n){const r=Nt(e);let i=It.min(),s=Kt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,c){const f=Nt(u),d=f.ns.get(c);return d!==void 0?Ce.resolve(f.ts.get(d)):f.qr.getTargetData(l,c)}(r,o,yu(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.es.getDocumentsMatchingQuery(o,t,n?i:It.min(),n?s:Kt())).next(a=>(iJe(r,KQe(t),a),{documents:a,ls:s})))}function iJe(e,t,n){let r=e.rs.get(t)||It.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),e.rs.set(t,r)}class qV{constructor(){this.activeTargetIds=tXe()}ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}As(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Es(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class sJe{constructor(){this.eo=new qV,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.eo.ds(t),this.no[t]||"not-current"}updateQueryState(t,n,r){this.no[t]=n}removeLocalQueryTarget(t){this.eo.As(t)}isLocalQueryTarget(t){return this.eo.activeTargetIds.has(t)}clearQueryState(t){delete this.no[t]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(t){return this.eo.activeTargetIds.has(t)}start(){return this.eo=new qV,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oJe{ro(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(t){this.ao.push(t)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){Xe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ao)t(0)}_o(){Xe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ao)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let R1=null;function mO(){return R1===null?R1=function(){return 268435456+Math.round(2147483648*Math.random())}():R1++,"0x"+R1.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aJe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uJe{constructor(t){this.co=t.co,this.lo=t.lo}ho(t){this.Po=t}Io(t){this.To=t}onMessage(t){this.Eo=t}close(){this.lo()}send(t){this.co(t)}Ao(){this.Po()}Ro(t){this.To(t)}Vo(t){this.Eo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui="WebChannelConnection";class lJe extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${s}`,this.po=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(n,r,i,s,o){const a=mO(),u=this.So(n,r);Xe("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const l={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(l,s,o),this.Do(n,u,l,i).then(c=>(Xe("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw t_("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",u,"request:",i),c})}Co(n,r,i,s,o,a){return this.wo(n,r,i,s,o)}bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+r0}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}So(n,r){const i=aJe[n];return`${this.mo}/v1/${r}:${i}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Do(t,n,r,i){const s=mO();return new Promise((o,a)=>{const u=new gQe;u.setWithCredentials(!0),u.listenOnce(pQe.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case hO.NO_ERROR:const c=u.getResponseJson();Xe(Ui,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(c)),o(c);break;case hO.TIMEOUT:Xe(Ui,`RPC '${t}' ${s} timed out`),a(new tt(xe.DEADLINE_EXCEEDED,"Request time out"));break;case hO.HTTP_ERROR:const f=u.getStatus();if(Xe(Ui,`RPC '${t}' ${s} failed with status:`,f,"response text:",u.getResponseText()),f>0){let d=u.getResponseJson();Array.isArray(d)&&(d=d[0]);const h=d==null?void 0:d.error;if(h&&h.status&&h.message){const p=function(y){const g=y.toLowerCase().replace(/_/g,"-");return Object.values(xe).indexOf(g)>=0?g:xe.UNKNOWN}(h.status);a(new tt(p,h.message))}else a(new tt(xe.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new tt(xe.UNAVAILABLE,"Connection failed."));break;default:_t()}}finally{Xe(Ui,`RPC '${t}' ${s} completed.`)}});const l=JSON.stringify(i);Xe(Ui,`RPC '${t}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}vo(t,n,r){const i=mO(),s=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=dQe(),a=hQe(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.bo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const c=s.join("");Xe(Ui,`Creating RPC '${t}' stream ${i}: ${c}`,u);const f=o.createWebChannel(c,u);let d=!1,h=!1;const p=new uJe({co:y=>{h?Xe(Ui,`Not sending because RPC '${t}' stream ${i} is closed:`,y):(d||(Xe(Ui,`Opening RPC '${t}' stream ${i} transport.`),f.open(),d=!0),Xe(Ui,`RPC '${t}' stream ${i} sending:`,y),f.send(y))},lo:()=>f.close()}),m=(y,g,_)=>{y.listen(g,b=>{try{_(b)}catch(T){setTimeout(()=>{throw T},0)}})};return m(f,A1.EventType.OPEN,()=>{h||Xe(Ui,`RPC '${t}' stream ${i} transport opened.`)}),m(f,A1.EventType.CLOSE,()=>{h||(h=!0,Xe(Ui,`RPC '${t}' stream ${i} transport closed`),p.Ro())}),m(f,A1.EventType.ERROR,y=>{h||(h=!0,t_(Ui,`RPC '${t}' stream ${i} transport errored:`,y),p.Ro(new tt(xe.UNAVAILABLE,"The operation could not be completed")))}),m(f,A1.EventType.MESSAGE,y=>{var g;if(!h){const _=y.data[0];Gn(!!_);const b=_,T=b.error||((g=b[0])===null||g===void 0?void 0:g.error);if(T){Xe(Ui,`RPC '${t}' stream ${i} received error:`,T);const I=T.status;let E=function(L){const W=Mr[L];if(W!==void 0)return poe(W)}(I),S=T.message;E===void 0&&(E=xe.INTERNAL,S="Unknown error status: "+I+" with message "+T.message),h=!0,p.Ro(new tt(E,S)),f.close()}else Xe(Ui,`RPC '${t}' stream ${i} received:`,_),p.Vo(_)}}),m(a,mQe.STAT_EVENT,y=>{y.stat===SV.PROXY?Xe(Ui,`RPC '${t}' stream ${i} detected buffering proxy`):y.stat===SV.NOPROXY&&Xe(Ui,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Ao()},0),p}}function gO(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix(e){return new bXe(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ioe{constructor(t,n,r=1e3,i=1.5,s=6e4){this.si=t,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(t){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&Xe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),t())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xoe{constructor(t,n,r,i,s,o,a,u){this.si=t,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new Ioe(t,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(t){this.t_(),this.stream.send(t)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(t,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,t!==4?this.zo.reset():n&&n.code===xe.RESOURCE_EXHAUSTED?($l(n.toString()),$l("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===xe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Io(n)}r_(){}auth(){this.state=1;const t=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{t(()=>{const i=new tt(xe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(t,n){const r=this.i_(this.Uo);this.stream=this.__(t,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(t){return Xe("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}i_(t){return n=>{this.si.enqueueAndForget(()=>this.Uo===t?n():(Xe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class cJe extends xoe{constructor(t,n,r,i,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}__(t,n){return this.connection.vo("Listen",t,n)}onMessage(t){this.zo.reset();const n=TXe(this.serializer,t),r=function(s){if(!("targetChange"in s))return It.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?It.min():o.readTime?_u(o.readTime):It.min()}(t);return this.listener.a_(n,r)}u_(t){const n={};n.database=MR(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=NR(u)?{documents:xXe(s,u)}:{query:CXe(s,u)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=yoe(s,o.resumeToken);const l=DR(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(It.min())>0){a.readTime=KT(s,o.snapshotVersion.toTimestamp());const l=DR(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,t);const r=OXe(this.serializer,t);r&&(n.labels=r),this.e_(n)}c_(t){const n={};n.database=MR(this.serializer),n.removeTarget=t,this.e_(n)}}class fJe extends xoe{constructor(t,n,r,i,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(t,n){return this.connection.vo("Write",t,n)}onMessage(t){if(Gn(!!t.streamToken),this.lastStreamToken=t.streamToken,this.l_){this.zo.reset();const n=IXe(t.writeResults,t.commitTime),r=_u(t.commitTime);return this.listener.I_(r,n)}return Gn(!t.writeResults||t.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const t={};t.database=MR(this.serializer),this.e_(t)}P_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>SXe(this.serializer,r))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dJe extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new tt(xe.FAILED_PRECONDITION,"The client has already been terminated.")}wo(t,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(t,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new tt(xe.UNKNOWN,i.toString())})}Co(t,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(t,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new tt(xe.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class hJe{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(t){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.p_("Offline")))}set(t){this.S_(),this.V_=0,t==="Online"&&(this.f_=!1),this.p_(t)}p_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}y_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?($l(n),this.f_=!1):Xe("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pJe{constructor(t,n,r,i,s){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(o=>{r.enqueueAndForget(async()=>{fh(this)&&(Xe("RemoteStore","Restarting streams for network reachability change."),await async function(u){const l=Nt(u);l.C_.add(4),await hv(l),l.M_.set("Unknown"),l.C_.delete(4),await dv(l)}(this))})}),this.M_=new hJe(r,i)}}async function dv(e){if(fh(e))for(const t of e.v_)await t(!0)}async function hv(e){for(const t of e.v_)await t(!1)}function Coe(e,t){const n=Nt(e);n.D_.has(t.targetId)||(n.D_.set(t.targetId,t),P6(n)?O6(n):o0(n).Ho()&&A6(n,t))}function Aoe(e,t){const n=Nt(e),r=o0(n);n.D_.delete(t),r.Ho()&&Ooe(n,t),n.D_.size===0&&(r.Ho()?r.Zo():fh(n)&&n.M_.set("Unknown"))}function A6(e,t){if(e.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(It.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}o0(e).u_(t)}function Ooe(e,t){e.x_.Oe(t),o0(e).c_(t)}function O6(e){e.x_=new gXe({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.D_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),o0(e).start(),e.M_.g_()}function P6(e){return fh(e)&&!o0(e).jo()&&e.D_.size>0}function fh(e){return Nt(e).C_.size===0}function Poe(e){e.x_=void 0}async function mJe(e){e.D_.forEach((t,n)=>{A6(e,t)})}async function gJe(e,t){Poe(e),P6(e)?(e.M_.w_(t),O6(e)):e.M_.set("Unknown")}async function yJe(e,t,n){if(e.M_.set("Online"),t instanceof goe&&t.state===2&&t.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.D_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.D_.delete(a),i.x_.removeTarget(a))}(e,t)}catch(r){Xe("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await QT(e,r)}else if(t instanceof vb?e.x_.$e(t):t instanceof moe?e.x_.Je(t):e.x_.Ge(t),!n.isEqual(It.min()))try{const r=await Soe(e.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){const c=s.D_.get(l);c&&s.D_.set(l,c.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,l)=>{const c=s.D_.get(u);if(!c)return;s.D_.set(u,c.withResumeToken(es.EMPTY_BYTE_STRING,c.snapshotVersion)),Ooe(s,u);const f=new xc(c.target,u,l,c.sequenceNumber);A6(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){Xe("RemoteStore","Failed to raise snapshot:",r),await QT(e,r)}}async function QT(e,t,n){if(!lv(t))throw t;e.C_.add(1),await hv(e),e.M_.set("Offline"),n||(n=()=>Soe(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Xe("RemoteStore","Retrying IndexedDB access"),await n(),e.C_.delete(1),await dv(e)})}function Roe(e,t){return t().catch(n=>QT(e,n,t))}async function xx(e){const t=Nt(e),n=hf(t);let r=t.b_.length>0?t.b_[t.b_.length-1].batchId:-1;for(;_Je(t);)try{const i=await nJe(t.localStore,r);if(i===null){t.b_.length===0&&n.Zo();break}r=i.batchId,vJe(t,i)}catch(i){await QT(t,i)}Noe(t)&&koe(t)}function _Je(e){return fh(e)&&e.b_.length<10}function vJe(e,t){e.b_.push(t);const n=hf(e);n.Ho()&&n.h_&&n.P_(t.mutations)}function Noe(e){return fh(e)&&!hf(e).jo()&&e.b_.length>0}function koe(e){hf(e).start()}async function bJe(e){hf(e).E_()}async function EJe(e){const t=hf(e);for(const n of e.b_)t.P_(n.mutations)}async function wJe(e,t,n){const r=e.b_.shift(),i=w6.from(r,t,n);await Roe(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await xx(e)}async function TJe(e,t){t&&hf(e).h_&&await async function(r,i){if(function(o){return hXe(o)&&o!==xe.ABORTED}(i.code)){const s=r.b_.shift();hf(r).Yo(),await Roe(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await xx(r)}}(e,t),Noe(e)&&koe(e)}async function YV(e,t){const n=Nt(e);n.asyncQueue.verifyOperationInProgress(),Xe("RemoteStore","RemoteStore received new credentials");const r=fh(n);n.C_.add(3),await hv(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.C_.delete(3),await dv(n)}async function SJe(e,t){const n=Nt(e);t?(n.C_.delete(2),await dv(n)):t||(n.C_.add(2),await hv(n),n.M_.set("Unknown"))}function o0(e){return e.O_||(e.O_=function(n,r,i){const s=Nt(n);return s.A_(),new cJe(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{ho:mJe.bind(null,e),Io:gJe.bind(null,e),a_:yJe.bind(null,e)}),e.v_.push(async t=>{t?(e.O_.Yo(),P6(e)?O6(e):e.M_.set("Unknown")):(await e.O_.stop(),Poe(e))})),e.O_}function hf(e){return e.N_||(e.N_=function(n,r,i){const s=Nt(n);return s.A_(),new fJe(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{ho:bJe.bind(null,e),Io:TJe.bind(null,e),T_:EJe.bind(null,e),I_:wJe.bind(null,e)}),e.v_.push(async t=>{t?(e.N_.Yo(),await xx(e)):(await e.N_.stop(),e.b_.length>0&&(Xe("RemoteStore",`Stopping write stream with ${e.b_.length} pending writes`),e.b_=[]))})),e.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ml,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,a=new R6(t,n,o,i,s);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new tt(xe.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function N6(e,t){if($l("AsyncQueue",`${t}: ${e}`),lv(e))return new tt(xe.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(t){this.comparator=t?(n,r)=>t(n,r)||ft.comparator(n.key,r.key):(n,r)=>ft.comparator(n.key,r.key),this.keyedMap=fg(),this.sortedSet=new _r(this.comparator)}static emptySet(t){return new kp(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof kp)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new kp;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(){this.B_=new _r(ft.comparator)}track(t){const n=t.doc.key,r=this.B_.get(n);r?t.type!==0&&r.type===3?this.B_=this.B_.insert(n,t):t.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.B_=this.B_.remove(n):t.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):_t():this.B_=this.B_.insert(n,t)}L_(){const t=[];return this.B_.inorderTraversal((n,r)=>{t.push(r)}),t}}class Tm{constructor(t,n,r,i,s,o,a,u,l){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(t,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Tm(t,n,kp.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&bx(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IJe{constructor(){this.k_=void 0,this.listeners=[]}}class xJe{constructor(){this.queries=new s0(t=>eoe(t),bx),this.onlineState="Unknown",this.q_=new Set}}async function Doe(e,t){const n=Nt(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new IJe),i)try{s.k_=await n.onListen(r)}catch(o){const a=N6(o,`Initialization of query '${kh(t.query)}' failed`);return void t.onError(a)}n.queries.set(r,s),s.listeners.push(t),t.Q_(n.onlineState),s.k_&&t.K_(s.k_)&&k6(n)}async function $oe(e,t){const n=Nt(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(t);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function CJe(e,t){const n=Nt(e);let r=!1;for(const i of t){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&k6(n)}function AJe(e,t,n){const r=Nt(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function k6(e){e.q_.forEach(t=>{t.next()})}class Loe{constructor(t,n,r){this.query=t,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new Tm(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.W_?this.z_(t)&&(this.U_.next(t),n=!0):this.j_(t,this.onlineState)&&(this.H_(t),n=!0),this.G_=t,n}onError(t){this.U_.error(t)}Q_(t){this.onlineState=t;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,t)&&(this.H_(this.G_),n=!0),n}j_(t,n){if(!t.fromCache)return!0;const r=n!=="Offline";return(!this.options.J_||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}z_(t){if(t.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(t){t=Tm.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.W_=!0,this.U_.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Moe{constructor(t){this.key=t}}class Foe{constructor(t){this.key=t}}class OJe{constructor(t,n){this.query=t,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Kt(),this.mutatedKeys=Kt(),this._a=toe(t),this.aa=new kp(this._a)}get ua(){return this.ia}ca(t,n){const r=n?n.la:new KV,i=n?n.aa:this.aa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,f)=>{const d=i.get(c),h=Ex(this.query,f)?f:null,p=!!d&&this.mutatedKeys.has(d.key),m=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let y=!1;d&&h?d.data.isEqual(h.data)?p!==m&&(r.track({type:3,doc:h}),y=!0):this.ha(d,h)||(r.track({type:2,doc:h}),y=!0,(u&&this._a(h,u)>0||l&&this._a(h,l)<0)&&(a=!0)):!d&&h?(r.track({type:0,doc:h}),y=!0):d&&!h&&(r.track({type:1,doc:d}),y=!0,(u||l)&&(a=!0)),y&&(h?(o=o.add(h),s=m?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,i){const s=this.aa;this.aa=t.aa,this.mutatedKeys=t.mutatedKeys;const o=t.la.L_();o.sort((c,f)=>function(h,p){const m=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t()}};return m(h)-m(p)}(c.type,f.type)||this._a(c.doc,f.doc)),this.Pa(r),i=i!=null&&i;const a=n&&!i?this.Ia():[],u=this.oa.size===0&&this.current&&!i?1:0,l=u!==this.sa;return this.sa=u,o.length!==0||l?{snapshot:new Tm(this.query,t.aa,s,o,t.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new KV,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(t){return!this.ia.has(t)&&!!this.aa.has(t)&&!this.aa.get(t).hasLocalMutations}Pa(t){t&&(t.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=t.current)}Ia(){if(!this.current)return[];const t=this.oa;this.oa=Kt(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return t.forEach(r=>{this.oa.has(r)||n.push(new Foe(r))}),this.oa.forEach(r=>{t.has(r)||n.push(new Moe(r))}),n}da(t){this.ia=t.ls,this.oa=Kt();const n=this.ca(t.documents);return this.applyChanges(n,!0)}Aa(){return Tm.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class PJe{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class RJe{constructor(t){this.key=t,this.Ra=!1}}class NJe{constructor(t,n,r,i,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new s0(a=>eoe(a),bx),this.fa=new Map,this.ga=new Set,this.pa=new _r(ft.comparator),this.ya=new Map,this.wa=new I6,this.Sa={},this.ba=new Map,this.Da=wm.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function kJe(e,t){const n=zJe(e);let r,i;const s=n.ma.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=await rJe(n.localStore,yu(t)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await DJe(n,t,r,a==="current",o.resumeToken),n.isPrimaryClient&&Coe(n.remoteStore,o)}return i}async function DJe(e,t,n,r,i){e.va=(f,d,h)=>async function(m,y,g,_){let b=y.view.ca(g);b.Zi&&(b=await WV(m.localStore,y.query,!1).then(({documents:S})=>y.view.ca(S,b)));const T=_&&_.targetChanges.get(y.targetId),I=_&&_.targetMismatches.get(y.targetId)!=null,E=y.view.applyChanges(b,m.isPrimaryClient,T,I);return XV(m,y.targetId,E.Ta),E.snapshot}(e,f,d,h);const s=await WV(e.localStore,t,!0),o=new OJe(t,s.ls),a=o.ca(s.documents),u=fv.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),l=o.applyChanges(a,e.isPrimaryClient,u);XV(e,n,l.Ta);const c=new PJe(t,n,o);return e.ma.set(t,c),e.fa.has(n)?e.fa.get(n).push(t):e.fa.set(n,[t]),l.snapshot}async function $Je(e,t){const n=Nt(e),r=n.ma.get(t),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(s=>!bx(s,t))),void n.ma.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await FR(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Aoe(n.remoteStore,r.targetId),BR(n,r.targetId)}).catch(uv)):(BR(n,r.targetId),await FR(n.localStore,r.targetId,!0))}async function LJe(e,t,n){const r=HJe(e);try{const i=await function(o,a){const u=Nt(o),l=Zr.now(),c=a.reduce((h,p)=>h.add(p.key),Kt());let f,d;return u.persistence.runTransaction("Locally write mutations","readwrite",h=>{let p=Ll(),m=Kt();return u.ss.getEntries(h,c).next(y=>{p=y,p.forEach((g,_)=>{_.isValidDocument()||(m=m.add(g))})}).next(()=>u.localDocuments.getOverlayedDocuments(h,p)).next(y=>{f=y;const g=[];for(const _ of a){const b=uXe(_,f.get(_.key).overlayedDocument);b!=null&&g.push(new ch(_.key,b,Gse(b.value.mapValue),gl.exists(!0)))}return u.mutationQueue.addMutationBatch(h,l,g,a)}).next(y=>{d=y;const g=y.applyToLocalDocumentSet(f,m);return u.documentOverlayCache.saveOverlays(h,y.batchId,g)})}).then(()=>({batchId:d.batchId,changes:roe(f)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.Sa[o.currentUser.toKey()];l||(l=new _r(Sn)),l=l.insert(a,u),o.Sa[o.currentUser.toKey()]=l}(r,i.batchId,n),await pv(r,i.changes),await xx(r.remoteStore)}catch(i){const s=N6(i,"Failed to persist write");n.reject(s)}}async function Boe(e,t){const n=Nt(e);try{const r=await eJe(n.localStore,t);t.targetChanges.forEach((i,s)=>{const o=n.ya.get(s);o&&(Gn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?Gn(o.Ra):i.removedDocuments.size>0&&(Gn(o.Ra),o.Ra=!1))}),await pv(n,r,t)}catch(r){await uv(r)}}function QV(e,t,n){const r=Nt(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ma.forEach((s,o)=>{const a=o.view.Q_(t);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=Nt(o);u.onlineState=a;let l=!1;u.queries.forEach((c,f)=>{for(const d of f.listeners)d.Q_(a)&&(l=!0)}),l&&k6(u)}(r.eventManager,t),i.length&&r.Va.a_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function MJe(e,t,n){const r=Nt(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.ya.get(t),s=i&&i.key;if(s){let o=new _r(ft.comparator);o=o.insert(s,qi.newNoDocument(s,It.min()));const a=Kt().add(s),u=new Sx(It.min(),new Map,new _r(Sn),o,a);await Boe(r,u),r.pa=r.pa.remove(s),r.ya.delete(t),D6(r)}else await FR(r.localStore,t,!1).then(()=>BR(r,t,n)).catch(uv)}async function FJe(e,t){const n=Nt(e),r=t.batch.batchId;try{const i=await ZXe(n.localStore,t);Uoe(n,r,null),joe(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await pv(n,i)}catch(i){await uv(i)}}async function BJe(e,t,n){const r=Nt(e);try{const i=await function(o,a){const u=Nt(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return u.mutationQueue.lookupMutationBatch(l,a).next(f=>(Gn(f!==null),c=f.keys(),u.mutationQueue.removeMutationBatch(l,f))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,c,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>u.localDocuments.getDocuments(l,c))})}(r.localStore,t);Uoe(r,t,n),joe(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await pv(r,i)}catch(i){await uv(i)}}function joe(e,t){(e.ba.get(t)||[]).forEach(n=>{n.resolve()}),e.ba.delete(t)}function Uoe(e,t,n){const r=Nt(e);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.Sa[r.currentUser.toKey()]=i}}function BR(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.fa.get(t))e.ma.delete(r),n&&e.Va.Fa(r,n);e.fa.delete(t),e.isPrimaryClient&&e.wa.Rr(t).forEach(r=>{e.wa.containsKey(r)||Voe(e,r)})}function Voe(e,t){e.ga.delete(t.path.canonicalString());const n=e.pa.get(t);n!==null&&(Aoe(e.remoteStore,n),e.pa=e.pa.remove(t),e.ya.delete(n),D6(e))}function XV(e,t,n){for(const r of n)r instanceof Moe?(e.wa.addReference(r.key,t),jJe(e,r)):r instanceof Foe?(Xe("SyncEngine","Document no longer in limbo: "+r.key),e.wa.removeReference(r.key,t),e.wa.containsKey(r.key)||Voe(e,r.key)):_t()}function jJe(e,t){const n=t.key,r=n.path.canonicalString();e.pa.get(n)||e.ga.has(r)||(Xe("SyncEngine","New document in limbo: "+n),e.ga.add(r),D6(e))}function D6(e){for(;e.ga.size>0&&e.pa.size<e.maxConcurrentLimboResolutions;){const t=e.ga.values().next().value;e.ga.delete(t);const n=new ft(ur.fromString(t)),r=e.Da.next();e.ya.set(r,new RJe(n)),e.pa=e.pa.insert(n,r),Coe(e.remoteStore,new xc(yu(E6(n.path)),r,"TargetPurposeLimboResolution",m6._e))}}async function pv(e,t,n){const r=Nt(e),i=[],s=[],o=[];r.ma.isEmpty()||(r.ma.forEach((a,u)=>{o.push(r.va(u,t,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,l!=null&&l.fromCache?"not-current":"current"),l){i.push(l);const c=C6.Qi(u.targetId,l);s.push(c)}}))}),await Promise.all(o),r.Va.a_(i),await async function(u,l){const c=Nt(u);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Ce.forEach(l,d=>Ce.forEach(d.ki,h=>c.persistence.referenceDelegate.addReference(f,d.targetId,h)).next(()=>Ce.forEach(d.qi,h=>c.persistence.referenceDelegate.removeReference(f,d.targetId,h)))))}catch(f){if(!lv(f))throw f;Xe("LocalStore","Failed to update sequence numbers: "+f)}for(const f of l){const d=f.targetId;if(!f.fromCache){const h=c.ts.get(d),p=h.snapshotVersion,m=h.withLastLimboFreeSnapshotVersion(p);c.ts=c.ts.insert(d,m)}}}(r.localStore,s))}async function UJe(e,t){const n=Nt(e);if(!n.currentUser.isEqual(t)){Xe("SyncEngine","User change. New user:",t.toKey());const r=await Toe(n.localStore,t);n.currentUser=t,function(s,o){s.ba.forEach(a=>{a.forEach(u=>{u.reject(new tt(xe.CANCELLED,o))})}),s.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await pv(n,r._s)}}function VJe(e,t){const n=Nt(e),r=n.ya.get(t);if(r&&r.Ra)return Kt().add(r.key);{let i=Kt();const s=n.fa.get(t);if(!s)return i;for(const o of s){const a=n.ma.get(o);i=i.unionWith(a.view.ua)}return i}}function zJe(e){const t=Nt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Boe.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=VJe.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=MJe.bind(null,t),t.Va.a_=CJe.bind(null,t.eventManager),t.Va.Fa=AJe.bind(null,t.eventManager),t}function HJe(e){const t=Nt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=FJe.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=BJe.bind(null,t),t}class JV{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=Ix(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return JXe(this.persistence,new QXe,t.initialUser,this.serializer)}createPersistence(t){return new GXe(x6.jr,this.serializer)}createSharedClientState(t){return new sJe}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class WJe{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>QV(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=UJe.bind(null,this.syncEngine),await SJe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new xJe}()}createDatastore(t){const n=Ix(t.databaseInfo.databaseId),r=function(s){return new lJe(s)}(t.databaseInfo);return function(s,o,a,u){return new dJe(s,o,a,u)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,s,o,a){return new pJe(r,i,s,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>QV(this.syncEngine,n,0),function(){return GV.D()?new GV:new oJe}())}createSyncEngine(t,n){return function(i,s,o,a,u,l,c){const f=new NJe(i,s,o,a,u,l);return c&&(f.Ca=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=Nt(n);Xe("RemoteStore","RemoteStore shutting down."),r.C_.add(5),await hv(r),r.F_.shutdown(),r.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zoe{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Oa(this.observer.next,t)}error(t){this.observer.error?this.Oa(this.observer.error,t):$l("Uncaught Error in snapshot listener:",t.toString())}Na(){this.muted=!0}Oa(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qJe{constructor(t,n,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ts.UNAUTHENTICATED,this.clientId=Hse.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{Xe("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Xe("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new tt(xe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ml;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=N6(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function yO(e,t){e.asyncQueue.verifyOperationInProgress(),Xe("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Toe(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function ZV(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Hoe(e);Xe("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(i=>YV(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,s)=>YV(t.remoteStore,s)),e._onlineComponents=t}function GJe(e){return e.name==="FirebaseError"?e.code===xe.FAILED_PRECONDITION||e.code===xe.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function Hoe(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Xe("FirestoreClient","Using user provided OfflineComponentProvider");try{await yO(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!GJe(n))throw n;t_("Error using user provided cache. Falling back to memory cache: "+n),await yO(e,new JV)}}else Xe("FirestoreClient","Using default OfflineComponentProvider"),await yO(e,new JV);return e._offlineComponents}async function $6(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Xe("FirestoreClient","Using user provided OnlineComponentProvider"),await ZV(e,e._uninitializedComponentsProvider._online)):(Xe("FirestoreClient","Using default OnlineComponentProvider"),await ZV(e,new WJe))),e._onlineComponents}function YJe(e){return Hoe(e).then(t=>t.persistence)}function KJe(e){return $6(e).then(t=>t.remoteStore)}function QJe(e){return $6(e).then(t=>t.syncEngine)}async function Woe(e){const t=await $6(e),n=t.eventManager;return n.onListen=kJe.bind(null,t.syncEngine),n.onUnlisten=$Je.bind(null,t.syncEngine),n}function XJe(e){return e.asyncQueue.enqueue(async()=>{const t=await YJe(e),n=await KJe(e);return t.setNetworkEnabled(!0),function(i){const s=Nt(i);return s.C_.delete(0),dv(s)}(n)})}function JJe(e,t,n={}){const r=new ml;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,l){const c=new zoe({next:d=>{o.enqueueAndForget(()=>$oe(s,f));const h=d.docs.has(a);!h&&d.fromCache?l.reject(new tt(xe.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&u&&u.source==="server"?l.reject(new tt(xe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),f=new Loe(E6(a.path),c,{includeMetadataChanges:!0,J_:!0});return Doe(s,f)}(await Woe(e),e.asyncQueue,t,n,r)),r.promise}function ZJe(e,t,n={}){const r=new ml;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,l){const c=new zoe({next:d=>{o.enqueueAndForget(()=>$oe(s,f)),d.fromCache&&u.source==="server"?l.reject(new tt(xe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),f=new Loe(a,c,{includeMetadataChanges:!0,J_:!0});return Doe(s,f)}(await Woe(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qoe(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e7=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Goe(e,t,n){if(!n)throw new tt(xe.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function eZe(e,t,n,r){if(t===!0&&r===!0)throw new tt(xe.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function t7(e){if(!ft.isDocumentKey(e))throw new tt(xe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function n7(e){if(ft.isDocumentKey(e))throw new tt(xe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function L6(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":_t()}function Hd(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new tt(xe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=L6(e);throw new tt(xe.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r7{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new tt(xe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new tt(xe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}eZe("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qoe((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new tt(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new tt(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new tt(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class M6{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new r7({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new tt(xe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new tt(xe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new r7(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new vQe;switch(r.type){case"firstParty":return new wQe(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new tt(xe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=e7.get(n);r&&(Xe("ComponentProvider","Removing Datastore"),e7.delete(n),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Cx(this.firestore,t,this._query)}}class co{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new co(this.firestore,t,this._key)}}class Gc extends Cx{constructor(t,n,r){super(t,n,E6(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new co(this.firestore,null,new ft(t))}withConverter(t){return new Gc(this.firestore,t,this._path)}}function tZe(e,t,...n){if(e=Zi(e),Goe("collection","path",t),e instanceof M6){const r=ur.fromString(t,...n);return n7(r),new Gc(e,null,r)}{if(!(e instanceof co||e instanceof Gc))throw new tt(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ur.fromString(t,...n));return n7(r),new Gc(e.firestore,null,r)}}function Fu(e,t,...n){if(e=Zi(e),arguments.length===1&&(t=Hse.newId()),Goe("doc","path",t),e instanceof M6){const r=ur.fromString(t,...n);return t7(r),new co(e,null,new ft(r))}{if(!(e instanceof co||e instanceof Gc))throw new tt(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ur.fromString(t,...n));return t7(r),new co(e.firestore,e instanceof Gc?e.converter:null,new ft(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nZe{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new Ioe(this,"async_queue_retry"),this.iu=()=>{const n=gO();n&&Xe("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const t=gO();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.su(),this.ou(t)}enterRestrictedMode(t){if(!this.Za){this.Za=!0,this.nu=t||!1;const n=gO();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(t){if(this.su(),this.Za)return new Promise(()=>{});const n=new ml;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ya.push(t),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(t){if(!lv(t))throw t;Xe("AsyncQueue","Operation failed with retryable error: "+t)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(t){const n=this.Ja.then(()=>(this.tu=!0,t().catch(r=>{this.eu=r,this.tu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw $l("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(t,n,r){this.su(),this.ru.indexOf(t)>-1&&(n=0);const i=R6.createAndSchedule(this,t,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&_t()}verifyOperationInProgress(){}async uu(){let t;do t=this.Ja,await t;while(t!==this.Ja)}cu(t){for(const n of this.Xa)if(n.timerId===t)return!0;return!1}lu(t){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.uu()})}hu(t){this.ru.push(t)}au(t){const n=this.Xa.indexOf(t);this.Xa.splice(n,1)}}class mv extends M6{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=function(){return new nZe}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Yoe(this),this._firestoreClient.terminate()}}function rZe(e,t,n){n||(n="(default)");const r=e0(e,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),s=r.getOptions(n);if(Wy(s,t))return i;throw new tt(xe.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(t.cacheSizeBytes!==void 0&&t.localCache!==void 0)throw new tt(xe.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(t.cacheSizeBytes!==void 0&&t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new tt(xe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:t,instanceIdentifier:n})}function Ax(e){return e._firestoreClient||Yoe(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Yoe(e){var t,n,r;const i=e._freezeSettings(),s=function(a,u,l,c){return new DQe(a,u,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,qoe(c.experimentalLongPollingOptions),c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new qJe(e._authCredentials,e._appCheckCredentials,e._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function iZe(e){return XJe(Ax(e=Hd(e,mv)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Sm(es.fromBase64String(t))}catch(n){throw new tt(xe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Sm(es.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new tt(xe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pi(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Koe{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new tt(xe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new tt(xe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Sn(this._lat,t._lat)||Sn(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sZe=/^__.*__$/;class oZe{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new ch(t,this.data,this.fieldMask,n,this.fieldTransforms):new cv(t,this.data,n,this.fieldTransforms)}}function Qoe(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t()}}class j6{constructor(t,n,r,i,s,o){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(t){return new j6(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Tu({path:r,du:!1});return i.Au(t),i}Ru(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(t){return this.Tu({path:void 0,du:!0})}mu(t){return XT(t,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Au(this.path.get(t))}Au(t){if(t.length===0)throw this.mu("Document fields must not be empty");if(Qoe(this.Iu)&&sZe.test(t))throw this.mu('Document fields cannot begin and end with "__"')}}class aZe{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Ix(t)}pu(t,n,r,i=!1){return new j6({Iu:t,methodName:n,gu:r,path:Pi.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function uZe(e){const t=e._freezeSettings(),n=Ix(e._databaseId);return new aZe(e._databaseId,!!t.ignoreUndefinedProperties,n)}function lZe(e,t,n,r,i,s={}){const o=e.pu(s.merge||s.mergeFields?2:0,t,n,i);eae("Data must be an object, but it was:",o,r);const a=Joe(r,o);let u,l;if(s.merge)u=new _a(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const f of s.mergeFields){const d=cZe(t,f,n);if(!o.contains(d))throw new tt(xe.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);dZe(c,d)||c.push(d)}u=new _a(c),l=o.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,l=o.fieldTransforms;return new oZe(new Mo(a),u,l)}function Xoe(e,t){if(Zoe(e=Zi(e)))return eae("Unsupported field value:",t,e),Joe(e,t);if(e instanceof Koe)return function(r,i){if(!Qoe(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.du&&t.Iu!==4)throw t.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=Xoe(a,i.Vu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(e,t)}return function(r,i){if((r=Zi(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return nXe(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Zr.fromDate(r);return{timestampValue:KT(i.serializer,s)}}if(r instanceof Zr){const s=new Zr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:KT(i.serializer,s)}}if(r instanceof B6)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Sm)return{bytesValue:yoe(i.serializer,r._byteString)};if(r instanceof co){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:S6(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${L6(r)}`)}(e,t)}function Joe(e,t){const n={};return Wse(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):i0(e,(r,i)=>{const s=Xoe(i,t.Eu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Zoe(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Zr||e instanceof B6||e instanceof Sm||e instanceof co||e instanceof Koe)}function eae(e,t,n){if(!Zoe(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=L6(n);throw r==="an object"?t.mu(e+" a custom object"):t.mu(e+" "+r)}}function cZe(e,t,n){if((t=Zi(t))instanceof F6)return t._internalPath;if(typeof t=="string")return tae(e,t);throw XT("Field path arguments must be of type string or ",e,!1,void 0,n)}const fZe=new RegExp("[~\\*/\\[\\]]");function tae(e,t,n){if(t.search(fZe)>=0)throw XT(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new F6(...t.split("."))._internalPath}catch{throw XT(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function XT(e,t,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new tt(xe.INVALID_ARGUMENT,a+e+u)}function dZe(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nae{constructor(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new co(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new hZe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(rae("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class hZe extends nae{data(){return super.data()}}function rae(e,t){return typeof t=="string"?tae(e,t):t instanceof F6?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pZe(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new tt(xe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mZe{convertValue(t,n="none"){switch(zd(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Br(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Vd(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw _t()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return i0(t,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(t){return new B6(Br(t.latitude),Br(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=y6(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(r_(t));default:return null}}convertTimestamp(t){const n=df(t);return new Zr(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=ur.fromString(t);Gn(woe(r));const i=new i_(r.get(1),r.get(3)),s=new ft(r.popFirst(5));return i.isEqual(n)||$l(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gZe(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class iae extends nae{constructor(t,n,r,i,s,o){super(t,n,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new bb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(rae("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class bb extends iae{data(t={}){return super.data(t)}}class yZe{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new hg(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new bb(this._firestore,this._userDataWriter,r.key,r,new hg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new tt(xe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const u=new bb(i._firestore,i._userDataWriter,a.doc.key,a.doc,new hg(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const u=new bb(i._firestore,i._userDataWriter,a.doc.key,a.doc,new hg(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,c=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:_Ze(a.type),doc:u,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function _Ze(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q0(e){e=Hd(e,co);const t=Hd(e.firestore,mv);return JJe(Ax(t),e._key).then(n=>EZe(t,e,n))}class sae extends mZe{constructor(t){super(),this.firestore=t}convertBytes(t){return new Sm(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new co(this.firestore,null,n)}}function vZe(e){e=Hd(e,Cx);const t=Hd(e.firestore,mv),n=Ax(t),r=new sae(t);return pZe(e._query),ZJe(n,e._query).then(i=>new yZe(t,r,e,i))}function G0(e,t,n){e=Hd(e,co);const r=Hd(e.firestore,mv),i=gZe(e.converter,t,n);return bZe(r,[lZe(uZe(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,gl.none())])}function bZe(e,t){return function(r,i){const s=new ml;return r.asyncQueue.enqueueAndForget(async()=>LJe(await QJe(r),i,s)),s.promise}(Ax(e),t)}function EZe(e,t,n){const r=n.docs.get(t._key),i=new sae(e);return new iae(e,i,t._key,r,new hg(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(i){r0=i})(uh),kl(new Au("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new mv(new bQe(r.getProvider("auth-internal")),new SQe(r.getProvider("app-check-internal")),function(l,c){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new tt(xe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new i_(l.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ta(IV,"4.4.0",t),Ta(IV,"4.4.0","esm2017")})();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR=new Map,oae={activated:!1,tokenObservers:[]},wZe={initialized:!1,enabled:!1};function ei(e){return jR.get(e)||Object.assign({},oae)}function TZe(e,t){return jR.set(e,t),jR.get(e)}function Ox(){return wZe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aae="https://content-firebaseappcheck.googleapis.com/v1",SZe="exchangeRecaptchaV3Token",IZe="exchangeDebugToken",i7={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},xZe=24*60*60*1e3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CZe{constructor(t,n,r,i,s){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(t){this.stop();try{this.pending=new Hy,await AZe(this.getNextRun(t)),this.pending.resolve(),await this.pending.promise,this.pending=new Hy,await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function AZe(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OZe={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},$s=new Zm("appCheck","AppCheck",OZe);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s7(e=!1){var t;return e?(t=self.grecaptcha)===null||t===void 0?void 0:t.enterprise:self.grecaptcha}function U6(e){if(!ei(e).activated)throw $s.create("use-before-activation",{appName:e.name})}function uae(e){const t=Math.round(e/1e3),n=Math.floor(t/(3600*24)),r=Math.floor((t-n*3600*24)/3600),i=Math.floor((t-n*3600*24-r*3600)/60),s=t-n*3600*24-r*3600-i*60;let o="";return n&&(o+=N1(n)+"d:"),r&&(o+=N1(r)+"h:"),o+=N1(i)+"m:"+N1(s)+"s",o}function N1(e){return e===0?"00":e>=10?e.toString():"0"+e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V6({url:e,body:t},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const f=await i.getHeartbeatsHeader();f&&(r["X-Firebase-Client"]=f)}const s={method:"POST",body:JSON.stringify(t),headers:r};let o;try{o=await fetch(e,s)}catch(f){throw $s.create("fetch-network-error",{originalErrorMessage:f==null?void 0:f.message})}if(o.status!==200)throw $s.create("fetch-status-error",{httpStatus:o.status});let a;try{a=await o.json()}catch(f){throw $s.create("fetch-parse-error",{originalErrorMessage:f==null?void 0:f.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw $s.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=Number(u[1])*1e3,c=Date.now();return{token:a.token,expireTimeMillis:c+l,issuedAtTimeMillis:c}}function PZe(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${aae}/projects/${n}/apps/${r}:${SZe}?key=${i}`,body:{recaptcha_v3_token:t}}}function lae(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${aae}/projects/${n}/apps/${r}:${IZe}?key=${i}`,body:{debug_token:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RZe="firebase-app-check-database",NZe=1,u_="firebase-app-check-store",cae="debug-token";let k1=null;function fae(){return k1||(k1=new Promise((e,t)=>{try{const n=indexedDB.open(RZe,NZe);n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{var i;t($s.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(u_,{keyPath:"compositeKey"})}}}catch(n){t($s.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),k1)}function kZe(e){return hae(pae(e))}function DZe(e,t){return dae(pae(e),t)}function $Ze(e){return dae(cae,e)}function LZe(){return hae(cae)}async function dae(e,t){const r=(await fae()).transaction(u_,"readwrite"),s=r.objectStore(u_).put({compositeKey:e,value:t});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var l;a($s.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})}async function hae(e){const n=(await fae()).transaction(u_,"readonly"),i=n.objectStore(u_).get(e);return new Promise((s,o)=>{i.onsuccess=a=>{const u=a.target.result;s(u?u.value:void 0)},n.onerror=a=>{var u;o($s.create("storage-get",{originalErrorMessage:(u=a.target.error)===null||u===void 0?void 0:u.message}))}})}function pae(e){return`${e.options.appId}-${e.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_=new tx("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MZe(e){if(F3()){let t;try{t=await kZe(e)}catch(n){l_.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return t}}function _O(e,t){return F3()?DZe(e,t).catch(n=>{l_.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}async function FZe(){let e;try{e=await LZe()}catch{}if(e)return e;{const t=Uqe();return $Ze(t).catch(n=>l_.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z6(){return Ox().enabled}async function H6(){const e=Ox();if(e.enabled&&e.token)return e.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}function BZe(){const e=mie(),t=Ox();if(t.initialized=!0,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&e.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;t.enabled=!0;const n=new Hy;t.token=n,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(FZe())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jZe={error:"UNKNOWN_ERROR"};function UZe(e){return L3.encodeString(JSON.stringify(e),!1)}async function UR(e,t=!1){const n=e.app;U6(n);const r=ei(n);let i=r.token,s;if(i&&!sp(i)&&(r.token=void 0,i=void 0),!i){const u=await r.cachedTokenPromise;u&&(sp(u)?i=u:await _O(n,void 0))}if(!t&&i&&sp(i))return{token:i.token};let o=!1;if(z6()){r.exchangeTokenPromise||(r.exchangeTokenPromise=V6(lae(n,await H6()),e.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=await r.exchangeTokenPromise;return await _O(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=await ei(n).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"?l_.warn(u.message):l_.error(u),s=u}let a;return i?s?sp(i)?a={token:i.token,internalError:s}:a=a7(s):(a={token:i.token},r.token=i,await _O(n,i)):a=a7(s),o&&yae(n,a),a}async function VZe(e){const t=e.app;U6(t);const{provider:n}=ei(t);if(z6()){const r=await H6(),{token:i}=await V6(lae(t,r),e.heartbeatServiceProvider);return{token:i}}else{const{token:r}=await n.getToken();return{token:r}}}function mae(e,t,n,r){const{app:i}=e,s=ei(i),o={next:n,error:r,type:t};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&sp(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),o7(e)}).catch(()=>{})}s.cachedTokenPromise.then(()=>o7(e))}function gae(e,t){const n=ei(e),r=n.tokenObservers.filter(i=>i.next!==t);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function o7(e){const{app:t}=e,n=ei(t);let r=n.tokenRefresher;r||(r=zZe(e),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function zZe(e){const{app:t}=e;return new CZe(async()=>{const n=ei(t);let r;if(n.token?r=await UR(e,!0):r=await UR(e),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{const n=ei(t);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},i7.RETRIAL_MIN_WAIT,i7.RETRIAL_MAX_WAIT)}function yae(e,t){const n=ei(e).tokenObservers;for(const r of n)try{r.type==="EXTERNAL"&&t.error!=null?r.error(t.error):r.next(t)}catch{}}function sp(e){return e.expireTimeMillis-Date.now()>0}function a7(e){return{token:UZe(jZe),error:e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HZe{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:t}=ei(this.app);for(const n of t)gae(this.app,n.next);return Promise.resolve()}}function WZe(e,t){return new HZe(e,t)}function qZe(e){return{getToken:t=>UR(e,t),getLimitedUseToken:()=>VZe(e),addTokenListener:t=>mae(e,"INTERNAL",t),removeTokenListener:t=>gae(e.app,t)}}const GZe="@firebase/app-check",YZe="0.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KZe="https://www.google.com/recaptcha/api.js";function QZe(e,t){const n=new Hy,r=ei(e);r.reCAPTCHAState={initialized:n};const i=XZe(e),s=s7(!1);return s?u7(e,t,s,i,n):eet(()=>{const o=s7(!1);if(!o)throw new Error("no recaptcha");u7(e,t,o,i,n)}),n.promise}function u7(e,t,n,r,i){n.ready(()=>{ZZe(e,t,n,r),i.resolve(n)})}function XZe(e){const t=`fire_app_check_${e.name}`,n=document.createElement("div");return n.id=t,n.style.display="none",document.body.appendChild(n),t}async function JZe(e){U6(e);const n=await ei(e).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const s=ei(e).reCAPTCHAState;n.ready(()=>{r(n.execute(s.widgetId,{action:"fire_app_check"}))})})}function ZZe(e,t,n,r){const i=n.render(r,{sitekey:t,size:"invisible",callback:()=>{ei(e).reCAPTCHAState.succeeded=!0},"error-callback":()=>{ei(e).reCAPTCHAState.succeeded=!1}}),s=ei(e);s.reCAPTCHAState=Object.assign(Object.assign({},s.reCAPTCHAState),{widgetId:i})}function eet(e){const t=document.createElement("script");t.src=KZe,t.onload=e,document.head.appendChild(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{constructor(t){this._siteKey=t,this._throttleData=null}async getToken(){var t,n,r;net(this._throttleData);const i=await JZe(this._app).catch(o=>{throw $s.create("recaptcha-error")});if(!(!((t=ei(this._app).reCAPTCHAState)===null||t===void 0)&&t.succeeded))throw $s.create("recaptcha-error");let s;try{s=await V6(PZe(this._app,i),this._heartbeatServiceProvider)}catch(o){throw!((n=o.code)===null||n===void 0)&&n.includes("fetch-status-error")?(this._throttleData=tet(Number((r=o.customData)===null||r===void 0?void 0:r.httpStatus),this._throttleData),$s.create("throttled",{time:uae(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):o}return this._throttleData=null,s}initialize(t){this._app=t,this._heartbeatServiceProvider=e0(t,"heartbeat"),QZe(t,this._siteKey).catch(()=>{})}isEqual(t){return t instanceof W6?this._siteKey===t._siteKey:!1}}function tet(e,t){if(e===404||e===403)return{backoffCount:1,allowRequestsAfter:Date.now()+xZe,httpStatus:e};{const n=t?t.backoffCount:0,r=qqe(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:e}}}function net(e){if(e&&Date.now()-e.allowRequestsAfter<=0)throw $s.create("throttled",{time:uae(e.allowRequestsAfter-Date.now()),httpStatus:e.httpStatus})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ret(e=j3(),t){e=Zi(e);const n=e0(e,"app-check");if(Ox().initialized||BZe(),z6()&&H6().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(s.isTokenAutoRefreshEnabled===t.isTokenAutoRefreshEnabled&&s.provider.isEqual(t.provider))return i;throw $s.create("already-initialized",{appName:e.name})}const r=n.initialize({options:t});return iet(e,t.provider,t.isTokenAutoRefreshEnabled),ei(e).isTokenAutoRefreshEnabled&&mae(r,"INTERNAL",()=>{}),r}function iet(e,t,n){const r=TZe(e,Object.assign({},oae));r.activated=!0,r.provider=t,r.cachedTokenPromise=MZe(e).then(i=>(i&&sp(i)&&(r.token=i,yae(e,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=n===void 0?e.automaticDataCollectionEnabled:n,r.provider.initialize(e)}const set="app-check",l7="app-check-internal";function oet(){kl(new Au(set,e=>{const t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return WZe(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(l7).initialize()})),kl(new Au(l7,e=>{const t=e.getProvider("app-check").getImmediate();return qZe(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),Ta(GZe,YZe)}oet();function _ae(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const aet=_ae,vae=new Zm("auth","Firebase",_ae());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT=new tx("@firebase/auth");function uet(e,...t){JT.logLevel<=nn.WARN&&JT.warn(`Auth (${uh}): ${e}`,...t)}function Eb(e,...t){JT.logLevel<=nn.ERROR&&JT.error(`Auth (${uh}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ml(e,...t){throw q6(e,...t)}function vu(e,...t){return q6(e,...t)}function cet(e,t,n){const r=Object.assign(Object.assign({},aet()),{[t]:n});return new Zm("auth","Firebase",r).create(t,{appName:e.name})}function q6(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return vae.create(e,...t)}function xt(e,t,...n){if(!e)throw q6(t,...n)}function il(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Eb(t),new Error(t)}function Fl(e,t){e||il(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VR(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function fet(){return c7()==="http:"||c7()==="https:"}function c7(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function det(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fet()||Pqe()||"connection"in navigator)?navigator.onLine:!0}function het(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(t,n){this.shortDelay=t,this.longDelay=n,Fl(n>t,"Short delay should be less than long delay!"),this.isMobile=Oqe()||Rqe()}get(){return det()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G6(e,t){Fl(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bae{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;il("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;il("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;il("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pet={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const met=new gv(3e4,6e4);function Px(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function a0(e,t,n,r,i={}){return Eae(e,i,async()=>{let s={},o={};r&&(t==="GET"?o=r:s={body:JSON.stringify(r)});const a=Z_(Object.assign({key:e.config.apiKey},o)).slice(1),u=await e._getAdditionalHeaders();return u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode),bae.fetch()(Tae(e,e.config.apiHost,n,a),Object.assign({method:t,headers:u,referrerPolicy:"no-referrer"},s))})}async function Eae(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},pet),t);try{const i=new get(e),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw D1(e,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw D1(e,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw D1(e,"email-already-in-use",o);if(u==="USER_DISABLED")throw D1(e,"user-disabled",o);const c=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw cet(e,c,l);Ml(e,c)}}catch(i){if(i instanceof Mu)throw i;Ml(e,"network-request-failed",{message:String(i)})}}async function wae(e,t,n,r,i={}){const s=await a0(e,t,n,r,i);return"mfaPendingCredential"in s&&Ml(e,"multi-factor-auth-required",{_serverResponse:s}),s}function Tae(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?G6(e.config,i):`${e.config.apiScheme}://${i}`}class get{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(vu(this.auth,"network-request-failed")),met.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function D1(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=vu(e,t,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yet(e,t){return a0(e,"POST","/v1/accounts:delete",t)}async function _et(e,t){return a0(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xg(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function vet(e,t=!1){const n=Zi(e),r=await n.getIdToken(t),i=Y6(r);xt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Xg(vO(i.auth_time)),issuedAtTime:Xg(vO(i.iat)),expirationTime:Xg(vO(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function vO(e){return Number(e)*1e3}function Y6(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return Eb("JWT malformed, contained fewer than 3 sections"),null;try{const i=pie(n);return i?JSON.parse(i):(Eb("Failed to decode base64 JWT payload"),null)}catch(i){return Eb("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function bet(e){const t=Y6(e);return xt(t,"internal-error"),xt(typeof t.exp<"u","internal-error"),xt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c_(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof Mu&&Eet(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function Eet({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wet{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sae{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xg(this.lastLoginAt),this.creationTime=Xg(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZT(e){var t;const n=e.auth,r=await e.getIdToken(),i=await c_(e,_et(n,{idToken:r}));xt(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?xet(s.providerUserInfo):[],a=Iet(e.providerData,o),u=e.isAnonymous,l=!(e.email&&s.passwordHash)&&!(a!=null&&a.length),c=u?l:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Sae(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(e,f)}async function Tet(e){const t=Zi(e);await ZT(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Iet(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function xet(e){return e.map(t=>{var{providerId:n}=t,r=l$(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cet(e,t){const n=await Eae(e,{},async()=>{const r=Z_({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=e.config,o=Tae(e,i,"/v1/token",`key=${s}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",bae.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Aet(e,t){return a0(e,"POST","/v2/accounts:revokeToken",Px(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){xt(t.idToken,"internal-error"),xt(typeof t.idToken<"u","internal-error"),xt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):bet(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}async getToken(t,n=!1){return xt(!this.accessToken||this.refreshToken,t,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Cet(t,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new f_;return r&&(xt(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),i&&(xt(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),s&&(xt(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new f_,this.toJSON())}_performRefresh(){return il("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nc(e,t){xt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Td{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,s=l$(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wet(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Sae(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await c_(this,this.stsTokenManager.getToken(this.auth,t));return xt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return vet(this,t)}reload(){return Tet(this)}_assign(t){this!==t&&(xt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Td(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){xt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await ZT(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await c_(this,yet(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,s,o,a,u,l,c;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,h=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,g=(l=n.createdAt)!==null&&l!==void 0?l:void 0,_=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:b,emailVerified:T,isAnonymous:I,providerData:E,stsTokenManager:S}=n;xt(b&&S,t,"internal-error");const A=f_.fromJSON(this.name,S);xt(typeof b=="string",t,"internal-error"),nc(f,t.name),nc(d,t.name),xt(typeof T=="boolean",t,"internal-error"),xt(typeof I=="boolean",t,"internal-error"),nc(h,t.name),nc(p,t.name),nc(m,t.name),nc(y,t.name),nc(g,t.name),nc(_,t.name);const L=new Td({uid:b,auth:t,email:d,emailVerified:T,displayName:f,isAnonymous:I,photoURL:p,phoneNumber:h,tenantId:m,stsTokenManager:A,createdAt:g,lastLoginAt:_});return E&&Array.isArray(E)&&(L.providerData=E.map(W=>Object.assign({},W))),y&&(L._redirectEventId=y),L}static async _fromIdTokenResponse(t,n,r=!1){const i=new f_;i.updateFromServerResponse(n);const s=new Td({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await ZT(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f7=new Map;function sl(e){Fl(e instanceof Function,"Expected a class definition");let t=f7.get(e);return t?(Fl(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,f7.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iae{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}Iae.type="NONE";const d7=Iae;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb(e,t,n){return`firebase:${e}:${t}:${n}`}class Dp{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=wb(this.userKey,i.apiKey,s),this.fullPersistenceKey=wb("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Td._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new Dp(sl(d7),t,r);const i=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let s=i[0]||sl(d7);const o=wb(r,t.config.apiKey,t.name);let a=null;for(const l of n)try{const c=await l._get(o);if(c){const f=Td._fromJSON(t,c);l!==s&&(a=f),s=l;break}}catch{}const u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Dp(s,t,r):(s=u[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==s)try{await l._remove(o)}catch{}})),new Dp(s,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h7(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Aae(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(xae(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Pae(t))return"Blackberry";if(Rae(t))return"Webos";if(K6(t))return"Safari";if((t.includes("chrome/")||Cae(t))&&!t.includes("edge/"))return"Chrome";if(Oae(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function xae(e=Ji()){return/firefox\//i.test(e)}function K6(e=Ji()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Cae(e=Ji()){return/crios\//i.test(e)}function Aae(e=Ji()){return/iemobile/i.test(e)}function Oae(e=Ji()){return/android/i.test(e)}function Pae(e=Ji()){return/blackberry/i.test(e)}function Rae(e=Ji()){return/webos/i.test(e)}function Rx(e=Ji()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Oet(e=Ji()){var t;return Rx(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function Pet(){return Nqe()&&document.documentMode===10}function Nae(e=Ji()){return Rx(e)||Oae(e)||Rae(e)||Pae(e)||/windows phone/i.test(e)||Aae(e)}function Ret(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kae(e,t=[]){let n;switch(e){case"Browser":n=h7(Ji());break;case"Worker":n=`${h7(Ji())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${uh}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Net{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=s=>new Promise((o,a)=>{try{const u=t(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ket(e,t={}){return a0(e,"GET","/v2/passwordPolicy",Px(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Det=6;class $et{constructor(t){var n,r,i,s;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Det,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,i,s,o,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,u),this.validatePasswordCharacterOptions(t,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Let{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new p7(this),this.idTokenSubscription=new p7(this),this.beforeStateQueue=new Net(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vae,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=sl(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Dp.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(t);(!o||o===a)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return xt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await ZT(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=het()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const n=t?Zi(t):null;return n&&xt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&xt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(sl(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await ket(this),n=new $et(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Zm("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Aet(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&sl(t)||this._popupRedirectResolver;xt(n,this,"argument-error"),this.redirectPersistenceManager=await Dp.create(this,[sl(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(xt(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=t.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=t.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return xt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=kae(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&uet(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Nx(e){return Zi(e)}class p7{constructor(t){this.auth=t,this.observer=null,this.addObserver=Fqe(n=>this.observer=n)}get next(){return xt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Met(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}function Fet(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const s=vu("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Met().appendChild(r)})}function Bet(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jet(e,t){const n=e0(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Wy(s,t??{}))return i;Ml(i,"already-initialized")}return n.initialize({options:t})}function Uet(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(sl);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function Vet(e,t,n){const r=Nx(e);xt(r._canInitEmulator,r,"emulator-config-failed"),xt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=Dae(t),{host:o,port:a}=zet(t),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Het()}function Dae(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function zet(e){const t=Dae(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:m7(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:m7(o)}}}function m7(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function Het(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ae{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return il("not implemented")}_getIdTokenResponse(t){return il("not implemented")}_linkToIdToken(t,n){return il("not implemented")}_getReauthenticationResolver(t){return il("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $p(e,t){return wae(e,"POST","/v1/accounts:signInWithIdp",Px(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wet="http://localhost";class Wd extends $ae{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Wd(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Ml("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i}=n,s=l$(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Wd(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return $p(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,$p(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,$p(t,n)}buildRequest(){const t={requestUri:Wet,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Z_(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lae{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv extends Lae{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc extends yv{constructor(){super("facebook.com")}static credential(t){return Wd._fromParams({providerId:yc.PROVIDER_ID,signInMethod:yc.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return yc.credentialFromTaggedObject(t)}static credentialFromError(t){return yc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return yc.credential(t.oauthAccessToken)}catch{return null}}}yc.FACEBOOK_SIGN_IN_METHOD="facebook.com";yc.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c extends yv{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Wd._fromParams({providerId:_c.PROVIDER_ID,signInMethod:_c.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return _c.credentialFromTaggedObject(t)}static credentialFromError(t){return _c.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return _c.credential(n,r)}catch{return null}}}_c.GOOGLE_SIGN_IN_METHOD="google.com";_c.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc extends yv{constructor(){super("github.com")}static credential(t){return Wd._fromParams({providerId:vc.PROVIDER_ID,signInMethod:vc.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return vc.credentialFromTaggedObject(t)}static credentialFromError(t){return vc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return vc.credential(t.oauthAccessToken)}catch{return null}}}vc.GITHUB_SIGN_IN_METHOD="github.com";vc.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc extends yv{constructor(){super("twitter.com")}static credential(t,n){return Wd._fromParams({providerId:bc.PROVIDER_ID,signInMethod:bc.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return bc.credentialFromTaggedObject(t)}static credentialFromError(t){return bc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return bc.credential(n,r)}catch{return null}}}bc.TWITTER_SIGN_IN_METHOD="twitter.com";bc.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qet(e,t){return wae(e,"POST","/v1/accounts:signUp",Px(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const s=await Td._fromIdTokenResponse(t,r,i),o=g7(r);return new pf({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=g7(r);return new pf({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function g7(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Get(e){var t;const n=Nx(e);if(await n._initializationPromise,!((t=n.currentUser)===null||t===void 0)&&t.isAnonymous)return new pf({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await qet(n,{returnSecureToken:!0}),i=await pf._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS extends Mu{constructor(t,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,eS.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new eS(t,n,r,i)}}function Mae(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?eS._fromErrorAndOperation(e,s,t,r):s})}async function Yet(e,t,n=!1){const r=await c_(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return pf._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ket(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const s=await c_(e,Mae(r,i,t,e),n);xt(s.idToken,r,"internal-error");const o=Y6(s.idToken);xt(o,r,"internal-error");const{sub:a}=o;return xt(e.uid===a,r,"user-mismatch"),pf._forOperation(e,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ml(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qet(e,t,n=!1){const r="signIn",i=await Mae(e,r,t),s=await pf._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}function Xet(e,t,n,r){return Zi(e).onIdTokenChanged(t,n,r)}function Jet(e,t,n){return Zi(e).beforeAuthStateChanged(t,n)}const tS="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fae{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(tS,"1"),this.storage.removeItem(tS),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zet(){const e=Ji();return K6(e)||Rx(e)}const ett=1e3,ttt=10;class Bae extends Fae{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Zet()&&Ret(),this.fallbackToPolling=Nae(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(t.newValue!==o)t.newValue!==null?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);Pet()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,ttt):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},ett)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}Bae.type="LOCAL";const ntt=Bae;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jae extends Fae{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}jae.type="SESSION";const Uae=jae;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rtt(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new kx(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async l=>l(n.origin,s)),u=await rtt(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}kx.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q6(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class itt{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{const l=Q6("",20);i.port1.start();const c=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const d=f;if(d.data.eventId===l)switch(d.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(d.data.response);break;default:clearTimeout(c),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(){return window}function stt(e){bu().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vae(){return typeof bu().WorkerGlobalScope<"u"&&typeof bu().importScripts=="function"}async function ott(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function att(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function utt(){return Vae()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zae="firebaseLocalStorageDb",ltt=1,nS="firebaseLocalStorage",Hae="fbase_key";class _v{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Dx(e,t){return e.transaction([nS],t?"readwrite":"readonly").objectStore(nS)}function ctt(){const e=indexedDB.deleteDatabase(zae);return new _v(e).toPromise()}function zR(){const e=indexedDB.open(zae,ltt);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(nS,{keyPath:Hae})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(nS)?t(r):(r.close(),await ctt(),t(await zR()))})})}async function y7(e,t,n){const r=Dx(e,!0).put({[Hae]:t,value:n});return new _v(r).toPromise()}async function ftt(e,t){const n=Dx(e,!1).get(t),r=await new _v(n).toPromise();return r===void 0?null:r.value}function _7(e,t){const n=Dx(e,!0).delete(t);return new _v(n).toPromise()}const dtt=800,htt=3;class Wae{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zR(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>htt)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Vae()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kx._getInstance(utt()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await ott(),!this.activeServiceWorker)return;this.sender=new itt(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||att()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await zR();return await y7(t,tS,"1"),await _7(t,tS),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>y7(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>ftt(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>_7(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const s=Dx(i,!1).getAll();return new _v(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),dtt)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Wae.type="LOCAL";const ptt=Wae;new gv(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mtt(e,t){return t?sl(t):(xt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6 extends $ae{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return $p(t,this._buildIdpRequest())}_linkToIdToken(t,n){return $p(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return $p(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function gtt(e){return Qet(e.auth,new X6(e),e.bypassAuthState)}function ytt(e){const{auth:t,user:n}=e;return xt(n,t,"internal-error"),Ket(n,new X6(e),e.bypassAuthState)}async function _tt(e){const{auth:t,user:n}=e;return xt(n,t,"internal-error"),Yet(n,new X6(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qae{constructor(t,n,r,i,s=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=t;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(l){this.reject(l)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return gtt;case"linkViaPopup":case"linkViaRedirect":return _tt;case"reauthViaPopup":case"reauthViaRedirect":return ytt;default:Ml(this.auth,"internal-error")}}resolve(t){Fl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Fl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vtt=new gv(2e3,1e4);class op extends qae{constructor(t,n,r,i,s){super(t,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,op.currentPopupAction&&op.currentPopupAction.cancel(),op.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return xt(t,this.auth,"internal-error"),t}async onExecution(){Fl(this.filter.length===1,"Popup operations only handle one event");const t=Q6();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(vu(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(vu(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,op.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vu(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,vtt.get())};t()}}op.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const btt="pendingRedirect",Tb=new Map;class Ett extends qae{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=Tb.get(this.auth._key());if(!t){try{const r=await wtt(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}Tb.set(this.auth._key(),t)}return this.bypassAuthState||Tb.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function wtt(e,t){const n=Itt(t),r=Stt(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Ttt(e,t){Tb.set(e._key(),t)}function Stt(e){return sl(e._redirectPersistence)}function Itt(e){return wb(btt,e.config.apiKey,e.name)}async function xtt(e,t,n=!1){const r=Nx(e),i=mtt(r,t),o=await new Ett(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ctt=10*60*1e3;class Att{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Ott(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!Gae(t)){const i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(vu(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Ctt&&this.cachedEventUids.clear(),this.cachedEventUids.has(v7(t))}saveEventToCache(t){this.cachedEventUids.add(v7(t)),this.lastProcessedEventTime=Date.now()}}function v7(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function Gae({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function Ott(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Gae(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ptt(e,t={}){return a0(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rtt=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ntt=/^https?/;async function ktt(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Ptt(e);for(const n of t)try{if(Dtt(n))return}catch{}Ml(e,"unauthorized-domain")}function Dtt(e){const t=VR(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Ntt.test(n))return!1;if(Rtt.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $tt=new gv(3e4,6e4);function b7(){const e=bu().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function Ltt(e){return new Promise((t,n)=>{var r,i,s;function o(){b7(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{b7(),n(vu(e,"network-request-failed"))},timeout:$tt.get()})}if(!((i=(r=bu().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((s=bu().gapi)===null||s===void 0)&&s.load)o();else{const a=Bet("iframefcb");return bu()[a]=()=>{gapi.load?o():n(vu(e,"network-request-failed"))},Fet(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}}).catch(t=>{throw Sb=null,t})}let Sb=null;function Mtt(e){return Sb=Sb||Ltt(e),Sb}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ftt=new gv(5e3,15e3),Btt="__/auth/iframe",jtt="emulator/auth/iframe",Utt={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Vtt=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ztt(e){const t=e.config;xt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?G6(t,jtt):`https://${e.config.authDomain}/${Btt}`,r={apiKey:t.apiKey,appName:e.name,v:uh},i=Vtt.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Z_(r).slice(1)}`}async function Htt(e){const t=await Mtt(e),n=bu().gapi;return xt(n,e,"internal-error"),t.open({where:document.body,url:ztt(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Utt,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=vu(e,"network-request-failed"),a=bu().setTimeout(()=>{s(o)},Ftt.get());function u(){bu().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wtt={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qtt=500,Gtt=600,Ytt="_blank",Ktt="http://localhost";class E7{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Qtt(e,t,n,r=qtt,i=Gtt){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},Wtt),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Ji().toLowerCase();n&&(a=Cae(l)?Ytt:n),xae(l)&&(t=t||Ktt,u.scrollbars="yes");const c=Object.entries(u).reduce((d,[h,p])=>`${d}${h}=${p},`,"");if(Oet(l)&&a!=="_self")return Xtt(t||"",a),new E7(null);const f=window.open(t||"",a,c);xt(f,e,"popup-blocked");try{f.focus()}catch{}return new E7(f)}function Xtt(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jtt="__/auth/handler",Ztt="emulator/auth/handler",ent=encodeURIComponent("fac");async function w7(e,t,n,r,i,s){xt(e.config.authDomain,e,"auth-domain-config-required"),xt(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:uh,eventId:i};if(t instanceof Lae){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",Mqe(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[c,f]of Object.entries(s||{}))o[c]=f}if(t instanceof yv){const c=t.getScopes().filter(f=>f!=="");c.length>0&&(o.scopes=c.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const u=await e._getAppCheckToken(),l=u?`#${ent}=${encodeURIComponent(u)}`:"";return`${tnt(e)}?${Z_(a).slice(1)}${l}`}function tnt({config:e}){return e.emulator?G6(e,Ztt):`https://${e.authDomain}/${Jtt}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO="webStorageSupport";class nnt{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Uae,this._completeRedirectFn=xtt,this._overrideRedirectResult=Ttt}async _openPopup(t,n,r,i){var s;Fl((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await w7(t,n,r,VR(),i);return Qtt(t,o,Q6())}async _openRedirect(t,n,r,i){await this._originValidation(t);const s=await w7(t,n,r,VR(),i);return stt(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Fl(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await Htt(t),r=new Att(t);return n.register("authEvent",i=>(xt(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(bO,{type:bO},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[bO];o!==void 0&&n(!!o),Ml(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ktt(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return Nae()||K6()||Rx()}}const rnt=nnt;var T7="@firebase/auth",S7="1.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class int{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){xt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function snt(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function ont(e){kl(new Au("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;xt(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kae(e)},l=new Let(r,i,s,u);return Uet(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),kl(new Au("auth-internal",t=>{const n=Nx(t.getProvider("auth").getImmediate());return(r=>new int(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ta(T7,S7,snt(e)),Ta(T7,S7,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ant=5*60,unt=_ie("authIdTokenMaxAge")||ant;let I7=null;const lnt=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>unt)return;const i=n==null?void 0:n.token;I7!==i&&(I7=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function cnt(e=j3()){const t=e0(e,"auth");if(t.isInitialized())return t.getImmediate();const n=jet(e,{popupRedirectResolver:rnt,persistence:[ptt,ntt,Uae]}),r=_ie("authTokenSyncURL");if(r){const s=lnt(r);Jet(n,s,()=>s(n.currentUser)),Xet(n,o=>s(o))}const i=gie("auth");return i&&Vet(n,`http://${i}`),n}ont("Browser");class fnt extends cie{constructor(){super("firebase");qs(this,"RECAPTCHAV3TOKEN","6Ldz_WQpAAAAAITx1qzoXnBDQMP8Zpub5MVyMl0k");qs(this,"firestore");qs(this,"collectionPrefix","prod-");qs(this,"studyCollection");qs(this,"studyId","");qs(this,"localForage",die.createInstance({name:"currentParticipantId"}));qs(this,"localProvenanceCopy",{});qs(this,"localWindowEvents",{});const n=Ak.parse(`
{
  apiKey: "AIzaSyBWe6l3RbrOhakYL3k4vVId26UCKVIOX0U",
  authDomain: "viz-guardrails.firebaseapp.com",
  projectId: "viz-guardrails",
  storageBucket: "viz-guardrails.appspot.com",
  messagingSenderId: "975745336400",
  appId: "1:975745336400:web:e7607abb512ff88d36bd55",
  measurementId: "G-6KWR7L44G0"
}
`),r=Eie(n);this.firestore=rZe(r,{});try{ret(r,{provider:new W6(this.RECAPTCHAV3TOKEN),isTokenAutoRefreshEnabled:!1})}catch{console.warn("Failed to initialize Firebase App Check")}}async connect(){try{const n=cnt();if(await Get(n),!n.currentUser)throw new Error("Login failed with firebase");await iZe(this.firestore);const r=await Fu(this.firestore,".info/connected");await q0(r),this.connected=!0}catch{console.warn("Failed to connect to Firebase")}}async initializeStudyDb(n,r){this.studyCollection=tZe(this.firestore,`${this.collectionPrefix}${n}`),this.studyId=n;const i=Fu(this.studyCollection,"config");return await G0(i,r)}async initializeParticipantSession(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");if(await this.getCurrentParticipantId(),!this.currentParticipantId)throw new Error("Participant not initialized");const n=Fu(this.studyCollection,this.currentParticipantId),r=(await q0(n)).data();if(this.localProvenanceCopy=await this._getFromFirebaseStorage(this.currentParticipantId,"provenance"),this.localWindowEvents=await this._getFromFirebaseStorage(this.currentParticipantId,"windowEvents"),Object.entries(this.localWindowEvents).forEach(([i,s])=>{r!==null&&(s===void 0||s.length===0?r.answers[i].windowEvents=[]:r.answers[i].windowEvents=s)}),r)return r;{const i={participantId:this.currentParticipantId,sequence:await this.getSequence(),answers:{}};return await G0(n,i),i}}async getCurrentParticipantId(){const n=await this.localForage.getItem("currentParticipantId");if(n)return this.currentParticipantId=n,n;{if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const r=Fu(this.studyCollection);return this.currentParticipantId=r.id,await this.localForage.setItem("currentParticipantId",this.currentParticipantId),this.currentParticipantId}}async clearCurrentParticipantId(){return await this.localForage.removeItem("currentParticipantId")}async saveAnswer(n,r){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");if(!this.currentParticipantId)throw new Error("Participant not initialized");const i=Fu(this.studyCollection,this.currentParticipantId),s={answer:r.answer,startTime:r.startTime,endTime:r.endTime};await G0(i,{answers:{[n]:s}},{merge:!0}),r.provenanceGraph&&(this.localProvenanceCopy[n]=r.provenanceGraph,await this._pushToFirebaseStorage("provenance")),this.localWindowEvents[n]=r.windowEvents,await this._pushToFirebaseStorage("windowEvents")}async setSequenceArray(n){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const r=n.map(o=>o.join(",")),i=Fu(this.studyCollection,"sequenceArray");return await G0(i,{sequenceArray:r})}async getSequenceArray(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=Fu(this.studyCollection,"sequenceArray"),r=(await q0(n)).data();return r===void 0?null:r.sequenceArray.map(i=>i.split(","))}async getSequence(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=await this.getSequenceArray();if(!n)throw new Error("Latin square not initialized");const r=n.pop();if(!r)throw new Error("Latin square is empty");return await this.setSequenceArray(n),r}async getAllParticipantsData(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=await vZe(this.studyCollection),r=[],i=n.docs.map(async s=>{if(s.id==="config"||s.id==="sequenceArray")return;const o=s.data(),a=await this._getFromFirebaseStorage(o.participantId,"provenance"),u=await this._getFromFirebaseStorage(o.participantId,"windowEvents");o.answers=Object.fromEntries(Object.entries(o.answers).map(([l,c])=>{if(c===void 0)return[l,c];const f=a[l],d=u[l];return[l,{...c,provenanceGraph:f,windowEvents:d}]})),r.push(o)});return await Promise.all(i),r}async getParticipantData(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");await this.getCurrentParticipantId();let n=null;if(this.currentParticipantId!==null){const r=Fu(this.studyCollection,this.currentParticipantId);if(n=(await q0(r)).data(),n!==null){const i=await this._getFromFirebaseStorage(this.currentParticipantId,"provenance"),s=await this._getFromFirebaseStorage(this.currentParticipantId,"windowEvents");Object.entries(n.answers).forEach(([o,a])=>{a!==void 0&&(a.provenanceGraph=i[o],a.windowEvents=s[o])})}}return n}async nextParticipant(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=Fu(this.studyCollection),r=n.id;await this.localForage.setItem("currentParticipantId",r),this.currentParticipantId=r;let i=null;if(this.currentParticipantId!==null&&(i=(await q0(n)).data()),!i){const s={participantId:r,sequence:await this.getSequence(),answers:{}};await G0(n,s),i=s}return i}async verifyCompletion(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=await this.getParticipantData();if(!n)throw new Error("Participant not initialized");return n.sequence.every(i=>i==="end"?!0:n.answers[i]!==void 0)}_verifyStudyDatabase(n){return n!==void 0}async _getFromFirebaseStorage(n,r){const i=cV(),s=lV(i,`${this.studyId}/${n}_${r}`);let o={};try{const a=await uKe(s),l=await(await fetch(a)).text();o=JSON.parse(l)}catch{console.warn(`Participant ${n} does not have ${r} for ${this.studyId}.`)}return o}async _pushToFirebaseStorage(n){const r=n==="provenance"?this.localProvenanceCopy:this.localWindowEvents;if(Object.keys(r).length>0){const i=cV(),s=lV(i,`${this.studyId}/${this.currentParticipantId}_${n}`),o=new Blob([JSON.stringify(r)],{type:"application/json"});await aKe(s,o)}}}async function dnt(){let e,t=!1;{const n=new fnt;await n.connect(),n.isConnected()?e=n:t=!0}if(t){const n=new bqe;await n.connect(),e=n}return e}function hnt(){const{storageEngine:e,setStorageEngine:t}=_f();return w.useEffect(()=>{if(e!==void 0)return;async function n(){const r=await dnt();t(r)}n()},[t,e]),$.jsx(pqe,{})}EO.createRoot(document.getElementById("root")).render($.jsx(k.StrictMode,{children:$.jsx(Ace,{children:$.jsx(hnt,{})})}));
